[{"tags": ["kotlin", "overriding", "navigation-drawer", "drawerlayout"], "owner": {"reputation": 11, "user_id": 11643761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ee81f4234d507f68998956c20dd7b3a?s=128&d=identicon&r=PG&f=1", "display_name": "SuperSynapse", "link": "https://stackoverflow.com/users/11643761/supersynapse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560985697, "creation_date": 1560985309, "last_edit_date": 1560985697, "question_id": 56676945, "link": "https://stackoverflow.com/questions/56676945/issue-overriding-ondraweropened-kotlin", "title": "Issue overriding onDrawerOpened() - Kotlin", "body": "<p>I'm working on a Kotlin coded app using the Navigation Drawer Layout with a list of items. When I open the drawer using the icon at the top left I want it to notifyDataSetChanged so that the list is updated from outside the MainActivity. This includes pressing the back button, swiping open the drawer, or clicking the stacked lines icon at the top left</p>\n\n<p>Here's a simplified version of my code, but it's essentially a Navagation Drawer Activity with a recyclerView for the context of my question:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    lateinit var drawerLayout: DrawerLayout\n    lateinit var navView: NavigationView\n    lateinit var toolbar: Toolbar\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    toolbar = findViewById(R.id.app_bar_toolbar)\n    setSupportActionBar(toolbar)\n\n    drawerLayout = findViewById(R.id.drawer_layout)\n    navView = nav_view\n    val toggle = ActionBarDrawerToggle(this, drawerLayout, toolbar, \n    R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n\n    drawerLayout.addDrawerListener(toggle)\n    toggle.syncState()\n    }\n</code></pre>\n\n<p>I've spent several hours trying anything I can, but primarily I can't get this to work:</p>\n\n<pre><code>override fun onDrawerOpen(view:View){\n    ... myAdapter.notifyDataSetChanged()\nsuper.onDrawerOpen(view)\n}\n</code></pre>\n\n<p>it gives me the hint \"overrides nothing\" or \"unused\", and if I try to add it to any of my code in onCreate it states \"Modifier 'override' not applicable to local function.</p>\n\n<p>What am I doing wrong? Is there a better way to notify a data change when the drawer is opened?</p>\n"}, {"tags": ["android", "mvvm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11672973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7219cf1ecf09393898c589cd3b3101?s=128&d=identicon&r=PG&f=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/11672973/itachi"}, "edited": false, "score": 0, "creation_date": 1560985989, "post_id": 56676969, "comment_id": 99920914, "body": "I forgot to mention that i also have bottom navigation view and it has 3 buttons (popular,discover,favorites). Each one shows their own fragments. And problem is when app first run, popularFragment shows and if i click discover button, discoverFragment shows and if rotation changes, popularFragment shows again. How to prevent that?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 35, "user_id": 11672973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7219cf1ecf09393898c589cd3b3101?s=128&d=identicon&r=PG&f=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/11672973/itachi"}, "edited": false, "score": 0, "creation_date": 1560986379, "post_id": 56676969, "comment_id": 99920990, "body": "@Itachi: If that has not already been covered in a Stack Overflow question, I recommend that you ask a separate question on that topic."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 0, "last_activity_date": 1560985412, "creation_date": 1560985412, "answer_id": 56676969, "question_id": 56676910, "link": "https://stackoverflow.com/questions/56676910/where-fragments-should-be-created-in-viewmodel-or-activity/56676969#56676969", "title": "Where fragments should be created? In viewModel or Activity?", "body": "<blockquote>\n  <p>I have created them in activity but whenever rotation changes it's all being recreated</p>\n</blockquote>\n\n<p>That is perfectly normal.</p>\n\n<blockquote>\n  <p>So how can i create them in viewModel</p>\n</blockquote>\n\n<p>You don't. You give the fragments their own <code>ViewModel</code>, and the <code>ViewModel</code> will be retained across the configuration change.</p>\n"}], "owner": {"reputation": 35, "user_id": 11672973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7219cf1ecf09393898c589cd3b3101?s=128&d=identicon&r=PG&f=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/11672973/itachi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 56676969, "answer_count": 1, "score": 1, "last_activity_date": 1560999474, "creation_date": 1560985028, "last_edit_date": 1560999474, "question_id": 56676910, "link": "https://stackoverflow.com/questions/56676910/where-fragments-should-be-created-in-viewmodel-or-activity", "title": "Where fragments should be created? In viewModel or Activity?", "body": "<p>I'm trying to learn MVVM pattern and I'm doing an example project with it. But I can't figure it out that fragments should be created in ViewModel or Activity.</p>\n\n<p>I have created them in activity but whenever rotation changes it's all being recreated. This is my code:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val navView: BottomNavigationView = findViewById(R.id.nav_view)\n\n        popularFragment = FragmentPopular()\n        discoverFragment = FragmentDiscover()\n        favoritesFragment = FragmentFavorites()\n\n        setFragment(popularFragment)\n\n        navView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)\n    }\n\n    fun setFragment(fragment: Fragment){\n        supportFragmentManager.beginTransaction().replace(R.id.frame_main, fragment).commit()\n    }\n</code></pre>\n\n<p>So how can I create them in ViewModel and whenever rotation changes fragments should stay the same.</p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-navigation"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1560986789, "post_id": 56676900, "comment_id": 99921064, "body": "This is something <a href=\"https://developer.android.com/guide/navigation/navigation-ui#top_app_bar\" rel=\"nofollow noreferrer\">NavigationUI&#39;s top app bar support</a> does for you. Is there a reason you aren&#39;t using that?"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1561022175, "creation_date": 1561022175, "answer_id": 56682736, "question_id": 56676900, "link": "https://stackoverflow.com/questions/56676900/use-jetpack-navigation-to-display-back-arrrow-in-the-action-bar/56682736#56682736", "title": "Use jetpack navigation to display back arrrow in the action bar", "body": "<p>You could use a combination of <a href=\"https://developer.android.com/reference/androidx/navigation/ui/NavigationUI.html#setupWithNavController(com.google.android.material.bottomnavigation.BottomNavigationView,%2520androidx.navigation.NavController)\" rel=\"nofollow noreferrer\"><code>setupWithNavController(BottomNavigationView,NavController)</code></a> and <a href=\"https://developer.android.com/reference/androidx/navigation/ui/NavigationUI.html#setupActionBarWithNavController(androidx.appcompat.app.AppCompatActivity,%2520androidx.navigation.NavController,%2520androidx.navigation.ui.AppBarConfiguration)\" rel=\"nofollow noreferrer\"><code>setupActionBarWithNavController(AppCompatActivity,NavController,AppBarConfiguration)</code></a> from <code>NavigationUI</code>. The first will bind the bottom navigation to the navigation controller, the second will set up the support action bar to regard the navigation.</p>\n\n<p>With the <a href=\"https://developer.android.com/reference/androidx/navigation/ui/AppBarConfiguration#getTopLevelDestinations()\" rel=\"nofollow noreferrer\"><code>AppBarConfiguration.getTopLevelDestinations()</code></a> you will be able to configure when to display the back arrow. The default is to only regard the root of the navigation graph as a top level destination, but you can also use another builder to define a set of top level destinations.</p>\n"}], "owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 56682736, "answer_count": 1, "score": 0, "last_activity_date": 1561022175, "creation_date": 1560984941, "question_id": 56676900, "link": "https://stackoverflow.com/questions/56676900/use-jetpack-navigation-to-display-back-arrrow-in-the-action-bar", "title": "Use jetpack navigation to display back arrrow in the action bar", "body": "<p>I have a jetpack navigation graph setup with bottom navigation and an action bar. The bottom navigation has 3 tabs. 1 of these tabs has a detailed fragment that I would like to display the back-arrow on in the action bar.</p>\n\n<p>In <code>MainActivity</code> <code>onCreate()</code>, I've added:</p>\n\n<pre><code>supportActionBar?.setDisplayHomeAsUpEnabled(true)\n</code></pre>\n\n<p>This displays the back button on every tab &amp; fragment.</p>\n\n<p><strong>How can I prevent display of the back button unless the user is navigated to a non-top level fragment?</strong> Is there a method that detects when this particular navigation has occured? If so, I presume I can do something like <code>supportActionBar?.setDisplayHomeAsUpEnabled(false)</code></p>\n\n<p>Additionally, is there a way I can display a custom back arrow on the child pages? The default arrow does not fit the UI. </p>\n\n<p>Happy to provide more detail if needed.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 1, "creation_date": 1560980918, "post_id": 56676341, "comment_id": 99919749, "body": "<a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html</a>"}, {"owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "edited": false, "score": 0, "creation_date": 1560980968, "post_id": 56676341, "comment_id": 99919766, "body": "Yes it is possible"}], "answers": [{"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": true, "score": 1, "last_activity_date": 1560983366, "creation_date": 1560983366, "answer_id": 56676686, "question_id": 56676341, "link": "https://stackoverflow.com/questions/56676341/possibility-of-using-java-methods-in-kotlin/56676686#56676686", "title": "Possibility of using java methods in kotlin", "body": "<p>Yes it is possible.</p>\n\n<p>For example:</p>\n\n<pre><code>public class MyJava{  \n    protected String value;  \n\n    public String getValue() {  \n        return value;  \n    }  \n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>fun main() {  \n   val myJava = MyJava()  \n   myJava.getValue()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1561013264, "creation_date": 1561013264, "answer_id": 56680449, "question_id": 56676341, "link": "https://stackoverflow.com/questions/56676341/possibility-of-using-java-methods-in-kotlin/56680449#56680449", "title": "Possibility of using java methods in kotlin", "body": "<p>You can create an instance of <code>EventCore</code> class and invoke its method:</p>\n\n<pre><code>val eventCore = EventCore(/*pass arguments, if present*/)\neventCore.setEvent(/*pass arguments, if present*/)\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10232965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-axoupwouvQI/AAAAAAAAAAI/AAAAAAAAAQY/69prOcIKlGg/photo.jpg?sz=128", "display_name": "Adrian Pop", "link": "https://stackoverflow.com/users/10232965/adrian-pop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 56676686, "answer_count": 2, "score": 1, "last_activity_date": 1561013264, "creation_date": 1560980885, "question_id": 56676341, "link": "https://stackoverflow.com/questions/56676341/possibility-of-using-java-methods-in-kotlin", "title": "Possibility of using java methods in kotlin", "body": "<p>I have method in java class that I need to use in kotlin. Is it possible? If so, how can I do this? \nmy java class is EventCore, method name is setEvent</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1560978454, "post_id": 56675697, "comment_id": 99918934, "body": "Have you checked the logcat for exception stack trace?"}, {"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1560979217, "post_id": 56675697, "comment_id": 99919191, "body": "@EpicPandaForce I have updated the question with it."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1560979384, "post_id": 56675697, "comment_id": 99919259, "body": "Sounds like <code>LinearLayout.LayoutParams(</code> should be <code>AbsListView.LayoutParams</code>?"}, {"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1560979724, "post_id": 56675697, "comment_id": 99919378, "body": "@EpicPandaForce yes it worked, you may post it as an answer if you like to"}], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560979065, "post_id": 56675875, "comment_id": 99919140, "body": "I don&#39;t know how to do that exactly, but I have tried to replace <code>LinearLayout(activity)</code> with <code>LinearLayout(context)</code> and also with <code>LinearLayout(container!!.context)</code>, but none of these changes helped."}], "tags": [], "owner": {"reputation": 889, "user_id": 3816129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0eb35c0b8dd1e54a39440bc9c6a37?s=128&d=identicon&r=PG", "display_name": "Dmytro Batyuk", "link": "https://stackoverflow.com/users/3816129/dmytro-batyuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1560978550, "creation_date": 1560978550, "answer_id": 56675875, "question_id": 56675697, "link": "https://stackoverflow.com/questions/56675697/prorammatically-created-layout-crashes-the-app-in-landscape-mode/56675875#56675875", "title": "Prorammatically created Layout crashes the app in landscape mode?", "body": "<p>Try to use context from container received in onCreateView instead of Activity when Instantiate LinearLayout</p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 1, "last_activity_date": 1560980277, "creation_date": 1560980277, "answer_id": 56676223, "question_id": 56675697, "link": "https://stackoverflow.com/questions/56675697/prorammatically-created-layout-crashes-the-app-in-landscape-mode/56676223#56676223", "title": "Prorammatically created Layout crashes the app in landscape mode?", "body": "<p>According to your stack trace,</p>\n\n<p><code>LinearLayout.LayoutParams(</code> should be <code>AbsListView.LayoutParams(</code></p>\n"}], "owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56676223, "answer_count": 2, "score": 0, "last_activity_date": 1560980277, "creation_date": 1560977662, "last_edit_date": 1560978741, "question_id": 56675697, "link": "https://stackoverflow.com/questions/56675697/prorammatically-created-layout-crashes-the-app-in-landscape-mode", "title": "Prorammatically created Layout crashes the app in landscape mode?", "body": "<p>I have set my layout to an <code>xml</code> which has <code>ExpandableListView</code> as root.\nSince, a scrollable view can't be put (or is very complex to put) inside another scrollable view, I have decided to put all the views I need alongside the <code>ExpandableListView</code> as its <code>headers</code> and <code>footers</code>.</p>\n\n<p>In my <code>header</code>, I have put 3-4 small <code>LinearLayouts</code> each having 1-2 <code>TextViews</code>.\nEverything works fine until here.</p>\n\n<p>Now, in my <code>footer</code>, I want to add a <code>ListView</code> like view, having about 3-4 <code>strings</code>. Because I do not know the size of list, I decided to make the view programmatically.</p>\n\n<p>When I include this view, the app stops working when:</p>\n\n<ol>\n<li>Orientation is changed from <code>Portrait</code> to <code>Landscape</code></li>\n<li>Layout is tried to open in <code>Landscape</code> mode</li>\n</ol>\n\n<p>So, basically <code>Landscape</code> mode doesn't work well, but I don't know why?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class MyFragment: Fragment() {\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        super.onCreateView(inflater, container, savedInstanceState)\n\n        val myView = inflater.inflate(R.layout.sd, container, false)\n        val expView = myView.findViewById&lt;ExpandableListView&gt;(R.id.sd_exp)!!\n        val expAdapter = AdapterEV(activity!!, myData)\n        expView.setAdapter(expAdapter)\n        expView.setOnChildClickListener { /* handling child click */ }\n\n        // example how I add view in header\n        val hView = inflater.inflate(R.layout.sd_h1, container, false)\n        hView.findViewById&lt;TextView&gt;(R.id.sd_h1).text = myString\n        expView.addHeaderView(hView)\n\n        // now here is the problem\n        val fView = setListView(myList, inflater, container)\n        expView.addFooterView(fView)\n\n        return myView\n    }\n\n    private fun setListView(myList: ArrayList&lt;String&gt;, inflater: LayoutInflater, container: ViewGroup?): View {\n        val rootLayout = LinearLayout(activity)\n        rootLayout.orientation = LinearLayout.VERTICAL\n        rootLayout.layoutParams = LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT,\n            LinearLayout.LayoutParams.WRAP_CONTENT\n        )\n\n        // removing the below for loop doesn't help\n        for (i in 0 until myList.size) {\n            val childView = inflater.inflate(R.layout.sd_f1, container, false)\n            // even below lines don't work in place of above line\n            // val childView = LayoutInflater.from(activity).inflate(R.layout.sd_f1, null)\n            // val childView = LayoutInflater.from(activity).inflate(R.layout.sd_f1, rootLayout, true)\n            childView.findViewById&lt;TextView&gt;(R.id.sd_f1_t1).text = \"${i+1}\"\n            childView.findViewById&lt;TextView&gt;(R.id.sd_f1_t2).text = myList[i]\n            rootLayout.addView(childView)\n        }\n\n        return rootLayout\n    }\n\n}\n</code></pre>\n\n<p>The <code>sd.xml</code> file having <code>ExpandableListView</code> is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ExpandableListView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/sd_exp\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n&lt;/ExpandableListView&gt;\n</code></pre>\n\n<p>And the layout <code>sd_f1.xml</code> I am including in <code>setListView</code> is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"horizontal\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" &gt;\n    &lt;TextView \n        android:layout_width=\"wrap_content\" \n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/sd_f1_t1\" /&gt;\n    &lt;TextView \n        android:layout_width=\"wrap_content\"     \n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/sd_f1_t2\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>---EDIT---</p>\n\n<p>logcat error:</p>\n\n<pre><code>java.lang.ClassCastException: android.widget.LinearLayout$LayoutParams cannot be cast to android.widget.AbsListView$LayoutParams\n        at android.widget.ListView.removeUnusedFixedViews(ListView.java:2070)\n        at android.widget.ListView.layoutChildren(ListView.java:1931)\n        at android.widget.AbsListView.onLayout(AbsListView.java:2198)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1812)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1656)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1565)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at androidx.drawerlayout.widget.DrawerLayout.onLayout(DrawerLayout.java:1231)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1812)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1656)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1565)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1812)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1656)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1565)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:903)\n        at android.view.View.layout(View.java:20715)\n        at android.view.ViewGroup.layout(ViewGroup.java:6202)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2802)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2329)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1469)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7209)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1050)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:862)\n        at android.view.Choreographer.doFrame(Choreographer.java:797)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1036)\n        at android.os.Handler.handleCallback(Handler.java:874)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:198)\n        at android.app.ActivityThread.main(ActivityThread.java:6729)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "kotlin", "swagger", "swagger-ui"], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 2036680, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4b9c8962e23aa7f01a50956e913ba138?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/2036680/martin"}, "is_accepted": true, "score": 0, "last_activity_date": 1561585260, "creation_date": 1561585260, "answer_id": 56781276, "question_id": 56675458, "link": "https://stackoverflow.com/questions/56675458/swagger-ui-shows-duplicate-model-variables/56781276#56781276", "title": "Swagger ui shows duplicate model variables", "body": "<p>I managed to figure this out after alot of try and error. The reason this was happening was to do with the modifiers, its best to remove any modifiers such as the internal modifier. after removing the modifiers the issues was then fixed</p>\n"}], "owner": {"reputation": 57, "user_id": 2036680, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4b9c8962e23aa7f01a50956e913ba138?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/2036680/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 56781276, "answer_count": 1, "score": 1, "last_activity_date": 1561585260, "creation_date": 1560976409, "last_edit_date": 1560976720, "question_id": 56675458, "link": "https://stackoverflow.com/questions/56675458/swagger-ui-shows-duplicate-model-variables", "title": "Swagger ui shows duplicate model variables", "body": "<p>Swagger-ui shows duplicate model variables when in edit and none edit mode. This happens to every single model shown on the ui have duplicate model variable. Not sure if this is due to using kotlin but its really frustrating and confusing. The duplicate variable seems to have $timefundcharity after each variable. </p>\n\n<p>Each model is also a MongoDb entity annotated with @Document</p>\n\n<p>Any help is welcome</p>\n\n<pre><code>{\n  \"charityId$charity\": 0,\n  \"createdAt$charity\": \"2019-06-19T20:16:33.735Z\",\n  \"id\": 0,\n  \"id$charity\": 0,\n  \"userId\": 0,\n  \"userId$charity\": 0,\n  \"charityId\": 0,\n  \"createdAt\": \"2019-06-19T20:16:33.735Z\"\n}\n</code></pre>\n\n<p><img src=\"https://i.imgur.com/O60SSWd.png\" alt=\"Image of swagger-ui\">\n<img src=\"https://imgur.com/fNmw8uY\" alt=\"Image of swagger-ui model view\"></p>\n\n<p>I have looked around the internet on how to resolve this but it seems no one really has come across this issue and thought i better reach out here.</p>\n\n<p>At first i thought maybe it was the swagger configuration but it doesn't seems to be that either as i have compared the configuration with other sources</p>\n\n<pre><code>@Document(collection = \"CharityFollowers\")\n@ApiModel\ndata class CharityFollower\n(\n        internal var userId: BigInteger,\n        internal var charityId: BigInteger,\n        internal var createdAt: LocalDateTime = LocalDateTime.now()\n){\n    @Id internal lateinit var id : BigInteger\n}\n</code></pre>\n\n<p>swagger config</p>\n\n<pre><code>@Bean\nfun productApi(): Docket {\n        return Docket(DocumentationType.SWAGGER_12)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(\"com.martin.charity.controllers\"))\n                .build()\n                .securityContexts(arrayListOf(securityContext()))\n                .securitySchemes(arrayListOf(this.securitySchema(), this.apiKey(), this.apiCookieKey()))\n    }\n</code></pre>\n\n<p>I am expecting the result not to have duplicate model variables</p>\n"}, {"tags": ["kotlin", "mockito", "spring-test"], "answers": [{"comments": [{"owner": {"reputation": 1958, "user_id": 3026886, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fc3dddd2bd0943dbf90bcafbe75a914?s=128&d=identicon&r=PG", "display_name": "rado", "link": "https://stackoverflow.com/users/3026886/rado"}, "edited": false, "score": 0, "creation_date": 1560973559, "post_id": 56674687, "comment_id": 99917007, "body": "I didn&#39;t understand the need for a partial mock offered by <code>@Spy</code>"}, {"owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "reply_to_user": {"reputation": 1958, "user_id": 3026886, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fc3dddd2bd0943dbf90bcafbe75a914?s=128&d=identicon&r=PG", "display_name": "rado", "link": "https://stackoverflow.com/users/3026886/rado"}, "edited": false, "score": 0, "creation_date": 1561060705, "post_id": 56674687, "comment_id": 99951379, "body": "Because you are trying to verify the usage of a non-mock object that is being called, and when you mock the same object, you cannot call the real method. Spying it will allow you to mock some methods of the object, while allowing you to verify the usage of the real ones."}], "tags": [], "owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "is_accepted": false, "score": 0, "last_activity_date": 1560972844, "creation_date": 1560972844, "answer_id": 56674687, "question_id": 56674629, "link": "https://stackoverflow.com/questions/56674629/how-to-correctly-use-mockitos-verify-on-a-spring-service-test/56674687#56674687", "title": "How to correctly use Mockito&#39;s verify on a spring @Service test", "body": "<p>[Posting here since no rep to comment] Have you tried using a @Spy? Then you could specify which methods to mock and which methods to call. I supposed you can also apply Mockito.verify on spies...</p>\n"}, {"tags": [], "owner": {"reputation": 1437, "user_id": 1150936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bd18c9b5f7dde42ceea89cbd94662102?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Previsic", "link": "https://stackoverflow.com/users/1150936/marko-previsic"}, "is_accepted": true, "score": 1, "last_activity_date": 1560975152, "last_edit_date": 1560975152, "creation_date": 1560974657, "answer_id": 56675093, "question_id": 56674629, "link": "https://stackoverflow.com/questions/56674629/how-to-correctly-use-mockitos-verify-on-a-spring-service-test/56675093#56675093", "title": "How to correctly use Mockito&#39;s verify on a spring @Service test", "body": "<p>You can <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.28.2/org/mockito/Mockito.html#spy\" rel=\"nofollow noreferrer\">spy on the real object</a> to count method calls on it like this:</p>\n\n<pre><code>@Test\nfun `test method count`() {\n    Mockito.spy(someObjectRelatedToMyService)\n    verify(someObjectRelatedToMyService, atLeast(1)).getSome()\n}\n</code></pre>\n\n<p>As you can see, the only thing you have to do is to call the <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.28.2/org/mockito/Mockito.html#spy-T-\" rel=\"nofollow noreferrer\"><em>spy</em></a> method which enables tracking interactions with the target object.</p>\n\n<p>When adding this call before the verify method, you should not get the error anymore that the object is not a mock.</p>\n"}], "owner": {"reputation": 1958, "user_id": 3026886, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fc3dddd2bd0943dbf90bcafbe75a914?s=128&d=identicon&r=PG", "display_name": "rado", "link": "https://stackoverflow.com/users/3026886/rado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 56675093, "answer_count": 2, "score": 0, "last_activity_date": 1561582617, "creation_date": 1560972534, "question_id": 56674629, "link": "https://stackoverflow.com/questions/56674629/how-to-correctly-use-mockitos-verify-on-a-spring-service-test", "title": "How to correctly use Mockito&#39;s verify on a spring @Service test", "body": "<p>I have this service (all in kotlin):</p>\n\n<pre><code>@Service\nclass MyService {\n\n  fun getSomeString(): String = \"test\"\n}\n</code></pre>\n\n<p>And this integration test class:</p>\n\n<pre><code>@RunWith(SpringRunner::class)\n@SpringBootTest\n@EmbeddedKafka // used on some kafka tests\nclass BasicTests {\n</code></pre>\n\n<p>and method:</p>\n\n<pre><code>@Test\nfun `test method count`() {\n    // here I have a kafka producer sending a message to a topic that ends up \n    // calling myService.getSomeString via @KafkaListener from other services\n    verify(someObjectRelatedToMyService, atLeast(1)).getSome()\n}\n</code></pre>\n\n<p>In the place of <code>someObjectRelatedToMyService</code> I tried to use</p>\n\n<pre><code>@Autowired\nlateinit var myService: MyService\n</code></pre>\n\n<p>But then I got <code>Argument passed to verify() is of type MyService and is not a mock!</code></p>\n\n<p>But when I use</p>\n\n<pre><code>@Mock\nlateinit var myMock: MyService\n</code></pre>\n\n<p>I get <code>Actually, there were zero interactions with this mock.</code></p>\n\n<p>And actually, to me it makes sense, since my mock wasn't called, but my real service at the application was.</p>\n\n<p>Is it possible to count method calls from my real object?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-viewpager"], "comments": [{"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "edited": false, "score": 0, "creation_date": 1560972956, "post_id": 56674476, "comment_id": 99916755, "body": "If you can give me java code of above RecentlyViewedItemAdapter by Decompiling, I can help you quiker."}], "answers": [{"tags": [], "owner": {"reputation": 346, "user_id": 10482491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JnVqZRNtelk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX4gNBH9YTQ_431oeBOdZGZoKKr_w/mo/photo.jpg?sz=128", "display_name": "Vladimir Gladun", "link": "https://stackoverflow.com/users/10482491/vladimir-gladun"}, "is_accepted": false, "score": 0, "last_activity_date": 1560977388, "creation_date": 1560977388, "answer_id": 56675640, "question_id": 56674476, "link": "https://stackoverflow.com/questions/56674476/converting-recyclerview-to-viewpager-pageradapter/56675640#56675640", "title": "Converting RecyclerView to ViewPager / PagerAdapter", "body": "<p>If you have relatively large number of items and need views to be recycled then the RecyclerView is the right option for you. It will be definitely easier than creating a custom view pager adapter with a fixed item count and a view holder pattern. \nThe default/generic PageAdapter is not recycling anything - it's added to make sure you have all your views initiated and ready to swipe through. However, you can use <a href=\"https://developer.android.com/reference/android/support/v4/app/FragmentStatePagerAdapter.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/support/v4/app/FragmentStatePagerAdapter.html</a> that will destroy/recreate the fragments when no longer used or reused.</p>\n"}, {"tags": [], "owner": {"reputation": 1450, "user_id": 4851799, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/f5ghj.jpg?s=128&g=1", "display_name": "David West", "link": "https://stackoverflow.com/users/4851799/david-west"}, "is_accepted": false, "score": 0, "last_activity_date": 1562836266, "creation_date": 1562836266, "answer_id": 56985636, "question_id": 56674476, "link": "https://stackoverflow.com/questions/56674476/converting-recyclerview-to-viewpager-pageradapter/56985636#56985636", "title": "Converting RecyclerView to ViewPager / PagerAdapter", "body": "<p>Job done. I actually surprised myself by being able to modify the recycler view to mimmick the PageView's behaviour precisely (including padding, snap scrolling etc). Thanks to the simple subclass <strong>SnapHelper</strong>. Saved me a tonne of work, so no need to refactor the codebase.</p>\n\n<pre><code>SnapHelper snapHelper = new PagerSnapHelper();\nsnapHelper.attachToRecyclerView(recyclerView);\n</code></pre>\n"}], "owner": {"reputation": 1450, "user_id": 4851799, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/f5ghj.jpg?s=128&g=1", "display_name": "David West", "link": "https://stackoverflow.com/users/4851799/david-west"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 772, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562836266, "creation_date": 1560971855, "last_edit_date": 1560977426, "question_id": 56674476, "link": "https://stackoverflow.com/questions/56674476/converting-recyclerview-to-viewpager-pageradapter", "title": "Converting RecyclerView to ViewPager / PagerAdapter", "body": "<p><strong>Background</strong> - New to Android, but pretty nifty with moving layouts around, understanding Java, Kotlin and XML. However this task seems to be way above my head.</p>\n\n<p><strong>Problem</strong> - I'm looking to convert the following Java file (RecyclerView) into a Kotlin file (ViewPager) - since I already have a ViewPager hooked-up with the same scrolling behaviour as desired.  I get the impression it's a 10min job for a seasoned developer. If that's the case I wonder if I could call upon some assistance from the community? At least to work out where to start. I can't seem to find a guide on how to convert a RecyclerView into a PagerAdapter or ViewPager.</p>\n\n<p>Essentially the existing ViewPager I'm using has static data (5 items) and this one could have tens of items, so needs to be dynamic with a separate datasource (items of CardItem).</p>\n\n<hr>\n\n<p><strong>RecyclerViewAdapter - Current (Java)</strong></p>\n\n<pre><code>package com.APPNAME.fragments.cards;\nimport android.databinding.DataBindingUtil;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport java.util.ArrayList;\nimport com.APPNAME.R;\nimport com.APPNAME.databinding.FragmentCardsRecentlyViewedBinding;\nimport com.APPNAME.model.cardItem.CardItem;\n\n\n\npublic class RecentlyViewedAdapter extends RecyclerView.Adapter&lt;RecentlyViewedAdapter.RecentlyViewedViewHolder&gt; {\n\n    public OnCardClicked listener;\n    private ArrayList&lt;CardItem&gt; items = new ArrayList&lt;&gt;();\n\n    public void addItems(ArrayList&lt;CardItem&gt; list) {\n        items = list;\n        notifyDataSetChanged();\n    }\n\n    @Override\n    public RecentlyViewedViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        FragmentCardsRecentlyViewedBinding binding = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext()), R.layout.fragment_cards_recently_viewed, parent, false);\n        return new RecentlyViewedViewHolder(binding);\n    }\n\n    @Override\n    public void onBindViewHolder(RecentlyViewedViewHolder holder, int position) {\n        holder.binding.setViewModel(new RecentlyViewedViewModel(items.get(position)));\n    }\n\n    @Override\n    public int getItemCount() {\n        return items.size();\n    }\n\n    interface OnCardClicked {\n        void onCardClicked(View view, CardItem cardItem);\n    }\n\n    class RecentlyViewedViewHolder extends RecyclerView.ViewHolder {\n        FragmentCardsRecentlyViewedBinding binding;\n\n        public RecentlyViewedViewHolder(FragmentCardsRecentlyViewedBinding itemView) {\n            super(itemView.getRoot());\n            binding = itemView;\n            binding.cardView.setOnClickListener(v -&gt; {\n                if (listener != null) {\n                    listener.onCardClicked(v, items.get(getAdapterPosition()));\n                }\n            });\n        }\n    }\n}\n</code></pre>\n\n<p><strong>ViewPagerAdapter - Future (Kotlin)</strong></p>\n\n<pre><code>package com.APPNAME.fragments.cards\nimport android.support.annotation.DrawableRes\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport java.util.*\nimport kotlinx.android.synthetic.main.fragment_cards_recently_viewed.view.*\nimport com.APPNAME.R\nimport com.APPNAME.activities.BaseActivity\nimport com.APPNAME.activities.cards.NewCardActivity\nimport com.APPNAME.model.cardItem.CardItem\nimport com.APPNAME.views.wrapContentViewPager.ObjectAtPositionPagerAdapter\n\n\nclass RecentlyViewedItemAdapter constructor(private val activity: BaseActivity) : ObjectAtPositionPagerAdapter() {\n\n    private var items = ArrayList&lt;CardItem&gt;()\n\n    override fun instantiateItemObject(container: ViewGroup, position: Int) : Any {\n    return getImageView(container, R.drawable.placeholder_card_image) { NewCardActivity.start(activity, it) }\n    }\n\n    private fun getImageView(container: ViewGroup, @DrawableRes imageResourceId: Int, onClick: (imageResourceId: Int) -&gt; Unit = {}): View {\n    val layoutInflater = LayoutInflater.from(container.context)\n        val layout = layoutInflater.inflate(R.layout.fragment_cards_recently_viewed, container, false)\n        val image = layout.recentlyViewedImage\n        image.setImageResource(imageResourceId)\n        image.setOnClickListener { onClick(imageResourceId) }\n        container.addView(layout)\n        return layout\n    }\n\n    override fun isViewFromObject(view: View, anObject: Any) = (view == anObject)\n    override fun getCount() = 5     //Placeholder\n\n    override fun destroyItemObject(container: ViewGroup, position: Int, view: Any) {\n        container.removeView(view as View)\n    }\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin"], "owner": {"reputation": 11, "user_id": 11666962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P9Jfq_5LhMs/AAAAAAAAAAI/AAAAAAAAAlc/joEySqdfKE0/photo.jpg?sz=128", "display_name": "osama abusalh", "link": "https://stackoverflow.com/users/11666962/osama-abusalh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "closed_date": 1566142197, "answer_count": 0, "score": 1, "last_activity_date": 1560979779, "creation_date": 1560966128, "last_edit_date": 1560979779, "question_id": 56673228, "link": "https://stackoverflow.com/questions/56673228/cannot-resolve-external-dependency", "closed_reason": "Duplicate", "title": "Cannot resolve external dependency", "body": "<p>Hello I'am new in Android. I got stuck here and this error appears:</p>\n\n<blockquote>\n  <p>Cannot resolve external dependency org.jetbrains.kotlin:kotlin-gradle-\n  plugin:1.3.31 because no repositories are defined. Required by:\n      project :app</p>\n</blockquote>\n\n<p><code>build.gradle</code> module</p>\n\n<pre><code>\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.0\"\n    defaultConfig {\n        applicationId \"com.ahmadnaser.startapp\"\n        minSdkVersion 26\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        debug {\n            buildConfigField \"String\", \"APP_ID\", \"\\\"ec5617b9-b9e4-4cbf-b7c1-91d8aea47bb2\\\"\"\n            buildConfigField \"String\", \"CLIENT_KEY\", \"\\\"185c55ba-b15f-4f1d-991f-95fdaf9a85b3\\\"\"\n            buildConfigField \"String\", \"SERVER_URL\", \"\\\"https://antest123.azurewebsites.net/parse\\\"\"\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:29.0.0'\n    implementation 'com.android.support:support-v4:29.0.0'\n    implementation 'com.android.support:design:29.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:cardview-v7:29.1.0'\n    implementation 'com.android.support:recyclerview-v7:29.1.0'\n    implementation 'com.parse:parse-android:1.15.7'\n    testImplementation 'junit:junit:4.12'\n    implementation 'com.google.android.gms:play-services-maps:16.1.0'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n}\n\nbuildscript {\n    ext.kotlin_version = '1.3.31'\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.31\"\n    }\n}\n</code></pre>\n\n<p><code>build.gradle</code> app</p>\n\n<pre><code>\nbuildscript {\n    ext.kotlin_version = '1.3.31'\n    repositories {\n        google()\n        jcenter()\n        maven { url 'http://myrepourl/repo' }\n\n    }\n    dependencies {\n\n        classpath 'com.android.tools.build:gradle:3.6.0-alpha03'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.31\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven { url 'http://myrepourl/repo' }\n        }\n\n\n    }\n\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>what should I do to fix up this error?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1560966703, "post_id": 56673085, "comment_id": 99913945, "body": "Variables are initialized top down, then <code>main</code> is invoked."}], "answers": [{"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 6, "last_activity_date": 1591048689, "last_edit_date": 1591048689, "creation_date": 1560967231, "answer_id": 56673447, "question_id": 56673085, "link": "https://stackoverflow.com/questions/56673085/what-instructions-are-executed-before-main-function-in-kotlin/56673447#56673447", "title": "What instructions are executed before main() function in Kotlin?", "body": "<p>First, the JVM loads any required classes.\u00a0 As part of this, it will run any static initialisers.</p>\n\n<p>Although your code looks like it's not in a class, Kotlin/JVM compiles it to one; that will have a field for <code>print_me</code>.\u00a0 (How it's done is an implementation detail; it may be a static field on the class, or on an instance referred to through a static field.)\u00a0 In any case, that field will have an initialiser.</p>\n\n<p>Now, the type of <code>print_me</code> is <code>Unit</code>.\u00a0 That's because the <code>println()</code> function doesn't return a useful value.\u00a0 (Its sole reason is its side-effect.)\u00a0 But the JVM will still run the initialiser, which will happily print \"2\" before returning <code>Unit</code> which gets assigned to <code>print_me</code>.</p>\n\n<p>Later, once the class has been initialised, the runtime will call your <code>main()</code> function.</p>\n\n<p>Of course, a static initialiser may call anything you like, so it could potentially do all sorts of things before hitting your <code>main()</code> function.\u00a0 But in practice that doesn't happen too much.</p>\n"}], "owner": {"reputation": 89, "user_id": 9061941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06e3b8b88c1040b5e891da9d095392ec?s=128&d=identicon&r=PG&f=1", "display_name": "H. Riantsoa", "link": "https://stackoverflow.com/users/9061941/h-riantsoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 56673447, "answer_count": 1, "score": 2, "last_activity_date": 1591048689, "creation_date": 1560965476, "last_edit_date": 1560974207, "question_id": 56673085, "link": "https://stackoverflow.com/questions/56673085/what-instructions-are-executed-before-main-function-in-kotlin", "title": "What instructions are executed before main() function in Kotlin?", "body": "<p>In Kotlin, it is said that the <code>main</code> function is the entry point (i.e \"...where the first instructions of a program are executed...\", see <a href=\"https://en.wikipedia.org/wiki/Entry_point\" rel=\"nofollow noreferrer\">here</a>). However, the following code prints <code>2</code> before <code>1</code> :</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"1\")\n}\n\nvar print_me = println(\"2\")\n</code></pre>\n\n<p>Why?</p>\n"}, {"tags": ["kotlin", "akka"], "comments": [{"owner": {"reputation": 1102, "user_id": 5088796, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/19f4fd38736f571b96696b615af97266?s=128&d=identicon&r=PG&f=1", "display_name": "Yanick Salzmann", "link": "https://stackoverflow.com/users/5088796/yanick-salzmann"}, "edited": false, "score": 0, "creation_date": 1561009523, "post_id": 56672986, "comment_id": 99925375, "body": "I dont really feel like this is the proper answer - hence the comment - but changing the sink to anything but <code>Sink.ignore</code> (for example <code>Sink.last()</code>) will actually cause it to consistently read everything..."}], "owner": {"reputation": 1102, "user_id": 5088796, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/19f4fd38736f571b96696b615af97266?s=128&d=identicon&r=PG&f=1", "display_name": "Yanick Salzmann", "link": "https://stackoverflow.com/users/5088796/yanick-salzmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560964997, "creation_date": 1560964997, "question_id": 56672986, "link": "https://stackoverflow.com/questions/56672986/akka-stream-emitting-random-amount-of-items", "title": "Akka Stream emitting random amount of items", "body": "<p>I have a file that consists of 66564 lines that I am splitting into each lines. I will need to group those lines together based on a line that indicates the end of a record. I am intending to use <code>splitAfter</code> to do this, but for now I am already stuck with this:</p>\n\n<pre><code>    val numLines = AtomicLong(0)\n    FileIO.fromPath(Paths.get(file))\n            .via(Framing.delimiter(ByteString.fromString(\"\\n\"), Int.MAX_VALUE, true))\n            .map { it.decodeString(StandardCharsets.UTF_8) }\n            .map {\n                numLines.incrementAndGet()\n                it\n            }\n            .to(Sink.ignore())\n            .run(materializer)\n            .toCompletableFuture()\n            .get()\n\n    println(numLines.get())\n</code></pre>\n\n<p>I was expecting this to return the number of lines (66564), however it returns different values on each run (for the same file). Values are normally between 64000 and 66000. </p>\n\n<p>I am sure it is some small thing, but I have been looking at this for hours now and I just dont understand why it creates random results...</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 5526322, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-U3x-dmLrzEc/AAAAAAAAAAI/AAAAAAAAAF4/k3qwuNMq9F4/photo.jpg?sz=128", "display_name": "Alan Nelson", "link": "https://stackoverflow.com/users/5526322/alan-nelson"}, "edited": false, "score": 0, "creation_date": 1561062652, "post_id": 56673121, "comment_id": 99952139, "body": "I see. I need to change the selection from &quot;File&quot; to &quot;Class&quot;! Thanks!"}], "tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": true, "score": 1, "last_activity_date": 1560965609, "creation_date": 1560965609, "answer_id": 56673121, "question_id": 56672881, "link": "https://stackoverflow.com/questions/56672881/how-to-auto-generate-kotlin-class-name-to-match-new-kotlin-file-in-android-studi/56673121#56673121", "title": "How to Auto Generate Kotlin Class Name to match new Kotlin File in Android Studio", "body": "<p>When adding a new Kotlin File/Class just select Class from the dropdown:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/mP54P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mP54P.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 881, "user_id": 5526322, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-U3x-dmLrzEc/AAAAAAAAAAI/AAAAAAAAAF4/k3qwuNMq9F4/photo.jpg?sz=128", "display_name": "Alan Nelson", "link": "https://stackoverflow.com/users/5526322/alan-nelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 1, "accepted_answer_id": 56673121, "answer_count": 1, "score": 1, "last_activity_date": 1560965609, "creation_date": 1560964511, "question_id": 56672881, "link": "https://stackoverflow.com/questions/56672881/how-to-auto-generate-kotlin-class-name-to-match-new-kotlin-file-in-android-studi", "title": "How to Auto Generate Kotlin Class Name to match new Kotlin File in Android Studio", "body": "<p>When creating a new Java file in Android Studio, the file automatically contains the boilerplate code required. Example:</p>\n\n<blockquote>\n  <p>package com.testproject.test</p>\n  \n  <p>public class TestClass { \n  }</p>\n</blockquote>\n\n<p>When I make a new Kotlin file in Android studio, it only contains the following auto generated code but it doesn't contain the class:</p>\n\n<blockquote>\n  <p>package com.testproject.test</p>\n</blockquote>\n\n<p>So I have to type the class every time.</p>\n\n<p>I understand that the classes in Kotlin are not required to be named the same as their containing file, but it's still an accepted convention.</p>\n\n<p>Is there a way to tell Android Studio to generate the class name with the same as the file name? </p>\n"}, {"tags": ["android", "kotlin", "android-menu"], "comments": [{"owner": {"reputation": 41, "user_id": 11670825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95885aaab1a7f05d8d00d116cc1346d8?s=128&d=identicon&r=PG&f=1", "display_name": "ksaf", "link": "https://stackoverflow.com/users/11670825/ksaf"}, "edited": false, "score": 0, "creation_date": 1560962349, "post_id": 56672030, "comment_id": 99912029, "body": "A similar question has been answered <a href=\"https://stackoverflow.com/questions/52176838/how-to-hold-the-overflow-menu-after-i-click-it/52177919#52177919\">here</a>. I hope this helps."}], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560962820, "post_id": 56672340, "comment_id": 99912213, "body": "Yes, <code>AlertDialog</code> is an option but I don&#39;t want to do that, I just asked the question out of curiosity."}], "tags": [], "owner": {"reputation": 889, "user_id": 3816129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0eb35c0b8dd1e54a39440bc9c6a37?s=128&d=identicon&r=PG", "display_name": "Dmytro Batyuk", "link": "https://stackoverflow.com/users/3816129/dmytro-batyuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1560962309, "creation_date": 1560962309, "answer_id": 56672340, "question_id": 56672030, "link": "https://stackoverflow.com/questions/56672030/how-to-prevent-menu-from-disappearing-on-item-click-in-android/56672340#56672340", "title": "How to prevent menu from disappearing on item click in Android?", "body": "<p>That implementation is hidden under native Android menu management and you get only callback of selected menu item.\nIt would be better to move all choose items to AlertDialog (<a href=\"https://stackoverflow.com/a/56466222/3816129\">There is simple example I have just googled</a> and have only one menu item which starts showing that AlertDialog </p>\n"}, {"comments": [{"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560963366, "post_id": 56672529, "comment_id": 99912449, "body": "I already have my menu items being wrapped inside group tag. That doesn&#39;t prevent the menu from being closed on item click."}, {"owner": {"reputation": 256, "user_id": 6402961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xldTN.png?s=128&g=1", "display_name": "Apurv", "link": "https://stackoverflow.com/users/6402961/apurv"}, "reply_to_user": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560966112, "post_id": 56672529, "comment_id": 99913677, "body": "Have you added  --&gt; . android:checkableBehavior=&quot;all&quot; ?"}, {"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560966641, "post_id": 56672529, "comment_id": 99913915, "body": "Yes, I have. As far as I know, <code>checkableBehaviour=&quot;all&quot;</code> doesn&#39;t make any difference &quot;visually&quot; for a group, but <code>checkableBehaviour=&quot;single&quot;</code> makes the group as a radio group."}], "tags": [], "owner": {"reputation": 256, "user_id": 6402961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xldTN.png?s=128&g=1", "display_name": "Apurv", "link": "https://stackoverflow.com/users/6402961/apurv"}, "is_accepted": false, "score": 0, "last_activity_date": 1560963092, "creation_date": 1560963092, "answer_id": 56672529, "question_id": 56672030, "link": "https://stackoverflow.com/questions/56672030/how-to-prevent-menu-from-disappearing-on-item-click-in-android/56672529#56672529", "title": "How to prevent menu from disappearing on item click in Android?", "body": "<p>You'll have to wrap your <code>menu items</code> inside <code>group</code> tag. Refer code below : </p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;group android:checkableBehavior=\"all\"&gt;\n        &lt;item android:id=\"@+id/item1\"\n              android:titleCondensed=\"Options\"\n              android:title=\"Title 1\"\n              android:icon=\"@android:drawable/ic_menu_preferences\"&gt;\n        &lt;/item&gt;\n        &lt;item android:id=\"@+id/item2\"\n              android:titleCondensed=\"Persist\"\n              android:title=\"Title 2\"\n              android:icon=\"@android:drawable/ic_menu_preferences\"\n              android:checkable=\"true\"&gt;\n        &lt;/item&gt;\n    &lt;/group&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>Follow link to know more about <a href=\"https://developer.android.com/guide/topics/ui/menus.html#checkable\" rel=\"nofollow noreferrer\"><code>checkable menu items</code></a></p>\n"}], "owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 743, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1560963092, "creation_date": 1560960968, "question_id": 56672030, "link": "https://stackoverflow.com/questions/56672030/how-to-prevent-menu-from-disappearing-on-item-click-in-android", "title": "How to prevent menu from disappearing on item click in Android?", "body": "<p>I have a menu in which all items have a checkbox.\nSo it is like a multichoice menu.\nI don't want the menu to close when an item is clicked.\nI only want to close the menu on back press.\nBut I can't figure out how to do it?</p>\n\n<p>This is the code:</p>\n\n<pre><code>override fun onOptionsItemSelected(item: MenuItem): Boolean {\n    when(item.itemId) {\n        R.id.my_item -&gt; {\n            // toggle    \n        }\n    }\n\n    // something to do here?\n    // changing return value to true or false doesn't help\n    return false\n}\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 889, "user_id": 3816129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0eb35c0b8dd1e54a39440bc9c6a37?s=128&d=identicon&r=PG", "display_name": "Dmytro Batyuk", "link": "https://stackoverflow.com/users/3816129/dmytro-batyuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1560959293, "creation_date": 1560959293, "answer_id": 56671608, "question_id": 56671488, "link": "https://stackoverflow.com/questions/56671488/how-to-get-data-out-of-json-with-kotlin/56671608#56671608", "title": "How to get data out of Json with kotlin", "body": "<p>Usually <a href=\"https://github.com/google/gson/blob/master/UserGuide.md\" rel=\"nofollow noreferrer\">Gson</a> library is used for that purposes. Look at user guide to get implementation details</p>\n"}], "owner": {"reputation": 15, "user_id": 10503432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YF0ir.png?s=128&g=1", "display_name": "K0NN4", "link": "https://stackoverflow.com/users/10503432/k0nn4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1560959293, "creation_date": 1560958919, "question_id": 56671488, "link": "https://stackoverflow.com/questions/56671488/how-to-get-data-out-of-json-with-kotlin", "title": "How to get data out of Json with kotlin", "body": "<p>I want to get the value of \"url\" out of the Json below but I dont know how. I just need an easy way of getting that one value, i dont need to get whole Json as a kotlin class.</p>\n\n<p>In python I would just do something like:</p>\n\n<p><code>Url_json = Json[response][hits][0][result][url]</code></p>\n\n<p>But how do i do the same on kotlin?</p>\n\n<pre><code>{\n  \"meta\": {\n    \"status\": 200\n  },\n  \"response\": {\n    \"hits\": [\n      {\n        \"highlights\": [],\n        \"index\": \"song\",\n        \"type\": \"song\",\n        \"result\": {\n          \"url\": \"https://genius.com/Lucidious-changes-lyrics\",\n\n</code></pre>\n\n<hr>\n\n<p>Here is the whole Json if needed:</p>\n\n<pre><code>{\n  \"meta\": {\n    \"status\": 200\n  },\n  \"response\": {\n    \"hits\": [\n      {\n        \"highlights\": [],\n        \"index\": \"song\",\n        \"type\": \"song\",\n        \"result\": {\n          \"annotation_count\": 3,\n          \"api_path\": \"/songs/2401244\",\n          \"full_title\": \"Changes by Lucidious (Ft. Anna)\",\n          \"header_image_thumbnail_url\": \"https://images.rapgenius.com/23d4b0b51e40ec9696cfd86b5d2ca40a.300x63x1.jpg\",\n          \"header_image_url\": \"https://images.rapgenius.com/23d4b0b51e40ec9696cfd86b5d2ca40a.1000x209x1.jpg\",\n          \"id\": 2401244,\n          \"lyrics_owner_id\": 2648082,\n          \"lyrics_state\": \"complete\",\n          \"path\": \"/Lucidious-changes-lyrics\",\n          \"pyongs_count\": 3,\n          \"song_art_image_thumbnail_url\": \"https://images.rapgenius.com/a63a614602cc9d3f908210cca7794391.300x300x1.jpg\",\n          \"stats\": {\n            \"unreviewed_annotations\": 3,\n            \"hot\": false,\n            \"pageviews\": 49543\n          },\n          \"title\": \"Changes\",\n          \"title_with_featured\": \"Changes (Ft. Anna)\",\n          \"url\": \"https://genius.com/Lucidious-changes-lyrics\",\n          \"primary_artist\": {\n            \"api_path\": \"/artists/626463\",\n            \"header_image_url\": \"https://images.genius.com/6d9b0e6d68145f0d180f76aaafd4d9b9.1000x563x1.png\",\n            \"id\": 626463,\n            \"image_url\": \"https://images.genius.com/5dd82bc888e050c04d4f6720ea1d8d4e.1000x1000x1.jpg\",\n            \"is_meme_verified\": false,\n            \"is_verified\": false,\n            \"name\": \"Lucidious\",\n            \"url\": \"https://genius.com/artists/Lucidious\"\n          }\n        }\n      },\n```\n\n</code></pre>\n"}, {"tags": ["kotlin", "let"], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1560962100, "post_id": 56671964, "comment_id": 99911913, "body": "isnt the <code>inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R</code> . also a <code>fun</code>?     what about the <code>block</code>  is   a function defined somewhere else?"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1560962261, "post_id": 56671964, "comment_id": 99911989, "body": "Yes, <code>let()</code> is defined as a <code>fun</code> \u2014 but that&#39;s elsewhere.  The rule looks for the keyword <code>fun</code> <i>in your code</i>.  Which, in this example, means <code>fun getType() : String?</code>."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 2, "last_activity_date": 1560960699, "creation_date": 1560960699, "answer_id": 56671964, "question_id": 56671453, "link": "https://stackoverflow.com/questions/56671453/kotlin-where-the-return-from-inside-the-let-go/56671964#56671964", "title": "kotlin, where the return from inside the let go", "body": "<p>The rule in Kotlin is that <strong>a plain <code>return</code> returns from the nearest <code>fun</code></strong>.</p>\n\n<p>See the docs <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>If there's an enclosing lambda, then that's only possible if the lambda is inline (i.e. passed to a function marked with the <code>inline</code> keyword); otherwise the compiler will complain.</p>\n\n<p>You can change that if needed by qualifying the return with an enclosing label (e.g. <code>return@myLabel</code>) or function name (e.g. <code>return@let</code>).\u00a0 But if it's not qualified, you just need to look for the nearest enclosing function defined with <code>fun</code>.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560960699, "creation_date": 1560958825, "last_edit_date": 1560959417, "question_id": 56671453, "link": "https://stackoverflow.com/questions/56671453/kotlin-where-the-return-from-inside-the-let-go", "title": "kotlin, where the return from inside the let go", "body": "<pre><code>@kotlin.internal.InlineOnly\npublic inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R {\n    contract {\n        callsInPlace(block, InvocationKind.EXACTLY_ONCE)\n    }\n    return block(this)\n}\n</code></pre>\n\n<p>and have a function like:</p>\n\n<pre><code>fun getType() : String? {\n\n     val type = mContent.let {\n         if (!TextUtils.isEmpty(it) &amp;&amp; it == \"TYPE_1\") {\n             return \"TYPE_A\" . //where it returns to, as the result of the let{},  or as return value to exit the fun getType()?\n         }\n         else {\n            return it\n         }\n     }\n\n     if (type == \"TYPE_A\") {\n        return getType_A() \n     } \n\n     return type\n}\n</code></pre>\n\n<p>where does the return inside the block in the let go{}, exit the <code>fun getType()</code> or just return from the <code>let{}</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1560957808, "post_id": 56671037, "comment_id": 99909768, "body": "<code>imageView2.visbility = View.Gone</code>"}, {"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1560968345, "post_id": 56671037, "comment_id": 99914682, "body": "Can you help me again? How I can get X and Y coordinate my imageView? I want realize that when I drag piece of paper in basket it will disappearance"}], "owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560957521, "creation_date": 1560957358, "last_edit_date": 1560957383, "question_id": 56671037, "link": "https://stackoverflow.com/questions/56671037/i-need-to-make-to-disappearance-imageview-how-i-can-make-it-its-the-last-one", "title": "I need to make to disappearance ImageView. How I can make it? It&#39;s the last one what I need to do", "body": "<p>I need to make to disappearance ImageView. How I can make it? It's the last one what I need to do.\nI have piece of paper. I need to move it in basket and it will disappearance. </p>\n\n<p>Main5Activity.kt\nThe file I realized piece of paper move. How realize delete piece of papre or disappearance? </p>\n\n<pre><code>package com.example.fairytale_quest\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.view.MotionEvent\nimport android.view.View\nimport kotlinx.android.synthetic.main.activity_main5.*\n\nclass Main5Activity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main5)\n        val actionBar = supportActionBar\n\n        actionBar!!.hide()\n        var listener = View.OnTouchListener(function = { view, motionEvent -&gt;\n\n            if (motionEvent.action == MotionEvent.ACTION_MOVE) {\n\n                view.y = motionEvent.rawY - view.height/2\n                view.x = motionEvent.rawX - view.width/2\n            }\n\n            true\n\n        })\n        draggableImage.setOnTouchListener(listener)\n    }\n}\n</code></pre>\n\n<p>xml file with pieace of paper and wastebasket</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".Main5Activity\"&gt;\n\n    &lt;ImageView\n            android:layout_width=\"128dp\"\n            android:layout_height=\"140dp\" app:srcCompat=\"@drawable/pop\"\n            android:id=\"@+id/draggableImage\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n            android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\" app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"8dp\" android:layout_marginRight=\"8dp\" android:layout_marginBottom=\"8dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\" android:contentDescription=\"draggable\"/&gt;\n    &lt;ImageView\n            android:src=\"@drawable/basketwaste\"\n            android:layout_width=\"96dp\"\n            android:layout_height=\"121dp\"\n            android:id=\"@+id/imageView2\" android:layout_marginBottom=\"16dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n            android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\" app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"8dp\" android:layout_marginRight=\"8dp\"\n            app:layout_constraintHorizontal_bias=\"0.026\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintVertical_bias=\"1.0\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "moshi"], "comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 1, "creation_date": 1561044619, "post_id": 56670338, "comment_id": 99944139, "body": "Maybe file a bug report on the Moshi issue tracker with a minimum reproducible sample?"}, {"owner": {"reputation": 85, "user_id": 4062038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSnDN.jpg?s=128&g=1", "display_name": "boiledbuns", "link": "https://stackoverflow.com/users/4062038/boiledbuns"}, "reply_to_user": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1561076586, "post_id": 56670338, "comment_id": 99955817, "body": "That was initially my plan, but I was hoping it was something obvious that I was missing because my lack of familiarity with moshi haha."}], "owner": {"reputation": 85, "user_id": 4062038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSnDN.jpg?s=128&g=1", "display_name": "boiledbuns", "link": "https://stackoverflow.com/users/4062038/boiledbuns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560955240, "creation_date": 1560955240, "question_id": 56670338, "link": "https://stackoverflow.com/questions/56670338/project-fails-to-compile-when-automatically-generating-an-adapter-for-a-class-th", "title": "Project fails to compile when automatically generating an adapter for a class that can contain instances of itself", "body": "<p>It doesn't look like I can add a field with the same type as the parent class if I want to automatically generate an adapter with moshi</p>\n\n<p>Here is my code:</p>\n\n<pre><code>@JsonClass(generateAdapter = true)\nclass CommentModel: ListingItem() {\n\n    var id: String? = null\n    var body: String = \"\"\n    var created: String? = null\n    var score: Int = 0\n\n    .... // bunch of other fields\n\n    // this is the cause of my compilation error\n    var replies: List&lt;CommentModel&gt;? = null\n}\n</code></pre>\n\n<p>The project fails to compile and gives me this message: </p>\n\n<pre><code>error:[ComponentProcessor:MiscError] dagger.internal.codegen.ComponentProcessor was unable to process this interface because not all of its dependencies could be resolved. Check for compilation errors or a circular dependency with generated code.\n</code></pre>\n\n<p>I checked the generated code and there isn't a circular dependency. If I remove the <code>replies</code> field, the project compiles successfully. Any help would be much appreciated :)</p>\n"}, {"tags": ["java", "android", "kotlin", "java-12"], "comments": [{"owner": {"reputation": 4654, "user_id": 7463126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465f0f97c5d56f3a071ede93bad17a72?s=128&d=identicon&r=PG", "display_name": "Alan Bateman", "link": "https://stackoverflow.com/users/7463126/alan-bateman"}, "edited": false, "score": 1, "creation_date": 1560957087, "post_id": 56669561, "comment_id": 99909265, "body": "Is there is a bug in the JetBrains issue tracker for this?"}, {"owner": {"reputation": 2791, "user_id": 1439733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb03e04f38790a0b3623e03a196542d?s=128&d=identicon&r=PG", "display_name": "Stefan Zobel", "link": "https://stackoverflow.com/users/1439733/stefan-zobel"}, "edited": false, "score": 1, "creation_date": 1560958571, "post_id": 56669561, "comment_id": 99910258, "body": "Probably related to this issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-30387\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-30387</a>"}], "owner": {"reputation": 1, "user_id": 11648075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b5cd63eda88b10f56eb112d6354e9df?s=128&d=identicon&r=PG&f=1", "display_name": "btkidd98", "link": "https://stackoverflow.com/users/11648075/btkidd98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1560953612, "creation_date": 1560952979, "last_edit_date": 1560953612, "question_id": 56669561, "link": "https://stackoverflow.com/questions/56669561/illegal-reflective-access-operation-occurring-in-kotlin-while-trying-to-run-a-he", "title": "Illegal reflective access operation occurring in Kotlin while trying to run a hello world program", "body": "<p>I am trying to run Kotlin using IntelliJ and I can't run anything without getting an illegal reflective access operation. not even a hello world program.</p>\n\n<p>I've tried checking for updates to Kotlin</p>\n\n<p>The code I run is below. the error happens with and without the package.</p>\n\n<pre><code>\nfun main() {\n    println(\"Hello World!\")\n}\n</code></pre>\n\n<p>I get the error</p>\n\n<blockquote>\n  <p>WARNING: An illegal reflective access operation has occurred\n  WARNING: Illegal reflective access by com.intellij.openapi.util.JDOMUtil$2 (file:/Users/will.rogers/Library/Application%20Support/IntelliJIdea2019.1/Kotlin/kotlinc/lib/kotlin-compiler.jar) to constructor com.sun.xml.internal.stream.XMLInputFactoryImpl()\n  WARNING: Please consider reporting this to the maintainers of com.intellij.openapi.util.JDOMUtil$2\n  WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\n  WARNING: All illegal access operations will be denied in a future release</p>\n</blockquote>\n"}, {"tags": ["java", "gradle", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 11418, "user_id": 741595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a7a0996d629052539c4f7e05e844ed16?s=128&d=identicon&r=PG", "display_name": "Nicholas Smith", "link": "https://stackoverflow.com/users/741595/nicholas-smith"}, "edited": false, "score": 0, "creation_date": 1561547045, "post_id": 56669247, "comment_id": 100097984, "body": "What&#39;s the <code>.&#47;build&#47;scripts&#47;example</code> doing? I suspect it should be looking for <code>main class example.App</code> not <code>example.AppKt</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4366, "user_id": 26734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb1242a02aa37e0cbf5316753cbab15c?s=128&d=identicon&r=PG", "display_name": "Tatu Lahtela", "link": "https://stackoverflow.com/users/26734/tatu-lahtela"}, "is_accepted": true, "score": 0, "last_activity_date": 1561614646, "last_edit_date": 1561614646, "creation_date": 1561549548, "answer_id": 56772056, "question_id": 56669247, "link": "https://stackoverflow.com/questions/56669247/starter-script-for-gradle-kotlin-application-cannot-find-main-class/56772056#56772056", "title": "Starter script for Gradle Kotlin application cannot find main class", "body": "<p>They are not mean to be run directly (see e.g. <a href=\"https://stackoverflow.com/questions/43344723/gradle-application-plugin-incorrect-lib-folder-in-generated-script\">this question</a>). They are mean to be run from the distribution package generated by the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">application plugin</a>. </p>\n\n<p>You can see that they are correct by extracting the package:</p>\n\n<pre><code>$ tar xvf build/distributions/example.tar\n$ example/bin/demo\nHello World.\n</code></pre>\n"}], "owner": {"reputation": 3821, "user_id": 11678, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/7d31078ba59b447892a5b9fd724b6c96?s=128&d=identicon&r=PG", "display_name": "otto.poellath", "link": "https://stackoverflow.com/users/11678/otto-poellath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 56772056, "answer_count": 1, "score": 1, "last_activity_date": 1561614646, "creation_date": 1560952031, "question_id": 56669247, "link": "https://stackoverflow.com/questions/56669247/starter-script-for-gradle-kotlin-application-cannot-find-main-class", "title": "Starter script for Gradle Kotlin application cannot find main class", "body": "<p>I'm trying to build a Kotlin application using Gradle 5.4.1. The code generated by <code>gradle init</code> can be run via <code>./gradlew run</code>, and I assumed I should be able to execute the script generated in <code>build/scripts</code>.</p>\n\n<p>That script however cannot find the main class for some reason :(</p>\n\n<p>Is this a problem with Gradle, the application plugin, or my assumptions?</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ mkdir example\n$ cd example\n$ gradle -v\n\n------------------------------------------------------------\nGradle 5.4.1\n------------------------------------------------------------\n\nBuild time:   2019-04-26 08:14:42 UTC\nRevision:     261d171646b36a6a28d5a19a69676cd098a4c19d\n\nKotlin:       1.3.21\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\nJVM:          1.8.0_151 (Oracle Corporation 25.151-b12)\nOS:           Mac OS X 10.14.5 x86_64\n\n$ gradle init\n\nSelect type of project to generate:\n  ...\n  8: kotlin-application\n  9: kotlin-library\nEnter selection (default: basic) [1..10] 8\n\nSelect build script DSL:\n  1: groovy\n  2: kotlin\nEnter selection (default: kotlin) [1..2] 2\n\nProject name (default: example):\nSource package (default: example):\n\n$ ./gradlew build\nBUILD SUCCESSFUL in 1s\n\n$ ./gradlew run\n&gt; Task :run\nHello world.\n\nBUILD SUCCESSFUL in 0s\n\n$ ./build/scripts/example\nError: Could not find or load main class example.AppKt\n\n$ jar tf build/libs/example.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\nexample/\nexample/AppKt.class\nexample/App.class\nMETA-INF/example.kotlin_module\n\n$ cat build.gradle.kts\nplugins {\n    id(\"org.jetbrains.kotlin.jvm\").version(\"1.3.21\")\n    application\n}\nrepositories {\n    jcenter()\n}\ndependencies {\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    testImplementation(\"org.jetbrains.kotlin:kotlin-test\")\n    testImplementation(\"org.jetbrains.kotlin:kotlin-test-junit\")\n}\napplication {\n    mainClassName = \"example.AppKt\"\n}\n\n$ cat src/main/kotlin/example/App.kt\npackage example\nclass App {\n    val greeting: String\n        get() {\n            return \"Hello world.\"\n        }\n}\nfun main(args: Array&lt;String&gt;) {\n    println(App().greeting)\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1560952835, "post_id": 56669225, "comment_id": 99906576, "body": "did it not occur to you to read the docs? <a href=\"https://kotlinlang.org/docs/reference/generics.html#generic-functions\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html#generic-function&zwnj;&#8203;s</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11647945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hP0jkn1nl0Y/AAAAAAAAAAI/AAAAAAAAACQ/INuBcpEQass/photo.jpg?sz=128", "display_name": "Big Star", "link": "https://stackoverflow.com/users/11647945/big-star"}, "edited": false, "score": 0, "creation_date": 1560955389, "post_id": 56669440, "comment_id": 99908179, "body": "Awesome. New to Kotlin, so it wasn&#39;t obvious."}], "tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": true, "score": 0, "last_activity_date": 1560952618, "creation_date": 1560952618, "answer_id": 56669440, "question_id": 56669225, "link": "https://stackoverflow.com/questions/56669225/declare-a-function-using-a-generic-parameter/56669440#56669440", "title": "Declare a function using a generic parameter", "body": "<p>Have you tried this</p>\n\n<pre><code>fun &lt;T&gt; displayTotalSelectedInt(btn: ListItemButton, items: \n    MutableList&lt;T&gt;?, resId: Int) {\n    btn.text = if ((items == null) || (items.size == 0)) getString(resId) else getString(resId) + \"  (\" + items.size + \")\"\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11647945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hP0jkn1nl0Y/AAAAAAAAAAI/AAAAAAAAACQ/INuBcpEQass/photo.jpg?sz=128", "display_name": "Big Star", "link": "https://stackoverflow.com/users/11647945/big-star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 56669440, "answer_count": 1, "score": -1, "last_activity_date": 1560952618, "creation_date": 1560951981, "question_id": 56669225, "link": "https://stackoverflow.com/questions/56669225/declare-a-function-using-a-generic-parameter", "title": "Declare a function using a generic parameter", "body": "<p>I have these two functions:</p>\n\n<pre><code>fun displayTotalSelectedString(btn: ListItemButton, items: MutableList&lt;String&gt;?, resId: Int) {\n    btn.text = if ((items == null) || (items.size == 0)) getString(resId) else getString(resId) + \"  (\" + items.size + \")\"\n}\n\nfun displayTotalSelectedInt(btn: ListItemButton, items: MutableList&lt;Int&gt;?, resId: Int) {\n    btn.text = if ((items == null) || (items.size == 0)) getString(resId) else getString(resId) + \"  (\" + items.size + \")\"\n}\n</code></pre>\n\n<p>They are almost identical except the second parameter in both functions. One takes a generic String while the other an Int.</p>\n\n<p>Is there a way to create just a single function that would handle both generics. I tried <code>MutableList&lt;Any&gt;?</code> but that gets rejected.</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "edited": false, "score": 0, "creation_date": 1560951372, "post_id": 56668934, "comment_id": 99905628, "body": "Share your xml layout"}, {"owner": {"reputation": 3666, "user_id": 1987392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a679c9771135acd5e4054f1476ecea62?s=128&d=identicon&r=PG", "display_name": "user1987392", "link": "https://stackoverflow.com/users/1987392/user1987392"}, "edited": false, "score": 0, "creation_date": 1595528775, "post_id": 56668934, "comment_id": 111514492, "body": "Did you solve this? 0-arg constructor did not help me at all. For me it looks like it&#39;s Proguard. Check my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 1784430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZNznH.jpg?s=128&g=1", "display_name": "clavio", "link": "https://stackoverflow.com/users/1784430/clavio"}, "edited": false, "score": 0, "creation_date": 1560953588, "post_id": 56669540, "comment_id": 99907047, "body": "I will look into that.  Do you have any tips on how to reproduce the crash?"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "reply_to_user": {"reputation": 885, "user_id": 1784430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZNznH.jpg?s=128&g=1", "display_name": "clavio", "link": "https://stackoverflow.com/users/1784430/clavio"}, "edited": false, "score": 3, "creation_date": 1560953710, "post_id": 56669540, "comment_id": 99907124, "body": "&quot;Don&#39;t keep activities&quot; developer setting forces activities to save state when going to another activity, triggering a restore when coming back."}, {"owner": {"reputation": 2185, "user_id": 973919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/872fbcf803b76777b0e48dc58957f8ec?s=128&d=identicon&r=PG", "display_name": "xarlymg89", "link": "https://stackoverflow.com/users/973919/xarlymg89"}, "edited": false, "score": 0, "creation_date": 1562054248, "post_id": 56669540, "comment_id": 100246317, "body": "Do you know @laalto if by any chance the <code>NoSuchMethodException</code> has associated the name of the <code>Fragment</code> that is failing to meet this situation? I believe I&#39;ve isolated the case but I&#39;m not sure cause I wasn&#39;t able to reproduce this error on my own device / emulator."}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "reply_to_user": {"reputation": 2185, "user_id": 973919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/872fbcf803b76777b0e48dc58957f8ec?s=128&d=identicon&r=PG", "display_name": "xarlymg89", "link": "https://stackoverflow.com/users/973919/xarlymg89"}, "edited": false, "score": 0, "creation_date": 1562059117, "post_id": 56669540, "comment_id": 100248848, "body": "@xarlymg89 Yes; Google Play developer console however eats away exception details. You can use some other crash reporting tool such as Crashlytics to get exception message details included."}, {"owner": {"reputation": 2185, "user_id": 973919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/872fbcf803b76777b0e48dc58957f8ec?s=128&d=identicon&r=PG", "display_name": "xarlymg89", "link": "https://stackoverflow.com/users/973919/xarlymg89"}, "edited": false, "score": 0, "creation_date": 1562060791, "post_id": 56669540, "comment_id": 100249743, "body": "I&#39;m actually using Crashlytics too, however that very exception didn&#39;t show up there. Will have to wait to see if it&#39;s been solved or not then :) Thanks anyway!"}, {"owner": {"reputation": 2752, "user_id": 2310639, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tnoLG.gif?s=128&g=1", "display_name": "ch3tanz", "link": "https://stackoverflow.com/users/2310639/ch3tanz"}, "edited": false, "score": 1, "creation_date": 1574523691, "post_id": 56669540, "comment_id": 104266649, "body": "@laalto How to fix this issue ?"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "reply_to_user": {"reputation": 2752, "user_id": 2310639, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tnoLG.gif?s=128&g=1", "display_name": "ch3tanz", "link": "https://stackoverflow.com/users/2310639/ch3tanz"}, "edited": false, "score": 3, "creation_date": 1574532895, "post_id": 56669540, "comment_id": 104269350, "body": "@ch3tanz remove explicit constructor(s) or add a 0-arg one."}, {"owner": {"reputation": 2752, "user_id": 2310639, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tnoLG.gif?s=128&g=1", "display_name": "ch3tanz", "link": "https://stackoverflow.com/users/2310639/ch3tanz"}, "edited": false, "score": 1, "creation_date": 1574536001, "post_id": 56669540, "comment_id": 104270230, "body": "@laalto I&#39;m using navigation graph for fragments with androidx library"}, {"owner": {"reputation": 2654, "user_id": 3917064, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/eS3Ul.jpg?s=128&g=1", "display_name": "Orbit", "link": "https://stackoverflow.com/users/3917064/orbit"}, "reply_to_user": {"reputation": 2185, "user_id": 973919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/872fbcf803b76777b0e48dc58957f8ec?s=128&d=identicon&r=PG", "display_name": "xarlymg89", "link": "https://stackoverflow.com/users/973919/xarlymg89"}, "edited": false, "score": 0, "creation_date": 1581378544, "post_id": 56669540, "comment_id": 106405499, "body": "@xarlymg89 That&#39;s very strange - we&#39;re seeing this error as well, and our other crash reporting systems did not report it. The only place the error is showing up is the Play Console."}, {"owner": {"reputation": 2246, "user_id": 2326640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cce94cdbd60a4429c2320c26dd49f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Zhar", "link": "https://stackoverflow.com/users/2326640/zhar"}, "edited": false, "score": 4, "creation_date": 1581528811, "post_id": 56669540, "comment_id": 106468159, "body": "no one has full explanation and how to solve it ? i have the 0 arg constructor and still get this error..."}], "tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": true, "score": 9, "last_activity_date": 1560952902, "creation_date": 1560952902, "answer_id": 56669540, "question_id": 56668934, "link": "https://stackoverflow.com/questions/56668934/java-lang-nosuchmethodexception-for-oncreate/56669540#56669540", "title": "java.lang.NoSuchMethodException for onCreate", "body": "<p>The activity is being restored from an instance state bundle. Part of the restore operation is recreating its fragments.</p>\n\n<p>Your activity has a fragment and the fragment class does not have a 0-arg constructor required by the framework.</p>\n"}, {"comments": [{"owner": {"reputation": 1073, "user_id": 7215856, "user_type": "registered", "profile_image": "https://graph.facebook.com/1124598097654902/picture?type=large", "display_name": "Saiful Islam Sajib", "link": "https://stackoverflow.com/users/7215856/saiful-islam-sajib"}, "edited": false, "score": 0, "creation_date": 1608649535, "post_id": 60258592, "comment_id": 115643935, "body": "FragmentStatePagerAdapter was the problem for mine, after changing to FragmentPagerAdapter worked for me. Thanks."}], "tags": [], "owner": {"reputation": 16840, "user_id": 717559, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/292d20a12747d59655871c3ecc2503c8?s=128&d=identicon&r=PG", "display_name": "Danpe", "link": "https://stackoverflow.com/users/717559/danpe"}, "is_accepted": false, "score": 3, "last_activity_date": 1581928704, "creation_date": 1581928704, "answer_id": 60258592, "question_id": 56668934, "link": "https://stackoverflow.com/questions/56668934/java-lang-nosuchmethodexception-for-oncreate/60258592#60258592", "title": "java.lang.NoSuchMethodException for onCreate", "body": "<p>My Activity had a <code>FragmentPagerAdapter</code> that was using the deperecated constructor.\nI changed </p>\n\n<pre><code>class MyPagerAdapter(\n        fragmentManager: FragmentManager,\n        private val myActivity: MyActivity\n    ) : FragmentPagerAdapter(fragmentManager) // DEPRECATED\n</code></pre>\n\n<p>to </p>\n\n<pre><code>class MyPagerAdapter(\n        fragmentManager: FragmentManager,\n        private val myActivity: MyActivity\n    ) : FragmentPagerAdapter(fragmentManager, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT)\n</code></pre>\n\n<p>Seem to have fixed the problem</p>\n"}, {"tags": [], "owner": {"reputation": 2246, "user_id": 2326640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cce94cdbd60a4429c2320c26dd49f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Zhar", "link": "https://stackoverflow.com/users/2326640/zhar"}, "is_accepted": false, "score": 2, "last_activity_date": 1584096858, "creation_date": 1584096858, "answer_id": 60669163, "question_id": 56668934, "link": "https://stackoverflow.com/questions/56668934/java-lang-nosuchmethodexception-for-oncreate/60669163#60669163", "title": "java.lang.NoSuchMethodException for onCreate", "body": "<p>After some search i finally fix the issue. You have to check 3 things.</p>\n\n<ol>\n<li>You should have a 0-arg constructor in the fragment, best practice is to do something like bellow</li>\n<li>If you are using callback in the caller, you have to check if getContext is <code>null</code> or not (otherwise you will get a NullPointerException)</li>\n<li>Don't forget to test the case when the screen orientation change, this will allow you to reproduce some potential issue due to restoring fragment state</li>\n</ol>\n\n<p>Sample code example :</p>\n\n<pre><code>    public class MyDialogFragment extends DialogFragment{\n     private String id;\n\n     public static MyDialogFragment newInstance(String id) {\n        MyDialogFragment f = new MyDialogFragment ();\n\n        Bundle args = new Bundle();\n        if(id!= null){\n            args.putString(\"id\", id);\n        }\n        f.setArguments(args);\n\n        return f;\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if(savedInstanceState != null){\n            id= savedInstanceState.getString(\"id\");\n        }\n    }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "edited": false, "score": 1, "creation_date": 1610960928, "post_id": 63060778, "comment_id": 116287834, "body": "With this rule, all of your fragments will not minified and it&#39;s not a good practice"}], "tags": [], "owner": {"reputation": 3666, "user_id": 1987392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a679c9771135acd5e4054f1476ecea62?s=128&d=identicon&r=PG", "display_name": "user1987392", "link": "https://stackoverflow.com/users/1987392/user1987392"}, "is_accepted": false, "score": 3, "last_activity_date": 1602488083, "last_edit_date": 1602488083, "creation_date": 1595528675, "answer_id": 63060778, "question_id": 56668934, "link": "https://stackoverflow.com/questions/56668934/java-lang-nosuchmethodexception-for-oncreate/63060778#63060778", "title": "java.lang.NoSuchMethodException for onCreate", "body": "<p>I'm having the same issue. The other answers did not help.</p>\n<p>For me, it looks like it is Proguard. That explains why it only happens in production/release builds and why I have been unable to reproduce it when debugging.</p>\n<p>If you're having OP's issue, try the following:</p>\n<ol>\n<li>Build the obfuscated .apk. I used the signed one, that I publish to the app stores...</li>\n<li>Enable &quot;Don't Keep Activities&quot; in your device's developer options.</li>\n<li>Install the .apk in your device and open the Activity that crashes and contains the Fragment.</li>\n<li>Leave your app (Minimize / Home button / ...) and re-open it from the recent apps menu.</li>\n</ol>\n<p>Does it crash? Then try it with the un-obfuscated debug build. If it doesn't then it's probably Proguard.</p>\n<p>To fix it I did the following:</p>\n<ol>\n<li>Create a proguard-rules.pro file in your app module's root folder.</li>\n<li>Add -keep class * extends androidx.fragment.app.Fragment{} to that file.</li>\n<li>Then, in the app's build.gradle,</li>\n</ol>\n<p>add:</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n<p>See Yaroslav Mytkalyk's answer here: <a href=\"https://stackoverflow.com/questions/21562148/fragment-instantiation-crash\">Fragment Instantiation crash</a>, which helped me solve this, although it's a bit old and outdated by now (e.g. &quot;runProguard true&quot; is obsolete).</p>\n<p>At least now it doesn't crash when I do the steps above.</p>\n<p><em>PS: I did this in conjunction with adding the 0-arg constructors to my fragments, as mentioned in other answers, since that was my first fixing attempt. I believe that Proguard alone was the issue and that it isn't necessary to add said constructors, but I cannot test that hypothesis now.</em></p>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 1124866, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/309a6de4e95a2ce2001ad1294b060213?s=128&d=identicon&r=PG", "display_name": "Salvador", "link": "https://stackoverflow.com/users/1124866/salvador"}, "is_accepted": false, "score": 0, "last_activity_date": 1615070503, "creation_date": 1615070503, "answer_id": 66511401, "question_id": 56668934, "link": "https://stackoverflow.com/questions/56668934/java-lang-nosuchmethodexception-for-oncreate/66511401#66511401", "title": "java.lang.NoSuchMethodException for onCreate", "body": "<p>As already said the problem is a missing 0-arg constructor in the Fragment.<br>\nIn my case the constructor was removed from a <code>DialogFragment</code> by the code shrinking of the release variant.</p>\n<p>To reproduce the crash, build the app with <code>minifyEnabled true</code>, popup the DialogFragment and rotate the device screen.</p>\n<p>A simple solution to keep the 0-arg constructor is to add a <code>@Keep</code> annotation:</p>\n<pre><code>public class MyDialogFragment extends DialogFragment {\n    @Keep\n    public MyDialogFragment() {}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11235853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zaNw1GomJ6E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcUkHclMaH_C4GcY_4u8VD5SKmV-A/mo/photo.jpg?sz=128", "display_name": "Imran Vora", "link": "https://stackoverflow.com/users/11235853/imran-vora"}, "is_accepted": false, "score": -1, "last_activity_date": 1616654874, "last_edit_date": 1616654874, "creation_date": 1616585018, "answer_id": 66780003, "question_id": 56668934, "link": "https://stackoverflow.com/questions/56668934/java-lang-nosuchmethodexception-for-oncreate/66780003#66780003", "title": "java.lang.NoSuchMethodException for onCreate", "body": "<p>System not able to restore your fragment due to missing zero-argument constructor for your fragment.</p>\n<p>Adding a zero-argument constructor to all your fragment will solve error.</p>\n<pre><code>public YourFragment() {}\n</code></pre>\n"}], "owner": {"reputation": 885, "user_id": 1784430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZNznH.jpg?s=128&g=1", "display_name": "clavio", "link": "https://stackoverflow.com/users/1784430/clavio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3674, "favorite_count": 5, "accepted_answer_id": 56669540, "answer_count": 6, "score": 18, "last_activity_date": 1616654874, "creation_date": 1560951179, "question_id": 56668934, "link": "https://stackoverflow.com/questions/56668934/java-lang-nosuchmethodexception-for-oncreate", "title": "java.lang.NoSuchMethodException for onCreate", "body": "<p>I see crashes in the Google Play crash log that is really stumping me.</p>\n\n<pre><code>java.lang.RuntimeException: \n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3086)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3229)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:78)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:108)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:68)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1926)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loop (Looper.java:214)\n  at android.app.ActivityThread.main (ActivityThread.java:6981)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:493)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1445)\nCaused by: androidx.fragment.app.Fragment$InstantiationException: \n  at androidx.fragment.app.Fragment.instantiate (Fragment.java:462)\n  at androidx.fragment.app.FragmentContainer.instantiate (FragmentContainer.java:50)\n  at androidx.fragment.app.FragmentState.instantiate (FragmentState.java:80)\n  at androidx.fragment.app.FragmentManagerImpl.restoreAllState (FragmentManager.java:3109)\n  at androidx.fragment.app.FragmentController.restoreAllState (FragmentController.java:158)\n  at androidx.fragment.app.FragmentActivity.onCreate (FragmentActivity.java:344)\n  at androidx.appcompat.app.AppCompatActivity.onCreate (AppCompatActivity.java:85)\n  at com.autotask.jbarra.kotlinmvvm.MainActivity.onCreate (MainActivity.kt:102)\n  at android.app.Activity.performCreate (Activity.java:7326)\n  at android.app.Activity.performCreate (Activity.java:7317)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1271)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3066)\n\nCaused by: java.lang.NoSuchMethodException: \n  at java.lang.Class.getConstructor0 (Class.java:2328)\n  at java.lang.Class.getConstructor (Class.java:1725)\n  at androidx.fragment.app.Fragment.instantiate (Fragment.java:443)\n</code></pre>\n\n<p>the thing is, line 102 of Main activity is nothing special</p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState) //This is line 102\n</code></pre>\n\n<p>What could cause this?  Why is oncreate throwing no such method?  It's happening on a few user's devices and I haven't been able to reproduce it.  </p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 4470, "user_id": 55845, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/04fc221b1a9766e202d71ed1de93fd35?s=128&d=identicon&r=PG", "display_name": "JamieH", "link": "https://stackoverflow.com/users/55845/jamieh"}, "edited": false, "score": 0, "creation_date": 1560970133, "post_id": 56668878, "comment_id": 99915538, "body": "Can you give me a hint on how I can use that in this case because it&#39;s not obvious to me how this helps."}, {"owner": {"reputation": 1190, "user_id": 2196138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B0JAG.jpg?s=128&g=1", "display_name": "Elli White", "link": "https://stackoverflow.com/users/2196138/elli-white"}, "edited": false, "score": 1, "creation_date": 1561741477, "post_id": 56668878, "comment_id": 100175739, "body": "<code>withLatestFrom</code> will wait until there is an item emitted by all observables being combined, the upstream observable (your source that calls <code>queueItemAvailable</code>), and the <code>checkforWifiFunction</code>. Once both source observables emit, you can use the BiFunction from withLatestFrom to actually operate on the results of both functions."}], "tags": [], "owner": {"reputation": 1499, "user_id": 3937903, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/H73KC.jpg?s=128&g=1", "display_name": "oziomajnr", "link": "https://stackoverflow.com/users/3937903/oziomajnr"}, "is_accepted": false, "score": 0, "last_activity_date": 1561737636, "last_edit_date": 1561737636, "creation_date": 1560951038, "answer_id": 56668878, "question_id": 56668841, "link": "https://stackoverflow.com/questions/56668841/rxjava2-block-stream-until-condition-is-satisfied/56668878#56668878", "title": "RXJava2 block stream until condition is satisfied", "body": "<p>Ok you should try to combine the two observables, the one for uploading the items and the one for checking if wifi is available, I think you should move the whole network connectivity check into another method and return on</p>\n\n<p><code>ReactiveNetwork.observeNetworkConnectivity(application)\n    .flatMap { queueItemAvailable() }\n    .withLatestFrom {checkForWifiConnection(),  BiFunction&lt;QueueResult, Boolean, Pair&lt; Boolean, QueueResult&gt;&gt;\n    { wifiAvailable, queueResult -&gt;\n      Pair(queueResult, wifiAvailable)\n       }).filter { it.first }\n    .flatMap { audioSampleUploader.uploadFile(it) }\n    .subscribeOn(Schedulers.single())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe { // SOMETHING HERE }</code></p>\n\n<p>pardon the code formatting, but the idea is to combine the Observables and return a pair and only emit values when wifi connection is available. I believe you can also use the <code>zipwith</code> operator to combine the observables.</p>\n"}], "owner": {"reputation": 4470, "user_id": 55845, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/04fc221b1a9766e202d71ed1de93fd35?s=128&d=identicon&r=PG", "display_name": "JamieH", "link": "https://stackoverflow.com/users/55845/jamieh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561737636, "creation_date": 1560950915, "question_id": 56668841, "link": "https://stackoverflow.com/questions/56668841/rxjava2-block-stream-until-condition-is-satisfied", "title": "RXJava2 block stream until condition is satisfied", "body": "<p>I have a queue of files to be uploaded which are emitted by an Observable and I'd like to only upload files when I have a WIFI connection. I've got a solution which will only start emitting the queue when a WIFI connection is established, but ideally I'd like to check before emitting each queue item (and then blocking at this point until a WIFI connection is established). In this way the queue will block items being uploaded if the Wifi is disconnected during the queue upload and resume when it is re-established.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>ReactiveNetwork.observeNetworkConnectivity(application)\n    .filter(ConnectivityPredicate.hasState(NetworkInfo.State.CONNECTED))\n    .filter(ConnectivityPredicate.hasType(ConnectivityManager.TYPE_WIFI))\n    .take(1)\n    .toFlowable(BackpressureStrategy.BUFFER)\n    .flatMap { queueItemAvailable() }\n    .flatMap { audioSampleUploader.uploadFile(it) }\n    .subscribeOn(Schedulers.single())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe { // SOMETHING HERE }\n</code></pre>\n\n<p>So I'd like to move the </p>\n\n<pre><code>queueItemAvailable()\n</code></pre>\n\n<p>to the top level and then do a (blocking) network connectivity check for each item to upload, but I'm pretty rusty in my RxJava so can't figure out how to this.</p>\n\n<p>Any wisdom is greatly appreciated?</p>\n"}, {"tags": ["android", "kotlin", "android-camera", "android-bitmap"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560950521, "post_id": 56668665, "comment_id": 99905088, "body": "Where is <code>selectedImage</code> coming from? What is its value?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560951296, "post_id": 56668665, "comment_id": 99905577, "body": "Are you using <code>ACTION_IMAGE_CAPTURE</code>? If so, how does the user&#39;s chosen camera app know about <code>getTempFile()</code>? Why would an image wind up there? Are you using <code>EXTRA_OUTPUT</code> for that? If so, does <code>getTempFile()</code> return the same value on every call? Because, if not, then the camera app will have been told to save in one file, and you are looking in a different one."}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560950727, "creation_date": 1560950416, "last_edit_date": 1560950727, "question_id": 56668665, "link": "https://stackoverflow.com/questions/56668665/returned-image-from-camera-error-on-filedescriptors", "title": "Returned image from Camera error on fileDescriptors", "body": "<p>I want to open Camera and save image as bitmap after photo is taken. I've found solution, but part of it doesn't work properly.</p>\n\n<p>Do anyone know what can cause this exception? </p>\n\n<p><code>getImageFromResult()</code> is called inside <code>onActivityResult</code>.\nResult code is result code returned from Camera intent and <code>ImageReturnedIntent</code> is data(image).</p>\n\n<p>Exception: <code>fileDescriptorErr: open failed: ENOENT (No such file or directory) (decodeBitmap)</code> </p>\n\n<p>Code: </p>\n\n<pre><code>fun getImageFromResult(\n        context: Context, resultCode: Int,\n        imageReturnedIntent: Intent?\n    ): Bitmap? {\n        var bm: Bitmap? = null\n        val imageFile = getTempFile(context)\n        if (resultCode == RESULT_OK) {\n            val selectedImage: Uri?\n            val isCamera = imageReturnedIntent == null ||\n                    imageReturnedIntent.data == null ||\n                    imageReturnedIntent.data == Uri.fromFile(imageFile)\n            if (isCamera) {\n                /** CAMERA  */\n                selectedImage = Uri.fromFile(imageFile)\n            } else {\n                /** ALBUM  */\n                selectedImage = imageReturnedIntent!!.data\n            }\n            selectedPhotoName = selectedImage.toString()\n\n            bm = getImageResized(context, selectedImage)\n            val rotation = getRotation(context, selectedImage, isCamera)\n            bm = rotate(bm, rotation)\n        }\n        return bm\n    }\n\n    /**\n         * Resize to avoid using too much memory loading big images (e.g.: 4096\u2009\u00d7\u20092160)\n         */\n        private fun getImageResized(context: Context, selectedImage: Uri): Bitmap {\n            var bm: Bitmap\n            val sampleSizes = intArrayOf(5, 3, 2, 1)\n            var i = 0\n            do {\n                bm = decodeBitmap(context, selectedImage, sampleSizes[i])\n                i++\n            } while (bm.width &lt; DEFAULT_MIN_WIDTH_QUALITY &amp;&amp; i &lt; sampleSizes.size)\n            return bm\n        }\n\n        private fun decodeBitmap(context: Context, theUri: Uri, sampleSize: Int): Bitmap {\n            val options = BitmapFactory.Options()\n            options.inSampleSize = sampleSize\n\n            var fileDescriptor: AssetFileDescriptor? = null\n            try {\n                fileDescriptor = context.contentResolver.openAssetFileDescriptor(theUri, \"r\")\n\n            } catch (e: FileNotFoundException) {\n                App.log(\"CameraPhoto: fileDescriptorErr: ${e.message} (decodeBitmap) \")\n            }\n\n            val actuallyUsableBitmap = BitmapFactory.decodeFileDescriptor(\n                fileDescriptor?.fileDescriptor, null, options\n            )\n\n            return actuallyUsableBitmap\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-livedata", "android-mvvm"], "comments": [{"owner": {"reputation": 3048, "user_id": 2393309, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/b5FUE.jpg?s=128&g=1", "display_name": "Badhrinath Canessane", "link": "https://stackoverflow.com/users/2393309/badhrinath-canessane"}, "edited": false, "score": 0, "creation_date": 1561057430, "post_id": 56668522, "comment_id": 99950004, "body": "Please check the answer."}], "answers": [{"comments": [{"owner": {"reputation": 82, "user_id": 8349941, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JNmVHL1S8mo/AAAAAAAAAAI/AAAAAAAAABo/2Izv9bAivnI/photo.jpg?sz=128", "display_name": "chirag parekh", "link": "https://stackoverflow.com/users/8349941/chirag-parekh"}, "edited": false, "score": 1, "creation_date": 1561117466, "post_id": 56692364, "comment_id": 99968886, "body": "it&#39;s working perfectly fine. Thank you very much for your time. you just made my day :-)"}], "tags": [], "owner": {"reputation": 3048, "user_id": 2393309, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/b5FUE.jpg?s=128&g=1", "display_name": "Badhrinath Canessane", "link": "https://stackoverflow.com/users/2393309/badhrinath-canessane"}, "is_accepted": true, "score": 2, "last_activity_date": 1561057411, "creation_date": 1561057411, "answer_id": 56692364, "question_id": 56668522, "link": "https://stackoverflow.com/questions/56668522/how-to-update-live-data-of-the-viewmodel-when-click-is-performed-on-recyclervie/56692364#56692364", "title": "How to update live data of the viewModel, when click is performed on recyclerview item", "body": "<ol>\n<li>Introduce an item click callback to your adapter: </li>\n</ol>\n\n<pre><code>class AllUsersAdapter(private var gitUsersArrayList: ArrayList&lt;GitUsers&gt;,\n private val itemClickCallback: ((Boolean) -&gt; Unit)?) :\nRecyclerView.Adapter&lt;AllUsersAdapter.AllUsersViewHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AllUsersViewHolder {\n    val inflater: LayoutInflater = LayoutInflater.from(parent.context)\n    val v: View = inflater.inflate(R.layout.items_all_users, parent, false)\n    return AllUsersViewHolder(v)\n}\n\noverride fun getItemCount(): Int {\n    return gitUsersArrayList.size\n}\n\noverride fun onBindViewHolder(holder: AllUsersViewHolder, position: Int) {\n\n    holder.tvUserName.text = gitUsersArrayList[position].login\n\n    Glide.with(holder.itemView.context)\n        .load(gitUsersArrayList[position].avatarUrl)\n        .centerCrop()\n        .into(holder.imageView)\n\n    holder.checkBox.isSelected = gitUsersArrayList.get(position).isSelected\n\n    holder.checkBox.setOnCheckedChangeListener{compoundButton, isChecked -&gt;\n\n        if (isChecked){\n    /* Here I want to change the live data so I can observe that changes in my \nfragment and can have an effect in UI*/\n\n            Log.d(\"TESTC\",\"AllUsersAdapter IsChecked\")\n itemClickCallback?.invoke(true)\n        }else{\n            Log.d(\"TESTC\",\"AllUsersAdapter UnChecked\")\n itemClickCallback?.invoke(false)\n        }\n    }\n\n}\n\nclass AllUsersViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    var tvUserName: TextView = itemView.findViewById(R.id.tvUserName)\n    var imageView: ImageView = itemView.findViewById(R.id.imageView)\n    var checkBox: CheckBox = itemView.findViewById(R.id.checkBox)\n}\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Handle the click event in your fragment onViewCreated() where you initialise the adapter</li>\n</ol>\n\n<pre><code> val rvAdapter = AllUsersAdapter(\n            gitUsersArrayList = gitUsersArrayList, itemClickCallback = fun(status: Boolean) {\n                navController().navigate(\n                    viewModel.updateValue(status)\n                )\n            }\n        )\n\n</code></pre>\n\n<ol start=\"3\">\n<li>Create the required ViewModel function:</li>\n</ol>\n\n<pre><code>class MainActivityViewModel : ViewModel() {\n\nprivate var mutableLiveGitUsers: MutableLiveData&lt;ArrayList&lt;GitUsers&gt;&gt;? = null\nprivate lateinit var gitUsersRepository: GitUsersRepository\nvar allUsersListener: AllUsersListener? = null\n\nfun init() {\n\n    gitUsersRepository = GitUsersRepository()\n    allUsersListener?.onStarted()\n    mutableLiveGitUsers = gitUsersRepository.getGitUsers()\n    allUsersListener?.onSuccess(mutableLiveGitUsers!!)\n}\n\nfun getGitUsersData(): MutableLiveData&lt;ArrayList&lt;GitUsers&gt;&gt;? {\n    return mutableLiveGitUsers\n}\n\nfun updateValue(status: Boolean) {\n//@Todo Set new value based on status received\n     // mutableLiveGitUsers.value = \n}\n}\n</code></pre>\n"}], "owner": {"reputation": 82, "user_id": 8349941, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JNmVHL1S8mo/AAAAAAAAAAI/AAAAAAAAABo/2Izv9bAivnI/photo.jpg?sz=128", "display_name": "chirag parekh", "link": "https://stackoverflow.com/users/8349941/chirag-parekh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2825, "favorite_count": 0, "accepted_answer_id": 56692364, "answer_count": 1, "score": 4, "last_activity_date": 1593472697, "creation_date": 1560949990, "question_id": 56668522, "link": "https://stackoverflow.com/questions/56668522/how-to-update-live-data-of-the-viewmodel-when-click-is-performed-on-recyclervie", "title": "How to update live data of the viewModel, when click is performed on recyclerview item", "body": "<p>I am new to the Kotlin and I am trying to create an application with MVVM.\nso what I am trying to do is to make a web call using retrofit in the repository and returning data to the view model and then observing the data from the fragment and as soon as data changes I am notifying it to the recycler view adapter everything is working fine.\nNow, the problem is I want to update that live data of ViewHolder from the recyclerview. when I click on the CheckBox in recyclerView the data should be updated. But I don't know what is the actual way of doing this.</p>\n\n<p>Here is my ViewHolder.</p>\n\n<pre><code>class MainActivityViewModel : ViewModel() {\n\nprivate var mutableLiveGitUsers: MutableLiveData&lt;ArrayList&lt;GitUsers&gt;&gt;? = null\nprivate lateinit var gitUsersRepository: GitUsersRepository\nvar allUsersListener: AllUsersListener? = null\n\nfun init() {\n\n    gitUsersRepository = GitUsersRepository()\n    allUsersListener?.onStarted()\n    mutableLiveGitUsers = gitUsersRepository.getGitUsers()\n    allUsersListener?.onSuccess(mutableLiveGitUsers!!)\n}\n\nfun getGitUsersData(): MutableLiveData&lt;ArrayList&lt;GitUsers&gt;&gt;? {\n    return mutableLiveGitUsers\n}\n</code></pre>\n\n<p>}</p>\n\n<p>here is how I observe changes in fragment</p>\n\n<pre><code>mutableLiveGitUsers.observe(this, Observer {\n        progressBar.hide()\n        rvAllUsersAdapter = AllUsersAdapter(mainActivityViewModel.getGitUsersData()?.value!!)\n        rvAllUsers.adapter = rvAllUsersAdapter\n        rvAllUsersAdapter.notifyDataSetChanged()\n    })\n</code></pre>\n\n<p>RecylerView Adapter</p>\n\n<pre><code>class AllUsersAdapter(private var gitUsersArrayList: ArrayList&lt;GitUsers&gt;) :\nRecyclerView.Adapter&lt;AllUsersAdapter.AllUsersViewHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AllUsersViewHolder {\n    val inflater: LayoutInflater = LayoutInflater.from(parent.context)\n    val v: View = inflater.inflate(R.layout.items_all_users, parent, false)\n    return AllUsersViewHolder(v)\n}\n\noverride fun getItemCount(): Int {\n    return gitUsersArrayList.size\n}\n\noverride fun onBindViewHolder(holder: AllUsersViewHolder, position: Int) {\n\n    holder.tvUserName.text = gitUsersArrayList[position].login\n\n    Glide.with(holder.itemView.context)\n        .load(gitUsersArrayList[position].avatarUrl)\n        .centerCrop()\n        .into(holder.imageView)\n\n    holder.checkBox.isSelected = gitUsersArrayList.get(position).isSelected\n\n    holder.checkBox.setOnCheckedChangeListener{compoundButton, isChecked -&gt;\n\n        if (isChecked){\n    /* Here I want to change the live data so I can observe that changes in my \nfragment and can have an effect in UI*/\n\n            Log.d(\"TESTC\",\"AllUsersAdapter IsChecked\")\n        }else{\n            Log.d(\"TESTC\",\"AllUsersAdapter UnChecked\")\n        }\n    }\n\n}\n\nclass AllUsersViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    var tvUserName: TextView = itemView.findViewById(R.id.tvUserName)\n    var imageView: ImageView = itemView.findViewById(R.id.imageView)\n    var checkBox: CheckBox = itemView.findViewById(R.id.checkBox)\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1560949832, "post_id": 56668317, "comment_id": 99904657, "body": "Unsure if this is related to your problem or not, but <code>launch</code> starts a job that might run in parallel to the downloading. You might want to use <code>withContext</code> instead, so that you can be sure that the progressbar is visible when you start downloading."}], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 2220839, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/48e540a51e40f605f018800a91d12d61?s=128&d=identicon&r=PG", "display_name": "moyo", "link": "https://stackoverflow.com/users/2220839/moyo"}, "edited": false, "score": 0, "creation_date": 1560950538, "post_id": 56668449, "comment_id": 99905101, "body": "But I want the progressBar to be visible during the entire for loop, shouldn&#39;t I set it as gone after the loop instead of inside the downloadFile function? In this case, it would be gone after the first font is downloaded it, no?"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1560950804, "last_edit_date": 1560950804, "creation_date": 1560949750, "answer_id": 56668449, "question_id": 56668317, "link": "https://stackoverflow.com/questions/56668317/kotlin-coroutines-why-cant-i-see-logs-until-the-end/56668449#56668449", "title": "Kotlin coroutines: why can&#39;t I see logs until the end?", "body": "<p>That's because your </p>\n\n<pre><code>for (font in jsonObject.fontList) {\n        if (!font.exists()) {\n            downloadFile(font)\n            Timber.d(\"file \" + font.id + \" downloaded: \" + font.exists())\n        } else {\n            Timber.d(\"file \" + font.id + \" already exists \")\n        }\n\n    }\n</code></pre>\n\n<p>runs in another thread, and delays the response.Therefore, you should modify you progress visibility after the <code>downloadFile</code> has finished.</p>\n\n<p>You should start the coroutine inside your <code>downloadFileMethod()</code> along with the progress bar switching on/off.</p>\n"}], "owner": {"reputation": 484, "user_id": 2220839, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/48e540a51e40f605f018800a91d12d61?s=128&d=identicon&r=PG", "display_name": "moyo", "link": "https://stackoverflow.com/users/2220839/moyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560950804, "creation_date": 1560949387, "question_id": 56668317, "link": "https://stackoverflow.com/questions/56668317/kotlin-coroutines-why-cant-i-see-logs-until-the-end", "title": "Kotlin coroutines: why can&#39;t I see logs until the end?", "body": "<p>I'm new with kotlin coroutines and have some doubts. So I'm trying to download a list of fonts using a kotlin coroutine, and I added some logs to see when a font is downloaded, or a message when it already existed. I was expecting to see one log each time a font is accessed, however I see only the progressBar, and when it gets hidden, I see all the logs at once. Am I doing something wrong?</p>\n\n<pre><code>private fun init() {\n    val job = Job()\n    val bgScope = CoroutineScope(Dispatchers.IO + job)\n\n    bgScope.launch {\n        getStuff()\n    }\n}\n\nfun getStuff() {\n    val uiScope = CoroutineScope(Dispatchers.Main + Job())\n    uiScope.launch {\n        progressbar.visibility = View.VISIBLE\n    }\n\n    for (font in jsonObject.fontList) {\n        if (!font.exists()) {\n            downloadFile(font)\n            Timber.d(\"file \" + font.id + \" downloaded: \" + font.exists())\n        } else {\n            Timber.d(\"file \" + font.id + \" already exists \")\n        }\n\n    }\n\n    uiScope.launch {\n        progressbar.visibility = View.GONE\n    }\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin", "android-tv", "android-deep-link"], "comments": [{"owner": {"reputation": 484, "user_id": 1577237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1dd71ecb3810fd14e3828e97b7f830?s=128&d=identicon&r=PG", "display_name": "Dhara Vamja", "link": "https://stackoverflow.com/users/1577237/dhara-vamja"}, "edited": false, "score": 0, "creation_date": 1560950825, "post_id": 56667785, "comment_id": 99905278, "body": "when you tap on the <code>sharedLink</code>, Android will not display an app if it is not installed on a device. Your question is a bit confusing.  Can you give more details about your requirement?"}, {"owner": {"reputation": 601, "user_id": 6301831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3db4ab86fcc617166c4be1618bdb7d6?s=128&d=identicon&r=PG", "display_name": "pantos27", "link": "https://stackoverflow.com/users/6301831/pantos27"}, "edited": false, "score": 0, "creation_date": 1566496659, "post_id": 56667785, "comment_id": 101684543, "body": "The other app should handle a specific deeplink like so <a href=\"https://developer.android.com/studio/write/app-link-indexing\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/app-link-indexing</a>"}, {"owner": {"reputation": 19, "user_id": 6614265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZHGxX4pf1L0/AAAAAAAAAAI/AAAAAAAAABI/0X0rZWHmKuA/photo.jpg?sz=128", "display_name": "Vetle", "link": "https://stackoverflow.com/users/6614265/vetle"}, "reply_to_user": {"reputation": 601, "user_id": 6301831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3db4ab86fcc617166c4be1618bdb7d6?s=128&d=identicon&r=PG", "display_name": "pantos27", "link": "https://stackoverflow.com/users/6301831/pantos27"}, "edited": false, "score": 0, "creation_date": 1567066793, "post_id": 56667785, "comment_id": 101854446, "body": "Yes, it is correct what @pantos27 is saying. It seems like the receiving app needs to have a <code>BroadcastReceiver()</code> which can listen to an event on when the app is installed."}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 6614265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZHGxX4pf1L0/AAAAAAAAAAI/AAAAAAAAABI/0X0rZWHmKuA/photo.jpg?sz=128", "display_name": "Vetle", "link": "https://stackoverflow.com/users/6614265/vetle"}, "is_accepted": true, "score": 0, "last_activity_date": 1567494340, "last_edit_date": 1567494340, "creation_date": 1567492065, "answer_id": 57766084, "question_id": 56667785, "link": "https://stackoverflow.com/questions/56667785/deferred-deep-linking-to-an-external-app-on-android/57766084#57766084", "title": "Deferred deep-linking to an external app on android", "body": "<p>It is correct what @pantos27 is saying. It seems like the receiving app needs to have a <code>BroadcastReceiver()</code> which can listen to an <code>event</code> on when the app is installed.\nSee <a href=\"https://developer.android.com/guide/components/broadcasts\" rel=\"nofollow noreferrer\">Official Docs</a> for more details</p>\n"}], "owner": {"reputation": 19, "user_id": 6614265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZHGxX4pf1L0/AAAAAAAAAAI/AAAAAAAAABI/0X0rZWHmKuA/photo.jpg?sz=128", "display_name": "Vetle", "link": "https://stackoverflow.com/users/6614265/vetle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 57766084, "answer_count": 1, "score": 1, "last_activity_date": 1567494340, "creation_date": 1560947721, "last_edit_date": 1562567961, "question_id": 56667785, "link": "https://stackoverflow.com/questions/56667785/deferred-deep-linking-to-an-external-app-on-android", "title": "Deferred deep-linking to an external app on android", "body": "<p>I want to do deferred deep-link from my app to an external app (app I am not in control of) on android. \nIt works perfectly to both open the app in playstore if it is not installed on the device, and it works if the app is indeed installed and open an intent at a specific location in the app. \nI am struggling with doing the installation of the app and then when user opens the app, redirecting to the location specified by the Intent.</p>\n\n<p>The way I'm doing it now is checking whether the app is installed or not, and if it is installed I open it with the intent that opens the app in the desired location. These 2 intents acts as I anticipate: first opens the play store and installs the app, the other opens the app at a specific location.</p>\n\n<pre><code>    fun start() {\n        if (isAppInstalled()) {\n            startAppWithIntent(deepLink)\n        } else {\n            goToPlayStore()\n        }\n    }\n\n    private fun isAppInstalled(): Boolean =\n        activity.packageManager.getLaunchIntentForPackage(\"com.myapp.xx\") != null\n\n    private fun startAppWithIntent(deepLink: String) {\n        val startAssetIntent = Intent(Intent.ACTION_VIEW, Uri.parse(deepLink))\n        activity.startActivity(startAssetIntent)\n    }\n\n    private fun goToPlayStore() {\n        val goToPlayStoreIntent = Intent(\n            Intent.ACTION_VIEW, Uri.parse(\"https://play.google.com/store/apps/details?id=com.myapp.xx\")\n        ).apply {\n            setPackage(\"com.android.vending\")\n        }\n\n        activity.startActivity(goToPlayStoreIntent)\n        activity.finish()\n    }\n</code></pre>\n\n<p>The problem with this however is that when the app is not installed and user installs and opens the app, it opens at the homepage of the app.</p>\n\n<p>How can I construct an Intent that first installs the app and then proceeds to open the app at the desired location in one go? Is it even possible? Or is this the responsibility of the installed app?</p>\n"}, {"tags": ["android", "kotlin", "collections", "contains"], "comments": [{"owner": {"reputation": 19418, "user_id": 436938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72902e381169328186e2b089032aeee1?s=128&d=identicon&r=PG", "display_name": "Sergey Glotov", "link": "https://stackoverflow.com/users/436938/sergey-glotov"}, "edited": false, "score": 0, "creation_date": 1560947655, "post_id": 56667576, "comment_id": 99903248, "body": "Does contact class override equals method?"}], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 8907549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFMQM.png?s=128&g=1", "display_name": "melanzane", "link": "https://stackoverflow.com/users/8907549/melanzane"}, "reply_to_user": {"reputation": 129, "user_id": 7404082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2efcd98eb0416658c21a3f9b43c791?s=128&d=identicon&r=PG&f=1", "display_name": "Amar Giram", "link": "https://stackoverflow.com/users/7404082/amar-giram"}, "edited": false, "score": 0, "creation_date": 1560949824, "post_id": 56667829, "comment_id": 99904650, "body": "You dont compare the contact object with the contacts list. You loop through the list and compare each list item namely a contact object to your comparable contact object. If you cant get a grip on it, ask this question in a new thread."}], "tags": [], "owner": {"reputation": 390, "user_id": 8907549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFMQM.png?s=128&g=1", "display_name": "melanzane", "link": "https://stackoverflow.com/users/8907549/melanzane"}, "is_accepted": true, "score": 2, "last_activity_date": 1560948509, "last_edit_date": 1560948509, "creation_date": 1560947863, "answer_id": 56667829, "question_id": 56667576, "link": "https://stackoverflow.com/questions/56667576/contains-method-returns-always-false/56667829#56667829", "title": "Contains method returns always false?", "body": "<p>You need to override the <code>equals(...)</code> method and write your custom implementation that returns true if the <code>name</code> and the <code>phoneNumber</code> are the same. \nFor example like this:</p>\n\n<pre><code>override fun equals(other: Any?): Boolean {\n           if(other == null || other !is ContactClassObject)\n               return false\n           return name == other.ContactName &amp;&amp; phoneNumber==other.phoneNumber\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 483, "user_id": 2132115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8d32b5dc86ec7a2b9f068b4613f10b?s=128&d=identicon&r=PG", "display_name": "cesarmarch", "link": "https://stackoverflow.com/users/2132115/cesarmarch"}, "edited": false, "score": 0, "creation_date": 1560949306, "post_id": 56667881, "comment_id": 99904320, "body": "melanzane&#39;s solution is the good one. Here, you just kind of recreate the <code>contains</code> method by yourself."}], "tags": [], "owner": {"reputation": 2058, "user_id": 4310861, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0bcd1009a856e95940622c9f4d38b0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Exigente05", "link": "https://stackoverflow.com/users/4310861/exigente05"}, "is_accepted": false, "score": -2, "last_activity_date": 1560948025, "creation_date": 1560948025, "answer_id": 56667881, "question_id": 56667576, "link": "https://stackoverflow.com/questions/56667576/contains-method-returns-always-false/56667881#56667881", "title": "Contains method returns always false?", "body": "<p>You are setting values in <strong>contactVO</strong> object if your arraylist does not contains this. \nWhat are the values for each variable of <strong>contactVO</strong> while checking contains method? \nYou can't do like this. You need to check one specific variable for each arraylist item to make decision, should it add into or not.\nGo through loop and then check phone number if does not match then add into list.\nFollow below code,</p>\n\n<pre><code>boolean insert = true;\n\n    for(int i = 0; i &lt; phoneContactVOList.size(); i++){\n\n        if (phoneContactVOList.get(i).ContactNumber.equals(phoneNumber)){\n\n            insert = false;\n\n            break;\n        }\n    }\n\n    if (insert){\n        //set phoneContactVOList variable values\n        phoneContactVOList.add(contactVO);\n    }\n</code></pre>\n\n<p><em>## Before starting loop you need to set insert variable value false</em></p>\n"}], "owner": {"reputation": 129, "user_id": 7404082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2efcd98eb0416658c21a3f9b43c791?s=128&d=identicon&r=PG&f=1", "display_name": "Amar Giram", "link": "https://stackoverflow.com/users/7404082/amar-giram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 56667829, "answer_count": 2, "score": 0, "last_activity_date": 1560948815, "creation_date": 1560947070, "last_edit_date": 1560948815, "question_id": 56667576, "link": "https://stackoverflow.com/questions/56667576/contains-method-returns-always-false", "title": "Contains method returns always false?", "body": "<p>i am fetching contacts and adding to a list.list contains duplicate contacts too,i have to remove duplicate contacts at the time of adding to list.</p>\n\n<p>i am using contains method at the time of adding to list but contains method always returns false even there is same element in list.</p>\n\n<pre><code>if (!phoneContactVOList.contains(contactVO)) {\n    contactVO.ContactName = name\n    contactVO.ContactNumber = phoneNumber\n\n    phoneContactVOList.add(contactVO)\n}\n</code></pre>\n\n<p>here above code i am trying to add only unique contacts in list but duplicate contacts also adding.</p>\n"}, {"tags": ["inheritance", "kotlin", "collections", "abstract-class"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1560969525, "post_id": 56666849, "comment_id": 99915251, "body": "Look at Java&#39;s <code>List.of</code>, or at <code>Collections.singletonList</code>. They also return <code>List</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1560944673, "creation_date": 1560944673, "answer_id": 56666918, "question_id": 56666849, "link": "https://stackoverflow.com/questions/56666849/are-kotlin-lists-instantiable-interfaces/56666918#56666918", "title": "Are Kotlin Lists... &quot;instantiable&quot; interfaces?", "body": "<p>listOf returns implementations of List interface - either EmptyList, Collections.singletonList(element) or elements.asList()</p>\n\n<p>I would say that you should use listOf exactly for point number 3 :)</p>\n"}, {"comments": [{"owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1561301610, "post_id": 56669340, "comment_id": 100010073, "body": "<code>List</code> requires me to implement methods like <code>size</code>, etc. because it is just an interface. That is why I want to extend an already implemented type not an interface. I mentioned this in the question."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1561316934, "post_id": 56669340, "comment_id": 100013884, "body": "Why do you need to extend a class at all?  If you just want a fixed list, <code>listOf()</code> is probably the simplest option.  If you need to add/override your own functionality, you can extend an existing implementation such as <code>ArrayList</code>, or whatever else seems appropriate.  Or you can delegate to any <code>List</code>."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1560956140, "last_edit_date": 1560956140, "creation_date": 1560952296, "answer_id": 56669340, "question_id": 56666849, "link": "https://stackoverflow.com/questions/56666849/are-kotlin-lists-instantiable-interfaces/56669340#56669340", "title": "Are Kotlin Lists... &quot;instantiable&quot; interfaces?", "body": "<p>To extend r2rek's answer:</p>\n\n<blockquote>\n  <ol>\n  <li>Is <code>List</code> instantiable?</li>\n  </ol>\n</blockquote>\n\n<p>No.\u00a0 As in Java, it's an interface.*</p>\n\n<p>(It differs from Java mainly in the Kotlin compiler hides all the mutation methods.\u00a0 Instead, those are available in a new sub-interface, <code>MutableList</code>.\u00a0 That makes it easier to tell the compiler what's mutable and what isn't.\u00a0 The JVM only sees <code>List</code>, though.)</p>\n\n<p>The REPL is telling you the type of the reference, not the type of the concrete class it's pointing to.\u00a0 Here's another example:</p>\n\n<pre><code>&gt;&gt;&gt; val n: Number = 1\n&gt;&gt;&gt; n\nres1: kotlin.Number = 1\n&gt;&gt;&gt; n::class\nres2: kotlin.reflect.KClass&lt;out kotlin.Number&gt; = class kotlin.Int\n</code></pre>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>If not then what does <code>listOf</code> return and why does Kotlin say it is a <code>List</code>?</li>\n  </ol>\n</blockquote>\n\n<p>It returns some implementation of <code>List</code>.\u00a0 It doesn't tell you which one, and your code shouldn't know or care.\u00a0 (If it does, you should create something more specific instead!)</p>\n\n<p>The <code>listOf()</code> method will of course know the concrete type it's creating, but the method signature simply returns <code>List</code>.\u00a0 This is so that it can return different implementations for different inputs.</p>\n\n<p>(For example, it may return the same empty list instance for every call with no elements; and it may choose different implementations for small and large lists.\u00a0 And future versions are free to tweak that for performance.\u00a0 As long as your code only relies on it returning something that implements <code>List</code>, then it'll still work fine.)</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>And what \"basic\" immutable collection [\u2026] should I extend knowing that I want to end up with a regular immutable collection with functionalities like filter/map/index/etdc. and with a few extra methods?</li>\n  </ol>\n</blockquote>\n\n<p>You're probably doing fine with whatever type of <code>List</code> <code>listOf()</code> gives you.</p>\n\n<p>You could write your own implementation if you needed some very unusual behaviour, but 99% of the time there's no real benefit (and lots of opportunity for making mistakes and losing out on future improvements).</p>\n\n<p>Remember that in addition to the basic methods that the <code>List</code> interface contains, Kotlin also lets you use the host of extension methods in the standard library (<code>any()</code>, <code>associate()</code>, <code>chunked()</code>, <code>count()</code>\u2026).\u00a0 So you get loads of functionality \u2018for free\u2019!</p>\n\n<hr>\n\n<p>(* To confuse the issue, Kotlin does have a function <code>fun &lt;T&gt; List(size: Int, init: (Int) -&gt; T): List&lt;T&gt;</code>.\u00a0 Calling this <em>looks</em> like calling a constructor, but it's not!)</p>\n"}], "owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560956140, "creation_date": 1560944396, "question_id": 56666849, "link": "https://stackoverflow.com/questions/56666849/are-kotlin-lists-instantiable-interfaces", "title": "Are Kotlin Lists... &quot;instantiable&quot; interfaces?", "body": "<p>So I have a class that models a string of bits. This would be great to do with a plain old list of ints but to practice a bit I wanted to derive a Kotlin collection.</p>\n\n<p>I want to derive a basic immutable collection. In Java <code>List</code> is an interface. In Kotlin this also seems to be the case. The documentation says it is, so logic says that it can't be instantiated. However... if that is the case then what does <code>listOf()</code> return?</p>\n\n<p>Runnig a simple <code>listOf()</code> in the Kotlin REPL gives a result that indicated that <code>List</code> is instantiable.</p>\n\n<pre><code>listOf(1,2,3)\nres: kotlin.collections.List&lt;kotlin.Int&gt; = [1, 2, 3]\n</code></pre>\n\n<p>My questions are: </p>\n\n<ol>\n<li>Is <code>List</code> instantiable? </li>\n<li>If not then what does <code>listOf</code> return and why does Kotlin say it is a <code>List</code>? </li>\n<li>And what \"basic\" immutable collection (that is already implemented so I don't have to implement it from scratch) should I extend knowing that I want to end up with a regular immutable collection with functionalities like filter/map/index/etdc. and with a few extra methods?</li>\n</ol>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560945142, "post_id": 56666510, "comment_id": 99901812, "body": "what does it mean &#39;on the right position&#39; ?"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1560956490, "post_id": 56666510, "comment_id": 99908894, "body": "I&#39;m not sure what this is asking, either.\u2002 Can you post some sample input and the corresponding output you want?\u2002 (Also, you&#39;ll get better highlighting \u2014 and less confusion! \u2014 if you start all variables with a lower-case letter, which is the standard.)"}, {"owner": {"reputation": 1, "user_id": 11669878, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OWAEhck2M20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdlVylrwWSLqwcRTBf2ibACYnoGNQ/mo/photo.jpg?sz=128", "display_name": "Jimit Bhatt", "link": "https://stackoverflow.com/users/11669878/jimit-bhatt"}, "edited": false, "score": 0, "creation_date": 1561042769, "post_id": 56666510, "comment_id": 99942989, "body": "In String &quot;ABCD&quot;  &quot;BCD&quot; are on the right position  of &quot;A&quot;"}, {"owner": {"reputation": 121, "user_id": 11524658, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hKimJ.jpg?s=128&g=1", "display_name": "SINA", "link": "https://stackoverflow.com/users/11524658/sina"}, "edited": false, "score": 0, "creation_date": 1610459949, "post_id": 56666510, "comment_id": 116135533, "body": "what did your mean about right position?? did you mean correct position in alphabet order ????"}], "owner": {"reputation": 1, "user_id": 11669878, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OWAEhck2M20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdlVylrwWSLqwcRTBf2ibACYnoGNQ/mo/photo.jpg?sz=128", "display_name": "Jimit Bhatt", "link": "https://stackoverflow.com/users/11669878/jimit-bhatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560943273, "creation_date": 1560943273, "question_id": 56666510, "link": "https://stackoverflow.com/questions/56666510/cant-fetch-the-index-number-of-repeated-character-in-a-string", "title": "Can&#39;t fetch the index number of repeated character in a string", "body": "<p>[Kotlin 1.3.31]\nI am trying to print number of times each char in a string repeats on the right position but because of repeating char I cant fetch the index of the second occurrence of that char </p>\n\n<p>I tried the indexOf with position specified as the last index ,and now the error is occurring for consecutive repeats only </p>\n\n<pre><code>var Last=0\nfor (Left in str){\n    var num:Int=-1\n\n    var index=str.indexOf(Left,Last)\n\n        for (i in index..len)\n        if (Left.equals(str[i],true)) {\n            num++\n        }\n    Last=index\n        println(\"The Char $Left repets $num Times on the right\")\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 2, "last_activity_date": 1560942941, "creation_date": 1560942941, "answer_id": 56666410, "question_id": 56666357, "link": "https://stackoverflow.com/questions/56666357/find-string-in-array-and-return-its-index/56666410#56666410", "title": "Find string in array and return its index", "body": "<p>If you need to find specific string's index, then you should use <code>indexOf()</code> method. E.g.</p>\n\n<pre><code>val index = listOf(\"a\",\"b\",\"c\").indexOf(\"a\")\n</code></pre>\n\n<p>It will return -1 if the string is not found though.</p>\n"}], "owner": {"reputation": 3, "user_id": 11647945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hP0jkn1nl0Y/AAAAAAAAAAI/AAAAAAAAACQ/INuBcpEQass/photo.jpg?sz=128", "display_name": "Big Star", "link": "https://stackoverflow.com/users/11647945/big-star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 56666410, "answer_count": 1, "score": 0, "last_activity_date": 1560942941, "creation_date": 1560942784, "question_id": 56666357, "link": "https://stackoverflow.com/questions/56666357/find-string-in-array-and-return-its-index", "title": "Find string in array and return its index", "body": "<p>Is there a way to search through a string array and return its index if it is found. Of course I can just iterate through the array and perform the search myself. But I am wondering if there is a more efficient way of doing it. Kotlin has the \"contains\" method but that returns a boolean. I want the index position instead.</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-constraintlayout", "androidx"], "comments": [{"owner": {"reputation": 242, "user_id": 9162370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a683486012638e74dc407f3c2bd59ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Dholakia", "link": "https://stackoverflow.com/users/9162370/mohit-dholakia"}, "edited": false, "score": 1, "creation_date": 1560942293, "post_id": 56665502, "comment_id": 99900182, "body": "Obviously, that is not a bug. You can check this here which is properly explained <a href=\"https://stackoverflow.com/a/9731353/9162370\">stackoverflow.com/a/9731353/9162370</a>"}, {"owner": {"reputation": 1031, "user_id": 4531772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/917c51994f23ff695fce2f15d8ccadc5?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Patel", "link": "https://stackoverflow.com/users/4531772/prashant-patel"}, "edited": false, "score": 0, "creation_date": 1560952576, "post_id": 56665502, "comment_id": 99906395, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9730673/missing-contentdescription-attribute-on-image-in-xml\">&#39;Missing contentDescription attribute on image&#39; in XML</a>"}, {"owner": {"reputation": 454, "user_id": 6104103, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--688kVow68s/AAAAAAAAAAI/AAAAAAAAF_0/aCusV6g7Shw/photo.jpg?sz=128", "display_name": "Mayur Misal", "link": "https://stackoverflow.com/users/6104103/mayur-misal"}, "edited": false, "score": 1, "creation_date": 1561102633, "post_id": 56665502, "comment_id": 99961909, "body": "Thanks for answering, but it&#39;s not duplicate. Also same warning for &quot;android: padding&quot;. My question is specific, I got warning as &quot;unknown attribute android:contentDescription&quot; and second same warning for padding &quot;unknown attribute android:padding&quot;."}], "owner": {"reputation": 454, "user_id": 6104103, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--688kVow68s/AAAAAAAAAAI/AAAAAAAAF_0/aCusV6g7Shw/photo.jpg?sz=128", "display_name": "Mayur Misal", "link": "https://stackoverflow.com/users/6104103/mayur-misal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2459, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560953512, "creation_date": 1560939941, "last_edit_date": 1560953512, "question_id": 56665502, "link": "https://stackoverflow.com/questions/56665502/image-view-showing-warning-as-unknown-attribute-androidcontentdescription-in-as", "title": "Image View showing warning as unknown attribute android:contentDescription in AS 3.4.1", "body": "<p>When I updated my Android studio from 3.3 to 3.4.1, I was facing some interesting warning in my ImageView tag like: <code>android:contentDescription attribute is unknown</code>. How I can resolve this warning? Or is it a bug of new Android Studio 3.4.1?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "firebase-security"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1560941585, "post_id": 56665475, "comment_id": 99899826, "body": "In your commend to Mohammad&#39;s answer you mention that the user is not signed in yet when you attach this listener. In that case it makes sense that the security rules reject the listener, since you&#39;re requiring a signed in user. Can you update your question to mention the lack of sign-in?"}, {"owner": {"reputation": 133, "user_id": 5341465, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/19b31cf482dd60fb622c066c01800118?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Jha", "link": "https://stackoverflow.com/users/5341465/shivam-jha"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1560941829, "post_id": 56665475, "comment_id": 99899950, "body": "Well, I clearly mentioned that  &quot;I want to query when the user clicks the login button&quot;. So isn&#39;t that obvious that login won&#39;t be there?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1560951759, "post_id": 56665475, "comment_id": 99905868, "body": "I just realized there is an API that seems close to what you&#39;re trying to implement yourself. Have a look at that update to my answer to see if it fits your use-case."}, {"owner": {"reputation": 133, "user_id": 5341465, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/19b31cf482dd60fb622c066c01800118?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Jha", "link": "https://stackoverflow.com/users/5341465/shivam-jha"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1561192101, "post_id": 56665475, "comment_id": 99990123, "body": "yep that looks cool. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 5341465, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/19b31cf482dd60fb622c066c01800118?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Jha", "link": "https://stackoverflow.com/users/5341465/shivam-jha"}, "edited": false, "score": 0, "creation_date": 1560940268, "post_id": 56665542, "comment_id": 99899203, "body": "This doesn&#39;t work for obvious reason as the user have not been logged in yet, so auth is still null. I get the same error"}], "tags": [], "owner": {"reputation": 1291, "user_id": 8660721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IpPvW.jpg?s=128&g=1", "display_name": "Mohammad Sommakia", "link": "https://stackoverflow.com/users/8660721/mohammad-sommakia"}, "is_accepted": false, "score": 1, "last_activity_date": 1560940092, "creation_date": 1560940092, "answer_id": 56665542, "question_id": 56665475, "link": "https://stackoverflow.com/questions/56665475/how-to-check-if-user-with-the-email-entered-by-user-on-the-login-form-exists-or/56665542#56665542", "title": "How to check if user with the email entered by user on the login form exists or not in firebase", "body": "<p>Change the <strong>Rules</strong>  to :</p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n    match /users/{user} {\n      allow read, write: if request.auth != null;\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 5341465, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/19b31cf482dd60fb622c066c01800118?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Jha", "link": "https://stackoverflow.com/users/5341465/shivam-jha"}, "edited": false, "score": 0, "creation_date": 1560940576, "post_id": 56665583, "comment_id": 99899326, "body": "No luck with that. Still same :("}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 2, "last_activity_date": 1560941656, "last_edit_date": 1560941656, "creation_date": 1560940203, "answer_id": 56665583, "question_id": 56665475, "link": "https://stackoverflow.com/questions/56665475/how-to-check-if-user-with-the-email-entered-by-user-on-the-login-form-exists-or/56665583#56665583", "title": "How to check if user with the email entered by user on the login form exists or not in firebase", "body": "<p>As I see, you are getting <code>PERMISSION_DENIED</code> when using the following line:</p>\n\n<pre><code>allow read, write: if request.auth != null &amp;&amp; user == request.auth.uid;\n</code></pre>\n\n<p>To solve this, I recommend you use the following lines of code:</p>\n\n<pre><code>allow read, update, delete: if request.auth.uid == user;\nallow create: if request.auth.uid != null;\n</code></pre>\n\n<p>Which basically means, that you allow the read, update and delete operations only if the id of the user is the same with the one from Firebase authentication and you allow the creating of a new user only if the uid of the user is <code>null</code>.</p>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n    match /users/{userId} {\n      allow read, update, delete: if request.auth.uid == userId;\n      allow create: if request.auth.uid != null;\n    }\n  }\n}\n</code></pre>\n\n<p>Or even simpler:</p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if request.auth != null;\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 1, "last_activity_date": 1560951698, "last_edit_date": 1560951698, "creation_date": 1560942637, "answer_id": 56666316, "question_id": 56665475, "link": "https://stackoverflow.com/questions/56665475/how-to-check-if-user-with-the-email-entered-by-user-on-the-login-form-exists-or/56666316#56666316", "title": "How to check if user with the email entered by user on the login form exists or not in firebase", "body": "<p>Since you commented on Mohammad's answer that the user isn't signed in yet, it its expected that your rules will reject the query. The obvious solution is to allow reads to everyone:</p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n    match /users/{user} {\n      allow read;\n      allow write: if request.auth != null &amp;&amp; user == request.auth.uid;\n    }\n  }\n}\n</code></pre>\n\n<p>Note that this exposes your entire list of users to the world though, which may be a security risk. </p>\n\n<p>You may want to limit what a user can query, by using the approach documented in <a href=\"https://firebase.google.com/docs/firestore/security/rules-query\" rel=\"nofollow noreferrer\">securely querying data</a>. To secure the query, you'd specify the <code>list</code> operation:</p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n    match /users/{user} {\n      allow list: /* TODO: something to require a query on email address */;\n      allow read, write: if request.auth != null &amp;&amp; user == request.auth.uid;\n    }\n  }\n}\n</code></pre>\n\n<p><em>Note: I am still looking how to verify the query in the rules, since from the <a href=\"https://firebase.google.com/docs/reference/rules/rules.firestore.Request#query\" rel=\"nofollow noreferrer\">documentation</a> it seems the <code>where()</code> condition is not exposed in <code>request.query</code>.</em></p>\n\n<p>But this still runs the risk of exposing data of another user: if you know someone's email address, you can list their document, and thus get its data.</p>\n\n<p>To prevent this, you have two options:</p>\n\n<ol>\n<li>Create a Cloud Function (or other server-side endpoint) that performs the query in a trusted environment, and only returns the <code>true</code>/<code>false</code> result to the user.</li>\n<li>Create a separate collection with just the user email addresses. In this collection I'd use the email addresses as the document ID, and then store the UID of the user as the (probably only) value in the document.</li>\n</ol>\n\n<hr>\n\n<p>What you're trying to implement sounds quite close to <a href=\"https://firebase.google.com/docs/reference/js/firebase.auth.Auth#fetch-sign-inmethods-for-email\" rel=\"nofollow noreferrer\">Firebase Authentication's <code>fetchSignInMethodsForEmail</code> API</a>, which lists the providers for a given email address. The idea of this API is that you combine it with the \"only allow a single account per email address\" setting, to implement a flow where on the first screen the user enters their email address, and then on a second screen you either allow them to register (the email address isn't known yet), or ask them for their credentials.</p>\n"}], "owner": {"reputation": 133, "user_id": 5341465, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/19b31cf482dd60fb622c066c01800118?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Jha", "link": "https://stackoverflow.com/users/5341465/shivam-jha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1255, "favorite_count": 0, "accepted_answer_id": 56666316, "answer_count": 3, "score": 0, "last_activity_date": 1560955762, "creation_date": 1560939841, "last_edit_date": 1560955762, "question_id": 56665475, "link": "https://stackoverflow.com/questions/56665475/how-to-check-if-user-with-the-email-entered-by-user-on-the-login-form-exists-or", "title": "How to check if user with the email entered by user on the login form exists or not in firebase", "body": "<p>It's my first time I am working with firestore db. So I have this User class in my app:</p>\n\n<pre><code>data class User(\n    val name: String,\n    val email: String,\n    val standard: String,\n    val formNum: String,\n    val isVerified: Boolean = false\n)\n</code></pre>\n\n<p>Every time a new user registers, it save the data to the firestore database.\nI want to query when the user clicks the login button, but <strong>before they are actually signed in</strong>, if a user with that email exists or not. I use the following code:</p>\n\n<pre><code>db.collection(User.USERS_DB_NAME)\n            .whereEqualTo(\"email\", email.text.toString())\n            .get()\n            .addOnSuccessListener {\n                if (it.size() == 0)\n                {\n                    Log.d(TAG, \"Email not found\")\n                    email.error = getString(R.string.error_invalid_email)\n                }\n            }\n</code></pre>\n\n<p>However in the log, it gives warning as:</p>\n\n<blockquote>\n  <p>W/Firestore: (19.0.2) [Firestore]: Listen for Query(users where email == email@example.com) failed: Status{code=PERMISSION_DENIED, description=Missing or insufficient permissions., cause=null}</p>\n</blockquote>\n\n<p>Here is my rule:</p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n    match /users/{user} {\n      allow read, write: if request.auth != null &amp;&amp; user == request.auth.uid;\n    }\n  }\n}\n</code></pre>\n\n<p>How do I modify my rules to allow this query? Or my way of structuring the data is wrong? Please suggest the best way to solve this.</p>\n"}, {"tags": ["javascript", "android", "react-native", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2174, "user_id": 6475283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-jiDjEDozY2k/AAAAAAAAAAI/AAAAAAAAACM/SP7ueSX6j60/photo.jpg?sz=128", "display_name": "Tomasz Czura", "link": "https://stackoverflow.com/users/6475283/tomasz-czura"}, "edited": false, "score": 0, "creation_date": 1561032148, "post_id": 56666236, "comment_id": 99936511, "body": "But I still have to call method <code>getNativeModuleProperty()</code> in React, not <code>nativeModuleProperty</code>"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 2174, "user_id": 6475283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-jiDjEDozY2k/AAAAAAAAAAI/AAAAAAAAACM/SP7ueSX6j60/photo.jpg?sz=128", "display_name": "Tomasz Czura", "link": "https://stackoverflow.com/users/6475283/tomasz-czura"}, "edited": false, "score": 0, "creation_date": 1561033145, "post_id": 56666236, "comment_id": 99937100, "body": "That&#39;s the default name of the getter. With <code>@JvmName(&quot;name&quot;)</code> you can rename it on <i>Java</i>."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1561033173, "last_edit_date": 1561033173, "creation_date": 1560942388, "answer_id": 56666236, "question_id": 56665119, "link": "https://stackoverflow.com/questions/56665119/expose-property-from-android-module-to-reactnative/56666236#56666236", "title": "Expose property from Android module to ReactNative", "body": "<p>In <em>Kotlin</em> a <code>val</code> property is technically a getter method. So just annotate the getter instead of the property.</p>\n\n<pre><code>@get:[ReactMethod JvmName(\"nativeModuleProperty\")]\nval nativeModuleProperty = \"I am a native property\"\n</code></pre>\n"}], "owner": {"reputation": 2174, "user_id": 6475283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-jiDjEDozY2k/AAAAAAAAAAI/AAAAAAAAACM/SP7ueSX6j60/photo.jpg?sz=128", "display_name": "Tomasz Czura", "link": "https://stackoverflow.com/users/6475283/tomasz-czura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561033173, "creation_date": 1560938718, "question_id": 56665119, "link": "https://stackoverflow.com/questions/56665119/expose-property-from-android-module-to-reactnative", "title": "Expose property from Android module to ReactNative", "body": "<p>I am writing Android native module for ReactNative. I exposed some methods using <code>ReactMethod</code> annotation. Is there any possibility to expose property, e.g:</p>\n\n<pre><code>class MyNativeModule(reactAppContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactAppContext) {\n    override fun getName(): String = \"MyNativeModule\"\n\n    @ReactMethod\n    fun nativeModule() {\n        Log.d(\"MyNativeModule\", \"Native module method\")\n    }\n\n    val nativeModuleProperty = \"I am a native property\" &lt;-- I want to expose this property\n\n}\n</code></pre>\n\n<p>And use it in ReactNative:</p>\n\n<pre><code>export const { nativeModule, nativeModuleProperty } = NativeModules.MyNativeModule\nnativeModule() &lt;-- this will print \"Native module method\"\nconsole.log(nativeModuleProperty) &lt;-- I want this to print \"I am a native property\"\n</code></pre>\n\n<p>How can I achieve that? Is it possible on Android?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "proguard"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560938389, "post_id": 56664372, "comment_id": 99898156, "body": "What&#39;s the value of <code>isDelivered</code> in <code>println(&quot;Code: ${it.code}, is delivered: ${it.isDelivered} to drawers: ${it.drawers.toString()}&quot;)</code>? The same as in the <code>println(snapshot)</code>?"}, {"owner": {"reputation": 3332, "user_id": 2299801, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c85c14e20d43ccfa008c9efebd40bf4d?s=128&d=identicon&r=PG", "display_name": "Wiingaard", "link": "https://stackoverflow.com/users/2299801/wiingaard"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560939103, "post_id": 56664372, "comment_id": 99898557, "body": "Nope :/ That&#39;s the one mentioned in the quote below. It&#39;s <code>false</code>.."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560939294, "post_id": 56664372, "comment_id": 99898662, "body": "But if you try print <code>it.isDelivered</code> outside the <code>pickupCode?.let</code> block, what is the value?"}, {"owner": {"reputation": 3332, "user_id": 2299801, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c85c14e20d43ccfa008c9efebd40bf4d?s=128&d=identicon&r=PG", "display_name": "Wiingaard", "link": "https://stackoverflow.com/users/2299801/wiingaard"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560939678, "post_id": 56664372, "comment_id": 99898879, "body": "I found a solution, see below :)"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560939886, "post_id": 56664372, "comment_id": 99899002, "body": "Good to hear that :) I answered a similar question <a href=\"https://stackoverflow.com/a/49308903/5246885\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "edited": false, "score": 0, "creation_date": 1560940955, "post_id": 56665411, "comment_id": 99899494, "body": "Firestore removes <code>is</code> prefix from getters. See this link: <a href=\"https://www.e-learn.cn/en/node/1313471\" rel=\"nofollow noreferrer\">e-learn.cn/en/node/1313471</a>"}, {"owner": {"reputation": 2753, "user_id": 4741746, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dd77fa97e5c05412f2b40ac9427d75c2?s=128&d=identicon&r=PG&f=1", "display_name": "sushant gosavi ", "link": "https://stackoverflow.com/users/4741746/sushant-gosavi"}, "edited": false, "score": 0, "creation_date": 1600182150, "post_id": 56665411, "comment_id": 113003793, "body": "facing same issue you save my 2 hours at least"}], "tags": [], "owner": {"reputation": 3332, "user_id": 2299801, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c85c14e20d43ccfa008c9efebd40bf4d?s=128&d=identicon&r=PG", "display_name": "Wiingaard", "link": "https://stackoverflow.com/users/2299801/wiingaard"}, "is_accepted": false, "score": 1, "last_activity_date": 1560939651, "creation_date": 1560939651, "answer_id": 56665411, "question_id": 56664372, "link": "https://stackoverflow.com/questions/56664372/parsing-boolean-from-firebase-database-snapshot/56665411#56665411", "title": "Parsing boolean from Firebase Database Snapshot", "body": "<p>I found a solution to this..\nWhen inspecting the verbose logs I found this:</p>\n\n<blockquote>\n  <p>W/ClassMapper: No setter/field for isDelivered found on class com.x.y.models.PickupCode</p>\n</blockquote>\n\n<p>After playing a bit around, I found that for some weird reason, the setters for properties starting with <code>is</code> are ignored :S I tested with other property names as well and types.. fx. <code>val isBerp: Number</code> gets the same warning.</p>\n\n<p>So after changing the property name from <code>isDelivered</code> to <code>delivered</code> in both the class and firebase, it works..</p>\n\n<p>I wasn't able to find documentation for this behaviour, so if someone knows about it, it would appreciate a link..</p>\n"}], "owner": {"reputation": 3332, "user_id": 2299801, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c85c14e20d43ccfa008c9efebd40bf4d?s=128&d=identicon&r=PG", "display_name": "Wiingaard", "link": "https://stackoverflow.com/users/2299801/wiingaard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560939651, "creation_date": 1560936421, "question_id": 56664372, "link": "https://stackoverflow.com/questions/56664372/parsing-boolean-from-firebase-database-snapshot", "title": "Parsing boolean from Firebase Database Snapshot", "body": "<p>I'm having issues pasing a Snapshot from the Firebase Realtime Database into a Data Class in Kotlin using ProGuard.</p>\n\n<p><strong>Here's how the data looks in the Firebase console:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/KooOE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KooOE.png\" alt=\"Firebase realtime database, screenshot of data\"></a></p>\n\n<p><strong>Here's how I've modeled that data class In my android app:</strong></p>\n\n<pre><code>data class PickupCode(\n    val code: String,\n    val boxId: String,\n    val orderId: String,\n    val suborderId: String,\n    val drawers: List&lt;Int&gt;,\n    val isDelivered: Boolean\n) {\n    constructor(): this(\"\", \"\", \"\",\"\", emptyList(), false)\n\n    override fun toString(): String {\n        return code\n    }\n}\n</code></pre>\n\n<p><strong>Here's how I build the database request:</strong></p>\n\n<pre><code>val reference = database.getReference(\"pickupCodes/$boxId/$code\")\n\nval listener = object : ValueEventListener {\n    override fun onDataChange(snapshot: DataSnapshot) {\n        if (snapshot.exists()) {\n            println(snapshot)\n            val pickupCode = snapshot.getValue&lt;PickupCode&gt;(PickupCode::class.java)\n            pickupCode?.let {\n                println(\"Code: ${it.code}, is delivered: ${it.isDelivered} to drawers: ${it.drawers.toString()}\")\n                if (!it.isDelivered) {\n                    // No success\n                } else {\n                    // Success!\n                }\n            } ?: run {\n                // No success\n            }\n        } else {\n            // No success\n        }\n    }\n\n    override fun onCancelled(error: DatabaseError) {\n        // No success\n    }\n}\n</code></pre>\n\n<p><strong>This is what the <code>println(snapshot)</code> line prints:</strong></p>\n\n<blockquote>\n  <p>DataSnapshot { key = 320625, value = {isDelivered=true, code=320625, drawers={0=2}, orderId=-LhdzXS4-gyT0ysNe-zi, suborderId=-LhdzYhT78y9b3iJcyrb, boxId=box_1} }</p>\n</blockquote>\n\n<p><strong>And this is what the next print 3 lines lates prints:</strong></p>\n\n<blockquote>\n  <p>Code: 320625, is delivered: false to drawers: [2]</p>\n</blockquote>\n\n<p>Here I would expect <code>is delivered</code> to be <code>true</code>, but for some reason <code>true</code>-value of <code>isDelivered</code> from the snapshot, is ignored when parsing the snapshot into a <code>PickupCode</code>-class. The value <code>isDelivered</code> of the <code>PickupCode</code>, is equal to the empty constructor of the class. </p>\n\n<p><strong>But WHY and HOW to fix?</strong></p>\n\n<p>All the other values from the snapshot gets parsed corrently. I'm new to Android, but I have a hunch that ProGuard (whatever that is) has some of the blame here.. Here's how I've set it up:</p>\n\n<pre><code>-keepattributes Signature\n\n-keepclassmembers class PickupCode.** {\n    *;\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "edited": false, "score": 0, "creation_date": 1560931491, "post_id": 56662832, "comment_id": 99894353, "body": "Show your stacktrace error."}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "reply_to_user": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "edited": false, "score": 0, "creation_date": 1560931550, "post_id": 56662832, "comment_id": 99894381, "body": "It will not compile. On the following line:  var sharedPref : SharedPreferences = this.getPreferences(Context.MODE_PRIVATE); the letters getPreferences are red and when I hover over them I receive this: Unresolved reference: getPreferences"}], "answers": [{"comments": [{"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1560931961, "post_id": 56662921, "comment_id": 99894570, "body": "In the line you suggested application becomes the unresolved reference."}, {"owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "reply_to_user": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1560932013, "post_id": 56662921, "comment_id": 99894594, "body": "Show  screenshot of your error or attach more code of your case."}], "tags": [], "owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1560931707, "creation_date": 1560931707, "answer_id": 56662921, "question_id": 56662832, "link": "https://stackoverflow.com/questions/56662832/unresolved-reference-getpreferences/56662921#56662921", "title": "Unresolved reference: getPreferences", "body": "<p>Try to open sharedPreferences via application context, like this:</p>\n\n<pre><code>application.getSharedPreferences(\"Your preference name\", Context.MODE_PRIVATE)\n</code></pre>\n\n<p>All you need is context for opening preferences.</p>\n"}, {"comments": [{"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1560932183, "post_id": 56663016, "comment_id": 99894678, "body": "Yup, this works. The code is written in a fragment and this works perfectly."}], "tags": [], "owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "is_accepted": true, "score": 1, "last_activity_date": 1560932005, "creation_date": 1560932005, "answer_id": 56663016, "question_id": 56662832, "link": "https://stackoverflow.com/questions/56662832/unresolved-reference-getpreferences/56663016#56663016", "title": "Unresolved reference: getPreferences", "body": "<p>Is this a <code>Fragment</code> or an <code>Activity</code>? This seems code written in fragment or somewhere else. Because <code>getPreferences()</code> is method of activity and you need to have Activity's instance to call it .</p>\n\n<p>Just have a Activity instance and call it as below . example for Fragment:-</p>\n\n<pre><code>btnStyle.setOnClickListener() {\n        styleHasChanged = !styleHasChanged;\n        if(styleHasChanged  == true){\n            btnStyle.setText(\"true\")\n        }else{\n            btnStyle.setText(\"false\")\n        }\n        val sharedPref : SharedPreferences?= activity?.getPreferences(Context.MODE_PRIVATE);\n        sharedPref?.edit()?.putBoolean(\"bla\", styleHasChanged)?.apply()\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 7, "last_activity_date": 1560932140, "creation_date": 1560932140, "answer_id": 56663045, "question_id": 56662832, "link": "https://stackoverflow.com/questions/56662832/unresolved-reference-getpreferences/56663045#56663045", "title": "Unresolved reference: getPreferences", "body": "<p>For <kbd><strong>KOTLIN</strong></kbd></p>\n\n<p>If Activity then use <strong><code>this@ActivityName</code></strong></p>\n\n<pre><code>var sharedPref : SharedPreferences = this@ActivityName.getPreferences(Context.MODE_PRIVATE);\n</code></pre>\n\n<p>If Fragment then use <strong><code>activity!!</code></strong></p>\n\n<pre><code>var sharedPref : SharedPreferences = activity!!.getPreferences(Context.MODE_PRIVATE);\n</code></pre>\n"}], "owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2506, "favorite_count": 0, "accepted_answer_id": 56663016, "answer_count": 3, "score": 2, "last_activity_date": 1560932140, "creation_date": 1560931377, "question_id": 56662832, "link": "https://stackoverflow.com/questions/56662832/unresolved-reference-getpreferences", "title": "Unresolved reference: getPreferences", "body": "<p>I am trying to store a boolean value which is changed every time a button is clicked. I want to do this using shared preferences, however I keep running into this error: \n    Unresolved reference: getPreferences</p>\n\n<p>This is my code: </p>\n\n<pre><code>btnStyle.setOnClickListener() {\n            styleHasChanged = !styleHasChanged;\n\n            if(styleHasChanged  == true){\n                btnStyle.setText(\"true\")\n            }else{\n                btnStyle.setText(\"false\")\n            }\n\n          //  AppUtil.saveConfig(activity, config)\n          //  EventBus.getDefault().post(ReloadDataEvent())\n\n          var sharedPref : SharedPreferences = this.getPreferences(Context.MODE_PRIVATE);\n            var editor = sharedPref.edit()\n            editor.putBoolean(\"bla\", styleHasChanged)\n            editor.commit()\n\n\n\n        }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2105, "user_id": 8718773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34213fbac0a5b09b9ff8abe458e6b87a?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo Alzetta", "link": "https://stackoverflow.com/users/8718773/giacomo-alzetta"}, "edited": false, "score": 1, "creation_date": 1560930282, "post_id": 56662393, "comment_id": 99893750, "body": "What do you mean? Assume <code>DEFAULT_PATH</code> is <code>http:&#47;&#47;google.com</code> then do you want to distinguish between <code>createVideo()</code> and <code>createVideo(Url(&#39;http:&#47;&#47;google.com&#39;))</code>? This can only be done using reference equality... however I&#39;d argue is a very bad API, reference equality shouldn&#39;t matter only the value so specifying the default value explicitly shouldn&#39;t change the behaviour of the function. (BTW: you&#39;d also have to keep the particular instance used as default as private since otherwise an user can do <code>createVideo(DEFAULT_PATH)</code> and then it&#39;s impossible to tell the difference)"}], "answers": [{"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1560929921, "creation_date": 1560929921, "answer_id": 56662439, "question_id": 56662393, "link": "https://stackoverflow.com/questions/56662393/kotlin-can-i-get-if-default-argument-is-used-in-the-function/56662439#56662439", "title": "Kotlin, can I get if default argument is used in the function?", "body": "<p>You could just check if the <code>path.equals(DEFAULT_PATH)</code>. Plus you should return something on the function if you are <code>return AVideo()</code> or <code>return BVideo()</code></p>\n\n<pre><code>private fun createVideo(path: Url = DEFAULT_PATH, width: Int = 0, height: Int = 0): ReturnVideoType {\n    if (path is default value) {\n        // it means caller didn't set path\n        return AVideo()\n    else {\n        return BVideo()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 816, "user_id": 7790894, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/64dbd258a08b9a0bd7e5512820a987bd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7790894/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560931383, "creation_date": 1560929759, "last_edit_date": 1560931383, "question_id": 56662393, "link": "https://stackoverflow.com/questions/56662393/kotlin-can-i-get-if-default-argument-is-used-in-the-function", "title": "Kotlin, can I get if default argument is used in the function?", "body": "<p>I want to know if default argument is used.\nSomething like:</p>\n\n<pre><code>private fun createVideo(path: Url = DEFAULT_PATH, width: Int = 0, height: Int = 0) {\n    if (path is default value) {\n        // it means caller didn't set path\n        return AVideo()\n    else {\n        return BVideo()\n    }\n}\n</code></pre>\n\n<p>I am handling this with function overloading which is unefficient.</p>\n\n<p>Edit: \nHere is my real code</p>\n\n<pre><code>  private fun createMediaItemMock(mediaType: Int,\n                                    width: Int = WIDTH_2K,\n                                    height: Int = HEIGHT_2K,\n                                    trimmingDataCan: Boolean) = mock&lt;PickerMediaItem&gt; {\n        on { it.mediaType } doReturn mediaType\n        it.width = width\n        it.height = height\n        it.trimmingData = mock {\n            on { can() } doReturn trimmingDataCan\n        }\n    }\n\n    private fun createMediaItemMock(mediaType: Int,\n                                    width: Int = WIDTH_2K,\n                                    height: Int = HEIGHT_2K) = mock&lt;PickerMediaItem&gt; {\n        on { it.mediaType } doReturn mediaType\n        it.width = width\n        it.height = height\n    }\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9658278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alexey Lariushkin", "link": "https://stackoverflow.com/users/9658278/alexey-lariushkin"}, "edited": false, "score": 0, "creation_date": 1560933367, "post_id": 56663262, "comment_id": 99895270, "body": "Thanks! I thought I tried something similar, but apparently i made a mistake somewhere."}], "tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": true, "score": 0, "last_activity_date": 1560932967, "creation_date": 1560932967, "answer_id": 56663262, "question_id": 56662334, "link": "https://stackoverflow.com/questions/56662334/how-to-write-extension-function-with-nested-generics/56663262#56663262", "title": "How to write extension function with nested generics?", "body": "<p>You can try something like this:</p>\n\n<pre><code>fun &lt;R: BaseResponse, T: Response&lt;R&gt;&gt; Single&lt;T&gt;.checkResponse(): Single&lt;R&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9658278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alexey Lariushkin", "link": "https://stackoverflow.com/users/9658278/alexey-lariushkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56663262, "answer_count": 1, "score": 0, "last_activity_date": 1617204252, "creation_date": 1560929520, "last_edit_date": 1617204252, "question_id": 56662334, "link": "https://stackoverflow.com/questions/56662334/how-to-write-extension-function-with-nested-generics", "title": "How to write extension function with nested generics?", "body": "<p>I have extension function on Single class:</p>\n<pre><code>fun &lt;T: Response&lt;BaseResponse&gt;&gt; Single&lt;T&gt;.checkResponse(): Single&lt;BaseResponse&gt; {\n    return this.map { some code }\n}\n</code></pre>\n<p>And trying to use it like:</p>\n<pre><code>fun sign(body: Map&lt;String, String&gt;): Single&lt;SignResponse&gt; {\n    return service.sign(body).checkResponse().map { it }\n}\n</code></pre>\n<p>Service's sign signature:</p>\n<pre><code>@POST(Urls.SIGN)\nfun sign(@Body body: Map&lt;String, String&gt;): Single&lt;Response&lt;SignResponse&gt;&gt;\n</code></pre>\n<p>SignResponse inherits BaseResponse obviously</p>\n<p>Response is retrofit2.response</p>\n<p>And I've got an error:</p>\n<blockquote>\n<p><code>Type parameter bound for T in fun &lt;T : Response&lt;BaseResponse&gt;&gt; Single&lt;T&gt;.checkResponse(): Single&lt;BaseResponse&gt; is not satisfied: inferred type Response&lt;SignResponse&gt; is not a subtype of Response&lt;BaseResponse&gt;</code></p>\n</blockquote>\n<p>How do I need to write extension function to tell compiler that Single have Response, which have type inherited from BaseResponse?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5617, "user_id": 4992594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nU16L.png?s=128&g=1", "display_name": "Titulum", "link": "https://stackoverflow.com/users/4992594/titulum"}, "edited": false, "score": 0, "creation_date": 1561021588, "post_id": 56662020, "comment_id": 99930895, "body": "I see on your profile that you never accept answers, might be nice to start doing that."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10232965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-axoupwouvQI/AAAAAAAAAAI/AAAAAAAAAQY/69prOcIKlGg/photo.jpg?sz=128", "display_name": "Adrian Pop", "link": "https://stackoverflow.com/users/10232965/adrian-pop"}, "edited": false, "score": 0, "creation_date": 1561296987, "post_id": 56662068, "comment_id": 100008792, "body": "That&#39;s not exactly what i was looking for, but thanks for the answer"}, {"owner": {"reputation": 5617, "user_id": 4992594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nU16L.png?s=128&g=1", "display_name": "Titulum", "link": "https://stackoverflow.com/users/4992594/titulum"}, "reply_to_user": {"reputation": 37, "user_id": 10232965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-axoupwouvQI/AAAAAAAAAAI/AAAAAAAAAQY/69prOcIKlGg/photo.jpg?sz=128", "display_name": "Adrian Pop", "link": "https://stackoverflow.com/users/10232965/adrian-pop"}, "edited": false, "score": 0, "creation_date": 1561352389, "post_id": 56662068, "comment_id": 100019462, "body": "No problem. How so if I may ask? You can integrate this SDK in your app so that you can control it using your voice, exactly like the &#39;ok Google&#39; method (in fact it is using this same technology). The only difference is that you will probably have to start each conversation with &#39;ok Google&#39; instead of &#39;ok app&#39;."}, {"owner": {"reputation": 37, "user_id": 10232965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-axoupwouvQI/AAAAAAAAAAI/AAAAAAAAAQY/69prOcIKlGg/photo.jpg?sz=128", "display_name": "Adrian Pop", "link": "https://stackoverflow.com/users/10232965/adrian-pop"}, "edited": false, "score": 0, "creation_date": 1561390710, "post_id": 56662068, "comment_id": 100038611, "body": "thats the thing. I need it without &#39;ok Google&#39;. I need to run commands directly in app, without google"}, {"owner": {"reputation": 5617, "user_id": 4992594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nU16L.png?s=128&g=1", "display_name": "Titulum", "link": "https://stackoverflow.com/users/4992594/titulum"}, "reply_to_user": {"reputation": 37, "user_id": 10232965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-axoupwouvQI/AAAAAAAAAAI/AAAAAAAAAQY/69prOcIKlGg/photo.jpg?sz=128", "display_name": "Adrian Pop", "link": "https://stackoverflow.com/users/10232965/adrian-pop"}, "edited": false, "score": 0, "creation_date": 1561393432, "post_id": 56662068, "comment_id": 100039936, "body": "Hmmm, maybe check out <a href=\"https://github.com/cmusphinx/pocketsphinx\" rel=\"nofollow noreferrer\">pocketsphinx</a> and use it to create a background service that is always listening?"}], "tags": [], "owner": {"reputation": 5617, "user_id": 4992594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nU16L.png?s=128&g=1", "display_name": "Titulum", "link": "https://stackoverflow.com/users/4992594/titulum"}, "is_accepted": false, "score": 1, "last_activity_date": 1560928629, "creation_date": 1560928629, "answer_id": 56662068, "question_id": 56662020, "link": "https://stackoverflow.com/questions/56662020/is-it-possible-to-trigger-your-app-by-voice-command-from-anywhere/56662068#56662068", "title": "is it possible to trigger your app by voice command from anywhere?", "body": "<p>Yes you can! The <a href=\"https://developers.google.com/assistant/sdk/\" rel=\"nofollow noreferrer\">Google Assistant SDK</a> offers hotword functionality that allows you to register custom triggers!</p>\n\n<p>Check out <a href=\"https://developers.google.com/actions/\" rel=\"nofollow noreferrer\">Actions for Google</a>.</p>\n"}], "owner": {"reputation": 37, "user_id": 10232965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-axoupwouvQI/AAAAAAAAAAI/AAAAAAAAAQY/69prOcIKlGg/photo.jpg?sz=128", "display_name": "Adrian Pop", "link": "https://stackoverflow.com/users/10232965/adrian-pop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1561017281, "creation_date": 1560928434, "last_edit_date": 1561017281, "question_id": 56662020, "link": "https://stackoverflow.com/questions/56662020/is-it-possible-to-trigger-your-app-by-voice-command-from-anywhere", "title": "is it possible to trigger your app by voice command from anywhere?", "body": "<p>Is there a way to add some background service that allows a user to trigger my app on specific keyword? Just like 'ok google' but 'ok app'?</p>\n\n<p>If not, can I add some service to my app that will always listen and trigger actions based on voice commands?</p>\n\n<p>I'm working on alarm clock with voice control.</p>\n"}, {"tags": ["android", "kotlin", "exoplayer"], "answers": [{"comments": [{"owner": {"reputation": 2005, "user_id": 3904109, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/KprNa.jpg?s=128&g=1", "display_name": "DragonFire", "link": "https://stackoverflow.com/users/3904109/dragonfire"}, "edited": false, "score": 0, "creation_date": 1580704746, "post_id": 56662473, "comment_id": 106170871, "body": "Doing this is giving Manifest merger failed : Attribute application@appComponentFactory value=(android.support.v4.app.CoreComponentFactory) from [com.android.support:support-compat:28.0.0] AndroidManifest.xml:22:18-91 \tis also present at [androidx.core:core:1.0.0] AndroidManifest.xml:22:18-86 value=(androidx.core.app.CoreComponentFactory). \tSuggestion: add &#39;tools:replace=&quot;android:appComponentFactory&quot;&#39; to &lt;application&gt; element at AndroidManifest.xml:21:5-562:19 to override."}, {"owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "reply_to_user": {"reputation": 2005, "user_id": 3904109, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/KprNa.jpg?s=128&g=1", "display_name": "DragonFire", "link": "https://stackoverflow.com/users/3904109/dragonfire"}, "edited": false, "score": 0, "creation_date": 1580734568, "post_id": 56662473, "comment_id": 106182984, "body": "Hello @DragonFire, this manifest merger error is due to the prohibited usage of both AppCompat and AndroidX dependencies at the same time. Please look at this answer for ensuring you have properly migrated all dependencies to AndroidX: <a href=\"https://stackoverflow.com/a/56556363/11040422\">stackoverflow.com/a/56556363/11040422</a>"}, {"owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "reply_to_user": {"reputation": 2005, "user_id": 3904109, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/KprNa.jpg?s=128&g=1", "display_name": "DragonFire", "link": "https://stackoverflow.com/users/3904109/dragonfire"}, "edited": false, "score": 0, "creation_date": 1580734650, "post_id": 56662473, "comment_id": 106183028, "body": "Also, please check if your gradle is updated to com.android.tools.build:gradle to v3.2.1 or later and compileSdkVersion to 28 or later."}], "tags": [], "owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "is_accepted": true, "score": 20, "last_activity_date": 1560930030, "creation_date": 1560930030, "answer_id": 56662473, "question_id": 56661984, "link": "https://stackoverflow.com/questions/56661984/android-exoplayer-extractormediasource-is-deprecated/56662473#56662473", "title": "Android: Exoplayer - ExtractorMediaSource is deprecated", "body": "<p>Are you using <code>ExoPlayer</code> of version <code>2.10.0</code> or higher? Then, use <code>ProgressiveMediaSource</code> instead of <code>ExtractorMediaSource</code> (<a href=\"https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md#2100\" rel=\"noreferrer\">Reference Release Note</a>)</p>\n"}], "owner": {"reputation": 1754, "user_id": 5251407, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/o4raw.jpg?s=128&g=1", "display_name": "Akhil Soman", "link": "https://stackoverflow.com/users/5251407/akhil-soman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6682, "favorite_count": 0, "accepted_answer_id": 56662473, "answer_count": 1, "score": 9, "last_activity_date": 1560930030, "creation_date": 1560928304, "question_id": 56661984, "link": "https://stackoverflow.com/questions/56661984/android-exoplayer-extractormediasource-is-deprecated", "title": "Android: Exoplayer - ExtractorMediaSource is deprecated", "body": "<p>I am following this <a href=\"https://www.raywenderlich.com/5573-media-playback-on-android-with-exoplayer-getting-started\" rel=\"noreferrer\">tutorial</a> to implement the Exoplayer. But the ExtractorMediaSource class is deprecated. I need to play video from a remote url. What is the alternative to use in this situation?</p>\n\n<pre><code>val mediaSource = ExtractorMediaSource\n  .Factory(DefaultDataSourceFactory(context, userAgent))\n  .setExtractorsFactory(DefaultExtractorsFactory())\n  .createMediaSource(Uri.parse(url))\n</code></pre>\n"}, {"tags": ["kotlin", "io"], "answers": [{"comments": [{"owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "edited": false, "score": 0, "creation_date": 1560935266, "post_id": 56663378, "comment_id": 99896352, "body": "Thanks for the answer writing FEFF solved the issue. Just for information this problem originated that the Excel could not open the file but with these characters it works."}, {"owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "edited": false, "score": 0, "creation_date": 1560935314, "post_id": 56663378, "comment_id": 99896375, "body": "Regarding the catch block I think you misunderstood. This is just a sample fast code to show case the issue. Of course I will not have empty catch ;)"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "edited": false, "score": 0, "creation_date": 1560935692, "post_id": 56663378, "comment_id": 99896596, "body": "@Khashayar I guessed that \u2014 but I couldn&#39;t see why you&#39;d used the <code>try</code>\u2026<code>catch</code> at all, since it could be omitted completely :-)  (Plus, we have a heavy responsibility to future generations who might look at the question in future and think it&#39;s a good idea.)  BTW, if Excel can handle UTF-8, that might be a better bet \u2014 it&#39;s become the de-facto standard for text, so should be more widely compatible."}, {"owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "edited": false, "score": 0, "creation_date": 1560937156, "post_id": 56663378, "comment_id": 99897402, "body": "yes the reason we going for URF-16LE is very specific to the domain we have but otherwise I think everyone should push UTF-8 :)"}, {"owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "edited": false, "score": 0, "creation_date": 1560937172, "post_id": 56663378, "comment_id": 99897415, "body": "And im gonna remove the try catch from the question"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 1, "last_activity_date": 1560969557, "last_edit_date": 1560969557, "creation_date": 1560933279, "answer_id": 56663378, "question_id": 56661781, "link": "https://stackoverflow.com/questions/56661781/create-file-with-utf-16le-encoding/56663378#56663378", "title": "Create file with UTF-16LE encoding", "body": "<p>I suspect this is a limitation of the <code>file</code> command, and not a problem with your code (which is fine*).</p>\n\n<p>If you write a Byte Order Mark (<code>\\uFEFF</code>) as the first character of the file, then <code>file</code> recognises it fine:</p>\n\n<pre><code>&gt; file bla.csv \nbla.csv: Little-endian UTF-16 Unicode text\n&gt; file -I bla.csv \nbla.csv: text/plain; charset=utf-16le\n</code></pre>\n\n<p>The file should be perfectly valid without a BOM, though.\u00a0 So I'm not sure why <code>file</code> isn't recognising it.\u00a0 It <em>may</em> be that it's not always possible to safely identify UTF16-LE without a BOM, though you'd think a case like this (where every other byte is 0) would be a safe bet!</p>\n\n<hr>\n\n<p><sup>(* Well, there are always potential improvements\u2026\u00a0 For example, it'd be safer to wrap the output in a call to <code>writer.use()</code> instead of closing the file manually.\u00a0 You could wrap the <code>OutputStreamWriter</code> in a <code>BufferedWriter</code> for efficiency.\u00a0 And in production code, you'd want some error handling, of course.\u00a0 But none of that's related to the question!)</sup></p>\n"}], "owner": {"reputation": 1893, "user_id": 1029483, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dcc92a6b64a180e700511e672a930bdc?s=128&d=identicon&r=PG", "display_name": "Khashayar", "link": "https://stackoverflow.com/users/1029483/khashayar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 56663378, "answer_count": 1, "score": 0, "last_activity_date": 1560969557, "creation_date": 1560927593, "last_edit_date": 1560937278, "question_id": 56661781, "link": "https://stackoverflow.com/questions/56661781/create-file-with-utf-16le-encoding", "title": "Create file with UTF-16LE encoding", "body": "<p>I am trying to create a tab separate CSV via kotlin.\nFor the requirement we need to have UTF-16LE for the produced file encoding.</p>\n\n<p>My stripped down code is something like this: </p>\n\n<pre><code>import java.io.File\nimport java.io.FileOutputStream\nimport java.io.OutputStreamWriter\n\nfun main(args: Array&lt;String&gt;) {\n    val fileOutputStream = FileOutputStream(File(\"bla.csv\"))\n    val writer = OutputStreamWriter(fileOutputStream, Charsets.UTF_16LE)\n    writer.write(\"bla\\tbla\\tbla\")\n    writer.write(\"\\n\")\n    writer.write(\"lab\\tlab\\tlab\")\n    writer.flush()\n    writer.close()\n}\n</code></pre>\n\n<p>So after executing this program the file generated has this information:\n(I am running file on the actual file)</p>\n\n<pre><code>file -I bla.csv \nbla.csv: application/octet-stream; charset=binary\n</code></pre>\n\n<p>This is what I get when I go for </p>\n\n<blockquote>\n  <p>Charsets.UTF_16LE</p>\n</blockquote>\n\n<p>I have tried using other UTF-16 variation which made me even more confuse!</p>\n\n<p>So if I use Charsets.UTF_16 it will result in:</p>\n\n<pre><code>file -I bla.csv \nbla.csv: text/plain; charset=utf-16be\n</code></pre>\n\n<p>And if I use Charsets.UTF_16BE it will result in:</p>\n\n<pre><code>file -I bla.csv \nbla.csv: application/octet-stream; charset=binary\n</code></pre>\n\n<p>So after a lot of self doubt and being sure that I am doing something wrong I have give up and come here.</p>\n\n<p>Any guidance will be appreciated. Thanks in advance </p>\n"}, {"tags": ["java", "android", "kotlin", "baseadapter"], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 11457806, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wc3qEDo5ANY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgo0uvIoS5_y24ibXeT6SlWWoQ7Q/mo/photo.jpg?sz=128", "display_name": "Israel dela Cruz", "link": "https://stackoverflow.com/users/11457806/israel-dela-cruz"}, "is_accepted": false, "score": 2, "last_activity_date": 1560927077, "creation_date": 1560927077, "answer_id": 56661652, "question_id": 56661365, "link": "https://stackoverflow.com/questions/56661365/mutablelist-clear-and-addall-behaves-strangely/56661652#56661652", "title": "MutableList clear() and addAll() behaves strangely", "body": "<p>\"The control MutableList and the MutableList I'm passing throught the method is the same, however I highly doubt Kotlin would keep reference that deep\".</p>\n\n<p>It does keep the reference that deep. Reference will always point to the instance no matter where it is in the program.</p>\n\n<p>If you don't want to affect the input list. Then you should copy the list content.</p>\n\n<p>I'm assuming you have a method that does this line.</p>\n\n<pre><code>fun setList(list: MutableList&lt;MarketOffer&gt;) {\n    this.itemsListAdapter = list // points to the same instance of MutableList\n}\n</code></pre>\n\n<p>Use this line instead</p>\n\n<pre><code>fun setList(list: MutableList&lt;MarketOffer&gt;) {\n    this.itemsListAdapter = list.toMutableList() // create a new instance of MutableList\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 359, "user_id": 10356855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqOf9.jpg?s=128&g=1", "display_name": "Jakub Kostka", "link": "https://stackoverflow.com/users/10356855/jakub-kostka"}, "edited": false, "score": 0, "creation_date": 1560931203, "post_id": 56661684, "comment_id": 99894200, "body": "The strange thing was,  that it&#39;s exactly what I tried afterward and neither that worked. Which is pretty much the only reason I posted this &quot;dumb&quot; question, it&#39;s not really about the problem itself, more about the behaviour I didnt expect it to do."}], "tags": [], "owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "is_accepted": false, "score": 1, "last_activity_date": 1560927197, "creation_date": 1560927197, "answer_id": 56661684, "question_id": 56661365, "link": "https://stackoverflow.com/questions/56661365/mutablelist-clear-and-addall-behaves-strangely/56661684#56661684", "title": "MutableList clear() and addAll() behaves strangely", "body": "<p>The data list inside your adapter is a reference of your original data.\nSo if you clear it, means clear your original list.</p>\n\n<p>If you don't want that, you can try to create a <code>listOriginal</code> and <code>listDisplay</code> to manipulate them separately. And remember do not use <code>listDisplay = listOriginal</code> directly, that makes them hold same ref again.</p>\n"}, {"tags": [], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1560929259, "last_edit_date": 1560929259, "creation_date": 1560927377, "answer_id": 56661727, "question_id": 56661365, "link": "https://stackoverflow.com/questions/56661365/mutablelist-clear-and-addall-behaves-strangely/56661727#56661727", "title": "MutableList clear() and addAll() behaves strangely", "body": "<p>Don't make it hard just use this code and let it go</p>\n\n<pre><code>fun updateData(list :MutableList&lt;MarketOffer&gt;){\n    this.itemsListAdapter = list\n    this.notifyDataSetChanged()\n}\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 10356855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqOf9.jpg?s=128&g=1", "display_name": "Jakub Kostka", "link": "https://stackoverflow.com/users/10356855/jakub-kostka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 56661727, "answer_count": 3, "score": 0, "last_activity_date": 1560931004, "creation_date": 1560925839, "last_edit_date": 1560931004, "question_id": 56661365, "link": "https://stackoverflow.com/questions/56661365/mutablelist-clear-and-addall-behaves-strangely", "title": "MutableList clear() and addAll() behaves strangely", "body": "<p>Basically I'm using a method inside of a <code>BaseAdapter</code> to refresh it. It actually worked for plenty functions, however once I tried to implement a new one and used this its custom method to refresh it, it just cleared control <code>MutableList</code>. The control MutableList and the MutableList I'm passing throught the method is the same, however I highly doubt Kotlin would keep reference that deep. So I ended up placing logs everywhere and foud out, that the <code>.clear()</code> call cleared even the <code>MutableList</code> I'm passing. Tried even re initializating the <code>MutableList</code> itself before I'm passing it, so there is no chance of any sort of reference. \nSo I guess I'm asking if <code>.clear()</code> method is normally used or is it something that actually doesn't as it should be.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2mRBC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2mRBC.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CtQkw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CtQkw.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 710, "user_id": 3999272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995d6a3b7854e2ef4e10743ad2b242da?s=128&d=identicon&r=PG&f=1", "display_name": "Bulat", "link": "https://stackoverflow.com/users/3999272/bulat"}, "edited": false, "score": 0, "creation_date": 1560927342, "post_id": 56660875, "comment_id": 99892223, "body": "Provide your code samples"}, {"owner": {"reputation": 1, "user_id": 11668167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C66Gdz1-Z1Y/AAAAAAAAAAI/AAAAAAAACR8/Hz0rZGXBIz0/photo.jpg?sz=128", "display_name": "Lekkala Narayana", "link": "https://stackoverflow.com/users/11668167/lekkala-narayana"}, "reply_to_user": {"reputation": 710, "user_id": 3999272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995d6a3b7854e2ef4e10743ad2b242da?s=128&d=identicon&r=PG&f=1", "display_name": "Bulat", "link": "https://stackoverflow.com/users/3999272/bulat"}, "edited": false, "score": 0, "creation_date": 1560939327, "post_id": 56660875, "comment_id": 99898686, "body": "I dont have kotlin code to move left to right .but i did left to right anim in android"}, {"owner": {"reputation": 710, "user_id": 3999272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995d6a3b7854e2ef4e10743ad2b242da?s=128&d=identicon&r=PG&f=1", "display_name": "Bulat", "link": "https://stackoverflow.com/users/3999272/bulat"}, "edited": false, "score": 0, "creation_date": 1560939495, "post_id": 56660875, "comment_id": 99898783, "body": "You mentioned you can move from one activity to another. So as I understood, you want to use this code as a foundation."}, {"owner": {"reputation": 710, "user_id": 3999272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995d6a3b7854e2ef4e10743ad2b242da?s=128&d=identicon&r=PG&f=1", "display_name": "Bulat", "link": "https://stackoverflow.com/users/3999272/bulat"}, "edited": false, "score": 0, "creation_date": 1560940253, "post_id": 56660875, "comment_id": 99899195, "body": "Edit the question and add the snippet there."}, {"owner": {"reputation": 1, "user_id": 11668167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C66Gdz1-Z1Y/AAAAAAAAAAI/AAAAAAAACR8/Hz0rZGXBIz0/photo.jpg?sz=128", "display_name": "Lekkala Narayana", "link": "https://stackoverflow.com/users/11668167/lekkala-narayana"}, "reply_to_user": {"reputation": 710, "user_id": 3999272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995d6a3b7854e2ef4e10743ad2b242da?s=128&d=identicon&r=PG&f=1", "display_name": "Bulat", "link": "https://stackoverflow.com/users/3999272/bulat"}, "edited": false, "score": 0, "creation_date": 1560940711, "post_id": 56660875, "comment_id": 99899385, "body": "move from one activity to another activity like iOS transition. I am not able to find Anim package in Kotlin. Below is android code                                                        startActivity(new Intent(ActivityA.this, ActivityB.class)); overridePendingTransition(R.anim.enter, R.anim.exit);"}], "owner": {"reputation": 1, "user_id": 11668167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C66Gdz1-Z1Y/AAAAAAAAAAI/AAAAAAAACR8/Hz0rZGXBIz0/photo.jpg?sz=128", "display_name": "Lekkala Narayana", "link": "https://stackoverflow.com/users/11668167/lekkala-narayana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560924205, "creation_date": 1560923819, "last_edit_date": 1560924205, "question_id": 56660875, "link": "https://stackoverflow.com/questions/56660875/how-to-transition-from-one-activity-to-another-activity-like-left-to-right-and-r", "title": "How to transition from one activity to another activity like left to right and right to left in&quot; kotlin&quot;?", "body": "<p>As I'm learning Kotlin for Android development, I'm now trying the basic programs like hello world and how to navigate from one activity to another activity , there is no issue in this.</p>\n\n<p>My concern is when I move from one activity to another activity it works fine but I how to  move right to left and left to right</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 1, "creation_date": 1560918804, "post_id": 56660051, "comment_id": 99889437, "body": "error and warning are 2 different things."}, {"owner": {"reputation": 2085, "user_id": 8415167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtfuU.jpg?s=128&g=1", "display_name": "aditya kumar", "link": "https://stackoverflow.com/users/8415167/aditya-kumar"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1560918942, "post_id": 56660051, "comment_id": 99889469, "body": "@VivekMishra I thought it as an error as my app is getting crash every time I try to run this."}, {"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1560919008, "post_id": 56660051, "comment_id": 99889484, "body": "what you have posted, is a warning. It might be crashing due to something else"}, {"owner": {"reputation": 2085, "user_id": 8415167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtfuU.jpg?s=128&g=1", "display_name": "aditya kumar", "link": "https://stackoverflow.com/users/8415167/aditya-kumar"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1560919488, "post_id": 56660051, "comment_id": 99889578, "body": "@VivekMishra have a look I have updated my question with error from log hope that helps."}, {"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1560919561, "post_id": 56660051, "comment_id": 99889595, "body": "that is a simple null pointer exception. Check why it is null"}, {"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1560919605, "post_id": 56660051, "comment_id": 99889602, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1560922205, "post_id": 56660051, "comment_id": 99890204, "body": "It&#39;s a NPE in the recyclerview - how you&#39;re setting your recyclerview up? Using an animator there?"}], "owner": {"reputation": 2085, "user_id": 8415167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtfuU.jpg?s=128&g=1", "display_name": "aditya kumar", "link": "https://stackoverflow.com/users/8415167/aditya-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1561709045, "creation_date": 1560918329, "last_edit_date": 1561709045, "question_id": 56660051, "link": "https://stackoverflow.com/questions/56660051/w-warning-sleeptrackerviewmodel-startbuttonvisible-getvalue-is-a-boxed-field", "title": "w: warning: sleepTrackerViewModel.startButtonVisible.getValue() is a boxed field but needs to be un-boxed to execute android:enabled", "body": "<p>App was working fine but as soon i try to add recyleView I get error something like this</p>\n\n<p>Error in Log</p>\n\n<pre><code>2019-06-19 10:12:31.052 7364-7364/com.example.android.trackmysleepqualityrecyclerview E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.android.trackmysleepqualityrecyclerview, PID: 7364\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.android.trackmysleepqualityrecyclerview/com.example.android.trackmysleepquality.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean androidx.recyclerview.widget.RecyclerView$ViewHolder.shouldIgnore()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2985)\n\nw: warning: sleepTrackerViewModel.startButtonVisible.getValue() is a boxed field but needs to be un-boxed to execute android:enabled. This may cause NPE so Data Binding will safely unbox it. You can change the expression and explicitly wrap sleepTrackerViewModel.startButtonVisible.getValue() with safeUnbox() to prevent the warning\n</code></pre>\n\n<p>I have no idea where it is coming from. </p>\n\n<p>This is my Code.</p>\n\n<p><strong>fragment_sleep_tracker.xml</strong></p>\n\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/sleep_list\"\n            app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/clear_button\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/stop_button\"&gt;\n\n            &lt;!-- In the TextView, we can access the nightsString LiveData,\n                 which keeps it displayed and updated in the TextView\n                 whenever it changes. --&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textview\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginStart=\"@dimen/margin\"\n                android:layout_marginTop=\"@dimen/margin\"\n                android:layout_marginEnd=\"@dimen/margin\"\n                android:text=\"@{sleepTrackerViewModel.nightsString}\" /&gt;\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n</code></pre>\n\n<p><strong>sleepNightAdapter.kt</strong></p>\n\n<pre><code>class SleepNightAdapter :RecyclerView.Adapter&lt;TextItemViewHolder&gt;(){\n\n    var data = listOf&lt;SleepNight&gt;()\n        set(value){\n            field = value\n            notifyDataSetChanged()\n        }\n\n    override fun getItemCount() = data.size\n\n    override fun onBindViewHolder(holder: TextItemViewHolder, position: Int) {\n        var item = data[position]\n        holder.textView.text = item.sleepQuality.toString()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TextItemViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val view = layoutInflater.inflate(R.layout.text_item_view, parent, false) as TextView\n        return TextItemViewHolder(view)\n    }\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 279, "user_id": 285421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48848ec1ed23a7503566db114efd000?s=128&d=identicon&r=PG", "display_name": "Arlukin", "link": "https://stackoverflow.com/users/285421/arlukin"}, "edited": false, "score": 0, "creation_date": 1563378981, "post_id": 56659660, "comment_id": 100682835, "body": "Did you find any solution? I find my problem by adding -i to gradle. It did show the file that had changed.&quot;./gradlew shadowJar -i&quot;"}, {"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "reply_to_user": {"reputation": 279, "user_id": 285421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48848ec1ed23a7503566db114efd000?s=128&d=identicon&r=PG", "display_name": "Arlukin", "link": "https://stackoverflow.com/users/285421/arlukin"}, "edited": false, "score": 0, "creation_date": 1563411411, "post_id": 56659660, "comment_id": 100694395, "body": "Nope - didn&#39;t figure out a concrete solution - I couldn&#39;t figure out exactly what was changing the files - maybe some timestamp."}], "answers": [{"comments": [{"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1560991377, "post_id": 56663716, "comment_id": 99921920, "body": "Thanks, so I gave that a go using: <code>inputs.dir(&quot;.&#47;src&quot;)</code> and <code>outputs.file(&quot;.&#47;build&#47;libs&#47;match-work.jar&quot;)</code> but it still went and spent a minute creating the JAR. Any ideas?"}, {"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1560993907, "post_id": 56663716, "comment_id": 99922303, "body": "Looking into it a bit more, it says:  <code>Output property &#39;$1&#39; file &#47;Users&#47;x&#47;Documents&#47;GitProjects&#47;work&#47;apps&#47;spark-jobs&#47;ma&#47;build&zwnj;&#8203;&#47;libs&#47;match-work.jar has changed.</code> and    <code>Output property &#39;archiveFile&#39; file &#47;Users&#47;x&#47;Documents&#47;GitProjects&#47;work&#47;apps&#47;spark-jobs&#47;ma&#47;build&zwnj;&#8203;&#47;libs&#47;match-work.jar has changed.</code>"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1561013332, "post_id": 56663716, "comment_id": 99926840, "body": "I think there must be something else at play then. I just tried with a simple project with just one class in it, and <code>shadowJar</code> was executed the first time I ran the build, but on subsequent runs it said it was up-to-date and skipped it. Maybe try creating a new cut-down project yourself to check if the task is skipped. If not, maybe you can put it on GitHub and we can look at it. Also, have updated my answer with some specifics around the <code>shadowJar</code> task."}, {"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1561018922, "post_id": 56663716, "comment_id": 99929551, "body": "Can I just confirm how you specified the directories: I&#39;m using <code>inputs.dir(&quot;${project.projectDir}&#47;src&#47;&quot;)</code> and <code>outputs.file(&quot;.&#47;build&#47;libs&#47;${project.name}.jar&quot;)</code>"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1561020603, "post_id": 56663716, "comment_id": 99930403, "body": "In the end I didn&#39;t even need to specify them: it knew by itself what the inputs and outputs were. But if you look at the <a href=\"https://guides.gradle.org/running-webpack-with-gradle/#step_3_declare_task_inputs_and_outputs\" rel=\"nofollow noreferrer\">Webpack example</a> you&#39;ll see it&#39;s using paths relative to the root of the project. e.g. if you have a <code>src</code> folder at the top level and you want that to be the input, just use <code>inputs.dir(&quot;src&quot;)</code>."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 3, "last_activity_date": 1561013708, "last_edit_date": 1561013708, "creation_date": 1560934408, "answer_id": 56663716, "question_id": 56659660, "link": "https://stackoverflow.com/questions/56659660/gradle-only-execute-a-task-if-code-in-a-directory-has-changed/56663716#56663716", "title": "Gradle - only execute a task if code in a directory has changed", "body": "<p>In general if you want to tell a task how to know whether it's up-to-date or not, you need to define <code>inputs</code> and <code>outputs</code>. These are what tells Gradle if a task is up-to-date or not. If nothing has changed in the inputs or outputs since the task was last run, Gradle knows it's up-to-date and will not re-execute the task.</p>\n\n<p>In your case the inputs would be the source folder, and the outputs would be the jar.  This is explained in the Gradle docs <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:up_to_date_checks\" rel=\"nofollow noreferrer\">here</a>.  You can see an example in <a href=\"https://guides.gradle.org/running-webpack-with-gradle/#step_3_declare_task_inputs_and_outputs\" rel=\"nofollow noreferrer\">this</a> article, which shows how Gradle can call Webpack, but only if something has changed.</p>\n\n<p>So you could do something like this:</p>\n\n<pre><code>tasks {\n    \"shadowJar\"(ShadowJar::class) {\n        // all the stuff you already have, plus these two new lines:\n        inputs.dir(\"... the source dir ...\")\n        outputs.file(\"... the generated jar ...\")\n    }\n}\n</code></pre>\n\n<p>However, I presume the <code>shadowTask</code> task you're using is from here: <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">https://github.com/johnrengelman/shadow</a> ? If so, you might not actually need to set the <code>inputs</code> and <code>outputs</code> directly as the task already sets them itself. For example if you look at the source code for that plugin you can see it annotates one method with <code>@InputFiles</code> (see <a href=\"https://github.com/johnrengelman/shadow/blob/3feb64280bb54c4a94bb5a8cf28d4769f8426f94/src/main/groovy/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.java#L98\" rel=\"nofollow noreferrer\">here</a>). This, according to the docs:</p>\n\n<blockquote>\n  <p>Marks a property as specifying the input files for a task.</p>\n</blockquote>\n\n<p>The outputs are also specified in one of the superclasses (<code>AbstractArchiveTask.getArchiveFile</code>).</p>\n"}], "owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1860, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1561013708, "creation_date": 1560915137, "question_id": 56659660, "link": "https://stackoverflow.com/questions/56659660/gradle-only-execute-a-task-if-code-in-a-directory-has-changed", "title": "Gradle - only execute a task if code in a directory has changed", "body": "<p>I have a Gradle task that creates a 100MB JAR. Now I only want it to be created as part of my <code>gradle build</code> if code within the project has changed (say a specific <code>./src</code> directory).</p>\n\n<p>So at the moment the build.gradle.kts looks like:</p>\n\n<pre><code>tasks {\n    \"shadowJar\"(ShadowJar::class) {\n        isZip64 = true\n        archiveFileName.set(\"${project.name}.jar\")\n        dependencies {\n            include(dependency(\".*:.*:.*\"))\n            exclude(dependency(\"org.apache.spark:.*\"))\n        }\n    }\n}\n\ntasks {\n    \"build\" {\n        dependsOn(\"shadowJar\")\n    }\n}\n</code></pre>\n\n<p>Any ideas on how I can achieve this?</p>\n\n<p>Thanks</p>\n\n<p>p.s.\nAnd as a background I'm doing to improve the build time. I've already found 2 things for my <code>gradle.properties</code>:</p>\n\n<pre><code>org.gradle.parallel=true\norg.gradle.caching=true\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-viewpager"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1560931458, "post_id": 56659449, "comment_id": 99894335, "body": "Is your click listener and <code>GoTo</code> actually called?"}, {"owner": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1560938720, "post_id": 56659449, "comment_id": 99898353, "body": "@tynn yes. It get calls. When I trace it by line by line it works prefect! The GoTo() always called but nothing work unless when debugging step by step!"}], "owner": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560931352, "creation_date": 1560913138, "last_edit_date": 1560931352, "question_id": 56659449, "link": "https://stackoverflow.com/questions/56659449/why-fragment-based-viewpager-setcurrentitem-is-not-working-inside-an-adapter", "title": "Why fragment based viewPager.setCurrentItem is not working inside an adapter?", "body": "<p>I have a fragment in MainActivity that handles other fragments inside a view page.\nThis is that one:</p>\n\n<pre><code>class FragOrdersHolder : Fragment() {\n\n    lateinit var viewPager: ViewPager\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?\n    ): View? {\n        val mainView = inflater.inflate(R.layout.orders_holder_frg, container, false)\n        return mainView\n    }\n\n    override fun onViewCreated(mainView: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(mainView, savedInstanceState)\n\n        viewPager = mainView.findViewById(R.id.ordersViewPagerID)\n\n        viewPager.adapter = OrdersPagerAdapter(activity!!.supportFragmentManager)\n\n        val pagerTab = mainView.findViewById&lt;PagerTabStrip&gt;(R.id.pagerHeaderID)\n        pagerTab.tabIndicatorColor = Color.WHITE\n        pagerTab.setTextColor(Color.WHITE)\n    }\n\n    fun GoTo(pos: Int) {\n        Handler().post(Runnable {\n            viewPager.setCurrentItem(pos, true)\n        })\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>I have 3 fragments in my viewPager and one of them, have a recyclerview inside it.</p>\n\n<p>the recyclerview has a custom adapter class.</p>\n\n<p>I want to go to next tap in viewPager when clicking on an item in the recylerview.</p>\n\n<p>I'm calling the GoTo method in adapter class like this:</p>\n\n<pre><code>val fm = (activity as MainActivity).supportFragmentManager\nval fragm = fm.findFragmentByTag(\"HOLDER\") as FragOrdersHolder\nfragm.GoTo(2)\n</code></pre>\n\n<p>I'd tried everything viewPager.setCurrentItem not working!\nplease help me.  </p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 358, "user_id": 1701070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f790c44418980e44ea95c0f01f45dd?s=128&d=identicon&r=PG", "display_name": "Giuseppe Giacoppo", "link": "https://stackoverflow.com/users/1701070/giuseppe-giacoppo"}, "edited": false, "score": 0, "creation_date": 1589811201, "post_id": 56659045, "comment_id": 109433393, "body": "Hi, I have the same problem. I&#39;d like to invoke a suspend func in another scope and then invoke other methods on original scope. Did you solve your problem?"}, {"owner": {"reputation": 3832, "user_id": 518504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0d274743055bd38fbb17018e4b46f8?s=128&d=identicon&r=PG", "display_name": "Sudar Nimalan", "link": "https://stackoverflow.com/users/518504/sudar-nimalan"}, "reply_to_user": {"reputation": 358, "user_id": 1701070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f790c44418980e44ea95c0f01f45dd?s=128&d=identicon&r=PG", "display_name": "Giuseppe Giacoppo", "link": "https://stackoverflow.com/users/1701070/giuseppe-giacoppo"}, "edited": false, "score": 0, "creation_date": 1592450590, "post_id": 56659045, "comment_id": 110431666, "body": "The only solution I used is:- passing the scope as a parameter of the function."}], "answers": [{"comments": [{"owner": {"reputation": 3832, "user_id": 518504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0d274743055bd38fbb17018e4b46f8?s=128&d=identicon&r=PG", "display_name": "Sudar Nimalan", "link": "https://stackoverflow.com/users/518504/sudar-nimalan"}, "edited": false, "score": 0, "creation_date": 1560913713, "post_id": 56659353, "comment_id": 99888512, "body": "Sorry, this is not working. Even If I call the myFucntion from &quot;main&quot;  &quot;// do something&quot; is running on &quot;DefaultDispatcher-worker-2&quot; (for example)"}, {"owner": {"reputation": 12288, "user_id": 5699956, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8f8a27337886706b303e88cf00edb24e?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5699956/max"}, "reply_to_user": {"reputation": 3832, "user_id": 518504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0d274743055bd38fbb17018e4b46f8?s=128&d=identicon&r=PG", "display_name": "Sudar Nimalan", "link": "https://stackoverflow.com/users/518504/sudar-nimalan"}, "edited": false, "score": 0, "creation_date": 1560919782, "post_id": 56659353, "comment_id": 99889634, "body": "@SudarNimalan it will run on whatever dispatcher you will set in <code>CoroutineScope(Dispatchers.Default)</code> . you can change the default to <code>io</code> etc"}, {"owner": {"reputation": 3832, "user_id": 518504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0d274743055bd38fbb17018e4b46f8?s=128&d=identicon&r=PG", "display_name": "Sudar Nimalan", "link": "https://stackoverflow.com/users/518504/sudar-nimalan"}, "edited": false, "score": 0, "creation_date": 1560924153, "post_id": 56659353, "comment_id": 99890835, "body": "I want to make sure &quot;//Do something 002&quot; to run on the same scope of myFunction"}, {"owner": {"reputation": 3832, "user_id": 518504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0d274743055bd38fbb17018e4b46f8?s=128&d=identicon&r=PG", "display_name": "Sudar Nimalan", "link": "https://stackoverflow.com/users/518504/sudar-nimalan"}, "edited": false, "score": 0, "creation_date": 1560935002, "post_id": 56659353, "comment_id": 99896197, "body": "Thank you - I don&#39;t want to hardcode &quot;Dispatchers.Main&quot; if myFunction call from other Scope I want to use that scope."}], "tags": [], "owner": {"reputation": 12288, "user_id": 5699956, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8f8a27337886706b303e88cf00edb24e?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5699956/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1560934533, "last_edit_date": 1560934533, "creation_date": 1560912169, "answer_id": 56659353, "question_id": 56659045, "link": "https://stackoverflow.com/questions/56659045/kotlin-coroutines-how-to-get-coroutinescope-for-the-current-thread/56659353#56659353", "title": "Kotlin Coroutines How to get CoroutineScope for the current Thread?", "body": "<p>You can save a reference to a Coroutines scope using</p>\n\n<pre><code>val scope = CoroutineScope(Dispatchers.Default)\n</code></pre>\n\n<p>and then you can use it like</p>\n\n<pre><code>fun myFuncion() {\n    scope.launch {\n        // do something\n    }\n}\n</code></pre>\n\n<p><strong>Update from comments:</strong></p>\n\n<p>if you are calling your <code>myFunction()</code> from main thread then you can do something like this</p>\n\n<pre><code>fun myFuncion() {\n        scope.launch {\n            // do something\n            withContext(Dispatchers.Main) { \n                //Do something 002\n            }\n\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 3832, "user_id": 518504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0d274743055bd38fbb17018e4b46f8?s=128&d=identicon&r=PG", "display_name": "Sudar Nimalan", "link": "https://stackoverflow.com/users/518504/sudar-nimalan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2554, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1560934533, "creation_date": 1560909010, "last_edit_date": 1560924051, "question_id": 56659045, "link": "https://stackoverflow.com/questions/56659045/kotlin-coroutines-how-to-get-coroutinescope-for-the-current-thread", "title": "Kotlin Coroutines How to get CoroutineScope for the current Thread?", "body": "<p>In Kotlin Coroutines, want to create a reference for the current thread and use it later.</p>\n\n<pre><code>fun myFuncion(){\n    //save current Thread CoroutineScope\n    var currentCoroutineScope : CoroutineScope // &lt;How to create?&gt;\n    GlobalScope.launch { \n        //Do something 001\n        currentCoroutineScope .launch {\n            //Do something 002\n\n        }\n    }\n}\n</code></pre>\n\n<p>Could anyone help with this?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1560933641, "post_id": 56658858, "comment_id": 99895407, "body": "What are you trying to achieve, and why are you trying to do it this way?  You&#39;re effectively trying to reinvent polymorphism; you might find it works better if you can make your <code>f</code> an enum or implement some interface with a method than you can then call.  That way you&#39;d get better compile-time type-safety, reduce inter-class dependencies, etc."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1560918764, "creation_date": 1560918764, "answer_id": 56660102, "question_id": 56658858, "link": "https://stackoverflow.com/questions/56658858/what-is-the-best-way-to-pass-class-reference-as-a-method-parameter/56660102#56660102", "title": "What is the best way to pass Class reference as a method parameter?", "body": "<p>You can write</p>\n\n<pre><code>fun doSomething(f: KClass&lt;*&gt;) {\n    when (f){\n        B::class -&gt; print(\"class B\")\n        C::class -&gt; print(\"class C\")\n    }\n}\n</code></pre>\n\n<p>and then call it as <code>doSomething(B::class)</code> or <code>doSomething(String::class)</code>. </p>\n\n<p>Many libraries will use <code>Class</code> instead of <code>KClass</code>, in which case you need <code>B::class.java</code>.</p>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"nofollow noreferrer\">Class References</a> documentation.</p>\n"}], "owner": {"reputation": 400, "user_id": 10967630, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BL5fKh14hBo/AAAAAAAAAAI/AAAAAAAABcI/GkOQ_Z52KW8/photo.jpg?sz=128", "display_name": "SayantanRC", "link": "https://stackoverflow.com/users/10967630/sayantanrc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560918764, "creation_date": 1560907004, "question_id": 56658858, "link": "https://stackoverflow.com/questions/56658858/what-is-the-best-way-to-pass-class-reference-as-a-method-parameter", "title": "What is the best way to pass Class reference as a method parameter?", "body": "<p>I am really new to Kotlin. I want to implement something like this:</p>\n\n<pre><code>class classA {\nfun doSomething(f: class){\nwhen (f){\nclassB -&gt; print(\"class B\")\nclassC -&gt; print(\"class C\")\n}\n}\n</code></pre>\n\n<p>I don't have any idea on how to proceed. Should I use generics? Or anything else? Feel free to mark as duplicate if answer is already present.</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 5168759, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-DevvrxRaOkk/AAAAAAAAAAI/AAAAAAAAAOM/wLRKHPMgwoY/photo.jpg?sz=128", "display_name": "Mina Mona", "link": "https://stackoverflow.com/users/5168759/mina-mona"}, "edited": false, "score": 1, "creation_date": 1561030053, "post_id": 56669637, "comment_id": 99935442, "body": "yup it is added. Both kotlinx-coroutines-core and kotlinx-coroutines-android. still the same result."}], "tags": [], "owner": {"reputation": 21, "user_id": 11481434, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j3fp9P1MFQs/AAAAAAAAAAI/AAAAAAAAGOw/BR2QBJd3Qp0/photo.jpg?sz=128", "display_name": "Justin Bee", "link": "https://stackoverflow.com/users/11481434/justin-bee"}, "is_accepted": false, "score": 1, "last_activity_date": 1561030909, "last_edit_date": 1561030909, "creation_date": 1560953139, "answer_id": 56669637, "question_id": 56658813, "link": "https://stackoverflow.com/questions/56658813/unable-to-compile-unresolved-reference-coroutines/56669637#56669637", "title": "Unable to compile &quot; unresolved reference: coroutines &quot;", "body": "<p>You need to add the following to the dependencies of your build.gradle module:app</p>\n\n<pre><code>api \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$rootProject.coroutines\"\n</code></pre>\n\n<p>do you have?</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 5168759, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-DevvrxRaOkk/AAAAAAAAAAI/AAAAAAAAAOM/wLRKHPMgwoY/photo.jpg?sz=128", "display_name": "Mina Mona", "link": "https://stackoverflow.com/users/5168759/mina-mona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1561031307, "creation_date": 1560906384, "last_edit_date": 1561031307, "question_id": 56658813, "link": "https://stackoverflow.com/questions/56658813/unable-to-compile-unresolved-reference-coroutines", "title": "Unable to compile &quot; unresolved reference: coroutines &quot;", "body": "<p>I unable to compile my project, which i'm not sure why but i'm getting this error \"unresolved reference: coroutines\" / \"unresolved reference: scope\"</p>\n\n<p>it was working before as i was on java8 but after mishandling on dependency, i endup deleting java8 and now i'm on java11. i cant seem to compile my project anymore. </p>\n\n<pre><code>ext.kotlin_version = '1.3.31'\n\nsourceCompatibility = \"1.7\"\ntargetCompatibility = \"1.7\n</code></pre>\n"}, {"tags": ["spring-boot", "spring-mvc", "kotlin", "spring-security"], "answers": [{"tags": [], "owner": {"reputation": 2104, "user_id": 11430047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07d0efc28d55404dcfa88c258758732e?s=128&d=identicon&r=PG&f=1", "display_name": "Eleftheria Stein-Kousathana", "link": "https://stackoverflow.com/users/11430047/eleftheria-stein-kousathana"}, "is_accepted": true, "score": 0, "last_activity_date": 1560956659, "creation_date": 1560956659, "answer_id": 56670799, "question_id": 56658195, "link": "https://stackoverflow.com/questions/56658195/spring-boot-spring-security-app-reloads-login-page-instead-of-succeeding-or-fail/56670799#56670799", "title": "Spring boot spring security app reloads login page instead of succeeding or failing", "body": "<p>It seems you are using incorrect mustache syntax for the csrf parameter.\nYou need the <code>{{</code> to render the context variable.</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"{{_csrf.parameterName}}\" value=\"{{_csrf.token}}\"/&gt;\n</code></pre>\n\n<p>Additionally, you need to copy the \"_csrf\" object to the MVC model by adding this setting to you <code>application.properties</code>.</p>\n\n<pre><code>spring.mustache.expose-request-attributes=true\n</code></pre>\n\n<p>Finally, you may see an <code>IllegalArgumentException</code> because you haven't specified a password encoder. If that occurs, you will see the error in your stacktrace. It can be fixed by specifying a <code>PasswordEncoder</code>.</p>\n"}], "owner": {"reputation": 53, "user_id": 9575154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa0ee2284c6fc91a6abdd5429154f9a3?s=128&d=identicon&r=PG", "display_name": "Adam Stafiej", "link": "https://stackoverflow.com/users/9575154/adam-stafiej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 56670799, "answer_count": 1, "score": 0, "last_activity_date": 1560956659, "creation_date": 1560899738, "question_id": 56658195, "link": "https://stackoverflow.com/questions/56658195/spring-boot-spring-security-app-reloads-login-page-instead-of-succeeding-or-fail", "title": "Spring boot spring security app reloads login page instead of succeeding or failing", "body": "<p>I tried replacing the spring security login screen with my custom one. While the default one works perfectly my own one doesn't seem to react to posting the form. It just reloads the login screen.</p>\n\n<p>login.mustache:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>{{&gt; partials/header}}\n&lt;body class=\"grey lighten-4\"&gt;\n&lt;div class=\"container\"&gt;\n    &lt;form action=\"/login\" method=\"POST\"&gt;\n        &lt;div class=\"md-form\"&gt;\n            &lt;input type=\"text\" name=\"username\" id=\"loginField\" class=\"form-control\"&gt;\n            &lt;label for=\"loginField\"&gt;Login&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"md-form\"&gt;\n            &lt;input type=\"password\" name=\"password\" id=\"passwordField\" class=\"form-control\"&gt;\n            &lt;label for=\"passwordField\"&gt;Password&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;button class=\"btn red text-white float-right\" type=\"submit\"&gt;Log in&lt;/button&gt;\n        &lt;input type=\"hidden\" name=\"${_csrf.parameterName}\" value=\"${_csrf.token}\"/&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n{{&gt; partials/footer}}\n</code></pre>\n\n<p>LoginController.kt</p>\n\n<pre><code>import org.springframework.stereotype.Controller\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.PostMapping\nimport org.springframework.ui.Model\nimport org.springframework.ui.set\n\n@Controller\nclass LoginController {\n\n    @GetMapping(\"/login\")\n    fun loginPage(model: Model): String {\n        return \"login\"\n    }\n/*\n    @PostMapping(\"/login\")\n    fun loginForm() {\n        print(\"post\")\n    }*/\n}\n</code></pre>\n\n<p>It doesn't even trigger the breakpoint in the currently commented part when posting the form.</p>\n\n<p>SecurityConfig.kt</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter\nimport org.springframework.security.core.userdetails.User\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager\n\n@Configuration\n@EnableWebSecurity\nclass SecurityConfig : WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http.authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginPage(\"/login\")\n                .defaultSuccessUrl(\"/test\")\n                .permitAll()\n    }\n\n    override fun configure(auth: AuthenticationManagerBuilder) {\n        auth.userDetailsService(\n                InMemoryUserDetailsManager(\n                        User.withUsername(\"user\").password(\"user\").authorities(mutableListOf()).build()\n                )\n        )\n    }\n}\n</code></pre>\n\n<p>I suspect I'm missing some crucial part to receiving and processing the contents of the form correctly. However after going through like 10 tutorials on this issue I've found so many inconsistencies between them that I'm honestly lost.</p>\n"}, {"tags": ["postgresql", "kotlin", "vert.x", "reactive"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1560930679, "post_id": 56657971, "comment_id": 99893934, "body": "Something doesn&#39;t fit, <code>reactive-pg-client-0.11.1</code> shouldn&#39;t accept <code>listOf()</code> in the first place. Could you post how you initialize your client, eg <code>val jdbc = ...</code> and what imports you&#39;re using?"}], "answers": [{"tags": [], "owner": {"reputation": 6331, "user_id": 2133695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba99aebb0acd409215e7cdbfb561b7f?s=128&d=identicon&r=PG", "display_name": "tsegismont", "link": "https://stackoverflow.com/users/2133695/tsegismont"}, "is_accepted": false, "score": 1, "last_activity_date": 1560934716, "creation_date": 1560934716, "answer_id": 56663810, "question_id": 56657971, "link": "https://stackoverflow.com/questions/56657971/coerced-error-making-sql-where-in-reactiverse-pgclient-kotlin/56663810#56663810", "title": "coerced Error making SQL where in reactiverse pgclient Kotlin", "body": "<p>Change your query to use the <code>ANY</code> operator:</p>\n\n<pre><code>jdbc.rxPreparedQuery(\"SELECT * FROM table_name WHERE id = ANY($1)\", arrayOf(1))\n</code></pre>\n"}], "owner": {"reputation": 716, "user_id": 4118267, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/xIgkR.jpg?s=128&g=1", "display_name": "oriaj", "link": "https://stackoverflow.com/users/4118267/oriaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2504, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560934716, "creation_date": 1560897938, "question_id": 56657971, "link": "https://stackoverflow.com/questions/56657971/coerced-error-making-sql-where-in-reactiverse-pgclient-kotlin", "title": "coerced Error making SQL where in reactiverse pgclient Kotlin", "body": "<p>I have the following code try to do a where in clause in reactiverse pgclient</p>\n\n<pre><code>jdbc.rxPreparedQuery(\"SELECT * FROM table_name WHERE id IN ($1)\", listOf(arrayOf(1)))\n</code></pre>\n\n<p>getting the following error:</p>\n\n<blockquote>\n  <p>Caused by: io.vertx.core.impl.NoStackTraceThrowable: Values [[Ljava.lang.Integer;@46f45cec] cannot be coerced to [Number]</p>\n</blockquote>\n\n<p>the table is:</p>\n\n<pre><code>CREATE TABLE table_name\n(\n  id          SERIAL       NOT NULL,\n  CONSTRAINT table_name PRIMARY KEY (id)\n);\n</code></pre>\n\n<p>I am using <code>reactive-pg-client-0.11.1</code> </p>\n"}, {"tags": ["android", "arrays", "kotlin", "colors"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560896515, "post_id": 56657733, "comment_id": 99885324, "body": "&quot;Whenever I try accessing the colors in the actual views&quot; -- how are you doing that? Remember that these are resource IDs, not colors -- you need to call <code>getColor()</code> on a <code>Resources</code> object to get the actual color."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1560897742, "post_id": 56657733, "comment_id": 99885614, "body": "<code>R.color</code> is just resource identifier. You need to resolve that value against app context, for example using <code>ContextCompat.getColor(context, colorId)</code>."}, {"owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1560912148, "post_id": 56657733, "comment_id": 99888196, "body": "@Pawel that worked perfect. Thanks. Still getting the hang of navigating around Android! Mark that as your answer and I&#39;ll accept it."}], "owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560896144, "creation_date": 1560896144, "question_id": 56657733, "link": "https://stackoverflow.com/questions/56657733/accessing-colors-from-colors-xml-in-an-intarrayof", "title": "Accessing colors from colors.xml in an intArrayOf", "body": "<p>I have a Kotlin object that should take a parameter of an array of colors. These colors are defined in <code>colors.xml</code>.</p>\n\n<p><strong>Object:</strong></p>\n\n<pre><code>class Teams(teamName:String, teamColors:IntArray){\n    var teamName = \"\"\n    var teamColors = intArrayOf(R.color.ElectricBlue, R.color.FireRed)\n    init {\n        this.teamName = teamName\n        this.teamColors = teamColors\n    }\n}\n</code></pre>\n\n<p><strong>colors.xml</strong></p>\n\n<pre><code>&lt;resources&gt;\n    &lt;color name=\"ElectricBlue\"&gt;#0089ff&lt;/color&gt;\n    &lt;color name=\"FireRed\"&gt;#d22826&lt;/color&gt;\n    &lt;!-- 20 more... --&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Whenever I try accessing the colors in the actual views, all colors just show up as a gray color with around 40% alpha.</p>\n\n<pre><code>teamColorGradient.colors = intArrayOf(R.color.ForestGreen, R.color.LightningYellow)\n</code></pre>\n\n<p>How can I initialize my Teams object so that it takes an array of colors that are defined in <code>colors.xml</code>?</p>\n"}, {"tags": ["android", "kotlin", "callback", "permissions", "android-permissions"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560893456, "post_id": 56657066, "comment_id": 99884511, "body": "Are you sure that you are making your <code>requestPermissions()</code> call? Also, are you sure that you have all three of those permissions in the manifest? Note that AFAIK you don&#39;t need both <code>ACCESS_FINE_LOCATION</code> and <code>ACCESS_COARSE_LOCATION</code> -- <code>ACCESS_FINE_LOCATION</code> alone would suffice."}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560894618, "post_id": 56657066, "comment_id": 99884868, "body": "yes of course because I have the request permissions displaying on the app, I even set a breakpoint on it. @CommonsWare"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 3, "creation_date": 1560919443, "post_id": 56657066, "comment_id": 99889566, "body": "Have you overriden <code>onRequestPermissionsResult</code> in your Activity? Can you include that code if so?"}, {"owner": {"reputation": 640, "user_id": 1621904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cb684d7942802ea33bfeb66db8a0bf5?s=128&d=identicon&r=PG", "display_name": "koto", "link": "https://stackoverflow.com/users/1621904/koto"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560932885, "post_id": 56657066, "comment_id": 99895005, "body": "I think that @ianhanniballake has got a valid point. According to answer linked by you, and also to <a href=\"https://stackoverflow.com/a/33080682/1621904\">stackoverflow.com/a/33080682/1621904</a>, make sure to catch result in activity."}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560942866, "post_id": 56657066, "comment_id": 99900500, "body": "I didn&#39;t get this part actually ! I have put <code>onRequestPermissionsResult</code> and now it&#39;s working like a charm ! Please put your comment as an answer @ianhanniballake Thank you also @koto"}], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 2940677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5609a6658bbe04550aaa2a90aafa2fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/2940677/faisal"}, "edited": false, "score": 0, "creation_date": 1576163277, "post_id": 58627444, "comment_id": 104817177, "body": "Is there any alternate/work-around to catch in Fragment?"}], "tags": [], "owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "is_accepted": true, "score": 0, "last_activity_date": 1572445188, "creation_date": 1572445188, "answer_id": 58627444, "question_id": 56657066, "link": "https://stackoverflow.com/questions/56657066/android-onrequestpermissionsresult-not-being-called-in-fragment/58627444#58627444", "title": "Android onRequestPermissionsResult not being called in fragment", "body": "<p>The <code>onRequestPermissionsResult</code> has to be catch in the <code>activty</code>.</p>\n"}], "owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 58627444, "answer_count": 1, "score": 2, "last_activity_date": 1572445188, "creation_date": 1560892080, "question_id": 56657066, "link": "https://stackoverflow.com/questions/56657066/android-onrequestpermissionsresult-not-being-called-in-fragment", "title": "Android onRequestPermissionsResult not being called in fragment", "body": "<p>I'm using google maps so I need to ask some <code>permissions</code>.<br>\nI'm requesting the user during the <code>onStart()</code> of the <code>Fragment</code><br>\nI'm calling <code>requestPermissions</code> because I'm in a fragment and I also have called <code>super.onRequestPermissionsResult</code> as recommended in this <a href=\"https://stackoverflow.com/a/35996955/7937498\">answer</a> and as you can see in the code below.<br>\nI have put some <code>breakpoint</code> and <code>Log</code> to be 100% sure that <code>onRequestPermissionsResult</code> is not called.  </p>\n\n<pre><code>class FindLessonFragment : BaseFragment(), OnMapReadyCallback, OnClusterItemClickListener&lt;ClusterLesson&gt;, OnClusterClickListener&lt;ClusterLesson&gt; {\n\n    override fun onStart() {\n        super.onStart()\n    checkPermissions()\n    }\n\n    private fun checkPermissions() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (activity!!.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                    || activity!!.checkSelfPermission(permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                    || activity!!.checkSelfPermission(permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                val builder = AlertDialog.Builder(activity!!)\n                builder.setTitle(\"This app needs location access\")\n                builder.setMessage(\"Please grant location access so this app can work normally.\")\n                builder.setPositiveButton(android.R.string.ok, null)\n                builder.setOnDismissListener {\n                    requestPermissions(\n                            arrayOf(permission.ACCESS_COARSE_LOCATION, permission.READ_EXTERNAL_STORAGE, permission.ACCESS_FINE_LOCATION),\n                            PERMISSION_REQUEST_LOCATION)\n                }\n                builder.show()\n            }\n        }\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, @NonNull permissions: Array&lt;String&gt;, @NonNull grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        Log.e(\"PERMISSIONRESULT\", \"PASS PERMISSION RESULT\")\n        when (requestCode) {\n            BaseActivity.PERMISSION_REQUEST_LOCATION -&gt; {\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    Log.d(\"BaseActivity\", \"coarse location permission granted\")\n                    onMapReady(mMap)\n                } else {\n                    val builder = AlertDialog.Builder(context!!)\n                    builder.setTitle(\"Functionality limited\")\n                    builder.setMessage(\n                            \"Since location access has not been granted, this app will not be able to work correctly.\")\n                    builder.setPositiveButton(android.R.string.ok, null)\n                    builder.setOnDismissListener { dialog -&gt; dialog.dismiss() }\n                    builder.show()\n                }\n            }\n        }\n    }\n\n    companion object {\n\n        fun create() = FindLessonFragment()\n\n        internal const val PERMISSION_REQUEST_LOCATION = 1\n    }\n\n}\n</code></pre>\n\n<pre><code>minSdkVersion 23\n</code></pre>\n\n<p>Any kind of help is welcome</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3, "user_id": 11666816, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CfBtEQ039Iw/AAAAAAAAAAI/AAAAAAAAABg/zpwHybQhPZs/photo.jpg?sz=128", "display_name": "andymagicmansegal", "link": "https://stackoverflow.com/users/11666816/andymagicmansegal"}, "edited": false, "score": 0, "creation_date": 1560890005, "post_id": 56656656, "comment_id": 99883226, "body": "I forgot to mention:  The compile error is with the word &#39;object&#39; in the addListener call.  It says that &#39;object&#39; is not abstract.  Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11666816, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CfBtEQ039Iw/AAAAAAAAAAI/AAAAAAAAABg/zpwHybQhPZs/photo.jpg?sz=128", "display_name": "andymagicmansegal", "link": "https://stackoverflow.com/users/11666816/andymagicmansegal"}, "edited": false, "score": 0, "creation_date": 1560951801, "post_id": 56661769, "comment_id": 99905894, "body": "Thanks for the quick help.  Unfortunately, neither method worked.  I&#39;m sure I am just not understanding something."}, {"owner": {"reputation": 3, "user_id": 11666816, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CfBtEQ039Iw/AAAAAAAAAAI/AAAAAAAAABg/zpwHybQhPZs/photo.jpg?sz=128", "display_name": "andymagicmansegal", "link": "https://stackoverflow.com/users/11666816/andymagicmansegal"}, "edited": false, "score": 0, "creation_date": 1560952681, "post_id": 56661769, "comment_id": 99906472, "body": "Never mind.  I forgot that with abstraction, you need to override all of the required methods, not just the one that you need.  It works now.  Many thanks."}], "tags": [], "owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "is_accepted": true, "score": 1, "last_activity_date": 1560927551, "creation_date": 1560927551, "answer_id": 56661769, "question_id": 56656656, "link": "https://stackoverflow.com/questions/56656656/how-to-catch-the-end-of-an-animation/56661769#56661769", "title": "How To Catch The End of an Animation", "body": "<p>You can set the listener by doing this</p>\n\n<pre><code>    ivSample.animation.setAnimationListener(\n        object:Animation.AnimationListener{\n            override fun onAnimationRepeat(animation: Animation?) {\n                TODO(\"not implemented\")\n            }\n\n            override fun onAnimationEnd(animation: Animation?) {\n                TODO(\"not implemented\") \n            }\n\n            override fun onAnimationStart(animation: Animation?) {\n                TODO(\"not implemented\") \n            }\n        }\n    )\n</code></pre>\n\n<p>However, sometimes I prefer this way:</p>\n\n<pre><code>    ivSample.animate().translationY(723f).setDuration(500) // set duration\n    ivSample.postDelayed({\n        // TODO Doing my Job Here\n    }, 600)  // set a delay more than the duration\n</code></pre>\n\n<p>This is more flexible on timing, and can access the parameters inside parent class because it's using lambda expression.</p>\n\n<p>Choose one depend on your needs.</p>\n"}], "owner": {"reputation": 3, "user_id": 11666816, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CfBtEQ039Iw/AAAAAAAAAAI/AAAAAAAAABg/zpwHybQhPZs/photo.jpg?sz=128", "display_name": "andymagicmansegal", "link": "https://stackoverflow.com/users/11666816/andymagicmansegal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 56661769, "answer_count": 1, "score": 0, "last_activity_date": 1560927551, "creation_date": 1560889921, "question_id": 56656656, "link": "https://stackoverflow.com/questions/56656656/how-to-catch-the-end-of-an-animation", "title": "How To Catch The End of an Animation", "body": "<p>I am trying to run an animation and trap the end of the animation so I can do something at its conclusion.  I have been looking for examples online and this is what I have found.  Unfortunately, it is not compiling and I have no idea what I am doing wrong.  Any help would be greatly appreciated.  Thanks in advance.</p>\n\n<p>discView is the view that is being animated.\nanimationDropSpeed is just a number\nmainActivity is a pointer to the mainActivity object for my app.</p>\n\n<pre><code>        val discAnimator = ObjectAnimator.ofFloat(discView, \"translationY\", 723f)\n        discAnimator.setDuration(animationDropSpeed)\n\n        discAnimator.addListener(object : Animator.AnimatorListener{\n            override fun onAnimationEnd(p0: Animator?) {\n                Toast.makeText(mainActivity,\"Animation Started\",Toast.LENGTH_SHORT).show();\n            }\n        })\n        discAnimator.start()\n</code></pre>\n"}, {"tags": ["android", "api", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 3, "creation_date": 1560885943, "post_id": 56655756, "comment_id": 99881504, "body": "Use Logcat to examine the stack trace associated with your crash: <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a>"}, {"owner": {"reputation": 803, "user_id": 366182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WX0F6.jpg?s=128&g=1", "display_name": "betelgeuce", "link": "https://stackoverflow.com/users/366182/betelgeuce"}, "edited": false, "score": 1, "creation_date": 1560888918, "post_id": 56655756, "comment_id": 99882765, "body": "What error is returned?  Could you post it please."}], "answers": [{"tags": [], "owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "is_accepted": true, "score": 1, "last_activity_date": 1560886054, "creation_date": 1560886054, "answer_id": 56655802, "question_id": 56655756, "link": "https://stackoverflow.com/questions/56655756/app-crashes-whenever-this-http-is-request-made/56655802#56655802", "title": "App crashes whenever this HTTP is request made", "body": "<p>Without your error log, I can only assume that you are getting the <code>NetworkOnMainThreadException</code> Exception.</p>\n\n<p>If that's the case, You should know that in android you can't run network related actions on the main thread - you need to run them on a different thread, for example:</p>\n\n<pre><code>Thread mThread = new Thread(new Runnable() {\n\n@Override\npublic void run() {\n    try  {\n    //Put your code that you want to run in here.\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n});\n\nmThread.start\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11665009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-H6ClRt2sMzg/AAAAAAAAAAI/AAAAAAAAQ-E/UHnn37AGbNg/photo.jpg?sz=128", "display_name": "cdonn9", "link": "https://stackoverflow.com/users/11665009/cdonn9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56655802, "answer_count": 1, "score": 1, "last_activity_date": 1560908535, "creation_date": 1560885816, "last_edit_date": 1560908535, "question_id": 56655756, "link": "https://stackoverflow.com/questions/56655756/app-crashes-whenever-this-http-is-request-made", "title": "App crashes whenever this HTTP is request made", "body": "<p>Whenever this code is executed, the app crashes and no data is returned.</p>\n\n<p>I have already tried <code>Volley</code> and <code>okhttp</code> and neither worked.</p>\n\n<pre><code>val url = \"https://...\" \n\nval lines = URL(url).openStream().use {\n    it.bufferedReader().readLines()        \n}\n\noutputText.text = lines.toString()\n</code></pre>\n\n<p>I expect to see the returned information but instead the app crashes.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": false, "score": 0, "last_activity_date": 1560884770, "creation_date": 1560884770, "answer_id": 56655549, "question_id": 56655353, "link": "https://stackoverflow.com/questions/56655353/kotlin-compare-two-lists-with-startswith/56655549#56655549", "title": "Kotlin - Compare two lists with startsWith()", "body": "<p>You could use the <code>.any</code> function like this:</p>\n\n<pre><code>if (comparators.any { key.startsWith(it) })\n    // add to map\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4100584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8988c7053cf2847374f79d518774b4a4?s=128&d=identicon&r=PG&f=1", "display_name": "lebrain", "link": "https://stackoverflow.com/users/4100584/lebrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560885882, "creation_date": 1560883976, "last_edit_date": 1560885882, "question_id": 56655353, "link": "https://stackoverflow.com/questions/56655353/kotlin-compare-two-lists-with-startswith", "title": "Kotlin - Compare two lists with startsWith()", "body": "<p>I'd like a better way to loop through the keyList and if a key starts with the one of the comparator to grab that comparator string and add it to a Map as a header like so MutableMap>..the list being all the key items that match the comparator..</p>\n\n<pre><code>keysList: List&lt;String&gt;\nval comparators = listOf(\"error\", \"customer\", \"custom\", \"feature\")\n\n</code></pre>\n\n<p>So far I am doing it this way</p>\n\n<pre><code>private fun addToMap(key: String, attributeMap: MutableMap&lt;String, MutableList&lt;String&gt;&gt;) {\n        val list: MutableList&lt;String&gt; = attributeMap[getHeader(key)] ?: mutableListOf()\n        list.add(key)\n        attributeMap[getHeader(key)] = list\n    }\n\n\n    private fun getHeader(key: String): String {\n        val compareMap = mapOf(\"error\" to \"Error Attributes\", \"customer\" to \"Customer Attributes\",\n            \"custom\" to \"Customer Attributes\", \"feature\" to \"Feature Attributes\", \"request.header\" to \"Request Header Attributes\",\n            \"request.parameter\" to \"Request Parameter Attributes\", \"request\" to \"Other Request Attributes\")\n        val defaultKeys = listOf(\"error.expected\", \"error.class\", \"error.message\", \"host\", \"httpResponseCode\", \"transactionName\", \"transactionUiName\") // contains\n\n        for ((k, v) in compareMap) {\n            return if (key.startsWith(k)) {\n                v\n            } else if (key in defaultKeys) {\n                \"Error Attributes\"\n            } else {\n                \"Custom Attributes\"\n            }\n        }\n        return \"Custom Attributes\"\n    }\n\n</code></pre>\n"}, {"tags": ["android", "animation", "kotlin", "reflection"], "owner": {"reputation": 43, "user_id": 4824363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365c5bf9cb1ff7546a0ef5bcfb79e078?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0413\u0440\u0438\u0433\u043e\u0440\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/4824363/%d0%92%d0%b0%d0%bb%d0%b5%d1%80%d0%b8%d0%b9-%d0%93%d1%80%d0%b8%d0%b3%d0%be%d1%80%d1%8c%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1560878203, "creation_date": 1560878203, "question_id": 56654105, "link": "https://stackoverflow.com/questions/56654105/why-cant-i-access-private-field-via-reflection", "title": "Why can&#39;t I access private field via reflection?", "body": "<p>I'm trying to get \"Animator\" instances that are stored in the private class \"AnimatedVectorDrawableState\" that is in \"AnimatedVectorDrawable\" class via reflection. </p>\n\n<p>If all properties were public, the \"Animators\" would be able to get by such line:</p>\n\n<pre><code>AnimatedVectorDrawable().mAnimatedVectorState.mAnimators\n</code></pre>\n\n<p>To get Animators I use following method:</p>\n\n<pre><code>private fun AnimatedVectorDrawable.getAnimators() {\n    val field = javaClass.getDeclaredField(\"mAnimatedVectorState\")\n    field.isAccessible = true\n\n    val animatedVectorDrawableState = field.get(this)\n\n    val animatorsField = animatedVectorDrawableState.javaClass.getDeclaredField(\"mAnimators\")\n    animatorsField.isAccessible = true\n\n    Log.d(\"custom\", animatorsField.toString())\n}\n</code></pre>\n\n<p>But the program crashed when I try get \"mAnimators\" with message:\n\"No field mAnimators in class Landroid/graphics/drawable/AnimatedVectorDrawable$AnimatedVectorDrawableState;\"</p>\n\n<p>Despite the fact that I'm able to see \"mAnimators\" property via Android Debugger.</p>\n\n<p>How can I obtain \"mAnimators\" data from \"AnimatedVectorDrawable\"?</p>\n\n<p>Here is the screenshot of the debug data:\n<a href=\"https://i.stack.imgur.com/twQEq.png\" rel=\"nofollow noreferrer\">debug_data</a></p>\n"}, {"tags": ["kotlin", "spring-batch"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1560887800, "post_id": 56653315, "comment_id": 99882311, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/53030524/strange-compile-errors-in-equality-no-method-equalsany-boolean-available\" title=\"strange compile errors in equality no method equalsany boolean available\">stackoverflow.com/questions/53030524/&hellip;</a> ?"}, {"owner": {"reputation": 343, "user_id": 3641569, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d04a1b8f2fed1d29d31b9b6640b3bcd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Botuck", "link": "https://stackoverflow.com/users/3641569/jacob-botuck"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1560891661, "post_id": 56653315, "comment_id": 99883901, "body": "Nope. That one was about type inference for lists. There is no lists or type inference going on in  my question"}], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 3641569, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d04a1b8f2fed1d29d31b9b6640b3bcd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Botuck", "link": "https://stackoverflow.com/users/3641569/jacob-botuck"}, "edited": false, "score": 0, "creation_date": 1560876326, "post_id": 56653431, "comment_id": 99877276, "body": "it has the regular equals <a href=\"https://docs.spring.io/spring-batch/4.1.x/api/org/springframework/batch/core/ExitStatus.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/4.1.x/api/org/springframework/ba&zwnj;&#8203;tch/&hellip;</a>"}, {"owner": {"reputation": 299, "user_id": 10634703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e552286e260613fba60f0ee08b8362?s=128&d=identicon&r=PG&f=1", "display_name": "MadKarel", "link": "https://stackoverflow.com/users/10634703/madkarel"}, "reply_to_user": {"reputation": 343, "user_id": 3641569, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d04a1b8f2fed1d29d31b9b6640b3bcd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Botuck", "link": "https://stackoverflow.com/users/3641569/jacob-botuck"}, "edited": false, "score": 0, "creation_date": 1560894529, "post_id": 56653431, "comment_id": 99884833, "body": "Yes it does, but that is still not <code>.equals(other: Any?): Boolean</code>, so it does not participate in any way when you use operator <code>==</code>."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1560896841, "post_id": 56653431, "comment_id": 99885401, "body": "@MadKarel any class in Kotlin has <code>equals(other: Any?): Boolean</code> method inherited from <code>Any</code>"}, {"owner": {"reputation": 343, "user_id": 3641569, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d04a1b8f2fed1d29d31b9b6640b3bcd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Botuck", "link": "https://stackoverflow.com/users/3641569/jacob-botuck"}, "edited": false, "score": 0, "creation_date": 1560922204, "post_id": 56653431, "comment_id": 99890203, "body": "Object in Java maps to any in kotlin so the signature should be considered to be effectively the same"}], "tags": [], "owner": {"reputation": 299, "user_id": 10634703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e552286e260613fba60f0ee08b8362?s=128&d=identicon&r=PG&f=1", "display_name": "MadKarel", "link": "https://stackoverflow.com/users/10634703/madkarel"}, "is_accepted": false, "score": 0, "last_activity_date": 1560875263, "creation_date": 1560875263, "answer_id": 56653431, "question_id": 56653315, "link": "https://stackoverflow.com/questions/56653315/why-is-kotlin-double-equals-not-finding-a-equals-method/56653431#56653431", "title": "Why is Kotlin double equals not finding a .equals method?", "body": "<p>That is because when kotlin sees operator <code>==</code>, it only looks for <code>.equals(other: Any?): Boolean</code> method, not any other overloads. If the type does not have precisely this overload, it will not be found when using the <code>==</code> operator. Your type seems to have some other overload, something like<code>.equals(other: ExitStatus)</code>, which is used when you call it explicitly.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">More on Kotlin operator overloading.</a></p>\n"}], "owner": {"reputation": 343, "user_id": 3641569, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d04a1b8f2fed1d29d31b9b6640b3bcd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Botuck", "link": "https://stackoverflow.com/users/3641569/jacob-botuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1560875263, "creation_date": 1560874752, "question_id": 56653315, "link": "https://stackoverflow.com/questions/56653315/why-is-kotlin-double-equals-not-finding-a-equals-method", "title": "Why is Kotlin double equals not finding a .equals method?", "body": "<p>The below kotlin code does not compile. It claims <em>No method 'equals(Any?): Boolean' available</em></p>\n\n<pre><code>override fun afterJob(jobExecution: JobExecution) {\n            if (jobExecution.exitStatus == ExitStatus.COMPLETED) {\n               //do stuff\n            }\n}\n</code></pre>\n\n<p>ExitStatus (a java class from spring batch) does have an equals method. See here: <a href=\"https://docs.spring.io/spring-batch/4.1.x/api/org/springframework/batch/core/ExitStatus.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/4.1.x/api/org/springframework/batch/core/ExitStatus.html</a></p>\n\n<pre><code>public class ExitStatus\nextends java.lang.Object\nimplements java.io.Serializable, java.lang.Comparable&lt;ExitStatus&gt;\n</code></pre>\n\n<p>If I change == to .equals it works. Why is that?</p>\n"}, {"tags": ["kotlin", "ftp", "passwords", "teamcity"], "answers": [{"tags": [], "owner": {"reputation": 1598, "user_id": 6300555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EJScx.jpg?s=128&g=1", "display_name": "Senior Pomidor", "link": "https://stackoverflow.com/users/6300555/senior-pomidor"}, "is_accepted": true, "score": 1, "last_activity_date": 1560929579, "creation_date": 1560929579, "answer_id": 56662353, "question_id": 56653187, "link": "https://stackoverflow.com/questions/56653187/teamcity-kotlindsl-how-to-pass-ftp-password/56662353#56662353", "title": "TeamCity, KotlinDSL: how to pass FTP password", "body": "<p>When you need to add a password into the versioned settings not via <em>TeamCity UI</em> (for example, adding settings with Kotlin-based <strong>DSL</strong>), you will need to add the password to TeamCity and get the corresponding token to use in the settings. The token can be generated via the \"Generate Token for password\" action available in the <strong>Project</strong> | <strong>Actions menu</strong>.</p>\n\n<p>At this time passwords are not inheritable by projects hierarchy. If a setting in a project (a VCS root, OAuth connection, cloud profile) requires a password, the token generated for this password can be used in this project only. For instance, it is not possible to take a generated token and use it ain a similar setting in a subproject. A new token should be generated in this case.If you need to use a secure value in the nested projects, consider adding a <a href=\"https://www.jetbrains.com/help/teamcity/typed-parameters.html\" rel=\"nofollow noreferrer\">password parameter</a> with the secure value and using a <a href=\"https://www.jetbrains.com/help/teamcity/configuring-build-parameters.html\" rel=\"nofollow noreferrer\">reference</a> to the parameter in the nested projects.</p>\n\n<p>other way how to generate the token is </p>\n\n<pre><code>mvn -Dtext=\"mysecret\" org.jetbrains.teamcity:teamcity-configs-maven-plugin:scramble\n</code></pre>\n"}], "owner": {"reputation": 4625, "user_id": 1964969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0879c1954a7ee8660f80eafdf9f66776?s=128&d=identicon&r=PG", "display_name": "Yury Schkatula", "link": "https://stackoverflow.com/users/1964969/yury-schkatula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 1, "accepted_answer_id": 56662353, "answer_count": 1, "score": 0, "last_activity_date": 1560929579, "creation_date": 1560874267, "question_id": 56653187, "link": "https://stackoverflow.com/questions/56653187/teamcity-kotlindsl-how-to-pass-ftp-password", "title": "TeamCity, KotlinDSL: how to pass FTP password", "body": "<p>Recently I bumped into a situation where our TeamCity build config(s) should be composed by the given business logic, not by hand. Kotlin DSL does match our needs perfectly well so I did a .KTS script quite quickly. The only issue I have so far is FTP uploader step, namely the password parameter. All my attempts to put a password a ended with FTP 503 error. </p>\n\n<p>Like this:</p>\n\n<pre><code>param(\"jetbrains.buildServer.deployer.username\", \"abc\")\nparam(\"jetbrains.buildServer.deployer.password\", \"secret-password\")\n</code></pre>\n\n<p>or like that (as I googled out that non-secure password parameter is obsolete):</p>\n\n<pre><code>param(\"jetbrains.buildServer.deployer.username\", \"abc\")\nparam(\"secure:jetbrains.buildServer.deployer.password\", \"secret-password\")\n</code></pre>\n\n<p>If I put the password manually in TeamCity and examine generated DSL then, I see the password is somehow secured:</p>\n\n<pre><code>param(\"secure:jetbrains.buildServer.deployer.password\", \"zxx5a3133fc69ef3252\") &lt;- \"abc\" password\nparam(\"secure:jetbrains.buildServer.deployer.password\", \"zxx4469c7c25073dd9f\") &lt;- \"123\" password\n</code></pre>\n\n<p>What is the encoding/encryption used here? Any clue how to pass an arbitrary password (ideally, via %parameter%) in Kotlin DSL scripts?</p>\n"}, {"tags": ["android", "kotlin", "imageview"], "comments": [{"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560869194, "post_id": 56651688, "comment_id": 99873370, "body": "provide stacktrace, also - what is ind1?"}, {"owner": {"reputation": 888, "user_id": 10875622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52bY7.png?s=128&g=1", "display_name": "Maxime Launois", "link": "https://stackoverflow.com/users/10875622/maxime-launois"}, "edited": false, "score": 0, "creation_date": 1560869830, "post_id": 56651688, "comment_id": 99873766, "body": "What error do you receive? Why it is crashing?"}, {"owner": {"reputation": 25, "user_id": 10767697, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T3WCKc2OEcE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jSnh3KXv16AdjCkbvwlZkVexF-3g/mo/photo.jpg?sz=128", "display_name": "Mhothasim ali", "link": "https://stackoverflow.com/users/10767697/mhothasim-ali"}, "edited": false, "score": 0, "creation_date": 1560871132, "post_id": 56651688, "comment_id": 99874624, "body": "the app just crashes without giving any error installs perfectly"}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560871389, "post_id": 56651688, "comment_id": 99874776, "body": "yet after the crash you surely have a stacktrace in logcat."}, {"owner": {"reputation": 25, "user_id": 10767697, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T3WCKc2OEcE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jSnh3KXv16AdjCkbvwlZkVexF-3g/mo/photo.jpg?sz=128", "display_name": "Mhothasim ali", "link": "https://stackoverflow.com/users/10767697/mhothasim-ali"}, "edited": false, "score": 0, "creation_date": 1560885635, "post_id": 56651688, "comment_id": 99881372, "body": "<a href=\"https://pastebin.com/hCQnjsCk\" rel=\"nofollow noreferrer\">pastebin.com/hCQnjsCk</a>"}, {"owner": {"reputation": 2736, "user_id": 5082285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6346341a24fb90f9ac3fb4ef1136d564?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kauppinen", "link": "https://stackoverflow.com/users/5082285/markus-kauppinen"}, "edited": false, "score": 0, "creation_date": 1560951870, "post_id": 56651688, "comment_id": 99905938, "body": "The log says <i>&quot;java.lang.RuntimeException: Canvas: trying to draw too large(432000000bytes) bitmap.&quot;</i> and that&#39;s why the app crashes. That&#39;s over 400 MegaBytes which is quite much for a mobile device to handle as a bitmap."}, {"owner": {"reputation": 2736, "user_id": 5082285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6346341a24fb90f9ac3fb4ef1136d564?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kauppinen", "link": "https://stackoverflow.com/users/5082285/markus-kauppinen"}, "edited": false, "score": 0, "creation_date": 1561021386, "post_id": 56651688, "comment_id": 99930805, "body": "That is enough. :) And large bitmaps are a common problem. Some image loader/viewer libraries like Glide, Picasso, SubSampledImageViewer etc. are sometimes useful as they have some memory management already implemented."}], "owner": {"reputation": 25, "user_id": 10767697, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T3WCKc2OEcE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jSnh3KXv16AdjCkbvwlZkVexF-3g/mo/photo.jpg?sz=128", "display_name": "Mhothasim ali", "link": "https://stackoverflow.com/users/10767697/mhothasim-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560951885, "creation_date": 1560868957, "last_edit_date": 1560951885, "question_id": 56651688, "link": "https://stackoverflow.com/questions/56651688/want-to-go-to-next-image-when-button-is-clicked-but-the-app-keeps-crashing", "title": "Want to go to next image when button is clicked but the app keeps crashing", "body": "<p>class MainActivity : AppCompatActivity() {</p>\n\n<pre><code>var ind1 = 0;\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n  var im1:ImageView=findViewById(R.id.im1) as ImageView\n  var im2:ImageView=findViewById(R.id.im2) as ImageView\n    b1.setOnClickListener()\n    {\n        if (ind1 == 0) {\n        im1.setImageResource(R.drawable.int1)\n        im2.setImageResource(R.drawable.i1)\n        } \n        else if (ind1 == 1) { \n            im1.setImageResource(R.drawable.int2)\n            im2.setImageResource(R.drawable.i2)\n            welcome.text=\"\"\n            scroll.text = \"-=--\"\n            data.text = \"Generate Random Teams To Make It More Interesting!\"\n        } \n        else if (ind1 == 2) {\n            im1.setImageResource(R.drawable.int3)\n            im2.setImageResource(R.drawable.i3)\n\n            scroll.text = \"--=-\"\n            data.text = \"Choose From Knockouts,Leagues Or Hybrid Tournaments!\"\n        } else if (ind1 == 3) {\n            im1.setImageResource(R.drawable.int4)\n            im2.setImageResource(R.drawable.i4)\n\n            scroll.text = \"---=\"\n            data.text = \"Have Fun And Enjoy!!\"\n            b1.text = \"LETS GO\"\n\n        }\n        ind1++\n\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>also tried making an intarrayof and putting the values into that but the app still keeps crashing without giving any error also without the imageviews changing the app works perfectly fine</p>\n"}, {"tags": ["kotlin", "gson", "klaxon"], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1573063478, "last_edit_date": 1573063478, "creation_date": 1560875259, "answer_id": 56653427, "question_id": 56651552, "link": "https://stackoverflow.com/questions/56651552/parse-map-with-dynamic-keys-with-klaxon/56653427#56653427", "title": "Parse map with dynamic keys with Klaxon", "body": "<p>Why are you using both gson and klaxon? If you want to use gson, then kotson is an alternative with a fluent kotlin dsl. </p>\n\n<p>Here is a solution with klaxon:</p>\n\n<pre><code>fun convert(input: String): List&lt;Option&gt; {\n    val streamObj = (Parser.default().parse(StringBuilder(input)) as JsonObject)\n        .obj(\"hd\")!!\n        .obj(\"streamQualitySettings\")!!\n    return streamObj.keys.map { Option(it, streamObj.string(it)!!) }\n}\n\n</code></pre>\n\n<p>Parse, then move down to the <code>streamQualitySettings</code>.</p>\n\n<p>Get all the keys and map them to <code>Option</code>.</p>\n"}], "owner": {"reputation": 4359, "user_id": 1271907, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/buNqi.jpg?s=128&g=1", "display_name": "Robby Smet", "link": "https://stackoverflow.com/users/1271907/robby-smet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 56653427, "answer_count": 1, "score": 1, "last_activity_date": 1573063478, "creation_date": 1560868511, "question_id": 56651552, "link": "https://stackoverflow.com/questions/56651552/parse-map-with-dynamic-keys-with-klaxon", "title": "Parse map with dynamic keys with Klaxon", "body": "<p>I have the following JSON snippet:</p>\n\n<pre><code> {  \n   \"hd\":{  \n      \"hdEnabled\":true,\n      \"defaultStreamQualitySetting\":\"HD720\",\n      \"streamQualitySettings\":{  \n         \"SD\":\"SD - low quality\",\n         \"HD720\":\"Standard HD - 720p\",\n         \"HD1080\":\"Full HD - 1080p\"\n      }\n   }\n}\n</code></pre>\n\n<p>I want to parse the streamQualitySettings with Klaxon and Gson to an object called 'Option' that has a key &amp; description so that I end of with a list of 3 options  </p>\n\n<ul>\n<li>Option(key = SD, description = \"SD - low quality\") </li>\n<li>Option(key = HD720, description = \"Standard HD - 720p\") </li>\n<li>Option(key = HD1080, description = \"Full HD - 1080p\")</li>\n</ul>\n\n<p>How can I achieve this with Klaxon (or Gson)? </p>\n\n<p>This is my code</p>\n\n<pre><code>val jsonArray = bootstrapJsonObject()\n          .lookup&lt;JsonArray&lt;JsonObject&gt;&gt;(\"hd.streamQualitySettings\")\n          .first()\n\nval gson = Gson()\nval options = ArrayList&lt;Option&gt;()\njsonArray.forEach {\n    options.add(gson.fromJson(it.toJsonString(), Option::class.java))\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 15235, "user_id": 505152, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c988366574e6e5f4fa0b3e01faa90a86?s=128&d=identicon&r=PG", "display_name": "htafoya", "link": "https://stackoverflow.com/users/505152/htafoya"}, "edited": false, "score": 1, "creation_date": 1601323467, "post_id": 56651444, "comment_id": 113366470, "body": "Being deprecated doesn&#39;t mean &quot;doesn&#39;t work&quot;, it means that the function will be removed in a later release but it is still usable."}], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "edited": false, "score": 0, "creation_date": 1560869010, "post_id": 56651501, "comment_id": 99873244, "body": "thanks! any suggestions on how i can use that to my existing code?"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "reply_to_user": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "edited": false, "score": 1, "creation_date": 1560869101, "post_id": 56651501, "comment_id": 99873307, "body": "@jaedstermedina the method is deprecated not removed. The alternative is the method reported in the answer. It is not related to the version of gradle or the plugin for android, it is related to adoption of api 29."}], "tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 7, "last_activity_date": 1560868341, "creation_date": 1560868341, "answer_id": 56651501, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/56651501#56651501", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>Check the <a href=\"https://developer.android.com/reference/android/provider/MediaStore.Images.Media.html#getBitmap(android.content.ContentResolver,%2520android.net.Uri)\" rel=\"noreferrer\">official doc:</a></p>\n\n<blockquote>\n  <p>This method was deprecated in API level 29.\n  loading of images should be performed through <a href=\"https://developer.android.com/reference/android/graphics/ImageDecoder.html#createSource(android.content.ContentResolver,%2520android.net.Uri)\" rel=\"noreferrer\"><code>ImageDecoder#createSource(ContentResolver, Uri)</code></a>, which offers modern features like PostProcessor.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 929, "user_id": 7981077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-yF4LJdQNTgI/AAAAAAAAAAI/AAAAAAAAFkg/C56_QiNqEQM/photo.jpg?sz=128", "display_name": "AtifSayings", "link": "https://stackoverflow.com/users/7981077/atifsayings"}, "edited": false, "score": 1, "creation_date": 1567507584, "post_id": 56651884, "comment_id": 101975210, "body": "It requires AP 28"}], "tags": [], "owner": {"reputation": 184, "user_id": 7668053, "user_type": "registered", "profile_image": "https://graph.facebook.com/1375481335837404/picture?type=large", "display_name": "Alberto S&#225;ez Vela", "link": "https://stackoverflow.com/users/7668053/alberto-s%c3%a1ez-vela"}, "is_accepted": false, "score": 0, "last_activity_date": 1560869634, "creation_date": 1560869634, "answer_id": 56651884, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/56651884#56651884", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>Have you tried this?</p>\n\n<p><code>val bitmap = ImageDecoder.createSource(contentResolver, uri)</code></p>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 10413818, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lRTYIMccYaE/AAAAAAAAAAI/AAAAAAAAALM/cjXL-Zx1CNM/photo.jpg?sz=128", "display_name": "Ahmed Maad", "link": "https://stackoverflow.com/users/10413818/ahmed-maad"}, "edited": false, "score": 6, "creation_date": 1586385973, "post_id": 57576381, "comment_id": 108113401, "body": "It requires API level 28, what about older API levels?"}, {"owner": {"reputation": 111, "user_id": 7438254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gq2VO.jpg?s=128&g=1", "display_name": "Sikander Bakht", "link": "https://stackoverflow.com/users/7438254/sikander-bakht"}, "edited": false, "score": 0, "creation_date": 1611683825, "post_id": 57576381, "comment_id": 116528337, "body": "you can do it like this if (Build.VERSION.SDK_INT &gt;= 29) {                         val source = ImageDecoder.createSource(it.contentResolver, documentUri)                         ImageDecoder.decodeBitmap(source)                     } else {                         MediaStore.Images.Media.getBitmap(it.contentResolver, documentUri)                     }"}], "tags": [], "owner": {"reputation": 161, "user_id": 11952331, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/72bbd2604fc10d0a814aafcdbe4e0db7?s=128&d=identicon&r=PG", "display_name": "davincia", "link": "https://stackoverflow.com/users/11952331/davincia"}, "is_accepted": false, "score": 16, "last_activity_date": 1566312899, "creation_date": 1566312899, "answer_id": 57576381, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/57576381#57576381", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>This worked well for me in java</p>\n\n<pre><code>ImageDecoder.Source source = ImageDecoder.createSource(this.getContentResolver(), pictureUri);\nBitmap bitmap = ImageDecoder.decodeBitmap(source);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11964584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Rlhl.png?s=128&g=1", "display_name": "TonyMontana", "link": "https://stackoverflow.com/users/11964584/tonymontana"}, "is_accepted": false, "score": 1, "last_activity_date": 1566824144, "creation_date": 1566824144, "answer_id": 57658328, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/57658328#57658328", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<blockquote>\n  <p>ImageDecoder.createSource(this.getContentResolver(), pictureUri)</p>\n</blockquote>\n\n<p>works fine, but to be able to use this code, mindSdkVersion should be at least 28.</p>\n"}, {"comments": [{"owner": {"reputation": 455, "user_id": 8693592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggXHn.jpg?s=128&g=1", "display_name": "Rishav Singla", "link": "https://stackoverflow.com/users/8693592/rishav-singla"}, "edited": false, "score": 2, "creation_date": 1584101425, "post_id": 57960422, "comment_id": 107339885, "body": "it gives me result as unexpected error unsupported bitmap configuration : &quot;Hardware&quot;"}, {"owner": {"reputation": 11466, "user_id": 4700156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/EVkWU.png?s=128&g=1", "display_name": "Rohit Singh", "link": "https://stackoverflow.com/users/4700156/rohit-singh"}, "edited": false, "score": 0, "creation_date": 1597460730, "post_id": 57960422, "comment_id": 112147467, "body": "MediaStore.Images.Media.getBitmap( contentResolver,uri)  is also depricated. :("}, {"owner": {"reputation": 183, "user_id": 6349436, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kTzmyAoPqZA/AAAAAAAAAAI/AAAAAAAAADA/M_ZKf6LhhKI/photo.jpg?sz=128", "display_name": "Deepak Gautam", "link": "https://stackoverflow.com/users/6349436/deepak-gautam"}, "edited": false, "score": 1, "creation_date": 1605067265, "post_id": 57960422, "comment_id": 114536745, "body": "Rishav Singla, use this line of code.  imageBitmap = imageBitmap.copy(Bitmap.Config.ARGB_8888, true);"}, {"owner": {"reputation": 67, "user_id": 1899440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50d78ec9e9b29247cfcf62ae380528f?s=128&d=identicon&r=PG", "display_name": "Bokili Production", "link": "https://stackoverflow.com/users/1899440/bokili-production"}, "edited": false, "score": 0, "creation_date": 1617890265, "post_id": 57960422, "comment_id": 118440098, "body": "This method was deprecated in API level 29, <a href=\"https://developer.android.com/reference/android/provider/MediaStore.Images.Media.html#getBitmap(android.content.ContentResolver,%2520android.net.Uri)\" rel=\"nofollow noreferrer\">official doc</a>. Why You use <code>if(Build.VERSION.SDK_INT &lt; 28)</code>?"}, {"owner": {"reputation": 584, "user_id": 10516463, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OrmLjkyvSpY/AAAAAAAAAAI/AAAAAAAAAGU/bwjDNubpaTM/photo.jpg?sz=128", "display_name": "d-feverx", "link": "https://stackoverflow.com/users/10516463/d-feverx"}, "edited": false, "score": 0, "creation_date": 1618242043, "post_id": 57960422, "comment_id": 118537135, "body": "It requires API level 28, for lower API  use the old way"}], "tags": [], "owner": {"reputation": 517, "user_id": 6258197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d500fad9db0f28dccbc16ae51a5a98d1?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/6258197/ali"}, "is_accepted": false, "score": 26, "last_activity_date": 1568649028, "creation_date": 1568649028, "answer_id": 57960422, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/57960422#57960422", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>This worked for me,</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n\n        if(requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n\n            val selectedPhotoUri = data.data\n            try {\n                selectedPhotoUri?.let {\n                    if(Build.VERSION.SDK_INT &lt; 28) {\n                        val bitmap = MediaStore.Images.Media.getBitmap(\n                            this.contentResolver,\n                            selectedPhotoUri\n                        )\n                        imageView.setImageBitmap(bitmap)\n                    } else {\n                        val source = ImageDecoder.createSource(this.contentResolver, selectedPhotoUri)\n                        val bitmap = ImageDecoder.decodeBitmap(source)\n                        imageView.setImageBitmap(bitmap)\n                    }\n                }\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": false, "score": 11, "last_activity_date": 1569237692, "creation_date": 1569237692, "answer_id": 58061339, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/58061339#58061339", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>You can use:</p>\n\n<pre><code>    private fun getCapturedImage(selectedPhotoUri: Uri): Bitmap {\n        val bitmap = when {\n            Build.VERSION.SDK_INT &lt; 28 -&gt; MediaStore.Images.Media.getBitmap(\n                this.contentResolver,\n                selectedPhotoUri\n            )\n            else -&gt; {\n                val source = ImageDecoder.createSource(this.contentResolver, selectedPhotoUri)\n                ImageDecoder.decodeBitmap(source)\n            }\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15235, "user_id": 505152, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c988366574e6e5f4fa0b3e01faa90a86?s=128&d=identicon&r=PG", "display_name": "htafoya", "link": "https://stackoverflow.com/users/505152/htafoya"}, "edited": false, "score": 0, "creation_date": 1601323890, "post_id": 58300461, "comment_id": 113366644, "body": "Nice, now on kotlin"}, {"owner": {"reputation": 81, "user_id": 13852758, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MYCNePQM03M/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclFmfXoOOllKxYZXzlsorwhtDd62A/photo.jpg?sz=128", "display_name": "gulab patel", "link": "https://stackoverflow.com/users/13852758/gulab-patel"}, "edited": false, "score": 0, "creation_date": 1607335272, "post_id": 58300461, "comment_id": 115230161, "body": "still not working in this code. I think the decodeBitmap method needs to run in a worker thread. Any Solution For This?"}], "tags": [], "owner": {"reputation": 420, "user_id": 1983683, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c0306b76600d26fc0d322dd2ce3192bc?s=128&d=identicon&r=PG", "display_name": "t7bdh3hdhb", "link": "https://stackoverflow.com/users/1983683/t7bdh3hdhb"}, "is_accepted": false, "score": 4, "last_activity_date": 1570611360, "creation_date": 1570611360, "answer_id": 58300461, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/58300461#58300461", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>I have created a class for loading a Bitmap from uri:</p>\n\n<pre><code>public class BitmapResolver {\n    private final static String TAG = \"BitmapResolver\";\n\n    @SuppressWarnings(\"deprecation\")\n    private static Bitmap getBitmapLegacy(@NonNull ContentResolver contentResolver, @NonNull Uri fileUri){\n        Bitmap bitmap = null;\n\n        try {\n            bitmap = MediaStore.Images.Media.getBitmap(contentResolver, fileUri);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return bitmap;\n    }\n\n    @TargetApi(Build.VERSION_CODES.P)\n    private static Bitmap getBitmapImageDecoder(@NonNull ContentResolver contentResolver, @NonNull Uri fileUri){\n        Bitmap bitmap = null;\n\n        try {\n            bitmap = ImageDecoder.decodeBitmap(ImageDecoder.createSource(contentResolver, fileUri));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return bitmap;\n    }\n\n    public static Bitmap getBitmap(@NonNull ContentResolver contentResolver, Uri fileUri){\n        if (fileUri == null){\n            Log.i(TAG, \"returning null because URI was null\");\n            return null;\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P){\n            return getBitmapImageDecoder(contentResolver, fileUri);\n        } else{\n            return getBitmapLegacy(contentResolver, fileUri);\n        }\n    }\n   }\n</code></pre>\n\n<p>Just to save you some time ...</p>\n"}, {"tags": [], "owner": {"reputation": 531, "user_id": 4800690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/S2WwY.jpg?s=128&g=1", "display_name": "Aashish Chaubey", "link": "https://stackoverflow.com/users/4800690/aashish-chaubey"}, "is_accepted": false, "score": 4, "last_activity_date": 1582043431, "creation_date": 1582043431, "answer_id": 60285448, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/60285448#60285448", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>It was evident that the <code>getBitmap</code> API doesn't work with the latest Android SDK - 29. So, this worked for me</p>\n\n<pre><code>Uri contentURI = data.getData();\ntry {\n    imageView.setImageURI(contentURI);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Please let me know if this doesn't work for any of you, shall other options!</p>\n"}, {"comments": [{"owner": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "edited": false, "score": 0, "creation_date": 1592948713, "post_id": 61430512, "comment_id": 110607142, "body": "it should be <code>&gt;= 28</code>."}, {"owner": {"reputation": 103, "user_id": 8558040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sdmNM.jpg?s=128&g=1", "display_name": "satvik choudhary", "link": "https://stackoverflow.com/users/8558040/satvik-choudhary"}, "edited": false, "score": 1, "creation_date": 1596721263, "post_id": 61430512, "comment_id": 111906514, "body": "Both 28 and 29 should be okay since the old one deprecated in 29 and the new one came in 28."}], "tags": [], "owner": {"reputation": 301, "user_id": 10738935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d5d3def8e0cfc42b85620bc830c3b16?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Mehmood", "link": "https://stackoverflow.com/users/10738935/asad-mehmood"}, "is_accepted": false, "score": 6, "last_activity_date": 1587839364, "last_edit_date": 1587839364, "creation_date": 1587839124, "answer_id": 61430512, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/61430512#61430512", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>You can use this code for creating bitmap</p>\n\n<pre><code>Bitmap bitmap;\nif (Build.VERSION.SDK_INT &gt;= 29) {\n     ImageDecoder.Source source = ImageDecoder.createSource(getApplicationContext().getContentResolver(), imageUri);\n     try {\n         bitmap = ImageDecoder.decodeBitmap(source);\n     } catch (IOException e) {\n         e.printStackTrace();\n     }\n} else {\n     try {\n     bitmap = MediaStore.Images.Media.getBitmap(getApplicationContext().getContentResolver(), imageUri);\n     } catch (IOException e) {\n          e.printStackTrace();\n     }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8056739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hjg5G.jpg?s=128&g=1", "display_name": "Leonardo Jaques", "link": "https://stackoverflow.com/users/8056739/leonardo-jaques"}, "is_accepted": false, "score": -1, "last_activity_date": 1611827131, "last_edit_date": 1611827131, "creation_date": 1611808324, "answer_id": 65931056, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/65931056#65931056", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>This code works for my case:</p>\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    try {\n            when (requestCode) {\n\n                //get the image with camera\n                SECTIONCAMERA -&gt; {\n                    val imageBitmap = data?.extras?.get(&quot;data&quot;) as Bitmap\n                  ImageView_imagePerfil.setImageBitmap(imageBitmap)\n\n                }\n                //get the image in gallery\n                SECTIONGALLERY -&gt; {\n                    val imageUri = data?.data\n                    ImageView_imagePerfil.setImageURI(imageUri) }\n            }\n\n    } catch (e: Exception){\n             e.printStackTrace()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 172, "user_id": 11079868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVgdL.png?s=128&g=1", "display_name": "developerjavad", "link": "https://stackoverflow.com/users/11079868/developerjavad"}, "is_accepted": false, "score": 0, "last_activity_date": 1615637392, "creation_date": 1615637392, "answer_id": 66613332, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/66613332#66613332", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>hi freind you check api device</p>\n<pre><code>var Image_select: String? = null\nvar bitmap:Bitmap?=null\n\nyou show image set\n\nbinding?.ImAvator?.setImageURI(data!!.data)\n\n\n try {\n                    val uri: Uri? = data!!.data\n                    bitmap = if(Build.VERSION.SDK_INT&gt;=29){\n                        val source: ImageDecoder.Source = ImageDecoder.createSource(requireActivity()\n                            .contentResolver, uri!!)\n                        ImageDecoder.decodeBitmap(source)\n                    } else{\n                        MediaStore.Images.Media.getBitmap(requireActivity().contentResolver, uri!!)\n                    }\n               \n\n                } catch (e: IOException) {\n                    e.printStackTrace()\n                }\n</code></pre>\n<p>when upload image</p>\n<p>compress bitmap send server</p>\n<pre><code> fun Camparse() {\n        val size = (bitmap!!.height * (812.0 / bitmap!!.width)).toInt()\n        val b = Bitmap.createScaledBitmap(bitmap!!, 812, size, true)\n        val by = ByteArrayOutputStream()\n        b.compress(Bitmap.CompressFormat.JPEG, 100, by)\n        val bytes = by.toByteArray()\n        Image_select = Base64.encodeToString(bytes, 0)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 1899440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50d78ec9e9b29247cfcf62ae380528f?s=128&d=identicon&r=PG", "display_name": "Bokili Production", "link": "https://stackoverflow.com/users/1899440/bokili-production"}, "is_accepted": false, "score": 0, "last_activity_date": 1617890995, "creation_date": 1617890995, "answer_id": 67005780, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/67005780#67005780", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>For deprecated <code>MediaStore.Images.Media.getBitmap()</code> in <strong>API level 29</strong>, You can use this code:</p>\n<pre><code>@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if(resultCode == Activity.RESULT_OK) {\n        if (requestCode == GALLERY_REQUEST) {\n            Uri selectedImage = data.getData();\n            try {\n                if (Build.VERSION.SDK_INT &lt; 29) {\n                    Bitmap bitmap = MediaStore.Images.Media.getBitmap(getActivity().getContentResolver(), selectedImage);\n                    imageView2.setImageBitmap(bitmap);\n                } else {\n                    ImageDecoder.Source source = ImageDecoder.createSource(getActivity().getContentResolver(), selectedImage);\n                    Bitmap bitmap = ImageDecoder.decodeBitmap(source);\n                    imageView2.setImageBitmap(bitmap);\n                }\n            } catch (IOException e) {\n                Toast.makeText(getContext(), R.string.error_read_image, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Regards.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10847019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79854ef5bfcecba02a440dd8ff71ef25?s=128&d=identicon&r=PG&f=1", "display_name": "CCoder", "link": "https://stackoverflow.com/users/10847019/ccoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1619088754, "last_edit_date": 1619088754, "creation_date": 1619001427, "answer_id": 67194143, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes/67194143#67194143", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>Try using ImageDecoder</p>\n<pre><code>bitmap = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n    val src:ImageDecoder.Source = ImageDecoder.createSource(contentResolver, selectedPhotoUri!!)\n    ImageDecoder.decodeBitmap(src)\n}\nelse{\n    @Suppress(&quot;DEPRECATION&quot;)\n    MediaStore.Images.Media.getBitmap(contentResolver, selectedPhotoUri)\n}\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18467, "favorite_count": 6, "answer_count": 13, "score": 24, "last_activity_date": 1619088754, "creation_date": 1560868160, "last_edit_date": 1560871839, "question_id": 56651444, "link": "https://stackoverflow.com/questions/56651444/deprecated-getbitmap-with-api-29-any-alternative-codes", "title": "Deprecated &quot;getBitmap&quot; with API 29. Any alternative codes?", "body": "<p>My <code>onActivityResult</code> is not working because <code>getBitmap</code> is deprecated, any alternative codes to achieve this?</p>\n\n<p>here are the codes that needs to be changed, any suggestions?</p>\n\n<pre><code>val bitmap = MediaStore.Images.Media.getBitmap(contentResolver, selectedPhotoUri)\n</code></pre>\n\n<p>the <code>getBitmap</code> is crossed and says its deprecated</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 787, "user_id": 3500826, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0afc29a0713d84183ea3594f21717101?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/3500826/star"}, "edited": false, "score": 0, "creation_date": 1560872030, "post_id": 56651280, "comment_id": 99875124, "body": "@Starvo Xhardha Thanks. i made as serializedName for all pojo classes . But I already having the pojo class  of Contact but how to implement in successful call?   val retrofitCall  = create().getContacts() //here it wraps only the contactbase but how to get the list contacts?"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 787, "user_id": 3500826, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0afc29a0713d84183ea3594f21717101?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/3500826/star"}, "edited": false, "score": 0, "creation_date": 1560872310, "post_id": 56651280, "comment_id": 99875260, "body": "create a cdata lass which you may call <code>ContactsResponse</code> and inside it add a variable val contacts : List&lt;Contacts&gt; with the serialized name of you contacts key. And in the retrofit method return <code>Call&lt;ContactsResponse&gt;</code>"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": true, "score": 0, "last_activity_date": 1560868007, "last_edit_date": 1560868007, "creation_date": 1560867654, "answer_id": 56651280, "question_id": 56651254, "link": "https://stackoverflow.com/questions/56651254/how-to-fix-retrofit-errorjava-lang-illegalstateexception-android/56651280#56651280", "title": "How to fix retrofit errorjava.lang.IllegalStateException android", "body": "<p>The error says that the incomming JSON starts with a <code>{</code> and not with a <code>[</code> which means it's an object and not an array of objects. </p>\n\n<p>So you should be having a class that has an array of <code>Contact</code> in order to make that call successful. </p>\n\n<p>A small heads up: Since you are using GSON, your model classes would need the implementation of <code>@SerializedName(string)</code> annotation above the variables.</p>\n"}], "owner": {"reputation": 787, "user_id": 3500826, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0afc29a0713d84183ea3594f21717101?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/3500826/star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 56651280, "answer_count": 1, "score": -1, "last_activity_date": 1560868007, "creation_date": 1560867574, "question_id": 56651254, "link": "https://stackoverflow.com/questions/56651254/how-to-fix-retrofit-errorjava-lang-illegalstateexception-android", "title": "How to fix retrofit errorjava.lang.IllegalStateException android", "body": "<p>I have parse the data from this link</p>\n\n<p><a href=\"https://api.androidhive.info/contacts/\" rel=\"nofollow noreferrer\">https://api.androidhive.info/contacts/</a></p>\n\n<p>But I am getting error as </p>\n\n<p>E/on\u00a0Failure\u00a0:: retrofit errorjava.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $</p>\n\n<p>Below is the code which I done. </p>\n\n<pre><code>class RetrofitService {\n    val liveUserResponse:MutableLiveData&lt;List&lt;ContactBase&gt;&gt; = MutableLiveData()\n\n    companion object Factory {\n        var gson = GsonBuilder().setLenient().create()\n        fun create(): ApiInterface {\n            Log.e(\"retrofit\",\"create\")\n\n            val retrofit = Retrofit.Builder()\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .baseUrl(\"https://api.androidhive.info/\")\n                .build()\n\n            return retrofit.create(ApiInterface::class.java)\n        }\n    }\n    fun loadContactsData(): MutableLiveData&lt;List&lt;ContactBase&gt;&gt;? {\n\n        Log.e(\"loadAndroidData\",\"yes\")\n\n        val retrofitCall  = create().getContacts()\n\n        retrofitCall.enqueue(object : Callback&lt;List&lt;ContactBase&gt;&gt; {\n            override fun onFailure(call: Call&lt;List&lt;ContactBase&gt;&gt;, t: Throwable?) {\n                Log.e(\"on Failure :\", \"retrofit error\"+t)\n                Log.e(\"on Failure :\", \"retrofit error\"+call)\n            }\n\n            override fun onResponse(call: Call&lt;List&lt;ContactBase&gt;&gt;, response: retrofit2.Response&lt;List&lt;ContactBase&gt;&gt;) {\n                val list  = response.body()\n                for (i in list.orEmpty()){\n                    Log.e(\"on response 1:\", \"\"+i)\n                }\n                liveUserResponse.value = list\n                Log.e(\"hasActiveObservers 1\", liveUserResponse.hasActiveObservers().toString()+\" check\")\n                Log.e(\"on response 2 :\", liveUserResponse.toString()+\" check\")\n\n            }\n\n        })\n\n        return liveUserResponse\n    }\n}\n</code></pre>\n\n<p>But it's always going to Failure state. </p>\n\n<pre><code>data class ContactBase (val contacts : List&lt;Contacts&gt;)\n\ndata class Contacts (\n\n    val id : String,\n    val name : String,\n    val email : String,\n    val address : String,\n    val gender : String,\n    val phone : Phone\n)\n\n data class Phone (\n\n    val mobile : String,\n    val home : String,\n    val office : String\n)\n\n interface ApiInterface{\n    @GET(\"contacts/\")\n    fun getContacts(): Call&lt;List&lt;ContactBase&gt;&gt;\n}\n\n\n\nclass AndroidViewModel:ViewModel(){\n    private val retrofitService = RetrofitService()\n\n    fun getContactsData(): MutableLiveData&lt;List&lt;ContactBase&gt;&gt;?{\n        return  retrofitService.loadContactsData()\n    }\n}\n</code></pre>\n\n<p>I cross verified the url too and pojo class. But it always go to failure case in retrofit. </p>\n"}, {"tags": ["android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1560865652, "post_id": 56650565, "comment_id": 99871026, "body": "<code>But how to achieve it in Kotlin?</code> Retrofit is a Java library, and Kotlin interops with Java; so you need to do the exact same thing you would do in Java."}, {"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1560866499, "post_id": 56650565, "comment_id": 99871551, "body": "Well it is not that easy as it seems. You cannot access this stuff from Kotlin as it turns out. I have no idea how to achieve it."}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 1, "creation_date": 1560866536, "post_id": 56650565, "comment_id": 99871574, "body": "You can probably access it using <code>it</code> word, <code>it.code()</code> to be exact."}, {"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "reply_to_user": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560866605, "post_id": 56650565, "comment_id": 99871627, "body": "@r2rek it is not working."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1560866839, "post_id": 56650565, "comment_id": 99871781, "body": "How do you define <code>checkSmsCode</code>?"}, {"owner": {"reputation": 590, "user_id": 9132597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74695f17df89aed6988f7cd235075a61?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/9132597/brent"}, "edited": false, "score": 0, "creation_date": 1560867338, "post_id": 56650565, "comment_id": 99872111, "body": "cant you just use response.code() in the response?"}, {"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "edited": false, "score": 0, "creation_date": 1560867509, "post_id": 56650565, "comment_id": 99872224, "body": "There is no <code>code</code> coming from the server."}, {"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "edited": false, "score": 0, "creation_date": 1560867562, "post_id": 56650565, "comment_id": 99872255, "body": "I mean in the response body. Java did not require to have the code in the response body if I am not mistaken."}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560868096, "post_id": 56650565, "comment_id": 99872590, "body": "please paste your api interface code."}, {"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "reply_to_user": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560870385, "post_id": 56650565, "comment_id": 99874101, "body": "@r2rek edited the question. Please have a look!"}, {"owner": {"reputation": 590, "user_id": 9132597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74695f17df89aed6988f7cd235075a61?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/9132597/brent"}, "edited": false, "score": 0, "creation_date": 1560872647, "post_id": 56650565, "comment_id": 99875439, "body": "wait so you are not even getting a response at all is that what you mean?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1560901089, "post_id": 56650565, "comment_id": 99886302, "body": "Always prefer to name a single-arg parameter of a lambda if the lambda is multi-line, instead of calling it <code>it</code>. Names are useful."}], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "edited": false, "score": 0, "creation_date": 1560870267, "post_id": 56651343, "comment_id": 99874025, "body": "Edited the question. Please have a look sir!"}], "tags": [], "owner": {"reputation": 590, "user_id": 9132597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74695f17df89aed6988f7cd235075a61?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/9132597/brent"}, "is_accepted": false, "score": 0, "last_activity_date": 1560872369, "last_edit_date": 1560872369, "creation_date": 1560867890, "answer_id": 56651343, "question_id": 56650565, "link": "https://stackoverflow.com/questions/56650565/how-to-get-response-status-in-retrofit-kotlin/56651343#56651343", "title": "How to get response status in Retrofit (Kotlin)?", "body": "<p>so your on response should look something like this </p>\n\n<pre><code>      override fun onResponse(call: Call&lt;MyModel&gt;?, response: Response&lt;MyModel&gt;?) {\n           //\n      }\n })\n</code></pre>\n\n<p>then inside that you should just to able to do </p>\n\n<pre><code>      override fun onResponse(call: Call&lt;MyModel&gt;?, response: Response&lt;MyModel&gt;?) {\n           response.code()\n      }\n })\n</code></pre>\n\n<p>is this what your talking about?</p>\n"}, {"comments": [{"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "edited": false, "score": 0, "creation_date": 1560870271, "post_id": 56651555, "comment_id": 99874028, "body": "Edited the question. Please have a look sir!."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "edited": false, "score": 0, "creation_date": 1560870691, "post_id": 56651555, "comment_id": 99874314, "body": "Replace <code>Single&lt;BaseResult&lt;String&gt;&gt;</code> with <code>Single&lt;Response&lt;String&gt;&gt;</code>. Don&#39;t worry about the result like that. Retrofit handles it for you."}, {"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "edited": false, "score": 0, "creation_date": 1560918153, "post_id": 56651555, "comment_id": 99889308, "body": "Tried your suggestion. Did not help. : ("}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 1, "last_activity_date": 1560872465, "last_edit_date": 1560872465, "creation_date": 1560868515, "answer_id": 56651555, "question_id": 56650565, "link": "https://stackoverflow.com/questions/56650565/how-to-get-response-status-in-retrofit-kotlin/56651555#56651555", "title": "How to get response status in Retrofit (Kotlin)?", "body": "<p>If you haven't configure your retrofit request method to return a <code>Response&lt;*&gt;</code> you won't be able to have the response code. Example: </p>\n\n<pre><code>interface SomeApi{\n @POST(\"user/code/check\")\nfun checkSmsCode(@Body body: CheckCodeBody): Single&lt;Response&lt;String&gt;&gt; \n}\n</code></pre>\n\n<p>And after you finish your request: </p>\n\n<pre><code>.subscribe({\n //access response code here like : it.code()\n //and you can access the response.body() for your data\n //also you can ask if that response.isSuccessful\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 182, "user_id": 9253234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XUkvmVtMKHg/AAAAAAAAAAI/AAAAAAAAADg/ixWWHDbv5P0/photo.jpg?sz=128", "display_name": "Emmanuel Montt", "link": "https://stackoverflow.com/users/9253234/emmanuel-montt"}, "is_accepted": false, "score": 0, "last_activity_date": 1560872412, "creation_date": 1560872412, "answer_id": 56652687, "question_id": 56650565, "link": "https://stackoverflow.com/questions/56650565/how-to-get-response-status-in-retrofit-kotlin/56652687#56652687", "title": "How to get response status in Retrofit (Kotlin)?", "body": "<p>yo need to use it</p>\n\n<pre><code>interface OnlineStoreService{\n\n    @Headers(\"Content-Type: application/json\",\"Connection: close\")\n    @POST\n    fun getDevices(\n            @Url url: String,\n            @Header(\"Authorization\") token: String,\n            @Body apiParams: APIParams\n    ): Observable&lt;OnlineStoresInfo&gt;\n\n} \n\n\n.subscribe({ onlineStoresInfo -&gt;   // or it -&gt; where \"it\" it's your object response, in this case is my class OnlineStoresInfo\n\n                    loading.value = false\n                    devices.value = onlineStoresInfo.devices\n\n                }, { throwable -&gt;\n                    Log.e(this.javaClass.simpleName, \"Error getDevices \", throwable)\n                    loading.value = false\n                    error.value = context.getString(R.string.error_information_default_html)\n                })\n\n.subscribe({ it -&gt; \n// code\n}, { throwable -&gt;\n //code\n})\n</code></pre>\n"}], "owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2481, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1560918103, "creation_date": 1560865264, "last_edit_date": 1560918103, "question_id": 56650565, "link": "https://stackoverflow.com/questions/56650565/how-to-get-response-status-in-retrofit-kotlin", "title": "How to get response status in Retrofit (Kotlin)?", "body": "<p>I am using Retrofit. Using Kotlin. I need to know the resonse status code. Like is it 200  or 500. How can I get it from the response ?</p>\n\n<p>My Api class: </p>\n\n<pre><code>interface Api {\n    @POST(\"user/code/check\")\n    fun checkSmsCode(@Body body: CheckCodeBody): Single&lt;Response&lt;Void&gt;&gt; }\n</code></pre>\n\n<p>This is how I am calling Api. But note that SERVE DOES NOT RETURN CODE FIELD IN RESPONSE BODY!</p>\n\n<pre><code>api.checkSmsCode(\n   CheckCodeBody(\n       code = code\n   )\n)\n.subscribeOn(Schedulers.io())\n.observeOn(AndroidSchedulers.mainThread())\n.subscribe({         \n      //HOW TO CHECK STATUS RESPONSE STATUS CODE HERE???\n    }, \n    { e -&gt;\n        when (e) {\n            is IOException -&gt; view?.showNoNetworkAlert()\n            else -&gt; view?.invalidCodeError()\n        }\n     }\n).also {}\n</code></pre>\n\n<p>As I understood, in Java it was a easy peasy thing. </p>\n\n<p>You just use <code>response.code()</code> or something similar and that's it. But how to achieve it in Kotlin? </p>\n"}, {"tags": ["android", "kotlin", "objectbox"], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 11202401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65f1bc1618a8c991d151d6cf49252e3b?s=128&d=identicon&r=PG&f=1", "display_name": "nt95", "link": "https://stackoverflow.com/users/11202401/nt95"}, "is_accepted": true, "score": 0, "last_activity_date": 1561044933, "creation_date": 1561044933, "answer_id": 56689446, "question_id": 56650294, "link": "https://stackoverflow.com/questions/56650294/destroy-objectbox-db/56689446#56689446", "title": "Destroy objectbox DB", "body": "<p>solution:</p>\n\n<p>i had to access each of my boxes individually and delete them one at a time. </p>\n\n<pre><code>fun clearAll(){\n    firstBox.box.removeAll()\n    secondBox.box.removeAll()\n    ....... \n}\n\n\nfun closeAll(){\n    firstBox.box.close()\n    secondBox.box.close()\n    ....... \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 602, "user_id": 8468173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee7807816ec5262cca0e2ddbb3a13ab2?s=128&d=identicon&r=PG", "display_name": "Kashish Sharma", "link": "https://stackoverflow.com/users/8468173/kashish-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1564547019, "creation_date": 1564547019, "answer_id": 57283145, "question_id": 56650294, "link": "https://stackoverflow.com/questions/56650294/destroy-objectbox-db/57283145#57283145", "title": "Destroy objectbox DB", "body": "<p>You can just close the boxStore and then delete all files:</p>\n\n<pre><code>boxStore.close();\nboxStore.deleteAllFiles();\n</code></pre>\n\n<p>There's also a <a href=\"http://objectbox.io/files/objectbox-java/current/io/objectbox/BoxStore.html#deleteAllFiles-java.lang.Object-java.lang.String-\" rel=\"nofollow noreferrer\">static method</a> for deleting all the files ( if you want to delete all files before you open boxStore )</p>\n\n<p>It's the most efficient way.</p>\n\n<p>Ref: <a href=\"https://github.com/objectbox/objectbox-java/issues/317\" rel=\"nofollow noreferrer\">https://github.com/objectbox/objectbox-java/issues/317</a></p>\n"}], "owner": {"reputation": 322, "user_id": 11202401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65f1bc1618a8c991d151d6cf49252e3b?s=128&d=identicon&r=PG&f=1", "display_name": "nt95", "link": "https://stackoverflow.com/users/11202401/nt95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 56689446, "answer_count": 2, "score": 0, "last_activity_date": 1564547019, "creation_date": 1560864476, "question_id": 56650294, "link": "https://stackoverflow.com/questions/56650294/destroy-objectbox-db", "title": "Destroy objectbox DB", "body": "<p>I am currently using objectbox via koin dependency injection within my android app. It works fine however i need to re-initialise my DI and so i need to destroy the boxStore before. This is because i initialise the box via DI and if i do not destroy the current BoxStore I cannot create a new one.</p>\n\n<p>I've found a similar post <a href=\"https://stackoverflow.com/questions/47436861/how-to-close-objectbox-store-and-delete-data-files\">How to close Objectbox Store and delete data files</a> however it hasn't solved my issue. </p>\n\n<p>I have tried calling deleteAllFiles however i am getting an error.</p>\n\n<pre><code>        BoxStore.deleteAllFiles(context, (BoxStoreBuilder.DEFAULT_NAME))\n\n        BoxStore.deleteAllFiles(context, null)\n</code></pre>\n\n<p>I am getting the error message: </p>\n\n<p>java.lang.IllegalStateException: Cannot delete files: store is still open</p>\n\n<p>this is on the line of code mentioned above. Any suggestions would be very helpful</p>\n"}, {"tags": ["android", "opencv", "image-processing", "mobile", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10836035"}, "edited": false, "score": 0, "creation_date": 1561130024, "post_id": 56652154, "comment_id": 99975584, "body": "You&#39;re totally right about Core.split(ycrcb, lYCrCb). It was a leftover from my attempt to check if the color values differ in the original image. The entire code which is used before these specific methods would be a little bit too much to post it in here, but basically I load a jpeg image from my external storage, filter the background and crop the image to the region of interest."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10836035"}, "edited": false, "score": 0, "creation_date": 1561139269, "post_id": 56652154, "comment_id": 99979786, "body": "Can be closed...flipped the values in image.get()...Thanks for having a look into this as well :)"}], "tags": [], "owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "is_accepted": true, "score": 0, "last_activity_date": 1560871244, "last_edit_date": 1560871244, "creation_date": 1560870560, "answer_id": 56652154, "question_id": 56650190, "link": "https://stackoverflow.com/questions/56650190/color-values-have-the-same-value-all-over-the-image/56652154#56652154", "title": "Color values have the same value all over the image", "body": "<p><code>Imgproc.threshold</code> is a method that converts your image to binary based on the threshold values you have provided. <a href=\"https://docs.opencv.org/2.4/doc/tutorials/imgproc/threshold/threshold.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/2.4/doc/tutorials/imgproc/threshold/threshold.html</a></p>\n\n<p>And you have provided <code>maxVal</code> as 255 and hence only 0 or 255.</p>\n\n<p>====</p>\n\n<pre><code>Imgproc.cvtColor(mat, ycrcb, Imgproc.COLOR_RGB2YCrCb)\nCore.split(mat, lYCrCb)\n</code></pre>\n\n<p>I think it should be <code>Core.split(ycrcb, lYCrCb)</code></p>\n\n<p>Also, can you add the code where you are creating the original Mat from the image? Maybe, there's some issue there.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10836035"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 56652154, "answer_count": 1, "score": 0, "last_activity_date": 1560871244, "creation_date": 1560864164, "question_id": 56650190, "link": "https://stackoverflow.com/questions/56650190/color-values-have-the-same-value-all-over-the-image", "title": "Color values have the same value all over the image", "body": "<p>I have the contour of an object and the center coordinates. Now I'm trying to detect the point lying on the border of the contour, but still is on the same height (y) as the center. The background is set to black. Therefor I'm calculating the threshold image and iterate over the pixel and check if they are set to white or not. The problem is that according to my code all values are 0.</p>\n\n<p>Tried working on the original image as well. The problem still occurs, I always get 0/255/255. No matter if I'm inside the object or on the background.</p>\n\n<pre><code>private fun calcPointOnContour(point: Point, image: Mat): Point {\n    var pointOnContour = Point()\n    val ycrcb = getCbComponent(image)\n    val imageThresh = getThresholdImage(ycrcb)\n\n    for (i in point.x.toInt() until image.cols()) {\n        val pixel = imageThresh.get(i, point.y.toInt())\n\n        if (pixel[0] &lt; 255) {\n            pointOnContour = Point(i.toDouble(), point.y)\n            break\n        }\n    }\n\n    return pointOnContour\n}\n\nprivate fun getCbComponent(mat: Mat): Mat {\n    val ycrcb = Mat(mat.rows(), mat.cols(), CvType.CV_8UC3)\n    val lYCrCb = ArrayList&lt;Mat&gt;(3)\n\n    Imgproc.cvtColor(mat, ycrcb, Imgproc.COLOR_RGB2YCrCb)\n    Core.split(mat, lYCrCb)\n\n    return lYCrCb[2]\n}\n\nprivate fun getThresholdImage(mat: Mat): Mat {\n    val imageThresh = Mat.zeros(mat.rows(), mat.cols(), CvType.CV_8UC1)\n    Imgproc.threshold(mat, imageThresh, 100.0, 255.0, Imgproc.THRESH_BINARY)\n\n    return imageThresh\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "junit", "kapt"], "comments": [{"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 0, "creation_date": 1561371210, "post_id": 56649918, "comment_id": 100027676, "body": "Why are you configuring the source sets instead of using project defaults?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1561371848, "post_id": 56649918, "comment_id": 100028011, "body": "What&#39;s the path to the file having the issue? Is it in the <i>KAPT</i> build path?"}, {"owner": {"reputation": 92, "user_id": 2153648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7f8498c9f63196732c395e86e5222fe?s=128&d=identicon&r=PG", "display_name": "masztalski", "link": "https://stackoverflow.com/users/2153648/masztalski"}, "reply_to_user": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 0, "creation_date": 1561373601, "post_id": 56649918, "comment_id": 100028805, "body": "@PFuster this is state of things in this project - not me to changing it now - too many files to update"}, {"owner": {"reputation": 92, "user_id": 2153648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7f8498c9f63196732c395e86e5222fe?s=128&d=identicon&r=PG", "display_name": "masztalski", "link": "https://stackoverflow.com/users/2153648/masztalski"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1561373638, "post_id": 56649918, "comment_id": 100028826, "body": "@tynn file having issue is directly under src/test/package_name"}], "answers": [{"comments": [{"owner": {"reputation": 92, "user_id": 2153648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7f8498c9f63196732c395e86e5222fe?s=128&d=identicon&r=PG", "display_name": "masztalski", "link": "https://stackoverflow.com/users/2153648/masztalski"}, "edited": false, "score": 0, "creation_date": 1561368124, "post_id": 56732533, "comment_id": 100025975, "body": "I was too quick and instead check on test in anotoher module :( Unfortunately this solution doesn&#39;t work"}, {"owner": {"reputation": 92, "user_id": 2153648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7f8498c9f63196732c395e86e5222fe?s=128&d=identicon&r=PG", "display_name": "masztalski", "link": "https://stackoverflow.com/users/2153648/masztalski"}, "edited": false, "score": 0, "creation_date": 1561368524, "post_id": 56732533, "comment_id": 100026221, "body": "same as previous one after changing kapt to annotation processor. current config for main is as you suggested: java {                 srcDirs = [&#39;src&#39;]                 exclude &#39;src/test/**&#39;             }"}, {"owner": {"reputation": 92, "user_id": 2153648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7f8498c9f63196732c395e86e5222fe?s=128&d=identicon&r=PG", "display_name": "masztalski", "link": "https://stackoverflow.com/users/2153648/masztalski"}, "edited": false, "score": 0, "creation_date": 1561369143, "post_id": 56732533, "comment_id": 100026567, "body": "Still the same. Rebuilded project and nothing changed"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1561368428, "last_edit_date": 1561368428, "creation_date": 1561364508, "answer_id": 56732533, "question_id": 56649918, "link": "https://stackoverflow.com/questions/56649918/missing-refrences-to-test-libraries-in-test-class/56732533#56732533", "title": "Missing refrences to test libraries in test class", "body": "<p>You defined <code>java.srcDirs = ['src']</code> and thus <code>'src/test/java'</code> is considered a part of the <em>Java</em> source tree.</p>\n\n<p>You should consider to follow the project defaults and don't configure too much yourself. Otherwise you need to exclude the tests from your source sets manually:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir 'src'\n            exclude 'test/**'\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 2153648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7f8498c9f63196732c395e86e5222fe?s=128&d=identicon&r=PG", "display_name": "masztalski", "link": "https://stackoverflow.com/users/2153648/masztalski"}, "is_accepted": true, "score": 0, "last_activity_date": 1561379929, "creation_date": 1561379929, "answer_id": 56736797, "question_id": 56649918, "link": "https://stackoverflow.com/questions/56649918/missing-refrences-to-test-libraries-in-test-class/56736797#56736797", "title": "Missing refrences to test libraries in test class", "body": "<p>Finally I found solution. </p>\n\n<pre><code>    main { \n        java.srcDirs = ['src']\n        resources.srcDirs = ['src']\n    }\n\n    test {\n        java.srcDirs = ['tests/java']\n        resources.srcDirs = ['tests/java']\n    }\n</code></pre>\n\n<p>where structure of folders is:\nmodule_name/src/..\nmodule_name/tests/..</p>\n\n<p>Now everything works fine. Thanks for help</p>\n"}], "owner": {"reputation": 92, "user_id": 2153648, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7f8498c9f63196732c395e86e5222fe?s=128&d=identicon&r=PG", "display_name": "masztalski", "link": "https://stackoverflow.com/users/2153648/masztalski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 56736797, "answer_count": 2, "score": 1, "last_activity_date": 1561379929, "creation_date": 1560863291, "last_edit_date": 1561370783, "question_id": 56649918, "link": "https://stackoverflow.com/questions/56649918/missing-refrences-to-test-libraries-in-test-class", "title": "Missing refrences to test libraries in test class", "body": "<p>I'm trying to run unit test on android module. This module has multiple product flavors with one dimension and two build types(debug + release). Also I have defined sourcesets for main, test and each of flavors.</p>\n\n<p>What I'm struggling with is run any test in such module. </p>\n\n<p>Only working solution is change dependency of test libraries from testImplementation to simple implementation.</p>\n\n<p>code for app is in <em>src/nl/my-package</em> etc</p>\n\n<p>code for test is in <em>src/test/java/nl/my-package</em> etc</p>\n\n<pre><code> sourceSets {\n    main {\n        manifest.srcFile 'AndroidManifest.xml'\n        java.srcDirs = ['src']\n        resources.srcDirs = ['src']\n        aidl.srcDirs = ['src']\n        renderscript.srcDirs = ['src']\n        res.srcDirs = ['res']\n        assets.srcDirs = ['assets']\n    }\n\n    test {\n        java.srcDirs = ['src/test/java']\n        resources.srcDirs = ['src/test/java']\n    }\n\n    dev {\n        res.srcDirs = ['default/res']\n    }\n\n    stage {\n        res.srcDirs = ['default/res']\n    }\n</code></pre>\n\n<p>dependencies:</p>\n\n<pre><code>testImplementation \"junit:junit:4.12\"\ntestImplementation \"org.assertj:assertj-core:1.7.1\"\ntestImplementation \"org.robolectric:robolectric:3.4.2\"\ntestImplementation 'org.mockito:mockito-inline:2.13.0'\n</code></pre>\n\n<p>Code for simple test is:</p>\n\n<pre><code>package nl.my_package\n\nimport org.junit.Test\n\nclass CopyDisciplineSketchTest {\n\n  @Test\n  fun test() {\n     assert(true)\n  }\n}\n</code></pre>\n\n<p>When I just run it using in project dependencies <em>kapt</em> as annotation processor than error is just\n<em>error: incompatible types: NonExistentClass cannot be converted to Annotation</em></p>\n\n<p>but when I change it as suggested in another answers to simple <em>annotationProcessor</em> than error is \n<em>Unresolved reference: Test</em></p>\n\n<p>Has anybody idea how to deal with it?\nIn another modules of this project (which are simple data and domain modules without activities etc) such code works correct.</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-navigation-editor"], "comments": [{"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1560864327, "post_id": 56649766, "comment_id": 99870099, "body": "I am getting the fragmentView when I first inflate the fragment layout. I am updating the code with my full onCreate()."}, {"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1560864394, "post_id": 56649766, "comment_id": 99870147, "body": "I wasn&#39;t aware I need to do a removeCallback. Where do I put it?"}], "answers": [{"comments": [{"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560867883, "post_id": 56650889, "comment_id": 99872435, "body": "Thanks for the detailed reply. removeCallback is not a thing, pretty sure it happens automatically. The rest of your answer makes sense, ill make the changes in my code. Thanks again."}, {"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560868425, "post_id": 56650889, "comment_id": 99872840, "body": "Where are you getting the view in your Navigation.findNavController(view) ?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560869272, "post_id": 56650889, "comment_id": 99873416, "body": "The view comes from the fragment. Regarding the <code>removeCallback()</code> you&#39;re right, you&#39;d have to call <code>callback.remove()</code> or use <code>addCallback(this, callback)</code> instead."}, {"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560871860, "post_id": 56650889, "comment_id": 99875032, "body": "Sorry man, I am not getting it. How would I get the view from the fragment in global?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560881603, "post_id": 56650889, "comment_id": 99879585, "body": "The <code>callback</code> is supposed to be the a property of your fragment. As it&#39;s also an inner class, it&#39;ll have access to <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment.html#getView()\" rel=\"nofollow noreferrer\"><code>view</code></a>."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 4, "last_activity_date": 1560881675, "last_edit_date": 1560881675, "creation_date": 1560866337, "answer_id": 56650889, "question_id": 56649766, "link": "https://stackoverflow.com/questions/56649766/trouble-with-navcontroller-inside-onbackpressedcallback/56650889#56650889", "title": "Trouble with NavController inside OnBackPressedCallback", "body": "<p>You might run into an issue with leaks of old instances of your fragment. Also it's not a good practice to store the created view within another variable like <code>fragmentView</code>. All in all your <code>onCreateView</code> implementation is doing too many things unrelated to its purpose.</p>\n\n<p>I'd suggest to split up the functionality into relevant life-cycle methods and use the <code>fragment.view</code> directly within your callback. To not run into an issue with unattached views, you then bind and unbind the callback with the life-cycle.</p>\n\n<pre><code>class PatientInfoFragment: Fragment() {\n\n    private val callback = object : OnBackPressedCallback(true) {\n        override fun handleOnBackPressed() {\n            Navigation.findNavController(view).navigate(R.id.action_patientInfoFragment_to_patientsList)\n        }\n    }\n\n    override fun onCreate(\n        savedInstanceState: Bundle?\n    ) {\n        super.onCreate(savedInstanceState)\n        setHasOptionsMenu(true)\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View = inflater.inflate(R.layout.patient_info_fragment, container, false)\n\n    override fun onViewCreated(\n        view: View,\n        savedInstanceState: Bundle?\n    ) {\n        if(Utils.connectedToInternet()){\n            view.pastScreeningsButton.visibility = View.GONE\n        }\n    }\n\n    override fun onStart() {\n        super.onStart()\n        requireActivity().onBackPressedDispatcher.addCallback(callback)\n    }\n\n    override fun onStop() {\n        callback.remove()\n        super.onStop()\n    }\n}\n</code></pre>\n\n<p>The callback life-cycle binding can be bound with the fragment as lifecycle owner calling the other <code>addCallback(LifecycleOwner, OnBackPressedCallback)</code>.</p>\n\n<p>Additionally you could have a look into <a href=\"https://developer.android.com/kotlin/ktx\" rel=\"nofollow noreferrer\">Android KTX</a> and <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin Android Extensions</a> to simplify your implementation.</p>\n"}, {"comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560868686, "post_id": 56651129, "comment_id": 99873037, "body": "have you included your fragment on the <code>nav_graph</code>"}, {"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560871816, "post_id": 56651129, "comment_id": 99875005, "body": "Yes, I have. The navigation works well when the fragment first loads, it is only when I navigate back to the fragment that I have this issue."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560872421, "post_id": 56651129, "comment_id": 99875314, "body": "what xml element are you using? <code>&lt;fragment&#47;&gt;</code> or <code>&lt;FrameLayout\\&gt;</code>"}, {"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560878475, "post_id": 56651129, "comment_id": 99878244, "body": "using &lt;fragment/&gt;"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1560867116, "creation_date": 1560867116, "answer_id": 56651129, "question_id": 56649766, "link": "https://stackoverflow.com/questions/56649766/trouble-with-navcontroller-inside-onbackpressedcallback/56651129#56651129", "title": "Trouble with NavController inside OnBackPressedCallback", "body": "<p>Move your code in the <code>onViewCreated</code> and pass the <code>view</code> that is provided by the overriden method: </p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        requireActivity().onBackPressedDispatcher.addCallback(object : OnBackPressedCallback(true) {\n        override fun handleOnBackPressed() {\n                Navigation.findNavController(view).navigate(R.id.action_patientInfoFragment_to_patientsList)\n        }\n    })\n    }\n</code></pre>\n\n<p>If that also doesn't work, replace the <code>.navigate()</code> with <code>popBastack(R.id.framgment_where_you_want to go, false)</code>, in case your previous fragment stays on the <code>backStack</code></p>\n"}], "owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1082, "favorite_count": 0, "accepted_answer_id": 56650889, "answer_count": 2, "score": 0, "last_activity_date": 1560881675, "creation_date": 1560862796, "last_edit_date": 1560864366, "question_id": 56649766, "link": "https://stackoverflow.com/questions/56649766/trouble-with-navcontroller-inside-onbackpressedcallback", "title": "Trouble with NavController inside OnBackPressedCallback", "body": "<p>I am getting a <code>does not have a NavController set</code> error inside a OnBackPressedCallback. Here is the code </p>\n\n<pre><code>override fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n\n    fragmentView = inflater.inflate(R.layout.patient_info_fragment, container, false)\n\n    if(Utils.connectedToInternet()){\n        fragmentView.pastScreeningsButton.visibility = View.GONE\n    }\n\n    requireActivity().onBackPressedDispatcher.addCallback(object : OnBackPressedCallback(true) {\n        override fun handleOnBackPressed() {\n                Navigation.findNavController(fragmentView).navigate(R.id.action_patientInfoFragment_to_patientsList)\n        }\n    })\n    setHasOptionsMenu(true)\n\n\n    return fragmentView\n}\n</code></pre>\n\n<p>I am only getting this error when I come back into the fragment where this is implemented.</p>\n\n<p>I have <code>android:name=\"androidx.navigation.fragment.NavHostFragment\"</code> in the home fragment.</p>\n\n<p>To clarify, I am using Navigation controller to do all my Navigation around my app and it works just fine. I only get this error inside this <code>OnBackPressedCallback</code> and only when the user navigates back into the fragment where this is implemented. </p>\n\n<p>Let me know if you need to see any more of my code. </p>\n"}, {"tags": ["php", "android", "kotlin", "android-asynctask"], "comments": [{"owner": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "edited": false, "score": 1, "creation_date": 1560863105, "post_id": 56649643, "comment_id": 99869365, "body": "maybe it bcoz data you are getting is too large"}, {"owner": {"reputation": 203, "user_id": 11292068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pQ46F_aKRw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsZWhhJ7BtFo44BBqwQvQoJQ-yGA/mo/photo.jpg?sz=128", "display_name": "Nishant Jalan", "link": "https://stackoverflow.com/users/11292068/nishant-jalan"}, "reply_to_user": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "edited": false, "score": 0, "creation_date": 1560863685, "post_id": 56649643, "comment_id": 99869701, "body": "The database is empty as of now. Even then my problem remains. I tried it using my Wifi and mobile data(which is really fast), but no result."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 11292068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pQ46F_aKRw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsZWhhJ7BtFo44BBqwQvQoJQ-yGA/mo/photo.jpg?sz=128", "display_name": "Nishant Jalan", "link": "https://stackoverflow.com/users/11292068/nishant-jalan"}, "edited": false, "score": 0, "creation_date": 1560862948, "post_id": 56649683, "comment_id": 99869277, "body": "I have tried removing that line. My problem still remains"}, {"owner": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "reply_to_user": {"reputation": 203, "user_id": 11292068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pQ46F_aKRw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsZWhhJ7BtFo44BBqwQvQoJQ-yGA/mo/photo.jpg?sz=128", "display_name": "Nishant Jalan", "link": "https://stackoverflow.com/users/11292068/nishant-jalan"}, "edited": false, "score": 0, "creation_date": 1560864038, "post_id": 56649683, "comment_id": 99869917, "body": "remove null safety check in post execute ...... may be thats why on post execute is not called"}, {"owner": {"reputation": 203, "user_id": 11292068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pQ46F_aKRw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsZWhhJ7BtFo44BBqwQvQoJQ-yGA/mo/photo.jpg?sz=128", "display_name": "Nishant Jalan", "link": "https://stackoverflow.com/users/11292068/nishant-jalan"}, "edited": false, "score": 0, "creation_date": 1560865604, "post_id": 56649683, "comment_id": 99870989, "body": "There is no null safety check on post execute method. How will the null safety check effect the invoking of the dismiss() method?"}], "tags": [], "owner": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "is_accepted": false, "score": 0, "last_activity_date": 1560862544, "creation_date": 1560862544, "answer_id": 56649683, "question_id": 56649643, "link": "https://stackoverflow.com/questions/56649643/asynctask-takes-forever-to-fetch-result/56649683#56649683", "title": "AsyncTask takes forever to fetch result", "body": "<p>this should be culprit </p>\n\n<pre><code> while (line != null) {\n            result.append(line)\n            line = reader.readLine()\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 11526943, "user_type": "registered", "profile_image": "https://graph.facebook.com/2292153390866411/picture?type=large", "display_name": "Haseeb Khan", "link": "https://stackoverflow.com/users/11526943/haseeb-khan"}, "is_accepted": false, "score": 2, "last_activity_date": 1561093805, "creation_date": 1561093805, "answer_id": 56697185, "question_id": 56649643, "link": "https://stackoverflow.com/questions/56649643/asynctask-takes-forever-to-fetch-result/56697185#56697185", "title": "AsyncTask takes forever to fetch result", "body": "<p>Use this library to make network calls. Very simple yet efficient.\n<a href=\"http://loopj.com/android-async-http/\" rel=\"nofollow noreferrer\">http://loopj.com/android-async-http/</a></p>\n"}], "owner": {"reputation": 203, "user_id": 11292068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pQ46F_aKRw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsZWhhJ7BtFo44BBqwQvQoJQ-yGA/mo/photo.jpg?sz=128", "display_name": "Nishant Jalan", "link": "https://stackoverflow.com/users/11292068/nishant-jalan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561093805, "creation_date": 1560862406, "last_edit_date": 1560863047, "question_id": 56649643, "link": "https://stackoverflow.com/questions/56649643/asynctask-takes-forever-to-fetch-result", "title": "AsyncTask takes forever to fetch result", "body": "<p>I am making an android application where I need to fetch data from an online database. The online database has 3 columns, <em>Date, Time and Varchar(255)</em>.</p>\n\n<p>Here is my PHP code:</p>\n\n<pre><code>&lt;?php\nrequire \"connection.php\";\nif($result = mysqli_query($conn, \"select * from `xuberance_updates`\")) {\nwhile($row = mysqli_fetch_assoc($result)) {\n    echo $row[\"date\"].\",\".$row[\"time\"].\",\".$row[\"updates\"].\";\";\n}\n}\n?&gt;\n</code></pre>\n\n<p>And here is my kotlin code in android:</p>\n\n<pre><code>class RefreshTask(private val alertDialog: AlertDialog) :\n    AsyncTask&lt;String, Void, String&gt;() {\n\n    override fun onPreExecute() {\n        ...\n        alertDialog.show()\n        ...\n    }\n\n    override fun doInBackground(vararg params: String?): String? {\n        val url = URL(\"https://.../show_update.php\")\n        val httpURLConnection = url.openConnection() as HttpURLConnection\n        httpURLConnection.doInput = true\n        httpURLConnection.doOutput = true\n        httpURLConnection.requestMethod = \"POST\"\n        httpURLConnection.connect()\n        val reader = BufferedReader(InputStreamReader(httpURLConnection.inputStream, \"UTF-8\"))\n        var line = reader.readLine()\n        val result = StringBuilder()\n        while (line != null) {\n            result.append(line)\n            line = reader.readLine()\n        }\n        reader.close()\n        httpURLConnection.disconnect()\n        return result.toString()\n    }\n\n    override fun onPostExecute(result: String?) {\n        alertDialog.dismiss()\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>When I start the AsyncTask, The dialog appears. But it never gets dismissed. The <strong>onPostExecute(result: String?)</strong> method is never reached. How to fix this?</p>\n\n<p>Edit: Sometimes, It successfully reaches the <em>onPostExecute(result: String?)</em> method. But most of the times, I need to wait for 2 or more minutes to get to that method. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 520, "user_id": 9688781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af76831e968d7ab669a1136808bc8cf6?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/9688781/jake"}, "edited": false, "score": 0, "creation_date": 1560862388, "post_id": 56649549, "comment_id": 99868934, "body": "Please post logs."}, {"owner": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "reply_to_user": {"reputation": 520, "user_id": 9688781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af76831e968d7ab669a1136808bc8cf6?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/9688781/jake"}, "edited": false, "score": 0, "creation_date": 1560862655, "post_id": 56649549, "comment_id": 99869103, "body": "Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0. Use &#39;--warning-mode all&#39; to show the individual deprecation warnings. See <a href=\"https://docs.gradle.org/5.1.1/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">docs.gradle.org/5.1.1/userguide/&hellip;</a>"}, {"owner": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "reply_to_user": {"reputation": 520, "user_id": 9688781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af76831e968d7ab669a1136808bc8cf6?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/9688781/jake"}, "edited": false, "score": 0, "creation_date": 1560862693, "post_id": 56649549, "comment_id": 99869116, "body": "is there a way i can change my gradle build version?"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 520, "user_id": 9688781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af76831e968d7ab669a1136808bc8cf6?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/9688781/jake"}, "edited": false, "score": 0, "creation_date": 1560862698, "post_id": 56649549, "comment_id": 99869117, "body": "@jake probably meant the stack trace you are getting when the application crashes."}, {"owner": {"reputation": 2965, "user_id": 2058844, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/12ysy.jpg?s=128&g=1", "display_name": "Paras", "link": "https://stackoverflow.com/users/2058844/paras"}, "edited": false, "score": 0, "creation_date": 1560862698, "post_id": 56649549, "comment_id": 99869118, "body": "can you edit your question and put the crash logs there itself."}, {"owner": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "edited": false, "score": 0, "creation_date": 1560862812, "post_id": 56649549, "comment_id": 99869199, "body": "i cant seem to find my crash logs, also my logcat is empty when i do something in my app"}, {"owner": {"reputation": 520, "user_id": 9688781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af76831e968d7ab669a1136808bc8cf6?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/9688781/jake"}, "edited": false, "score": 0, "creation_date": 1560862853, "post_id": 56649549, "comment_id": 99869217, "body": "Please add --warning-mode all to your Gradle command line."}, {"owner": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "edited": false, "score": 0, "creation_date": 1560863253, "post_id": 56649549, "comment_id": 99869454, "body": "how can i add it? im sorry im a newbie to android studio forgive my stupidity"}, {"owner": {"reputation": 520, "user_id": 9688781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af76831e968d7ab669a1136808bc8cf6?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/9688781/jake"}, "edited": false, "score": 0, "creation_date": 1560863340, "post_id": 56649549, "comment_id": 99869514, "body": "See <a href=\"https://stackoverflow.com/questions/54192538/deprecated-gradle-features-making-it-incompatible-with-gradle-5-0-android-studi\">this post&#39;s answer</a>."}, {"owner": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "edited": false, "score": 0, "creation_date": 1560867657, "post_id": 56649549, "comment_id": 99872308, "body": "I&#39;ll just ask what&#39;s the alternative code for getBitmap in gradle version 5.1.1? because it is deprecated in version 5.1.1"}], "answers": [{"tags": [], "owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "is_accepted": false, "score": 0, "last_activity_date": 1560919288, "creation_date": 1560919288, "answer_id": 56660168, "question_id": 56649549, "link": "https://stackoverflow.com/questions/56649549/application-crashing-when-i-choose-a-picture-and-display-it-on-the-button-kotli/56660168#56660168", "title": "Application crashing when I choose a picture and display it on the button (KOTLIN ON CREATE)", "body": "<p>If you want to know the alternative code for getBitmap, then follow <a href=\"https://developer.android.com/reference/android/provider/MediaStore.Images.Media.html#getBitmap(android.content.ContentResolver,%2520android.net.Uri)\" rel=\"nofollow noreferrer\">this</a> link. As it says, </p>\n\n<blockquote>\n  <p>This method was deprecated in API level 29. Loading of images should be performed through <code>ImageDecoder#createSource(ContentResolver, Uri)</code></p>\n</blockquote>\n"}], "owner": {"reputation": 345, "user_id": 8793609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-omSNyOh3vyo/AAAAAAAAAAI/AAAAAAAAABg/hulQ1PqGN7U/photo.jpg?sz=128", "display_name": "jaedster medina", "link": "https://stackoverflow.com/users/8793609/jaedster-medina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560919288, "creation_date": 1560862101, "question_id": 56649549, "link": "https://stackoverflow.com/questions/56649549/application-crashing-when-i-choose-a-picture-and-display-it-on-the-button-kotli", "title": "Application crashing when I choose a picture and display it on the button (KOTLIN ON CREATE)", "body": "<p>Im making a register app, that allows the user to pick a picture via button, after the user pressed it, the background of the button should be the chosen picture, but instead it crashes, what could be the problem?</p>\n\n<p>here is the code to open up the image picker via button</p>\n\n<pre><code> button_selectphoto_register.setOnClickListener {\n        val intent=Intent(Intent.ACTION_PICK)\n        intent.type = \"image/*\"\n        startActivityForResult(intent, 0)\n    }\n</code></pre>\n\n<p>and here is the onActivityResult that should show the image on the button*/\nNOTE: the getBitmap is crossed in android studio, it says that it is deprecated, i think that is what causing the problem, but i dont know what i should do</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\nif (requestCode == 0 &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != null){\n\n    val uri = data.data\n\n    val bitmap = MediaStore.Images.Media.getBitmap(contentResolver, uri)\n    val bitmapDrawable = BitmapDrawable(bitmap)\n    button_selectphoto_register.setBackgroundDrawable(bitmapDrawable)\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 1, "last_activity_date": 1560877345, "creation_date": 1560877345, "answer_id": 56653913, "question_id": 56648930, "link": "https://stackoverflow.com/questions/56648930/kotlin-higher-order-function-in-viewmodel/56653913#56653913", "title": "Kotlin Higher Order Function in ViewModel", "body": "<blockquote>\n  <p>a. How generic T is passed.</p>\n</blockquote>\n\n<p>You can pass it explicitly, e.g.:</p>\n\n<pre><code>val myLazyDeffered = lazyDefferd&lt;SomeType&gt; {\n    // \u2026\n}\n</code></pre>\n\n<p>But the compiler can usually infer the type, so it's more usual to omit it (unless there's a reason why it's not clear from the code).\u00a0 That's what's happening in your <code>topMovie</code> example: the compiler knows what type the lambda returns, so it infers <code>T</code> from that.</p>\n\n<p>(As you've probably already noted, <code>lazyDefferd()</code> also takes a value parameter, but since it's the last parameter and a lambda, Kotlin lets you omit the parens.)</p>\n\n<blockquote>\n  <p>b. What it mean by this <code>CoroutineScope.()</code></p>\n</blockquote>\n\n<p>That's a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">function literal with receiver</a>.\u00a0 The lambda that you pass to <code>block</code> will behave as if it's an extension method on the <code>CoroutineScope</code> class: inside the lambda, <code>this</code> will refer to a <code>CoroutineScope</code> instance.\u00a0 It's similar to passing the instance as a parameter to the lambda (and in this case, that's how it's called), but the syntax is more concise.</p>\n"}], "owner": {"reputation": 155, "user_id": 2900077, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000209237520/picture?type=large", "display_name": "Amit Ranjan", "link": "https://stackoverflow.com/users/2900077/amit-ranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 56653913, "answer_count": 1, "score": 2, "last_activity_date": 1560877345, "creation_date": 1560860075, "last_edit_date": 1560863500, "question_id": 56648930, "link": "https://stackoverflow.com/questions/56648930/kotlin-higher-order-function-in-viewmodel", "title": "Kotlin Higher Order Function in ViewModel", "body": "<p>I am new to kotlin , so need help to understand the code ,I went to a blogs and found something like this and implemented in my code , code work perfect but i can't understand the following things .</p>\n\n<p>Basically , I got lost in how <strong>lazyDefferd</strong> function , how it's works internally.<br>\na. How generic T is passed .<br>\nb. What it mean by this <code>CoroutineScope.()</code> as i know this is input that i need to pass from the <code>ViewModel</code> but how it's getting pass i can't understand .</p>\n\n<pre><code>interface MovieRepository {\n    suspend fun getTopRatedMovie(page:Int): LiveData&lt;out List&lt;TopRatedMovieEntity&gt;&gt;\n}\n</code></pre>\n\n<p>ViewModel :</p>\n\n<pre><code>class TopRatedMovieViewModel(movieRepository: MovieRepository):ViewModel() {\n\n   val topMovie by lazyDefferd{\n       movieRepository.getTopRatedMovie(1)\n   }\n\n}\n\nfun &lt;T&gt; lazyDefferd(block:suspend CoroutineScope.()-&gt;T):Lazy&lt;Deferred&lt;T&gt;&gt;{\n    return lazy {\n        GlobalScope.async(start = CoroutineStart.LAZY) {\n             block.invoke(this)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "jvm", "micronaut"], "answers": [{"comments": [{"owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "edited": false, "score": 0, "creation_date": 1560876958, "post_id": 56649915, "comment_id": 99877607, "body": "I think <code>class HelloController(val greetService:GreetService)</code> will work just as <code>class HelloController(@Inject val greetService:GreetService)</code>."}, {"owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "edited": false, "score": 0, "creation_date": 1560892449, "post_id": 56649915, "comment_id": 99884176, "body": "It isn&#39;t because of @Controller.  It would work in any bean in the context (including but not limited to controllers)."}], "tags": [], "owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "is_accepted": false, "score": 2, "last_activity_date": 1560863279, "creation_date": 1560863279, "answer_id": 56649915, "question_id": 56648836, "link": "https://stackoverflow.com/questions/56648836/how-dependency-injection-with-inject-annotation-works-in-micronaut-kotlin/56649915#56649915", "title": "How Dependency injection with @Inject annotation works in micronaut Kotlin?", "body": "<p>It's not any different you can write something like this :</p>\n\n<pre><code>@Inject\nvar greetingService:GreetingService;\n</code></pre>\n\n<p>Or you could do it on the constructor</p>\n\n<pre><code>class HelloController(@Inject val greetService:GreetService)\n</code></pre>\n\n<p>I prefer the second option because it uses val over var.</p>\n"}, {"tags": [], "owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "is_accepted": true, "score": 2, "last_activity_date": 1561467181, "creation_date": 1561467181, "answer_id": 56754550, "question_id": 56648836, "link": "https://stackoverflow.com/questions/56648836/how-dependency-injection-with-inject-annotation-works-in-micronaut-kotlin/56754550#56754550", "title": "How Dependency injection with @Inject annotation works in micronaut Kotlin?", "body": "<pre><code> @Singleton\n class GreetService(val userRepo:UserRepo){\n\n fun doSomething(val data:String){\n  userRepo.saveData(data)\n     } \n   }\n</code></pre>\n\n<p>the bean you want to inject has to be declared as bean as per Micronaut using provided annotations such as @Singleton , @Context ,@ThreadLocal etc</p>\n"}], "owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2679, "favorite_count": 0, "accepted_answer_id": 56754550, "answer_count": 2, "score": 1, "last_activity_date": 1561467181, "creation_date": 1560859792, "question_id": 56648836, "link": "https://stackoverflow.com/questions/56648836/how-dependency-injection-with-inject-annotation-works-in-micronaut-kotlin", "title": "How Dependency injection with @Inject annotation works in micronaut Kotlin?", "body": "<p>how to inject dependencies in class with @Inject annotation for micronaut framework </p>\n\n<pre><code>@Controller(\"/\")\nclass HelloController(val greetService:GreetService){\n\n @Get(\"/hello\")\n fun getMessage(){\n    greetService.greet \n  }\n\n}\n\nclass GreetService(val userRepo:UserRepo){\n\n  fun doSomething(val data:String){\n      userRepo.saveData(data)\n  } \n}\nclass UserRepo(val db:DbHandler){\n     fun saveData(val data){\n       db.save(data)\n     }\n}\n</code></pre>\n\n<p>how to use @Inject </p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1560859996, "creation_date": 1560859996, "answer_id": 56648903, "question_id": 56648771, "link": "https://stackoverflow.com/questions/56648771/type-mismatch-required-suspend-%e2%86%92-response-found-responsevoid/56648903#56648903", "title": "Type mismatch. Required: suspend () \u2192 Response&lt;*&gt; Found: Response&lt;Void&gt;", "body": "<p>Use </p>\n\n<pre><code>executeOperation {traderMonitorRestClient.getTraidersList() }\n</code></pre>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560860033, "creation_date": 1560859592, "last_edit_date": 1560860033, "question_id": 56648771, "link": "https://stackoverflow.com/questions/56648771/type-mismatch-required-suspend-%e2%86%92-response-found-responsevoid", "title": "Type mismatch. Required: suspend () \u2192 Response&lt;*&gt; Found: Response&lt;Void&gt;", "body": "<p>In my android app the two methods \n<code>getTraidersList</code> and <code>executeTraderOperation</code> must return type <code>TransportResponse</code></p>\n\n<p>Snippet:</p>\n\n<pre><code>interface TraderMonitorRestClient {\n\n    @GET(\"traders/json\")\n    suspend fun getTraidersList(): Response&lt;List&lt;Trader&gt;&gt;\n\n    @GET(\"trader/{trader_operation}\")\n    suspend fun executeTraderOperation(@Path(\"trader_operation\") traderOperation: String,\n                                       @Query(\"base\") base: String,\n                                       @Query(\"quote\") quote: String,\n                                       @Query(\"sender\") sender: String,\n                                       @Query(\"key\") key: String): Response&lt;Void&gt;\n}\n\n\n\n suspend fun getTraidersList(): TransportResponse = withContext(Dispatchers.IO) {\n            val traderMonitorRestClient = RestClientFactory.createRestClient(TraderMonitorRestClient::class.java)\n            executeOperation(traderMonitorRestClient.getTraidersList())\n        }\n\n        suspend fun executeTraderOperation(traderOperation: Trader.Operation, base: String, quote: String): TransportResponse = withContext(Dispatchers.IO) {\n            val traderMonitorRestClient = RestClientFactory.createRestClient(TraderMonitorRestClient::class.java)\n            val sender = BuildConfig.APPLICATION_ID + \"_\" + BuildConfig.VERSION_NAME\n            val key = DateUtil.getDateAsString(Date(), \"mmHHddMMyyyy\")\n            executeOperation(traderMonitorRestClient.executeTraderOperation(traderOperation.toString().toLowerCase(), base.trim(), quote.trim(), sender, key))\n        }\n\n        suspend private fun executeOperation(someFunction: suspend () -&gt; Response&lt;*&gt;): TransportResponse {\n            try {\n                val response: Response&lt;*&gt; = someFunction()\n                return onResponse(response)\n            } catch (e: Throwable) {\n                return onNetworkFailure(e)\n            }\n}\n</code></pre>\n\n<p>But I get compile errors in this lines:</p>\n\n<pre><code>executeOperation(traderMonitorRestClient.getTraidersList())\n</code></pre>\n\n<p>error message:</p>\n\n<pre><code>Type mismatch.\nRequired:\nsuspend () \u2192 Response&lt;*&gt;\nFound:\nResponse&lt;List&lt;Trader&gt;&gt;\n</code></pre>\n\n<p>and here</p>\n\n<pre><code>executeOperation(traderMonitorRestClient.executeTraderOperation(traderOperation.toString().toLowerCase(), base.trim(), quote.trim(), sender, key))\n</code></pre>\n\n<p>error message:</p>\n\n<pre><code>Type mismatch.\nRequired:\nsuspend () \u2192 Response&lt;*&gt;\nFound:\nResponse&lt;Void&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "in-app-billing"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4871156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5f50e57b841f3e3d1d5b3e177e7958?s=128&d=identicon&r=PG&f=1", "display_name": "styill", "link": "https://stackoverflow.com/users/4871156/styill"}, "is_accepted": false, "score": 0, "last_activity_date": 1571084503, "creation_date": 1571084503, "answer_id": 58383587, "question_id": 56648645, "link": "https://stackoverflow.com/questions/56648645/in-app-billing-with-billingclient-responcecode-1-service-connection-is-disc/58383587#58383587", "title": "In-App billing with BillingClient. ResponceCode = -1. Service connection is disconnected", "body": "<p>Not sure if you are still having this problem, but I had it and debugging showed that the billing client was still using some old AIDL stuff I had not yet removed in the old com.android.vending package.  Once I removed all that code and gutted my app's support for the old stuff, I was able to proceed with the purchase without error.</p>\n"}, {"tags": [], "owner": {"reputation": 1256, "user_id": 3692788, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KbpJg.png?s=128&g=1", "display_name": "JCarlosR", "link": "https://stackoverflow.com/users/3692788/jcarlosr"}, "is_accepted": false, "score": 1, "last_activity_date": 1589250171, "creation_date": 1589250171, "answer_id": 61742685, "question_id": 56648645, "link": "https://stackoverflow.com/questions/56648645/in-app-billing-with-billingclient-responcecode-1-service-connection-is-disc/61742685#61742685", "title": "In-App billing with BillingClient. ResponceCode = -1. Service connection is disconnected", "body": "<p>In my case I was using a lazy initialization.</p>\n\n<p>That way, the Google Billing setup started immediately before the <code>launchBillingFlow</code> method call.</p>\n\n<p>That caused the service to be disconnected and not ready yet for the precise moment the billing flow was started.</p>\n\n<p><strong>I now start the BillingClient connection since the activity is started, and the flow works</strong> as expected when requested by the user.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13903563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1506675172990306/picture?type=large", "display_name": "\u042e\u0440\u0438\u0439 \u041f\u0435\u0441\u043e\u043a", "link": "https://stackoverflow.com/users/13903563/%d0%ae%d1%80%d0%b8%d0%b9-%d0%9f%d0%b5%d1%81%d0%be%d0%ba"}, "is_accepted": false, "score": 1, "last_activity_date": 1594358907, "creation_date": 1594358907, "answer_id": 62827841, "question_id": 56648645, "link": "https://stackoverflow.com/questions/56648645/in-app-billing-with-billingclient-responcecode-1-service-connection-is-disc/62827841#62827841", "title": "In-App billing with BillingClient. ResponceCode = -1. Service connection is disconnected", "body": "<p>Faced such a problem. my decision is adding into application xml node</p>\n<pre><code>&lt;!-- GOOGLE PLAY BILLING --&gt;\n    &lt;activity\n        android:name=&quot;com.android.billingclient.api.ProxyBillingActivity&quot;\n        android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\n        android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot; /&gt;\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 8517079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c107c892a616174364bc5ca7c099ee?s=128&d=identicon&r=PG&f=1", "display_name": "\u041c\u0430\u0440\u043a \u0421\u0442\u0430\u0440\u0438\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/8517079/%d0%9c%d0%b0%d1%80%d0%ba-%d0%a1%d1%82%d0%b0%d1%80%d0%b8%d0%ba%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1302, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1594358907, "creation_date": 1560859198, "last_edit_date": 1560859548, "question_id": 56648645, "link": "https://stackoverflow.com/questions/56648645/in-app-billing-with-billingclient-responcecode-1-service-connection-is-disc", "title": "In-App billing with BillingClient. ResponceCode = -1. Service connection is disconnected", "body": "<p>In my application, a donation function was made. (The application with permission to purchase inside the application is available in google play and in the downloaded version, this function works) I did it using the easy library from <strong>anjlab</strong>. I started to update the application, and rewrote it at the same time on <strong>Kotlin</strong>. Donat stopped working for some reason. I decided to redo the code from the <strong>anjlab</strong> library to the new billing library from google. When I try to make a purchase, I get </p>\n\n<blockquote>\n  <p>responseCode = -1 (service connection is disconnected). </p>\n</blockquote>\n\n<p>I tried to resume the connection using <code>startConnection</code> (this), tried to change the version in the <strong>gradle</strong>, loaded the new version into the library <strong>apk</strong>. Neither the old nor the new does not work (if you download from google play, the one that is published, it works). Code wrote on the guideline from Google. I test the application signed on a real device</p>\n\n<p><strong>SettingsFramgent.kt</strong> (only sacrament code)</p>\n\n<pre><code>package *\n\nimport android.content.Intent\nimport androidx.preference.PreferenceFragmentCompat\nimport android.os.Bundle\nimport android.widget.Toast\nimport androidx.preference.Preference\n\nimport com.starikov.datecalc.R\n\nclass SettingsFragment : PreferenceFragmentCompat(), SettingsContract.View {\n\n    private lateinit var presenter: SettingsContract.Presenter\n\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n        setPreferencesFromResource(R.xml.preferences, rootKey)\n\n        presenter = SettingsPresenter(activity!!)\n        presenter.attachView(this)\n\nval makeDonatePref: Preference = findPreference(MAKE_DONATE_KEY)!!\n\n        makeDonatePref.setOnPreferenceClickListener { presenter.makeDonateClicked(); true }\n\n        presenter.viewIsReady()\n    }\n\n    override fun showToast(resId: Int) {\n        Toast.makeText(activity, resId, Toast.LENGTH_LONG).show()\n    }\n\n    override fun startActivity(intent: Intent) {\n        activity!!.startActivity(intent)\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        presenter.detachView()\n        if (activity!!.isFinishing) {\n            presenter.destroy()\n        }\n    }\n\n    companion object {\n        private const val MAKE_DONATE_KEY = \"make_donate\"\n    }\n}\n\n</code></pre>\n\n<p><strong>SettingsPresenter.kt</strong></p>\n\n<pre><code>package *\n\nimport android.app.Activity\nimport android.content.ActivityNotFoundException\nimport android.content.Intent\nimport android.net.Uri\nimport com.android.billingclient.api.*\n\nimport com.starikov.datecalc.common.PresenterBase\nimport com.android.billingclient.api.BillingClient\nimport com.android.billingclient.api.SkuDetailsParams\nimport com.android.billingclient.api.BillingFlowParams\nimport com.starikov.datecalc.R\nimport java.util.*\n\n\ninternal class SettingsPresenter internal constructor(private val activity: Activity)\n    : PresenterBase&lt;SettingsContract.View&gt;(), SettingsContract.Presenter {\n    private lateinit var billingClient: BillingClient\n    private var skuDetailsMap: HashMap&lt;String, SkuDetails&gt; = HashMap()\n\n    override fun makeDonateClicked() {\n        initBillingProcessor()\n        launchBilling(DONATE_PRODUCT_ID)\n    }\n\n    override fun destroy() {\n        billingClient.endConnection()\n    }\n\n    override fun viewIsReady() {}\n\n    private fun initBillingProcessor() {\n        billingClient = BillingClient.newBuilder(activity)\n                .enablePendingPurchases()\n                .setListener {\n            billingResult, purchases -&gt;\n            if (billingResult?.responseCode == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\n                //purchase done\n                view!!.showToast(R.string.thanks_for_donate)\n            }\n        }.build()\n\n        billingClient.startConnection(object : BillingClientStateListener {\n            override fun onBillingSetupFinished(billingResult: BillingResult?) {\n                if (billingResult?.responseCode == BillingClient.BillingResponseCode.OK) {\n                     // **place of logs**\n                    querySkuDetails() \n                }\n            }\n\n            override fun onBillingServiceDisconnected() {\n                //if wrong\n            }\n        })\n    }\n\n    private fun launchBilling(skuId: String) {\n        val billingFlowParams = BillingFlowParams.newBuilder()\n                .setSkuDetails(skuDetailsMap[skuId])\n                .build()\n        billingClient.launchBillingFlow(activity, billingFlowParams)\n    }\n\n    private fun querySkuDetails() {\n        val skuDetailsParamsBuilder = SkuDetailsParams.newBuilder()\n        val skuList = ArrayList&lt;String&gt;()\n        skuList.add(DONATE_PRODUCT_ID)\n        skuDetailsParamsBuilder.setSkusList(skuList).setType(BillingClient.SkuType.INAPP)\n        billingClient.querySkuDetailsAsync(skuDetailsParamsBuilder.build()) { billingResult, skuDetailsList -&gt;\n            if (billingResult?.responseCode ==  BillingClient.BillingResponseCode.OK) {\n                for (skuDetails in skuDetailsList!!) {\n                    skuDetailsMap[skuDetails.sku] = skuDetails\n                }\n            }\n        }\n    }\n\n    companion object {\n        private const val DONATE_PRODUCT_ID = \"donate\"\n    }\n}\n\n</code></pre>\n\n<p>In \"<strong>place of logs</strong>\", i checked <strong>billingResult.responseCode = -1; debugMessage = \"Service connection is disconnected\"</strong></p>\n\n<p>I have no idea what to do. Thanks in advance for your help</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager2"], "comments": [{"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "edited": false, "score": 0, "creation_date": 1560857655, "post_id": 56647971, "comment_id": 99865976, "body": "You can try add listener on page change and and if current page should not be visible just roll back"}], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 6840443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1050346205030070/picture?type=large", "display_name": "Shahbaz Hussain", "link": "https://stackoverflow.com/users/6840443/shahbaz-hussain"}, "edited": false, "score": 0, "creation_date": 1560858520, "post_id": 56648338, "comment_id": 99866489, "body": "As stated in my question, I&#39;ve already tried extending the ViewPager2 class and override the touch events, but unfortunately it ViewPager2 is a final class, so I cannot extend it."}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 392, "user_id": 6840443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1050346205030070/picture?type=large", "display_name": "Shahbaz Hussain", "link": "https://stackoverflow.com/users/6840443/shahbaz-hussain"}, "edited": false, "score": 0, "creation_date": 1560964511, "post_id": 56648338, "comment_id": 99912954, "body": "Did you try androidx.viewpager.widget.ViewPager class"}, {"owner": {"reputation": 392, "user_id": 6840443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1050346205030070/picture?type=large", "display_name": "Shahbaz Hussain", "link": "https://stackoverflow.com/users/6840443/shahbaz-hussain"}, "edited": false, "score": 3, "creation_date": 1560968798, "post_id": 56648338, "comment_id": 99914886, "body": "Yes, I did initially, but I wanted to try out <code>ViewPager2</code> as it is more efficient and superior to its predecessor <code>ViewPager</code>"}], "tags": [], "owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "is_accepted": false, "score": -1, "last_activity_date": 1560858098, "creation_date": 1560858098, "answer_id": 56648338, "question_id": 56647971, "link": "https://stackoverflow.com/questions/56647971/how-to-disable-swiping-in-specific-direction-in-viewpager2/56648338#56648338", "title": "How to disable swiping in specific direction in ViewPager2", "body": "<p>Extend the viewpager class and override the functions <code>onInterceptTouchEvent</code> and <code>onTouchEvent</code>. Then identify the direction of the swipe and return false if you don't want to swipe.</p>\n\n<p>You can use this helper method for swipe detection:</p>\n\n<pre><code>float downX;  // define class level variable in viewpager \nprivate boolean wasSwipeToLeftEvent(MotionEvent event){\n    switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            downX = event.getX();\n            return false;\n\n        case MotionEvent.ACTION_MOVE:\n        case MotionEvent.ACTION_UP:\n            return event.getX() - downX &gt; 0;\n\n        default:\n            return false;\n    }\n}\n</code></pre>\n\n<p>Then in your method for touch events:</p>\n\n<pre><code>@Override\npublic boolean onInterceptTouchEvent(MotionEvent event) {\n\n\n    return !this.wasSwipeToLeftEvent(event);\n}\n\n@Override\npublic boolean onTouchEvent(MotionEvent event) {\n\n    return return !this.wasSwipeToLeftEvent(event);\n}\n</code></pre>\n\n<p>I modified the code from this answer, if you need more explanation please see this: <a href=\"https://stackoverflow.com/a/34111034/4428159\">https://stackoverflow.com/a/34111034/4428159</a></p>\n"}, {"comments": [{"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "edited": false, "score": 0, "creation_date": 1561009766, "post_id": 56648447, "comment_id": 99925437, "body": "Is the operation smooth? Like it instantly disable scroll or shows some jitters before disabling it?"}, {"owner": {"reputation": 392, "user_id": 6840443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1050346205030070/picture?type=large", "display_name": "Shahbaz Hussain", "link": "https://stackoverflow.com/users/6840443/shahbaz-hussain"}, "reply_to_user": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "edited": false, "score": 1, "creation_date": 1561012894, "post_id": 56648447, "comment_id": 99926619, "body": "@UmarHussain yes it is absolutely smooth, no jitters at all, actually this listener listens to when the user actually intends to swipe so it handles the behaviour before actual swipe happens"}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "edited": false, "score": 1, "creation_date": 1561013218, "post_id": 56648447, "comment_id": 99926793, "body": "That&#39;s great, then its a lot easier then old implementation to handle swipes."}], "tags": [], "owner": {"reputation": 392, "user_id": 6840443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1050346205030070/picture?type=large", "display_name": "Shahbaz Hussain", "link": "https://stackoverflow.com/users/6840443/shahbaz-hussain"}, "is_accepted": true, "score": 7, "last_activity_date": 1611611738, "last_edit_date": 1611611738, "creation_date": 1560858482, "answer_id": 56648447, "question_id": 56647971, "link": "https://stackoverflow.com/questions/56647971/how-to-disable-swiping-in-specific-direction-in-viewpager2/56648447#56648447", "title": "How to disable swiping in specific direction in ViewPager2", "body": "<p>I found a listener which can listen when the user tries to swipe, it'll then check the current page, if it's the first page, disable the user input else enable it as it was by default.</p>\n<p>Here's the code snippet for that</p>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n    @Override\n    public void onPageScrollStateChanged(int state) {\n        super.onPageScrollStateChanged(state);\n\n        if (state == SCROLL_STATE_DRAGGING &amp;&amp; pager.getCurrentItem() == 0) {\n            pager.setUserInputEnabled(false);\n        } else {\n            pager.setUserInputEnabled(true);\n        }\n    }\n});\n</code></pre>\n<p>In Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>viewPager.registerOnPageChangeCallback(object : OnPageChangeCallback() {\n    override fun onPageScrollStateChanged(state: Int) {\n        super.onPageScrollStateChanged(state)\n\n        viewPager.isUserInputEnabled = !(state == SCROLL_STATE_DRAGGING &amp;&amp; viewPager.currentItem == 0)\n    }\n})\n</code></pre>\n<p>Since my scenario was of 2 pages only, checking the page number would be good for me, but in case we have more than 2 pages and we need to disable the swipe in one particular direction, we may use <code>onPageScrolled(int position, float positionOffset, int positionOffsetPixels)</code> listener of <code>viewpager2</code> and handle the desired scenario according to the positive or negative values of <code>position</code> and <code>positionOffset</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 11214643, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RP1GwpkAYX4/AAAAAAAAAAI/AAAAAAAAAEc/fknm-MHAJYU/photo.jpg?sz=128", "display_name": "Delark", "link": "https://stackoverflow.com/users/11214643/delark"}, "is_accepted": false, "score": 1, "last_activity_date": 1613663999, "last_edit_date": 1613663999, "creation_date": 1608068060, "answer_id": 65314024, "question_id": 56647971, "link": "https://stackoverflow.com/questions/56647971/how-to-disable-swiping-in-specific-direction-in-viewpager2/65314024#65314024", "title": "How to disable swiping in specific direction in ViewPager2", "body": "<p><strong>Solution for more than 2 Fragments.</strong>\n(scroll down for solution, Updates to the code at the end to correct some bugs.)</p>\n<p>This one was a little tricky.</p>\n<p>I think the reason why people are looking to disable swipes in one direction, in my opinion, is because there is no way to add Fragments at run-time, while maintaining the state of previous Fragments on display.</p>\n<p>So what people are doing is that they are preloading all Fragments, and making it as if the ones not on display are simply not there.</p>\n<p>Now if the team would've made the Adapter not bounded by the ViewLifeCycle, this could be easily solved by using the ListDiffer option, that would correctly propagate updates to the RecyclerView Adapter, but because a new Adapter is required for each dataSetChanged of the ViewPager2, the entirety of the Fragments needs to be recreated, and the ListDiffer has no effect on the ViewPager2.</p>\n<p>But maybe not entirely as I'm not sure the ListDiffer is able to recognize a &quot;position swap&quot; to preserve state.</p>\n<p>Now, on the answer that advices the use of <code>registerOnPageChangeCallback()</code>.</p>\n<p>The reason why it's of no use to registerOnPageChangeCallback() with more than 2 Fragments, its because by the time this method gets called, it's already too late to do something, what this creates is that the window becomes unresponsive mid way, as opposed to the addOnItemTouchListener(); which is able to intercept touches before they reach the view.</p>\n<p>In some sense the complete transaction of blocking and allowing swipes, are going to be performed by the two methods, registerOnPageChangeCallback() and addOnItemTouchListener().</p>\n<p><code>registerOnPageChangeCallback()</code> Will tell our adapter what direction should stop working (usually from left to right (I will call this simply &quot;left&quot;)) and at what page, while <code>addOnItemTouchListener()</code> would tell the view to intercept the fling at the right moment in the direction we want.</p>\n<p>The problem is that to use that TouchListener we need to access the inner RecyclerView inside the ViewPager2.</p>\n<p>The way to do this is by overriding the <code>onAttachedToWindow()</code> method from the <code>FragmentStateAdapter</code>.</p>\n<pre><code>@Override\npublic void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\n    super.onAttachedToRecyclerView(recyclerView);\n}\n</code></pre>\n<p>Now the correct listener to attach to the RecyclerView is called <code>RecyclerView.SimpleOnItemTouchListener()</code>, the problem is that the listener does not distinguish a &quot;right&quot; fling from a &quot;left&quot; one.</p>\n<pre><code>public boolean onInterceptTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent e)\n</code></pre>\n<p>We need to mix 2 behaviours to get the desired result:</p>\n<p>a) <code>rv.getScrollState() == RecyclerView.SCROLL_STATE_DRAGGING</code></p>\n<p>b) <code>e.getX()</code></p>\n<p>We also need to keep track of the last x point, the reason this works is because the listener will trigger multiple times before the <code>rv.getScrollState()</code> turns <code>SCROLL_STATE_DRAGGING</code>.</p>\n<p><strong><strong>SOLUTION.</strong></strong></p>\n<p>The class I used to identify left from right:</p>\n<pre><code>public class DirectionResolver {\n\n    private float previousX = 0;\n\n    public Direction resolve(float newX) {\n        Direction directionResult = null;\n            float result = newX - previousX;\n            if (result != 0) {\n                directionResult = result &gt; 0 ? Direction.left_to_right : Direction.right_to_left ;\n            }\n        previousX = newX;\n        return directionResult;\n    }\n\n    public enum Direction {\n        right_to_left, left_to_right\n    }\n\n}\n</code></pre>\n<p>There is no need to enzero the previousX int after the transaction because the resolve() method is at least executed more than 3 times before the <code>rv.getScrollState()</code> becomes <code>SCROLL_STATE_DRAGGING</code></p>\n<p>Once this class is defined the whole code should be like this (inside the <code>FragmentStateAdapter</code>):</p>\n<pre><code>private final DirectionResolver resolver = new DirectionResolver();\n\n\nprivate final AtomicSupplier&lt;DirectionResolver.Direction&gt; directionSupplier = new AtomicSupplier&lt;&gt;();\n\n@Override\npublic void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\n\n    recyclerView.addOnItemTouchListener(\n            new RecyclerView.SimpleOnItemTouchListener(){\n                @Override\n                public boolean onInterceptTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent e) {\n\n                    boolean shouldIntercept = super.onInterceptTouchEvent(rv, e);\n\n                    DirectionResolver.Direction direction = directionSupplier.get();\n\n                    if (direction != null) {\n                        DirectionResolver.Direction resolved = resolver.resolve(e.getX());\n                        if (rv.getScrollState() == RecyclerView.SCROLL_STATE_DRAGGING) {\n                            //resolved will never be null if state is already dragging\n                            shouldIntercept = resolved.equals(direction);\n                        }\n                    }\n                    return shouldIntercept;\n                }\n            }\n    );\n\n    super.onAttachedToRecyclerView(recyclerView);\n}\n\npublic void disableDrag(DirectionResolver.Direction direction) {\n    Log.println(Log.WARN, TAG, &quot;disableDrag: disabling swipe: &quot; + direction.name());\n    directionSupplier.set(() -&gt; direction);\n}\n\npublic void enableDrag() {\n    Log.println(Log.VERBOSE, TAG, &quot;enableDrag: enabling swipe&quot;);\n    directionSupplier.set(() -&gt; null);\n}\n</code></pre>\n<p>If you are asking what AtomicSupplier is, it is something similar to an AtomicReference&lt;&gt; so if you want to use that instead it will give the same results.\nThe idea is to reuse the same <code>SimpleOnItemTouchListener()</code> and in order to do that we need to supply it with the parameter.</p>\n<p>we need to check for nulls because the supplier will be null the first time (unless you rpovide it an initial value) the recyclerView is firstly attached to the window.</p>\n<p>Now using it.</p>\n<pre><code>    binding.journalViewPager.registerOnPageChangeCallback(\n            new ViewPager2.OnPageChangeCallback() {\n                @Override\n                public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n                        if (conditionToDisableLeftSwipe.at(position)) {\n                            adapter.disableDrag(DirectionResolver.Direction.right_to_left);\n                        } else {\n                            adapter.enableDrag();\n                        }\n                    }\n\n             }\n         }\n    );\n</code></pre>\n<h2>Update</h2>\n<hr />\n<p>Some updates have been done to the DirectionResolver.class to account for sme bugs and more functionality:</p>\n<pre><code>private static class DirectionResolver {\n\n    private float previousX = 0;\n    private boolean right2left;\n\n    public Direction resolve(float newX) {\n        Direction directionResult = null;\n        float result = newX - previousX;\n        if (result != 0) {\n            directionResult = result &gt; 0 ? Direction.left_to_right : Direction.right_to_left;\n        } else {\n            directionResult = Direction.left_and_right;\n        }\n        previousX = newX;\n        return right2left ? Direction.right_to_left : directionResult;\n    }\n\n\n    public void reset(Direction direction) {\n        previousX = direction == Direction.left_to_right ? previousX : 0;\n    }\n\n    public void reset() {\n        right2left = false;\n    }\n\n\n}\n</code></pre>\n<p>Direction enum:</p>\n<pre><code>public enum Direction {\n    right_to_left, left_to_right, left_and_right;\n\n    //Nested RecyclerViews generate a wrong response from the resolve() method in the direction resolver.\n    public boolean equals(Direction direction, DirectionResolver resolver) {\n        boolean result = direction == left_and_right || super.equals(direction);\n        resolver.right2left = (!result &amp;&amp; direction == left_to_right) &amp;&amp; !result;\n        return result;\n    }\n\n}\n</code></pre>\n<p>Implementation:</p>\n<pre><code>@Override\npublic void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\n\n    recyclerView.addOnItemTouchListener(\n            new RecyclerView.SimpleOnItemTouchListener(){\n                @Override\n                public boolean onInterceptTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent e) {\n\n                    boolean shouldIntercept = super.onInterceptTouchEvent(rv, e);\n\n                    Direction direction = directionSupplier.get();\n\n                    if (direction != null) {\n                        Direction resolved = resolver.resolve(e.getX());\n                        if (rv.getScrollState() == RecyclerView.SCROLL_STATE_DRAGGING) {\n                            //resolved will never be null if state is already dragging\n                            shouldIntercept = resolved.equals(direction, resolver);\n                            resolver.reset(direction);\n                        }\n                    }\n\n                    return shouldIntercept;\n                }\n            }\n    );\n\n    super.onAttachedToRecyclerView(recyclerView);\n}\n\npublic void disableDrag(Direction direction) {\n    directionSupplier.set(() -&gt; direction);\n    resolver.reset();\n}\n\npublic void enableDrag() {\n    directionSupplier.set(() -&gt; null);\n}\n</code></pre>\n<p>Use:</p>\n<pre><code>    binding.journalViewPager.registerOnPageChangeCallback(\n            new ViewPager2.OnPageChangeCallback() {\n                @Override\n                public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n                        if (conditionToDisableLeftSwipe.at(position)) {\n                            adapter.disableDrag(DirectionResolver.Direction.right_to_left);\n                        } else {\n                            adapter.enableDrag();\n                        }\n                    }\n\n             }\n         }\n    );\n</code></pre>\n"}], "owner": {"reputation": 392, "user_id": 6840443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1050346205030070/picture?type=large", "display_name": "Shahbaz Hussain", "link": "https://stackoverflow.com/users/6840443/shahbaz-hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3858, "favorite_count": 0, "accepted_answer_id": 56648447, "answer_count": 3, "score": 3, "last_activity_date": 1613663999, "creation_date": 1560856876, "last_edit_date": 1560857526, "question_id": 56647971, "link": "https://stackoverflow.com/questions/56647971/how-to-disable-swiping-in-specific-direction-in-viewpager2", "title": "How to disable swiping in specific direction in ViewPager2", "body": "<p>I want to disable right to left swipe in <code>ViewPager2</code>.\nI basically have a viewpager2 element with 2 pages in my navigation drawer. I want my second page to show up only when I click some element in my first page (right to left swipe from the first page should not open the second page), while when I'm in the second page, the viewpager2 swipe (left to right swipe) should swipe as it should do in viewpager.</p>\n\n<p>I've tried extending the <code>ViewPager2</code> class and override the touch events, but unfortunately it <code>ViewPager2</code> is a final class, so I cannot extend it. </p>\n\n<p>Secondly, I tried to use <code>setUserInputEnabled</code> method to false, but this disabled all swipes altogether (I just want to disable right to left swipe). If I could find some listener which checks for the current page before swiping and disable swipe otherwise, it would probably work. </p>\n\n<pre><code>     implementation 'androidx.viewpager2:viewpager2:1.0.0-alpha05'\n</code></pre>\n\n<p>Code for setting up of ViewPager2</p>\n\n<pre><code>      ViewPager2 pager = view.findViewById(R.id.pager);\n      ArrayList&lt;Fragment&gt; abc = new ArrayList&lt;&gt;();\n      abc.add(first);\n      abc.add(second);\n      navigationDrawerPager.setAdapter(new DrawerPagerAdapter(\n                this, drawerFragmentList));\n      pager.setAdapter(new FragmentStateAdapter(this), abc);\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560856738, "post_id": 56647901, "comment_id": 99865455, "body": "<a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 2, "last_activity_date": 1560859923, "last_edit_date": 1560859923, "creation_date": 1560856866, "answer_id": 56647969, "question_id": 56647901, "link": "https://stackoverflow.com/questions/56647901/pass-function-as-param-and-execute-custom-function/56647969#56647969", "title": "Pass function as param and execute custom function?", "body": "<p>what you could do is use a higher-order function:</p>\n\n<pre><code>suspend fun my_common_method(block: suspend () -&gt; Response&lt;TransportResponse&gt;) {\n            // some common methods\n            try {\n                val response = block()\n             //  some common methods\n            } catch (e: Throwable) {\n               // some comon methods\n            }\n        }\n</code></pre>\n\n<p>then you just call <code>my_common_method {getTraidersList() }</code></p>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560859923, "creation_date": 1560856628, "last_edit_date": 1560856796, "question_id": 56647901, "link": "https://stackoverflow.com/questions/56647901/pass-function-as-param-and-execute-custom-function", "title": "Pass function as param and execute custom function?", "body": "<p>In my android app:</p>\n\n<pre><code>  suspend fun getTraidersList(): TransportResponse = withContext(Dispatchers.IO) {\n            // some common methods\n            try {\n                val response: Response&lt;List&lt;Trader&gt;&gt; = traderMonitorRestClient.getTraidersList()\n             //  some common methods\n            } catch (e: Throwable) {\n               // some comon methods\n            }\n        }\n\n        suspend fun executeTraderOperation(traderOperation: Trader.Operation, base: String, quote: String): TransportResponse = withContext(Dispatchers.IO) {\n            // some common methods\n            try {\n               val response: Response&lt;Void&gt; = traderMonitorRestClient.executeTraderOperation(traderOperation.toString().toLowerCase(), base.trim(), quote.trim(), sender, key)\n             //  some common methods\n            } catch (e: Throwable) {\n               // some comon methods\n            }\n}\n</code></pre>\n\n<p>As you can see I has 2 methods that has many common methods. I want to extract this common methods in separate method.\nI want to pass function as param to my_common_method. \nIs it possible to do smt like this in Kotlin?</p>\n\n<pre><code>suspend fun my_common_method(fun some_custom_function) {\n            // some common methods\n            try {\n                val response: Response&lt;*&gt; = some_custom_function()\n             //  some common methods\n            } catch (e: Throwable) {\n               // some comon methods\n            }\n        }\n</code></pre>\n\n<p>Maybe has better solution?</p>\n\n<p>In <code>getTraidersList()</code> the function <code>some_custom_function</code> is <code>getTraidersList()</code>. And in <code>executeTraderOperation</code> the function <code>some_custom_function</code> is <code>executeTraderOperation</code>.\nIs it possible in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "comments": [{"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560856191, "post_id": 56647750, "comment_id": 99865166, "body": "you seem to be using a lot of constants, can you share their values as well?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1560856577, "post_id": 56647750, "comment_id": 99865377, "body": "Expand your SQL statement and try it by hand in a SQLite tool like DB Browser with a copy of your database."}, {"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560857874, "post_id": 56647750, "comment_id": 99866102, "body": "@CommonsWare will try, thanks for tool suguestion!"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 1, "last_activity_date": 1560856502, "creation_date": 1560856502, "answer_id": 56647860, "question_id": 56647750, "link": "https://stackoverflow.com/questions/56647750/room-select-expression/56647860#56647860", "title": "Room select expression", "body": "<p>I would suggest changing the query to:</p>\n\n<pre><code> @Query(\"$SELECT_FROM  $PRODUCT_TRANSACTION_TABLE WHERE write_status IN ($SALE, $AUDIT)\")\n    fun loadProductSaleTransactions(): LiveData&lt;List&lt;TransactionProductTable&gt;&gt;\n</code></pre>\n\n<p>Let me know if this fixes the issue. Cheers!</p>\n"}, {"tags": [], "owner": {"reputation": 1485, "user_id": 6748763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lG44N.jpg?s=128&g=1", "display_name": "alireza easazade", "link": "https://stackoverflow.com/users/6748763/alireza-easazade"}, "is_accepted": false, "score": 1, "last_activity_date": 1560857056, "last_edit_date": 1560857056, "creation_date": 1560856672, "answer_id": 56647910, "question_id": 56647750, "link": "https://stackoverflow.com/questions/56647750/room-select-expression/56647910#56647910", "title": "Room select expression", "body": "<p>just change after WHERE clause like below</p>\n\n<pre><code>@Query(\n\"$SELECT_FROM  $PRODUCT_TRANSACTION_TABLE WHERE\n write_status = $SALE OR write_status =  $AUDIT\"\n) fun loadProductSaleTransactions(): LiveData&lt;List&lt;TransactionProductTable&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8386272, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZhvYih5toOE/AAAAAAAAAAI/AAAAAAAAABE/thOOfbEIy7c/photo.jpg?sz=128", "display_name": "maanu", "link": "https://stackoverflow.com/users/8386272/maanu"}, "is_accepted": false, "score": 0, "last_activity_date": 1560873903, "last_edit_date": 1560873903, "creation_date": 1560858047, "answer_id": 56648326, "question_id": 56647750, "link": "https://stackoverflow.com/questions/56647750/room-select-expression/56648326#56648326", "title": "Room select expression", "body": "<pre><code>@Query(\"$SELECT_FROM  $PRODUCT_TRANSACTION_TABLE WHERE write_status IN ($SALE, $AUDIT)\")fun loadProductSaleTransactions(): LiveData&lt;List&lt;TransactionProductTable&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 56647860, "answer_count": 3, "score": 2, "last_activity_date": 1560873903, "creation_date": 1560856113, "last_edit_date": 1560857726, "question_id": 56647750, "link": "https://stackoverflow.com/questions/56647750/room-select-expression", "title": "Room select expression", "body": "<p>I need to create a not so simple Sql select query. </p>\n\n<p>Something like this:</p>\n\n<pre><code> @Query(\"$SELECT_FROM  $PRODUCT_TRANSACTION_TABLE WHERE write_status == ($SALE || $AUDIT)\")\n    fun loadProductSaleTransactions(): LiveData&lt;List&lt;TransactionProductTable&gt;&gt;\n</code></pre>\n\n<p>the field can be <code>Sale</code> or `Audit</p>\n\n<p>But room return nothing.\nCan you help me to write correctly ?</p>\n"}, {"tags": ["android", "kotlin", "androidx", "android-navigation", "android-architecture-navigation"], "answers": [{"comments": [{"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1560928727, "post_id": 56655079, "comment_id": 99892934, "body": "I tried using above and faced <a href=\"https://issuetracker.google.com/issues/134089818\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/134089818</a> the application is crashing will post as a separate question."}, {"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 1, "creation_date": 1560929606, "post_id": 56655079, "comment_id": 99893430, "body": "in case of dialog to dialog action&#39;s there is no issue while in case of dialog to fragment action crash happen&#39;s"}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 22, "last_activity_date": 1562755625, "last_edit_date": 1562755625, "creation_date": 1560882755, "answer_id": 56655079, "question_id": 56647476, "link": "https://stackoverflow.com/questions/56647476/why-dialog-does-not-have-a-navcontroller-missing/56655079#56655079", "title": "Why Dialog does not have a NavController [Missing]?", "body": "<p>A <code>DialogFragment</code> operates in an entirely separate window which is not in the same view hierarchy as your <code>NavController</code>.</p>\n\n<p>You should use <code>NavHostFragment.findNavController(this)</code> (where <code>this</code> is your <code>DialogFragment</code>)) or the Kotlin extension <code>findNavController()</code> if you are using the <code>fragment-ktx</code> dependency which walks up the <em>fragment</em> hierarchy to find your NavController.</p>\n"}], "owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5554, "favorite_count": 3, "accepted_answer_id": 56655079, "answer_count": 1, "score": 8, "last_activity_date": 1562755625, "creation_date": 1560855142, "last_edit_date": 1560858387, "question_id": 56647476, "link": "https://stackoverflow.com/questions/56647476/why-dialog-does-not-have-a-navcontroller-missing", "title": "Why Dialog does not have a NavController [Missing]?", "body": "<p>I am trying to use the latest update of Nav Component in my application </p>\n\n<p>where i can add dialog(<code>BottomSheetDialogFragment</code>) in my <code>nav graph</code></p>\n\n<pre><code>nav_version = \"2.1.0-alpha05\"\n</code></pre>\n\n<p>Part of code from my <code>nav_graph</code>:</p>\n\n<pre><code>    &lt;dialog\n        android:id=\"@+id/settingFragment\"\n        android:name=\"com.andor.navigate.notepad.listing.fragment.SettingFragment\"\n        tools:layout=\"@layout/fragment_setting\"&gt;\n        &lt;action\n            android:id=\"@+id/action_settingFragment_to_confirmationFragment\"\n            app:destination=\"@id/confirmationFragment\" /&gt;\n    &lt;/dialog&gt;\n    &lt;dialog\n        android:id=\"@+id/confirmationFragment\"\n        android:name=\"com.andor.navigate.notepad.ConfirmationFragment\"\n        tools:layout=\"@layout/fragment_confirmation\" /&gt;\n</code></pre>\n\n<p>In my Setting's Fragment i have a button(<code>logout_btn</code>) to trigger the action: <code>action_settingFragment_to_confirmationFragment</code></p>\n\n<p>code in <code>OnActivityCreated</code> of the Setting's fragment:</p>\n\n<pre><code>    logout_btn.setOnClickListener {\n       Navigation.findNavController(view!!).navigate(R.id.action_settingFragment_to_confirmationFragment)\n    } \n</code></pre>\n\n<p>When i Click on the button there is a runtime Exception:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: View\n  androidx.constraintlayout.widget.ConstraintLayout{550ae09 V.E......\n  ........ 1,1-719,526} does not have a NavController set\n          at androidx.navigation.Navigation.findNavController(Navigation.java:84)\n          at com.andor.navigate.notepad.listing.fragment.SettingFragment$onActivityCreated$2.onClick(SettingFragment.kt:56)\n          at android.view.View.performClick(View.java:7352)\n          at android.view.View.performClickInternal(View.java:7318)\n          at android.view.View.access$3200(View.java:846)\n          at android.view.View$PerformClick.run(View.java:27800)\n          at android.os.Handler.handleCallback(Handler.java:873)\n          at android.os.Handler.dispatchMessage(Handler.java:99)\n          at android.os.Looper.loop(Looper.java:214)\n          at android.app.ActivityThread.main(ActivityThread.java:7045)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965)</p>\n</blockquote>\n\n<p>My aim is to open a dialog from another dialog, but for some reason my dialog is not having(missing) NavController.</p>\n\n<p>I have already referred to the source <a href=\"https://android-review.googlesource.com/c/platform/frameworks/support/+/949238/2/navigation/integration-tests/testapp/src/main/java/androidx/navigation/testapp/LearnMoreDialogFragment.kt#23\" rel=\"noreferrer\">code</a></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "bottomnavigationview"], "comments": [{"owner": {"reputation": 2875, "user_id": 1889768, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f7c563b7e2e34c68165a66af5f4c75d9?s=128&d=identicon&r=PG", "display_name": "Abbas", "link": "https://stackoverflow.com/users/1889768/abbas"}, "edited": false, "score": 0, "creation_date": 1560859801, "post_id": 56647454, "comment_id": 99867274, "body": "I don&#39;t see an issue on switching back to the fragment. However there is a considerable jank while list is being rendered."}, {"owner": {"reputation": 2875, "user_id": 1889768, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f7c563b7e2e34c68165a66af5f4c75d9?s=128&d=identicon&r=PG", "display_name": "Abbas", "link": "https://stackoverflow.com/users/1889768/abbas"}, "edited": false, "score": 0, "creation_date": 1560859872, "post_id": 56647454, "comment_id": 99867323, "body": "I wonder could this be because the <code>RecyclerView</code> is layout all its children. Check your <code>onCreateViewHolder()</code> it shouldn&#39;t be called more than a few times maybe 5 at most."}], "owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560864001, "creation_date": 1560855066, "last_edit_date": 1560864001, "question_id": 56647454, "link": "https://stackoverflow.com/questions/56647454/why-does-my-fragment-in-a-tab-at-the-bottom-navigation-view-not-show-immediately", "title": "Why does my fragment in a tab at the bottom navigation view not show immediately?", "body": "<p>Here is the simplified version of my project. Let's say that I have a <code>text view</code> above <code>recycler view</code> which is inside a <code>nested scroll view</code> like the image below</p>\n\n<p><a href=\"https://i.stack.imgur.com/vTEVC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vTEVC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the XML of my project:</p>\n\n<pre><code>&lt;androidx.core.widget.NestedScrollView\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@android:color/white\" android:id=\"@+id/nestedScrollView_user_control\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" android:id=\"@+id/constraintLayout_profile\"&gt;\n\n        &lt;TextView\n                android:text=\"TextView\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" android:id=\"@+id/textView3\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"/&gt;\n\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:scrollbars=\"vertical\"\n                android:nestedScrollingEnabled=\"false\"\n                app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@id/textView3\"\n                tools:listitem=\"@layout/item_general_event\" android:id=\"@+id/recyclerView_attended_event_user_control\"\n                android:layout_marginTop=\"120dp\"&gt;\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n        &lt;ProgressBar\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/progressBar_user_control\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                android:visibility=\"gone\"/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n\n<p>Here is the video of my app's problem: <a href=\"https://drive.google.com/file/d/1E6N0xGDp8sBPrLgwfctTEWeSfyPHevyj/view\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1E6N0xGDp8sBPrLgwfctTEWeSfyPHevyj/view</a></p>\n\n<p>As you can see, it is located at the last <code>tab</code> in the <code>bottom navigation view</code>. For the very first time when I tap that tab (after I totally close the app), the second widget's behaviour that appears is like :</p>\n\n<ol>\n<li>the <code>text view</code> will immediately appear</li>\n<li>then <code>progress bar</code> will show (fetching data from server)</li>\n<li>the <code>recycler view</code> will eventually appear.</li>\n</ol>\n\n<p>but when I switch from the last tab in the <code>bottom navigation</code> view, let's say to the first tab and then back again to the last tab, it will make my app appear laggy. The <code>textView</code> will not immediately show. It waits, even the <code>progressBar</code> doesn't show, and it will show at the same time with the <code>recyclerView</code>.</p>\n\n<p>It looks like <code>recyclerView</code> is setting the item and fetching the data at the same time (not sure why) which is making my app appear laggy.</p>\n\n<p>I want to make the text view immediately show after tapping the tab in <code>bottom navigation view</code></p>\n\n<p>Below is the code I use:</p>\n\n<pre><code>    class UserControlFragment : Fragment(), EasyPermissions.PermissionCallbacks {\n\n    lateinit var nestedScrollView: NestedScrollView\n    lateinit var progressBar : ProgressBar\n    lateinit var fragmentView : View\n    lateinit var recyclerView : RecyclerView\n\n    lateinit var sharedPrefManager : SharedPreferenceManager\n    lateinit var userControlAdapter : GeneralEventRecyclerViewAdapter\n\n    private var attendedEvents = ArrayList&lt;Event&gt;()\n    private var userData : User? = null\n\n\n    lateinit var mContext : Context\n    lateinit var mActivity : FragmentActivity\n\n    override fun onAttach(context: Context) {\n        super.onAttach(context)\n\n        mContext = context\n        activity?.let { mActivity = it }\n\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        fragmentView = inflater.inflate(R.layout.fragment_user_control, container, false)\n        sharedPrefManager = SharedPreferenceManager.getInstance(mContext)\n        setUpViewsDeclaration()\n\n\n        getUserData()\n        initRecyclerView()\n        getAttendedEvents()\n\n        return fragmentView\n    }\n\n\n\n    private fun setUpViewsDeclaration() {\n\n        nestedScrollView = fragmentView.findViewById(R.id.nestedScrollView_user_control)\n        progressBar = fragmentView.findViewById(R.id.progressBar_user_control)\n        recyclerView = fragmentView.findViewById(R.id.recyclerView_attended_event_user_control)\n\n\n\n    }\n\n\n    private fun getUserData() {\n        userData = sharedPrefManager.loadUserData()\n\n    }\n\n\n\n\n    private fun initRecyclerView() {\n\n        userControlAdapter = GeneralEventRecyclerViewAdapter(mContext)\n        val layoutManager = LinearLayoutManager(mContext, RecyclerView.VERTICAL,false)\n        recyclerView.adapter = userControlAdapter\n        recyclerView.layoutManager = layoutManager\n        nestedScrollView.isNestedScrollingEnabled = false\n\n        userControlAdapter.setOnItemClickListener(object: OnEventKMListener {\n\n            override fun eventKMClicked(position: Int) {\n                val selectedEvent = attendedEvents[position]\n                val eventDetailDestination = UserControlFragmentDirections.actionGlobalDestinationEventDetail(selectedEvent)\n                Navigation.findNavController(fragmentView).navigate(eventDetailDestination)\n            }\n\n        })\n\n\n\n    }\n\n\n    private fun getAttendedEvents() {\n\n        val user = userData ?: return\n\n\n        progressBar.visibility = View.VISIBLE\n\n\n        FirestoreKMClient.getRecommendedEvents(user.domicile) { errorMessage, events -&gt;\n\n            progressBar.visibility = View.GONE\n\n            errorMessage?.let {\n                mActivity.toast(it)\n            } ?: run {\n\n                val eventList = events ?: ArrayList()\n                attendedEvents = eventList\n                userControlAdapter.submitList(eventList)\n\n            }\n\n        }\n\n\n    }\n\n\n }\n</code></pre>\n\n<p>and here is the code I use for the adapter:</p>\n\n<pre><code>class GeneralEventRecyclerViewAdapter(val mContext: Context): ListAdapter&lt;Event, RecyclerView.ViewHolder&gt;(DIFF_CALLBACK) {\n\n    lateinit var mOnEventKMListener : OnEventKMListener\n\n    fun setOnItemClickListener(listener: OnEventKMListener) {\n        mOnEventKMListener = listener\n    }\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val itemView = LayoutInflater.from(parent.context).inflate(R.layout.item_general_event, parent, false)\n        return GeneralEventViewHolder(itemView, mOnEventKMListener)\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n\n        val currentEvent = getItem(position)\n        val generalEventViewHolder = holder as GeneralEventViewHolder\n\n        Glide.with(mContext).load(currentEvent.thumbnailDownloadPath)\n            .apply(RequestOptions.bitmapTransform(BlurTransformation(25, 3)))\n            .into(generalEventViewHolder.blurThumbnailImageView)\n\n        Glide.with(mContext).load(currentEvent.thumbnailDownloadPath).into(generalEventViewHolder.thumbnailImageView)\n\n\n        generalEventViewHolder.eventNameTextView.text = currentEvent.title\n        generalEventViewHolder.eventVenueTextView.text = currentEvent.venue\n        generalEventViewHolder.eventDateTimeTextView.text = DateTimeService.changeDateToString(\"EEEE, d MMMM. HH:mm zzz\",currentEvent.dateTimeStart)\n\n    }\n\n\n    companion object {\n\n        private val DIFF_CALLBACK = object : DiffUtil.ItemCallback&lt;Event&gt;() {\n            override fun areItemsTheSame(oldItem: Event, newItem: Event): Boolean {\n                return oldItem.eventID == newItem.eventID\n            }\n\n            override fun areContentsTheSame(oldItem: Event, newItem: Event): Boolean {\n                return oldItem == newItem\n            }\n\n\n        }\n    }\n\n\n}\n</code></pre>\n\n<p><code>Java</code> code is fine</p>\n"}, {"tags": ["generics", "kotlin", "constructor", "jvm", "bytecode"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 1, "creation_date": 1560854738, "post_id": 56646982, "comment_id": 99864364, "body": "Have a look at Type Erasure. That&#39;s how generics work in Java. <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/erasure.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1560853950, "creation_date": 1560853950, "answer_id": 56647142, "question_id": 56646982, "link": "https://stackoverflow.com/questions/56646982/kotlin-declaration-signature-clash/56647142#56647142", "title": "Kotlin declaration signature clash?", "body": "<p>You could create a companion object's methods, e.g.</p>\n\n<pre><code>companion object {\n\nfun fromBools(bits:List&lt;Boolean&gt;) = BitString(bits.map(::Bit))\n\n}\n</code></pre>\n\n<p>then call it like this:</p>\n\n<pre><code>BitString.fromBools(bits)\n</code></pre>\n\n<p>That's probably one way around this issue.</p>\n"}, {"comments": [{"owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1560855450, "post_id": 56647279, "comment_id": 99864750, "body": "This is amazing! I knew about <code>JvmName</code> but would never have thought to use it like this!"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 1, "last_activity_date": 1560854801, "last_edit_date": 1560854801, "creation_date": 1560854409, "answer_id": 56647279, "question_id": 56646982, "link": "https://stackoverflow.com/questions/56646982/kotlin-declaration-signature-clash/56647279#56647279", "title": "Kotlin declaration signature clash?", "body": "<p>If you want to keep the look and feel of the constructor you can combine the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\"><code>companion object</code></a> with the <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#invoke\" rel=\"nofollow noreferrer\"><code>invoke</code>-operator</a>:</p>\n\n<pre><code>class BitString(val bits: List&lt;Bit&gt;) {\n  companion object {\n    @JvmName(\"fromNumbers\")\n    operator fun invoke(bits : List&lt;Number&gt;) = BitString(bits.map(::Bit))\n    @JvmName(\"fromBooleans\")\n    operator fun invoke(bits : List&lt;Boolean&gt;) = BitString(bits.map(::Bit))\n  }\n}\n</code></pre>\n\n<p>Constructing the <code>BitString</code> will then look as familiar as calling a constructor:</p>\n\n<pre><code>BitString(yourNumberList) // calls fromNumbers\nBitString(listOf(true, false)) // calls fromBooleans\nBitString(listOf(Bit(...))) // the actual constructor\n</code></pre>\n"}], "owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 56647279, "answer_count": 2, "score": 1, "last_activity_date": 1560854801, "creation_date": 1560853435, "last_edit_date": 1560853842, "question_id": 56646982, "link": "https://stackoverflow.com/questions/56646982/kotlin-declaration-signature-clash", "title": "Kotlin declaration signature clash?", "body": "<p>I know this has been asked before but the solutions given do not apply here.</p>\n\n<p>The code in question is a simple class:</p>\n\n<pre><code>class BitString(bits: List&lt;Bit&gt;) {\n    constructor(bits: List&lt;Number&gt;): this(bits.map(::Bit))\n    constructor(bits: List&lt;Boolean&gt;): this(bits.map(::Bit))\n\n    var bits = bits\n\n}\n</code></pre>\n\n<p><code>Bit</code> is a class implemented by me.</p>\n\n<p>However I get the familiar:</p>\n\n<pre><code>Platform declaration clash: The following declarations have the same JVM signature (&lt;init&gt;(Ljava/util/List;)V):\n    constructor BitString(bits: List&lt;Bit&gt;) defined in BitString\n    constructor BitString(bits: List&lt;Boolean&gt;) defined in BitString\n    constructor BitString(bits: List&lt;Number&gt;) defined in BitString\n</code></pre>\n\n<p>My guess is that the generated bytecode does not differentiate between the different specialized lists, which seems like something that should be a priority to fix but... apparently it's not.</p>\n\n<p>My question is how should I get this code to work and preferably look nice? The point is that it should take a <code>List</code> of either <code>Bit</code>, <code>Number</code> or <code>Boolean</code> so the class can be constructed from a wide range of collections.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "geofirestore"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560852382, "post_id": 56646588, "comment_id": 99863063, "body": "Check <a href=\"https://github.com/imperiumlabs/GeoFirestore-Android\" rel=\"nofollow noreferrer\">GeoFirestore library for Android</a>."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1560869364, "post_id": 56646588, "comment_id": 99873475, "body": "There is no way to get GeoFirestore results by distance without reading all the documents in the queried range first. See my answers: <a href=\"https://stackoverflow.com/questions/55329334/how-can-i-use-a-geoquery-to-sort-by-both-location-and-certain-value-android/55329416#55329416\" title=\"how can i use a geoquery to sort by both location and certain value android\">stackoverflow.com/questions/55329334/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/54600722/in-order-to-sort-geoquery-results-by-distance-must-i-read-the-entire-dataset/54603092#54603092\" title=\"in order to sort geoquery results by distance must i read the entire dataset\">stackoverflow.com/questions/54600722/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/56572432/is-there-a-way-i-can-combine-a-geofirestore-query-with-a-normal-firestore-query/56572832#56572832\" title=\"is there a way i can combine a geofirestore query with a normal firestore query\">stackoverflow.com/questions/56572432/&hellip;</a> and <a href=\"https://stackoverflow.com/a/56214037\">stackoverflow.com/a/56214037</a>"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1560869372, "answer_count": 0, "score": 0, "last_activity_date": 1560852182, "creation_date": 1560852182, "question_id": 56646588, "link": "https://stackoverflow.com/questions/56646588/cloud-firestore-get-results-with-the-shortest-distance-from-current-location", "closed_reason": "Duplicate", "title": "Cloud Firestore: get results with the shortest distance from current location", "body": "<p>I'm working with Cloud Firestore and my app is location based. I want to present the user results according to their current location, start with the closest and continue as it gets further. \nI also of course want to paginate as there are many items in my database and I don't want to pull them all.</p>\n\n<p>How can I order results by distance without reading all the documents, so I could limit the documents I get?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 1399, "user_id": 3559908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d9d858e2647cbf007d4bcb9b151eec?s=128&d=identicon&r=PG&f=1", "display_name": "Vall0n", "link": "https://stackoverflow.com/users/3559908/vall0n"}, "edited": false, "score": 0, "creation_date": 1560850503, "post_id": 56645967, "comment_id": 99861990, "body": "Please post also the stack trace from the logical output"}, {"owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 0, "creation_date": 1560851002, "post_id": 56645967, "comment_id": 99862294, "body": "<code>Class com.example.mapa.City does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped</code>"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560851129, "post_id": 56645967, "comment_id": 99862360, "body": "Pelase add the content of  your <code>City</code> class and please also responde with @AlexMamo"}, {"owner": {"reputation": 23, "user_id": 10947702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a274b276ae8af9d9a2400ddb5f13638b?s=128&d=identicon&r=PG&f=1", "display_name": "s7e0n5g1a", "link": "https://stackoverflow.com/users/10947702/s7e0n5g1a"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560852912, "post_id": 56645967, "comment_id": 99863354, "body": "I&#39;ve added @AlexMamo"}], "answers": [{"comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 23, "user_id": 10947702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a274b276ae8af9d9a2400ddb5f13638b?s=128&d=identicon&r=PG&f=1", "display_name": "s7e0n5g1a", "link": "https://stackoverflow.com/users/10947702/s7e0n5g1a"}, "edited": false, "score": 0, "creation_date": 1560854572, "post_id": 56646961, "comment_id": 99864258, "body": "Good to hear that it worked :) and you&#39;re very welcome."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 0, "last_activity_date": 1560853348, "creation_date": 1560853348, "answer_id": 56646961, "question_id": 56645967, "link": "https://stackoverflow.com/questions/56645967/why-does-the-application-turn-off-when-i-want-to-get-data-from-firebase/56646961#56646961", "title": "Why does the application turn off when I want to get data from Firebase?", "body": "<p>To solve this, please change your <code>City</code> class from:</p>\n\n<pre><code>class City ( val name: String, val latitude: Double, val longitude: Double)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>class City (val name: String = \"\", val latitude: Double = 0.0, val longitude: Double = 0.0)\n</code></pre>\n\n<p>Otherwise you'll get the following error:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Could not deserialize object. Class City does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped.</p>\n</blockquote>\n\n<p>So remember that every field within your <code>City</code> class must be initialized in the constructor.</p>\n"}], "owner": {"reputation": 23, "user_id": 10947702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a274b276ae8af9d9a2400ddb5f13638b?s=128&d=identicon&r=PG&f=1", "display_name": "s7e0n5g1a", "link": "https://stackoverflow.com/users/10947702/s7e0n5g1a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56646961, "answer_count": 1, "score": -1, "last_activity_date": 1560863254, "creation_date": 1560850275, "last_edit_date": 1560863254, "question_id": 56645967, "link": "https://stackoverflow.com/questions/56645967/why-does-the-application-turn-off-when-i-want-to-get-data-from-firebase", "title": "Why does the application turn off when I want to get data from Firebase?", "body": "<p>I'm creating a Google Maps App for Android in Kotlin and there is a connection with Firebase used. It crashes during connection with Firebase</p>\n\n<p>I can add data to database, but when I'm trying to download data, app crashes. In database I've got table 'cities', where I keep objects of 'City\" type.</p>\n\n<pre><code>\n private lateinit var citiesList: MutableList&lt;City&gt;\n...\n\n citiesList = mutableListOf()\n        var ref = FirebaseDatabase.getInstance().getReference(\"cities\")\n\n        ref.addValueEventListener(object: ValueEventListener {\n            override fun onDataChange(p0: DataSnapshot) {\n                for ( c in p0.children) {\n                    val city  = c.getValue(City::class.java)\n                    citiesList.add(city)\n                }\n            }\n</code></pre>\n\n<p>And City class:</p>\n\n<pre><code>class City ( val name: String, val latitude: Double, val longitude: Double)\n</code></pre>\n\n<p>App crashes at this line:</p>\n\n<blockquote>\n  <p>val city  = c.getValue(City::class.java).</p>\n</blockquote>\n\n<p>Also, I don't know why type of city value is 'City?', not 'City'. Maybe it's the source of problem. I can't add city to citiesList: <code>Type mismatch. Required: City, Found: City?</code></p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11116891, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y9jmYYjX49s/AAAAAAAAAAI/AAAAAAAAACs/u5iPAb24pQ8/photo.jpg?sz=128", "display_name": "Hyper Space", "link": "https://stackoverflow.com/users/11116891/hyper-space"}, "edited": false, "score": 0, "creation_date": 1560849388, "post_id": 56645516, "comment_id": 99861283, "body": "Thanks for answering my question, can you show me example in code?"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 1, "last_activity_date": 1560848835, "creation_date": 1560848835, "answer_id": 56645516, "question_id": 56645381, "link": "https://stackoverflow.com/questions/56645381/how-i-do-cancel-inside-coroutinescope-and-detect-the-cancellation/56645516#56645516", "title": "How I do cancel inside CoroutineScope, and detect the cancellation", "body": "<p><code>launch</code> does start an asynchronous coroutine. Therefore the <code>login</code>-body will run later and you can't access the result directly after the invocation. \nIn your example a simple <code>suspend</code> function may be better. </p>\n"}, {"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1560849100, "creation_date": 1560849100, "answer_id": 56645600, "question_id": 56645381, "link": "https://stackoverflow.com/questions/56645381/how-i-do-cancel-inside-coroutinescope-and-detect-the-cancellation/56645600#56645600", "title": "How I do cancel inside CoroutineScope, and detect the cancellation", "body": "<p>You are canceling it on the <code>catch</code> block. Which means that \n <code>repository.login(emailLogin.get()!!, passwordLogin.get()!!)</code> does not throw any exception. Or if it does, perhaps it is not the <code>AuthenticationHttpErrorException</code> that is being thrown. Just to check the error that is happening, try catching a general <code>Exception</code> and than handle the coroutine the same.So: </p>\n\n<p><code>catch (e: Exception)</code></p>\n"}], "owner": {"reputation": 11, "user_id": 11116891, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y9jmYYjX49s/AAAAAAAAAAI/AAAAAAAAACs/u5iPAb24pQ8/photo.jpg?sz=128", "display_name": "Hyper Space", "link": "https://stackoverflow.com/users/11116891/hyper-space"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2712, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560849100, "creation_date": 1560848411, "question_id": 56645381, "link": "https://stackoverflow.com/questions/56645381/how-i-do-cancel-inside-coroutinescope-and-detect-the-cancellation", "title": "How I do cancel inside CoroutineScope, and detect the cancellation", "body": "<p>Detect cancellation from CoroutineScope</p>\n\n<p>I am trying to detect cancellation from CoroutineScope, but isCancelled property doesn't change when I trying to call cancel method inside CoroutineScope </p>\n\n<p>Method I expected to cancel the Coroutine from ViewModel</p>\n\n<pre><code>fun login() = viewModelScope.launch{\n        try{\n            repository.login(emailLogin.get()!!, passwordLogin.get()!!)\n        }catch (e: AuthenticationHttpErrorException){\n            cancel(CancellationException(e.message))\n            Toast.makeText(getApplication(),e.message, Toast.LENGTH_SHORT).show()\n            Log.e(\"ERROR LOGIN\", e.message)\n        }\n    }\n</code></pre>\n\n<p>How I called the login method from Activity</p>\n\n<pre><code>fun submitLogin(view: View){\n        val loginResult = authenticationViewModel.login()\n        if(loginResult.isCancelled){\n            Log.e(\"LOGIN FAILED\", \"Login cancelled\")\n        }else{\n            Log.v(\"LOGIN SUCCESS\", \"Login success\")\n        }\n    }\n</code></pre>\n\n<p>I am expecting <strong>isCancelled</strong> property change to true, when I called cancel method from CoroutineScope and Trigger some code inside if statement</p>\n"}, {"tags": ["spring", "spring-boot", "jpa", "kotlin"], "comments": [{"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560848586, "post_id": 56645332, "comment_id": 99860798, "body": "Can you set logging.level.org.hibernate.SQL=debug and post the generated SQL statements?"}, {"owner": {"reputation": 5716, "user_id": 519497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vql9T.jpg?s=128&g=1", "display_name": "GluePear", "link": "https://stackoverflow.com/users/519497/gluepear"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560848902, "post_id": 56645332, "comment_id": 99861004, "body": "@SimonMartinelli Yes. It logs the exact query I have in the annotation."}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560848990, "post_id": 56645332, "comment_id": 99861051, "body": "It&#39;s just a guess but can you name your method findAllColors()"}, {"owner": {"reputation": 5716, "user_id": 519497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vql9T.jpg?s=128&g=1", "display_name": "GluePear", "link": "https://stackoverflow.com/users/519497/gluepear"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560849132, "post_id": 56645332, "comment_id": 99861115, "body": "A very good guess! If you write an answer I&#39;ll mark it right (extra points for saying why...)"}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560849657, "post_id": 56645332, "comment_id": 99861445, "body": "Done. Thanks for accepting my answer. I&#39;m happy to help"}], "answers": [{"tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 1, "last_activity_date": 1560849639, "creation_date": 1560849639, "answer_id": 56645770, "question_id": 56645332, "link": "https://stackoverflow.com/questions/56645332/nonuniqueresultexception-in-spring-boot-application/56645770#56645770", "title": "NonUniqueResultException in Spring Boot application", "body": "<p>Name your method</p>\n\n<pre><code>findAllColors() \n</code></pre>\n\n<p>to tell Spring Data that the return type is collection.</p>\n\n<p>I cannot find any documentation but there is a blog post about this topic that says:</p>\n\n<blockquote>\n  <ol>\n  <li>Be able to find methods by name and (raw) parameter types.</li>\n  <li>Methods named \u2026All(\u2026) affect a collection of items and/or return a collection.</li>\n  <li>Methods taking an identifier are named \u2026ById(\u2026). 4 Let\u2019s drop the ID extends Serializable requirement.</li>\n  </ol>\n</blockquote>\n\n<p>Source: <a href=\"https://spring.io/blog/2017/06/20/a-preview-on-spring-data-kay#improved-naming-for-crud-repository-methods\" rel=\"nofollow noreferrer\">https://spring.io/blog/2017/06/20/a-preview-on-spring-data-kay#improved-naming-for-crud-repository-methods</a></p>\n"}], "owner": {"reputation": 5716, "user_id": 519497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vql9T.jpg?s=128&g=1", "display_name": "GluePear", "link": "https://stackoverflow.com/users/519497/gluepear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 56645770, "answer_count": 1, "score": 0, "last_activity_date": 1560849639, "creation_date": 1560848277, "question_id": 56645332, "link": "https://stackoverflow.com/questions/56645332/nonuniqueresultexception-in-spring-boot-application", "title": "NonUniqueResultException in Spring Boot application", "body": "<p>In a Spring Boot / Kotlin application I have this repository:</p>\n\n<pre><code>interface CatRepository : CrudRepository&lt;Cat, Long&gt; {\n\n    @Query(value = \"SELECT DISTINCT c.color FROM cat c\", nativeQuery = true)\n    fun findColors(): List&lt;String&gt;\n}\n</code></pre>\n\n<p>Then in my controller I have this:</p>\n\n<pre><code>@Controller\nclass HtmlController(private val repository: CatRepository) {\n\n    @GetMapping(\"/\")\n    fun index(model: Model): String {\n        model[\"colors\"] = repository.findColors()\n        return \"index\"\n    }\n\n}\n</code></pre>\n\n<p>Then in my template I have this:</p>\n\n<pre><code>&lt;select name=\"color\"&gt;\n    {{#colors}}\n        &lt;option value=\"\"&gt;{{.}}&lt;/option&gt;\n    {{/colors}}\n&lt;/select&gt;\n</code></pre>\n\n<p>When there is only one <code>cat</code> in the database's <code>cat</code> table, this works. When I add another, I get this error:</p>\n\n<blockquote>\n  <p>NonUniqueResultException: query did not return a unique result: 2</p>\n</blockquote>\n\n<p>Where am I going wrong?</p>\n"}, {"tags": ["kotlin", "reactive-programming", "actor"], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 3178456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05184fa5bd660fc659c8d2e2e13fb3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/3178456/andrey"}, "is_accepted": false, "score": 3, "last_activity_date": 1571239097, "creation_date": 1571239097, "answer_id": 58416684, "question_id": 56644916, "link": "https://stackoverflow.com/questions/56644916/how-to-define-actor-as-a-class-in-kotlin/58416684#58416684", "title": "How to define actor as a class in Kotlin", "body": "<pre><code>class MyActor {\n    // your private state here\n    suspend fun onReceive(msg: MyMsg) {\n        // ... your code here ...\n    }\n}\n\nfun myActorJob(): ActorJob&lt;MyMsg&gt; = actor(CommonPool) {\n    with(MyActor()) {\n        for (msg in channel) onReceive(msg)\n    }\n}\n</code></pre>\n\n<p>The example is taken from <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/87#issuecomment-317207589\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 2568, "user_id": 862894, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2725329e235f3dc424706911527f33c4?s=128&d=identicon&r=PG", "display_name": "roman-roman", "link": "https://stackoverflow.com/users/862894/roman-roman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1571239097, "creation_date": 1560846844, "question_id": 56644916, "link": "https://stackoverflow.com/questions/56644916/how-to-define-actor-as-a-class-in-kotlin", "title": "How to define actor as a class in Kotlin", "body": "<p>There is a concept of <code>actor</code> in Kotlin coroutines library:</p>\n\n<pre><code>fun CoroutineScope.counterActor() = actor&lt;CounterMsg&gt; {\n    var counter = 0 // actor state\n    for (msg in channel) { // iterate over incoming messages\n        when (msg) {\n            is IncCounter -&gt; counter++\n            is GetCounter -&gt; msg.response.complete(counter)\n        }\n    }\n}\n</code></pre>\n\n<p>The documentation says that </p>\n\n<blockquote>\n  <p>A simple actor can be written as a function, but an actor with a complex state is better suited for a class.</p>\n</blockquote>\n\n<p>What would be a good example of an actor defined as a class in Kotlin?</p>\n"}, {"tags": ["json", "kotlin", "mapping", "parcelable"], "answers": [{"tags": [], "owner": {"reputation": 620, "user_id": 3906919, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/611290901/picture?type=large", "display_name": "Mikkel Larsen", "link": "https://stackoverflow.com/users/3906919/mikkel-larsen"}, "is_accepted": true, "score": 0, "last_activity_date": 1565179874, "creation_date": 1565179874, "answer_id": 57394217, "question_id": 56644098, "link": "https://stackoverflow.com/questions/56644098/how-do-i-map-a-json-object-with-generic-names-in-a-list/57394217#57394217", "title": "How do I map a JSON object with generic names in a list?", "body": "<p>Simply solves it by saying </p>\n\n<pre><code>val values : Map&lt;String, List&lt;List&lt;Float&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 620, "user_id": 3906919, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/611290901/picture?type=large", "display_name": "Mikkel Larsen", "link": "https://stackoverflow.com/users/3906919/mikkel-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 57394217, "answer_count": 1, "score": 0, "last_activity_date": 1565179874, "creation_date": 1560843880, "question_id": 56644098, "link": "https://stackoverflow.com/questions/56644098/how-do-i-map-a-json-object-with-generic-names-in-a-list", "title": "How do I map a JSON object with generic names in a list?", "body": "<p>So I've got this JSON format coming my server(names and values have been changed)</p>\n\n<pre><code>{\n\"Test.Tester\": {\n    \"test1\": \"value\",\n    \"test2\": \"value\",\n    \"test3\": 1,\n    \"test4\": 1000,\n    \"test5\": true,\n    \"test6\": [],\n    \"test7\": {\n        \"RAW,1\": [\n            [\n                \"287220\",\n                \"287220\",\n                \"287220\",\n                \"287220\",\n                \"287220\",\n                \"287220\",\n                \"287220\"\n            ],\n            [\n                \"180\",\n                \"180\",\n                \"180\",\n                \"180\",\n                \"180\",\n                \"180\",\n                \"180\"\n            ],\n            [\n                \"105\",\n                \"105\",\n                \"105\",\n                \"105\",\n                \"105\",\n                \"105\",\n                \"105\"\n            ],\n            [\n                \"290220\",\n                \"290220\",\n                \"290220\",\n                \"290220\",\n                \"290220\",\n                \"290220\",\n                \"290220\"\n            ],\n            [\n                \"190\",\n                \"190\",\n                \"190\",\n                \"190\",\n                \"190\",\n                \"190\",\n                \"190\"\n            ]\n        ],\n        \"RAW,2\": [\n            [\n                \"473460\",\n                \"473460\",\n                \"473460\",\n                \"473460\",\n                \"473460\",\n                \"473460\",\n                \"473460\"\n            ],\n            [\n                \"474460\",\n                \"474460\",\n                \"474460\",\n                \"474460\",\n                \"474460\",\n                \"474460\",\n                \"474460\"\n            ],\n            [\n                \"475460\",\n                \"475460\",\n                \"475460\",\n                \"475460\",\n                \"475460\",\n                \"475460\",\n                \"475460\"\n            ],\n            [\n                \"476460\",\n                \"476460\",\n                \"476460\",\n                \"476460\",\n                \"476460\",\n                \"476460\",\n                \"476460\"\n            ],\n            [\n                \"477460\",\n                \"477460\",\n                \"477460\",\n                \"477460\",\n                \"477460\",\n                \"477460\",\n                \"477460\"\n            ]\n        ]\n    },\n    \"httpStatusCode\": 200,\n    \"httpStatusReason\": \"OK\"\n}\n</code></pre>\n\n<p>First off, I really don't like this format they send it in, but they can't change it. So I have to wrap stuff in the first \"Test.Tester\" object. And I use data classes and Parcelable/Parcelize.</p>\n\n<p>An example of my object could be this:</p>\n\n<pre><code>@Parcelize\ndata class TestRequestDTO(@SerializedName(\"Test.Tester\") val \ntest: TestDTO) : Parcelable\n\n@Parcelize\ndata class TestDTO(\n    val test1: String,\n    val test2: String,\n    val test3: Int\n) : Parcelable\n</code></pre>\n\n<p>I'm having a hard time figuring out how I can map this test7. It's an object, with a list of String arrays, called RAW,X. The X can be any amount as far as I'm told. Can anyone think of a clever way to do this?</p>\n"}, {"tags": ["android", "sqlite", "android-fragments", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1560843898, "post_id": 56643976, "comment_id": 99858426, "body": "Are you able to get updated data from db ?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1560844036, "post_id": 56643976, "comment_id": 99858496, "body": "How do you set <code>allCallList</code> to <code>allCallAdapter</code>? Do you use a copy within the adapter?"}, {"owner": {"reputation": 21, "user_id": 9126640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c6e9120345f14423ce547e24174845?s=128&d=identicon&r=PG&f=1", "display_name": "Sujata Agarwal", "link": "https://stackoverflow.com/users/9126640/sujata-agarwal"}, "edited": false, "score": 0, "creation_date": 1560845486, "post_id": 56643976, "comment_id": 99859278, "body": "allCallAdapter = AllCallAdapter(displayList , myActivity as Context)"}, {"owner": {"reputation": 21, "user_id": 9126640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c6e9120345f14423ce547e24174845?s=128&d=identicon&r=PG&f=1", "display_name": "Sujata Agarwal", "link": "https://stackoverflow.com/users/9126640/sujata-agarwal"}, "edited": false, "score": 0, "creation_date": 1560845534, "post_id": 56643976, "comment_id": 99859298, "body": "My adapter Class is defined : class AllCallAdapter(_allCallList: ArrayList&lt;CallDetails&gt;?, _context: Context) : RecyclerView.Adapter&lt;AllCallAdapter.MyViewHolder&gt;()"}, {"owner": {"reputation": 21, "user_id": 9126640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c6e9120345f14423ce547e24174845?s=128&d=identicon&r=PG&f=1", "display_name": "Sujata Agarwal", "link": "https://stackoverflow.com/users/9126640/sujata-agarwal"}, "edited": false, "score": 0, "creation_date": 1560845587, "post_id": 56643976, "comment_id": 99859325, "body": "and  init {         this.mContext = _context         this.allCallList = _allCallList     }"}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560846398, "post_id": 56643976, "comment_id": 99859678, "body": "isn&#39;t querydatabase an async operation?"}, {"owner": {"reputation": 21, "user_id": 9126640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c6e9120345f14423ce547e24174845?s=128&d=identicon&r=PG&f=1", "display_name": "Sujata Agarwal", "link": "https://stackoverflow.com/users/9126640/sujata-agarwal"}, "edited": false, "score": 0, "creation_date": 1560848782, "post_id": 56643976, "comment_id": 99860935, "body": "querydatabase is not async...but when i add to the DB ie save DB is async"}, {"owner": {"reputation": 21, "user_id": 9126640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c6e9120345f14423ce547e24174845?s=128&d=identicon&r=PG&f=1", "display_name": "Sujata Agarwal", "link": "https://stackoverflow.com/users/9126640/sujata-agarwal"}, "edited": false, "score": 0, "creation_date": 1560849160, "post_id": 56643976, "comment_id": 99861132, "body": "i removed asynctask all togetther. it is adding to the db but not retrieving"}, {"owner": {"reputation": 21, "user_id": 9126640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c6e9120345f14423ce547e24174845?s=128&d=identicon&r=PG&f=1", "display_name": "Sujata Agarwal", "link": "https://stackoverflow.com/users/9126640/sujata-agarwal"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1560852563, "post_id": 56643976, "comment_id": 99863156, "body": "@Piyush : it updates the DB but does not fetch on queryDatabase"}], "owner": {"reputation": 21, "user_id": 9126640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c6e9120345f14423ce547e24174845?s=128&d=identicon&r=PG&f=1", "display_name": "Sujata Agarwal", "link": "https://stackoverflow.com/users/9126640/sujata-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560849286, "creation_date": 1560843464, "last_edit_date": 1560849286, "question_id": 56643976, "link": "https://stackoverflow.com/questions/56643976/recyclerview-notifydatachange-does-not-work", "title": "Recyclerview - Notifydatachange() does not work", "body": "<p>I have a tabbed activty with 4 tabs. Each tab has fragment and fragmentlayout has Recycler View with RelativeLayout. The first time data is read from DB , recycler view displays the data. When the SqlLite Db is updated(in BroadcastReeiver) , i want to get RecyclerView with updated Data. Notifydata change does not work</p>\n\n<pre><code>//BroadcastReceiver : onReceive\n        var allFragment = AllCallsFragment()\n\n        var allFragmentActivity = allFragment.instance()\n        if (allFragmentActivity != null) {\n            allFragmentActivity.getCallDetails()\n\n        }\n\n//AllCallFragment -\n  public fun getCallDetails(){\n        var db = CallLogDatabase(myActivity)\n        displayList = db.queryDatabase(\"All\")\n\n        allCallList.addAll(displayList)\n        allCallAdapter?.notifyDataSetChanged()\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "price"], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 9674343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gal", "link": "https://stackoverflow.com/users/9674343/gal"}, "is_accepted": false, "score": 0, "last_activity_date": 1560844344, "creation_date": 1560844344, "answer_id": 56644238, "question_id": 56643874, "link": "https://stackoverflow.com/questions/56643874/the-correct-way-to-parse-localise-the-price-with-currency-code/56644238#56644238", "title": "The correct way to parse (localise) the price with currency code?", "body": "<pre><code>object Currency {\n    fun format(num: Double, currency: String, maxFractionDigits: Int?): String {\n        val format = NumberFormat.getCurrencyInstance(Locale.getDefault())\n        format.maximumFractionDigits = maxFractionDigits ?: 0\n        val cFormat = Currency.getInstance(currency)\n        format.currency = cFormat\n        return format.format(num)\n    }\n}\n\n\n\n\n    val amountStr = Currency.format(\n        budgetAllocationModel.used ?: 0.0,\n        budgetAllocationModel.currency ?: \"USD\", 0\n    )\n</code></pre>\n\n<p>Currency is an object that I use to covert the currency using Local.getDefault() to get the local string of the currency.</p>\n\n<p>amountStr is an example using that object</p>\n"}], "owner": {"reputation": 1971, "user_id": 5779142, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/de564acdbdd073a0e9e920f185286b59?s=128&d=identicon&r=PG&f=1", "display_name": "VLeonovs", "link": "https://stackoverflow.com/users/5779142/vleonovs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560847582, "creation_date": 1560843005, "last_edit_date": 1560847582, "question_id": 56643874, "link": "https://stackoverflow.com/questions/56643874/the-correct-way-to-parse-localise-the-price-with-currency-code", "title": "The correct way to parse (localise) the price with currency code?", "body": "<p>I'm trying to find out one the correct way to localise the price with correct commas, whitespaces, points other separators positions and set right the currency code in correct place as postfix or prefix. Also I would like to work with negative numbers.</p>\n\n<p>What I found? </p>\n\n<p>I'm trying to google and try each solution, and the easiest way is:</p>\n\n<pre><code>private val format: DecimalFormat = NumberFormat.getCurrencyInstance(globalLocale) as DecimalFormat\n\nfun format(amount: Double, currencyCode: String): String {\n    format.currency = Currency.getInstance(currencyCode)\n    return format.format(amount)\n}\n</code></pre>\n\n<p>where <code>globalLocale</code> is <code>Locale.getDefault()</code> -> phone's locale.</p>\n\n<p>The problem is with negative numbers, for some reasons it takes with brackets and calling <code>format(-10.00, \"EUR\")</code> returns <code>(EUR10.00)</code></p>\n\n<p>I found out one solution, to apply pattern:</p>\n\n<p><code>format.applyPattern(\"$#,##0.00;-$#,##0.00\")</code> but this hardcoding brakes currency sign position and whitespaces/commas/points localisation.</p>\n\n<p>How to achieve this result ?</p>\n\n<ol>\n<li>Pass <code>amount</code> and <code>currencyCode</code> and get correct <code>localised</code> price without any brackets in negative numbers?</li>\n</ol>\n\n<p><strong>EDIT</strong>\nSeems this problem is only with Locale.US, so the question is how to avoid this parentheses in US locale?</p>\n"}, {"tags": ["kotlin", "vaadin", "vaadin-flow", "vaadin10"], "answers": [{"tags": [], "owner": {"reputation": 1714, "user_id": 9438396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b65a6d275a3b469ca9b97e5b13bb13a?s=128&d=identicon&r=PG", "display_name": "codinghaus", "link": "https://stackoverflow.com/users/9438396/codinghaus"}, "is_accepted": true, "score": 3, "last_activity_date": 1560854390, "creation_date": 1560854390, "answer_id": 56647269, "question_id": 56643753, "link": "https://stackoverflow.com/questions/56643753/vaadin-10-how-to-trigger-ui-getcurrent-access-in-kaributesting/56647269#56647269", "title": "Vaadin 10+, How to trigger UI.getCurrent().access in kaributesting", "body": "<p>I hope I didn't misunderstand your question. I tried to create a minimal example with a component that is using <code>UI.getCurrent().access {}</code> to change something in the UI.</p>\n\n<p>Here I have a component with a single TextField in it with a value \"hallo\". There is a method inside that component which changes the TextField's value to \"hey\".</p>\n\n<p>The component looks like </p>\n\n<pre><code>package com.example.test;\n\nimport com.vaadin.flow.component.Component;\nimport com.vaadin.flow.component.Tag;\nimport com.vaadin.flow.component.UI;\nimport com.vaadin.flow.component.textfield.TextField;\nimport com.vaadin.flow.server.Command;\n\n@Tag(value = \"myComponent\")\npublic class MyComponent extends Component {\n    private TextField textField = new TextField();\n\n    public MyComponent() {\n        textField.setValue(\"hallo\");\n    }\n\n    public void changeValueToHey() {\n        UI.getCurrent().access((Command) () -&gt; {\n            textField.setValue(\"hey\");\n        });\n    }\n\n    public String getTextFieldValue() {\n        return textField.getValue();\n    }\n}\n</code></pre>\n\n<p>And then I created a karibu test (v. 1.1.6) like:</p>\n\n<pre><code>@Test\npublic void test() {\n    MyComponent myComponent = new MyComponent();\n    UI.getCurrent().add(myComponent);\n    assertEquals(\"hallo\", myComponent.getTextFieldValue());\n    MockVaadin.INSTANCE.runUIQueue(true);\n    myComponent.changeValueToHey();\n    MockVaadin.INSTANCE.runUIQueue(true);\n    assertEquals(\"hey\", myComponent.getTextFieldValue());\n}\n</code></pre>\n\n<p>I found those <code>runUIQueue</code> in the documentation (<a href=\"https://github.com/mvysny/karibu-testing/tree/master/karibu-testing-v10\" rel=\"nofollow noreferrer\">https://github.com/mvysny/karibu-testing/tree/master/karibu-testing-v10</a>) where it is said: </p>\n\n<blockquote>\n  <p>The thing is that Karibu Testing runs the test with the UI lock held.\n  That simplifies testing very much, but that also prevents async\n  updates by another thread, simply because the test is holding the\n  lock!</p>\n  \n  <p>The solution is to briefly let loose of the UI lock in the testing\n  thread, allowing UI.access() tasks posted from a background thread to\n  be processed. Then the testing thread will re-obtain the lock and\n  continue testing.</p>\n</blockquote>\n"}], "owner": {"reputation": 79, "user_id": 1639348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346d85ad7c743fd24f9b0c7002de9f5?s=128&d=identicon&r=PG", "display_name": "user1639348", "link": "https://stackoverflow.com/users/1639348/user1639348"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 56647269, "answer_count": 1, "score": 2, "last_activity_date": 1560854390, "creation_date": 1560842643, "last_edit_date": 1560847109, "question_id": 56643753, "link": "https://stackoverflow.com/questions/56643753/vaadin-10-how-to-trigger-ui-getcurrent-access-in-kaributesting", "title": "Vaadin 10+, How to trigger UI.getCurrent().access in kaributesting", "body": "<p>I want to test a Vaadin flow Component with karibu-testing. In this component I'm using <code>UI.getCurrent().access {}</code> to update this component but when running the test the code inside <code>access</code> won't be executed. The same result when I try to use <code>UI.getCurrent().access {}</code> in the test itself... Some ideas?</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.github.mvysny.kaributesting&lt;/groupId&gt;\n   &lt;artifactId&gt;karibu-testing-v10&lt;/artifactId&gt;\n   &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>test (Kotlin)</p>\n\n<pre><code>class MyUITest {\n\n    @BeforeAll\n    fun init() {\n        MockVaadin.setup()\n    }\n\n    @BeforeEach\n    fun setup() {\n        UI.getCurrent().removeAll()\n    }\n\n    @Test\n    fun testSometing() {\n        UI.getCurrent().access {\n            print(\"foo\") // this line is not reachable\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "double", "exponential", "scientific-notation"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1560841693, "post_id": 56643337, "comment_id": 99857222, "body": "which type is the variable, and how exactly are you passing it as request body"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1560842131, "post_id": 56643337, "comment_id": 99857440, "body": "Please add the error as well."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1560843538, "post_id": 56643337, "comment_id": 99858226, "body": "in general, <code>E7</code> should be accepted by the server, if it expects double value. It is legit double. But if the server is implemented incorrectly, and you can do nothing about it, you may try to format the number as the string"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1560845104, "post_id": 56643337, "comment_id": 99859072, "body": "What&#39;s the converter you&#39;re using with retrofit and how it is configured?"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1560848146, "post_id": 56643337, "comment_id": 99860540, "body": "<code>addCallAdapterFactory(RxJava2CallAdapterFactory.create())                 .addConverterFactory(ScalarsConverterFactory.create())                 .addConverterFactory(GsonConverterFactory.create())</code> @laalto"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1560848495, "post_id": 56643337, "comment_id": 99860747, "body": "The API is broken if it doesn&#39;t allow scientific notation in JSON numbers but anyway you can configure it: <a href=\"https://stackoverflow.com/questions/11119094/switch-off-scientific-notation-in-gson-double-serialization\" title=\"switch off scientific notation in gson double serialization\">stackoverflow.com/questions/11119094/&hellip;</a>"}], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560842495, "creation_date": 1560840965, "last_edit_date": 1560842495, "question_id": 56643337, "link": "https://stackoverflow.com/questions/56643337/how-to-avoid-exponentional-scientific-notation-in-kotlin", "title": "How to avoid exponentional/scientific notation in Kotlin?", "body": "<p>In one of my projects, when i calculate the grand total</p>\n\n<pre><code>  shippingDetails.grandTotal = 3.448873577E7\n</code></pre>\n\n<p>instead of <code>34488749.7\u202c</code>\nwhere <code>grandTotal</code> is of type <code>Double</code></p>\n\n<p>The above object is in my data class and i need to pass as request body for a request, but it fails since it's having scientific notation.</p>\n\n<pre><code>@POST(AppConstants.Network.CONFIRM_PENDING_SHIPPING)\nfun confirmPendingShipping(\n    @Header(\"Authorization\") token: String,\n    @Body shippingItems: RequestConfirmShipping\n): Single&lt;ResponsePendingShipping&gt;\n</code></pre>\n\n<p>I'm passing it as body of post using <code>Retrofit</code></p>\n"}, {"tags": ["kotlin", "clipboard", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 9874, "user_id": 2577244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/461b49b3ad25d7f49ec7b4b253dce1b4?s=128&d=identicon&r=PG", "display_name": "Alex Baban", "link": "https://stackoverflow.com/users/2577244/alex-baban"}, "edited": false, "score": 0, "creation_date": 1560863817, "post_id": 56643854, "comment_id": 99869796, "body": "Thank you for your suggestion, but I don&#39;t have enough knowledge to even understand it at this point. I was expecting Kotlin to have something similar to <code>println(&quot;string&quot;)</code> like <code>writeClipboard(&quot;string&quot;)</code> or something."}, {"owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "reply_to_user": {"reputation": 9874, "user_id": 2577244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/461b49b3ad25d7f49ec7b4b253dce1b4?s=128&d=identicon&r=PG", "display_name": "Alex Baban", "link": "https://stackoverflow.com/users/2577244/alex-baban"}, "edited": false, "score": 0, "creation_date": 1560866112, "post_id": 56643854, "comment_id": 99871308, "body": "You can try to use something from <a href=\"https://stackoverflow.com/questions/1264137/how-to-copy-string-to-clipboard-in-c\">here</a>, it should be provided by the package I mentioned. Import <code>platform.windows.*</code> and play around a few. I think it can be easier than it looks, so don&#39;t give up so fast."}, {"owner": {"reputation": 9874, "user_id": 2577244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/461b49b3ad25d7f49ec7b4b253dce1b4?s=128&d=identicon&r=PG", "display_name": "Alex Baban", "link": "https://stackoverflow.com/users/2577244/alex-baban"}, "edited": false, "score": 0, "creation_date": 1562200330, "post_id": 56643854, "comment_id": 100307151, "body": "The sample code you added to your answer works, thanks. With all three imports <code>import kotlinx.cinterop.*</code>,  <code>import platform.posix.*</code> and <code>import platform.windows.*</code> I was able to compile."}], "tags": [], "owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "is_accepted": true, "score": 3, "last_activity_date": 1561102296, "last_edit_date": 1561102296, "creation_date": 1560842945, "answer_id": 56643854, "question_id": 56643124, "link": "https://stackoverflow.com/questions/56643124/how-to-write-a-string-to-clipboard-windows-os-with-a-kotlin-native-application/56643854#56643854", "title": "How to write a string to clipboard (Windows OS) with a Kotlin/Native application?", "body": "<p>In Windows, you can work with the Clipboard through WinAPI, as you can see <a href=\"https://docs.microsoft.com/en-gb/windows/desktop/dataxchg/clipboard\" rel=\"nofollow noreferrer\">there</a>. The reference says, that you got to use functions from the <code>winuser.h</code> header. This header is included in <code>windows.h</code>, as far as I know, so it is in your <code>platform.windows.*</code> package. You can approve it by checking Kotlin/Native <a href=\"https://github.com/JetBrains/kotlin-native/blob/master/platformLibs/src/platform/mingw/windows.def\" rel=\"nofollow noreferrer\">repository files</a>.</p>\n\n<hr>\n\n<p>To clarify, what I meant, I wrote this small example of <code>platform.windows.*</code> usage. You can add this function to your code, and call it when you got to copy some string.</p>\n\n<pre><code>import platform.windows.*\n\nfun toClipboard(lastLine:String?){\n    val len = lastLine!!.length + 1\n    val hMem = GlobalAlloc(GMEM_MOVEABLE, len.toULong())\n    memcpy(GlobalLock(hMem), lastLine.cstr, len.toULong())\n    GlobalUnlock(hMem)\n    val hwnd = HWND_TOP\n    OpenClipboard(hwnd)\n    EmptyClipboard()\n    SetClipboardData(CF_TEXT, hMem)\n    CloseClipboard()\n}\n</code></pre>\n"}], "owner": {"reputation": 9874, "user_id": 2577244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/461b49b3ad25d7f49ec7b4b253dce1b4?s=128&d=identicon&r=PG", "display_name": "Alex Baban", "link": "https://stackoverflow.com/users/2577244/alex-baban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 56643854, "answer_count": 1, "score": 0, "last_activity_date": 1561225087, "creation_date": 1560840205, "last_edit_date": 1561225087, "question_id": 56643124, "link": "https://stackoverflow.com/questions/56643124/how-to-write-a-string-to-clipboard-windows-os-with-a-kotlin-native-application", "title": "How to write a string to clipboard (Windows OS) with a Kotlin/Native application?", "body": "<p>I'm very new to Kotlin and making a command line .exe, on Windows using Kotlin/Native. The application should read from a text file and print on screen, line by line. When it reaches the last line of the file, it should put it in the clipboard.</p>\n\n<p><code>aFile.txt</code> looks something like this:</p>\n\n<pre><code>one\ntwo\nthree\n...\n...\nthe last line\n</code></pre>\n\n<p>and the code <code>read.kt</code> (Kotlin/Native) I have so far is this:</p>\n\n<pre><code>import kotlinx.cinterop.*\nimport platform.posix.*\n\nfun main(args: Array&lt;String&gt;) {\n\n    if (args.size != 1) {\n        println(\"Usage: read.exe &lt;file.txt&gt;\")\n        return\n    }\n\n    val fileName = args[0]\n    val file = fopen(fileName, \"r\")\n\n    if (file == null) {\n        perror(\"cannot open input file $fileName\")\n        return\n    }\n\n    try {\n        memScoped {\n            val bufferLength = 64 * 1024\n            val buffer = allocArray&lt;ByteVar&gt;(bufferLength)\n\n            do {\n                val nextLine = fgets(buffer, bufferLength, file)?.toKString()\n                if (nextLine == null || nextLine.isEmpty()) break\n                print(\"${nextLine}\")\n            } while (true)\n\n        }\n    } finally {\n        fclose(file)\n    }\n\n}\n</code></pre>\n\n<p><hr/>\nThe code above prints each line on the screen, but how do I write the string <code>\"the last line\"</code> in the computer's clipboard? I'm looking for a native (not Java) solution if that's possible.</p>\n\n<p>Thank you very much.</p>\n\n<hr />\n\n<blockquote>\n  <p><strong>Update:</strong>  </p>\n</blockquote>\n\n<p>Obviously, this is not the solution I was looking for, but I don't understand yet what are they talking about here (<a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/winuser/nf-winuser-setclipboarddata\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/desktop/api/winuser/nf-winuser-setclipboarddata</a>).</p>\n\n<p>As a temporary fix, I was able to get what I needed using <code>system()</code>, <code>echo</code> and <code>clip</code> with code like this:</p>\n\n<pre><code>system(\"echo ${nextLine} | clip\")\nprint(\"${nextLine}\")\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-jetpack"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 4918805, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oFeal52X-Sw/AAAAAAAAAAI/AAAAAAAAAHk/FLm6G160JVY/photo.jpg?sz=128", "display_name": "Aman Jain", "link": "https://stackoverflow.com/users/4918805/aman-jain"}, "edited": false, "score": 1, "creation_date": 1560840959, "post_id": 56643194, "comment_id": 99856878, "body": "Thanks, I have the following properties android.useAndroidX=true android.enableJetifier=true kotlin.code.style=official"}, {"owner": {"reputation": 10161, "user_id": 8034839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N8r2x.jpg?s=128&g=1", "display_name": "shizhen", "link": "https://stackoverflow.com/users/8034839/shizhen"}, "reply_to_user": {"reputation": 163, "user_id": 4918805, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oFeal52X-Sw/AAAAAAAAAAI/AAAAAAAAAHk/FLm6G160JVY/photo.jpg?sz=128", "display_name": "Aman Jain", "link": "https://stackoverflow.com/users/4918805/aman-jain"}, "edited": false, "score": 0, "creation_date": 1560842362, "post_id": 56643194, "comment_id": 99857576, "body": "how is your gradle file like?"}, {"owner": {"reputation": 163, "user_id": 4918805, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oFeal52X-Sw/AAAAAAAAAAI/AAAAAAAAAHk/FLm6G160JVY/photo.jpg?sz=128", "display_name": "Aman Jain", "link": "https://stackoverflow.com/users/4918805/aman-jain"}, "edited": false, "score": 0, "creation_date": 1560843683, "post_id": 56643194, "comment_id": 99858317, "body": "Please check the dependencies above"}], "tags": [], "owner": {"reputation": 10161, "user_id": 8034839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N8r2x.jpg?s=128&g=1", "display_name": "shizhen", "link": "https://stackoverflow.com/users/8034839/shizhen"}, "is_accepted": false, "score": 0, "last_activity_date": 1560842420, "last_edit_date": 1560842420, "creation_date": 1560840494, "answer_id": 56643194, "question_id": 56642963, "link": "https://stackoverflow.com/questions/56642963/kotlin-and-android-jetpack-support-in-android-platform-apps/56643194#56643194", "title": "Kotlin and Android Jetpack support in Android platform apps", "body": "<p>Add those two lines to your <code>gradle.properties</code> file:</p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>Try to add / change below line to your <code>app/build.gradle</code></p>\n\n<pre><code>// implementation \"androidx.core:core:1.0.2\" \n// use below kotlin dependency\nimplementation \"androidx.core:core-ktx:1.0.2\"\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 4918805, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oFeal52X-Sw/AAAAAAAAAAI/AAAAAAAAAHk/FLm6G160JVY/photo.jpg?sz=128", "display_name": "Aman Jain", "link": "https://stackoverflow.com/users/4918805/aman-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560843626, "creation_date": 1560839610, "last_edit_date": 1560843626, "question_id": 56642963, "link": "https://stackoverflow.com/questions/56642963/kotlin-and-android-jetpack-support-in-android-platform-apps", "title": "Kotlin and Android Jetpack support in Android platform apps", "body": "<p>I want to create an application which use some of the framework APIs. I have set the <code>android:sharedUserId=\"android.uid.system\"</code> in <code>AndroidManifest.xml</code>.\nIn order to avoid reflection, I have imported the framework.jar\nThe apk is platform signed and I successfully installed the app.</p>\n\n<p>However when I launch the app it crashes. The exception is </p>\n\n<blockquote>\n  <p>java.lang.ClassNotFoundException. It is unable to find the MainActivity.\n      Another exception is java.lang.ClassNotFoundException: Didn't find class \"androidx.appcompat.app.AppCompatActivity\".</p>\n</blockquote>\n\n<p>I wish to know whether the <code>framework.jar</code> supports Kotlin and Android Jetpack libraries.</p>\n\n<p>Gradle dependency:</p>\n\n<pre><code>implementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.1.0-beta01'\nimplementation 'androidx.core:core-ktx:1.2.0-alpha01'\nimplementation 'androidx.constraintlayout:constraintlayout:2.0.0-beta1'\nimplementation files('libs/framework.jar')\ntestImplementation 'junit:junit:4.13-beta-3'\nandroidTestImplementation 'androidx.test:runner:1.2.0'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "seekbar"], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 11592881, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0USBp_9unH0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdtENQ-cak2t0Kgn-iEY3-TOyRdmw/mo/photo.jpg?sz=128", "display_name": "R.Coder", "link": "https://stackoverflow.com/users/11592881/r-coder"}, "edited": false, "score": 0, "creation_date": 1560840187, "post_id": 56643077, "comment_id": 99856483, "body": "already did that still it doesn&#39;t help and the zoomin method is being executed multiple time when seekbar is seeked"}], "tags": [], "owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "is_accepted": false, "score": 0, "last_activity_date": 1560840038, "creation_date": 1560840038, "answer_id": 56643077, "question_id": 56642931, "link": "https://stackoverflow.com/questions/56642931/how-to-set-progress-of-seekbar-to-a-specific-position-when-it-is-seeking/56643077#56643077", "title": "How to set progress of seekbar to a specific position when it is seeking", "body": "<p>Try setting max for your progress bar first</p>\n\n<pre><code>customseekbar.setMax(maxValue);\n</code></pre>\n\n<p>Then your <code>setProgress</code> will work</p>\n"}], "owner": {"reputation": 237, "user_id": 11592881, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0USBp_9unH0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdtENQ-cak2t0Kgn-iEY3-TOyRdmw/mo/photo.jpg?sz=128", "display_name": "R.Coder", "link": "https://stackoverflow.com/users/11592881/r-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560840038, "creation_date": 1560839450, "last_edit_date": 1560839758, "question_id": 56642931, "link": "https://stackoverflow.com/questions/56642931/how-to-set-progress-of-seekbar-to-a-specific-position-when-it-is-seeking", "title": "How to set progress of seekbar to a specific position when it is seeking", "body": "<p>I am trying to set seek bar progress to a pre-specified value from arraylist when the onseeking method is called, but here the problem is the seekbar is not seeking to the required position from arraylist and then bumps at it's max position.I'm really stuck any help will be appreciated.</p>\n\n<p>This is my seekbar onseekchanged:</p>\n\n<pre><code>fun seekbarseek(){\n        customseekbar.setOnSeekChangeListener(object : OnSeekChangeListener {\n            override fun onSeeking(seekParams: SeekParams) {\n                if (seekParams.progress&lt;=progresslist!!.get(1))\n                {\n                   Log.i(\"seekpos:\",\"0\")\n                    zoomin()\n                    customseekbar.onSeekChangeListener = null\n                }\n                else if (seekParams.progress&gt;progresslist!!.get(1)&amp;&amp;seekParams.progress&lt;=progresslist!!.get(2))\n                {\n                    Log.i(\"seekpos:\",\"1\")\n                    zoomin()\n                    customseekbar.onSeekChangeListener = null\n                }\n                else if (seekParams.progress&gt;progresslist!!.get(2)&amp;&amp;seekParams.progress&lt;=progresslist!!.get(3))\n                {\n                    Log.i(\"seekpos:\",\"2\")\n                    zoomin()\n                    customseekbar.onSeekChangeListener = null\n                }\n                else if (seekParams.progress&gt;progresslist!!.get(3)&amp;&amp;seekParams.progress&lt;=progresslist!!.get(4))\n                {\n                    Log.i(\"seekpos:\",\"3\")\n                    zoomin()\n                    customseekbar.onSeekChangeListener = null\n                }\n            }\n\n            override fun onStartTrackingTouch(seekBar: IndicatorSeekBar) {\n            }\n\n            override fun onStopTrackingTouch(seekBar: IndicatorSeekBar) {\n                if (seekBar.progress&lt;=progresslist!!.get(1))\n                {\n                    customseekbar.setProgress(progresslist!!.get(1).toFloat())\n                    customseekbar.onSeekChangeListener = null\n                }\n                else if (seekBar.progress&gt;progresslist!!.get(1)&amp;&amp;seekBar.progress&lt;=progresslist!!.get(2))\n                {\n                    customseekbar.setProgress(progresslist!!.get(2).toFloat())\n                }\n                else if (seekBar.progress&gt;progresslist!!.get(2)&amp;&amp;seekBar.progress&lt;=progresslist!!.get(3))\n                {\n                    customseekbar.setProgress(progresslist!!.get(3).toFloat())\n                }\n                else if (seekBar.progress&gt;progresslist!!.get(3)&amp;&amp;seekBar.progress&lt;=progresslist!!.get(4))\n                {\n                    customseekbar.setProgress(progresslist!!.get(4).toFloat())\n                }\n            }\n        })\n\nThese is my arraylist content:\n\nprogresslist!!.add(0)\n            progresslist!!.add(calprogress+calprogress)\n            progresslist!!.add(calprogress+calprogress+calprogress)\n            progresslist!!.add(calprogress+calprogress+calprogress+calprogress)\n            progresslist!!.add(calprogress+calprogress+calprogress+calprogress+calprogress)\n</code></pre>\n\n<p>This the method which i want to call when seekbar is seeked:</p>\n\n<pre><code>fun zoomin()\n    {\n        Log.i(\"zoominposition\", zoomposition.toString())\n        if (zoomposition == 5)\n        {\n            zoomposition = 4\n            setfocus()\n        }\n        zoomposition++\n       customseekbar.setProgress(progresslist!!.get(zoomposition).toFloat())\n    }\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "android-studio", "kotlin", "android-instrumentation"], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560842197, "creation_date": 1560837651, "last_edit_date": 1560842197, "question_id": 56642576, "link": "https://stackoverflow.com/questions/56642576/android-studio-error-retrieving-android-device-catalog", "title": "Android Studio - Error retrieving android device catalog", "body": "<p>When I am trying to run instrument test I am getting below error.</p>\n\n<p>And also getting a dialog from Android studio like,</p>\n\n<pre><code>Error retrieving android device catalog\n</code></pre>\n\n<blockquote>\n<pre><code>Testing started at 11:49 ...\n06/18 11:49:34: Launching addition_isCorrect() \n$ adb push /Users/----/app/build/outputs/apk/debug/app-debug.apk /data/local/tmp/com.----\n$ adb shell pm install --full -t -r \"/data/local/tmp/com.----\" \nSuccess \nAPK installed in 1 s 898 ms \nNo apk changes detected since last installation, skipping installation of /Users/---/app/build/outputs/apk/androidTest/debug/app-debug-androidTest.apk\nRunning tests\n\n$ adb shell am instrument -w -r   -e debug false -e class 'com.---.DatabaseTest#addition_isCorrect' com.---.test/android.support.test.runner.AndroidJUnitRunner\nClient not ready yet. \nStarted running tests\n\nTests ran to completion.\n</code></pre>\n</blockquote>\n\n<p>How to get rid of this error?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1455, "user_id": 969478, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mLNKv.jpg?s=128&g=1", "display_name": "Giszmo", "link": "https://stackoverflow.com/users/969478/giszmo"}, "edited": false, "score": 0, "creation_date": 1560836918, "post_id": 56642336, "comment_id": 99855279, "body": "Awesome! Definitely sequences are missing in my toolbox. I&#39;ll give the others until tomorrow to come up with something to beat this but I like it already for the tool I was missing."}, {"owner": {"reputation": 1455, "user_id": 969478, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mLNKv.jpg?s=128&g=1", "display_name": "Giszmo", "link": "https://stackoverflow.com/users/969478/giszmo"}, "edited": false, "score": 0, "creation_date": 1560875238, "post_id": 56642336, "comment_id": 99876766, "body": "I ended up using @gromyk&#39;s solution for being slightly shorter and more explicit about not throwing if <code>it != null</code> wasn&#39;t fulfilled but as you were the first to come up with sequences and actually explained stuff, your answer it is. Thanks."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 6, "last_activity_date": 1560836205, "creation_date": 1560836205, "answer_id": 56642336, "question_id": 56642281, "link": "https://stackoverflow.com/questions/56642281/how-can-i-find-the-first-elements-method-result-that-is-not-null/56642336#56642336", "title": "How can I find the first element&#39;s method result that is not null?", "body": "<p>Use a sequence. It makes your computation lazy, so that you will only compute <code>parse</code> as many times as you need.</p>\n\n<pre><code>return parsers.asSequence()\n              .map { it.parse(content) }\n              .find { it != null }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 409, "user_id": 8797900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2FtFj.jpg?s=128&g=1", "display_name": "gromyk", "link": "https://stackoverflow.com/users/8797900/gromyk"}, "is_accepted": false, "score": 3, "last_activity_date": 1574564532, "last_edit_date": 1574564532, "creation_date": 1560841412, "answer_id": 56643442, "question_id": 56642281, "link": "https://stackoverflow.com/questions/56642281/how-can-i-find-the-first-elements-method-result-that-is-not-null/56643442#56643442", "title": "How can I find the first element&#39;s method result that is not null?", "body": "<p>Also, you can use the following code:</p>\n\n<pre><code>parsers.asSequence()\n    .mapNotNull { it.parse(content) }\n    .first()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1560865037, "post_id": 56644993, "comment_id": 99870625, "body": "...short, clear and functional... but not for the function implementation itself ;-) that <code>continue</code> takes precedence over <code>return</code> if <code>transform(e)</code> results in <code>null</code>? this, although you accept <code>(T) -&gt; R</code>? using the elvis-operator to fallback? ;-) ...but I like that you omitted the <code>Sequence</code> ;-)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1560866308, "post_id": 56644993, "comment_id": 99871419, "body": "I think the naming is the biggest problem for such a function. Moreover, as soon as you make it more generic (e.g. accepting a predicate instead of assuming that everyone wants to return the first mapped non-null-value) it becomes more cumbersome to use... <code>inline fun &lt;T, R&gt; Iterable&lt;T&gt;.findMapped(transform : (T) -&gt; R?, predicate : (R?) -&gt; Boolean) : R?</code>? ... with <code>inline fun &lt;T, R&gt; Iterable&lt;T&gt;.findMappedNotNull(transform : (T) -&gt; R?) = findMapped(transform) { it != null }</code>? hmmm.... except you overload all the needed functions..."}, {"owner": {"reputation": 1455, "user_id": 969478, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mLNKv.jpg?s=128&g=1", "display_name": "Giszmo", "link": "https://stackoverflow.com/users/969478/giszmo"}, "edited": false, "score": 0, "creation_date": 1560893157, "post_id": 56644993, "comment_id": 99884405, "body": "Thanks for your suggestion. For a one-off thing it&#39;s overkill but I&#39;ll keep it in mind if the pattern returns."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 4, "last_activity_date": 1560862739, "last_edit_date": 1560862739, "creation_date": 1560847112, "answer_id": 56644993, "question_id": 56642281, "link": "https://stackoverflow.com/questions/56642281/how-can-i-find-the-first-elements-method-result-that-is-not-null/56644993#56644993", "title": "How can I find the first element&#39;s method result that is not null?", "body": "<p>As an alternative to the overhead of a <code>Sequence</code>, or mapping lots of values unnecessarily, you could use an extension method such as:</p>\n\n<pre><code>inline fun &lt;T, R&gt; List&lt;T&gt;.firstMappedNotNull(transform: (T) -&gt; R): R? {\n    for (e in this)\n        return transform(e) ?: continue\n    return null\n}\n</code></pre>\n\n<p>This uses the minimum of mapping function calls and temporary objects.\u00a0 It's necessarily written in an imperative way, but it's quite short, and makes your own code short, clear, and functional.</p>\n\n<p>(This version returns <code>null</code> if the list was empty or every mapping returned <code>null</code>.\u00a0 You could of course change the signature and last line to throw an exception instead.)</p>\n\n<p>It's a shame this function isn't already in the standard library.\u00a0 But it's easy to add your own!</p>\n"}], "owner": {"reputation": 1455, "user_id": 969478, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mLNKv.jpg?s=128&g=1", "display_name": "Giszmo", "link": "https://stackoverflow.com/users/969478/giszmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 56642336, "answer_count": 3, "score": 0, "last_activity_date": 1574564532, "creation_date": 1560835910, "question_id": 56642281, "link": "https://stackoverflow.com/questions/56642281/how-can-i-find-the-first-elements-method-result-that-is-not-null", "title": "How can I find the first element&#39;s method result that is not null?", "body": "<p>So I have parsers and want to use the first that does return a non-null value. How would I do that most elegantly?</p>\n\n<pre><code>return parsers.map { it.parse(content) }.firstOrNull { it != null }\n</code></pre>\n\n<p>would map all (million?) parsers before picking the first.</p>\n\n<pre><code>return parsers.firstOrNull { it.parse(content) != null }?.parse(content)\n</code></pre>\n\n<p>would run the (expensive?) <code>parse()</code> once again.</p>\n\n<p>I know I can</p>\n\n<pre><code>for (parser in parsers) {\n    val result = parser.parse(content)\n    if (result != null) {\n        return result\n    }\n}\nreturn null\n</code></pre>\n\n<pre><code>parsers.forEach { it.parse(content)?.run { return this } }\nreturn null\n</code></pre>\n\n<p>is the shortest I can get but it's not nice to read.</p>\n\n<p>I'm pretty sure there is a shortcut here that I don't see.</p>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1560831754, "post_id": 56641658, "comment_id": 99853968, "body": "Firebase Database queries can only order/filter on a single property. In many cases it is possible to combine the values you want to filter on into a single (synthetic) property. For an example of this and other approaches, see my answer here: <a href=\"http://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase\" title=\"query based on multiple where clauses in firebase\">stackoverflow.com/questions/26700924/&hellip;</a>"}, {"owner": {"reputation": 3814, "user_id": 3003927, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/17f1e4ed531bf4b9b2c0ce3e273e3485?s=128&d=identicon&r=PG", "display_name": "Chen Li Yong", "link": "https://stackoverflow.com/users/3003927/chen-li-yong"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1560832340, "post_id": 56641658, "comment_id": 99854067, "body": "@FrankvanPuffelen alright thanks!"}], "owner": {"reputation": 3814, "user_id": 3003927, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/17f1e4ed531bf4b9b2c0ce3e273e3485?s=128&d=identicon&r=PG", "display_name": "Chen Li Yong", "link": "https://stackoverflow.com/users/3003927/chen-li-yong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 8, "favorite_count": 0, "closed_date": 1560831767, "answer_count": 0, "score": 0, "last_activity_date": 1560831747, "creation_date": 1560831124, "last_edit_date": 1560831747, "question_id": 56641658, "link": "https://stackoverflow.com/questions/56641658/how-to-check-child-in-firebase-for-username-and-password-with-kotlin", "closed_reason": "Duplicate", "title": "How to check child in firebase for username *and* password with Kotlin?", "body": "<p>I read the Firebase <a href=\"https://firebase.google.com/docs/database/android/lists-of-data\" rel=\"nofollow noreferrer\">documentation</a> about this, but the documentation conveniently left the detail about <code>equalsTo</code> examples out. I also see some other related <a href=\"https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database\">questions</a>, but none give me answer about how to filter children with two values.</p>\n\n<p>So the database is more or less like this:</p>\n\n<pre><code>users: {\n  as9d8f7a89sdf7a: {\n    username: admin,\n    password: test123,\n    timestamp: 38410238912,\n    priviledge: { }\n  },\n  asd9fasd90f8a0s: {\n    username: moderator,\n    password: hello456,\n    timestamp: 12937129383,\n    priviledge: { }\n  }\n}\n</code></pre>\n\n<p>I'm looking for something like this:</p>\n\n<pre><code>databaseRef.child(\"users\").childEqualsTo(\"username\", usernameTf.text).childEqualsTo(\"password\", passwordTf.text)\n</code></pre>\n\n<p>But from what I gathered, the closest thing I can do to search for this is:</p>\n\n<pre><code>databaseRef.child(\"users\").orderByChild(\"username\").equalsTo(usernameTf.text)\n</code></pre>\n\n<p>And then manually loop for the result's password if I can find any match? Is this correct?</p>\n"}, {"tags": ["android", "kotlin", "android-file"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560830847, "post_id": 56641596, "comment_id": 99853801, "body": "How are you generating <code>Path</code>? Are you hardcoding <code>&#47;storage&#47;emulated&#47;0&#47;MyAppFolder</code>?"}, {"owner": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560831179, "post_id": 56641596, "comment_id": 99853861, "body": "@ianhanniballake Yes, hardcoding. Because it was my initial path for application."}], "answers": [{"comments": [{"owner": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "edited": false, "score": 0, "creation_date": 1560849604, "post_id": 56641751, "comment_id": 99861415, "body": "Then why its working for almost all devices and not working in few devices?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "edited": false, "score": 0, "creation_date": 1560856125, "post_id": 56641751, "comment_id": 99865128, "body": "@SagarMaiyad: Perhaps those device manufacturers changed the path of the external storage root. Perhaps those devices are running Android Q, where you do not have read/write access to the external storage root by default (once your <code>targetSdkVersion</code> is 29 or higher). Due to the latter, I strongly recommend that you switch to <code>ACTION_OPEN_DOCUMENT_TREE</code> and stop thinking in terms of files, at least for Android 5.1+ devices. As a bonus, the user now has the ability to control where your content goes."}, {"owner": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560861160, "post_id": 56641751, "comment_id": 99868158, "body": "@CommonsWare This problem also happens in internal storage. not only external storage. and it also happens in lower versions than Android Q. Second thing, My application also supported for kitkat version. So, i can&#39;t switch to ACTION_OPEN_DOCUMENT_TREE."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "edited": false, "score": 0, "creation_date": 1560861576, "post_id": 56641751, "comment_id": 99868420, "body": "@SagarMaiyad: &quot;This problem also happens in internal storage. not only external storage&quot; -- not according to your question. You hard-coded <code>&#47;storage&#47;emulated&#47;0&#47;MyAppFolder&#47;TestFolder</code>, and that is on what <a href=\"https://commonsware.com/blog/2017/11/14/storage-situation-external-storage.html\" rel=\"nofollow noreferrer\">the Android SDK refers to as external storage</a>. &quot;i can&#39;t switch to ACTION_OPEN_DOCUMENT_TREE&quot; -- use <code>ACTION_OPEN_DOCUMENT_TREE</code> for Android 5.1+, and use something else based off of <code>Environment</code> methods and the filesystem for older devices."}, {"owner": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560862245, "post_id": 56641751, "comment_id": 99868844, "body": "@CommonsWare  You hard-coded /storage/emulated/0/MyAppFolder/TestFolder -- I mentioned that this is sample path."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "edited": false, "score": 0, "creation_date": 1560862554, "post_id": 56641751, "comment_id": 99869043, "body": "@SagarMaiyad: And that sample path is on what the Android SDK refers to as external storage. Also, in your comments, you said that you were hard-coding this value."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1560862955, "post_id": 56641751, "comment_id": 99869282, "body": "You can&#39;t hard code paths on Android. Ever. Everything needs to be a relative path from one of the storage directories as that is the only guaranteed consistent solution across devices."}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": false, "score": 2, "last_activity_date": 1560831971, "creation_date": 1560831971, "answer_id": 56641751, "question_id": 56641596, "link": "https://stackoverflow.com/questions/56641596/folders-not-created-using-mkdirs-in-android/56641751#56641751", "title": "Folders not created using mkdirs() in android", "body": "<p>As per the <a href=\"https://developer.android.com/reference/android/content/Context.html#getFilesDir()\" rel=\"nofollow noreferrer\"><code>getFilesDir()</code> documentation</a>, you should never assume a hardcoded installation or directory path - you should only be using relative paths compared to one of the <a href=\"https://developer.android.com/training/data-storage/files#WriteInternalStorage\" rel=\"nofollow noreferrer\">storage directories</a></p>\n"}], "owner": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560831971, "creation_date": 1560830495, "question_id": 56641596, "link": "https://stackoverflow.com/questions/56641596/folders-not-created-using-mkdirs-in-android", "title": "Folders not created using mkdirs() in android", "body": "<p>I am creating folders using <code>mkdirs()</code> method. Before that, i am also checking if folder is already present or not. if not then only create. It works fine almost all devices but somehow its not creating in some devices.</p>\n\n<p>I also checked runtime permission and storage access framework before creating folders. its all good still it does not create folders. Below is the sample path of creating folders:</p>\n\n<pre><code>Path: /storage/emulated/0/MyAppFolder/TestFolder\n</code></pre>\n\n<p>Here, <code>/storage/emulated/0/</code> is internal storage path. After that i am creating two folders using below code:</p>\n\n<pre><code>val folder = File(Path)\nif (!folder.exists()) {\n   if(!folder.mkdirs()){\n     Log.e(\"MyActivity\",\"Folder not created\")\n   }\n}\n</code></pre>\n\n<p>I also tried using below code:</p>\n\n<pre><code>val folder = File(Path)\nif (!folder.parentFile.exists()) {\n   if(!folder.parentFile.mkdirs()){\n     Log.e(\"MyActivity\",\"Folder not created\")\n   }\n}\n</code></pre>\n\n<p>But still not working.</p>\n"}, {"tags": ["android", "kotlin", "android-videoview"], "comments": [{"owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "reply_to_user": {"reputation": 336, "user_id": 8281754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inx7T.jpg?s=128&g=1", "display_name": "raxerz", "link": "https://stackoverflow.com/users/8281754/raxerz"}, "edited": false, "score": 0, "creation_date": 1560826756, "post_id": 56641050, "comment_id": 99853078, "body": "There was no resolution to that problem and it was posted 6 years ago. We should probably keep my question up."}, {"owner": {"reputation": 709, "user_id": 11457806, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wc3qEDo5ANY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgo0uvIoS5_y24ibXeT6SlWWoQ7Q/mo/photo.jpg?sz=128", "display_name": "Israel dela Cruz", "link": "https://stackoverflow.com/users/11457806/israel-dela-cruz"}, "edited": false, "score": 0, "creation_date": 1560827621, "post_id": 56641050, "comment_id": 99853241, "body": "If you have the resolution of your video, why not just adjust the dimension of the <code>VideoView</code> programatically."}, {"owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "reply_to_user": {"reputation": 709, "user_id": 11457806, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wc3qEDo5ANY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgo0uvIoS5_y24ibXeT6SlWWoQ7Q/mo/photo.jpg?sz=128", "display_name": "Israel dela Cruz", "link": "https://stackoverflow.com/users/11457806/israel-dela-cruz"}, "edited": false, "score": 0, "creation_date": 1560828304, "post_id": 56641050, "comment_id": 99853356, "body": "@IsraeldelaCruz The aspect ratio of the video is 16:9 but the aspect ratio of the screen is 18.9:9. If I use fill_parent the video appears stretched. I want the video to fill the screen, even though part of the height will be cropped off."}], "answers": [{"comments": [{"owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "edited": false, "score": 0, "creation_date": 1560850133, "post_id": 56641944, "comment_id": 99861732, "body": "Thanks for the detailed answer. Just going through it now. What is AR height? Also can you provide your XML? Your code doesn&#39;t seem to be making a difference unless I am missing something. My phone&#39;s aspect ratio is 19.5:9. I want the height to fill the screen, but for the width to not to be bounded by the screen (it can bleed over)."}, {"owner": {"reputation": 709, "user_id": 11457806, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wc3qEDo5ANY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgo0uvIoS5_y24ibXeT6SlWWoQ7Q/mo/photo.jpg?sz=128", "display_name": "Israel dela Cruz", "link": "https://stackoverflow.com/users/11457806/israel-dela-cruz"}, "reply_to_user": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "edited": false, "score": 1, "creation_date": 1560873378, "post_id": 56641944, "comment_id": 99875833, "body": "I&#39;ve provided the xml. AR is aspect ratio."}, {"owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "edited": false, "score": 0, "creation_date": 1560887739, "post_id": 56641944, "comment_id": 99882283, "body": "I spoke too soon. This does in fact achieve the effect I want. Just have to make sure the parent layout is a FrameLayout. You might also want to post your solution here: <a href=\"https://stackoverflow.com/questions/13603553/videoview-to-match-parent-height-and-keep-aspect-ratio\" title=\"videoview to match parent height and keep aspect ratio\">stackoverflow.com/questions/13603553/&hellip;</a>, as I believe no answer has been selected yet and none of them have worked for me."}], "tags": [], "owner": {"reputation": 709, "user_id": 11457806, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wc3qEDo5ANY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgo0uvIoS5_y24ibXeT6SlWWoQ7Q/mo/photo.jpg?sz=128", "display_name": "Israel dela Cruz", "link": "https://stackoverflow.com/users/11457806/israel-dela-cruz"}, "is_accepted": true, "score": 1, "last_activity_date": 1560883883, "last_edit_date": 1560883883, "creation_date": 1560833512, "answer_id": 56641944, "question_id": 56641050, "link": "https://stackoverflow.com/questions/56641050/how-can-i-preserve-my-android-videoviews-aspect-ratio-in-proportion-to-its-heig/56641944#56641944", "title": "How can I preserve my Android VideoView&#39;s aspect ratio in proportion to its height only?", "body": "<p>Adjust your <code>VideoView</code>'s dimension programatically.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;!--parent needs to be matching the screen height--&gt;\n    &lt;!--VideoView layout_width doesn't matter--&gt;\n\n    &lt;VideoView\n        android:id=\"@+id/video_player\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<pre><code>// at onCreate or anywhere\n\n        // post, because view dimension is not initialized yet in here\n        videoView.post(new Runnable() {\n            @Override\n            public void run() {\n                // do resizing here\n                // AR = aspect ratio\n\n                float videoARWidth = 16.f;\n                float videoARHeight = 9.f;\n\n                // Phone screen aspect ratio height\n                float screenARHeight = 9.f;\n\n                // scale to screen AR height\n                float videoScale = screenARHeight / videoARHeight;\n\n                float videoARRatio = videoARWidth / videoARHeight;\n\n                // scale the ratio to screen\n                float videoScaledARRatio = videoARRatio * videoScale;\n\n                ViewGroup.LayoutParams layoutParams = videoView.getLayoutParams();\n\n                // make sure the VideoView matches the screen height\n                layoutParams.width = (int)(videoView.getHeight() * videoScaledARRatio);\n                videoView.setLayoutParams(layoutParams);\n            }\n        });\n\n</code></pre>\n\n<p>This code does not care about the screen width. </p>\n\n<p>The width will always scale to the screen height. Actually, it will always scale to its(VideoView) own height. But as I commented on the code, use layout_height = \"match_parent\" to match the screen.</p>\n\n<p>I'm not sure if you want the width to fit if the screen width is bigger.</p>\n\n<p>The video width will not fill the screen if the screen width is bigger.</p>\n"}], "owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 0, "accepted_answer_id": 56641944, "answer_count": 1, "score": 0, "last_activity_date": 1560883883, "creation_date": 1560825271, "question_id": 56641050, "link": "https://stackoverflow.com/questions/56641050/how-can-i-preserve-my-android-videoviews-aspect-ratio-in-proportion-to-its-heig", "title": "How can I preserve my Android VideoView&#39;s aspect ratio in proportion to its height only?", "body": "<p>I want to set a video that fills the screen and preserves its aspect ratio. However, I do not want the video to match the aspect ratio of the phone.</p>\n\n<p>If my screen's aspect ratio is 18.9:9 and the video's aspect ratio is 16:9, then the video appears stretched when I put it in a VideoView that inherits fill_parent. If I don't set fill_parent then the video preserves its aspect ratio but only occupies less than a 1/3 of the screen because the aspect ratio is determined by its width, not its height. This is not desirable.</p>\n\n<p>I want to fill the screen vertically with the video, regardless if part of the width is clipped off.</p>\n\n<p>Current Code:</p>\n\n<pre><code>window.setFormat(PixelFormat.TRANSLUCENT)\nval videoView = findViewById &lt; VideoView &gt; (videoView)\nval video = Uri.parse(\"android.resource://\" + packageName + \"/\" +\n    R.raw.bgvideo)\nvideoView.setVideoURI(video)\nvideoView.setOnPreparedListener {\n    mp: MediaPlayer - &gt;\n        mp.setVideoScalingMode(MediaPlayer.VIDEO_SCALING_MODE_SCALE_TO_FIT_WITH_CROPPING)\n    mp.isLooping = true\n    mp.setScreenOnWhilePlaying(false)\n}\nvideoView.start()\n</code></pre>\n\n<p>XML:</p>\n\n<p>\n</p>\n\n<pre><code>&lt;VideoView\n    android:id=\"@+id/videoView\"\n    android:layout_width=\"2000dp\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;!--- Sample Foreground Content !---&gt;\n&lt;ImageView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"250dp\"\n    android:layout_gravity=\"center_horizontal\"\n    android:layout_marginBottom=\"24dp\"\n    android:contentDescription=\"@string/logo\"\n    android:src=\"@drawable/logo\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>Current Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FFh2m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FFh2m.png\" alt=\"enter image description here\"></a></p>\n\n<p>Desired Outcome:\n<a href=\"https://i.stack.imgur.com/owyk5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/owyk5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "androidx", "onbackpressed"], "comments": [{"owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "edited": false, "score": 1, "creation_date": 1560823835, "post_id": 56640729, "comment_id": 99852534, "body": "could you show the code, this is probably just a syntax error"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1560824876, "post_id": 56640729, "comment_id": 99852709, "body": "And include your <code>build.gradle</code> - note that Kotlin snippets assume you are using the <code>-ktx</code> artifacts of the related libraries"}, {"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "reply_to_user": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "edited": false, "score": 0, "creation_date": 1560826069, "post_id": 56640729, "comment_id": 99852935, "body": "@JianAstrero I am getting the error in the &quot;patientsActivity.moveToLoginScreen(true)&quot;"}, {"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560826076, "post_id": 56640729, "comment_id": 99852937, "body": "@ianhanniballake let me know if you need to see all of my build.gradle file"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1560827418, "post_id": 56640729, "comment_id": 99853207, "body": "It&#39;s probably safer to override <code>onBackPressed</code> in your Activity instead."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1560830511, "post_id": 56640729, "comment_id": 99853740, "body": "@EpicPandaForce - not overriding <code>onBackPressed()</code> is exactly why this new API was created. There&#39;s no reason to do that when you&#39;re using the new API."}], "answers": [{"tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": false, "score": 2, "last_activity_date": 1560826573, "creation_date": 1560826573, "answer_id": 56641205, "question_id": 56640729, "link": "https://stackoverflow.com/questions/56640729/implementing-custom-back-navigation-in-android/56641205#56641205", "title": "Implementing Custom Back Navigation in Android", "body": "<p><code>OnBackPressedDispatcher</code> is part of the new <code>androidx.activity</code> dependency. The best way to gain access to the new library is to upgrade your version of Fragments:</p>\n\n<pre><code>implementation \"androidx.fragment:fragment-ktx:1.1.0-beta01\"\n</code></pre>\n\n<p>By using the <code>fragment-ktx</code> artifact, you also will gain a transitive dependency on <code>activity-ktx</code>, which is what has the Kotlin extension that the documentation uses.</p>\n"}, {"comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560830246, "post_id": 56641415, "comment_id": 99853680, "body": "The documentation is for the <a href=\"https://developer.android.com/reference/kotlin/androidx/activity/OnBackPressedDispatcher#extension-functions\" rel=\"nofollow noreferrer\">Kotlin extension</a>, which is correct."}, {"owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560832399, "post_id": 56641415, "comment_id": 99854080, "body": "It is not. on back pressed dispatcher is an abstract class and not an interface. you cant implement it like that. can you read kotlin code?"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560832574, "post_id": 56641415, "comment_id": 99854111, "body": "The Kotlin extension takes a lambda with receiver, not an instance of <code>OnBackPressedCallback</code>. You absolutely can write exactly that code in the documentation if you use the Kotlin extension. You can see the same syntax from the documentation in the <a href=\"https://android.googlesource.com/platform/frameworks/support/+/androidx-master-dev/activity/activity-ktx/src/androidTest/java/androidx/activity/OnBackPressedDispatcherTest.kt#91\" rel=\"nofollow noreferrer\">tests for the Kotlin extension</a>."}, {"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1560832962, "post_id": 56641415, "comment_id": 99854200, "body": "I ended up using both your answers. I needed the fragment-ktx: import (why isn&#39;t this documented???) and creating an object of OnBackPressedCallback. Can I mark both of them as correct ?"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560833126, "post_id": 56641415, "comment_id": 99854233, "body": "The exact syntax in the documentation works fine - make sure you have actually imported the Kotlin extension."}], "tags": [], "owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "is_accepted": false, "score": 1, "last_activity_date": 1560828779, "creation_date": 1560828779, "answer_id": 56641415, "question_id": 56640729, "link": "https://stackoverflow.com/questions/56640729/implementing-custom-back-navigation-in-android/56641415#56641415", "title": "Implementing Custom Back Navigation in Android", "body": "<p>The problem with the code is not on the gradle files but on the syntax. The documentation does not provide the proper kotlin code that corresponds to the java code that was given.</p>\n\n<p>Here is the propper way of creating an object of an abstract class - OnBackPressedCallback</p>\n\n<pre><code>val callback = requireActivity().onBackPressedDispatcher.addCallback(object : OnBackPressedCallback(true) {\n    override fun handleOnBackPressed() {\n        patientsActivity.moveToLoginScreen(true)\n    }\n})\n</code></pre>\n\n<p>support a change in the documentation here: <a href=\"https://issuetracker.google.com/issues/135469965\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/135469965</a></p>\n"}, {"comments": [{"owner": {"reputation": 4531, "user_id": 3011570, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/4Ht66.jpg?s=128&g=1", "display_name": "Eric Broda", "link": "https://stackoverflow.com/users/3011570/eric-broda"}, "edited": false, "score": 0, "creation_date": 1565108003, "post_id": 57379828, "comment_id": 101244818, "body": "Please show the added code in context of the original request - that way the solution will be easier to understand."}], "tags": [], "owner": {"reputation": 1, "user_id": 5071238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ueM7iB7CupU/AAAAAAAAAAI/AAAAAAAAn3k/Kkm2WLWa1Pc/photo.jpg?sz=128", "display_name": "Gene Anderson", "link": "https://stackoverflow.com/users/5071238/gene-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1565106748, "creation_date": 1565106748, "answer_id": 57379828, "question_id": 56640729, "link": "https://stackoverflow.com/questions/56640729/implementing-custom-back-navigation-in-android/57379828#57379828", "title": "Implementing Custom Back Navigation in Android", "body": "<p>Specifically, you need <code>import androidx.activity.addCallback</code> and in your app build.gradle, <code>implementation \"androidx.fragment:fragment-ktx:1.1.0-beta01\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 710, "user_id": 997147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kPcsr.jpg?s=128&g=1", "display_name": "Saifur Rahman Mohsin", "link": "https://stackoverflow.com/users/997147/saifur-rahman-mohsin"}, "is_accepted": false, "score": 0, "last_activity_date": 1597323403, "creation_date": 1597323403, "answer_id": 63395687, "question_id": 56640729, "link": "https://stackoverflow.com/questions/56640729/implementing-custom-back-navigation-in-android/63395687#63395687", "title": "Implementing Custom Back Navigation in Android", "body": "<p>You haven't passed the boolean argument and that is why it doesn't work. The right code is as shown in <a href=\"https://stackoverflow.com/questions/56640729/implementing-custom-back-navigation-in-android/63395687#answer-56641415\">Jian Astrero's answer</a>. Alternatively, you can use the lambda syntax like this:</p>\n<pre><code>val callback = requireActivity().onBackPressedDispatcher.addCallback(this, true) {\n    patientsActivity.moveToLoginScreen(true)\n}\n</code></pre>\n<p>Note that the <strong>true</strong> passed as second parameter is essential for it to work.</p>\n"}], "owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1597323403, "creation_date": 1560821931, "last_edit_date": 1592644375, "question_id": 56640729, "link": "https://stackoverflow.com/questions/56640729/implementing-custom-back-navigation-in-android", "title": "Implementing Custom Back Navigation in Android", "body": "<p>I am trying to implement custom back navigation in my fragment based on the documentation <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back#implement_custom_back_navigation\" rel=\"nofollow noreferrer\">here</a></p>\n<p>But when I try to replace the &quot;// Handle the back button event&quot; bit with my back button evet code, my IDE throws up an error saying &quot;Required: OnBackPressedCallback found () -&gt; OnBackPressedCallback&quot;</p>\n<p>I am using appcompat:1.0.2. and I have core-ktx:1.0.2'.</p>\n<blockquote>\n<p>implementation 'androidx.appcompat:appcompat:1.0.2'</p>\n<p>implementation 'androidx.core:core-ktx:1.0.2'</p>\n</blockquote>\n<p>Here is how I am trying to implement the onBackPressedDispatcher</p>\n<pre><code>val callback = requireActivity().onBackPressedDispatcher.addCallback(this) {\n        patientsActivity.moveToLoginScreen(true) // &lt;-- thing I want to happen when the back button is pressed\n    }\n</code></pre>\n<p>What am I missing here? How do I go about implementing custom back navigation?</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 1, "creation_date": 1560813491, "post_id": 56639412, "comment_id": 99850714, "body": "I&#39;m not familiar with TornadoFX, but your syntax does not match the examples shown <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/part1/7.%20Layouts%20and%20Menus.html\" rel=\"nofollow noreferrer\">here</a> (look at the <code>BorderPane</code> section). I also feel like your syntax isn&#39;t even valid Kotlin, but I&#39;m not experienced enough in Kotlin to be absolutely sure."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10831297, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218297879662828/picture?type=large", "display_name": "Frankie Guzikowski", "link": "https://stackoverflow.com/users/10831297/frankie-guzikowski"}, "edited": false, "score": 0, "creation_date": 1560884175, "post_id": 56645235, "comment_id": 99880749, "body": "I have changed it to this: ```    private val audioPlaybackView = find&lt;AudioLiveView&gt;(mapOf(AudioLiveView::playFromFile to true))"}, {"owner": {"reputation": 35, "user_id": 10831297, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218297879662828/picture?type=large", "display_name": "Frankie Guzikowski", "link": "https://stackoverflow.com/users/10831297/frankie-guzikowski"}, "edited": false, "score": 0, "creation_date": 1560884611, "post_id": 56645235, "comment_id": 99880924, "body": "Great, thank you for the warning--I&#39;m new to Tornado so I haven&#39;t mastered the best practices yet! And in the root I assign bottom = audioPlaybackView.root  but the call now gives the java.lang.NoSuchMethodException: &quot;view.AudioLiveView.&lt;init&gt;()&quot; which means that I&#39;m somehow calling the constructor without any parameters, hence using the mapping incorrectly?"}, {"owner": {"reputation": 35, "user_id": 10831297, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218297879662828/picture?type=large", "display_name": "Frankie Guzikowski", "link": "https://stackoverflow.com/users/10831297/frankie-guzikowski"}, "edited": false, "score": 0, "creation_date": 1561120894, "post_id": 56645235, "comment_id": 99970488, "body": "added edit in original post showing error after using your correction--thank you!"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 35, "user_id": 10831297, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218297879662828/picture?type=large", "display_name": "Frankie Guzikowski", "link": "https://stackoverflow.com/users/10831297/frankie-guzikowski"}, "edited": false, "score": 0, "creation_date": 1561359005, "post_id": 56645235, "comment_id": 100021571, "body": "I&#39;ve updated my answer to show you how to pass parameters. This was in the guide page I linked to, I highly suggest you read it :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1561358969, "last_edit_date": 1561358969, "creation_date": 1560847971, "answer_id": 56645235, "question_id": 56639412, "link": "https://stackoverflow.com/questions/56639412/adding-view-with-constructor-arguments-to-a-borderpane/56645235#56645235", "title": "Adding view with constructor arguments to a borderpane", "body": "<p>You should absolutely never manually instantiate a View or Fragment. You can however use <code>find</code> with a special argument that includes the parameters that should be passed to the View or Fragment. Keep in mind that a View will only be instantiated once in the current scope, so if you need to open several UIComponents of the same type, initialized with different parameters, make sure they are Fragments.</p>\n\n<p>See the Components section of the guide for more information:</p>\n\n<p><a href=\"https://github.com/edvin/tornadofx-guide/blob/master/part1/3.%20Components.md\" rel=\"nofollow noreferrer\">https://github.com/edvin/tornadofx-guide/blob/master/part1/3.%20Components.md</a></p>\n\n<p>Search for \"Passing Parameters to Views\" in the document above.</p>\n\n<p>That said, it's almost always better to use scopes to pass information to views. You can read more about these best practices in the guide.</p>\n\n<p>Note that you cannot add constructor parameters to your ui components, since the framework needs a no args constructor to be able to instantiate the class. Parameters are passed using the <code>by param</code> extension, like this:</p>\n\n<pre><code>class AudioView : Fragment(\"AudioView\") {\n    val playFromFile: Boolean by param()\n\n    override val root = vbox {\n    }\n}\n</code></pre>\n\n<p>Also note that to be able to get multiple instances in the same scope you need to use Fragment, not View, since Views are singletons within a scope.</p>\n"}], "owner": {"reputation": 35, "user_id": 10831297, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218297879662828/picture?type=large", "display_name": "Frankie Guzikowski", "link": "https://stackoverflow.com/users/10831297/frankie-guzikowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 2, "accepted_answer_id": 56645235, "answer_count": 1, "score": 0, "last_activity_date": 1561358969, "creation_date": 1560808892, "last_edit_date": 1561120946, "question_id": 56639412, "link": "https://stackoverflow.com/questions/56639412/adding-view-with-constructor-arguments-to-a-borderpane", "title": "Adding view with constructor arguments to a borderpane", "body": "<p>I want to add a the same class to different <code>BorderPane</code>\u00b4s with different constructor arguments (one true and the other false) but it seems UIComponents cannot have arguments yet giving none crashes the page</p>\n\n<p>Adding the parameter, intelliJ shows me it is attempting to make a comparison??\nI have tried adding the Views as <code>VBox</code>\u00b4s instead, but then nothing appears, I have also tried an <code>AnchorPane</code> instead of <code>BorderPane</code> but that displays nothing as well.</p>\n\n<p>UPDATE:</p>\n\n<pre><code>class ZoomedOutView : View(\"ZoomedOutView\") { \n    val audioView = find&lt;AudioView&gt;(mapOf(AudioView::playFromFile to false)) \n    //TODO change views to fragments \n    override val root = borderpane {\n        bottom = audioLiveView.root\n    }\n}\n</code></pre>\n\n<p>View class needing parameter:</p>\n\n<pre><code>class AudioView(var playFromFile: Boolean) : View(\"AudioView\"){ \n    //constructor() : this(playFromFile) //error: cannot access because superclass constructor has been called        \n    var audioSensor = AudioSensor()    \n    override val root = vbox(10) { \n        vbox { \n            prefWidth = 1600.0 hbox { \n                if (!playFromFile) {\n                    dataCollectionToggle = togglebutton {\n                    ...\n                    audioSensor.captureaudio()\n... ...\n}\n</code></pre>\n\n<p>The compile error is as follows (it wants an init method in which hardcoding a Boolean value works but isn't the logic I want):</p>\n\n<pre><code>Caused by: java.lang.InstantiationException: view.AudioLiveView\n    at java.lang.Class.newInstance(Class.java:427)\n    at tornadofx.FXKt.find(FX.kt:408)\n    at app.ExpertView.&lt;init&gt;(a5_ExpertView.kt:51)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.lang.Class.newInstance(Class.java:442)\n    at tornadofx.FXKt.find(FX.kt:408)\n    at tornadofx.FXKt.find$default(FX.kt:393)\n    at tornadofx.UIComponent.replaceWith(Component.kt:899)\n    at tornadofx.UIComponent.replaceWith$default(Component.kt:898)\n    at app.MenuView$root$1$1$1$5$1.invoke(MenuView.kt:94)\n    at app.MenuView$root$1$1$1$5$1.invoke(MenuView.kt:14)\n    at tornadofx.ControlsKt$action$4.handle(Controls.kt:515)\n    at tornadofx.ControlsKt$action$4.handle(Controls.kt)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.control.MenuItem.fire(MenuItem.java:462)\n    at com.sun.javafx.scene.control.skin.ContextMenuContent$MenuItemContainer.doSelect(ContextMenuContent.java:1405)\n    at com.sun.javafx.scene.control.skin.ContextMenuContent$MenuItemContainer.lambda$createChildren$343(ContextMenuContent.java:1358)\n    at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.Scene$MouseHandler.process(Scene.java:3757)\n    at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\n    at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\n    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:394)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    ... 9 more\nCaused by: java.lang.NoSuchMethodException: view.AudioLiveView.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3082)\n    at java.lang.Class.newInstance(Class.java:412)\n    ... 57 more\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-webview"], "comments": [{"owner": {"reputation": 245, "user_id": 10709983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z7Gt795OFt4/AAAAAAAAAAI/AAAAAAAAAIE/PgWVubL9WBs/photo.jpg?sz=128", "display_name": "Jonathas Nascimento", "link": "https://stackoverflow.com/users/10709983/jonathas-nascimento"}, "edited": false, "score": 0, "creation_date": 1560814158, "post_id": 56639045, "comment_id": 99850853, "body": "Do you set javascript enabled to true, like this <b>myWebViewClient.settings.javaScriptEnabled = true</b>?"}, {"owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "reply_to_user": {"reputation": 245, "user_id": 10709983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z7Gt795OFt4/AAAAAAAAAAI/AAAAAAAAAIE/PgWVubL9WBs/photo.jpg?sz=128", "display_name": "Jonathas Nascimento", "link": "https://stackoverflow.com/users/10709983/jonathas-nascimento"}, "edited": false, "score": 0, "creation_date": 1560815507, "post_id": 56639045, "comment_id": 99851141, "body": "yep :( all the flags are set"}, {"owner": {"reputation": 245, "user_id": 10709983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z7Gt795OFt4/AAAAAAAAAAI/AAAAAAAAAIE/PgWVubL9WBs/photo.jpg?sz=128", "display_name": "Jonathas Nascimento", "link": "https://stackoverflow.com/users/10709983/jonathas-nascimento"}, "edited": false, "score": 0, "creation_date": 1560817551, "post_id": 56639045, "comment_id": 99851518, "body": "In Java we need to wrap the string param in quotes like that &quot;javascript:setPublic( &#39; &quot; + publicKey + &quot; &#39; )&quot;  maybe you need to do something like that in Kotlin. Do You successfully loaded the html in webview?"}, {"owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "reply_to_user": {"reputation": 245, "user_id": 10709983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z7Gt795OFt4/AAAAAAAAAAI/AAAAAAAAAIE/PgWVubL9WBs/photo.jpg?sz=128", "display_name": "Jonathas Nascimento", "link": "https://stackoverflow.com/users/10709983/jonathas-nascimento"}, "edited": false, "score": 0, "creation_date": 1560860303, "post_id": 56639045, "comment_id": 99867589, "body": "No, that&#39;s not it, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "is_accepted": true, "score": 0, "last_activity_date": 1561040724, "creation_date": 1561040724, "answer_id": 56688155, "question_id": 56639045, "link": "https://stackoverflow.com/questions/56639045/android-webview-load-html-then-set-variable-then-load-script/56688155#56688155", "title": "Android webview load html, then set variable, then load script", "body": "<p>I solved it with this script tag:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var publicKey = \"\"\n\n    function setPublicKey(key) {\n        publicKey = key;\n        console.log(\"public key: \" + publicKey);\n        var url = \"&lt;my_url&gt;?onload=loadChallenge\"\n        var s = document.createElement('script');\n        s.setAttribute('src', url);\n        s.async = true;\n        document.body.appendChild(s);\n    }\n\n    function loadChallenge() {\n        //do some stuff using the publicKey\n        new Thing( {public_key: publicKey } )\n    }\n &lt;/script&gt;\n</code></pre>\n\n<p>First I load the html into the webview from the file.</p>\n\n<p>The webview is using this WebViewClient:</p>\n\n<pre><code>private val myWebViewClient = object : WebViewClient() {\n    override fun onPageFinished(view: WebView?, url: String?) {\n        view?.loadUrl(\"javascript:setPublicKey(`$publicKey`)\")\n    }\n}\n</code></pre>\n\n<p>This waits for the html to load and calls <code>setPublicKey()</code> which sets the key and loads the script.  </p>\n\n<p>Works like a charm.</p>\n"}], "owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 1, "accepted_answer_id": 56688155, "answer_count": 1, "score": 0, "last_activity_date": 1561040724, "creation_date": 1560806383, "question_id": 56639045, "link": "https://stackoverflow.com/questions/56639045/android-webview-load-html-then-set-variable-then-load-script", "title": "Android webview load html, then set variable, then load script", "body": "<p>I have this html in my assets folder.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\n        var publicKey = \"\"\n\n        function setPublicKey(key) {\n            publicKey = key;\n\n            var url = '&lt;' + 'script src=\"https://&lt;my_url&gt;?onload=loadChallenge\" async defer&gt;' + '&lt;' + '/script&gt;'\n            document.write(url);\n        }\n\n        function loadChallenge() {\n            //do some stuff using the publicKey\n            new Thing( {public_key: publicKey } )\n        }\n     &lt;/script&gt;\n&lt;div id=\"CAPTCHA\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I need to load it into a webview, pass and set the publicKey, and then load the script that uses the <code>onLoad</code> param in the url.</p>\n\n<p>So I'm loading my html into the webview and using this WebViewClient: </p>\n\n<pre><code>private val myWebViewClient = object : WebViewClient() {\n        override fun onPageFinished(view: WebView?, url: String?) {\n            view?.loadUrl(\"javascript:setPublicKey($publicKey)\")\n        }\n    }\n</code></pre>\n\n<p><code>document.write(url)</code> isn't working.  <code>document.write(\"anything\")</code> isn't working.</p>\n\n<p>I'm not married to this solution, I just need a solution that lets me load the html, then set the publicKey, and then load that script.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}]