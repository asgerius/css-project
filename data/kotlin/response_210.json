[{"tags": ["android", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 2, "creation_date": 1547685449, "post_id": 54227119, "comment_id": 95280807, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27932123/utf-8-encoding-in-volley-requests\">UTF-8 encoding in Volley Requests</a>"}, {"owner": {"reputation": 3, "user_id": 10925158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/913529eeb4ba289c17e3e438ea75d7f1?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Mancha", "link": "https://stackoverflow.com/users/10925158/marco-mancha"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547845354, "post_id": 54227119, "comment_id": 95346931, "body": "No, on that question the problem is receiving the data, my problem is when I send the data to the server :("}], "answers": [{"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": true, "score": 0, "last_activity_date": 1547850549, "last_edit_date": 1547850549, "creation_date": 1547849922, "answer_id": 54262151, "question_id": 54227119, "link": "https://stackoverflow.com/questions/54227119/volley-parameter-with-accent-sent-as-special-character/54262151#54262151", "title": "Volley parameter with accent, sent as special character (\ufffd)", "body": "<p>when looking at the source-code of <a href=\"https://github.com/google/volley/blob/master/src/main/java/com/android/volley/Request.java\" rel=\"nofollow noreferrer\">Request.java</a>, it prominently states:</p>\n\n<pre><code>/**\n * Default encoding for POST or PUT parameters.\n * See {@link #getParamsEncoding()}.\n**/\nprivate static final String DEFAULT_PARAMS_ENCODING = \"UTF-8\";\n</code></pre>\n\n<p>make sure that the source-code file (there usually is a small indicator bottom right in Android Studio) and the posted content do have <code>UTF-8</code> encoding (it's a quite common issue in web development, which might also apply here). in case the content does not have <code>UTF-8</code> encoding, it needs to be converted before posting it, in order not to end up with the <code>\ufffd</code> replacement character. see this <a href=\"https://stackoverflow.com/a/47842656/549372\">example</a> for the <code>String</code> conversion.</p>\n\n<p>also check the encoding of the script, the database connection and the database on the server-side once; if any of these do not support <code>UTF-8</code>, it won't work. it's not neccessarily a client-side issue (which should support <code>UTF-8</code> out of the box).</p>\n"}], "owner": {"reputation": 3, "user_id": 10925158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/913529eeb4ba289c17e3e438ea75d7f1?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Mancha", "link": "https://stackoverflow.com/users/10925158/marco-mancha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 54262151, "answer_count": 1, "score": 0, "last_activity_date": 1547850549, "creation_date": 1547682750, "question_id": 54227119, "link": "https://stackoverflow.com/questions/54227119/volley-parameter-with-accent-sent-as-special-character", "title": "Volley parameter with accent, sent as special character (\ufffd)", "body": "<p>I want to make a volley post request to my server, but when sending a parameter with an accent, the accent turns into \ufffd. If I make a request through my web application or through postman, the accent is accepted on the server. The problem is when the parameter pass through volley.</p>\n\n<p>Here is an example of my function to make a volley post request.</p>\n\n<pre><code>fun post(path: String, params: JSONObject, headers: HashMap&lt;String, String&gt;, completionHandler: (response: JSONObject?) -&gt; Unit) {\n    val jsonObjReq = object : JsonObjectRequest(Method.POST, basePath + path, params,\n            Response.Listener&lt;JSONObject&gt; { response -&gt;\n                Log.d(TAG, \"/post request OK! Response: $response\")\n                val key = \"code\"\n                val value = 200\n                response.put(key, value)\n                completionHandler(response)\n            },\n            Response.ErrorListener { error -&gt;\n                Log.d(TAG, \"/post request fail! Error:\" + error.message)\n                completionHandler(null)\n            }) {\n        @Throws(AuthFailureError::class)\n        override fun getHeaders(): Map&lt;String, String&gt; {\n            headers.put(\"Content-Type\", \"application/json ; charset=utf-8\")\n            return headers\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mockito", "android-junit"], "comments": [{"owner": {"reputation": 2638, "user_id": 2243178, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/6vqYV.jpg?s=128&g=1", "display_name": "Phan Dinh Thai", "link": "https://stackoverflow.com/users/2243178/phan-dinh-thai"}, "edited": false, "score": 0, "creation_date": 1576843142, "post_id": 54227109, "comment_id": 105035870, "body": "have you found your answer?"}, {"owner": {"reputation": 447, "user_id": 2333802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6koqb.png?s=128&g=1", "display_name": "J&#248;rgen Svennevik Notland", "link": "https://stackoverflow.com/users/2333802/j%c3%b8rgen-svennevik-notland"}, "edited": false, "score": 0, "creation_date": 1593032269, "post_id": 54227109, "comment_id": 110641644, "body": "have you found your answer?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12545223, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC3qFXGj8jmMrg8AInKmno5zyeHIzk2zdyqrT4weg=k-s128", "display_name": "fmetal01", "link": "https://stackoverflow.com/users/12545223/fmetal01"}, "is_accepted": false, "score": 0, "last_activity_date": 1597218874, "creation_date": 1597218874, "answer_id": 63372179, "question_id": 54227109, "link": "https://stackoverflow.com/questions/54227109/mockitojunit-tests-running-in-android-studio-but-failed-when-running-on-the-comm/63372179#63372179", "title": "MockitoJUnit tests running in Android Studio but failed when running on the command line", "body": "<p>I had the same problem, but with Java.</p>\n<p>The reason for me was, that I tried to return a mock on a method that was called in a static context, therefor wasn't bothered by my <code>Mockito.when()</code> call. Even though it is bad practice to do so, I moved the method call out of the static context, because there was no need for it to be static, and the it worked.</p>\n<p>Maybe that helps.</p>\n"}], "owner": {"reputation": 1323, "user_id": 3955965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-Rzg5VafPZ0U/AAAAAAAAAAI/AAAAAAAAAUk/k-AEyHZeLlE/photo.jpg?sz=128", "display_name": "mgcaguioa", "link": "https://stackoverflow.com/users/3955965/mgcaguioa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1597218874, "creation_date": 1547682683, "question_id": 54227109, "link": "https://stackoverflow.com/questions/54227109/mockitojunit-tests-running-in-android-studio-but-failed-when-running-on-the-comm", "title": "MockitoJUnit tests running in Android Studio but failed when running on the command line", "body": "<p>I'm trying to run unit tests using MockitoJUnitRunner; they run fine under Android Studio, but some (not all) tests fail when running in the command line - which is a big deal, I need to be able to run them from my continuous integration platform, not just from an IDE. Here's one of the the actual method being tested:</p>\n\n<pre><code>internal fun requestSecurityQuestion() {\n    if (isViewAttached) mvpView.showLoadingDialog()\n\n    api.getSecurityQuestionToday(mDataManager.token,\n            ACTION_ASK_SECURITY_QUESTION_ON_LOGIN, 0)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(object : CallbackWrapper&lt;SettingsResponse&gt;(mDataManager) {\n                override fun onSuccess(response: SettingsResponse) {\n                    mDataManager.securityQuestion = response.question\n                    mDataManager.processId = response.processId\n\n                    if (isViewAttached) {\n                        mvpView.dismissLoadingDialog()\n                        mvpView.showVsecVerificationDialog(0, response.question!!)\n                    }\n                }\n\n                override fun onFailed(errorId: Int, jsonResponse: String?) {\n                    if (isViewAttached) mvpView.dismissLoadingDialog()\n                }\n            })\n}\n</code></pre>\n\n<p>Here's one of the tests that fail:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner::class)\nclass HomePresenterTest {\n\n@Mock\nprivate var mView: HomeView? = null\n@Mock\nprivate var mDataManager: DataManager? = null\n@Mock\nprivate var mApi: Api? = null\n\nlateinit var mPresenter: HomePresenter\n\n@Before\nfun setUp() {\n    mPresenter = spy(HomePresenter(mDataManager!!))\n    mPresenter.attachView(mView!!)\n}\n\n@Test\nfun requestSecurityQuestion_onSuccess() {\n    val response = SettingsResponse()\n    response.question = TestData.secretQuestion\n    response.processId = TestData.processId\n\n    `when`(mPresenter.api).thenReturn(mApi)\n    `when`(mDataManager!!.token).thenReturn(TestData.userToken)\n    `when`&lt;Observable&lt;SettingsResponse&gt;&gt;(mApi!!.getSecurityQuestionToday(\n            TestData.userToken, ACTION_ASK_SECURITY_QUESTION_ON_LOGIN, 0))\n            .thenReturn(Observable.just(response))\n\n    mPresenter.requestSecurityQuestion()\n\n    verify&lt;HomeView&gt;(mView).dismissLoadingDialog()\n    verify&lt;HomeView&gt;(mView).showVsecVerificationDialog(0, TestData.secretQuestion)\n}\n}\n</code></pre>\n\n<p>And here's what I get when running the tests on command line using <strong><code>./gradlew testDebugUnitTest</code></strong></p>\n\n<pre><code>&gt; Task :app:testDebugUnitTest \n\ncom.domain.app.screens.main.home.HomePresenterTest &gt; requestSecurityQuestion_onSuccess FAILED\norg.mockito.exceptions.verification.WantedButNotInvoked at HomePresenterTest.kt:306\n</code></pre>\n\n<p>Also: I'm using Android Studio 3.1.4, Gradle version is 3.1.2, Mockito's version is 2.8.9</p>\n"}, {"tags": ["kotlin", "dagger", "multibinding"], "answers": [{"tags": [], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1547686196, "creation_date": 1547686196, "answer_id": 54227522, "question_id": 54227107, "link": "https://stackoverflow.com/questions/54227107/error-when-providing-instance-that-has-dagger-multibinding-dependency/54227522#54227522", "title": "Error when providing instance that has Dagger multibinding dependency", "body": "<p>I figured it out:</p>\n\n<pre><code>open class A\nclass B : A()\nclass C : A()\ndata class D(val map: Map&lt;Class&lt;out A&gt;, String&gt;)\n\n@MapKey\ninternal annotation class MyClassKey(val value: KClass&lt;out A&gt;)\n\n@Module\nobject ModuleA {\n\n    @JvmStatic\n    @Provides\n    @IntoMap()\n    @MyClassKey(B::class)\n    fun provideB(): String {\n        return \"B\"\n    }\n\n    @JvmStatic\n    @Provides\n    @IntoMap()\n    @MyClassKey(C::class)\n    fun provideC(): String {\n        return \"C\"\n    }\n\n    @JvmStatic\n    @Provides\n    @IntoMap()\n    @MyClassKey(A::class)\n    fun provideA(): String {\n        return \"A\"\n    }\n\n    @JvmStatic\n    @Provides\n    fun provideD(map: Map&lt;Class&lt;out A&gt;, String&gt;): D {\n        return D(map)\n    }\n}\n\n@Component(modules = [ModuleA::class])\n@Singleton\ninterface ComponentA {\n    fun d(): D\n}\n\nfun main(args : Array&lt;String&gt;) {\n    val dagger = DaggerComponentA.builder().build()\n    val d = dagger.d()\n    println(d.map) // {class dagger.B=B, class dagger.C=C, class dagger.A=A}\n}\n</code></pre>\n\n<p>I needed to supply a custom <code>@MapKey</code> annotation: </p>\n\n<pre><code>@MapKey\ninternal annotation class MyClassKey(val value: KClass&lt;out A&gt;)\n</code></pre>\n\n<p>And change</p>\n\n<pre><code>fun provideD(map: Map&lt;Class&lt;A&gt;, String&gt;): D { \n</code></pre>\n\n<p>to </p>\n\n<pre><code>fun provideD(map: Map&lt;Class&lt;out A&gt;, String&gt;): D {\n</code></pre>\n"}], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547686256, "creation_date": 1547682671, "last_edit_date": 1547686256, "question_id": 54227107, "link": "https://stackoverflow.com/questions/54227107/error-when-providing-instance-that-has-dagger-multibinding-dependency", "title": "Error when providing instance that has Dagger multibinding dependency", "body": "<p>I'm getting an error when I run the following code.  I'm attempting to inject a map constructed using Dagger multibinding into an instance of <code>D</code> via an <code>@Provides</code> method.  </p>\n\n<p>The error is: </p>\n\n<pre><code>error: [Dagger/MissingBinding] java.util.Map&lt;java.lang.Class&lt;dagger.A&gt;,java.lang.String&gt; cannot be provided without an @Provides-annotated method.\npublic abstract dagger.D d();\n                         ^\n  java.util.Map&lt;java.lang.Class&lt;dagger.A&gt;,java.lang.String&gt; is injected at\n      dagger.ModuleA.provideD(map)\n  dagger.D is provided at\n      dagger.ComponentA.d()\n</code></pre>\n\n<p>The code is:</p>\n\n<pre><code>open class A\nclass B : A()\nclass C : A()\ndata class D(val map: Map&lt;Class&lt;A&gt;, String&gt;)\n\n@Module\nobject ModuleA {\n\n    @JvmStatic\n    @Provides\n    @IntoMap()\n    @ClassKey(B::class)\n    fun provideB(): String {\n        return \"B\"\n    }\n\n    @JvmStatic\n    @Provides\n    @IntoMap()\n    @ClassKey(C::class)\n    fun provideC(): String {\n        return \"C\"\n    }\n\n    @JvmStatic\n    @Provides\n    fun provideD(map: Map&lt;Class&lt;A&gt;, String&gt;): D {\n        return D(map)\n    }\n}\n\n@Component(modules = [ModuleA::class])\n@Singleton\ninterface ComponentA {\n    fun d(): D\n}\n\nfun main(args : Array&lt;String&gt;) {\n    val dagger = DaggerComponentA.builder().build()\n    println(dagger.d())\n}\n</code></pre>\n\n<p>I can't find any direct examples of this.  I only find examples that use field injection of the map itself.  </p>\n\n<p>Is what I'm attempting supported?</p>\n"}, {"tags": ["android", "kotlin", "view"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1547672405, "post_id": 54225266, "comment_id": 95276391, "body": "Try the &quot;Recovering views from another view&quot; instructions from that blog post."}, {"owner": {"reputation": 925, "user_id": 2147331, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/aS7vP.jpg?s=128&g=1", "display_name": "Jacqlyn", "link": "https://stackoverflow.com/users/2147331/jacqlyn"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1547672858, "post_id": 54225266, "comment_id": 95276595, "body": "@CommonsWare That&#39;s what I&#39;ve done. Unfortunately, it&#39;s not recognizing tv_email_subject, so I cannot access tv_email_subject.text. I&#39;ve updated the question to include those imports"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1547673148, "post_id": 54225266, "comment_id": 95276715, "body": "&quot;That&#39;s what I&#39;ve done&quot; -- definitely not for <code>tv_email_subject</code>. There, you are using the syntax suitable for an activity or fragment, and <code>EmailAdapter</code> is neither of those. I don&#39;t really understand what the other lines are doing (where is <code>view</code> coming from? why would a <code>ListAdapter</code> be trying to access individual widgets from it?)."}], "answers": [{"comments": [{"owner": {"reputation": 925, "user_id": 2147331, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/aS7vP.jpg?s=128&g=1", "display_name": "Jacqlyn", "link": "https://stackoverflow.com/users/2147331/jacqlyn"}, "edited": false, "score": 0, "creation_date": 1547674564, "post_id": 54225566, "comment_id": 95277366, "body": "Ok, thank you, I added <code>p0.tv_email_subject.text = &quot;Hello Kotlin&quot;</code> to my <code>onCreateViewHolder</code> and it works now. Initially I was trying to update these fields in <code>onBindViewHolder</code>. is that incorrect to do? The question now back to how do I get the data from the observer"}, {"owner": {"reputation": 1138, "user_id": 4738177, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7bea6cda7a3a4b82226b3e1b779c4c6e?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/4738177/kyle"}, "reply_to_user": {"reputation": 925, "user_id": 2147331, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/aS7vP.jpg?s=128&g=1", "display_name": "Jacqlyn", "link": "https://stackoverflow.com/users/2147331/jacqlyn"}, "edited": false, "score": 0, "creation_date": 1547743982, "post_id": 54225566, "comment_id": 95305851, "body": "I usually create a bind(object: Object) function in my view holder.  And then in the OnBind I call the viewHolders bind function and pass the object/data from the list to it.  And then I set the text or w/e properties inside that function.  That make sense?"}], "tags": [], "owner": {"reputation": 1138, "user_id": 4738177, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7bea6cda7a3a4b82226b3e1b779c4c6e?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/4738177/kyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1547673678, "creation_date": 1547673678, "answer_id": 54225566, "question_id": 54225266, "link": "https://stackoverflow.com/questions/54225266/accessing-view-without-findviewbyid/54225566#54225566", "title": "Accessing view without findViewByID?", "body": "<p>Move this code into the view holder.  The adapter itself doesn't have a view, and it can't pull any of these view references.  They will not have been rendered at the time of the initialization of an adapter.</p>\n\n<p>The example that you've shown in the url has it down in the OnCreate.  The view has been created and therefore these elements can be accessed.  An adapter works a bit different.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    welcomeMessage.text = \"Hello Kotlin!\"\n}\n</code></pre>\n"}], "owner": {"reputation": 925, "user_id": 2147331, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/aS7vP.jpg?s=128&g=1", "display_name": "Jacqlyn", "link": "https://stackoverflow.com/users/2147331/jacqlyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 598, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547673678, "creation_date": 1547672263, "last_edit_date": 1547672850, "question_id": 54225266, "link": "https://stackoverflow.com/questions/54225266/accessing-view-without-findviewbyid", "title": "Accessing view without findViewByID?", "body": "<p>I am trying to set text for views in my recyclerview.</p>\n\n<p>I'm following this example: <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/kotlin-android-extensions/</a></p>\n\n<p>I've added the plugins they suggest to the </p>\n\n<pre><code>import kotlinx.android.synthetic.main.email_list_item.view.tv_email_subject\nimport kotlinx.android.synthetic.main.email_list_item.view.*\nimport kotlinx.android.synthetic.main.email_list_item.tv_email_subject\nimport kotlinx.android.synthetic.main.email_list_item.*\n\n\nclass EmailAdapter(val emails: Observer&lt;List&lt;List&lt;String&gt;&gt;&gt;, val emailcontext: Context) :\n    android.support.v7.recyclerview.extensions.ListAdapter&lt;List&lt;List&lt;String&gt;&gt;,RecyclerView.ViewHolder&gt;(ListItemCallback()) {\n    //private val mOnClickListener:OnClickListener = OnClickListener()\n    private val tvEmailSubject = tv_email_subject\n    private val tvEmailFrom = view.tv_email_from\n    private val tvEmailSynopsis = view.tv_email_synopsis\n    private val tvEmailTags = view.tv_email_tags\n</code></pre>\n\n<p>The import statements recognize the views I'm trying to access, but inside my class, when I try to set <code>val tvEmailSubject = tv_email_subject</code>, it tells me \"unresolved reference,\" even though it is explicitly imported.</p>\n\n<p>How do I set text from my class this way?</p>\n"}, {"tags": ["spring-boot", "gradle", "kotlin", "mustache"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 1841338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faafa3eec2c605d9a1b0c50269ea43ec?s=128&d=identicon&r=PG", "display_name": "Rotzlucky", "link": "https://stackoverflow.com/users/1841338/rotzlucky"}, "edited": false, "score": 0, "creation_date": 1547675529, "post_id": 54225646, "comment_id": 95277787, "body": "Ok thanks for your answer. That doesn&#39;t seem very elegant. And besides not knowing where to put this lambda at the moment, I&#39;m not sure I want to implement a system to lookup i18n values. I&#39;m not sure. Should I still accept the answer?"}, {"owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "reply_to_user": {"reputation": 77, "user_id": 1841338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faafa3eec2c605d9a1b0c50269ea43ec?s=128&d=identicon&r=PG", "display_name": "Rotzlucky", "link": "https://stackoverflow.com/users/1841338/rotzlucky"}, "edited": false, "score": 1, "creation_date": 1547675950, "post_id": 54225646, "comment_id": 95277954, "body": "Whether or not you accept that answer is, of course, up to you. The problem that you&#39;re facing is a side-effect of choosing to use Mustache rather than a template engine with more features (and more complexity) such as Thymeleaf. If you&#39;re looking for something with a rich set of features that does a lot for you out of the box, there are choices that are a better fit than Mustache. Thymeleaf, as used by the tutorial you were following, is the most popular."}, {"owner": {"reputation": 77, "user_id": 1841338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faafa3eec2c605d9a1b0c50269ea43ec?s=128&d=identicon&r=PG", "display_name": "Rotzlucky", "link": "https://stackoverflow.com/users/1841338/rotzlucky"}, "edited": false, "score": 0, "creation_date": 1547676975, "post_id": 54225646, "comment_id": 95278379, "body": "Yes, I&#39;m currently evaluating my options. Since your answer is technically correct, I will accept, event though I didn&#39;t try it :)"}], "tags": [], "owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "is_accepted": true, "score": 1, "last_activity_date": 1591251955, "last_edit_date": 1592644375, "creation_date": 1547674010, "answer_id": 54225646, "question_id": 54225243, "link": "https://stackoverflow.com/questions/54225243/why-doesnt-my-spring-boot-application-render-messages-properties-in-mustache-te/54225646#54225646", "title": "Why doesn&#39;t my spring boot application render messages.properties in mustache templates", "body": "<p><a href=\"https://github.com/samskivert/jmustache\" rel=\"nofollow noreferrer\">JMustache</a>, which is what <code>spring-boot-starter-mustache</code> uses, does not provide any internationalization support out of the box. The <code>{{#i18n}}greeting{{/i18n}}</code> in your template is ignored as JMustache doesn't recognize <code>i18n</code>.</p>\n<p>As documented in its readme, you can implement internationalisation support using a <code>Mustache.Lamda</code>:</p>\n<blockquote>\n<p>You can also obtain the results of the fragment execution to do things like internationalization or caching:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object ctx = new Object() {\n    Mustache.Lambda i18n = new Mustache.Lambda() {\n        public void execute (Template.Fragment frag, Writer out) throws IOException {\n            String key = frag.execute();\n            String text = // look up key in i18n system\n            out.write(text);\n        }\n    };\n};\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>// template might look something like:\n&lt;h2&gt;{{#i18n}}title{{/i18n}&lt;/h2&gt;\n{{#i18n}}welcome_msg{{/i18n}}\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 431, "user_id": 5821466, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M11VPnl8Vg4/AAAAAAAAAAI/AAAAAAAAAHw/dOmWE1xscG8/photo.jpg?sz=128", "display_name": "Arivaldo", "link": "https://stackoverflow.com/users/5821466/arivaldo"}, "is_accepted": false, "score": 0, "last_activity_date": 1553893788, "creation_date": 1553893788, "answer_id": 55425513, "question_id": 54225243, "link": "https://stackoverflow.com/questions/54225243/why-doesnt-my-spring-boot-application-render-messages-properties-in-mustache-te/55425513#55425513", "title": "Why doesn&#39;t my spring boot application render messages.properties in mustache templates", "body": "<p>Adding on <a href=\"https://stackoverflow.com/users/1384297/andy-wilkinson\">Andy Winlkinson</a> answer and Joining on <a href=\"https://stackoverflow.com/users/1841338/rotzlucky\">Rotzlucky</a> expectatives I share what I have done to achieve JMustache internacionalization working.</p>\n\n<pre><code>@ControllerAdvice\npublic class InternacionalizationAdvice {\n\n    @Autowired\n    private MessageSource message;\n\n    @ModelAttribute(\"i18n\")\n    public Mustache.Lambda i18n(Locale locale){\n        return (frag, out) -&gt; {\n            String body = frag.execute();\n            String message = this.message.getMessage(body, null, locale);\n            out.write(message);\n        };\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 1841338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faafa3eec2c605d9a1b0c50269ea43ec?s=128&d=identicon&r=PG", "display_name": "Rotzlucky", "link": "https://stackoverflow.com/users/1841338/rotzlucky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 54225646, "answer_count": 2, "score": 0, "last_activity_date": 1591251955, "creation_date": 1547672150, "question_id": 54225243, "link": "https://stackoverflow.com/questions/54225243/why-doesnt-my-spring-boot-application-render-messages-properties-in-mustache-te", "title": "Why doesn&#39;t my spring boot application render messages.properties in mustache templates", "body": "<p>I want to build a spring boot web application with mustache templates that uses internationalization.</p>\n\n<p>Following this guide <a href=\"https://www.baeldung.com/spring-boot-internationalization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-internationalization</a> I tried a mini example with gradle and kotlin that works with thymeleaf templates but fails for mustache</p>\n\n<p>In order to adapt the guide for mustache I did the following changes:</p>\n\n<ol>\n<li>switch\n<code>implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'</code> with \n<code>implementation 'org.springframework.boot:spring-boot-starter-mustache'</code></li>\n<li>rename international.html to international.mustache</li>\n<li><p>alter international.mustache like this</p>\n\n<p><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Home&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;{{#i18n}}greeting{{/i18n}} test&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;</code></p></li>\n</ol>\n\n<p>A file messages.properties contains the line\n<code>greeting=Hello! Welcome to our website!</code></p>\n\n<p>Just to provide all neccessary code here is my configuration class</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages = [\"com.example.translationtest.config\"])\nclass AppConfig: WebMvcConfigurer {\n\n    @Bean\n    fun localeResolver(): LocaleResolver {\n        val slr = SessionLocaleResolver()\n        slr.setDefaultLocale(Locale.US)\n        return slr\n    }\n\n    @Bean\n    fun localeChangeInterceptor(): LocaleChangeInterceptor {\n        val lci = LocaleChangeInterceptor()\n        lci.paramName = \"lang\"\n        return lci\n    }\n\n    override fun addInterceptors(registry: InterceptorRegistry) {\n         registry.addInterceptor(localeChangeInterceptor())\n    }\n} \n</code></pre>\n\n<p>When I visit the page in the browser I only see the string <code>test</code> \nWhile I would expect to see </p>\n\n<p><code>Hello! Welcome to our website! test</code></p>\n"}, {"tags": ["spring-boot", "kotlin", "swagger-2.0"], "comments": [{"owner": {"reputation": 9727, "user_id": 688355, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6e2d06b47875015baccb84aba90d64c5?s=128&d=identicon&r=PG", "display_name": "Bob Kuhar", "link": "https://stackoverflow.com/users/688355/bob-kuhar"}, "edited": false, "score": 0, "creation_date": 1547674082, "post_id": 54225131, "comment_id": 95277170, "body": "Oh, geez.  I see.  This isn&#39;t Kotlin at all, really.  This is up-the-middle Java deprecation in light of Java 8 default methods.  If I swap out <code>WebMvcConfigurer</code> for <code>WebMvcConfigurerAdapter</code>, the Deprecations go away and everything just works."}], "answers": [{"tags": [], "owner": {"reputation": 9727, "user_id": 688355, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6e2d06b47875015baccb84aba90d64c5?s=128&d=identicon&r=PG", "display_name": "Bob Kuhar", "link": "https://stackoverflow.com/users/688355/bob-kuhar"}, "is_accepted": true, "score": 1, "last_activity_date": 1547846943, "creation_date": 1547846943, "answer_id": 54261658, "question_id": 54225131, "link": "https://stackoverflow.com/questions/54225131/how-do-i-configure-my-spring-boot-kotlin-app-to-redirect-to-swagger-ui-html/54261658#54261658", "title": "How do I configure my Spring Boot (Kotlin) app to redirect / to /swagger-ui.html?", "body": "<p>This isn't Kotlin at all, it is an up-the-middle Java deprecation:  <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.html</a>.</p>\n\n<p>When you \"Kotlinize\" this in light of Java 8 default methods...</p>\n\n<pre><code>package com.climate.squirrel.web\n\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer\nimport springfox.documentation.swagger2.annotations.EnableSwagger2\nimport springfox.documentation.builders.PathSelectors\nimport springfox.documentation.builders.RequestHandlerSelectors\nimport springfox.documentation.spi.DocumentationType\nimport springfox.documentation.spring.web.plugins.Docket\n\n@Configuration\n@EnableSwagger2\nclass SwaggerConfiguration {\n\n    @Bean\n    open fun api(): Docket = Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.any())\n            .paths(PathSelectors.any())\n            .build()\n\n\n    @Bean\n    fun forwardToIndex(): WebMvcConfigurer {\n        return object : WebMvcConfigurer {\n            override fun addViewControllers(registry: ViewControllerRegistry) {\n                registry.addViewController(\"/\").setViewName(\"redirect:/swagger-ui.html\")\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9727, "user_id": 688355, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6e2d06b47875015baccb84aba90d64c5?s=128&d=identicon&r=PG", "display_name": "Bob Kuhar", "link": "https://stackoverflow.com/users/688355/bob-kuhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "accepted_answer_id": 54261658, "answer_count": 1, "score": 1, "last_activity_date": 1547846943, "creation_date": 1547671722, "question_id": 54225131, "link": "https://stackoverflow.com/questions/54225131/how-do-i-configure-my-spring-boot-kotlin-app-to-redirect-to-swagger-ui-html", "title": "How do I configure my Spring Boot (Kotlin) app to redirect / to /swagger-ui.html?", "body": "<p>I'm struggling to figure out what I need to add to the SwaggerConfiguration to get my Spring Boot app to automatically redirect requests to / to /swagger-ui.html</p>\n\n<p>The current SwaggerConfiguration is like...</p>\n\n<pre><code>package com.climate.squirrel.web\n\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport springfox.documentation.swagger2.annotations.EnableSwagger2\nimport springfox.documentation.builders.PathSelectors\nimport springfox.documentation.builders.RequestHandlerSelectors\nimport springfox.documentation.spi.DocumentationType\nimport springfox.documentation.spring.web.plugins.Docket\n\n@Configuration\n@EnableSwagger2\nclass SwaggerConfiguration {\n\n    @Bean\n    open fun api(): Docket = Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.any())\n            .paths(PathSelectors.any())\n            .build()\n}\n</code></pre>\n\n<p>In Java, this was achieved like...</p>\n\n<pre><code>@Bean\npublic WebMvcConfigurerAdapter forwardToIndex() {\n    return new WebMvcConfigurerAdapter() {\n        @Override\n        public void addViewControllers(ViewControllerRegistry registry) {\n            registry.addViewController(\"/\").setViewName(\"redirect:/swagger-ui.html\");\n        }\n    };\n}\n</code></pre>\n\n<p>When I try to just guess at the Kotlin equivalent, </p>\n\n<pre><code>@Bean\nfun forwardToIndex(): WebMvcConfigurerAdapter {\n    return object : WebMvcConfigurerAdapter() {\n        override fun addViewControllers(registry: ViewControllerRegistry) {\n            registry.addViewController(\"/\").setViewName(\"redirect:/swagger-ui.html\")\n        }\n    }\n}\n</code></pre>\n\n<p>I get Deprecation warnings that I don't understand how to get around.</p>\n\n<pre><code>w: /Users/robert.kuhar/dev/squirrel/src/main/kotlin/com/climate/squirrel/web/SwaggerConfiguration.kt: (6, 58): 'WebMvcConfigurerAdapter' is deprecated. Deprecated in Java\nw: /Users/robert.kuhar/dev/squirrel/src/main/kotlin/com/climate/squirrel/web/SwaggerConfiguration.kt: (26, 27): 'WebMvcConfigurerAdapter' is deprecated. Deprecated in Java\nw: /Users/robert.kuhar/dev/squirrel/src/main/kotlin/com/climate/squirrel/web/SwaggerConfiguration.kt: (27, 25): 'WebMvcConfigurerAdapter' is deprecated. Deprecated in Java\n</code></pre>\n\n<p>How do I get rid of these warnings?</p>\n"}, {"tags": ["android", "kotlin", "authorization", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 2195, "user_id": 2472350, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/slD29.jpg?s=128&g=1", "display_name": "Amin Keshavarzian", "link": "https://stackoverflow.com/users/2472350/amin-keshavarzian"}, "is_accepted": true, "score": 0, "last_activity_date": 1550402160, "creation_date": 1550402160, "answer_id": 54732679, "question_id": 54224859, "link": "https://stackoverflow.com/questions/54224859/webservice-is-giving-error-401-in-android-retrofit-2-but-works-in-volley-and-po/54732679#54732679", "title": "Webservice is giving error 401 in Android Retrofit 2, but works in Volley and Postman", "body": "<p>So I've found out what was the problem.</p>\n\n<p>The problem was I had to use \"https\" and I was using http, apparently Volley and Postman both automatically add the s in the end but Retrofit didn't for some reasons.</p>\n"}], "owner": {"reputation": 2195, "user_id": 2472350, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/slD29.jpg?s=128&g=1", "display_name": "Amin Keshavarzian", "link": "https://stackoverflow.com/users/2472350/amin-keshavarzian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 54732679, "answer_count": 1, "score": 0, "last_activity_date": 1550402160, "creation_date": 1547670403, "last_edit_date": 1547672863, "question_id": 54224859, "link": "https://stackoverflow.com/questions/54224859/webservice-is-giving-error-401-in-android-retrofit-2-but-works-in-volley-and-po", "title": "Webservice is giving error 401 in Android Retrofit 2, but works in Volley and Postman", "body": "<p>I have been using retrofit and auth for a while with no problem.\nBut from this API call while everything is exactly the same as my other projects which works, I'm constantly getting error code 401</p>\n\n<p>here is my API calling code:</p>\n\n<pre><code>@GET(\"workers\")\n    fun getWorkersList(): Observable&lt;BaseResponseModel&lt;WorkerAttributes&gt;&gt;\n\n    companion object Factory {\n        fun create(): WebServices {\n            val okHttpClientBuilder = OkHttpClient.Builder()\n            val httpLoggingInterceptor = HttpLoggingInterceptor()\n            httpLoggingInterceptor.level = HttpLoggingInterceptor.Level.BODY\n            okHttpClientBuilder.addInterceptor(httpLoggingInterceptor)\n            okHttpClientBuilder.addInterceptor { chain -&gt;\n                val request = chain.request().newBuilder()\n                request.addHeader(\"Authorization\", \"Bearer eyJlbmMiOiJBMTI4Q0JDLUhTMjU2IiwiYWxnIjoiUlNBLU9BRVAiLCJraWQiOiIzaGltWWEyYmJHS18zSVdZMUxUUHdyTUl2ZkF3ZVhZQmRNLTU5XzN6c0MwIn0.DIwk0Q215_M7rt3iGfyRVrImhKCXvEB5NBoLQj6iqBnN9yCWWBhGW9fmX6beOajtWgC8gpupe1hJ-iurFRbo2Eg52Nh9ljkkO5Mz8ulSpH7YlfP8Yi-TBrNoPIf_IvHrr1Rt8bG0w2Ie1Jo3BBOguMQ6Q2WI4fQDY-oFIluxOQ5t9E0_XvDhna7maiQnWevLbu80Mj7g643v5nvNWOdpSAXW91rZXIXdal_A_ffY-IUyvYhEJuOkyHWwNonuGjiGHWKPTjTR16w3seoSs4srkacOIN1cmMdXKlkvlWSYCv5Nd8xJ_rTqA4GIyKLRSALYcuiTFMOIxeMIpPB5DjpMTOmOD72QnD8MHMx-SNHk2Yva5iPs__h_WXIKzjME6wRQxTBayfWcXuA6loTdSXnV5Tfl63y62nYZUesh2ElcF5ZK_if3R70jTh-_dxAc8-EcxagAgeCAYNGx-i0fokA4Crfz0A9MKJv5XKn8hY-_4_AT-tsIwBQ6YWYISPBGqyUFoBX0LGDEojIywQBXcLSqHRoah45IDW87TTjVTtPjKsxrIr9rl661dYKRE4ViTLGON0hRBmmNAOokcTNv4tEPBWDS5OPIVtnqkCruAV1YXGKMWpbGOlH6pi2sLY5FtNP9h7nNKnK59gX_FMwXyLjzdPU7HkEEv2svTHN_vBFDUeE.UmwA_rn0FGSRXl4kVPrF3Q.lpZ6JQSke2wLCi3X18mNMAYs5x2nCk7LGrs65nOo-cv8FQ1zfYz9qj7TdH26BxmIrtJiBlLkLhJJnWmSjceNsQnCaOFt36cStJKTHbRkydezuBJyIgvlQH-8Y3nTXLpIbo3JQjxTJ-lUwmY8bLnyxS91DaKEjmip3DoXJLSa4uOivuC68npCCtPVFeHbdHrzS_wQTRsUEh1o0XtWI1TtW868mV3njXwtjHdKxp7Uk8wfY5i5R4qJHxXWgf8PuXJA99Hh1Jwzee_tuA67wnPxvKf95mFkZVYZdDqNKrFkDE9B7-r5FjLi3pQZdTMXjFBGAMv20jrM5BuvCZLP9p6ugbG5pOBRUjBT5RtQpw48_th6pTa4W36MkBkh5TbXS27yuOXvi-b3blcSCEiizEDcJvqm4DBwqCNlSR8iG_QgktFDzkG99--LHV4R956K6cAozVAeyv0Jo9mKfaTsRLlMNhfTFpPrZmR5hVb11CEmmLi9C84aK1eivlYOZenzdZKpYE2mBKjZXOl96PJ3jb-OwEO2MDw9fyGzez8NaVhWAGGw9rm1iXnQyGljOw_ufOr5GLPHXXMhjSGVpXbN65sCTv8p6XGZnJiW7otVUzzmxG_kYQ3tkFLTyG9p6SG3GGBDVYG_pkDpPWavWlQdplIDTsOrjoXu-8sAYTx6GO_rGL13haW7KY9pRi9v3324zkNYOYL8CWWZzjcm26607lTEhpVWvkP4QwisGjvrAMoyj-GnlKvyK1u-1sPcuRMUg-8AKRYzBdtlChoUOtdVwYsOHxiLAkRMBH4PRIqWyUNILmlugXGNA7umZxj8uWy2mKjpZ7M8D_YlR66tj4duARp0lJYfeuvDqbXABVuSoLs8qaEFuYXLfiTNH4zItNeMQjfzT_eh9S_ligNALdOb82FgZzYv5ZKbFMo2s9kwzAb4PdwyaZjIP4_UJiJBqOazslWJYpdMLY2ZHGwfg0ZFP3adV06hbR1i9bJ7lyew2Dalqh9Sq-cFPg32-6rbZXYJnFFzfMks4FOJCgPOhCz2QODdbZU8_nQp_EQ4mIXnD2BR6BcCa3odD8rliM3IYOWnq3AhCHen55FwygCw6-u61Q03m4httHFozE-x4YiQivTQ70YUmdYNMyU_chQ3WfiJzaOgEwjq8vIP0hasxiaE1fBG7PncjGCUNB9sFiyVYjmSbP68iIQFqQ10oo9hnMYVxs_nSdem23fDNOutoikzjSHPo4_qxg-hNV0GDIrzBPLGsGw_W9agnUQOpwtpYycZ9v472FWhI5z0c8-8U7D9cV9s0ELyO9U7_vHhSoZJCq1edIFVVKTHsVfR2-vOlCHuqlbH4TzqGtIzf-5nUuY7HQ4iIxdjOrfU2GtMaU_tB8v3ZsC2Nr7IMYeyeBhItOXccNnqHUhMyZ-LdHkoafendmWTnnMOlkK2l91Jil4tPrJyVn1YFlsbzobQOurrsz2MAW3Ew1ibTCsRvlKWRs8dOSAxoUBcQL-r9g5_BcF0wsV7xzWvIHFm7fOuqLGsjsrCMAuXKImA2tFYECpr6vqCq8ORdqapUOlMb0_K4Iae-AhEkbMVERgLS3O05tRhQATMl2jnqA71DImzDoQMC_c45ELXToqX7x0oiINsOLQKBFQjiQ4-G9C1DJlZ67ZVtSN2PyKVNqMNegEtSz1uieOmkoXa1Vq62CrDp7KORToTHMZEV9uWe7KAOzqYm7jwhEvFs2jgvSga9Au2YgzqxbBjpC8RDSQqhUZTQeg2gecFLRpIObQ._YXzEw0gT4HbLqcFfdWoFQ\")\n                request.addHeader(\"Content-Type\", \"application/json\")\n                request.addHeader(\"X-Requested-With\", \"XMLHttpRequest\")\n                request.addHeader(\"Cookie\", \"XMLHttpRequest\")\n                chain.proceed(request.build())\n            }\n\n            val retrofit = Retrofit.Builder()\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(okHttpClientBuilder.build())\n                .baseUrl(Constants.BASE_URL)\n                .build()\n\n            return retrofit.create(\n                WebServices::\n                class.java\n            )\n        }\n    }\n</code></pre>\n\n<p>and here is my error:</p>\n\n<pre><code>D/OkHttp: --&gt; GET http://pilot.wakecap.com/api/sites/10010001/workers\nD/OkHttp: --&gt; END GET\nI/art: Do partial code cache collection, code=60KB, data=57KB\nI/art: After code cache collection, code=58KB, data=56KB\nI/art: Increasing code cache capacity to 256KB\nD/OkHttp: &lt;-- 401 Unauthorized https://pilot.wakecap.com/api/sites/10010001/workers (2645ms)\nD/OkHttp: Server: nginx/1.14.0 (Ubuntu)\nD/OkHttp: Date: Wed, 16 Jan 2019 20:16:44 GMT\nD/OkHttp: Content-Type: application/json; charset=utf-8\nD/OkHttp: Content-Length: 83\nD/OkHttp: Connection: keep-alive\nD/OkHttp: X-DNS-Prefetch-Control: off\nD/OkHttp: X-Frame-Options: SAMEORIGIN\nD/OkHttp: Strict-Transport-Security: max-age=15552000; includeSubDomains\nD/OkHttp: X-Download-Options: noopen\nD/OkHttp: X-Content-Type-Options: nosniff\nD/OkHttp: X-XSS-Protection: 1; mode=block\nD/OkHttp: Access-Control-Allow-Origin: *\nD/OkHttp: ETag: W/\"53-ocmggiYI6s3nDDtb9FHiqlrJJYU\"\nD/OkHttp: {\"code\":\"unauthenticated\",\"message\":\"Server Error. Try again later!!\",\"status\":401}\nD/OkHttp: &lt;-- END HTTP (83-byte body)\n</code></pre>\n\n<p>PS: I have also used Cookies but it didn't help\nPS2: it says try again later, but it works perfectly fine with Postman\nPS3: For some reasons, Volley works just fine :|</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-livedata"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1547671439, "post_id": 54224678, "comment_id": 95275958, "body": "I guess you can get did of question mark here <code>mViewModel?</code>, bcz <code>ViewModelProviders.of()</code> will always return a <code>ViewModel</code>"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1547671551, "post_id": 54224678, "comment_id": 95276018, "body": "<code>GlobalScope.launch</code> is not recommended to use, instead  local scope should be used to launch a coroutine."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1547671695, "post_id": 54224678, "comment_id": 95276078, "body": "Could you please also provide code for <code>EpisodesFragment</code>"}, {"owner": {"reputation": 256, "user_id": 5198522, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LZ4EJ.jpg?s=128&g=1", "display_name": "MrBovineJoni", "link": "https://stackoverflow.com/users/5198522/mrbovinejoni"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1547671728, "post_id": 54224678, "comment_id": 95276095, "body": "Sure, I&#39;ll edit."}], "answers": [{"comments": [{"owner": {"reputation": 256, "user_id": 5198522, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LZ4EJ.jpg?s=128&g=1", "display_name": "MrBovineJoni", "link": "https://stackoverflow.com/users/5198522/mrbovinejoni"}, "edited": false, "score": 0, "creation_date": 1547673766, "post_id": 54224978, "comment_id": 95277025, "body": "Yes. This works. I could swear I tried this earlier and it didn&#39;t work but it&#39;s working now. Thank you!"}, {"owner": {"reputation": 719, "user_id": 516754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ab031d3eaa3121b77868a0d443dc060?s=128&d=identicon&r=PG", "display_name": "d4c0d312", "link": "https://stackoverflow.com/users/516754/d4c0d312"}, "edited": false, "score": 0, "creation_date": 1571365063, "post_id": 54224978, "comment_id": 103225324, "body": "Interesting if you come from Java - this caught me out - it works with the local context in Java (this)"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 2, "last_activity_date": 1547672360, "last_edit_date": 1547672360, "creation_date": 1547671007, "answer_id": 54224978, "question_id": 54224678, "link": "https://stackoverflow.com/questions/54224678/livedata-not-being-set-observer-never-being-called/54224978#54224978", "title": "LiveData not being set, observer never being called", "body": "<p>Try to use <code>activity</code> property instead of <code>this</code> in your <code>EpisodesFragment</code> when you are requesting <code>MainViewModel</code>:</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    mMainViewModel = ViewModelProviders.of(\n        activity,\n        mViewModelFactory\n    ).get(MainViewModel::class.java)\n\n    // ...\n}\n</code></pre>\n\n<p><code>ViewModelProviders.of</code> may return different <code>MainViewModel</code> instance for fragment.</p>\n"}], "owner": {"reputation": 256, "user_id": 5198522, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LZ4EJ.jpg?s=128&g=1", "display_name": "MrBovineJoni", "link": "https://stackoverflow.com/users/5198522/mrbovinejoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 54224978, "answer_count": 1, "score": 1, "last_activity_date": 1547674294, "creation_date": 1547669717, "last_edit_date": 1547674294, "question_id": 54224678, "link": "https://stackoverflow.com/questions/54224678/livedata-not-being-set-observer-never-being-called", "title": "LiveData not being set, observer never being called", "body": "<p>I'm trying to save an \"Episode\" in my <code>MainViewModel</code> and allow other <code>Fragments</code> to have access to it via that <code>ViewModel</code>.</p>\n\n<p>In <code>MainActivity</code> I'm observing changes in the <code>ViewModel</code>, which is never being triggered. Weirdly, it works fine for my MainFeed RSS object</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    mViewModel = ViewModelProviders.of(this, mViewModelFactory).get(MainViewModel::class.java)\n\n\n    mViewModel?.getMainFeed()\n\n    setFragment(EpisodesFragment(), false)\n\n    mViewModel?.episode?.observe(this, Observer {\n        Log.d(TAG, \"HERE 123\")\n    })\n}\n</code></pre>\n\n<p>Here's the <code>MainViewModel</code>:</p>\n\n<pre><code>class MainViewModel @Inject constructor(): ViewModel() {\n    val TAG: String? = MainViewModel::class.simpleName\n\n    @Inject lateinit var api: NetworkModule\n\n    var mainFeed: MutableLiveData&lt;Response&lt;RSS&gt;&gt; = MutableLiveData()\n    var episode: MutableLiveData&lt;Item&gt; = MutableLiveData()\n\n    companion object{\n        fun create(activity: FragmentActivity, viewModelFactory: ViewModelProvider.Factory): MainViewModel {\n            return ViewModelProviders.of(activity, viewModelFactory).get(MainViewModel::class.java)\n        }\n    }\n\n    fun getMainFeed(){\n        GlobalScope.launch(Dispatchers.Main) {\n            val request = api.getRssFeed()\n            val response = request.await()\n\n            if(response.isSuccessful){\n                Log.d(TAG, \"isSuccessful\")\n\n                mainFeed.value = response\n            } else {\n                Log.d(TAG, \"not successful\")\n            }\n        }\n    }\n\n    fun setEpisode(item: Item?){\n        Log.d(TAG, item?.description)\n        episode?.value = item\n    }\n}\n</code></pre>\n\n<p>In my <code>EpisodesFragment</code> I'm passing <code>MainViewModel</code> to a <code>RecyclerView</code> adapter. In the layout for the Episode item I have an <code>onClick()</code> that calls <code>mViewModel.setEpisode(episode)</code></p>\n\n<p>So the clicks are registering. I set breakpoints and can see the episode item is actually there and holds data in the <code>setEpisode()</code> method. It just never actually gets set in the <code>LiveData</code>. I verified that the <code>ViewModel</code> is not null in any locations I've used it.</p>\n\n<p>Edit: Adding code for EpisodesFragment</p>\n\n<pre><code>class EpisodesFragment @Inject constructor() : DaggerFragment() {\n    var TAG: String? = EpisodesFragment::class.simpleName\n\n    var mBinding: FragmentEpisodesBinding? = null\n    var mRV: RecyclerView? = null\n    var mAdapter: EpisodesRecyclerViewAdapter? = null\n\n    var mItems: MutableList&lt;Item&gt; = ArrayList&lt;Item&gt;()\n\n    @Inject\n    lateinit var mViewModelFactory: ViewModelProvider.Factory\n    var mViewModel: EpisodesViewModel? = null\n    var mMainViewModel: MainViewModel? = null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        super.onCreateView(inflater, container, savedInstanceState)\n\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_episodes, container, false)\n        mBinding?.executePendingBindings()\n\n\n        return mBinding?.root\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        mViewModel = ViewModelProviders.of(this,\n            mViewModelFactory\n        ).get(EpisodesViewModel::class.java)\n\n        mMainViewModel = ViewModelProviders.of(\n            this,\n            mViewModelFactory\n        ).get(MainViewModel::class.java)\n\n        if (mBinding?.rv != null) {\n            mRV = mBinding?.rv\n            val context: Context? = mRV?.context\n\n            mRV?.setHasFixedSize(true)\n\n            mAdapter = EpisodesRecyclerViewAdapter(mMainViewModel)\n\n            mRV?.adapter = mAdapter\n\n            val layoutManager = LinearLayoutManager(context, LinearLayoutManager.VERTICAL, false)\n            val dividerItemDecoration = DividerItemDecoration(\n                mRV?.context,\n                layoutManager.orientation\n            )\n            mRV?.addItemDecoration(dividerItemDecoration)\n            mRV?.layoutManager = layoutManager\n\n        }\n\n        mViewModel?.getMainFeed()\n\n        mViewModel?.mainFeed?.observe(viewLifecycleOwner, Observer {\n            mItems.addAll(it?.body()?.channel?.item!!)\n\n            Log.d(TAG, mItems.get(0).description)\n            mAdapter?.setItems(mItems)\n            mAdapter?.notifyDataSetChanged()\n        })\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-studio-3.4"], "answers": [{"tags": [], "owner": {"reputation": 7220, "user_id": 2423194, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/310SZ.jpg?s=128&g=1", "display_name": "Rock Lee", "link": "https://stackoverflow.com/users/2423194/rock-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1553299832, "creation_date": 1553299832, "answer_id": 55309327, "question_id": 54223921, "link": "https://stackoverflow.com/questions/54223921/various-plugins-such-as-kotlin-are-marked-incompatible-with-android-studio-3-4/55309327#55309327", "title": "Various plugins (such as Kotlin) are marked incompatible with Android Studio 3.4 Beta 1", "body": "<p>I had the same issue after just installing the latest version of IntelliJ IDEA. I realized that there are some versions listed on their website that weren't compatible. I went to the home menu <code>IntelliJ IDEA</code> -> <code>Check for Updates...</code> and realized there were new Kotlin updates, even though I thought I had just installed the latest Kotlin version on my prior version of IntelliJ a few minutes before. After installing the Kotlin updates, everything worked again.</p>\n\n<p><a href=\"https://plugins.jetbrains.com/plugin/6954-kotlin\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6954-kotlin</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/UBLoY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UBLoY.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1411, "user_id": 3236455, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3e9c648b24d09ddde9c8a5bd8c671305?s=128&d=identicon&r=PG", "display_name": "der_Fidelis", "link": "https://stackoverflow.com/users/3236455/der-fidelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 901, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553299832, "creation_date": 1547666546, "last_edit_date": 1547666908, "question_id": 54223921, "link": "https://stackoverflow.com/questions/54223921/various-plugins-such-as-kotlin-are-marked-incompatible-with-android-studio-3-4", "title": "Various plugins (such as Kotlin) are marked incompatible with Android Studio 3.4 Beta 1", "body": "<p>For both the Kotlin and Material Theme plugins I get the message that they are \"incompatible with the current android studio version.\" Kotlin files fail to be read as anything other than plaintext, and I get a notification saying, \"Plugin supporting feature (Facet[kotlin-language]) is currently not installed.\"</p>\n\n<p>What's going wrong here? Is anyone else having this problem?</p>\n\n<p><a href=\"https://i.stack.imgur.com/0QSHW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0QSHW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["spring-boot", "intellij-idea", "kotlin", "classpath"], "comments": [{"owner": {"reputation": 127, "user_id": 7239285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-luJwQ-0etqA/AAAAAAAAAAI/AAAAAAAAABE/y6RAfXZLtfE/photo.jpg?sz=128", "display_name": "Plasmatiger", "link": "https://stackoverflow.com/users/7239285/plasmatiger"}, "edited": false, "score": 0, "creation_date": 1547661850, "post_id": 54222840, "comment_id": 95271536, "body": "Can someone help me with formatting. My code part (error) doesn&#39;t comes in scroll. I am new to StackOverflow."}, {"owner": {"reputation": 3624, "user_id": 10664446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7dc12bb95214084eff7e94526ef0be?s=128&d=identicon&r=PG&f=1", "display_name": "stacker", "link": "https://stackoverflow.com/users/10664446/stacker"}, "edited": false, "score": 0, "creation_date": 1547662543, "post_id": 54222840, "comment_id": 95271879, "body": "can you provide your application.properties?"}, {"owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "edited": false, "score": 0, "creation_date": 1547666480, "post_id": 54222840, "comment_id": 95273684, "body": "Where is your <code>keystore.p12</code> file and how are you launching the application when it fails to start?"}, {"owner": {"reputation": 127, "user_id": 7239285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-luJwQ-0etqA/AAAAAAAAAAI/AAAAAAAAABE/y6RAfXZLtfE/photo.jpg?sz=128", "display_name": "Plasmatiger", "link": "https://stackoverflow.com/users/7239285/plasmatiger"}, "reply_to_user": {"reputation": 3624, "user_id": 10664446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7dc12bb95214084eff7e94526ef0be?s=128&d=identicon&r=PG&f=1", "display_name": "stacker", "link": "https://stackoverflow.com/users/10664446/stacker"}, "edited": false, "score": 0, "creation_date": 1547890267, "post_id": 54222840, "comment_id": 95355038, "body": "@stacker I edited to include information of keystore.p12 location. Just to elaborate it is in app directory along with .gradlew, build.gradle, etc"}, {"owner": {"reputation": 127, "user_id": 7239285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-luJwQ-0etqA/AAAAAAAAAAI/AAAAAAAAABE/y6RAfXZLtfE/photo.jpg?sz=128", "display_name": "Plasmatiger", "link": "https://stackoverflow.com/users/7239285/plasmatiger"}, "reply_to_user": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "edited": false, "score": 0, "creation_date": 1547890325, "post_id": 54222840, "comment_id": 95355054, "body": "@AndyWilkinson Added application.property. Just removed password."}, {"owner": {"reputation": 121, "user_id": 2820504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b8b3355b20727e84844d6ede3449511?s=128&d=identicon&r=PG", "display_name": "GeBeater", "link": "https://stackoverflow.com/users/2820504/gebeater"}, "edited": false, "score": 0, "creation_date": 1547998652, "post_id": 54222840, "comment_id": 95377945, "body": "I also have problems with Spring Boot 2.1.2 and Spring Core 5.1.4 when loading files from the Resource directory (with ResourceUtils.getFile(&quot;classpath:...). There are no problems with Spring Boot 2.1.1 and Spring Core 5.1.3. The same problem is reported in <a href=\"https://stackoverflow.com/q/54178805/2820504\">stackoverflow.com/q/54178805/2820504</a> ."}, {"owner": {"reputation": 1649, "user_id": 6505350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jugxh.jpg?s=128&g=1", "display_name": "LostAtSea", "link": "https://stackoverflow.com/users/6505350/lostatsea"}, "edited": false, "score": 0, "creation_date": 1577908497, "post_id": 54222840, "comment_id": 105279765, "body": "Have you found a solution to this?"}], "owner": {"reputation": 127, "user_id": 7239285, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-luJwQ-0etqA/AAAAAAAAAAI/AAAAAAAAABE/y6RAfXZLtfE/photo.jpg?sz=128", "display_name": "Plasmatiger", "link": "https://stackoverflow.com/users/7239285/plasmatiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6291, "favorite_count": 3, "answer_count": 0, "score": 5, "last_activity_date": 1547890186, "creation_date": 1547661786, "last_edit_date": 1547890186, "question_id": 54222840, "link": "https://stackoverflow.com/questions/54222840/spring-boot-2-1-classpath-resource-keystore-p12-cant-be-resolved-to-url-becau", "title": "Spring Boot 2.1: Classpath resource [keystore.p12] cant be resolved to URL because it doesn&#39;t exist", "body": "<p>I am new to spring boot and development in all. Using Spring Boot 2 with kotlin and gradle. The classpath error comes when I try attaching ssl certificate. \nSolution on <a href=\"https://stackoverflow.com/questions/38686708/spring-boot-1-4-class-path-resource-cannot-be-resolved-to-url-because-it-do\">Spring Boot 1.4 : class path resource [] cannot be resolved to URL because it does not exist</a> doesn't work. </p>\n\n<p>Meanwhile, I tried replicating the solution and removed implementation of starter-data-jpa and used starter-jdbc. But nothing seems to works. The other solution also throws same error.</p>\n\n<pre><code>&gt; Error starting ApplicationContext. To display the conditions report\n&gt; re-run your application with 'debug' enabled. 2019-01-16 23:20:19.511\n&gt; ERROR 9589 --- [           main] o.s.boot.SpringApplication           \n&gt; : Application run failed\n&gt; \n&gt; org.springframework.context.ApplicationContextException: Unable to\n&gt; start web server; nested exception is\n&gt; org.springframework.boot.web.server.WebServerException: Could not load\n&gt; key store: class path resource [keystore.p12] cannot be resolved to\n&gt; URL because it does not exist     at\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540)\n&gt; ~[spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]     at\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n&gt; [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]     at\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n&gt; [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]     at\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n&gt; [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]     at\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n&gt; [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]     at\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n&gt; [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]     at\n&gt; com.example.demo.DemoApplicationKt.main(DemoApplication.kt:16)\n&gt; [classes/:na] Caused by:\n&gt; org.springframework.boot.web.server.WebServerException: Could not load\n&gt; key store: class path resource [keystore.p12] cannot be resolved to\n&gt; URL because it does not exist     at\n&gt; org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslKeyStore(SslConnectorCustomizer.java:136)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSsl(SslConnectorCustomizer.java:92)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.customize(SslConnectorCustomizer.java:58)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:317)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:300)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:166)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    ... 8 common frames\n&gt; omitted Caused by: java.io.FileNotFoundException: class path resource\n&gt; [keystore.p12] cannot be resolved to URL because it does not exist    at\n&gt; org.springframework.util.ResourceUtils.getURL(ResourceUtils.java:137)\n&gt; ~[spring-core-5.1.4.RELEASE.jar:5.1.4.RELEASE]    at\n&gt; org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslKeyStore(SslConnectorCustomizer.java:133)\n&gt; ~[spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    ... 15 common frames\n&gt; omitted\n</code></pre>\n\n<p>Application.property file</p>\n\n<pre><code>#spring.data.jpa.repositories.enabled=false\n\n\n\n# Tell Spring Security (if used) to require requests over HTTPS\nsecurity.require-ssl=true\n\n# The format used for the keystore\nserver.ssl.key-store-type=PKCS12\n# The path to the keystore containing the certificate\nserver.ssl.key-store=./keystore.p12\n# The password used to generate the certificate\nserver.ssl.key-store-password=\n# The alias mapped to the certificate\nserver.ssl.key-alias=tomcat\n</code></pre>\n\n<p>I have used ./keystore as classpath is not working. Using ./ solves it. But when I make jar location changes and it stops working. I cant put keystore.p12 at same location as of jar in build/libs/. But I would love a classpath solution in Kotlin.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 1, "creation_date": 1547656662, "post_id": 54221388, "comment_id": 95268806, "body": "I don&#39;t believe you can.  I think you&#39;ll need to have an <code>actual</code> method in your <code>androidMain</code> code that does whatever work context is needed for."}, {"owner": {"reputation": 425, "user_id": 2031219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0090428e9aaaf68db1036cc44ba7bafe?s=128&d=identicon&r=PG", "display_name": "Arubu", "link": "https://stackoverflow.com/users/2031219/arubu"}, "reply_to_user": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 1, "creation_date": 1547657082, "post_id": 54221388, "comment_id": 95269055, "body": "I am refactoring my code. Before kotlin-multiplatform plugin I had a android module with actual and application context. I think so androidMain can be a bridge between commonMain and context application."}], "answers": [{"comments": [{"owner": {"reputation": 116, "user_id": 6187439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa567d8c7f02e83ca2a98518e3618af?s=128&d=identicon&r=PG&f=1", "display_name": "J.Arroyo", "link": "https://stackoverflow.com/users/6187439/j-arroyo"}, "edited": false, "score": 3, "creation_date": 1560417899, "post_id": 54241012, "comment_id": 99732558, "body": "I have the same problem, I don&#39;t know how to get the Android Application Context in the AndroidMain souce set. I need the context to create the SQLDriver for the Android app. How do you achieve that?   If it is possible to show your kotlin code? it would be nice to see how you do that! Thank you in advance"}, {"owner": {"reputation": 2261, "user_id": 4672107, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/jWMdh.jpg?s=128&g=1", "display_name": "Carson Holzheimer", "link": "https://stackoverflow.com/users/4672107/carson-holzheimer"}, "edited": false, "score": 0, "creation_date": 1579398748, "post_id": 54241012, "comment_id": 105753034, "body": "Any ideas how I would keep my keep generating a JAR library, and pass in the context, but only for the android implementation?"}], "tags": [], "owner": {"reputation": 6697, "user_id": 1368721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ty2vb.png?s=128&g=1", "display_name": "Diego Palomar", "link": "https://stackoverflow.com/users/1368721/diego-palomar"}, "is_accepted": true, "score": 6, "last_activity_date": 1547809586, "last_edit_date": 1547809586, "creation_date": 1547745050, "answer_id": 54241012, "question_id": 54221388, "link": "https://stackoverflow.com/questions/54221388/android-context-in-multiplatform-project/54241012#54241012", "title": "Android context in multiplatform project", "body": "<p>Yes, you can.</p>\n\n<p>In your <code>build.gradle</code> file you are not targeting android as such (<em>presets.android</em>) but the <code>jvm</code> (<em>presets.jvm</em>) and calling it android. </p>\n\n<p>As it is now, what your build will generated is a <code>JAR</code> file not an <code>aar</code> file.</p>\n\n<p>If you want to target android you have also to use the android gradle plugin. To be able to use the android framework from the androidMain folder, update your build.gradle file. Below an example:</p>\n\n<pre><code>apply plugin: 'org.jetbrains.kotlin.multiplatform'\napply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName '1.0'\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n        }\n    }\n\n        // By default the android gradle plugin expects to find the kotlin source files in \n        // the folder `main` and the test in the folder `test`. This is to be able place \n        // the source code files inside androidMain and androidTest folders\n    sourceSets {\n        main {\n            manifest.srcFile 'src/androidMain/AndroidManifest.xml'\n            java.srcDirs = ['src/androidMain/kotlin']\n            res.srcDirs = ['src/androidMain/res']\n        }\n        test {\n            java.srcDirs = ['src/androidTest/kotlin']\n            res.srcDirs = ['src/androidTest/res']\n        }\n    }\n}\n\ndependencies {\n    implementation \"com.jakewharton.timber:timber:$timber_version\n}\n\nkotlin {\n    targets {\n        final def iOSTarget = System.getenv('SDK_NAME')?.startsWith(\"iphoneos\")   \\\n                                ? presets.iosArm64 : presets.iosX64\n\n        fromPreset(iOSTarget, 'iOS') {\n            compilations.main.outputKinds('FRAMEWORK')\n        }\n\n        fromPreset(presets.android, 'android')\n    }\n    sourceSets {\n        commonMain {\n            dependencies {\n                implementation \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version\"\n                // coroutine\n                implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core-common:1.1.0\"\n            }\n        }\n        androidMain {\n            dependencies {\n                api \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n            }\n        }\n    }\n}\n\ntask buildiOSFramework(type: Sync) {\n\n    final File frameworkDir = new File(buildDir, \"xcode-frameworks\")\n    final String mode = project.findProperty(\"XCODE_CONFIGURATION\")?.toUpperCase() ?: 'DEBUG'\n\n    inputs.property \"mode\", mode\n    dependsOn kotlin.targets.iOS.compilations.main.linkTaskName(\"FRAMEWORK\", mode)\n\n    from { kotlin.targets.iOS.compilations.main.getBinary(\"FRAMEWORK\", mode).parentFile }\n    into frameworkDir\n\n    doLast {\n        new File(frameworkDir, 'gradlew').with {\n            text = \"#!/bin/bash\\nexport 'JAVA_HOME=${System.getProperty(\"java.home\")}'\\ncd '${rootProject.rootDir}'\\n./gradlew \\$@\\n\"\n            setExecutable(true)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 2031219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0090428e9aaaf68db1036cc44ba7bafe?s=128&d=identicon&r=PG", "display_name": "Arubu", "link": "https://stackoverflow.com/users/2031219/arubu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1143, "favorite_count": 0, "accepted_answer_id": 54241012, "answer_count": 1, "score": 3, "last_activity_date": 1572266832, "creation_date": 1547656221, "last_edit_date": 1547657980, "question_id": 54221388, "link": "https://stackoverflow.com/questions/54221388/android-context-in-multiplatform-project", "title": "Android context in multiplatform project", "body": "<p>I wonder if is possible to access the Android context application in androidMain sourceSets with the kotlin-multiplatform plugin.</p>\n\n<p>Here is the build.gradle file</p>\n\n<pre><code>apply plugin: 'kotlin-multiplatform'\n\nkotlin {\n    targets {\n        final def iOSTarget = System.getenv('SDK_NAME')?.startsWith(\"iphoneos\")   \\\n                                ? presets.iosArm64 : presets.iosX64\n\n        fromPreset(iOSTarget, 'iOS') {\n            compilations.main.outputKinds('FRAMEWORK')\n        }\n\n        fromPreset(presets.jvm, 'android')\n    }\n\n    sourceSets {\n\n        commonMain {\n            kotlin.srcDir('src')\n            dependencies {\n                implementation \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version\"\n                // coroutine\n                implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core-common:1.1.0\"\n            }\n        }\n\n        androidMain {\n            dependencies {\n                implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n                // Timber\n                implementation \"com.jakewharton.timber:timber:$timber_version\"\n                // coroutine\n                implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.0\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have tried add the 'com.android.application' plugin into androidMain source, but the sync fails.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["ios", "kotlin", "kotlin-native", "kotlin-multiplatform"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 8338783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jO6d3BQRMiA/AAAAAAAAAAI/AAAAAAAAFSM/1IOD4MyY5XE/photo.jpg?sz=128", "display_name": "Spencer", "link": "https://stackoverflow.com/users/8338783/spencer"}, "is_accepted": true, "score": 4, "last_activity_date": 1547656929, "creation_date": 1547656929, "answer_id": 54221593, "question_id": 54221331, "link": "https://stackoverflow.com/questions/54221331/ktor-and-kotlinx-dependencies-not-found-when-building-ios-framework/54221593#54221593", "title": "Ktor and kotlinx dependencies not found when building iOS framework", "body": "<p>Make sure <code>enableFeaturePreview(\"GRADLE_METADATA\")</code> is in the <code>settings.gradle</code> file. Once I added this line, I was able to compile from Xcode.</p>\n"}, {"tags": [], "owner": {"reputation": 1861, "user_id": 321435, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/457fc927312fac0ff0b070a94a1afc9a?s=128&d=identicon&r=PG", "display_name": "Russell Stewart", "link": "https://stackoverflow.com/users/321435/russell-stewart"}, "is_accepted": false, "score": 0, "last_activity_date": 1583422536, "creation_date": 1583422536, "answer_id": 60548989, "question_id": 54221331, "link": "https://stackoverflow.com/questions/54221331/ktor-and-kotlinx-dependencies-not-found-when-building-ios-framework/60548989#60548989", "title": "Ktor and kotlinx dependencies not found when building iOS framework", "body": "<p>I'm having this problem as well. And it suddenly appeared on a project that I've been working on for months. I do have <code>enableFeaturePreview('GRADLE_METADATA')</code> set in <code>settings.gradle</code>. What could be going on? This is really frustrating; my project is suddenly at a standstill for no apparent reason.</p>\n"}], "owner": {"reputation": 146, "user_id": 8338783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jO6d3BQRMiA/AAAAAAAAAAI/AAAAAAAAFSM/1IOD4MyY5XE/photo.jpg?sz=128", "display_name": "Spencer", "link": "https://stackoverflow.com/users/8338783/spencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1106, "favorite_count": 0, "accepted_answer_id": 54221593, "answer_count": 2, "score": 3, "last_activity_date": 1583422536, "creation_date": 1547656032, "question_id": 54221331, "link": "https://stackoverflow.com/questions/54221331/ktor-and-kotlinx-dependencies-not-found-when-building-ios-framework", "title": "Ktor and kotlinx dependencies not found when building iOS framework", "body": "<p>I am trying to include support for <code>ktor</code> and <code>kotlinx</code> (<code>serialization</code> and <code>coroutines</code> to be exact) to my Kotlin/Native project. All libraries work on the Android version of the project, but when I try to compile the Xcode project, I receive errors stating that the <code>kotlinx.serialization</code> and <code>kotlinx.coroutines</code> libraries could not be found:</p>\n\n<pre><code>src/commonMain/kotlin/.../.kt:4:16: error: unresolved reference: coroutines\nimport kotlinx.coroutines.CoroutineDispatcher\n               ^\nsrc/commonMain/kotlin/.../.kt:5:16: error: unresolved reference: serialization\nimport kotlinx.serialization.json.JSON\n</code></pre>\n\n<p>Here is my gradle file for my project:</p>\n\n<pre><code>plugins {\n    id 'kotlin-multiplatform' version '1.3.11'\n    id 'kotlinx-serialization' version '1.3.0'\n}\n\next {\n    ktor_version = '1.0.1'\n    kotlinx_version = '1.1.0'\n}\n\nrepositories {\n    maven { url \"https://kotlin.bintray.com/ktor\" }\n    maven { url \"https://kotlin.bintray.com/kotlinx\" }\n    google()\n    jcenter()\n    mavenCentral()\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android-extensions'\n\nconfigurations {\n    compilerPlugin\n}\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"org.jetbrains.kotlin.mpp_app_android\"\n        minSdkVersion 15\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n\n}\n\nkotlin {\n    targets {\n        fromPreset(presets.android, 'android')\n        // This preset is for iPhone emulator\n        // Switch here to presets.iosArm64 (or iosArm32) to build library for iPhone device\n        fromPreset(presets.iosX64, 'ios') {\n            compilations.main.outputKinds('FRAMEWORK')\n        }\n    }\n    sourceSets {\n        commonMain {\n            dependencies {\n                implementation 'commons-codec:commons-codec:1.10'\n                implementation 'org.jetbrains.kotlin:kotlin-stdlib-common'\n                implementation(\"io.ktor:ktor-client:$ktor_version\")\n                implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core-common:$kotlinx_version\"\n                implementation \"org.jetbrains.kotlinx:kotlinx-serialization-runtime-common:0.9.1\"\n            }\n        }\n        commonTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test-common'\n                implementation 'org.jetbrains.kotlin:kotlin-test-annotations-common'\n            }\n        }\n        androidMain {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-stdlib'\n                implementation(\"io.ktor:ktor-client-android:$ktor_version\")\n                implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlinx_version\"\n                implementation \"org.jetbrains.kotlinx:kotlinx-serialization-runtime:0.9.1\"\n            }\n        }\n        androidTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test'\n                implementation 'org.jetbrains.kotlin:kotlin-test-junit'\n            }\n        }\n        iosMain {\n            dependencies {\n                implementation(\"io.ktor:ktor-client-ios:$ktor_version\")\n                implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core-native:$kotlinx_version\"\n                implementation \"org.jetbrains.kotlinx:kotlinx-serialization-runtime-native:0.9.1\"\n            }\n        }\n        iosTest {\n        }\n    }\n}\n\n// This task attaches native framework built from ios module to Xcode project\n// (see iosApp directory). Don't run this task directly,\n// Xcode runs this task itself during its build process.\n// Before opening the project from iosApp directory in Xcode,\n// make sure all Gradle infrastructure exists (gradle.wrapper, gradlew).\ntask copyFramework {\n    def buildType = project.findProperty(\"kotlin.build.type\") ?: \"DEBUG\"\n    def target = project.findProperty(\"kotlin.target\") ?: \"ios\"\n    dependsOn \"link${buildType.toLowerCase().capitalize()}Framework${target.capitalize()}\"\n\n    doLast {\n        def srcFile = kotlin.targets.\"$target\".compilations.main.getBinary(\"FRAMEWORK\", buildType)\n        def targetDir = getProperty(\"configuration.build.dir\")\n        copy {\n            from srcFile.parent\n            into targetDir\n            include 'app.framework/**'\n            include 'app.framework.dSYM'\n        }\n    }\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated, thanks!</p>\n"}, {"tags": ["multithreading", "kotlin", "rx-java2", "observer-pattern"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4716708, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hH2xRKc6wFA/AAAAAAAAAAI/AAAAAAAAANQ/1CfbTztxBJk/photo.jpg?sz=128", "display_name": "Seb", "link": "https://stackoverflow.com/users/4716708/seb"}, "edited": false, "score": 1, "creation_date": 1547663039, "post_id": 54221488, "comment_id": 95272113, "body": "Makes sense - Thanks!  I found a good article about it afterwards: <a href=\"https://proandroiddev.com/state-propagation-in-android-with-rxjava-subjects-81db49a0dd8e\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>  They mention exactly what you say in your response.  Thank you also for the side notes, I voluntary kept the stream as simple as possible to avoid noises but your recommendations are helpful!"}], "tags": [], "owner": {"reputation": 410, "user_id": 5132200, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hFdHBn-PeJE/AAAAAAAAAAI/AAAAAAAABx0/DMeo7WYu3Nw/photo.jpg?sz=128", "display_name": "Janos Breuer", "link": "https://stackoverflow.com/users/5132200/janos-breuer"}, "is_accepted": true, "score": 1, "last_activity_date": 1547656585, "creation_date": 1547656585, "answer_id": 54221488, "question_id": 54220978, "link": "https://stackoverflow.com/questions/54220978/can-i-notify-a-behaviorprocessor-from-inside-a-rxjava-stream/54221488#54221488", "title": "Can I notify a BehaviorProcessor from inside a RxJava stream?", "body": "<p>The <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/processors/BehaviorProcessor.html\" rel=\"nofollow noreferrer\">documentation of BehaviorProcessor</a> says:</p>\n\n<blockquote>\n  <p>Calling onNext(Object), offer(Object), onError(Throwable) and onComplete() is required to be serialized (called from the same thread or called non-overlappingly from different threads through external means of serialization). <strong>The FlowableProcessor.toSerialized() method available to all FlowableProcessors provides such serialization and also protects against reentrance</strong> (i.e., when a downstream Subscriber consuming this processor also wants to call onNext(Object) on this processor recursively).</p>\n</blockquote>\n\n<p>So if you define it like this:</p>\n\n<pre><code>val currentSession = BehaviorProcessor.create&lt;Session&gt;().toSerialized()\n</code></pre>\n\n<p>then you can safely call <code>onNext</code> from any thread, it will not cause any synchronisation problems.</p>\n\n<p><strong>Notes:</strong></p>\n\n<p>I agree that the update of the processor should be in a <code>doOnNext</code> instead of the <code>map</code>.</p>\n\n<p>I think it would be better to use a <code>Completable</code> instead of a <code>Single&lt;Boolean&gt;</code>, and use Rx errors to indicate what prevented signing in. You should also define the error handlers in the <code>subscribe</code> methods.</p>\n"}], "owner": {"reputation": 33, "user_id": 4716708, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hH2xRKc6wFA/AAAAAAAAAAI/AAAAAAAAANQ/1CfbTztxBJk/photo.jpg?sz=128", "display_name": "Seb", "link": "https://stackoverflow.com/users/4716708/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "accepted_answer_id": 54221488, "answer_count": 1, "score": 1, "last_activity_date": 1547656585, "creation_date": 1547654718, "last_edit_date": 1547656191, "question_id": 54220978, "link": "https://stackoverflow.com/questions/54220978/can-i-notify-a-behaviorprocessor-from-inside-a-rxjava-stream", "title": "Can I notify a BehaviorProcessor from inside a RxJava stream?", "body": "<p>I would like to get your feedback on the code below.\nI'm wondering if it's safe to call <code>currentSession.onNext(result.session)</code>\nfrom inside the <code>SessionManager.signIn</code> stream.</p>\n\n<p>My first intuition is to say <code>NO</code> because of multithreading and synchronization issues, meaning, based on this code, I could be calling <code>currentSession.onNext(result.session)</code> from different threads.</p>\n\n<p>Here is the code, please let me know what you think! Thanks</p>\n\n<p>SessionManager which is a singleton</p>\n\n<pre><code>@Singleton\nclass SessionManager @Inject constructor(\n    private val sessionService: SessionService,\n){\n\n    val currentSession = BehaviorProcessor.create&lt;Session&gt;()\n\n    fun signIn(login: String, password: String): Single&lt;Boolean&gt; =\n        sessionService.signIn(login, password)\n            .doOnNext(result -&gt; \n                if (session is Success) {\n                   currentSession.onNext(result.session)\n                }\n            ).map { result -&gt;\n                when (result) {\n                    is Success -&gt; true\n                    else -&gt; false\n                }\n            }\n            .subscribeOn(Schedulers.io())\n}\n</code></pre>\n\n<p>HomeView which is a random View subscribing to the SessionManager's signIn stream</p>\n\n<pre><code>class HomeView(val context: Context) : View(context) {\n\n        @Inject\n        lateinit var sessionManager: SessionManager\n\n        private val disposables = CompositeDisposable()\n\n        override fun onAttachedToWindow() {\n            super.onAttachedToWindow()\n\n            disposables.add(sessionManager.signIn(\"username\", \"password\")\n                .distinctUntilChanged()\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe { result -&gt;\n                    textView.text = if (result) \"Success\" else \"Fail\"\n                })\n        }\n\n        override fun onDetachedFromWindow() {\n            super.onDetachedFromWindow()\n            disposables.clear()\n        }\n    }\n</code></pre>\n\n<p>A random View observing the <code>currentSession</code> from <code>SessionManager</code></p>\n\n<pre><code>class RandomView(val context: Context) : View(context) {\n\n        @Inject\n        lateinit var sessionManager: SessionManager\n\n        private val disposables = CompositeDisposable()\n\n        override fun onAttachedToWindow() {\n            super.onAttachedToWindow()\n\n            disposables.add(sessionManager.currentSession\n                .distinctUntilChanged()\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe { session -&gt; userTextView.text = session.userName })\n        }\n\n        override fun onDetachedFromWindow() {\n            super.onDetachedFromWindow()\n            disposables.clear()\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1547666955, "post_id": 54220934, "comment_id": 95273919, "body": "Just a note: Kotlin differentiates between &quot;inner&quot; and &quot;nested&quot; classes. Your <code>Inner</code> class is actually a nested class. An actual inner class is defined with the <code>inner</code> keyword. The difference is that an inner class carries a reference to an object of the outer class. You can read more about it here: <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/nested-classes.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 10645087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95dd7d31afc65cfadeffb9210e026009?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidKotlinNoob", "link": "https://stackoverflow.com/users/10645087/androidkotlinnoob"}, "edited": false, "score": 0, "creation_date": 1547656370, "post_id": 54221105, "comment_id": 95268641, "body": "OK. Thank you anyway."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": false, "score": 3, "last_activity_date": 1547657951, "last_edit_date": 1547657951, "creation_date": 1547655230, "answer_id": 54221105, "question_id": 54220934, "link": "https://stackoverflow.com/questions/54220934/how-to-create-an-inner-class-where-only-the-outer-class-can-access-the-construct/54221105#54221105", "title": "How to create an inner class where only the outer class can access the constructor, but the rest is visible everywhere?", "body": "<p>Unfortunately, <code>private</code> members of Kotlin inner classes are not accessible from the outer instance:</p>\n\n<blockquote>\n  <p><code>private</code> means visible inside this class only<br>\n  <sub><a href=\"https://kotlinlang.org/docs/reference/\" rel=\"nofollow noreferrer\">Kotlin reference</a> / <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">Visibility modifiers</a></sub></p>\n</blockquote>\n\n<p>However, Java is not this restrictive with its visibility modifiers:</p>\n\n<blockquote>\n  <p>access is permitted if and only if it occurs within the body of the top level type (<a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.6\" rel=\"nofollow noreferrer\">\u00a77.6</a>) that encloses the declaration of the member or constructor. <br>\n  <sub><a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/\" rel=\"nofollow noreferrer\">Java Language Specification</a> / <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html\" rel=\"nofollow noreferrer\">\u00a76 Names</a> / <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.6\" rel=\"nofollow noreferrer\">\u00a76.6 Access Control</a> / <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.6.1\" rel=\"nofollow noreferrer\">\u00a76.6.1 Determining Accessibility</a></sub></p>\n</blockquote>\n\n<p>This is one of the only (annoying) cases I have found where Kotlin's rules make a common Java pattern impossible.</p>\n\n<p>The only workarounds (<em>if</em> you want to keep your current structure) would be to rewrite this class in Java, or to expose this constructor with a less restrictive visibility (e.g. <code>internal</code>.)</p>\n\n<p>There was a <a href=\"https://discuss.kotlinlang.org/t/why-outer-class-cannot-see-private-members-of-inner-class/6791/2\" rel=\"nofollow noreferrer\">discussion</a> about this on the Kotlin forums - it seems that this is a JVM limitation, and that it only works in Java because the compiler generates appropriate <code>synthetic</code> accessors.</p>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547675393, "post_id": 54221446, "comment_id": 95277728, "body": "good idea! +1 the only drawback is that you first need to define properties / functions in the interface and then have to override it in InnerImpl which is a little redundant."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547721655, "post_id": 54221446, "comment_id": 95292937, "body": "yes, that&#39;s true... but I think it&#39;s common to use an <code>interface</code> for such constructs..."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 6, "last_activity_date": 1547657706, "last_edit_date": 1547657706, "creation_date": 1547656433, "answer_id": 54221446, "question_id": 54220934, "link": "https://stackoverflow.com/questions/54220934/how-to-create-an-inner-class-where-only-the-outer-class-can-access-the-construct/54221446#54221446", "title": "How to create an inner class where only the outer class can access the constructor, but the rest is visible everywhere?", "body": "<p>What you could do:</p>\n\n<ul>\n<li>introduce an <code>interface Inner</code> with all the necessary functions that should be exposed</li>\n<li>make all the class(es) <code>private</code> and implement that interface</li>\n</ul>\n\n<p>Sample:</p>\n\n<pre><code>object InnerFactory {\n\n  interface Inner {\n    fun getTimeDifference(): Long?\n  }\n\n  private class InnerImpl(startDate: Date? = null, endDate: Date? = null) : Inner {\n    override fun getTimeDifference(): Long? = TODO(\"some implementation\")\n  }\n\n\n  fun createInnerObject(startDate: Date? = null, endDate: Date? = null): Inner? {\n    if (startDate != null &amp;&amp; endDate != null &amp;&amp; !endDate.after(startDate)) {\n      return null\n    }\n    return InnerImpl(startDate, endDate) // InnerImpl accessible from here but not from outside of InnerFactory...\n  }\n}\n</code></pre>\n\n<p>Now you can't access <code>InnerImpl</code> from outside anymore, but still have all the necessary functions available:</p>\n\n<pre><code>// the following all work as it deals with the interface\nval inner = InnerFactory.createInnerObject(date1, date2) //should return an instance\nval invalidInner = InnerFactory.createInnerObject(date2, date1) //should not return an instance because the \"endDate\" is before \"startDate\"\nval difference = inner?.getTimeDifference()\n\n// the following will not compile:\nInnerImpl()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547721919, "post_id": 54225900, "comment_id": 95293096, "body": "Note that you do not hide that constructor from <code>Inner</code> then... you can still call something like <code>val myFakedInner = object : Inner(null, null) {}</code> which will then construct a valid <code>Inner</code>-object which reuses the functionality you wanted to hide in the first place (if I understood that requirement correctly)... nonetheless depending on the use-case (and if holding that <code>val</code>s is ok) that&#39;s a valid variant too... you may however want to set the <code>val</code>s to <code>private</code> at least..."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547749202, "post_id": 54225900, "comment_id": 95308399, "body": "@Roland sure you can inherit from Inner. I even said that in my answer &quot;This way you only expose it to subclasses...&quot;, but you cannot instantiate it directly. That&#39;s the weakness of my approach. :D"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547750009, "post_id": 54225900, "comment_id": 95308829, "body": "true. due to &quot;in this case <code>PrivateClass</code>&quot; I just thought I will bring that up so that that isn&#39;t misinterpreted.."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547750263, "post_id": 54225900, "comment_id": 95308926, "body": "@Roland sure, thing :)"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1547675826, "last_edit_date": 1547675826, "creation_date": 1547675304, "answer_id": 54225900, "question_id": 54220934, "link": "https://stackoverflow.com/questions/54220934/how-to-create-an-inner-class-where-only-the-outer-class-can-access-the-construct/54225900#54225900", "title": "How to create an inner class where only the outer class can access the constructor, but the rest is visible everywhere?", "body": "<p>You could make make the <code>constructor</code> <code>protected</code>. This way you only expose it to subclasses, in this case <code>PrivateClass</code>. Then you will create an instance of <code>PrivateClass</code> or <code>null</code> but return it as <code>InnerClass?</code>.</p>\n\n<pre><code>object InnerFactory {\n\n    fun createInnerObject(startDate: Date? = null, endDate: Date? = null): Inner? {\n        // return null here if conditions are not met\n        return PrivateClass(startDate, endDate)\n    }\n\n    open class Inner protected constructor(val startDate: Date?, val endDate: Date?) {\n        fun getTimeDifference(): Long? { /* ... */ }\n    }\n\n    private class PrivateClass(startDate: Date?, endDate: Date?): Inner(startDate, endDate)\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 10645087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95dd7d31afc65cfadeffb9210e026009?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidKotlinNoob", "link": "https://stackoverflow.com/users/10645087/androidkotlinnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1076, "favorite_count": 0, "accepted_answer_id": 54221446, "answer_count": 3, "score": 6, "last_activity_date": 1547675826, "creation_date": 1547654549, "last_edit_date": 1547663489, "question_id": 54220934, "link": "https://stackoverflow.com/questions/54220934/how-to-create-an-inner-class-where-only-the-outer-class-can-access-the-construct", "title": "How to create an inner class where only the outer class can access the constructor, but the rest is visible everywhere?", "body": "<p>I originally wanted to create a class that can abort instantiation in constructor, but according to <a href=\"https://stackoverflow.com/a/9965381/10645087\">this link</a> I should instead use a Factory class. But now I want to prevent anyone except the factory class from creating an object of class \"Inner\" while giving access to the methods of the inner class to everyone.</p>\n\n<p>I have already tried <a href=\"https://stackoverflow.com/a/17190867/10645087\">this answer</a>.</p>\n\n<pre><code>import java.util.Date\n\nobject InnerFactory {\n\n    class Inner private constructor(startDate: Date? = null, endDate: Date? = null) {\n        fun getTimeDifference(): Long? {\n            //calculates time difference but doesn't matter to this example\n        }\n    }\n\n    fun createInnerObject(startDate: Date? = null, endDate: Date? = null): Inner? {\n        if (startDate != null &amp;&amp; endDate != null &amp;&amp; !endDate.after(startDate)) {\n            return null\n        }\n\n        return Inner(startDate, endDate)\n    }\n\n}\n</code></pre>\n\n<p>I would use it like the following:</p>\n\n<pre><code>val date1 = Date(1547600000)\nval date2 = Date(1547600600)\nval inner = InnerFactory.createInnerObject(date1, date2) //should return an instance\nval invalidInner = InnerFactory.createInnerObject(date2, date1) //should not return an instance because the \"endDate\" is before \"startDate\"\nval difference = inner?.getTimeDifference()\n</code></pre>\n\n<p>It says \"cannot access '&lt;init&gt;': it is private in 'Inner'\" when hovering over my usage of the constructor in the \"createInnerObject\" function.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1547651745, "post_id": 54219825, "comment_id": 95265882, "body": "@AtifAbbAsi thanks for reply , the code is using clicklistener on a view in onBindViewHolder class, I think it&#39;s not a good way , It should implement in viewHolder class"}], "answers": [{"comments": [{"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 1, "creation_date": 1566388599, "post_id": 54222687, "comment_id": 101639413, "body": "This does not leak memory?"}, {"owner": {"reputation": 55, "user_id": 9105814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aEYw.png?s=128&g=1", "display_name": "Juri Kiin", "link": "https://stackoverflow.com/users/9105814/juri-kiin"}, "edited": false, "score": 0, "creation_date": 1575668475, "post_id": 54222687, "comment_id": 104656654, "body": "I believe it does. After implementing this, it would crash when running. It would have a stack size error."}], "tags": [], "owner": {"reputation": 342, "user_id": 8776305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4_r0SZBCdr8/AAAAAAAAAAI/AAAAAAAAMug/NkVBl5H4ECQ/photo.jpg?sz=128", "display_name": "Bhoomin Naik", "link": "https://stackoverflow.com/users/8776305/bhoomin-naik"}, "is_accepted": true, "score": 12, "last_activity_date": 1575835181, "last_edit_date": 1575835181, "creation_date": 1547661055, "answer_id": 54222687, "question_id": 54219825, "link": "https://stackoverflow.com/questions/54219825/android-kotlin-how-to-add-click-listener-to-recyclerview-adapter/54222687#54222687", "title": "android kotlin -how to add click listener to RecyclerView adapter", "body": "<pre><code>var onItemClick: ((pos: Int, view: View) -&gt; Unit)? = null\n\ninner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView), View.OnClickListener {\n    override fun onClick(v: View) {\n        onItemClick?.invoke(adapterPosition, v)\n    }\n    val tvTitle = itemView.findViewById&lt;TextView&gt;(R.id.tv_cat_title)\n\n    init {\n        itemView.setOnClickListener(this)\n    }\n}\n</code></pre>\n\n<p>and in your activity just implement click listener</p>\n\n<pre><code>adapter.onItemClick = { pos, view -&gt;  \n\n}\n</code></pre>\n"}], "owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7285, "favorite_count": 1, "accepted_answer_id": 54222687, "answer_count": 1, "score": 0, "last_activity_date": 1575835181, "creation_date": 1547650801, "question_id": 54219825, "link": "https://stackoverflow.com/questions/54219825/android-kotlin-how-to-add-click-listener-to-recyclerview-adapter", "title": "android kotlin -how to add click listener to RecyclerView adapter", "body": "<p>I'm new in kotlin ,this is my adapter code , it works find and I've no problem , now ,I need to implement click listener for it , here is my code :</p>\n\n<pre><code>class CategoryAdapter(val context: Context,val list: List&lt;CategoryItems&gt;): RecyclerView.Adapter&lt;CategoryAdapter.ViewHolder&gt;() {\nvar typeface: Typeface? = Func.getTypeFace(context)\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    var catRow=list.get(position)\n\n    holder?.tvTitle.text = catRow.name\n    holder?.tvTitle.setTypeface(typeface)\n    Glide.with(context).load(Const.BaseUrl+\"Opitures/\"+  catRow.icon_name).into(holder?.imgCat);\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val v = LayoutInflater.from(parent?.context).inflate(R.layout.category_item, parent, false)\n    return ViewHolder(v);\n}\n\noverride fun getItemCount(): Int {\n    return list.size\n}\n\nclass ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n    val tvTitle = itemView.findViewById&lt;TextView&gt;(R.id.tv_cat_title)\n    val imgCat = itemView.findViewById&lt;ImageView&gt;(R.id.img_cat)\n}\n}\n</code></pre>\n\n<p>I want to add click listener, I used to do it in viewholder class where I implement click listener </p>\n\n<p>how can I do it in kotlin , ? i've tied so many ways but no success </p>\n"}, {"tags": ["java", "android", "kotlin", "android-constraintlayout"], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 4182946, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh6.googleusercontent.com/-Cbh2k0RN26U/AAAAAAAAAAI/AAAAAAAAADE/3unk-s0QwlI/photo.jpg?sz=128", "display_name": "TooLazy", "link": "https://stackoverflow.com/users/4182946/toolazy"}, "edited": false, "score": 0, "creation_date": 1547652150, "post_id": 54220132, "comment_id": 95266099, "body": "Yep, didn&#39;t notice my toolbar has no constraint to the top"}], "tags": [], "owner": {"reputation": 419, "user_id": 9992552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nm6Jg.jpg?s=128&g=1", "display_name": "Charan M", "link": "https://stackoverflow.com/users/9992552/charan-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1547651801, "creation_date": 1547651801, "answer_id": 54220132, "question_id": 54219823, "link": "https://stackoverflow.com/questions/54219823/constraintlayout-ahbottomnavigation-animation-problem/54220132#54220132", "title": "ConstraintLayout AHBottomNavigation animation problem", "body": "<p>I guess it is because the bottom of <code>AHBottomNavigation</code> is already constrained to the bottom of the parent by <code>app:layout_constraintBottom_toBottomOf=\"parent\"</code>. So when you add to new constraint by connecting the top of <code>AHBottomNavigation</code> with the bottom of the parent, it gets centered between those two constraints. Add <code>set.clear(R.id.vNavigation, ConstraintSet.BOTTOM);</code> to your code and see if it works.</p>\n"}], "owner": {"reputation": 658, "user_id": 4182946, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh6.googleusercontent.com/-Cbh2k0RN26U/AAAAAAAAAAI/AAAAAAAAADE/3unk-s0QwlI/photo.jpg?sz=128", "display_name": "TooLazy", "link": "https://stackoverflow.com/users/4182946/toolazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 54220132, "answer_count": 1, "score": 0, "last_activity_date": 1547651801, "creation_date": 1547650800, "question_id": 54219823, "link": "https://stackoverflow.com/questions/54219823/constraintlayout-ahbottomnavigation-animation-problem", "title": "ConstraintLayout AHBottomNavigation animation problem", "body": "<p>I have a <code>ConstraintLayout</code> with a navigation at bottom. In some cases i need to hide a bottom navigation with <code>ConstraintLayout</code> animation.</p>\n\n<p>XML layout file:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n        android:id=\"@+id/lMainConstraint\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n. . .\ntoolbar and others views\n. . .\n\n&lt;com.aurelhubert.ahbottomnavigation.AHBottomNavigation\n                android:id=\"@+id/vNavigation\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n            app:layout_constraintBottom_toBottomOf=\"parent\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>To hide navigation by sliding to bottom:</p>\n\n<pre><code>  val newSet = ConstraintSet()\n            newSet.clone(mInitialSet)\nnewSet.connect(R.id.toolbar, ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID, ConstraintSet.TOP)\n        newSet.connect(R.id.vNavigation, ConstraintSet.TOP, ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM)\n\n            val transition = AutoTransition()\n            transition.interpolator = AccelerateInterpolator()\n            transition.duration = 250\n            TransitionManager.beginDelayedTransition(lMainConstraint, transition)\n            newSet.applyTo(lMainConstraint)\n</code></pre>\n\n<p>However, <code>vNavigation</code> hiding by half only. My <code>R.id.toolbar</code> at top hiding completely, any other <code>ViewGroup</code> hiding without any problems.</p>\n\n<p>Putting <code>AHBottomNavigation</code> into <code>LinearLayout</code> or any other make no sense.</p>\n\n<p><strong>Using library</strong> - <strong>com.aurelhubert:ahbottomnavigation:2.2.0</strong></p>\n"}, {"tags": ["java", "android", "kotlin", "screen-orientation"], "comments": [{"owner": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "edited": false, "score": 0, "creation_date": 1547649606, "post_id": 54219366, "comment_id": 95264540, "body": "Can you please share <code>SecretActivity</code> code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5699130"}, "reply_to_user": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "edited": false, "score": 0, "creation_date": 1547651130, "post_id": 54219366, "comment_id": 95265508, "body": "@MayurGajra sure <code>class SecretActivity : AppCompatActivity() {      override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)         setContentView(R.layout.activity_secret_activity)     }      override fun onConfigurationChanged(newConfig: Configuration?) {         super.onConfigurationChanged(newConfig)     } }</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5699130"}, "reply_to_user": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "edited": false, "score": 0, "creation_date": 1547651197, "post_id": 54219366, "comment_id": 95265558, "body": "@MayurGajra it&#39;s nothing fancy just a simple activity which overrides <code>onConfigurationChanged </code>"}, {"owner": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "edited": false, "score": 0, "creation_date": 1547652385, "post_id": 54219366, "comment_id": 95266246, "body": "That&#39;s really strange because I just tried that same code and it works fine for me,can you please check that in other device because it seems like an device specific issue to me."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5699130"}, "reply_to_user": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "edited": false, "score": 0, "creation_date": 1547715012, "post_id": 54219366, "comment_id": 95288971, "body": "@MayurGajra Are you really sure that when you rotate device 4 times you see 4 times <code>onConfigurationChanged </code> called?"}, {"owner": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "edited": false, "score": 0, "creation_date": 1547735498, "post_id": 54219366, "comment_id": 95300754, "body": "Yes,Just checked in Nexus 9 and Redmi 4A it worked fine,did you try setting <code>keyboardHidden</code> flag in conjunction like <code>orientation|screenSize|keyboardHidden</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5699130"}, "reply_to_user": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "edited": false, "score": 0, "creation_date": 1547799924, "post_id": 54219366, "comment_id": 95324267, "body": "@MayurGajra yes I tried that as well."}, {"owner": {"reputation": 1467, "user_id": 4095993, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SAnXz.jpg?s=128&g=1", "display_name": "Catluc", "link": "https://stackoverflow.com/users/4095993/catluc"}, "edited": false, "score": 0, "creation_date": 1548156974, "post_id": 54219366, "comment_id": 95459421, "body": "Did u check out this question? It looks like there is a listener for screen orientation out there! <a href=\"https://stackoverflow.com/questions/20542756/whats-the-correct-way-to-detect-a-screen-rotation-from-0-to-180-or-90-to-270\" title=\"whats the correct way to detect a screen rotation from 0 to 180 or 90 to 270\">stackoverflow.com/questions/20542756/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1377, "user_id": 5349947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xe0hT.png?s=128&g=1", "display_name": "notTdar", "link": "https://stackoverflow.com/users/5349947/nottdar"}, "is_accepted": false, "score": 1, "last_activity_date": 1548825303, "last_edit_date": 1548825303, "creation_date": 1548157299, "answer_id": 54307517, "question_id": 54219366, "link": "https://stackoverflow.com/questions/54219366/onconfigurationchanged-not-called-for-180-and-270-degrees/54307517#54307517", "title": "onConfigurationChanged not called for 180 and 270 degrees", "body": "<p>Hmm, check manifest, add this/modify</p>\n\n<pre><code>android:configChanges=\"screenSize|smallestScreenSize|screenLayout|orientation\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1293, "user_id": 4257442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8dde9b4feae506689e12acb50d624067?s=128&d=identicon&r=PG&f=1", "display_name": "Pouya Danesh", "link": "https://stackoverflow.com/users/4257442/pouya-danesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1548162341, "creation_date": 1548162341, "answer_id": 54308974, "question_id": 54219366, "link": "https://stackoverflow.com/questions/54219366/onconfigurationchanged-not-called-for-180-and-270-degrees/54308974#54308974", "title": "onConfigurationChanged not called for 180 and 270 degrees", "body": "<p>change this </p>\n\n<pre><code>&lt;activity\nandroid:name=\".SecretActivity\" \nandroid:configChanges=\"orientation|screenSize\"\nandroid:windowSoftInputMode=\"adjustResize\" /&gt;\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>&lt;activity android:name=\".SecretActivity\" android:configChanges=\"screenSize|orientation|screenLayout|navigation\"/&gt;\n</code></pre>\n\n<p>and please checkout <a href=\"https://stackoverflow.com/questions/6896243/how-can-i-detect-screen-rotation/42959113\">this answer</a> the second answer i mean.</p>\n"}, {"tags": [], "owner": {"reputation": 1894, "user_id": 9647447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xq6qD.jpg?s=128&g=1", "display_name": "Vanshaj Daga", "link": "https://stackoverflow.com/users/9647447/vanshaj-daga"}, "is_accepted": false, "score": 3, "last_activity_date": 1548641993, "creation_date": 1548641993, "answer_id": 54394751, "question_id": 54219366, "link": "https://stackoverflow.com/questions/54219366/onconfigurationchanged-not-called-for-180-and-270-degrees/54394751#54394751", "title": "onConfigurationChanged not called for 180 and 270 degrees", "body": "<p>OrientationEventlistener won't work when the device isn't rotating/moving.</p>\n\n<p>I find display listener is a better way to detect the change.</p>\n\n<pre><code> DisplayManager.DisplayListener mDisplayListener = new DisplayManager.DisplayListener() {\n    @Override\n    public void onDisplayAdded(int displayId) {\n       android.util.Log.i(TAG, \"Display #\" + displayId + \" added.\");\n    }\n\n    @Override\n    public void onDisplayChanged(int displayId) {\n       android.util.Log.i(TAG, \"Display #\" + displayId + \" changed.\");\n    }\n\n    @Override\n    public void onDisplayRemoved(int displayId) {\n       android.util.Log.i(TAG, \"Display #\" + displayId + \" removed.\");\n    }\n };\n DisplayManager displayManager = (DisplayManager) mContext.getSystemService(Context.DISPLAY_SERVICE);\n displayManager.registerDisplayListener(mDisplayListener, UIThreadHandler);\n</code></pre>\n\n<p>onDisplayChanged triggers only exactly when getRotation() changes. OrientationEventListener on the other hand triggers constantly in real time and even before getRotation() changes, leading to completely wrong screen rotation values when doing a 180\u00b0 turn from a perspective.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5699130"}, "edited": false, "score": 0, "creation_date": 1548754217, "post_id": 54395175, "comment_id": 95645223, "body": "Thanks for the answer!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5699130"}, "edited": false, "score": 0, "creation_date": 1548925860, "post_id": 54395175, "comment_id": 95722026, "body": "even when I am setting <code>user</code> or <code>sensor</code>still <code>onConfigurationChanged</code> is not called."}], "tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": false, "score": 6, "last_activity_date": 1548645998, "creation_date": 1548645998, "answer_id": 54395175, "question_id": 54219366, "link": "https://stackoverflow.com/questions/54219366/onconfigurationchanged-not-called-for-180-and-270-degrees/54395175#54395175", "title": "onConfigurationChanged not called for 180 and 270 degrees", "body": "<p>If you have an activity with unspecified screen orientation, devices generally ignore 180\u00b0 rotation and only support one landscape direction.</p>\n\n<p>To support all directions, add an explicit <a href=\"https://developer.android.com/reference/android/R.attr#screenOrientation\" rel=\"noreferrer\"><code>screenOrientation</code></a> attribute to you activity manifest entry: <code>user</code> or <code>sensor</code>, depending on whether you want to support device orientation locking by user or not.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5699130"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 1, "answer_count": 4, "score": 7, "last_activity_date": 1548825303, "creation_date": 1547649338, "question_id": 54219366, "link": "https://stackoverflow.com/questions/54219366/onconfigurationchanged-not-called-for-180-and-270-degrees", "title": "onConfigurationChanged not called for 180 and 270 degrees", "body": "<p>I have faced a strange issue (or maybe unexpected behavior) on my Android device.</p>\n\n<p>The problem is that I am listening for configuration changes in my DialogFragment like this:</p>\n\n<pre><code>@Override\npublic void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n    // Do something secret here :)\n}\n</code></pre>\n\n<p>I added <code>android:configChanges</code> to the Activity which is responsible for showing the dialog fragment</p>\n\n<pre><code>&lt;activity\n    android:name=\".SecretActivity\" \n    android:configChanges=\"orientation|screenSize\"\n    android:windowSoftInputMode=\"adjustResize\" /&gt;\n</code></pre>\n\n<p>and indeed I am getting callbacks from the system when I am rotating device, but not in all cases. As you can see in the picture <code>onConfigurationChanged( )</code> called only when I am rotating 90 degrees, and also 360, in other cases it is not called. </p>\n\n<p>Is this an expected behavior?\nIf yes, how I can detect all rotations (90, 180, 270, 360)?</p>\n\n<p><a href=\"https://i.stack.imgur.com/H6gOQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/H6gOQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1547648209, "post_id": 54218265, "comment_id": 95263566, "body": "Of course. You can use <code>Single.zip</code> from RxJava and start the loading in <code>doOnSubscribe</code>, and hide the loading dialog in <code>doFinally</code>."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7243128, "user_type": "registered", "profile_image": "https://graph.facebook.com/969070349892832/picture?type=large", "display_name": "Florian Hirson", "link": "https://stackoverflow.com/users/7243128/florian-hirson"}, "edited": false, "score": 0, "creation_date": 1547653895, "post_id": 54219436, "comment_id": 95267180, "body": "I used the easier way because I couldn&#39;t really understand how to use reactive programming, I&#39;ll probably implement it later."}], "tags": [], "owner": {"reputation": 395, "user_id": 7871886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zMdzr.jpg?s=128&g=1", "display_name": "Yogi Bear", "link": "https://stackoverflow.com/users/7871886/yogi-bear"}, "is_accepted": true, "score": 1, "last_activity_date": 1547649527, "creation_date": 1547649527, "answer_id": 54219436, "question_id": 54218265, "link": "https://stackoverflow.com/questions/54218265/showing-a-progress-dialog-while-doing-multiple-retrofit-calls/54219436#54219436", "title": "Showing a progress dialog while doing multiple retrofit calls", "body": "<p>The best way to achieve this is definitely by using <a href=\"https://github.com/ReactiveX/RxKotlin\" rel=\"nofollow noreferrer\">Reactive Programming</a> so you could have some sort of callback when all calls are done to perform another action.</p>\n\n<p>An easier way would be to count the total number of calls you need to make and do the following:</p>\n\n<pre><code>// find here the total of calls you need to make before the loop\ntotalCount = ??\nvar = 0\n\n// and later, as retrofit requests are asynchronous, on the last upload the condition will be valid and the progress should dismiss\nrequest.enqueue(object :  Callback&lt;UploadDocumentResponse&gt; {\n                    override fun onResponse(call: Call&lt;UploadDocumentResponse&gt;, response: Response&lt;UploadDocumentResponse&gt;) {\n                        Timber.d( response.toString())\n                        var = var + 1\n                        if(var == totalCount)\n                            progresRing.dismiss()\n                    }\n\n                    override fun onFailure(call: Call&lt;UploadDocumentResponse&gt;, t: Throwable) {\n                        Timber.d(t.toString())\n\n                    }\n                })\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7243128, "user_type": "registered", "profile_image": "https://graph.facebook.com/969070349892832/picture?type=large", "display_name": "Florian Hirson", "link": "https://stackoverflow.com/users/7243128/florian-hirson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "accepted_answer_id": 54219436, "answer_count": 1, "score": 0, "last_activity_date": 1547649527, "creation_date": 1547645777, "question_id": 54218265, "link": "https://stackoverflow.com/questions/54218265/showing-a-progress-dialog-while-doing-multiple-retrofit-calls", "title": "Showing a progress dialog while doing multiple retrofit calls", "body": "<p>I want to do a list of calls to upload a list of pictures, show a progress dialog at the beginning and dismiss it at the end. Howewer the progress dialog never show up. If I comment progresRing.dismiss() then the dialog appear but later. Is there a better way to do multiple calls than in a for loop ?</p>\n\n<pre><code>        val progresRing = ProgressDialog(this@AddExtraPicturesActivity)\n        progresRing.isIndeterminate = true\n        progresRing.setTitle(\"Uploading pictures\")\n        progresRing.setMessage(\"Please wait\")\n        progresRing.setCancelable(false)\n\n        progresRing.show()\n        for (item in pictureList) {\n\n            if(item.pictureFile != null) {\n                val file = item.pictureFile\n\n                if(file!!.exists()) {\n                    var fileData = Base64.encodeToString(FileUtils.readFileToString(file).toByteArray(), Base64.DEFAULT)\n\n                    val transactionId = UUID.randomUUID().toString()\n                    val tokenId = \"\"\n\n                    val jobDocument = JobDocument(\"Test\", \"\", \"\", \"PHONE_PICTURE\", \"jpg\", \"test.jpg\", \"\", fileData)\n                    val requestBody = UploadDocumentRequest(\"Test\", jobDocument)\n\n                    val service = RestAPI(this@AddExtraPicturesActivity)\n\n\n                    val request = service.uploadDocument(authorization, transactionId, tokenId, requestBody)\n\n                    request.enqueue(object :  Callback&lt;UploadDocumentResponse&gt; {\n                        override fun onResponse(call: Call&lt;UploadDocumentResponse&gt;, response: Response&lt;UploadDocumentResponse&gt;) {\n                            Timber.d( response.toString())\n                        }\n\n                        override fun onFailure(call: Call&lt;UploadDocumentResponse&gt;, t: Throwable) {\n                            Timber.d(t.toString())\n\n                        }\n                    })\n                }\n            }\n        }\n        progresRing.dismiss()\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "edited": false, "score": 0, "creation_date": 1547645501, "post_id": 54218138, "comment_id": 95261881, "body": "The logical conclusion would be that the token variable isn&#39;t actually 392 characters long. Have you checked the actual length of the token? EDIT: Your stacktrace shows that your token has a length of 0. So obviously the assert fails."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1547645600, "post_id": 54218138, "comment_id": 95261938, "body": "Is it coming from API?"}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547645635, "post_id": 54218138, "comment_id": 95261955, "body": "Yes in debug mode, I set a breakpoint just before the assertion, and I right click on the variable token and click on &quot;Evaluate expression&quot; and in the Evaluate window I enter &quot;token!!.length&quot; and the result is &quot;392&quot;."}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547645653, "post_id": 54218138, "comment_id": 95261969, "body": "Yes it is coming from API (Retrofit)"}, {"owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "edited": false, "score": 0, "creation_date": 1547645826, "post_id": 54218138, "comment_id": 95262072, "body": "Is some other function modifying the value of the token variable?"}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547645885, "post_id": 54218138, "comment_id": 95262109, "body": "No other function modifies the value of the token variable. And I have well set a breakpoint just before the assertEquals test and the token length is 392. So the assertion should be ok. But it is not."}, {"owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "edited": false, "score": 0, "creation_date": 1547646094, "post_id": 54218138, "comment_id": 95262245, "body": "Are you trying to set the length of the token value directly with <code>token!!.length = 392</code>?"}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547646178, "post_id": 54218138, "comment_id": 95262290, "body": "No, the token is retrieved from a remote RESTful API method. And then it has a length of 392. and the variable is not modified in any mean."}, {"owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "edited": false, "score": 0, "creation_date": 1547646673, "post_id": 54218138, "comment_id": 95262600, "body": "I don&#39;t think there is enough to go on with the code you have posted here. Can you post the code where <code>token</code> is initialized and/or set?"}, {"owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "edited": false, "score": 0, "creation_date": 1547648051, "post_id": 54218138, "comment_id": 95263474, "body": "@KotlinIsland Please update your question with the code you just posted."}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547648385, "post_id": 54218138, "comment_id": 95263693, "body": "Ok I have added the code."}], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547648643, "post_id": 54219113, "comment_id": 95263870, "body": "No it is not failing. I have set a breakpoint on the assertEquals test and in the Evaluate window when I enter &quot;token!!.length&quot; the result is 392 and the token variable contains a string of length 392."}, {"owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "reply_to_user": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547648753, "post_id": 54219113, "comment_id": 95263939, "body": "You are correct, I just realised the actual problem. I&#39;ll update my answer."}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547648892, "post_id": 54219113, "comment_id": 95264031, "body": "Do you have the solution ? :)"}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547649046, "post_id": 54219113, "comment_id": 95264135, "body": "I have moved the assertion in the onResponse function and it is now ok ! Thanks again !!!!"}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547649365, "post_id": 54219113, "comment_id": 95264370, "body": "I have moved the assertion in the onResponse function but the assertion is now always true, even with bad authentication credentials. I&#39;ll try a synchronous call as suggested by laalto."}, {"owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "reply_to_user": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547649635, "post_id": 54219113, "comment_id": 95264560, "body": "That&#39;s happening because the test finishes before the asynchronous callback is called. For testing purposes, a synchronous callback will serve you better."}], "tags": [], "owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "is_accepted": false, "score": 3, "last_activity_date": 1547648980, "last_edit_date": 1547648980, "creation_date": 1547648491, "answer_id": 54219113, "question_id": 54218138, "link": "https://stackoverflow.com/questions/54218138/kotlin-unit-test-assertequals-not-working/54219113#54219113", "title": "Kotlin unit test assertEquals not working", "body": "<p>You are not waiting for the result. The <code>enqueue()</code> method executes the request asynchronously. This means that the callback will not occur on the same thread. After you've made the <code>enqueue()</code> call, the assert will immediately be called next. At this point, neither callback will have been called yet so the value of <code>token</code> hasn't changed yet. If you want to synchronously wait for the result, use <code>execute()</code> instead of <code>enqueue()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547649100, "post_id": 54219187, "comment_id": 95264170, "body": "Thanks ! That&#39;s it !"}, {"owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "edited": false, "score": 0, "creation_date": 1547649299, "post_id": 54219187, "comment_id": 95264327, "body": "I have moved the assertion in the onResponse function but now the problem is inversed : the assertion is always true... I&#39;ll try to change to a synchronous call..."}], "tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": true, "score": 3, "last_activity_date": 1547648746, "creation_date": 1547648746, "answer_id": 54219187, "question_id": 54218138, "link": "https://stackoverflow.com/questions/54218138/kotlin-unit-test-assertequals-not-working/54219187#54219187", "title": "Kotlin unit test assertEquals not working", "body": "<p>You're asserting too early. The asynchronous token request has not completed yet when the test reaches the assert.</p>\n\n<p><code>enqueue()</code> smells like Retrofit. Use <code>execute()</code> instead to make the call synchronous.</p>\n"}], "owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 0, "accepted_answer_id": 54219187, "answer_count": 2, "score": 0, "last_activity_date": 1547649764, "creation_date": 1547645346, "last_edit_date": 1547649764, "question_id": 54218138, "link": "https://stackoverflow.com/questions/54218138/kotlin-unit-test-assertequals-not-working", "title": "Kotlin unit test assertEquals not working", "body": "<p>I am trying to code a unit test in Android Studio.</p>\n\n<p>In debug mode, when I reach the breakpoint I have the following variable :</p>\n\n<pre><code>token!!.length = 392\n</code></pre>\n\n<p>And the following assertion is never ok :</p>\n\n<pre><code>assertEquals(392, token!!.length)\n</code></pre>\n\n<p>I don't understand how that can be.</p>\n\n<p>And the Run output is :</p>\n\n<pre><code>java.lang.AssertionError: \nExpected :392\nActual   :0\n &lt;Click to see difference&gt;\n\n    at org.junit.Assert.fail(Assert.java:88)\n    at org.junit.Assert.failNotEquals(Assert.java:834)\n    at org.junit.Assert.assertEquals(Assert.java:118)\n    at org.junit.Assert.assertEquals(Assert.java:144)\n    at com.activity.screen.myapp.ExampleUnitTest.get_auth_token_isCorrect(ExampleUnitTest.kt:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n\njanv. 16, 2019 2:29:40 PM okhttp3.internal.platform.Platform log\nINFOS: --&gt; POST https://theauthwebsite/api/auth/token http/1.1\n\nProcess finished with exit code -1\n</code></pre>\n\n<p>Source code :</p>\n\n<pre><code>    var token: String? = \"\" \n\n    var user = user(\"support@mycompany.fr\",\"aaaabbbb\", \"1\") \n\n    AuthService.getAuthToken(user).enqueue(object : Callback&lt;Result&gt; { \n\n        override fun onResponse(call: Call&lt;Result&gt;, response: Response&lt;Result&gt;) { \n            if (response.isSuccessful) { \n                token = response.body()!!.result!!.token \n            } \n        } \n\n        override fun onFailure(call: Call&lt;Result&gt;, t: Throwable) { \n            token = \"\"; \n        } \n    }) \n\n    assertEquals(392, token!!.length)  // Here token really has a length of 392 so that it should be ok but it is not\n}\n</code></pre>\n\n<p>EDIT : The solution is to use a synchronous request so the code was modified by the following one :</p>\n\n<pre><code>token = authServices.getAuthToken(user).execute().body()!!.result!!.token\n\nassertEquals(392, token!!.length)\n</code></pre>\n\n<p>Thank you guys !</p>\n"}, {"tags": ["android", "charts", "kotlin", "mpandroidchart"], "owner": {"reputation": 69, "user_id": 5197266, "user_type": "registered", "profile_image": "https://graph.facebook.com/622159647887659/picture?type=large", "display_name": "Mykola", "link": "https://stackoverflow.com/users/5197266/mykola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547645340, "creation_date": 1547645340, "question_id": 54218135, "link": "https://stackoverflow.com/questions/54218135/mpandroidchart-cant-get-x-axis-labels-to-show-up-correctly", "title": "mpandroidchart - can&#39;t get x axis labels to show up correctly", "body": "<p>I am trying to show the data using LineChart, and ran into issues displaying x axis labels. I use <code>data.start</code> and <code>data.end</code> to set the x-axis bounds in my chart. So let's say API returns data for two days only (Thursday and Friday), <code>start</code> will be Monday and <code>end</code> will be Saturday.</p>\n\n<p>Note:X values are ALL unix timestamps.</p>\n\n<p>here's my code:</p>\n\n<pre><code>class MyChart(chart: LineChart?, val data: MyData) {\n      private val startValue = data.start.toEpochSecond(ZoneOffset.UTC)                             \n      init {\n           chart?.run {\n               setScaleEnabled(false)\n               legend.isEnabled = false\n               description.isEnabled = false\n\n                axisRight.run {\n                      setDrawGridLines(true)\n                      setDrawLabels(false)\n                      axisMinimum = 0.1f // hide 0.0 values\n                }\n                axisLeft.run {\n                      setDrawGridLines(true)\n                      axisMinimum = 0.1f // hide 0.0 values\n                }\n\n                setupXAxis(xAxis)\n\n                Log.e(\"MPTEST, startValue: \", startValue.toString())\n\n                val entries = ArrayList&lt;Entry&gt;()\n                data.list?.forEachIndexed { _, data -&gt;\n                    val timeInSeconds = data.time.toEpochSecond(ZoneOffset.UTC)\n                    val xIndex = (timeInSeconds - startValue).toFloat()\n                    Log.e(\"MPTEST, xIndex: \", xIndex.toString())\n\n                    entries.add(Entry(xIndex, data.value))\n                 }\n\n                 val data = LineData(LineDataSet(entries, \"\"))\n                 setData(data)\n\n                 invalidate()\n}}\n\nprivate fun setupXAxis(xAxis: XAxis?) {\n    xAxis?.run {\n        position = XAxis.XAxisPosition.BOTTOM\n\n        val startInSeconds = data.start.toEpochSecond(ZoneOffset.UTC)\n        axisMinimum = (startInSeconds - startValue).toFloat()\n        Log.e(\"MPTEST, axisMinimum: \", axisMinimum.toString())\n\n        val endInSeconds = data.end.toEpochSecond(ZoneOffset.UTC)\n        axisMaximum = (endInSeconds - startValue).toFloat()\n        Log.e(\"MPTEST, axisMaximum: \", axisMaximum.toString())\n\n        setCenterAxisLabels(true)\n        setDrawGridLines(false)\n\n        // I need to fix something here I think\n        setLabelCount(7, true)\n        valueFormatter = IndexAxisValueFormatter(data.labels)\n    }\n} }\n</code></pre>\n\n<p>Here's the logcat output:</p>\n\n<pre><code>E/MPTEST,\u00a0axisMinimum:: 0.0\nE/MPTEST,\u00a0axisMaximum:: 604799.0\nE/MPTEST,\u00a0startValue:: 1546732800 \nE/MPTEST,\u00a0xIndex:: 366180.0\nE/MPTEST,\u00a0xIndex:: 467893.0  \n</code></pre>\n\n<p>That's what I get - <a href=\"https://i.ibb.co/YD2DnhJ/Screen-Shot-2019-01-16-at-7-20-23-AM.png\" rel=\"nofollow noreferrer\">https://i.ibb.co/YD2DnhJ/Screen-Shot-2019-01-16-at-7-20-23-AM.png</a><br>\n(as you can see only first x axis label is displayed)</p>\n\n<p>and this is what I am trying to achieve - <a href=\"https://i.ibb.co/M8b9pyP/Screen-Shot-2019-01-16-at-7-24-15-AM.png\" rel=\"nofollow noreferrer\">https://i.ibb.co/M8b9pyP/Screen-Shot-2019-01-16-at-7-24-15-AM.png</a></p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1547644229, "post_id": 54217696, "comment_id": 95261148, "body": "Can&#39;t you just create a new project with an empty Activity using the project wizard, and then add your own code?"}, {"owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1547645328, "post_id": 54217696, "comment_id": 95261765, "body": "@Michael I just want to run -  fun printHello () {     println (&quot;Hello World&quot;) }"}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "edited": false, "score": 1, "creation_date": 1547645496, "post_id": 54217696, "comment_id": 95261878, "body": "I believe it&#39;s impossible in AndroidStudio you should use IntelliJ Idea instead"}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1547645585, "post_id": 54217696, "comment_id": 95261929, "body": "@AnanthRajSingh: Android apps are based around activities. If you want to build some sort of command-line application then it sounds like you should develop for a desktop OS instead."}, {"owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "reply_to_user": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "edited": false, "score": 0, "creation_date": 1547645586, "post_id": 54217696, "comment_id": 95261930, "body": "@anber I don&#39;t think so. Just know I figured out how to run Kotlin script file (.kts) there must be a way for .kt file also."}, {"owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1547645767, "post_id": 54217696, "comment_id": 95262030, "body": "@Michael You&#39;re getting me wrong here. I am not building any application. Just want to use Android Studio as an IDE for Kotlin files."}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "edited": false, "score": 2, "creation_date": 1547647709, "post_id": 54217696, "comment_id": 95263238, "body": "AndroidStudio is intended for creating Android applications via Gradle. You may found some workaround how to run simple Kotlin file but its better to use appropriate tools"}], "answers": [{"comments": [{"owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "edited": false, "score": 0, "creation_date": 1547650521, "post_id": 54219274, "comment_id": 95265108, "body": "Yes, I am able to run .kts scratch files but not being able to run .kt scratch files."}], "tags": [], "owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "is_accepted": false, "score": 5, "last_activity_date": 1547649028, "creation_date": 1547649028, "answer_id": 54219274, "question_id": 54217696, "link": "https://stackoverflow.com/questions/54217696/run-a-single-kt-file-in-android-studio/54219274#54219274", "title": "Run a single .kt file in Android Studio", "body": "<p>You can create a scratch kotlin file with File -> New -> Scratch File -> Kotlin.\nWith this you should be able to create and run kotlin script files to try features, code and so on.</p>\n\n<p>If your intention is to create a full standlone kotlin project. My recomendation is to use IntelliJ IDEA. Doing so with Android Studio may be possible but you won't stop facing issues and having to search for workarounds all the time.</p>\n"}, {"comments": [{"owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "edited": false, "score": 0, "creation_date": 1547650190, "post_id": 54219287, "comment_id": 95264885, "body": "It is giving me &quot;Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: KotlinClass2Kt&quot;"}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "reply_to_user": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "edited": false, "score": 1, "creation_date": 1547650633, "post_id": 54219287, "comment_id": 95265179, "body": "@AnanthRajSingh That depends entirely on your code and configuration. In Android Studio this still uses gradle to build your code as application. For example when you use Android system classes, it will compile fine but not run since these classes are not available at runtime. As others have suggested, you may try your luck using IntelliJ IDEA (community edition is also free). It uses a different environment and build system. Otherwise post your code and errors as separate question."}, {"owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "edited": false, "score": 0, "creation_date": 1547651755, "post_id": 54219287, "comment_id": 95265886, "body": "I was trying it on Kotlin File. Now when I created Kotlin Class, that Play button is only able to Debug the class not Run it. When I debug it, it says &quot;Error: Could not find or load main class KotlinClass3&quot;. Well anyway, I am grateful for your answer. I will use Kotlin REPL provided in Android Studio or use .kts scratch files."}, {"owner": {"reputation": 1455, "user_id": 969478, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mLNKv.jpg?s=128&g=1", "display_name": "Giszmo", "link": "https://stackoverflow.com/users/969478/giszmo"}, "edited": false, "score": 0, "creation_date": 1553214304, "post_id": 54219287, "comment_id": 97311343, "body": "I run into the same issues as OP but with it having worked once but without changing the code it just stopped working. Claims to not find the class."}, {"owner": {"reputation": 1015, "user_id": 4390866, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcPEu.png?s=128&g=1", "display_name": "Siddhivinayak", "link": "https://stackoverflow.com/users/4390866/siddhivinayak"}, "edited": false, "score": 0, "creation_date": 1576870788, "post_id": 54219287, "comment_id": 105046982, "body": "try <a href=\"https://stackoverflow.com/questions/44197521/gradle-project-java-lang-noclassdeffounderror-kotlin-jvm-internal-intrinsics\">this</a>"}], "tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 14, "last_activity_date": 1547650649, "last_edit_date": 1547650649, "creation_date": 1547649077, "answer_id": 54219287, "question_id": 54217696, "link": "https://stackoverflow.com/questions/54217696/run-a-single-kt-file-in-android-studio/54219287#54219287", "title": "Run a single .kt file in Android Studio", "body": "<p>If you create a top-level function called <code>main</code> in any kotlin file, a green run button will appear next to it that allows you to run it as a program:<br>\n<a href=\"https://i.stack.imgur.com/cASIh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cASIh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that this works in Android Studio as well as in IntelliJ IDEA.</p>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 5409567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bedaf36b710c79b4ab8e081d11f6896?s=128&d=identicon&r=PG&f=1", "display_name": "Yamini", "link": "https://stackoverflow.com/users/5409567/yamini"}, "is_accepted": false, "score": 0, "last_activity_date": 1584616190, "creation_date": 1584616190, "answer_id": 60755971, "question_id": 54217696, "link": "https://stackoverflow.com/questions/54217696/run-a-single-kt-file-in-android-studio/60755971#60755971", "title": "Run a single .kt file in Android Studio", "body": "<p>Use this code, You will see a run icon near function.</p>\n\n<pre><code>class Test {\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            println(\"Hello test!\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 659, "user_id": 3891283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/RoB3Y.gif?s=128&g=1", "display_name": "lm2a", "link": "https://stackoverflow.com/users/3891283/lm2a"}, "is_accepted": false, "score": 0, "last_activity_date": 1598788071, "last_edit_date": 1598788071, "creation_date": 1598694945, "answer_id": 63645668, "question_id": 54217696, "link": "https://stackoverflow.com/questions/54217696/run-a-single-kt-file-in-android-studio/63645668#63645668", "title": "Run a single .kt file in Android Studio", "body": "<p>Android Studio allow to run Kotlin code, but the green triangle (to Run) appears just if you don't use a class file or if you add a <code>fun main(args: Array&lt;String&gt;){}</code> out of the class's brackets. So, the way I am doing this (in AS 4.0) is:</p>\n<ol>\n<li><p>Creating a Kotlin FILE (not choose a CLASS) and putting inside just:</p>\n<p>fun main(args: Array) {}</p>\n</li>\n<li><p>Then, inside this method you are allowed to use Kotlin classes. You can do for example:</p>\n<p>fun main(args: Array){\nvar oneMan: Man = Man()\noneMan.method()\n}</p>\n</li>\n</ol>\n<p>being Man a regular Kotlin class.</p>\n"}], "owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3777, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1598788071, "creation_date": 1547643907, "question_id": 54217696, "link": "https://stackoverflow.com/questions/54217696/run-a-single-kt-file-in-android-studio", "title": "Run a single .kt file in Android Studio", "body": "<p>I created a Scratch Kotlin file in Android Studio. I simply want to run this scratch.kt file and get output.</p>\n\n<p>I fiddled with Run Cofigurations but cannot understand what will go into Main Class.</p>\n\n<p><a href=\"https://i.stack.imgur.com/V5iPq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V5iPq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["spring-boot", "kotlin", "vaadin", "vaadin-flow", "vaadin12"], "comments": [{"owner": {"reputation": 4709, "user_id": 8962195, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ChBQjQ88R30/AAAAAAAAAAI/AAAAAAAACI0/3U1w_xL02pg/photo.jpg?sz=128", "display_name": "Tatu Lund", "link": "https://stackoverflow.com/users/8962195/tatu-lund"}, "edited": false, "score": 1, "creation_date": 1547643926, "post_id": 54217442, "comment_id": 95260984, "body": "Can you check if you are facing same issue as described here: <a href=\"https://github.com/vaadin/vaadin-app-layout-flow/issues/61\" rel=\"nofollow noreferrer\">github.com/vaadin/vaadin-app-layout-flow/issues/61</a> ?"}, {"owner": {"reputation": 1562, "user_id": 5052976, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pJwda.jpg?s=128&g=1", "display_name": "Katharina", "link": "https://stackoverflow.com/users/5052976/katharina"}, "reply_to_user": {"reputation": 4709, "user_id": 8962195, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ChBQjQ88R30/AAAAAAAAAAI/AAAAAAAACI0/3U1w_xL02pg/photo.jpg?sz=128", "display_name": "Tatu Lund", "link": "https://stackoverflow.com/users/8962195/tatu-lund"}, "edited": false, "score": 0, "creation_date": 1548058289, "post_id": 54217442, "comment_id": 95392456, "body": "Thank you! But I don&#39;t think it relates as I&#39;m not using the <code>AbstractRouterLayout</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1548155987, "post_id": 54307122, "comment_id": 95434029, "body": "Actually I&#39;m surprised that <code>DashboardView::class</code> even compiles in this case."}, {"owner": {"reputation": 1562, "user_id": 5052976, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pJwda.jpg?s=128&g=1", "display_name": "Katharina", "link": "https://stackoverflow.com/users/5052976/katharina"}, "edited": false, "score": 0, "creation_date": 1548234412, "post_id": 54307122, "comment_id": 95465727, "body": "Unfortunately it&#39;s the other way round DashboardView::class.java doesn&#39;t compile because it&#39;s expecting <code>KClass&lt;out RouterLayout&gt;</code> But thanks for your help!"}, {"owner": {"reputation": 1562, "user_id": 5052976, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pJwda.jpg?s=128&g=1", "display_name": "Katharina", "link": "https://stackoverflow.com/users/5052976/katharina"}, "edited": false, "score": 0, "creation_date": 1548234440, "post_id": 54307122, "comment_id": 95465744, "body": "The error I get when using this is: Type inference failed. Expected type mismatch:  required: KClass&lt;out RouterLayout!&gt; found: Class&lt;DashboardView&gt;"}], "tags": [], "owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "is_accepted": false, "score": 0, "last_activity_date": 1548155927, "creation_date": 1548155927, "answer_id": 54307122, "question_id": 54217442, "link": "https://stackoverflow.com/questions/54217442/vaadin-flow-route-annotation-with-layout-set-breaks-layout-style/54307122#54307122", "title": "Vaadin Flow @Route annotation with layout set breaks layout style", "body": "<p>Maybe the <code>@Route</code> property <code>layout</code> needs the java class instead of the Kotlin class?</p>\n\n<p>Try <code>layout = DashboardView::class.java</code>.</p>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html</a></p>\n\n<blockquote>\n  <p>Note that a Kotlin class reference is not the same as a Java class\n  reference. To obtain a Java class reference, use the .java property on\n  a KClass instance.</p>\n</blockquote>\n"}], "owner": {"reputation": 1562, "user_id": 5052976, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pJwda.jpg?s=128&g=1", "display_name": "Katharina", "link": "https://stackoverflow.com/users/5052976/katharina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1548155927, "creation_date": 1547643008, "question_id": 54217442, "link": "https://stackoverflow.com/questions/54217442/vaadin-flow-route-annotation-with-layout-set-breaks-layout-style", "title": "Vaadin Flow @Route annotation with layout set breaks layout style", "body": "<p>I'm using Vaadin 12.0.3 and I'm trying to create a top menu bar using an <code>AppLayout</code>. Therefore I added the <code>AppLayout</code>, which contains the Menu to my main view - the <code>DashboardView</code> (which extends <code>RouterLayout</code>). This view should be the parent view for the <code>MonitoringView</code> which displays some data. Therefore I'm setting the <code>@Route</code> annotation to the <code>MonitoringView</code> like this: <code>@Route(Monitoring.route, layout = DashboardView::class)</code>.</p>\n\n<p>The problem is if I add <code>layout = DashboardView::class</code> to the annotation all styling of the <code>MonitoringView</code> is gone. This means texts are not displayed, (background-)colors and shadows are gone and so one. When I remove the layout part from the annotation everything looks fine but then I can't see the menu bar on top. </p>\n\n<p>Here's the code for the mentioned classes:</p>\n\n<p>The <code>DashboardView</code>, which should be the parent for the other view and contains the menu (<code>AppLayout</code>):</p>\n\n<pre><code>@UIScope\n@SpringComponent\n@Route(\"dashboard\")\n@PageTitle(\"Dashboard\")\nclass DashboardView() : VerticalLayout(), BeforeEnterObserver, RouterLayout {\n\n    init {\n        val appLayout = AppLayout()\n        val menu = appLayout.createMenu()\n\n        menu.addMenuItems(\n                AppLayoutMenuItem(\"Page 1\", \"monitoring\"),\n                AppLayoutMenuItem(\"Page 2\")\n        )\n\n        add(appLayout)\n    }\n}\n</code></pre>\n\n<p>The <code>MonitoringView</code> that shows monitoring data and should be displayed below the menu bar when the user clicks on \"Page 1\":</p>\n\n<pre><code>@UIScope\n@SpringComponent\n@Route(\"monitoring\", layout = DashboardView::class)\nclass MonitoringView() : VerticalLayout(), BeforeEnterObserver {\n    ...\n}\n</code></pre>\n"}, {"tags": ["kotlin", "mockito", "android-testing", "android-architecture-components", "android-livedata"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 1, "creation_date": 1547877304, "post_id": 54216838, "comment_id": 95352840, "body": "Are you using this dependency <code>testImplementation &quot;android.arch.core:core-testing:$lifecycle_version&quot;</code>?"}], "owner": {"reputation": 2738, "user_id": 4997660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2wtVn.jpg?s=128&g=1", "display_name": "Boonya Kitpitak", "link": "https://stackoverflow.com/users/4997660/boonya-kitpitak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1259, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1547640775, "creation_date": 1547640775, "question_id": 54216838, "link": "https://stackoverflow.com/questions/54216838/mocking-livedata-object-in-android-viewmodel-using-mockito", "title": "Mocking LiveData object in Android ViewModel using Mockito", "body": "<p>I have a ViewModel look like this.</p>\n\n<pre><code>class SignInViewModel(private val requestDataUseCase: RequestDataUseCase) : ViewModel() {\n\n  ...\n  var isLoading = MediatorLiveData&lt;Boolean&gt;()\n  ...\n\n  fun requestData(id: String) {\n        requestDataUseCase(id).let { liveData -&gt;\n            isLoading.value = true\n            isLoading.addSource(liveData) {\n                it?.either(this::onSuccess, this::handleError)\n                isLoading.removeSource(liveData)\n                isLoading.value = false\n            }\n        }\n    }\n...\n\n}\n</code></pre>\n\n<p>My test class</p>\n\n<pre><code>class SignInViewModelTest {\n        private lateinit var signInViewModel: SignInViewModel\n        @Mock private lateinit var requestDataUseCase: RequestDataUseCase\n        private val dataResponse: MutableLiveData&lt;String&gt; = MutableLiveData()\n\n        @Before\n        fun setUp() {\n            signInViewModel = SignInViewModel(requestDataUseCase)\n        }\n\n        @Test\n        fun testRequestData() {\n            `when`(requestDataUseCase(any(), any())).thenReturn(dataResponse)\n            //trying to call\n            fun requestData(\"123456\")\n        }\n}\n</code></pre>\n\n<p>The problem is I got <code>NullPointerException</code> on <code>isLoading</code> variable in <code>SignInViewModel</code> class. </p>\n\n<p>It's the variable that controls <code>ProgressBar</code> in the XML layout.</p>\n\n<p>So my question is how can I mock the <code>isLoading</code> variable?</p>\n\n<p>Or are there any suggestion on how should I create a test for this scenario?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["java", "android", "kotlin", "live-wallpaper"], "owner": {"reputation": 1001, "user_id": 1588876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c88adc0540e95fbf0a4f9ccc7708dda?s=128&d=identicon&r=PG", "display_name": "ibad ur rahman", "link": "https://stackoverflow.com/users/1588876/ibad-ur-rahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547640040, "creation_date": 1547640040, "question_id": 54216650, "link": "https://stackoverflow.com/questions/54216650/video-live-wallpaper-update-video-source-not-working", "title": "Video Live Wallpaper update video source not working", "body": "<p>I set video as live wallpaper and it work fine. But when i change that video by replacing the path. In Preview it show the video changed but after click on \"SET WALLPAPER\" the previous one is not changed. How can i change the current video with new one while my live wallpaper is in running on phone. source code for my wallpaper is below:</p>\n\n<p>class VideoLiveWallpaperService : WallpaperService() {</p>\n\n<pre><code>val PREFS_FILENAME = \"com.billionaire.wallpaper.prefs\"\nval wall = \"wall\"\nvar prefs: SharedPreferences? = null\n\noverride fun onCreateEngine(): WallpaperService.Engine {\n\n    return VideoEngine()\n}\n\ninternal inner class VideoEngine : WallpaperService.Engine() {\n\n\n    private val TAG = javaClass.simpleName\n    private val mediaPlayer: MediaPlayer\n\n    init {\n        Log.i(TAG, \"( VideoEngine )\")\n\n        // get pref for wallpapers\n\n        prefs = baseContext.getSharedPreferences(PREFS_FILENAME, 0)\n        val wall_path = prefs!!.getString(wall, \"null\")\n\n        val f = File(Environment.getExternalStorageDirectory().toString() + \"/\"+wall_path)\n        // System.out.println(\"Path &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;????? \" + Environment.getExternalStorageDirectory().absolutePath+\"ibad.mov\");\n        if (wall_path.equals(\"null\") &amp;&amp; !f.isDirectory) {\n            mediaPlayer = MediaPlayer.create(baseContext,R.raw.test)\n            mediaPlayer.isLooping = true\n        } else{\n        val uri = Uri.parse(Environment.getExternalStorageDirectory().toString() + \"/\"+wall_path)\n            mediaPlayer = MediaPlayer()\n\n            mediaPlayer.setDataSource(baseContext, uri)\n            mediaPlayer.prepare()\n            mediaPlayer.isLooping = true\n         }\n\n\n    }\n\n\n    override fun onSurfaceCreated(holder: SurfaceHolder) {\n        Log.i(TAG, \":::::::::: onSurfaceCreated\")\n        mediaPlayer.setSurface(holder.surface)\n        mediaPlayer.start()\n    }\n\n    override fun onSurfaceDestroyed(holder: SurfaceHolder) {\n        Log.i(TAG, \"( :::::::: INativeWallpaperEngine ): onSurfaceDestroyed\")\n        playheadTime = mediaPlayer.currentPosition\n        mediaPlayer.reset()\n        mediaPlayer.release()\n\n    }\n}\n\ncompanion object {\n    protected var playheadTime = 0\n}\n</code></pre>\n\n<p>}</p>\n\n<p>When i change the link in preference then i call live wallpaper by following code:</p>\n\n<pre><code>try\n                    {\n                        val intent = Intent(WallpaperManager.ACTION_CHANGE_LIVE_WALLPAPER)\n                        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                        intent.putExtra(WallpaperManager.EXTRA_LIVE_WALLPAPER_COMPONENT,\n                                ComponentName(this@AnimattedViewpagerActivity, VideoLiveWallpaperService::class.java))\n                        startActivity(intent)\n                    }\n                    catch (e:Exception) {\n                        val intent = Intent()\n                        intent.setAction(WallpaperManager.ACTION_LIVE_WALLPAPER_CHOOSER)\n                        startActivity(intent)\n                    }\n</code></pre>\n\n<p>the above code open Preview mode of live wallpaper. in this mode the wallpaper changed but after i click on \"Set Wallpaper\" button in this Preview, it can't change that previous video. Please help me.</p>\n"}, {"tags": ["android", "string", "replace", "kotlin", "char"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1547639877, "creation_date": 1547639877, "answer_id": 54216599, "question_id": 54215982, "link": "https://stackoverflow.com/questions/54215982/a-way-to-remove-specific-characters-from-a-string-kotlin/54216599#54216599", "title": "A way to remove specific characters from a string? (kotlin)", "body": "<p>The issue is that you're setting the text in <code>textView</code> in every loop, and never updating <code>input</code>. So you're essentially only seeing the result of the <code>replace</code> call that happens with the <code>\"ZoZ\"</code> and <code>\"Z\"</code> parameters at the end of the loop, with <code>input</code> still being the original string.</p>\n\n<p>Instead, you can keep updating <code>input</code> and then set the text when you're done:</p>\n\n<pre><code>val konsonanter = \"bcdfghjklmnpqrstvwxzBCDFGHJKLMNPQRSTVWXZ\"\nvar input = editText.text.toString()\nvar emptyString = \"\"\n\nfor (i in konsonanter) {\n    val find_text = i + \"o\" + i\n\n    val conso = i.toString()\n\n    input = input.replace(find_text, conso, false)\n}\n\ntextView.text = input\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547749028, "post_id": 54218075, "comment_id": 95308299, "body": "I don&#39;t know if OP needs it, but this would not work for &quot;Bob&quot; (uppercase B at the start). I addressed that in my answer."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547750431, "post_id": 54218075, "comment_id": 95309005, "body": "@WilliMentzel if <code>input</code> is <b>&quot;Bob&quot;</b> then the result is <b>&quot;Bob&quot;</b> also because of <code>false</code> for the <code>ignoreCase</code> argument. Why do you say that this would not work for &quot;Bob&quot;?"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547750604, "post_id": 54218075, "comment_id": 95309068, "body": "shouldn&#39;t  &quot;Bob&quot; be turned to &quot;b&quot;? maybe I misunderstood it"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547750729, "post_id": 54218075, "comment_id": 95309120, "body": "No, &quot;bob&quot; should be turned to &quot;b&quot; and &quot;BoB&quot;  should be turned to &quot;B&quot;."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547751042, "post_id": 54218075, "comment_id": 95309260, "body": "maybe you know this game better than I do, I don&#39;t think it&#39;s clear from the question... who knows. good answer anyways."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547751126, "post_id": 54218075, "comment_id": 95309301, "body": "I never heard of this game before. I just guessed by the OP&#39;s code."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 2, "last_activity_date": 1547645154, "creation_date": 1547645154, "answer_id": 54218075, "question_id": 54215982, "link": "https://stackoverflow.com/questions/54215982/a-way-to-remove-specific-characters-from-a-string-kotlin/54218075#54218075", "title": "A way to remove specific characters from a string? (kotlin)", "body": "<p>Use a <code>forEach</code> loop through the chars of <code>input</code> and replace:</p>\n\n<pre><code>konsonanter.forEach { input = input.replace(\"${it}o${it}\", \"${it}\", false) }\ntextView.text = input\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1547749016, "last_edit_date": 1547749016, "creation_date": 1547677103, "answer_id": 54226248, "question_id": 54215982, "link": "https://stackoverflow.com/questions/54215982/a-way-to-remove-specific-characters-from-a-string-kotlin/54226248#54226248", "title": "A way to remove specific characters from a string? (kotlin)", "body": "<p>If you use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\" rel=\"nofollow noreferrer\">replace</a> function with a Regex and a transform function as parameters you can create a really concise completely self-containing extension function:</p>\n\n<pre><code>fun String.translateBack() = with(Regex(\"([bcdfghjklmnpqrstvwxz])o\\\\1\", RegexOption.IGNORE_CASE)) {\n    replace(this) { \"${it.value.first()}\" }\n}\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The Regex will match all same consonants (no matter the case) around an \"o\".\nTo ensure that the consonant before and after the \"o\" are the same a <a href=\"https://www.rexegg.com/regex-capture.html\" rel=\"nofollow noreferrer\">backreference</a> to the first group was used.</p>\n\n<p>So, this will also work for cases like \"coCatot\".</p>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>println(\"bob\".translateBack()) // b\nprintln(\"cocatot\".translateBack()) // cat\nprintln(\"coCatot\".translateBack()) // cat\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 10613140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89177ccd62abf135aaa19e0ee3db8a3e?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik", "link": "https://stackoverflow.com/users/10613140/henrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5355, "favorite_count": 0, "accepted_answer_id": 54216599, "answer_count": 3, "score": 3, "last_activity_date": 1547749016, "creation_date": 1547637720, "last_edit_date": 1547677331, "question_id": 54215982, "link": "https://stackoverflow.com/questions/54215982/a-way-to-remove-specific-characters-from-a-string-kotlin", "title": "A way to remove specific characters from a string? (kotlin)", "body": "<p>So I have a textField where you should enter your \"coded\" text and get it translated back to non-coded language by using .replace to remove certain characters. But I can't get it to work.</p>\n\n<p>There is a kids \"code-language\" where you take a word, like cat and for every consonant you add an \"o\" and the consonant again. So a \"b\" would be \"bob\". With vowels they just stay as they are. Cat would be cocatot.</p>\n\n<pre><code>fun translateBack(view : View) {\n     val konsonanter = \"bcdfghjklmnpqrstvwxzBCDFGHJKLMNPQRSTVWXZ\"\n     var input = editText.text.toString()\n     var emptyString = \"\"\n\n     for(i in konsonanter) {\n        val find_text = i + \"o\" + i\n\n        var conso = i.toString()\n\n        textView.text = input.replace(find_text, conso, false)\n     }\n }\n</code></pre>\n\n<p>Would like for it to remove the two following letters for every consonant (if possible). So if i enter \"cocowow\" I should get out \"cow\". Right now I just get back what I enter in the textField...</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 888, "user_id": 1064622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SfDuC.jpg?s=128&g=1", "display_name": "Pasukaru", "link": "https://stackoverflow.com/users/1064622/pasukaru"}, "edited": false, "score": 0, "creation_date": 1547637206, "post_id": 54215733, "comment_id": 95257194, "body": "Aha! I never thought of having annotations on properties. That explains so much. Like why I always have to use the .javaField on normal java classes.  I have not encountered a case where the annotation is actually on the property. But it does makes sense now. Thank you!"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1547636850, "creation_date": 1547636850, "answer_id": 54215733, "question_id": 54215566, "link": "https://stackoverflow.com/questions/54215566/kotlin-reflection-findannotationtype-returns-null/54215733#54215733", "title": "Kotlin reflection: findAnnotation&lt;Type&gt;() returns null", "body": "<p><code>Foo::password.annotations</code> is the list of annotations on the property. In your code, you've used the <code>@field:</code> use site target, which means that the annotation is applied to the backing field, not the property. Therefore, the list of annotations on the property is empty.</p>\n\n<p>The Java variant works because it loads the list of annotations on the field.</p>\n"}], "owner": {"reputation": 888, "user_id": 1064622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SfDuC.jpg?s=128&g=1", "display_name": "Pasukaru", "link": "https://stackoverflow.com/users/1064622/pasukaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 54215733, "answer_count": 1, "score": 1, "last_activity_date": 1547636850, "creation_date": 1547636324, "question_id": 54215566, "link": "https://stackoverflow.com/questions/54215566/kotlin-reflection-findannotationtype-returns-null", "title": "Kotlin reflection: findAnnotation&lt;Type&gt;() returns null", "body": "<p>I have the following data class:</p>\n\n<p><code>data class Foo(@field:Password val password: String)</code></p>\n\n<p>Why does <code>Foo::password.annotations</code> return an empty list?\nAlso, <code>Foo::password.findAnnotation&lt;Password&gt;()</code> returns null.</p>\n\n<p>The same happens when I use an instance of <code>Foo</code>:</p>\n\n<p><code>Foo(\"\")::password.annotations</code></p>\n\n<p><code>Foo(\"\")::password.findAnnotation&lt;Password&gt;()</code></p>\n\n<p>However, this java variant works: <code>Foo::password.javaField.getAnnotation(Password::class.java)</code>.</p>\n\n<p>This is on kotlin version 1.3.10.</p>\n\n<p>The docs don't give much information on the inner workings of <code>findAnnotation</code>.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-property/index.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-property/index.html</a></p>\n\n<blockquote>\n  <p><code>fun &lt;T : Annotation&gt; KAnnotatedElement.findAnnotation(): T?</code></p>\n  \n  <p>Returns an annotation of the given type on this element.</p>\n</blockquote>\n\n<p>What am I missing here?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "drag-and-drop"], "answers": [{"tags": [], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "is_accepted": true, "score": 0, "last_activity_date": 1547639109, "creation_date": 1547639109, "answer_id": 54216384, "question_id": 54214843, "link": "https://stackoverflow.com/questions/54214843/drag-drop-halt-for-specific-position-in-recyclerview/54216384#54216384", "title": "Drag Drop halt for Specific Position in RecyclerView", "body": "<p>Finally, after lots of research in <strong>ItemTouchHelper</strong> class i resolved it like this.</p>\n\n<p>What i have done is set the flag as ACTION_STATE_IDLE where i want to halt the Drag and Drop. Hope it helps someone like me.</p>\n\n<p>Below is the Kotlin version. If anyone needs the same in JAVA i can convert it.</p>\n\n<pre><code>//defines the enabled move directions in each state (idle, swiping, dragging).\n    override fun getMovementFlags(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder): Int {\n        // The position i want to lock/halt\n        if (list[viewHolder.adapterPosition].trim().isEmpty()){\n            return makeFlag(ItemTouchHelper.ACTION_STATE_IDLE, ItemTouchHelper.DOWN or ItemTouchHelper.UP)\n        }\n        // The position i want to lock/halt\n        if (viewHolder.adapterPosition == list.size - 1){\n            return makeFlag(ItemTouchHelper.ACTION_STATE_IDLE, ItemTouchHelper.DOWN or ItemTouchHelper.UP)\n        }\n        // else enabling ACTION_STATE_DRAG\n        return makeFlag(ItemTouchHelper.ACTION_STATE_DRAG,\n                ItemTouchHelper.DOWN or ItemTouchHelper.UP or ItemTouchHelper.START or ItemTouchHelper.END)\n    }\n</code></pre>\n"}], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 54216384, "answer_count": 1, "score": 1, "last_activity_date": 1547639109, "creation_date": 1547633831, "question_id": 54214843, "link": "https://stackoverflow.com/questions/54214843/drag-drop-halt-for-specific-position-in-recyclerview", "title": "Drag Drop halt for Specific Position in RecyclerView", "body": "<p>Is there any way to Halt the Drag Drop of item for specific position using RecyclerView.\nI have achieved the Drag &amp; Drop using below code.</p>\n\n<pre><code>    val _ithCallback = object : ItemTouchHelper.Callback() {\n\n    //and in your implementation of\n    override fun onMove(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {\n        val fromPosition = viewHolder.adapterPosition\n        val toPosition = target.adapterPosition\n\n        // Video position\n        if (fromPosition == list.size - 1 || toPosition == list.size - 1) {\n            return false\n        }\n\n        if (list[fromPosition].trim().isEmpty()){\n            return false\n        }\n\n        if (fromPosition &lt; toPosition) {\n            for (i in fromPosition until toPosition) {\n                Collections.swap(list, i, i + 1)\n            }\n        } else {\n            for (i in fromPosition downTo toPosition + 1) {\n                Collections.swap(list, i, i - 1)\n            }\n        }\n        adapter?.notifyItemMoved(fromPosition, toPosition)\n\n        return true\n    }\n\n    override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n\n    }\n\n    //defines the enabled move directions in each state (idle, swiping, dragging).\n    override fun getMovementFlags(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder): Int {\n        return makeFlag(ItemTouchHelper.ACTION_STATE_DRAG,\n                ItemTouchHelper.DOWN or ItemTouchHelper.UP or ItemTouchHelper.START or ItemTouchHelper.END)\n    }\n}\n</code></pre>\n\n<p>and using it like this</p>\n\n<pre><code>val ith = ItemTouchHelper(_ithCallback)\nith.attachToRecyclerView(imagesRecyclerView)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "http-get"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547633720, "post_id": 54214686, "comment_id": 95255261, "body": "What actually fails, what&#39;s the error? Could it be server-side?"}, {"owner": {"reputation": 23, "user_id": 10460529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb84a6026b1704ec41a55fae44a662b4?s=128&d=identicon&r=PG&f=1", "display_name": "Gueguen Kevin", "link": "https://stackoverflow.com/users/10460529/gueguen-kevin"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547634348, "post_id": 54214686, "comment_id": 95255606, "body": "yes i have &quot;java.net.SocketTimeOutExeption : timeout&quot; cause &quot;socket closed&quot;"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547634973, "post_id": 54214686, "comment_id": 95255974, "body": "I renamed the question to address the actual error. Possible duplicate of <a href=\"https://stackoverflow.com/questions/47196561/sockettimeoutexception\" title=\"sockettimeoutexception\">stackoverflow.com/questions/47196561/sockettimeoutexception</a>. Also please post the stacktrace everytime you have an exception log"}], "owner": {"reputation": 23, "user_id": 10460529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb84a6026b1704ec41a55fae44a662b4?s=128&d=identicon&r=PG&f=1", "display_name": "Gueguen Kevin", "link": "https://stackoverflow.com/users/10460529/gueguen-kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547634911, "creation_date": 1547633288, "last_edit_date": 1547634911, "question_id": 54214686, "link": "https://stackoverflow.com/questions/54214686/two-http-get-requests-in-the-same-activity-resulting-in-a-sockettimeoutexception", "title": "Two HTTP get requests in the same activity resulting in a SocketTimeOutException", "body": "<p>In my main Activity i have two call with an httpget.</p>\n\n<p>my two calls work individually but when ke puts both at the same time it's random.</p>\n\n<p>Either it's the first that works well or the second and very rarely both at the same time.</p>\n\n<pre><code>    urlurg.httpGet().responseObject(ETATS.Deserializer())\n    { request, response, result -&gt;\n       val(disurg,err) = result\n       println(\"LISTE DES ETATS ...\")\n        disurg?.forEach { ETA -&gt;\n           println(ETA.desi)\n           list.add(ETA.desi)\n       }\n       aa.notifyDataSetChanged();\n    }\n\n    url.httpGet().responseObject(DI.Deserializer())\n    { request, response, result -&gt;\n        val (disw, err) = result\n        println(\"LISTE DES DI : ......\")\n        disw?.forEach { DI -&gt;\n            dis.add(DI)\n            println(DI.equipement)\n        }\n        adapter.notifyDataSetChanged();\n    }\n</code></pre>\n\n<p>do you have an idea of \u200b\u200bwhy this behavior?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 5882, "user_id": 3498013, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/lmjxS.png?s=128&g=1", "display_name": "CuriousSuperhero", "link": "https://stackoverflow.com/users/3498013/curioussuperhero"}, "edited": false, "score": 0, "creation_date": 1547633206, "post_id": 54214605, "comment_id": 95254978, "body": "Have you tried to delete your .gradle folder and then &quot;Sync project with Gradle files&quot; + clean + make. The folder in Windows is at  C:\\Users\\&lt;username&gt;\\.gradle"}, {"owner": {"reputation": 359, "user_id": 10356855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqOf9.jpg?s=128&g=1", "display_name": "Jakub Kostka", "link": "https://stackoverflow.com/users/10356855/jakub-kostka"}, "reply_to_user": {"reputation": 5882, "user_id": 3498013, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/lmjxS.png?s=128&g=1", "display_name": "CuriousSuperhero", "link": "https://stackoverflow.com/users/3498013/curioussuperhero"}, "edited": false, "score": 0, "creation_date": 1547705776, "post_id": 54214605, "comment_id": 95285028, "body": "Yes I did, even deleting the &quot;.idea&quot; folder haven&#39;t helped in this case because it also occurs when creating a new project"}, {"owner": {"reputation": 705, "user_id": 5372892, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fHgaqgr3JC4/AAAAAAAAAAI/AAAAAAAAIHU/iC8yZmRSFq0/photo.jpg?sz=128", "display_name": "Federico Mastrini", "link": "https://stackoverflow.com/users/5372892/federico-mastrini"}, "edited": false, "score": 0, "creation_date": 1547723296, "post_id": 54214605, "comment_id": 95293883, "body": "I have the same issue on my home PC, but in my office PC everything is fine. I&#39;m working on the same project, with the same Gradle wrapper and same AS version."}, {"owner": {"reputation": 1303, "user_id": 6737387, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1624825921142206/picture?type=large", "display_name": "Syed Hissaan", "link": "https://stackoverflow.com/users/6737387/syed-hissaan"}, "edited": false, "score": 0, "creation_date": 1571494882, "post_id": 54214605, "comment_id": 103264306, "body": "The accepted solution of this answer also works for <code>cause: invalid type code: 4A</code>"}], "answers": [{"comments": [{"owner": {"reputation": 650, "user_id": 5703820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GHwWG.jpg?s=128&g=1", "display_name": "Infinite Loops", "link": "https://stackoverflow.com/users/5703820/infinite-loops"}, "edited": false, "score": 0, "creation_date": 1556250668, "post_id": 54235107, "comment_id": 98381656, "body": "I got error code 6C on ver 3.4 but I would like to try your workaround. Can you tell me where to disable the setting?"}, {"owner": {"reputation": 705, "user_id": 5372892, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fHgaqgr3JC4/AAAAAAAAAAI/AAAAAAAAIHU/iC8yZmRSFq0/photo.jpg?sz=128", "display_name": "Federico Mastrini", "link": "https://stackoverflow.com/users/5372892/federico-mastrini"}, "reply_to_user": {"reputation": 650, "user_id": 5703820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GHwWG.jpg?s=128&g=1", "display_name": "Infinite Loops", "link": "https://stackoverflow.com/users/5703820/infinite-loops"}, "edited": false, "score": 1, "creation_date": 1556351474, "post_id": 54235107, "comment_id": 98415961, "body": "I can find the setting in <b>File&gt;Settings&gt;Experimental</b>."}, {"owner": {"reputation": 9723, "user_id": 39155, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bd0391d7225d10455d35de0fb5485bea?s=128&d=identicon&r=PG", "display_name": "dwlz", "link": "https://stackoverflow.com/users/39155/dwlz"}, "edited": false, "score": 1, "creation_date": 1558051935, "post_id": 54235107, "comment_id": 98982280, "body": "This fixed it for me on Android Studio 3.4.1. Thank you!"}, {"owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "edited": false, "score": 0, "creation_date": 1596045965, "post_id": 54235107, "comment_id": 111687309, "body": "Getting <code>invalid type code: 4A</code> and this does not work (this feature was already disabled)."}], "tags": [], "owner": {"reputation": 705, "user_id": 5372892, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fHgaqgr3JC4/AAAAAAAAAAI/AAAAAAAAIHU/iC8yZmRSFq0/photo.jpg?sz=128", "display_name": "Federico Mastrini", "link": "https://stackoverflow.com/users/5372892/federico-mastrini"}, "is_accepted": true, "score": 42, "last_activity_date": 1601685266, "last_edit_date": 1601685266, "creation_date": 1547725075, "answer_id": 54235107, "question_id": 54214605, "link": "https://stackoverflow.com/questions/54214605/android-3-3-0-update-error-cause-invalid-type-code-68/54235107#54235107", "title": "Android 3.3.0 update, ERROR: Cause: invalid type code: 68", "body": "<p>I had the same problem. I was working on a project on two PCs: one at my office and one at home. In my office, after the AS 3.3 update, everything was fine but at home, after the same steps that I did at the office, the Error code 68 came out.</p>\n<p>After a couple of hours, I figured out how to solve it.\nAndroid Studio 3.3 has the <strong>&quot; Only sync the active variant&quot;</strong> option enabled by default in <strong>Settings&gt;Experimental</strong>. <strong>Disabling this feature resolved the problem.</strong> But reactivating the feature the same error shows up, even after a successful Gradle sync. So I think this isn't a complete solution, but at least now I can work.</p>\n"}, {"tags": [], "owner": {"reputation": 2384, "user_id": 452486, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/a8k4V.jpg?s=128&g=1", "display_name": "Arst", "link": "https://stackoverflow.com/users/452486/arst"}, "is_accepted": false, "score": 24, "last_activity_date": 1553750607, "creation_date": 1553750607, "answer_id": 55390675, "question_id": 54214605, "link": "https://stackoverflow.com/questions/54214605/android-3-3-0-update-error-cause-invalid-type-code-68/55390675#55390675", "title": "Android 3.3.0 update, ERROR: Cause: invalid type code: 68", "body": "<p>I had the same issu with IntelliJ 2019.1, Untick this option works for me.\n<a href=\"https://i.stack.imgur.com/6RJS8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6RJS8.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 4602709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbOQb.jpg?s=128&g=1", "display_name": "mrarslanark", "link": "https://stackoverflow.com/users/4602709/mrarslanark"}, "is_accepted": false, "score": 1, "last_activity_date": 1564869284, "creation_date": 1564869284, "answer_id": 57342352, "question_id": 54214605, "link": "https://stackoverflow.com/questions/54214605/android-3-3-0-update-error-cause-invalid-type-code-68/57342352#57342352", "title": "Android 3.3.0 update, ERROR: Cause: invalid type code: 68", "body": "<p>I had the same error (6C) during a LinkedIn Learning course, I managed to solve it through the following steps</p>\n\n<ul>\n<li>Updating Kotlin in project-level build.gradle file</li>\n<li>Update gradle build version in project-level build.gradle file.</li>\n<li>Open Project Structure and using the Suggestions tab, update all modules to the latest version.</li>\n<li>Update the compileSdkVersion &amp; targetSdkVersion to latest.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "edited": false, "score": 1, "creation_date": 1596046551, "post_id": 61419131, "comment_id": 111687547, "body": "This is the only correct answer. Running something like <code>.\\gradlew build</code> on the command line will give you actual error messages, which Android Studio hides for some reason (WTF, Google)."}], "tags": [], "owner": {"reputation": 6580, "user_id": 270197, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c56226e7e60b860ad87fcd89bbf67e7c?s=128&d=identicon&r=PG", "display_name": "Gabor", "link": "https://stackoverflow.com/users/270197/gabor"}, "is_accepted": false, "score": 2, "last_activity_date": 1587772026, "creation_date": 1587772026, "answer_id": 61419131, "question_id": 54214605, "link": "https://stackoverflow.com/questions/54214605/android-3-3-0-update-error-cause-invalid-type-code-68/61419131#61419131", "title": "Android 3.3.0 update, ERROR: Cause: invalid type code: 68", "body": "<p>I got a similar message (\"invalid type code: E5\") and resolved it by first building from the command line, which revealed it was a Firebase libs version conflict, and then switching to use <code>firebase-bom</code> instead of manually specifying each version.</p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 4769608, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f9I4ASgxOOE/AAAAAAAAAAI/AAAAAAAAAR4/WiR9ZMtJb6k/photo.jpg?sz=128", "display_name": "Celso Xavier Luz", "link": "https://stackoverflow.com/users/4769608/celso-xavier-luz"}, "is_accepted": false, "score": 3, "last_activity_date": 1591643341, "creation_date": 1591643341, "answer_id": 62269520, "question_id": 54214605, "link": "https://stackoverflow.com/questions/54214605/android-3-3-0-update-error-cause-invalid-type-code-68/62269520#62269520", "title": "Android 3.3.0 update, ERROR: Cause: invalid type code: 68", "body": "<p>Alter path JDK location to .....\\Android Studio\\jre</p>\n"}], "owner": {"reputation": 359, "user_id": 10356855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqOf9.jpg?s=128&g=1", "display_name": "Jakub Kostka", "link": "https://stackoverflow.com/users/10356855/jakub-kostka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10112, "favorite_count": 2, "accepted_answer_id": 54235107, "answer_count": 5, "score": 29, "last_activity_date": 1601685266, "creation_date": 1547633003, "question_id": 54214605, "link": "https://stackoverflow.com/questions/54214605/android-3-3-0-update-error-cause-invalid-type-code-68", "title": "Android 3.3.0 update, ERROR: Cause: invalid type code: 68", "body": "<p>After the new update of Android Studio (3.3.0) I'm getting error from Gradle sync saying \"ERROR: Cause: invalid type code: 68\". Even in project, that have been created before the update and hasn't changed at all.\nI've tried to reinstall Android Studio, which hasn't helped either, so there has to be something incompatible with my project, but it doesn't say what and why.</p>\n\n<p>App gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"cz.cubeit.cubeit\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n}\n</code></pre>\n\n<p>Project gradle:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.11'\n    ext.anko_version='0.10.7'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 2, "creation_date": 1547632479, "post_id": 54214260, "comment_id": 95254515, "body": "You will not get <code>ResourceNotFoundException</code> You can not use <code>Context</code> which is destroyed. You can have an <code>Application</code> class to provide <code>Context</code> globally in this case ."}], "answers": [{"tags": [], "owner": {"reputation": 2667, "user_id": 1475574, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3yzJl.jpg?s=128&g=1", "display_name": "Khalid Taha", "link": "https://stackoverflow.com/users/1475574/khalid-taha"}, "is_accepted": false, "score": 0, "last_activity_date": 1547632416, "creation_date": 1547632416, "answer_id": 54214388, "question_id": 54214260, "link": "https://stackoverflow.com/questions/54214260/will-i-get-a-resourcenotfoundexception-when-i-try-to-retrieve-a-string-from-cont/54214388#54214388", "title": "Will I get a ResourceNotFoundException when I try to retrieve a String from Context in an Api?", "body": "<p>Well, This is a common issue when you add the string to a different locale than the default <code>strings.xml</code> file and forget to add it to the default <code>strings.xml</code> file.\nSo when you are in the default locale, the app will not be able to see the value because it's not inside the default <code>strings.xml</code></p>\n"}], "owner": {"reputation": 1146, "user_id": 2598247, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/V8Y7z.png?s=128&g=1", "display_name": "Hiroga Katageri", "link": "https://stackoverflow.com/users/2598247/hiroga-katageri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1547632416, "creation_date": 1547632041, "question_id": 54214260, "link": "https://stackoverflow.com/questions/54214260/will-i-get-a-resourcenotfoundexception-when-i-try-to-retrieve-a-string-from-cont", "title": "Will I get a ResourceNotFoundException when I try to retrieve a String from Context in an Api?", "body": "<p>So I added a context on my API class that retrieves data from Firebase. If the retrieval fails I return a String that I get from my resources. I just wondered let's say the fragment or activity was suddenly destroyed. Won't I get a ResourcesNotFoundException?</p>\n\n<p>E.g.</p>\n\n<p>I retrieved data > Locked my Screen > Retrieval Fails > (Possible ResourceNotFoundException)?</p>\n\n<p>If this is true then would it be okay to make a StringFactory in a AndroidViewModel, and use the applicationContext to retrieve the String</p>\n\n<p>or</p>\n\n<p>Just fully return a constant var that the Observer will receive, then allow the Observer to access the Context to get the String I need from Resources?</p>\n\n<p>Here are my classes below.</p>\n\n<pre><code>interface BaseApi&lt;T&gt; {\n\n    val process: MutableLiveData&lt;Response&lt;T&gt;&gt;\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>class AccountApi(val context: Context, val store: FirebaseFirestore) : BaseApi&lt;AccountDocument&gt; {\n\n    override val process: MutableLiveData&lt;Response&lt;AccountDocument&gt;&gt; = MutableLiveData()\n\n    fun getAccountDocument(email: String): LiveData&lt;Response&lt;AccountDocument&gt;&gt; {\n\n        val collection = store.collection(\"accounts\")\n\n        collection.document(email)\n                .get()\n                .addOnSuccessListener { task -&gt;\n                    process.value = Response&lt;AccountDocument&gt;(true).data(task.toObject(AccountDocument::class.java))\n                }\n                .addOnFailureListener {\n                    process.value = Response&lt;AccountDocument&gt;(false).message(context.getString(R.string.account_does_not_exist))\n                }\n\n        return process\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>data class Response&lt;T&gt;(\n        val isSuccessful: Boolean = false\n) {\n    private var _message: String = \"\"\n    private var _data: T? = null\n\n    fun message(message: String): Response&lt;T&gt; {\n        _message = message\n        return this\n    }\n\n    fun getMessage() = _message\n\n    fun data(data: T?): Response&lt;T&gt; {\n        _data = data\n        return this\n    }\n\n    fun getData() = _data\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "crashlytics", "crashlytics-android"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547635199, "post_id": 54213800, "comment_id": 95256103, "body": "Fails to work meaning <code>success()</code> get never called or your <code>Log.e</code> line never gets called upon an UE?"}, {"owner": {"reputation": 5223, "user_id": 149316, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3wZLM.png?s=128&g=1", "display_name": "Blitz", "link": "https://stackoverflow.com/users/149316/blitz"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 1, "creation_date": 1547648033, "post_id": 54213800, "comment_id": 95263459, "body": "oops - I clarified it a bit. But methods (success and failure) are never called, hence the UE Handler is not estasblished"}, {"owner": {"reputation": 1395, "user_id": 5719810, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3UhskKSrFJM/AAAAAAAAAAI/AAAAAAAAADo/Jl61H5BTkYg/photo.jpg?sz=128", "display_name": "Shamsul Arefin Sajib", "link": "https://stackoverflow.com/users/5719810/shamsul-arefin-sajib"}, "edited": false, "score": 0, "creation_date": 1548217694, "post_id": 54213800, "comment_id": 95459409, "body": "maybe it will sound like dumb, do the initialization works if coded in java?"}], "answers": [{"tags": [], "owner": {"reputation": 1287, "user_id": 10936865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/573c6c379b5259827e01ab8cb770563e?s=128&d=identicon&r=PG&f=1", "display_name": "taka", "link": "https://stackoverflow.com/users/10936865/taka"}, "is_accepted": false, "score": 0, "last_activity_date": 1548211849, "creation_date": 1548211849, "answer_id": 54319373, "question_id": 54213800, "link": "https://stackoverflow.com/questions/54213800/crashlytics-fabric-initializationcallback-not-called/54319373#54319373", "title": "Crashlytics/Fabric initializationCallback not called", "body": "<p>Tried almost same code in my application class but it worked for me, success() was called.</p>\n\n<pre><code>class MyApplication: MultiDexApplication() {\n    override fun onCreate() {\n        super.onCreate()\n        val core = CrashlyticsCore.Builder()\n            .build()\n        Fabric.with(\n            Fabric.Builder(this)\n                .kits(Crashlytics.Builder().core(core).build())\n                .initializationCallback(object: InitializationCallback&lt;Fabric&gt; {\n                    override fun success(p0: Fabric?) {\n                        Timber.d(\"InitializationCallback success\")\n                    }\n                    override fun failure(p0: Exception?) {\n                        Timber.d(\"InitializationCallback failure\")\n                    }\n                })\n                .build()\n        )\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>Check these</p>\n\n<ul>\n<li>Check <code>io.fabric.ApiKey</code> in your <code>AndroidManifest.xml</code></li>\n<li>Check if your <code>contextProvider.invoke()</code> returns appropriate context</li>\n<li>Try <code>android.app.Application</code> as context and see it works or not</li>\n</ul>\n"}], "owner": {"reputation": 5223, "user_id": 149316, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3wZLM.png?s=128&g=1", "display_name": "Blitz", "link": "https://stackoverflow.com/users/149316/blitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1548211849, "creation_date": 1547630444, "last_edit_date": 1547647983, "question_id": 54213800, "link": "https://stackoverflow.com/questions/54213800/crashlytics-fabric-initializationcallback-not-called", "title": "Crashlytics/Fabric initializationCallback not called", "body": "<p>Trying to implement two crash handlers with crashlytics (as discussed in <a href=\"https://stackoverflow.com/questions/25203616/crashlytics-android-sdk-custom-uncaughtexceptionhandler?rq=1\">Crashlytics Android SDK - custom UncaughtExceptionHandler</a>) I can not get the intializationCalback to work - in Kotlin. Is somebody having the same issue or is there something wrong with my code?\n(To clarify: neither the success nor the failure method are ever called, hence the new UncaughtException Handler is also not executed)</p>\n\n<pre><code>val core = CrashlyticsCore.Builder()\n    .build()\nFabric.with(\n    Fabric.Builder(contextProvider.invoke()).kits(\n        Crashlytics.Builder()\n            .core(core)\n            .build()\n    ).initializationCallback(object : InitializationCallback&lt;Fabric&gt; {\n        override fun success(fabric: Fabric) {\n            var mDefaultUEH = Thread.getDefaultUncaughtExceptionHandler()\n            Thread.setDefaultUncaughtExceptionHandler { t, e -&gt;\n                Log.e(\"CrashLogger\",\"Excpetion\",e)\n                mDefaultUEH.uncaughtException(t, e)\n            }\n        }\n\n        override fun failure(e: Exception) {\n            Log.e(\"CrashLogger\", \"Error during initialization \", e)\n        }\n    }\n    ).build()\n)\n</code></pre>\n"}, {"tags": ["unit-testing", "kotlin", "android-instrumentation", "koin"], "comments": [{"owner": {"reputation": 179, "user_id": 3688726, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ff9fad0a9f5624a46f8b9eca93ede8a?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Harvan", "link": "https://stackoverflow.com/users/3688726/simon-harvan"}, "edited": false, "score": 0, "creation_date": 1611511157, "post_id": 54213432, "comment_id": 116469493, "body": "Did you find the answer?"}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 1374991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b8c7e78224658d9d022df3ddc83834?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1374991/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1548000604, "last_edit_date": 1548000604, "creation_date": 1547999980, "answer_id": 54278249, "question_id": 54213432, "link": "https://stackoverflow.com/questions/54213432/android-instrumentation-test-failed-due-to-mockito/54278249#54278249", "title": "Android instrumentation test failed due to mockito", "body": "<p>It is my decision for mocking</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass DashboardFragmentTest : KoinTest {\n@Rule\n@JvmField\nval activityRule = ActivityTestRule(SingleFragmentActivity::class.java, true, true)\n@Rule\n@JvmField\nval executorRule = TaskExecutorWithIdlingResourceRule()\n@Rule\n@JvmField\nval countingAppExecutors = CountingAppExecutorsRule()\n\nprivate val testFragment = DashboardFragment()\n\nprivate lateinit var dashboardViewModel: DashboardViewModel\nprivate lateinit var router: Router\n\nprivate val devicesSuccess = MutableLiveData&lt;List&lt;Device&gt;&gt;()\nprivate val devicesFailure = MutableLiveData&lt;String&gt;()\n\n@Before\nfun setUp() {\n    dashboardViewModel = Mockito.mock(DashboardViewModel::class.java)\n    Mockito.`when`(dashboardViewModel.devicesSuccess).thenReturn(devicesSuccess)\n    Mockito.`when`(dashboardViewModel.devicesFailure).thenReturn(devicesFailure)\n    Mockito.`when`(dashboardViewModel.getDevices()).thenAnswer { _ -&gt; Any() }\n\n    router = Mockito.mock(Router::class.java)\n    Mockito.`when`(router.loginActivity(activityRule.activity)).thenAnswer { _ -&gt; Any() }\n\n    StandAloneContext.loadKoinModules(hsApp + hsViewModel + api + listOf(module {\n        single(override = true) { router }\n        factory(override = true) { dashboardViewModel } bind ViewModel::class\n    }))\n\n    activityRule.activity.setFragment(testFragment)\n    EspressoTestUtil.disableProgressBarAnimations(activityRule)\n}\n\n@After\nfun tearDown() {\n    activityRule.finishActivity()\n    StandAloneContext.closeKoin()\n}\n\n@Test\nfun devicesCall() {\n    onView(withId(R.id.rv_devices)).check(ViewAssertions.matches(ViewMatchers.isCompletelyDisplayed()))\n    Mockito.verify(dashboardViewModel, Mockito.times(1)).getDevices()\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 3688726, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ff9fad0a9f5624a46f8b9eca93ede8a?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Harvan", "link": "https://stackoverflow.com/users/3688726/simon-harvan"}, "is_accepted": false, "score": 0, "last_activity_date": 1611516955, "creation_date": 1611516955, "answer_id": 65875043, "question_id": 54213432, "link": "https://stackoverflow.com/questions/54213432/android-instrumentation-test-failed-due-to-mockito/65875043#65875043", "title": "Android instrumentation test failed due to mockito", "body": "<p>Problem is in your setup:</p>\n<p><code>testImplementation &quot;org.mockito:mockito-android:$mockito&quot;</code></p>\n<p>This dependency uses Android internals, which aren't available when you run Unit tests.</p>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 894, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1611516955, "creation_date": 1547629142, "question_id": 54213432, "link": "https://stackoverflow.com/questions/54213432/android-instrumentation-test-failed-due-to-mockito", "title": "Android instrumentation test failed due to mockito", "body": "<p>Hi i am getting the following error </p>\n\n<pre><code>\norg.koin.error.BeanInstanceCreationException: Can't create definition for 'Single [name='NetworkControllerContract',class='com.network.contract.NetworkControllerContract']' due to error :\n\nMockito cannot mock this class: class com.network.NetworkController.\n</code></pre>\n\n<p>I have manually made those classes open..</p>\n\n<pre><code>open class NetworkController constructor(private val networkHelper: NetworkHelperContract) : NetworkControllerContract{.....}\n\nopen interface NetworkControllerContract {\n}\n\n//my test class\n\n@RunWith(AndroidJUnit4::class)\nclass MyUnitTest: KoinTest {\n\n   single&lt;NetworkControllerContract&gt; {\n            Mockito.mock(NetworkController::class.java) //where it crashes\n        }\n\n   val networkController: NetworkControllerContract by inject()\n\n}\n\n</code></pre>\n\n<p>Dependencies i use</p>\n\n<pre><code>\n   def mockito = \"2.21.0\"\n\n//android instrumental test\n    androidTestImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.0'\n    androidTestImplementation 'androidx.test.ext:truth:1.1.0'\n    androidTestImplementation 'androidx.test:core:1.1.0'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation('androidx.arch.core:core-testing:2.0.0') {\n        exclude group: 'org.mockito:mockito-core'\n    }\n    androidTestUtil 'androidx.test:orchestrator:1.1.1'\n    androidTestImplementation 'com.github.tmurakami:dexopener:2.0.0'\n\n    androidTestImplementation 'com.jraska.livedata:testing-ktx:0.6.0'\n    androidTestImplementation 'com.jraska.livedata:testing:0.6.0'\n\n    androidTestImplementation \"org.mockito:mockito-core:$mockito\"\n    androidTestImplementation(\"org.mockito:mockito-android:$mockito\") {\n        exclude group: 'org.mockito'\n    }\n\n    androidTestImplementation('org.koin:koin-test:1.0.2') {\n        exclude group: 'org.mockito'\n    }\n\n testImplementation 'junit:junit:4.12'\n    testImplementation \"org.mockito:mockito-core:$mockito\"\n    testImplementation \"org.mockito:mockito-android:$mockito\"\n    testImplementation \"org.mockito:mockito-inline:$mockito\"\n    testImplementation 'org.koin:koin-test:1.0.2'\n    testImplementation 'androidx.test.ext:junit:1.1.0'\n    testImplementation 'androidx.arch.core:core-testing:2.0.0'\n    testImplementation 'com.jraska.livedata:testing-ktx:0.6.0'\n    testImplementation 'com.jraska.livedata:testing:0.6.0'\n    testImplementation 'androidx.test.ext:truth:1.1.0'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 337, "user_id": 6317480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e2357245957ec3e93aa19d8514399e1?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph Mayr", "link": "https://stackoverflow.com/users/6317480/christoph-mayr"}, "is_accepted": true, "score": 1, "last_activity_date": 1547632243, "creation_date": 1547632243, "answer_id": 54214338, "question_id": 54213197, "link": "https://stackoverflow.com/questions/54213197/kotlin-android-extensions-vs-android-data-binding-library-memory-usage/54214338#54214338", "title": "Kotlin Android Extensions vs Android Data Binding Library, memory usage", "body": "<p><strong>tldr:</strong>\nAs far as I see it there is no difference depending memory usage, only if you don't use all views of the layout. Both cache the views, however andoid kotlin gets on demand while databinding initializes all. Depending performance, kotlin extensions is slightly(I would say in most cases not recognizable) faster than databinding during fragment/activity creation.   </p>\n\n<p>Documentation Kotlin Android Extensions:</p>\n\n<blockquote>\n  <p>Adds a hidden caching function and a field inside each Kotlin\n  Activity. The method is pretty small so it doesn't increase the size\n  of APK much. Replaces each synthetic property call with a function\n  call.</p>\n  \n  <p>How this works is that when invoking a synthetic property, where the\n  receiver is a Kotlin Activity/Fragment class that is in module\n  sources, the caching function is invoked. For instance, given</p>\n</blockquote>\n\n<pre><code>class MyActivity : Activity() fun MyActivity.a() { \n         this.textView.setText(\u201c\u201d) \n}\n</code></pre>\n\n<blockquote>\n  <p>a hidden caching function is generated inside MyActivity, so we can\n  use the caching mechanism.</p>\n  \n  <p>However in the following case:</p>\n</blockquote>\n\n<pre><code>fun Activity.b() { \n    this.textView.setText(\u201c\u201d)\n}\n</code></pre>\n\n<blockquote>\n  <p>We wouldn't know if this function would be invoked on only Activities\n  from our sources or on plain Java Activities also. As such, we don\u2019t\n  use caching there, even if MyActivity instance from the previous\n  example is the receiver.</p>\n</blockquote>\n\n<p>Reason: Kotlin uses synthetic properties and those are called on demand using caching function(Hence slight fast Activity/Fragment loading) while Databinding binds all views at once (that consumes slight more time).</p>\n"}], "owner": {"reputation": 43, "user_id": 8503847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4f8d54ce6ba099c21a10bdf11bf016?s=128&d=identicon&r=PG", "display_name": "LaviniaDragunoi", "link": "https://stackoverflow.com/users/8503847/laviniadragunoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "accepted_answer_id": 54214338, "answer_count": 1, "score": 4, "last_activity_date": 1547632243, "creation_date": 1547628325, "last_edit_date": 1547629530, "question_id": 54213197, "link": "https://stackoverflow.com/questions/54213197/kotlin-android-extensions-vs-android-data-binding-library-memory-usage", "title": "Kotlin Android Extensions vs Android Data Binding Library, memory usage", "body": "<p>I have a question about memory used in both cases ->Android Data Binding vs Android Kotlin Extensions. \n<strong>In which case will be less memory used on the device?</strong></p>\n\n<p><em>Kotlin Android-extension</em> is calling first findViewById and after that, the result will be stored locally in a cache. and this means memory used.</p>\n\n<p><em>DataBinding</em> creates a path between layouts and activities/fragments through the binding class that was created. </p>\n\n<p>My concern is to use the one that is more efficient when we think of memory usage on the user's device.\nCould anyone help me to figure out the answer? I tend to say dataBinding is more efficient. \n<a href=\"https://stackoverflow.com/q/50226081/8503847\">Here</a> is a similar question but is not in the efficiency direction.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "bluetooth-lowenergy", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "edited": false, "score": 0, "creation_date": 1547628225, "post_id": 54212925, "comment_id": 95252121, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/53161897/wait-for-data-inside-a-listener-in-a-coroutine\">Wait For Data Inside a Listener in a Coroutine</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1547629538, "post_id": 54213091, "comment_id": 95252770, "body": "Thanks, it works! Do you think that an extension function could be a way too?"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 1, "creation_date": 1547744970, "post_id": 54213091, "comment_id": 95306363, "body": "Yes, I think so. Or you may create your own extension function that does the <code>subscribe</code> and suspend inside to make code easier to read"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1547627920, "creation_date": 1547627920, "answer_id": 54213091, "question_id": 54212925, "link": "https://stackoverflow.com/questions/54212925/return-a-deferred-type-from-polidea-bluetooth-library-kotlin-coroutines/54213091#54213091", "title": "Return a Deferred type from Polidea bluetooth library - Kotlin Coroutines", "body": "<p>You need to wrap the <code>subscribe</code> method call into the </p>\n\n<pre><code>suspendCancellableCoroutine&lt; RxBleDevice&gt;{ cont -&gt;\n  //your code here\n}\n</code></pre>\n\n<p>block. In the <code>subscribe</code> callback implementation use <code>cont.resume()</code> to resume coroutine with result and <code>cont.resumeWithException</code> to resume it with an error. </p>\n\n<p>You may also want to bind cancellation between your coroutine and the scan activity. See <code>cont.invokeOnCancellation {  }</code> for details.</p>\n\n<p>The API you call looks like an Rx, maybe one of these modules help \n<a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/reactive/README.md\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/reactive/README.md</a></p>\n"}], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 54213091, "answer_count": 1, "score": 0, "last_activity_date": 1547627920, "creation_date": 1547627205, "question_id": 54212925, "link": "https://stackoverflow.com/questions/54212925/return-a-deferred-type-from-polidea-bluetooth-library-kotlin-coroutines", "title": "Return a Deferred type from Polidea bluetooth library - Kotlin Coroutines", "body": "<p>I'm doing some experiments with kotlin coroutines, in particular I would like to return to my coroutine a RxBleDevice from <a href=\"https://github.com/Polidea/RxAndroidBle\" rel=\"nofollow noreferrer\">polidea</a> library.\nHowever, Polidea scanBleDevices function returns a Disposable on subscribe. Is there any way, according to my code, to return to my Coroutine a RxBleDevice?</p>\n\n<p>This is my code, at the moment it doesn't compile:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val scanDevices: Deferred&lt;RxBleDevice&gt; = GlobalScope.async {\n\n            rxBleClient.scanBleDevices(ScanSettings.Builder()\n                .build(), filterBuilder.setDeviceName(bikeBleName).build())\n                .subscribe(\n                    { scanResult -&gt;\n                        // Process scan result here.\n                        scanResult.bleDevice\n                    },\n                    { throwable -&gt;\n                        // Handle an error here.\n                    }\n                )\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 1, "creation_date": 1547619918, "post_id": 54211423, "comment_id": 95248829, "body": "afaik, BufferedReader and Writer works with newLine characters. Also, <code>val payload: ByteArray = jsonByte + header</code> i don&#39;t know if it will work. 1.) I could not found Operator overloading for ByteArray 2.)you are suffixing header instead of prefixing it."}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 1, "creation_date": 1547619989, "post_id": 54211423, "comment_id": 95248855, "body": "you can use <code>ByteArrayOutputStream</code> from java or its kotlin analogous if you like."}, {"owner": {"reputation": 1568, "user_id": 5865556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nSrTp.png?s=128&g=1", "display_name": "sungyong", "link": "https://stackoverflow.com/users/5865556/sungyong"}, "reply_to_user": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1547621321, "post_id": 54211423, "comment_id": 95249329, "body": "@RahulKumar Thanks for your comment.  Is it possible to convert ByteArray to CharArray? It&#39;s not easy for me using ByteArrayOutPutStream."}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1547621611, "post_id": 54211423, "comment_id": 95249446, "body": "you can convert bytearry to charArray but you have to understand a few things. All bytes are not char. Also the sizeof char can vary from system to system but size of byte won&#39;t. I have messed up these things in past and its never really good to figure out the bug."}], "owner": {"reputation": 1568, "user_id": 5865556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nSrTp.png?s=128&g=1", "display_name": "sungyong", "link": "https://stackoverflow.com/users/5865556/sungyong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547621009, "creation_date": 1547619559, "last_edit_date": 1547621009, "question_id": 54211423, "link": "https://stackoverflow.com/questions/54211423/kotlin-write-byte-array-to-bufferedwriter-socket", "title": "Kotlin write byte array to BufferedWriter socket", "body": "<p>What I'm trying to is sending bytes to TCP socket.<br>\nData format is byte array.  </p>\n\n<p>But <code>BufferedWrite.write()</code> doesn't have ByteArray.  It has <code>int</code> or <code>CharArray</code> or <code>String</code>\nHere is my code.</p>\n\n<pre><code>    socket = Socket(\"192.168.9.34\", 5000)\n    networkReader = BufferedReader(InputStreamReader(socket!!.getInputStream()))\n    networkWriter = BufferedWriter(OutputStreamWriter(socket!!.getOutputStream()))\n\n    val json = \"\"\"\n        {\"type\":\"REQ\",\"code\":\"DP1200\",\"key\":\"e7aa7f5e-15df-4ea1-9e7b-e4f05d2ac288\",\"ip\":\"192.168.9.33\",\"port\":\"31147\",\"serviceid\":\"WINIXRND1D\"}\n    \"\"\".trimIndent()\n    val jsonByte = json.toString().toByteArray()\n    val header: ByteArray = byteArrayOf(0x76,0x31,0x30,0x30,0x0,0x0,0x0,jsonByte.size.toByte())\n    val payload: ByteArray = header + jsonByte \n    try {\n        networkWriter!!.write(payload)  //&lt;== I want to write byte arra here!  but write's argument no ByteArray\n    } catch (e: Exception) {\n    }\n</code></pre>\n\n<p>Please, correct give me advices.</p>\n"}, {"tags": ["java", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 75, "user_id": 9499092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1321300b0cf8619a81ee7bcd1c7ee8?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Ashton", "link": "https://stackoverflow.com/users/9499092/jack-ashton"}, "edited": false, "score": 0, "creation_date": 1547619730, "post_id": 54211401, "comment_id": 95248760, "body": "Room is just an abstraction library for SQLite, what&#39;s the problem?"}, {"owner": {"reputation": 725, "user_id": 9016353, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v4QNe5aDP_I/AAAAAAAAAAI/AAAAAAAAAKE/HuOAaU1hj40/photo.jpg?sz=128", "display_name": "kAliert", "link": "https://stackoverflow.com/users/9016353/kaliert"}, "edited": false, "score": 0, "creation_date": 1547620052, "post_id": 54211401, "comment_id": 95248881, "body": "Possible duplicate: <a href=\"https://stackoverflow.com/questions/52234985/android-check-if-object-is-present-in-database-using-room-and-rxjava\" title=\"android check if object is present in database using room and rxjava\">stackoverflow.com/questions/52234985/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "is_accepted": false, "score": 0, "last_activity_date": 1547626997, "creation_date": 1547626997, "answer_id": 54212877, "question_id": 54211401, "link": "https://stackoverflow.com/questions/54211401/how-to-find-out-if-a-record-already-exists-in-a-room-database/54212877#54212877", "title": "How to find out if a record already exists in a room database", "body": "<p>This works fine</p>\n\n<pre><code> override fun itemExists() {\n         Observable.just(dao)\n                .subscribeOn(Schedulers.io())\n                .subscribeOn(AndroidSchedulers.mainThread())\n                 .map { it -&gt; it.exist(place.lat, place.lng) }\n                .subscribe( { it -&gt; saveClicked(true) },\n                        {error -&gt; saveClicked(false)})\n    }\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3892, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1547626997, "creation_date": 1547619484, "last_edit_date": 1547623415, "question_id": 54211401, "link": "https://stackoverflow.com/questions/54211401/how-to-find-out-if-a-record-already-exists-in-a-room-database", "title": "How to find out if a record already exists in a room database", "body": "<p>I moved from sql db to room. I can't figure out how to check if item exist in database.\nHow to write this code using Room?</p>\n\n<pre><code>fun existsCheck(place: Places): Boolean {\n    val db= this.readableDatabase\n    val query = \"SELECT * FROM $TABLE_PLACES WHERE $COLUMN_LAT = ${place.lat} AND $COLUMN_LNG = ${place.lng}\"\n    val cursor = db.rawQuery(query, null)\n    if(cursor.count &gt; 0){\n        cursor.close()\n        db.close()\n        return true\n    }\n    cursor.close()\n    db.close()\n    return false\n}\n</code></pre>\n\n<p>I have tried to achieve this with this code, but always getting FALSE back</p>\n\n<pre><code>@Query(\"SELECT name FROM place WHERE lat = :lat AND lng = :lng\")\nfun exist(lat: Double?, lng: Double?): Flowable&lt;String&gt;\n\noverride fun save() {\n    Observable.just(dao)\n            .subscribeOn(Schedulers.io())\n            .subscribe {  dao.insert(place) }\n}\n\noverride fun itemExists(lat: Double?, lng: Double?): Single&lt;Boolean&gt; =\n        dao.exist(lat, lng)\n                .flatMapSingle { Single.just(it.isNotEmpty()) }\n                .onErrorReturn { false }\n                .first(false)\n\n\n\noverride fun delete() {\n    dao.deleteByLat(place.lat)\n}\n\noverride fun saveClicked() {\n    var boolean = false\n     itemExists(place.lat, place.lng)\n             .subscribeOn(Schedulers.io())\n             .map { it -&gt; boolean = it }\n    if (boolean){\n        delete()\n        v.setImageNotSaved()\n    } else {\n        save()\n        v.setImageSaved()\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-cloud-messaging", "android-notifications"], "comments": [{"owner": {"reputation": 2518, "user_id": 2920725, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x5H2X.jpg?s=128&g=1", "display_name": "Amad Yus", "link": "https://stackoverflow.com/users/2920725/amad-yus"}, "edited": false, "score": 0, "creation_date": 1547611076, "post_id": 54209806, "comment_id": 95246497, "body": "Try adding PendingIntent.FLAG_ONE_SHOT|PendingIntent.FLAG_UPDATE_CURREN&zwnj;&#8203;T. For request code, I believe you should do something like this (int) (System.currentTimeMillis() % Integer.MAX_VALUE) instead of using System.currentTimeMillis().toInt(). Int has minimum value of -2,147,483,648 and a maximum value of 2,147,483,647."}, {"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "reply_to_user": {"reputation": 2518, "user_id": 2920725, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x5H2X.jpg?s=128&g=1", "display_name": "Amad Yus", "link": "https://stackoverflow.com/users/2920725/amad-yus"}, "edited": false, "score": 0, "creation_date": 1547705927, "post_id": 54209806, "comment_id": 95285071, "body": "I got still not working."}], "answers": [{"comments": [{"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1548388404, "post_id": 54321228, "comment_id": 95531927, "body": "I think i had set setAutoCancel() into true"}, {"owner": {"reputation": 225, "user_id": 5611969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29fb1c9d17d4a475b2093038ce8eacd?s=128&d=identicon&r=PG&f=1", "display_name": "Jithin Vijayan", "link": "https://stackoverflow.com/users/5611969/jithin-vijayan"}, "reply_to_user": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1548394501, "post_id": 54321228, "comment_id": 95533345, "body": "If you set <code>setAutoCancel(true)</code> then the notification will dissappear from the notification tray after you tap on it. If it&#39;s not working then try other options of PendingIntent attributes like follows <code>PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT)</code>"}], "tags": [], "owner": {"reputation": 225, "user_id": 5611969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29fb1c9d17d4a475b2093038ce8eacd?s=128&d=identicon&r=PG&f=1", "display_name": "Jithin Vijayan", "link": "https://stackoverflow.com/users/5611969/jithin-vijayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548225062, "creation_date": 1548225062, "answer_id": 54321228, "question_id": 54209806, "link": "https://stackoverflow.com/questions/54209806/android-fcm-notification-cannot-be-clicked-second-time/54321228#54321228", "title": "Android FCM Notification Cannot Be Clicked Second Time", "body": "<p>You should try setAutoCancel() method when creating the notification.</p>\n\n<pre><code>NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\nNotificationCompat.Builder summary = new NotificationCompat.Builder(this);\nsummary.setAutoCancel(true);\n</code></pre>\n\n<p>And if you passing an intent to the notification, then use this</p>\n\n<pre><code>intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nPendingIntent resultIntent = PendingIntent.getActivity(this, 0, intent,\n                        PendingIntent.FLAG_ONE_SHOT); \n</code></pre>\n"}], "owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548225062, "creation_date": 1547607560, "last_edit_date": 1547607717, "question_id": 54209806, "link": "https://stackoverflow.com/questions/54209806/android-fcm-notification-cannot-be-clicked-second-time", "title": "Android FCM Notification Cannot Be Clicked Second Time", "body": "<p>I Have problem with my notification.</p>\n\n<p>First way - I open my app, then I push notification from FCM first time, I click the notif, my code executed, I push again for second time, I click my notif, my code still execute, I try more more time is worked well.</p>\n\n<p>Second way - My app still close, I push notif from FCM first time, then I Click the notif, so my app will open and my code executed, then I push notif again for second time, my code NOT executed, I try more more time still NOT working.</p>\n\n<p>until I swipe my app, and try again, the problem still happen.</p>\n\n<p>this is my code</p>\n\n<pre><code>class MyFirebaseMessagingService : FirebaseMessagingService() {\n    var userInformation = AccountTableDao()\n    val sp: SharedPreferences by lazy { SharedPreference.instance }\n    val gad: GetAccountData by lazy { AccountDatabase.instance }\n\n    override fun onNewToken(token: String) {\n        super.onNewToken(token)\n        Log.d(\"firebase\", \"INSTANCE ID ===&gt; $token\")\n    }\n\n    override fun onMessageReceived(remoteMessage: RemoteMessage?) {\n        remoteMessage?.let {\n            sendNotification(it.data)\n        }\n    }\n\n    private fun sendNotification(messageData: Map&lt;String, String&gt;) {\n\n        var status = messageData.get(\"status\")\n        val uuid = messageData.get(\"uuid\")\n        val restaurantId = messageData.get(\"restaurantId\")\n\n        val notificationManager: NotificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        val titleText = messageData.get(\"title\").toString()\n        val contentText = messageData.get(\"body\").toString()\n\n        val intent = Intent(applicationContext, RestaurantMenuActivity::class.java)\n        intent.putExtra(Argument.NOTIF_UUID, uuid)\n        intent.putExtra(Argument.NOTIF_RESTAURANT_ID, restaurantId)\n        intent.putExtra(Argument.NOTIF_STATUS, status)\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n        val pendingIntent = PendingIntent.getActivity(applicationContext,System.currentTimeMillis().toInt(), intent, PendingIntent.FLAG_UPDATE_CURRENT)\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n            val notificationChannel = NotificationChannel(\"appety\", \"appety_notification\", NotificationManager.IMPORTANCE_HIGH)\n\n            notificationManager .createNotificationChannel(notificationChannel)\n            notificationManager.notify(System.currentTimeMillis().toInt(), NotificationCompat.Builder(this, \"1\")\n            .setChannelId(System.currentTimeMillis().toString())\n            .setContentTitle(titleText)\n            .setStyle(NotificationCompat.BigTextStyle().bigText(contentText))\n            .setContentText(contentText)\n            .setSmallIcon(R.drawable.ic_check_black_24dp)\n            .setLargeIcon( BitmapFactory.decodeResource(applicationContext.resources, R.drawable.logo_appety))\n            .setContentIntent(pendingIntent)\n            .setOngoing(false)\n            .setAutoCancel(true)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setDefaults(NotificationCompat.DEFAULT_ALL)\n            .setColor(ContextCompat.getColor(applicationContext, R.color.colorBonAppety))\n            .build())\n        }\n        else{\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                notificationManager .notify(System.currentTimeMillis().toInt(), NotificationCompat.Builder(this, System.currentTimeMillis().toString())\n                .setContentTitle(titleText)\n                .setStyle (NotificationCompat.BigTextStyle().bigText(contentText))\n                .setContentText(contentText)\n                .setSmallIcon(R.drawable.ic_check_black_24dp)\n                .setLargeIcon( BitmapFactory.decodeResource(applicationContext.resources, R.drawable.logo_appety))\n                .setContentIntent(pendingIntent)\n                .setOngoing(false)\n                .setAutoCancel(true)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setDefaults(NotificationCompat.DEFAULT_ALL)\n                .setColor(ContextCompat.getColor(applicationContext, R.color.colorBonAppety))\n                .build())\n            } else {\n                notificationManager .notify(System.currentTimeMillis().toInt(), NotificationCompat.Builder(this, \"1\")\n                .setContentTitle(titleText)\n                .setStyle (NotificationCompat.BigTextStyle().bigText(contentText))\n                .setContentText(contentText)\n                .setContentIntent(pendingIntent)\n                .setOngoing(false)\n                .setAutoCancel(true)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setDefaults(NotificationCompat.DEFAULT_ALL)\n                .build())\n            }\n        }\n    }\n\n    companion object {\n        private val TAG = \"token\"\n    }\n}\n</code></pre>\n\n<p>and manifest</p>\n\n<pre><code>&lt;service\n        android:name=\".service.MyFirebaseMessagingService\"\n        android:exported=\"false\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n</code></pre>\n\n<p>Why <code>Pending Intent</code> not working and how to fix that.\nSorry for my english and regard.</p>\n"}, {"tags": ["android", "kotlin", "algolia"], "owner": {"reputation": 1652, "user_id": 4564450, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/USiV0.jpg?s=128&g=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/4564450/andrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1547618927, "creation_date": 1547601268, "last_edit_date": 1547607931, "question_id": 54209118, "link": "https://stackoverflow.com/questions/54209118/geo-search-using-algolia-in-android-kotlin", "title": "Geo search using Algolia in Android Kotlin", "body": "<p>I'm using Algolia to get results in order to display them on a map.\nHowever I am getting an empty array of results from this query:</p>\n\n<pre><code>private val mAlgoliaClient = Client(BuildConfig.ALGOLIA_CLIENT_ID, BuildConfig.ALGOLIA_SEARCH_ONLY_API_KEY)\n\n// Initialize the query for Algolia search\nval query = Query()\n   .apply {\n       aroundLatLng = AbstractQuery.LatLng(9.94727, -84.50626)\n       aroundRadius = 50000\n       setQuery(\"\")\n    }\n    mAlgoliaClient.getIndex(\"places\").searchAsync(query) {\n}\n</code></pre>\n\n<p>The <code>mAlgoliaClient</code> is properly initialized. The object inside Algolia is the following:</p>\n\n<pre><code>{\n  \"_geoloc\": {\n    \"lat\": 9.94727,\n    \"lng\": -84.50626\n  }\n  \"objectID\": \"uwddfadfddfaDDafm2dfad\"\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 10223710, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211808036787272/picture?type=large", "display_name": "Marcel.af", "link": "https://stackoverflow.com/users/10223710/marcel-af"}, "is_accepted": false, "score": 0, "last_activity_date": 1547594134, "creation_date": 1547594134, "answer_id": 54208211, "question_id": 54208016, "link": "https://stackoverflow.com/questions/54208016/how-to-replace-top-fragment/54208211#54208211", "title": "How to replace top fragment?", "body": "<p>Try this :</p>\n\n<pre><code>    FragmentManager fm = getFragmentManager();\n    FragmentTransaction ft = fm.beginTransaction();\n    ft.replace(R.id.FragmentToBeReplaced,theFragmentToBeAdded);\n    ft.commit();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4098, "user_id": 1393280, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/767b919d51cfd467ac1ebf47abb14e51?s=128&d=identicon&r=PG", "display_name": "BArtWell", "link": "https://stackoverflow.com/users/1393280/bartwell"}, "edited": false, "score": 0, "creation_date": 1547636617, "post_id": 54209513, "comment_id": 95256850, "body": "Do you mean <code>if (!isStateSaved()) { addOrReplaceFragment(ActionFragment(), &quot;singleTag&quot;) }</code>? But in this case fragment will not changed when application is minimized."}, {"owner": {"reputation": 2314, "user_id": 4675927, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/285ad1cf46c6c64e7a204b8a9d14cb98?s=128&d=identicon&r=PG", "display_name": "theJian", "link": "https://stackoverflow.com/users/4675927/thejian"}, "reply_to_user": {"reputation": 4098, "user_id": 1393280, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/767b919d51cfd467ac1ebf47abb14e51?s=128&d=identicon&r=PG", "display_name": "BArtWell", "link": "https://stackoverflow.com/users/1393280/bartwell"}, "edited": false, "score": 0, "creation_date": 1547639032, "post_id": 54209513, "comment_id": 95258285, "body": "Did you mean you need to execute transaction after <code>onStop</code>?"}, {"owner": {"reputation": 4098, "user_id": 1393280, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/767b919d51cfd467ac1ebf47abb14e51?s=128&d=identicon&r=PG", "display_name": "BArtWell", "link": "https://stackoverflow.com/users/1393280/bartwell"}, "edited": false, "score": 0, "creation_date": 1547639689, "post_id": 54209513, "comment_id": 95258648, "body": "Yes. <code>commitAllowingStateLoss()</code> works well after <code>onStop()</code>."}], "tags": [], "owner": {"reputation": 2314, "user_id": 4675927, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/285ad1cf46c6c64e7a204b8a9d14cb98?s=128&d=identicon&r=PG", "display_name": "theJian", "link": "https://stackoverflow.com/users/4675927/thejian"}, "is_accepted": false, "score": 0, "last_activity_date": 1547604913, "creation_date": 1547604913, "answer_id": 54209513, "question_id": 54208016, "link": "https://stackoverflow.com/questions/54208016/how-to-replace-top-fragment/54209513#54209513", "title": "How to replace top fragment?", "body": "<p><a href=\"https://developer.android.com/reference/android/app/FragmentManager.html#isStateSaved()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/FragmentManager.html#isStateSaved()</a></p>\n\n<p>Use <code>isStateSaved</code> to avoid losing state when a transaction happened.</p>\n\n<p>And I think <a href=\"https://developer.android.com/topic/libraries/architecture/navigation/\" rel=\"nofollow noreferrer\">Android navigation component</a> might be easier way to navigate between fragments.</p>\n"}], "owner": {"reputation": 4098, "user_id": 1393280, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/767b919d51cfd467ac1ebf47abb14e51?s=128&d=identicon&r=PG", "display_name": "BArtWell", "link": "https://stackoverflow.com/users/1393280/bartwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547604913, "creation_date": 1547592822, "question_id": 54208016, "link": "https://stackoverflow.com/questions/54208016/how-to-replace-top-fragment", "title": "How to replace top fragment?", "body": "<p>I have an application with 4 fragments: MainFragment, ActionFragment, DoneFragment, FailedFragment. When application launched it shows MainFragment. Than application receive some event and show ActionFragment with two buttons 'yes' and 'no'. If user press 'yes', applicaiton shows DoneFragment, otherwise FailedFragment. When user press  one time to back button on ActionFragment, DoneFragment or FailedFragment application must show MainFragment.</p>\n\n<p>Improtant: if ActionFragment, DoneFragment or FailedFragment already opened and some event is occure again, application should show ActionFragment fragment with new event data.</p>\n\n<p>So, I need:</p>\n\n<ul>\n<li>if ActionFragment, DoneFragment or FailedFragment already opened and event occur, I should replace top fragment with ActionFragment</li>\n<li>Otherwise I should simply add ActionFragment.</li>\n</ul>\n\n<p>I am trying:</p>\n\n<pre><code>fun addOrReplaceFragment(fragment: Fragment, tag: String) {\n    val fragmentManager = supportFragmentManager\n    val fragmentTransaction = fragmentManager.beginTransaction()\n    val previous = fragmentManager.findFragmentByTag(tag)\n    if (previous == null) {\n        fragmentTransaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\n        fragmentTransaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_CLOSE)\n        fragmentTransaction.add(R.id.main_fragment_container, fragment, tag)\n        fragmentTransaction.addToBackStack(tag)\n    } else {\n        fragmentManager.popBackStack(previous.id, 0)\n        fragmentTransaction.remove(previous)\n        fragmentTransaction.add(R.id.main_fragment_container, fragment, tag)\n        fragmentTransaction.addToBackStack(tag)\n    }\n    fragmentTransaction.commitAllowingStateLoss()\n}\n// ...\naddOrReplaceFragment(ActionFragment(), \"singleTag\")\n// ...\naddOrReplaceFragment(DoneFragment(), \"singleTag\")\n// ...\naddOrReplaceFragment(FailedFragment(), \"singleTag\")\n</code></pre>\n\n<p>Here is popBackStack() doesn't work. When ActionFragment is opened, DoneFragment or FailedFragment just adding above. And user have to press back two times to get back to MainFragment.</p>\n\n<p>I am find solution change popBackStack() to popBackStackImmediate(). It works well, but if activity is minimized it produce crash with IllegalStateException, because popBackStackImmediate() cannot be called after onSaveInstanceState().</p>\n\n<p>How to replace top fragment and avoid IllegalStateException?</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547589761, "post_id": 54207116, "comment_id": 95241613, "body": "why you didn&#39;t add the whole <code>build.gradle</code> ...in particular the <code>dependencies</code>?"}, {"owner": {"reputation": 305, "user_id": 6549083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b3bc199ba635867b161949450bf3995?s=128&d=identicon&r=PG&f=1", "display_name": "Utkarsh Barsaiyan", "link": "https://stackoverflow.com/users/6549083/utkarsh-barsaiyan"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547667348, "post_id": 54207116, "comment_id": 95274099, "body": "@MartinZeitler Added the build.gradle file"}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 6549083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b3bc199ba635867b161949450bf3995?s=128&d=identicon&r=PG&f=1", "display_name": "Utkarsh Barsaiyan", "link": "https://stackoverflow.com/users/6549083/utkarsh-barsaiyan"}, "edited": false, "score": 1, "creation_date": 1547667444, "post_id": 54207483, "comment_id": 95274140, "body": "Thank you for trying to help and sorry I am fairly new to Android and I didn&#39;t know that the error has nothing to do with the data binding library. Moreover, the error occurs only when adding <code>dataBinding {         enabled = true     }</code> I have edited my question and title and added all the necessary files. Unfortunately, adding <code>androidx.legacy:legacy-support-v4:1.0.0</code> does not solve the problem."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 305, "user_id": 6549083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b3bc199ba635867b161949450bf3995?s=128&d=identicon&r=PG&f=1", "display_name": "Utkarsh Barsaiyan", "link": "https://stackoverflow.com/users/6549083/utkarsh-barsaiyan"}, "edited": false, "score": 1, "creation_date": 1547674451, "post_id": 54207483, "comment_id": 95277318, "body": "@UtkarshBarsaiyan remove <code>classpath &#39;com.android.tools.build.jetifier:jetifier-processor:1.0.0-b&zwnj;&#8203;eta02&#39;</code> because it seems the jetifier attempts to jetify it&#39;s own (duplicate) annotation processor. setting <code>android.enableJetifier=true</code> is enough to use it."}, {"owner": {"reputation": 305, "user_id": 6549083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b3bc199ba635867b161949450bf3995?s=128&d=identicon&r=PG&f=1", "display_name": "Utkarsh Barsaiyan", "link": "https://stackoverflow.com/users/6549083/utkarsh-barsaiyan"}, "edited": false, "score": 0, "creation_date": 1547823377, "post_id": 54207483, "comment_id": 95336799, "body": "Thank you! You are a lifesaver!"}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": true, "score": 2, "last_activity_date": 1547589533, "creation_date": 1547589533, "answer_id": 54207483, "question_id": 54207116, "link": "https://stackoverflow.com/questions/54207116/android-annotation-processors-need-to-be-updated-manually-to-add-support-for-an/54207483#54207483", "title": "Android: annotation processors need to be updated manually to add support for androidx error", "body": "<p>this has nothing to do with the data-binding library, but with the Jetifier for <code>androidx</code> migration:</p>\n\n<blockquote>\n  <p>The given artifact contains a string literal with a package reference 'android/support/v4' that cannot be safely rewritten. <strong>Libraries using reflection such as annotation processors need to be updated manually to add support for androidx</strong>.</p>\n</blockquote>\n\n<p>... is what <code>com.android.tools.build.jetifier.processor</code> complains about.</p>\n\n<p>the corresponding class would be: <code>androidx.legacy:legacy-support-v4:1.0.0</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 690, "user_id": 7726229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd166836806378856c21b28c07365db?s=128&d=identicon&r=PG", "display_name": "dnhyde", "link": "https://stackoverflow.com/users/7726229/dnhyde"}, "edited": false, "score": 1, "creation_date": 1585835195, "post_id": 59288814, "comment_id": 107907096, "body": "Saved my day! Thanks! it&#39;s not the first time that I&#39;m in trouble with safe-args"}, {"owner": {"reputation": 107, "user_id": 7489940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fbyPJ.jpg?s=128&g=1", "display_name": "Shivam Sompura", "link": "https://stackoverflow.com/users/7489940/shivam-sompura"}, "reply_to_user": {"reputation": 690, "user_id": 7726229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd166836806378856c21b28c07365db?s=128&d=identicon&r=PG", "display_name": "dnhyde", "link": "https://stackoverflow.com/users/7726229/dnhyde"}, "edited": false, "score": 0, "creation_date": 1586166433, "post_id": 59288814, "comment_id": 108017625, "body": "@dnhyde Your welcome! Yes there are still some issues with safe-args."}], "tags": [], "owner": {"reputation": 107, "user_id": 7489940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fbyPJ.jpg?s=128&g=1", "display_name": "Shivam Sompura", "link": "https://stackoverflow.com/users/7489940/shivam-sompura"}, "is_accepted": false, "score": 7, "last_activity_date": 1576077107, "creation_date": 1576077107, "answer_id": 59288814, "question_id": 54207116, "link": "https://stackoverflow.com/questions/54207116/android-annotation-processors-need-to-be-updated-manually-to-add-support-for-an/59288814#59288814", "title": "Android: annotation processors need to be updated manually to add support for androidx error", "body": "<p>Hi I had similar issue.</p>\n\n<p>error message -</p>\n\n<blockquote>\n  <p>The given artifact contains a string literal with a package reference\n  'android.support.design.widget' that cannot be safely rewritten.\n  Libraries using reflection such as annotation processors need to be\n  updated manually to add support for androidx.</p>\n</blockquote>\n\n<p>I figured out safe args dependency was causing this error.</p>\n\n<blockquote>\n  <p>implementation \"android.arch.navigation:navigation-safe-args-gradle-plugin:$version_navigation\"</p>\n</blockquote>\n\n<p>If I remove this dependency project build successfully. You can try downgrading dependency version I am using '1.0.0'</p>\n"}, {"tags": [], "owner": {"reputation": 5619, "user_id": 608312, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/OGtxB.jpg?s=128&g=1", "display_name": "Jake Lee", "link": "https://stackoverflow.com/users/608312/jake-lee"}, "is_accepted": false, "score": 5, "last_activity_date": 1605652670, "last_edit_date": 1605652670, "creation_date": 1602799092, "answer_id": 64380221, "question_id": 54207116, "link": "https://stackoverflow.com/questions/54207116/android-annotation-processors-need-to-be-updated-manually-to-add-support-for-an/64380221#64380221", "title": "Android: annotation processors need to be updated manually to add support for androidx error", "body": "<p>This can also be caused by safeargs being added as a library dependency, instead of as a Gradle plugin.</p>\n<p><strong>Wrong:</strong></p>\n<p><code>implementation &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;</code>in your module level <code>build.gradle</code>'s dependencies.</p>\n<p><strong>Right:</strong></p>\n<p><code>classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;</code> in your project level <code>build.gradle</code>'s dependencies (as well as <code>apply plugin: &quot;androidx.navigation.safeargs&quot;</code>).</p>\n<p>Source: <a href=\"https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args\" rel=\"noreferrer\">https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args</a></p>\n"}], "owner": {"reputation": 305, "user_id": 6549083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b3bc199ba635867b161949450bf3995?s=128&d=identicon&r=PG&f=1", "display_name": "Utkarsh Barsaiyan", "link": "https://stackoverflow.com/users/6549083/utkarsh-barsaiyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11002, "favorite_count": 1, "accepted_answer_id": 54207483, "answer_count": 3, "score": 5, "last_activity_date": 1605652670, "creation_date": 1547587867, "last_edit_date": 1547667314, "question_id": 54207116, "link": "https://stackoverflow.com/questions/54207116/android-annotation-processors-need-to-be-updated-manually-to-add-support-for-an", "title": "Android: annotation processors need to be updated manually to add support for androidx error", "body": "<p>After enabling data binding by adding the following to build.gradle file in the app module:</p>\n\n<pre><code>android {\n    ...\n    dataBinding {\n        enabled = true\n    }\n}\n</code></pre>\n\n<p>I see this error upon building my app:</p>\n\n<blockquote>\n  <p>The given artifact contains a string literal with a package reference\n  'android/support/v4' that cannot be safely rewritten. Libraries using\n  reflection such as annotation processors need to be updated manually\n  to add support for androidx.</p>\n</blockquote>\n\n<p>I have scoured the internet to solve the problem but no luck.</p>\n\n<p>More detailed log:</p>\n\n<pre><code>org.gradle.execution.MultipleBuildFailures: Build completed with 1 failures.\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:358)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:219)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:77)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:74)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:154)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:38)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:96)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:74)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:55)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.run(RunAsBuildOperationBuildActionRunner.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:44)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:79)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:34)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:46)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:kaptGenerateStubsFossDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:49)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n    at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:277)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:262)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:143)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:40)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:40)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:24)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:46)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:49)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:40)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:33)\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:355)\n    ... 77 more\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:kapt'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1054)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1700(DefaultConfiguration.java:123)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1028)\n    at org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:76)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.iterator(DefaultConfiguration.java:439)\n    at org.gradle.api.internal.file.CompositeFileCollection.iterator(CompositeFileCollection.java:65)\n    at org.jetbrains.kotlin.gradle.internal.SubpluginUtilsKt$withWrappedKaptOptions$1.apply(subpluginUtils.kt:71)\n    at org.jetbrains.kotlin.gradle.internal.SubpluginUtilsKt$withWrappedKaptOptions$1.apply(subpluginUtils.kt)\n    at java.util.HashMap.compute(HashMap.java:1196)\n    at org.jetbrains.kotlin.gradle.internal.SubpluginUtilsKt.withWrappedKaptOptions(subpluginUtils.kt:50)\n    at org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask.setupCompilerArgs(KaptGenerateStubsTask.kt:73)\n    at org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask.setupCompilerArgs(KaptGenerateStubsTask.kt:36)\n    at org.jetbrains.kotlin.gradle.internal.CompilerArgumentAware$DefaultImpls.setupCompilerArgs$default(CompilerArgumentAware.kt:37)\n    at org.jetbrains.kotlin.gradle.internal.CompilerArgumentAwareKt.prepareCompilerArguments(CompilerArgumentAware.kt:41)\n    at org.jetbrains.kotlin.gradle.internal.CompilerArgumentAware$DefaultImpls.getFilteredArgumentsMap(CompilerArgumentAware.kt:34)\n    at org.jetbrains.kotlin.gradle.internal.CompilerArgumentAwareWithInput$DefaultImpls.getFilteredArgumentsMap(CompilerArgumentAware.kt:54)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompileTool.getFilteredArgumentsMap(Tasks.kt:49)\n    at org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask_Decorated.getFilteredArgumentsMap(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor1732.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.api.internal.tasks.properties.bean.AbstractNestedRuntimeBeanNode$DefaultPropertyValue$1$1.create(AbstractNestedRuntimeBeanNode.java:83)\n    at org.gradle.util.SingleMessageLogger.whileDisabled(SingleMessageLogger.java:313)\n    at org.gradle.api.internal.tasks.properties.bean.AbstractNestedRuntimeBeanNode$DefaultPropertyValue$1.get(AbstractNestedRuntimeBeanNode.java:80)\n    at com.google.common.base.Suppliers$MemoizingSupplier.get(Suppliers.java:125)\n    at org.gradle.api.internal.tasks.properties.bean.AbstractNestedRuntimeBeanNode$DefaultPropertyValue.getValue(AbstractNestedRuntimeBeanNode.java:138)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1025)\n    ... 137 more\nCaused by: java.lang.RuntimeException: Failed to transform '/home/utkarsh/.gradle/caches/modules-2/files-2.1/com.android.tools.build.jetifier/jetifier-core/1.0.0-alpha10/9eb7027c383061de12f93aae7a22cbeb97832d2a/jetifier-core-1.0.0-alpha10.jar' using Jetifier. Reason: The given artifact contains a string literal with a package reference 'android/support/v4' that cannot be safely rewritten. Libraries using reflection such as annotation processors need to be updated manually to add support for androidx.. (Run with --stacktrace for more details.) To disable Jetifier, set android.enableJetifier=false in your gradle.properties file.\n    at com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:204)\n    at org.gradle.api.internal.artifacts.transform.TransformArtifactsAction.apply(TransformArtifactsAction.java:44)\n    at org.gradle.api.internal.artifacts.transform.TransformArtifactsAction.apply(TransformArtifactsAction.java:29)\n    at org.gradle.api.internal.artifacts.transform.DefaultTransformedFileCache$TransformAction.execute(DefaultTransformedFileCache.java:251)\n    at org.gradle.api.internal.artifacts.transform.DefaultTransformedFileCache$TransformAction.execute(DefaultTransformedFileCache.java:238)\n    at com.android.tools.build.jetifier.processor.transform.bytecode.asm.CustomRemapper.mapValue(CustomRemapper.kt:75)\n    at org.objectweb.asm.commons.MethodRemapper.visitLdcInsn(MethodRemapper.java:179)\n    at org.objectweb.asm.ClassReader.readCode(ClassReader.java:1582)\n    at org.objectweb.asm.ClassReader.readMethod(ClassReader.java:1126)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:698)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:500)\n    at com.android.tools.build.jetifier.processor.transform.bytecode.ByteCodeTransformer.runTransform(ByteCodeTransformer.kt:39)\n    at com.android.tools.build.jetifier.processor.Processor.visit(Processor.kt:366)\n    at com.android.tools.build.jetifier.processor.archive.ArchiveFile.accept(ArchiveFile.kt:41)\n    at com.android.tools.build.jetifier.processor.Processor.visit(Processor.kt:348)\n    at com.android.tools.build.jetifier.processor.archive.Archive.accept(Archive.kt:70)\n    at com.android.tools.build.jetifier.processor.Processor.transformLibrary(Processor.kt:344)\n    at com.android.tools.build.jetifier.processor.Processor.transform(Processor.kt:207)\n    at com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:199)\n    ... 189 more\n</code></pre>\n\n<p>build.gradle file:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    apply from: rootProject.file('dependencies.gradle')\n\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://maven.fabric.io/public' }\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath 'com.android.tools.build.jetifier:jetifier-processor:1.0.0-beta02'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}\"\n        classpath \"org.jetbrains.dokka:dokka-gradle-plugin:${versions.dokka}\"\n        classpath 'com.google.gms:google-services:4.2.0'\n        classpath 'io.fabric.tools:gradle:1.27.0'\n\n        classpath \"com.github.ben-manes:gradle-versions-plugin:0.20.0\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n        maven { url \"https://jitpack.io\" }\n    }\n\n    apply from: rootProject.file('dependencies.gradle')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>dependencies.gradle file:</p>\n\n<pre><code>ext {\n    versions = [\n            // For project configuration\n            java                  : JavaVersion.VERSION_1_8,\n            compileSdk            : 28,\n            targetSdk             : 28,\n            minSdk                : 21,\n            buildTools            : '28.0.3',\n            dokka                 : '0.9.16',\n\n            // For app\n            kotlin                : '1.2.71',\n            coroutine             : '0.25.0',\n\n            appCompat             : '1.0.0',\n            recyclerview          : '1.0.0',\n            constraintLayout      : '2.0.0-alpha2',\n            cardview              : '1.0.0',\n            browser               : '1.0.0',\n            androidKtx            : '1.0.0',\n            legacy                : '1.0.0',\n            workmanager           : '1.0.0-alpha09',\n\n            dagger                : '2.20',\n            firebaseCloudMessage  : '17.3.0',\n            firebaseAnalytics     : '16.0.3',\n            playServices          : '16.0.0',\n            exoPlayer             : '2.8.2',\n            flexbox               : '1.1.0',\n            material              : '1.0.0-beta01',\n\n            room                  : '2.0.0',\n            lifecycle             : '2.0.0',\n\n            livedataKtx           : '2.0.1',\n\n            rxKotlin              : '2.3.0',\n            rxAndroid             : '2.1.0',\n\n            moshi                 : '1.6.0',\n            okhttp                : '3.11.0',\n\n            timber                : '4.7.1',\n            threeTenABP           : '1.1.0',\n            rxBinding             : '2.1.1',\n\n            fresco                : '1.10.0',\n\n            kotshi                : '1.0.4',\n\n            frescoImageViewer     : '0.5.1',\n            markwon               : '2.0.0',\n            aVLoadingIndicatorView: '2.1.3',\n            glide                 : '4.8.0',\n\n            // For wearable\n            wear                  : '2.3.0',\n            playServicesWearable  : '15.0.1',\n            supportWearable       : '27.1.1',\n\n            // For testing\n            junit                 : '4.12',\n            truth                 : '0.42',\n            espresso              : '3.1.0-alpha4',\n            mockito               : '2.21.0'\n    ]\n    libraries = [\n            kotlin                : \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:${versions.kotlin}\",\n            coroutines            : \"org.jetbrains.kotlinx:kotlinx-coroutines-core:${versions.coroutine}\",\n            coroutinesAndroid     : \"org.jetbrains.kotlinx:kotlinx-coroutines-android:${versions.coroutine}\",\n\n            appCompat             : \"androidx.appcompat:appcompat:${versions.appCompat}\",\n            recyclerview          : \"androidx.recyclerview:recyclerview:${versions.recyclerview}\",\n            constraintlayout      : \"androidx.constraintlayout:constraintlayout:${versions.constraintLayout}\",\n            cardview              : \"androidx.cardview:cardview:${versions.cardview}\",\n            browser               : \"androidx.browser:browser:${versions.browser}\",\n            androidKtx            : \"androidx.core:core-ktx:${versions.androidKtx}\",\n            fragmentsKtx          : \"androidx.fragment:fragment-ktx:${versions.androidKtx}\",\n            legacy                : \"androidx.legacy:legacy-support-v4:${versions.legacy}\",\n            workmanager           : \"android.arch.work:work-runtime-ktx:${versions.workmanager}\",\n            workmanagerFirebase   : \"android.arch.work:work-firebase:${versions.workmanager}\",\n\n            dagger                : \"com.google.dagger:dagger:${versions.dagger}\",\n            daggerSupport         : \"com.google.dagger:dagger-android-support:${versions.dagger}\",\n            daggerProcessor       : \"com.google.dagger:dagger-compiler:${versions.dagger}\",\n            daggerAndroidApt      : \"com.google.dagger:dagger-android-processor:${versions.dagger}\",\n            exoPlayer             : \"com.google.android.exoplayer:exoplayer:${versions.exoPlayer}\",\n            flexbox               : \"com.google.android:flexbox:${versions.flexbox}\",\n            material              : \"com.google.android.material:material:${versions.material}\",\n\n            room                  : \"androidx.room:room-runtime:${versions.room}\",\n            roomProcessor         : \"androidx.room:room-compiler:${versions.room}\",\n            lifecycleExtensions   : \"androidx.lifecycle:lifecycle-extensions:${versions.lifecycle}\",\n            lifecycleCompiler     : \"androidx.lifecycle:lifecycle-compiler:${versions.lifecycle}\",\n            viewmodelKtx          : \"androidx.lifecycle:lifecycle-viewmodel-ktx:${versions.lifecycle}\",\n\n            livedataKtx           : \"com.shopify:livedata-ktx:${versions.livedataKtx}\",\n\n            rxKotlin              : \"io.reactivex.rxjava2:rxkotlin:${versions.rxKotlin}\",\n            rxAndroid             : \"io.reactivex.rxjava2:rxandroid:${versions.rxAndroid}\",\n\n            moshi                 : \"com.squareup.moshi:moshi:${versions.moshi}\",\n            moshiKotlin           : \"com.squareup.moshi:moshi-kotlin:${versions.moshi}\",\n            okhttp                : \"com.squareup.okhttp3:okhttp:${versions.okhttp}\",\n            okhttpLogger          : \"com.squareup.okhttp3:logging-interceptor:${versions.okhttp}\",\n\n            timber                : \"com.jakewharton.timber:timber:${versions.timber}\",\n            threeTenABP           : \"com.jakewharton.threetenabp:threetenabp:${versions.threeTenABP}\",\n            rxBinding             : \"com.jakewharton.rxbinding2:rxbinding-kotlin:${versions.rxBinding}\",\n\n            fresco                : \"com.facebook.fresco:fresco:${versions.fresco}\",\n            frescoOkHttp          : \"com.facebook.fresco:imagepipeline-okhttp3:${versions.fresco}\",\n            frescoAnimatedGif     : \"com.facebook.fresco:animated-gif:${versions.fresco}\",\n            frescoWebP            : \"com.facebook.fresco:webpsupport:${versions.fresco}\",\n            frescoAnimatedWebP    : \"com.facebook.fresco:animated-webp:${versions.fresco}\",\n\n            kotshiApi             : \"se.ansman.kotshi:api:${versions.kotshi}\",\n            kotshiCompiler        : \"se.ansman.kotshi:compiler:${versions.kotshi}\",\n\n            frescoImageViewer     : \"com.github.luciofm:FrescoImageViewer:${versions.frescoImageViewer}\",\n            glide                 : \"com.github.bumptech.glide:glide:${versions.glide}\",\n            glideProcessor        : \"com.github.bumptech.glide:compiler:${versions.glide}\",\n\n            markwon               : \"ru.noties:markwon:${versions.markwon}\",\n\n            aVLoadingIndicatorView: \"com.wang.avi:library:${versions.aVLoadingIndicatorView}\",\n\n            // Proprietary libraries\n            fcm                   : \"com.google.firebase:firebase-messaging:${versions.firebaseCloudMessage}\",\n            firebaseAnalytics     : \"com.google.firebase:firebase-core:${versions.firebaseAnalytics}\",\n            playServicesAuth      : \"com.google.android.gms:play-services-auth:${versions.playServices}\",\n\n            // For wearable\n            wearable              : \"com.google.android.support:wearable:${versions.wear}\",\n            playServicesWearable  : \"com.google.android.gms:play-services-wearable:${versions.playServicesWearable}\",\n            percentLayout         : \"com.android.support:percent:${versions.supportWearable}\",\n            supportWearable       : \"com.android.support:support-v4:${versions.supportWearable}\",\n            wearableRecyclerView  : \"com.android.support:recyclerview-v7:${versions.supportWearable}\",\n            wearSupport           : \"com.android.support:wear:${versions.supportWearable}\",\n\n            // For testing\n            junit                 : \"junit:junit:${versions.junit}\",\n            espressoCore          : \"androidx.test.espresso:espresso-core:${versions.espresso}\",\n            espressoIntents       : \"androidx.test.espresso:espresso-intents:${versions.espresso}\",\n            roomTest              : \"android.arch.persistence.room:testing:${versions.room}\",\n            truth                 : \"com.google.truth:truth:${versions.truth}\"\n    ]\n}\n</code></pre>\n"}, {"tags": ["collections", "kotlin"], "comments": [{"owner": {"reputation": 6627, "user_id": 116301, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e5e0253aafe7650f7819f5285cfec7f0?s=128&d=identicon&r=PG", "display_name": "GuiSim", "link": "https://stackoverflow.com/users/116301/guisim"}, "edited": false, "score": 1, "creation_date": 1547585931, "post_id": 54206615, "comment_id": 95240056, "body": "Why is <code>6</code> in <code>a2</code> and not in <code>a1</code> ? What decides the key in your expected map?"}, {"owner": {"reputation": 2264, "user_id": 3470305, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/100000458789203/picture?type=large", "display_name": "Lester", "link": "https://stackoverflow.com/users/3470305/lester"}, "reply_to_user": {"reputation": 6627, "user_id": 116301, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e5e0253aafe7650f7819f5285cfec7f0?s=128&d=identicon&r=PG", "display_name": "GuiSim", "link": "https://stackoverflow.com/users/116301/guisim"}, "edited": false, "score": 0, "creation_date": 1547586585, "post_id": 54206615, "comment_id": 95240330, "body": "@GuiSim My list has sublists of elements with same values. Each sublist should be grouped with custom key (string value + incremental id). In other words, if I have next group of elements with already added key <code>a</code>, it should be considered as new key (<code>a2</code>, or whatever)"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1547587083, "post_id": 54206615, "comment_id": 95240540, "body": "You will probably have to make your own implementation for this; it won&#39;t be available out of what&#39;s built-in."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547749241, "post_id": 54206615, "comment_id": 95308418, "body": "@Lester could we help you (see answers) :)?"}, {"owner": {"reputation": 2264, "user_id": 3470305, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/100000458789203/picture?type=large", "display_name": "Lester", "link": "https://stackoverflow.com/users/3470305/lester"}, "edited": false, "score": 0, "creation_date": 1547807089, "post_id": 54206615, "comment_id": 95328012, "body": "Yep, thanks, I &#39;m accepting your answer"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1547587834, "last_edit_date": 1547587834, "creation_date": 1547587485, "answer_id": 54207021, "question_id": 54206615, "link": "https://stackoverflow.com/questions/54206615/how-to-group-values-with-unique-incremental-keys-in-kotlin/54207021#54207021", "title": "How to group values with unique incremental keys in Kotlin?", "body": "<p>Well this is a pretty special use case I guess. One, not quite functional, implementation could look like this:</p>\n\n<pre><code>fun subgroups(data: Map&lt;Int, String&gt;): Map&lt;String, List&lt;Int&gt;&gt; {\n    if (data.isEmpty()) throw IllegalArgumentException()\n    val counter = data.values.toSet().associateWithTo(mutableMapOf()){ 1 }\n    var last = data.values.first()\n    val result = mutableMapOf&lt;String, List&lt;Int&gt;&gt;()\n    data.forEach { k, v -&gt;\n        if (v != last) {\n            counter[last] = counter.getOrDefault(last, 0) + 1\n            last = v\n        }\n\n        \"$v${counter[v]}\".let { key -&gt;\n            result[key] = result.getOrDefault(key, listOf()) + k\n        }\n    }\n    return result\n}\n</code></pre>\n\n<p>I hope this works for you</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1547593287, "last_edit_date": 1547593287, "creation_date": 1547591088, "answer_id": 54207752, "question_id": 54206615, "link": "https://stackoverflow.com/questions/54206615/how-to-group-values-with-unique-incremental-keys-in-kotlin/54207752#54207752", "title": "How to group values with unique incremental keys in Kotlin?", "body": "<p>Given a <code>List</code> (since order matters) of <code>Pair&lt;Int, String&gt;</code> like this:</p>\n\n<pre><code>val list = listOf(1 to \"a\", 2 to \"a\", 3 to \"b\", 4 to \"b\", 5 to \"b\", 6 to \"a\", 7 to \"a\", 8 to \"a\")\n</code></pre>\n\n<p>you can do something like this:</p>\n\n<pre><code>fun groupCount(list: List&lt;Pair&lt;Int, String&gt;&gt;): Map&lt;String, List&lt;Int&gt;&gt; {\n    val countMap = mutableMapOf&lt;String, Int&gt;()\n    var currentStr = list.firstOrNull()?.second ?: return emptyMap()\n\n    return list.map { (key, value) -&gt;\n\n        if(currentStr != value) {\n            currentStr = value\n            countMap[value] = ((countMap[value] ?: 0) + 1)\n        }\n\n        key to value + countMap.getOrPut(value, {1})\n    }.groupBy ({it.second}, {it.first})\n}\n</code></pre>\n\n<p>In the end Kotlin's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html#groupby\" rel=\"nofollow noreferrer\">groupBy</a> becomes especially handy when you need to turn this</p>\n\n<blockquote>\n  <p>[(1, a1), (2, a1), (3, b1), (4, b1), (5, b1), (6, a2), (7, a2), (8, a2)]</p>\n</blockquote>\n\n<p>into this:</p>\n\n<blockquote>\n  <p>{a1=[1, 2], b1=[3, 4, 5], a2=[6, 7, 8]}</p>\n</blockquote>\n\n<hr>\n\n<p>If you happen to have a <code>Map&lt;Int, String&gt;</code> you can call <code>toList()</code> before you pass it to <code>groupCount</code>.</p>\n"}], "owner": {"reputation": 2264, "user_id": 3470305, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/100000458789203/picture?type=large", "display_name": "Lester", "link": "https://stackoverflow.com/users/3470305/lester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 2, "accepted_answer_id": 54207752, "answer_count": 2, "score": 1, "last_activity_date": 1547593287, "creation_date": 1547585482, "last_edit_date": 1547587971, "question_id": 54206615, "link": "https://stackoverflow.com/questions/54206615/how-to-group-values-with-unique-incremental-keys-in-kotlin", "title": "How to group values with unique incremental keys in Kotlin?", "body": "<p>For example, I have such list:</p>\n\n<pre><code>{{1,\"a\"},{2,\"a\"},{3,\"b\"},{4,\"b\"},{5,\"b\"},{6,\"a\"},{7,\"a\"},{8,\"a\"}}\n</code></pre>\n\n<p>If I use Kotlin's<code>groupBy { it.value }</code> then it'll be like this:</p>\n\n<pre><code>{\n   a: = {1,2,6,7,8},\n   b: = {3,4,5}\n}\n</code></pre>\n\n<p>But I want to group it like this:</p>\n\n<pre><code>{\n   a1: = {1,2},\n   b1: = {3,4,5},\n   a2: = {6,7,8}\n}\n</code></pre>\n\n<p>What Kotlin's function should I use?</p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1547582552, "post_id": 54205992, "comment_id": 95238713, "body": "What does &quot;doesn&#39;t properly work&quot; mean to you? Note that default values for columns does not mean any rows are inserted."}, {"owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1547582678, "post_id": 54205992, "comment_id": 95238764, "body": "@laalto As in, the table looks created but I can&#39;t add data to it. when I try the app crashes. I will update my app with that info. Also, I had no idea about the default thing."}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1547582823, "post_id": 54205992, "comment_id": 95238840, "body": "If there&#39;s a crash, there&#39;s a stacktrace in logcat that&#39;s the key starting point for debugging."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1547583171, "post_id": 54205992, "comment_id": 95238987, "body": "So you want the name of the new table to be <code>Database1</code>?"}, {"owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1547583407, "post_id": 54205992, "comment_id": 95239091, "body": "@forpas in this example yes, and to fill it with some default values. Marc posted an answer that helped me solve my problem"}], "answers": [{"tags": [], "owner": {"reputation": 1049, "user_id": 1247248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13083c646d62cbec35b5f2c50d8ef644?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/1247248/marc"}, "is_accepted": true, "score": 1, "last_activity_date": 1547582898, "creation_date": 1547582898, "answer_id": 54206132, "question_id": 54205992, "link": "https://stackoverflow.com/questions/54205992/android-sqlite-onupgrade-add-a-new-table-without-touching-the-old-ones/54206132#54206132", "title": "Android SQLite onUpgrade add a new table without touching the old ones", "body": "<p>Here is a working example <a href=\"https://github.com/marchold/DeliveryDroid_v3/blob/master/Android/app/src/main/java/catglo/com/deliveryDatabase/DataBase.java\" rel=\"nofollow noreferrer\">Delivery Droid Database Class</a></p>\n"}], "owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 54206132, "answer_count": 1, "score": -1, "last_activity_date": 1547582898, "creation_date": 1547582205, "last_edit_date": 1547582706, "question_id": 54205992, "link": "https://stackoverflow.com/questions/54205992/android-sqlite-onupgrade-add-a-new-table-without-touching-the-old-ones", "title": "Android SQLite onUpgrade add a new table without touching the old ones", "body": "<p>I have a database setup in android right now. the database and tables work fine. However, when I want to add a new table and use onUpgrade - the database is created, but doesn't properly work. As in the table looks created but I can't add data to it. when I try the app crashes. All the version 1 tables still look fine.</p>\n\n<p>here is what my onUpgrade looks like:</p>\n\n<pre><code>private val newDatabase = listOf&lt;String&gt;(\n        \"Database1\"\n    )\noverride fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n\n    newDatabase.forEach{\n        val table2 = \"CREATE TABLE $it ($ID INTEGER PRIMARY KEY, $AVERAGETIME TEXT DEFAULT \\\"0\\\",$DATE TEXT DEFAULT \\\"0\\\")\"\n        db?.execSQL(table2)\n    }\n}\n</code></pre>\n\n<p>my oncreate looks exactly the same, just uses a different array of strings:</p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase?) {\n\n        originalDatabase.forEach {\n            val table1 =\n                \"CREATE TABLE $it ($ID INTEGER PRIMARY KEY, $AVERAGETIME TEXT DEFAULT \\\"0\\\",$DATE TEXT DEFAULT \\\"0\\\")\"\n            db?.execSQL(table1)\n        }\n\n    }\n</code></pre>\n\n<p>Is this the best way to add a new table? once the table is made, it seems to be blank and not work right. even though I have default values set to it.</p>\n\n<p>I tried looking through other posts but can't seem to find one concrete answer</p>\n"}, {"tags": ["android", "kotlin", "arcore"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547582906, "post_id": 54205953, "comment_id": 95238876, "body": "ever tried <code>Config.PlaneFindingMode.HORIZONTAL</code> ?"}, {"owner": {"reputation": 1597, "user_id": 5115254, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VlKEh.jpg?s=128&g=1", "display_name": "Koen Van Looveren", "link": "https://stackoverflow.com/users/5115254/koen-van-looveren"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547583127, "post_id": 54205953, "comment_id": 95238964, "body": "Yes I have tried. This does not fix the issue"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547583744, "post_id": 54205953, "comment_id": 95239235, "body": "<code>layout_width=&quot;50dp&quot;</code> and <code>layout_height=&quot;75dp&quot;</code> generally define a 2/3 portrait layout. flipping these values should result in a 2/3 landscape layout."}, {"owner": {"reputation": 1597, "user_id": 5115254, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VlKEh.jpg?s=128&g=1", "display_name": "Koen Van Looveren", "link": "https://stackoverflow.com/users/5115254/koen-van-looveren"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547583895, "post_id": 54205953, "comment_id": 95239295, "body": "Yes I know. but that is not what I want. I want to overlay the image on the table or on the wall. Currently the poster is sticking out of the image on table or the wall"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547584343, "post_id": 54205953, "comment_id": 95239466, "body": "there&#39;s even <code>Config.PlaneFindingMode HORIZONTAL_AND_VERTICAL</code>. when checking the lower image; it is anchored and perfectly aligned to the upper boundary."}, {"owner": {"reputation": 1597, "user_id": 5115254, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VlKEh.jpg?s=128&g=1", "display_name": "Koen Van Looveren", "link": "https://stackoverflow.com/users/5115254/koen-van-looveren"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1547584404, "post_id": 54205953, "comment_id": 95239490, "body": "what should I use? Or what settings should I enter?"}], "answers": [{"tags": [], "owner": {"reputation": 1597, "user_id": 5115254, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VlKEh.jpg?s=128&g=1", "display_name": "Koen Van Looveren", "link": "https://stackoverflow.com/users/5115254/koen-van-looveren"}, "is_accepted": true, "score": 3, "last_activity_date": 1548143936, "creation_date": 1548143936, "answer_id": 54303625, "question_id": 54205953, "link": "https://stackoverflow.com/questions/54205953/arcore-augmented-images-will-be-place-horizontal-on-the-wall/54303625#54303625", "title": "ArCore Augmented Images will be place horizontal on the wall", "body": "<p>I figured it out by creating my own cube (flat cube) and adding the image as a texture.</p>\n\n<pre><code>fun renderImage(arFragment: ArFragment, anchor: Anchor) {\n    Texture.builder().setSource(BitmapFactory.decodeResource(arFragment.resources, R.raw.sample_image))\n            .build()\n            .thenAccept {\n                MaterialFactory.makeOpaqueWithTexture(arFragment.context, it)\n                        .thenAccept { material -&gt;\n                            val modelRenderable = ShapeFactory.makeCube(\n                                    Vector3(0.84f, 0.01f, 1.12f),\n                                    Vector3(0.0f, 0.0f, 0.0f),\n                                    material)\n                            addNodeToScene(arFragment, anchor, modelRenderable)\n                        }\n            }\n}\n\nprivate fun addNodeToScene(fragment: ArFragment, anchor: Anchor, renderable: Renderable) {\n    val node = Node()\n    node.renderable = renderable\n    val anchorNode = AnchorNode(anchor)\n    anchorNode.addChild(node)\n\n    fragment.arSceneView.scene.addChild(anchorNode)\n    Toast.makeText(fragment.context, \"Added\", Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 10923652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2gH6H.jpg?s=128&g=1", "display_name": "Bhavik Shah", "link": "https://stackoverflow.com/users/10923652/bhavik-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1548698774, "creation_date": 1548698774, "answer_id": 54407856, "question_id": 54205953, "link": "https://stackoverflow.com/questions/54205953/arcore-augmented-images-will-be-place-horizontal-on-the-wall/54407856#54407856", "title": "ArCore Augmented Images will be place horizontal on the wall", "body": "<p>You should be able to change the orientation of the rendered image/view/object by using setLocalRotation. </p>\n\n<p>For example, in my project, I have used the below code, which makes the rendered image face directly outward from the detected image.</p>\n\n<pre><code>Node cornerNode;\nlocalPosition.set(-0.0f * image.getExtentX(), 0.1f, +0.5f * image.getExtentZ());\ncornerNode = new Node();\ncornerNode.setParent(this);\ncornerNode.setLocalPosition(localPosition);\ncornerNode.setLocalRotation(Quaternion.axisAngle(new Vector3(-1f, 0, 0), 90f));\ncornerNode.setRenderable(testViewRenderable);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "is_accepted": false, "score": 0, "last_activity_date": 1551658126, "creation_date": 1551658126, "answer_id": 54975100, "question_id": 54205953, "link": "https://stackoverflow.com/questions/54205953/arcore-augmented-images-will-be-place-horizontal-on-the-wall/54975100#54975100", "title": "ArCore Augmented Images will be place horizontal on the wall", "body": "<p>The AnchorNode follows the pose of the AugmentedImage and therefore, you cannot change <code>localRotation</code> or <code>localPosition</code> on this node. From <a href=\"https://developers.google.com/ar/reference/java/sceneform/reference/com/google/ar/sceneform/AnchorNode\" rel=\"nofollow noreferrer\">AnchorNode.setLocalRotation</a>: \"Set the local-space rotation of this node <strong>if it is not anchored.</strong>\"</p>\n\n<p>You can change the local transform by introducing an intermediate Node:</p>\n\n<pre><code>                    val base = AnchorNode()\n                    base.anchor = augmentedImage.createAnchor(augmentedImage.centerPose)\n\n                    val node = Node()\n                    node.setParent(base)\n                    node.localPosition = Vector3(0f, 0f, augmentedImage.extentZ/2)\n                    node.localRotation = Quaternion.axisAngle(Vector3(1.0f, 0f, 0f), -90f)\n                    node.localScale = Vector3(augmentedImage.extentX, augmentedImage.extentZ, 0f)\n\n                    node.renderable = renderable\n</code></pre>\n"}], "owner": {"reputation": 1597, "user_id": 5115254, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VlKEh.jpg?s=128&g=1", "display_name": "Koen Van Looveren", "link": "https://stackoverflow.com/users/5115254/koen-van-looveren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1322, "favorite_count": 0, "accepted_answer_id": 54303625, "answer_count": 3, "score": 3, "last_activity_date": 1557390872, "creation_date": 1547582032, "last_edit_date": 1557390872, "question_id": 54205953, "link": "https://stackoverflow.com/questions/54205953/arcore-augmented-images-will-be-place-horizontal-on-the-wall", "title": "ArCore Augmented Images will be place horizontal on the wall", "body": "<p>I am trying to make something like this: \n<a href=\"https://www.youtube.com/watch?v=sX1aOBlwGWc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=sX1aOBlwGWc</a>\n<a href=\"https://i.stack.imgur.com/8fF99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8fF99.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can render an image in AR. But it always placed with the wrong orientation. What I actually want to achieve is that an image is overlayed over the current poster, picture, banner. </p>\n\n<p>This is my code:</p>\n\n<p>My config:</p>\n\n<pre><code>config.focusMode = Config.FocusMode.AUTO\nconfig.updateMode = Config.UpdateMode.LATEST_CAMERA_IMAGE\nconfig.planeFindingMode = Config.PlaneFindingMode.VERTICAL            \n</code></pre>\n\n<p>My code after an image is recognised.</p>\n\n<pre><code>ViewRenderable.builder()\n     .setView(context, R.layout.ar_layout)\n     .build()\n     .thenAccept {\n          addNodeToScene(arFragment, image, it)\n     }\n\nprivate fun addNodeToScene(fragment: ArFragment, image: AugmentedImage, renderable: ViewRenderable) {\n    val node = Node()\n    node.renderable = renderable\n    val pose = image.centerPose\n    val anchorNode = AnchorNode(image.createAnchor(pose))\n    anchorNode.addChild(node)\n    fragment.arSceneView.scene.addChild(anchorNode)\n    Toast.makeText(fragment.context, \"Added\", Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<p>the ar_layout file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"50dp\"\n        android:layout_height=\"75dp\"\n        android:src=\"@drawable/poster\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I found some tutorials on how you need to implement it in Unity. But that is not how I want to do it. Can someone help me figure this out?</p>\n\n<p>What I got at this point:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7P9TX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7P9TX.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 256, "user_id": 2956217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3515e52faa0dee339e5e62740e7baded?s=128&d=identicon&r=PG", "display_name": "jczerski", "link": "https://stackoverflow.com/users/2956217/jczerski"}, "edited": false, "score": 0, "creation_date": 1547583448, "post_id": 54205519, "comment_id": 95239110, "body": "Show your module and app.sareing.core.sharedPrefs.StringPreference classes."}], "answers": [{"tags": [], "owner": {"reputation": 471, "user_id": 5323920, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/wwXSk.jpg?s=128&g=1", "display_name": "Khoa Tran", "link": "https://stackoverflow.com/users/5323920/khoa-tran"}, "is_accepted": false, "score": 0, "last_activity_date": 1547635311, "last_edit_date": 1547635311, "creation_date": 1547634959, "answer_id": 54215185, "question_id": 54205519, "link": "https://stackoverflow.com/questions/54205519/getting-cannot-be-provided-without-an-inject-constructor-or-from-an-provides/54215185#54215185", "title": "Getting cannot be provided without an @Inject constructor or from an @Provides- or @Produces-annotated method. on kotlin dagger2", "body": "<p>In Dagger, you have two way to provide an object</p>\n\n<ol>\n<li>Using @Inject in the construction</li>\n</ol>\n\n<p>Example: </p>\n\n<blockquote>\n  <p>UserRepository @Inject constructor(private val mContext: Context)</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>But how can we @Inject constructor with some class of the third party like Retrofit Service Interface? That why Dagger has @Provide</li>\n</ol>\n\n<p>Example:</p>\n\n<p><code>@Module class AppModule {\n@Provides\n    fun provideContext(application: Application): Context = application.applicationContext }</code></p>\n\n<p>Dagger also has some other way to provide an object </p>\n\n<p>You can read more <a href=\"https://google.github.io/dagger/users-guide\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>In your case, you can provide your StringPreference class in your app module like AppModule</p>\n\n<p><code>@Module\nclass AppModule {\n @Provides\n    fun provideStringPreference(context: Context): StringPreference = StringPreference(context)\n}</code></p>\n"}, {"tags": [], "owner": {"reputation": 411, "user_id": 9821453, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qpfVeyx49Do/AAAAAAAAAAI/AAAAAAAAJSE/jdo8pS5msk8/photo.jpg?sz=128", "display_name": "Anurag Chutani", "link": "https://stackoverflow.com/users/9821453/anurag-chutani"}, "is_accepted": true, "score": 0, "last_activity_date": 1547661983, "creation_date": 1547661983, "answer_id": 54222886, "question_id": 54205519, "link": "https://stackoverflow.com/questions/54205519/getting-cannot-be-provided-without-an-inject-constructor-or-from-an-provides/54222886#54222886", "title": "Getting cannot be provided without an @Inject constructor or from an @Provides- or @Produces-annotated method. on kotlin dagger2", "body": "<p>Fixed by solution here <a href=\"https://stackoverflow.com/a/48057282/9821453\">https://stackoverflow.com/a/48057282/9821453</a></p>\n\n<p>I was not using @fields:qualifier_name while injecting.</p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 411, "user_id": 9821453, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qpfVeyx49Do/AAAAAAAAAAI/AAAAAAAAJSE/jdo8pS5msk8/photo.jpg?sz=128", "display_name": "Anurag Chutani", "link": "https://stackoverflow.com/users/9821453/anurag-chutani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 54222886, "answer_count": 2, "score": -1, "last_activity_date": 1547661983, "creation_date": 1547580037, "question_id": 54205519, "link": "https://stackoverflow.com/questions/54205519/getting-cannot-be-provided-without-an-inject-constructor-or-from-an-provides", "title": "Getting cannot be provided without an @Inject constructor or from an @Provides- or @Produces-annotated method. on kotlin dagger2", "body": "<pre><code>error: app.sareing.core.sharedPrefs.StringPreference cannot be provided without an @Inject constructor or from an @Provides- or @Produces-annotated method.\npublic abstract void inject(@org.jetbrains.annotations.NotNull()\n                     ^\n  app.sareing.core.sharedPrefs.StringPreference is injected at\n      app.sareing.activity.MainActivity.authToken\n  app.sareing.activity.MainActivity is injected at\n      app.sareing.injection.component.ActivityComponent.inject(activity)\n</code></pre>\n\n<p>Tried Named fields, still no luck solving this.</p>\n"}, {"tags": ["kotlin", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "edited": false, "score": 0, "creation_date": 1547584268, "post_id": 54206114, "comment_id": 95239439, "body": "yes, qualified import was needed. even if it&#39;s in the same file"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1547582812, "creation_date": 1547582812, "answer_id": 54206114, "question_id": 54205436, "link": "https://stackoverflow.com/questions/54205436/kotlin-how-to-overload-imported-function/54206114#54206114", "title": "kotlin: how to overload imported function", "body": "<p>You can define it in an extra file and import it explicitely. I think it even helps to add the import when it's defined in your file, but IDE shows this import as unused.</p>\n\n<p>Suggestion would be: define extension in <code>your/package/testutils.kt</code> and import it then: </p>\n\n<p><code>import your.package.assertThat</code></p>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 54206114, "answer_count": 1, "score": 0, "last_activity_date": 1547582812, "creation_date": 1547579730, "last_edit_date": 1547581436, "question_id": 54205436, "link": "https://stackoverflow.com/questions/54205436/kotlin-how-to-overload-imported-function", "title": "kotlin: how to overload imported function", "body": "<p>i use assertj. among others it has functions <code>assertThat(int)</code> and <code>assertThat(Object)</code>. i would like to add my own function </p>\n\n<pre><code>fun &lt;T&gt; assertThat(flux: Flux&lt;T&gt;) = assertThat(flux.toStream())\n</code></pre>\n\n<p>but then it seems like i can't easily use it. when i declare the function outside of testing class <code>MyTest</code>, function call in tests binds to <code>assertThat(Object)</code> instead of <code>assertThat(Flux)</code>:</p>\n\n<pre><code>import org.assertj.core.api.Assertions.assertThat\n\n//&lt;----------- if declared here, doesn't work\n\nclass MyTest {\n\n   //&lt;----------- if declared here, all is ok\n\n  @Test fun test() {\n     assertThat(Flux.just(1)).containsExactly(1)\n  }\n}\n</code></pre>\n\n<p>what should i do to be able to use my function?</p>\n"}, {"tags": ["kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "edited": false, "score": 0, "creation_date": 1547592718, "post_id": 54204724, "comment_id": 95242667, "body": "Your code is calling getData_1 for both cases."}], "answers": [{"tags": [], "owner": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "is_accepted": true, "score": 1, "last_activity_date": 1547635069, "last_edit_date": 1547635069, "creation_date": 1547593125, "answer_id": 54208064, "question_id": 54204724, "link": "https://stackoverflow.com/questions/54204724/kotlin-how-to-share-common-retrofit-response-handler-code/54208064#54208064", "title": "kotlin how to share common retrofit response handler code", "body": "<p>If you want to minimize the duplicate code, create the callback as a class object and use it for both calls (something like this):</p>\n\n<pre><code>private val callback = object : Callback&lt;DataModel&gt; {\n   override fun onResponse(call: Call&lt;DataModel&gt;?, response: Response&lt;DataModel&gt;?) {\n       // handler code \n   }\n\n   override fun onFailure(call: Call&lt;DataModel&gt;?, throwable: Throwable?) {\n       // error handler code \n   }\n}\n\nprivate fun fetchFirst() {\n    if (UseDataApi_1) {\n        dataApi.getData_1(getQueryParams()).enqueue(callback)\n    } else {\n        dataApi.getData_2(getQueryParams()).enqueue(callback)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 54208064, "answer_count": 1, "score": 1, "last_activity_date": 1547635069, "creation_date": 1547576293, "last_edit_date": 1547580134, "question_id": 54204724, "link": "https://stackoverflow.com/questions/54204724/kotlin-how-to-share-common-retrofit-response-handler-code", "title": "kotlin how to share common retrofit response handler code", "body": "<p>Having code to get from two different endpoints,  but the response json have same scheme and the response handler code are same.</p>\n\n<pre><code>internal interface DataApi {\n    @GET(\"/api/api_1\")\n    fun getData_1(@QueryMap params: Map&lt;String, String&gt;?): Call&lt;DataMpdel&gt;\n\n\n    @GET(\"/api/api_2\")\n    fun getData_2(@QueryMap params: Map&lt;String, String&gt;?): Call&lt;DataMpdel&gt;\n}\n\nprivate lateinit var dataApi: DataApi\n\ninit {\n    dataApi = createDataApi()\n}\n\nprivate fun createDataApi() : DataApi {\n    val restAdapter = Retrofit.Builder()\n            .baseUrl(baseUrl)\n            .client(okHttpClient)\n            .addConverterFactory(getGsonConverterFactory())\n            .build()\n    return restAdapter.create(DataApi::class.java)\n}\n</code></pre>\n\n<p>It could use if/else to call the different endpoint, but that will duplicate the handler code.</p>\n\n<p><strong>Update:</strong> create the handler function and in both onResposne() just call that function.</p>\n\n<p>Any suggestion to be better with shared handler code?</p>\n\n<pre><code>private fun fetchFirst(){\n\n    if (!UseDataApi_1) {\n        //\n        dataApi. getData_1(getQueryParams()).enqueue(object : Callback&lt;DataModel&gt; {\n            override fun onResponse(call: Call&lt;DataModel&gt;?, response: Response&lt;DataModel&gt;?) {\n\n              // same handler code \n            }\n\n            override fun onFailure(call: Call&lt;DataModel&gt;?, throwable: Throwable?) {\n\n      // same error handler code \n\n            }\n        })\n    } else {\n        //\n        dataApi. getData_1(getQueryParams()).enqueue(object : Callback&lt;DataModel&gt; {\n            override fun onResponse(call: Call&lt;DataModel&gt;?, response: Response&lt;DataModel&gt;?) {\n\n              // same handler code \n            }\n\n            override fun onFailure(call: Call&lt;DataModel&gt;?, throwable: Throwable?) {\n\n      // same error handler code\n\n            }\n        }) \n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3110, "user_id": 4402462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-_tLZ6wVqNwM/AAAAAAAAAAI/AAAAAAAABbQ/1vpw--DOl7A/photo.jpg?sz=128", "display_name": "Srikar Reddy", "link": "https://stackoverflow.com/users/4402462/srikar-reddy"}, "edited": false, "score": 1, "creation_date": 1547576475, "post_id": 54204640, "comment_id": 95236204, "body": "Simply create an array list of vehicles why create dynamic variables?"}, {"owner": {"reputation": 3110, "user_id": 4402462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-_tLZ6wVqNwM/AAAAAAAAAAI/AAAAAAAABbQ/1vpw--DOl7A/photo.jpg?sz=128", "display_name": "Srikar Reddy", "link": "https://stackoverflow.com/users/4402462/srikar-reddy"}, "edited": false, "score": 0, "creation_date": 1547576478, "post_id": 54204640, "comment_id": 95236206, "body": "<a href=\"https://stackoverflow.com/questions/6729605/assigning-variables-with-dynamic-names-in-java\" title=\"assigning variables with dynamic names in java\">stackoverflow.com/questions/6729605/&hellip;</a>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1547576966, "post_id": 54204640, "comment_id": 95236397, "body": "That C++ snippet would create a one-element array and immediately destroy it since it goes out of scope, 10 times."}], "answers": [{"tags": [], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "is_accepted": false, "score": 0, "last_activity_date": 1547576258, "creation_date": 1547576258, "answer_id": 54204717, "question_id": 54204640, "link": "https://stackoverflow.com/questions/54204640/how-to-devine-multiple-variables-in-kotlin/54204717#54204717", "title": "How to devine multiple variables in Kotlin", "body": "<p>So you want an <strong>Array</strong> with 10 <strong>Strings</strong>, each one having different names right? You can do something like this:</p>\n\n<pre><code>val vehicles = emptyArray&lt;String&gt;()\nfor (i in 0 until 10) vehicles[i] = \"vehicle$i\"\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10829946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78933bb582d0018a4df24937ee465a4?s=128&d=identicon&r=PG&f=1", "display_name": "Batman Singh", "link": "https://stackoverflow.com/users/10829946/batman-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1547585419, "creation_date": 1547575912, "last_edit_date": 1547585419, "question_id": 54204640, "link": "https://stackoverflow.com/questions/54204640/how-to-devine-multiple-variables-in-kotlin", "title": "How to devine multiple variables in Kotlin", "body": "<p>I want to declare multiple global variables in Kotlin with names like vehicle1, vehicle2, vehicle3... using a loop.</p>\n\n<p>I think this is how one would do it in C++ -></p>\n\n<pre><code>for(i=0; i&lt;10; i++){\n   int vehicle[1];\n}\n</code></pre>\n"}, {"tags": ["json", "kotlin", "ktor"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1547615692, "post_id": 54204190, "comment_id": 95247599, "body": "What&#39;s wrong with validating the object after decode? BTW the Django example looks like <a href=\"https://beanvalidation.org/\" rel=\"nofollow noreferrer\">JSR-303</a>, but I haven&#39;t seen something like this in Ktor"}, {"owner": {"reputation": 563, "user_id": 488861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f01b0135a2ccc3ea940a03c5c172b43a?s=128&d=identicon&r=PG", "display_name": "Rytek", "link": "https://stackoverflow.com/users/488861/rytek"}, "edited": false, "score": 0, "creation_date": 1584546714, "post_id": 54204190, "comment_id": 107471303, "body": "the problem is that if a mandatory parameter is missing, Jackson will send an Exception because it cannot deserialize the JSON. I have the same issue and I haven&#39;t found in the docs how to fail with a BadRequestException"}, {"owner": {"reputation": 3834, "user_id": 1528610, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/9hMe3.gif?s=128&g=1", "display_name": "VishalDevgire", "link": "https://stackoverflow.com/users/1528610/vishaldevgire"}, "reply_to_user": {"reputation": 563, "user_id": 488861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f01b0135a2ccc3ea940a03c5c172b43a?s=128&d=identicon&r=PG", "display_name": "Rytek", "link": "https://stackoverflow.com/users/488861/rytek"}, "edited": false, "score": 0, "creation_date": 1617737888, "post_id": 54204190, "comment_id": 118388017, "body": "@Rytek did you find anything which solved your issue?"}], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": false, "score": 6, "last_activity_date": 1588586355, "last_edit_date": 1588586355, "creation_date": 1547647986, "answer_id": 54218951, "question_id": 54204190, "link": "https://stackoverflow.com/questions/54204190/ktor-how-can-i-validate-json-request/54218951#54218951", "title": "Ktor: How can I validate JSON request?", "body": "<p>Here is a quick example of how to validate and respond with 400 if needed.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 5000) {\n        install(CallLogging)\n        install(ContentNegotiation) { gson { } }\n        install(Routing) {\n            post(\"test\") {\n                val sample = call.receive&lt;Sample&gt;()\n                if (!sample.validate()) {\n                    call.respond(HttpStatusCode.BadRequest, \"Sample did not pass validation\")\n                }\n                call.respond(\"Ok\")\n            }\n        }\n    }.start()\n}\n\nfun Sample.validate(): Boolean = id &gt; 5\n\ndata class Sample(val id: Int)\n\n</code></pre>\n\n<p>Did you have something else in mind?</p>\n\n<p>There are no inbuilt annotations or the like.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5324912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbdfd9db746945135c9abdd23759ebc6?s=128&d=identicon&r=PG&f=1", "display_name": "Boris EKUE-HETTAH", "link": "https://stackoverflow.com/users/5324912/boris-ekue-hettah"}, "is_accepted": false, "score": 0, "last_activity_date": 1553873251, "creation_date": 1553873251, "answer_id": 55420725, "question_id": 54204190, "link": "https://stackoverflow.com/questions/54204190/ktor-how-can-i-validate-json-request/55420725#55420725", "title": "Ktor: How can I validate JSON request?", "body": "<p>Am not sure Ktor has already something for that.Spring handles it well with <strong>@Valid annotation</strong>.\nI was also looking for something like this to make validation whether of the json or the object. I found this framework <a href=\"https://github.com/making/yavi\" rel=\"nofollow noreferrer\">https://github.com/making/yavi</a>. It looks interesting. I will make a try</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4503903, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IlP4iLqRTaM/AAAAAAAAAAI/AAAAAAAACoc/CAf7qPCwGC8/photo.jpg?sz=128", "display_name": "Arnau Mir&#243; Maestre", "link": "https://stackoverflow.com/users/4503903/arnau-mir%c3%b3-maestre"}, "edited": false, "score": 0, "creation_date": 1616010371, "post_id": 59799479, "comment_id": 117872727, "body": "This is great!!!  I needed additional dependency: implementation &quot;org.glassfish:javax.el:3.0.1-b08&quot;"}], "tags": [], "owner": {"reputation": 7311, "user_id": 1462282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5wvoe.jpg?s=128&g=1", "display_name": "Sahil Chhabra", "link": "https://stackoverflow.com/users/1462282/sahil-chhabra"}, "is_accepted": false, "score": 3, "last_activity_date": 1579342196, "creation_date": 1579342196, "answer_id": 59799479, "question_id": 54204190, "link": "https://stackoverflow.com/questions/54204190/ktor-how-can-i-validate-json-request/59799479#59799479", "title": "Ktor: How can I validate JSON request?", "body": "<p>You can use <code>hibernate-validator</code> for input validations. Refer below:</p>\n\n<p><strong>Add Dependency (Gradle):</strong></p>\n\n<pre><code>compile \"org.hibernate.validator:hibernate-validator:6.1.1.Final\"\n</code></pre>\n\n<p><strong>Annotate your data class (DTO):</strong></p>\n\n<pre><code>data class SampleDto(\n    @field:Min(value=100)\n    val id: Int,\n    @field:Max(value=99)\n    val age: Int\n)\n</code></pre>\n\n<p><strong>Add Validator in Routing:</strong></p>\n\n<pre><code>import javax.validation.Validation\n\nfun Application.module() {\n\n    val service = SampleService()\n    val validator = Validation.buildDefaultValidatorFactory().validator\n\n    routing {\n        post(\"/sample/resource/\") {\n            val sampleDto = call.receive&lt;SampleDto&gt;()\n            sampleDto.validate(validator)\n            service.process(sampleDto)\n            call.respond(HttpStatusCode.OK)\n        }\n    }\n}\n\n@Throws(BadRequestException::class)\nfun &lt;T : Any&gt; T.validate(validator: Validator) {\n    validator.validate(this)\n        .takeIf { it.isNotEmpty() }\n        ?.let { throw BadRequestException(it.first().messageWithFieldName()) }\n}\n\nfun &lt;T : Any&gt; ConstraintViolation&lt;T&gt;.messageWithFieldName() = \"${this.propertyPath} ${this.message}\"\n</code></pre>\n\n<p><strong>Bonus Step (Optional) - Add Exception Handler:</strong></p>\n\n<pre><code>fun Application.exceptionHandler() {\n\n    install(StatusPages) {\n        exception&lt;BadRequestException&gt; { e -&gt;\n            call.respond(HttpStatusCode.BadRequest, ErrorDto(e.message, HttpStatusCode.BadRequest.value))\n            throw e\n        }\n    }\n\n}\n\ndata class ErrorDto(val message: String, val errorCode: Int)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4618, "user_id": 342783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb494f1a609fb9b2decff660a018bf20?s=128&d=identicon&r=PG", "display_name": "34m0", "link": "https://stackoverflow.com/users/342783/34m0"}, "is_accepted": false, "score": 1, "last_activity_date": 1584873927, "creation_date": 1584873927, "answer_id": 60798348, "question_id": 54204190, "link": "https://stackoverflow.com/questions/54204190/ktor-how-can-i-validate-json-request/60798348#60798348", "title": "Ktor: How can I validate JSON request?", "body": "<p>Taking the answer of Andreas a step further you can return a list of errors when the request is invalid like so:</p>\n\n<pre><code>    post {\n        val postDog = call.receive&lt;PostDog&gt;()\n        val validationErrors = postDog.validate()\n        if (validationErrors.isEmpty()) {\n\n            // Save to database\n\n        } else {\n            call.respond(HttpStatusCode.BadRequest, validationErrors)\n        }\n\n    }\n\n    fun PostDog.validate() : List&lt;Error&gt; {\n        var validationErrors : MutableList&lt;Error&gt; = mutableListOf()\n        if(name == null || name.isBlank())\n            validationErrors.add(Error(code = \"dog.name.required\", message = \"Dog requires a name\"))\n        if(color == null || color.isBlank())\n            validationErrors.add(Error(code = \"dog.color.required\", message = \"Dog requires a color\"))            \n        return validationErrors\n    }\n\n    data class PostDog(\n      val name: String,\n      val color: String          \n    )\n\n    data class Error(\n        val code : String,\n        val message : String\n    )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8278409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6oqhFRd2MJQ/AAAAAAAAAAI/AAAAAAAAADM/31WURNCLrf0/photo.jpg?sz=128", "display_name": "Mohammad Mohammadi", "link": "https://stackoverflow.com/users/8278409/mohammad-mohammadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1617026275, "creation_date": 1617026275, "answer_id": 66855574, "question_id": 54204190, "link": "https://stackoverflow.com/questions/54204190/ktor-how-can-i-validate-json-request/66855574#66855574", "title": "Ktor: How can I validate JSON request?", "body": "<p>use this library</p>\n<p><a href=\"https://github.com/valiktor/valiktor\" rel=\"nofollow noreferrer\">https://github.com/valiktor/valiktor</a></p>\n<pre><code>data class Employee(val id: Int, val name: String, val email: String) {\n        init {\n            validate(this) {\n                validate(Employee::id).isPositive()\n                validate(Employee::name).hasSize(min = 3, max = 80)\n                validate(Employee::email).isNotBlank().isEmail()\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1301, "user_id": 5005715, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/11137f29f87890ec613f80cc18aa36f5?s=128&d=identicon&r=PG&f=1", "display_name": "Aliquis", "link": "https://stackoverflow.com/users/5005715/aliquis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4206, "favorite_count": 0, "answer_count": 5, "score": 7, "last_activity_date": 1617026275, "creation_date": 1547573992, "last_edit_date": 1547574336, "question_id": 54204190, "link": "https://stackoverflow.com/questions/54204190/ktor-how-can-i-validate-json-request", "title": "Ktor: How can I validate JSON request?", "body": "<p>I already know how to receive a JSON object and automatically deserialize it into the required format (e.g. with a data class). Also look here: <a href=\"https://stackoverflow.com/questions/51449280/how-to-receive-json-object-in-ktor\">How to receive JSON object in Ktor?</a></p>\n\n<p>My problem now is that I want to validate the JSON request and return <code>BadRequest</code> if it's not in the desired format, something like that in Django: <a href=\"https://stackoverflow.com/a/44085405/5005715\">https://stackoverflow.com/a/44085405/5005715</a></p>\n\n<p>How can I do that in Ktor/Kotlin? Unfortunately, I couldn't find a solution in the docs. Also, required/optional fields would be nice.</p>\n"}, {"tags": ["android", "kotlin", "binding", "getter-setter"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1547571505, "post_id": 54203425, "comment_id": 95233833, "body": "On its own this code is fine, but it seems you have some code that <code>set</code>s the value to itself every time it changes (<code>notifyPropertyChanged</code>). I assume the text view binding is causing this problem; I don&#39;t think you can do anything other than extract this concatenation logic to another method and use one-way binding + a listener instead (having <code>get</code> and <code>set</code> blocks that &quot;differ&quot; like this is probably not a good idea in general.)"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1547571585, "post_id": 54203425, "comment_id": 95233880, "body": "This is just a guess, but it seems like whenever the text view is updated by the property change listener it detects a change in its own content and thus tries to save back to the observable, triggering a loop, since you&#39;re using two-way binding."}, {"owner": {"reputation": 3, "user_id": 10918021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd3d1f8218cecb7d7ac487ed3e94dcc0?s=128&d=identicon&r=PG&f=1", "display_name": "viel_dutra", "link": "https://stackoverflow.com/users/10918021/viel-dutra"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1547572458, "post_id": 54203425, "comment_id": 95234302, "body": "Man, thanks a lot... You opened my eyes for the problem! I was using <b>two-way</b> binding for a <code>TextView</code>, so there is the problem. Every time I set the <code>value</code> to the <code>property</code>, it sets to the <code>TextField</code>, the <code>TextField</code>, sets back the <code>value</code> to the <code>property</code> that sets back to the <code>TextView</code>, it goes to the infinite, and here&#39;s the   &#39;loop&#39; problem. I&#39;ve tried the same code but with a <code>EditText</code> and I keeps the <code>TextView</code> code, like in this post, it shows me the error. I simply change in the XML the <code>@={}</code> to <code>@{}</code> in the <code>TextFields</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10918021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd3d1f8218cecb7d7ac487ed3e94dcc0?s=128&d=identicon&r=PG&f=1", "display_name": "viel_dutra", "link": "https://stackoverflow.com/users/10918021/viel-dutra"}, "edited": false, "score": 0, "creation_date": 1547572881, "post_id": 54203869, "comment_id": 95234525, "body": "Yes, like you said. It solves the problem. Apparently, the two-way binding causes a loop in some XML elements."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 0, "last_activity_date": 1547572772, "creation_date": 1547572772, "answer_id": 54203869, "question_id": 54203425, "link": "https://stackoverflow.com/questions/54203425/a-kotlin-property-is-in-looping-when-getting-the-value-field/54203869#54203869", "title": "A Kotlin property is in looping when getting the value ($field)", "body": "<p>Just for the sake of completeness:</p>\n\n<blockquote>\n  <p>it seems like whenever the text view is updated by the property change listener it detects a change in its own content and thus tries to save back to the observable, triggering a loop, since you're using two-way binding.</p>\n</blockquote>\n\n<p>The problem can be solved by using one-way binding instead (<code>@{}</code>), as upon changing its text the text view would trigger its own listeners and attempt to modify the observable, sending it into an infinite recursion.</p>\n"}], "owner": {"reputation": 3, "user_id": 10918021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd3d1f8218cecb7d7ac487ed3e94dcc0?s=128&d=identicon&r=PG&f=1", "display_name": "viel_dutra", "link": "https://stackoverflow.com/users/10918021/viel-dutra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 54203869, "answer_count": 1, "score": 0, "last_activity_date": 1547572772, "creation_date": 1547571146, "question_id": 54203425, "link": "https://stackoverflow.com/questions/54203425/a-kotlin-property-is-in-looping-when-getting-the-value-field", "title": "A Kotlin property is in looping when getting the value ($field)", "body": "<p>When I bind the value in the 'name' property in xml, the getter seems to be in a loop and the value inside it, is concatenating in the screen until I stop the app.</p>\n\n<p>1 - I don't know with sure yet if I need to use <code>notifyPropertyChanged()</code> or the anotations <code>@set and @get;</code></p>\n\n<p>2 - If I set the get without the concatenating string, it's works nicelly: <code>get() = field;</code></p>\n\n<p>3 - If I try to return the get value inside braces, the problem keeps to occour: <code>get(){return \"Field: $field\"};</code></p>\n\n<p>This is the model:</p>\n\n<pre><code>class ContactModel : BaseObservable(){\n\n    @set:Bindable\n    @get:Bindable\n    var name: String = \"\"\n        get() = \"Field: $field\"\n        set(value) {\n            field = value\n            notifyPropertyChanged(BR.name)\n        }\n\n\n    @set:Bindable\n    @get:Bindable\n    var email: String = \"\"\n        set(value) {\n            field = value\n            notifyPropertyChanged(BR.email)\n        }\n\n    @set:Bindable\n    @get:Bindable\n    var phone: String = \"\"\n        set(value) {\n            field = value\n            notifyPropertyChanged(BR.phone)\n        }\n\n}\n</code></pre>\n\n<p>Here's the activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n    lateinit var binding: ActivityMainBinding\n    var contactModel: ContactModel = ContactModel()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n        contactModel = ContactModel(/*\"R\u00f4mulo\", \"romulocoviel@gmail.com\", \"(19):98421-0821\"*/)\n        contactModel.name = \"R\u00f4mulo\"\n        contactModel.email = \"romulocoviel@gmail.com\"\n        contactModel.phone = \"(19):98421-0821\"\n\n        binding.contactModel = contactModel\n        binding.setLifecycleOwner(this)\n    }\n\n    fun changeSignatures(view: View) {\n        Log.e(\"TESTING\", \"Testando!\" + contactModel.name)\n        val nameList: ArrayList&lt;ContactModel&gt; = ArrayList()\n\n        contactModel.name = \"asdasd\"\n        contactModel.email = \"asdasda\"\n        contactModel.phone = \"asdasd\"\n\n    }\n\n}\n</code></pre>\n\n<p>And here's the XML that I have a button that changes the values when tapped and the binding views:</p>\n\n\n\n<p></p>\n\n<pre><code>&lt;data&gt;\n    &lt;variable\n            name=\"contactModel\"\n            type=\"com.example.romulo.bindingmetricsconversor.ContactModel\"/&gt;\n&lt;/data&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n            android:text=\"@={contactModel.name}\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/tvName\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n            android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\"/&gt;\n    &lt;TextView\n            android:text=\"@={contactModel.email}\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/tvEmail\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toBottomOf=\"@+id/tvName\" app:layout_constraintStart_toStartOf=\"parent\"\n            android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\"/&gt;\n    &lt;TextView\n            android:text=\"@={contactModel.phone}\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/tvPhone\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toBottomOf=\"@+id/tvEmail\" app:layout_constraintStart_toStartOf=\"parent\"\n            android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\"/&gt;\n    &lt;Button\n            android:text=\"Change\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"49dp\"\n            android:id=\"@+id/btChange\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toTopOf=\"parent\" android:layout_marginBottom=\"8dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"8dp\" android:layout_marginRight=\"8dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginLeft=\"8dp\"\n            android:layout_marginStart=\"8dp\" android:onClick=\"changeSignatures\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>The result in the screen always is:</p>\n\n<blockquote>\n  <p>Field: asdasd</p>\n  \n  <p>Field:Field: asdasd</p>\n  \n  <p>Field:Field: asdasd</p>\n  \n  <p>Field:Field:Field: asdasd</p>\n  \n  <p>Field:Field:Field:Field: asdasd</p>\n  \n  <p>... to the infinite</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "java-native-interface"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1547568705, "post_id": 54202650, "comment_id": 95232385, "body": "The crash happens inside your LoadJNI() method, which you haven&#39;t posted. It has nothing to do with Kotlin coroutines."}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1547568911, "post_id": 54202650, "comment_id": 95232476, "body": "please check my edit"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1547570415, "post_id": 54202650, "comment_id": 95233271, "body": "It seems <code>libloader-jni.so</code> file is missed."}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1547570771, "post_id": 54202650, "comment_id": 95233447, "body": "@Sergey please check my edit"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 1, "creation_date": 1547570988, "post_id": 54202650, "comment_id": 95233560, "body": "libloader-jni.so is a library file, it should be added to the app. When you call <code>System.loadLibrary(&quot;loader-jni&quot;);</code> it tries to load it but can&#39;t find. Maybe this will help <a href=\"https://stackoverflow.com/questions/27421134/system-loadlibrary-couldnt-find-native-library-in-my-case\" title=\"system loadlibrary couldnt find native library in my case\">stackoverflow.com/questions/27421134/&hellip;</a>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1547571046, "post_id": 54202650, "comment_id": 95233587, "body": "What is <code>loader-jni</code>? Is it part of your own project (i.e. Android + native project)? Are you sure you are correctly including it in your build?"}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1547586420, "post_id": 54202650, "comment_id": 95240256, "body": "Your screenshot shows a bunch of <code>armeabi-v7a</code> libraries. But the error messages says that the linker is looking for an <code>arm64-v8a</code> version of the library. Do you have that version bundled with your app?"}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 13268707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gg0yH2KVF0WatWKqpAkIdRTV15LrUgb95qTaPzyhw=k-s128", "display_name": "Shubh", "link": "https://stackoverflow.com/users/13268707/shubh"}, "is_accepted": false, "score": 1, "last_activity_date": 1596119528, "creation_date": 1596119528, "answer_id": 63175399, "question_id": 54202650, "link": "https://stackoverflow.com/questions/54202650/application-crash-when-try-to-load-system-loadlibraryloader-jni/63175399#63175399", "title": "application crash when try to load System.loadLibrary(&quot;loader-jni&quot;)", "body": "<p>I know it's late to answer this question but may help someone who is looking for it.\nI was also getting the same error and was working on it for couple of days.\ni had tried all the possible answers but still was not able to solve them.I was using an old project in which <strong><code>jniLibs</code></strong> was already present but still i was getting the same error. After a lot of research i got my answer and it worked. this is the link which i followed:</p>\n<p><a href=\"http://androidwarzone.blogspot.com/2011/12/ffmpeg4android.html\" rel=\"nofollow noreferrer\">http://androidwarzone.blogspot.com/2011/12/ffmpeg4android.html</a></p>\n<p>only three things i had to do:</p>\n<p>Add this line to your app gradle.build:</p>\n<blockquote>\n<p><code>implementation 'com.netcompss:ffmpeg4android_lib:41.08'</code></p>\n</blockquote>\n<p>Add this to your gradle.properties:</p>\n<blockquote>\n<p><code>android.useDeprecatedNdk=true</code></p>\n</blockquote>\n<p>Add this in the application tag in manifest file:</p>\n<blockquote>\n<p><code>android:extractNativeLibs=&quot;true&quot;</code></p>\n</blockquote>\n<p>I hope it may help someone: Good Luck.</p>\n"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1596119528, "creation_date": 1547568534, "last_edit_date": 1547571271, "question_id": 54202650, "link": "https://stackoverflow.com/questions/54202650/application-crash-when-try-to-load-system-loadlibraryloader-jni", "title": "application crash when try to load System.loadLibrary(&quot;loader-jni&quot;)", "body": "<pre><code>java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file \"/data/app/com.forsale.forsale-2/base.apk\"],nativeLibraryDirectories=[/data/app/com.forsale.forsale-2/lib/arm64, /data/app/com.forsale.forsale-2/base.apk!/lib/arm64-v8a, /system/lib64, /vendor/lib64]]] couldn't find \"libloader-jni.so\"\n        at java.lang.Runtime.loadLibrary0(Runtime.java:972)\n        at java.lang.System.loadLibrary(System.java:1567)\n        at com.netcompss.loader.LoadJNI.&lt;clinit&gt;(LoadJNI.java:15)\n        at com.forsale.app.utils.facades.VideoCompressor$getCompressedVideo$retValue$1.invokeSuspend(VideoCompressor.kt:21)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:32)\n        at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:236)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:742)\n</code></pre>\n\n<p>I am getting the crash above when try to run my code </p>\n\n<pre><code>fun getCompressVideo (video: String) {\n\n        launch (Dispatchers.Main){\n            viewModel.mediaViewModel.video = videoCompressor.getCompressedVideo(context, Uri.parse(viewModel.mediaViewModel.video))\n        }\n    }\n\noverride suspend fun getCompressedVideo(context: Context?, video: Uri): String {\n\n            val retValue = withContext(Dispatchers.IO) {\n\n                val inputFile = video.path\n                Log.i(\"AMIRA3000\" , inputFile)\n                val loadJNI = LoadJNI()\n\n                val workFolder: String = context!!.filesDir.absolutePath\n\n                val outputFile: String = getFileFullName(\n                    FilesConstants.VIDEO_FOLDER,\n                    String.format(FilesConstants.VIDEO_NAME_FILE_FORMAT, System.currentTimeMillis())\n                )\n\n                val complexCommand = arrayOf(\n                    \"ffmpeg\", \"-y\", \"-i\", inputFile, \"-strict\", \"experimental\", \"-s\", \"320x240\", \"-r\", \"25\", \"-aspect\", \"4:3\", \"-ab\", \"48000\", \"-ac\", \"2\", \"-vcodec\", \"mpeg4\", \"-movflags\", \"+faststart\", \"-ar\", \"22050\", \"-b\", \"2097k\", outputFile\n                )\n\n                loadJNI.run(complexCommand, workFolder, context)\n            }\n\n            return retValue.toString()\n    }\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>public final class LoadJNI {\n\n    static {\n        System.loadLibrary(\"loader-jni\");\n    }\n\n    /**\n     * \n     * @param args ffmpeg command\n     * @param workFolder working directory \n     * @param ctx Android context\n     * @param isValidate apply validation to the command\n     * @throws CommandValidationException\n     */\n    public void run(String[] args, String workFolder, Context ctx, boolean isValidate) throws CommandValidationException {\n        Log.i(Prefs.TAG, \"running ffmpeg4android_lib: \" + Prefs.version);\n        // delete previous log: this is essential for correct progress calculation\n        String vkLogPath = workFolder + \"vk.log\";\n        GeneralUtils.deleteFileUtil(vkLogPath);\n        GeneralUtils.printCommand(args);\n\n        //printInternalDirStructure(ctx);\n\n        if (isValidate) {\n            if (GeneralUtils.isValidCommand(args))\n                load(args, workFolder, getVideokitLibPath(ctx), true);\n            else\n                throw new CommandValidationException();\n        }\n        else {\n            load(args, workFolder, getVideokitLibPath(ctx), true);\n        }\n\n    }\n\n    /**\n     * \n     * @param args ffmpeg command\n     * @param videokitSdcardPath working directory \n     * @param ctx Android context\n     * @throws CommandValidationException\n     */\n    public void run(String[] args, String workFolder, Context ctx) throws CommandValidationException {\n        run(args, workFolder, ctx, true);\n    }\n\n\n    private static void printInternalDirStructure(Context ctx) {\n        Log.d(Prefs.TAG, \"=printInternalDirStructure=\");\n        Log.d(Prefs.TAG, \"==============================\");\n        File file = new File(ctx.getFilesDir().getParent());\n        analyzeDir(file);\n        Log.d(Prefs.TAG, \"==============================\");\n    }\n\n    private static void analyzeDir(File path) {\n        if (path.isDirectory()) {\n            Log.d(Prefs.TAG,\"Scanning dir: \" + path.getAbsolutePath());\n            File[] files1 = path.listFiles();\n            for (int i = 0; i &lt; files1.length; i++) {\n                analyzeDir(files1[i]);\n            }\n            Log.d(Prefs.TAG, \"==========\");\n        }\n        else {\n            Log.d(Prefs.TAG, path.getAbsolutePath());\n\n        }\n    }\n\n    private static String getVideokitLibPath(Context ctx) {\n\n        //File file = new File(ctx.getFilesDir().getParent() + \"/lib/\");\n        //analyzeDir(file);\n\n        String videokitLibPath = ctx.getFilesDir().getParent()  + \"/lib/libvideokit.so\";\n\n        File file = new File(videokitLibPath);\n        if(file.exists())  {     \n          Log.i(Prefs.TAG, \"videokitLibPath exits: \" + videokitLibPath);\n        }\n        else {\n            Log.w(Prefs.TAG, \"videokitLibPath not exits: \" + videokitLibPath);\n            videokitLibPath = ctx.getFilesDir().getParent()  + \"/lib/arm64/libvideokit.so\";\n            Log.i(Prefs.TAG, \"trying videokitLibPath: \" + videokitLibPath);\n            file = new File(videokitLibPath);\n            if(file.exists())  {\n                Log.i(Prefs.TAG, \"videokitLibPath exits: \" + videokitLibPath);\n            }\n            else {\n                Log.w(Prefs.TAG, \"videokitLibPath not exits: \" + videokitLibPath);\n                videokitLibPath = \"/data/app/com.examples.ffmpeg4android_demo-1/lib/arm64/libvideokit.so\";\n                Log.i(Prefs.TAG, \"trying videokitLibPath: \" + videokitLibPath);\n                file = new File(videokitLibPath);\n                if(file.exists())  {\n                    Log.i(Prefs.TAG, \"videokitLibPath exits: \" + videokitLibPath);\n                }\n                else {\n                    Log.w(Prefs.TAG, \"videokitLibPath not exits: \" + videokitLibPath);\n                    videokitLibPath = \"/data/app/com.examples.ffmpeg4android_demo-2/lib/arm64/libvideokit.so\";\n                    Log.i(Prefs.TAG, \"trying videokitLibPath: \" + videokitLibPath);\n                    if(file.exists())  {\n                        Log.i(Prefs.TAG, \"videokitLibPath exits: \" + videokitLibPath);\n                    }\n                    else {\n                        Log.e(Prefs.TAG, \"can't find path of lib\");\n                    }\n                }\n            }\n        }\n\n\n\n\n\n        //String videokitLibPath = ctx.getFilesDir().getParent()  + \"/lib/arm64/libvideokit.so\";\n\n        // only this works on Android M, and the number changes (demo-2, demo-1)\n        //String videokitLibPath = \"/data/app/com.examples.ffmpeg4android_demo-1/lib/arm64/libvideokit.so\";\n\n\n        Log.i(Prefs.TAG, \"videokitLibPath: \" + videokitLibPath);\n        return videokitLibPath;\n\n    }\n\n\n\n    public void fExit( Context ctx) {\n        fexit(getVideokitLibPath(ctx));\n    }\n\n    public native String fexit(String videokitLibPath);\n\n    public native String unload();\n\n    public native String load(String[] args, String videokitSdcardPath, String videokitLibPath, boolean isComplex);\n}\n</code></pre>\n\n<p>the file is found in the library</p>\n\n<p><a href=\"https://i.stack.imgur.com/X4On1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4On1.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 1691, "user_id": 2177410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2dfe5daa4030cdda49de92543894fd65?s=128&d=identicon&r=PG", "display_name": "Oleksandr Papchenko", "link": "https://stackoverflow.com/users/2177410/oleksandr-papchenko"}, "edited": false, "score": 0, "creation_date": 1547564437, "post_id": 54201439, "comment_id": 95229738, "body": "@ Lino you are right  - this is Kotlin : )"}, {"owner": {"reputation": 8660, "user_id": 5749570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d2d0247d580de0aae4511d84551f10?s=128&d=identicon&r=PG&f=1", "display_name": "VHS", "link": "https://stackoverflow.com/users/5749570/vhs"}, "edited": false, "score": 0, "creation_date": 1547565152, "post_id": 54201439, "comment_id": 95230187, "body": "Try to autowire <code>org.springframework.boot.ApplicationArguments</code> and then call its method <code>getSourceArgs</code>. See if this works."}, {"owner": {"reputation": 1691, "user_id": 2177410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2dfe5daa4030cdda49de92543894fd65?s=128&d=identicon&r=PG", "display_name": "Oleksandr Papchenko", "link": "https://stackoverflow.com/users/2177410/oleksandr-papchenko"}, "reply_to_user": {"reputation": 8660, "user_id": 5749570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d2d0247d580de0aae4511d84551f10?s=128&d=identicon&r=PG&f=1", "display_name": "VHS", "link": "https://stackoverflow.com/users/5749570/vhs"}, "edited": false, "score": 0, "creation_date": 1547565648, "post_id": 54201439, "comment_id": 95230473, "body": "@VHS  does not work - when <code>BeanFactoryPostProcessor</code> is running - there are no beans at all in context - only bean definition."}, {"owner": {"reputation": 2255, "user_id": 3861128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VxjOk.png?s=128&g=1", "display_name": "Abdelghani Roussi", "link": "https://stackoverflow.com/users/3861128/abdelghani-roussi"}, "edited": false, "score": 0, "creation_date": 1547567068, "post_id": 54201439, "comment_id": 95231339, "body": "why you need to get command line args in BeanFactoryPostProcessor ?"}, {"owner": {"reputation": 1691, "user_id": 2177410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2dfe5daa4030cdda49de92543894fd65?s=128&d=identicon&r=PG", "display_name": "Oleksandr Papchenko", "link": "https://stackoverflow.com/users/2177410/oleksandr-papchenko"}, "reply_to_user": {"reputation": 2255, "user_id": 3861128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VxjOk.png?s=128&g=1", "display_name": "Abdelghani Roussi", "link": "https://stackoverflow.com/users/3861128/abdelghani-roussi"}, "edited": false, "score": 0, "creation_date": 1547567281, "post_id": 54201439, "comment_id": 95231489, "body": "@Abdelghani Roussi, i would like to define dynamically beans based on command argument values. Why to i do this in <code>BeanFactoryPostProcessor</code> - is to be sure that bean definitions are there before actual bean instantiation- so i don&#39;t need <code>@DependsOn</code> annotation."}, {"owner": {"reputation": 8660, "user_id": 5749570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d2d0247d580de0aae4511d84551f10?s=128&d=identicon&r=PG&f=1", "display_name": "VHS", "link": "https://stackoverflow.com/users/5749570/vhs"}, "edited": false, "score": 1, "creation_date": 1547567991, "post_id": 54201439, "comment_id": 95231975, "body": "If there are discreet number of cases based on your command line args, you can try to use <a href=\"https://stackoverflow.com/a/39858222/5749570\">ConditionalOnProperty</a>."}, {"owner": {"reputation": 2255, "user_id": 3861128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VxjOk.png?s=128&g=1", "display_name": "Abdelghani Roussi", "link": "https://stackoverflow.com/users/3861128/abdelghani-roussi"}, "edited": false, "score": 1, "creation_date": 1547568268, "post_id": 54201439, "comment_id": 95232128, "body": "@OleksandrPapchenko in term of loading beans conditionally (like auto-configuration in spring boot), I would say that it&#39;s much cleaner to use the <code>@ConditionalXXX</code> annotations"}], "answers": [{"comments": [{"owner": {"reputation": 1691, "user_id": 2177410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2dfe5daa4030cdda49de92543894fd65?s=128&d=identicon&r=PG", "display_name": "Oleksandr Papchenko", "link": "https://stackoverflow.com/users/2177410/oleksandr-papchenko"}, "edited": false, "score": 1, "creation_date": 1547569472, "post_id": 54202746, "comment_id": 95232759, "body": "Thank you for the response, however, i would like to define a dynamic number of beans based on command line arguments."}], "tags": [], "owner": {"reputation": 2255, "user_id": 3861128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VxjOk.png?s=128&g=1", "display_name": "Abdelghani Roussi", "link": "https://stackoverflow.com/users/3861128/abdelghani-roussi"}, "is_accepted": false, "score": 1, "last_activity_date": 1547569195, "last_edit_date": 1547569195, "creation_date": 1547568864, "answer_id": 54202746, "question_id": 54201439, "link": "https://stackoverflow.com/questions/54201439/how-to-get-command-line-argument-inside-beanfactorypostprocessor/54202746#54202746", "title": "How to get command line argument inside BeanFactoryPostProcessor?", "body": "<p>From your comment :</p>\n\n<blockquote>\n  <p>I would like to define dynamically beans based on command argument\n  values. Why to i do this in BeanFactoryPostProcessor - is to be sure\n  that bean definitions are there before actual bean instantiation- so i\n  don't need @DependsOn annotation.</p>\n</blockquote>\n\n<p>In term of loading beans conditionally (like auto-configuration in spring boot), I would say that it's much cleaner to use the <strong>@ConditionalXXX</strong> annotations, most specifically the <strong>@ConditionalOnProperty</strong>.</p>\n\n<p>Referencing the Java-doc for <code>@ConditionalOnProperty</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html\" rel=\"nofollow noreferrer\">here</a> they said :</p>\n\n<blockquote>\n  <p>Conditional that checks if the specified properties have a specific\n  value. By default the properties must be present in the Environment\n  and not equal to false. The havingValue() and matchIfMissing()\n  attributes allow further customizations.</p>\n</blockquote>\n\n<p>So you can do something similar to :</p>\n\n<pre><code>@ConditionalOnProperty(prefix = \"my.env\", name = \"var\", havingValue = \"true\", matchIfMissing = false)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1691, "user_id": 2177410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2dfe5daa4030cdda49de92543894fd65?s=128&d=identicon&r=PG", "display_name": "Oleksandr Papchenko", "link": "https://stackoverflow.com/users/2177410/oleksandr-papchenko"}, "edited": false, "score": 0, "creation_date": 1547570359, "post_id": 54202920, "comment_id": 95233244, "body": "Wow, thank you, this actually works! This is amazing.  As i understand there is still no Environment bean defined on the context - at the time of <code>BeanFactoryPostProcessor</code> there are no beans at all - however, spring creates Environment really early in lifecycle ?"}, {"owner": {"reputation": 63741, "user_id": 339637, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/de36dc10cb82f3992d3d0ed0bc18199c?s=128&d=identicon&r=PG", "display_name": "Ken Chan", "link": "https://stackoverflow.com/users/339637/ken-chan"}, "reply_to_user": {"reputation": 1691, "user_id": 2177410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2dfe5daa4030cdda49de92543894fd65?s=128&d=identicon&r=PG", "display_name": "Oleksandr Papchenko", "link": "https://stackoverflow.com/users/2177410/oleksandr-papchenko"}, "edited": false, "score": 0, "creation_date": 1547570929, "post_id": 54202920, "comment_id": 95233528, "body": "Yeah, it creates <code>Environment</code> at the constructor when creating the context . My guess is that it will create  <code>Environment</code> first but later register this instance as a bean .So technically , the <code>Environment</code> set into <code>BeanFactoryPostProcessor</code> is still not a spring bean yet but it will eventually be a spring bean.. My guess..."}], "tags": [], "owner": {"reputation": 63741, "user_id": 339637, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/de36dc10cb82f3992d3d0ed0bc18199c?s=128&d=identicon&r=PG", "display_name": "Ken Chan", "link": "https://stackoverflow.com/users/339637/ken-chan"}, "is_accepted": true, "score": 3, "last_activity_date": 1547569490, "creation_date": 1547569490, "answer_id": 54202920, "question_id": 54201439, "link": "https://stackoverflow.com/questions/54201439/how-to-get-command-line-argument-inside-beanfactorypostprocessor/54202920#54202920", "title": "How to get command line argument inside BeanFactoryPostProcessor?", "body": "<p>Well , you can implement your <code>BeanFactoryPostProcessor</code> with <code>EnvironmentAware</code> to get the <code>Environment</code> :</p>\n\n<pre><code>@Component\npublic class FooBeanFactoryPostProcessor implements BeanFactoryPostProcessor , EnvironmentAware{\n\n    private Environment env;\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n\n            env.getProperty(\"nonOptionArgs\");\n            //I should be able to access env at here .Hehe\n\n    }\n\n    @Override\n    public void setEnvironment(Environment environment) {\n            this.env = environment;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1691, "user_id": 2177410, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2dfe5daa4030cdda49de92543894fd65?s=128&d=identicon&r=PG", "display_name": "Oleksandr Papchenko", "link": "https://stackoverflow.com/users/2177410/oleksandr-papchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 1, "accepted_answer_id": 54202920, "answer_count": 2, "score": 5, "last_activity_date": 1547569490, "creation_date": 1547564342, "last_edit_date": 1547564470, "question_id": 54201439, "link": "https://stackoverflow.com/questions/54201439/how-to-get-command-line-argument-inside-beanfactorypostprocessor", "title": "How to get command line argument inside BeanFactoryPostProcessor?", "body": "<p>I am using Spring boot for my application written on Kotlin. I am able to get command line arguments using <code>Environment.getProperty(\"nonOptionArgs\", Array&lt;String&gt;::class.java)</code></p>\n\n<p>However, inside <code>BeanFactoryPostProcessor</code> i cannot autowire environment - as this post-processor is running too early in the lifecycle. How I can access command line arguments inside <code>BeanFactoryPostProcessor</code>?</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547568124, "post_id": 54201216, "comment_id": 95232039, "body": "I did the exact same steps, twice. It works. The first gradle sync it does do raise a warning but that&#39;s it. It compiles and runs fine. Kotlin 1.3.11, Gradle 4.10.1.. You&#39;re issue is * StreamCorruptedException*."}, {"owner": {"reputation": 313, "user_id": 3248252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcedc1b9bf153cd3f2638b680462059?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben", "link": "https://stackoverflow.com/users/3248252/ruben"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547569217, "post_id": 54201216, "comment_id": 95232636, "body": "@shkschneider but what is corrupted then? When I use the same downloaded gradle wrapper (4.10.1) on android studio 3.2.1, it works."}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547569409, "post_id": 54201216, "comment_id": 95232723, "body": "What made you use Gradle 5.1? By default it sets up Gradle 4.10.1 when I create a new project."}, {"owner": {"reputation": 313, "user_id": 3248252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcedc1b9bf153cd3f2638b680462059?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben", "link": "https://stackoverflow.com/users/3248252/ruben"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547589325, "post_id": 54201216, "comment_id": 95241437, "body": "@shkschneider I have tried every possible gradle version. None work with AS 3.3. I meant that gradle 4.10.1 for example works with AS 3.2.1 but doesn&#39;t work with AS 3.3. I mentioned gradle 5.1 because that gives an additional error message. gradle 5.1 does seem to work on a java only project or kotlin only project in AS 3.3."}, {"owner": {"reputation": 634, "user_id": 4974603, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/F9Mwx.jpg?s=128&g=1", "display_name": "Android", "link": "https://stackoverflow.com/users/4974603/android"}, "edited": false, "score": 0, "creation_date": 1556797212, "post_id": 54201216, "comment_id": 98555227, "body": "I have the same issue in Android Studio 3.4 (kotlin 1.3.31 gradle 3.4.0 wrapper 5.1.1  )"}, {"owner": {"reputation": 271, "user_id": 6894502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Mezcm.png?s=128&g=1", "display_name": "Maxgmer", "link": "https://stackoverflow.com/users/6894502/maxgmer"}, "edited": false, "score": 0, "creation_date": 1556877336, "post_id": 54201216, "comment_id": 98585596, "body": "same issue android studio 3.4"}, {"owner": {"reputation": 531, "user_id": 7416494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuDKk.jpg?s=128&g=1", "display_name": "user681574", "link": "https://stackoverflow.com/users/7416494/user681574"}, "edited": false, "score": 3, "creation_date": 1557152827, "post_id": 54201216, "comment_id": 98659838, "body": "I was getting the same error in Android Studio 3.4 after creating my first project, but by the time I finished Googling, found this, looked into a fix on a couple other sites, and looked back to my project, it had fixed itself...  Might just need to finish downloading updates at this point."}, {"owner": {"reputation": 3509, "user_id": 2641848, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/LDF8m.jpg?s=128&g=1", "display_name": "Faisal Naseer", "link": "https://stackoverflow.com/users/2641848/faisal-naseer"}, "edited": false, "score": 0, "creation_date": 1557830105, "post_id": 54201216, "comment_id": 98888098, "body": "rebuild after its build once ..."}, {"owner": {"reputation": 514, "user_id": 923253, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e669c6ac7427f644bca05bcacbae2d43?s=128&d=identicon&r=PG", "display_name": "kgrevehagen", "link": "https://stackoverflow.com/users/923253/kgrevehagen"}, "edited": false, "score": 0, "creation_date": 1558043589, "post_id": 54201216, "comment_id": 98980590, "body": "I experienced exactly the same as user681574; It fixed itself."}, {"owner": {"reputation": 313, "user_id": 3248252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcedc1b9bf153cd3f2638b680462059?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben", "link": "https://stackoverflow.com/users/3248252/ruben"}, "edited": false, "score": 0, "creation_date": 1562073980, "post_id": 54201216, "comment_id": 100257117, "body": "update: I am now able to build successfully using Android Studio 3.4.1 with the corresponding android gradle plugin (3.4.1) and Gradle 5.1.1."}], "answers": [{"comments": [{"owner": {"reputation": 3756, "user_id": 3649629, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b30bab95c553c20d1bb044164dcf0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Gleichmut", "link": "https://stackoverflow.com/users/3649629/gleichmut"}, "edited": false, "score": 3, "creation_date": 1558686076, "post_id": 56192181, "comment_id": 99189750, "body": "Just for information. In my case this property was true by default and issue appears"}, {"owner": {"reputation": 1600, "user_id": 2153273, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/agdoU.jpg?s=128&g=1", "display_name": "lbenedetto", "link": "https://stackoverflow.com/users/2153273/lbenedetto"}, "reply_to_user": {"reputation": 3756, "user_id": 3649629, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b30bab95c553c20d1bb044164dcf0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Gleichmut", "link": "https://stackoverflow.com/users/3649629/gleichmut"}, "edited": false, "score": 0, "creation_date": 1558960674, "post_id": 56192181, "comment_id": 99260070, "body": "If you have a working project to reference, I recommend making a backup of your broken project and then replacing parts of it with the working project until the issue occurs. That&#39;s what I did. Narrowed it down to the .idea directory, then a specific file, then a specific property."}], "tags": [], "owner": {"reputation": 1600, "user_id": 2153273, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/agdoU.jpg?s=128&g=1", "display_name": "lbenedetto", "link": "https://stackoverflow.com/users/2153273/lbenedetto"}, "is_accepted": false, "score": 26, "last_activity_date": 1563190068, "last_edit_date": 1563190068, "creation_date": 1558119736, "answer_id": 56192181, "question_id": 54201216, "link": "https://stackoverflow.com/questions/54201216/android-studio-3-3-new-gradle-sync-is-not-supported-due-to-containing-kotlin-mo/56192181#56192181", "title": "Android Studio 3.3: New Gradle Sync is not supported due to containing Kotlin modules (invalid type code: 68)", "body": "<p>Change Preferences > Experimental > Only sync the active variant (uncheck this).</p>\n\n<p>Alternatively, to edit the corresponding setting manually in your project files: Try setting not.eligible.for.single.variant.sync to true in .idea/workspace.xml</p>\n\n<p>You can either edit the XML directly as shown below or use the Settings UI of IntelliJ: </p>\n\n<pre><code>  &lt;component name=\"PropertiesComponent\"&gt;\n    &lt;property name=\"not.eligible.for.single.variant.sync\" value=\"true\" /&gt;\n  &lt;/component&gt;\n</code></pre>\n\n<p>This is because single variant sync is not supported in Kotlin</p>\n\n<blockquote>\n  <p>Note: This optimization fully supports projects that include Java and\n  C++ languages, and has some support for Kotlin. When enabling the\n  optimization for projects with Kotlin content, Gradle sync falls back\n  to using full variants internally.</p>\n</blockquote>\n\n<p><a href=\"https://developer.android.com/studio/build/optimize-your-build#single_variant_sync\" rel=\"noreferrer\">https://developer.android.com/studio/build/optimize-your-build#single_variant_sync</a></p>\n\n<p>As to why Gradle is failing to fall back to full variant sync automatically, or why Android Studio isn't automatically setting this flag for you, I have no idea.</p>\n"}], "owner": {"reputation": 313, "user_id": 3248252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcedc1b9bf153cd3f2638b680462059?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben", "link": "https://stackoverflow.com/users/3248252/ruben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16783, "favorite_count": 7, "protected_date": 1564416906, "answer_count": 1, "score": 17, "last_activity_date": 1563190068, "creation_date": 1547563629, "question_id": 54201216, "link": "https://stackoverflow.com/questions/54201216/android-studio-3-3-new-gradle-sync-is-not-supported-due-to-containing-kotlin-mo", "title": "Android Studio 3.3: New Gradle Sync is not supported due to containing Kotlin modules (invalid type code: 68)", "body": "<p>in a java-kotlin hybrid using Android Studio 3.3 and above, I get an <em>invalid type code: 68</em> error message. When using gradle 5.1 and above I get an additional message saying \"<em>New Gradle Sync is not supported due to containing Kotlin modules</em>\"</p>\n\n<p>How to reproduce in android studio 3.3:</p>\n\n<p>1) create a new android project in java with a blank activity</p>\n\n<p>2) create a kotlin class file</p>\n\n<p>3) click on the configure kotlin button to add the kotlin plugins and library to the project</p>\n\n<p>4) sync gradle</p>\n\n<p>My projects used to run fine on the previous Android Studio stable release (3.2.1)</p>\n\n<p>full stack trace:</p>\n\n<pre><code>org.gradle.tooling.GradleConnectionException: Could not run build action using Gradle distribution 'https://services.gradle.org/distributions/gradle-5.1.1-all.zip'.\n    at org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:55)\n    at org.gradle.tooling.internal.consumer.ExceptionTransformer.transform(ExceptionTransformer.java:29)\n    at org.gradle.tooling.internal.consumer.ResultHandlerAdapter.onFailure(ResultHandlerAdapter.java:41)\n    at org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:57)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\n    at org.gradle.tooling.internal.consumer.BlockingResultHandler.getResult(BlockingResultHandler.java:46)\n    at org.gradle.tooling.internal.consumer.DefaultBuildActionExecuter.run(DefaultBuildActionExecuter.java:65)\n    at com.android.tools.idea.gradle.project.sync.ng.SyncExecutor.doFetchModels(SyncExecutor.java:255)\n    at com.android.tools.idea.gradle.project.sync.ng.SyncExecutor.executeFullSync(SyncExecutor.java:239)\n    at com.android.tools.idea.gradle.project.sync.ng.SyncExecutor.syncProject(SyncExecutor.java:197)\n    at com.android.tools.idea.gradle.project.sync.ng.SyncExecutor.lambda$syncProject$1(SyncExecutor.java:134)\n    at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:209)\n    at com.android.tools.idea.gradle.project.sync.ng.SyncExecutor.syncProject(SyncExecutor.java:139)\n    at com.android.tools.idea.gradle.project.sync.ng.NewGradleSync.sync(NewGradleSync.java:185)\n    at com.android.tools.idea.gradle.project.sync.ng.NewGradleSync.access$000(NewGradleSync.java:59)\n    at com.android.tools.idea.gradle.project.sync.ng.NewGradleSync$2.run(NewGradleSync.java:151)\n    at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:736)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)\n    at com.intellij.openapi.progress.impl.CoreProgressManager$4.run(CoreProgressManager.java:395)\n    at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:314)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.UncheckedIOException: java.io.StreamCorruptedException: invalid type code: 68\n    at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:61)\n    at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:41)\n    at org.gradle.tooling.internal.provider.serialization.PayloadSerializer.deserialize(PayloadSerializer.java:76)\n    at org.gradle.tooling.internal.provider.ProviderConnection.throwFailure(ProviderConnection.java:205)\n    at org.gradle.tooling.internal.provider.ProviderConnection.run(ProviderConnection.java:193)\n    at org.gradle.tooling.internal.provider.ProviderConnection.runClientAction(ProviderConnection.java:153)\n    at org.gradle.tooling.internal.provider.ProviderConnection.run(ProviderConnection.java:143)\n    at org.gradle.tooling.internal.provider.DefaultConnection.run(DefaultConnection.java:222)\n    at org.gradle.tooling.internal.consumer.connection.ParametrizedActionRunner.execute(ParametrizedActionRunner.java:36)\n    at org.gradle.tooling.internal.consumer.connection.CancellableActionRunner.run(CancellableActionRunner.java:51)\n    at org.gradle.tooling.internal.consumer.connection.AbstractConsumerConnection.run(AbstractConsumerConnection.java:63)\n    at org.gradle.tooling.internal.consumer.connection.ParameterValidatingConsumerConnection.run(ParameterValidatingConsumerConnection.java:54)\n    at org.gradle.tooling.internal.consumer.DefaultBuildActionExecuter$1.run(DefaultBuildActionExecuter.java:76)\n    at org.gradle.tooling.internal.consumer.connection.LazyConsumerActionExecutor.run(LazyConsumerActionExecutor.java:84)\n    at org.gradle.tooling.internal.consumer.connection.CancellableConsumerActionExecutor.run(CancellableConsumerActionExecutor.java:45)\n    at org.gradle.tooling.internal.consumer.connection.ProgressLoggingConsumerActionExecutor.run(ProgressLoggingConsumerActionExecutor.java:58)\n    at org.gradle.tooling.internal.consumer.connection.RethrowingErrorsConsumerActionExecutor.run(RethrowingErrorsConsumerActionExecutor.java:38)\n    at org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:55)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    ... 1 more\nCaused by: java.io.StreamCorruptedException: invalid type code: 68\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1563)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2231)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2155)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2013)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1919)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1529)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2231)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2155)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2013)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2231)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2155)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2013)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2231)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2155)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2013)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\n    at org.gradle.tooling.internal.provider.serialization.PayloadSerializer.deserialize(PayloadSerializer.java:74)\n    ... 21 more\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "owner": {"reputation": 33, "user_id": 6912485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ae1GT.png?s=128&g=1", "display_name": "Rajiv", "link": "https://stackoverflow.com/users/6912485/rajiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1547562985, "creation_date": 1547562985, "question_id": 54201023, "link": "https://stackoverflow.com/questions/54201023/related-symbol-shortcut-control-command-up-arrow-not-working-for-kotlin-activi", "title": "Related Symbol Shortcut (Control-Command-Up Arrow) not working for Kotlin Activity class", "body": "<p><strong>What I am trying to achieve:</strong> I want to use the <strong><em>Related Symbol Shortcut</em></strong> in a Kotlin based android activity class to navigate into its layout file.</p>\n\n<p><strong>What is the issue:</strong> While using the shortcut <strong><em>(Control-Command-Up Arrow)</em></strong> it shows me the tooltip error. </p>\n\n<blockquote>\n  <p>\u201cNo related symbol\u201d\n  <a href=\"https://i.stack.imgur.com/XHESk.png\" rel=\"nofollow noreferrer\">No related symbol tooltip error</a>\n  <a href=\"https://i.stack.imgur.com/xGRiP.png\" rel=\"nofollow noreferrer\">Layout xml is linked correctly to kotlin file</a></p>\n</blockquote>\n\n<p>,  Whereas I am able to navigate from the layout file to the activity with no issue.</p>\n\n<p><strong>What I have tried:</strong> </p>\n\n<ul>\n<li><p>I have already checked for the <code>tools:context</code> attribute in the layout.xml it is correct. And Its also navigating me to the appropriate class using the same shortcut <strong><em>(Control-Command-Up Arrow)</em></strong>.<a href=\"https://i.stack.imgur.com/udSJN.png\" rel=\"nofollow noreferrer\">Here is the proof of it</a></p></li>\n<li><p>Just for the sake of solving this issue, I have created a sample java\nbased activity and tried to achieve the same thing in it.\n<strong>Surprisingly here everything is working fine.</strong></p></li>\n</ul>\n"}, {"tags": ["kotlin", "enums", "type-mismatch", "generic-variance"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1547563884, "last_edit_date": 1547563884, "creation_date": 1547563582, "answer_id": 54201202, "question_id": 54200855, "link": "https://stackoverflow.com/questions/54200855/kotlin-returning-arraye-from-function-with-return-type-arrayi-if-e-is-enum/54201202#54201202", "title": "Kotlin: Returning Array&lt;E&gt; from function with return type Array&lt;I&gt; if E is enum class that implements interface I", "body": "<p>In Kotlin, unlike Java, <code>Array&lt;T&gt;</code> is invariant on <code>T</code>, so, for <code>E</code> that is a subtype of <code>I</code>, <code>Array&lt;E&gt;</code> and <code>Array&lt;I&gt;</code> are not subtypes of each other. See: <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"noreferrer\">Variance</a>.</p>\n\n<p>Given that the <code>Array&lt;T&gt;</code> types also store the item type and cannot be subject to fully <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#unchecked-casts\" rel=\"noreferrer\">unchecked casts</a>, your best way to solve this is to create a separate array.</p>\n\n<p>You can do that by either creating an array manually and filling it with the items, like in your example (or by using the constructor <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/-init-.html\" rel=\"noreferrer\"><code>Array(n) { ... }</code></a>), or use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-typed-array.html\" rel=\"noreferrer\"><code>.toTypedArray()</code></a> applied to the list representation of the array (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/as-list.html\" rel=\"noreferrer\"><code>.asList()</code></a>):</p>\n\n<pre><code>fun getMoreInterfaces(): Array&lt;I&gt; {\n    return E.values().asList().toTypedArray()\n}\n</code></pre>\n\n<p><sup><a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjExIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IlNhbXBsZUlucHV0MSBTYW1wbGVJbnB1dDIiLCJqc0NvZGUiOiIiLCJub25lTWFya2VycyI6dHJ1ZSwidGhlbWUiOiJpZGVhIiwiZm9sZGVkQnV0dG9uIjp0cnVlLCJyZWFkT25seSI6ZmFsc2UsImNvZGUiOiJpbnRlcmZhY2UgSVxuXG5lbnVtIGNsYXNzIEUgOiBJIHtcbiAgICBBLCBCLCBDO1xufVxuXG5mdW4gZ2V0TW9yZUludGVyZmFjZXMoKTogQXJyYXk8ST4ge1xuICAgIHJldHVybiBFLnZhbHVlcygpLmFzTGlzdCgpLnRvVHlwZWRBcnJheSgpXG59XG5cbmZ1biBtYWluKCkge1xuICAgIHByaW50bG4oZ2V0TW9yZUludGVyZmFjZXMoKS5qb2luVG9TdHJpbmcoKSlcbn0iLCJ0byI6IiIsImZyb20iOiIifQ==\" rel=\"noreferrer\">(runnable sample)</a></sup></p>\n\n<p>But basically, you can just go with a <code>List&lt;I&gt;</code> if you are not in performance-critical code, which is more idiomatic for Kotlin than working with arrays, and also simpler.</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin\">Difference between List and Array types in Kotlin</a></p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1562940506, "creation_date": 1562940506, "answer_id": 57008682, "question_id": 54200855, "link": "https://stackoverflow.com/questions/54200855/kotlin-returning-arraye-from-function-with-return-type-arrayi-if-e-is-enum/57008682#57008682", "title": "Kotlin: Returning Array&lt;E&gt; from function with return type Array&lt;I&gt; if E is enum class that implements interface I", "body": "<p><code>Array</code> is an invariant generic type in Kotlin, so if you need to return an instance of <code>Array&lt;I&gt;</code>, you can't return <code>Array&lt;E&gt;</code> instead, even if <code>E</code> is a subtype of <code>I</code>.</p>\n\n<p>But in case if you are only <em>consuming</em> values from the returned array, you can declare its type as <code>Array&lt;out I&gt;</code>. This type is a covariant projection of type <code>Array&lt;I&gt;</code> and it allows you to return both <code>Array&lt;I&gt;</code> and <code>Array&lt;E&gt;</code>.</p>\n\n<pre><code>interface I {}\nenum class E: I {\n    A, B, C\n}\nfun getMoreInterfaces(): Array&lt;out I&gt; {\n    return E.values()\n}\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 7101333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/px3ni.jpg?s=128&g=1", "display_name": "William Stanley", "link": "https://stackoverflow.com/users/7101333/william-stanley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3874, "favorite_count": 1, "accepted_answer_id": 54201202, "answer_count": 2, "score": 3, "last_activity_date": 1562940506, "creation_date": 1547562441, "last_edit_date": 1562940501, "question_id": 54200855, "link": "https://stackoverflow.com/questions/54200855/kotlin-returning-arraye-from-function-with-return-type-arrayi-if-e-is-enum", "title": "Kotlin: Returning Array&lt;E&gt; from function with return type Array&lt;I&gt; if E is enum class that implements interface I", "body": "<p>Recently I ran into a problem where I had a function which had to return an Array of <code>I</code>s, in form of all values of enum <code>E</code>, with <code>E</code> implementing interface <code>I</code>, with every code that came to my mind compiler complained about type mismatch:</p>\n\n<pre><code>Error:(x, x) Kotlin: Type mismatch: inferred type is Array&lt;E&gt; but Array&lt;I&gt; was expected\n</code></pre>\n\n<p>A minimal example:</p>\n\n<pre><code>    interface I {}\n    enum class E: I {\n        A, B, C;\n    }\n    fun getMoreInterfaces(): Array&lt;I&gt; {\n        return E.values()\n    }\n</code></pre>\n\n<p>This happens when trying to assign <code>E.values()</code> to variable of type <code>Array&lt;I&gt;</code>\nI am positive that this should be possible since <code>E</code> implements <code>I</code>.</p>\n\n<p>Another thing that I came up while testing is that it works just fine when used like this:</p>\n\n<pre><code>    interface I {}\n    enum class E: I {\n        A, B, C;\n    }\n    fun getMoreInterfaces(): Array&lt;I&gt; {\n        return arrayOf(E.A, E.B, E.C)\n    }\n</code></pre>\n\n<p>I did a lot of searching on this topic but with no luck (perhaps I chose the wrong way to describe it?)</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1547563182, "post_id": 54200968, "comment_id": 95228882, "body": "But you&#39;re adding a parameter to the constructor. But I don&#39;t want a constructor. I want to just set a value like this: var mediaType = MediaType.AUDIO"}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1547563382, "post_id": 54200968, "comment_id": 95229034, "body": "@AndroidDev - See my update. You can do this with an extension function as well, which would leave your enum as-is and externalize the mapping of enum to String."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1547563591, "post_id": 54200968, "comment_id": 95229155, "body": "OK, I like your solution and will give you the selected solution although I just tried out my solution and actually like it better."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1547563630, "post_id": 54200968, "comment_id": 95229181, "body": "@AndroidDev why would the constructor be an issue? This is the most efficient (and arguably elegant) way of doing it, not just in Kotlin. You said you aren&#39;t sure how the &quot;function references the value it is set to&quot;; with this solution you don&#39;t <i>need</i> that because it is a property of the enum itself."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1547563681, "post_id": 54200968, "comment_id": 95229220, "body": "Why would you add a constructor when you don&#39;t need it? See my solution above. It uses no constructor."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 1, "creation_date": 1547563889, "post_id": 54200968, "comment_id": 95229351, "body": "@AndroidDev Enums are objects and can have any internal state. Not having a constructor is not an indicator of better code; this is generally an accepted practice (see the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">planet</a> enum sample). Additionally manually switching on an enum when you have access to its internal state is prone to mistakes as it is very possible to leave out a constant, etc."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 1, "creation_date": 1547564264, "post_id": 54200968, "comment_id": 95229630, "body": "Also, enums already have a constructor, the JVM uses it to create singleton instances of each value. Even with adding a value to expose as a property, the JVM is calling the constructor - not you. You aren&#39;t adding a constructor that isn&#39;t already there by adding a property to it. I feel that the first solution I put is the most idiomatic (won&#39;t confuse other Kotlin developers)."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 6, "last_activity_date": 1547563296, "last_edit_date": 1547563296, "creation_date": 1547562767, "answer_id": 54200968, "question_id": 54200840, "link": "https://stackoverflow.com/questions/54200840/convert-enum-member-to-corresponding-text/54200968#54200968", "title": "Convert enum member to corresponding text", "body": "<p>You can add a property to the enum...</p>\n\n<pre><code>enum class MediaType(val text: String) {\n    AUDIO(\"mp3\"),\n    VIDEO(\"mpeg\"),\n    ARTICLE(\"text\");\n}\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>println(MediaType.AUDIO.text)\n</code></pre>\n\n<p>If you'd like a <code>toText()</code> function rather than a property, that can be added as well, but probably isn't as idiomatic:</p>\n\n<pre><code>enum class MediaType(private val text: String) {\n    AUDIO(\"mp3\"),\n    VIDEO(\"mpeg\"),\n    ARTICLE(\"text\");\n\n    fun toText(): String = text\n}\n</code></pre>\n\n<p>Update:</p>\n\n<p>Another way is to add an extension function and keep this logic outside the enum entirely:</p>\n\n<pre><code>fun MediaType.toText(): String = \n    when(this) {\n       MediaType.AUDIO -&gt; \"mp3\"\n       MediaType.VIDEO -&gt; \"mpeg\"\n       MediaType.ARTICLE -&gt; \"text\"\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "is_accepted": false, "score": 1, "last_activity_date": 1547563535, "creation_date": 1547563535, "answer_id": 54201187, "question_id": 54200840, "link": "https://stackoverflow.com/questions/54200840/convert-enum-member-to-corresponding-text/54201187#54201187", "title": "Convert enum member to corresponding text", "body": "<pre><code>enum class MediaType() {\n    AUDIO,\n    VIDEO,\n    ARTICLE;\n\n    fun getMemberText() = when (this) {\n        AUDIO -&gt; \"mp3\"\n        VIDEO -&gt; \"mpeg\"\n        else -&gt; \"text\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 54200968, "answer_count": 2, "score": 1, "last_activity_date": 1547563535, "creation_date": 1547562383, "question_id": 54200840, "link": "https://stackoverflow.com/questions/54200840/convert-enum-member-to-corresponding-text", "title": "Convert enum member to corresponding text", "body": "<p>In Kotlin I have an enum as follows:</p>\n\n<pre><code>enum class MediaType() {\n    AUDIO,\n    VIDEO,\n    ARTICLE;\n}\n</code></pre>\n\n<p>I would like to add either a function or some property that allows an enum member to be converted to some corresponding text. For example:</p>\n\n<pre><code>var mediaType = MediaType.AUDIO\nvar text = mediaType.toText() // returns the string \"MP3\"\n\nmediaType = MediaType.VIDEO\ntext = mediaType.toText() // returns the string \"mpeg\"\n</code></pre>\n\n<p>While I can add the toText function to the MediaType class, I am not sure how that function references the value it is set to.</p>\n"}, {"tags": ["spring-boot", "kotlin", "proguard", "kotlin-reflect"], "comments": [{"owner": {"reputation": 1166, "user_id": 211195, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/47ffd6538b8c1694db320e07af4397ff?s=128&d=identicon&r=PG", "display_name": "rosencreuz", "link": "https://stackoverflow.com/users/211195/rosencreuz"}, "edited": false, "score": 0, "creation_date": 1553621595, "post_id": 54200716, "comment_id": 97450122, "body": "I started using Gson which doesn&#39;t use Kotlin reflection library. But switching to Gson is very inconvenient as it has very different behavior."}], "owner": {"reputation": 1166, "user_id": 211195, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/47ffd6538b8c1694db320e07af4397ff?s=128&d=identicon&r=PG", "display_name": "rosencreuz", "link": "https://stackoverflow.com/users/211195/rosencreuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 829, "favorite_count": 0, "answer_count": 0, "score": 8, "last_activity_date": 1547561893, "creation_date": 1547561893, "question_id": 54200716, "link": "https://stackoverflow.com/questions/54200716/kotlin-reflect-with-proguard-causes-reflection-errors", "title": "kotlin-reflect with proguard causes reflection errors", "body": "<p>I'm using ProGuard for my spring boot application code. After I upgraded to Spring Boot 2, I cannot start my application anymore.</p>\n\n<p>Spring Boot 2 uses kotlin-reflect to create beans, which uses <code>kotlin.Metadata</code> annotation during reflection. This annotation has unobfuscated values and therefore kotlin-reflect is looking for methods with original names. and following exception is thrown:</p>\n\n<p><code>kotlin.reflect.jvm.internal.KotlinReflectionInternalError: Could not compute caller for function: public constructor ProjectService(...\n</code></p>\n\n<p><code>ProjectService</code> is obfuscated to <code>F</code>, hence no such constructor.</p>\n\n<p>When I keep class names, I have same problem elsewhere:</p>\n\n<p><code>kotlin.reflect.jvm.internal.KotlinReflectionInternalError: Could not compute caller for function: public open fun addRole(...\n</code></p>\n\n<p>Is there a way to fix the obfuscation of <code>kotlin.Metadata</code> annotation parameters? Annotation itself is not obfuscated and it still refers to original class names which are written as string values. I also tried to obfuscate the Metadata annotation to no avail.</p>\n"}, {"tags": ["android", "kotlin", "exoplayer"], "comments": [{"owner": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "edited": false, "score": 0, "creation_date": 1547555781, "post_id": 54198917, "comment_id": 95224625, "body": "are you using android:sharedUserId=&quot;android.uid.system&quot; in your manifest.?"}, {"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "reply_to_user": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "edited": false, "score": 0, "creation_date": 1547555871, "post_id": 54198917, "comment_id": 95224670, "body": "@Nitesh No I don&#39;t have that in my manifest."}, {"owner": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "edited": false, "score": 1, "creation_date": 1547556949, "post_id": 54198917, "comment_id": 95225215, "body": "may you please share your manifest."}, {"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "reply_to_user": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "edited": false, "score": 0, "creation_date": 1547557730, "post_id": 54198917, "comment_id": 95225614, "body": "@Nitesh I&#39;ve added it"}, {"owner": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "edited": false, "score": 0, "creation_date": 1547558126, "post_id": 54198917, "comment_id": 95225822, "body": "have you registered your receiver anywhere.?"}, {"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "reply_to_user": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "edited": false, "score": 0, "creation_date": 1547558285, "post_id": 54198917, "comment_id": 95225894, "body": "@Nitesh No, where should I?"}], "owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547558196, "creation_date": 1547555408, "last_edit_date": 1547557710, "question_id": 54198917, "link": "https://stackoverflow.com/questions/54198917/stop-service-with-notification-controls-stop-button", "title": "Stop service with notification controls&#39; stop button?", "body": "<p>When I press the stop button, a Throwable exception is thrown.\nThis is the stacktrace:</p>\n\n<pre><code>ActivityManager: Sending non-protected broadcast com.google.android.exoplayer.stop from system 4132:com.android.systemui/u0a5\n    java.lang.Throwable\n        at com.android.server.am.ActivityManagerService.broadcastIntentLocked(ActivityManagerService.java:21257)\n        at com.android.server.am.ActivityManagerService.broadcastIntentInPackage(ActivityManagerService.java:21890)\n        at com.android.server.am.PendingIntentRecord.sendInner(PendingIntentRecord.java:357)\n        at com.android.server.am.ActivityManagerService.startActivityIntentSender(ActivityManagerService.java:5900)\n        at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:298)\n        at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:3538)\n        at android.os.Binder.execTransact(Binder.java:573)\n</code></pre>\n\n<p>This is the <strong>AndroidManifest.xml</strong>:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"com.example.example\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n    &lt;application\n        android:name=\".QApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".article.ArticleActivity\" android:theme=\"@style/AppTheme.NoActionBar.Light\"/&gt;\n\n        &lt;service\n            android:name=\".player.PlaybackService\"&gt;\n        &lt;/service&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Does it have something to do with broadcastIntentLocked?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 0, "creation_date": 1547721861, "post_id": 54233035, "comment_id": 95293064, "body": "Whole project is built on <code>kotlin-android-extensions</code>, I don&#39;t won&#39;t to import a library for couple of screens. But I agree, that data binding, or butterknife, or something else will work in my case."}, {"owner": {"reputation": 731, "user_id": 8550140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWQXq.png?s=128&g=1", "display_name": "Khaled Qasem", "link": "https://stackoverflow.com/users/8550140/khaled-qasem"}, "reply_to_user": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 0, "creation_date": 1547721994, "post_id": 54233035, "comment_id": 95293138, "body": "It&#39;s not a library just enable databinding  in android section in your gradle     dataBinding {         enabled = true     }"}], "tags": [], "owner": {"reputation": 731, "user_id": 8550140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWQXq.png?s=128&g=1", "display_name": "Khaled Qasem", "link": "https://stackoverflow.com/users/8550140/khaled-qasem"}, "is_accepted": false, "score": 0, "last_activity_date": 1547718314, "creation_date": 1547718314, "answer_id": 54233035, "question_id": 54198596, "link": "https://stackoverflow.com/questions/54198596/accessing-synthetic-fields/54233035#54233035", "title": "Accessing synthetic fields", "body": "<p>You can use data binding instead of synthetic view field, enable data binding in your project and then you can access views without synthetic view field or find viewbyid</p>\n\n<p>here is a reference for <a href=\"https://developer.android.com/topic/libraries/data-binding/\" rel=\"nofollow noreferrer\">data binding</a></p>\n"}], "owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547718314, "creation_date": 1547554311, "question_id": 54198596, "link": "https://stackoverflow.com/questions/54198596/accessing-synthetic-fields", "title": "Accessing synthetic fields", "body": "<p>Is there a way to access a synthetic view field if it is shadowed?</p>\n\n<p>I have a fragment A and B, which inherit from C. They have some similar UI code. So in C I defined a <code>abstract val</code> view fields, which values must be provided from A and B. But these fields shadow <code>kotlin synthetic</code> fields and  I cannot do something like this </p>\n\n<pre><code>override val input: EditText\n    get() = synthetic.input\n</code></pre>\n\n<p>Is there a way to do what I want without field renaming?</p>\n"}, {"tags": ["kotlin", "websocket", "okhttp3"], "comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1551041072, "post_id": 54198324, "comment_id": 96484220, "body": "I would check for an Idle connection timeout or something in the network that kills the connection after some time or inactivity? WebSocket normally should send idle connection frames to keep a connection open and alive."}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1560, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1561895233, "creation_date": 1547553251, "last_edit_date": 1550502468, "question_id": 54198324, "link": "https://stackoverflow.com/questions/54198324/okhttp3-websocket-java-io-eofexception-null-okio-realbufferedsource-requir", "title": "okhttp3: websocket - java.io.EOFException: null - okio.RealBufferedSource.require(RealBufferedSource.java:61)", "body": "<p>In my <strong>build.gradle</strong>:</p>\n\n<pre><code>    \"com.squareup.okhttp3:okhttp:3.13.1\",\n    'com.squareup.okhttp3:logging-interceptor:3.13.1',\n</code></pre>\n\n<p>Kotlin project open connect to websocket:</p>\n\n<pre><code>const val WEB_SOCKET_URL = \"wss://api.lbkex.com/ws/V2/\";\n\nfun main(args: Array&lt;String&gt;) {\n\n    val \u043ekHttpClient = OkHttpClient()\n\n    val wsListener = object : WebSocketListener() {\n        override fun onOpen(ws: WebSocket, response: Response) {\n            super.onOpen(ws, response)\n             val requestJson = \"\"\"{\"action\": \"subscribe\", \"subscribe\": \"tick\", \"pair\": \"vtho_eth\"}\"\"\"\n             ws.send(requestJson)\n        }\n\n        override fun onClosing(webSocket: WebSocket, code: Int, reason: String) {\n            super.onClosing(webSocket, code, reason)\n            logger.info(\"ws Closing, reason = \" + reason)\n        }\n\n        override fun onClosed(webSocket: WebSocket, code: Int, reason: String) {\n            super.onClosed(webSocket, code, reason)\n            logger.info(\"ws Closed\")\n        }\n\n        override fun onFailure(webSocket: WebSocket, t: Throwable, response: Response?) {\n            super.onFailure(webSocket, t, response)\n            logger.error(\"ws Failure \", t)\n        }\n\n        override fun onMessage(webSocket: WebSocket, text: String) {\n            super.onMessage(webSocket, text)\n            logger.info(\"ws Text message: $text\")\n        }\n\n        override fun onMessage(webSocket: WebSocket, bytes: ByteString) {\n            super.onMessage(webSocket, bytes)\n\n        }\n    }\n\n    logger.info(\"Started\")\n   val wsRequest = Request.Builder()\n                   .url(WEB_SOCKET_URL)\n                   .build()\n     val ws = \u043ekHttpClient.newWebSocket(wsRequest, wsListener)\n}\n</code></pre>\n\n<p>As result I success open webscocket to <code>wss://api.lbkex.com/ws/V2/</code>. </p>\n\n<p>As result method <code>onMessage</code> is call many times. Nice.</p>\n\n<p>But after 15 minutes call method <code>onFailure</code> with error:</p>\n\n<pre><code>13:40:16.687 [OkHttp https://api.lbkex.com/...] ERROR MAIN_LOGGER - ws Failure\njava.io.EOFException: null\n        at okio.RealBufferedSource.require(RealBufferedSource.java:61)\n        at okio.RealBufferedSource.readByte(RealBufferedSource.java:74)\n        at okhttp3.internal.ws.WebSocketReader.readHeader(WebSocketReader.java:117)\n        at okhttp3.internal.ws.WebSocketReader.processNextFrame(WebSocketReader.java:101)\n        at okhttp3.internal.ws.RealWebSocket.loopReader(RealWebSocket.java:274)\n        at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:214)\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:206)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"}, {"tags": ["java", "android", "email", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1547554588, "post_id": 54198217, "comment_id": 95223969, "body": "That&#39;t now how you use <code>CATEGORY_APP_EMAIL</code>. See <a href=\"https://developer.android.com/reference/android/content/Intent.html#CATEGORY_APP_EMAIL\" rel=\"nofollow noreferrer\">the documentation</a>. You are supposed to use that with <a href=\"https://developer.android.com/reference/android/content/Intent.html#makeMainSelectorActivity(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>makeMainSelectorActivity()</code></a>. On a recent project, we tried to do what you are seeking (go to the inbox of the user&#39;s email app), and we abandoned the effort as being fundamentally unreliable."}], "answers": [{"tags": [], "owner": {"reputation": 48, "user_id": 7595208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636b0286d04768481fb29c06adb4104a?s=128&d=identicon&r=PG", "display_name": "Benjamin Kusicky", "link": "https://stackoverflow.com/users/7595208/benjamin-kusicky"}, "is_accepted": false, "score": -2, "last_activity_date": 1547553943, "creation_date": 1547553943, "answer_id": 54198478, "question_id": 54198217, "link": "https://stackoverflow.com/questions/54198217/how-to-open-default-email-client-in-android-without-sending-a-message/54198478#54198478", "title": "How to open default email client in Android, without sending a message?", "body": "<p>You can do the following:</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_APP_EMAIL);\ngetActivity().startActivity(intent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": false, "score": 0, "last_activity_date": 1547570075, "creation_date": 1547570075, "answer_id": 54203103, "question_id": 54198217, "link": "https://stackoverflow.com/questions/54198217/how-to-open-default-email-client-in-android-without-sending-a-message/54203103#54203103", "title": "How to open default email client in Android, without sending a message?", "body": "<p>I would use a combinaison a little things.</p>\n\n<ol>\n<li><p>Detect the responding packages for a given Intent:</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_SENDTO);\nintent.setType(\"text/plain\");\nList&lt;ResolveInfo&gt; resolveInfos = getPackageManager().queryIntentActivities(intent, 0);\nboolean canResolve = resolveInfos.size() &gt; 0; \n</code></pre></li>\n</ol>\n\n<p>This will list the available packages to respond to such Intent. Using <code>queryIntentActivities()</code> allows me to retrieve <code>ResolveInfo</code> which exposes more information about the app.</p>\n\n<ol start=\"2\">\n<li><p>Select the first one and open it using its packageName:</p>\n\n<pre><code>if (resolveInfos.size() &gt; 0) {\n    startActivity(getPackageManager().getLaunchIntentForPackage(resolveInfos.get(0).resolvePackageName))\n}\n</code></pre></li>\n</ol>\n\n<p>You also won't have the <code>ActivityNotFoundException</code> because we check before hand that something will respond to our <code>Intent</code>. Feel free to handle the failing case in a <code>else</code>.</p>\n"}], "owner": {"reputation": 534, "user_id": 5930112, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ef7b27ca78c693a7c9427dec76778be7?s=128&d=identicon&r=PG&f=1", "display_name": "ikurek", "link": "https://stackoverflow.com/users/5930112/ikurek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 625, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547570075, "creation_date": 1547552862, "question_id": 54198217, "link": "https://stackoverflow.com/questions/54198217/how-to-open-default-email-client-in-android-without-sending-a-message", "title": "How to open default email client in Android, without sending a message?", "body": "<p>I'm looking for a way to open default email application on Android, but without using it to send a message. I know I can do this using <code>mailto://</code> or intent params, but this automatically opens new message screen. What I want to to archieve, is just opening the app itself.</p>\n\n<p>So far, I have tried</p>\n\n<pre><code>override fun startEmailApplication() {\n    val intent = Intent(Intent.ACTION_MAIN)\n    intent.addCategory(Intent.CATEGORY_APP_EMAIL)\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n    startActivity(intent)\n}\n</code></pre>\n\n<p>But every time I get</p>\n\n<p><code>android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW cat=[android.intent.category.APP_EMAIL] flg=0x10000000 }</code></p>\n\n<p>Altrough an email app (AquaMail, Outlook) is installed.</p>\n"}, {"tags": ["android", "kotlin", "junit4", "android-testing", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 927817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e1da40d12ddd51ef56f632f0fb49c7?s=128&d=identicon&r=PG", "display_name": "arsenikt", "link": "https://stackoverflow.com/users/927817/arsenikt"}, "is_accepted": false, "score": 1, "last_activity_date": 1589900303, "last_edit_date": 1589900303, "creation_date": 1589895112, "answer_id": 61892349, "question_id": 54197197, "link": "https://stackoverflow.com/questions/54197197/using-kotlin-coroutines-in-android-instrumentation-test-with-proguard/61892349#61892349", "title": "Using Kotlin coroutines in Android Instrumentation test with ProGuard", "body": "<p>You must use special helper library for this:</p>\n\n<p><a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/\" rel=\"nofollow noreferrer\">https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/</a></p>\n\n<p>Add to dependencies:</p>\n\n<pre><code>dependencies {\n  implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.5'\n  implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.5'\n  testImplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-test:1.3.5'\n  androidTestImplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-test:1.3.5'\n}\n</code></pre>\n\n<p>Version 1.3.5 looks more stable than 1.3.6.</p>\n\n<p>Or would be use version <strong>1.3.7</strong>, it very fresh and released today.\n<a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/kotlinx-coroutines-test/README.md\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/kotlinx-coroutines-test/README.md</a></p>\n\n<p>Also check that you are using correct test runner (it just if your project migrate to AndroidX):</p>\n\n<pre><code>testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n</code></pre>\n"}], "owner": {"reputation": 3354, "user_id": 4261613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d8f052f9d8434d59270feefcf6cc65d5?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4261613/mikhail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1589900303, "creation_date": 1547548752, "last_edit_date": 1547563601, "question_id": 54197197, "link": "https://stackoverflow.com/questions/54197197/using-kotlin-coroutines-in-android-instrumentation-test-with-proguard", "title": "Using Kotlin coroutines in Android Instrumentation test with ProGuard", "body": "<p>I want to use Kotlin coroutines in my instrumentation tests for Android app. I do not use them in the app itself yet.\nI also run ProGuard for the app.</p>\n\n<p>I am trying to use them like this:</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass TheTest {\n\n    @Rule\n    @JvmField\n    val activityTestRule = ActivityTestRule(MyActivity::class.java)\n\n    @Test\n    fun test() {\n        runBlocking {}\n    }\n}\n</code></pre>\n\n<p>However, when launching this test it fails with the following error:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: Lkotlin/coroutines/jvm/internal/SuspendLambda;\nat java.lang.reflect.Constructor.newInstance0(Native Method)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:334)\nat org.junit.runners.BlockJUnit4ClassRunner.createTest(Unknown Source:11)\nat org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(Unknown Source:2)\nat org.junit.internal.runners.model.ReflectiveCallable.run(Unknown Source:0)\nat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(Unknown Source:5)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(Unknown Source:14)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(Unknown Source:2)\nat org.junit.runners.ParentRunner$3.run(Unknown Source:6)\nat org.junit.runners.ParentRunner$1.schedule(Unknown Source:0)\nat org.junit.runners.ParentRunner.runChildren(Unknown Source:25)\nat org.junit.runners.ParentRunner.access$000(Unknown Source:0)\nat org.junit.runners.ParentRunner$2.evaluate(Unknown Source:4)\nat org.junit.runners.ParentRunner.run(Unknown Source:13)\nat org.junit.runners.Suite.runChild(Unknown Source:0)\nat org.junit.runners.Suite.runChild(Unknown Source:2)\nat org.junit.runners.ParentRunner$3.run(Unknown Source:6)\nat org.junit.runners.ParentRunner$1.schedule(Unknown Source:0)\nat org.junit.runners.ParentRunner.runChildren(Unknown Source:25)\nat org.junit.runners.ParentRunner.access$000(Unknown Source:0)\nat org.junit.runners.ParentRunner$2.evaluate(Unknown Source:4)\nat org.junit.runners.ParentRunner.run(Unknown Source:13)\nat org.junit.runner.JUnitCore.run(Unknown Source:25)\nat org.junit.runner.JUnitCore.run(Unknown Source:4)\nat android.support.test.internal.runner.TestExecutor.execute(Unknown Source:24)\nat android.support.test.runner.AndroidJUnitRunner.onStart(Unknown Source:46)\nat android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:2075)\nCaused by: java.lang.ClassNotFoundException: Didn't find class \"kotlin.coroutines.jvm.internal.SuspendLambda\" on path: DexPathList[[zip file \"/system/framework/android.test.runner.jar\", zip file \"/system/framework/android.test.mock.jar\", zip file \"/data/app/com.myapp.test-d-f4s4j7q8wpEZJZvy9h4A==/base.apk\", zip file \"/data/app/com.myapp.dev-7Gs6UezsUbiSCx7s3jZ6LQ==/base.apk\"],nativeLibraryDirectories=[/data/app/com.myapp.dev.test-d-f4s4j7q8wpEZJZvy9h4A==/lib/x86, /data/app/com.myapp.dev-7Gs6UezsUbiSCx7s3jZ6LQ==/lib/x86, /system/lib, /vendor/lib]]\nat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:125)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n... 27 more\n</code></pre>\n\n<p>I tried using <code>testProguardFile</code> with the following content:</p>\n\n<pre><code>-ignorewarnings\n-dontobfuscate\n-dontoptimize\n-dontshrink\n-dontusemixedcaseclassnames\n</code></pre>\n\n<p>But it does not seem to help.</p>\n"}, {"tags": ["kotlin", "infix-notation"], "comments": [{"owner": {"reputation": 6798, "user_id": 4174897, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gS0gI.jpg?s=128&g=1", "display_name": "Kyll", "link": "https://stackoverflow.com/users/4174897/kyll"}, "edited": false, "score": 2, "creation_date": 1547548400, "post_id": 54197040, "comment_id": 95220848, "body": "It&#39;s a bit broad for Stack Overflow to ask how this code could be improved (on what front? Readability, memory, CPU cycles, size, ..?). You might want to check our sister site <a href=\"https://codereview.stackexchange.com/\">CodeReview SE</a>, make sure to check their rules first to tailor your question to their site."}, {"owner": {"reputation": 1128, "user_id": 6071721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5bb70397db1fa69f5b94bdac774a36d?s=128&d=identicon&r=PG&f=1", "display_name": "Gremi64", "link": "https://stackoverflow.com/users/6071721/gremi64"}, "reply_to_user": {"reputation": 6798, "user_id": 4174897, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gS0gI.jpg?s=128&g=1", "display_name": "Kyll", "link": "https://stackoverflow.com/users/4174897/kyll"}, "edited": false, "score": 0, "creation_date": 1547548864, "post_id": 54197040, "comment_id": 95221104, "body": "@PaulStenne : I&#39;ll check this site, didn&#39;t knew it exists (shame on me !)"}, {"owner": {"reputation": 6798, "user_id": 4174897, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gS0gI.jpg?s=128&g=1", "display_name": "Kyll", "link": "https://stackoverflow.com/users/4174897/kyll"}, "edited": false, "score": 1, "creation_date": 1547552657, "post_id": 54197040, "comment_id": 95223017, "body": "It&#39;s fine, I&#39;m happy you&#39;ll get to discover it =D"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1547549545, "last_edit_date": 1547549545, "creation_date": 1547548857, "answer_id": 54197228, "question_id": 54197040, "link": "https://stackoverflow.com/questions/54197040/improve-infix-isnullorempty/54197228#54197228", "title": "Improve infix isNullOrEmpty", "body": "<p>It can be simplified like this:</p>\n\n<pre><code>infix fun String?.orIfNullOrEmpty(other: String?) = \n    takeUnless { it.isNullOrBlank() } ?: other\n</code></pre>\n\n<p>You take <code>this</code> (<code>takeUnless { }</code> can directly be invoked on <code>this</code> in this case, because extension) if it is not null or blank and <code>other</code> otherwise.</p>\n\n<p>Note that Kotlin already has extensions for <code>isNullOrBlank</code> and similar.</p>\n"}], "owner": {"reputation": 1128, "user_id": 6071721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5bb70397db1fa69f5b94bdac774a36d?s=128&d=identicon&r=PG&f=1", "display_name": "Gremi64", "link": "https://stackoverflow.com/users/6071721/gremi64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54197228, "answer_count": 1, "score": 0, "last_activity_date": 1547549545, "creation_date": 1547548241, "question_id": 54197040, "link": "https://stackoverflow.com/questions/54197040/improve-infix-isnullorempty", "title": "Improve infix isNullOrEmpty", "body": "<p>I'm trying to improve some code by using infix :</p>\n\n<p>Working code (but kinda ugly...) :</p>\n\n<pre><code>fun test (possibleEmptyString: String?, anotherPossibleEmptyString : String?): String {\n    var test: String? = possibleEmptyString\n\n    // If null or empty\n    if(test!=null &amp;&amp; !\"\".equals(test)) {\n        test = anotherPossibleEmptyString\n    }\n\n    // If null or empty\n    if(test!=null &amp;&amp; !\"\".equals(test)) {\n        test = \"a known string\"\n    }\n\n    return test!!\n}\n</code></pre>\n\n<p>I want to improve readability like this :</p>\n\n<pre><code>fun test (possibleEmptyString: String?, anotherPossibleEmptyString : String?): String {\n    return (possibleEmptyString orIfNullOrEmpty anotherPossibleEmptyString orIfNullOrEmpty \"a known string\")!!\n}\n\ninfix fun String?.orIfNullOrEmpty(other: String?): String? {\n    if (this != null &amp;&amp; !\"\".equals(this)) {\n        return this\n    }\n\n    return other\n}\n</code></pre>\n\n<p>It works but i think it can be improve</p>\n"}, {"tags": ["android", "kotlin", "bluetooth", "bluetooth-lowenergy"], "answers": [{"comments": [{"owner": {"reputation": 3158, "user_id": 4519150, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3m3e8.jpg?s=128&g=1", "display_name": "Tufan", "link": "https://stackoverflow.com/users/4519150/tufan"}, "edited": false, "score": 1, "creation_date": 1548053250, "post_id": 54277605, "comment_id": 95390626, "body": "So Is there any solution, I see this issue on some other Samsung phone as well, sometimes disabling the app optimization works, sometimes switching off the wifi while taking reading It works"}], "tags": [], "owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "is_accepted": false, "score": 3, "last_activity_date": 1547995703, "creation_date": 1547995703, "answer_id": 54277605, "question_id": 54196549, "link": "https://stackoverflow.com/questions/54196549/ble-onconnectionstatechange-status-8-on-samsung-phones/54277605#54277605", "title": "BLE : onConnectionStateChange Status 8 on Samsung phones", "body": "<p>This issue has nothing to do with Android OS itself or your software. The error code 8 means Connection Timeout according to the Bluetooth specification. It means the Bluetooth hardware in the phone lost connection to the device. There are mainly three reasons: bad antenna / radio reception, clock drift between the two devices so they lose synchronization, too many scheduling conflicts (if you have multiple connections).</p>\n\n<p>Is you experience that your Note 8 has significantly worse performance than other phones, send an issue report to Samsung.</p>\n"}], "owner": {"reputation": 3158, "user_id": 4519150, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3m3e8.jpg?s=128&g=1", "display_name": "Tufan", "link": "https://stackoverflow.com/users/4519150/tufan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2085, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1547995703, "creation_date": 1547546446, "last_edit_date": 1547547018, "question_id": 54196549, "link": "https://stackoverflow.com/questions/54196549/ble-onconnectionstatechange-status-8-on-samsung-phones", "title": "BLE : onConnectionStateChange Status 8 on Samsung phones", "body": "<p>I am developing a heart rate monitoring app where I am reading data from BLE device, for all other phones there is no issue but for Samsung mobile like Note 8, which uses Bluetooth version 5.0 It is auto disconnect after some time and I am getting status 8</p>\n\n<p><strong>Code :</strong></p>\n\n<p><strong>For connect</strong> </p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n      mGattClient = device.connectGatt(this, false, mGattCallbacks, TRANSPORT_LE)\n    } else {\n      mGattClient = device.connectGatt(this, false, mGattCallbacks)\n    }\n</code></pre>\n\n<p>// <strong>Connection state change</strong></p>\n\n<pre><code>override fun onConnectionStateChange(gatt: BluetoothGatt, status: Int, newState: Int) {\n      when (newState) {\n        BluetoothProfile.STATE_CONNECTED -&gt; {\n//           this sleep is here to avoid TONS of problems in BLE, that occur whenever we start\n//           service discovery immediately after the connection is established\n           mGattClient?.discoverServices()\n        }\n        BluetoothProfile.STATE_DISCONNECTED -&gt; {\n          Log.d(TAG,\"Disconnected status\"+ status)\n        }\n      }\n    }\n\n    // New services discovered\n    override fun onServicesDiscovered(gatt: BluetoothGatt, status: Int) {\n      when (status) {\n        BluetoothGatt.GATT_SUCCESS -&gt; mListener?.deviceConnected(MESSAGE_CONNECTED, status)\n        else -&gt; Log.w(\"BLE\", \"onServicesDiscovered received: $status\")\n      }\n    }\n</code></pre>\n\n<p>I have posted this on google issue tracker</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/122856771\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/122856771</a></p>\n"}, {"tags": ["android", "kotlin", "resources"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1547545457, "post_id": 54196203, "comment_id": 95219272, "body": "What you&#39;re seeing is the return value of <code>String[].toString()</code>. The function observes its <code>vararg</code> arguments as a single argument, which is an array."}], "answers": [{"comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547546080, "post_id": 54196427, "comment_id": 95219612, "body": "Indeed. See this answer for reference on official documentation regarding this asterisk: <a href=\"https://stackoverflow.com/questions/39389003/kotlin-asterisk-operator-before-variable-name-or-spread-operator-in-kotlin\" title=\"kotlin asterisk operator before variable name or spread operator in kotlin\">stackoverflow.com/questions/39389003/&hellip;</a>"}, {"owner": {"reputation": 1587, "user_id": 2139586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/WlU2h.jpg?s=128&g=1", "display_name": "jack_the_beast", "link": "https://stackoverflow.com/users/2139586/jack-the-beast"}, "edited": false, "score": 0, "creation_date": 1547546950, "post_id": 54196427, "comment_id": 95220081, "body": "thanks, I didn&#39;t understood the asterisk was needed in this case."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 9, "last_activity_date": 1547546444, "last_edit_date": 1547546444, "creation_date": 1547546001, "answer_id": 54196427, "question_id": 54196203, "link": "https://stackoverflow.com/questions/54196203/android-and-kotlin-varargs-formatted-strings-returns-garbage/54196427#54196427", "title": "Android and Kotlin varargs: formatted strings returns garbage", "body": "<p>The solution for you is to use the <strong>spread operator</strong> <code>*</code>:</p>\n\n<pre><code>fun string(@StringRes stringRes: Int, vararg args: String): String = getString(stringRes, *args)\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"noreferrer\">Variable number of arguments (Varargs)</a></p>\n"}], "owner": {"reputation": 1587, "user_id": 2139586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/WlU2h.jpg?s=128&g=1", "display_name": "jack_the_beast", "link": "https://stackoverflow.com/users/2139586/jack-the-beast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 0, "accepted_answer_id": 54196427, "answer_count": 1, "score": 5, "last_activity_date": 1547546444, "creation_date": 1547545214, "question_id": 54196203, "link": "https://stackoverflow.com/questions/54196203/android-and-kotlin-varargs-formatted-strings-returns-garbage", "title": "Android and Kotlin varargs: formatted strings returns garbage", "body": "<p>I'm encountering a strange problem: I've a general function which is used to retrieve resource strings (it's just to avoid writing context.resources.getString() everytime):</p>\n\n<pre><code>protected fun string(@StringRes stringRes: Int, vararg args: String): String = app.getString(stringRes, args) \n</code></pre>\n\n<p>worked fine up until now, when I added the varargs to retrieve formatted strings. Simple strings still work fine but when I tried to retrieve a formatted one:</p>\n\n<pre><code>string(R.string.formatted_string, myId)\n</code></pre>\n\n<p>my string resource:</p>\n\n<pre><code>&lt;string name=\"formatted_string\"&gt;#%s&lt;/string&gt;\n</code></pre>\n\n<p>I get some garbage:</p>\n\n<pre><code>#[Ljava.lang.String;@3a59711\n</code></pre>\n\n<p>expected:</p>\n\n<pre><code>#4848684\n</code></pre>\n\n<p>the garbage change with the resource I request</p>\n\n<p>It looks a Object identifier.</p>\n\n<p>If I don't use the method it works fine</p>\n\n<p>What is happening here?</p>\n"}, {"tags": ["kotlin", "timestamp"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547545473, "post_id": 54195359, "comment_id": 95219280, "body": "don&#39;t mistake formatting i.e. string representation with object representation... the format only has value if you parse a value from a string or if you decide to output it, e.g. to a log.... a <code>Timestamp</code> or a <code>LocalDateTime</code> has all the precision you require... it has years, months, days, hours, minutes, seconds, nanoseconds... (or at least you can get it from those objects)"}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547545650, "post_id": 54195359, "comment_id": 95219371, "body": "I need LocalDateTime in format  yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS to insert in database."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547545892, "post_id": 54195359, "comment_id": 95219507, "body": "... you don&#39;t have to think about the format in the target database, except that column type would be a <code>VARCHAR</code> or similar... you setup a <code>Timestamp</code> and ~give it to your database handling object... (depending what you use: JDBC or JPA)..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547545976, "post_id": 54195359, "comment_id": 95219561, "body": "what do you use to add data to your database?"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1547545255, "post_id": 54195902, "comment_id": 95219158, "body": "I already answered that in the other question... it&#39;s still <code>Timestamp.valueOf(LocalDateTime.now())</code>... you may also want to consider Ole V. V.s comment regarding the automatic conversion..."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 2, "last_activity_date": 1547544943, "last_edit_date": 1547544943, "creation_date": 1547544214, "answer_id": 54195902, "question_id": 54195359, "link": "https://stackoverflow.com/questions/54195359/localdatetime-in-format-yyyy-mm-ddthhmmss-ssssss/54195902#54195902", "title": "LocalDateTime in format yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS?", "body": "<p>You can format it with the same formatter you used to parse it (e.g. the one you used in <a href=\"https://stackoverflow.com/q/54183696/6202869\">Why incorrect convert from string to date?</a> ).</p>\n\n<p>Again I recommend using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> (you are even using <code>LocalDateTime</code>, so that will be fine ;-)):</p>\n\n<pre><code>val TS_DATE_PATTERN = \"yyyy-MM-dd'T'HH:mm:ss.SSSSSS\"\nval formatter = DateTimeFormatter.ofPattern(TS_DATE_PATTERN)\n\n// formatting:\ntsDate.format(formatter)\n// or:\nformatter.format(tsDate)\n// or if you rather prefer it:\ntsDate.let(formatter::format)\n</code></pre>\n\n<p>All 3 variants return a formatted <code>String</code> in the form: <code>yyyy-MM-dd'T'HH:mm:ss.SSSSSS</code> (e.g. <code>2019-01-14T22:44:20.765123</code>), where <code>tsDate</code> would be got via:</p>\n\n<pre><code>// parsing:\nval tsDate = LocalDateTime.from(formatter.parse(\"2019-01-14T22:44:20.765123\"))\n</code></pre>\n\n<p>Note that if you use an object in while printing/logging or just referencing it in a <code>String</code> it will use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\"><code>toString()</code></a> to get a <code>String</code> representation, in this case from <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html#toString()\" rel=\"nofollow noreferrer\"><code>LocalDateTime.toString()</code></a>. That's probably fine most of the time for debugging/logging purposes, but might not be ok for anything else. So you shouldn't rely on <code>toString()</code>.</p>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1968, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547545477, "creation_date": 1547541948, "last_edit_date": 1547545477, "question_id": 54195359, "link": "https://stackoverflow.com/questions/54195359/localdatetime-in-format-yyyy-mm-ddthhmmss-ssssss", "title": "LocalDateTime in format yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS?", "body": "<p>In my Kotlin code I generate current date like this:</p>\n\n<pre><code>val dtTimeStamp = LocalDateTime.now()\nlogger.info(\"dtTimeStamp = \" + dtTimeStamp)\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>dtTimeStamp = 2019-01-15T10:43:06.777\n</code></pre>\n\n<p>But I need LocalDateTime in format <strong>yyyy-MM-dd'T'HH:mm:ss.SSSSSS</strong></p>\n\n<p>So the result must like this (e.g.):</p>\n\n<pre><code>2019-01-15T10:43:06.170268\n</code></pre>\n\n<p>How I can do this?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 2, "last_activity_date": 1547541771, "last_edit_date": 1547541771, "creation_date": 1547541361, "answer_id": 54195211, "question_id": 54195123, "link": "https://stackoverflow.com/questions/54195123/higher-order-function-as-enum-paramter/54195211#54195211", "title": "Higher Order Function as Enum paramter", "body": "<p>Yes it's possible, but you need to move functions <code>method0</code> and <code>method1</code> out of the <code>Enum</code> class:</p>\n\n<pre><code>enum class Enum(val someValue: Int, val someMethod: () -&gt; Unit)\n{\n    FIRST_VALUE(0, ::method0), // pass reference to the function\n    SECOND_VALUE(1, { method1() }); // pass lambda and call `method1()` function in it\n}\n\nfun method0() {\n\n}\n\nfun method1() {\n\n}\n</code></pre>\n\n<p>You can pass reference to a function as a lambda argument as demonstrated in <code>FIRST_VALUE</code> example, or lambda and call a function in it - demonstrated in <code>SECOND_VALUE</code> example.</p>\n"}, {"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1547544291, "post_id": 54195422, "comment_id": 95218626, "body": "@Sergey Just had to add <code>Enum::method0</code>. Thanks for the heads up."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 4, "last_activity_date": 1547544132, "last_edit_date": 1547544132, "creation_date": 1547542210, "answer_id": 54195422, "question_id": 54195123, "link": "https://stackoverflow.com/questions/54195123/higher-order-function-as-enum-paramter/54195422#54195422", "title": "Higher Order Function as Enum paramter", "body": "<p>The type of the methods inside <code>Enum</code> is <code>Enum.() -&gt; Unit</code>, not <code>() -&gt; Unit</code>. It will work if you change the parameter type.</p>\n\n<p>Note that you can also use a method reference with <code>Enum::method0</code>, instead of creating a new lambda. It's a bit more readable.</p>\n\n<pre><code>enum class Enum(val someValue: Int, val someMethod: Enum.() -&gt; Unit) {\n    FIRST_VALUE(0, Enum::method0), // Using a method reference\n    SECOND_VALUE(1, {method1()})\n\n    fun method0() {\n\n    }\n\n    fun method1() {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3221, "user_id": 2039740, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/060704e1ab08ff2965fc9e1fce19fbeb?s=128&d=identicon&r=PG", "display_name": "unlimited101", "link": "https://stackoverflow.com/users/2039740/unlimited101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 54195422, "answer_count": 2, "score": 3, "last_activity_date": 1547544132, "creation_date": 1547540986, "question_id": 54195123, "link": "https://stackoverflow.com/questions/54195123/higher-order-function-as-enum-paramter", "title": "Higher Order Function as Enum paramter", "body": "<p>I want to use a higher order function as enum parameter. But this doesn't work. I have the following declaration:</p>\n\n<pre><code>enum class Enum(val someValue: Int, val someMethod: () -&gt; Unit)\n{\n    FIRST_VALUE(0, {method0()}),\n    SECOND_VALUE(1, {method1()})\n\n    fun method0() {\n\n    }\n\n    fun method1() {\n\n    }\n}\n</code></pre>\n\n<p>But <code>method0()</code> and <code>method1()</code> cannot be found. Error is <code>Unresolved reference: method0</code>. </p>\n\n<p>Is it somehow possible to realize this with an enum?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "build.gradle", "android-studio-3.3"], "comments": [{"owner": {"reputation": 645, "user_id": 5649898, "user_type": "registered", "profile_image": "https://graph.facebook.com/986007284788847/picture?type=large", "display_name": "Chandrakant Dvivedi", "link": "https://stackoverflow.com/users/5649898/chandrakant-dvivedi"}, "edited": false, "score": 0, "creation_date": 1547538166, "post_id": 54194460, "comment_id": 95216000, "body": "Post your gradle.properties file."}, {"owner": {"reputation": 645, "user_id": 5649898, "user_type": "registered", "profile_image": "https://graph.facebook.com/986007284788847/picture?type=large", "display_name": "Chandrakant Dvivedi", "link": "https://stackoverflow.com/users/5649898/chandrakant-dvivedi"}, "edited": false, "score": 2, "creation_date": 1547538712, "post_id": 54194460, "comment_id": 95216216, "body": "Remove android.enableAapt2=false from gradle.properties"}, {"owner": {"reputation": 197, "user_id": 8627426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c3fe11e3550e716fc312a4c6424a861?s=128&d=identicon&r=PG&f=1", "display_name": "Matin Gdz", "link": "https://stackoverflow.com/users/8627426/matin-gdz"}, "edited": false, "score": 1, "creation_date": 1547540226, "post_id": 54194460, "comment_id": 95216811, "body": "Someone has asked this question before: <a href=\"https://stackoverflow.com/questions/46988102/errorcom-android-tools-aapt2-aapt2exception-aapt2-error-check-logs-for-detail\" title=\"errorcom android tools aapt2 aapt2exception aapt2 error check logs for detail\">stackoverflow.com/questions/46988102/&hellip;</a>"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1549357528, "post_id": 54194460, "comment_id": 95863121, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46988102/errorcom-android-tools-aapt2-aapt2exception-aapt2-error-check-logs-for-detail\">Error:com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": true, "score": 18, "last_activity_date": 1547544976, "creation_date": 1547544976, "answer_id": 54196122, "question_id": 54194460, "link": "https://stackoverflow.com/questions/54194460/how-to-fix-aapt2-warning-the-following-project-options-are-deprecated-and-have/54196122#54196122", "title": "How to fix AAPT2 warning [The following project options are deprecated and have been removed: android.enableAapt2] in Android Studio 3.3", "body": "<p>Seems like AAPT2 is enabled by default with Gradle 3+.</p>\n\n<p>Make sure to update to Gradle 3.3.0. Then do a clean.</p>\n\n<p>The warning just tells you to remove <code>android.enableAapt2=false</code> from gradle.properties.</p>\n"}], "owner": {"reputation": 171, "user_id": 8949173, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mdtwWbopC1U/AAAAAAAAAAI/AAAAAAAAFyg/iTB51j6Ckrg/photo.jpg?sz=128", "display_name": "sirinan jirinsa", "link": "https://stackoverflow.com/users/8949173/sirinan-jirinsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14127, "favorite_count": 3, "accepted_answer_id": 54196122, "answer_count": 1, "score": 9, "last_activity_date": 1547544976, "creation_date": 1547537777, "last_edit_date": 1547539753, "question_id": 54194460, "link": "https://stackoverflow.com/questions/54194460/how-to-fix-aapt2-warning-the-following-project-options-are-deprecated-and-have", "title": "How to fix AAPT2 warning [The following project options are deprecated and have been removed: android.enableAapt2] in Android Studio 3.3", "body": "<p>When I build my <strong>App</strong>. I got <strong>Warning</strong>, after update <strong>Android Studio version</strong> to <strong>3.3</strong> and update gadler plugin etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vQg1N.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vQg1N.png\" alt=\"enter image description here\"></a></p>\n\n<p>this is my <strong>build.gradle(Module:App)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.jirin.kollinapp\"\n    minSdkVersion 19\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n}\n</code></pre>\n\n<p><strong>gradle.properties</strong></p>\n\n<pre><code>org.gradle.jvmargs=-Xmx1536m\nandroid.enableAapt2=false\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1547540503, "post_id": 54194385, "comment_id": 95216922, "body": "Can you show your <code>buildSrc&#47;build.gradle.kts</code> file"}, {"owner": {"reputation": 5329, "user_id": 1873390, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/GqX64.jpg?s=128&g=1", "display_name": "Jose M Lechon", "link": "https://stackoverflow.com/users/1873390/jose-m-lechon"}, "reply_to_user": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1547541233, "post_id": 54194385, "comment_id": 95217225, "body": "I&#39;ve just added it"}, {"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1547542056, "post_id": 54194385, "comment_id": 95217572, "body": "Only thing I can spot is that you&#39;re missing &quot;import org.gradle.kotlin.dsl.<code>kotlin-dsl</code>&quot; at top of that file"}, {"owner": {"reputation": 5329, "user_id": 1873390, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/GqX64.jpg?s=128&g=1", "display_name": "Jose M Lechon", "link": "https://stackoverflow.com/users/1873390/jose-m-lechon"}, "reply_to_user": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1547542626, "post_id": 54194385, "comment_id": 95217810, "body": "I&#39;ve added it and it says &#39;packages cannot be imported&#39; Indeed, I&#39;ve been able to add kotlin class to build.gradle file without it."}], "answers": [{"tags": [], "owner": {"reputation": 5329, "user_id": 1873390, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/GqX64.jpg?s=128&g=1", "display_name": "Jose M Lechon", "link": "https://stackoverflow.com/users/1873390/jose-m-lechon"}, "is_accepted": false, "score": 0, "last_activity_date": 1547622347, "creation_date": 1547622347, "answer_id": 54211919, "question_id": 54194385, "link": "https://stackoverflow.com/questions/54194385/dependencies-in-kotlin-not-working-on-groovy-files/54211919#54211919", "title": "Dependencies in kotlin not working on groovy files", "body": "<p>I've found the issue. Android Studio 3.3.0 has a problem with Gradle files dealing with Kotlin. I have to install again AS 3.2.1 </p>\n"}], "owner": {"reputation": 5329, "user_id": 1873390, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/GqX64.jpg?s=128&g=1", "display_name": "Jose M Lechon", "link": "https://stackoverflow.com/users/1873390/jose-m-lechon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1547622347, "creation_date": 1547537454, "last_edit_date": 1547541206, "question_id": 54194385, "link": "https://stackoverflow.com/questions/54194385/dependencies-in-kotlin-not-working-on-groovy-files", "title": "Dependencies in kotlin not working on groovy files", "body": "<p>I've tried to add <strong>buildSrc</strong> to my Android project for creating kotlin class for having all versions and dependencies. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Kxctl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kxctl.png\" alt=\"Kotlin Versions file\"></a></p>\n\n<p>It does works on Android Studio 3.2.1  but it does not work on android 3.3. </p>\n\n<p>configuration AS 3.2.1:</p>\n\n<ul>\n<li>kotlin 1.3.11</li>\n<li>gradle 5.1 &amp; 3.2.1</li>\n</ul>\n\n<p>(w\u00a1orks)</p>\n\n<p>configuration AS 3.3</p>\n\n<ul>\n<li>kotlin 1.3.11</li>\n<li>gradle 5.1 &amp; 3.2.1</li>\n</ul>\n\n<p>(not working) only works if I migrate build.gradle file to build.gradle.kts</p>\n\n<p>any suggestions? </p>\n\n<p>Edited:</p>\n\n<p><a href=\"https://i.stack.imgur.com/I4F7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I4F7H.png\" alt=\"build.gradle.kts\"></a></p>\n"}, {"tags": ["android", "kotlin", "exoplayer"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "edited": false, "score": 0, "creation_date": 1547546851, "post_id": 54195803, "comment_id": 95220025, "body": "I already a PlayerNotificationManager implementation. It doesn&#39;t help with that I think because whatever the notification is calling I can&#39;t access (in other words I don&#39;t know what it&#39;s calling)."}, {"owner": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "reply_to_user": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "edited": false, "score": 1, "creation_date": 1547547398, "post_id": 54195803, "comment_id": 95220314, "body": "@Jax Well,for that i might have to take a good look at it,will post it if i find something useful."}], "tags": [], "owner": {"reputation": 1244, "user_id": 9715339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3gpf.jpg?s=128&g=1", "display_name": "Mayur Gajra", "link": "https://stackoverflow.com/users/9715339/mayur-gajra"}, "is_accepted": false, "score": 1, "last_activity_date": 1547543834, "creation_date": 1547543834, "answer_id": 54195803, "question_id": 54194329, "link": "https://stackoverflow.com/questions/54194329/make-exoplayer-seek-to-last-point-in-time-whenever-play-is-pressed-from-the-noti/54195803#54195803", "title": "Make ExoPlayer seek to last point in time whenever play is pressed from the notification?", "body": "<p>I think <code>PlayerNotificationManager</code> class might help you,Once attached the manager will keep it sync with player so it might help in your case.</p>\n\n<p>You can have a look at this blog it might help:\n<a href=\"https://medium.com/google-exoplayer/playback-notifications-with-exoplayer-a2f1a18cf93b\" rel=\"nofollow noreferrer\">https://medium.com/google-exoplayer/playback-notifications-with-exoplayer-a2f1a18cf93b</a></p>\n"}], "owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547543834, "creation_date": 1547537127, "question_id": 54194329, "link": "https://stackoverflow.com/questions/54194329/make-exoplayer-seek-to-last-point-in-time-whenever-play-is-pressed-from-the-noti", "title": "Make ExoPlayer seek to last point in time whenever play is pressed from the notification?", "body": "<p>The application streams audio from a server using ExoPlayer, I have an issue of streaming clients falling behind when they pause and play again. I need for the stream to be caught up every time playing is resumed. All this from the notification controls.</p>\n\n<p>I've got it working inside the app with <code>seekTo(0)</code> but apparently the notification control calls are different. </p>\n\n<pre><code>fun play() {\n        player?.playWhenReady = true\n        player?.seekTo(0)\n}\n\nfun pause() {\n        player?.playWhenReady = false\n}\n</code></pre>\n\n<p>Is there anywhere to access whatever the notification controls are calling and maybe modify them?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 501, "user_id": 8040930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ee804d7e18bf155d987aad7e9f33ee2?s=128&d=identicon&r=PG&f=1", "display_name": "sourabh kaushik", "link": "https://stackoverflow.com/users/8040930/sourabh-kaushik"}, "edited": false, "score": 0, "creation_date": 1547537342, "post_id": 54194317, "comment_id": 95215661, "body": "I am not sure about your problem but according to my understanding of your problem this will solve your problem you can use interfaces for the views as well as for item view which will pass the view and position and then you can get the id of the view in your activity using this interface"}, {"owner": {"reputation": 1849, "user_id": 2692102, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/irlFR.gif?s=128&g=1", "display_name": "Hanzala", "link": "https://stackoverflow.com/users/2692102/hanzala"}, "edited": false, "score": 0, "creation_date": 1547537371, "post_id": 54194317, "comment_id": 95215670, "body": "not clear what you are asking as you say <code>I have captured which button is being pressed as well as the row being selected</code> then again what you needed by saying this <code>the button information to be passed back to my Activity so I can use it with the row that was pressed</code> even you have <code>view</code> instance in every <code>listener </code>"}], "answers": [{"tags": [], "owner": {"reputation": 8266, "user_id": 5305430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hxqD2.jpg?s=128&g=1", "display_name": "sushildlh", "link": "https://stackoverflow.com/users/5305430/sushildlh"}, "is_accepted": false, "score": 0, "last_activity_date": 1547537919, "creation_date": 1547537919, "answer_id": 54194479, "question_id": 54194317, "link": "https://stackoverflow.com/questions/54194317/selecting-which-button-pressed-in-recyclerview-row-kotlin/54194479#54194479", "title": "Selecting which button pressed in recyclerview row kotlin", "body": "<p>I think you can do this.</p>\n\n<p>Create Variable and setter of that variable in your <code>activity</code>.</p>\n\n<pre><code>private YourObject localVariable;\n\npublic YourObject setLocalVariable(YourObject localVariable){\n   this.localVariable= localVariable;\n}\n</code></pre>\n\n<p>And on Clicking on <code>recycle View</code> List <code>Listener</code>.</p>\n\n<p><code>Typecast</code> your <code>context</code> into your <code>activity</code> and set your Local variable over there.</p>\n\n<pre><code>((YourActivity)context).setLocalVariable(arrayList[position])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 10910220, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xr80o3fVDek/AAAAAAAAAAI/AAAAAAAAAGU/XrVk7t4i7q4/photo.jpg?sz=128", "display_name": "Ahmed Karam", "link": "https://stackoverflow.com/users/10910220/ahmed-karam"}, "is_accepted": false, "score": 0, "last_activity_date": 1547546724, "creation_date": 1547546724, "answer_id": 54196625, "question_id": 54194317, "link": "https://stackoverflow.com/questions/54194317/selecting-which-button-pressed-in-recyclerview-row-kotlin/54196625#54196625", "title": "Selecting which button pressed in recyclerview row kotlin", "body": "<p>You can use the EventBus library it will achieve what you want easy</p>\n\n<p><a href=\"https://github.com/greenrobot/EventBus\" rel=\"nofollow noreferrer\">https://github.com/greenrobot/EventBus</a></p>\n"}], "owner": {"reputation": 3296, "user_id": 495420, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/PMCxu.jpg?s=128&g=1", "display_name": "timv", "link": "https://stackoverflow.com/users/495420/timv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1547546724, "creation_date": 1547537019, "last_edit_date": 1547538408, "question_id": 54194317, "link": "https://stackoverflow.com/questions/54194317/selecting-which-button-pressed-in-recyclerview-row-kotlin", "title": "Selecting which button pressed in recyclerview row kotlin", "body": "<p>I have had a look at various stackoverflow questions and answers to this problem and still struggling to get the right solution.  If someone has a link to my problem with a solution I will mark it as duplicate but I have not found one yet. </p>\n\n<p>Note: Code has been upgraded to <code>Kotlin</code> so mindful of some code may not be optimized for Kotlin best practices yet.</p>\n\n<p>I have captured the button pressed in my <code>RecyclerAdapter</code> and now want it passed back to my Activity that has the <code>recyclerView.addOnItemTouchListener</code>.  </p>\n\n<p>My <code>RecyclerAdapter</code> code is as follows:</p>\n\n<pre><code>override fun onBindViewHolder(holder: NotesPicsRecyclerAdapter.RecyclerViewHolder, position: Int) {\n\n    val data_provider = arrayList[position]\n\n    holder.notePicShareButton.setOnClickListener {\n        Toast.makeText(context, \"Share Button\", Toast.LENGTH_SHORT).show()\n    }\n    holder.notePicChangePicButton.setOnClickListener {\n        Toast.makeText(context, \"Edit Button\", Toast.LENGTH_SHORT).show()\n    }\n    holder.notePicDeleteButton.setOnClickListener {\n        Toast.makeText(context, \"Delete Button\", Toast.LENGTH_SHORT).show()\n    }\n    try {\n        holder.imageText.text = data_provider.notes_text\n        val imageFile = data_provider.image_path\n        val inputStream = context.assets.open(imageFile)\n        val d = Drawable.createFromStream(inputStream, null)\n        holder.imagePath.setImageDrawable(d)\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n}\n\nclass RecyclerViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    internal var imagePath: ImageView\n    internal var imageText: TextView\n    internal var notePicShareButton: Button\n    internal var notePicChangePicButton: Button\n    internal var notePicDeleteButton: Button\n    init {\n        imagePath = view.findViewById&lt;View&gt;(R.id.single_note_pic_image) as ImageView\n        imageText = view.findViewById&lt;View&gt;(R.id.single_note_pic_text) as TextView\n        notePicShareButton = view.findViewById&lt;View&gt;(R.id.single_note_pic_share_button) as Button\n        notePicChangePicButton = view.findViewById&lt;View&gt;(R.id.single_note_pic_change_pic_button) as Button\n        notePicDeleteButton = view.findViewById&lt;View&gt;(R.id.single_note_pic_delete_button) as Button\n    }\n}\n</code></pre>\n\n<p>My onCreate in my Activity code snippet is as follows:</p>\n\n<pre><code>recyclerView.addOnItemTouchListener(\n            MyRecyclerViewClickListener(this, object : MyRecyclerViewClickListener.OnItemClickListener {\n                override fun onItemClick(view: View, position: Int) {\n                      val thePos = arrayList[position].list_id\n                      Toast.makeText(applicationContext, \"This row: $thePos\", Toast.LENGTH_SHORT).show()\n                }\n            })\n    )\n</code></pre>\n\n<p>All <code>Toast</code> messages in my <code>RecyclerAdapter</code> and <code>Activity</code> work so I have captured which button is being pressed as well as the row being selected, but I need the button information to be passed back to my <code>Activity</code> so I can use it with the row that was pressed.  Not sure how to proceed and still digging but any info would be appreciated.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8280, "user_id": 579671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wlfTR.png?s=128&g=1", "display_name": "Orhan Obut", "link": "https://stackoverflow.com/users/579671/orhan-obut"}, "edited": false, "score": 0, "creation_date": 1547541863, "post_id": 54193795, "comment_id": 95217491, "body": "Indirectly I&#39;m able to set and use it. I can&#39;t have a generic Main, that would prevent to have multiple different providers with different types."}], "tags": [], "owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "is_accepted": false, "score": 1, "last_activity_date": 1547534100, "creation_date": 1547534100, "answer_id": 54193795, "question_id": 54193189, "link": "https://stackoverflow.com/questions/54193189/type-mismatch-inferred-type-is-listany-but-listnothing-was-expected/54193795#54193795", "title": "Type mismatch: inferred type is List&lt;Any?&gt; but List&lt;Nothing&gt; was expected", "body": "<p>You have something that I don't quite understand (which may be an error). Currently it doesn't really make sense that you have <code>currentCall</code> of type <code>Call&lt;*&gt;</code> and a generic <code>add</code> method, because you're in no way possible to set the <code>provider</code> of the <code>currentCall</code>. </p>\n\n<p>This problem can be resolved when you make <code>Main</code> generic too:</p>\n\n<pre><code>class Main&lt;T&gt; {\n</code></pre>\n\n<p>You then can safely remove the generic parameter from <code>add</code>:</p>\n\n<pre><code>fun add(provider: Provider&lt;T&gt;){}\n</code></pre>\n\n<p>And finally you can replace the star projection of <code>currentCall</code> as well with the <code>generic</code> type parameter <code>T</code>:</p>\n\n<pre><code>private var currentCall: Call&lt;T&gt;? = null\n</code></pre>\n\n<p>Which leaves you with a class like:</p>\n\n<pre><code>class Main&lt;T&gt; {\n\n    private var currentCall: Call&lt;T&gt;? = null\n\n    fun add(provider: Provider&lt;T&gt;){}\n\n    fun onStart() {\n        currentCall?.provider()?.enqueue { result -&gt;\n            currentCall?.refresh(result)\n        }\n    }\n}\n</code></pre>\n\n<p>This works, because you're telling the compiler explicitly that every type you're using in <code>Main</code> <strong>must</strong> be somewhat related to <code>T</code>.</p>\n"}], "owner": {"reputation": 8280, "user_id": 579671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wlfTR.png?s=128&g=1", "display_name": "Orhan Obut", "link": "https://stackoverflow.com/users/579671/orhan-obut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1184, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547534100, "creation_date": 1547530413, "last_edit_date": 1547532680, "question_id": 54193189, "link": "https://stackoverflow.com/questions/54193189/type-mismatch-inferred-type-is-listany-but-listnothing-was-expected", "title": "Type mismatch: inferred type is List&lt;Any?&gt; but List&lt;Nothing&gt; was expected", "body": "<p>I have the following <code>Call</code> interface which is invariant and in another class I want to invoke one of its function, but I get the following error in this line <code>currentCall?.refresh(result)</code>. </p>\n\n<pre><code>Type mismatch: inferred type is List&lt;Any?&gt; but List&lt;Nothing&gt; was expected.\nProjected type Call&lt;*&gt;? restricts use of public abstract fun refresh(list: List&lt;T&gt;): Unit defined in \n</code></pre>\n\n<p>I understand that with star-projection, the type becomes unknown and it's not safe to consume it. I don't know what would be the best way to change the structure and allow this operation. </p>\n\n<p>What would you do in this case? How would you refresh data for instance?</p>\n\n<pre><code>interface Call&lt;T&gt; {\n    fun provider(): Provider&lt;T&gt;\n    fun items(): List&lt;T&gt;\n    fun refresh(list: List&lt;T&gt;)\n}\n\ninterface Provider&lt;T&gt; {\n    fun enqueue(result: (List&lt;T&gt;) -&gt; Unit)\n}\n\nclass Main {\n\n    private var currentCall: Call&lt;*&gt;? = null\n\n    fun &lt;T&gt; add(provider: Provider&lt;T&gt;){}\n\n    fun onStart() {\n        currentCall?.provider()?.enqueue { result -&gt;\n            currentCall?.refresh(result)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kovenant"], "owner": {"reputation": 349, "user_id": 3854855, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/570618d7e6e7c7df13cc940d707223e2?s=128&d=identicon&r=PG&f=1", "display_name": "sadelbrid", "link": "https://stackoverflow.com/users/3854855/sadelbrid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547520371, "creation_date": 1547520371, "question_id": 54192059, "link": "https://stackoverflow.com/questions/54192059/kotlin-kovenant-returns-the-same-object-for-all-promises", "title": "Kotlin Kovenant returns the same object for all promises", "body": "<p>I'm trying to use Kotlin Kovenant because I want a promise-based solution to track my retrofit calls.</p>\n\n<p>What I did first was this:</p>\n\n<pre><code>    all (\n        walkingRoutePromise,\n        drivingRoutePromise\n    ) success { responses -&gt;\n        //Do stuff with the list of responses\n    }\n</code></pre>\n\n<p>where the promises I pass are those that are resolved at the completion of my retrofit calls. However \"responses\" is a list of two identical objects. When debugging, I can confirm that two different objects with different values are being passed to the respective resolve methods. However kovenant returns two identical objects (same location in memory)</p>\n\n<p>My next attempt was this:</p>\n\n<pre><code>    task {\n        walkingRoutePromise\n    } then {\n        var returnval = it.get()\n        walkingDTO = returnval.deepCopy()\n        drivingRoutePromise\n    } success {\n        val returnval = it.get()\n        drivingDTO = returnval.deepCopy()\n        mapRoutes = MapRoutes(walkingDTO!!, drivingDTO!!)\n        currentRoute = mapRoutes!!.walking\n        callback()\n    }\n</code></pre>\n\n<p>Where I tried to do the calls one at a time and perform deep copies of the results. This worked for the first response, but then I found that it.get() in the success block - the success block of the second call - is the same unchanged object that I get from it.get() in the \"then\" block. It seems Kovenant is implemented to use one object for all of its resolutions, but after you resolve once, the single object it uses for the resolutions cannot be changed. What am I supposed to do if I want to access unique values from promise.resolve(object)? Seems like a very broken system.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1547528001, "post_id": 54191538, "comment_id": 95213273, "body": "In what environment are you?, for your question I suspect is not Android, is JavaFx?? Swing??"}, {"owner": {"reputation": 103, "user_id": 10914633, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-54LDF7aGpWk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb-l9wljJGFehLI9Iiqo768LGt4Zg/mo/photo.jpg?sz=128", "display_name": "Yonatan Ginsburg", "link": "https://stackoverflow.com/users/10914633/yonatan-ginsburg"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1547534234, "post_id": 54191538, "comment_id": 95214736, "body": "Ah yeah that\u2019s kinda important; this is just a generic java application. Currently I\u2019m running tests off of a main function, but the goal is for this to be a networking api for the jvm. No javafx or swing is going on here."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 11081843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd5b50c8c61df38c0c60ad354122255?s=128&d=identicon&r=PG&f=1", "display_name": "Yava", "link": "https://stackoverflow.com/users/11081843/yava"}, "edited": false, "score": 0, "creation_date": 1577248390, "post_id": 54194735, "comment_id": 105128514, "body": "I saw that guide but &quot;import kotlinx.coroutines.javafx.JavaFx as Main&quot; says &quot;Unresolved reference: javafx&quot;. But I do have kotlin-coroutines core 1.3.3 in my dependencies, just the javafx part is missing somehow."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 113, "user_id": 11081843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd5b50c8c61df38c0c60ad354122255?s=128&d=identicon&r=PG&f=1", "display_name": "Yava", "link": "https://stackoverflow.com/users/11081843/yava"}, "edited": false, "score": 0, "creation_date": 1577265591, "post_id": 54194735, "comment_id": 105131266, "body": "I guess you need to add <code>kotlinx-coroutines-javafx</code> module to dependencies."}, {"owner": {"reputation": 113, "user_id": 11081843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd5b50c8c61df38c0c60ad354122255?s=128&d=identicon&r=PG&f=1", "display_name": "Yava", "link": "https://stackoverflow.com/users/11081843/yava"}, "edited": false, "score": 0, "creation_date": 1577312207, "post_id": 54194735, "comment_id": 105140824, "body": "Thanks I found it on search.maven.org and it worked"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 2, "last_activity_date": 1547539164, "creation_date": 1547539164, "answer_id": 54194735, "question_id": 54191538, "link": "https://stackoverflow.com/questions/54191538/how-to-dispatch-coroutines-directly-to-main-thread-on-the-jvm/54194735#54194735", "title": "How to dispatch coroutines directly to main thread on the JVM?", "body": "<p>As per <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md#guide-to-ui-programming-with-coroutines\" rel=\"nofollow noreferrer\">Guide to UI programming with coroutines</a> <strong>kotlinx.coroutines</strong> has three modules that provide coroutine context for different UI application libraries:</p>\n\n<ul>\n<li><a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/ui/kotlinx-coroutines-android\" rel=\"nofollow noreferrer\">kotlinx-coroutines-android</a> -- Dispatchers.Main context for Android\napplications.</li>\n<li><a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/ui/kotlinx-coroutines-javafx\" rel=\"nofollow noreferrer\">kotlinx-coroutines-javafx</a> -- Dispatchers.JavaFx context for JavaFX UI\napplications.</li>\n<li><a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/ui/kotlinx-coroutines-swing\" rel=\"nofollow noreferrer\">kotlinx-coroutines-swing</a> -- Dispatchers.Swing context for Swing UI\napplications.</li>\n</ul>\n\n<p>Also, UI dispatcher is available via <code>Dispatchers.Main</code> from <strong><a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/core/kotlinx-coroutines-core\" rel=\"nofollow noreferrer\">kotlinx-coroutines-core</a></strong> and corresponding implementation (Android, JavaFx or Swing) is discovered by ServiceLoader API. For example, if you are writing JavaFx application, you can use either <code>Dispatchers.Main</code> or <code>Dispachers.JavaFx</code> extension, it will be the same object.</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 10914633, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-54LDF7aGpWk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb-l9wljJGFehLI9Iiqo768LGt4Zg/mo/photo.jpg?sz=128", "display_name": "Yonatan Ginsburg", "link": "https://stackoverflow.com/users/10914633/yonatan-ginsburg"}, "edited": false, "score": 0, "creation_date": 1547612852, "post_id": 54195483, "comment_id": 95246896, "body": "Thank you! Works like a charm. If I were to put that runBlocking bit inside the ScopedObject and grab the context there, would it just use the thread the object was created on?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 103, "user_id": 10914633, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-54LDF7aGpWk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb-l9wljJGFehLI9Iiqo768LGt4Zg/mo/photo.jpg?sz=128", "display_name": "Yonatan Ginsburg", "link": "https://stackoverflow.com/users/10914633/yonatan-ginsburg"}, "edited": false, "score": 0, "creation_date": 1547627866, "post_id": 54195483, "comment_id": 95251951, "body": "<code>runBlocking</code> dispatches to the thread it&#39;s called on. But since it&#39;s the low-level machinery that creates an environment for coroutines to run in, I don&#39;t see it as good design to have it inside an object that is the client of this environment."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1547547798, "last_edit_date": 1547547798, "creation_date": 1547542415, "answer_id": 54195483, "question_id": 54191538, "link": "https://stackoverflow.com/questions/54191538/how-to-dispatch-coroutines-directly-to-main-thread-on-the-jvm/54195483#54195483", "title": "How to dispatch coroutines directly to main thread on the JVM?", "body": "<p><code>runBlocking</code> is exactly what you need. It creates a dispatcher and sets it in the coroutine context. You can access the dispatcher with</p>\n\n<pre><code>coroutineContext[ContinuationInterceptor] as CoroutineDispatcher\n</code></pre>\n\n<p>and then you can pass it to an object that implements <code>CoroutineScope</code> or whatever else you want to do with it. Here's some sample code:</p>\n\n<pre><code>import kotlinx.coroutines.*\nimport kotlinx.coroutines.Dispatchers.IO\nimport kotlin.coroutines.ContinuationInterceptor\n\nfun main() {\n    println(\"Top-level: current thread is ${Thread.currentThread().name}\")\n    runBlocking {\n        val dispatcher = coroutineContext[ContinuationInterceptor]\n                as CoroutineDispatcher\n        ScopedObject(dispatcher).launchMe().join()\n    }\n}\n\nclass ScopedObject(dispatcher: CoroutineDispatcher) : CoroutineScope {\n    override val coroutineContext = Job() + dispatcher\n\n    fun launchMe() = launch {\n        val result = withContext(IO) {\n            \"amazing\"\n        }\n        println(\"Launched coroutine: \" +\n                \"current thread is ${Thread.currentThread().name}, \" +\n                \"result is $result\")\n    }\n}\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>Top-level: current thread is main\nLaunched coroutine: current thread is main, result is amazing\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 10914633, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-54LDF7aGpWk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb-l9wljJGFehLI9Iiqo768LGt4Zg/mo/photo.jpg?sz=128", "display_name": "Yonatan Ginsburg", "link": "https://stackoverflow.com/users/10914633/yonatan-ginsburg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1953, "favorite_count": 0, "accepted_answer_id": 54195483, "answer_count": 2, "score": 4, "last_activity_date": 1547547798, "creation_date": 1547515738, "last_edit_date": 1547527604, "question_id": 54191538, "link": "https://stackoverflow.com/questions/54191538/how-to-dispatch-coroutines-directly-to-main-thread-on-the-jvm", "title": "How to dispatch coroutines directly to main thread on the JVM?", "body": "<p>I'm setting up a kotlin coroutine based networking framework for the jvm. The Client and Server classes implement CoroutineScope, and the override for coroutinecontext is Dispatchers.IO, as I am pretty sure that's the correct Dispatcher to use for such a case. However, I wish to handle read packets on the main thread, or at least provide that option. Without reading the documentation, I used Dispatchers.Main, which I now realize is for the android UI thread. Is there a dispatcher I can use to get a coroutine running on the main thread? If not, how would I go about making one? </p>\n\n<p>I have looked around the kotlin documentation on how to create a dispatcher based around a single thread, but I couldn't find anything besides newSingleThreadContext which creates a new thread. I also figured out that it is possible to create a dispatcher from a java Executor, but I'm still not sure how to limit this to a already existing thread.</p>\n\n<pre><code>class AbstractNetworkComponent : CoroutineScope {\n    private val packetProcessor = PacketProcessor()\n    private val job = Job()\n    override val coroutineContext = job + Dispatchers.IO\n}\n\nclass PacketProcessor : CoroutineScope {\n\n    private val job = Job()\n    override val coroutineContext = job + Dispatchers.Main //Android only!\n    private val packetHandlers = mutableMapOf&lt;Opcode, PacketHandlerFunc&gt;()\n\n    fun handlePacket(opcode: Opcode, packet: ReceivablePacket, networker: Writable) {\n        launch(coroutineContext) {\n            packetHandlers[opcode]?.invoke(packet, networker)\n        }\n    }\n}\n</code></pre>\n\n<p>So with the Dispatchers.Main I get an IllegalStateException due to the android component missing. Is there a way to create a dispatcher that blocks the main thread until its completion (like runBlocking does?) Thanks!</p>\n"}, {"tags": ["groovy", "kotlin", "spock", "arrow-kt"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 1, "creation_date": 1547523192, "post_id": 54191434, "comment_id": 95212300, "body": "<code>new Some(...)</code> you&#39;re in Groovy now :D"}], "answers": [{"tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 1, "last_activity_date": 1547532624, "creation_date": 1547532624, "answer_id": 54193532, "question_id": 54191434, "link": "https://stackoverflow.com/questions/54191434/how-can-i-use-arrow-kts-some-in-groovy-code/54193532#54193532", "title": "How can I use Arrow-kt&#39;s Some() in Groovy code?", "body": "<p>Yes, you can use Arrow <a href=\"https://arrow-kt.io/docs/datatypes/intro/\" rel=\"nofollow noreferrer\">Datatypes</a> in <code>Groovy</code>, the result is not as idiomatic as in <code>Kotlin</code> because the library heavily depends on extension functions and functions in the <code>companion object</code></p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>import arrow.core.Option\nimport static arrow.core.OptionKt.getOrElse\n\nstatic main(args){\n    println 'What is your name?'\n    def name = Option.@Companion.fromNullable(System.in.newReader().readLine())\n        .filterNot { it.isEmpty() }\n        .map { it.toUpperCase() }\n\n    println(\"Welcome ${getOrElse(name) { 'Anonymous' }}\")\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>'Welcome JOHN' (or 'Welcome Anonymous' if the provided name is null or empty) \n</code></pre>\n\n<p>As you can see, to be able to use <code>getOrElse</code> extension function, we need to import it as a static method</p>\n\n<p><strong>Hint</strong></p>\n\n<p>Do not use <code>Some</code> directly unless you are absolutely sure the value is not <code>null</code>, otherwise, you should rely on <code>Option.fromNullable</code> to safely lift the value to the <code>Option</code> context (i.e create <code>Some</code> or <code>None</code> depending if the value is <code>null</code> or not)</p>\n"}], "owner": {"reputation": 410, "user_id": 348194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643be40ec9f5fe60f6ffa65ae20aba12?s=128&d=identicon&r=PG", "display_name": "Ayberk", "link": "https://stackoverflow.com/users/348194/ayberk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 54193532, "answer_count": 1, "score": 1, "last_activity_date": 1547532624, "creation_date": 1547514742, "question_id": 54191434, "link": "https://stackoverflow.com/questions/54191434/how-can-i-use-arrow-kts-some-in-groovy-code", "title": "How can I use Arrow-kt&#39;s Some() in Groovy code?", "body": "<p>I'm trying to test my Kotlin code, which has Arrow-kt types, using Spock in Groovy. However, I'm not able to use Arrow-kt's additions such as <code>Some</code>. For example, I have a test as follows:</p>\n\n<pre><code>    @Unroll\n    def \"add returns #expected for queryRecord #queryRecord\"() {\n        given:\n        def ip = \"ip\"\n        def rule = \"rule\"\n\n        when:\n        def result = unit.add(ip, rule)\n\n        then:\n        1 * dynamoDBMapperMock.load(ActionRecord.class, ip) &gt;&gt; queryRecord\n\n        result == expected\n\n        where:\n        queryRecord        | expected\n        new ActionRecord() | None.INSTANCE\n        null               | Some(new ActionInternal(\"ip\"))\n    }\n</code></pre>\n\n<p>While the first data row succeeds with no problems, the second one fails with the following error: </p>\n\n<p><code>groovy.lang.MissingMethodException: No signature of method: package.name.EventSpec.Some() is applicable for argument types: (package.name.ActionInternal) values: [ActionInternal(dropletIp=null)]\nPossible solutions: Mock(), Spy(), Stub(), dump(), Mock(groovy.lang.Closure), Mock(java.lang.Class)</code></p>\n\n<p>I've tried <code>.some()</code> as well, but not to avail. Apparently Groovy can't access Kotlin extensions, but <code>Some</code> is simply a data class[<a href=\"https://github.com/arrow-kt/arrow/blob/master/modules/core/arrow-core-data/src/main/kotlin/arrow/core/Option.kt\" rel=\"nofollow noreferrer\">1</a>], so I'm not sure why I cannot use it in Groovy.</p>\n"}, {"tags": ["java", "spring", "validation", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1547679892, "creation_date": 1547679892, "answer_id": 54226710, "question_id": 54190682, "link": "https://stackoverflow.com/questions/54190682/cascading-validations-in-spring-using-the-default-validator/54226710#54226710", "title": "Cascading validations in Spring using the default validator", "body": "<p>Let's start by looking at the following code:</p>\n\n<pre><code>class PersonService (): Validator() {\n    fun save(person: Person) {\n         validate(person)\n         // more logic that assumes data is valid\n         repository.save(person)\n    }\n}\n</code></pre>\n\n<p>Now we'll rewrite it using extension methods:</p>\n\n<pre><code>class PersonService (): Validator() {\n    fun save(person: Person) {\n         person.validate()\n         // more logic that assumes data is valid\n         repository.save(person)\n    }\n}\n</code></pre>\n\n<p>Stub of this function may look like this:</p>\n\n<pre><code>private fun Person.validate() {\n    val factory = Validation.buildDefaultValidatorFactory()\n    val validator = factory.validator\n\n    val validationResult = validator.validate(this).fold(ValidationResult()) { validationResult, violation -&gt;\n        val message = violation.propertyPath.toString() + \" - \" + violation.message\n        validationResult.add(message)\n        validationResult\n    }\n\n    // Raise a validation exeception\n    if (validationResult.isValid()) {\n        throw ValidationException(validationResult)\n    }\n\n\n    validationResult.addAll(job.validate())\n\n    return validationResult\n}\n</code></pre>\n\n<p>Job repeats the same pattern:</p>\n\n<pre><code>private fun Job.validate() {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 2413, "user_id": 443302, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7d02069ff600f99c6b597d7c9729ded9?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/443302/stewart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547679892, "creation_date": 1547508485, "last_edit_date": 1547509703, "question_id": 54190682, "link": "https://stackoverflow.com/questions/54190682/cascading-validations-in-spring-using-the-default-validator", "title": "Cascading validations in Spring using the default validator", "body": "<p>I'm doing manual validations of of my entity classes. Consider a person entity:</p>\n\n<pre><code>data class Person (\n    @get:NotNull var firstName: String = \"\"\n) \n</code></pre>\n\n<p>My validation logic sits in an abstract class that services can use. </p>\n\n<pre><code>abstract class Validator {\n    protected fun validate(model: Any): ValidationResult {\n        val factory = Validation.buildDefaultValidatorFactory()\n        val validator = factory.validator\n\n        val validationResult = validator.validate(model).fold(ValidationResult()) { validationResult, violation -&gt;\n            val message = violation.propertyPath.toString() + \" - \" + violation.message\n            validationResult.add(message)\n            validationResult\n        }\n\n        // Raise a validation exeception\n        if (validationResult.isValid()) {\n            throw ValidationException(validationResult)\n        }\n\n        return validationResult\n    }\n}\n</code></pre>\n\n<p>This allows me to write a service like this.</p>\n\n<pre><code>class PersonService (): Validator() {\n    fun save(person: Person) {\n         validate(person)\n         // more logic that assumes data is valid\n         repository.save(person)\n    }\n}\n</code></pre>\n\n<p>The advantage is that I can add this validator to the services I plan to write in the future. This works well however lets make a change to the person class:</p>\n\n<pre><code>data class Person (\n    @get:NotNull var firstName: String = \"\",\n    var job: Job = Job()\n)\n</code></pre>\n\n<p>Now we have a job class that belongs to Person. Job has its own validation.</p>\n\n<pre><code>data class Job (\n    @get:NotNull var department: String = \"\",\n    @get:Min(0) var salary: Integer = \"\",\n)\n</code></pre>\n\n<p>What I would like is for my validator when called on the Job class as well. This would allow the validation logic to stay generic. Is there any way to cascade validation down to object members that are part of the original class that gets called</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1547685704, "post_id": 54207371, "comment_id": 95280857, "body": "Thanks. I ended up being redirected to post <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/937\" rel=\"nofollow noreferrer\">an issue</a> in the github repo, and the solution was to use <code>BroadcastChannel</code> to imitate something like <code>PublishSubject</code>. Leak wise, it&#39;ll only be a boolean or int not associated with the ui so it should probably be fine"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 0, "last_activity_date": 1547588995, "creation_date": 1547588995, "answer_id": 54207371, "question_id": 54190478, "link": "https://stackoverflow.com/questions/54190478/ignoring-offers-to-coroutine-channels-after-closing/54207371#54207371", "title": "Ignoring offers to coroutine channels after closing", "body": "<p>Channels throw this exception <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.channels/-send-channel/send.html\" rel=\"nofollow noreferrer\">by design</a>, as means of correct communication. </p>\n\n<p>If you absolutely must have something like this, you can use an extension function of this sort:</p>\n\n<pre><code>private suspend fun &lt;E&gt; Channel&lt;E&gt;.sendOrNothing(e: E) {\n    try {\n        this.send(e)\n    }\n    catch (closedException: ClosedSendChannelException) {\n        println(\"It's fine\")\n    }\n}\n</code></pre>\n\n<p>You can test it with the following piece of code:</p>\n\n<pre><code>val channel = Channel&lt;Int&gt;(capacity = 3)\n    launch {\n\n        try {\n            for (i in 1..10) {\n                channel.sendOrNothing(i)\n                delay(50)\n                if (i == 5) {\n                    channel.close()\n                }\n            }\n\n            println(\"Done\")\n        }\n        catch (e: Exception) {\n            e.printStackTrace()\n        }\n        finally {\n            println(\"Finally\")\n        }\n    }\n\n    launch {\n        for (c in channel) {\n            println(c)\n            delay(300)\n        }\n    }\n</code></pre>\n\n<p>As you'll notice, producer will start printing \"It's fine\" since the channel is closed, but consumer will still be able to read first 5 values.</p>\n\n<p>Regarding your second question: it depends.</p>\n\n<p>Channels don't have such a big overhead, and neither do suspended coroutines. But a leak is a leak, you know.</p>\n"}, {"tags": [], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1547685800, "creation_date": 1547685800, "answer_id": 54227472, "question_id": 54190478, "link": "https://stackoverflow.com/questions/54190478/ignoring-offers-to-coroutine-channels-after-closing/54227472#54227472", "title": "Ignoring offers to coroutine channels after closing", "body": "<p>I ended up posting <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/937\" rel=\"nofollow noreferrer\">an issue</a> to the repo, and the solution was to use <code>BroadcastChannel</code>. You can create a new <code>ReceiveChannel</code> through <code>openSubscription</code>, where closing it will not close the <code>SendChannel</code>.</p>\n\n<p>This more accurately reflects RxJava's <code>PublishSubject</code></p>\n"}], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1084, "favorite_count": 1, "accepted_answer_id": 54207371, "answer_count": 2, "score": 3, "last_activity_date": 1547685800, "creation_date": 1547506854, "question_id": 54190478, "link": "https://stackoverflow.com/questions/54190478/ignoring-offers-to-coroutine-channels-after-closing", "title": "Ignoring offers to coroutine channels after closing", "body": "<p>Is there a good way to have channels ignore offers once closed without throwing an exception?</p>\n\n<p>Currently, it seems like only try catch would work, as <code>isClosedForSend</code> isn't atomic.</p>\n\n<p>Alternatively, is there a problem if I just never close a channel at all?\nFor my specific use case, I'm using channels as an alternative to Android livedata (as I don't need any of the benefits beyond sending values from any thread and listening from the main thread). In that case, I could listen to the channel through a producer that only sends values when I want to, and simply ignore all other inputs. </p>\n\n<p>Ideally, I'd have a solution where the <code>ReceiveChannel</code> can still finish listening, but where <code>SendChannel</code> will never crash when offered a new value.</p>\n"}, {"tags": ["java", "javafx", "kotlin"], "comments": [{"owner": {"reputation": 67076, "user_id": 2991525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497fb92ca5e55e1eee47b1c4c7043586?s=128&d=identicon&r=PG&f=1", "display_name": "fabian", "link": "https://stackoverflow.com/users/2991525/fabian"}, "edited": false, "score": 0, "creation_date": 1547501002, "post_id": 54189288, "comment_id": 95206900, "body": "Go fullscreen??"}, {"owner": {"reputation": 1, "user_id": 10711738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f932f767bf99366274bb6891a06e5d27?s=128&d=identicon&r=PG&f=1", "display_name": "EmbeddedEnthousiast", "link": "https://stackoverflow.com/users/10711738/embeddedenthousiast"}, "reply_to_user": {"reputation": 67076, "user_id": 2991525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497fb92ca5e55e1eee47b1c4c7043586?s=128&d=identicon&r=PG&f=1", "display_name": "fabian", "link": "https://stackoverflow.com/users/2991525/fabian"}, "edited": false, "score": 0, "creation_date": 1547501256, "post_id": 54189288, "comment_id": 95207013, "body": "I don&#39;t want to go fullscreen my UI is very small and fullscreen would waste too much screen real estate, I want it to work in cooperation with whatever is currenly running on the desktop."}, {"owner": {"reputation": 630, "user_id": 6707737, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bc7b6d3815e8d4e653eea177739b3558?s=128&d=identicon&r=PG&f=1", "display_name": "Yan.F", "link": "https://stackoverflow.com/users/6707737/yan-f"}, "edited": false, "score": 0, "creation_date": 1547503080, "post_id": 54189288, "comment_id": 95207718, "body": "Don&#39;t use Popup windows as they won&#39;t show on top of windows taskbar. Stages on the other hand may ignore the taskbar and show on top of it."}, {"owner": {"reputation": 630, "user_id": 6707737, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bc7b6d3815e8d4e653eea177739b3558?s=128&d=identicon&r=PG&f=1", "display_name": "Yan.F", "link": "https://stackoverflow.com/users/6707737/yan-f"}, "edited": false, "score": 0, "creation_date": 1547503607, "post_id": 54189288, "comment_id": 95207940, "body": "If you want to make your windows taskbar disappear just set it to autohide, you can&#39;t control the visibilty of windows taskbar via JavaFX, you can only go fullscreen, or maximized."}], "owner": {"reputation": 1, "user_id": 10711738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f932f767bf99366274bb6891a06e5d27?s=128&d=identicon&r=PG&f=1", "display_name": "EmbeddedEnthousiast", "link": "https://stackoverflow.com/users/10711738/embeddedenthousiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547503359, "creation_date": 1547500440, "question_id": 54189288, "link": "https://stackoverflow.com/questions/54189288/javafx-undecorated-stagestyle-will-keep-the-windows-taskbar-visible", "title": "JavaFX Undecorated StageStyle will keep the windows taskbar visible", "body": "<p>Hi I'm making a JavaFX UI and I want it to be Undecorated, however, when I run the program it will keep my windows taskbar visible, is there a way to work around this?</p>\n\n<pre><code>class MagicBar: Application()\n{\n\noverride fun start(primaryStage: Stage?)\n{\n    stage = Stage()\n    val fxmlLoader = FXMLLoader()\n    val root = fxmlLoader.load&lt;Parent&gt;(javaClass.getResource(\"/MagicBar.fxml\").openStream())\n    controller = fxmlLoader.getController&lt;MagicBarController&gt;() as MagicBarController\n    stage.initStyle(StageStyle.UNDECORATED)\n    val scene = Scene(root, 600.0, 80.0)\n    stage.initStyle(StageStyle.TRANSPARENT)\n    scene.fill = Color.TRANSPARENT\n    stage.scene = scene\n    stage.isAlwaysOnTop = true\n    stage.show()\n}\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-viewmodel", "android-livedata"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 2421688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fca1c18e1935b1fc741d340e6033f432?s=128&d=identicon&r=PG", "display_name": "Riddhish Ojha", "link": "https://stackoverflow.com/users/2421688/riddhish-ojha"}, "edited": false, "score": 0, "creation_date": 1547537639, "post_id": 54189250, "comment_id": 95215792, "body": "Thanks @Oliver. I also want to initialize each Card item with null and that&#39;s why I was using arrayOfNulls() method. Do you know how to do that in a fast way?"}], "tags": [], "owner": {"reputation": 503, "user_id": 3537599, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdec7a60a509ca452bb819d5e5efbd5c?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/3537599/oliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1547500264, "creation_date": 1547500264, "answer_id": 54189250, "question_id": 54188473, "link": "https://stackoverflow.com/questions/54188473/arrayofnulls-with-livedata-in-kotlin/54189250#54189250", "title": "ArrayOfNulls with LiveData in Kotlin", "body": "<p>Create a MutableLiveData-variable, that wraps your cards and add it as class variable inside your ViewModel:</p>\n\n<p><code>val mutableLiveData = MutableLiveData&lt;Array&lt;Array&lt;Card?&gt;?&gt;&gt;()</code></p>\n\n<p>You can now access and subscribe to this variable from your Fragment/Activity/...</p>\n\n<p>To change the value of the mutableLiveData-Variable just change the value:</p>\n\n<p><code>mutableLiveData .value = cards</code></p>\n\n<p>and all subscribers of this LiveData-Variable will get the new value.</p>\n"}], "owner": {"reputation": 145, "user_id": 2421688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fca1c18e1935b1fc741d340e6033f432?s=128&d=identicon&r=PG", "display_name": "Riddhish Ojha", "link": "https://stackoverflow.com/users/2421688/riddhish-ojha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547500264, "creation_date": 1547496612, "last_edit_date": 1547497641, "question_id": 54188473, "link": "https://stackoverflow.com/questions/54188473/arrayofnulls-with-livedata-in-kotlin", "title": "ArrayOfNulls with LiveData in Kotlin", "body": "<p>I have a custom class Card. I use it to create an array using <code>arrayOfNulls()</code> like this:</p>\n\n<pre><code>var cards: Array&lt;Array&lt;Card?&gt;?&gt; = Array(n) { arrayOfNulls&lt;Card?&gt;(n) }\n</code></pre>\n\n<p>where n is an <code>Int(Kotlin)</code>.</p>\n\n<p>Now I need to move this variable in my <code>ViewModel</code> class and wrap it around a <code>LiveData</code> class (preferably MutableLiveData). </p>\n\n<p>How should I declare &amp; initialize the cards variable in my <code>AndroidViewModel</code> class?</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1547495033, "post_id": 54188103, "comment_id": 95204412, "body": "you need to create Kotlin and Java code in separate files. Kotlin code goes in *.kt files, Java code - in *.java files."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10913666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3893a6a7da525934dd41c997727132e?s=128&d=identicon&r=PG&f=1", "display_name": "r. saiarjun", "link": "https://stackoverflow.com/users/10913666/r-saiarjun"}, "edited": false, "score": 0, "creation_date": 1547498468, "post_id": 54188170, "comment_id": 95205857, "body": "Thanks for the solution."}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 1, "last_activity_date": 1547495203, "creation_date": 1547495203, "answer_id": 54188170, "question_id": 54188103, "link": "https://stackoverflow.com/questions/54188103/calling-kotlin-function-from-java-class-creates-error/54188170#54188170", "title": "Calling kotlin function from java class creates error", "body": "<pre><code>//Below Four lines of Code Error in JavaClass\nvar db= TestDatabaseHandler(this.applicationContext)\ndb.insertSerialNo(serialno)\n//Java Conversion\nString db= new TestDatabaseHandler(this.context);\ndb.insertSerialNo(serialno);\n</code></pre>\n\n<p>Not counting comments:</p>\n\n<p>The first two lines are in Kotlin. Java has no <code>var</code> syntax, and creating new instances requires the <code>new</code> keyword. Remove these lines.</p>\n\n<p>The second two lines are the proper Java syntax for the Kotlin lines above. However, there is no such thing as <code>Activity.context</code>. Activity is already a Context. Just pass <code>this</code>, not <code>this.context</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 10913666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3893a6a7da525934dd41c997727132e?s=128&d=identicon&r=PG&f=1", "display_name": "r. saiarjun", "link": "https://stackoverflow.com/users/10913666/r-saiarjun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 54188170, "answer_count": 1, "score": 1, "last_activity_date": 1547545147, "creation_date": 1547494897, "last_edit_date": 1547545147, "question_id": 54188103, "link": "https://stackoverflow.com/questions/54188103/calling-kotlin-function-from-java-class-creates-error", "title": "Calling kotlin function from java class creates error", "body": "<p>I am trying to call kotlin class function from Java class but getting error instead. I have added both kotlin and java code inside the java class. Below is the code and I am getting error while using context.</p>\n\n<p><strong>KotlinClass:</strong></p>\n\n<pre><code>class TestDatabaseHandler(var context: Context?) :\n    SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION)\n\n{\n    fun insertSerialNo(serialno: String)\n    {\n        val db=this.writableDatabase\n        var cv=ContentValues()\n    }\n}\n</code></pre>\n\n<p><strong>JavaClass:</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        String serialno =123456;\n        Intent intent = new Intent(MainActivity.this, Test.class);\n        intent.putExtra(\"serialno\", serialno);\n\n        //Below Four lines of Code Error in JavaClass\n        var db= TestDatabaseHandler(this.applicationContext)\n        db.insertSerialNo(serialno)\n        //Java Conversion\n        String db= new TestDatabaseHandler(this.context);\n        db.insertSerialNo(serialno);\n\n        startActivity(intent);\n\n    }\n}\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<p>1) Can't find symbol context</p>\n\n<p>2) Can't resolve method insertSerialNo</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1547493736, "post_id": 54187695, "comment_id": 95203837, "body": "The median calculation as you do it is only correct for lists of even length."}, {"owner": {"reputation": 21, "user_id": 10913519, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hBoCjGAJhik/AAAAAAAAAAI/AAAAAAAAAL0/TPDwfMiWuy0/photo.jpg?sz=128", "display_name": "Eyad Khalil", "link": "https://stackoverflow.com/users/10913519/eyad-khalil"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1547494436, "post_id": 54187695, "comment_id": 95204123, "body": "so how can i do it for B3:D3 or A2:C3 ?"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1547500737, "post_id": 54187695, "comment_id": 95206800, "body": "For an odd length, just return item in the middle of sorted list, e.g. for <code>1.5, 2.67, 3.0</code> median is <code>2.67</code>."}], "owner": {"reputation": 21, "user_id": 10913519, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hBoCjGAJhik/AAAAAAAAAAI/AAAAAAAAAL0/TPDwfMiWuy0/photo.jpg?sz=128", "display_name": "Eyad Khalil", "link": "https://stackoverflow.com/users/10913519/eyad-khalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1345, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1547493672, "creation_date": 1547492980, "last_edit_date": 1547493672, "question_id": 54187695, "link": "https://stackoverflow.com/questions/54187695/median-calculation-in-kotlin", "title": "median calculation in kotlin", "body": "<p>I wrote this code to calculate median range \nbut I want to give every column and row a specific name like:</p>\n\n<blockquote>\n  <p>Columns A B C D<br>\n  Rows 1 2 3</p>\n</blockquote>\n\n<p>I have to calculate the median of a range like in excel <code>A2:C3</code> so the program can calculate <code>A2 A3 B2 B3 C2 C3</code> and if it's <code>B3:D3</code> I want it to calculate <code>B3 C3 D3</code>.</p>\n\n<p>This is my code:</p>\n\n<pre><code>fun med(list: List&lt;Double&gt;) = list.sorted().let { \n    (it[it.size / 2] + it[(it.size - 1) / 2]) / 2 \n}\n\nfun main(args: Array&lt;String&gt;) {\n    med(listOf(1.5, 2.67, 3.0, 1.4)).let { println(it) }\n    med(listOf(5.2, 7.1, -4.8, 0.0)).let { println(it) }\n    med(listOf(1.4, 6.0, 2.5, -1.9)).let { println(it) }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-toolbar", "android-architecture-navigation"], "answers": [{"tags": [], "owner": {"reputation": 7305, "user_id": 1268507, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/pW5el.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1268507/alex"}, "is_accepted": true, "score": 4, "last_activity_date": 1547532915, "creation_date": 1547532915, "answer_id": 54193574, "question_id": 54187561, "link": "https://stackoverflow.com/questions/54187561/cant-change-toolbar-back-icon-while-using-navhost/54193574#54193574", "title": "Can&#39;t change toolbar back icon while using navhost", "body": "<p>This feature should be added in the future, currently you can do it by implementing 'OnDestinationChangedListener', and changing the toolbar icon inside the callback (just be sure to add the 'OnDestinationChangedListener' after your setup method), something like this:</p>\n\n<pre><code>navController.addOnDestinationChangedListener { controller, destination, arguments -&gt;\n        toolbar.setNavigationIcon(R.drawable.ic_keyboard_arrow_left_black_24dp) //set it here for all the destinations, or inside the switch statement if you want to change it based on destination\n        when(destination.id) {\n            R.id.mainFragment -&gt; {\n              toolbar.setNavigationIcon(R.drawable.ic_keyboard_arrow_left_black_24dp)\n            }\n            R.id.detailsFragment -&gt; {\n              toolbar.setNavigationIcon(R.drawable.ic_keyboard_arrow_left_black_24dp)\n            }\n        }\n    }\n</code></pre>\n\n<p>Based on this issue:</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/121078028\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/121078028</a></p>\n"}], "owner": {"reputation": 89, "user_id": 5812287, "user_type": "registered", "profile_image": "https://graph.facebook.com/950678221629205/picture?type=large", "display_name": "Kesley Fortunato Alves", "link": "https://stackoverflow.com/users/5812287/kesley-fortunato-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 1, "accepted_answer_id": 54193574, "answer_count": 1, "score": 2, "last_activity_date": 1547532915, "creation_date": 1547492366, "last_edit_date": 1547498119, "question_id": 54187561, "link": "https://stackoverflow.com/questions/54187561/cant-change-toolbar-back-icon-while-using-navhost", "title": "Can&#39;t change toolbar back icon while using navhost", "body": "<p>I'm trying (without success) to change the back arrow icon on the toolbar when using <code>NavHostFragment</code>. I'm using <code>NavController</code> with toolbar (as you can see here)</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setSupportActionBar(toolbar)\n    val navController = findNavController(R.id.nav_host_fragment)\n    appBarConfiguration = AppBarConfiguration(navController.graph)\n    setupActionBarWithNavController(navController, appBarConfiguration)\n    navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    toolbar.setTitleTextColor(resources.getColor(R.color.toolbarTextColor))\n    navigation.setupWithNavController(Navigation.findNavController(this, R.id.nav_host_fragment))\n}\n</code></pre>\n\n<p>The navigation is working properly, but i can't seem to change the back icon.</p>\n\n<p>I've already tried using a custom theme. None of the atributes defined have worked so far.</p>\n\n<pre><code>    &lt;style name=\"ToolbarTheme\" parent=\"@style/ThemeOverlay.AppCompat.ActionBar\"&gt;\n        &lt;item name=\"android:navigationIcon\"&gt;@drawable/ic_keyboard_arrow_left_black_24dp&lt;/item&gt;\n        &lt;item name=\"android:homeAsUpIndicator\"&gt;@drawable/ic_keyboard_arrow_left_black_24dp&lt;/item&gt;\n        &lt;item name=\"collapseIcon\"&gt;@drawable/ic_keyboard_arrow_left_black_24dp&lt;/item&gt;\n        &lt;item name=\"android:closeIcon\"&gt;@drawable/ic_keyboard_arrow_left_black_24dp&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>Tried using code:</p>\n\n<pre><code>toolbar.navigationIcon = resources.getDrawable(R.drawable.ic_keyboard_arrow_left_black_24dp)\ntoolbar.setNavigationIcon(R.drawable.ic_keyboard_arrow_left_black_24dp)\ntoolbar.navigationIconResource = R.drawable.ic_keyboard_arrow_left_black_24dp\n</code></pre>\n\n<p>When using code, once the layout is created the back button appears but when i enter another fragment, the icon changes back to the default back icon.</p>\n\n<p>How can i change it?</p>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "edited": false, "score": 0, "creation_date": 1547491687, "post_id": 54187370, "comment_id": 95202995, "body": "Well, first thing is it seems like you&#39;re returning an optional from the first statement.  So, contacts?.map{...}"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1547564272, "post_id": 54187370, "comment_id": 95229634, "body": "@Beto show more ContactIn and complete ContactDTO class pls"}], "answers": [{"comments": [{"owner": {"reputation": 749, "user_id": 2790016, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7c732b2e41421012ba51b6707713a620?s=128&d=identicon&r=PG&f=1", "display_name": "Beto", "link": "https://stackoverflow.com/users/2790016/beto"}, "edited": false, "score": 0, "creation_date": 1547494958, "post_id": 54187688, "comment_id": 95204378, "body": "thanks for that, mistake from copy and pasta. Updated question."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 749, "user_id": 2790016, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7c732b2e41421012ba51b6707713a620?s=128&d=identicon&r=PG&f=1", "display_name": "Beto", "link": "https://stackoverflow.com/users/2790016/beto"}, "edited": false, "score": 0, "creation_date": 1547495641, "post_id": 54187688, "comment_id": 95204665, "body": "@Beto so where exaclty is the problem now? your code looks good :) as far as I can tell"}, {"owner": {"reputation": 749, "user_id": 2790016, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7c732b2e41421012ba51b6707713a620?s=128&d=identicon&r=PG&f=1", "display_name": "Beto", "link": "https://stackoverflow.com/users/2790016/beto"}, "edited": false, "score": 0, "creation_date": 1547496524, "post_id": 54187688, "comment_id": 95205030, "body": "well, the final result should be a list&lt;String&gt; of phone numbers but map is not even compilint it. it says it expected a boolean for the 2nd line"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1547492935, "creation_date": 1547492935, "answer_id": 54187688, "question_id": 54187370, "link": "https://stackoverflow.com/questions/54187370/mapping-list-of-objects-to-a-list-of-strings/54187688#54187688", "title": "Mapping list of objects to a list of strings", "body": "<p><code>isEmergency</code> is a <code>String?</code> you cannot compare it to <code>true</code>. You should definitely rename that property, because <code>is...</code> is the convention for Booleans.</p>\n"}, {"tags": [], "owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1547563134, "creation_date": 1547563134, "answer_id": 54201073, "question_id": 54187370, "link": "https://stackoverflow.com/questions/54187370/mapping-list-of-objects-to-a-list-of-strings/54201073#54201073", "title": "Mapping list of objects to a list of strings", "body": "<p><code>map</code> is used to transform each element to some other and <strong>not</strong> to make <code>key-value</code> pairs.\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html</a>.</p>\n\n<p>Use <code>associate</code> or any other variant such as <code>associateWith</code>, <code>associateBy</code>, <code>associateTo</code>, or <code>associateByTo</code> to achieve the desired result.</p>\n"}], "owner": {"reputation": 749, "user_id": 2790016, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7c732b2e41421012ba51b6707713a620?s=128&d=identicon&r=PG&f=1", "display_name": "Beto", "link": "https://stackoverflow.com/users/2790016/beto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547563134, "creation_date": 1547491299, "last_edit_date": 1547494942, "question_id": 54187370, "link": "https://stackoverflow.com/questions/54187370/mapping-list-of-objects-to-a-list-of-strings", "title": "Mapping list of objects to a list of strings", "body": "<pre><code>class ContactDTO(\n        var isEmergency: Boolean? = null, \n        var phones: MutableList&lt;ContactIn&gt;? = null) : \nParcelable {\n...}\n</code></pre>\n\n<p>I am trying to map the above to a list of string phone numbers\n(ContactIn has a isPrimary field)</p>\n\n<p>I have the following but it is asking for a boolean predicate? </p>\n\n<pre><code>var contacts = contactsDTO?.contacts?.filter { contactDTO -&gt; contactDTO.isEmergency == true }\ncontacts.map { contactDTO -&gt; contactDTO.phones.filter { phone -&gt; phone.isPrimary } }\n</code></pre>\n\n<p>thanks.</p>\n"}, {"tags": ["android", "variables", "kotlin", "static", "var"], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 9417241, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "umer farooq", "link": "https://stackoverflow.com/users/9417241/umer-farooq"}, "is_accepted": false, "score": 1, "last_activity_date": 1547493739, "last_edit_date": 1547493739, "creation_date": 1547489457, "answer_id": 54186967, "question_id": 54186911, "link": "https://stackoverflow.com/questions/54186911/how-to-define-a-public-static-boolean-in-kotlin/54186967#54186967", "title": "How to define a public static Boolean in Kotlin", "body": "<p>You have to create companion object for this.\nYour code in Kotlin would look something like this:</p>\n\n<pre><code>class Foo {\n\n    companion object {\n         lateinit var instance: Foo\n    }\n\n    init {\n        instance = this\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 9484724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dariush kiany", "link": "https://stackoverflow.com/users/9484724/dariush-kiany"}, "edited": false, "score": 1, "creation_date": 1547554569, "post_id": 54187015, "comment_id": 95223957, "body": "When I use another class This error:&#39;ActivityIsRuning &#39; has private access in className"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 0, "last_activity_date": 1547489699, "creation_date": 1547489699, "answer_id": 54187015, "question_id": 54186911, "link": "https://stackoverflow.com/questions/54186911/how-to-define-a-public-static-boolean-in-kotlin/54187015#54187015", "title": "How to define a public static Boolean in Kotlin", "body": "<p>You can define static variables in the <code>companion object</code> of any class. If you make it a <code>var</code> instead of a <code>val</code>, it can change values:</p>\n\n<pre><code>class MyClass {\n    companion object {\n        var activityIsRunning: Boolean = false\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 9484724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dariush kiany", "link": "https://stackoverflow.com/users/9484724/dariush-kiany"}, "edited": false, "score": 0, "creation_date": 1547555330, "post_id": 54187871, "comment_id": 95224360, "body": "When I use another class This error:1-&gt; Cannot resolve symbol ActivityIsRuning ,  2 and 3 -&gt; ActivityIsRuning&#39; has private access in ClassName"}, {"owner": {"reputation": 35, "user_id": 9484724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dariush kiany", "link": "https://stackoverflow.com/users/9484724/dariush-kiany"}, "edited": false, "score": 0, "creation_date": 1547556001, "post_id": 54187871, "comment_id": 95224750, "body": "I found.. In the third case, This way the problem was resolved. &quot;@JvmField var ActivityIsRuning = false&quot; Is it standard?"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 35, "user_id": 9484724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dariush kiany", "link": "https://stackoverflow.com/users/9484724/dariush-kiany"}, "edited": false, "score": 0, "creation_date": 1547563893, "post_id": 54187871, "comment_id": 95229355, "body": "adding @JvmStatic is not necessary. Pls note the difference between &quot;ActivityIsRuning&quot; and &quot;activityIsRuning&quot;. use the latter. intellij should then prompt you for an import (class should be underlined and red) (The companion object and object need an import of the form packageA.packageB.Config /packageA.packageB.StaticData)."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 35, "user_id": 9484724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dariush kiany", "link": "https://stackoverflow.com/users/9484724/dariush-kiany"}, "edited": false, "score": 0, "creation_date": 1547563955, "post_id": 54187871, "comment_id": 95229394, "body": "@dariushkiany note, that this is strictly for kotlin. you seem to mix it up with java (maybe?)"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 3, "last_activity_date": 1547494384, "last_edit_date": 1547494384, "creation_date": 1547493735, "answer_id": 54187871, "question_id": 54186911, "link": "https://stackoverflow.com/questions/54186911/how-to-define-a-public-static-boolean-in-kotlin/54187871#54187871", "title": "How to define a public static Boolean in Kotlin", "body": "<p>There are three ways to achieve this:</p>\n\n<p><strong>1) Top-level / global declaration</strong></p>\n\n<p>Declare a variable outside of any class or function and it will be accessible from anywhere:</p>\n\n<pre><code>var activityIsRunning = false\n</code></pre>\n\n<p><strong>2) <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">object</a> (an out of the box singleton)</strong></p>\n\n<pre><code>object StaticData {\n    var activityIsRunning = false\n}\n</code></pre>\n\n<p>Accessable like this:</p>\n\n<pre><code>StaticData.activityIsRunning\n</code></pre>\n\n<p><strong>3) Class with <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">companion object</a> (as Todd already suggested)</strong></p>\n\n<pre><code>class Config {\n    companion object {\n        var activityIsRunning = false\n    }\n}\n</code></pre>\n\n<p>Accessable like this:</p>\n\n<pre><code>Config.activityIsRunning\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 9484724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dariush kiany", "link": "https://stackoverflow.com/users/9484724/dariush-kiany"}, "edited": false, "score": 0, "creation_date": 1547555612, "post_id": 54187931, "comment_id": 95224538, "body": "When I use another class This error:&#39;ActivityIsRuning &#39; has private access in className"}], "tags": [], "owner": {"reputation": 7017, "user_id": 816416, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cea2d43b65bd3fbc1a0991c30ace34f6?s=128&d=identicon&r=PG", "display_name": "Vishnu Haridas", "link": "https://stackoverflow.com/users/816416/vishnu-haridas"}, "is_accepted": false, "score": 0, "last_activity_date": 1547493999, "creation_date": 1547493999, "answer_id": 54187931, "question_id": 54186911, "link": "https://stackoverflow.com/questions/54186911/how-to-define-a-public-static-boolean-in-kotlin/54187931#54187931", "title": "How to define a public static Boolean in Kotlin", "body": "<p>Adding to @Todd and @Willi Mentzel, if you like to group those settings under a common area, you can use a top-level plain <code>object</code>.</p>\n\n<pre><code>object GlobalSettings{\n    var isHomeActivityRunning = false\n    var isDrinkingCocoCola = true\n}\n</code></pre>\n\n<p>and this can be accessed anywhere in the code (inside an Activity, Service, or anywhere) like this:</p>\n\n<pre><code>if( GlobalSettings.isDrinkingCocoCola ){\n    // do something\n} else {\n   GlobalSettings.isDrinkingCocoCola = false\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9484724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dariush kiany", "link": "https://stackoverflow.com/users/9484724/dariush-kiany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2813, "favorite_count": 0, "accepted_answer_id": 54187871, "answer_count": 4, "score": 1, "last_activity_date": 1608629137, "creation_date": 1547489212, "last_edit_date": 1608629137, "question_id": 54186911, "link": "https://stackoverflow.com/questions/54186911/how-to-define-a-public-static-boolean-in-kotlin", "title": "How to define a public static Boolean in Kotlin", "body": "<p>I wanted to know how I define a static variable in Kotlin that can be used in other classes that do not final. Because the data is changing.</p>\n<p>Example Java:</p>\n<pre><code>public static Boolean ActivityIsRuning = false;\n</code></pre>\n"}, {"tags": ["maven", "gradle", "kotlin", "maven-publish"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1547488783, "creation_date": 1547488783, "answer_id": 54186835, "question_id": 54186458, "link": "https://stackoverflow.com/questions/54186458/remove-all-suffix-in-name-of-jar-when-it-is-published-by-maven-publish-gradl/54186835#54186835", "title": "Remove &quot;-all&quot; suffix in name of JAR, when it is published by maven-publish gradle plugin", "body": "<p>To change the JAR classifier for the published artifact, replace </p>\n\n<pre><code>artifact(this@run[\"shadowJar\"])\n</code></pre>\n\n<p>with </p>\n\n<pre><code>artifact(this@run[\"shadowJar\"]) {\n    classifier = null\n}\n</code></pre>\n\n<p>This should remove the <code>all</code> suffix that is set as a classifier by the Shadow plugin.</p>\n"}], "owner": {"reputation": 720, "user_id": 10117056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/092a193074df16e4cad3b363f491220a?s=128&d=identicon&r=PG", "display_name": "Commander Tvis", "link": "https://stackoverflow.com/users/10117056/commander-tvis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "accepted_answer_id": 54186835, "answer_count": 1, "score": 3, "last_activity_date": 1547488783, "creation_date": 1547487081, "question_id": 54186458, "link": "https://stackoverflow.com/questions/54186458/remove-all-suffix-in-name-of-jar-when-it-is-published-by-maven-publish-gradl", "title": "Remove &quot;-all&quot; suffix in name of JAR, when it is published by maven-publish gradle plugin", "body": "<p><code>maven-publish</code> plugin posts JAR with name in format of \"project-1.0-all.jar\"</p>\n\n<p>I used Maven, everything was OK. Now I've migrated to Gradle with maven-publish plugin. </p>\n\n<p>Here is my <code>publishing</code> Gradle build-script section</p>\n\n<pre><code>    publishing {\n        publications {\n            create&lt;MavenPublication&gt;(\"mavenJava\") {\n                artifact(this@run[\"shadowJar\"])\n                pom {\n\n                    artifactId = project.name\n                    groupId = project.group.toString()\n                    packaging = \"jar\"\n\n                    name.set(project.name)\n                    description.set(project.description)\n                    url.set(\"https://gitlab.com/otherwise.su/config\")\n                    inceptionYear.set(\"2018\")\n                    licenses {\n                        license {\n                            comments.set(\"Open-source license\")\n                            distribution.set(\"repo\")\n                            name.set(\"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f\")\n                            url.set(\"https://gitlab.com/otherwise.su/config/blob/master/LICENSE.md\")\n                        }\n                    }\n                    developers {\n                        developer {\n                            email.set(\"postovalovya@gmail.com\")\n                            id.set(\"CMDR_Tvis\")\n                            name.set(\"Commander Tvis\")\n                            roles.set(listOf(\"architect\", \"developer\"))\n                            timezone.set(\"Russian Federation/Novosibirsk\")\n                            url.set(\"https://gitlab.com/CMDR_Tvis\")\n                        }\n                    }\n\n                }\n            }\n        }\n        repositories {\n            maven(\"https://gitlab.com/api/v4/projects/10077943/packages/maven\") {\n                credentials(HttpHeaderCredentials::class) {\n                    name = \"Job-Token\"\n                    value = System.getenv(\"CI_JOB_TOKEN\")\n                }\n                authentication { register(\"header\", HttpHeaderAuthentication::class) }\n            }\n        }\n    }\n</code></pre>\n\n<p>Here's my full <a href=\"https://gist.github.com/dc3b22748e7426b492b43a67a678e875\" rel=\"nofollow noreferrer\">build-script</a>. </p>\n\n<p>Expected: </p>\n\n<p>JAR with name by format \"project-1.0.jar\" is published. </p>\n\n<p>Actual: </p>\n\n<p>JAR with name by format \"project-1.0-all.jar is published. </p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 4078, "user_id": 2781271, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/22d16d429b7ea7d58974f91c889fbdcd?s=128&d=identicon&r=PG", "display_name": "CROSP", "link": "https://stackoverflow.com/users/2781271/crosp"}, "edited": false, "score": 0, "creation_date": 1547480704, "post_id": 54184629, "comment_id": 95197777, "body": "It seems that your <code>dbHandler</code> is never initialized and set to <code>null</code> by default. You have to create an instance manually or inject it somehow."}, {"owner": {"reputation": 27, "user_id": 10899456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090bb64b70c8dae3064e3459b651542c?s=128&d=identicon&r=PG&f=1", "display_name": "pratiwi", "link": "https://stackoverflow.com/users/10899456/pratiwi"}, "reply_to_user": {"reputation": 4078, "user_id": 2781271, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/22d16d429b7ea7d58974f91c889fbdcd?s=128&d=identicon&r=PG", "display_name": "CROSP", "link": "https://stackoverflow.com/users/2781271/crosp"}, "edited": false, "score": 0, "creation_date": 1547480891, "post_id": 54184629, "comment_id": 95197894, "body": "please give me an example @CROSP"}, {"owner": {"reputation": 4078, "user_id": 2781271, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/22d16d429b7ea7d58974f91c889fbdcd?s=128&d=identicon&r=PG", "display_name": "CROSP", "link": "https://stackoverflow.com/users/2781271/crosp"}, "edited": false, "score": 0, "creation_date": 1547481176, "post_id": 54184629, "comment_id": 95198060, "body": "Please check it out."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 10899456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090bb64b70c8dae3064e3459b651542c?s=128&d=identicon&r=PG&f=1", "display_name": "pratiwi", "link": "https://stackoverflow.com/users/10899456/pratiwi"}, "edited": false, "score": 0, "creation_date": 1547481283, "post_id": 54184725, "comment_id": 95198131, "body": "how can i initialize my dbHandler?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 27, "user_id": 10899456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090bb64b70c8dae3064e3459b651542c?s=128&d=identicon&r=PG&f=1", "display_name": "pratiwi", "link": "https://stackoverflow.com/users/10899456/pratiwi"}, "edited": false, "score": 0, "creation_date": 1547481346, "post_id": 54184725, "comment_id": 95198180, "body": "By doing <code>dbHandler = DatabaseHandler(arguments if applicable)</code>. I haven&#39;t touched SQLOpenHelper (or whatever the exact class was), so I don&#39;t remember the arguments, but they&#39;re not hard to find."}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1547492152, "last_edit_date": 1547492152, "creation_date": 1547480840, "answer_id": 54184725, "question_id": 54184629, "link": "https://stackoverflow.com/questions/54184629/null-when-adding-data-to-sqlite/54184725#54184725", "title": "Null when adding data to SQLite", "body": "<p>You never initialize <code>dbHandler</code> - it's null when you call the method. The null-safe calls prevent a NPE, but I'm assuming you just forgot initializing it. </p>\n\n<p>If you didn't, but you're wondering about the error itself, you'll first of all need to understand what this does:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dbHandler?. // if dbHandler != null\n    addTask(validasi) // call method\n    as Boolean // and cast as non-null bool\n</code></pre>\n\n<p>Now, this would've been fine if you didn't use a nullable call. Because <code>dbHandler</code> is never initialized,the expression is equivalent to:</p>\n\n<pre><code>null as Boolean\n</code></pre>\n\n<p>You can't cast null to a non-null type. Changing it to <code>Boolean?</code> will make it run, but you'll also have to change the if-statement to an explicit <code>if(success == true)</code>. </p>\n\n<p>You should do this either way; but initializing <code>dbHandler</code> will do a lot. If you don't initialize it 'til the <code>onCreate</code> method, you can make it a <code>lateinit var</code> instead, which also lets you use a non-null type.</p>\n"}, {"tags": [], "owner": {"reputation": 4078, "user_id": 2781271, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/22d16d429b7ea7d58974f91c889fbdcd?s=128&d=identicon&r=PG", "display_name": "CROSP", "link": "https://stackoverflow.com/users/2781271/crosp"}, "is_accepted": true, "score": 0, "last_activity_date": 1547481712, "last_edit_date": 1547481712, "creation_date": 1547481160, "answer_id": 54184818, "question_id": 54184629, "link": "https://stackoverflow.com/questions/54184629/null-when-adding-data-to-sqlite/54184818#54184818", "title": "Null when adding data to SQLite", "body": "<p>It seems that the main issue that you are not initializing <code>dbHandler</code>. Therefore it is null. </p>\n\n<p>Initialize it, for instance inside the <code>onCreate</code> method. Better approach is to inject dependencies. </p>\n\n<p>In your case you can try this </p>\n\n<pre><code>fun initDependencies() {\n   dbHandler = DatabaseHandler(this@ResultActivity);\n}\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_result)\n    initDependencies();\n    button_save.setOnClickListener(){\n        var success: Boolean = false\n        val validasi: Validasi = Validasi()\n        validasi.name = \"1\"\n        validasi.desc = \"1\"\n        validasi.completed = \"y\"\n        Toast.makeText(this@ResultActivity, \"\"+validasi.name, Toast.LENGTH_SHORT).show()\n\n        success = dbHandler?.addTask(validasi) as Boolean\n\n        if (success)\n            finish()\n    }\n}\n</code></pre>\n\n<p>Try this, it should work. Of course if you have constructor arguments, they should be provided when the <code>DatabaseHandler</code> instance is created.</p>\n\n<p>Also read <code>Zoe</code>'s answer, it contains important information to understand. You should better to study basic language structure and AndroidSDK infrastructure before writing an application.</p>\n"}], "owner": {"reputation": 27, "user_id": 10899456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090bb64b70c8dae3064e3459b651542c?s=128&d=identicon&r=PG&f=1", "display_name": "pratiwi", "link": "https://stackoverflow.com/users/10899456/pratiwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 54184818, "answer_count": 2, "score": -1, "last_activity_date": 1547492152, "creation_date": 1547480511, "last_edit_date": 1547482713, "question_id": 54184629, "link": "https://stackoverflow.com/questions/54184629/null-when-adding-data-to-sqlite", "title": "Null when adding data to SQLite", "body": "<p>I have tried to add data to SQLite following <a href=\"https://www.c-sharpcorner.com/article/crud-operations-in-android-sqlite-kotlin/\" rel=\"nofollow noreferrer\">this</a>. However, I get <code>null</code> when I add data</p>\n\n<p><strong>DatabaseHandler.kt</strong></p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase) {\n    val CREATE_TABLE = \"CREATE TABLE $TABLE_NAME (\" +\n            ID + \" INTEGER PRIMARY KEY,\" +\n            NAME + \" TEXT,\" + DESC + \" TEXT,\" +\n            COMPLETED + \" TEXT);\"\n    db.execSQL(CREATE_TABLE)\n}\n\nfun addTask(validasi: Validasi): Boolean {\n    val db = this.writableDatabase\n    val values = ContentValues()\n    values.put(NAME, validasi.name)\n    values.put(DESC, validasi.desc)\n    val _success = db.insert(TABLE_NAME, null, values)\n    db.close()\n    return (Integer.parseInt(\"$_success\") != -1)\n}\n override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n    val DROP_TABLE = \"DROP TABLE IF EXISTS \" + TABLE_NAME\n    db.execSQL(DROP_TABLE)\n    onCreate(db)\n}\n\ncompanion object {\n\n    private val DB_VERSION = 1\n    private val DB_NAME = \"MyTasks\"\n    private val TABLE_NAME = \"Tasks\"\n    private val ID = \"Id\"\n    private val NAME = \"Name\"\n    private val DESC = \"Desc\"\n    private val COMPLETED = \"Completed\"\n}\n</code></pre>\n\n<p><strong>ResultActivity.kt</strong></p>\n\n<pre><code>class ResultActivity : AppCompatActivity() {\n\nvar dbHandler: DatabaseHandler? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_result)\n\n    button_save.setOnClickListener(){\n        var success: Boolean = false\n        val validasi: Validasi = Validasi()\n        validasi.name = \"1\"\n        validasi.desc = \"1\"\n        validasi.completed = \"y\"\n        Toast.makeText(this@ResultActivity, \"\"+validasi.name, Toast.LENGTH_SHORT).show()\n\n        success = dbHandler?.addTask(validasi) as Boolean\n\n        if (success)\n            finish()\n    }\n}\n</code></pre>\n\n<p>but when I click button, the app has stopped and the log is say</p>\n\n<pre><code>FATAL EXCEPTION: main\nProcess: com.wahanaartha.supervisionline, PID: 930\nkotlin.TypeCastException: null cannot be cast to non-null type kotlin.Boolean\n    at ResultActivity\n</code></pre>\n\n<p>Which happens on this line: <code>success = dbHandler?.addTask(validasi) as Boolean</code></p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1547480086, "post_id": 54184190, "comment_id": 95197409, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3875184/cant-create-handler-inside-thread-that-has-not-called-looper-prepare\">Can&#39;t create handler inside thread that has not called Looper.prepare()</a>"}, {"owner": {"reputation": 603, "user_id": 6155816, "user_type": "registered", "profile_image": "https://graph.facebook.com/213628505692530/picture?type=large", "display_name": "Naveen", "link": "https://stackoverflow.com/users/6155816/naveen"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1547480507, "post_id": 54184190, "comment_id": 95197652, "body": "Not a duplicate, please read the question again @Zoe"}, {"owner": {"reputation": 736, "user_id": 1803222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/93623a57b0bed312967a83bf14766545?s=128&d=identicon&r=PG", "display_name": "Anhayt Ananun", "link": "https://stackoverflow.com/users/1803222/anhayt-ananun"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1547487423, "post_id": 54184190, "comment_id": 95201315, "body": "I think @Zoe is correct and the solution from stackoverflow question he mentioned can be used to solve your issue. It is not a total duplicate, but the solution seem same. Please, try that solution and report if it works for you."}, {"owner": {"reputation": 603, "user_id": 6155816, "user_type": "registered", "profile_image": "https://graph.facebook.com/213628505692530/picture?type=large", "display_name": "Naveen", "link": "https://stackoverflow.com/users/6155816/naveen"}, "reply_to_user": {"reputation": 736, "user_id": 1803222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/93623a57b0bed312967a83bf14766545?s=128&d=identicon&r=PG", "display_name": "Anhayt Ananun", "link": "https://stackoverflow.com/users/1803222/anhayt-ananun"}, "edited": false, "score": 1, "creation_date": 1547535524, "post_id": 54184190, "comment_id": 95215088, "body": "That solution didnt work @Anhayt, i asked this after  browsing stackoverflow"}, {"owner": {"reputation": 736, "user_id": 1803222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/93623a57b0bed312967a83bf14766545?s=128&d=identicon&r=PG", "display_name": "Anhayt Ananun", "link": "https://stackoverflow.com/users/1803222/anhayt-ananun"}, "edited": false, "score": 0, "creation_date": 1547581740, "post_id": 54184190, "comment_id": 95238373, "body": "I see. What error do you get when you try it? Also, can you add the code for your attempt to the question?"}], "answers": [{"tags": [], "owner": {"reputation": 603, "user_id": 6155816, "user_type": "registered", "profile_image": "https://graph.facebook.com/213628505692530/picture?type=large", "display_name": "Naveen", "link": "https://stackoverflow.com/users/6155816/naveen"}, "is_accepted": false, "score": 0, "last_activity_date": 1547821628, "creation_date": 1547821628, "answer_id": 54255979, "question_id": 54184190, "link": "https://stackoverflow.com/questions/54184190/how-to-add-view-inside-the-firebase-messaging-service/54255979#54255979", "title": "How to add view inside the firebase messaging service?", "body": "<p>Finally i got the solution myself, the  FirebaseMessagingService() does not have a context to inflate the view, so i have to start a service inside the onMessageReceived method and inflate the view from there like</p>\n\n<pre><code>val fcmDrawOverlayService = Intent(this@FCMMessageReceiverService, FcmDrawOverlayService::class.java)\nstartService(fcmDrawOverlayService)\n</code></pre>\n\n<p>and inflate it on fcmDrawOverlayService onCreate() method.</p>\n"}], "owner": {"reputation": 603, "user_id": 6155816, "user_type": "registered", "profile_image": "https://graph.facebook.com/213628505692530/picture?type=large", "display_name": "Naveen", "link": "https://stackoverflow.com/users/6155816/naveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1547821628, "creation_date": 1547478907, "last_edit_date": 1547489607, "question_id": 54184190, "link": "https://stackoverflow.com/questions/54184190/how-to-add-view-inside-the-firebase-messaging-service", "title": "How to add view inside the firebase messaging service?", "body": "<p>I am using fcm for push notifications, whenever a push notification arrives i need to show a view to user from the service(even when the app is killed or in background), i tried to do it like facebook messenger style by drawing overlays, i have already got the permission for making overlays (android.permission.SYSTEM_ALERT_WINDOW), this is my service class</p>\n\n<pre><code>package com.radisolutions.radipeople.radihome.services\n\n    import android.app.Service\n    import android.content.Context\n    import android.content.Intent\n    import android.os.IBinder\n    import android.util.Log\n    import android.view.LayoutInflater\n    import android.view.WindowManager\n    import com.google.firebase.messaging.FirebaseMessagingService\n    import com.google.firebase.messaging.RemoteMessage\n    import com.radisolutions.radipeople.radihome.R\n\n    class FCMMessageReceiverService : FirebaseMessagingService() {\n\n        override fun onMessageReceived(remoteMessage: RemoteMessage?) {\n\n           Log.i(\"naveen\", remoteMessage?.notification?.body.toString())\n            val view = LayoutInflater.from(applicationContext).inflate(R.layout.overlay_visitor_alert, null)\n            val windowManager = getSystemService(Context.WINDOW_SERVICE) as WindowManager\n            val layoutParams = WindowManager.LayoutParams(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT)\n            windowManager.addView(view, layoutParams)\n        }\n\n        override fun onCreate() {\n            super.onCreate()\n\n        }\n\n\n\n    }\n</code></pre>\n\n<p>but at the the line windowmanager.addview it triggers the below error</p>\n\n<pre><code>java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()\n</code></pre>\n\n<p>How to fix this? This is working normally when i create a view inside which broadcastreceiver class, but doesn't work on firebase service class.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 820, "user_id": 4072335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01e60f5fbc56b9ba59dde7a80bc59fc?s=128&d=identicon&r=PG&f=1", "display_name": "Can_of_awe", "link": "https://stackoverflow.com/users/4072335/can-of-awe"}, "edited": false, "score": 0, "creation_date": 1547482882, "post_id": 54184154, "comment_id": 95199046, "body": "For the importing by accident issue, one mitigation is to edit your Android Studio settings in Settings &gt; Editor &gt; General &gt; Auto Import, and add to the excluded packages list."}], "answers": [{"comments": [{"owner": {"reputation": 14396, "user_id": 1395437, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0afd3049729ecebbf134e297e278e0c1?s=128&d=identicon&r=PG", "display_name": "Daniel Zolnai", "link": "https://stackoverflow.com/users/1395437/daniel-zolnai"}, "edited": false, "score": 1, "creation_date": 1555050958, "post_id": 55643236, "comment_id": 97980995, "body": "Thanks, this works almost fully, my only problem is that it still generates the synthetic classes. But if you try to compile the app, it fails."}, {"owner": {"reputation": 1223, "user_id": 650894, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b76a642537783acc3d0b6dfb44536925?s=128&d=identicon&r=PG", "display_name": "Joe Lapp", "link": "https://stackoverflow.com/users/650894/joe-lapp"}, "edited": false, "score": 10, "creation_date": 1557700423, "post_id": 55643236, "comment_id": 98842396, "body": "This doesn&#39;t change anything for me, on Android Studio 3.4. References to the synthetic objects still compile and function."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 4, "creation_date": 1577924144, "post_id": 55643236, "comment_id": 105282619, "body": "This works for me on Android Studio 3.5.3. Note that <code>androidExtensions</code> is a top-level closure, meaning it goes outside of the <code>android</code> closure."}, {"owner": {"reputation": 712, "user_id": 5451130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bf45487fbece48ba001aa5dbfc93637?s=128&d=identicon&r=PG&f=1", "display_name": "PhillyTheThrilly", "link": "https://stackoverflow.com/users/5451130/phillythethrilly"}, "edited": false, "score": 2, "creation_date": 1589475786, "post_id": 55643236, "comment_id": 109316680, "body": "This does not work for me on Android Studio 4.0 Beta 5, even as a top level closure.  It&#39;s still generating the synthetic properties"}, {"owner": {"reputation": 489, "user_id": 10076263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c446ae62ccc4374a39cfbce66c4f189?s=128&d=identicon&r=PG&f=1", "display_name": "coltonidle", "link": "https://stackoverflow.com/users/10076263/coltonidle"}, "edited": false, "score": 0, "creation_date": 1593483256, "post_id": 55643236, "comment_id": 110790796, "body": "@kyhule what if we don&#39;t use parcelize either? Would <code>features = []</code> suffice?"}, {"owner": {"reputation": 133, "user_id": 2029232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229f5089d75e6b384acae8fd08178933?s=128&d=identicon&r=PG&f=1", "display_name": "Noam", "link": "https://stackoverflow.com/users/2029232/noam"}, "reply_to_user": {"reputation": 489, "user_id": 10076263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c446ae62ccc4374a39cfbce66c4f189?s=128&d=identicon&r=PG&f=1", "display_name": "coltonidle", "link": "https://stackoverflow.com/users/10076263/coltonidle"}, "edited": false, "score": 0, "creation_date": 1594641394, "post_id": 55643236, "comment_id": 111186622, "body": "@coltonidle That was my case, I just removed the whole <code>apply plugin: &#39;kotlin-android-extensions&#39;</code> line, it works perfectly."}, {"owner": {"reputation": 489, "user_id": 10076263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c446ae62ccc4374a39cfbce66c4f189?s=128&d=identicon&r=PG&f=1", "display_name": "coltonidle", "link": "https://stackoverflow.com/users/10076263/coltonidle"}, "edited": false, "score": 0, "creation_date": 1594765846, "post_id": 55643236, "comment_id": 111240428, "body": "I don&#39;t have that plugin at all."}, {"owner": {"reputation": 358, "user_id": 5456621, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d9b341d8e26630e7c2aa2c9317c336e?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh Bisht", "link": "https://stackoverflow.com/users/5456621/hitesh-bisht"}, "edited": false, "score": 0, "creation_date": 1596284816, "post_id": 55643236, "comment_id": 111766519, "body": "I tried the same on android studio 4.0.1 and it does work. It seems in editor we can see the Kotlin synthetics but when I run the code it gives error &quot;Unresolved reference: synthetic&quot;. At least no one in the team will be able to use it by mistake."}], "tags": [], "owner": {"reputation": 626, "user_id": 2668915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1abf90dd36a31a33ae9cb0ca086e7f?s=128&d=identicon&r=PG", "display_name": "kyhule", "link": "https://stackoverflow.com/users/2668915/kyhule"}, "is_accepted": true, "score": 21, "last_activity_date": 1599070705, "last_edit_date": 1599070705, "creation_date": 1555032525, "answer_id": 55643236, "question_id": 54184154, "link": "https://stackoverflow.com/questions/54184154/how-to-disable-the-generating-of-synthetic-view-properties-by-the-kotlin-android/55643236#55643236", "title": "How to disable the generating of synthetic view properties by the Kotlin Android extensions plugin", "body": "<p>There is a <code>features</code> property in the <code>androidExtensions</code> DSL that allows you to provide a list of features to enable. Currently, there is only two available, <code>parcelize</code> and <code>views</code>. To disable synthetic view properties, add this to your <code>build.gradle</code>:</p>\n<pre><code>android {\n   // ...\n}\n\nandroidExtensions {\n    features = [&quot;parcelize&quot;]\n}\n</code></pre>\n<p>Source: <a href=\"https://github.com/JetBrains/kotlin/blob/6bef27e1e889b17ae84dd2ff99881727f13ac3e5/plugins/android-extensions/android-extensions-compiler/src/org/jetbrains/kotlin/android/synthetic/AndroidComponentRegistrar.kt#L57\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin/blob/6bef27e1e889b17ae84dd2ff99881727f13ac3e5/plugins/android-extensions/android-extensions-compiler/src/org/jetbrains/kotlin/android/synthetic/AndroidComponentRegistrar.kt#L57</a></p>\n"}, {"tags": [], "owner": {"reputation": 2001, "user_id": 1896203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zi8eA.jpg?s=128&g=1", "display_name": "pauminku", "link": "https://stackoverflow.com/users/1896203/pauminku"}, "is_accepted": false, "score": 3, "last_activity_date": 1611671460, "creation_date": 1611671460, "answer_id": 65903256, "question_id": 54184154, "link": "https://stackoverflow.com/questions/54184154/how-to-disable-the-generating-of-synthetic-view-properties-by-the-kotlin-android/65903256#65903256", "title": "How to disable the generating of synthetic view properties by the Kotlin Android extensions plugin", "body": "<p>Nowadays, android-extensions plugin is <a href=\"https://android-developers.googleblog.com/2020/11/the-future-of-kotlin-android-extensions.html\" rel=\"nofollow noreferrer\">discontinued</a> so the best solution will be to just remove this plugin by removing <code>apply plugin: 'kotlin-android-extensions'</code> from your <code>build.gradle</code>.</p>\n<p>Instead of synthetics we should use <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">ViewBinding</a> or <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">DataBinding</a>.</p>\n<p>As explained in the first link, if you're also using parcelizer, you just need to change <code>android-extensions</code> plugin to <code>kotlin-parcelize</code> and change the import statement <code>import kotlinx.android.parcel.Parcelize</code> for <code>import kotlinx.parcelize.Parcelize</code> wherever is needed.</p>\n<p>More info to migrate from android-extensions to JetPack <a href=\"https://developer.android.com/topic/libraries/view-binding/migration\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 14396, "user_id": 1395437, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0afd3049729ecebbf134e297e278e0c1?s=128&d=identicon&r=PG", "display_name": "Daniel Zolnai", "link": "https://stackoverflow.com/users/1395437/daniel-zolnai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2477, "favorite_count": 2, "accepted_answer_id": 55643236, "answer_count": 2, "score": 17, "last_activity_date": 1611671460, "creation_date": 1547478799, "question_id": 54184154, "link": "https://stackoverflow.com/questions/54184154/how-to-disable-the-generating-of-synthetic-view-properties-by-the-kotlin-android", "title": "How to disable the generating of synthetic view properties by the Kotlin Android extensions plugin", "body": "<p>The Kotlin Android Extensions plugin generates static properties for each view with an ID from my app layout files, as it is described in <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#view-binding\" rel=\"noreferrer\">the documentation</a>.</p>\n\n<p>I would like to disable this feature, because we use DataBinding instead of the Kotlin synthetic view properties, and sometimes I import them by accident; also it adds extra build overhead for something we don't use.</p>\n\n<p>Disabling the Android extensions plugin is not possible, because we use the Parcelize feature which is done by the same plugin.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 9798529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lky50.png?s=128&g=1", "display_name": "Ali Almesbah", "link": "https://stackoverflow.com/users/9798529/ali-almesbah"}, "edited": false, "score": 0, "creation_date": 1547480222, "post_id": 54184130, "comment_id": 95197495, "body": "Thanks, shkschneider everything seems to work fine after implementing else statement"}], "tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": false, "score": 1, "last_activity_date": 1547478723, "creation_date": 1547478723, "answer_id": 54184130, "question_id": 54184054, "link": "https://stackoverflow.com/questions/54184054/onitemclicklistener-not-working-properly-in-recyclerview-after-adding-settextcol/54184130#54184130", "title": "OnItemClickListener not working properly in recyclerView after adding setTextColor?", "body": "<p>I believe you simply have recycling-related issues.</p>\n\n<pre><code>override fun onBindViewHolder(holder: TimeSlotViewHolder, position: Int) {\n    val currentItem = timeSlotsList[position]\n\n    holder.mCardTime.text = currentItem.cardTime\n    holder.mAvailability.text = currentItem.availability\n\n    if (currentItem.isSelected) {\n\n    // the problem when I add the below\n        holder.mAvailability.setTextColor(Color.RED)\n    }\n}\n</code></pre>\n\n<p>To put it simply, consider here a recycler view: you check if it's selected, then set its text color to RED. What if not?</p>\n\n<p>You should consider all cases in <code>onBindViewHolder</code>, which would mean to implement an <code>else</code> statement to handle a recycler view:</p>\n\n<pre><code>holder.mAvailability.setTextColor(if (currentItem.isSelected) Color.RED else Color.GREEN)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 9798529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lky50.png?s=128&g=1", "display_name": "Ali Almesbah", "link": "https://stackoverflow.com/users/9798529/ali-almesbah"}, "edited": false, "score": 0, "creation_date": 1547480053, "post_id": 54184218, "comment_id": 95197383, "body": "Thanks, Ken I implemented the else statement, and it worked"}], "tags": [], "owner": {"reputation": 96, "user_id": 4554474, "user_type": "registered", "profile_image": "https://graph.facebook.com/678064052303730/picture?type=large", "display_name": "Ken", "link": "https://stackoverflow.com/users/4554474/ken"}, "is_accepted": true, "score": 1, "last_activity_date": 1547479017, "creation_date": 1547479017, "answer_id": 54184218, "question_id": 54184054, "link": "https://stackoverflow.com/questions/54184054/onitemclicklistener-not-working-properly-in-recyclerview-after-adding-settextcol/54184218#54184218", "title": "OnItemClickListener not working properly in recyclerView after adding setTextColor?", "body": "<pre class=\"lang-java prettyprint-override\"><code>    if (currentItem.isSelected) {\n\n    // the problem when I add the below\n        holder.mAvailability.setTextColor(Color.RED)\n    }\n</code></pre>\n\n<p>I haven't tested this code but with my experience, it should be:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    if (currentItem.isSelected) {\n        holder.mAvailability.setTextColor(Color.RED)\n    } else {\n        holder.mAvailability.setTextColor(Color.GREEN)\n    }\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 9798529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lky50.png?s=128&g=1", "display_name": "Ali Almesbah", "link": "https://stackoverflow.com/users/9798529/ali-almesbah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 54184218, "answer_count": 2, "score": -1, "last_activity_date": 1547479017, "creation_date": 1547478486, "question_id": 54184054, "link": "https://stackoverflow.com/questions/54184054/onitemclicklistener-not-working-properly-in-recyclerview-after-adding-settextcol", "title": "OnItemClickListener not working properly in recyclerView after adding setTextColor?", "body": "<p>I have a fragment that contain a recyclerview that shows time slots in a cardviews, as shown below</p>\n\n<p><a href=\"https://i.stack.imgur.com/TvDoF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvDoF.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>What I want:</strong> if user clicks a cardview the word Available changes to Full and the text color turns to red, as shown below when clicking 7:30 slot</p>\n\n<p><a href=\"https://i.stack.imgur.com/QizUd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QizUd.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>The problem:</strong> after adding setTextColor() to textview in onbindViewHolder,\nthe changes (text to \u201cFull\u201d , color to red) applies to the clicked card, but when I scroll  recyclerview I find another card change text color to red without changing of the text to \u201cFull\u201d in a random position  !! </p>\n\n<p><a href=\"https://i.stack.imgur.com/tapmA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tapmA.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>My adapter code:</strong>\n    class TimeSlotAdapter(private val timeSlotsList: ArrayList): RecyclerView.Adapter() {</p>\n\n<pre><code>private var mListener: OnItemClickListener? = null\n\ninterface OnItemClickListener {\n          fun onItemClick(position: Int)\n}\n\nfun setOnItemClickListener (listener: OnItemClickListener) {\n    mListener = listener\n}\n\nclass TimeSlotViewHolder(card: View, listener: OnItemClickListener?): RecyclerView.ViewHolder(card){\n\n    var mCardTime: TextView = card.findViewById(R.id.timeTV)\n    var mAvailability: TextView = card.findViewById(R.id.availabilityTV)\n\n    init {\n\n        card.setOnClickListener {\n            if (listener != null) {\n                val position = adapterPosition\n                if (position != RecyclerView.NO_POSITION) {\n                    listener.onItemClick(position)\n                }\n            }\n        }\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TimeSlotViewHolder {\n    val v = LayoutInflater.from(parent.context).inflate(R.layout.time_slot, parent, false)\n    return TimeSlotViewHolder(v, mListener)\n}\n\noverride fun getItemCount(): Int = timeSlotsList.size\n\noverride fun onBindViewHolder(holder: TimeSlotViewHolder, position: Int) {\n    val currentItem = timeSlotsList[position]\n\n    holder.mCardTime.text = currentItem.cardTime\n    holder.mAvailability.text = currentItem.availability\n\n    if (currentItem.isSelected) {\n\n    // the problem when I add the below\n        holder.mAvailability.setTextColor(Color.RED)\n    }\n}\n</code></pre>\n\n<p><strong>activity fragment code:</strong>\n    class ReserveTimeFragment : Fragment() {</p>\n\n<pre><code>private var timeSlotsList: ArrayList&lt;TimeSlot&gt;? = null\n\nprivate var mRecyclerView: RecyclerView? = null\nprivate var mAdapter: TimeSlotAdapter? = null\nprivate var mLayoutManager: RecyclerView.LayoutManager? = null\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    val view = inflater.inflate(R.layout.fragment_reserve_time, container, false)\n\n    mRecyclerView = view.findViewById(R.id.recyclerViewLO)\n\n    createTimeSlotsList()\n    buildRecyclerView()\n\n    return view\n}\n\nfun buildRecyclerView() {\n    mRecyclerView!!.setHasFixedSize(true)\n    mLayoutManager = LinearLayoutManager(activity)\n    mAdapter = TimeSlotAdapter(timeSlotsList!!)\n\n    mRecyclerView!!.layoutManager = mLayoutManager\n    mRecyclerView!!.adapter = mAdapter\n\n    mAdapter!!.setOnItemClickListener(object : TimeSlotAdapter.OnItemClickListener {\n        override fun onItemClick(position: Int) {\n            selectedItem(position, \"Full\", false)\n        }\n    })\n}\n\nfun selectedItem(position: Int, text: String, selected: Boolean) {\n    timeSlotsList!![position].changeAvailability(text)\n    timeSlotsList!![position].selecteditem(selected)\n    mAdapter!!.notifyDataSetChanged()\n}\n\nprivate fun createTimeSlotsList() {\n    timeSlotsList = ArrayList()\n    timeSlotsList!!.add(TimeSlot(\"07:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"08:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"08:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"09:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"09:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"10:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"10:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"11:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"11:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"12:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"12:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"13:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"13:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"14:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"14:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"15:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"15:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"16:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"16:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"17:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"17:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"18:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"18:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"19:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"19:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"20:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"20:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"21:00\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"21:30\", \"Available\", false))\n    timeSlotsList!!.add(TimeSlot(\"22:00\", \"Available\", false))\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>How to fix this problem, please?</strong></p>\n"}, {"tags": ["datetime", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1547479450, "post_id": 54183856, "comment_id": 95197028, "body": "@Alexei adapted the answer to your actual problem."}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1547484410, "post_id": 54183856, "comment_id": 95199935, "body": "Also I need to convert tsDate (TemporalAccessor)  to TimeStamp. How I can do this?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 1, "creation_date": 1547485649, "post_id": 54183856, "comment_id": 95200549, "body": "<code>Timestamp.valueOf(LocalDateTime.from(tsDate &#47;* the parsed one *&#47;))</code>"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 1, "creation_date": 1547543064, "post_id": 54183856, "comment_id": 95218001, "body": "@Alexei If you thought you needed to convert to <code>Timestamp</code> for your SQL database, you were probably wrong. JDBC handles <code>LocalDateTime</code> and other java.time types since version 4.2. A modern JPA implementation does too."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 2, "last_activity_date": 1547485634, "last_edit_date": 1547485634, "creation_date": 1547477815, "answer_id": 54183856, "question_id": 54183696, "link": "https://stackoverflow.com/questions/54183696/why-incorrect-convert-from-string-to-date/54183856#54183856", "title": "Why incorrect convert from string to date?", "body": "<p>As a suggestion: whenever you can, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a>-utilities.</p>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a> has a special handling for the milliseconds. Everything that is parsed by the <code>S</code> is treated as milliseconds. As long as you deal with 3-digit-milliseconds, everything is fine (you may even just use a single <code>S</code> (i.e. <code>.S</code>) for the milliseconds to parse them), but if you use 6-digit-milliseconds as input then you also get a 6-digit-millisecond(!)-value.</p>\n\n<p>The 6-digit-milliseconds then are actually 3-digit seconds + the 3-digit milliseconds. That is where the deviation is coming from.</p>\n\n<p>How to solve that? Well either shorten the input time string and lose some precision or use the preferred <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> instead with a pattern matching your input, i.e. <code>yyyy-MM-dd'T'HH:mm:ss.SSSSSS</code>:</p>\n\n<pre><code>val TS_DATE_PATTERN = \"yyyy-MM-dd'T'HH:mm:ss.SSSSSS\"\nval formatter = DateTimeFormatter.ofPattern(TS_DATE_PATTERN)\n\nval tsDate = formatter.parse(ts) // now the value as you would expect it...\n</code></pre>\n\n<p>Transforming that to a <code>TimeStamp</code> will work as follows:</p>\n\n<pre><code>Timestamp.valueOf(LocalDateTime.from(tsDate))\n</code></pre>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547485994, "creation_date": 1547477221, "last_edit_date": 1547485994, "question_id": 54183696, "link": "https://stackoverflow.com/questions/54183696/why-incorrect-convert-from-string-to-date", "title": "Why incorrect convert from string to date?", "body": "<p>In my Kotlin code:</p>\n\n<pre><code>   const val TS_DATE_PATTERN = \"yyyy-MM-dd'T'HH:mm:ss.SSS\"\n   val ts = responseJsonObject.get(\"TS\").getAsString()\n   val tsDate = SimpleDateFormat(TS_DATE_PATTERN).parse(ts)\n   val tsDateAsString = SimpleDateFormat(TS_DATE_PATTERN).format(tsDate)\n   logger.info(\"ts = \" + ts + \" -&gt; tsDate = \" + tsDate + \" -&gt; tsDateAsString = \" + tsDateAsString)\n</code></pre>\n\n<p>And here the (formatted for readability) result:</p>\n\n<pre><code>ts             = 2019-01-14T22:56:30.429582 \ntsDate         = Mon Jan 14 23:03:39 EET 2019 \ntsDateAsString = 2019-01-14T23:03:39.582\n</code></pre>\n\n<p>As you can see the <strong>ts</strong> and <strong>tsDateAsString</strong> have different times, although they came from the same starting point. </p>\n\n<p>E.g. <code>ts = 22:56:30</code> but in <code>tsDateAsString = 23:03:39</code></p>\n\n<p>Why?</p>\n"}, {"tags": ["java", "kotlin", "enums", "kotlin-interop"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1547476130, "post_id": 54182398, "comment_id": 95195151, "body": "@yole the linked duplicate is not really related to this question... (except for the error message)... the linked duplicate declares a new enum and isn&#39;t able to declare an entry with name <code>name</code>. In this question however the <code>enum</code> is an existing Java enum with a <code>name</code>-field... (even though one can definitely argue why anyone wants such a field in an enum :-/)"}, {"owner": {"reputation": 1600, "user_id": 2153273, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/agdoU.jpg?s=128&g=1", "display_name": "lbenedetto", "link": "https://stackoverflow.com/users/2153273/lbenedetto"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547476524, "post_id": 54182398, "comment_id": 95195319, "body": "If you are using a library with an enum in it, then its not up to you.  Or maybe you have an enum of Countries named after their ISO codes, with the name field being the name of the country, that is depended upon in too many places to refactor."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1547480753, "post_id": 54182398, "comment_id": 95197805, "body": "ok... I rather argue about an accessible field in an enum... usually in the Java-world fields are not exposed directly, but rather hidden behind accessor methods... but again: you have that problem... it seems valid to me and not directly related to the linked question."}], "owner": {"reputation": 1600, "user_id": 2153273, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/agdoU.jpg?s=128&g=1", "display_name": "lbenedetto", "link": "https://stackoverflow.com/users/2153273/lbenedetto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1547472891, "answer_count": 0, "score": 1, "last_activity_date": 1547476462, "creation_date": 1547472166, "last_edit_date": 1547476462, "question_id": 54182398, "link": "https://stackoverflow.com/questions/54182398/kotlin-resolution-ambiguity-when-trying-to-access-a-field-named-name-in-an-enu", "closed_reason": "Duplicate", "title": "Kotlin resolution ambiguity when trying to access a field named &quot;name&quot; in an enum", "body": "<p>Kotlin can't access a field in a java enum because it is called name, which collides with the name variable in Kotlin's definition of Enum, as seen in this question:\n<a href=\"https://stackoverflow.com/questions/52557410/conflicting-name-declaration-in-enum\">Conflicting &#39;name&#39; declaration in enum</a></p>\n\n<p>The solution to that question was to edit the enum, but I can't edit this Java enum.</p>\n\n<p>How do I resolve the ambiguity for Kotlin so that I can access the name field?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1547472209, "post_id": 54182352, "comment_id": 95192972, "body": "<a href=\"https://kotlinlang.org/docs/reference/lambdas.html#higher-order-functions\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a> I don&#39;t know what autoclosure is, but looks like you are describing a higher order function"}, {"owner": {"reputation": 1503, "user_id": 3142672, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WdnN8.jpg?s=128&g=1", "display_name": "Kane Cheshire", "link": "https://stackoverflow.com/users/3142672/kane-cheshire"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1547472934, "post_id": 54182352, "comment_id": 95193395, "body": "Yeah that looks like it&#39;s on the right track, except an autoclosure essentially lets you pass in any expression and it will get executed at the point of calling <code>handler()</code>. I&#39;d need a way to pass in <i>any</i> function, rather than a function with a specific signature"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1547473176, "post_id": 54182352, "comment_id": 95193530, "body": "maybe I am missing the point but that doesn&#39;t sound like a good idea. Why do you need that? How would the executed function know what parameters were passed to it or what they represent?"}, {"owner": {"reputation": 1503, "user_id": 3142672, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WdnN8.jpg?s=128&g=1", "display_name": "Kane Cheshire", "link": "https://stackoverflow.com/users/3142672/kane-cheshire"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1547473621, "post_id": 54182352, "comment_id": 95193761, "body": "It&#39;s for a very specific use case in automation testing, but that&#39;s besides the point really! The Swift code above will call any expression (in this case <code>aFunctionThatTakesParameters(parameter: &quot;&quot;)</code>) when <code>handler()</code> is called, so it doesn&#39;t matter what parameters are passed to it because it&#39;s not the step that cares about it, the step is just executing it when the step needs to."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1547474050, "post_id": 54182352, "comment_id": 95193970, "body": "then could you not pass an empty function that only functions as trigger, and invoke the actual function in the calling class when the &#39;trigger function&#39; is invoked"}, {"owner": {"reputation": 1503, "user_id": 3142672, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WdnN8.jpg?s=128&g=1", "display_name": "Kane Cheshire", "link": "https://stackoverflow.com/users/3142672/kane-cheshire"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1547474367, "post_id": 54182352, "comment_id": 95194145, "body": "Wouldn&#39;t I need to wrap that in <code>{}</code> though? That&#39;s essentially what <code>@autoclosure</code> is doing for us in the code above"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1547474789, "post_id": 54182352, "comment_id": 95194387, "body": "yes but I mean you&#39;d call it like <code>Step(handler = { realFunctionWithParams(param=&quot;&quot;) })</code> where &#39;handler&#39; only functions as delegate"}, {"owner": {"reputation": 1503, "user_id": 3142672, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WdnN8.jpg?s=128&g=1", "display_name": "Kane Cheshire", "link": "https://stackoverflow.com/users/3142672/kane-cheshire"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1547474871, "post_id": 54182352, "comment_id": 95194435, "body": "That&#39;s what I&#39;m trying to avoid really, appreciate it&#39;s just sugar but the way we write our automation on iOS is really easy to read and write, although this doesn&#39;t add much extra to write it&#39;s not as clean. In any case, thanks for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 795, "user_id": 7729375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvAEh.jpg?s=128&g=1", "display_name": "Benjamin Charais", "link": "https://stackoverflow.com/users/7729375/benjamin-charais"}, "is_accepted": false, "score": 0, "last_activity_date": 1597865194, "last_edit_date": 1597865194, "creation_date": 1578940272, "answer_id": 59722206, "question_id": 54182352, "link": "https://stackoverflow.com/questions/54182352/kotlin-equivalent-for-swifts-autoclosure/59722206#59722206", "title": "Kotlin equivalent for Swift&#39;s `@autoclosure`", "body": "<p>I pulled open the Swift documentation for Auto closures at the link:\n<a href=\"https://docs.swift.org/swift-book/LanguageGuide/Closures.html#ID543\" rel=\"nofollow noreferrer\">https://docs.swift.org/swift-book/LanguageGuide/Closures.html#ID543</a></p>\n<p>That references this code:</p>\n<pre><code>var customersInLine = [&quot;Chris&quot;, &quot;Alex&quot;, &quot;Ewa&quot;, &quot;Barry&quot;, &quot;Daniella&quot;]\nprint(customersInLine.count)\n// Prints &quot;5&quot;\n\nlet customerProvider = { customersInLine.remove(at: 0) }\nprint(customersInLine.count)\n// Prints &quot;5&quot;\n\nprint(&quot;Now serving \\(customerProvider())!&quot;)\n// Prints &quot;Now serving Chris!&quot;\nprint(customersInLine.count)\n// Prints &quot;4&quot;\n</code></pre>\n<p>I then wrote the following to translate from Swift to Kotlin:</p>\n<pre><code>val customersInLine = mutableListOf(&quot;Chris&quot;, &quot;Alex&quot;, &quot;Ema&quot;, &quot;Barry&quot;, &quot;Daniella&quot;)\nprintln(customersInLine.size)\n// Prints &quot;5&quot;\n\nval customerProvider = { customersInLine.removeAt(0) }\nprintln(customersInLine.size)\n// Prints &quot;5&quot;\n\nprintln(&quot;Now serving ${customerProvider()}!&quot;)\n// Prints &quot;Now serving Chris!&quot;\nprintln(customersInLine.size)\n// Prints &quot;4&quot;\n</code></pre>\n<p>While this doesn't seem to give the expected output you are looking for, you could do something more along the lines of...</p>\n<pre><code>class Step (handler: () -&gt; Unit) {\n    init {\n        handler()\n    }\n}\n\nfun myParamFunction(a: String, b: String) {\n    a + b\n}\n\nStep {\n   myParamFunction(&quot;Hello &quot;, &quot;there&quot;) \n}\n</code></pre>\n<p>In this case, the best Kotlin can do is take a pure lambda function, and internally call a function that has been given parameters to be called.</p>\n"}], "owner": {"reputation": 1503, "user_id": 3142672, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WdnN8.jpg?s=128&g=1", "display_name": "Kane Cheshire", "link": "https://stackoverflow.com/users/3142672/kane-cheshire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 302, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1597865194, "creation_date": 1547471994, "question_id": 54182352, "link": "https://stackoverflow.com/questions/54182352/kotlin-equivalent-for-swifts-autoclosure", "title": "Kotlin equivalent for Swift&#39;s `@autoclosure`", "body": "<p>I'm wondering if there's an equivalent to <a href=\"https://docs.swift.org/swift-book/LanguageGuide/Closures.html#ID543\" rel=\"nofollow noreferrer\">Swift's <code>@autoclosure</code> feature</a></p>\n\n<p>Essentially, I want to be able to create an argument in a function or constructor/initializer that can take another function that takes parameters, and execute it:</p>\n\n<pre><code>class Step(handler: () -&gt; Unit) {\n\n    init {\n        handler()\n    }\n\n}\n\nStep(aFunctionThatTakesParameters(parameter: String)) // &lt;- Is there a way to get something like this working?\n</code></pre>\n\n<p>For reference, the equivalent code in Swift looks like this: </p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>struct Step {\n\n    init(_ handler: @autoclosure () -&gt; Void) {\n        handler()\n    }\n\n}\n\nStep(aFunctionThatTakesParameters(parameter: \"\"))\n</code></pre>\n"}, {"tags": ["kotlin", "android-workmanager"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1547474531, "post_id": 54182084, "comment_id": 95194232, "body": "Precise scheduling is energy-inefficient, that&#39;s why Android won&#39;t let you have it."}, {"owner": {"reputation": 3302, "user_id": 6155031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/efc958223065dee5f01fa8997f13384f?s=128&d=identicon&r=PG&f=1", "display_name": "6155031", "link": "https://stackoverflow.com/users/6155031/6155031"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1547475714, "post_id": 54182084, "comment_id": 95194902, "body": "Then I have to use AlarmManager for punctual work like alarm app? @MarkoTopolnik"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1547478200, "post_id": 54182084, "comment_id": 95196295, "body": "Maybe you succeed with that, but the inaccuracy is there for a reason. Your app may get flagged as a battery drainer."}, {"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1548865698, "post_id": 54182084, "comment_id": 95699499, "body": "Do you have it on active app kept in background only? How about killed app? It doesn&#39;t work for me at all if the app is killed."}], "answers": [{"tags": [], "owner": {"reputation": 13962, "user_id": 304533, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23fcaec3eee6cf382d17daaf0fc5e893?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/304533/rahul"}, "is_accepted": true, "score": 6, "last_activity_date": 1547497419, "creation_date": 1547497419, "answer_id": 54188653, "question_id": 54182084, "link": "https://stackoverflow.com/questions/54182084/periodicworkrequest-not-repeating-on-the-tick/54188653#54188653", "title": "PeriodicWorkRequest not repeating on the tick", "body": "<p>As Marko said, Precise scheduling is battery in-efficient. WorkManager APIs don't guarentee schedule for that very reason. If you want strict timing, you can take a look at the AlarmManager APIs for that. </p>\n"}], "owner": {"reputation": 3302, "user_id": 6155031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/efc958223065dee5f01fa8997f13384f?s=128&d=identicon&r=PG&f=1", "display_name": "6155031", "link": "https://stackoverflow.com/users/6155031/6155031"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 54188653, "answer_count": 1, "score": 5, "last_activity_date": 1547497419, "creation_date": 1547471024, "question_id": 54182084, "link": "https://stackoverflow.com/questions/54182084/periodicworkrequest-not-repeating-on-the-tick", "title": "PeriodicWorkRequest not repeating on the tick", "body": "<p>Im setting PeriodicWorkRequest for 15 minutes. But its repeating sometimes 10 sometimes 17 minutes. How can I set max a few seconds deviation. </p>\n\n<pre><code> val workRequest = PeriodicWorkRequest.Builder(NotificationWork::class.java, 15, TimeUnit.MINUTES).build()\n        WorkManager.getInstance().enqueue(workRequest)\n</code></pre>\n\n<p>13:10</p>\n\n<p>13:26</p>\n\n<p>13:51</p>\n\n<p>14:01</p>\n\n<p>Can I set a background work like an alarm on the tick or else Workmanager work like this always?</p>\n\n<p>My code block is like above.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 653, "user_id": 10261731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e089a67dcafde373ee26d0b56175dd?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Mukhametshin", "link": "https://stackoverflow.com/users/10261731/stanislav-mukhametshin"}, "edited": false, "score": 0, "creation_date": 1547470722, "post_id": 54181603, "comment_id": 95192172, "body": "Duplicate of  <a href=\"https://stackoverflow.com/questions/48378696/unresolved-reference-for-synthetic-view-when-layout-is-in-library-module\" title=\"unresolved reference for synthetic view when layout is in library module\">stackoverflow.com/questions/48378696/&hellip;</a>"}], "owner": {"reputation": 61, "user_id": 5412554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851bfd4ed5e4f3a58617994458856b98?s=128&d=identicon&r=PG&f=1", "display_name": "Ayush Agrawal", "link": "https://stackoverflow.com/users/5412554/ayush-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547468966, "creation_date": 1547468966, "question_id": 54181603, "link": "https://stackoverflow.com/questions/54181603/kotlinx-android-synthetic-not-recognising-resources-when-resources-existing-in-d", "title": "kotlinx.android.synthetic not recognising resources when resources existing in different module", "body": "<p>I have \"assets\" module containing all my resources (layout, strings, values, etc) and I added this module as dependency in \"app\". Now when I try to refer ids using kotlinx.android.synthetic.main.xyzId.view.* , it is unable to resolve \"xyzId\". But when resources are directly put in same \"app\" module in res folder then it's working correctly. Does it means that kotlinx-android-extension do not work for resources lying in dependent module?</p>\n"}, {"tags": ["java", "spring", "kotlin", "redis", "spring-statemachine"], "comments": [{"owner": {"reputation": 30385, "user_id": 1007273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d543dd92408de6f5a0e97507a947a059?s=128&d=identicon&r=PG", "display_name": "hovanessyan", "link": "https://stackoverflow.com/users/1007273/hovanessyan"}, "edited": false, "score": 0, "creation_date": 1550237935, "post_id": 54180740, "comment_id": 96206447, "body": "The restore method in AbstractStateMachinePersister calls resetStateMachine, which in turn populates the ExtendedState variables correctly. The issue could be in your logic, but the source code clearly shows that ExtendedState is being restored. (stateMachine version 2.x source code)"}, {"owner": {"reputation": 146, "user_id": 5983162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c37777f2d509122af782f0f0b48482?s=128&d=identicon&r=PG", "display_name": "Z.yassine", "link": "https://stackoverflow.com/users/5983162/z-yassine"}, "reply_to_user": {"reputation": 30385, "user_id": 1007273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d543dd92408de6f5a0e97507a947a059?s=128&d=identicon&r=PG", "display_name": "hovanessyan", "link": "https://stackoverflow.com/users/1007273/hovanessyan"}, "edited": false, "score": 0, "creation_date": 1550494149, "post_id": 54180740, "comment_id": 96277225, "body": "I looked through the source code and I found the reason, I had the spring dev tools dependency, which makes use of a different class loader and as resulted .getClass check is always false and the variables are never set."}], "owner": {"reputation": 146, "user_id": 5983162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c37777f2d509122af782f0f0b48482?s=128&d=identicon&r=PG", "display_name": "Z.yassine", "link": "https://stackoverflow.com/users/5983162/z-yassine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547465698, "creation_date": 1547465698, "question_id": 54180740, "link": "https://stackoverflow.com/questions/54180740/statemachinepersister-is-not-using-the-statemachinecontext-extendedstates-vari", "title": "StateMachinePersister is not using the StateMachineContext, extendedState&#39;s variables are missing", "body": "<p>I'm using <strong>StateMachinePersister</strong> to persist/restore state machine instances using <strong>Redis</strong>, I restore a state machine and set the <strong>extended state variables</strong>, and persist it. When I restore it later, the extended state variables are missing.</p>\n\n<p>I debugged the <strong>AbstractStateMachinePersister</strong>'s restore method, <strong>the context read holds the extended state variables</strong>, but <strong>the returned state machine doesn't</strong>.</p>\n"}, {"tags": ["android", "kotlin", "androidx", "android-studio-3.2"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1547479471, "post_id": 54180598, "comment_id": 95197041, "body": "Make sure you updated all: IDE, Gradle, Kotlin version, Kotlin IDE plugin etc. I believe I had this once and it was IDE/plugin related."}, {"owner": {"reputation": 305, "user_id": 6549083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b3bc199ba635867b161949450bf3995?s=128&d=identicon&r=PG&f=1", "display_name": "Utkarsh Barsaiyan", "link": "https://stackoverflow.com/users/6549083/utkarsh-barsaiyan"}, "edited": false, "score": 0, "creation_date": 1547583798, "post_id": 54180598, "comment_id": 95239253, "body": "I also see this! Were you able to resolve this?"}, {"owner": {"reputation": 3424, "user_id": 3134462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BVlZp.jpg?s=128&g=1", "display_name": "Shahzeb", "link": "https://stackoverflow.com/users/3134462/shahzeb"}, "reply_to_user": {"reputation": 305, "user_id": 6549083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b3bc199ba635867b161949450bf3995?s=128&d=identicon&r=PG&f=1", "display_name": "Utkarsh Barsaiyan", "link": "https://stackoverflow.com/users/6549083/utkarsh-barsaiyan"}, "edited": false, "score": 0, "creation_date": 1547605288, "post_id": 54180598, "comment_id": 95245333, "body": "@UtkarshBarsaiyan I had to make changes manually even after choosing Migrate to AndroidX from Android Studio and I have realised until everything is up to date(versions, IDE, gradle, code etc), this error wont go."}, {"owner": {"reputation": 884, "user_id": 6254066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/02jVp.jpg?s=128&g=1", "display_name": "AgileNinja", "link": "https://stackoverflow.com/users/6254066/agileninja"}, "edited": false, "score": 4, "creation_date": 1550264258, "post_id": 54180598, "comment_id": 96219665, "body": "I found that the next line after the <code>java.lang.IllegalStateException</code> line gives you the name of the problematic class. In my case, I didn&#39;t have the gradle dependency (for rxjava) in the offending library module."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1551079387, "post_id": 54180598, "comment_id": 96493111, "body": "Have you got the solution?"}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "reply_to_user": {"reputation": 884, "user_id": 6254066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/02jVp.jpg?s=128&g=1", "display_name": "AgileNinja", "link": "https://stackoverflow.com/users/6254066/agileninja"}, "edited": false, "score": 1, "creation_date": 1560259363, "post_id": 54180598, "comment_id": 99671106, "body": "In addition to @AgileNinja&#39;s suggestion, my error was outputting <code>[ERROR: Response&lt;T&gt;]</code>. It was because I had removed the retrofit dependency from one of my modules. Nice 2 hours wasted..."}], "answers": [{"tags": [], "owner": {"reputation": 3436, "user_id": 2233621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d934405dc8756df0238aa9794c54c679?s=128&d=identicon&r=PG&f=1", "display_name": "kassim", "link": "https://stackoverflow.com/users/2233621/kassim"}, "is_accepted": false, "score": -1, "last_activity_date": 1548338837, "creation_date": 1548338837, "answer_id": 54348515, "question_id": 54180598, "link": "https://stackoverflow.com/questions/54180598/java-lang-illegalstateexception-simpletypeimpl-should-not-be-created-for-error/54348515#54348515", "title": "java.lang.IllegalStateException: SimpleTypeImpl should not be created for error type", "body": "<p>Upgrade your Kotlin dependency to 1.3.20 and the compiler will highlight the source of your issues.</p>\n"}, {"comments": [{"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 1, "creation_date": 1551079377, "post_id": 54646057, "comment_id": 96493108, "body": "I have many classes in which I use <code>&lt;T&gt;</code> and I cannot remove them as it is needed. Is there any other solution?"}, {"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 2, "creation_date": 1571683638, "post_id": 54646057, "comment_id": 103314801, "body": "<code>git grep</code> on what?"}, {"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1571728367, "post_id": 54646057, "comment_id": 103326711, "body": "when you check the logs it says the type. you should grep the type and check in which one you missed to remove the type parameter."}, {"owner": {"reputation": 2328, "user_id": 108742, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/740d97d4d38c6ed85d2ea51528427623?s=128&d=identicon&r=PG", "display_name": "Ivan Morgillo", "link": "https://stackoverflow.com/users/108742/ivan-morgillo"}, "reply_to_user": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1594369875, "post_id": 54646057, "comment_id": 111107667, "body": "@IgorGanapolsky In my case the problematic broken class was <code>Event&lt;Boolean</code> so I grepped for <code>grep -rin &#39;Event&lt;Boolean&gt;&#39; *</code> and I found a ViewModel with a wrong import. Godspeed, my friend."}, {"owner": {"reputation": 1729, "user_id": 210504, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1d6b50533bb9ac49023ba9cff6be71a1?s=128&d=identicon&r=PG", "display_name": "user210504", "link": "https://stackoverflow.com/users/210504/user210504"}, "edited": false, "score": 0, "creation_date": 1597182686, "post_id": 54646057, "comment_id": 112049521, "body": "This may be late. But search for LiveData in my case I found that some templates were referring to non existent types"}], "tags": [], "owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "is_accepted": false, "score": 13, "last_activity_date": 1599483032, "last_edit_date": 1599483032, "creation_date": 1549961461, "answer_id": 54646057, "question_id": 54180598, "link": "https://stackoverflow.com/questions/54180598/java-lang-illegalstateexception-simpletypeimpl-should-not-be-created-for-error/54646057#54646057", "title": "java.lang.IllegalStateException: SimpleTypeImpl should not be created for error type", "body": "<p>I updated to <code>Kotlin 1.3.20</code> but it still did not work. Then I decided to check the <code>Kotlin</code> source code. I found this <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/descriptors/src/org/jetbrains/kotlin/types/KotlinTypeFactory.kt\" rel=\"nofollow noreferrer\">link</a></p>\n<p>I had an interface called <code>DisplayItem&lt;T&gt;</code> and I removed its type parameter. After this, I started to get the error. Actually, at the end of the error in <code>logcat</code> it says <code>DisplayItem</code></p>\n<p>So i checked all <code>DisplayItem</code> types in code and I found I forgat to remove one type parameter in a <code>LiveData</code> variable like the follwoing:</p>\n<pre><code>MediatorLiveData&lt;DataHolder&lt;List&lt;DisplayItem&lt;MessageViewEntity&gt;&gt;&gt;&gt;\n</code></pre>\n<p>After removing type parameter from the variable it started to compile. I hope this'll help you.</p>\n<p><strong>Note</strong>: You can use <code>git grep</code> for a quick search.</p>\n"}, {"tags": [], "owner": {"reputation": 3424, "user_id": 3134462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BVlZp.jpg?s=128&g=1", "display_name": "Shahzeb", "link": "https://stackoverflow.com/users/3134462/shahzeb"}, "is_accepted": true, "score": 4, "last_activity_date": 1551079789, "creation_date": 1551079789, "answer_id": 54861384, "question_id": 54180598, "link": "https://stackoverflow.com/questions/54180598/java-lang-illegalstateexception-simpletypeimpl-should-not-be-created-for-error/54861384#54861384", "title": "java.lang.IllegalStateException: SimpleTypeImpl should not be created for error type", "body": "<p>Migrate to AndroidX option in Android Studio didn't help much. I solved this error by making changes in every file manually, changed the package names according to AndroidX in both code and xml. If any file is left unchanged, you will see this error. Please make sure your Kotlin plugin version, gradle plugin version, build tools and Android studio version is up to date.</p>\n"}, {"comments": [{"owner": {"reputation": 4453, "user_id": 5526624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVVXe2AFuoc/AAAAAAAAAAI/AAAAAAAAAHY/Xg3FzsSvnCA/photo.jpg?sz=128", "display_name": "Rickard Elim&#228;&#228;", "link": "https://stackoverflow.com/users/5526624/rickard-elim%c3%a4%c3%a4"}, "edited": false, "score": 0, "creation_date": 1566824044, "post_id": 55528393, "comment_id": 101766100, "body": "It actually showed in the preview of each file when searching for &quot;import&quot;, which gave me more clues of what had gone wrong."}, {"owner": {"reputation": 805, "user_id": 6455501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7xYuC.jpg?s=128&g=1", "display_name": "glagarto", "link": "https://stackoverflow.com/users/6455501/glagarto"}, "edited": false, "score": 3, "creation_date": 1576699263, "post_id": 55528393, "comment_id": 104987583, "body": "It is indeed the missing imports are the caused on my side. Use the <i>Analyze &gt; Inspect Code</i> menu if you don&#39;t want to go every single file checking the missing imports."}, {"owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "edited": false, "score": 1, "creation_date": 1596300690, "post_id": 55528393, "comment_id": 111770907, "body": "For me, it was a similar problem. Also, the import was in a test file, which I&#39;ve observed in the past that don&#39;t get a compiler check by the IDE until they are run or opened..."}, {"owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "edited": false, "score": 0, "creation_date": 1596464291, "post_id": 55528393, "comment_id": 111811630, "body": "Similar problem. Thank you for your experiences."}, {"owner": {"reputation": 631, "user_id": 6154843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec2f6ff292209983c2cec36a4519a78?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/6154843/cris"}, "reply_to_user": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "edited": false, "score": 0, "creation_date": 1596628631, "post_id": 55528393, "comment_id": 111871249, "body": "@pablisco you saved my day. My missing import statement was indeed located in a test file"}], "tags": [], "owner": {"reputation": 7231, "user_id": 4370279, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/tjPvY.png?s=128&g=1", "display_name": "theapache64", "link": "https://stackoverflow.com/users/4370279/theapache64"}, "is_accepted": false, "score": 23, "last_activity_date": 1554439457, "creation_date": 1554439457, "answer_id": 55528393, "question_id": 54180598, "link": "https://stackoverflow.com/questions/54180598/java-lang-illegalstateexception-simpletypeimpl-should-not-be-created-for-error/55528393#55528393", "title": "java.lang.IllegalStateException: SimpleTypeImpl should not be created for error type", "body": "<p>For me, the error was appearing due to invalid <code>import</code> statement. Android Studio didn't show anything regarding the same. I had to go to every single file, then studio shown the invalid import error. Fixed it and the build error's gone. </p>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 7393635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4vZB.png?s=128&g=1", "display_name": "greatape", "link": "https://stackoverflow.com/users/7393635/greatape"}, "is_accepted": false, "score": 8, "last_activity_date": 1559814066, "creation_date": 1559814066, "answer_id": 56474890, "question_id": 54180598, "link": "https://stackoverflow.com/questions/54180598/java-lang-illegalstateexception-simpletypeimpl-should-not-be-created-for-error/56474890#56474890", "title": "java.lang.IllegalStateException: SimpleTypeImpl should not be created for error type", "body": "<p>My main tip to solve this issue would be when you're just getting the error message with no clue where the real error is, try the Android studio Analyze/Inspect code option. Digging through the output from this I found the actual compile errors that were triggering the problem and then could easily fix them.</p>\n\n<p>The actual problem in my case was when changing a generic class, that had a nested class, into an abstract class and creating two sub-classes to replace it's previous usage. I still had references my code to the original abstract base class where I should have replaced them with one of the two new sub-classes.</p>\n"}], "owner": {"reputation": 3424, "user_id": 3134462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BVlZp.jpg?s=128&g=1", "display_name": "Shahzeb", "link": "https://stackoverflow.com/users/3134462/shahzeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7459, "favorite_count": 3, "accepted_answer_id": 54861384, "answer_count": 5, "score": 34, "last_activity_date": 1599483032, "creation_date": 1547465193, "question_id": 54180598, "link": "https://stackoverflow.com/questions/54180598/java-lang-illegalstateexception-simpletypeimpl-should-not-be-created-for-error", "title": "java.lang.IllegalStateException: SimpleTypeImpl should not be created for error type", "body": "<p>Have been facing this error after migrating to AndroidX.</p>\n\n<pre><code>java.lang.IllegalStateException: SimpleTypeImpl should not be created for error type: ErrorScope{Error scope for class &lt;ERROR CLASS&gt; with arguments: org.jetbrains.kotlin.types.IndexedParametersSubstitution@14ac19e7}\n</code></pre>\n\n<p>This <a href=\"https://youtrack.jetbrains.com/issue/KT-16484\" rel=\"noreferrer\">link</a> does not help much</p>\n"}, {"tags": ["android", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "is_accepted": false, "score": 0, "last_activity_date": 1547469355, "last_edit_date": 1547469355, "creation_date": 1547466264, "answer_id": 54180891, "question_id": 54180491, "link": "https://stackoverflow.com/questions/54180491/kotlin-data-class-with-serializedname-annotations-variables-in-init-block/54180891#54180891", "title": "Kotlin data class with SerializedName annotations variables in init block", "body": "<p>What you have above works fine for me using kotlin 1.3.11 with a minor detail - <code>@SerializedName(\"full_name\") val fullName: String = 0</code> cannot be an integer, so I changed it to <code>@SerializedName(\"full_name\") val fullName: String = \"\"</code>.</p>\n\n<p>In fact, running this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  println(UserItem().imageType)\n  println(UserItem(images = listOf(\"foo\")).imageType)\n  println(UserItem(images = listOf(\"foo\", \"bar\")).imageType)\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>NO_PHOTO\nSINGLE_PHOTO\nMULTIPLE_PHOTO\n</code></pre>\n\n<p>Which according to your logic is correct. When you decompile the <code>UserItem</code> class you can see the following constructor:</p>\n\n<pre><code>public UserItem(@NotNull String nick, @NotNull String fullName, @NotNull String bio, @NotNull List images, @NotNull UserItem.ImageType imageType) {\n  Intrinsics.checkParameterIsNotNull(nick, \"nick\");\n  Intrinsics.checkParameterIsNotNull(fullName, \"fullName\");\n  Intrinsics.checkParameterIsNotNull(bio, \"bio\");\n  Intrinsics.checkParameterIsNotNull(images, \"images\");\n  Intrinsics.checkParameterIsNotNull(imageType, \"imageType\");\n  super();\n  this.nick = nick;\n  this.fullName = fullName;\n  this.bio = bio;\n  this.images = images;\n  this.imageType = imageType;\n\n  // This is what you have in the init block\n  if (this.images.size() == 1) {\n     this.imageType = UserItem.ImageType.SINGLE_PHOTO;\n  } else if (this.images.size() &gt; 1) {\n     this.imageType = UserItem.ImageType.MULTIPLE_PHOTO;\n  }\n}\n</code></pre>\n\n<p>As you can see, the init block is inlined after the constructor. Maybe I misunderstood the problem?</p>\n\n<p>PS: You can easily check the same by executing \"Show kotlin byte code\" and this will pop a window with a button \"Decompile\" which will show you the java code.</p>\n"}], "owner": {"reputation": 103, "user_id": 1463464, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ee80dbf6e112c3fc6146f37f53382c0e?s=128&d=identicon&r=PG", "display_name": "buttib", "link": "https://stackoverflow.com/users/1463464/buttib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1810, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547469355, "creation_date": 1547464741, "last_edit_date": 1547465075, "question_id": 54180491, "link": "https://stackoverflow.com/questions/54180491/kotlin-data-class-with-serializedname-annotations-variables-in-init-block", "title": "Kotlin data class with SerializedName annotations variables in init block", "body": "<p>I have a data class below. Using coroutines and converting results as UserItem objects with gson. </p>\n\n<p>The problem is, in the init block the object is still uninitialized and the nick, images etc. variables are empty. Where should I write the code in the init block? </p>\n\n<pre><code>data class UserItem(\n    @SerializedName(\"username\") val nick: String = \"\",\n    @SerializedName(\"full_name\") val fullName: String = 0,\n    @SerializedName(\"info\") val bio: String = \"\",\n    @SerializedName(\"images\") val images: List&lt;String&gt; = \narrayListOf(),\n    var imageType: ImageType = ImageType.NO_PHOTO\n){\n    companion object {\n        @JvmStatic\n        val DISPLAY_TYPE_USER = 0\n        @JvmStatic\n        val DISPLAY_TYPE_INFO = 1\n    }\n\n    enum class ImageType {\n        NO_PHOTO, SINGLE_PHOTO, MULTIPLE_PHOTO\n    }\n\n    init {\n        if (images.size == 1)\n            imageType = ImageType.SINGLE_PHOTO\n        else if (images.size &gt; 1)\n            imageType = ImageType.MULTIPLE_PHOTO\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1547464283, "post_id": 54180310, "comment_id": 95189034, "body": "<a href=\"https://stackoverflow.com/a/51022296/3395198\">stackoverflow.com/a/51022296/3395198</a>"}, {"owner": {"reputation": 314, "user_id": 4874842, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mk88WO7hU5Q/AAAAAAAAAAI/AAAAAAAAABg/W9qGoLxl1iE/photo.jpg?sz=128", "display_name": "Mohammad Asheri", "link": "https://stackoverflow.com/users/4874842/mohammad-asheri"}, "edited": false, "score": 0, "creation_date": 1547464559, "post_id": 54180310, "comment_id": 95189150, "body": "Are you using proguard?"}, {"owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "edited": false, "score": 0, "creation_date": 1547464813, "post_id": 54180310, "comment_id": 95189279, "body": "Yes, I&#39;m........"}, {"owner": {"reputation": 314, "user_id": 4874842, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mk88WO7hU5Q/AAAAAAAAAAI/AAAAAAAAABg/W9qGoLxl1iE/photo.jpg?sz=128", "display_name": "Mohammad Asheri", "link": "https://stackoverflow.com/users/4874842/mohammad-asheri"}, "edited": false, "score": 0, "creation_date": 1547465118, "post_id": 54180310, "comment_id": 95189405, "body": "So i&#39;m writing the answer."}], "answers": [{"tags": [], "owner": {"reputation": 314, "user_id": 4874842, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mk88WO7hU5Q/AAAAAAAAAAI/AAAAAAAAABg/W9qGoLxl1iE/photo.jpg?sz=128", "display_name": "Mohammad Asheri", "link": "https://stackoverflow.com/users/4874842/mohammad-asheri"}, "is_accepted": false, "score": 0, "last_activity_date": 1547465833, "creation_date": 1547465833, "answer_id": 54180781, "question_id": 54180310, "link": "https://stackoverflow.com/questions/54180310/gradleexception-internal-compiler-error-while-generating-signed-apk-compileprod/54180781#54180781", "title": "GradleException: Internal compiler error while generating signed apk compileProdReleaseKotlin failed", "body": "<p>When you are using proguard, you have to write and complete a file named proguard-rules.pro in your Gradle Scripts. When you want to use a new repository like Glide or ButterKnife, you have to add it's references in proguard-rules file.An example file attached.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code># Add project specific ProGuard rules here.\r\n# By default, the flags in this file are appended to flags specified\r\n# in /Users/behnamahmadifar/Desktop/Android/android-sdk-macosx/tools/proguard/proguard-android.txt\r\n# You can edit the include path and order by changing the proguardFiles\r\n# directive in build.gradle.\r\n#\r\n# For more details, see\r\n#   http://developer.android.com/guide/developing/tools/proguard.html\r\n\r\n# Add any project specific keep options here:\r\n\r\n# If your project uses WebView with JS, uncomment the following\r\n# and specify the fully qualified class name to the JavaScript interface\r\n# class:\r\n\r\n-keep class com.google.gson.** { *; }\r\n-keep public class com.google.gson.** {public private protected *;}\r\n-keep class com.google.inject.** { *; }\r\n-keep class org.apache.http.** { *; }\r\n-keep class org.apache.james.mime4j.** { *; }\r\n-keep class javax.inject.** { *; }\r\n-keep class javax.xml.stream.** { *; }\r\n-keep class retrofit.** { *; }\r\n-keep class com.google.appengine.** { *; }\r\n-dontwarn com.squareup.okhttp.*\r\n-dontwarn rx.**\r\n-dontwarn javax.xml.stream.**\r\n-dontwarn com.google.appengine.**\r\n-dontwarn java.nio.file.**\r\n-dontwarn org.codehaus.**\r\n\r\n-dontwarn retrofit2.**\r\n-dontwarn org.codehaus.mojo.**\r\n-keep class retrofit2.** { *; }\r\n-keepattributes Exceptions\r\n-keepattributes RuntimeVisibleAnnotations\r\n-keepattributes RuntimeInvisibleAnnotations\r\n-keepattributes RuntimeVisibleParameterAnnotations\r\n-keepattributes RuntimeInvisibleParameterAnnotations\r\n\r\n-keepattributes EnclosingMethod\r\n-keepclasseswithmembers class * {\r\n    @retrofit2.http.* &lt;methods&gt;;\r\n}\r\n-keepclasseswithmembers interface * {\r\n    @retrofit2.* &lt;methods&gt;;\r\n}\r\n\r\n-keepattributes *Annotation*\r\n-keepclassmembers class * {\r\n    @org.greenrobot.eventbus.Subscribe &lt;methods&gt;;\r\n}\r\n-keep enum org.greenrobot.eventbus.ThreadMode { *; }\r\n\r\n# Only required if you use AsyncExecutor\r\n-keepclassmembers class * extends org.greenrobot.eventbus.util.ThrowableFailureEvent {\r\n    &lt;init&gt;(java.lang.Throwable);\r\n}\r\n\r\n-dontwarn android.support.v7.**\r\n-keep class android.support.v7.** { *; }\r\n-keep interface android.support.v7.** { *; }\r\n-keepattributes *Annotation,Signature\r\n-dontwarn com.github.siyamed.**\r\n-keep class com.github.siyamed.shapeimageview.**{ *; }\r\n\r\n-keep public class * implements com.bumptech.glide.module.GlideModule\r\n-keep public class * extends com.bumptech.glide.module.AppGlideModule\r\n-keep public enum com.bumptech.glide.load.ImageHeaderParser$** {\r\n  **[] $VALUES;\r\n  public *;\r\n}\r\n\r\n# for DexGuard only\r\n#-keepresourcexmlelements manifest/application/meta-data@value=GlideModule\r\n\r\n# Retain generic type information for use by reflection by converters and adapters.\r\n-keepattributes Signature\r\n\r\n# Retain service method parameters when optimizing.\r\n-keepclassmembers,allowshrinking,allowobfuscation interface * {\r\n    @retrofit2.http.* &lt;methods&gt;;\r\n}\r\n\r\n# Ignore annotation used for build tooling.\r\n-dontwarn org.codehaus.mojo.animal_sniffer.IgnoreJRERequirement\r\n\r\n# Ignore JSR 305 annotations for embedding nullability information.\r\n-dontwarn javax.annotation.**\r\n\r\n\r\n# for batch\r\n-keep class com.batch.** {\r\n  *;\r\n}\r\n-keep class com.google.android.gms.** {\r\n  *;\r\n}\r\n-keep class android.support.v7.app.** {\r\n  *;\r\n}\r\n-keep class android.support.v4.** {\r\n  *;\r\n}\r\n\r\n-dontwarn com.batch.android.mediation.**\r\n\r\n-dontwarn com.batch.android.BatchPushService</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "is_accepted": true, "score": 0, "last_activity_date": 1564579243, "last_edit_date": 1564579243, "creation_date": 1547550703, "answer_id": 54197713, "question_id": 54180310, "link": "https://stackoverflow.com/questions/54180310/gradleexception-internal-compiler-error-while-generating-signed-apk-compileprod/54197713#54197713", "title": "GradleException: Internal compiler error while generating signed apk compileProdReleaseKotlin failed", "body": "<p>Run\u00a0<strong>assembledebug</strong> or <strong>build</strong> task from Gradle window for getting files having compiler issues</p>\n"}], "owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 54197713, "answer_count": 2, "score": -1, "last_activity_date": 1564579243, "creation_date": 1547464058, "question_id": 54180310, "link": "https://stackoverflow.com/questions/54180310/gradleexception-internal-compiler-error-while-generating-signed-apk-compileprod", "title": "GradleException: Internal compiler error while generating signed apk compileProdReleaseKotlin failed", "body": "<p>I'm stuck in following error &amp; build is getting failed.</p>\n\n<blockquote>\n  <p>GradleException: Internal compiler error</p>\n</blockquote>\n\n<p>This error only happens while generating signed apk. Build apk is working fine.</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileProdReleaseKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipCachedTaskExecuter.execute(SkipCachedTaskExecuter.java:103)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ResolveBuildCacheKeyExecuter.execute(ResolveBuildCacheKeyExecuter.java:66)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:256)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:249)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:238)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:663)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:597)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:59)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:130)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:210)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:140)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.GradleException: Internal compiler error. See log for more details\n</code></pre>\n\n<p>I tried lot of solutions but getting this  error again.<br/>\nAny solution?<br/>\nAndroid Studio: 3.2.1</p>\n"}, {"tags": ["android", "kotlin", "android-camera-intent"], "comments": [{"owner": {"reputation": 1609, "user_id": 3983066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r1qMF.jpg?s=128&g=1", "display_name": "Shadow Droid", "link": "https://stackoverflow.com/users/3983066/shadow-droid"}, "edited": false, "score": 0, "creation_date": 1547464077, "post_id": 54180229, "comment_id": 95188938, "body": "If you read the note here - <a href=\"https://developer.android.com/reference/android/provider/MediaStore#ACTION_IMAGE_CAPTURE\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/provider/&hellip;</a> Basically From Android Marshmallow the permission model have change for more detail you can check <a href=\"https://developer.android.com/guide/topics/permissions/overview#dangerous-permission-prompt\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/permissions/&hellip;</a> So before starting intent for open camera you need to check whether permission is granted. For testing you can go into setting--&gt;Permission of app in device and switch the camera permission. Then check it will not crash"}, {"owner": {"reputation": 1609, "user_id": 3983066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r1qMF.jpg?s=128&g=1", "display_name": "Shadow Droid", "link": "https://stackoverflow.com/users/3983066/shadow-droid"}, "edited": false, "score": 0, "creation_date": 1547464264, "post_id": 54180229, "comment_id": 95189028, "body": "<a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a>. It will help you in coding."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1547493355, "post_id": 54180229, "comment_id": 95203646, "body": "You do not need the <code>CAMERA</code> permission to take a picture via <code>Intent</code>. However, if you do list the <code>CAMERA</code> permission in your manifest, and attempt to do so without having that permission granted, it will throw that Exception. This was done to prevent confusion for end users who try to manually disable that permission in an app&#39;s Settings. Simply remove the <code>CAMERA</code> permission from your manifest. You might need to clean/rebuild your project, and possibly uninstall/reinstall your app."}], "answers": [{"tags": [], "owner": {"reputation": 1348, "user_id": 3995941, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/00Gje.jpg?s=128&g=1", "display_name": "Deepak Ror", "link": "https://stackoverflow.com/users/3995941/deepak-ror"}, "is_accepted": false, "score": 0, "last_activity_date": 1547464071, "creation_date": 1547464071, "answer_id": 54180317, "question_id": 54180229, "link": "https://stackoverflow.com/questions/54180229/android-revoked-permission-android-permission-camera/54180317#54180317", "title": "Android - revoked permission android.permission.CAMERA", "body": "<p>Use camera permission in manifest</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n</code></pre>\n\n<p>and for above marshmallow run Time permission is required</p>\n\n<p>like</p>\n\n<pre><code> if (ContextCompat.checkSelfPermission(getContext(),\n            Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n\n        if (ActivityCompat.shouldShowRequestPermissionRationale((Activity)\n                getContext(), Manifest.permission.CAMERA)) {\n\n\n        } else {\n            ActivityCompat.requestPermissions((Activity) getContext(), \n                    new String[]{Manifest.permission.CAMERA},\n                    MY_PERMISSIONS_REQUEST_CAMERA);\n        }\n\n    }\n</code></pre>\n\n<p>in onRequestPermissionsResult Check  is permission granted or not</p>\n\n<pre><code> @Override\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n        switch (requestCode) {\n            case PERMISSION_REQUEST_CODE:\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    Toast.makeText(getApplicationContext(), \"Permission Granted\", Toast.LENGTH_SHORT).show();\n\n                    // main logic\n                } else {\n                    Toast.makeText(getApplicationContext(), \"Permission Denied\", Toast.LENGTH_SHORT).show();}\n}\n</code></pre>\n"}], "owner": {"reputation": 1146, "user_id": 10211127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b76fcb38d289a2261fc1cd8430ef7d9?s=128&d=identicon&r=PG&f=1", "display_name": "jo jo", "link": "https://stackoverflow.com/users/10211127/jo-jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1859, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547464071, "creation_date": 1547463686, "question_id": 54180229, "link": "https://stackoverflow.com/questions/54180229/android-revoked-permission-android-permission-camera", "title": "Android - revoked permission android.permission.CAMERA", "body": "<p>I am opening Camera with <code>kotlin</code> like bellow:</p>\n\n<pre><code>private fun dispatchTakePictureIntent() {\n    Intent(MediaStore.ACTION_IMAGE_CAPTURE).also { takePictureIntent -&gt;\n        // Create the File where the photo should go\n        val photoFile: File? = try {\n            activity?.createImageFile()\n        } catch (ex: IOException) {\n            Timber.e(ex)\n            null\n        }\n        // Continue only if the File was successfully created\n        photoFile?.also {\n            takenPhotoUri = FileProvider.getUriForFile(\n                    requireContext(), \"zz.zz.android.fileprovider\", it\n            )\n            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, takenPhotoUri)\n            startActivityForResult(takePictureIntent, REQUEST_CODE_FOR_PERFORM_CAMERA)\n        }\n    }\n}\n</code></pre>\n\n<p>But get me bellow error:</p>\n\n<pre><code>java.lang.SecurityException: Permission Denial: starting Intent { act=android.media.action.IMAGE_CAPTURE flg=0x3 cmp=com.sec.android.app.camera/.Camera launchParam=MultiScreenLaunchParams { mDisplayId=0 mFlags=0 } clip={text/uri-list U:content://zz.zz.android.fileprovider/zz_zz_chat_images/PNG_%DB%B2%DB%B0%DB%B1%DB%B9%DB%B0%DB%B1%DB%B1%DB%B4_%DB%B1%DB%B4%DB%B2%DB%B2%DB%B5%DB%B5_1904526976.png} (has extras) } from ProcessRecord{e956b7f 13929:zz.zz.android.dev/u0a1605} (pid=13929, uid=11605) with revoked permission android.permission.CAMERA\n</code></pre>\n\n<p>I am using from <code>intent</code> for open camera.</p>\n\n<p>And here is my <code>onActivityResult</code>:</p>\n\n<pre><code>    override fun onActivityResult(requestCode: Int, resultCode: Int, resultData: Intent?) {\n        if (resultCode == Activity.RESULT_OK) {\n            when (requestCode) {\n                REQUEST_CODE_FOR_PERFORM_CAMERA -&gt; takenPhotoUri?.let { uri -&gt;\n                    uri.getBitmpap(requireContext())?.let { bitmap -&gt;\n                        presenter.uploadImage(chatRoomId, \"image/png\", uri, bitmap, \"\")\n                    }\n                }\n}}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-glide"], "answers": [{"tags": [], "owner": {"reputation": 612, "user_id": 7515903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ywyLv.jpg?s=128&g=1", "display_name": "Mohamed Akl", "link": "https://stackoverflow.com/users/7515903/mohamed-akl"}, "is_accepted": false, "score": 0, "last_activity_date": 1553436130, "creation_date": 1553436130, "answer_id": 55324584, "question_id": 54179819, "link": "https://stackoverflow.com/questions/54179819/how-to-load-image-from-internel-memory-when-glide-fails-to-load/55324584#55324584", "title": "how to load image from internel memory when glide fails to load", "body": "<p>I had the same problem some time before,</p>\n\n<p>what i did was that i used <a href=\"https://github.com/square/picasso\" rel=\"nofollow noreferrer\">Picasso</a> which does the same thing as Glide but provides a <code>placeHolder</code> method which can place an image for your imageview and if it fails loading from the url it will just keep the placeholder image.</p>\n\n<p>You can refer to the tutorial linked <a href=\"https://square.github.io/picasso/\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 126, "user_id": 8279321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdddf0c74845db2359451b10ea771759?s=128&d=identicon&r=PG&f=1", "display_name": "Taha alam", "link": "https://stackoverflow.com/users/8279321/taha-alam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553436130, "creation_date": 1547462196, "last_edit_date": 1553435787, "question_id": 54179819, "link": "https://stackoverflow.com/questions/54179819/how-to-load-image-from-internel-memory-when-glide-fails-to-load", "title": "how to load image from internel memory when glide fails to load", "body": "<p>i want to know that how to load image from uri when glide fails to load image from URL.</p>\n\n<p>i have tried using the error function on glide but it requires drawable resource.</p>\n\n<pre><code>Glide.with(this@Main2Activity).load(\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGTVf63Vm3XgOncMVSOy0-jSxdMT8KVJIc8WiWaevuWiPGe0Pm\").error(Glide.with(this).load(image)).into(images)\n</code></pre>\n\n<p>it is giving error that it requires drawable resource to work on</p>\n"}, {"tags": ["android", "kotlin", "bottomnavigationview", "android-bottomnav"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10890124, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-M8HJgtWsn5A/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ2jbUwHBb9FIsFuJ4gJHKBYZpRHA/mo/photo.jpg?sz=128", "display_name": "Thomas", "link": "https://stackoverflow.com/users/10890124/thomas"}, "edited": false, "score": 0, "creation_date": 1547570394, "post_id": 54183200, "comment_id": 95233263, "body": "Thank you for your answer but i want a native Switch in the menu - not just an image"}], "tags": [], "owner": {"reputation": 18087, "user_id": 636988, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/X8YUK.jpg?s=128&g=1", "display_name": "Booger", "link": "https://stackoverflow.com/users/636988/booger"}, "is_accepted": true, "score": 0, "last_activity_date": 1547475319, "creation_date": 1547475319, "answer_id": 54183200, "question_id": 54179673, "link": "https://stackoverflow.com/questions/54179673/android-switch-in-bottom-navigation/54183200#54183200", "title": "Android Switch in Bottom Navigation", "body": "<p>Are you asking about having the button color change, when that item is selected?  If so, this is done automatically for you, using the <code>BottomNavigationView</code> component.</p>\n\n<p>Do be aware, that you will need to supply a \"StateListDrawable\" (this is a fancy way to say list of icons, that represent different selected states) instead of just a drawable for this icon:\n<a href=\"https://developer.android.com/reference/android/graphics/drawable/StateListDrawable\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/graphics/drawable/StateListDrawable</a></p>\n"}], "owner": {"reputation": 3, "user_id": 10890124, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-M8HJgtWsn5A/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ2jbUwHBb9FIsFuJ4gJHKBYZpRHA/mo/photo.jpg?sz=128", "display_name": "Thomas", "link": "https://stackoverflow.com/users/10890124/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 54183200, "answer_count": 1, "score": 0, "last_activity_date": 1547475319, "creation_date": 1547461675, "last_edit_date": 1547474853, "question_id": 54179673, "link": "https://stackoverflow.com/questions/54179673/android-switch-in-bottom-navigation", "title": "Android Switch in Bottom Navigation", "body": "<p>I want to have a Switch in the Bottom Navigation to set the online/offline state of the user like below Image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sLbsh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sLbsh.png\" alt=\"enter image description here\"></a></p>\n\n<p>The menu itself should be dynamic so i built it manually with:</p>\n\n<pre><code>menu.add(Menu.NONE, R.id.navigation_dashboard, Menu.NONE, \"\").setIcon(R.drawable.ic_app)\n</code></pre>\n\n<p>Is there a way to achieve this and add a switch to this? I accomplished the this in iOS by setting a switch to the frame of the bottom navigation bar item.</p>\n"}]