[{"tags": ["java", "kotlin", "static-classes"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1532558368, "post_id": 51528223, "comment_id": 90025715, "body": "Try making both A and B <code>public</code> and try again"}], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1532576667, "post_id": 51529348, "comment_id": 90029254, "body": "I found out that in Java the author used the same package path for his class as <code>A</code>."}], "tags": [], "owner": {"reputation": 2310, "user_id": 2356160, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/vbPHS.jpg?s=128&g=1", "display_name": "lathspell", "link": "https://stackoverflow.com/users/2356160/lathspell"}, "is_accepted": true, "score": 1, "last_activity_date": 1532564293, "creation_date": 1532564293, "answer_id": 51529348, "question_id": 51528223, "link": "https://stackoverflow.com/questions/51528223/access-static-class-member-of-parent-java-class-in-kotlin/51529348#51529348", "title": "access (static class) member of parent java class in kotlin", "body": "<p>If C has to import class A then it's not in the same package as A and B.\nIf that's the case, how should C see class B which is not public but package level visible. It does not work in Java as well.\n(In Kotlin there is no package level visibility modifier, one would probably take \"internal\" but that's not the same. Those would see eachother)</p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 51529348, "answer_count": 1, "score": 0, "last_activity_date": 1532564293, "creation_date": 1532555621, "question_id": 51528223, "link": "https://stackoverflow.com/questions/51528223/access-static-class-member-of-parent-java-class-in-kotlin", "title": "access (static class) member of parent java class in kotlin", "body": "<p>I\u2019ve got a java class <code>A</code> that has a static class as a member:</p>\n\n<pre><code>class A {\n  ...\n  static class B {...}\n}\n</code></pre>\n\n<p>I see code in java that just do <code>A.B</code> to access class B. However, I cannot do the same thing in my kotlin class:</p>\n\n<pre><code>import org.mypackage.A\nclass C {\n  ...\n  fun doSomething(o: Any) {\n    if (o is A.B) { ...}\n    ...\n  }\n}\n</code></pre>\n\n<p>(intellij marks <code>B</code> as red when I do <code>A.B</code>.<br>\nMy use case: I have an object that I want to cast to <code>B</code>, like <code>o is A.B</code>.</p>\n\n<p>I did <code>mvn clean compile</code> and got this error: <code>Cannot access 'B': it is public/*package*/ in 'A'</code>.</p>\n\n<p>My question: how do I access <code>B</code> in my kotlin class?</p>\n"}, {"tags": ["java", "android", "arraylist", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": true, "score": 3, "last_activity_date": 1532555236, "creation_date": 1532555236, "answer_id": 51528150, "question_id": 51527902, "link": "https://stackoverflow.com/questions/51527902/how-to-make-the-kotlin-function-with-list-callable-from-java/51528150#51528150", "title": "How to make the kotlin function with List&lt;&gt; callable from Java", "body": "<p>Instead of</p>\n\n<pre><code>ArrayList&lt;Data&gt; theDataList = new ArrayList&lt;Data&gt;();\n</code></pre>\n\n<p>you should use:</p>\n\n<pre><code>List&lt;Data&gt; theDataList = new ArrayList&lt;Data&gt;();\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 1, "accepted_answer_id": 51528150, "answer_count": 1, "score": 0, "last_activity_date": 1532555236, "creation_date": 1532553983, "question_id": 51527902, "link": "https://stackoverflow.com/questions/51527902/how-to-make-the-kotlin-function-with-list-callable-from-java", "title": "How to make the kotlin function with List&lt;&gt; callable from Java", "body": "<p>In kotlin has MyClass with List member,  and the builder has function to take the List&lt;Data&gt;.</p>\n\n<p>but in Java code when it calls the builder's  <code>fun dataList(dataList: List&lt;Data&gt;)</code> it gets compiler error something about </p>\n\n<p><code>List&lt;&gt; cannot be applied to ArrayList&lt;&gt;</code>.  </p>\n\n<p>From the decompiled code it shows the list is type of <code>kotlin.collections.List&lt;&gt;</code>. </p>\n\n<p>How to make the function with List&lt;> callable from Java?</p>\n\n<pre><code>data class MyClass( \n    val context: Context,\n    val dataList: List&lt;Data&gt; = emptyList&lt;Data&gt;(),\n) {\n\n    private constructor(builder: Builder) : this(builder.context, builder.dataList)\n\n    class Builder {\n        private var context: Context? = null\n        private var dataList: List&lt;Data&gt; = emptyList&lt;Data&gt;()\n\n        fun context(context: Context) = apply { this.context = context }\n        fun dataList(dataList: List&lt;Data&gt;) = apply { this.dataList = dataList }\n\n        fun build() = MyClass(this)\n    }\n}\n</code></pre>\n\n<p>in JAVA</p>\n\n<pre><code>ArrayList&lt;Data&gt; theDataList = new ArrayList&lt;Data&gt;();\ntheDataList.add(new Data())\n\nMyClass myClass = new MyClass.Builder()\n            .context(appContext)\n            .dataList(theDataList)  //&lt;== error\n            .build();\n</code></pre>\n\n<p>the error is :</p>\n\n<pre><code>dataList(Java.util.List&lt;com.model.Data&gt;)  in Builder  cannot be applied to dataList(Java.util.ArrayList&lt;com.model.Data&gt;)\n</code></pre>\n\n<p>and in Java code if clicking on the dataList()  it opens the decompiled code as below, and seems it complains about the</p>\n\n<p><code>fun dataList(dataList: kotlin.collections.List&lt;com.model.Data&gt;)</code>:</p>\n\n<pre><code>public final data class Data public constructor(context: android.content.Context, \n         dataList: kotlin.collections.List&lt;com.model.Data&gt; /* = compiled code */) {\n\n    public final val context: android.content.Context /* compiled code */\n    public final val dataList: kotlin.collections.List&lt;com.model.Data&gt; /* compiled code */\n\n    public final operator fun component1(): android.content.Context { /* compiled code */ }\n    public final operator fun component2(): kotlin.collections.List&lt;com.model.Data&gt; { /* compiled code */ }\n\n\n    public final class Builder public constructor() {\n\n       private final var context: android.content.Context? /* compiled code */\n       private final var dataList: kotlin.collections.List&lt;com.model.Data&gt; /* compiled code */\n\n       ... ...\n       public final fun dataList(dataList: kotlin.collections.List&lt;com.model.Data&gt;): com.model.MyClass.Builder { /* compiled code */ }\n\n       ... ...\n       public final fun build(): com.model.Data { /* compiled code */ }\n\n\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "viewmodel", "android-architecture-components", "android-livedata"], "comments": [{"owner": {"reputation": 5451, "user_id": 4587527, "user_type": "registered", "profile_image": "https://graph.facebook.com/656830941094290/picture?type=large", "display_name": "Somesh Kumar", "link": "https://stackoverflow.com/users/4587527/somesh-kumar"}, "edited": false, "score": 0, "creation_date": 1567502848, "post_id": 51527726, "comment_id": 101972700, "body": "Have you found a solution to this problem ?"}], "owner": {"reputation": 7138, "user_id": 4415642, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/253d1dc6571ed728099ff96b693f5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Ziobro", "link": "https://stackoverflow.com/users/4415642/micha%c5%82-ziobro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 704, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1532553114, "creation_date": 1532553114, "question_id": 51527726, "link": "https://stackoverflow.com/questions/51527726/how-to-use-viewmodel-in-android-with-livedata-from-repository-db-network", "title": "How to use ViewModel in Android with LiveData from repository (DB/network)?", "body": "<p>I have Fragment/Activity that needs to display some data. \nThe data are coming from web API (or can come from DB).\nI have Repository class that exposes this data as LiveData making request to web API or DB. </p>\n\n<p>Now, I need to implement ViewModel with LiveData and consider how I should do this correctly. I have try to resemble this example: \n<a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/ui/repo/RepoViewModel.kt\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/ui/repo/RepoViewModel.kt</a></p>\n\n<p>But this example is very specific. As I understand it I have: </p>\n\n<ol>\n<li><p>repoId -> which I need to set from VIEW using setId() at the start\nof Activity/Fragment </p></li>\n<li><p>then I can refresh data in view model's LiveData using retry() which only resets repoId with the same value </p>\n\n<ol start=\"3\">\n<li>repo, contributions - real observable LiveData are making request by repository to Web API each time repoId is set using\nTransofrmations.switchMap()</li>\n</ol></li>\n</ol>\n\n<p>So: In Activity I need to: </p>\n\n<ol>\n<li><p>viewModel.repo.observe(), viewModel.contributions.observe() </p></li>\n<li><p>viewModel.setId() - to get initial data loading </p></li>\n<li><p>viewModel.retry() - each time I want to refresh data in VIEW </p></li>\n</ol>\n\n<p>Now in my Activity I need to display First Name/Last Name in Navigation Drawer. \n1. I need to load this data on Activity create \n2. I need to refresh this data each time Drawer is opened or maybe on Activity Restart (from background) \n3. I have UserProfileRepository.getUserProfile() -> returning LiveData \nHere is my problem! this request to web api doesn't need any ID as it just takes user profile based on current authentication token in header (this is passed to HTTP request headers using interceptor) </p>\n\n<p>So I don't have any repoId or userId (in my case) to make it MutableLiveData and then make other properties on view model using Transformations.switchMap. </p>\n\n<p>I have tried to directly return LiveData with: </p>\n\n<pre><code>fun getUserProfile() : LiveData&lt;UserProfile&gt; { \n   return repository.getUserProfile()\n}\n</code></pre>\n\n<p>But here was problem with refreshing View as future calls to getUserProfile() just returns new Observable LiveData, instead notifying previous LiveData observer. </p>\n\n<p>I think I could use some MediatorLiveData and local LiveData property in ViewModel but this seems a little overcomplicated. </p>\n\n<p>So I conceived such approach (using fake <code>refresher</code> <strong>private property</strong> of type <code>LiveData&lt;Int&gt;</code>). It function as a trigger for <code>Transformations.switchMap(</code>) blocks to execute each time I want to refresh userProfile (or enforce repository to make web api request, return new <code>LiveData&lt;T</code>> and as I understand place this <strong>new data</strong> in ViewModel property userProfile live data. This way my Activity's Observer will be notified with actual web api data each time I call refresh() method. </p>\n\n<pre><code>class UserProfileViewModel\n@Inject constructor(private val userProfileRepo: UserProfileRepository) : ViewModel()  {\n\n    private val refresher : MutableLiveData&lt;Int&gt; = MutableLiveData()\n\n    val userProfile : LiveData&lt;Resource&lt;UserProfile&gt;&gt; = Transformations.switchMap(refresher) { refreshCount -&gt;\n        userProfileRepo.getUserProfile()\n    }\n\n    fun refresh() {\n        refresher.value = (refresher.value ?: 0) +  1\n    }\n}\n</code></pre>\n\n<p>Is this approach correct way to solve this problem? Or should I implement it in other way.</p>\n"}, {"tags": ["android", "amazon-web-services", "kotlin", "aws-sdk", "aws-mobilehub"], "comments": [{"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1532552544, "post_id": 51527259, "comment_id": 90023788, "body": "It can&#39;t find class <code>org.apache.commons.logging.LogFactory</code>. You need to add <code>commons-logging</code> to dependencies."}, {"owner": {"reputation": 141, "user_id": 6575837, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ur3Wv.jpg?s=128&g=1", "display_name": "Rolthar", "link": "https://stackoverflow.com/users/6575837/rolthar"}, "reply_to_user": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1532553711, "post_id": 51527259, "comment_id": 90024295, "body": "I tried downloading it from <a href=\"https://commons.apache.org/proper/commons-logging/download_logging.cgi\" rel=\"nofollow noreferrer\">link</a> and placing it in my libs folder, as well as trying to add it in my gradle and no luck. :/ same error where android cannot find it"}, {"owner": {"reputation": 141, "user_id": 6575837, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ur3Wv.jpg?s=128&g=1", "display_name": "Rolthar", "link": "https://stackoverflow.com/users/6575837/rolthar"}, "reply_to_user": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1532554194, "post_id": 51527259, "comment_id": 90024479, "body": "@jingx NVM that worked! I downloaded the jar file and added it to dependencies. Thanks! Post this as an answer so i can upvote and check it off!"}], "answers": [{"tags": [], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "is_accepted": true, "score": 1, "last_activity_date": 1532565469, "creation_date": 1532565469, "answer_id": 51529443, "question_id": 51527259, "link": "https://stackoverflow.com/questions/51527259/error-setting-up-aws-credentials-in-kotlin/51529443#51529443", "title": "Error setting up AWS credentials in Kotlin", "body": "<p>It can't find class org.apache.commons.logging.LogFactory. You need to add <a href=\"https://commons.apache.org/proper/commons-logging/\" rel=\"nofollow noreferrer\">commons-logging</a> to dependencies. </p>\n"}], "owner": {"reputation": 141, "user_id": 6575837, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ur3Wv.jpg?s=128&g=1", "display_name": "Rolthar", "link": "https://stackoverflow.com/users/6575837/rolthar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 51529443, "answer_count": 1, "score": 0, "last_activity_date": 1532565469, "creation_date": 1532550877, "last_edit_date": 1532551311, "question_id": 51527259, "link": "https://stackoverflow.com/questions/51527259/error-setting-up-aws-credentials-in-kotlin", "title": "Error setting up AWS credentials in Kotlin", "body": "<p>I am currently creating an android version of an IOS app that is built. I need to be able to access AWS services and I am having issues with my credentials.</p>\n\n<p>In swift the way to set up credentials is to import the 'awsconfiguration.json' file, then write the following code:</p>\n\n<pre><code>let credentialsProvider = AWSStaticCredentialsProvider(accessKey:\"MY_ACCESS_KEY\", secretKey:\"MY_KEY\")\n       let configuration = AWSServiceConfiguration(\n           region: AWSRegionType.USWest2,\n           credentialsProvider: credentialsProvider)\n       AWSServiceManager.default().defaultServiceConfiguration = configuration\n</code></pre>\n\n<p>I tried things from the following the documentation on aws and I cannot figure out what I am missing. I got the json file and pasted it in the /res/raw folder and am trying to call the following code from my MainActivity.</p>\n\n<p><a href=\"https://docs.aws.amazon.com/aws-mobile/latest/developerguide/how-to-android-sdk-setup.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/aws-mobile/latest/developerguide/how-to-android-sdk-setup.html</a></p>\n\n<p><a href=\"https://discuss.kotlinlang.org/t/kotlin-aws-credentials/8399\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/kotlin-aws-credentials/8399</a></p>\n\n<p><a href=\"https://docs.aws.amazon.com/aws-mobile/latest/developerguide/getting-started.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/aws-mobile/latest/developerguide/getting-started.html</a></p>\n\n<p>I get no errors in the IDE (Android Studio). But when I launch the app, it crashes immediately and I get the following error from logcat:</p>\n\n<blockquote>\n  <p>2018-07-25 14:20:10.476 22581-22581/? D/AWSMobileClient: Fetching the\n  Cognito Identity. 2018-07-25 14:20:10.481 22581-22581/?\n  D/AndroidRuntime: Shutting down VM 2018-07-25 14:20:10.484\n  22581-22581/? E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.mammothvr.checkarafragments, PID: 22581\n      java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/commons/logging/LogFactory;\n          at com.amazonaws.util.VersionInfoUtils.(VersionInfoUtils.java:41)\n          at com.amazonaws.util.VersionInfoUtils.getUserAgent(VersionInfoUtils.java:77)\n          at com.amazonaws.ClientConfiguration.(ClientConfiguration.java:43)\n          at com.amazonaws.mobile.auth.core.IdentityManager.(IdentityManager.java:212)\n          at com.amazonaws.mobile.client.AWSMobileClient.fetchCognitoIdentity(AWSMobileClient.java:280)\n          at com.amazonaws.mobile.client.AWSMobileClient.initializeWithBuilder(AWSMobileClient.java:186)\n          at com.amazonaws.mobile.client.AWSMobileClient.access$100(AWSMobileClient.java:74)\n          at com.amazonaws.mobile.client.AWSMobileClient$InitializeBuilder.execute(AWSMobileClient.java:446)\n          at com.mammothvr.checkarafragments.MainActivity.onCreate(MainActivity.kt:60)\n          at android.app.Activity.performCreate(Activity.java:7136)\n          at android.app.Activity.performCreate(Activity.java:7127)\n          at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n          at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n          at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n          at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n          at android.os.Handler.dispatchMessage(Handler.java:106)\n          at android.os.Looper.loop(Looper.java:193)\n          at android.app.ActivityThread.main(ActivityThread.java:6669)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n  2018-07-25 14:20:10.485 22581-22581/? E/AndroidRuntime: Caused by:\n  java.lang.ClassNotFoundException: Didn't find class\n  \"org.apache.commons.logging.LogFactory\" on path: DexPathList[[zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/base.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_dependencies_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_resources_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_0_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_1_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_2_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_3_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_4_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_5_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_6_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_7_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_8_apk.apk\",\n  zip file\n  \"/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/lib/arm64,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/base.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_dependencies_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_resources_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_0_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_1_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_2_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_3_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_4_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_5_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_6_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_7_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_8_apk.apk!/lib/arm64-v8a,\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_slice_9_apk.apk!/lib/arm64-v8a,\n  /system/lib64]]\n          at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\n          at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n          at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n            ... 24 more\n        Suppressed: java.io.IOException: No original dex files found for dex location\n  /data/app/com.mammothvr.checkarafragments-T8bCup9H6KQ50PJscwADAQ==/split_lib_resources_apk.apk\n          at dalvik.system.DexFile.openDexFileNative(Native Method)\n          at dalvik.system.DexFile.openDexFile(DexFile.java:354)\n          at dalvik.system.DexFile.(DexFile.java:101)\n          at dalvik.system.DexFile.(DexFile.java:75)\n          at dalvik.system.DexPathList.loadDexFile(DexPathList.java:394)\n          at dalvik.system.DexPathList.makeDexElements(DexPathList.java:354)\n          at dalvik.system.DexPathList.(DexPathList.java:164)\n          at dalvik.system.BaseDexClassLoader.(BaseDexClassLoader.java:74)\n          at dalvik.system.BaseDexClassLoader.(BaseDexClassLoader.java:65)\n          at dalvik.system.PathClassLoader.(PathClassLoader.java:64)\n  2018-07-25 14:20:10.485 22581-22581/? E/AndroidRuntime:     at\n  com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:73)\n          at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:88)\n          at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:74)\n          at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:40)\n          at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:727)\n          at android.app.LoadedApk.getClassLoader(LoadedApk.java:810)\n          at android.app.LoadedApk.getResources(LoadedApk.java:1032)\n          at android.app.ContextImpl.createAppContext(ContextImpl.java:2345)\n          at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5749)\n          at android.app.ActivityThread.access$1100(ActivityThread.java:199)\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1650)\n                ... 6 more</p>\n</blockquote>\n\n<p>Here is my MainActivity Kotlin code:</p>\n\n<pre><code>package com.mammothvr.checkarafragments\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\nimport androidx.fragment.app.FragmentTransaction\nimport com.amazonaws.auth.AWSCredentials\nimport com.amazonaws.auth.AWSCredentialsProvider\nimport com.amazonaws.auth.BasicAWSCredentials\nimport com.amazonaws.mobile.auth.core.IdentityHandler\nimport com.amazonaws.mobile.auth.core.IdentityManager\nimport kotlinx.android.synthetic.main.activity_main.*\nimport com.amazonaws.mobile.client.AWSMobileClient;\nimport com.amazonaws.mobile.client.AWSMobileClient.InitializeBuilder\nimport com.amazonaws.mobile.config.AWSConfiguration\nimport androidx.core.app.CoreComponentFactory\n\n\nclass MainActivity : AppCompatActivity() {\n\n    companion object {\n\n        //AWS singleton link to mobile client\n        private val TAG: String = this::class.java.simpleName\n        // Used to load the 'native-lib' library on application startup.\n        init {\n            System.loadLibrary(\"native-lib\")\n        }\n    }\n\n    private var credentialsProvider: AWSCredentialsProvider? = null\n    private var awsConfiguration: AWSConfiguration? = null\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        AWSMobileClient.getInstance().initialize(this) {\n\n           // val credentials: AWSCredentials = BasicAWSCredentials(\"MY_ACCESS_KEY\", \"MY_KEY\")\n\n            credentialsProvider = AWSMobileClient.getInstance().credentialsProvider\n            awsConfiguration = AWSMobileClient.getInstance().configuration\n\n            IdentityManager.getDefaultIdentityManager().getUserID(object : IdentityHandler {\n                override fun handleError(exception: Exception?) {\n                    Log.e(TAG, \"Retrieving identity: ${exception?.message}\")\n                }\n\n                override fun onIdentityId(identityId: String?) {\n                    Log.d(TAG, \"Identity = $identityId\")\n                    val cachedIdentityId = IdentityManager.getDefaultIdentityManager().cachedUserID\n                    // Do something with the identity here\n                }\n            })\n        }.execute()\n\n        hideSystemUI()\n\n        val fragment = LoginFragment.newInstance()\n        replaceFragment(fragment)\n\n    }\n\n    private fun replaceFragment(fragment: Fragment){\n        val fragmentTransaction = supportFragmentManager.beginTransaction()\n        fragmentTransaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE).replace(R.id.fragmentContainer, fragment).commit()\n    }\n\n\n\n    private fun hideSystemUI() {\n\n        val decorView = window.decorView\n        decorView?.systemUiVisibility = (View.SYSTEM_UI_FLAG_IMMERSIVE\n                // Set the content to appear under the system bars so that the\n                // content doesn't resize when the system bars hide and show.\n                or View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                // Hide the nav bar and status bar\n                or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                or View.SYSTEM_UI_FLAG_FULLSCREEN)\n    }\n\n    external fun stringFromJNI(): String\n}\n</code></pre>\n\n<p>Here are my grade dependencies:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-alpha1'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha3'\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    implementation 'pub.devrel:easypermissions:1.1.3'\n    implementation 'com.android.support:design:27.1.1'\n\n    implementation ('com.amazonaws:aws-android-sdk-s3:2.6.+') { transitive = true }\n    implementation ('com.amazonaws:aws-android-sdk-rekognition:2.6.+') { transitive = true }\n    implementation ('com.amazonaws:aws-android-sdk-cognitoauth:2.6.+@aar') { transitive = true }\n    implementation ('com.amazonaws:aws-android-sdk-cognitoidentityprovider:2.6.+') { transitive = true }\n    implementation ('com.amazonaws:aws-android-sdk-mobile-client:2.6.+@aar') { transitive = true }\n    implementation ('com.amazonaws:aws-android-sdk-cognitoauth:2.6.+@aar') { transitive = true }\n\n\n    // Cognito UserPools for SignIn\n    implementation 'com.android.support:support-v4:26.+'\n    implementation ('com.amazonaws:aws-android-sdk-auth-userpools:2.6.+@aar') { transitive = true }\n\n    // Sign in UI Library\n    implementation 'com.android.support:appcompat-v7:26.+'\n    implementation ('com.amazonaws:aws-android-sdk-auth-ui:2.6.+@aar') { transitive = true }\n\n}\n</code></pre>\n\n<p>This is my first Android project coming from a primarily c#/swift background. Any help is greatly appreciated.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1532550117, "post_id": 51527008, "comment_id": 90022695, "body": "Can&#39;t reproduce this... By the way your example has a mistake: you&#39;re passing <code>null</code> as non-nullable <code>OtherType</code>."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1532551026, "post_id": 51527008, "comment_id": 90023108, "body": "thanks @Pawel, that is just code snippet I typed in for the fail case, in real code it is not null."}, {"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1532662099, "post_id": 51527008, "comment_id": 90068012, "body": "In the example you are giving it should be <code>C.foo()</code>, <code>C.bar()</code> etc. instead of <code>Obj.foo()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1532690170, "post_id": 51550380, "comment_id": 90080232, "body": "the question is even if with @JvmStatic it still complain about without &#39;Companion&#39; part."}, {"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1532693037, "post_id": 51550380, "comment_id": 90081824, "body": "Does it work with a different signature for <code>test(...)</code>? For example <code>test(category: String, other: String)</code>. Maybe <code>OtherType</code> is the problem."}], "tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": false, "score": 0, "last_activity_date": 1532662363, "creation_date": 1532662363, "answer_id": 51550380, "question_id": 51527008, "link": "https://stackoverflow.com/questions/51527008/why-having-jvmstatic-but-calling-from-java-still-needs-companion/51550380#51550380", "title": "why having @JvmStatic but calling from java still needs &#39;Companion&#39;", "body": "<p>The annotation <code>@JvmStatic</code> tells the Kotlin compiler to generate a static method for the class <code>MyClass</code> therefore both <code>MyClass.Companion.test(...)</code> and <code>MyClass.test(\"\", OtherType())</code> work.</p>\n\n<p>Without <code>@JvmStatic</code> only <code>MyClass.Companion.test(...)</code> works as the compiler does not generate <code>MyClass.test(...)</code>   </p>\n"}, {"tags": [], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "is_accepted": true, "score": 0, "last_activity_date": 1533840993, "creation_date": 1533840993, "answer_id": 51774038, "question_id": 51527008, "link": "https://stackoverflow.com/questions/51527008/why-having-jvmstatic-but-calling-from-java-still-needs-companion/51774038#51774038", "title": "why having @JvmStatic but calling from java still needs &#39;Companion&#39;", "body": "<p>Running into similar issue in a different project,   but after delete that project and re-clone it, then after sync the issue goes away.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 51774038, "answer_count": 2, "score": 0, "last_activity_date": 1533840993, "creation_date": 1532549739, "last_edit_date": 1532690003, "question_id": 51527008, "link": "https://stackoverflow.com/questions/51527008/why-having-jvmstatic-but-calling-from-java-still-needs-companion", "title": "why having @JvmStatic but calling from java still needs &#39;Companion&#39;", "body": "<p>in <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">doc</a>, to call the kotlin static function in Java it could be done:</p>\n\n<pre><code>class C {\n    companion object {\n        @JvmStatic fun foo() {}\n        fun bar() {}\n    }\n}\n\nC.foo(); // works fine\nC.bar(); // error\nC.INSTANCE.bar(); // works, a call through the singleton instance\nC.INSTANCE.foo(); // works too\n</code></pre>\n\n<p>but for me it does not work without the <code>'companion'</code>,</p>\n\n<p>kotlin code</p>\n\n<pre><code>class MyClass {\n\n    companion object {\n        @JvmStatic fun test(category: String, otherType: OtherType) {\n        ... ...\n        }\n    }\n}\n</code></pre>\n\n<p>in JAVA code to call the static test() function,</p>\n\n<pre><code>MyClass.Companion.test(\"\", OtherType())  //&lt;== works\nMyClass.test(\"\", OtherType())  //&lt;== error, \"Cannot resolve method 'test(String, ...\"\n</code></pre>\n\n<p>what else I might have missed?</p>\n"}, {"tags": ["kotlin", "null"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1532617720, "post_id": 51526930, "comment_id": 90051825, "body": "I don&#39;t see any of the answers (yet) mentioning this. The Kotlin compiler explicitly adds calls to Intrinsics.checkNotNull in the generated .class file. There are currently advanced compiler options so that these are not generated, but there is no conclusive evidence that they do/don&#39;t appreciably impact performance.  But ultimately, this means it will throw a KotlinNullPointerException if some code didn&#39;t get caught during compilation time. Others have described how that can happen."}], "answers": [{"comments": [{"owner": {"reputation": 37043, "user_id": 173149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e43539b3257049bef7885c9f193b364d?s=128&d=identicon&r=PG", "display_name": "gavenkoa", "link": "https://stackoverflow.com/users/173149/gavenkoa"}, "edited": false, "score": 0, "creation_date": 1532598032, "post_id": 51527963, "comment_id": 90038959, "body": "What package do <code>@Nullable</code> and <code>@NotNull</code> actually belong to? There are several candidates: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 3511, "user_id": 1606577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2da34156d3fd35c94ecd112298183b3?s=128&d=identicon&r=PG", "display_name": "Sergii Zhevzhyk", "link": "https://stackoverflow.com/users/1606577/sergii-zhevzhyk"}, "reply_to_user": {"reputation": 37043, "user_id": 173149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e43539b3257049bef7885c9f193b364d?s=128&d=identicon&r=PG", "display_name": "gavenkoa", "link": "https://stackoverflow.com/users/173149/gavenkoa"}, "edited": false, "score": 1, "creation_date": 1532603687, "post_id": 51527963, "comment_id": 90042448, "body": "These annotations belong to the <code>org.jetbrains.annotations</code> package."}], "tags": [], "owner": {"reputation": 3511, "user_id": 1606577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2da34156d3fd35c94ecd112298183b3?s=128&d=identicon&r=PG", "display_name": "Sergii Zhevzhyk", "link": "https://stackoverflow.com/users/1606577/sergii-zhevzhyk"}, "is_accepted": false, "score": 6, "last_activity_date": 1532557900, "last_edit_date": 1532557900, "creation_date": 1532554259, "answer_id": 51527963, "question_id": 51526930, "link": "https://stackoverflow.com/questions/51526930/is-kotlin-null-safety-implemented-in-compiller/51527963#51527963", "title": "Is Kotlin null safety implemented in compiller?", "body": "<p>The Kotlin compiler tries really hard to protect from NullPointerExceptions and forces you to handle possible issues appropriately. But even with these very sophisticated means to avoid NPEs there are some situations when it is possible. The best example is when we want to use some java methods in Kotlin. The compiler cannot say if the type (also known as <em>platform type</em>) coming from Java can be null or not. When a value of a platform type is assigned to a variable the compiler allows it but it can lead to the NullPointerException later. That is why Kotlin heavily relies on nullability annotations (<code>@Nullable</code> and <code>@NotNull</code>). If these attributes are defined in the Java code which we want to call than the compiler can ensure that no NPE will occur. When the Kotlin compiler generates bytecode it also provides the nullability annotations:</p>\n\n<pre><code>@Nullable\nInteger myFunction(@NotNull MyClass first_value, @Nullable String second_value)\n</code></pre>\n\n<p>This is the way how you can find out about the Kotlin null contract from Java code and as far as I know Kotlin doesn't wrap objects with some additional flag because it would make Kotlin-Java interoperability complicated.</p>\n"}, {"comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1532617716, "post_id": 51533439, "comment_id": 90051824, "body": "See my comment on Question. Unless you explicitly tell the compiler, there ARE runtime checks added by the Kotlin compiler."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1532677110, "post_id": 51533439, "comment_id": 90073051, "body": "I know there are still some kinks and ways to get <code>null</code> in a non-nullable type, but conceptually speaking, null-safety is about eliminating the need for those checks. Many devs coming from Java seem to miss that point and keep thinking that it&#39;s about automatic runtime checks."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1532688301, "post_id": 51533439, "comment_id": 90079174, "body": "Very true. If you have 100% Kotlin, it should be impossible to have an NPE.   If you have a mix, it&#39;s very hard.   And as you say, although the compiler is playing it extra safe by injecting runtime checks, the majority of the time, the checks are unnecessary."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1532590656, "creation_date": 1532590656, "answer_id": 51533439, "question_id": 51526930, "link": "https://stackoverflow.com/questions/51526930/is-kotlin-null-safety-implemented-in-compiller/51533439#51533439", "title": "Is Kotlin null safety implemented in compiller?", "body": "<blockquote>\n  <p>I wonder if Kotlin somehow need to wrap objects or to carry some flags to support null safety.</p>\n</blockquote>\n\n<p>Just like <em>type</em> safety, <em>null</em> safety pertains to compile time. Not only doesn't Kotlin need to wrap objects, it is the very essence of this feature that it proves at compile time that no runtime checks will be needed.</p>\n\n<blockquote>\n  <p>Is this information only available during compilation (about null safety) or it is leaked to <code>.class</code> file or bytecode?</p>\n</blockquote>\n\n<p>The nullability information is available during compilation precisely because it is present in <code>.class</code> files. Kotlin only compiles your own code, it doesn't compile the entire Standard Library and all your dependencies.</p>\n\n<blockquote>\n  <p>Can I check Kotlin null contract from Java code (for method arguments and return value)?</p>\n</blockquote>\n\n<p>You can, through reflection (by looking for the nullability annotations). However, as explained above, it would be quite pointless to do so.</p>\n"}], "owner": {"reputation": 37043, "user_id": 173149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e43539b3257049bef7885c9f193b364d?s=128&d=identicon&r=PG", "display_name": "gavenkoa", "link": "https://stackoverflow.com/users/173149/gavenkoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1532590656, "creation_date": 1532549422, "question_id": 51526930, "link": "https://stackoverflow.com/questions/51526930/is-kotlin-null-safety-implemented-in-compiller", "title": "Is Kotlin null safety implemented in compiller?", "body": "<p>I wonder if Kotlin somehow need to wrap objects or to carry some flags to support null safety.</p>\n\n<p>Is this information only available during compilation (about null safety) or it is leaked to <code>.class</code> file or bytecode?</p>\n\n<p>Can I check Kotlin null contract from Java code (for method arguments and return value)?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1532548284, "post_id": 51526525, "comment_id": 90021858, "body": "&quot;Android Studio complains that there is an accidental override by Child.mapString()&quot;  It&#39;s simply a bug that should be reported then. There&#39;s no override."}], "answers": [{"comments": [{"owner": {"reputation": 9274, "user_id": 42484, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e6ee53651624f055ff4b0a6cbabb02b2?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/42484/greg"}, "edited": false, "score": 0, "creation_date": 1533593422, "post_id": 51527900, "comment_id": 90393844, "body": "Yeah, I&#39;ve ended up giving the subclass&#39;s method a different name. I was hoping to use the same name, since the desired behavior is the same, the subclass just has more specific information to act on."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 9274, "user_id": 42484, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e6ee53651624f055ff4b0a6cbabb02b2?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/42484/greg"}, "edited": false, "score": 0, "creation_date": 1533594173, "post_id": 51527900, "comment_id": 90394021, "body": "@Greg did specifying custom <code>@JvmName</code> not help? That should change methods signature within JVM while letting you call them with their regular name in the IDE."}, {"owner": {"reputation": 9274, "user_id": 42484, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e6ee53651624f055ff4b0a6cbabb02b2?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/42484/greg"}, "edited": false, "score": 0, "creation_date": 1533595072, "post_id": 51527900, "comment_id": 90394260, "body": "No, that didn&#39;t work. It looks like the base class recursively calls its own implementation. I think Java code uses the <code>@JvmName</code> version of the name, but Kotlin uses the &quot;regular&quot; name?"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1532553974, "creation_date": 1532553974, "answer_id": 51527900, "question_id": 51526525, "link": "https://stackoverflow.com/questions/51526525/can-i-hide-a-java-static-method-with-a-kotlin-companion-object-method/51527900#51527900", "title": "Can I hide a Java static method with a Kotlin companion object method?", "body": "<p>This is entire error:</p>\n\n<pre><code>Accidental override: The following declarations have the same JVM signature (mapString(Ljava/lang/String;)I):\nfun mapString(s: String): Int defined in com.example.Base\nfun mapString(s: String): Int defined in com.example.Child\n</code></pre>\n\n<p>This might be an issue in how Kotlin works behind the scenes with Java interop. If you want to prevent the error you can add @JvmName annotation to have another name within JVM:</p>\n\n<pre><code>// Kotlin\nclass Child: Base() {\n  companion object {\n    @JvmStatic \n    @JvmName(\"childMapString\")\n    fun mapString(s: String): Int {\n      return when {\n        \"a\" -&gt; 1\n        else -&gt; -1\n      }\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 9274, "user_id": 42484, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e6ee53651624f055ff4b0a6cbabb02b2?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/42484/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532554124, "creation_date": 1532547672, "last_edit_date": 1532554124, "question_id": 51526525, "link": "https://stackoverflow.com/questions/51526525/can-i-hide-a-java-static-method-with-a-kotlin-companion-object-method", "title": "Can I hide a Java static method with a Kotlin companion object method?", "body": "<p>I'm trying to add some class-specific features to my app, and I'd like to have static methods on a class hierarchy where each class implements its own version of the method. I understand that treating these as overrides will produce behavior that can be hard to predict, but I intent to only call the methods with the classname as a prefix. So like</p>\n\n<pre><code>// Java\npublic class Base {\n  public static int mapString(@NonNull String s) {\n    int value = Child.mapString(s);\n    if (value &lt; 0) {\n      return defaultValue;\n    }\n  }\n}\n\n\n// Kotlin\nclass Child: Base() {\n  companion object {\n    @JvmStatic fun mapString(s: String): Int {\n      return when {\n        \"a\" -&gt; 1\n        else -&gt; -1\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Like this, Android Studio complains that there is an accidental override by Child.mapString(), but if I add the <code>override</code> keyword, then Android Studio complains that nothing was found to override.</p>\n\n<p>Is it possible for me to hide a Java base class's static method from Kotlin?</p>\n"}, {"tags": ["swift", "enums", "kotlin"], "comments": [{"owner": {"reputation": 2843, "user_id": 3037960, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/cU2Gf.jpg?s=128&g=1", "display_name": "Suisse", "link": "https://stackoverflow.com/users/3037960/suisse"}, "edited": false, "score": 0, "creation_date": 1532550305, "post_id": 51526201, "comment_id": 90022785, "body": "<a href=\"https://kotlinlang.org/docs/reference/enum-classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/enum-classes.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 9194489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49276866069cf6135a18ed8e7a1287a7?s=128&d=identicon&r=PG&f=1", "display_name": "Mateo", "link": "https://stackoverflow.com/users/9194489/mateo"}, "is_accepted": true, "score": 13, "last_activity_date": 1532548229, "creation_date": 1532548229, "answer_id": 51526657, "question_id": 51526201, "link": "https://stackoverflow.com/questions/51526201/kotlin-equivalent-of-swift-string-enum-typed-set-of-string-constants/51526657#51526657", "title": "Kotlin equivalent of Swift string enum (typed set of string constants)", "body": "<p>something like: </p>\n\n<pre><code>enum class ScreenName(val displayName : String) { \n  START(\"Start Screen\"), \n  DASHBOARD(\"My Dashboard Screen\") \n}\n\nfun trackView(screenName : ScreenName) {\n  print(\"viewed ${screenName.displayName}\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2629, "user_id": 1051292, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89cce8b59e351225f874e8d24c9215f4?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1051292/kevin"}, "edited": false, "score": 0, "creation_date": 1552050016, "post_id": 51547910, "comment_id": 96875366, "body": "Typed enums are not enums with associated values, those are different concepts. The Swift example in the OP is using enums where the values <i>are</i> strings, while an associated string value is still an int like every normal enum with it has a string value <i>associated</i> with it."}], "tags": [], "owner": {"reputation": 1363, "user_id": 2107610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b52b763b8e0c9e030c8b7cec0ad8754b?s=128&d=identicon&r=PG", "display_name": "bbjay", "link": "https://stackoverflow.com/users/2107610/bbjay"}, "is_accepted": false, "score": 5, "last_activity_date": 1532641301, "creation_date": 1532641301, "answer_id": 51547910, "question_id": 51526201, "link": "https://stackoverflow.com/questions/51526201/kotlin-equivalent-of-swift-string-enum-typed-set-of-string-constants/51547910#51547910", "title": "Kotlin equivalent of Swift string enum (typed set of string constants)", "body": "<p>Another possibility which I have discovered now, is with a sealed class:</p>\n\n<pre><code>sealed class ScreenName(val name : String) {\n    object Start :     ScreenName(\"Start Screen\")\n    object Dashboard : ScreenName(\"My Dashboard Screen\")\n\n    data class NewsDetail(val title: String) : ScreenName(\"News\")\n\n    val displayName: String\n        get() = when(this) {\n            is NewsDetail -&gt; \"${name} - ${title}\"\n            else -&gt; name\n        }\n}\n</code></pre>\n\n<p>This has the advantage that it can mimic Swift enums with associated values.</p>\n"}], "owner": {"reputation": 1363, "user_id": 2107610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b52b763b8e0c9e030c8b7cec0ad8754b?s=128&d=identicon&r=PG", "display_name": "bbjay", "link": "https://stackoverflow.com/users/2107610/bbjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3393, "favorite_count": 2, "accepted_answer_id": 51526657, "answer_count": 2, "score": 8, "last_activity_date": 1532641301, "creation_date": 1532546353, "question_id": 51526201, "link": "https://stackoverflow.com/questions/51526201/kotlin-equivalent-of-swift-string-enum-typed-set-of-string-constants", "title": "Kotlin equivalent of Swift string enum (typed set of string constants)", "body": "<p>I have the following Swift enum:</p>\n\n<pre><code>enum ScreenName: String {\n    case start = \"Start Screen\"\n    case dashboard = \"My Dashboard Screen\"\n}\n</code></pre>\n\n<p>Which allows me to have a typed set of constants and use them like:</p>\n\n<pre><code>func trackView(screen: ScreenName) {\n     print(\"viewed \\(screen.rawValue)\")\n}\n\ntrackView(screen: .start) // -&gt; \"viewed Start Screen\"\n</code></pre>\n\n<p>What would be the equivalent of this in Kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 1, "last_activity_date": 1532546532, "creation_date": 1532546532, "answer_id": 51526241, "question_id": 51526138, "link": "https://stackoverflow.com/questions/51526138/kotlin-split-string-from-end/51526241#51526241", "title": "Kotlin: split string from end", "body": "<p>Look at this:</p>\n\n<pre><code>val myString = \"I_have_a_string\"\nval first = myString.substringBeforeLast(\"_\")\nval second = myString.substringAfterLast(\"_\")\n</code></pre>\n\n<p>I think its self explanatory </p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 51526241, "answer_count": 1, "score": 0, "last_activity_date": 1532546532, "creation_date": 1532546070, "question_id": 51526138, "link": "https://stackoverflow.com/questions/51526138/kotlin-split-string-from-end", "title": "Kotlin: split string from end", "body": "<p>I want to split <code>I_have_a_string</code> into <code>I_have_a</code> and <code>string</code>. Is there a built in function to split from end in Kotlin? The following is what I am doing now</p>\n\n<pre><code>val words = myString.split(\"_\")\nval first = words.dropLast(1).joinToString(\"_\")\nval second = words.last()\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 3, "creation_date": 1532553086, "post_id": 51524772, "comment_id": 90024040, "body": "In kotlin you can achieve this with the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html\" rel=\"nofollow noreferrer\"><code>zip</code></a> function."}], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 1, "last_activity_date": 1532583152, "creation_date": 1532583152, "answer_id": 51531635, "question_id": 51524772, "link": "https://stackoverflow.com/questions/51524772/join-extension-function-for-iterables-kotlin/51531635#51531635", "title": "Join extension function for Iterables (Kotlin)", "body": "<p>This will do the same as the Scala code:</p>\n\n<pre><code>class IterableJoin&lt;X, Y&gt;(val first: Iterable&lt;X&gt;, val second: Y) {\n    infix fun on(predicate: (X, Y) -&gt; Boolean) =\n        first.filter { predicate(it, second) }.map { it to second }\n}\n\ninfix fun &lt;X, Y&gt; Iterable&lt;X&gt;.join(second: Y) = IterableJoin(this, second)\n</code></pre>\n\n<p>The invocation will be like this:</p>\n\n<pre><code>val joinSeq = unitComponents.flatMap { w -&gt;\n    myOtherUnitComponents join w on { u, w -&gt;\n        w.cell == u.cell\n    }\n}   \n</code></pre>\n"}], "owner": {"reputation": 2005, "user_id": 616194, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f33597b25fb4657a5f6ec1887dc04c8d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/616194/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 51531635, "answer_count": 1, "score": 1, "last_activity_date": 1532583152, "creation_date": 1532540320, "last_edit_date": 1532542222, "question_id": 51524772, "link": "https://stackoverflow.com/questions/51524772/join-extension-function-for-iterables-kotlin", "title": "Join extension function for Iterables (Kotlin)", "body": "<p>In Scala I have defined an extension function, so that I can join two Sequences, similiar like in SQL</p>\n\n<pre><code>implicit def SeqExtensions[X](first: Seq[X]) = new {\n def join[Y](second: Y) = new {\n   def on(predicate: (X, Y) =&gt; Boolean) = {\n     for (ff &lt;- first; if predicate(ff, second)) yield (ff, second)\n   }\n }\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>val joinSeq = unitComponents.flatMap(w =&gt; myOtherUnitComponents join w on { (u, w) =&gt;\n  w.cell equals u.cell\n})\n</code></pre>\n\n<p>=> result type is Seq[(UnitComponent, UnitComponent)]</p>\n\n<p>I now wanna do write the same extension in Kotlin (sequence type is not important, List/Collection is fine) but I am not profound enough yet to do this. Any hints? Thanks.</p>\n"}, {"tags": ["spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 4, "last_activity_date": 1532539589, "creation_date": 1532539589, "answer_id": 51524586, "question_id": 51524400, "link": "https://stackoverflow.com/questions/51524400/use-function-which-is-also-a-keyword/51524586#51524586", "title": "Use function which is also a keyword", "body": "<p>See <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#escaping-for-java-identifiers-that-are-keywords-in-kotlin\" rel=\"nofollow noreferrer\">Escaping for Java identifiers that are keywords in Kotlin</a>:</p>\n\n<blockquote>\n  <p>you can still call the method escaping it with the backtick (`) character</p>\n</blockquote>\n\n<pre><code>foo.`is`(bar)\n</code></pre>\n"}], "owner": {"reputation": 3716, "user_id": 3334862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QlVz8.jpg?s=128&g=1", "display_name": "DevNebulae", "link": "https://stackoverflow.com/users/3334862/devnebulae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 51524586, "answer_count": 1, "score": 1, "last_activity_date": 1532539589, "creation_date": 1532538788, "question_id": 51524400, "link": "https://stackoverflow.com/questions/51524400/use-function-which-is-also-a-keyword", "title": "Use function which is also a keyword", "body": "<p>I am currently writing a test for a <code>RestController</code> with a <code>WebMvcTest</code>. However, unlike Java, <code>is</code> is a keyword in <code>Kotlin</code>. Is there a quick way to fix this issue? See the below snippet.</p>\n\n<pre><code>mockMvc.perform(post(\"/networks\")\n    .contentType(MediaType.APPLICATION_JSON)\n    .content(objectMapper.writeValueAsString(StorageNetworkDTO(name = \"Test Network\"))))\n    .andExpect(status().isCreated)\n    .andExpect(jsonPath(\"\\$.name\", Matchers.is(\"Test Network\")))\n</code></pre>\n"}, {"tags": ["kotlin", "member", "javacv"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 1, "creation_date": 1532536244, "post_id": 51523711, "comment_id": 90016245, "body": "You need to put that code inside a method"}, {"owner": {"reputation": 1, "user_id": 10134630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4mG2iCgtLt0/AAAAAAAAAAI/AAAAAAAADbY/wBQx2sE9ln8/photo.jpg?sz=128", "display_name": "Generous Jew", "link": "https://stackoverflow.com/users/10134630/generous-jew"}, "reply_to_user": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1532537780, "post_id": 51523711, "comment_id": 90017000, "body": "oh, thanks) i was stupid"}], "owner": {"reputation": 1, "user_id": 10134630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4mG2iCgtLt0/AAAAAAAAAAI/AAAAAAAADbY/wBQx2sE9ln8/photo.jpg?sz=128", "display_name": "Generous Jew", "link": "https://stackoverflow.com/users/10134630/generous-jew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "closed_date": 1532537413, "answer_count": 0, "score": 0, "last_activity_date": 1532536136, "creation_date": 1532536136, "question_id": 51523711, "link": "https://stackoverflow.com/questions/51523711/exepting-member-declaration", "closed_reason": "Duplicate", "title": "Exepting member declaration", "body": "<p>I tried to use JavaCV with Kotlin, but have a problem in that code</p>\n\n<pre><code>import org.bytedeco.javacv.OpenCVFrameGrabber\nimport org.bytedeco.javacv.CanvasFrame\nimport org.bytedeco.javacv.Frame\n\nclass Vision {\n\n    var grabber: OpenCVFrameGrabber = OpenCVFrameGrabber(0)\n    grabber.start()\n\n    var frame: Frame = grabber.grab()\n\n    var canvasFrame: CanvasFrame = CanvasFrame(\"Test Title\")\n    canvasFrame.setCanvasSize( frame.imageWidth, frame.imageHeight )\n\n    while (canvasFrame.isVisible() &amp;&amp; (frame = grabber.grab()) != null) = this.canvasFrame.showImage(frame)\n\n}\n</code></pre>\n\n<p>a <i>grabber.start()</i> string with <i>canvasFrame.</i> is showing a mistake \"Expecting member declaration\" </p>\n\n<p>Can u help me?</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "edited": false, "score": 0, "creation_date": 1532536063, "post_id": 51523314, "comment_id": 90016165, "body": "I think you could use <code>doOnSubscribe()</code>"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "reply_to_user": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "edited": false, "score": 0, "creation_date": 1532539074, "post_id": 51523314, "comment_id": 90017659, "body": "@ChadBingham, but how can I access the response in <code>doOnSubscribe()</code> ?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 2, "creation_date": 1532593835, "post_id": 51523314, "comment_id": 90036254, "body": "Check out the <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html#doOnNext-io.reactivex.functions.Consumer-\" rel=\"nofollow noreferrer\"><code>doOnX</code></a> operators. You probably need <code>doOnNext</code> or <code>doOnSuccess</code> depending on what the return type of <code>hitEndpoint()</code> is."}], "answers": [{"tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": false, "score": 0, "last_activity_date": 1532570288, "creation_date": 1532570288, "answer_id": 51529922, "question_id": 51523314, "link": "https://stackoverflow.com/questions/51523314/how-to-run-a-function-everytime-an-observable-gets-subscribed/51529922#51529922", "title": "How to run a function everytime an observable gets subscribed", "body": "<p>One option to consider is using an <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/ObservableTransformer.html\" rel=\"nofollow noreferrer\"><code>ObservableTransformer&lt;T&gt;</code></a>. </p>\n\n<p>A sketch of a solution would look something like this:</p>\n\n<pre><code>class LocalStorageComposer&lt;T&gt;: ObservableTransformer&lt;T,T&gt;(private val localStorage : LocalStorage) {\n    override fun apply(upstream: Observable&lt;T&gt;) {\n        return upstream.map {\n            localStorage.store(it)\n            it\n        }\n    }\n}\n</code></pre>\n\n<p>And then you consume it like this:</p>\n\n<pre><code>someApi.getAllData()\n       .subscribeOn(Schedulers.io())\n       .observeOn(AndroidSchedulers.mainThread())\n       .compose(LocalStorageComposer(localStorage))\n       .subscribe //etc\n</code></pre>\n\n<p>It would work better if <code>LocalStorageComposer</code> was something you could inject using a DI framework like Dagger 2. Effectively, it allows you to have the mapping to local storage as an extra step in your API calls without referencing it explicitly.</p>\n\n<p>Another thing to look at is the caching for OkHttp (link <a href=\"https://github.com/square/okhttp/wiki/Recipes\" rel=\"nofollow noreferrer\">here</a>) which may better fit your use-case.</p>\n"}, {"tags": [], "owner": {"reputation": 1707, "user_id": 6440190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0xWL.png?s=128&g=1", "display_name": "Bal0r", "link": "https://stackoverflow.com/users/6440190/bal0r"}, "is_accepted": false, "score": 0, "last_activity_date": 1532597425, "last_edit_date": 1532597425, "creation_date": 1532595149, "answer_id": 51534794, "question_id": 51523314, "link": "https://stackoverflow.com/questions/51523314/how-to-run-a-function-everytime-an-observable-gets-subscribed/51534794#51534794", "title": "How to run a function everytime an observable gets subscribed", "body": "<p>If I understand the question correctly, you want to do something before subscribing to the event. In that case, simply using the <code>map</code> operator will do the job.\nIt would look something like:</p>\n\n<pre><code>myRetrofit.create(MyInterface::class.java)\n.map{\n//operation, you can access the response as \"it\"\nit\n}.hitEndpoint()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "is_accepted": true, "score": 0, "last_activity_date": 1532612262, "creation_date": 1532612262, "answer_id": 51540243, "question_id": 51523314, "link": "https://stackoverflow.com/questions/51523314/how-to-run-a-function-everytime-an-observable-gets-subscribed/51540243#51540243", "title": "How to run a function everytime an observable gets subscribed", "body": "<p>As per @akarnokd 's comment, I just used <code>.doOnNext { }</code>.</p>\n\n<p>The other solutions would have worked as well but this was was the simplest.</p>\n"}], "owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 51540243, "answer_count": 3, "score": 1, "last_activity_date": 1532612262, "creation_date": 1532534643, "last_edit_date": 1532535092, "question_id": 51523314, "link": "https://stackoverflow.com/questions/51523314/how-to-run-a-function-everytime-an-observable-gets-subscribed", "title": "How to run a function everytime an observable gets subscribed", "body": "<p>I've only recently started using Rx so if this isn't the best way to do what I'm trying to do please correct it.</p>\n\n<p><strong>Goal:</strong> Having an observable that hits an API (with Retrofit), and everytime it does it saves the response to local storage, but without having to do it everytime I subscribe to it, since I will do it in multiple places.</p>\n\n<p>Having something like this:</p>\n\n<pre><code>myRetrofit.create(MyInterface::class.java).hitEndpoint()\n</code></pre>\n\n<p>I would like to do something like this:</p>\n\n<pre><code>myRetrofit.create(MyInterface::class.java).hitEndpoint()\n        .intercept { storageUtils.saveItem(\"key\", it) }\n</code></pre>\n\n<p><strong>Question:</strong> How do I run a function before an observable gets subscribed to?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "is_accepted": true, "score": 1, "last_activity_date": 1532553622, "creation_date": 1532553622, "answer_id": 51527815, "question_id": 51523289, "link": "https://stackoverflow.com/questions/51523289/classloadergetsystemresource-returning-null/51527815#51527815", "title": "ClassLoader::getSystemResource returning null", "body": "<p>The project root directory is typically the default <em>current working directory</em>, but not necessarily on the classpath. That's why <code>Paths.get(\".\")</code> returns it, while the classloader doesn't find the file under it, because the latter goes by what's in the classpath.</p>\n\n<p>It used to work probably because you had the project root added to the runtime classpath. The solution I would recommend is instead of using a classloader, just use the file system API in java.io to load it.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 51527815, "answer_count": 1, "score": 1, "last_activity_date": 1532553622, "creation_date": 1532534550, "question_id": 51523289, "link": "https://stackoverflow.com/questions/51523289/classloadergetsystemresource-returning-null", "title": "ClassLoader::getSystemResource returning null", "body": "<p>It used to work in the past, but I don't what happened in the middle, now it returns always <code>null</code>.</p>\n\n<p>The file to read is in the project <a href=\"https://github.com/kotlin-graphics/imgui/blob/master/imgui.ini\" rel=\"nofollow noreferrer\">root diretory</a>, which corresponds to the output of <code>Paths.get(\".\")</code>.</p>\n\n<p>Note: function is top-level</p>\n\n<p>I'm reading the <code>imgui.ini</code> file <a href=\"http://fileLoadToLines(iniFilename)\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><code>fileLoadToLines(iniFilename)</code></p>\n\n<p>where it's so <a href=\"https://github.com/kotlin-graphics/imgui/blob/master/src/main/kotlin/imgui/internal/helpers.kt#L153\" rel=\"nofollow noreferrer\">defined</a></p>\n\n<p><code>fun fileLoadToLines(filename: String) = ClassLoader.getSystemResourceAsStream(filename)?.use { it.bufferedReader().readLines() }</code></p>\n\n<p>Tried also the other <code>Thread.currentThread().contextClassLoader</code>, no success</p>\n\n<p>What's the problem?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1532531866, "post_id": 51522423, "comment_id": 90013780, "body": "it determines whether the inject annotation is on the field, the getter or the setter."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1532532001, "post_id": 51522423, "comment_id": 90013886, "body": "Related: <a href=\"https://stackoverflow.com/a/35362799/2413303\">stackoverflow.com/a/35362799/2413303</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3511, "user_id": 1606577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2da34156d3fd35c94ecd112298183b3?s=128&d=identicon&r=PG", "display_name": "Sergii Zhevzhyk", "link": "https://stackoverflow.com/users/1606577/sergii-zhevzhyk"}, "is_accepted": true, "score": 8, "last_activity_date": 1532542159, "creation_date": 1532542159, "answer_id": 51525224, "question_id": 51522423, "link": "https://stackoverflow.com/questions/51522423/dagger-2-what-is-difference-between-setinject-and-inject/51525224#51525224", "title": "dagger 2, what is difference between @set:Inject and @Inject", "body": "<p>The <code>@Inject</code> annotation can be used for method, constructor, or field:</p>\n\n<pre><code>@Target(value={METHOD,CONSTRUCTOR,FIELD})\n</code></pre>\n\n<p>It is important to remember that Java code will be generated from this Kotlin code and for one statement in Kotlin you can have multiple Java elements and that is why <code>@set:Inject</code> explicitly specifies that the <code>@Inject</code> annotation should be applied to the setter that will be generated in Java.</p>\n\n<p>What happens if there is no use-site target defined? <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">Official documentation</a> provides a good explanation:</p>\n\n<blockquote>\n  <p>If you don't specify a use-site target, the target is chosen according\n  to the @Target annotation of the annotation being used. If there are\n  multiple applicable targets, the first applicable target from the\n  following list is used:</p>\n  \n  <ul>\n  <li>param (constructor parameter);</li>\n  <li>property (annotations with this target are not visible to Java);</li>\n  <li>field;</li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1459, "favorite_count": 0, "accepted_answer_id": 51525224, "answer_count": 1, "score": 4, "last_activity_date": 1532542159, "creation_date": 1532531768, "question_id": 51522423, "link": "https://stackoverflow.com/questions/51522423/dagger-2-what-is-difference-between-setinject-and-inject", "title": "dagger 2, what is difference between @set:Inject and @Inject", "body": "<p>In a android, kotlin project,  seeing this <code>@set:Inject</code>  but could not find a good explanation. Anyone knows?</p>\n\n<pre><code>object Controller {\n\n    @set:Inject\n    lateinit var someData: SomeData\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6730975, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/005a8ccf5f04120e295afe4d15244138?s=128&d=identicon&r=PG&f=1", "display_name": "Yonathan Hans", "link": "https://stackoverflow.com/users/6730975/yonathan-hans"}, "edited": false, "score": 0, "creation_date": 1532531292, "post_id": 51522143, "comment_id": 90013342, "body": "i edited my question it just showing retry dialog and the dialog has button for retry api and if the user click the button it will retry the call"}, {"owner": {"reputation": 166, "user_id": 5803704, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cw4BXt2zQbQ/AAAAAAAAAAI/AAAAAAAAAR8/0qgyoHs-1Vo/photo.jpg?sz=128", "display_name": "jordivilagut", "link": "https://stackoverflow.com/users/5803704/jordivilagut"}, "reply_to_user": {"reputation": 35, "user_id": 6730975, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/005a8ccf5f04120e295afe4d15244138?s=128&d=identicon&r=PG&f=1", "display_name": "Yonathan Hans", "link": "https://stackoverflow.com/users/6730975/yonathan-hans"}, "edited": false, "score": 0, "creation_date": 1532535180, "post_id": 51522143, "comment_id": 90015740, "body": "As Ramees pointed out, the right parameter for <code>onNoConnection()</code> is <code>Observable&lt;Response&lt;T&gt;&gt;</code>"}], "tags": [], "owner": {"reputation": 166, "user_id": 5803704, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cw4BXt2zQbQ/AAAAAAAAAAI/AAAAAAAAAR8/0qgyoHs-1Vo/photo.jpg?sz=128", "display_name": "jordivilagut", "link": "https://stackoverflow.com/users/5803704/jordivilagut"}, "is_accepted": false, "score": 1, "last_activity_date": 1532534993, "last_edit_date": 1532534993, "creation_date": 1532530922, "answer_id": 51522143, "question_id": 51521871, "link": "https://stackoverflow.com/questions/51521871/android-generic-parameter/51522143#51522143", "title": "Android Generic Parameter", "body": "<p>Well, you're defining your call differently on both methods:</p>\n\n<p>\u00b7 In <code>initRetrofitCarList()</code> call is <code>Observable&lt;Response&lt;MyCarModel&gt;&gt;</code></p>\n\n<p>\u00b7 In <code>initRetrofitBikeList()</code> call is <code>Observable&lt;Response&lt;MyBikeModel&gt;&gt;</code></p>\n\n<p>Therefore when you pass this call on to another function, you need to request the generic <code>Observable&lt;Response&lt;T&gt;&gt;</code> as parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 917, "user_id": 6835152, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H-mvnFOWc_Q/AAAAAAAAAAI/AAAAAAAAAA8/d1WqxSOihAo/photo.jpg?sz=128", "display_name": "Ramees Thattarath", "link": "https://stackoverflow.com/users/6835152/ramees-thattarath"}, "is_accepted": true, "score": 5, "last_activity_date": 1532532625, "last_edit_date": 1532532625, "creation_date": 1532532318, "answer_id": 51522620, "question_id": 51521871, "link": "https://stackoverflow.com/questions/51521871/android-generic-parameter/51522620#51522620", "title": "Android Generic Parameter", "body": "<p>Just declare the function will recieve generic by putting T before function name, \nshowRetryDialog function must also be generic, or else check instance and typecast generic to expected type </p>\n\n<pre><code>override  fun &lt;T&gt; onNoConnection(call :Observable&lt;Response&lt;T&gt;&gt;){\nmView.dismissProgressDialog()\nmView.showRetryDialog(call)\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6730975, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/005a8ccf5f04120e295afe4d15244138?s=128&d=identicon&r=PG&f=1", "display_name": "Yonathan Hans", "link": "https://stackoverflow.com/users/6730975/yonathan-hans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 51522620, "answer_count": 2, "score": 1, "last_activity_date": 1532534993, "creation_date": 1532530202, "last_edit_date": 1532531179, "question_id": 51521871, "link": "https://stackoverflow.com/questions/51521871/android-generic-parameter", "title": "Android Generic Parameter", "body": "<p>Hi guys i have some problem passing parameter. I have 2 API call and if the device has no internet connection i need to pass the call back to another class\nbecause each api has different pojo the android give me warning mismatch type. Heres my code</p>\n\n<pre><code> override fun initRetrofitCarList(call: Observable&lt;Response&lt;MyCarModel&gt;&gt;) {\n    compositeDisposable.add(call\n            .map{\n              it.body()\n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({\n                if (it.status == Constants.Result.SUCCESS) {\n                    mPresenter.successGetVehicleList(it.vehicle, \"api\")\n                } else {\n                    mPresenter.failedGetVehicleList(it.message)\n                }\n            }, {\n                mPresenter.onNoConnection(call) &lt;- this here will give WARNING because of mismatch type\n            }))\n}\n\noverride fun initRetrofitBikeList(call: Observable&lt;Response&lt;MyBikeModel&gt;&gt;) {\n    compositeDisposable.add(call\n             .map{\n              it.body()\n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({\n                if (it.status == Constants.Result.SUCCESS) {\n                    mPresenter.successGetVehicleList(it.vehicle, \"api\")\n                } else {\n                    mPresenter.failedGetVehicleList(it.message)\n                }\n            }, {\n                mPresenter.onNoConnection(call) &lt;- this here will give WARNING because of mismatch type\n            }))\n}\n</code></pre>\n\n<p>How to make the parameter of the function take generic call ? </p>\n\n<p>EDIT</p>\n\n<pre><code> override fun onNoConnection(//need to be generic) {\n    mView.dismissProgressDialog()\n    mView.showRetryDialog(call)\n}\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1532543810, "post_id": 51521778, "comment_id": 90019950, "body": "Your main method quits too early. Add <code>sleep(3000)</code> after the subscribe call."}], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": true, "score": 1, "last_activity_date": 1532679993, "creation_date": 1532679993, "answer_id": 51553891, "question_id": 51521778, "link": "https://stackoverflow.com/questions/51521778/how-to-use-delay-and-timer-in-rxjava2-inside-a-chain/51553891#51553891", "title": "How to use .delay() and .timer() in RXJava2 inside a chain?", "body": "<p>Try to use <code>Observable.interval</code> - it's emits items with passed delay. In the example below, it ticks every 2 seconds (<code>interval</code>) for 2 times (<code>take(2)</code>) and stops.</p>\n\n<pre><code>Observable\n        .interval(2, TimeUnit.SECONDS)\n        .take(2)\n        .subscribe();\n</code></pre>\n\n<p>If you still want to use <code>timer</code> and <code>delay</code> only, you can do something like this.\nI actually don't think you should use <code>delay</code> here, since when you call second <code>timer</code> after first one it still delays its emition by given time.</p>\n\n<pre><code>fun start() {\n    tick().andThen(tick())\n\n}\n\nfun tick(): Completable {\n    return Completable\n            .timer(2, TimeUnit.SECONDS)\n            .subscribe {\n                val time = Instant.ofEpochMilli(System.currentTimeMillis()).atZone(\n                        ZoneId.systemDefault()).toLocalTime()\n                println(time)\n            }\n}\n</code></pre>\n"}], "owner": {"reputation": 1457, "user_id": 2462241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/11da47c8987402a92cb8b1f2aef11216?s=128&d=identicon&r=PG", "display_name": "Xi Wei", "link": "https://stackoverflow.com/users/2462241/xi-wei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "accepted_answer_id": 51553891, "answer_count": 1, "score": 0, "last_activity_date": 1532679993, "creation_date": 1532529952, "question_id": 51521778, "link": "https://stackoverflow.com/questions/51521778/how-to-use-delay-and-timer-in-rxjava2-inside-a-chain", "title": "How to use .delay() and .timer() in RXJava2 inside a chain?", "body": "<p>I would like to learn how to use RX's <code>.delay()</code> and <code>.timer()</code>.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    showTime()\n        .delay(2, TimeUnit.SECONDS)\n        .andThen(showTime())\n        .subscribe()\n}\n\nprivate fun showTime(): Completable =\n    Completable.fromAction {\n        val time = Instant.ofEpochMilli(System.currentTimeMillis()).atZone(ZoneId.systemDefault()).toLocalTime()\n        println(time)\n    }\n</code></pre>\n\n<p>I would like the above code to print time twice with 2 seconds in between. However, it only prints once.</p>\n\n<p>I have also tried to use <code>.timer()</code> and did't work either.</p>\n\n<pre><code>    showTime()\n        .andThen(Completable.timer(2, TimeUnit.SECONDS))\n        .andThen(showTime())\n        .subscribe()\n</code></pre>\n\n<p>Can someone show me the right way of print time twice with 2 seconds in between using <code>.delay()</code> and <code>.timer()</code> in RX?</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 1, "last_activity_date": 1532529228, "creation_date": 1532529228, "answer_id": 51521548, "question_id": 51520934, "link": "https://stackoverflow.com/questions/51520934/kotlin-access-private-var-in-test/51521548#51521548", "title": "Kotlin: Access private var in test", "body": "<p>The <code>KCallable</code> you get is actually an instance of <code>KProperty1</code>, and you can call its <code>get</code> method to get the instance:</p>\n\n<pre><code> val items = (field as KProperty1&lt;ClassUnderTest, List&lt;Item&gt;&gt;).get(sut)\n</code></pre>\n"}], "owner": {"reputation": 4634, "user_id": 678448, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HVbqu.jpg?s=128&g=1", "display_name": "Thommy", "link": "https://stackoverflow.com/users/678448/thommy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532529228, "creation_date": 1532527475, "question_id": 51520934, "link": "https://stackoverflow.com/questions/51520934/kotlin-access-private-var-in-test", "title": "Kotlin: Access private var in test", "body": "<p>I have a Kotlin class containing the following property</p>\n\n<pre><code>private var items: List&lt;Item&gt; = listOf()\n</code></pre>\n\n<p>In my test I now want to check if there are items in the list. I try to do this with reflection:</p>\n\n<pre><code>val field = sut::class.members.findLast { f -&gt; f.name.equals(\"items\") }\n</code></pre>\n\n<p>I now get a KCallable&lt;*> back but I don't know how I can access or at least count the items in my list.</p>\n"}, {"tags": ["java", "c++", "kotlin", "java-native-interface", "javacpp"], "comments": [{"owner": {"reputation": 4789, "user_id": 523744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c48446db0f9d0ead468326a8ca5f791?s=128&d=identicon&r=PG", "display_name": "Samuel Audet", "link": "https://stackoverflow.com/users/523744/samuel-audet"}, "edited": false, "score": 0, "creation_date": 1545652516, "post_id": 51520009, "comment_id": 94669706, "body": "Although we can use JNI for this, you probably want to set the <code>long address</code> field from Java. We can set that <code>Pointer.address</code> by creating a subclass, of <code>Mat</code>, in this case. Does that sound like what you need to do?"}, {"owner": {"reputation": 1904, "user_id": 1545952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMD46.jpg?s=128&g=1", "display_name": "Xvolks", "link": "https://stackoverflow.com/users/1545952/xvolks"}, "reply_to_user": {"reputation": 4789, "user_id": 523744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c48446db0f9d0ead468326a8ca5f791?s=128&d=identicon&r=PG", "display_name": "Samuel Audet", "link": "https://stackoverflow.com/users/523744/samuel-audet"}, "edited": false, "score": 0, "creation_date": 1545653657, "post_id": 51520009, "comment_id": 94670029, "body": "As I wrote in edit, I solved the problem an other way. But the memory management is still an issue. If one call deallocate often the code is much faster than letting the Deallocator do its job. The new PointerScope is great\u2019ish. It also register and free static values lazy created by the code."}, {"owner": {"reputation": 4789, "user_id": 523744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c48446db0f9d0ead468326a8ca5f791?s=128&d=identicon&r=PG", "display_name": "Samuel Audet", "link": "https://stackoverflow.com/users/523744/samuel-audet"}, "edited": false, "score": 0, "creation_date": 1545698502, "post_id": 51520009, "comment_id": 94679934, "body": "Yeah, it&#39;s not perfect, there&#39;s no reliable way to know when something gets assigned to a field or something, but we can easily call <code>PointerScope.detach()</code> manually and it works well enough, for example, with the callbacks in <a href=\"https://github.com/bytedeco/javacv/blob/master/src/main/java/org/bytedeco/javacv/FFmpegFrameGrabber.java\" rel=\"nofollow noreferrer\">github.com/bytedeco/javacv/blob/master/src/main/java/org/&hellip;</a> . If there&#39;s anything that you still need an answer for though, let me know!"}], "owner": {"reputation": 1904, "user_id": 1545952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMD46.jpg?s=128&g=1", "display_name": "Xvolks", "link": "https://stackoverflow.com/users/1545952/xvolks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1532607045, "creation_date": 1532524960, "last_edit_date": 1532607045, "question_id": 51520009, "link": "https://stackoverflow.com/questions/51520009/use-org-bytedeco-javacpp-objects-in-a-jni-context", "title": "Use org.bytedeco.javacpp objects in a JNI context", "body": "<p>I'm currently writing a JNI accelerator library to replace Java methods on some systems (Linux x64 and macOS).</p>\n\n<p>I have a working code written in Kotlin/Java with <a href=\"https://github.com/bytedeco/javacpp-presets/tree/master/opencv\" rel=\"nofollow noreferrer\">JavaCV 3.4.2</a></p>\n\n<p>I've created a JNI library that do the same job to avoid multiple back and forth between JVM and JNI.</p>\n\n<p>Example:</p>\n\n<p>Kotlin side (JVM + JavaCV) without acceleration :</p>\n\n<pre><code>override fun process(image: Mat): FeaturesDetectorResult {\n    val faceDetection = Dlib.faceDetection(image)\n    ...\n}\n</code></pre>\n\n<p>JNI accelerator part:</p>\n\n<p>Kotlin</p>\n\n<pre><code>@ByVal\nprotected external fun Process(imagePtr: Long, lines: List&lt;opencv_core.Rect&gt;): opencv_core.Mat?;\n\n// method of class overriding the native method\noverride fun process(image: opencv_core.Mat): FeaturesDetectorResult {\n    val lines = ArrayList&lt;opencv_core.Rect&gt;()\n    val rotatedMat = Process(image.address(), lines)\n    return FeaturesDetectorResult(rotatedMat, lines)\n}\n</code></pre>\n\n<p>C++</p>\n\n<pre><code>JNIEXPORT jlong JNICALL Java_fr_tessi_bmd_image_accel_MserFeaturesDetectorNative_Process\n  (JNIEnv *env, jobject self, jlong imagePtr, jobject list) {\n</code></pre>\n\n<p>At the end of my C++ method, I am stuck in converting a native <code>cv::Mat</code> to its java counterpart <code>opencv_core.Mat</code> (no constructor with native address is present).</p>\n\n<p>I've looked at the sources generated by javacpp and it seems that native objects are treated as <code>jlong</code>. All my tests this way lead to a crash.</p>\n\n<p>Anybody knows how to pass <code>org.bytedeco.javacpp</code> objects back and forth with a homemade JNI library ?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I've found a partial workaround to create <code>opencv_mat.Mat</code> from <code>cv::Mat</code>:</p>\n\n<pre><code>//Safety checks removed for simplicity\n#define ptr_to_jlong(a) ((jlong)(uintptr_t)(a))\nMat* toReturnToJava;\njclass pointerClass = env-&gt;FindClass(\"org/bytedeco/javacpp/Pointer\"); \njfieldID addressFld = env-&gt;GetFieldID(pointerClass, \"address\", \"J\");\njobject pointerObj = env-&gt;AllocObject(pointerClass);\nenv-&gt;SetLongField(pointerObj, addressFld, ptr_to_jlong(toReturnToJava));\n</code></pre>\n\n<p>The <code>Mat</code> is returned to Java as a <code>jlong</code> while the Java side declares the return value as <code>opencv.Mat</code>.</p>\n\n<p>The same type of code does not seem to work for Rect (I used the constructor Rect(x, y, w, h) instead).</p>\n"}, {"tags": ["android", "kotlin", "android-context"], "comments": [{"owner": {"reputation": 630, "user_id": 2919483, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/8cc2589e094a942a321147f009733d4b?s=128&d=identicon&r=PG&f=1", "display_name": "Rajshree Tiwari", "link": "https://stackoverflow.com/users/2919483/rajshree-tiwari"}, "edited": false, "score": 0, "creation_date": 1532521231, "post_id": 51518726, "comment_id": 90006102, "body": "Check this link -  <a href=\"https://stackoverflow.com/questions/44188240/kotlin-how-to-correctly-concatenate-a-string\" title=\"kotlin how to correctly concatenate a string\">stackoverflow.com/questions/44188240/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 403, "user_id": 7326075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41a441ab0e780d1d2820cf5afc3e1ee1?s=128&d=identicon&r=PG&f=1", "display_name": "Ikazuchi", "link": "https://stackoverflow.com/users/7326075/ikazuchi"}, "is_accepted": true, "score": 2, "last_activity_date": 1532521328, "creation_date": 1532521328, "answer_id": 51518787, "question_id": 51518726, "link": "https://stackoverflow.com/questions/51518726/how-to-append-2-strings-in-kotlin/51518787#51518787", "title": "How to append 2 strings in Kotlin?", "body": "<p>try to use this:</p>\n\n<pre><code>val word = getString(R.string.word)\ntext_view.text = \"$word $currentPage/5\"\n</code></pre>\n\n<p>If you want to edit your value (e.g. current page) wrap it with {}\nE.g.</p>\n\n<pre><code>val word = getString(R.string.word)\ntext_view.text = \"$word ${currentPage/5}\"\n</code></pre>\n\n<p>Remember to use proper kotlin syntax</p>\n"}, {"tags": [], "owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "is_accepted": false, "score": 0, "last_activity_date": 1532524159, "creation_date": 1532524159, "answer_id": 51519714, "question_id": 51518726, "link": "https://stackoverflow.com/questions/51518726/how-to-append-2-strings-in-kotlin/51519714#51519714", "title": "How to append 2 strings in Kotlin?", "body": "<p>To concatenate two string, we could do </p>\n\n<blockquote>\n  <p>val concatenatedWord = \"${resources.getString(R.string.value)}:\n  ${number/3}.\"</p>\n</blockquote>\n\n<p>If R.string.value was <em>\"The result\"</em> and number was <em>15</em>, value of concatenatedWord will be <strong><em>\"The result: 5.\"</em></strong>\nOr we could also concatenate using the <em>+</em> operator or using <em>StringBuilder</em>.</p>\n\n<p>But if you do \n  textView.text =  \"${resources.getString(R.string.value)}: ${number/3}.\"<br>\nAS will warn <em>\"Do not concatenate text displayed with setText.\"</em> so, in the case of setting concatenated text in textview, consider using</p>\n\n<blockquote>\n  <p>String.format(\"%s: %d.\", resources.getString(R.string.value):\n  number/3)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 937, "user_id": 7200713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824da8819a5321da18cf2770593cb489?s=128&d=identicon&r=PG&f=1", "display_name": "Kaveri", "link": "https://stackoverflow.com/users/7200713/kaveri"}, "is_accepted": false, "score": 0, "last_activity_date": 1537542481, "creation_date": 1537542481, "answer_id": 52446586, "question_id": 51518726, "link": "https://stackoverflow.com/questions/51518726/how-to-append-2-strings-in-kotlin/52446586#52446586", "title": "How to append 2 strings in Kotlin?", "body": "<p>As a future resource and answer why the accepted answer works:-</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"nofollow noreferrer\">String Templates</a>:-</p>\n\n<p>Strings may contain template expressions, i.e. pieces of code that are evaluated and whose results are concatenated into the string. </p>\n\n<p>How to implement these?</p>\n\n<p>A template expression should start with a dollar sign ($) and consists of either a  simple name:</p>\n\n<ul>\n<li><p>when the expression is a simple variable.</p>\n\n<pre><code>  val i = 10\n  println(\"i = $i\") // prints \"i = 10\"\n</code></pre></li>\n<li><p>or else arbitrary expression in curly braces:</p>\n\n<pre><code>  val s = \"abc\"\n  println(\"$s.length is ${s.length}\") // prints \"abc.length is 3\"\n</code></pre></li>\n</ul>\n\n<p>Note :- Templates are supported both inside raw strings and inside escaped strings.</p>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 4370035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b7a8736a1ff2981969400a7b9cc9606?s=128&d=identicon&r=PG&f=1", "display_name": "Abhinandan Chada", "link": "https://stackoverflow.com/users/4370035/abhinandan-chada"}, "is_accepted": false, "score": 1, "last_activity_date": 1582888806, "creation_date": 1582888806, "answer_id": 60450679, "question_id": 51518726, "link": "https://stackoverflow.com/questions/51518726/how-to-append-2-strings-in-kotlin/60450679#60450679", "title": "How to append 2 strings in Kotlin?", "body": "<pre><code>In Kotlin, the concatenation of string can be done by **interpolation/templates**.\n\nval a = \"Its\"\nval b = \"Kotlin!\"\nval c = \"$a $b\"\n\nThe output will be Its Kotlin!\n\nOr we can alson do concatenate using the **+ / plus() operator**:\n\nval a = \"String\"\n\nval b = \"Concatenate\"\n\nval c = a + b   \n\nval d =a.plus(b)\n\nprint(c)\nThe output will be: StringConcatenate\n\nprint(d)\nThe output will be: StringConcatenate\n\nOr you can concatenate using the StringBuilder which is a normal way to do that.\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10030957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d6f9ae31b437ef8324d0513918207b?s=128&d=identicon&r=PG&f=1", "display_name": "S.T", "link": "https://stackoverflow.com/users/10030957/s-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5513, "favorite_count": 0, "accepted_answer_id": 51518787, "answer_count": 4, "score": 0, "last_activity_date": 1582888806, "creation_date": 1532521155, "last_edit_date": 1532521518, "question_id": 51518726, "link": "https://stackoverflow.com/questions/51518726/how-to-append-2-strings-in-kotlin", "title": "How to append 2 strings in Kotlin?", "body": "<p>I am trying to concatenate 2 String but not sure how to go about it.</p>\n\n<p>this is my code:</p>\n\n<pre><code> val word = R.string.word\n</code></pre>\n\n<p>and i'm trying to append it with <code>\"$currentPage/5\"</code> inside the <code>setText(\"$currentPage/5\")</code>\n i tried to make it in this way <code>setText(\"$word $currentPage/5\")</code>\nand this way <code>setText(\"${R.string.value} $currentPage/5\")</code>\nand it did not work , it only shows me numbers not the text</p>\n"}, {"tags": ["android", "kotlin", "textview", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 875, "user_id": 4944773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z8Xf0.jpg?s=128&g=1", "display_name": "Aarth Tandel", "link": "https://stackoverflow.com/users/4944773/aarth-tandel"}, "edited": false, "score": 1, "creation_date": 1532520587, "post_id": 51518512, "comment_id": 90005620, "body": "try - textView.text = &quot;My Test&quot;"}, {"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "reply_to_user": {"reputation": 875, "user_id": 4944773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z8Xf0.jpg?s=128&g=1", "display_name": "Aarth Tandel", "link": "https://stackoverflow.com/users/4944773/aarth-tandel"}, "edited": false, "score": 0, "creation_date": 1532520681, "post_id": 51518512, "comment_id": 90005697, "body": "I have no method <code>text</code> because the textView is not a TextView rather an Integer object"}, {"owner": {"reputation": 875, "user_id": 4944773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z8Xf0.jpg?s=128&g=1", "display_name": "Aarth Tandel", "link": "https://stackoverflow.com/users/4944773/aarth-tandel"}, "edited": false, "score": 0, "creation_date": 1532520767, "post_id": 51518512, "comment_id": 90005761, "body": "Can you post the code in the kt file?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1532520800, "post_id": 51518512, "comment_id": 90005781, "body": "What is this Class? Java or Kotlin?"}, {"owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "edited": false, "score": 0, "creation_date": 1532520828, "post_id": 51518512, "comment_id": 90005801, "body": "just add this in import statement <b>import kotlinx.android.synthetic.main.activity_main.*</b> and then use <b>textView.setText(&quot;your_text&quot;);</b>"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1532520845, "post_id": 51518512, "comment_id": 90005814, "body": "use either <code>text = R.string.something</code> or <code>setText(&quot;something&quot;)</code> you cannot use <code>text = &quot;something&quot;</code>"}, {"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 0, "creation_date": 1532520897, "post_id": 51518512, "comment_id": 90005868, "body": "textView.setText(&quot;Your text&quot;) its working perfectly here in kotlin file. @DudiDudewitz"}, {"owner": {"reputation": 875, "user_id": 4944773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z8Xf0.jpg?s=128&g=1", "display_name": "Aarth Tandel", "link": "https://stackoverflow.com/users/4944773/aarth-tandel"}, "edited": false, "score": 0, "creation_date": 1532520968, "post_id": 51518512, "comment_id": 90005921, "body": "Try removing the unnecessary imports and try importing kotlinx.android.synthetic.main.activity_main.* again"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 3, "creation_date": 1532521026, "post_id": 51518512, "comment_id": 90005964, "body": "So the problem is that instead of importing kotlinx.android.synthetic.main.your_activity.* you imported com.package.R.id.textView"}, {"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1532521310, "post_id": 51518512, "comment_id": 90006162, "body": "@mTak it is a abstract kotlin class"}, {"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1532521555, "post_id": 51518512, "comment_id": 90006336, "body": "@mTak @Aarth Tandel yes. I&#39;ve tried to import the synthetic import  manually lik this <code>import kotlinx.android.synthetic.main.myLayout.* </code> but this does not work"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1532522325, "post_id": 51518512, "comment_id": 90006870, "body": "@DudiDudewitz I&#39;m not sure I understand: you want to use a TextView from a layout in your project in an abstract Kotlin class?"}, {"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1532522645, "post_id": 51518512, "comment_id": 90007075, "body": "@mTak yes, correctly"}, {"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1532522970, "post_id": 51518512, "comment_id": 90007315, "body": "oh now i see the my problem there. I use a method, that expect a view as argument. Inside the method I mapped the textView which is came from the parameter argument. In this can&#39;t use kotlin android extensions"}], "answers": [{"comments": [{"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1532521820, "post_id": 51518670, "comment_id": 90006514, "body": "still an Integer Object"}, {"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "reply_to_user": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1532521888, "post_id": 51518670, "comment_id": 90006572, "body": "Can you show me what are you exactly facing.? B&#39;coz i run this with kotlin file and its working fine."}], "tags": [], "owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "is_accepted": false, "score": 0, "last_activity_date": 1532520968, "creation_date": 1532520968, "answer_id": 51518670, "question_id": 51518512, "link": "https://stackoverflow.com/questions/51518512/kotlin-extension-textview/51518670#51518670", "title": "Kotlin extension TextView", "body": "<p><strong>Use textView.setText(\"  \") instead of textView.text(\"  \") with your textview like-</strong></p>\n\n<p>textView.setText(\"Your text here\");</p>\n"}, {"comments": [{"owner": {"reputation": 1049, "user_id": 3837964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cnu1i.jpg?s=128&g=1", "display_name": "shahid17june", "link": "https://stackoverflow.com/users/3837964/shahid17june"}, "reply_to_user": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1533968758, "post_id": 51588498, "comment_id": 90551150, "body": "can you show your logcat errors. And one thing are you using it in activity or fragment?"}], "tags": [], "owner": {"reputation": 1049, "user_id": 3837964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cnu1i.jpg?s=128&g=1", "display_name": "shahid17june", "link": "https://stackoverflow.com/users/3837964/shahid17june"}, "is_accepted": false, "score": 0, "last_activity_date": 1532933777, "creation_date": 1532933777, "answer_id": 51588498, "question_id": 51518512, "link": "https://stackoverflow.com/questions/51518512/kotlin-extension-textview/51588498#51588498", "title": "Kotlin extension TextView", "body": "<p>It looks like the you have imported the wrong package just remove the package<code>com.package.R.id.textView</code> \nAnd instead of this\nYou need to <code>import kotlinx.android.synthetic.main.your_layout_file_name.*</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6574213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-T39YG_ob90o/AAAAAAAAAAI/AAAAAAAAARA/ybKI_NC6-Z0/photo.jpg?sz=128", "display_name": "sainadh", "link": "https://stackoverflow.com/users/6574213/sainadh"}, "is_accepted": false, "score": 0, "last_activity_date": 1533904233, "creation_date": 1533904233, "answer_id": 51786602, "question_id": 51518512, "link": "https://stackoverflow.com/questions/51518512/kotlin-extension-textview/51786602#51786602", "title": "Kotlin extension TextView", "body": "<p>First import this \nimport kotlinx.android.synthetic.main.layoutfile.*;</p>\n\n<p>and then call textview and assign settext (don't use alt+enter)</p>\n"}], "owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1016, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1533904233, "creation_date": 1532520521, "last_edit_date": 1532520589, "question_id": 51518512, "link": "https://stackoverflow.com/questions/51518512/kotlin-extension-textview", "title": "Kotlin extension TextView", "body": "<p>I have this TextView in my layout</p>\n\n<pre><code>&lt;TextView\n            android:id=\"@+id/textView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            tools:text=\"text\"/&gt;\n</code></pre>\n\n<p>Now I want to set the text of the this Textview with Kotlin Android Extension. So I added <code>apply plugin: 'kotlin-android-extensions'</code> in my <code>build.gradle</code> file. \nNow in my class I want to set text in the TextView with </p>\n\n<pre><code>textView.text(\"MyText\")\n</code></pre>\n\n<p>If I import the textView with autocomplete \"alt + return\" the import is not the synthetic import rather the import to the resource direct <code>com.package.R.id.textView</code> \nAt the end I have an Integer Object instead of a TextView</p>\n\n<p>Can someone explain me what I'm doing wrong?</p>\n"}, {"tags": ["spring-boot", "kotlin", "environment-variables"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 9413360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209978543447825/picture?type=large", "display_name": "Casper Christensen", "link": "https://stackoverflow.com/users/9413360/casper-christensen"}, "edited": false, "score": 0, "creation_date": 1532585075, "post_id": 51518744, "comment_id": 90031574, "body": "This code gives me a &quot;unresolved reference&quot; when using contentApiKey in my functions, and the line, private var firebaseAdminSDK: InputStream return a &quot;property must be initialized or abstract&quot;"}, {"owner": {"reputation": 39, "user_id": 9413360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209978543447825/picture?type=large", "display_name": "Casper Christensen", "link": "https://stackoverflow.com/users/9413360/casper-christensen"}, "edited": false, "score": 0, "creation_date": 1532585396, "post_id": 51518744, "comment_id": 90031682, "body": "when using code example #2 how would i get the property from the bean?"}, {"owner": {"reputation": 39, "user_id": 9413360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209978543447825/picture?type=large", "display_name": "Casper Christensen", "link": "https://stackoverflow.com/users/9413360/casper-christensen"}, "edited": false, "score": 0, "creation_date": 1532588564, "post_id": 51518744, "comment_id": 90033253, "body": "I still get the same error &quot;could not resolve placeholder &#39;firestore.serviceAccount in value &quot;${firestore.serviceAccount}&quot;&quot;"}, {"owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "reply_to_user": {"reputation": 39, "user_id": 9413360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209978543447825/picture?type=large", "display_name": "Casper Christensen", "link": "https://stackoverflow.com/users/9413360/casper-christensen"}, "edited": false, "score": 0, "creation_date": 1532588871, "post_id": 51518744, "comment_id": 90033404, "body": "In the first example i forgot the others variable. Add them and initialize them in the init block. If you get couldn&#39;t resolve it means that it can&#39;t be found in any property source."}, {"owner": {"reputation": 39, "user_id": 9413360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209978543447825/picture?type=large", "display_name": "Casper Christensen", "link": "https://stackoverflow.com/users/9413360/casper-christensen"}, "edited": false, "score": 0, "creation_date": 1532590914, "post_id": 51518744, "comment_id": 90034622, "body": "It seems that my application.yml is the problem."}, {"owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "reply_to_user": {"reputation": 39, "user_id": 9413360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209978543447825/picture?type=large", "display_name": "Casper Christensen", "link": "https://stackoverflow.com/users/9413360/casper-christensen"}, "edited": false, "score": 0, "creation_date": 1532591870, "post_id": 51518744, "comment_id": 90035128, "body": "Is it a valid yaml ? Where is it located ?"}], "tags": [], "owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "is_accepted": false, "score": 0, "last_activity_date": 1532525276, "last_edit_date": 1532525276, "creation_date": 1532521217, "answer_id": 51518744, "question_id": 51518302, "link": "https://stackoverflow.com/questions/51518302/environment-variable-is-always-null-kotlin-spring/51518744#51518744", "title": "Environment variable is always null. Kotlin Spring", "body": "<p>If you want to use annotations you should at least avoid using injection by attributes. And use injection by constructor (avoid using lateinit). This will be more suitable for your problem because you need the properties for constructing your service. I'll change your code for something like:</p>\n\n<pre><code>@Service\nclass ArticleService(@Value(\"\\${contentapi.apikey}\") private val contentApiKey: String, @Value(\"\\${firestore.serviceAccount}\") private val serviceAccount: String) {\n\n    private val articleContentApi = \"https://content.watchmedier.dk/api/jyllands-posten/content/article/\"\n    private var firebaseAdminSDK: InputStream\n\n    init {\n        firebaseAdminSDK = this.javaClass.classLoader.getResourceAsStream(serviceAccount)\n    }\n}\n</code></pre>\n\n<p>But if you are using spring-boot and kotlin you should take advantage of kotlin dsl:</p>\n\n<pre><code>import org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.builder.SpringApplicationBuilder\nimport org.springframework.context.support.beans\nimport org.springframework.core.env.Environment\nimport java.io.InputStream\n\nclass ArticleService(private val contentApiKey: String, private val serviceAccount: String) {\n\n    private val articleContentApi = \"https://content.watchmedier.dk/api/jyllands-posten/content/article/\"\n    private var firebaseAdminSDK: InputStream\n\n    init {\n        firebaseAdminSDK = this.javaClass.classLoader.getResourceAsStream(serviceAccount)\n    }\n}\n\n@SpringBootApplication\nclass ServiceApp\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplicationBuilder()\n            .sources(ServiceApp::class.java)\n            .initializers(beans {\n        bean {\n            val properties = ref&lt;Environment&gt;()\n\n            ArticleService(properties.getProperty(\"contentapi.apikey\")!!, properties.getProperty(\"firestore.serviceAccount\")!!)\n        }\n    }).run(*args)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 9413360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209978543447825/picture?type=large", "display_name": "Casper Christensen", "link": "https://stackoverflow.com/users/9413360/casper-christensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1532591127, "creation_date": 1532591127, "answer_id": 51533555, "question_id": 51518302, "link": "https://stackoverflow.com/questions/51518302/environment-variable-is-always-null-kotlin-spring/51533555#51533555", "title": "Environment variable is always null. Kotlin Spring", "body": "<p>The application.yml seems to be the problem.</p>\n\n<p>If it is updated to this:</p>\n\n<pre><code>contentapi:\n  baseurl: https://content.watchmedier.dk\n  apikey: Test\nfirestore:\n  serviceAccount: testing\nserver:\n  port: 8080\n\n---\nspring:\n  profiles: aws\ncontentapi:\n  apikey: ${APIKEY:Test}\nfirestore:\n  serviceAccount: ${SDKPATH:erviceAccount_dev.json}\n</code></pre>\n\n<p>The property will be set to \"testing\"\nSo for some reason the profile isn't getting set. I have of course set the profile in my configuration (local run)</p>\n"}], "owner": {"reputation": 39, "user_id": 9413360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209978543447825/picture?type=large", "display_name": "Casper Christensen", "link": "https://stackoverflow.com/users/9413360/casper-christensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2530, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549377656, "creation_date": 1532519872, "question_id": 51518302, "link": "https://stackoverflow.com/questions/51518302/environment-variable-is-always-null-kotlin-spring", "title": "Environment variable is always null. Kotlin Spring", "body": "<p>I am having trouble with environment variables in spring.\nI want to retrieve the name of the serviceAccount file, I will need this for my firestore db, depending on if my application is running on my prod, test or dev environment.</p>\n\n<p>Here is the application.yml file im working with - the environment variables are set in AWS.</p>\n\n<pre><code>spring:\n profiles: aws\ncontentapi:\n apikey: ${APIKEY}\nfirestore:\n serviceAccount: ${SDKPATH:serviceAccount_dev.json}\n</code></pre>\n\n<p>Here my default/fallback value is the dev serviceAccount</p>\n\n<p>I did read here on Stackoverflow that the @value variables isn't initialised before after the constructor is done.</p>\n\n<p>The problem is that I have to use the variable for my connection to my database..</p>\n\n<p>I have tried the @value annotation, System.env and all the other suggestions I could find here, but none worked.</p>\n\n<p>How do I solve this? It seems that the variable is always null..</p>\n\n<p>Here is my code  </p>\n\n<pre><code>@Configuration\n@Service\nclass ArticleService {\n\n@Value(\"\\${contentapi.apikey}\")\nlateinit var contentapiKey:String\n\n@Value(\"\\${firestore.serviceAccount}\")\nlateinit var serviceAccount:String\n\nvar articleIds = ArrayList&lt;String&gt;()\nvar articleIdsNotSaved = ArrayList&lt;String&gt;()\n\nprivate val articleContentApi = \"https://content.watchmedier.dk/api/jyllands-posten/content/article/\"\n\nprivate val firebaseAdminSDK = this.javaClass.classLoader.getResourceAsStream(serviceAccount)\n\nprivate val options = FirebaseOptions.Builder()\n        .setCredentials(GoogleCredentials.fromStream(firebaseAdminSDK))\n        .setDatabaseUrl(\"https://myprojectid.firebaseio.com\")\n        .build()!!\nprivate val firestore = FirebaseApp.initializeApp(options)\nval databaseReference = FirestoreClient.getFirestore(firestore)\n\n\nfun fetchRecommendations( appId:String, siteName:String, max:String, context:String) {\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-reflect"], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "edited": false, "score": 0, "creation_date": 1532519904, "post_id": 51518215, "comment_id": 90005104, "body": "Thanks heaps for a speedy reply. I started with Java so I can at least read it and the solution sounds great. Just about to head to sleep but will try it tomorrow and post an update :)"}], "tags": [], "owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "is_accepted": false, "score": 0, "last_activity_date": 1532519864, "last_edit_date": 1532519864, "creation_date": 1532519562, "answer_id": 51518215, "question_id": 51518124, "link": "https://stackoverflow.com/questions/51518124/kotlin-call-class-method-from-object/51518215#51518215", "title": "Kotlin - Call class method from object", "body": "<blockquote>\n  <p>and can't make updateUI() static.</p>\n</blockquote>\n\n<p>True! You want to minimize the usage of <code>static</code> stuff in any of your activities.</p>\n\n<p>I don't know how good you are at Java, but I use the so called <strong>observer-pattern</strong> a lot for this kind of problems. You might need to convert it to <code>Kotlin</code>.</p>\n\n<p>If the <code>MainActivity</code> is running, it registers to receive events from the <code>FBManager</code>.</p>\n\n<p>I use the following code from <a href=\"https://github.com/DrKLO/Telegram\" rel=\"nofollow noreferrer\">Telegram</a> quite a lot:</p>\n\n<pre><code>public class NotificationCenter {\n\n    private static int totalEvents = 1;\n\n    public static final int updateActivity = totalEvents++;\n\n    private final SparseArray&lt;ArrayList&lt;Object&gt;&gt; observers = new SparseArray&lt;&gt;();\n    private final SparseArray&lt;ArrayList&lt;Object&gt;&gt; removeAfterBroadcast = new SparseArray&lt;&gt;();\n    private final SparseArray&lt;ArrayList&lt;Object&gt;&gt; addAfterBroadcast = new SparseArray&lt;&gt;();\n\n    private int broadcasting = 0;\n\n    public interface NotificationCenterDelegate {\n        void didReceivedNotification(int id, Object... args);\n    }\n\n    private static volatile NotificationCenter Instance = null;\n\n    public static NotificationCenter getInstance() {\n        NotificationCenter localInstance = Instance;\n        if (localInstance == null) {\n            synchronized (NotificationCenter.class) {\n                localInstance = Instance;\n                if (localInstance == null) {\n                    Instance = localInstance = new NotificationCenter();\n                }\n            }\n        }\n        return localInstance;\n    }\n\n    public void postNotificationName(final int id, final Object... args) {\n        if (Thread.currentThread() == ApplicationLoader.applicationHandler.getLooper().getThread()) {\n            postNotificationNameInternal(id, args);\n        } else {\n            ApplicationLoader.runOnUIThread(new Runnable() {\n                @Override\n                public void run() {\n                    postNotificationNameInternal(id, args);\n                }\n            });\n        }\n    }\n\n    private void postNotificationNameInternal(int id, Object... args) {\n        broadcasting++;\n        ArrayList&lt;Object&gt; objects = observers.get(id);\n        if (objects != null &amp;&amp; !objects.isEmpty()) {\n            for (int a = 0; a &lt; objects.size(); a++) {\n                Object obj = objects.get(a);\n                ((NotificationCenterDelegate) obj).didReceivedNotification(id, args);\n            }\n        }\n        broadcasting--;\n        if (broadcasting == 0) {\n            if (removeAfterBroadcast.size() != 0) {\n                for (int a = 0; a &lt; removeAfterBroadcast.size(); a++) {\n                    int key = removeAfterBroadcast.keyAt(a);\n                    ArrayList&lt;Object&gt; arrayList = removeAfterBroadcast.get(key);\n                    for (int b = 0; b &lt; arrayList.size(); b++) {\n                        removeObserver(arrayList.get(b), key);\n                    }\n                }\n                removeAfterBroadcast.clear();\n            }\n            if (addAfterBroadcast.size() != 0) {\n                for (int a = 0; a &lt; addAfterBroadcast.size(); a++) {\n                    int key = addAfterBroadcast.keyAt(a);\n                    ArrayList&lt;Object&gt; arrayList = addAfterBroadcast.get(key);\n                    for (int b = 0; b &lt; arrayList.size(); b++) {\n                        addObserver(arrayList.get(b), key);\n                    }\n                }\n                addAfterBroadcast.clear();\n            }\n        }\n    }\n\n    public void addObserver(Object observer, int id) {\n        if (broadcasting != 0) {\n            ArrayList&lt;Object&gt; arrayList = addAfterBroadcast.get(id);\n            if (arrayList == null) {\n                arrayList = new ArrayList&lt;&gt;();\n                addAfterBroadcast.put(id, arrayList);\n            }\n            arrayList.add(observer);\n            return;\n        }\n        ArrayList&lt;Object&gt; objects = observers.get(id);\n        if (objects == null) {\n            observers.put(id, (objects = new ArrayList&lt;&gt;()));\n        }\n        if (objects.contains(observer)) {\n            return;\n        }\n        objects.add(observer);\n    }\n\n    public void removeObserver(Object observer, int id) {\n        if (broadcasting != 0) {\n            ArrayList&lt;Object&gt; arrayList = removeAfterBroadcast.get(id);\n            if (arrayList == null) {\n                arrayList = new ArrayList&lt;&gt;();\n                removeAfterBroadcast.put(id, arrayList);\n            }\n            arrayList.add(observer);\n            return;\n        }\n        ArrayList&lt;Object&gt; objects = observers.get(id);\n        if (objects != null) {\n            objects.remove(observer);\n        }\n    }\n}\n</code></pre>\n\n<p>Then make your <code>MainActivity</code> look like this:</p>\n\n<pre><code>public class MainActivity implements NotificationCenter.NotificationCenterDelegate {\n\n    @Override\n    public void onPause() {\n        NotificationCenter.getInstance().removeObserver(this, NotificationCenter.updateActivity);\n        super.onPause();\n    }\n\n    @Override\n    public void onResume() {\n        NotificationCenter.getInstance().addObserver(this, NotificationCenter.updateActivity);\n        super.onResume();\n    }\n\n    @Override\n    public void didReceivedNotification(int id, Object... args) {\n        if (id == NotificationCenter.updateActivity) {\n            UpdateUI();\n        }\n    }\n}\n</code></pre>\n\n<p>Then in your <code>FBManager</code>:</p>\n\n<pre><code>NotificationCenter.getInstance().postNotificationName(NotificationCenter.updateActivity, optionalData);\n</code></pre>\n\n<p>See the other code from this implementation here: <a href=\"https://github.com/gi097/MyWindesheim/tree/master/app/src/main/java/com/giovanniterlingen/windesheim\" rel=\"nofollow noreferrer\">https://github.com/gi097/MyWindesheim/tree/master/app/src/main/java/com/giovanniterlingen/windesheim</a></p>\n"}, {"comments": [{"owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "edited": false, "score": 0, "creation_date": 1532561383, "post_id": 51518316, "comment_id": 90026347, "body": "I really like this solution but worried it can&#39;t work due to using an onCompleteListener... I have edited the main post to try add a lot more clarification about how my object is set up. If this doesn&#39;t work, I&#39;m think Giovanni Terlingen&#39;s solution will do the job."}, {"owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "edited": false, "score": 0, "creation_date": 1532603758, "post_id": 51518316, "comment_id": 90042500, "body": "Answer looks great and simple so I accepted it. After trying different things I started to get my process to work, however I was unable to call startActivityForResult(intent) from FBManager due to weird and unknown reasons... something about null object. So I essentially called that method in MainActivity, which nullifies my whole question. From &#39;override fun onActivityResult(some intent stuff)&#39;, it goes back to FBManager, authorises the sign in account, and can then updateUI() back in MainActivity using a very similar solution to yours."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10053723"}, "is_accepted": true, "score": 9, "last_activity_date": 1532519903, "creation_date": 1532519903, "answer_id": 51518316, "question_id": 51518124, "link": "https://stackoverflow.com/questions/51518124/kotlin-call-class-method-from-object/51518316#51518316", "title": "Kotlin - Call class method from object", "body": "<p>what about this example?\nactivity</p>\n\n<pre><code>class ExampleActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_example)\n\n        FBManager.signInUser {\n            updateUI()\n        }\n    }\n\n    private fun updateUI() {\n        // update UI\n    }\n}\n</code></pre>\n\n<p>and FBManager object</p>\n\n<pre><code>object FBManager {\n    fun signInUser(callback: () -&gt; Unit) {\n        // do work and then\n        callback()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 2064251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dd3604f9b4523acd684accd7aed728?s=128&d=identicon&r=PG", "display_name": "redlabrat", "link": "https://stackoverflow.com/users/2064251/redlabrat"}, "is_accepted": false, "score": 0, "last_activity_date": 1532519933, "creation_date": 1532519933, "answer_id": 51518324, "question_id": 51518124, "link": "https://stackoverflow.com/questions/51518124/kotlin-call-class-method-from-object/51518324#51518324", "title": "Kotlin - Call class method from object", "body": "<p>You can create interface to make interaction between your FBManager and MainActivity. For example:</p>\n\n<pre><code>interface Updatable {\n    void updateUi();\n}\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>class MainActivity implements Updatable {\n    ...\n    @Override\n    void updateUi()\n    ...\n    FBManager.signInUser(this)\n    ...\n}\n</code></pre>\n\n<p>FBManager:</p>\n\n<pre><code>object FBManager {\n    ...\n    void signInUser(Updatable callback) {\n        ...\n        callback.updateUi()\n        ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4042, "favorite_count": 0, "accepted_answer_id": 51518316, "answer_count": 3, "score": 1, "last_activity_date": 1532561214, "creation_date": 1532519233, "last_edit_date": 1532561214, "question_id": 51518124, "link": "https://stackoverflow.com/questions/51518124/kotlin-call-class-method-from-object", "title": "Kotlin - Call class method from object", "body": "<p>Will try to keep this as concise as possible...</p>\n\n<p>I would like to have a method in my MainActivty class, say updateUI().</p>\n\n<p>I have another file that is an object called FBManager. That object essentially holds \"static\" firebase access methods.. let's say signInUser()</p>\n\n<p>From the Activity I call FBManager.signInUser()... It does some logic and moves through 2 private methods and at the last private method, I would like to essentially call MainActivity.updateUI()\u2026</p>\n\n<p>This can't be done as kotlin doesn't have static methods and can't make updateUI() static. MainActivity().updateUI() compiles but is incorrect and don't want to instantiate a new MainActivity.\nLastly, I thought of passing the activity into the first constructor like FBManager.signInUser(this)... But after signInUser(), it goes to an override method that can only take a bundle as an optional input (and I don't believe you can put activities into a bundle), thus I can't pass the activity reference to the final private method.....</p>\n\n<p><strong>Edit: Further elaboration</strong></p>\n\n<pre><code>object FBManager {\n\nfun signInUser() {\n// Create intent\nstartActivityForResult(intent)\n}\n\noverride fun onActivityResult(some intent stuff) {\n//Try catch block. In try block call\nfirebaseAuth(Google account)\n}\n\nfun firebaseAuth(acct: GoogleSignInAccount) {\n//More logic and an .onCompleteListener\n\n// Inside .onCompeteListener, which is the problem....\nMainActivity.updateUI()\n}\n}\n</code></pre>\n\n<p>Apologies for layout... Typing on my phone...</p>\n\n<p><strong>-end edit-</strong></p>\n\n<p>I hope all that makes sense as I'm new to programming and find it difficult to explain my problems (since if I truely understood them I could come up with a solution..)</p>\n\n<p>So as per the title, is there any other way to do this... To call a method in MainActivity from an object FBManager?</p>\n"}, {"tags": ["android", "kotlin", "notifications", "android-notifications"], "comments": [{"owner": {"reputation": 2702, "user_id": 3992945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d72e17a2caf1f20baecc16f2df01445?s=128&d=identicon&r=PG", "display_name": "\u1d04\u0280\u1d0f\u1d22\u1d07\u1d1b", "link": "https://stackoverflow.com/users/3992945/%e1%b4%84%ca%80%e1%b4%8f%e1%b4%a2%e1%b4%87%e1%b4%9b"}, "edited": false, "score": 1, "creation_date": 1532520457, "post_id": 51518084, "comment_id": 90005518, "body": "please post the relevant parts of your code in the question"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7822661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c967f4ea13a2a2550cbd40ff31dc313?s=128&d=identicon&r=PG&f=1", "display_name": "J K", "link": "https://stackoverflow.com/users/7822661/j-k"}, "edited": false, "score": 0, "creation_date": 1532522182, "post_id": 51518615, "comment_id": 90006777, "body": "Thanks. Works perfectly."}, {"owner": {"reputation": 374, "user_id": 3370790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39efebe7dd032c4067017adadbdfb8e3?s=128&d=identicon&r=PG", "display_name": "Hypersoft Systems", "link": "https://stackoverflow.com/users/3370790/hypersoft-systems"}, "edited": false, "score": 0, "creation_date": 1571985963, "post_id": 51518615, "comment_id": 103426692, "body": "Wow, what an inefficient use of memory. Kind of makes you wonder, what&#39;s hanging around in the android system memory stacks. Anyway, probably should only use integers that refer to runtime values, since android is a garbage junkie."}, {"owner": {"reputation": 374, "user_id": 3370790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39efebe7dd032c4067017adadbdfb8e3?s=128&d=identicon&r=PG", "display_name": "Hypersoft Systems", "link": "https://stackoverflow.com/users/3370790/hypersoft-systems"}, "edited": false, "score": 0, "creation_date": 1571986141, "post_id": 51518615, "comment_id": 103426757, "body": "Or actually just use this one: PendingIntent.FLAG_ONE_SHOT. WHICH SHOULD BE THE DEFAULT [HINT ANDROID-DEVELOPERS]. No sane coder in their correct mind would anticipate a cached request, result, when new data has been added to the data container that is sent to a remote object, unless there was some reference to a cache somewhere in the api language."}, {"owner": {"reputation": 374, "user_id": 3370790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39efebe7dd032c4067017adadbdfb8e3?s=128&d=identicon&r=PG", "display_name": "Hypersoft Systems", "link": "https://stackoverflow.com/users/3370790/hypersoft-systems"}, "edited": false, "score": 0, "creation_date": 1571986341, "post_id": 51518615, "comment_id": 103426830, "body": "[InfinitelyPendingIntent LOL, and that&#39;s the default, LOL]"}], "tags": [], "owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "is_accepted": true, "score": 3, "last_activity_date": 1532521552, "last_edit_date": 1532521552, "creation_date": 1532520833, "answer_id": 51518615, "question_id": 51518084, "link": "https://stackoverflow.com/questions/51518084/updating-extra-data-on-notification-intents-on-android/51518615#51518615", "title": "Updating extra data on notification intents on Android?", "body": "<p>Change the <code>requestCode</code> if you plan to have multiple pending intents: \"int: Private request code for the sender\"</p>\n\n<pre><code>return PendingIntent.getBroadcast(this, 0, snoozeIntent, 0)\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>return PendingIntent.getBroadcast(this, uniqueCode++, snoozeIntent, 0)\n</code></pre>\n\n<p>OR:<br><br>\nset <code>FLAG_UPDATE_CURRENT</code> to update an individual pending intent: \"Flag indicating that if the described PendingIntent already exists, then keep it but replace its extra data with what is in this new Intent.\"</p>\n\n<pre><code>return PendingIntent.getBroadcast(this, 0, snoozeIntent, PendingIntent.FLAG_UPDATE_CURRENT)\n</code></pre>\n\n<p><a href=\"https://developer.android.com/reference/android/app/PendingIntent#FLAG_UPDATE_CURRENT\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/PendingIntent#FLAG_UPDATE_CURRENT</a></p>\n"}], "owner": {"reputation": 23, "user_id": 7822661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c967f4ea13a2a2550cbd40ff31dc313?s=128&d=identicon&r=PG&f=1", "display_name": "J K", "link": "https://stackoverflow.com/users/7822661/j-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 51518615, "answer_count": 1, "score": 2, "last_activity_date": 1605541076, "creation_date": 1532519122, "last_edit_date": 1605541076, "question_id": 51518084, "link": "https://stackoverflow.com/questions/51518084/updating-extra-data-on-notification-intents-on-android", "title": "Updating extra data on notification intents on Android?", "body": "<p>I am unable to update extra data included in notification action (line 34 of <code>MainActivity.kt</code>). If I make several notifications and click the action button on them, the extra data that was included on the first notification is always delivered (line 16 of <code>NotificationBroadcastReceiver.kt</code>).</p>\n<p>The value is printed on log on line 33 of <code>MainActivity.kt</code> and line 17 of <code>NotificationBroadcastReceiver.kt</code>.</p>\n<p>This happens even after clearing the notifications and killing the app from task manager. Uninstalling and reinstalling the app, will help making the update once.</p>\n<p><a href=\"https://github.com/JarmoKukkola/androidNotificationActionDemo\" rel=\"nofollow noreferrer\">Notification Action Demo</a></p>\n<p>from MainActivity.kt</p>\n<pre><code>  fun notify(v:View) {\n    val time = System.currentTimeMillis()\n    val mBuilder = NotificationCompat\n        .Builder(this,this.localClassName)\n        .setSmallIcon(android.R.drawable.btn_default)\n        .addAction(android.R.drawable.arrow_down_float,&quot;test&quot;,getSnoozePendingIntent(time))\n    NotificationManagerCompat.from(this).notify(time.toInt(),mBuilder.build())\n  }\n\n  private fun getSnoozePendingIntent(time:Long):PendingIntent {\n    val snoozeIntent = Intent(this,NotificationBroadcastReceiver::class.java)\n    Log.d(&quot;TimeMillis before&quot;,time.toString())\n    snoozeIntent.putExtra(NotificationBroadcastReceiver.timeTag,time)\n    return PendingIntent.getBroadcast(this,0,snoozeIntent,0)\n  }\n</code></pre>\n<p>from NotificationBroadcastReceiver.kt</p>\n<pre><code>  override fun onReceive(context:Context,intent:Intent) {\n    val time = intent.getLongExtra(timeTag,0)\n    Log.d(&quot;TimeMillis after&quot;,time.toString())\n    NotificationManagerCompat.from(context).cancel(time.toInt())\n  }\n</code></pre>\n"}, {"tags": ["android", "checkbox", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1532512292, "post_id": 51515854, "comment_id": 90000136, "body": "<a href=\"http://www.zoftino.com/android-recyclerview-checkbox\" rel=\"nofollow noreferrer\">zoftino.com/android-recyclerview-checkbox</a>"}, {"owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1532512833, "post_id": 51515854, "comment_id": 90000552, "body": "@NileshRathod Dude I know how to create a recycler view with check boxes. I need a &quot;Check All&quot; check box that checks the other check boxes"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1532513066, "post_id": 51515854, "comment_id": 90000727, "body": "make a model that wraps the string as well as a boolean to indicate checked or not. Use the boolean to initialize the checkbox in the viewholder bind. When the master checkbox is checked, update all the models to checked=true and update RV adapter with these new models"}, {"owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1532513350, "post_id": 51515854, "comment_id": 90000914, "body": "@TimCastelijns Thanks for the answer but I&#39;m beginner could you write the codes of this solution please?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1532514204, "post_id": 51515854, "comment_id": 90001425, "body": "I can but if I do then you learn nothing"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "edited": false, "score": 0, "creation_date": 1532518780, "post_id": 51516729, "comment_id": 90004342, "body": "Thanks for the help the solution seems alright but it doesn&#39;t work I think the problem is that the recycler view doesn&#39;t get updated. The whole views are in a dialog. What do you suggest?"}, {"owner": {"reputation": 1056, "user_id": 6917273, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rvjeddnLL98/AAAAAAAAAAI/AAAAAAAAAg8/d--6Dhkae-w/photo.jpg?sz=128", "display_name": "Mohammed Junaid", "link": "https://stackoverflow.com/users/6917273/mohammed-junaid"}, "reply_to_user": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "edited": false, "score": 0, "creation_date": 1532523063, "post_id": 51516729, "comment_id": 90007388, "body": "Did you tried calling &#39;notifyDataSetChanged()&#39; method from the host i.e from inside the checkedChangedListener of &quot;CheckAll CheckBox&quot; after calling recyclerViewAdapter.setAllChecked() method?"}, {"owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "edited": false, "score": 0, "creation_date": 1532523257, "post_id": 51516729, "comment_id": 90007516, "body": "Yes I did that too. No Change"}, {"owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "edited": false, "score": 0, "creation_date": 1532523604, "post_id": 51516729, "comment_id": 90007760, "body": "I tried sth else and it&#39;s apparently working. it might seems silly but I created another recycler view adapter just like the previous one with a difference. It checks every check box it makes! And then I set that adapter to my recycler view when the Check All check box is checked."}, {"owner": {"reputation": 1056, "user_id": 6917273, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rvjeddnLL98/AAAAAAAAAAI/AAAAAAAAAg8/d--6Dhkae-w/photo.jpg?sz=128", "display_name": "Mohammed Junaid", "link": "https://stackoverflow.com/users/6917273/mohammed-junaid"}, "reply_to_user": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "edited": false, "score": 0, "creation_date": 1532523731, "post_id": 51516729, "comment_id": 90007852, "body": "great.. So many possibilities of a workaround in programming.. :D"}], "tags": [], "owner": {"reputation": 1056, "user_id": 6917273, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rvjeddnLL98/AAAAAAAAAAI/AAAAAAAAAg8/d--6Dhkae-w/photo.jpg?sz=128", "display_name": "Mohammed Junaid", "link": "https://stackoverflow.com/users/6917273/mohammed-junaid"}, "is_accepted": false, "score": 0, "last_activity_date": 1532514809, "creation_date": 1532514809, "answer_id": 51516729, "question_id": 51515854, "link": "https://stackoverflow.com/questions/51515854/check-all-the-check-boxes-in-recycler-view/51516729#51516729", "title": "Check all the check boxes in recycler view", "body": "<p>Create a global boolean variable in your adapter</p>\n\n<pre><code>public boolean isAllChecked = false;\n</code></pre>\n\n<p>Then create a public method in your recycler view</p>\n\n<pre><code>public void setAllChecked(boolean isAllChecked) {\n    this.isAllChecked = isAllChecked;\n    notifyDataSetChanged;\n}\n</code></pre>\n\n<p>Then on your host activity/fragment set a checked changed listener on your \"<strong>CHECK ALL CHECKBOX</strong>\" and call the <strong>recyclerViewAdapter.setAllChecked()</strong> method from inside that mehtod passing in the boolean provided by the onCheckedChangedMethod.</p>\n\n<p>Now edit your <strong>bind</strong> method based on the condition of isAllChecked</p>\n\n<pre><code>if(isAllChecked){\n   // All Check box is checked \n} else {\n   // All checkbox is not checked\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 286, "user_id": 8736532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEbiy.jpg?s=128&g=1", "display_name": "Aldan", "link": "https://stackoverflow.com/users/8736532/aldan"}, "edited": false, "score": 0, "creation_date": 1600920692, "post_id": 51519707, "comment_id": 113242764, "body": "If you do the .adapter again, the data in the RecyclerView list will return to its initial position, right?"}], "tags": [], "owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "is_accepted": true, "score": 1, "last_activity_date": 1532524938, "last_edit_date": 1532524938, "creation_date": 1532524145, "answer_id": 51519707, "question_id": 51515854, "link": "https://stackoverflow.com/questions/51515854/check-all-the-check-boxes-in-recycler-view/51519707#51519707", "title": "Check all the check boxes in recycler view", "body": "<p>Thanks to everyone who tried to help, I think the only solution for this is to make another recycler view adapter that creates checked check boxes and set it to recycler view whenever the Check All check box is checked.</p>\n\n<p><strong>MainActivity:</strong></p>\n\n<pre><code>checkAllCheckBox.setOnCheckedChangeListener(object : CompoundButton.OnCheckedChangeListener{\n           override fun onCheckedChanged(p0: CompoundButton?, p1: Boolean) {\n                if (p1){\n                      recyclerView.adapter = RecyclerViewAdapter\n                }\n                else{\n                      recyclerView.adapter = AllCheckedRecyclerViewAdapter\n                }\n            }\n})\n</code></pre>\n\n<p><strong>AllCheckedRecyclerViewAdapter:</strong></p>\n\n<pre><code>inner class AllCheckedRecyclerViewAdapter(val context: Context, val myArray: Array&lt;String&gt;): RecyclerView.Adapter&lt;AllCheckedRecyclerViewAdapter.Holder&gt;(){\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Holder {\n        val view = LayoutInflater.from(context).inflate(R.layout.recycler_view_pattern,parent,false)\n        return Holder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return myArray.count()\n    }\n\n    override fun onBindViewHolder(holder: Holder, position: Int) {\n        return holder.bindIng(myArray[position])\n    }\n\n\n    inner class Holder(itemView: View?): RecyclerView.ViewHolder(itemView){\n        val checkBox = itemView?.findViewById&lt;CheckBox&gt;(R.id.checkBox)\n\n        fun bind(str: String){\n            checkBox?.text = str\n            checkBox!!.isChecked = true\n\n\n            ingCheckBox.setOnCheckedChangeListener(object : CompoundButton.OnCheckedChangeListener{\n                override fun onCheckedChanged(p0: CompoundButton?, p1: Boolean) {\n                    //do sth\n                }\n            })\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2247, "favorite_count": 0, "accepted_answer_id": 51519707, "answer_count": 2, "score": 3, "last_activity_date": 1532524938, "creation_date": 1532512108, "question_id": 51515854, "link": "https://stackoverflow.com/questions/51515854/check-all-the-check-boxes-in-recycler-view", "title": "Check all the check boxes in recycler view", "body": "<p>I have a recycler view that gets an array and creates a check box for every item of it. I would like a check box to be on the top of the recycler view which if it's checked, so all the check boxes of recycler view become checked, too. How can I reach that?</p>\n\n<p><strong>Recycler View Adapter:</strong></p>\n\n<pre><code>class RecyclerViewAdapter(val context: Context, val myArray: Array&lt;String&gt;): RecyclerView.Adapter&lt;RecyclerViewAdapter.Holder&gt;(){\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Holder {\n        val view = LayoutInflater.from(context).inflate(R.layout.recycler_view_pattern,parent,false)\n        return Holder(view)\n    }\n\n    override fun getItemCount(): Int {\n       return myArray.count()\n    }\n\n    override fun onBindViewHolder(holder: Holder, position: Int) {\n       return holder.bind(myArray[position])\n    }\n\n    inner class Holder(itemView: View?): RecyclerView.ViewHolder(itemView){\n        val checkBox = itemView?.findViewById&lt;CheckBox&gt;(R.id.checkBox)\n\n        fun bind(str: String){\n            checkBox?.text = str\n\n            checkBox?.setOnCheckedChangeListener(object : CompoundButton.OnCheckedChangeListener{\n                override fun onCheckedChanged(p0: CompoundButton?, p1: Boolean) {\n                    if (checkBox.isChecked){\n                       //do something\n                    }\n                    else{\n                        //do something\n                    }\n                }\n            })\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Recycler View Pattern:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:orientation=\"vertical\"\nandroid:padding=\"8dp\"&gt;\n\n&lt;CheckBox\n    android:id=\"@+id/checkBox\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:textColor=\"#000\"\n    android:textSize=\"14sp\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-testing", "robolectric"], "owner": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1532511373, "creation_date": 1532511373, "question_id": 51515609, "link": "https://stackoverflow.com/questions/51515609/illegal-connection-pointer-running-robolectric-tests-with-contentresolver", "title": "Illegal connection pointer running Robolectric tests with ContentResolver", "body": "<p>I want to test a class that manages data and uses a custom <code>ContentProvider</code>, with <code>Robolectric</code>.</p>\n\n<p>I've made a test class with two tests that use a <code>ShadowContentResolver</code> to set some data in the <code>ContentProvider</code>. These tests <strong>work perfectly on their own</strong>, but if I test the whole class, I get an error in the second class: </p>\n\n<p><code>java.lang.IllegalStateException: Illegal connection pointer 1. Current pointers for thread Thread[main,5,main] []</code></p>\n\n<p><strong>My test class:</strong></p>\n\n<pre><code>@RunWith(RobolectricTestRunner::class)\n@Config(constants = BuildConfig::class, sdk = [27], manifest = \"AndroidManifest.xml\", application = TestApp::class)\nclass HomeSliderDatabaseTest {\n\n    private lateinit var homeSliderDatabase: HomeSliderDatabase\n\n    @Mock\n    private lateinit var contentResolver: ContentResolver\n\n    private lateinit var shadowContentResolver: ShadowContentResolver\n\n    @Before\n    fun setup() {\n        contentResolver = RuntimeEnvironment.application.contentResolver\n        shadowContentResolver = shadowOf(contentResolver)\n        homeSliderDatabase = HomeSliderDatabase(contentResolver)\n    }\n\n    @Test\n    fun determineIdsToFetch_success() {\n        // put a record in the content provider\n        shadowContentResolver.insert(CONTENT_URI, ContentValues().apply {\n            put(ID, 1)\n            put(TIMESTAMP, 1_000_000L)\n        })\n        val ids = homeSliderDatabase.determineIdsToFetch(mapOf(1 to 1_000L, 2 to 3_000_000L))\n        assert(ids.contains(2))\n        assertFalse(ids.contains(1))\n    }\n\n    @Test\n    fun deleteAllHomeSliderItems_success() {\n        shadowContentResolver.insert(CONTENT_URI, ContentValues().apply {\n            put(ID, 2)\n            put(TIMESTAMP, 1_000_000L)\n        })\n\n        val cursorBefore = shadowContentResolver.query(CONTENT_URI, null, null, null, null)\n        assert(cursorBefore.count &gt; 0)\n        cursorBefore.close()\n\n        homeSliderDatabase.removeAllHomeSliderItems()\n\n        val cursorAfter = shadowContentResolver.query(CONTENT_URI, null, null, null, null)\n        assert(cursorAfter.count == 0)\n        cursorAfter.close()\n\n    }\n\n    @After\n    fun tearDown() {\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Here's the complete stacktrace:</strong></p>\n\n<pre><code>java.lang.IllegalStateException: Illegal connection pointer 1. Current pointers for thread Thread[main,5,main] []\n\nat org.robolectric.shadows.ShadowSQLiteConnection$Connections.getConnection(ShadowSQLiteConnection.java:366)\nat org.robolectric.shadows.ShadowSQLiteConnection$Connections.getStatement(ShadowSQLiteConnection.java:375)\nat org.robolectric.shadows.ShadowSQLiteConnection$Connections.executeStatementOperation(ShadowSQLiteConnection.java:704)\nat org.robolectric.shadows.ShadowSQLiteConnection$Connections.resetStatementAndClearBindings(ShadowSQLiteConnection.java:686)\nat org.robolectric.shadows.ShadowSQLiteConnection.nativeResetStatementAndClearBindings(ShadowSQLiteConnection.java:297)\nat android.database.sqlite.SQLiteConnection.nativeResetStatementAndClearBindings(SQLiteConnection.java)\nat android.database.sqlite.SQLiteConnection.releasePreparedStatement(SQLiteConnection.java:916)\nat android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:520)\nat android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\nat android.database.sqlite.SQLiteProgram.__constructor__(SQLiteProgram.java:58)\nat android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java)\nat android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java)\nat android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1546)\nat android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1417)\nat my.company.contentprovider.HomeSliderContentProvider.insert(HomeSliderContentProvider.java:147)\nat org.robolectric.shadows.ShadowContentResolver.insert(ShadowContentResolver.java:152)\nat my.company.tests.HomeSliderDatabaseTest.determineIdsToFetch_success(HomeSliderDatabaseTest.kt:53)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:523)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\nat org.robolectric.internal.SandboxTestRunner$2.evaluate(SandboxTestRunner.java:226)\nat org.robolectric.internal.SandboxTestRunner.runChild(SandboxTestRunner.java:108)\nat org.robolectric.internal.SandboxTestRunner.runChild(SandboxTestRunner.java:35)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.robolectric.internal.SandboxTestRunner$1.evaluate(SandboxTestRunner.java:62)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1532510666, "post_id": 51515352, "comment_id": 89999035, "body": "You need to share your code as text not as image"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1532511077, "post_id": 51515352, "comment_id": 89999336, "body": "have u try to import <code>import android.support.v4.app.NotificationCompat</code>?"}, {"owner": {"reputation": 1506, "user_id": 2522673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E875U.jpg?s=128&g=1", "display_name": "Ahad Porkar", "link": "https://stackoverflow.com/users/2522673/ahad-porkar"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1532511242, "post_id": 51515352, "comment_id": 89999427, "body": "@NileshRathod yes, its gives error on &quot;app&quot; part of it."}, {"owner": {"reputation": 711, "user_id": 964994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c22340c04d63fbf207c5107a7ce86372?s=128&d=identicon&r=PG", "display_name": "stack_ved", "link": "https://stackoverflow.com/users/964994/stack-ved"}, "edited": false, "score": 0, "creation_date": 1566268061, "post_id": 51515352, "comment_id": 101593257, "body": "@AhadPorkar Did you get this to work? if yes, can you please post your answer!"}, {"owner": {"reputation": 1506, "user_id": 2522673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E875U.jpg?s=128&g=1", "display_name": "Ahad Porkar", "link": "https://stackoverflow.com/users/2522673/ahad-porkar"}, "reply_to_user": {"reputation": 711, "user_id": 964994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c22340c04d63fbf207c5107a7ce86372?s=128&d=identicon&r=PG", "display_name": "stack_ved", "link": "https://stackoverflow.com/users/964994/stack-ved"}, "edited": false, "score": 0, "creation_date": 1566358940, "post_id": 51515352, "comment_id": 101626755, "body": "@stack_ved after adding &quot;import android.support.v4.app.NotificationCompat&quot; and resync the gradle the problem solved"}], "owner": {"reputation": 1506, "user_id": 2522673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E875U.jpg?s=128&g=1", "display_name": "Ahad Porkar", "link": "https://stackoverflow.com/users/2522673/ahad-porkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1324, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1532510984, "creation_date": 1532510616, "last_edit_date": 1532510984, "question_id": 51515352, "link": "https://stackoverflow.com/questions/51515352/unresolved-reference-notificationcompat-even-after-adding-support-library", "title": "unresolved reference NotificationCompat even after adding support library", "body": "<p>Im trying to use notification for sdk above 4.4.</p>\n\n<p>I've add support library to my code and this is my build.gradle :</p>\n\n<pre><code>android {\n    compileSdkVersion 27\n    buildToolsVersion '27.0.3'\n    defaultConfig {\n        vectorDrawables.useSupportLibrary = true\n        applicationId \"com.my.app\"\n        minSdkVersion 19\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'org.jetbrains.kotlin:kotlin-reflect:1.2.51'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:support-core-utils:27.1.1'\n    implementation 'com.android.support:support-core-ui:27.1.1'\n    implementation 'com.android.support:support-v4:27.1.1'\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support:support-compat:27.1.1'\n    implementation 'com.android.support:gridlayout-v7:27.1.1'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n    implementation \"org.jetbrains.anko:anko:$anko_version\"\n    implementation 'com.squareup.okhttp3:okhttp:3.9.0'\n    implementation 'com.google.code.gson:gson:2.8.2'\n    implementation 'com.fasterxml.jackson.module:jackson-module-kotlin:2.9.0'\n    implementation 'com.github.ittianyu:BottomNavigationViewEx:1.2.1'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.github.GrenderG:Toasty:1.2.5'\n    implementation 'com.github.bumptech.glide:glide:4.6.1'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.6.1'\n    implementation project(':Library:rangeseekbar')\n    implementation 'com.github.esafirm.android-image-picker:imagepicker:1.12.0'\n    implementation 'org.apache.commons:commons-io:1.3.2'\n    implementation 'com.github.hamsaadev:Persian-Date-Picker-Dialog:V1.2'\n    implementation 'jp.wasabeef:blurry:2.1.1'\n    implementation 'com.github.firdausmaulan:GlideSlider:1.3.1'\n    implementation('io.socket:socket.io-client:1.0.0') {\n        exclude group: 'org.json', module: 'json'\n    }\n</code></pre>\n\n<p>but when i try to add <strong>NotificationCompat</strong> into KT class inside project it gives unresolved reference error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3EiKX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3EiKX.png\" alt=\"enter image description here\"></a></p>\n\n<p>and the code :</p>\n\n<pre><code>import android.app.Notification\nimport android.content.Context\nimport android.content.Intent\nimport android.util.Log;\nimport okhttp3.*\nimport io.socket.client.IO\nimport org.json.JSONException\nimport org.json.JSONObject\nimport io.socket.emitter.Emitter\nimport io.socket.client.Socket\nimport org.jetbrains.anko.AnkoAsyncContext\nimport android.graphics.BitmapFactory\nimport android.app.NotificationManager\nimport android.app.NotificationChannel\nimport android.os.Build\nimport android.app.PendingIntent\nimport android.graphics.Color\nimport com.khcai.mifrooshe.R\nimport java.util.concurrent.atomic.AtomicInteger\n\n    class SocketListener : WebSocketListener() {\n        private var mSocket: Socket? = null\n        private var SOCKET_SERVER_URL  = \"http://10.0.2.2:6001/\"\n        private var outsideContext : Context? = null\n        fun start(context : Context?) {\n\n            outsideContext = context\n            mSocket = IO.socket(SOCKET_SERVER_URL);\n\n            mSocket!!.on(\"App\\\\Events\\\\NotificationEvent\", NotificationEvent)\n\n            attemptLogin()\n        }\n\n        private fun attemptLogin() {\n\n            val `object` = JSONObject()\n            try {\n                `object`.put(\"channel\", \"everyone\")\n            } catch (e: JSONException) {\n                return\n            }\n            mSocket!!.connect()\n            mSocket!!.emit(\"subscribe\", `object`)\n        }\n\n\n        private val NotificationEvent = Emitter.Listener { args -&gt;\n\n                try {\n                    val data = args[1] as JSONObject\n\n                    val msg = data.getString(\"msg\")\n                  //  Toasty.error(getApplicationContext(), msg, Toast.LENGTH_LONG, true).show();\n                    var builder = Notification.Builder(outsideContext)\n                            .setContentTitle(\"New Message\")\n                            .setContentText(msg)\n                            .build();\n                    Log.e(\"server msg: \", msg)\n                } catch (e: Exception) {\n                    Log.e(\"TAG error : \", e.message)\n\n                }\n\n\n        }\n        private val c = AtomicInteger(0)\n        var Notification_ID = c.incrementAndGet()\n        fun showNotification(from: String, notification: String, intent: Intent) {\n            val pendingIntent = PendingIntent.getActivity(\n                    outsideContext,\n                    Notification_ID,\n                    intent,\n                    PendingIntent.FLAG_UPDATE_CURRENT\n            )\n            val NOTIFICATION_CHANNEL_ID = \"my_channel_id_01\"\n            val notificationManager = outsideContext?.getSystemService(Context.NOTIFICATION_SERVICE)\n                    as NotificationManager\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                val notificationChannel = NotificationChannel(NOTIFICATION_CHANNEL_ID,\n                        \"My Notifications\", NotificationManager.IMPORTANCE_DEFAULT)\n\n                // Configure the notification channel.\n                notificationChannel.description = \"Channel description\"\n                notificationChannel.enableLights(true)\n                notificationChannel.lightColor = Color.RED\n                notificationChannel.vibrationPattern = longArrayOf(0, 1000, 500, 1000)\n                notificationChannel.enableVibration(true)\n                notificationManager.createNotificationChannel(notificationChannel)\n            }\n            val builder = NotificationCompat.Builder(outsideContext, NOTIFICATION_CHANNEL_ID)\n            val mNotification = builder\n                    .setContentTitle(from)\n                    .setContentText(notification)\n                    .setContentIntent(pendingIntent)\n                    .setAutoCancel(true)\n                    .setSmallIcon(R.mipmap.ic_launcher)\n                    .setLargeIcon(BitmapFactory.decodeResource(outsideContext?.getResources(), R.mipmap.ic_launcher))\n                    .build()\n\n            notificationManager.notify(/*notification id*/Notification_ID, mNotification)\n\n        }\n\n\n    }\n</code></pre>\n\n<p>im using notification inside websocket service to notify user from server respond. \nive even invalidate the cache reclean gradle build. but still no hope.</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 0, "creation_date": 1532510023, "post_id": 51515023, "comment_id": 89998571, "body": "View Height is an integer or long?"}, {"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "reply_to_user": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 0, "creation_date": 1532511505, "post_id": 51515023, "comment_id": 89999631, "body": "It is an interger"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532511616, "post_id": 51515117, "comment_id": 89999704, "body": "Thank you for your answer! Now when I check the height at <code>lp.height</code> it&#39;s not 0 but it&#39;s -2 and I expected 522."}], "tags": [], "owner": {"reputation": 855, "user_id": 9437681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8240db0a4cfda69e8b4826a20326689b?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei Artsimovich", "link": "https://stackoverflow.com/users/9437681/alexei-artsimovich"}, "is_accepted": false, "score": 0, "last_activity_date": 1532509882, "creation_date": 1532509882, "answer_id": 51515117, "question_id": 51515023, "link": "https://stackoverflow.com/questions/51515023/get-height-of-view/51515117#51515117", "title": "Get height of view", "body": "<p>You should use OnGlobalLayoutListener to listen to view layout changes because when you inflated the view its sizes are not measured yet.</p>\n\n<p>P.S.\nSorry for example in JAVA</p>\n\n<pre><code>relativeLayout.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n            @Override\n            public void onGlobalLayout() {\n                // remove this once the layout measured\n                relativeLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n                ViewGroup.LayoutParams lp = relativeLayout.getLayoutParams();\n                int height = lp.height; // Here we retrieve the measured height\n\n            }\n        });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532511405, "post_id": 51515171, "comment_id": 89999551, "body": "Thank you for your answer but as I said in the description all part of the code which gives me the height is zero, including the part inside <code>onGlobalLayout()</code>. But sorry if I misunderstand what you are trying to say."}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "reply_to_user": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532511698, "post_id": 51515171, "comment_id": 89999756, "body": "How were you logging the Height? are you calling your method like Log.v(&quot;logtag&quot;, tHeight())? Coz if thats how youre doing it you&#39;ll really get a 0 height."}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "reply_to_user": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532512003, "post_id": 51515171, "comment_id": 89999964, "body": "try activity?.window?.decorView?.viewTreeObserver?.addOnPreDrawL&zwnj;&#8203;istener(                 object : ViewTreeObserver.OnPreDrawListener {             override fun onPreDraw(): Boolean {                 activity?.window?.decorView?.viewTreeObserver?.removeOnPreDr&zwnj;&#8203;awListener(this)                 val viewHeight = relativeLayout.height                 Log.v(&quot;lagtag&quot;, viewHeight)             }         })"}, {"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532512540, "post_id": 51515171, "comment_id": 90000342, "body": "Thank you unfortunately it gives me 0 too. But think your idea is close to the solution because if load this view using setContentView then I&#39;m able to get the height."}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "reply_to_user": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532526239, "post_id": 51515171, "comment_id": 90009646, "body": "Oh i think i misunderstood your question. So you are not inflating that layout thaterefore that reallywont have a measure you should Measure it first."}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "reply_to_user": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532527114, "post_id": 51515171, "comment_id": 90010317, "body": "see my updated answer. Though, i think you should layout the view first before you could have a measured dimension."}], "tags": [], "owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "is_accepted": false, "score": 0, "last_activity_date": 1532526985, "last_edit_date": 1532526985, "creation_date": 1532510048, "answer_id": 51515171, "question_id": 51515023, "link": "https://stackoverflow.com/questions/51515023/get-height-of-view/51515171#51515171", "title": "Get height of view", "body": "<p>A view will only return a non-zero height or width once it is already laid out on screen. That is the reason why we use <code>ViewTreeObserver.OnPreDrawListener</code>, <code>ViewTreeObserver.OnGlobalLayoutListener</code>, etc.</p>\n\n<p>Now that method won't work since you are simply returning <code>return relativeLayout.height</code> which would always be zero.</p>\n\n<p>So in other words, the only part of your code where you could get the view height is:</p>\n\n<pre><code>activity?.window?.decorView!!.viewTreeObserver.addOnGlobalLayoutListener(object : \nOnGlobalLayoutListener{\n        override fun onGlobalLayout() {\n            val obs = relativeLayout.viewTreeObserver\n            viewHeight = relativeLayout.height\n            obs.removeOnGlobalLayoutListener(this)\n        }\n    })\n</code></pre>\n\n<p>If you log that <code>viewHeight</code> in there that should print the correct height of your view.</p>\n\n<p>try this </p>\n\n<pre><code>    val vto = activity?.window?.decorView?.viewTreeObserver?\n    vto?.addOnPreDrawListener(object : ViewTreeObserver.OnPreDrawListener {\n                override fun onPreDraw(): Boolean {\n                vto?.removeOnPreDrawListener(this)\n                val viewHeight = relativeLayout.height\n                Log.v(\"logtag\", viewHeight)\n            }\n        })\n</code></pre>\n\n<p>If you are not going to Load that layout do this:</p>\n\n<pre><code>val view = yourView\nval widthSpec = View.MeasureSpec.makeMeasureSpec(parent.width, View.MeasureSpec.EXACTLY)\nval heightSpec = View.MeasureSpec.makeMeasureSpec(parent.height, View.MeasureSpec.UNSPECIFIED)\n\nval childWidthSpec = ViewGroup.getChildMeasureSpec(widthSpec, parent.paddingLeft+parent.paddingRight,view.layoutParams.width)\nval childHeightSpec = ViewGroup.getChildMeasureSpec(heightSpec, parent.paddingTop+parent.paddingBottom, view.layoutParams.height)\n\nview.measure(childWidthSpec, childHeightSpec)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532512470, "post_id": 51515901, "comment_id": 90000288, "body": "Thank you for your answer. And how should I call this? This method inherits from a View parent so I should create a class which inherits a View?"}], "tags": [], "owner": {"reputation": 9, "user_id": 9891629, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Yomesh Mistri", "link": "https://stackoverflow.com/users/9891629/yomesh-mistri"}, "is_accepted": false, "score": 0, "last_activity_date": 1532512261, "creation_date": 1532512261, "answer_id": 51515901, "question_id": 51515023, "link": "https://stackoverflow.com/questions/51515023/get-height-of-view/51515901#51515901", "title": "Get height of view", "body": "<pre><code>@Override\nprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\nint parentWidth = MeasureSpec.getSize(widthMeasureSpec);\nint parentHeight = MeasureSpec.getSize(heightMeasureSpec);\nthis.setMeasuredDimension(parentWidth, parentHeight);\nsuper.onMeasure(widthMeasureSpec, heightMeasureSpec);\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1532526985, "creation_date": 1532509592, "question_id": 51515023, "link": "https://stackoverflow.com/questions/51515023/get-height-of-view", "title": "Get height of view", "body": "<p>I would like to get a <code>View</code> height what I'm inflating from another <code>xml</code> file. I'm always getting 0 as a height with these:</p>\n\n<pre><code>fun getHeight(): Int {\n    val factory = LayoutInflater.from(context)\n    val inflater = context?.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n    val customView = inflater.inflate(R.layout.custom_expandable_helper,null)\n    val relativeLayout = customView.findViewById&lt;RelativeLayout&gt;(R.id.container_height)\n    val textView = customView.findViewById&lt;TextView&gt;(R.id.tv_height)\n    textView.text = complaintText\n    val rlp = RelativeLayout(activity)\n    rlp.addView(customView)\n\n    activity?.window?.decorView!!.viewTreeObserver.addOnGlobalLayoutListener(object : OnGlobalLayoutListener{\n        override fun onGlobalLayout() {\n            val obs = relativeLayout.viewTreeObserver\n            viewHeight = relativeLayout.height\n            obs.removeOnGlobalLayoutListener(this)\n        }\n    })\n\n    val hei = rlp.height\n    relativeLayout.post {\n        viewHeight = relativeLayout.height\n    }\n    return relativeLayout.height\n}\n</code></pre>\n\n<p>In this code you can see many of shots to get the height and all of them are 0. </p>\n\n<p>And this is the xml what I'm inflating:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_marginEnd=\"12dp\"\nandroid:layout_marginStart=\"12dp\"\nandroid:id=\"@+id/container_height\"&gt;\n\n&lt;TextView\n    android:id=\"@+id/tv_height\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"@dimen/et_sides\"\n    android:text=\"sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.\"/&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["hibernate", "spring-boot", "kotlin", "spring-data"], "comments": [{"owner": {"reputation": 4302, "user_id": 2931410, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/OCBzj.gif?s=128&g=1", "display_name": "Karthik R", "link": "https://stackoverflow.com/users/2931410/karthik-r"}, "edited": false, "score": 1, "creation_date": 1532509338, "post_id": 51514724, "comment_id": 89998114, "body": "Hibernate never logs with the parameter. It always prints the sql without params. If your parameter is right, it should have worked"}, {"owner": {"reputation": 519, "user_id": 1759289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3f9b0e3e37cc9af1cecc7c03c8ee6?s=128&d=identicon&r=PG", "display_name": "VinuBibin", "link": "https://stackoverflow.com/users/1759289/vinubibin"}, "edited": false, "score": 0, "creation_date": 1532509464, "post_id": 51514724, "comment_id": 89998206, "body": "Here countByTableIdAndImageSetTimeBetween, you have provided more parameters in the method arguments, which will search the parameter in the query to replace, thats why you got that error, if you have only one parameter, give one method argument"}, {"owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "reply_to_user": {"reputation": 4302, "user_id": 2931410, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/OCBzj.gif?s=128&g=1", "display_name": "Karthik R", "link": "https://stackoverflow.com/users/2931410/karthik-r"}, "edited": false, "score": 0, "creation_date": 1532510043, "post_id": 51514724, "comment_id": 89998582, "body": "@Karthik R The passed parameter is correct, I checked that."}, {"owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "reply_to_user": {"reputation": 519, "user_id": 1759289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3f9b0e3e37cc9af1cecc7c03c8ee6?s=128&d=identicon&r=PG", "display_name": "VinuBibin", "link": "https://stackoverflow.com/users/1759289/vinubibin"}, "edited": false, "score": 0, "creation_date": 1532510178, "post_id": 51514724, "comment_id": 89998690, "body": "@VinuBibin I kind of Expected the method name to be irrelevant when you define the query yourself. I was not aware that it would be used to map arguments. In any case, I changed the method name to countByTableIdAndTableCameraIdAndImageSetTimeBetween, and I&#39;m seeing the exact same behavior."}, {"owner": {"reputation": 519, "user_id": 1759289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3f9b0e3e37cc9af1cecc7c03c8ee6?s=128&d=identicon&r=PG", "display_name": "VinuBibin", "link": "https://stackoverflow.com/users/1759289/vinubibin"}, "edited": false, "score": 0, "creation_date": 1532510443, "post_id": 51514724, "comment_id": 89998865, "body": "Also the method name should be like  findByCameraId and with one argument"}, {"owner": {"reputation": 519, "user_id": 1759289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3f9b0e3e37cc9af1cecc7c03c8ee6?s=128&d=identicon&r=PG", "display_name": "VinuBibin", "link": "https://stackoverflow.com/users/1759289/vinubibin"}, "edited": false, "score": 0, "creation_date": 1532510831, "post_id": 51514724, "comment_id": 89999164, "body": "somethng like findByCameraId(cameraId: Long)"}, {"owner": {"reputation": 4302, "user_id": 2931410, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/OCBzj.gif?s=128&g=1", "display_name": "Karthik R", "link": "https://stackoverflow.com/users/2931410/karthik-r"}, "edited": false, "score": 0, "creation_date": 1532511688, "post_id": 51514724, "comment_id": 89999751, "body": "Can you please post your entity class here? Just curious. Need to see table name etc.,"}], "answers": [{"comments": [{"owner": {"reputation": 838, "user_id": 6416551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LK3ZOmgFRxI/AAAAAAAAAAI/AAAAAAAAACQ/5kYTLi9C2H8/photo.jpg?sz=128", "display_name": "Wilder Valera", "link": "https://stackoverflow.com/users/6416551/wilder-valera"}, "edited": false, "score": 1, "creation_date": 1532525230, "post_id": 51517966, "comment_id": 90008878, "body": "I would recommend to use @Param when the query expects more than 2 params."}], "tags": [], "owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "is_accepted": true, "score": 1, "last_activity_date": 1532521810, "last_edit_date": 1532521810, "creation_date": 1532518742, "answer_id": 51517966, "question_id": 51514724, "link": "https://stackoverflow.com/questions/51514724/spring-query-cannot-handle-positional-parameters-when-doing-native-query/51517966#51517966", "title": "Spring @Query cannot handle positional parameters when doing native query", "body": "<p>Solved it, there's a bit to unpack here. Mostly stupidity on my part.</p>\n\n<p>So let's start with the query I actually wanted, that always returned 0 as a result:</p>\n\n<pre><code>@Query( value = \"\"\"select count(*)\n    from (select * from image a where a.table_id = ?1) as img\n    inner join\n        (select b.id from image_set b where b.camera_id = ?2 and b.time between ?3 and ?4) as imgset\n    on img.image_set_id = imgset.id\"\"\",\n        nativeQuery = true)\n\nfun countByTableIdAndImageSetTimeBetween(tableId: Long, cameraId: Long, fromDateTime: LocalDateTime, toDateTime: LocalDateTime): Long\n</code></pre>\n\n<p>The reason this didn't work wasn't the positional parameter. It was the time arguments. It's painfully obvious in hindsight, but it took me a while to see: Of course you can't use LocalDateTime as a parameter in a native query. You have to convert it to java.util.Date.</p>\n\n<p>So that fixes the problem I actually wanted to fix. The rest was pretty much a wild goose chase. Because I thought the only reasonable assumption that the query doesn't work was that the parameter got passed wrong I made the second, simplified query on the same method, because that was the least effort:</p>\n\n<pre><code>@Query( value = \"select count(*) from image_set b where b.camera_id = ?2\", nativeQuery = true)\n\nfun countByTableIdAndImageSetTimeBetween(tableId: Long, cameraId: Long, fromDateTime: LocalDateTime, toDateTime: LocalDateTime): Long\n</code></pre>\n\n<p>The problem is that this query <em>does not query for the same entity!</em> It was in the wrong repository because I just put it over the other method, and the reason it didn't work was again not due to positional parameters. Once I moved that query to the correct repository, it actually worked without issue.<br>\nWhich is what finally led me to the conclusion that maybe the parameters weren't my problem after all, and after a bit of sternly looking at my original query I realised the problem.</p>\n\n<p>Two additional things for the record:\nOne, No, you don't need zero-based indices for positional parameters when using nativeQuery. Spring subtracts 1 from the index by itself.</p>\n\n<p>Two, No, the method name does in fact <em>not</em> matter at all when using the @Query annotation. You can name your method fooBar and execute whatever query with however many arguments you want with it, it doesn't make a difference.</p>\n\n<p>Thanks for the effort, everyone!</p>\n"}], "owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 0, "accepted_answer_id": 51517966, "answer_count": 1, "score": 1, "last_activity_date": 1532521810, "creation_date": 1532508761, "last_edit_date": 1532511407, "question_id": 51514724, "link": "https://stackoverflow.com/questions/51514724/spring-query-cannot-handle-positional-parameters-when-doing-native-query", "title": "Spring @Query cannot handle positional parameters when doing native query", "body": "<p>I'm trying to do a native query with spring data. The query has subqueries where JPQL doesn't support them, so I have to use a native query. The final query I need looks like this:</p>\n\n<pre><code>@Query( value = \"\"\"select count(*)\n    from (select * from image a where a.table_id = ?1) as img\n    inner join\n        (select b.id from image_set b where b.camera_id = ?2 and b.time between ?3 and ?4) as imgset\n    on img.image_set_id = imgset.id\"\"\",\n        nativeQuery = true)\n\nfun countByTableIdAndImageSetTimeBetween(tableId: Long, cameraId: Long, fromDateTime: LocalDateTime, toDateTime: LocalDateTime): Long\n</code></pre>\n\n<p>This didn't provide a result, so for the time being I substituted a simpler query to try to locate the problem. In the following I will be refering to this query, until I can get at least that to run:</p>\n\n<pre><code>@Query( value = \"select count(*) from image_set b where b.camera_id = ?2\", nativeQuery = true)\n\nfun countByTableIdAndImageSetTimeBetween(tableId: Long, cameraId: Long, fromDateTime: LocalDateTime, toDateTime: LocalDateTime): Long\n</code></pre>\n\n<p>The first problem I encountered is that I got an exception:</p>\n\n<p><code>org.hibernate.QueryException: Named parameter [2] not set</code></p>\n\n<p>After some searching, I found something that while JPA's positional parameters are 1-indexed, Hibernate's are 0-indexed. I figured that the error might come from trying to assign the LocalDateTime to a place in the query where it can't be used, and I should be using 0-indices when doing a native query. This seems highly questionable, but changing ?2 to ?1 <em>did</em> resolve the exception. It did not, however, resolve the problem. I'm always getting a result of 0 now, which should not be the case.\nI noticed that in the hibernate log the parameter value wasn't filled in:</p>\n\n<pre><code>Hibernate: \n/* dynamic native SQL query */ select\n    count(*) \nfrom\n    image_set b \nwhere\n    b.camera_id=?\n</code></pre>\n\n<p>However, this seems to be the case for other queries too, which work, so I guess hibernate doesn't log the actual query it sends? In any case, by now I'm pretty much lost. I have no idea what I'm doing wrong here, any help would be appreciated.</p>\n\n<p>IMPORTANT ADDENDUM:\nMy questionable assumption that positional arguments are 0-based when doing a native query is in fact incorrect. I just tried using ?0, and I'm getting ArrayIndexOutOfBoundsException: -1. So it would appear that spring subtracts 1 from the index by itself.</p>\n\n<p>This changes the problem: The reason why I'm getting back 0 when using ?1 is indeed because I am using the wrong value. 0 is the correct response under the circumstances.\nSo what I need to figure out is why I get the error when using ?2.</p>\n"}, {"tags": ["android", "kotlin", "android-spinner", "highlight"], "comments": [{"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 0, "creation_date": 1532508533, "post_id": 51514314, "comment_id": 89997548, "body": "Use custom spinner with checkboxes"}], "answers": [{"tags": [], "owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "is_accepted": true, "score": 3, "last_activity_date": 1532511468, "creation_date": 1532511468, "answer_id": 51515634, "question_id": 51514314, "link": "https://stackoverflow.com/questions/51514314/how-to-click-more-items-in-a-spinner-and-higlight-it/51515634#51515634", "title": "How to click more Items in a Spinner and higlight it?", "body": "<p><strong>You can create a custom spinner which contains a checkbox and text files inside it. So that you can select more than one value inside your spinner.</strong></p>\n\n<p>To implement custom spinner with checkbox follow the below link- </p>\n\n<p><a href=\"https://trinitytuts.com/tips/multiselect-spinner-item-in-android/\" rel=\"nofollow noreferrer\">https://trinitytuts.com/tips/multiselect-spinner-item-in-android/</a></p>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 51515634, "answer_count": 1, "score": 1, "last_activity_date": 1532511468, "creation_date": 1532507511, "question_id": 51514314, "link": "https://stackoverflow.com/questions/51514314/how-to-click-more-items-in-a-spinner-and-higlight-it", "title": "How to click more Items in a Spinner and higlight it?", "body": "<p>I programmed a spinner in kotlin which loads different Items in it. It closes automatically when one Item gets touched. How can I programm it, so that it doesn't close when one is selected, but when I tip somewhere else? \nAnd I could not find a programming solution to highlight the selceted Items in the spinner.</p>\n\n<p>Here my code for the spinner:</p>\n\n<pre><code> Busliste.add(\"alle anzeigen\")                                                                       \n    val spinner: Spinner = findViewById(R.id.spinner)\n    val dataAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_item, Busliste)\n    dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.adapter = dataAdapter\n\n    // Spinner click listener\n    spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n            println(position)\n            if (position&gt;0) {\n                Routennummer=Busliste[position].subSequence(6,Busliste[position].length).toString().toInt()\n                println(\"Routennummer ist \"+Routennummer)\n                RouteAuslesen()\n                LinieAuslesen()\n            }\n            if (position==0){\n                Routennummer =0\n            }\n            RouteAuslesen()\n        }\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n            //do nothing\n            println(\"nothing selected\")\n        }\n\n    }\n</code></pre>\n\n<p>thank you beforehand</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-animation", "horizontal-scrolling"], "comments": [{"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1532518628, "post_id": 51514232, "comment_id": 90004241, "body": "When you say that the &quot;LinearSnapHelper cannot detect them as snapped&quot; do you mean that the text is not <i>precisely</i> placed in the center? If so, they must just be a few pixels off because they look centered to me or do I misunderstand? I take it that you aren&#39;t talking about the lack of animation on the first and last item but the actual placement."}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "reply_to_user": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1532520125, "post_id": 51514232, "comment_id": 90005257, "body": "Correct and they are off. Because first and last item has that extra padding added to the view. And SnapHelper is calculating whole view as padding+view_width as width of the view. But I dont really know how to do it differently. If i change view padding it will malfunction SnapHelper snapping ability. But every single item has padding top/left/right/bottom 32dp set in ItemOffsetDecoration and other items are working fine. That extra padding_start for 1st item and padding_end for last item is an issue. Its sometimes over 200dp (calculated in ItemOffsetDecoration)"}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1532520423, "post_id": 51514232, "comment_id": 90005488, "body": "That&#39;s what I thought. See my answer for another way to approach this."}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1539665399, "post_id": 51514232, "comment_id": 92572831, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52688974/recyclerview-snaphelper-fails-to-show-first-last-items\">RecyclerView SnapHelper fails to show first/last items</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1532524292, "post_id": 51518438, "comment_id": 90008227, "body": "There was an issue with my clipToPadding. It did not work properly because of the recyclerview parent layout. But now it works."}, {"owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "reply_to_user": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 1, "creation_date": 1535110224, "post_id": 51518438, "comment_id": 90956179, "body": "@martin1337 can you tell me what was the issue?"}, {"owner": {"reputation": 432, "user_id": 1874039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/108841de72f5f0dce18cdfad686fcb35?s=128&d=identicon&r=PG", "display_name": "Zach", "link": "https://stackoverflow.com/users/1874039/zach"}, "reply_to_user": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 2, "creation_date": 1562188351, "post_id": 51518438, "comment_id": 100304497, "body": "@martin1337 why mark this answer as correct if there&#39;s something more to it? My recyclerView has padding/clipToPadding set like above"}], "tags": [], "owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "is_accepted": true, "score": 9, "last_activity_date": 1534361507, "last_edit_date": 1534361507, "creation_date": 1532520289, "answer_id": 51518438, "question_id": 51514232, "link": "https://stackoverflow.com/questions/51514232/issue-with-snapping-of-first-and-last-item-in-recyclerview-using-linearsnaphelpe/51518438#51518438", "title": "Issue with snapping of first and last item in recyclerview using LinearSnapHelper", "body": "<p><code>LinearSnapHelper</code> includes the item decoration in the measurement of the associated view, so your first and last view are never really centered since the measured view size extends to the left or right of the <code>RecyclerView</code>.</p>\n\n<p>You did not post your XML, so you might already do something like the following. The typical way to get start and end views centered correctly is to add padding to the <code>RecyclerView</code> and specify <code>android:clipToPadding=\"false\"</code>. This is the same technique to move end views from FABs, etc.</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/recyclerView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:clipToPadding=\"false\"\n    android:paddingStart=\"35dp\"\n    android:paddingEnd=\"35dp\"/&gt;\n</code></pre>\n\n<p>Here <code>35dp</code> would have to be adjusted for your app and layouts and you will not need the item decoration shifting the views is its only purpose.</p>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3967, "favorite_count": 2, "accepted_answer_id": 51518438, "answer_count": 1, "score": 8, "last_activity_date": 1539625744, "creation_date": 1532507241, "last_edit_date": 1532528358, "question_id": 51514232, "link": "https://stackoverflow.com/questions/51514232/issue-with-snapping-of-first-and-last-item-in-recyclerview-using-linearsnaphelpe", "title": "Issue with snapping of first and last item in recyclerview using LinearSnapHelper", "body": "<p>I have <code>recyclerView</code> which can be scrolled in horizontal orientation. Each view will snap to the center of the display. To implement this I used LinearSnapHelper. This tool works just fine. </p>\n\n<p>Problem is with <strong>last</strong> and <strong>first</strong> item in a recyclerview. These two are <code>not snapped to the center</code> as you scroll to the start. If you check recyclerview state at the beginning before scrolling happen, you can see that first item is in right position in a centre of the screen. I achieved this by adding my custom ItemOffsetDecoration. I've added extra padding for last and first view based on width of the display and view itself, so it will position it right in a middle. </p>\n\n<p>Problem is, if you scroll the recyclerview and scroll it back to the start or the end, those views are not snapped to the middle. It looks like that LinearSnapHelper cannot detect them as snapped.</p>\n\n<p><strong>RecyclerViewInit:</strong></p>\n\n<pre><code>timelineSnapHelper = LinearSnapHelper()\n    timelineViewManager = LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false)\n    timelineViewAdapter = TimelineListAdapter(timelineViewManager, timelineList, this)\n    timelineOffsetDecoration = ItemOffsetDecoration(context!!, 32, 45)\n\n    timelineRecyclerView = view.findViewById&lt;RecyclerView&gt;(R.id.timeline_recycler_view).apply {\n        layoutManager = timelineViewManager\n        adapter = timelineViewAdapter\n        addItemDecoration(timelineOffsetDecoration)\n        setHasFixedSize(true)\n    }\n\n    timelineSnapHelper.attachToRecyclerView(timelineRecyclerView)\n\n    timelineRecyclerView.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n        override fun onScrollStateChanged(recyclerView: RecyclerView?, newState: Int) {\n            if (newState == AbsListView.OnScrollListener.SCROLL_STATE_IDLE) {\n                val centerView = timelineSnapHelper.findSnapView(timelineRecyclerView.layoutManager)\n                val anim = AnimationUtils.loadAnimation(context, R.anim.scale_timeline_start)\n                centerView!!.startAnimation(anim)\n                anim.fillAfter = true\n                lastSnappedTime = centerView\n            } else if (lastSnappedTime != null){\n                lastSnappedTime = null\n            }\n\n            if(newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL &amp;&amp; lastSnappedTime != null){\n                val anim = AnimationUtils.loadAnimation(context, R.anim.scale_timeline_end)\n                lastSnappedTime!!.startAnimation(anim)\n                anim.fillAfter = true\n            }\n        }\n    })\n</code></pre>\n\n<p><strong>Custom ItemDecoration:</strong></p>\n\n<pre><code>class ItemOffsetDecoration(private val context: Context, private val edgePadding: Int, private var viewWidth: Int): RecyclerView.ItemDecoration() {\n\n\noverride fun getItemOffsets(outRect: Rect, view: View, parent: RecyclerView, state: RecyclerView.State?) {\n    super.getItemOffsets(outRect, view, parent, state)\n\n    val itemCount = state!!.itemCount\n\n\n    val itemPosition = parent.getChildAdapterPosition(view)\n    // no position, leave it alone\n    if (itemPosition == RecyclerView.NO_POSITION) {\n        return\n    }\n\n    val displayMetrics = context.resources.displayMetrics\n    val displayWidth: Int = displayMetrics.widthPixels\n    val viewPixelWidth: Int = (viewWidth * (displayMetrics.densityDpi / 160f)).toInt()\n    val startEndPadding: Int = (displayWidth - viewPixelWidth) / 2\n\n    // first item\n    if (itemPosition == 0) {\n        outRect.set(startEndPadding, edgePadding, edgePadding, edgePadding)\n    }\n    // last item\n    else if (itemCount &gt; 0 &amp;&amp; itemPosition == itemCount - 1) {\n        outRect.set(edgePadding, edgePadding, startEndPadding, edgePadding)\n    }\n    // every other item\n    else {\n        outRect.set(edgePadding, edgePadding, edgePadding, edgePadding)\n    }\n }\n}\n</code></pre>\n\n<p>Short preview of the issue in app(<code>I have to fix some animation bugs yet :D</code>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/kb5Q2.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kb5Q2.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1532502554, "post_id": 51512563, "comment_id": 89993968, "body": "The example you labeled as <b>Code A</b> is the standard way of doing this as far as I know"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1532502615, "post_id": 51512563, "comment_id": 89994001, "body": "Thanks! Is Code B wrong ?"}, {"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 4, "creation_date": 1532502750, "post_id": 51512563, "comment_id": 89994070, "body": "There is no such thing as <code>Delegates.mapVal</code> in the current version of Kotlin, but it might have existed before. Maybe the example is old, or <code>mapVal</code> was defined as an extension function for the <code>Delegates</code> class"}, {"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1532502916, "post_id": 51512563, "comment_id": 89994164, "body": "Nicolas is correct, you can read more at <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/delegated-properties.html</a>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1532503421, "post_id": 51512563, "comment_id": 89994469, "body": "Thanks! <a href=\"https://blog.jetbrains.com/kotlin/2013/06/kotlin-m5-3-idea-13-delegated-properties-and-more/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2013/06/&hellip;</a> use <code>by Delegates.mapVal()</code>"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 3, "creation_date": 1532506055, "post_id": 51512563, "comment_id": 89996018, "body": "The blog post describes a version of Kotlin that existed 2.5 years before the 1.0 release. A lot of things have changed in the meantime."}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532501635, "creation_date": 1532501635, "question_id": 51512563, "link": "https://stackoverflow.com/questions/51512563/which-one-is-correct-between-map-and-mapval-when-i-use-delegates-in-kotlin", "title": "Which one is correct between map and mapVal when I use Delegates in Kotlin?", "body": "<p>The Code B is from webpage. In my mind ,it should be Code A, right?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>class User(val map: Map&lt;String, Any?&gt;) {\n    val name: String by map\n    val age: Int     by map\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>class User(val map: Map&lt;String, Any?&gt;) {\n    val name: String by Delegates.mapVal(map)\n    val age: Int     by Delegates.mapVal(map)\n}\n</code></pre>\n\n<p><strong>Code For Both</strong></p>\n\n<pre><code>val user = User(mapOf (\n    \"name\" to \"John Doe\",\n    \"age\" to 25\n))\n</code></pre>\n"}, {"tags": ["dependency-injection", "kotlin", "code-injection", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1532585521, "post_id": 51513089, "comment_id": 90031729, "body": "hi thanks, second solution gives me problems <code>val</code> not allowed in secondary constructor, same as <code>private</code>. First solution just does not work in Kotlin, int tells &quot;property must be initialized or be abstract&quot;"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1532587820, "post_id": 51513089, "comment_id": 90032861, "body": "I&#39;ll edit my answer, you&#39;re right about the second one, and on the first one I just forgot to use <code>lateinit</code>"}, {"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1532588956, "post_id": 51513089, "comment_id": 90033454, "body": "i will give it a try but im pretty sure that <code>lateinit</code> will not accept nullables in kotlin"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1532590668, "post_id": 51513089, "comment_id": 90034487, "body": "It doesn&#39;t matter for <code>lateinit var</code> null it is or not. Nullability is customized with <code>?</code> meaning that <code>SongListRepo</code> cannot be <code>null</code>, but <code>SongListRepo?</code> can. The <code>lateinit var</code> modifier just simply allows you to not init variable at the object creation time. But you must be sure to use it after initialization, cause you will get an exception if you try to use <code>lateinit var</code> before it is initialized."}, {"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1532602593, "post_id": 51513089, "comment_id": 90041784, "body": "in the second solution, how should the <code>lateinit</code> be initialized?, i guess it is done itself via the injection or? am i too wrong? :)"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1532604340, "post_id": 51513089, "comment_id": 90042842, "body": "Yes, it is done through an injection, but only when second constructor (with parameters) is called."}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1532587881, "last_edit_date": 1532587881, "creation_date": 1532503457, "answer_id": 51513089, "question_id": 51512102, "link": "https://stackoverflow.com/questions/51512102/kotlin-dagger-2-runtimeexception-has-no-zero-argument-constructor/51513089#51513089", "title": "Kotlin + Dagger 2: RuntimeException: has no zero argument constructor", "body": "<p>Is it possible that the error you're getting is related to this <code>Service</code> (I think like <code>Fragment</code> they must have a zero argument constructor, so that the platform would be able to re create them)? If <strong>yes</strong> than you might use an on demand injection, like:</p>\n\n<pre><code>class RemoteService: MainBaseService() {\n\n    @Inject\n    @SongListRepo \n    private lateinit var songListRepo: SongListRepo\n\n    init {\n        // Something like this\n        AndroidInjection.inject(this)\n    }\n}\n</code></pre>\n\n<p>Or, anyway you can add additional constructors like:</p>\n\n<pre><code>class RemoteService constructor(): MainBaseService() {\n\n     private lateinit var songListRepo: SongListRepo? = null\n\n     @Inject constructor(@SongListRepo songListRepo: SongListRepo):this() {\n         this.songListRepo = songListRepo\n     }\n}\n</code></pre>\n\n<p>More about constructors <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1547, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1532607979, "creation_date": 1532499749, "last_edit_date": 1532607979, "question_id": 51512102, "link": "https://stackoverflow.com/questions/51512102/kotlin-dagger-2-runtimeexception-has-no-zero-argument-constructor", "title": "Kotlin + Dagger 2: RuntimeException: has no zero argument constructor", "body": "<p>When I try to inject a class via constructor in a <code>Kotlin</code> class I am getting this exception.</p>\n\n<p>I have been reading about ways to solve it in <code>Java</code> by adding an empty constructor to the class that gets the injection.</p>\n\n<p>However, it does not seem to be possible (or I do not how) to do it in <code>Kotlin</code>.</p>\n\n<p>The code that throws the exception has nothing out of normal...just a simple injection.</p>\n\n<p>Here it is a piece of the code with the injection that throws exception:</p>\n\n<pre><code>class RemoteService @Inject constructor(\n        @SongListRepo private val songListRepo: SongListRepo): MainBaseService() {\n...\n...\n...\n}\n</code></pre>\n\n<p>And of course the <code>SongListRepo</code> is provided by a module in the usual Dagger 2 way.</p>\n\n<p><strong>-------- EDIT: ---------</strong></p>\n\n<p>After some help and comments from @Demigod the code looks like this</p>\n\n<pre><code>class RemoteService (): MainBaseService() {\n\n    lateinit var songLR : SongListRepo\n    @Inject constructor(@SongListRepo songListRepo: SongListRepo) : this(\n    {\n        this.songLR = songListRepo\n    }\n</code></pre>\n\n<p>Problem now is that <strong>secondary constructor never gets initialized</strong></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1532504699, "post_id": 51511921, "comment_id": 89995238, "body": "With this code? <code>producer</code> isn&#39;t <code>open</code> and you aren&#39;t accessing it, only initializing."}], "answers": [{"comments": [{"owner": {"reputation": 3494, "user_id": 1012689, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/86068c785381765448d41a37f7db85e6?s=128&d=identicon&r=PG", "display_name": "ttt", "link": "https://stackoverflow.com/users/1012689/ttt"}, "edited": false, "score": 0, "creation_date": 1533278271, "post_id": 51512082, "comment_id": 90296181, "body": "is it to possible to modify the code to initialise <code>KafkaProducer</code> when the app starts instead of when the first time we access it?"}, {"owner": {"reputation": 1062, "user_id": 9629698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kTsS.png?s=128&g=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/9629698/daa"}, "reply_to_user": {"reputation": 3494, "user_id": 1012689, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/86068c785381765448d41a37f7db85e6?s=128&d=identicon&r=PG", "display_name": "ttt", "link": "https://stackoverflow.com/users/1012689/ttt"}, "edited": false, "score": 0, "creation_date": 1533281250, "post_id": 51512082, "comment_id": 90297535, "body": "You could define an <code>initialize</code> method and call it in your <code>Application</code> class <code>onCreate</code> method but, unless the initialization is slow and want to have it preloaded, it wouldn&#39;t make any difference than doing it lazy."}], "tags": [], "owner": {"reputation": 1062, "user_id": 9629698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kTsS.png?s=128&g=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/9629698/daa"}, "is_accepted": true, "score": 3, "last_activity_date": 1532499666, "creation_date": 1532499666, "answer_id": 51512082, "question_id": 51511921, "link": "https://stackoverflow.com/questions/51511921/kotlin-warning-accessing-non-final-property-in-constructor/51512082#51512082", "title": "Kotlin warning: accessing non-final property in constructor", "body": "<p>You should initialize your <code>producer</code>variable as lazy:</p>\n\n<pre><code>class KafkaService {\n\n  val producer: KafkaProducer&lt;String, String&gt; by lazy {\n    val props = Properties()\n    props[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = \"127.0.0.1:9092\"\n    props[ProducerConfig.CLIENT_ID_CONFIG] = \"DemoProducer\"\n    props[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java.name\n    props[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java.name\n\n    KafkaProducer(props)\n  }\n\n  fun sendToKafka(topic: String, message: String) {\n    val producerRecord: ProducerRecord&lt;String?, String&gt; = ProducerRecord(topic, null, message)\n    producer.send(producerRecord)\n  }\n}\n</code></pre>\n\n<p>This way, your variable will be initialized the first time you access it, and you won't be reassigning a final variable.\nGive <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">this</a> a read for a better understanding.</p>\n"}], "owner": {"reputation": 3494, "user_id": 1012689, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/86068c785381765448d41a37f7db85e6?s=128&d=identicon&r=PG", "display_name": "ttt", "link": "https://stackoverflow.com/users/1012689/ttt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2946, "favorite_count": 0, "accepted_answer_id": 51512082, "answer_count": 1, "score": 2, "last_activity_date": 1532499666, "creation_date": 1532499010, "question_id": 51511921, "link": "https://stackoverflow.com/questions/51511921/kotlin-warning-accessing-non-final-property-in-constructor", "title": "Kotlin warning: accessing non-final property in constructor", "body": "<p>I have some following code and got a warning for <code>producer</code> variable which is <code>accessing non-final property in constructor</code></p>\n\n<pre><code>class KafkaService {\n\n  val producer: KafkaProducer&lt;String, String&gt;\n\n  init {\n    val props = Properties()\n    props[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = \"127.0.0.1:9092\"\n    props[ProducerConfig.CLIENT_ID_CONFIG] = \"DemoProducer\"\n    props[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java.name\n    props[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = StringSerializer::class.java.name\n\n    producer = KafkaProducer(props)\n  }\n\n  fun sendToKafka(topic: String, message: String) {\n    val producerRecord: ProducerRecord&lt;String?, String&gt; = ProducerRecord(topic, null, message)\n    producer.send(producerRecord)\n  }\n}\n</code></pre>\n\n<p>What's the best way to fix this?</p>\n"}, {"tags": ["android", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 0, "creation_date": 1532497309, "post_id": 51511482, "comment_id": 89991469, "body": "If your activity destroyed dialog will dismiss"}, {"owner": {"reputation": 630, "user_id": 2919483, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/8cc2589e094a942a321147f009733d4b?s=128&d=identicon&r=PG&f=1", "display_name": "Rajshree Tiwari", "link": "https://stackoverflow.com/users/2919483/rajshree-tiwari"}, "edited": false, "score": 1, "creation_date": 1532497418, "post_id": 51511482, "comment_id": 89991532, "body": "set dialog.setCancelable(false) below   val dialog = mBuilder.create()"}], "answers": [{"comments": [{"owner": {"reputation": 977, "user_id": 1671672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e955d0ec41e5633e1fc26360f5a34d?s=128&d=identicon&r=PG", "display_name": "Udit", "link": "https://stackoverflow.com/users/1671672/udit"}, "edited": false, "score": 0, "creation_date": 1532497313, "post_id": 51511521, "comment_id": 89991471, "body": "you need setCancelable(false)"}], "tags": [], "owner": {"reputation": 977, "user_id": 1671672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e955d0ec41e5633e1fc26360f5a34d?s=128&d=identicon&r=PG", "display_name": "Udit", "link": "https://stackoverflow.com/users/1671672/udit"}, "is_accepted": true, "score": 1, "last_activity_date": 1532501829, "last_edit_date": 1532501829, "creation_date": 1532497221, "answer_id": 51511521, "question_id": 51511482, "link": "https://stackoverflow.com/questions/51511482/android-alert-dialog-is-dismissing-on-back-press/51511521#51511521", "title": "Android Alert dialog is dismissing on Back press?", "body": "<p>You need to set :</p>\n\n<pre><code>dialog.setCancelable(false)\n</code></pre>\n\n<p>As per the Android documentation for this method:</p>\n\n<blockquote>\n  <p>Sets whether this dialog is cancelable with the\n        {@link KeyEvent#KEYCODE_BACK BACK} key.</p>\n</blockquote>\n\n<p>So this is exactly for the case you want.</p>\n\n<p>Note:</p>\n\n<p>dialog.setCanceledOnTouchOutside is for preventing/allowing popup to dismiss when touched outside the popup, not back button. Docs:</p>\n\n<blockquote>\n  <p>Sets whether this dialog is canceled when touched outside the window's\n        bounds. If setting to true, the dialog is set to be cancelable if not\n        already set.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 719, "user_id": 3461875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fc815499a612afcb4f4320252a9105?s=128&d=identicon&r=PG&f=1", "display_name": "Sardar Khan", "link": "https://stackoverflow.com/users/3461875/sardar-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1532497770, "creation_date": 1532497770, "answer_id": 51511631, "question_id": 51511482, "link": "https://stackoverflow.com/questions/51511482/android-alert-dialog-is-dismissing-on-back-press/51511631#51511631", "title": "Android Alert dialog is dismissing on Back press?", "body": "<p>You can check this link\n<a href=\"https://stackoverflow.com/questions/6204972/override-dialog-onbackpressed\">Dismiss Dialog onBackPressAndroid</a></p>\n\n<pre><code>dialog.setOnCancelListener(new DialogInterface.OnCancelListener()\n{\n    @Override\n    public void onCancel(DialogInterface dialog)\n    {\n         MyActivity.this.finish();\n    }\n});\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9998479"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "accepted_answer_id": 51511521, "answer_count": 2, "score": -1, "last_activity_date": 1532501829, "creation_date": 1532497033, "last_edit_date": 1532501658, "question_id": 51511482, "link": "https://stackoverflow.com/questions/51511482/android-alert-dialog-is-dismissing-on-back-press", "title": "Android Alert dialog is dismissing on Back press?", "body": "<p>when i click on system back button my alert dialog dismiss, i don't want to dismiss my alert, my code is here:- </p>\n\n<pre><code>fun shoWResultPopUp() {\n    if (!isFinishing()) {\n        val mBuilder = AlertDialog.Builder(this@ExamActivity)\n        val mView = layoutInflater.inflate(R.layout.show_result_popup, null)\n        val mResult = mView.findViewById(R.id.resultBtn) as Button\n        mBuilder.setView(mView)\n        val dialog = mBuilder.create()\n        dialog.setCanceledOnTouchOutside(false);\n        dialog.show()\n\n        mResult.setOnClickListener {\n            val intent = Intent(this, ResultActivity::class.java)\n            startActivity(intent)\n        }\n    }\n}\n\noverride fun onBackPressed() {\n    return\n}\n</code></pre>\n"}, {"tags": ["list", "kotlin"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 8, "last_activity_date": 1532475556, "last_edit_date": 1532475556, "creation_date": 1532475250, "answer_id": 51508966, "question_id": 51508935, "link": "https://stackoverflow.com/questions/51508935/kotlin-list-of-pair-into-list-of-pair-first/51508966#51508966", "title": "kotlin list of Pair into list of Pair.first", "body": "<p>It is: <code>val firstList = pairList.map { it.first }</code>  <br/></p>\n\n<p><code>first</code> represents the 1st member of the pair, and of course there is <code>second</code> for the 2nd member</p>\n\n<p>The same <code>firstList</code> be generalized for:  <br/></p>\n\n<pre><code>val pairList = listOf(Pair(ClassA(), ClassB()), Pair(ClassA(), ClassB()), Pair(ClassA(), ClassB()))\n</code></pre>\n"}], "owner": {"reputation": 228, "user_id": 3273194, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81adb5036780a92406f62c8a0024d532?s=128&d=identicon&r=PG&f=1", "display_name": "Distraction", "link": "https://stackoverflow.com/users/3273194/distraction"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5833, "favorite_count": 0, "accepted_answer_id": 51508966, "answer_count": 1, "score": 2, "last_activity_date": 1532475568, "creation_date": 1532475038, "last_edit_date": 1532475568, "question_id": 51508935, "link": "https://stackoverflow.com/questions/51508935/kotlin-list-of-pair-into-list-of-pair-first", "title": "kotlin list of Pair into list of Pair.first", "body": "<p>I'm trying to get used to the idioms and shortcuts in Kotlin and I'm wondering if there was any way to do this.</p>\n\n<pre><code>val pairList = listOf(Pair(1, 2), Pair(5, 10), Pair(12, 15))\nval firstList = // should be [1, 5, 12]\n</code></pre>\n\n<p>Or in general, any class with any one of their member variables. I currently have:</p>\n\n<pre><code>val pairList = listOf(Pair(1, 2), Pair(5, 10), Pair(12, 15))\nval firstList = ArrayList&lt;Int&gt;()\npairList.forEach { firstList.add(it.first) }\n</code></pre>\n"}, {"tags": ["kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1532506192, "post_id": 51508595, "comment_id": 89996094, "body": "Most likely you have a corrupted library. Please try deleting %USERPROFILE%\\.m2\\repository"}], "owner": {"reputation": 4053, "user_id": 2350799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CaaDE.png?s=128&g=1", "display_name": "xcesco", "link": "https://stackoverflow.com/users/2350799/xcesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1532472583, "creation_date": 1532472583, "question_id": 51508595, "link": "https://stackoverflow.com/questions/51508595/invalid-loc-header-block-project-compilation", "title": "invalid LOC header block project compilation", "body": "<p>I'm writing a simple Kotlin project as example of a my library's usage. The code is available <a href=\"https://github.com/xcesco/kripton-examples/tree/master/KotlinSample01\" rel=\"nofollow noreferrer\">on github</a>. When I try to compile it, the compiler show me the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Kd22.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Kd22.png\" alt=\"error\"></a></p>\n\n<p>I deleted <code>build</code> folders and <code>.gradle</code> directories, but nothing changes. Any ideas?</p>\n"}, {"tags": ["android", "android-studio", "matrix", "gridview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 216, "user_id": 4517005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lBntL.jpg?s=128&g=1", "display_name": "Nishikanto Sarkar Simul", "link": "https://stackoverflow.com/users/4517005/nishikanto-sarkar-simul"}, "is_accepted": false, "score": 0, "last_activity_date": 1532502301, "creation_date": 1532502301, "answer_id": 51512764, "question_id": 51507838, "link": "https://stackoverflow.com/questions/51507838/how-read-and-update-edittext-within-gridview-kotlin-android-studio/51512764#51512764", "title": "How read and update EditText within GridView [Kotlin] [Android Studio]", "body": "<p>I have used EditText inside listview. But got problems with EditText behavior. Then I switched to adding-views method by using a loop. </p>\n\n<pre><code>val results = List&lt;String&gt;\n    for(i in results.size downTo 0 ){\n        val inflatedView = LayoutInflater.from(this@MainActivity).inflate(R.layout.myView, card_container, false)\n         .......\n         .......\n        card_container.addView(inflatedView)\n    }\n</code></pre>\n\n<p>Here <code>card_container</code> is a LinearLayout. \nI suppose girdview also have the problem as listview. So you may try this solution to see if it works.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10130145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5529894c827cb585a5a318b55a3dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/10130145/alberto"}, "is_accepted": true, "score": 0, "last_activity_date": 1533247183, "last_edit_date": 1533247183, "creation_date": 1532566080, "answer_id": 51529491, "question_id": 51507838, "link": "https://stackoverflow.com/questions/51507838/how-read-and-update-edittext-within-gridview-kotlin-android-studio/51529491#51529491", "title": "How read and update EditText within GridView [Kotlin] [Android Studio]", "body": "<p><a href=\"https://stackoverflow.com/a/26057086/10130145\">Here</a> I Have found how to get the view of a specific position.</p>\n\n<p>Next I put an example of code to obtain the text of an item and how to send text to an item</p>\n\n<pre><code>var itemView = gvMatrix1.getChildAt(4)  //obtain view of the position 4\nvar editText = itemView.findViewById(R.id.etItem) as EditText //cast view as EditText\nvar text = editText.text //getText from editText\neditText.setText(\"8\") //setText in editText\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10130145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5529894c827cb585a5a318b55a3dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/10130145/alberto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 51529491, "answer_count": 2, "score": 0, "last_activity_date": 1533247183, "creation_date": 1532467923, "last_edit_date": 1532566156, "question_id": 51507838, "link": "https://stackoverflow.com/questions/51507838/how-read-and-update-edittext-within-gridview-kotlin-android-studio", "title": "How read and update EditText within GridView [Kotlin] [Android Studio]", "body": "<p>I'm trying to create an application that shows an EditText matrix and that allows users to enter text. This I have achieved using a GridView where the items are EditText.</p>\n\n<p>I have the problem when I want to read or update the EditText data.</p>\n\n<p>Here I show something of the code that I have.</p>\n\n<p><strong>Class MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    var matrix1: Array&lt;Array&lt;Int&gt;&gt; = Array(3, {Array(3, {0})})\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        var adapter = GridViewAdapter(this, matrix1)\n        gvMatrix1.numColumns = 3\n        gvMatrix1.adapter = adapter\n    }\n}\n</code></pre>\n\n<p><strong>Class Adapter</strong></p>\n\n<pre><code>class GridViewAdapter(val context: Context, var matrix: Array&lt;Array&lt;Int&gt;&gt;) : BaseAdapter() {\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var view = inflator.inflate(R.layout.grid_view_item, null)\n        return view\n    }\n\n    override fun getItem(p0: Int): Any = matrix[p0%matrix.size][p0-(p0-p0%matrix.size)]\n\n    override fun getItemId(p0: Int): Long = p0.toLong()\n\n    override fun getCount(): Int = matrix.size * matrix[0].size\n}\n</code></pre>\n\n<p><strong>GridView XML within activity_main.xml</strong></p>\n\n<pre><code> &lt;GridView\n        android:id=\"@+id/gvMatrix1\"\n        android:layout_width=\"100dip\"\n        android:layout_height=\"200dip\"\n        android:columnWidth=\"2dp\"\n        android:numColumns=\"1\"/&gt;\n</code></pre>\n\n<p><strong>GridView Item XML</strong></p>\n\n<pre><code>&lt;EditText xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/etItem\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>My intention is to read the contents of all the editText to save them in matrix1, modify matrix1 and show their new content.</p>\n\n<p>Is GridView a good choice for this use or there are some layout or view better?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "edited": false, "score": 0, "creation_date": 1532474012, "post_id": 51506809, "comment_id": 89986530, "body": "Hi Pulkit. I added your code to a new Kotlin project. It worked fine with only minor changes. I&#39;ve included additional information with regards to my setup. If you are still having problems let me know and I can help you investigate. But please let me know the last line you are able to break on before it crashes. Also try get logcat working 1. Ensure the right device is selected in the top left hand side 2. Press green restart widget 3. Restart Android Studio. Also make sure verbose is on and there is nothing in the logcat search widget. Cheers!"}], "answers": [{"tags": [], "owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "is_accepted": false, "score": 0, "last_activity_date": 1532472767, "creation_date": 1532472767, "answer_id": 51508622, "question_id": 51506809, "link": "https://stackoverflow.com/questions/51506809/volley-stringrequest-handled-by-requestqueue-crashes-without-error/51508622#51508622", "title": "Volley StringRequest handled by RequestQueue crashes without error", "body": "<p>This code is working fine for me. Only minor differences:</p>\n\n<pre><code>fun f() {\n    val url = \"https://www.google.co.uk/\"\n    val res = object :Response.Listener&lt;String&gt;{\n        override fun onResponse(response: String?) {\n            Toast.makeText(this@MainActivity,\"no err: $response\", Toast.LENGTH_LONG).show()\n        }\n    }\n\n    val eros = object :Response.ErrorListener {\n        @Override\n        override fun onErrorResponse(volleyError: VolleyError){\n            Toast.makeText(this@MainActivity,\"volley error - $volleyError\", Toast.LENGTH_LONG).show()\n        }\n    }\n\n    //  request = StringRequest(Request.Method.GET,url,)\n    val request = StringRequest(Request.Method.GET, url, res,eros)\n\n    val rQueue = Volley.newRequestQueue(this@MainActivity)\n    rQueue.add(request)\n}\n</code></pre>\n\n<p>Gradle:</p>\n\n<pre><code> implementation 'com.android.volley:volley:1.1.1'\n</code></pre>\n\n<p>Manifest:</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p>Project creation procedure:</p>\n\n<pre><code> File -&gt; New Project -&gt; [Tick box: Include Kotlin Support]\n</code></pre>\n\n<p>I mention this procedure because I've often been less than lucky when converting existing Java apps to Kotlin.</p>\n\n<p>I could not remember if Volley posted its results back to the main thread or a worker thread. But both onResponse and onErrorResponse are called on the main thread so Toast.makeText is safe.</p>\n"}], "owner": {"reputation": 23, "user_id": 10129296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0IoTH_Ajp0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rbUIn7zZIT6T5Xg316nHW51TPBaw/mo/photo.jpg?sz=128", "display_name": "Pulkit Hans", "link": "https://stackoverflow.com/users/10129296/pulkit-hans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1605551099, "creation_date": 1532463168, "last_edit_date": 1605551099, "question_id": 51506809, "link": "https://stackoverflow.com/questions/51506809/volley-stringrequest-handled-by-requestqueue-crashes-without-error", "title": "Volley StringRequest handled by RequestQueue crashes without error", "body": "<p>This is the code that is crashing:</p>\n<pre><code>val url = &quot;https://chotawhatsapp.firebaseio.com/users.json&quot;\nval res = object : Response.Listener&lt;String&gt; {         \n    //Toast.makeText(this@Main2Activity,&quot;show&quot;,Toast.LENGTH_LONG).show()\n    @Override\n    override fun onResponse(s: String) {          \n        Toast.makeText(this@Main2Activity,&quot;show&quot;,Toast.LENGTH_LONG).show()\n        doOnSuccess(s)\n        //the function OnResponse is shown never used in the program while toast is properly executable\n    }\n}\n\nval eros = object :Response.ErrorListener {\n@Override\noverride fun onErrorResponse(volleyError: VolleyError) {\n        Toast.makeText(this@Main2Activity,&quot;volley error - $volleyError&quot;,Toast.LENGTH_LONG).show()\n    }\n}\n\n//  request = StringRequest(Request.Method.GET,url,)\nval request = StringRequest(Request.Method.GET, url, res,eros)\n\nval rQueue = Volley.newRequestQueue(this@Main2Activity)\nrQueue.add(request)\n</code></pre>\n<p>There is nothing in logcat for the crash.</p>\n<p>The toast messages in the code are not shown.</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 1, "creation_date": 1532459694, "post_id": 51505408, "comment_id": 89981024, "body": "So what do you want? is that onclicklistener not working?because that seems fine."}, {"owner": {"reputation": 293, "user_id": 7140618, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d969dca9d65f8ea541bf1336a20c9e15?s=128&d=identicon&r=PG&f=1", "display_name": "FerasAS", "link": "https://stackoverflow.com/users/7140618/ferasas"}, "reply_to_user": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1532510326, "post_id": 51505408, "comment_id": 89998777, "body": "it is not working"}, {"owner": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1532510369, "post_id": 51505408, "comment_id": 89998813, "body": "are you getting compile time error for that?"}, {"owner": {"reputation": 293, "user_id": 7140618, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d969dca9d65f8ea541bf1336a20c9e15?s=128&d=identicon&r=PG&f=1", "display_name": "FerasAS", "link": "https://stackoverflow.com/users/7140618/ferasas"}, "reply_to_user": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1532510808, "post_id": 51505408, "comment_id": 89999142, "body": "no it compiles fine"}, {"owner": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1532511038, "post_id": 51505408, "comment_id": 89999306, "body": "If you want all permission request within one method onclick you already got the answer. Is it working?"}, {"owner": {"reputation": 293, "user_id": 7140618, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d969dca9d65f8ea541bf1336a20c9e15?s=128&d=identicon&r=PG&f=1", "display_name": "FerasAS", "link": "https://stackoverflow.com/users/7140618/ferasas"}, "reply_to_user": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1532514221, "post_id": 51505408, "comment_id": 90001436, "body": "nope. maybe I need a .setOnTouchListener rather than a .setOnClickListener? because it is not a button?"}], "answers": [{"tags": [], "owner": {"reputation": 289, "user_id": 10126399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ea8aeb6519fc22cb733de148c91708?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya E", "link": "https://stackoverflow.com/users/10126399/ilya-e"}, "is_accepted": false, "score": 1, "last_activity_date": 1532667692, "last_edit_date": 1532667692, "creation_date": 1532500417, "answer_id": 51512257, "question_id": 51505408, "link": "https://stackoverflow.com/questions/51505408/how-to-set-a-onclicklistener-in-kotlin-for-a-textinputfield/51512257#51512257", "title": "How to set a OnClickListener in Kotlin for a TextInputField", "body": "<p>As far as I understood, if you sure that all EditTexts will behave identically, you can create single instance of clickListener, and set it to EditTexts.</p>\n\n<pre><code>    val clickListener = View.OnClickListener {\n        Log.i(\"Name\",\"on click listener activated\")\n        this@PageFragment.getPermissions()\n    }\n\n    editName.setOnClickListener(clickListener)\n    editSomethingElse.setOnClickListener(clickListener)\n    editSurname.setOnClickListener(clickListener)\n</code></pre>\n\n<p>Or even create list of similar EditTexts and set listener with following:</p>\n\n<pre><code>    listOf(editName,  editSomethingElse, editSurname).map {\n        it.setOnClickListener(clickListener)\n    }\n</code></pre>\n\n<p><strong>EDIT</strong>\nMay be <a href=\"https://stackoverflow.com/questions/2359176/android-edittext-onclicklistener\">this</a> is the case? One more related <a href=\"https://stackoverflow.com/questions/38694423/setting-onclicklistener-to-edittext\">topic</a>.</p>\n"}], "owner": {"reputation": 293, "user_id": 7140618, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d969dca9d65f8ea541bf1336a20c9e15?s=128&d=identicon&r=PG&f=1", "display_name": "FerasAS", "link": "https://stackoverflow.com/users/7140618/ferasas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532667692, "creation_date": 1532457186, "question_id": 51505408, "link": "https://stackoverflow.com/questions/51505408/how-to-set-a-onclicklistener-in-kotlin-for-a-textinputfield", "title": "How to set a OnClickListener in Kotlin for a TextInputField", "body": "<p>I am trying to ask for permissions in an activity (using easyPermissions) when a user clicks on a text input field. My current code looks like this:</p>\n\n<pre><code>class PageFragment : Fragment(), EasyPermissions.PermissionCallbacks {\n\n    private lateinit var viewModel: PageViewModel\n    private lateinit var binding: PageBinding\n    private lateinit var interpreter: PageInterpreter\n    private val messagesCoordinator: MessageCoordinator by lazy {\n        MessageCoordinator(viewModel, interpreter)\n    }\n\n    companion object {\n        private const val RC_READ_PERMISSIONS = 102\n        @JvmStatic\n        fun newInstance() = PageFragment().apply {\n            arguments = Bundle().apply {\n            }\n        }\n    }\n\n    interface PageCallback {\n        fun goBack()\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_page, container, false)\n        return binding.root\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n\n        EasyPermissions.onRequestPermissionsResult(requestCode, permissions, grantResults, this)\n    }\n\n    @AfterPermissionGranted(RC_READ_PERMISSIONS)\n    private fun getPermissions() {\n        Log.i(\"Permission asked\",\"Get Permission function activated\")\n        context?.let {\n            if (EasyPermissions.hasPermissions(it, android.Manifest.permission.READ_CONTACTS)) {\n                //TODO\n            } else {\n                EasyPermissions.requestPermissions(this, it.getString(R.string.fragment_page_explanation), RC_READ_PERMISSIONS,\n                    android.Manifest.permission.READ_CONTACTS)\n            }\n        }\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        Log.i(\"View Created\",\"View has been created\")\n        editName.setOnClickListener {\n            Log.i(\"Name\",\"on click listener activated\")\n            this.getPermissions()\n        }\n    }\n\n    override fun onPermissionsGranted(requestCode: Int, perms: MutableList&lt;String&gt;) {\n        //TODO\n    }\n    override fun onPermissionsDenied(requestCode: Int, perms: MutableList&lt;String&gt;) {\n        //TODO\n    }\n}\n</code></pre>\n\n<p>Basically, I have 6 input fields on the fragment layout and I want the permission to be asked if any of the text input fields are click on by the user. Here I am only trying with one. </p>\n\n<p>Thanks,</p>\n\n<p>Feras A. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 2, "creation_date": 1532454420, "post_id": 51504250, "comment_id": 89978335, "body": "Toast? What toast?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10129296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0IoTH_Ajp0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rbUIn7zZIT6T5Xg316nHW51TPBaw/mo/photo.jpg?sz=128", "display_name": "Pulkit Hans", "link": "https://stackoverflow.com/users/10129296/pulkit-hans"}, "edited": false, "score": 0, "creation_date": 1532459143, "post_id": 51504511, "comment_id": 89980777, "body": "showing that modifier &#39;override&#39; is not applicable to a &#39;local function&#39;"}], "tags": [], "owner": {"reputation": 1912, "user_id": 8154765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zSqGp.png?s=128&g=1", "display_name": "Davide Cannizzo", "link": "https://stackoverflow.com/users/8154765/davide-cannizzo"}, "is_accepted": false, "score": 2, "last_activity_date": 1532453506, "creation_date": 1532453506, "answer_id": 51504511, "question_id": 51504250, "link": "https://stackoverflow.com/questions/51504250/function-not-reachable-when-called/51504511#51504511", "title": "Function not reachable when called", "body": "<p>As @mTak stated, you missed the <code>override</code> modifier.  </p>\n\n<p>Here's the corrected code:</p>\n\n<pre><code>val res = Response.Listener&lt;String&gt; {\n    override fun onResponse(s: String) {\n      doOnSuccess(s)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1532475492, "last_edit_date": 1532475492, "creation_date": 1532461273, "answer_id": 51506392, "question_id": 51504250, "link": "https://stackoverflow.com/questions/51504250/function-not-reachable-when-called/51506392#51506392", "title": "Function not reachable when called", "body": "<p>It <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">should be just</a></p>\n\n<pre><code>val res = Response.Listener&lt;String&gt; {\n    doOnSuccess(it)\n}\n</code></pre>\n\n<p>or alternatively</p>\n\n<pre><code>val res = object : Response.Listener&lt;String&gt; {\n    override fun onResponse(s: String) {\n        doOnSuccess(s)\n    }\n}\n</code></pre>\n\n<p>With your code, Kotlin sees it as the first form, except the body of the method just declares a function coincidentally called <code>onResponse</code> and does nothing else; it's the same as </p>\n\n<pre><code>Response.Listener&lt;String&gt; {}    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1532475439, "creation_date": 1532475439, "answer_id": 51508987, "question_id": 51504250, "link": "https://stackoverflow.com/questions/51504250/function-not-reachable-when-called/51508987#51508987", "title": "Function not reachable when called", "body": "<p><strong>Problem</strong></p>\n\n<p>The problem is that you define an anonymous function <code>onResponse</code> in the lambda which is never invoked!</p>\n\n<p><strong>A solution:</strong></p>\n\n<pre><code>val res = Response.Listener&lt;String&gt; {\n    fun onResponse(s: String) {\n        doOnSuccess(s)\n    }\n    onResponse(it) // invocation\n}\n</code></pre>\n\n<p><strong>The better solution:</strong></p>\n\n<p>Since your <code>doOnSuccess</code> seems to accept a <code>String</code> as single argument and it returns <code>Unit</code>, using a function reference is also possible.</p>\n\n<pre><code>val res = Response.Listener&lt;String&gt;(::doOnSuccess)\n</code></pre>\n\n<p>I did not test it, but in this case I think that you can even leave out the explicity type, because Kotlin can infer it from the function reference.</p>\n\n<pre><code>val res = Response.Listener(::doOnSuccess)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10129296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0IoTH_Ajp0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rbUIn7zZIT6T5Xg316nHW51TPBaw/mo/photo.jpg?sz=128", "display_name": "Pulkit Hans", "link": "https://stackoverflow.com/users/10129296/pulkit-hans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 51506392, "answer_count": 3, "score": 1, "last_activity_date": 1532475492, "creation_date": 1532452519, "last_edit_date": 1532454276, "question_id": 51504250, "link": "https://stackoverflow.com/questions/51504250/function-not-reachable-when-called", "title": "Function not reachable when called", "body": "<pre><code>val res = Response.Listener&lt;String&gt; {\n    fun onResponse(s: String) {\n        doOnSuccess(s)\n    }\n}\n</code></pre>\n\n<p>The function <code>onResponse</code> is never used (not reachable from inspection scope) in the program while toast is properly executable.</p>\n"}, {"tags": ["android", "kotlin", "realm"], "answers": [{"comments": [{"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 0, "creation_date": 1532610412, "post_id": 51502081, "comment_id": 90046736, "body": "Thank you for helping out and providing a sufficient answer. If anyone is having problems with the gradle-plugin, you can refer to this solution."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1533233910, "post_id": 51502081, "comment_id": 90283365, "body": "5.5.0-SNAPSHOT should fix all these transformer quirks, so at some point that&#39;ll come out."}, {"owner": {"reputation": 9837, "user_id": 483520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4fc6e3d12a3ca9dd7998d4109b3415ca?s=128&d=identicon&r=PG", "display_name": "Nolan Amy", "link": "https://stackoverflow.com/users/483520/nolan-amy"}, "edited": false, "score": 0, "creation_date": 1533276517, "post_id": 51502081, "comment_id": 90295475, "body": "I just downgraded to 5.3.1 for now, rather than add complexity to the gradle script"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1533286570, "post_id": 51502081, "comment_id": 90300357, "body": "Actually, they released 5.4.1 about three hours ago, so you can use that instead of downgrading and it should just work."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 4, "last_activity_date": 1533286550, "last_edit_date": 1533286550, "creation_date": 1532445040, "answer_id": 51502081, "question_id": 51501713, "link": "https://stackoverflow.com/questions/51501713/realm-for-android-with-kotlin-cannot-change-dependencies-of-configuration-afte/51502081#51502081", "title": "Realm for Android with Kotlin - Cannot change Dependencies of Configuration after it has been included in dependency resolution", "body": "<p>Seems to be a bug in the Realm-Transformer 5.4.0, which happens only if <code>experimental = true</code> is enabled for Kotlin Android Extensions.</p>\n\n<p><strong>EDIT:</strong> Using 5.4.1+ should solve this problem.</p>\n\n<hr>\n\n<p><strong>PREVIOUS ANSWER:</strong> You can use manually defined versions in the build.gradle file in the meantime:</p>\n\n<pre><code> buildscript {\n    ext.kotlin_version = '1.2.51'\n    ext.realm_version = '5.4.0'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n   dependencies {\n       classpath \"io.realm:realm-transformer:5.1.0\"\n       classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n   }\n }\n\n apply plugin: 'com.android.application'\n apply plugin: 'kotlin-android'\n apply plugin: 'kotlin-kapt'\n\n import io.realm.transformer.RealmTransformer\n android.registerTransform(new RealmTransformer(project))\n\n dependencies {\n   implementation \"io.realm:realm-annotations:$realm_version\"\n   implementation \"io.realm:realm-android-library:$realm_version\"\n   implementation \"io.realm:realm-android-kotlin-extensions:$realm_version\" {\n       exclude group: \"org.jetbrains.kotlin\", module: \"kotlin-stdlib-jdk7\"\n   }\n   kapt \"io.realm:realm-annotations-processor:$realm_version\"\n }\n</code></pre>\n\n<p>As per <a href=\"https://realm.io/docs/java/latest/#how-do-i-customize-dependecies-defined-by-the-realm-gradle-plugin\" rel=\"nofollow noreferrer\">docs</a>. </p>\n"}], "owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 1, "accepted_answer_id": 51502081, "answer_count": 1, "score": 4, "last_activity_date": 1533286550, "creation_date": 1532444005, "question_id": 51501713, "link": "https://stackoverflow.com/questions/51501713/realm-for-android-with-kotlin-cannot-change-dependencies-of-configuration-afte", "title": "Realm for Android with Kotlin - Cannot change Dependencies of Configuration after it has been included in dependency resolution", "body": "<p>I am trying to get Realm to work in my project. I have Kotlin with version 1.2.51 and Instant Run disabled. </p>\n\n<p>In my project <code>build.gradle</code> file I added the following dependency:</p>\n\n<pre><code>classpath \"io.realm:realm-gradle-plugin:5.4.0\"\n</code></pre>\n\n<p>In my App <code>build.gradle</code> file I applied the Realm plugin as explained in the tutorial:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\napply plugin: 'realm-android'\n</code></pre>\n\n<p>When I am trying to build the project, I get the following error:</p>\n\n<pre><code>org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':app'\nCaused by: org.gradle.api.InvalidUserDataException: Cannot change dependencies of configuration ':app:api' after it has been included in dependency resolution.\n</code></pre>\n\n<p>When I change the order of <code>apply plugin</code> so that realm is directly after <code>com.android.application</code> the project builds.\nThe problem then is, that Realm tells me on my first insert of a RealmObject, that the object is not contained in the object scheme.</p>\n\n<p>RealmCustomer.kt</p>\n\n<pre><code>open class RealmCustomer(\n    @PrimaryKey\n    var id: String = \"\",\n    var firstname: String = \"\",\n    var lastname: String = \"\",\n    var addresses: RealmList&lt;RealmAddress&gt; = RealmList()\n) : RealmObject() {}\n</code></pre>\n\n<p>RealmAddress.kt</p>\n\n<pre><code>open class RealmAddress(\n    var street: String = \"\",\n    var streetNr: String = \"\",\n    var city: String = \"\",\n    var countryCode: String = \"\"\n) : RealmObject() {}\n</code></pre>\n\n<p>As far as I can see, there should not be a problem with it.\nIn my Applications onCreate I call the following code:</p>\n\n<pre><code>Realm.init(this)\nRealmConfiguration.Builder().name(\"my.realm\").build().apply { Realm.setDefaultConfiguration(this) }\n</code></pre>\n\n<p>At some point later, I retrieve my Realm like this:</p>\n\n<pre><code>private val realm: Realm by lazy { Realm.getDefaultInstance() }\n\nfun save(items: List&lt;...&gt;) {\n    realm.executeTransaction {\n        items.map {\n\n            val addressList = it.addresses?.map {\n                realm.createObject(RealmAddress::class.java).apply {\n                    street = it.street\n                    streetNr = it.streetNr\n                    city = it.city\n                    countryCode = it.countryCode\n                }\n            }\n\n            val cx = realm.createObject(RealmCustomer::class.java, it.id).apply {\n                firstname = it.firstname\n                lastname = it.lastname\n            }\n\n            addressList?.forEach { cx.addresses.add(it) }\n        }\n    }\n}\n</code></pre>\n\n<p>This code with <code>apply plugin: 'realm-android'</code> in the second place crashed with the Schema error: <code>RealmException: RealmAddress is not part of the schema for this Realm</code></p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["android", "kotlin", "android-relativelayout"], "comments": [{"owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1532443320, "post_id": 51501433, "comment_id": 89971198, "body": "Have run into this issue before, more often than not it&#39;s easier to make the layout in an xml file, then inflate it into a view."}, {"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "reply_to_user": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1532443424, "post_id": 51501433, "comment_id": 89971277, "body": "Yes maybe you are right, I could try that way, thank you"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1532444032, "post_id": 51501433, "comment_id": 89971737, "body": "If you mean you want to determine the height without adding it on-screen, then you&#39;ll need to force it to <code>measure()</code> and <code>layout()</code> manually first. Doesn&#39;t matter if you create it all in code, or inflate it from a layout."}, {"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1532444202, "post_id": 51501433, "comment_id": 89971855, "body": "@MikeM. and how should I do it? All I need is a RelativeLayout and inside that a TextView. I have tried what you said but it did not work. I copy my code maybe you can tell me something."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1532445460, "post_id": 51501433, "comment_id": 89972799, "body": "Well, you would do a <code>measure()</code> on the <code>RelativeLayout</code> itself after the <code>this.addView(tv)</code> call, but you&#39;ll have to have a known width to give it with <code>MeasureSpec.AT_MOST</code>"}, {"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532445824, "post_id": 51501433, "comment_id": 89973104, "body": "Okay I expected 522 as a return number and it was -2147483648 but it&#39;s have a value now so thank you! It could be a start for me."}, {"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1532446222, "post_id": 51501433, "comment_id": 89973385, "body": "You have to call <code>super.onMeasure(...)</code> in overridden version <code>onMeasure</code>. Otherwise the <code>ExpandableView</code> won&#39;t measure yourself."}, {"owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "edited": false, "score": 0, "creation_date": 1532446551, "post_id": 51501433, "comment_id": 89973631, "body": "Okay thank you very much! :)"}], "owner": {"reputation": 125, "user_id": 6547060, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0588a766171cdc0cff5020a4beeef431?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/6547060/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536174847, "creation_date": 1532443213, "last_edit_date": 1536174847, "question_id": 51501433, "link": "https://stackoverflow.com/questions/51501433/get-height-of-relativelayout", "title": "Get height of RelativeLayout", "body": "<p>I need to get the height of a <code>RelativeLayout</code> which has been created programmatically but without call <code>setContentView()</code>. </p>\n\n<p>What I have tried:</p>\n\n<ul>\n<li><code>onGlobalLayout</code></li>\n<li><code>View.post()</code></li>\n<li>creating a separated view class</li>\n</ul>\n\n<p>code:</p>\n\n<pre><code>val relativeLayout = RelativeLayout(activity)\nval rlp = RelativeLayout.LayoutParams(\n        RelativeLayout.LayoutParams.MATCH_PARENT,\n        RelativeLayout.LayoutParams.WRAP_CONTENT)\nrlp.marginStart = 12\nrlp.marginEnd = 12\n\nval tv = TextView(activity)\ntv.text = text\n\nval lp = RelativeLayout.LayoutParams(\n        RelativeLayout.LayoutParams.WRAP_CONTENT,\n        RelativeLayout.LayoutParams.WRAP_CONTENT)\nlp.addRule(RelativeLayout.CENTER_IN_PARENT)\nlp.marginEnd = 8\nlp.marginStart = 8\n\ntv.setLayoutParams(lp)\n\nrelativeLayout.addView(tv)\n</code></pre>\n\n<p>Now if I ask for <code>relativeLayout</code> height it's 0 of course if I use setContentView and ask again it works.</p>\n\n<p>Is there any way to do this?</p>\n\n<p>Edited Code:</p>\n\n<pre><code>class ExpandableView: RelativeLayout {\n\n    var expandAbleHeight = 0\n\n    constructor(context: Context) : super(context) {\n\n    }\n\n    init {\n\n        val rlp = RelativeLayout.LayoutParams(\n                RelativeLayout.LayoutParams.MATCH_PARENT,\n                RelativeLayout.LayoutParams.WRAP_CONTENT)\n        rlp.marginStart = 12\n        rlp.marginEnd = 12\n\n        val tv = TextView(context)\n        tv.text = \"sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.\\n\" +\n            \"            sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.\\n\" +\n            \"            sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.sample.\"\n\n        val lp = RelativeLayout.LayoutParams(\n                RelativeLayout.LayoutParams.WRAP_CONTENT,\n                RelativeLayout.LayoutParams.WRAP_CONTENT)\n        lp.addRule(RelativeLayout.CENTER_IN_PARENT)\n        lp.marginEnd = 8\n        lp.marginStart = 8\n\n        tv.layoutParams = lp\n\n        this.addView(tv)\n    }\n\n    override fun onLayout(changed: Boolean, l: Int, t: Int, r: Int, b: Int) {\n        val tv = TextView(context)\n        tv.measure(MeasureSpec.makeMeasureSpec(tv.measuredWidth, MeasureSpec.AT_MOST), MeasureSpec.makeMeasureSpec(tv.measuredHeight, MeasureSpec.AT_MOST))\n        tv.layout(8,8,8,8)\n    }\n\n    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        expandAbleHeight = heightMeasureSpec\n    }\n\n    fun getExpandHeight(): Int {\n        return expandAbleHeight\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-kotlin2"], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1532462639, "post_id": 51502518, "comment_id": 89982406, "body": "Thank you for this long answer. It totally helped on me"}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 1, "creation_date": 1532466061, "post_id": 51502518, "comment_id": 89983981, "body": "But I&#39;m very interested about RX, how to do it with it"}], "tags": [], "owner": {"reputation": 2507, "user_id": 2057291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kobsi.jpg?s=128&g=1", "display_name": "Tomasz Dzieniak", "link": "https://stackoverflow.com/users/2057291/tomasz-dzieniak"}, "is_accepted": true, "score": 2, "last_activity_date": 1534333493, "last_edit_date": 1534333493, "creation_date": 1532446278, "answer_id": 51502518, "question_id": 51499934, "link": "https://stackoverflow.com/questions/51499934/rxjava-make-a-call-for-every-single-list-item/51502518#51502518", "title": "RxJava make a call for every single list item", "body": "<p>You should consider throwing the hard stuff on database.</p>\n\n<p><b>Consider the following entities:</b></p>\n\n<p><code>CardEntity</code> that contains informations about particular card. It also ensures  that in single deck can exist one card at given name.</p>\n\n<pre><code>@Entity(\n  tableName = \"cards\",\n  indices = {\n    @Index(value = { \"name\", \"deck_id\" }, unique = true)\n  }\n)\npublic class CardEntity {\n\n  //region Column Definitions\n\n  @PrimaryKey\n  @ColumnInfo(name = \"id\")\n  private Long id;\n\n  @NonNull\n  @ColumnInfo(name = \"name\")\n  private String name = \"\";\n\n  @NonNull\n  @ColumnInfo(name = \"deck_id\")\n  private Long deckId = 0L;\n\n  //endregion\n\n  //region Getters and Setters\n\n  (...)\n\n  //endregion\n}\n</code></pre>\n\n<p><code>DeckEntity</code> that contains informations about particular deck.</p>\n\n<pre><code>@Entity(tableName = \"decks\")\npublic class DeckEntity {\n\n  //region Column Definitions\n\n  @PrimaryKey\n  @ColumnInfo(name = \"id\")\n  private Long id;\n\n  @NonNull\n  @ColumnInfo(name = \"name\")\n  private String name = \"\";\n\n  //endregion\n\n  //region Getters and Setters\n\n  (...)\n\n  //endregion\n}\n</code></pre>\n\n<p><code>DeckWithCardsView</code> is a projection that combines together both <code>DeckEntity</code>, collection of <code>CardEntity</code> and some metadata (in this case - a number of cards in this deck).</p>\n\n<pre><code>public class DeckWithCardsView {\n\n  //region Deck\n\n  @Embedded\n  private DeckEntity deck;\n\n  public DeckEntity getDeck() {\n    return deck;\n  }\n\n  public void setDeck(DeckEntity deck) {\n    this.deck = deck;\n  }\n\n  //endregion\n\n  //region Cards\n\n  @Relation(\n    entity = CardEntity.class,\n    entityColumn = \"deck_id\",\n    parentColumn = \"id\")\n  private List&lt;CardEntity&gt; cards = new ArrayList&lt;&gt;();\n\n  public List&lt;CardEntity&gt; getCards() {\n    return cards;\n  }\n\n  public void setCards(List&lt;CardEntity&gt; cards) {\n    this.cards = cards;\n  }\n\n  //endregion\n\n  //region Cards count\n\n  private Integer count = 0;\n\n  public Integer getCount() {\n    return count;\n  }\n\n  public void setCount(Integer count) {\n    this.count = count;\n  }\n\n  //endregion\n}\n</code></pre>\n\n<p>A complete <code>Dao</code> code can looks like:</p>\n\n<pre><code>@Dao\npublic abstract class DeckDao {\n\n  //region Deck\n\n  @Insert(onConflict = OnConflictStrategy.IGNORE)\n  public abstract void insertDeck(DeckEntity entity);\n\n  @Insert(onConflict = OnConflictStrategy.IGNORE)\n  public abstract void insertDecks(List&lt;DeckEntity&gt; entities);\n\n  //endregion\n\n  //region Card\n\n  @Insert(onConflict = OnConflictStrategy.IGNORE)\n  public abstract void insertCard(CardEntity entity);\n\n  @Insert(onConflict = OnConflictStrategy.IGNORE)\n  public abstract void insertCards(List&lt;CardEntity&gt; cards);\n\n  //endregion\n\n  //region Deck with Cards\n\n  @Transaction\n  @Query(\n    \"SELECT D.id as id, D.name as name, count(C.id) as count \"\n      + \"FROM decks D \"\n      + \"INNER JOIN cards C \"\n      + \"WHERE C.deck_id = D.id \"\n      + \"GROUP BY deck_id\")\n  public abstract Flowable&lt;List&lt;DeckWithCardsView&gt;&gt; getAll();\n\n  //endregion\n}\n</code></pre>\n\n<p>It implements the following features:</p>\n\n<ul>\n<li>adding single deck to the database,</li>\n<li>adding a collection of decks to the database,</li>\n<li>adding single card to the database,</li>\n<li>adding a collection of cards to the database,</li>\n<li>retrieving a list of above mentioned projection from database.</li>\n</ul>\n\n<p>The most important part is in the Sqlite query code. Lines by line:</p>\n\n<blockquote>\n  <p>SELECT D.id as id, D.name as name, count(C.id) as count</p>\n</blockquote>\n\n<p>It defines from which exact columns we expect the query will return values from database. Especially:</p>\n\n<ul>\n<li><code>D.id as id</code> - it will return <code>id</code> from column aliased as <code>D</code> (decks),</li>\n<li><code>D.name as name</code> - it will return <code>name</code> from column aliased as <code>D</code> (decks),</li>\n<li><code>count(C.id) as count</code> - it will return a number of ids retrieved from column aliased as <code>C</code> (cards).</li>\n</ul>\n\n<blockquote>\n  <p>FROM decks D INNER JOIN cards C WHERE C.deck_id = D.id</p>\n</blockquote>\n\n<p>It defines we would like to retrieve values from tables <code>decks</code> aliased as <code>D</code> and <code>cards</code> aliased as <code>C</code> and defines the relation on <code>CardEntity</code>'s <code>deck_id</code> to <code>DeckEntity</code>'s <code>id</code> columns.</p>\n\n<blockquote>\n  <p>GROUP BY deck_id</p>\n</blockquote>\n\n<p>Thanks to grouping we can easily do <code>count(C.id)</code> to retrieve a number of cards returned for every single deck.</p>\n\n<p>Since we also used a <code>@Embedded</code> annotation in <code>DeckWithCardsView</code> - corresponding (aliased) columns will be matched to correct fields in embedded <code>DeckEntity</code> deck field.</p>\n\n<p><b>Database Manager</b></p>\n\n<p>Having prepared such entities, projection and dao - the database manager can be implemented as simple as:</p>\n\n<pre><code>public Completable saveAllDecks(@Nullable List&lt;DeckEntity&gt; decks) {\n  return Completable.fromAction(\n    () -&gt; database\n      .deckDao()\n      .insertDecks(decks)\n  ).subscribeOn(Schedulers.io());\n}\n\npublic Completable saveAllCards(@Nullable List&lt;CardEntity&gt; cards) {\n  return Completable.fromAction(\n    () -&gt; database\n      .deckDao()\n      .insertCards(cards)\n  ).subscribeOn(Schedulers.io());\n}\n\npublic Flowable&lt;List&lt;DeckWithCardsView&gt;&gt; getDecksWithCards() {\n  return database\n    .deckDao()\n    .getAll()\n    .subscribeOn(Schedulers.io());\n}\n</code></pre>\n\n<p><b>Example data:</b></p>\n\n<p>I've also prepared a sample code that creates five complete decks (all suits and ranks in every deck).</p>\n\n<pre><code>private static final Long[] DECK_IDS = {\n  1L, 2L, 3L, 4L, 5L\n};\n\nprivate static final String[] DECK_NAMES = {\n  \"Deck 1\", \"Deck 2\", \"Deck 3\", \"Deck 4\", \"Deck 5\"\n};\n\nCompletable prepareDecks() {\n  final Observable&lt;Long&gt; ids = Observable.fromArray(DECK_IDS);\n  final Observable&lt;String&gt; names = Observable.fromArray(DECK_NAMES);\n\n  final List&lt;DeckEntity&gt; decks = ids.flatMap(id -&gt; names.map(name -&gt; {\n    final DeckEntity entity = new DeckEntity();\n    entity.setId(id);\n    entity.setName(name);\n    return entity;\n  })).toList().blockingGet();\n\n  return cinemaManager.saveDecks(decks);\n}\n</code></pre>\n\n<p>It creates a list of ids and deck names and creates a product of such tables. Flat mapping such product results in a complete list of five deck entities.</p>\n\n<pre><code>private static final String[] CARD_SUITS = {\n  \"diamonds\", \"hearts\", \"spades\", \"clubs\"\n};\n\nprivate static final String[] CARD_RANKS = {\n  \"Two of \",\n  \"Three of \",\n  \"Four of \",\n  \"Five of \",\n  \"Six of \",\n  \"Seven of\",\n  \"Eight of \",\n  \"Nine of \",\n  \"Ten of \",\n  \"Jack of \",\n  \"Queen of \",\n  \"King of \",\n  \"Ace of \"\n};\n\nCompletable prepareCards() {\n  final Observable&lt;Long&gt; decks = Observable.fromArray(DECK_IDS);\n  final Observable&lt;String&gt; suits = Observable.fromArray(CARD_SUITS);\n  final Observable&lt;String&gt; ranks = Observable.fromArray(CARD_RANKS);\n\n  final List&lt;CardEntity&gt; cards = decks.flatMap(deck -&gt; suits.flatMap(suit -&gt; ranks.map(rank -&gt; {\n    final CardEntity entity = new CardEntity();\n    entity.setName(String.format(\"%s %s\", rank, suit));\n    entity.setDeckId(deck);\n    return entity;\n  }))).toList().blockingGet();\n\n  return cinemaManager.saveCards(cards);\n}\n</code></pre>\n\n<p>Using similar approach I've created a complete collection of cards for previously prepared decks.</p>\n\n<p><b>Final touches:</b></p>\n\n<p>Hard job has been done. The easy part left:</p>\n\n<pre><code>private Completable prepareData() {\n  return prepareDecks().andThen(prepareCards());\n}\n\nvoid observeDecksWithCards() {\n  disposables.add(\n    prepareData()\n      .andThen(deckManager.getDecksWithCards())\n      .observeOn(AndroidSchedulers.mainThread())\n      .subscribe(\n        this::handleObserveDecksWithCardsSuccess,\n        this::handleObserveDecksWithCardsError));\n}\n\nprivate void handleObserveDecksWithCardsSuccess(@NonNull List&lt;DeckWithCardsView&gt; decks) {\n  Timber.v(\"Received number of decks: %d\", decks.size());\n}\n\nprivate void handleObserveDecksWithCardsError(@NonNull Throwable throwable) {\n  Timber.e(throwable.getLocalizedMessage());\n}\n</code></pre>\n\n<p><b>Result:</b></p>\n\n<p>As a result we have two tables. For decks and cards. Subscribing to <code>getDecksWithCards</code> gives access to a collection of decks. With complete collection of cards and number of cards (calculated by database).</p>\n\n<p><a href=\"https://i.stack.imgur.com/XGYPO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGYPO.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Remember - since the relation to table with cards has been made, you do not need to use the <code>count</code> sqlite method. You can just use <code>getCards().getSize()</code> in <code>DeckWithCardsView</code> projection. This will simplify the code significantly.</p>\n</blockquote>\n"}], "owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 51502518, "answer_count": 1, "score": 1, "last_activity_date": 1534333493, "creation_date": 1532439030, "last_edit_date": 1532462590, "question_id": 51499934, "link": "https://stackoverflow.com/questions/51499934/rxjava-make-a-call-for-every-single-list-item", "title": "RxJava make a call for every single list item", "body": "<p>I have a problem with RxJava. \nI have a <code>getAll()</code> method, it's returning with a list. It's serves data from Room database.</p>\n\n<pre><code>@Query(\"SELECT * from decks ORDER BY id ASC\")\nfun getAll(): Flowable&lt;List&lt;DeckEntity&gt;&gt;\n</code></pre>\n\n<p><code>DeckEntity</code> have an <code>id</code> and a <code>name</code> field.</p>\n\n<p>I created an another class called it <code>PrepareItem</code>, because I want to box it with more parameter. (It will be an <code>Adapter</code> model) Check it:</p>\n\n<pre><code>data class PrepareItem (\n    var deckEntity: DeckEntity,\n    var countsOfCards: Int\n)\n</code></pre>\n\n<p>So, I want to call the <code>getAll()</code> and I want to map it to PrepareItem. It's working yet.</p>\n\n<pre><code>deckRepository.getAll()\n                .map {\n                    it.map {\n                        PrepareItem(it,0)\n                    }\n                }\n</code></pre>\n\n<p>But, there is the <code>countsOfCards is equal 0</code>. I want to make an another repository call, to get the value, and set it. Important! Every value need a single call to repository. So if I have 5 item, than I need to wait until 5 another call finished.</p>\n\n<p>I tried, but I get confused.\n(CODE UPDATED)</p>\n\n<pre><code>fun mapper(item: DeckEntity) : Single&lt;PrepareItem&gt; {\n    return cardRepository.getDueDatedCardsFromDeck(deckId = item.id!! /*TODO !!*/)\n            .map {\n                PrepareItem(item, it.size)\n            }\n}\n\nval call = deckRepository.getAll()\n                .flatMapIterable { item-&gt;item }\n                .flatMapSingle {\n                    mapper(it)\n                }.toList()\n                .toObservable()\n                ...\n</code></pre>\n\n<p>The <code>onError</code> or <code>onComplete</code> never called. Why?</p>\n\n<p>Anyone have good idea to How to do it? I want it keep out from repository.\nThank you!</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p><strong>Solution:</strong></p>\n\n<p>Create a new class</p>\n\n<pre><code>class DeckWithCards {\n\n    @Embedded\n    lateinit var deckEntity: DeckEntity\n\n    @Relation(\n            entity = CardEntity::class,\n            entityColumn = \"deckId\",\n            parentColumn = \"id\")\n    lateinit var cards: List&lt;CardEntity&gt;\n\n}\n</code></pre>\n\n<p>Add new fun to <code>DeckDao</code></p>\n\n<pre><code>@Query(\"SELECT * from decks ORDER BY id ASC\")\nfun getAllWithCards(): Flowable&lt;List&lt;DeckWithCards&gt;&gt;\n</code></pre>\n\n<p>Thats all its works! Thank you for the answer. It helped me a lot !</p>\n"}, {"tags": ["android", "kotlin", "background", "android-lifecycle", "foreground"], "comments": [{"owner": {"reputation": 1852, "user_id": 2395334, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/9Vdot.jpg?s=128&g=1", "display_name": "DennisVA", "link": "https://stackoverflow.com/users/2395334/dennisva"}, "edited": false, "score": 0, "creation_date": 1532446581, "post_id": 51499894, "comment_id": 89973651, "body": "Who are the lifecycle observers? your activities? you might be leaking your splash activity"}, {"owner": {"reputation": 1852, "user_id": 2395334, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/9Vdot.jpg?s=128&g=1", "display_name": "DennisVA", "link": "https://stackoverflow.com/users/2395334/dennisva"}, "edited": false, "score": 0, "creation_date": 1532446753, "post_id": 51499894, "comment_id": 89973784, "body": "did you do something like this when finishing your splash: myLifecycleOwner.getLifecycle().removeObserver(this);"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 1852, "user_id": 2395334, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/9Vdot.jpg?s=128&g=1", "display_name": "DennisVA", "link": "https://stackoverflow.com/users/2395334/dennisva"}, "edited": false, "score": 0, "creation_date": 1532448954, "post_id": 51499894, "comment_id": 89975194, "body": "No I didn&#39;t do something like this , but I found a way. On my Splashscreen onDestroy() method I set up a boolean to false and then I use it wherever I want in order to skip steps where my SplashScreen activity were used &quot;destroyed&quot;"}, {"owner": {"reputation": 1852, "user_id": 2395334, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/9Vdot.jpg?s=128&g=1", "display_name": "DennisVA", "link": "https://stackoverflow.com/users/2395334/dennisva"}, "edited": false, "score": 0, "creation_date": 1532449434, "post_id": 51499894, "comment_id": 89975477, "body": "that&#39;s is not good solution you have to find the root of the problem. You might be leaking the splashscreen and that can cause problems later on"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 1852, "user_id": 2395334, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/9Vdot.jpg?s=128&g=1", "display_name": "DennisVA", "link": "https://stackoverflow.com/users/2395334/dennisva"}, "edited": false, "score": 0, "creation_date": 1532449662, "post_id": 51499894, "comment_id": 89975610, "body": "My Splashscreen do some call to webservice and get some data from Firebase . When I got everything via callback , when the process is finished I simply call start MainActivity"}], "answers": [{"comments": [{"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "edited": false, "score": 0, "creation_date": 1532439914, "post_id": 51500022, "comment_id": 89968673, "body": "It doesn&#39;t work unfortunately , In my &quot;appWillEnterBackground()&quot; method, I check the actual context and it enters 2 times in it. The first time it&#39;s the MainActivity and the second is my SplashScreen Activity"}, {"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "reply_to_user": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "edited": false, "score": 0, "creation_date": 1532440092, "post_id": 51500022, "comment_id": 89968806, "body": "Try finishing SplashActivity before starting MainActivity. finish(); startactivity(..);"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "edited": false, "score": 0, "creation_date": 1532440323, "post_id": 51500022, "comment_id": 89969009, "body": "Same answer as below it doesn&#39;t work this way either"}], "tags": [], "owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "is_accepted": false, "score": 0, "last_activity_date": 1532439289, "creation_date": 1532439289, "answer_id": 51500022, "question_id": 51499894, "link": "https://stackoverflow.com/questions/51499894/previous-activity-still-present/51500022#51500022", "title": "Previous Activity still present", "body": "<p>You can try <code>finishAffinity()</code> method.</p>\n\n<blockquote>\n  <p>finishAffinity(): Finish this activity as well as all activities immediately below it in\n  the current task that have the same affinity.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 6762478, "user_type": "registered", "profile_image": "https://graph.facebook.com/915216748622589/picture?type=large", "display_name": "Suleman", "link": "https://stackoverflow.com/users/6762478/suleman"}, "is_accepted": false, "score": 0, "last_activity_date": 1532439725, "creation_date": 1532439725, "answer_id": 51500172, "question_id": 51499894, "link": "https://stackoverflow.com/questions/51499894/previous-activity-still-present/51500172#51500172", "title": "Previous Activity still present", "body": "<p>First call finish method and then start new activity.</p>\n\n<pre><code>finish()\nstartActivity(Intent(applicationContext, MainActivity::class.java));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 10116426, "user_type": "registered", "profile_image": "https://graph.facebook.com/1415496015224589/picture?type=large", "display_name": "Ahmet Zorer", "link": "https://stackoverflow.com/users/10116426/ahmet-zorer"}, "is_accepted": false, "score": 0, "last_activity_date": 1532440997, "last_edit_date": 1532440997, "creation_date": 1532440424, "answer_id": 51500440, "question_id": 51499894, "link": "https://stackoverflow.com/questions/51499894/previous-activity-still-present/51500440#51500440", "title": "Previous Activity still present", "body": "<p>You can use <code>singletop</code> launch type for MainActivity. </p>\n\n<pre><code>    &lt;activity android:name=\".SingleTaskActivity\"\n              android:launchMode=\"singleTask\"&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 909, "user_id": 1079001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nAQhj.jpg?s=128&g=1", "display_name": "Samet", "link": "https://stackoverflow.com/users/1079001/samet"}, "edited": false, "score": 0, "creation_date": 1532442977, "post_id": 51501323, "comment_id": 89970936, "body": "And don&#39;t forget to unregister the broadcast receiver in the killed activity&#39;s onDestroy() method, otherwise you could leak memory."}, {"owner": {"reputation": 909, "user_id": 1079001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nAQhj.jpg?s=128&g=1", "display_name": "Samet", "link": "https://stackoverflow.com/users/1079001/samet"}, "edited": false, "score": 0, "creation_date": 1532443088, "post_id": 51501323, "comment_id": 89971023, "body": "if you want you killed activity to not apear in recently open apps, add this line in your manifest android:excludeFromRecents=&quot;true&quot;"}], "tags": [], "owner": {"reputation": 909, "user_id": 1079001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nAQhj.jpg?s=128&g=1", "display_name": "Samet", "link": "https://stackoverflow.com/users/1079001/samet"}, "is_accepted": false, "score": 0, "last_activity_date": 1532442916, "creation_date": 1532442916, "answer_id": 51501323, "question_id": 51499894, "link": "https://stackoverflow.com/questions/51499894/previous-activity-still-present/51501323#51501323", "title": "Previous Activity still present", "body": "<p>Create a broadcast receiver in the activity you want to kill. register it with an intent action like \"ACTION_KILL_THIS_ACTIVITY\". in onReceive method of this broadcast receiver add finish(); line. When your new activity starts, you are ready to kill the other one so from the new activity's onCreate() method, call </p>\n\n<pre><code>sendBroadcast(new Intent(\"ACTION_KILL_THIS_ACTIVITY\"));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 7731288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed423ad3ad54af1667167edb030f3dae?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar Shashwat", "link": "https://stackoverflow.com/users/7731288/kumar-shashwat"}, "is_accepted": false, "score": 0, "last_activity_date": 1532456807, "creation_date": 1532456807, "answer_id": 51505320, "question_id": 51499894, "link": "https://stackoverflow.com/questions/51499894/previous-activity-still-present/51505320#51505320", "title": "Previous Activity still present", "body": "<p>Instead of passing the <code>applicationContext</code> pass the <code>SplashScreenActivity.this</code> as the argument, so your code will look like this:</p>\n\n<p><code>startActivity(Intent(SplashScreenActivity.this, MainActivity.class));\nfinish();</code></p>\n"}], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 1, "answer_count": 5, "score": 0, "last_activity_date": 1532456807, "creation_date": 1532438940, "last_edit_date": 1532445987, "question_id": 51499894, "link": "https://stackoverflow.com/questions/51499894/previous-activity-still-present", "title": "Previous Activity still present", "body": "<p>Is there a way to totally remove the previous activity? </p>\n\n<p><strong>Explanation:</strong> </p>\n\n<p>I have a <code>SplashScreen</code> Activity where I am loading data, etc. and then when it finishes I am navigating to <code>MainActivity</code> like this:</p>\n\n<pre><code>startActivity(Intent(applicationContext, MainActivity::class.java))\nfinish()\n</code></pre>\n\n<p>My <code>MainActivity</code> come in foreground, no problem here, but when I am <code>listening to Lifecycle Event</code> with <code>ProcessLifeCycleOwner library</code>, in this particular case: </p>\n\n<pre><code>@OnLifecycleEvent(Lifecycle.Event.ON_STOP)\nfun appWillEnterBackground() {\n    Log.e(\"INACTIVE\", \"BECOME INACTIVE\")\n}\n</code></pre>\n\n<p>Both of my Activities are going on this method while I am on my <code>MainActivity</code>. My <code>SplashScreen</code> Activity should not be able to enter this method because I <code>finish()</code> it.</p>\n\n<p>I tried to return after <code>finish()</code> , I tried <code>\"noHistory=true\"</code> in <code>Manifest.xml</code> but neither of those worked.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["android", "json", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": true, "score": 0, "last_activity_date": 1532526609, "last_edit_date": 1532526609, "creation_date": 1532523271, "answer_id": 51519442, "question_id": 51499592, "link": "https://stackoverflow.com/questions/51499592/how-to-create-a-right-json-class-in-kotlin-for-fuel/51519442#51519442", "title": "How to create a right JSON class in Kotlin (for Fuel)", "body": "<p>After searching through Fuel issues I understood that in most cases we don't need to write own deserializators as they are already written by <code>Gson</code>.</p>\n\n<p>In <a href=\"https://github.com/kittinunf/Fuel/issues/265\" rel=\"nofollow noreferrer\">https://github.com/kittinunf/Fuel/issues/265</a> there is an example. So, just put your data class inside <code>&lt;&gt;</code>:</p>\n\n<pre><code>URL.httpPost(listOf(\"name\" to name, \"phone\" to phone)).responseObject&lt;RegistrationResponse&gt; ...\n</code></pre>\n\n<p>and get data through</p>\n\n<pre><code>result.component1()?.errors?.phone?.firstOrNull()\n</code></pre>\n\n<p><strong>Old version of answer</strong></p>\n\n<p>Probably an obstacle is a list <strong>deserialization</strong>, see<br>\n1. <a href=\"https://github.com/kittinunf/Fuel/issues/233\" rel=\"nofollow noreferrer\">https://github.com/kittinunf/Fuel/issues/233</a> and<br>\n2. <a href=\"https://github.com/kittinunf/Fuel/pull/236\" rel=\"nofollow noreferrer\">https://github.com/kittinunf/Fuel/pull/236</a>.  </p>\n\n<p>I think, by default Fuel doesn't use Gson deserialization.</p>\n\n<p>I still don't know how to <strong>deserialize</strong> a list, But got values with this <strong>expression</strong>:</p>\n\n<pre><code>((result.component1().obj()[\"errors\"] as JSONObject).get(\"phone\") as JSONArray)[0]\n</code></pre>\n"}], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1429, "favorite_count": 0, "accepted_answer_id": 51519442, "answer_count": 1, "score": 0, "last_activity_date": 1532526609, "creation_date": 1532438104, "question_id": 51499592, "link": "https://stackoverflow.com/questions/51499592/how-to-create-a-right-json-class-in-kotlin-for-fuel", "title": "How to create a right JSON class in Kotlin (for Fuel)", "body": "<p>I have a request that returns JSON:</p>\n\n<pre><code>{\n  \"success\": 0,\n  \"errors\": {\n    \"phone\": [\n      \"Incorrect phone number\"\n    ]\n  }\n}\n</code></pre>\n\n<p>I plugged Fuel instead of Retrofit for Kotlin. So, my classes are:</p>\n\n<pre><code>data class RegistrationResponse(\n    val success: Int,\n    val errors: RegistrationErrorsResponse?) {\n\n    class Deserializer : ResponseDeserializable&lt;RegistrationResponse&gt; {\n        override fun deserialize(content: String): RegistrationResponse? =\n            Gson().fromJson(content, RegistrationResponse::class.java)\n    }\n}\n\ndata class RegistrationErrorsResponse(val phone: List&lt;String&gt;?) {\n\n    class Deserializer : ResponseDeserializable&lt;RegistrationErrorsResponse&gt; {\n        override fun deserialize(content: String): RegistrationErrorsResponse? =\n            Gson().fromJson(content, RegistrationErrorsResponse::class.java)\n    }\n}\n</code></pre>\n\n<p>A request looks like:</p>\n\n<pre><code>class Api {\n\n    init {\n        FuelManager.instance.basePath = SERVER_URL\n    }\n\n    fun registration(name: String, phone: String): Request =\n        \"/registration/\"\n            .httpPost(listOf(\"name\" to name, \"phone\" to phone))\n}\n\nprivate fun register(name: String, phone: String) {\n    Api().registration(name, phone)\n        .responseObject(RegistrationResponse.Deserializer()) { _, response, result -&gt;\n            val registrationResponse = result.component1()\n            if (registrationResponse?.success == 1) {\n                showScreen()\n            } else {\n                showErrorDialog(registrationResponse?.errors?.phone?.firstOrNull())\n            }\n        }\n}\n</code></pre>\n\n<p>A problem is that when error occurs, <code>phone</code> variable in data class (registrationResponse?.errors?.phone) is filled with <code>null</code>, but not \"Incorrect phone number\".</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "edited": false, "score": 0, "creation_date": 1532437174, "post_id": 51499141, "comment_id": 89966469, "body": "Nope. See <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1532437564, "post_id": 51499141, "comment_id": 89966819, "body": "@Belzebub  <i>The IDE suggests to change it to...</i> can you provide an example for me to reproduce it?"}, {"owner": {"reputation": 774, "user_id": 6183771, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/62pBu.png?s=128&g=1", "display_name": "Belzebub", "link": "https://stackoverflow.com/users/6183771/belzebub"}, "edited": false, "score": 0, "creation_date": 1532437707, "post_id": 51499141, "comment_id": 89966980, "body": "I use android studio, just create a java class with a private field and a getter and setter, then call the setter from a kotlin file"}, {"owner": {"reputation": 774, "user_id": 6183771, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/62pBu.png?s=128&g=1", "display_name": "Belzebub", "link": "https://stackoverflow.com/users/6183771/belzebub"}, "edited": false, "score": 0, "creation_date": 1532437772, "post_id": 51499141, "comment_id": 89967043, "body": "I guess it&#39;s better to use setters in case it&#39;s a 3rd party library since it would be confusing if they change an access modifier at some point"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 3, "creation_date": 1532438563, "post_id": 51499141, "comment_id": 89967625, "body": "It&#39;s extremely unlikely that a Java library will change a field from private to public when there&#39;s also a setter for this field. Moreover, the behavior of the Kotlin code will only change if you recompile it."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1532461919, "post_id": 51499141, "comment_id": 89982055, "body": "And even more unlikely if &quot;the setter has some complicated functionality inside of it&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 774, "user_id": 6183771, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/62pBu.png?s=128&g=1", "display_name": "Belzebub", "link": "https://stackoverflow.com/users/6183771/belzebub"}, "edited": false, "score": 0, "creation_date": 1532547182, "post_id": 51515157, "comment_id": 90021411, "body": "That&#39;s a great analysis of the general issue here, thank you for the answer"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1532548324, "last_edit_date": 1532548324, "creation_date": 1532510013, "answer_id": 51515157, "question_id": 51499141, "link": "https://stackoverflow.com/questions/51499141/is-it-safe-to-use-kotlin-property-access-syntax-to-set-a-java-field/51515157#51515157", "title": "Is it safe to use Kotlin property access syntax to set a Java field", "body": "<p>Your analysis of the language semantics is correct. The change on the target class you describe would indeed change the semantics of Kotlin's property access syntax. However, that fact is not the only one to consider when answering your question, which asks whether using that syntax is <em>safe</em>.</p>\n\n<p>When discussing hypothetical scenarios without any real-life constraints, pretty much anything is possible and no language construct is \"safe\" under that view. What if, one day, the Kotlin team decided to change the semantics of <code>x++</code> to mean \"return <code>x</code> squared, not changing <code>x</code>\"? Theoretically, that's possible. Is it likely, though?</p>\n\n<p>Applying the same common-sense logic to your question, the scenario where the maintainer of a class decides to break the encapsulation of a field that has so far been hidden behind a setter with custom logic is extremely unlikely. In fact, if you make a historical analysis of all the Java library projects, you probably won't find a single instance of this having ever happened.</p>\n\n<hr>\n\n<p>That said, your hypothetical scenario could be seen as a distraction from an actual problem with the shortcut syntax. It can be awkward and misleading to use it to call a setter with custom logic because it breaks our intuition.</p>\n\n<p>On Android, one such example is <code>ImageView.get/setImageMatrix</code>. You can write</p>\n\n<pre><code>imageMatrix.rotate = 30\n</code></pre>\n\n<p>and expect that to have an effect, but actually, the code you wrote is broken. You should actually have written</p>\n\n<pre><code>val tmpMatrix = Matrix()\ntmpMatrix.set(imageMatrix)\ntmpMatrix.rotate = 30\nimageMatrix = tmpMatrix\n</code></pre>\n\n<p>By our Java intuition, it is actually this version that looks broken, wasting an object allocation for seemingly no purpose. But if you read the contract of <code>setImageMatrix</code>, you'll realize it does quite a bit more than just assign your object to a field, it actually applies the transformation to the image view. Similarly, the contract of the getter disallows mutating the returned object.</p>\n\n<hr>\n\n<p>I haven't seen much argument over this feature of Kotlin, but I see it as a potential source of bugs for folks migrating from Java. The way to go is to re-train your intuition, sensitizing yourself to the fact that any property access in Kotlin may mean a lot more than meets the eye.</p>\n"}], "owner": {"reputation": 774, "user_id": 6183771, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/62pBu.png?s=128&g=1", "display_name": "Belzebub", "link": "https://stackoverflow.com/users/6183771/belzebub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1101, "favorite_count": 0, "accepted_answer_id": 51515157, "answer_count": 1, "score": 5, "last_activity_date": 1532548324, "creation_date": 1532436774, "last_edit_date": 1532439491, "question_id": 51499141, "link": "https://stackoverflow.com/questions/51499141/is-it-safe-to-use-kotlin-property-access-syntax-to-set-a-java-field", "title": "Is it safe to use Kotlin property access syntax to set a Java field", "body": "<p>This is a hypothetical question.\nThe situation is the following:\nI am calling a setter of a Java class from a Kotlin file to change the value of the private field <code>x</code></p>\n\n<pre><code>javaFoo.setX(420)\n</code></pre>\n\n<p>The IDE suggests to change it to </p>\n\n<pre><code>javaFoo.x = 420\n</code></pre>\n\n<p>It works normally. </p>\n\n<p>Now suppose the setter has some complicated functionality inside of it and later on the <code>x</code> field in the Java class is changed to <code>public</code> instead of <code>private</code>. There will be no compile error but the Kotlin call will change the value of  <code>x</code> skipping the other stuff that happens in the setter, and it can go unnoticed causing logical errors. Therefore I am wondering: <em>Is it safe to use Kotlin property access syntax to set a java field?</em></p>\n"}, {"tags": ["swift", "intellij-idea", "kotlin", "visual-studio-code", "flutter"], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 7784017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13973c6d641075e245e260220d9ff2d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan", "link": "https://stackoverflow.com/users/7784017/shayan"}, "edited": false, "score": 0, "creation_date": 1592886917, "post_id": 51514925, "comment_id": 110577510, "body": "Where is the &quot;VS Code settings.&quot;? I can&#39;t find it."}], "tags": [], "owner": {"reputation": 186, "user_id": 5092357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049e4f53b69954c53c9e4c4beccae98c?s=128&d=identicon&r=PG&f=1", "display_name": "skybur", "link": "https://stackoverflow.com/users/5092357/skybur"}, "is_accepted": false, "score": 5, "last_activity_date": 1532509345, "creation_date": 1532509345, "answer_id": 51514925, "question_id": 51498356, "link": "https://stackoverflow.com/questions/51498356/change-native-programming-language-for-respective-platform-in-vs-code-for-flutte/51514925#51514925", "title": "Change native programming language for respective platform in VS code for Flutter", "body": "<p>Assuming you have installed <a href=\"https://dartcode.org/\" rel=\"noreferrer\">Dart Code</a>, the plugin doesn't prompt Android &amp; iOS project language when creating new project. </p>\n\n<p>Instead you can set the default in the settings.\nSearch for <code>dart.flutterCreateAndroidLanguage</code> and <code>dart.flutterCreateIOSLanguage</code> in VS Code settings.</p>\n"}, {"tags": [], "owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "is_accepted": true, "score": 6, "last_activity_date": 1534586278, "creation_date": 1534586278, "answer_id": 51907387, "question_id": 51498356, "link": "https://stackoverflow.com/questions/51498356/change-native-programming-language-for-respective-platform-in-vs-code-for-flutte/51907387#51907387", "title": "Change native programming language for respective platform in VS code for Flutter", "body": "<p>By default flutter template supports writing Android code using Java, iOS code using Objective-C. To use Kotlin or Swift, use the <code>-i</code> and/or <code>-a</code> flags like so <code>flutter create -i swift -a kotlin helloWorld</code></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7139773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0rnEb6a_S_s/AAAAAAAAAAI/AAAAAAAAAvM/27684zmGJr8/photo.jpg?sz=128", "display_name": "Mukunda KN", "link": "https://stackoverflow.com/users/7139773/mukunda-kn"}, "is_accepted": false, "score": 3, "last_activity_date": 1579934948, "last_edit_date": 1592644375, "creation_date": 1557986054, "answer_id": 56161642, "question_id": 51498356, "link": "https://stackoverflow.com/questions/51498356/change-native-programming-language-for-respective-platform-in-vs-code-for-flutte/56161642#56161642", "title": "Change native programming language for respective platform in VS code for Flutter", "body": "<p>Default flutter create a language for android is java and for iOS is objective-c. To change, follow these steps:</p>\n<ol>\n<li>Open vscode settings. Under <em>User Settings</em> or use <em><strong>[cmd+comma(,)]</strong></em> then click on <strong>Extensions</strong>.</li>\n<li>Open <strong>Dart &amp; Flutter</strong></li>\n<li><em>Scroll down</em> till you see <strong>Flutter Create Android Language</strong> to change it to kotlin and <strong>Flutter Create IOSLanguage</strong> to change it to swift</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/eCSqH.png\" rel=\"nofollow noreferrer\">vscode user settings</a>\n<a href=\"https://i.stack.imgur.com/gjcAK.png\" rel=\"nofollow noreferrer\">flutter create language change</a></p>\n"}], "owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2697, "favorite_count": 1, "accepted_answer_id": 51907387, "answer_count": 3, "score": 1, "last_activity_date": 1579934948, "creation_date": 1532434386, "last_edit_date": 1555090835, "question_id": 51498356, "link": "https://stackoverflow.com/questions/51498356/change-native-programming-language-for-respective-platform-in-vs-code-for-flutte", "title": "Change native programming language for respective platform in VS code for Flutter", "body": "<p>How do I change the Native language to <code>Swift</code> &amp; <code>Kotlin</code> from <code>Objective-C</code> &amp; <code>Java</code> in <code>VS Code</code> while developing apps using <code>Flutter Framework</code>?</p>\n\n<p>Previously I was using <code>IntelliJ IDEA</code> and while creating project I used to get options to select native language for both the iOS(Swift or Objective-C) &amp; Android(Java or Kotlin) platform.</p>\n\n<p>VS Code doesn't show such options.</p>\n"}, {"tags": ["android", "kotlin", "ktor"], "comments": [{"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1532759536, "post_id": 51497715, "comment_id": 90103578, "body": "I do not have experience with Android Studio but the only time this happens for me in IntelliJ is when my run config is missing the build step. Verify if build is executed before running."}], "answers": [{"tags": [], "owner": {"reputation": 350, "user_id": 2458904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f23eb86ea85bca87c3f081025becba6?s=128&d=identicon&r=PG", "display_name": "Leonid", "link": "https://stackoverflow.com/users/2458904/leonid"}, "is_accepted": false, "score": 0, "last_activity_date": 1532929378, "creation_date": 1532929378, "answer_id": 51587618, "question_id": 51497715, "link": "https://stackoverflow.com/questions/51497715/ktor-api-wont-change-and-refresh/51587618#51587618", "title": "Ktor api won&#39;t change and refresh", "body": "<p>It happens with me when android <code>instant run</code> feature is enabled.\nPlease consider to disable it and try again.</p>\n"}], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532937689, "creation_date": 1532432557, "last_edit_date": 1532937689, "question_id": 51497715, "link": "https://stackoverflow.com/questions/51497715/ktor-api-wont-change-and-refresh", "title": "Ktor api won&#39;t change and refresh", "body": "<p>I'm using ktor for create rest api with kotlin but when i change api and run again response won't change. </p>\n\n<p>This is my code</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, port = 8080) {\n        routing {\n            get(\"/\") {\n                call.respondText(\"Hi\", ContentType.Text.Plain)\n            }\n        }\n    }.start(wait = true)\n}\n</code></pre>\n\n<p>When run it for the first time work correct and show in localhost:8080 </p>\n\n<blockquote>\n  <p>Hi</p>\n</blockquote>\n\n<p>But if i change </p>\n\n<p><code>call.respondText(\"Hi\", ContentType.Text.Plain)</code></p>\n\n<p>to </p>\n\n<p><code>call.respondText(\"Hello\", ContentType.Text.Plain)</code></p>\n\n<p>And run it again response no change and steel show <strong>Hi</strong> in localhost:8080 </p>\n\n<p><strong>Update</strong></p>\n\n<p>If i close android studio and open it again and run its work and show <strong>Hello</strong>  but again if i change anything nothing will be change</p>\n\n<p>i don't have any idea to why this is happening.</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-viewholder"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1532432464, "post_id": 51497501, "comment_id": 89963151, "body": "Implement <code>getItemViewType(position)</code> in your <code>ViewHolder.Adapter</code> class."}], "answers": [{"tags": [], "owner": {"reputation": 3490, "user_id": 1847960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qqPq.jpg?s=128&g=1", "display_name": "mlykotom", "link": "https://stackoverflow.com/users/1847960/mlykotom"}, "is_accepted": false, "score": 0, "last_activity_date": 1532432569, "creation_date": 1532432569, "answer_id": 51497718, "question_id": 51497501, "link": "https://stackoverflow.com/questions/51497501/databinding-with-an-adapter-that-has-more-than-one-viewholder/51497718#51497718", "title": "Databinding with an adapter that has more than one ViewHolder", "body": "<p>Since databinding creates binding class for every layout, there's no inheritance.\nIn this case you could use general setting of variable via <code>binding.setVariable(BR.something, data)</code>.</p>\n\n<p>So in your case it would be:</p>\n\n<pre><code>fun bind(myData: MyData) {\n    binding.setVariable(BR.datas, myData)\n    binding.executePendingBindings()\n}\n</code></pre>\n\n<p>And then in your layout don't forget to add the variable.</p>\n"}], "owner": {"reputation": 46, "user_id": 10079691, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xi3J6rsSlts/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rKdOpdR8y0yvcskudsr4ONoC4Trw/mo/photo.jpg?sz=128", "display_name": "medusa", "link": "https://stackoverflow.com/users/10079691/medusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532432569, "creation_date": 1532431887, "question_id": 51497501, "link": "https://stackoverflow.com/questions/51497501/databinding-with-an-adapter-that-has-more-than-one-viewholder", "title": "Databinding with an adapter that has more than one ViewHolder", "body": "<p>I have an adapter with more than one Layout those it has more than one view holder, the view holders all have a bind function that contains the same code I want to create a BaseViewHolder class that contains that function and it's code and implement it on the other view holders. However, since inside of the function the binding object of the layouts is used i can't seem to find a way to define that binding object as a general object and than initialize it according to the corresponding view holder!</p>\n\n<p>These are my view holder classes:</p>\n\n<pre><code>class FirstViewHolder(private val binding: FirstViewBinding) : RecyclerView.ViewHolder(binding.root) {\n    fun bind(myData: MyData) {\n        binding.datas= myData\n        binding.executePendingBindings()\n    }\n}\nclass SecondViewHolder(private val binding: SecondViewBinding) : RecyclerView.ViewHolder(binding.root) {\n    fun bind(myData: MyData) {\n        binding.datas= myData\n        binding.executePendingBindings()\n    }\n</code></pre>\n\n<p>In short I want to somehow create a base class that has the bind function so that I won't have redundancy in my code!</p>\n"}, {"tags": ["java", "android", "firebase", "kotlin", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 6135994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-SjTwnq0Oymg/AAAAAAAAAAI/AAAAAAAAABA/NDhWurHslmA/photo.jpg?sz=128", "display_name": "Vihaari Varma", "link": "https://stackoverflow.com/users/6135994/vihaari-varma"}, "is_accepted": false, "score": 1, "last_activity_date": 1532431976, "creation_date": 1532431976, "answer_id": 51497530, "question_id": 51496839, "link": "https://stackoverflow.com/questions/51496839/cannot-sigin-in-using-firebase-auth-from-release-apk-no-google-play/51497530#51497530", "title": "Cannot sigin in using Firebase Auth from release apk (no Google Play)", "body": "<p>You don't need to add SHA-1 fingerprint of your release key to Google Play Console. But, to enable Firebase Authentication, you need to add it in Firebase Console. Follow the steps given <a href=\"https://firebase.google.com/docs/auth/android/phone-auth\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13454358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wnnkN.png?s=128&g=1", "display_name": "Gautham Vijayan", "link": "https://stackoverflow.com/users/13454358/gautham-vijayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1609570771, "creation_date": 1609570771, "answer_id": 65536733, "question_id": 51496839, "link": "https://stackoverflow.com/questions/51496839/cannot-sigin-in-using-firebase-auth-from-release-apk-no-google-play/65536733#65536733", "title": "Cannot sigin in using Firebase Auth from release apk (no Google Play)", "body": "<p>I am coming right now from solving this issue.</p>\n<p>Each playstores impose their own SHA1 and SHA256 key. So grab that and go to your firebase console and add it there.</p>\n<p>Voila it will work!!</p>\n"}], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609570771, "creation_date": 1532429739, "last_edit_date": 1536444781, "question_id": 51496839, "link": "https://stackoverflow.com/questions/51496839/cannot-sigin-in-using-firebase-auth-from-release-apk-no-google-play", "title": "Cannot sigin in using Firebase Auth from release apk (no Google Play)", "body": "<p>I am trying to login in Android app using Firebase Auth (phone).</p>\n\n<p>It <strong>works perfectly</strong> when in <strong>debug apk</strong>.</p>\n\n<p>But it <strong>does not work</strong> if the <strong>apk is signed</strong> (using the signature.jks file). and says : <code>\"Unknown error\"</code> in phone after input of phone number. </p>\n\n<p>I looked through different question in Stack Overflow too but they suggest to add <strong>SHA key to playstore console.</strong> But that does not make sense. What if I want to publish the apks in amazon market or other android app market? Firebase forbids that? </p>\n\n<p>Is there any solution to it? I must be missing a tiny point but I am lost to find it. </p>\n"}, {"tags": ["android", "kotlin", "mapbox", "mapbox-android", "mapbox-marker"], "answers": [{"tags": [], "owner": {"reputation": 509, "user_id": 9126211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Py5mrU5iIw/AAAAAAAAAAI/AAAAAAAAAAc/3z-dXlc3dr0/photo.jpg?sz=128", "display_name": "\u0141ukasz Paczos", "link": "https://stackoverflow.com/users/9126211/%c5%81ukasz-paczos"}, "is_accepted": true, "score": 1, "last_activity_date": 1537359130, "creation_date": 1537359130, "answer_id": 52405600, "question_id": 51496447, "link": "https://stackoverflow.com/questions/51496447/mapbox-symbollayer-hides-markers/52405600#52405600", "title": "Mapbox SymbolLayer hides markers", "body": "<p>You need to position your <code>SymbolLayer</code> to be below the markers layer in the layer stack. You can achieve that with <code>map?.addLayerBelow(layer, \"com.mapbox.annotations.points\")</code>.</p>\n"}], "owner": {"reputation": 2431, "user_id": 2498416, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9566610ce2f4fb754105d872850c7f72?s=128&d=identicon&r=PG", "display_name": "Nininea", "link": "https://stackoverflow.com/users/2498416/nininea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 52405600, "answer_count": 1, "score": 1, "last_activity_date": 1537359130, "creation_date": 1532428516, "last_edit_date": 1537358304, "question_id": 51496447, "link": "https://stackoverflow.com/questions/51496447/mapbox-symbollayer-hides-markers", "title": "Mapbox SymbolLayer hides markers", "body": "<p>I use symbol layer to draw bunch of points on the map :</p>\n\n<pre><code>var imgId = R.drawable.ic_route_stop\n\n        var featureCollection = FeatureCollection.fromFeatures(mSelectedBusStops!!.map { stop -&gt;\n            Feature.fromGeometry(com.mapbox.geojson.Point.fromLngLat(\n                    stop.Lon.toDouble(),\n                    stop.Lat.toDouble()))\n        });\n        map?.addSource(\n                GeoJsonSource(mMarkerSourceIdentifier,\n                        featureCollection,\n                        GeoJsonOptions()\n                ))\n\n        val image = BitmapFactory.decodeResource(activity?.resources, imgId)\n        map?.addImage(mMarkerImgIdentifier, image)\n\n        var layer = SymbolLayer(mMarkerStyleLayerIdentifier, mMarkerSourceIdentifier)\n        layer.setProperties(PropertyFactory.iconImage(mMarkerImgIdentifier),\n                PropertyFactory.iconAllowOverlap(true))\n        map?.addLayer(layer)\n</code></pre>\n\n<p>after this I add several markers in the map (this markers need to be animated periodically) </p>\n\n<pre><code>mSelectedBusCurrentStops?.forEach { stop -&gt;\n                (map ?: return).addMarker(MarkerOptions()\n                        .icon(icon)\n                        .position(LatLng(stop.lat, stop.lon)))\n            }\n</code></pre>\n\n<p>the important part here is a markers , what I added later, those markers should be visible always. But my symbol layer hides marker icons, I need to bring markers to front. Is there any way to fix it? </p>\n\n<p>this is how it looks </p>\n\n<p><a href=\"https://i.stack.imgur.com/aNYpD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aNYpD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1532433776, "post_id": 51496549, "comment_id": 89964019, "body": "since the first type parameter <code>Array&lt;String&gt;</code> is already infered in <code>tableview(data)</code>, if we can find a way to simplify the calling to <code>column&lt;String&gt;(&quot;name&quot;, { it.value[0].toProperty() })</code>, it will be great"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 1, "creation_date": 1532509569, "post_id": 51496549, "comment_id": 89998275, "body": "I updated my answer with an alternative that includes less type noise :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1532509557, "last_edit_date": 1532509557, "creation_date": 1532428806, "answer_id": 51496549, "question_id": 51496302, "link": "https://stackoverflow.com/questions/51496302/how-to-improve-my-code-to-show-a-data-array-in-a-table-with-tornadofx/51496549#51496549", "title": "How to improve my code to show a data array in a table, with TornadoFX?", "body": "<p>Here is a simpler way of defining your columns:</p>\n\n<pre><code>class HelloWorld : View() {\n    override val root = tableview(data) {\n        column&lt;Array&lt;String&gt;, String&gt;(\"name\", { it.value[0].toProperty() })\n        column&lt;Array&lt;String&gt;, String&gt;(\"value\", { it.value[1].toProperty() })\n    }\n}\n</code></pre>\n\n<p>That said, using a specialized data structure would yield less headache :)</p>\n\n<p>An alternative approach would be to configure just the cell item type and then a value factory:</p>\n\n<pre><code>column(\"name\", String::class) {\n    value { it.value[0] }\n}\ncolumn(\"value\", String::class) {\n    value { it.value[1] }\n}\n</code></pre>\n"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 51496549, "answer_count": 1, "score": 0, "last_activity_date": 1532509557, "creation_date": 1532428096, "last_edit_date": 1532428545, "question_id": 51496302, "link": "https://stackoverflow.com/questions/51496302/how-to-improve-my-code-to-show-a-data-array-in-a-table-with-tornadofx", "title": "How to improve my code to show a data array in a table, with TornadoFX?", "body": "<p>This is my way to display an array of data:</p>\n\n<pre><code>private val data = observableArrayList(\n        arrayOf(\"AAA\", \"111\"),\n        arrayOf(\"BBB\", \"222\"),\n        arrayOf(\"CCC\", \"333\")\n)\n\nclass HelloWorld : View() {\n    override val root = tableview&lt;Array&lt;String&gt;&gt;(data) {\n        column(\"name\") { cellDataFeatures: TableColumn.CellDataFeatures&lt;Array&lt;String&gt;, String&gt; -&gt; \n            SimpleStringProperty(cellDataFeatures.value[0]) \n        }\n        column(\"value\") { cellDataFeatures: TableColumn.CellDataFeatures&lt;Array&lt;String&gt;, String&gt; -&gt; \n            SimpleStringProperty(cellDataFeatures.value[1]) \n        }\n    }\n}\n</code></pre>\n\n<p>It works but the code is quite complex. Is there any better way to do it?</p>\n\n<p>(Maybe define a class to hold the data will make it much simpler, but I just want to test some uncommon cases)</p>\n\n<p>Update:</p>\n\n<p>A complete demo project for this: <a href=\"https://github.com/javafx-demos/tornadofx-tableview-array-data-demo\" rel=\"nofollow noreferrer\">https://github.com/javafx-demos/tornadofx-tableview-array-data-demo</a></p>\n"}, {"tags": ["android", "android-studio", "kotlin", "lint"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1532428038, "post_id": 51495772, "comment_id": 89960407, "body": "For better understanding have look <a href=\"https://developer.android.com/studio/write/lint\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 2516, "user_id": 8258130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b3104803b9c1f33541962147c6c660cb?s=128&d=identicon&r=PG&f=1", "display_name": "iori24", "link": "https://stackoverflow.com/users/8258130/iori24"}, "edited": false, "score": 0, "creation_date": 1617265269, "post_id": 51495772, "comment_id": 118257930, "body": "@PastAndSalmon I have the same concern now. Did u  find a way to use lint.xml when running code inspection?"}], "owner": {"reputation": 145, "user_id": 8200095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996c7251182aa09347583ac903cf1aaa?s=128&d=identicon&r=PG&f=1", "display_name": "PastAndSalmon", "link": "https://stackoverflow.com/users/8200095/pastandsalmon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1532426579, "creation_date": 1532426416, "last_edit_date": 1532426579, "question_id": 51495772, "link": "https://stackoverflow.com/questions/51495772/importing-lint-xm-for-inspection-in-android-studio", "title": "Importing lint.xm for inspection in Android Studio", "body": "<p>Is there a way to use the lint.xml defined in the gradle file when we run code inspection in Android Studio?</p>\n\n<p>I notice when i run lint via gradle the lint.xml is used and when running code inspection in Android Studio the studio inspection profile is used</p>\n\n<p>According to the thread below the lint.xml can be imported via the manage button but it only allows me to choose inspection profiles and not lint.xml:\n<a href=\"https://stackoverflow.com/questions/42761329/context-of-lint-xml-and-inspection-profile\">Context of lint.xml and inspection profile</a></p>\n\n<p>Anyone managed to use the lint.xml while using the Android Studio inspect code?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "pagersnaphelper"], "comments": [{"owner": {"reputation": 516, "user_id": 3354265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/33503abc2eb9ef27d933c5bbf842b868?s=128&d=identicon&r=PG&f=1", "display_name": "user3354265", "link": "https://stackoverflow.com/users/3354265/user3354265"}, "edited": false, "score": 0, "creation_date": 1562523185, "post_id": 51495651, "comment_id": 100391574, "body": "I did some modifications in the original answer &amp; it did work for me. I wanted the same behavior. Can you please try again with the modifications? Here is the <a href=\"https://stackoverflow.com/a/49669074/3354265\">link</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 2, "creation_date": 1532432702, "post_id": 51495884, "comment_id": 89963325, "body": "What does it matter ? How can I snap to any position programmatically?"}], "tags": [], "owner": {"reputation": 353, "user_id": 4856025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4376e26d767e84e16351315f48b3ab1a?s=128&d=identicon&r=PG&f=1", "display_name": "Tepits", "link": "https://stackoverflow.com/users/4856025/tepits"}, "is_accepted": false, "score": 1, "last_activity_date": 1532426758, "creation_date": 1532426758, "answer_id": 51495884, "question_id": 51495651, "link": "https://stackoverflow.com/questions/51495651/how-to-snap-to-particular-position-of-linearsnaphelper-in-horizontal-recyclervie/51495884#51495884", "title": "How to snap to particular position of LinearSnapHelper in horizontal RecyclerView?", "body": "<p>For horizontal RecyclerView, you should use <code>PagerSnapHelper()</code> instead of <code>LinearSnapHelper()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1532451294, "post_id": 51503466, "comment_id": 89976550, "body": "Your answer is almost correct but I face one problem with it. Position is +1. So if I pass 1 in argument for newScrollTo(1) then it will center 3rd position in recyclerview, i.e. index 2 in list and not 1st index. Why?"}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "reply_to_user": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1532452811, "post_id": 51503466, "comment_id": 89977375, "body": "@KishanSolanki124 Sounds like a padding issue. Can you position to the center of the 3rd view by sliding it with your finger?"}, {"owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1532453891, "post_id": 51503466, "comment_id": 89978043, "body": "Yes @Cheticamp I can"}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "reply_to_user": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1532454163, "post_id": 51503466, "comment_id": 89978214, "body": "@KishanSolanki124 Sorry, I meant can you position to the center of the first items (at position 0) through touch."}, {"owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1532454721, "post_id": 51503466, "comment_id": 89978468, "body": "Through touch, I can. But not with programmatically or by your code."}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "reply_to_user": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1532454782, "post_id": 51503466, "comment_id": 89978515, "body": "@KishanSolanki124 Interesting. I have an demo app that I will post that works OK. I will get that up sometime soon."}, {"owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1532454839, "post_id": 51503466, "comment_id": 89978555, "body": "Thanks. Appreciation"}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "reply_to_user": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1532457890, "post_id": 51503466, "comment_id": 89980137, "body": "@KishanSolanki124 I just deleted the first line of <code>newScrollTo()</code> since it was not needed."}], "tags": [], "owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "is_accepted": false, "score": 1, "last_activity_date": 1532457819, "last_edit_date": 1532457819, "creation_date": 1532449503, "answer_id": 51503466, "question_id": 51495651, "link": "https://stackoverflow.com/questions/51495651/how-to-snap-to-particular-position-of-linearsnaphelper-in-horizontal-recyclervie/51503466#51503466", "title": "How to snap to particular position of LinearSnapHelper in horizontal RecyclerView?", "body": "<p>If I understand your question, you are looking for a way to jump to a position and have that position centered in the <code>RecyclerView</code>.</p>\n\n<p>Maybe you have tried <code>RecyclerView.scrollToPosition()</code> but that doesn't snap to the view. You may also have tried <code>RecyclerView.smoothScrollToPosition()</code> and that works better but you may want to avoid all the movement if you have a lot of items and are scrolling a long way.</p>\n\n<p>The reason that <code>scrollToPosition()</code> doesn't work is that it doesn't trigger the <code>LinearSnapHelper</code> which uses a scroll listener to detect when to snap. Since <code>smoothScrollToPosition()</code> does trigger the <code>LinearSnapHelper</code>, we will use <code>scrollToPosition()</code> to get us in the area of the target view then use <code>smoothScrollToPosition()</code> to get the view centered as follows:</p>\n\n<pre><code>private RecyclerView mRecycler;\n\nprivate void newScrollTo(final int pos) {\n    RecyclerView.ViewHolder vh = mRecycler.findViewHolderForLayoutPosition(pos);\n    if (vh != null) {\n        // Target view is available, so just scroll to it.\n        mRecycler.smoothScrollToPosition(pos);\n    } else {\n        // Target view is not available. Scroll to it.\n        mRecycler.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            // From the documentation:\n            // This callback will also be called if visible item range changes after a layout\n            // calculation. In that case, dx and dy will be 0.This callback will also be called\n            // if visible item range changes after a layout calculation. In that case,\n            // dx and dy will be 0.\n            @Override\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n                super.onScrolled(recyclerView, dx, dy);\n                mRecycler.removeOnScrollListener(this);\n                if (dx == 0) {\n                    newScrollTo(pos);\n                }\n            }\n        });\n        mRecycler.scrollToPosition(pos);\n    }\n}\n</code></pre>\n\n<p><strong>Sample app</strong></p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private final LinearLayoutManager mLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n    private final List&lt;String&gt; mItems = new ArrayList&lt;&gt;();\n    private RecyclerView mRecycler;\n    private final int mItemCount = 2000;\n    private final Handler mHandler = new Handler();\n    private final LinearSnapHelper mLinearSnapHelper = new LinearSnapHelper();\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        for (int i = 0; i &lt; mItemCount; i++) {\n            mItems.add(i + \"\");\n        }\n\n        mRecycler = findViewById(R.id.recyclerView);\n        final RecyclerViewAdapter adapter = new RecyclerViewAdapter(null);\n        adapter.setItems(mItems);\n        mRecycler.setLayoutManager(mLayoutManager);\n        mRecycler.setAdapter(adapter);\n        mLinearSnapHelper.attachToRecyclerView(mRecycler);\n        newScrollTo(1);\n//        fireScrollTo();\n    }\n\n    private int maxScrolls = mItemCount;\n\n    private void fireScrollTo() {\n        if (--maxScrolls &gt; 0) {\n            int pos = (int) (Math.random() * mItemCount);\n            newScrollTo(pos);\n            mHandler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    fireScrollTo();\n                }\n            }, 2000);\n        }\n    }\n\n    private void newScrollTo(final int pos) {\n        mRecycler.smoothScrollToPosition(pos);\n        RecyclerView.ViewHolder vh = mRecycler.findViewHolderForLayoutPosition(pos);\n        if (vh != null) {\n            // Target view is available, so just scroll to it.\n            mRecycler.smoothScrollToPosition(pos);\n        } else {\n            // Target view is not available. Scroll to it.\n            mRecycler.addOnScrollListener(new RecyclerView.OnScrollListener() {\n                // From the documentation:\n                // This callback will also be called if visible item range changes after a layout\n                // calculation. In that case, dx and dy will be 0.This callback will also be called\n                // if visible item range changes after a layout calculation. In that case,\n                // dx and dy will be 0.\n                @Override\n                public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n                    super.onScrolled(recyclerView, dx, dy);\n                    mRecycler.removeOnScrollListener(this);\n                    if (dx == 0) {\n                        newScrollTo(pos);\n                    }\n                }\n            });\n            mRecycler.scrollToPosition(pos);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout \n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;View\n        android:layout_width=\"3px\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@android:color/holo_red_light\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recyclerView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:clipToPadding=\"false\"\n        android:paddingStart=\"660px\"\n        android:paddingEnd=\"660px\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>RecyclerViewAdapter.java</strong></p>\n\n<pre><code>class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    private List&lt;String&gt; mItems;\n\n    RecyclerViewAdapter(List&lt;String&gt; items) {\n        mItems = items;\n    }\n\n    @Override\n    public @NonNull\n    RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(android.R.layout.simple_list_item_1, parent, false);\n        view.getLayoutParams().width = 220;\n        view.getLayoutParams().height = 220;\n//        view.setPadding(220 * 3, 0, 220 * 3, 0);\n        ((TextView) view).setGravity(Gravity.CENTER);\n        return new ItemViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        ItemViewHolder vh = (ItemViewHolder) holder;\n        String itemText = mItems.get(position);\n\n        vh.mItemTextView.setText(itemText);\n        int bgColor = (position % 2 == 0)\n            ? android.R.color.holo_blue_light\n            : android.R.color.holo_green_light;\n        holder.itemView.setBackgroundColor(\n            holder.itemView.getContext().getResources().getColor(bgColor));\n    }\n\n    @Override\n    public int getItemCount() {\n        return (mItems == null) ? 0 : mItems.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return TYPE_ITEM;\n    }\n\n    static class ItemViewHolder extends RecyclerView.ViewHolder {\n        private TextView mItemTextView;\n\n        ItemViewHolder(View item) {\n            super(item);\n            mItemTextView = item.findViewById(android.R.id.text1);\n        }\n    }\n\n    public void setItems(List&lt;String&gt; items) {\n        mItems = items;\n    }\n\n    @SuppressWarnings(\"unused\")\n    private final static String TAG = \"RecyclerViewAdapter\";\n\n    private final static int TYPE_ITEM = 1;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1594405316, "post_id": 58133636, "comment_id": 111125553, "body": "Note: this is a Kotlin port of <a href=\"https://stackoverflow.com/a/49669074/115145\">this earlier Java answer</a>."}], "tags": [], "owner": {"reputation": 181, "user_id": 7224942, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Mcc_K7Qu3rY/AAAAAAAAAAI/AAAAAAAAAfs/N6wkxJBmUEk/photo.jpg?sz=128", "display_name": "Vajani Kishan", "link": "https://stackoverflow.com/users/7224942/vajani-kishan"}, "is_accepted": false, "score": 1, "last_activity_date": 1569583627, "creation_date": 1569583627, "answer_id": 58133636, "question_id": 51495651, "link": "https://stackoverflow.com/questions/51495651/how-to-snap-to-particular-position-of-linearsnaphelper-in-horizontal-recyclervie/58133636#58133636", "title": "How to snap to particular position of LinearSnapHelper in horizontal RecyclerView?", "body": "<blockquote>\n  <p>Add this where ever you want to scroll your recycler view</p>\n</blockquote>\n\n<pre><code> recyclerView.scrollToPosition(position)\n    recyclerView.post {\n        var view = recyclerView.layoutManager?.findViewByPosition(position);\n        if (view == null) {\n          // do nothing\n        }\n\n        var snapDistance = snapHelper.calculateDistanceToFinalSnap(recyclerView.layoutManager!!, view!!)\n        if (snapDistance?.get(0)   != 0 || snapDistance[1] != 0) {\n            recyclerView.scrollBy(snapDistance?.get(0)!!, snapDistance?.get(1));\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>By using this LinearSnap Helper which is attached to your recycler view</p>\n</blockquote>\n\n<pre><code>  var snapHelper = LinearSnapHelper()\n    snapHelper.attachToRecyclerView(recyclerView)\n</code></pre>\n"}], "owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4039, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1569583627, "creation_date": 1532426074, "question_id": 51495651, "link": "https://stackoverflow.com/questions/51495651/how-to-snap-to-particular-position-of-linearsnaphelper-in-horizontal-recyclervie", "title": "How to snap to particular position of LinearSnapHelper in horizontal RecyclerView?", "body": "<p>How can I snap to particular position for LinearSnapHelper() in horizontal RecyclerView? There is a function scrolltoposition for RecyclerView which scroll to that position but did not keep it in center for this snaphelper.</p>\n\n<p>I am looking for something like below image. So when I set to particular position, it will keep it in center. I dont find anything related to select position for <a href=\"https://developer.android.com/reference/android/support/v7/widget/SnapHelper\" rel=\"nofollow noreferrer\">SnapHelper</a></p>\n\n<p>i find <a href=\"https://stackoverflow.com/questions/42988016/how-to-programmatically-snap-to-position-on-recycler-view-with-linearsnaphelper\">this</a> , but this doesn't help me.\nAny help would be appreciated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TnWph.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TnWph.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "spinner"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1532426887, "post_id": 51495271, "comment_id": 89959743, "body": "both spinners have the same problem?"}, {"owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1532426972, "post_id": 51495271, "comment_id": 89959783, "body": "2nd spinner will not show, if 1st spinner option not selected."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1532427163, "post_id": 51495271, "comment_id": 89959890, "body": "In the image you provided there is no spinner or arrow button at the end to press for it to expand. Do you really see the spinner?"}], "answers": [{"tags": [], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "is_accepted": false, "score": 0, "last_activity_date": 1532436468, "creation_date": 1532436468, "answer_id": 51499018, "question_id": 51495271, "link": "https://stackoverflow.com/questions/51495271/android-kotlin-spinner-working-for-api-23-but-not-working-for-api-21/51499018#51499018", "title": "android kotlin spinner working for API 23, but not working for API 21", "body": "<p>I found the answer</p>\n\n<p>android:spinnerMode=\"dialog\"</p>\n\n<p>add this code it will be work for API 21 and 23</p>\n"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532436468, "creation_date": 1532424931, "last_edit_date": 1532425377, "question_id": 51495271, "link": "https://stackoverflow.com/questions/51495271/android-kotlin-spinner-working-for-api-23-but-not-working-for-api-21", "title": "android kotlin spinner working for API 23, but not working for API 21", "body": "<p>I test my spinner in real device SM-G900F API 23, it is working well. But it is not working in SM-N9005 API 21. It shows the spinner but it did not show any options when I click the spinner. </p>\n\n<p>Please see my code below and help to solve this issue.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_country_selector)\n\n        val spinnerOne = search_spinner1\n        val spinnerTwo = search_spinner2\n        val userDetail = UserDetail(this)\n        //SpinnerOne\n        spinnerOne.adapter = ArrayAdapter&lt;String&gt;(this, R.layout.item, countryArray)\n        //SpinnerTwo\n        val dataAdapter = ArrayAdapter&lt;String&gt;(this, R.layout.item, tempArray)\n        spinnerTwo.setAdapter(dataAdapter)\n        spinnerOne.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n            }\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n                countrySelected = parent?.getItemAtPosition(position).toString()\n                citySelected = countrySelected\n                if (countrySelected == \"\u9999\u6e2f\") {\n                    userDetail.saveCountry(countrySelected)\n                    userDetail.saveCity(countrySelected)\n                    spinnerTwo.visibility = View.GONE\n                    finish()\n                } else if (countrySelected == \"\u6fb3\u9580\") {\n                    userDetail.saveCountry(countrySelected)\n                    userDetail.saveCity(countrySelected)\n                    spinnerTwo.visibility = View.GONE\n                    finish()\n                } else if (countrySelected == \"\u53f0\u7063\") {\n                    userDetail.saveCountry(countrySelected)\n                    tempArray.clear()\n                    tempArray.addAll(taiwanArray)\n                    dataAdapter.notifyDataSetChanged()\n                    spinnerTwo.visibility = View.VISIBLE\n                } \n            }\n        }\n\n        //hide spinner2\n        spinnerTwo.visibility = View.GONE\n        spinnerTwo.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n            }\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n                citySelected = parent?.getItemAtPosition(position).toString()\n                if (citySelected == \"\u9078\u64c7\u57ce\u5e02\") {\n                } else {\n                    userDetail.saveCity(citySelected)\n                    finish()\n                }\n            }\n        }\n</code></pre>\n\n<p>Here with the xml file:\n<a href=\"https://i.stack.imgur.com/hULWH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hULWH.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/htKBF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/htKBF.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/1ermF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ermF.png\" alt=\"enter image description here\"></a>\n    enter code here</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1532425421, "post_id": 51494925, "comment_id": 89958895, "body": "Do you mean get the &quot;drama&quot; movies for a specific id or the &quot;drama&quot; movies for all ids?"}, {"owner": {"reputation": 722, "user_id": 2589373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcAq.jpg?s=128&g=1", "display_name": "carlosmaciel", "link": "https://stackoverflow.com/users/2589373/carlosmaciel"}, "edited": false, "score": 0, "creation_date": 1532425634, "post_id": 51494925, "comment_id": 89959022, "body": "I mean &quot;drama&quot; movies for all existing users."}], "answers": [{"comments": [{"owner": {"reputation": 722, "user_id": 2589373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcAq.jpg?s=128&g=1", "display_name": "carlosmaciel", "link": "https://stackoverflow.com/users/2589373/carlosmaciel"}, "edited": false, "score": 0, "creation_date": 1532426169, "post_id": 51495065, "comment_id": 89959328, "body": "Thank you, I talked with a friend and he showed an example using .flatMapIterable, since I am using RxKotlin. but your answer works too."}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 4, "last_activity_date": 1532424291, "creation_date": 1532424291, "answer_id": 51495065, "question_id": 51494925, "link": "https://stackoverflow.com/questions/51494925/kotlin-iterate-over-list-of-lists/51495065#51495065", "title": "Kotlin Iterate over list of lists", "body": "<p>As far as I understand your solution should look like this:</p>\n\n<pre><code>users.map { user -&gt;\n    user.id to user.movies\n        .filter { movie -&gt; movie.genre == Genre.DRAMA }\n}\n.forEach { (userId, dramas) -&gt;\n    //do whatever you want with combinations\n}\n</code></pre>\n\n<p>It results to combinations of user id and all dramas which user has watched.\nFor more precise answer please add your <code>User</code> and <code>Movies</code> classes</p>\n"}], "owner": {"reputation": 722, "user_id": 2589373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcAq.jpg?s=128&g=1", "display_name": "carlosmaciel", "link": "https://stackoverflow.com/users/2589373/carlosmaciel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 51495065, "answer_count": 1, "score": 2, "last_activity_date": 1532424291, "creation_date": 1532423831, "question_id": 51494925, "link": "https://stackoverflow.com/questions/51494925/kotlin-iterate-over-list-of-lists", "title": "Kotlin Iterate over list of lists", "body": "<p>Let's say we have a <code>List&lt;User&gt;</code> and each user has a <code>List&lt;Movies&gt;</code> of all movies that the users watched.</p>\n\n<p>What if we want to get a combination of user id and all watched movides under \"drama\" genre types, how we could do it without creating a temp mutable List? Is there an operator to iterate over list of lists and get this data?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 252, "user_id": 1513557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0i9t.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/1513557/brett"}, "edited": false, "score": 0, "creation_date": 1532585450, "post_id": 51495176, "comment_id": 90031699, "body": "Thanks @David, this helped. It turns out I also had to remove the <code>jcenter()</code> repository otherwise it still wouldn&#39;t work. Do you know what that is?"}, {"owner": {"reputation": 252, "user_id": 1513557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0i9t.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/1513557/brett"}, "edited": false, "score": 0, "creation_date": 1532587120, "post_id": 51495176, "comment_id": 90032483, "body": "While you&#39;re here: It seems like the new Kotlin/Native plugin DSL doesn&#39;t support FRAMEWORK output, or interop with Swift/Obj-C. Do you know how I can use this   new DSL in parallel with the konan plugin to import an interop library, and then convert the build output to a Framework?"}, {"owner": {"reputation": 859, "user_id": 2564630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/692756ed16a80d1a4243d256b2db5cac?s=128&d=identicon&r=PG", "display_name": "pkliang", "link": "https://stackoverflow.com/users/2564630/pkliang"}, "edited": false, "score": 2, "creation_date": 1532591918, "post_id": 51495176, "comment_id": 90035155, "body": "Hi,  outputKinds = [FRAMEWORK] works with kotlin-native-gradle-plugin:0.9-dev-2922"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1532729769, "post_id": 51495176, "comment_id": 90099126, "body": "I&#39;ve documented the process here: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/native/README.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/blob/master/native/&hellip;</a>"}, {"owner": {"reputation": 425, "user_id": 2031219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0090428e9aaaf68db1036cc44ba7bafe?s=128&d=identicon&r=PG", "display_name": "Arubu", "link": "https://stackoverflow.com/users/2031219/arubu"}, "edited": false, "score": 0, "creation_date": 1533928625, "post_id": 51495176, "comment_id": 90543129, "body": "I&#39;ve performed the process described at the link above. The Android build happens successfully, but I don&#39;t know how to import the framework into xcode. Can someone help me?"}, {"owner": {"reputation": 2392, "user_id": 2338613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6eca831ed23df5de1f76b834aa7c3d?s=128&d=identicon&r=PG", "display_name": "thoutbeckers", "link": "https://stackoverflow.com/users/2338613/thoutbeckers"}, "edited": false, "score": 0, "creation_date": 1540395013, "post_id": 51495176, "comment_id": 92851982, "body": "I&#39;ve created an example project with MPP structure, that uses coroutines:  <a href=\"https://github.com/thoutbeckers/kotlin-mpp-example\" rel=\"nofollow noreferrer\">github.com/thoutbeckers/kotlin-mpp-example</a>  It describes how the Framework build is added as a custom shell script build step in XCode. The structure is mostly copied from the official example project mentioned in the README, but that project layout didn&#39;t work with dependencies (like coroutines) for me, so I made some changes."}], "tags": [], "owner": {"reputation": 131, "user_id": 3793011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e67e0cac8a83ffbb7c154ea50b28fa?s=128&d=identicon&r=PG&f=1", "display_name": "David Lericolais", "link": "https://stackoverflow.com/users/3793011/david-lericolais"}, "is_accepted": true, "score": 1, "last_activity_date": 1532424634, "creation_date": 1532424634, "answer_id": 51495176, "question_id": 51494681, "link": "https://stackoverflow.com/questions/51494681/how-to-build-kotlinx-coroutines-in-kotlin-native-test-version-0-23-4-native-1/51495176#51495176", "title": "How to build kotlinx.coroutines in Kotlin/Native (test version 0.23.4-native-1)", "body": "<p>Here is a list of things to check for (I have been through this, and finally made it work) :</p>\n\n<ul>\n<li><p>Enable Gradle metadata. It's required to retrieve the coroutines dependencies. To do so, add this line in your \"settings.gradle\" file, after all the \"include\" instructions : </p>\n\n<pre><code>enableFeaturePreview('GRADLE_METADATA')\n</code></pre></li>\n<li><p>use gradle 4.7 (newer version are incompatible with the meta data of the current coroutines library, they require something with 0.4 version and the current published one uses 0.3)</p></li>\n<li><p>In the iOS module : </p>\n\n<pre><code>implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core-native:0.23.4-native-1\"\n</code></pre></li>\n<li><p>In your common module : </p>\n\n<pre><code>implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:0.23.4\"\n</code></pre></li>\n<li><p>If you have a js module, it may fail due to the gradle metadata feature. You can fix it by adding this before each of your \"repositories\" blocks (<a href=\"https://github.com/srs/gradle-node-plugin/issues/301\" rel=\"nofollow noreferrer\">https://github.com/srs/gradle-node-plugin/issues/301</a>)</p>\n\n<pre><code>repositories.whenObjectAdded {\n    if (it instanceof IvyArtifactRepository) {\n        metadataSources {\n            artifact()\n        }\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>Hope this will be enough !</p>\n"}], "owner": {"reputation": 252, "user_id": 1513557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0i9t.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/1513557/brett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1266, "favorite_count": 0, "accepted_answer_id": 51495176, "answer_count": 1, "score": 2, "last_activity_date": 1532424634, "creation_date": 1532423102, "question_id": 51494681, "link": "https://stackoverflow.com/questions/51494681/how-to-build-kotlinx-coroutines-in-kotlin-native-test-version-0-23-4-native-1", "title": "How to build kotlinx.coroutines in Kotlin/Native (test version 0.23.4-native-1)", "body": "<p>This question is a continuation of this thread:\n<a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/246#issuecomment-407023156\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/246#issuecomment-407023156</a></p>\n\n<p>I am trying to use <code>org.jetbrains.kotlinx:kotlinx-coroutines-core-native:0.23.4-native-1</code> in a Kotlin/Native project targeting iOS.</p>\n\n<h3><code>build.gradle</code>:</h3>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        maven { url \"https://dl.bintray.com/jetbrains/kotlin-native-dependencies\" }\n    }\n\n    dependencies {\n        classpath 'org.jetbrains.kotlin:kotlin-native-gradle-plugin:0.8'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.51\"\n    }\n}\n\napply plugin: 'kotlin-platform-native'\n\nrepositories {\n    jcenter()\n    mavenCentral()\n    maven { url \"https://kotlin.bintray.com/kotlinx\" }\n}\n\nsourceSets {\n    main {\n        component {\n            target 'ios_arm32', 'ios_arm64', 'ios_x64'\n            outputKinds = [KLIBRARY]\n        }\n    }\n}\n\ndependencies {\n    expectedBy project(':common')\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core-native:0.23.4-native-1\"\n}\n</code></pre>\n\n<p>The <code>kotlinx:kotlinx-coroutines-core-native</code> dependency doesn't seem to work, as the produces build errors like:</p>\n\n<pre><code>error: unresolved reference: coroutines\nimport kotlinx.coroutines.experimental.*\n               ^\n</code></pre>\n\n<p>If I manually include the artifact dependencies such as <code>org.jetbrains.kotlinx:kotlinx-coroutines-core-native_release_ios_x64:0.10.3-native</code>, then I get a complier exception:</p>\n\n<pre><code>exception: java.lang.IllegalStateException: Could not find \"atomicfu-native\"\n</code></pre>\n\n<p>This error persists, even if I also add <code>org.jetbrains.kotlinx:atomicfu-native:0.10.3-native</code> dependency.</p>\n"}, {"tags": ["java", "encryption", "kotlin", "openssl"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10126644, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gsr5Nqdu0zg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rPqt8R8QzR_8gPmRTsi-YTXArm4A/mo/photo.jpg?sz=128", "display_name": "user10126644", "link": "https://stackoverflow.com/users/10126644/user10126644"}, "edited": false, "score": 0, "creation_date": 1532423343, "post_id": 51494662, "comment_id": 89957700, "body": "I changed it, unfortunalety still same results"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "reply_to_user": {"reputation": 13, "user_id": 10126644, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gsr5Nqdu0zg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rPqt8R8QzR_8gPmRTsi-YTXArm4A/mo/photo.jpg?sz=128", "display_name": "user10126644", "link": "https://stackoverflow.com/users/10126644/user10126644"}, "edited": false, "score": 0, "creation_date": 1532423440, "post_id": 51494662, "comment_id": 89957752, "body": "I think you have an issue in your <code>hexToByteArray()</code> implementation."}, {"owner": {"reputation": 13, "user_id": 10126644, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gsr5Nqdu0zg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rPqt8R8QzR_8gPmRTsi-YTXArm4A/mo/photo.jpg?sz=128", "display_name": "user10126644", "link": "https://stackoverflow.com/users/10126644/user10126644"}, "edited": false, "score": 0, "creation_date": 1532424586, "post_id": 51494662, "comment_id": 89958434, "body": "You are right, it works using a different hex to byte implementation, thank you"}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 0, "last_activity_date": 1532423054, "creation_date": 1532423054, "answer_id": 51494662, "question_id": 51494430, "link": "https://stackoverflow.com/questions/51494430/java-kotlin-aes-128-cbc-encryption-produces-different-result-than-openssl/51494662#51494662", "title": "Java/Kotlin AES-128-CBC encryption produces different result than OpenSSL", "body": "<p>You should use the <code>AES/CBC/PKCS5Padding</code> cipher</p>\n"}], "owner": {"reputation": 13, "user_id": 10126644, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gsr5Nqdu0zg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rPqt8R8QzR_8gPmRTsi-YTXArm4A/mo/photo.jpg?sz=128", "display_name": "user10126644", "link": "https://stackoverflow.com/users/10126644/user10126644"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1453, "favorite_count": 0, "accepted_answer_id": 51494662, "answer_count": 1, "score": 1, "last_activity_date": 1532424841, "creation_date": 1532422417, "last_edit_date": 1532423292, "question_id": 51494430, "link": "https://stackoverflow.com/questions/51494430/java-kotlin-aes-128-cbc-encryption-produces-different-result-than-openssl", "title": "Java/Kotlin AES-128-CBC encryption produces different result than OpenSSL", "body": "<p>I'm trying to implement aes-128-cbc encryption in Kotin/Java. \nUnfortunately encryption-results differ from OpenSSL-output using same arguments. </p>\n\n<p>Arguments:</p>\n\n<p><code>Data: [[[1532347727425, 6481]]]</code></p>\n\n<p><code>Key: f70559cb976123807855fd9081f17760</code></p>\n\n<p><code>IV: b7e5daacd367e143d20a0b536507a6d6</code></p>\n\n<p>Kotlin-Implementation:</p>\n\n<pre><code>const val AES_TRANSFORMATION = \"AES/CBC/PKCS5Padding\"\n\nval cipher = Cipher.getInstance(AES_TRANSFORMATION)\nval keySpec = SecretKeySpec(aesKey.hexToByteArray(), \"AES\")\nval ivSpec = IvParameterSpec(iv.hexToByteArray())\ncipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec)\nval result = cipher.doFinal(data.toByteArray())\nreturn String(Base64Helper().encode(result))\n</code></pre>\n\n<p>OpenSSL-CMD:</p>\n\n<pre><code>echo [[[1532347727425, 6481]]] | openssl aes-128-cbc -d -K f70559cb976123807855fd9081f17760 -iv b7e5daacd367e143d20a0b536507a6d6 -base64\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>Kotlin/Android: fHcK3EeXEzSYtIa8PbhXkANwv2sU/qgktUnabzgE9HI=\nOpenSSL: 7L1XLM/5ihCNRryiSZ8RMlPSeqsHDXa785dJujS7c/M=\n</code></pre>\n\n<p>Decrypting results with OpenSSL produces the following error: </p>\n\n<pre><code>bad decrypt \n140621119981208:error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt:evp_enc.c:529:\n</code></pre>\n\n<p>Update: Changed Padding to PKCS5 - same output.</p>\n"}, {"tags": ["inheritance", "kotlin", "default-method"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1532421829, "post_id": 51494134, "comment_id": 89956770, "body": "There is no such feature in Kotlin. Even if Kotlin had one, it would still be possible for a Java class to implement a Kotlin interface, without any regard for Kotlin&#39;s own restrictions."}], "answers": [{"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 3, "last_activity_date": 1532424545, "last_edit_date": 1532424545, "creation_date": 1532422890, "answer_id": 51494606, "question_id": 51494134, "link": "https://stackoverflow.com/questions/51494134/kotlin-enforce-implementing-class-to-be-a-supertype-of-another-type/51494606#51494606", "title": "Kotlin enforce implementing class to be a supertype of another type", "body": "<p>You can not constrain which classes an interface can be implemented by.\nHowever, if you want to avoid the casting, you can give the interface a property of type <code>Animal</code> that the implementing classes have to override. This will at least ensure that the implementing classes have an <code>Animal</code> object available.</p>\n\n<pre><code>abstract class Animal { fun beAnimal() { println(\"I'm animal!\") } }\n\ninterface Mammal { \n    val animal: Animal\n\n    fun produceMilk() { \n        animal.beAnimal().apply { println(\"Freesh milk!\") }\n    } \n}\n\ninterface AnimalWithBeak {\n    val animal: Animal\n\n    fun quack() { \n        animal.beAnimal().apply { println(\"Quack!\") }\n    } \n}\n\nclass Platypus : Animal(), Mammal, AnimalWithBeak {\n    override val animal = this\n\n    fun bePlatypus() {\n        quack() // ok\n        produceMilk() // ok\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1532424474, "post_id": 51494648, "comment_id": 89958375, "body": "Ah, that&#39;s a nice use of extension functions."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 4, "last_activity_date": 1532424344, "last_edit_date": 1532424344, "creation_date": 1532423017, "answer_id": 51494648, "question_id": 51494134, "link": "https://stackoverflow.com/questions/51494134/kotlin-enforce-implementing-class-to-be-a-supertype-of-another-type/51494648#51494648", "title": "Kotlin enforce implementing class to be a supertype of another type", "body": "<p>You can accomplish such a constraint with extension functions, but you may not supply your interface methods than anymore. \nHowever, as the <code>Animal</code>-class is not under your control you may want to add some other useful methods you desire with extension functions.</p>\n\n<p>Example:</p>\n\n<pre><code>fun &lt;T&gt; T.produceMilk() where T : Animal, T : Mammal {\n  beAnimal().apply { println(\"Freesh milk!\") }\n}\n\nfun &lt;T&gt; T.quack() where T : Animal, T : AnimalWithBeak {\n  beAnimal().apply { println(\"Quack!\") }\n}\n\nfun main(args: Array&lt;String&gt;) {\n  val myMammal = object : Mammal {} // a mammal, but not an animal\n  // myMammal.produceMilk() // unresolved reference\n  val myMammalAnimal = Platypus()\n  myMammalAnimal.produceMilk() // works\n}\n</code></pre>\n\n<p>Your classes/Interfaces then would look like:</p>\n\n<pre><code>abstract class Animal { fun beAnimal() { println(\"I'm animal!\") } }\n\ninterface Mammal\ninterface AnimalWithBeak \nclass Platypus : Animal(), Mammal, AnimalWithBeak {\n  fun bePlatypus() {\n    quack() // ok\n    produceMilk() // ok\n  }\n}\n</code></pre>\n\n<p>The forced tight coupling you are asking for can otherwise be accomplished with @marstrans answer. That solution forces you to always have an animal when implementing the interfaces.</p>\n"}], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1555, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1532424545, "creation_date": 1532421470, "question_id": 51494134, "link": "https://stackoverflow.com/questions/51494134/kotlin-enforce-implementing-class-to-be-a-supertype-of-another-type", "title": "Kotlin enforce implementing class to be a supertype of another type", "body": "<p>Since multiple inheritance is not allowed in java/kotlin, it's usefull to take advantage of interface default methods. Given example:</p>\n\n<pre><code>abstract class Animal { \n    fun beAnimal() { \n        println(\"I'm animal!\") \n    } \n}\nabstract class Mammal : Animal()  { \n    fun produceMilk() { \n         beAnimal().apply { println(\"Freesh milk!\") }\n    } \n}\nabstract class AnimalWithBeak : Animal()  { \n    fun quack() { \n        beAnimal().apply { println(\"Quack!\") }\n    } \n}\nclass Platypus : ??? // I want it to both produce milk and quack!\n</code></pre>\n\n<p>As noted above, multiple base classes are not allowed, but we can use interfaces:</p>\n\n<pre><code>abstract class Animal { fun beAnimal() { println(\"I'm animal!\") } }\n\ninterface Mammal { \n    fun produceMilk() { \n        (this as Animal).beAnimal().apply { println(\"Freesh milk!\") }\n    } \n}\ninterface AnimalWithBeak { \n    fun quack() { \n        (this as Animal).beAnimal().apply { println(\"Quack!\") }\n    } \n}\nclass Platypus : Animal(), Mammal, AnimalWithBeak {\n    fun bePlatypus() {\n        quack() // ok\n        produceMilk() // ok\n    }\n}\n</code></pre>\n\n<p>Note that I don't own <code>Animal</code> class, but I still want to subclass it, and be able to mix these implementations. Example above is really simple, but in real code it would be extremely useful.</p>\n\n<p>The problem is, that class that doesn't extend <code>Animal</code> can implement <code>Mammal</code> and <code>AnimalWithBeak</code> interfaces. In this case, the code will be broken as <code>this as Animal</code> cast will fail. </p>\n\n<p>So the question - Is it possible to constraint interface inheritance only to specific classes? In this case, only classes that extend <code>Animal</code> should be allowed to implement <code>Mammal</code> and <code>AnimalWithBeak</code> interfaces. </p>\n\n<p>Abstract syntax that probably doesn't exist could look something like that:</p>\n\n<p><code>interface Mammal where this : Animal</code></p>\n\n<p>But I quess it's not valid. Any solutions?</p>\n"}, {"tags": ["android", "text", "kotlin", "pie-chart", "mpandroidchart"], "answers": [{"tags": [], "owner": {"reputation": 9352, "user_id": 3101777, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1zAxp.jpg?s=128&g=1", "display_name": "Misha Akopov", "link": "https://stackoverflow.com/users/3101777/misha-akopov"}, "is_accepted": true, "score": 9, "last_activity_date": 1532421029, "last_edit_date": 1532421029, "creation_date": 1532420073, "answer_id": 51493709, "question_id": 51493521, "link": "https://stackoverflow.com/questions/51493521/manage-text-in-some-situation-piechart-of-mpandroidchart/51493709#51493709", "title": "manage text in some Situation PieChart of MPAndroidChart", "body": "<p>You need this line, so your labels will be outside graph:</p>\n\n<pre><code>dataSet.setYValuePosition(PieDataSet.ValuePosition.OUTSIDE_SLICE);\n</code></pre>\n\n<p>And value will be outside . You can also control position, line length and coloring like this:</p>\n\n<pre><code>    pieData.setValueTextColor(Color.BLACK);\n    dataSet.setValueLinePart1OffsetPercentage(10.f);\n    dataSet.setValueLinePart1Length(0.43f);\n    dataSet.setValueLinePart2Length(.1f);\n    dataSet.setValueTextColor(Color.BLACK);\n    dataSet.setXValuePosition(PieDataSet.ValuePosition.OUTSIDE_SLICE);\n    mPie.setEntryLabelColor(Color.BLUE);\n</code></pre>\n\n<p>Here is result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OqCoD.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OqCoD.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9998479"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2381, "favorite_count": 0, "accepted_answer_id": 51493709, "answer_count": 1, "score": 3, "last_activity_date": 1532421521, "creation_date": 1532419468, "last_edit_date": 1532421521, "question_id": 51493521, "link": "https://stackoverflow.com/questions/51493521/manage-text-in-some-situation-piechart-of-mpandroidchart", "title": "manage text in some Situation PieChart of MPAndroidChart", "body": "<p>I try to manage text in PieChart of MPAndroidChart. But when my text is difficult situation like True = 2, False = 3 , Not = 95, in this situation my pie chart layout is very bad.\nHere is my code :- </p>\n\n<pre><code>fun setupPieChartView() {\n    mPie = findViewById(R.id.piechart)\n\n    mPie?.setUsePercentValues(true)\n\n    val desc: Description = Description()\n    desc.text = \"PieChart\"\n    mPie?.description = desc\n\n    val legend: Legend? = mPie?.legend\n    legend?.horizontalAlignment = Legend.LegendHorizontalAlignment.LEFT\n\n    val value = Arrays.asList(trueAns.toFloat(), wrongAns.toFloat(), noAns.toFloat())\n    val label = Arrays.asList(\"True\", \"false\", \"Not\")\n\n    val entry = ArrayList&lt;PieEntry&gt;()\n    for (i in value.indices) {\n        entry.add(PieEntry(value.get(i), label.get(i)))\n\n    }\n\n\n    val dataSet = PieDataSet(entry, \"Result\")\n    dataSet.setColors(Color.GREEN, Color.RED, Color.GRAY);\n    dataSet.setDrawValues(true)\n\n    val pieData = PieData(dataSet)\n    pieData.setValueFormatter(PercentFormatter())\n    pieData.setValueTextSize(10f)\n    pieData.setValueTextColor(Color.WHITE)\n\n    mPie?.data = pieData\n}\n</code></pre>\n\n<p>Result is like that :- </p>\n\n<p><a href=\"https://i.stack.imgur.com/xQQwK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQQwK.png\" alt=\"enter image description here\"></a></p>\n\n<p>here in my Pie-Chart data is not set in good format . Help me for this</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1532418884, "creation_date": 1532418884, "answer_id": 51493342, "question_id": 51493110, "link": "https://stackoverflow.com/questions/51493110/calling-generic-functions-with-multiple-bounds/51493342#51493342", "title": "Calling generic functions with multiple bounds?", "body": "<p>It is hard to understand the intent from your example, but here is how to express a double upper bound:</p>\n\n<pre><code>interface A\ninterface B\n\nfun &lt;T&gt; createType():T where T : A, T : B {\n  return TODO()\n}\n</code></pre>\n\n<p>But it is incompatible with your usage example:</p>\n\n<pre><code>fun test() {\n  val typeA: A = createType()  // error\n  val typeB: B = createType()  // error\n}\n</code></pre>\n\n<p>How can that even work if <code>A</code> is not a sub type of <code>B</code>? Maybe there is a more realistic usage example?</p>\n"}, {"tags": [], "owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "is_accepted": true, "score": 0, "last_activity_date": 1532419191, "creation_date": 1532419191, "answer_id": 51493421, "question_id": 51493110, "link": "https://stackoverflow.com/questions/51493110/calling-generic-functions-with-multiple-bounds/51493421#51493421", "title": "Calling generic functions with multiple bounds?", "body": "<p>This is what the Kotlin equivalent looks like:</p>\n\n<pre><code>private var typeA: A? = null\nprivate var typeB: B? = null\n\nfun test() {\n    typeA = createType&lt;C&gt;()\n    typeB = createType&lt;C&gt;()\n}\n\nprivate fun &lt;T&gt; createType(): T? where T : A, T : B {\n    return null\n}\n\nopen class A\ninterface B\nclass C: A(), B\n</code></pre>\n\n<p>Note that you can have no more than one class in <code>where</code> clause, the rest have to be interfaces and that when you call <code>createType</code> you need to provide the type parameter that satisfies the bounds (in this case extends <code>A</code> and implements <code>B</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1532422196, "creation_date": 1532422196, "answer_id": 51494349, "question_id": 51493110, "link": "https://stackoverflow.com/questions/51493110/calling-generic-functions-with-multiple-bounds/51494349#51494349", "title": "Calling generic functions with multiple bounds?", "body": "<p>Not really what you asked for, but your Java example already can be simplified to:</p>\n\n<pre><code>private &lt;T&gt; T createType(){\n  return null;\n}\n</code></pre>\n\n<p>As your <code>typeA</code> and <code>typeB</code> are already known, that will work too. \nAnd that can easily be transformed to the following in Kotlin:</p>\n\n<pre><code>fun &lt;T&gt; createType() : T = TODO(\"implement me\")\n</code></pre>\n\n<p>If you give more information on why you really require <code>T extends A &amp; B</code> the answers will probably get even better.</p>\n"}], "owner": {"reputation": 3, "user_id": 5403744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21af0a1b1308b3a0cb295c60fdc98f7b?s=128&d=identicon&r=PG&f=1", "display_name": "TheAndroidMonk", "link": "https://stackoverflow.com/users/5403744/theandroidmonk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 51493421, "answer_count": 3, "score": 0, "last_activity_date": 1532422196, "creation_date": 1532418147, "question_id": 51493110, "link": "https://stackoverflow.com/questions/51493110/calling-generic-functions-with-multiple-bounds", "title": "Calling generic functions with multiple bounds?", "body": "<p>What is the kotlin equivalent of this Java code? </p>\n\n<pre><code>private A typeA;\nprivate B typeB;\n\npublic Test(){\n  typeA = createType();\n  typeB = createType();\n}\n\nprivate &lt;T extends A &amp; B&gt; T createType(){\n    return null;\n}\n</code></pre>\n\n<p>I tried using the kotlin converter. I am not able to call createType().</p>\n\n<p>How can this be achieved ?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "is_accepted": true, "score": 1, "last_activity_date": 1532418677, "creation_date": 1532418677, "answer_id": 51493278, "question_id": 51493102, "link": "https://stackoverflow.com/questions/51493102/cache-property-read-from-database/51493278#51493278", "title": "Cache property read from database", "body": "<p>What you need is not lazy evaluation, but a backing field:</p>\n\n<pre><code>private var _startTime: Int? = null\n\nvar startTime: Int\n    get() = {\n        if (_startTime != null) {\n            return _startTime!!\n        } else {\n            // read value from database and assign it to _startTime\n        } \n    }\n    set(value) {\n        _startTime = value \n        // save value to database\n    }\n</code></pre>\n\n<p>Alternatively you could declare <code>_startTime</code> as non-nullable and have an additional flag <code>private var isStartTimeSet: Boolean = false</code> used for checking if it has been fetched from database already.</p>\n"}, {"comments": [{"owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "edited": false, "score": 0, "creation_date": 1532432765, "post_id": 51496657, "comment_id": 89963371, "body": "Yeah I know that but I need this for a variable (which has get and set) and not a value which is only readable."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "reply_to_user": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "edited": false, "score": 0, "creation_date": 1532435740, "post_id": 51496657, "comment_id": 89965432, "body": "@Cilenco I don&#39;t get it ... why would you cache a value that you can change? How will you know when to get a new value from the database?"}, {"owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "edited": false, "score": 0, "creation_date": 1532436715, "post_id": 51496657, "comment_id": 89966120, "body": "The value can only be changed by my program. In some cases I have to query the value very often which results in bad performance when doing it all the time from the DB. Sometimes I don&#39;t even have to get the value so lazy loading would be good here."}, {"owner": {"reputation": 1977, "user_id": 3301138, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OifFE.jpg?s=128&g=1", "display_name": "Otziii", "link": "https://stackoverflow.com/users/3301138/otziii"}, "edited": false, "score": 0, "creation_date": 1569916119, "post_id": 51496657, "comment_id": 102740591, "body": "Just change it to a var...?"}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 3, "last_activity_date": 1532429127, "creation_date": 1532429127, "answer_id": 51496657, "question_id": 51493102, "link": "https://stackoverflow.com/questions/51493102/cache-property-read-from-database/51496657#51496657", "title": "Cache property read from database", "body": "<p>Kotlin offers lazy properties (<a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/delegated-properties.html#lazy</a>) that are computed on first access and cached. </p>\n\n<pre><code>val lazyValue: String by lazy {\n  println(\"computed!\")\n  \"Hello\"\n}\n</code></pre>\n\n<p>\u200b</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  println(lazyValue)\n  println(lazyValue)\n}\n</code></pre>\n\n<p>Will produce</p>\n\n<pre><code>computed!\nHello\nHello\n</code></pre>\n"}], "owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 51493278, "answer_count": 2, "score": 1, "last_activity_date": 1532429127, "creation_date": 1532418127, "question_id": 51493102, "link": "https://stackoverflow.com/questions/51493102/cache-property-read-from-database", "title": "Cache property read from database", "body": "<p>Currently I'm starting to learn Kotlin. I have a property like this:</p>\n\n<pre><code>var startTime: Int\n    get() = {\n        // read value from database\n    }\n    set(value) {\n        // save value to database\n    }\n</code></pre>\n\n<p>Here I always read and write the value every time I use the getter and setter.</p>\n\n<p>Can this property be evaluated lazy? I want to read the value once the first time I use the getter and cache it for following calls. I know that values can be lazy but I found nothing about variables. What is the correct way in Kotlin to cache this property?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "facebook-login", "android-debug"], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532417710, "post_id": 51492422, "comment_id": 89954560, "body": "I did not find &quot;Select app to be debugged&quot; option in the menu. Can you please tell where it is? or Are you referring to the as told by @Hemant Parmar"}, {"owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 1, "creation_date": 1532417755, "post_id": 51492422, "comment_id": 89954580, "body": "@Eswar no. Its on the phone. You can go to phone settings as indicated in my answer"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532418049, "post_id": 51492422, "comment_id": 89954752, "body": "But I would not want to be doing this every time, for every app. I did have this problem previously. This only suggests that I&#39;ll have to do it every time I hit the run button?"}, {"owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532419516, "post_id": 51492422, "comment_id": 89955513, "body": "@Eswar its one time thing"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532424569, "post_id": 51492422, "comment_id": 89958423, "body": "Got it. Thank you."}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532424864, "post_id": 51492422, "comment_id": 89958605, "body": "It worked as a one time thing. I think it was selected before but accidentally sometime I deselected it."}], "tags": [], "owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "is_accepted": true, "score": 3, "last_activity_date": 1532417773, "last_edit_date": 1532417773, "creation_date": 1532415775, "answer_id": 51492422, "question_id": 51492371, "link": "https://stackoverflow.com/questions/51492371/my-app-waiting-for-debugger-in-release-mode-in-android-studio-3-1-3/51492422#51492422", "title": "My App waiting for debugger in release mode in android studio 3.1.3", "body": "<p>You might have added your app in <code>Select app to be debugged</code> on your phone. In <code>Settings -&gt; Developer Options -&gt; Select app to be debugged</code></p>\n\n<p>To resolve this, go to <strong>Select app to be debugged</strong> and click on <code>No apps</code></p>\n"}, {"comments": [{"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532416976, "post_id": 51492446, "comment_id": 89954075, "body": "Thank you it worked but every time I hit the run button, it throws the waiting for debugger on launching activity and then I have to attach the debugger to the process. Is there a way I can avoid doing this every time. Previous to adding the facebook login, I did not have such problems."}, {"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532417337, "post_id": 51492446, "comment_id": 89954294, "body": "make it <code>debuggable false</code>"}, {"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532417736, "post_id": 51492446, "comment_id": 89954575, "body": "are you run app by debug mode ?"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532418068, "post_id": 51492446, "comment_id": 89954762, "body": "I am not running in debug mode."}], "tags": [], "owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1532415842, "creation_date": 1532415842, "answer_id": 51492446, "question_id": 51492371, "link": "https://stackoverflow.com/questions/51492371/my-app-waiting-for-debugger-in-release-mode-in-android-studio-3-1-3/51492446#51492446", "title": "My App waiting for debugger in release mode in android studio 3.1.3", "body": "<p>Restart android studio and than check, if not fix than On some <strong>machines/projects</strong> the debugger do not attach automatically so you need to attach it manually.</p>\n\n<p><strong>(studio menu -> Run -> Attach debugger to Android process)</strong></p>\n\n<p>make sure you set debuggable true in release mode:</p>\n\n<pre><code> buildTypes {\n        release {\n            minifyEnabled false\n            shrinkResources false  \n            zipAlignEnabled true\n            debuggable true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 5821025, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kLVjjX7sdD0/AAAAAAAAAAI/AAAAAAAAD4Q/NNSVL1a3rI8/photo.jpg?sz=128", "display_name": "kalpesh vedak", "link": "https://stackoverflow.com/users/5821025/kalpesh-vedak"}, "is_accepted": false, "score": 0, "last_activity_date": 1532428861, "creation_date": 1532428861, "answer_id": 51496571, "question_id": 51492371, "link": "https://stackoverflow.com/questions/51492371/my-app-waiting-for-debugger-in-release-mode-in-android-studio-3-1-3/51496571#51496571", "title": "My App waiting for debugger in release mode in android studio 3.1.3", "body": "<p>I had this problem with the phone keeps waiting for debugger, I restarted the phone and that fixed the issue</p>\n"}], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3857, "favorite_count": 0, "accepted_answer_id": 51492422, "answer_count": 3, "score": 1, "last_activity_date": 1605369594, "creation_date": 1532415559, "question_id": 51492371, "link": "https://stackoverflow.com/questions/51492371/my-app-waiting-for-debugger-in-release-mode-in-android-studio-3-1-3", "title": "My App waiting for debugger in release mode in android studio 3.1.3", "body": "<p>I am an amateur in Kotlin and android studio. I am trying to integrate the facebook login to my app but end up at a roadblock. After following the facebook login for android integration tutorial, I am unable to run the app in release mode. I did previously run the same app in debug mode for debugging. But now the app on my phone says \"Waiting for Debugger\" in release mode too.</p>\n\n<p>I have done the following already and it has not worked.</p>\n\n<ol>\n<li>Set debuggable to false in release mode</li>\n<li>Restart ADB</li>\n<li>Restart Android Studio </li>\n<li>Restart phone </li>\n<li>Restart Computer </li>\n<li>Switch USB port </li>\n<li>Update everything </li>\n<li>moving the keystore inside the base path of my android project.</li>\n<li>set minifyEnabled false</li>\n<li>Tried Checking BuildConfig.BUILD_TYPE.equals(\"debug\")</li>\n</ol>\n\n<p>In the <code>Run</code> it shows,</p>\n\n<pre><code>07/24 12:11:43: Launching app\n$ adb shell am start -n \"com.example.vishwa.imaginators/com.example.vishwa.imaginators.SplashscreenActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nConnected to process 16495 on device xiaomi-redmi_note_3-57c506ac\nCapturing and displaying logcat messages from application. This behavior can be disabled in the \"Logcat output\" section of the \"Debugger\" settings page.\nW/ActivityThread: Application com.example.vishwa.imaginators is waiting for the debugger on port 8100...\nI/System.out: Sending WAIT chunk\n</code></pre>\n\n<p>I did not put up the <code>logcat</code>  because it's got tons of text in it.</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1532415783, "post_id": 51492160, "comment_id": 89953371, "body": "Thanks for making it work, but I found the real change is you use <code>User2::nameProperty</code> instead of <code>User2::name</code>. It&#39;s then working even if the property <code>id</code> and <code>name</code> keeps unchanged"}, {"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1532415981, "post_id": 51492160, "comment_id": 89953480, "body": "And I also found in the official guid mentioned in the question actually uses <code>column(&quot;Name&quot;, Person::nameProperty)</code> too, not <code>column(&quot;Name&quot;, Person::name)</code>, so the cause is found. I think there are two similar properties(like <code>id</code>, <code>idProperty</code>) in the <code>User2</code> makes it easy to use the wrong one and hard to find it bug, since the code is compilable."}], "tags": [], "owner": {"reputation": 827, "user_id": 1868281, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0OJRO.jpg?s=128&g=1", "display_name": "Selim", "link": "https://stackoverflow.com/users/1868281/selim"}, "is_accepted": true, "score": 2, "last_activity_date": 1532414862, "creation_date": 1532414862, "answer_id": 51492160, "question_id": 51491615, "link": "https://stackoverflow.com/questions/51491615/change-the-value-of-a-property-of-some-data-but-tableview-doesnt-update/51492160#51492160", "title": "Change the value of a property of some data, but tableview doesn&#39;t update", "body": "<p>It looks like this issue is caused by confusing naming :-)</p>\n\n<p>When refactoring User2 and renaming some fields it becomes evident that you were using the <code>String</code> and <code>Int</code> fields instead of the <code>StringProperty</code> and <code>IntegerProperty</code>, which obviously don't support binding.</p>\n\n<p>If <code>User2</code> looks like following:</p>\n\n<pre><code>class User2(id: Int, name: String) {\n    val idProperty = SimpleIntegerProperty(id)\n    var myId by idProperty\n\n    val nameProperty = SimpleStringProperty(name)\n    var myName by nameProperty\n}\n</code></pre>\n\n<p>And the code changing it like following:</p>\n\n<pre><code>vbox {\n    tableview(data2) {\n        column(\"myId\", User2::myId)\n        column(\"myName\", User2::nameProperty).minWidth(200)\n    }\n    button(\"Modify data with type of User2\").setOnAction {\n        data2.forEach { it.myName += \" changed!\" }\n    }\n}\n</code></pre>\n\n<p>Everything seems to be working fine. As you can see before you were changing only the <code>Int</code> and <code>String</code> fields which doesn't lead to any updates.</p>\n"}, {"comments": [{"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1532418715, "post_id": 51492522, "comment_id": 89955110, "body": "Thanks, Edvin. Just found the first way to define <code>User2</code> makes it easy to use wrong property by mistake and hard to figure it out, since they are similar, and the code is compilable, and it works for most of cases."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": false, "score": 1, "last_activity_date": 1532416099, "creation_date": 1532416099, "answer_id": 51492522, "question_id": 51491615, "link": "https://stackoverflow.com/questions/51491615/change-the-value-of-a-property-of-some-data-but-tableview-doesnt-update/51492522#51492522", "title": "Change the value of a property of some data, but tableview doesn&#39;t update", "body": "<p>For observable properties you must reference the property, not the getter. If you reference the getter you will see data, but it will never update. Go back to the way you defined the User object first, then reference User::idProperty and User::nameProperty for the columns.</p>\n"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 51492160, "answer_count": 2, "score": 1, "last_activity_date": 1532416099, "creation_date": 1532412811, "question_id": 51491615, "link": "https://stackoverflow.com/questions/51491615/change-the-value-of-a-property-of-some-data-but-tableview-doesnt-update", "title": "Change the value of a property of some data, but tableview doesn&#39;t update", "body": "<p>For a very simple table demo of TornadoFX, I just want to show some <code>users</code> in a view, and changes the names of them when clicking on a <code>change</code> button. But the problem is the modified data is not shown in table.</p>\n\n<p>The main code is as following:</p>\n\n<pre><code>class User2(id: Int, name: String) {\n    val idProperty = SimpleIntegerProperty(id)\n    var id by idProperty\n\n    val nameProperty = SimpleStringProperty(name)\n    var name by nameProperty\n}\n\nval data2 = listOf(User2(111, \"AAA\"), User2(222, \"BBB\"), User2(333, \"CCC\")).observable()\n\nvbox {\n    tableview(data2) {\n        column(\"id\", User2::id)\n        column(\"name\", User2::name).minWidth(200)\n    }\n    button(\"Modify data with type of User2\").setOnAction {\n        data2.forEach { it.name += \" changed!\" }\n    }\n}\n</code></pre>\n\n<p>Instead, if I define the <code>User2</code> as following (also changed the class name to <code>User1</code>):</p>\n\n<pre><code>class User1(id: Int, name: String) {\n    val id = SimpleIntegerProperty(id)\n    val name = SimpleStringProperty(name)\n}\n</code></pre>\n\n<p>Everything is working well. </p>\n\n<p>I can't find why the first one is not working (as the code is most copied form <a href=\"https://github.com/edvin/tornadofx-guide/blob/master/part1/11.%20Editing%20Models%20and%20Validation.md#a-typical-use-case\" rel=\"nofollow noreferrer\">the official guide</a>)</p>\n\n<p>Update:</p>\n\n<p>A complete small demo to represent this question: <a href=\"https://github.com/javafx-demos/tornadofx-table-property-change-issue-demo\" rel=\"nofollow noreferrer\">https://github.com/javafx-demos/tornadofx-table-property-change-issue-demo</a></p>\n"}, {"tags": ["kotlin", "vert.x", "junit5"], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 809984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a17cd98aab2cc4d8e144741e11b1b7?s=128&d=identicon&r=PG", "display_name": "jponge", "link": "https://stackoverflow.com/users/809984/jponge"}, "is_accepted": false, "score": 0, "last_activity_date": 1532436257, "creation_date": 1532436257, "answer_id": 51498965, "question_id": 51490655, "link": "https://stackoverflow.com/questions/51490655/vert-x-test-halts-with-timeoutexception-the-test-execution-timed-out/51498965#51498965", "title": "Vert.x Test halts with TimeoutException: The test execution timed out", "body": "<p>Would you have a minimal reproducer project somewhere?</p>\n"}, {"comments": [{"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 1, "creation_date": 1532471690, "post_id": 51507706, "comment_id": 89985895, "body": "There is always. Something. Little. Tiny. Thanks for the tip!"}, {"owner": {"reputation": 309, "user_id": 809984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a17cd98aab2cc4d8e144741e11b1b7?s=128&d=identicon&r=PG", "display_name": "jponge", "link": "https://stackoverflow.com/users/809984/jponge"}, "reply_to_user": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 1, "creation_date": 1532509296, "post_id": 51507706, "comment_id": 89998080, "body": "Perhaps we should add a <code>completing()</code> helper method to reduce the boilerplate."}], "tags": [], "owner": {"reputation": 309, "user_id": 809984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a17cd98aab2cc4d8e144741e11b1b7?s=128&d=identicon&r=PG", "display_name": "jponge", "link": "https://stackoverflow.com/users/809984/jponge"}, "is_accepted": true, "score": 2, "last_activity_date": 1532467297, "creation_date": 1532467297, "answer_id": 51507706, "question_id": 51490655, "link": "https://stackoverflow.com/questions/51490655/vert-x-test-halts-with-timeoutexception-the-test-execution-timed-out/51507706#51507706", "title": "Vert.x Test halts with TimeoutException: The test execution timed out", "body": "<p>I ran your code and noticed that the execution never reached the test method.</p>\n\n<p>You need to also close your context in <code>@BeforeEach</code> methods:</p>\n\n<pre><code>@BeforeEach\nfun prepare(vertx: Vertx, testContext: VertxTestContext) {\n  vertx.deployVerticle(DialPadVerticle(), testContext.succeeding {\n    testContext.completeNow()\n  })\n}\n</code></pre>\n\n<p><code>testContext.succeeding</code> only provides a <code>AsyncResult</code> handler that checks that the result succeeded, but it does not mark the whole test context as having completed. It simplifies checking intermediary steps.</p>\n\n<p>Now the test passes just fine!</p>\n"}], "owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "accepted_answer_id": 51507706, "answer_count": 2, "score": 0, "last_activity_date": 1532467297, "creation_date": 1532407774, "question_id": 51490655, "link": "https://stackoverflow.com/questions/51490655/vert-x-test-halts-with-timeoutexception-the-test-execution-timed-out", "title": "Vert.x Test halts with TimeoutException: The test execution timed out", "body": "<p>I'm using Vert.x <code>3.5.3</code>. I have this (simple) Verticle:</p>\n\n<pre><code>class DialPadVerticle : AbstractVerticle() {\n  private companion object : KLogging()\n\n  override fun start(future: Future&lt;Void&gt;) {\n    vertx.eventBus().consumer(Address.DIALPAD_COMBINATIONS) { message: Message&lt;Int&gt; -&gt;\n      val input = message.body()\n      logger.info { \"Received: $input\" }\n      message.reply(JsonObject().put(\"result\", DialPad().combinations(input)))\n    }\n    future.complete()\n  }\n\n  override fun stop(future: Future&lt;Void&gt;) {\n    logger.debug { \"Stopping ${this.javaClass.simpleName} (${deploymentID()})...DONE\" }\n    future.complete()\n  }\n}\n</code></pre>\n\n<p>...and I'm trying to build a unit test skeleton for it using the experimental (yet) <code>vertx-junit5</code>. So far, I have this:</p>\n\n<pre><code>@ExtendWith(VertxExtension::class)\n@DisplayName(\"Dial pad verticle should...\")\ninternal class DialPadVerticleTest {\n  @BeforeEach\n  fun prepare(vertx: Vertx, testContext: VertxTestContext) {\n    vertx.deployVerticle(DialPadVerticle(), testContext.succeeding())\n  }\n\n  @Test\n  @Throws(Exception::class)\n  @DisplayName(\"Consume Message&lt;Int&gt; correctly\")\n  fun `consume message correctly`(vertx: Vertx, testContext: VertxTestContext) {\n    vertx.eventBus().send&lt;JsonObject&gt;(Address.DIALPAD_COMBINATIONS, 5) {\n      // Assertions.assertThat(it.succeeded()).isTrue()\n      testContext.verify {\n        testContext.completeNow()\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>But every time I try to run that from within IntelliJ, I'm getting:</p>\n\n<pre><code>java.util.concurrent.TimeoutException: The test execution timed out\nat io.vertx.junit5.VertxExtension.joinActiveTestContexts(VertxExtension.java:213)\n    at io.vertx.junit5.VertxExtension.beforeTestExecution(VertxExtension.java:171)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeTestExecutionCallbacks$4(TestMethodTestDescriptor.java:141)\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:155)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeTestExecutionCallbacks(TestMethodTestDescriptor.java:140)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:111)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:113)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:121)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:121)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:121)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:121)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:55)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:74)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>Is this somehow a bug on the <code>vertx-junit5</code> library? I've noticed also that, if the Verticles relies on some external config, even though I pass the correct <code>DeploymentOptions().setConfig(JsonObject().put(...))</code> as second parameter to <code>deployVerticle</code>, it doesn't read those.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1057, "user_id": 3678807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac38d89c71733cecb295c73413ebcd1c?s=128&d=identicon&r=PG", "display_name": "Vinay Rathod", "link": "https://stackoverflow.com/users/3678807/vinay-rathod"}, "edited": false, "score": 2, "creation_date": 1532405675, "post_id": 51490354, "comment_id": 89949175, "body": "please refer this <a href=\"https://tutorialwing.com/android-datepicker-using-kotlin-example/\" rel=\"nofollow noreferrer\">tutorialwing.com/android-datepicker-using-kotlin-example</a> or post your code."}, {"owner": {"reputation": 880, "user_id": 6559031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RJppD.jpg?s=128&g=1", "display_name": "Devil10", "link": "https://stackoverflow.com/users/6559031/devil10"}, "edited": false, "score": 1, "creation_date": 1532406120, "post_id": 51490354, "comment_id": 89949301, "body": "post your code of datepicker here"}, {"owner": {"reputation": 1, "user_id": 2357171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4317a18e17f5a2661fd44e3cdffa9b?s=128&d=identicon&r=PG", "display_name": "user205650", "link": "https://stackoverflow.com/users/2357171/user205650"}, "edited": false, "score": 1, "creation_date": 1532406292, "post_id": 51490354, "comment_id": 89949351, "body": "Same thing I am getting M07 instead of July"}, {"owner": {"reputation": 1841, "user_id": 5180572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wo2Rf.jpg?s=128&g=1", "display_name": "Shivam Kumar", "link": "https://stackoverflow.com/users/5180572/shivam-kumar"}, "edited": false, "score": 1, "creation_date": 1532406438, "post_id": 51490354, "comment_id": 89949401, "body": "Can you share your code?"}, {"owner": {"reputation": 1, "user_id": 2357171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4317a18e17f5a2661fd44e3cdffa9b?s=128&d=identicon&r=PG", "display_name": "user205650", "link": "https://stackoverflow.com/users/2357171/user205650"}, "edited": false, "score": 0, "creation_date": 1532406741, "post_id": 51490354, "comment_id": 89949497, "body": "val c = Calendar.getInstance()             val year = c.get(Calendar.YEAR)             val month = c.get(Calendar.MONTH)             val day = c.get(Calendar.DAY_OF_MONTH)             val datePickerDialog = DatePickerDialog(activity,                     DatePickerDialog.OnDateSetListener { view, year, monthOfYear, dayOfMonth -&gt;                         //differnce(dayOfMonth, monthOfYear, year, false)                      }, year, month, day)             datePickerDialog.show()"}, {"owner": {"reputation": 3205, "user_id": 9473786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1276343f8bb1e31a8d6d9bde959eccb1?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler V", "link": "https://stackoverflow.com/users/9473786/tyler-v"}, "edited": false, "score": 1, "creation_date": 1532407159, "post_id": 51490354, "comment_id": 89949614, "body": "I see this when the Locale gets messed up in the emulator sometimes. Try picking a new locale in the regular android settings page (not the &quot;Custom Locale&quot; tool) or wiping the emulator and doing a fresh install."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1532425094, "post_id": 51490354, "comment_id": 89958712, "body": "Thanks for the code. It\u2019s unreadable in the comment. Instead <a href=\"https://stackoverflow.com/posts/51490354/edit\">edit your question</a> and add your code there, nicely formatted. Thx."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2357171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4317a18e17f5a2661fd44e3cdffa9b?s=128&d=identicon&r=PG", "display_name": "user205650", "link": "https://stackoverflow.com/users/2357171/user205650"}, "edited": false, "score": 0, "creation_date": 1532483618, "post_id": 51490774, "comment_id": 89988605, "body": "Same issue with this."}, {"owner": {"reputation": 1, "user_id": 2357171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4317a18e17f5a2661fd44e3cdffa9b?s=128&d=identicon&r=PG", "display_name": "user205650", "link": "https://stackoverflow.com/users/2357171/user205650"}, "edited": false, "score": 0, "creation_date": 1532486458, "post_id": 51490774, "comment_id": 89989070, "body": "If same code implement in other project working fine, but in which i want in that its behaving different."}], "tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 0, "last_activity_date": 1532408472, "creation_date": 1532408472, "answer_id": 51490774, "question_id": 51490354, "link": "https://stackoverflow.com/questions/51490354/datepicker-in-kotlin-showing-wrong-month/51490774#51490774", "title": "DatePicker in Kotlin showing wrong month", "body": "<p><strong>try this:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar button_date: Button? = null\nvar textview_date: TextView? = null\nvar cal = Calendar.getInstance()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // get the references from layout file\n    textview_date = this.text_view_date_1\n    button_date = this.button_date_1\n\n    textview_date!!.text = \"--/--/----\"\n\n    // create an OnDateSetListener\n    val dateSetListener = object : DatePickerDialog.OnDateSetListener {\n        override fun onDateSet(view: DatePicker, year: Int, monthOfYear: Int,\n                               dayOfMonth: Int) {\n            cal.set(Calendar.YEAR, year)\n            cal.set(Calendar.MONTH, monthOfYear)\n            cal.set(Calendar.DAY_OF_MONTH, dayOfMonth)\n            updateDateInView()\n        }\n    }\n\n    // when you click on the button, show DatePickerDialog that is set with OnDateSetListener\n    button_date!!.setOnClickListener(object : View.OnClickListener {\n        override fun onClick(view: View) {\n            DatePickerDialog(this@MainActivity,\n                    dateSetListener,\n                    // set DatePickerDialog to point to today's date when it loads up\n                    cal.get(Calendar.YEAR),\n                    cal.get(Calendar.MONTH),\n                    cal.get(Calendar.DAY_OF_MONTH)).show()\n        }\n\n    })\n}\n\nprivate fun updateDateInView() {\n    val myFormat = \"MM/dd/yyyy\" // mention the format you need\n    val sdf = SimpleDateFormat(myFormat, Locale.US)\n    textview_date!!.text = sdf.format(cal.getTime())\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7hj6N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7hj6N.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>show calendar like this please try</strong></p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 10972607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DqPHW.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/10972607/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1581685645, "creation_date": 1581685645, "answer_id": 60226958, "question_id": 51490354, "link": "https://stackoverflow.com/questions/51490354/datepicker-in-kotlin-showing-wrong-month/60226958#60226958", "title": "DatePicker in Kotlin showing wrong month", "body": "<p>Try replacing </p>\n\n<p><code>{ view, year, monthOfYear, dayOfMonth -&gt; //differnce(dayOfMonth, monthOfYear, year, false) }</code></p>\n\n<p>With </p>\n\n<p><code>{ view, year, monthOfYear, dayOfMonth -&gt;\n                this.year = year\n                this.month = monthOfYear\n                this.dayOfMonth = dayOfMonth}</code></p>\n"}, {"comments": [{"owner": {"reputation": 621, "user_id": 1517394, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7ad38b14cd24361ef0bf8ed757ce8a83?s=128&d=identicon&r=PG", "display_name": "qaisjp", "link": "https://stackoverflow.com/users/1517394/qaisjp"}, "edited": false, "score": 0, "creation_date": 1587822350, "post_id": 61423926, "comment_id": 108662681, "body": "Hi, welcome to Stack Overflow! You should try and leave useful information rather than just dumping code as an answer."}], "tags": [], "owner": {"reputation": 1, "user_id": 13404309, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/98b8dafe8bc388c8f2be7855101e5242?s=128&d=identicon&r=PG", "display_name": "MeesamGardezi", "link": "https://stackoverflow.com/users/13404309/meesamgardezi"}, "is_accepted": false, "score": 0, "last_activity_date": 1587808747, "creation_date": 1587808747, "answer_id": 61423926, "question_id": 51490354, "link": "https://stackoverflow.com/questions/51490354/datepicker-in-kotlin-showing-wrong-month/61423926#61423926", "title": "DatePicker in Kotlin showing wrong month", "body": "<pre><code>datebtn.setOnClickListener {\n            val c= Calendar.getInstance()\n            val year= c.get(Calendar.YEAR)\n            val month = c.get(Calendar.MONTH)\n            val day = c.get(Calendar.DAY_OF_MONTH)\n            var dpd = DatePickerDialog(this,DatePickerDialog.OnDateSetListener { view, mYear,mMonth , mDay -&gt;\n                val mmMonth = mMonth+1\n                val date = \"$mDay/$mmMonth/$mYear\"\n                datetv.setText(date)\n            },year,month,day)\n            dpd.show()\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2357171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4317a18e17f5a2661fd44e3cdffa9b?s=128&d=identicon&r=PG", "display_name": "user205650", "link": "https://stackoverflow.com/users/2357171/user205650"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1536, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1587808747, "creation_date": 1532405554, "last_edit_date": 1532412471, "question_id": 51490354, "link": "https://stackoverflow.com/questions/51490354/datepicker-in-kotlin-showing-wrong-month", "title": "DatePicker in Kotlin showing wrong month", "body": "<p>When implementing <strong>Datepicker</strong> in <code>kotlin</code> instead of <code>July</code> its showing <code>M07</code> in all devices.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Wp4M4.jpg\" alt=\"enter image description here\"></p>\n\n<p>Here is code for Date Picker:</p>\n\n<pre><code>val c = Calendar.getInstance()\nval year = c.get(Calendar.YEAR)\nval month = c.get(Calendar.MONTH)\nval day = c.get(Calendar.DAY_OF_MONTH)\nval datePickerDialog = DatePickerDialog(activity, DatePickerDialog.OnDateSetListener { view, year, monthOfYear, dayOfMonth -&gt; //differnce(dayOfMonth, monthOfYear, year, false) }, year, month, day) datePickerDialog.show()\n</code></pre>\n"}, {"tags": ["android", "gradle", "intellij-idea", "kotlin", "kotlintest"], "comments": [{"owner": {"reputation": 2928, "user_id": 1643115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5599809acb9ff46f9876196143db83b5?s=128&d=identicon&r=PG", "display_name": "Kirill Gamazkov", "link": "https://stackoverflow.com/users/1643115/kirill-gamazkov"}, "edited": false, "score": 0, "creation_date": 1568061963, "post_id": 51489823, "comment_id": 102148189, "body": "IDEA CE 2019.2, issue is still here. Big thanks for 3.1.5 workaround. Did you submit bugreport to JetBrains?"}], "answers": [{"tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": true, "score": 1, "last_activity_date": 1532401001, "creation_date": 1532401001, "answer_id": 51489824, "question_id": 51489823, "link": "https://stackoverflow.com/questions/51489823/noclassdeffounderror-when-trying-to-execute-junit-4-test-in-intellij-2018-2-rc/51489824#51489824", "title": "NoClassDefFoundError when trying to execute JUnit 4 test in Intellij 2018.2.RC", "body": "<p>I'm unsure of what is causing this, but after hours of useless research, \nI've found a workaround to solve this issue. </p>\n\n<p>It seems to be a bug in IntelliJ IDEA 2018.2.RC, that causes it to execute code using JUnit 5 anyways. It looks like that it does that because it doesn't find any other TestExecutor in the classpath.</p>\n\n<p>A Workaround to this is forcing your UnitTest to be compiled after IntelliJ builds it.</p>\n\n<hr>\n\n<p>For that, edit your tests configuration:</p>\n\n<p><a href=\"https://i.stack.imgur.com/G2Wu6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2Wu6.png\" alt=\"enter image description here\"></a></p>\n\n<p>And add a Gradle task to <code>compileDebugUnitTestKotlin</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d7xV1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d7xV1.png\" alt=\"enter image description here\"></a></p>\n\n<p>After this, your tests should become green again.</p>\n"}, {"comments": [{"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 1, "creation_date": 1532827137, "post_id": 51576401, "comment_id": 90118486, "body": "I did find a workaround by downgrading to 3.1.5, And <a href=\"https://github.com/kotlintest/kotlintest/issues/385\" rel=\"nofollow noreferrer\">this was reported to the developer</a>"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532827151, "post_id": 51576401, "comment_id": 90118491, "body": "But it&#39;s very unfortunate that executing compileDebugunitTestKotlin didn&#39;t work for you :x"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1532827182, "post_id": 51576401, "comment_id": 90118497, "body": "You can also execute in Terminal -&gt; <code>.&#47;gradlew test</code> and see the test results it generates (it&#39;s an index.html file) in the browser"}], "tags": [], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "is_accepted": false, "score": 1, "last_activity_date": 1532826033, "creation_date": 1532826033, "answer_id": 51576401, "question_id": 51489823, "link": "https://stackoverflow.com/questions/51489823/noclassdeffounderror-when-trying-to-execute-junit-4-test-in-intellij-2018-2-rc/51576401#51576401", "title": "NoClassDefFoundError when trying to execute JUnit 4 test in Intellij 2018.2.RC", "body": "<p>I have the same problem, and adding <code>app:compileDebugUnitTestKotlin</code> to run configuration didn't work for me. I even replaced <code>Gradle-aware Make</code> with <code>Build</code> to get the same configuration, but it didn't help either.</p>\n\n<p>I also tried to annotate the class with <code>@RunWith(JUnit4::class)</code> since you suggested it was executed with Junit 5. But this also didn't help.</p>\n\n<p>What helped though was to downgrade to <code>3.1.5</code>. But it's not the best solution, since there are some useful functions in newer versions.</p>\n\n<p>It's good to know it works from command line though. This way I can use the newest version and run tests using the Gradle run configuration for <code>app:test</code> and look at results in the browser. Not perfect, but...</p>\n"}], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1739, "favorite_count": 1, "accepted_answer_id": 51489824, "answer_count": 2, "score": 5, "last_activity_date": 1597463527, "creation_date": 1532401001, "question_id": 51489823, "link": "https://stackoverflow.com/questions/51489823/noclassdeffounderror-when-trying-to-execute-junit-4-test-in-intellij-2018-2-rc", "title": "NoClassDefFoundError when trying to execute JUnit 4 test in Intellij 2018.2.RC", "body": "<p>When trying to execute a very simple Hello World test in Android, using KotlinTest:</p>\n\n<pre><code>class ExampleUnitTest : FreeSpec() {\n\ninit {\n    \"Test\" {\n        2 + 2 shouldBe 4\n    }\n   }\n}\n</code></pre>\n\n<p>When trying to execute this in IntelliJ, by clicking the green icon, I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestExecutionListener\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.createListeners(JUnit5IdeaTestRunner.java:39)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:45)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.launcher.TestExecutionListener\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 16 more\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I'm using this dependency:</p>\n\n<pre><code>testImplementation \"io.kotlintest:kotlintest-runner-junit4:3.1.8\"\n</code></pre>\n\n<p>JUnit 4 is necessary because Android doesn't support JUnit 5 yet.</p>\n\n<p><strong>When executing <code>./gradlew test</code> it works correctly</strong>, so I assume this is a problem with IntelliJ only?</p>\n"}, {"tags": ["java", "android", "kotlin", "picasso", "android-glide"], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1532415695, "post_id": 51489174, "comment_id": 89953316, "body": "please note that in this way you won&#39;t check the HTTPS certificate authenticity, so you could potentially allow some kinds of attacks"}, {"owner": {"reputation": 27, "user_id": 10096300, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_gSx5z491Q/AAAAAAAAAAI/AAAAAAAAR-M/lfHYO7wUmJg/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10096300/daniel"}, "edited": false, "score": 0, "creation_date": 1532435265, "post_id": 51489174, "comment_id": 89965099, "body": "Sadly, it doesn&#39;t work either. It gives the same error: com.squareup.picasso.Downloader$ResponseException: 403 Forbidden"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 27, "user_id": 10096300, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_gSx5z491Q/AAAAAAAAAAI/AAAAAAAAR-M/lfHYO7wUmJg/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10096300/daniel"}, "edited": false, "score": 0, "creation_date": 1532686424, "post_id": 51489174, "comment_id": 90078254, "body": "@Daniel error 403 shouldn&#39;t be linked to HTTPS, but rather to authentication/authorization. Did you try with other tools like Postman?"}], "tags": [], "owner": {"reputation": 1611, "user_id": 2537754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb841ab4eb6911fd04defe4c4ec3bd10?s=128&d=identicon&r=PG", "display_name": "Thientvse", "link": "https://stackoverflow.com/users/2537754/thientvse"}, "is_accepted": false, "score": 2, "last_activity_date": 1532416039, "last_edit_date": 1532416039, "creation_date": 1532395406, "answer_id": 51489174, "question_id": 51489155, "link": "https://stackoverflow.com/questions/51489155/picasso-wont-download-valid-url/51489174#51489174", "title": "Picasso won&#39;t download valid URL", "body": "<p>Picasso dont support https method. You can refer the way:\nThe first, you can import :</p>\n\n<pre><code>compile 'com.squareup.okhttp:okhttp:2.2.0'\ncompile 'com.squareup.okhttp:okhttp-urlconnection:2.2.0'\ncompile 'com.squareup.picasso:picasso:2.4.0'\n</code></pre>\n\n<p>And creating custom class :</p>\n\n<pre><code>    public class PicassoTrustAll {\n\n    private static Picasso mInstance = null;\n\n    private PicassoTrustAll(Context context) {\n        OkHttpClient client = new OkHttpClient();\n        client.setHostnameVerifier(new HostnameVerifier() {\n            @Override\n            public boolean verify(String s, SSLSession sslSession) {\n                return true;\n            }\n        });\n        TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n            @Override\n            public void checkClientTrusted(\n                    java.security.cert.X509Certificate[] x509Certificates,\n                    String s) throws java.security.cert.CertificateException {\n            }\n\n            @Override\n            public void checkServerTrusted(\n                    java.security.cert.X509Certificate[] x509Certificates,\n                    String s) throws java.security.cert.CertificateException {\n            }\n\n            @Override\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return new java.security.cert.X509Certificate[] {};\n            }\n        } };\n        try {\n            SSLContext sc = SSLContext.getInstance(\"TLS\");\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\n            client.setSslSocketFactory(sc.getSocketFactory());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        mInstance = new Picasso.Builder(context)\n                .downloader(new OkHttpDownloader(client))\n                .listener(new Picasso.Listener() {\n                    @Override\n                    public void onImageLoadFailed(Picasso picasso, Uri uri, Exception exception) {\n                        Log.e(\"PICASSO\", exception);\n                    }\n                }).build();\n\n    }\n\n    public static Picasso getInstance(Context context) {\n        if (mInstance == null) {\n             new PicassoTrustAll(context);\n        }\n        return mInstance;\n    }\n}\n</code></pre>\n\n<p>You can use that:</p>\n\n<pre><code>PicassoTrustAll.getInstance(context)\n            .load(url)\n            .into(imageView);\n</code></pre>\n\n<p>I hope it can help your problem!</p>\n"}], "owner": {"reputation": 27, "user_id": 10096300, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_gSx5z491Q/AAAAAAAAAAI/AAAAAAAAR-M/lfHYO7wUmJg/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10096300/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553439580, "creation_date": 1532395110, "last_edit_date": 1592644375, "question_id": 51489155, "link": "https://stackoverflow.com/questions/51489155/picasso-wont-download-valid-url", "title": "Picasso won&#39;t download valid URL", "body": "<p>When I try to download an image from the website <a href=\"http://filmaffinity.com\" rel=\"nofollow noreferrer\" title=\"FilmAffinity\">FilmAffinity</a> it won't work, but with other images from other websites it does. The code I'm using is</p>\n<pre><code>    Picasso.get().load(&quot;https://pics.filmaffinity.com/mamma_mia_here_we_go_again-440727588-mmed.jpg&quot;).into(imageView)\n</code></pre>\n<p>If I use a Callback, I see the following error: com.squareup.picasso.NetworkRequestHandler$ResponseException: HTTP 403</p>\n<p>It seems that the user doesn't have access to the website, but if I try to open that same link in Chrome, it works flawlessly.</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 244, "user_id": 1835021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b0hsQ.jpg?s=128&g=1", "display_name": "Malba", "link": "https://stackoverflow.com/users/1835021/malba"}, "is_accepted": false, "score": -1, "last_activity_date": 1532398437, "creation_date": 1532398437, "answer_id": 51489504, "question_id": 51489023, "link": "https://stackoverflow.com/questions/51489023/issue-with-automatically-injecting-activities-with-dagger-2/51489504#51489504", "title": "Issue with automatically injecting activities with Dagger 2", "body": "<p>You should be able to inject these as you would other classes. Providing the examples in Java. Assuming you have <code>AppComponent</code> and <code>AppModule</code> classes:</p>\n\n<pre><code>@Component(modules = AppModule.class)\npublic interface AppComponent {\n....\nvoid inject(App app);\n....\n}\n\n\n@Module\npublic class AppModule {\n   @Provides\n   FacebookActivity providesFacebookActivity() {\n      return new FacebookActivity();\n   }\n}\n</code></pre>\n\n<p>Then you can annotate the FacebookActivity to be injected into your main activity.</p>\n\n<pre><code>@Inject FacebookActivity mFacebookActivity;\n</code></pre>\n\n<p>So my external activity is injected into my main activity, which in turn implements the <code>AndroidInjection.inject(this)</code> defined in the <code>AppComponent</code>. The component links to the <code>AppModule</code> which has the <code>@Provides</code> for the <code>FacebookActivity</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": false, "score": 1, "last_activity_date": 1532420397, "creation_date": 1532420397, "answer_id": 51493802, "question_id": 51489023, "link": "https://stackoverflow.com/questions/51489023/issue-with-automatically-injecting-activities-with-dagger-2/51493802#51493802", "title": "Issue with automatically injecting activities with Dagger 2", "body": "<p>Your solution is fine but as you say it won't scale well.</p>\n\n<p>You can have a look at one of the <a href=\"https://github.com/googlesamples/android-architecture-components/blob/5516724bd9f02c5bffb17945d9796e29ff95c76f/GithubBrowserSample/app/src/main/java/com/android/example/github/di/AppInjector.kt\" rel=\"nofollow noreferrer\">Google Samples</a> where they implement a <code>HasSupportFragmentInjector</code> interface to determine whether they want to inject an Activity.</p>\n\n<pre><code>private fun handleActivity(activity: Activity) {\n    if (activity is HasSupportFragmentInjector) {\n        AndroidInjection.inject(activity)\n    }\n    if (activity is FragmentActivity) {\n        activity.supportFragmentManager\n            .registerFragmentLifecycleCallbacks(\n                object : FragmentManager.FragmentLifecycleCallbacks() {\n                    override fun onFragmentCreated(\n                        fm: FragmentManager,\n                        f: Fragment,\n                        savedInstanceState: Bundle?\n                    ) {\n                        if (f is Injectable) {\n                            AndroidSupportInjection.inject(f)\n                        }\n                    }\n                }, true\n            )\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 477, "user_id": 9436750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214108414778002/picture?type=large", "display_name": "James Pooley", "link": "https://stackoverflow.com/users/9436750/james-pooley"}, "edited": false, "score": 0, "creation_date": 1532436107, "post_id": 51494050, "comment_id": 89965693, "body": "Thanks for the detailed explanation. Using the Injectable interface as a marker was easy to implement and appears to be working fine."}], "tags": [], "owner": {"reputation": 1000, "user_id": 1801202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae36ff26147dfb97e5021c2572b86bd?s=128&d=identicon&r=PG", "display_name": "theJango", "link": "https://stackoverflow.com/users/1801202/thejango"}, "is_accepted": true, "score": 3, "last_activity_date": 1532421223, "creation_date": 1532421223, "answer_id": 51494050, "question_id": 51489023, "link": "https://stackoverflow.com/questions/51489023/issue-with-automatically-injecting-activities-with-dagger-2/51494050#51494050", "title": "Issue with automatically injecting activities with Dagger 2", "body": "<p>The way to do this is quite simple.\nIf You look at Google Samples You will have a clear direction. Like <a href=\"https://github.com/googlesamples/android-architecture-components/tree/master/GithubBrowserSample\" rel=\"nofollow noreferrer\">GitHubBrowserSample</a></p>\n\n<p>So You will create an <code>interface Injectable</code> like this, basically a marker interface.</p>\n\n<pre><code>/**\n * Marks an activity / fragment injectable.\n */\ninterface Injectable\n</code></pre>\n\n<p>Each activity or fragment will implement this interface for example like this (in Kotlin)</p>\n\n<pre><code>open class BaseActivity : AppCompatActivity(),Injectable {\n\n@Inject\nlateinit var viewModelFactory: ViewModelProvider.Factory\nlateinit var baseActivityViewModel: BaseActivityViewModel\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    AndroidInjection.inject(this)\n    baseActivityViewModel = ViewModelProviders.of(this, viewModelFactory)\n            .get(BaseActivityViewModel::class.java)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Important lines are : </p>\n\n<p><code>open class BaseActivity : AppCompatActivity(),Injectable</code></p>\n\n<pre><code>AndroidInjection.inject(this)\n</code></pre>\n\n<p>Create an Activity module to contribute Activity object</p>\n\n<pre><code>/**\n * Module to contribute all the activities.\n */\n@Module\nabstract class ActivityModule {\n\n    @ContributesAndroidInjector\n    internal abstract fun contributeSplashActivity(): SplashActivity\n\n}\n</code></pre>\n\n<p>and finally <code>DaggerInjector</code> to enable injection</p>\n\n<pre><code>/**\n * Helper to inject all the activities and fragments that are marked Injectable.\n */\n\nobject DaggerInjector {\n\n    fun injectAll(application: TurtleApp) {\n        DaggerAppComponent.builder()\n                .application(application)\n                .build().inject(application)\n        application\n                .registerActivityLifecycleCallbacks(object : Application.ActivityLifecycleCallbacks {\n                    override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {\n                        injectComponents(activity)\n                    }\n\n                    override fun onActivityStarted(activity: Activity) {\n\n                    }\n\n                    override fun onActivityResumed(activity: Activity) {\n\n                    }\n\n                    override fun onActivityPaused(activity: Activity) {\n\n                    }\n\n                    override fun onActivityStopped(activity: Activity) {\n\n                    }\n\n                    override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {\n\n                    }\n\n                    override fun onActivityDestroyed(activity: Activity) {\n\n                    }\n                })\n    }\n\n    private fun injectComponents(activity: Activity) {\n        if (activity is Injectable) {\n            AndroidInjection.inject(activity)\n        }\n//        (activity as? FragmentActivity)?.supportFragmentManager?.registerFragmentLifecycleCallbacks(\n//                object : FragmentManager.FragmentLifecycleCallbacks() {\n//                    override fun onFragmentCreated(fm: FragmentManager?, f: Fragment?,\n//                                                   savedInstanceState: Bundle?) {\n//                        if (f is Injectable) {\n//                            AndroidSupportInjection.inject(f)\n//                        }\n//                    }\n//                }, true)\n    }\n}\n</code></pre>\n\n<p>Uncomment the code to enable <code>Fragment</code> injection.</p>\n"}], "owner": {"reputation": 477, "user_id": 9436750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214108414778002/picture?type=large", "display_name": "James Pooley", "link": "https://stackoverflow.com/users/9436750/james-pooley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1406, "favorite_count": 0, "accepted_answer_id": 51494050, "answer_count": 3, "score": 3, "last_activity_date": 1532421223, "creation_date": 1532393773, "question_id": 51489023, "link": "https://stackoverflow.com/questions/51489023/issue-with-automatically-injecting-activities-with-dagger-2", "title": "Issue with automatically injecting activities with Dagger 2", "body": "<p>I am still pretty new to Daggers dependency injection. I am working on a new application utilizing Dagger 2 and Kotlin. I started with a basic starter app meant for building on. Within App.kt every activity is being injected automatically, which up until now is pretty cool. However I am running into an issue now with implementing Facebook and Google social logins.</p>\n\n<p>When the app tries to launch Facebook or Googles sign in activities I get the error:</p>\n\n<p><code>\"No injector factory bound for Class&lt;external.activities.classNameHere&gt;\"</code></p>\n\n<p>I cannot @Provides those external classes since they do not implement the @Module annotation.</p>\n\n<p>My temporary solution is to check the activity being injected before the automatic injection, and skip those external classes. This seems a little odd though, I am wondering if there is a better solution to this or if I am missing something. I can see this if statement getting pretty long over time.</p>\n\n<pre><code> registerActivityLifecycleCallbacks(object : ActivityLifecycleCallbacks() {\n        override fun onActivityCreated(p0: Activity?, p1: Bundle?) {\n            p0?.let {\n                if (p0 is FacebookActivity || p0 is CustomTabMainActivity || p0 is CustomTabActivity ) {\n                    Log.d(\"KSULog\", \"App.kt is not injecting activity \" + p0.toString())\n                }\n                else {\n                    AndroidInjection.inject(p0)\n                }\n\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>Thanks for taking a look.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-signin", "google-play-games"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 3, "creation_date": 1532391302, "post_id": 51488611, "comment_id": 89946393, "body": "add <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&#47;&gt; </code> ...the title is somewhat misleading, because it is an <b>un-handled exception</b> in <code>line 13</code> and not an API exception with <code>error code 13</code>."}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1532391704, "post_id": 51488611, "comment_id": 89946489, "body": "Actually i just noticed that wasnt the issue - i had just changed my DEFAULT_GAMES_SIGN_IN to DEFAULT_SIGN_IN and thats why it worked, then i started getting the issue posted <a href=\"https://stackoverflow.com/questions/49656327/google-games-apis-requires-games-lite-function\">here</a> and when i switch it back to games sign in i get the exception i posted here"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1532396134, "post_id": 51488611, "comment_id": 89947309, "body": "you obviously need to use <code>GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN</code>, while you might not be requesting the proper scopes, alike <code>Games.SCOPE_GAMES</code> or <code>Games.SCOPE_GAMES_LITE</code>"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1532396427, "post_id": 51488611, "comment_id": 89947363, "body": "there&#39;s also lots of fields &amp; methods marked as deprecated ... <a href=\"https://developers.google.com/android/reference/com/google/android/gms/games/Games\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a>"}], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532392001, "creation_date": 1532389710, "last_edit_date": 1532392001, "question_id": 51488611, "link": "https://stackoverflow.com/questions/51488611/cant-sign-in-with-google-play-game-services", "title": "Can&#39;t sign in with Google Play Game Services", "body": "<p>Trying to log in to firebase with google and use google play game services, and am getting the following exception when i try to login:</p>\n\n<pre><code>W/MainActivity: Google sign in failed\n    com.google.android.gms.common.api.ApiException: 13: \n        at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(Unknown Source:14)\n        at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(Unknown Source:47)\n        at ca.doophie.scarletflames.MainActivity.onActivityResult(MainActivity.kt:63)\n        at android.app.Activity.dispatchActivityResult(Activity.java:7276)\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4264)\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4312)\n        at android.app.ActivityThread.-wrap19(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1644)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n\n<p>I followed the guide <a href=\"https://firebase.google.com/docs/auth/android/google-signin?utm_source=studio\" rel=\"nofollow noreferrer\">here</a> to set up google sign in only changing my Sign in options (see below). I also turned on google play services for the app in the google play console, added both android debug keystore SHA1 and release SHA1 key.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>// Configure Google Sign In\nval gso = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN)\n        .requestIdToken(context.getString(R.string.default_web_client_id))\n        .requestEmail()\n        .build()\n</code></pre>\n\n<p>and in my manifest i have this:</p>\n\n<pre><code>&lt;meta-data android:name=\"com.google.android.gms.games.APP_ID\"\n    android:value=\"@string/app_id\" /&gt;\n&lt;meta-data android:name=\"com.google.android.gms.version\"\n    android:value=\"@integer/google_play_services_version\"/&gt;\n&lt;meta-data android:name=\"com.google.android.gms.games.API_KEY\"\n    android:value=  \"@string/api_key\" /&gt;\n</code></pre>\n\n<p>and these are in my gradle:</p>\n\n<pre><code>implementation \"com.google.android.gms:play-services-games:15.0.1\"\nimplementation \"com.google.android.gms:play-services-auth:15.0.1\"\nimplementation 'com.google.firebase:firebase-auth:16.0.2'\n</code></pre>\n\n<p>and finally this is where i do the sign in:</p>\n\n<pre><code>val signInIntent = mGoogleSignInClient?.signInIntent ?: return\nstartActivityForResult(signInIntent, rc)\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>public override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\n    if (requestCode == LoginController.RC_SIGN_IN) {\n        val task = GoogleSignIn.getSignedInAccountFromIntent(data)\n        try {\n            // Google Sign In was successful, authenticate with Firebase\n            val account = task.getResult(ApiException::class.java)\n            loginController?.firebaseAuthWithGoogle(account)\n        } catch (e: ApiException) {\n            // Google Sign In failed, update UI appropriately\n            Log.w(TAG, \"Google sign in failed\", e) //Exception is here\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["interface", "kotlin", "boilerplate", "data-class"], "comments": [{"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 1, "creation_date": 1532389597, "post_id": 51488537, "comment_id": 89946061, "body": "then what&#39;s the point of creating the interface in the first place. just use data class without the interface. am I missing something here?"}, {"owner": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "reply_to_user": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 0, "creation_date": 1532392916, "post_id": 51488537, "comment_id": 89946713, "body": "I&#39;d like to use the data class as a delegate."}, {"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1532427867, "post_id": 51488537, "comment_id": 89960319, "body": "Have you tried to use default implementations for your interface methods? Their usage is limited but maybe its sufficient for your case."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1532447649, "post_id": 51488537, "comment_id": 89974349, "body": "@jaco0646 you may want to show us what you are trying to accomplish with the delegate then. Even though there is no short-hand to eliminate that redundancy now, there might be something to at least improve the delegation."}], "answers": [{"tags": [], "owner": {"reputation": 289, "user_id": 10126399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ea8aeb6519fc22cb733de148c91708?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya E", "link": "https://stackoverflow.com/users/10126399/ilya-e"}, "is_accepted": false, "score": 2, "last_activity_date": 1532418662, "creation_date": 1532418662, "answer_id": 51493270, "question_id": 51488537, "link": "https://stackoverflow.com/questions/51488537/kotlin-data-class-with-interface-boilerplate/51493270#51493270", "title": "Kotlin data class with interface boilerplate", "body": "<p>All properties in interfaces are abstract by default, so they have to be implemented (declared) by inheritors. According to  <a href=\"https://discuss.kotlinlang.org/t/default-property-initialization-for-interfaces/249\" rel=\"nofollow noreferrer\" title=\"this link\">this links</a>, this feature was not planned in 2015, and it looks like it's still not implemented.</p>\n"}], "owner": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1188, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1532418662, "creation_date": 1532389166, "question_id": 51488537, "link": "https://stackoverflow.com/questions/51488537/kotlin-data-class-with-interface-boilerplate", "title": "Kotlin data class with interface boilerplate", "body": "<p>Data classes in Kotlin are great for eliminating much of the boilerplate of a Java pojo; but when a data class mirrors an interface, the two declarations still appear redundant. Take this example.</p>\n\n<pre><code>interface MyInterface {\n    val foo: String\n    val bar: String\n    val baz: String\n    val qux: String\n}\n\ndata class MyImplementation(\n    override val foo: String,\n    override val bar: String,\n    override val baz: String,\n    override val qux: String\n) : MyInterface\n</code></pre>\n\n<p>Is there any shorthand to eliminate this code duplication, i.e. to tell Kotlin that each <code>val</code> in the interface should be implemented by an identical <code>val</code> in the data class?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 499, "user_id": 2205932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRUry.png?s=128&g=1", "display_name": "EvOlaNdLuPiZ", "link": "https://stackoverflow.com/users/2205932/evolandlupiz"}, "edited": false, "score": 0, "creation_date": 1532384336, "post_id": 51487888, "comment_id": 89944811, "body": "post code regarding your situation."}, {"owner": {"reputation": 1, "user_id": 10124838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4a7ee6110183f3333e3a155193183a0?s=128&d=identicon&r=PG&f=1", "display_name": "cocacola", "link": "https://stackoverflow.com/users/10124838/cocacola"}, "reply_to_user": {"reputation": 499, "user_id": 2205932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRUry.png?s=128&g=1", "display_name": "EvOlaNdLuPiZ", "link": "https://stackoverflow.com/users/2205932/evolandlupiz"}, "edited": false, "score": 0, "creation_date": 1532384412, "post_id": 51487888, "comment_id": 89944833, "body": "done, check now"}, {"owner": {"reputation": 499, "user_id": 2205932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRUry.png?s=128&g=1", "display_name": "EvOlaNdLuPiZ", "link": "https://stackoverflow.com/users/2205932/evolandlupiz"}, "edited": false, "score": 0, "creation_date": 1532384439, "post_id": 51487888, "comment_id": 89944841, "body": "you can destroy the fragment and create it again, but unless i see your code and the context of your application, then i don&#39;t know for sure. you can save your textviews in a container, then use listener for button event, inside the event traverse the container and set each back to null."}, {"owner": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "edited": false, "score": 1, "creation_date": 1532384638, "post_id": 51487888, "comment_id": 89944889, "body": "Depending on what kind of viewgroup they are in, you could do a for loop on it&#39;s children to set text to blank"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1532384779, "creation_date": 1532384779, "answer_id": 51487975, "question_id": 51487888, "link": "https://stackoverflow.com/questions/51487888/clear-all-textviews-in-fragment/51487975#51487975", "title": "Clear all TextViews in Fragment", "body": "<p>Declare this in your activity:</p>\n\n<pre><code>var textViews: ArrayList&lt;TextView&gt; = arrayListOf()\n</code></pre>\n\n<p>and in onCreate():</p>\n\n<pre><code>for (i in 1..20) {\n    textViews.add(findViewById&lt;TextView&gt;(resources.getIdentifier(\"myTextView\" + i, \"id\", this.getPackageName())))\n}\n</code></pre>\n\n<p>when you want to clear them:</p>\n\n<pre><code>textViews.forEach { it.text = \"\" }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6492, "user_id": 2529309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6kn4X.png?s=128&g=1", "display_name": "Kayvan N", "link": "https://stackoverflow.com/users/2529309/kayvan-n"}, "is_accepted": false, "score": 1, "last_activity_date": 1532385281, "creation_date": 1532385281, "answer_id": 51488043, "question_id": 51487888, "link": "https://stackoverflow.com/questions/51487888/clear-all-textviews-in-fragment/51488043#51488043", "title": "Clear all TextViews in Fragment", "body": "<p>You can grab all the textViews within your parent view by using:</p>\n\n<pre><code>root.children.forEach { \n            if (it is TextView){\n                it.text = \"\"\n            }\n        }\n</code></pre>\n\n<p>where <code>root</code> is the id of your container for all the textViews</p>\n"}], "owner": {"reputation": 1, "user_id": 10124838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4a7ee6110183f3333e3a155193183a0?s=128&d=identicon&r=PG&f=1", "display_name": "cocacola", "link": "https://stackoverflow.com/users/10124838/cocacola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1532396545, "creation_date": 1532384131, "last_edit_date": 1532396545, "question_id": 51487888, "link": "https://stackoverflow.com/questions/51487888/clear-all-textviews-in-fragment", "title": "Clear all TextViews in Fragment", "body": "<p>I have much, about 20 TextViews in my Fragment.  </p>\n\n<p><strong>I want to setText empty or default status</strong> in all Views by button.  </p>\n\n<p><strong>What is the simpy way to do that ?</strong>  </p>\n\n<p>Currently I use setText/text on my View and put empty string, but for 20 TextView is 20 line... too much.</p>\n\n<p>Is there method for clear all state or return to default status of Views in Fragment ? </p>\n\n<pre><code>myTextView1.text = \"\"\nmyTextView2.text = \"\"\nmyTextView3.text = \"\"\nmyTextView4.text = \"\"\nmyTextView5.text = \"\"\n</code></pre>\n\n<p>and much more</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 11916, "user_id": 737925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/mHaKl.jpg?s=128&g=1", "display_name": "Mohammad Ersan", "link": "https://stackoverflow.com/users/737925/mohammad-ersan"}, "edited": false, "score": 0, "creation_date": 1532384097, "post_id": 51487666, "comment_id": 89944755, "body": "show me what you have tried"}], "answers": [{"tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": true, "score": 3, "last_activity_date": 1532442986, "last_edit_date": 1532442986, "creation_date": 1532404139, "answer_id": 51490204, "question_id": 51487666, "link": "https://stackoverflow.com/questions/51487666/recyclerview-data-binding-with-custom-item-configuration/51490204#51490204", "title": "RecyclerView data binding with custom item configuration", "body": "<p>You can still access</p>\n\n<pre><code>holder.itemView.myChartViewId.doSomeStuff()\n</code></pre>\n\n<p>on the <code>onBindViewHolder()</code> call.</p>\n\n<p>You can also implement a function to \"initialize\" your charts in your view holder like this:</p>\n\n<pre><code>open class BaseViewHolder(private val binding: ViewDataBinding) : RecyclerView.ViewHolder(binding.root) {\n    fun bind(obj: Any) {\n        binding.setVariable(BR.obj, obj)\n        binding.executePendingBindings()\n    }\n\n    fun initCharts() {\n        if (itemView.myChartViewId == null) return\n        itemView.myChartViewId.doSomwStuff()\n    }\n}\n</code></pre>\n\n<p>and call it whenever you need.</p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 51490204, "answer_count": 1, "score": 1, "last_activity_date": 1532442986, "creation_date": 1532382665, "question_id": 51487666, "link": "https://stackoverflow.com/questions/51487666/recyclerview-data-binding-with-custom-item-configuration", "title": "RecyclerView data binding with custom item configuration", "body": "<p>My recycler view has two types of item view. One type of them has <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">MPAndroidChart</a> in it. I need to do some chart view configuration that cannot be done in XML. How can I do it given that I am using RecyclerView data binding with a single base view holder (<a href=\"https://medium.com/google-developers/android-data-binding-recyclerview-db7c40d9f0e4\" rel=\"nofollow noreferrer\">as recommended by George Mount</a>) ?</p>\n\n<pre><code>open class BaseViewHolder(private val binding: ViewDataBinding) : RecyclerView.ViewHolder(binding.root) {\n    fun bind(obj: Any) {\n        binding.setVariable(BR.obj, obj)\n        binding.executePendingBindings()\n    }\n}\n\nabstract class BaseAdapter : RecyclerView.Adapter&lt;BaseViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val binding = DataBindingUtil.inflate&lt;ViewDataBinding&gt;(layoutInflater, viewType, parent, false)\n        return BaseViewHolder(binding)\n    }\n    override fun onBindViewHolder(holder: BaseViewHolder, position: Int) {\n        val obj = getObjForPosition(position)\n        holder.bind(obj)\n    }\n    override fun getItemViewType(position: Int): Int {\n        return getLayoutIdForPosition(position)\n    }\n    protected abstract fun getObjForPosition(position: Int): Any\n    protected abstract fun getLayoutIdForPosition(position: Int): Int\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1039, "user_id": 8124788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce88b295ed41f9c04cc0ed812cfd5967?s=128&d=identicon&r=PG&f=1", "display_name": "MartinByers", "link": "https://stackoverflow.com/users/8124788/martinbyers"}, "edited": false, "score": 0, "creation_date": 1532378378, "post_id": 51486857, "comment_id": 89942804, "body": "First of all, less code does not mean better code, however in this case we may be able to make this simpler."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 2, "creation_date": 1532378577, "post_id": 51486922, "comment_id": 89942897, "body": "I expect an explanation"}, {"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1532380065, "post_id": 51486922, "comment_id": 89943509, "body": "your code saves a few bits at the cost of increased reading complexity; if you want to go that way you should use <code>?.let { first.text = it.bigThing }</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1532380283, "post_id": 51486922, "comment_id": 89943580, "body": "<i>at the cost of increased reading complexity</i> I agree. But the question is about reducing the if statements so I disagree for this part: <i>saves a few bits</i>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1532380361, "post_id": 51486922, "comment_id": 89943608, "body": "@pwolaq as for the <code>let</code> way I agree, you can post it as an answer"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1532380586, "last_edit_date": 1532380586, "creation_date": 1532378472, "answer_id": 51486922, "question_id": 51486857, "link": "https://stackoverflow.com/questions/51486857/reduction-number-of-if-in-my-case/51486922#51486922", "title": "Reduction number of IF in my case", "body": "<p>Change each of them like this if you like it:</p>\n\n<pre><code>myObject?.name?.run { first.text = this.bigThing }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1532379742, "creation_date": 1532379742, "answer_id": 51487208, "question_id": 51486857, "link": "https://stackoverflow.com/questions/51486857/reduction-number-of-if-in-my-case/51487208#51487208", "title": "Reduction number of IF in my case", "body": "<p>One option would be</p>\n\n<pre><code>fun updateText(x: WhateverTheTypeOfFirstSecondEtcIs, y: Big?) {\n    if (y != null) { x.text = y.bigThing }\n}\n\nupdateText(first, myObject?.name)\nupdateText(second, myObject?.age)\nupdateText(third, myObject?.surname)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": false, "score": 1, "last_activity_date": 1532380644, "creation_date": 1532380644, "answer_id": 51487347, "question_id": 51486857, "link": "https://stackoverflow.com/questions/51486857/reduction-number-of-if-in-my-case/51487347#51487347", "title": "Reduction number of IF in my case", "body": "<p>One way could be:</p>\n\n<pre><code>myObject?.age?.let { second.text = it.bigThing }\n</code></pre>\n\n<p>If you're putting the value inside a <code>TextView</code>:</p>\n\n<pre><code>first.text = myObject?.age?.bigThing\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1039, "user_id": 8124788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce88b295ed41f9c04cc0ed812cfd5967?s=128&d=identicon&r=PG&f=1", "display_name": "MartinByers", "link": "https://stackoverflow.com/users/8124788/martinbyers"}, "is_accepted": false, "score": 0, "last_activity_date": 1532382391, "creation_date": 1532382391, "answer_id": 51487616, "question_id": 51486857, "link": "https://stackoverflow.com/questions/51486857/reduction-number-of-if-in-my-case/51487616#51487616", "title": "Reduction number of IF in my case", "body": "<p>I don't know the exact syntax in kotlin, however I would expect to be able to create a method something like this:</p>\n\n<pre><code>String extractBigThing(Big big){\n    if(big != null) return big. GetBigThing() ;\n\n    return null;\n} \n</code></pre>\n\n<p>And call it something like this :</p>\n\n<pre><code>first.text = extractBigThing(myObject.name);\n</code></pre>\n\n<p>The basic idea is to extract reused functionality into reusable code, these can then be unit tested to increase code robustness.</p>\n\n<p>I hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 0, "last_activity_date": 1532392377, "creation_date": 1532392377, "answer_id": 51488894, "question_id": 51486857, "link": "https://stackoverflow.com/questions/51486857/reduction-number-of-if-in-my-case/51488894#51488894", "title": "Reduction number of IF in my case", "body": "<p><code>myObject?.name?.bigThing?.let { first.text = it }</code> etc for each line</p>\n\n<p>or</p>\n\n<pre><code>myObject?.apply {\n  name?.bigThing?.let { first.text = it }\n  age?.bigThing?.let { second.text = it }\n}\n</code></pre>\n\n<p>etc</p>\n"}], "owner": {"reputation": 41, "user_id": 8077528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca5384a8160015728bff57735bac2b9?s=128&d=identicon&r=PG&f=1", "display_name": "androidmanifest2", "link": "https://stackoverflow.com/users/8077528/androidmanifest2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1532392377, "creation_date": 1532378118, "last_edit_date": 1532378999, "question_id": 51486857, "link": "https://stackoverflow.com/questions/51486857/reduction-number-of-if-in-my-case", "title": "Reduction number of IF in my case", "body": "<p>I have too much IF in my method like this:</p>\n\n<pre><code>if (myObject?.name !=null)\nfirst.text = myObject.name.bigThing\n\nif (myObject?.age !=null)\nsecond.text = myObject.age.bigThing\n\nif (myObject?.surname !=null)\nthird.text = myObject.surname.bigThing\n</code></pre>\n\n<p>and 20 more ...</p>\n\n<p>How can I shorten the code?</p>\n\n<p><code>age/surname/name</code> is type my own class <code>Big</code> with <code>id: Int</code> and <code>bigThing: String</code></p>\n"}, {"tags": ["java", "android", "kotlin", "annotation-processor", "android-kripton"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1532374507, "post_id": 51486038, "comment_id": 89941120, "body": "More likely that your <i>decompiler</i> loses the information, not that Kotlin loses it."}, {"owner": {"reputation": 296, "user_id": 1380933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tFXt.png?s=128&g=1", "display_name": "Vadik", "link": "https://stackoverflow.com/users/1380933/vadik"}, "edited": false, "score": 0, "creation_date": 1532374862, "post_id": 51486038, "comment_id": 89941297, "body": "If I clearly understand, you miss generics after decompiling. This is the way how generics works. They are clearing after compilation. See &quot;Type Erasure&quot;: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/erasure.html</a>"}, {"owner": {"reputation": 4053, "user_id": 2350799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CaaDE.png?s=128&g=1", "display_name": "xcesco", "link": "https://stackoverflow.com/users/2350799/xcesco"}, "edited": false, "score": 1, "creation_date": 1532376560, "post_id": 51486038, "comment_id": 89942069, "body": "Ok, it was clear for me. But the problem is. I work with a Java Annotation Processor on a Kotlin source (with kapt)..Does it works with Kotlin source code or with a Java source code (like the compiled one)?"}], "owner": {"reputation": 4053, "user_id": 2350799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CaaDE.png?s=128&g=1", "display_name": "xcesco", "link": "https://stackoverflow.com/users/2350799/xcesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1532477086, "creation_date": 1532374369, "last_edit_date": 1532477086, "question_id": 51486038, "link": "https://stackoverflow.com/questions/51486038/kotlin-conversion-in-java-lost-specialization-of-collections", "title": "Kotlin conversion in Java lost specialization of collections?", "body": "<p>I'm working on an Annotation Processor based library for Android. I'm trying to improve library compatibility with Kotlin. I have the following situation:</p>\n\n<pre><code>@BindType(value = \"rss\")\nclass RssFeed(\n        @BindSqlColumn(columnType = ColumnType.UNIQUE)\n        val uid: String,\n\n        @BindXml(xmlType = XmlType.ATTRIBUTE)\n        val version: String,\n\n        @Bind(\"channel\")\n        @BindSqlRelation(foreignKey = \"rssFeedId\")\n        val channels: List&lt;Channel&gt;,\n\n        val id: Long\n)\n</code></pre>\n\n<p>As you can see this a simple data class in kotlin. My library will aspect that every collection is \"specialized\" (with generic). When I try to decompile this class in its equivalent in Java I obtain:</p>\n\n<pre><code>@BindType(\"rss\")\n@Metadata(\n   mv = {1, 1, 10},\n   bv = {1, 0, 2},\n   k = 1,\n   d1 = {\"\\u0000$\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0010\\u000e\\n\\u0002\\b\\u0002\\n\\u0002\\u0010 \\n\\u0002\\u0018\\u0002\\n\\u0000\\n\\u0002\\u0010\\t\\n\\u0002\\b\\t\\b\\u0007\\u0018\\u00002\\u00020\\u0001B+\\u0012\\u0006\\u0010\\u0002\\u001a\\u00020\\u0003\\u0012\\u0006\\u0010\\u0004\\u001a\\u00020\\u0003\\u0012\\f\\u0010\\u0005\\u001a\\b\\u0012\\u0004\\u0012\\u00020\\u00070\\u0006\\u0012\\u0006\\u0010\\b\\u001a\\u00020\\t\u00a2\\u0006\\u0002\\u0010\\nR\\u001c\\u0010\\u0005\\u001a\\b\\u0012\\u0004\\u0012\\u00020\\u00070\\u00068\\u0006X\\u0087\\u0004\u00a2\\u0006\\b\\n\\u0000\\u001a\\u0004\\b\\u000b\\u0010\\fR\\u0011\\u0010\\b\\u001a\\u00020\\t\u00a2\\u0006\\b\\n\\u0000\\u001a\\u0004\\b\\r\\u0010\\u000eR\\u0016\\u0010\\u0002\\u001a\\u00020\\u00038\\u0006X\\u0087\\u0004\u00a2\\u0006\\b\\n\\u0000\\u001a\\u0004\\b\\u000f\\u0010\\u0010R\\u0016\\u0010\\u0004\\u001a\\u00020\\u00038\\u0006X\\u0087\\u0004\u00a2\\u0006\\b\\n\\u0000\\u001a\\u0004\\b\\u0011\\u0010\\u0010\u00a8\\u0006\\u0012\"},\n   d2 = {\"Lcom/abubusoft/rssreader/service/model/RssFeed;\", \"\", \"uid\", \"\", \"version\", \"channels\", \"\", \"Lcom/abubusoft/rssreader/service/model/Channel;\", \"id\", \"\", \"(Ljava/lang/String;Ljava/lang/String;Ljava/util/List;J)V\", \"getChannels\", \"()Ljava/util/List;\", \"getId\", \"()J\", \"getUid\", \"()Ljava/lang/String;\", \"getVersion\", \"production sources for module app\"}\n)\npublic final class RssFeed {\n   @BindSqlColumn(\n      columnType = ColumnType.UNIQUE\n   )\n   @NotNull\n   private final String uid;\n   @BindXml(\n      xmlType = XmlType.ATTRIBUTE\n   )\n   @NotNull\n   private final String version;\n   @Bind(\"channel\")\n   @BindSqlRelation(\n      foreignKey = \"rssFeedId\"\n   )\n   @NotNull\n   private final List channels;\n   private final long id;\n\n   @NotNull\n   public final String getUid() {\n      return this.uid;\n   }\n\n   @NotNull\n   public final String getVersion() {\n      return this.version;\n   }\n\n   @NotNull\n   public final List getChannels() {\n      return this.channels;\n   }\n\n   public final long getId() {\n      return this.id;\n   }\n\n   public RssFeed(@NotNull String uid, @NotNull String version, @NotNull List channels, long id) {\n      Intrinsics.checkParameterIsNotNull(uid, \"uid\");\n      Intrinsics.checkParameterIsNotNull(version, \"version\");\n      Intrinsics.checkParameterIsNotNull(channels, \"channels\");\n      super();\n      this.uid = uid;\n      this.version = version;\n      this.channels = channels;\n      this.id = id;\n   }\n}\n</code></pre>\n\n<p>As you can notice, the information about specialization of channel field is lost: it is signed as List.</p>\n\n<p>It was expected that Java version of class mantains specialization of List.</p>\n\n<p>It's something that I mistake, or simply Kotlin work in this way?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It's a very strange behaviour. Generic used on interface are recognized, the ones on the class no.</p>\n\n<pre><code>import android.arch.lifecycle.LiveData\nimport com.abubusoft.kripton.android.annotation.BindDao\nimport com.abubusoft.kripton.android.annotation.BindSqlDynamicWhere\nimport com.abubusoft.kripton.android.annotation.BindSqlSelect\nimport com.abubusoft.kripton.android.annotation.BindSqlUpdate\nimport com.abubusoft.kripton.example.rssreader.service.model.Article\n\n@BindDao(Article::class)\ninterface DaoArticle {\n\n    @BindSqlUpdate(where = \"id=:id\")\n    fun update(id: Long, read: Boolean)\n\n    @BindSqlSelect\n    fun selectByChannel(@BindSqlDynamicWhere where: String): LiveData&lt;List&lt;Article&gt;&gt;\n\n    @BindSqlSelect(where = \"id=:id\")\n    fun selectById(id: Long): List&lt;Article&gt;\n\n    @BindSqlSelect(where = \"id in (:ids)\")\n    fun selectByChannelUd(ids: List&lt;Long&gt;): List&lt;Article&gt;\n\n    @BindSqlSelect(where = \"guid=:guid\")\n    fun selectByGuid(guid: String): Article\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "is_accepted": false, "score": 0, "last_activity_date": 1532373355, "creation_date": 1532373355, "answer_id": 51485754, "question_id": 51485575, "link": "https://stackoverflow.com/questions/51485575/add-only-1-char-into-string/51485754#51485754", "title": "Add only 1 char into String", "body": "<p>You can convert a char to a string:</p>\n\n<pre><code>val myChar = '1'\nval myString = Character.toString(myChar )\n</code></pre>\n\n<p>Now, you can concat the new string to your other string:</p>\n\n<pre><code>val myIdString = \"Id: $myString\"\n</code></pre>\n\n<p>This is of course just the mechanics, you will need to adapt the code as you need and of course there are short-cuts if you want: this was purely for demonstration.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1532373539, "creation_date": 1532373539, "answer_id": 51485812, "question_id": 51485575, "link": "https://stackoverflow.com/questions/51485575/add-only-1-char-into-string/51485812#51485812", "title": "Add only 1 char into String", "body": "<p>Change your string resource like this:  <br/></p>\n\n<pre><code>&lt;string name=\"carID\"&gt;Id: %1$s&lt;/string&gt;\n</code></pre>\n\n<p>and you use it:  <br/></p>\n\n<pre><code>carID.text = String.format(getString(R.string.carID), \"1\")\n</code></pre>\n\n<p>the text will be: <code>Id: 1</code></p>\n"}], "owner": {"reputation": 103, "user_id": 7519697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d1b5bc66238dfaa919efc90807527c4?s=128&d=identicon&r=PG&f=1", "display_name": "github2017", "link": "https://stackoverflow.com/users/7519697/github2017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1532373539, "creation_date": 1532372494, "question_id": 51485575, "link": "https://stackoverflow.com/questions/51485575/add-only-1-char-into-string", "title": "Add only 1 char into String", "body": "<p>Is it possible to change 1 char into String from code in Kotlin ?\nI think yes, but I don't know how.</p>\n\n<pre><code>   &lt;string name=\"carID\"&gt;Id: &lt;/string&gt;\n</code></pre>\n\n<p>Currently I change whole String like:</p>\n\n<pre><code>carID.text = car.id.toString()\n</code></pre>\n\n<p>but I want add only number to this ID:</p>\n"}, {"tags": ["android", "android-fragments", "animation", "kotlin", "transitions"], "answers": [{"tags": [], "owner": {"reputation": 289, "user_id": 10126399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ea8aeb6519fc22cb733de148c91708?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya E", "link": "https://stackoverflow.com/users/10126399/ilya-e"}, "is_accepted": false, "score": 1, "last_activity_date": 1532496917, "creation_date": 1532496917, "answer_id": 51511463, "question_id": 51485407, "link": "https://stackoverflow.com/questions/51485407/timing-fragment-transitions-android/51511463#51511463", "title": "Timing Fragment Transitions - Android", "body": "<p>I'm not sure that it's desired behavior, but you can create Handler associated with main looper when initializing your UI component, and then you can post delayed runnable with fragment transactions.</p>\n\n<pre><code>val handler = Handler(Looper.getMainLooper())\n\nfor (i in 0 until placesList.size) {\n    handler.postDelayed({\n        fragmentManager.beginTransaction().setCustomAnimations(R.animator.enter_from_right, R.animator.exit_to_left)\n            .add(R.id.layout_container, fragmentList[i]).commit()\n    }, 1000*i)\n}\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 5176158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edf99eeaa9004cac3c066918e3680fa?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel N.", "link": "https://stackoverflow.com/users/5176158/daniel-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1532496917, "creation_date": 1532371668, "question_id": 51485407, "link": "https://stackoverflow.com/questions/51485407/timing-fragment-transitions-android", "title": "Timing Fragment Transitions - Android", "body": "<p>I'm building an Android application and in one section there's a list of card fragments I've made that load into the screen. These fragments use the fragment manager transitions to enter from the right however they do so all at once. I want to make them enter sequentially as it feels more natural however I can't figure out how. Code posted below.</p>\n\n<pre><code>fun updateResultsActivity() {\n    // Add fragments to container\n    for (i in 0 until placesList.size) {\n        fragmentManager.beginTransaction().setCustomAnimations(R.animator.enter_from_right, R.animator.exit_to_left)\n                .add(R.id.layout_container, fragmentList[i]).commit()\n    }\n\n    updateShowMoreButton()\n}\n</code></pre>\n\n<p>I've tried adding sleep() lines, making the function add only one fragment and putting said function in a loop, and others and nothing seems to work. Any advice is welcome so thank you in advance!</p>\n"}, {"tags": ["android", "kotlin", "async-await", "coroutine", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 7830599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10154939022741638/picture?type=large", "display_name": "Fahad Bilal", "link": "https://stackoverflow.com/users/7830599/fahad-bilal"}, "edited": false, "score": 0, "creation_date": 1532447299, "post_id": 51494876, "comment_id": 89974154, "body": "this is like simplicity-heaven in your answer!  can you please refer to me more on where could i read on launch(UI) &amp; .also , .takeIf ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 149, "user_id": 7830599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10154939022741638/picture?type=large", "display_name": "Fahad Bilal", "link": "https://stackoverflow.com/users/7830599/fahad-bilal"}, "edited": false, "score": 0, "creation_date": 1532459228, "post_id": 51494876, "comment_id": 89980818, "body": "These are some great resources for coroutines: <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"nofollow noreferrer\">kotlin-coroutines-informal</a> <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"nofollow noreferrer\">coroutines-by-example</a> <a href=\"https://github.com/Kotlin/kotlin-coroutines\" rel=\"nofollow noreferrer\">coroutines-README</a> <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md\" rel=\"nofollow noreferrer\">coroutines-guide-ui</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 149, "user_id": 7830599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10154939022741638/picture?type=large", "display_name": "Fahad Bilal", "link": "https://stackoverflow.com/users/7830599/fahad-bilal"}, "edited": false, "score": 0, "creation_date": 1532459463, "post_id": 51494876, "comment_id": 89980915, "body": "<code>.also</code> and <code>.takeIf</code> are extension functions available for any type, including <code>null</code>. They are a part of the standard library and an essential aspect of idiomatic Kotlin code. I recommend you to study all these standard extension functions and try to use them everywhere, that way you&#39;ll learn when they provide value."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1532459532, "last_edit_date": 1532459532, "creation_date": 1532423677, "answer_id": 51494876, "question_id": 51484512, "link": "https://stackoverflow.com/questions/51484512/multiple-async-await-in-kotlin/51494876#51494876", "title": "multiple async-await in kotlin", "body": "<p>There are several things I find wrong with your code:</p>\n\n<ol>\n<li>You have an outer <code>async(UI)</code> which doesn't make sense</li>\n<li>Your inner <code>async(CommonPool)</code> doesn't make sense either, because your database call is already async</li>\n<li>You use the antipattern where you immediately <code>await</code> after <code>async</code>, making it not really \"async\" (but see above, the whole thing is async with or without this)</li>\n<li>Your fetching function has a side-effect of changing the user type</li>\n<li>To transfer the results to the caller, you again use side-effects instead of the return value</li>\n</ol>\n\n<p>Your code should be much simpler. You should declare a <code>suspend fun</code> whose return value is the pair <code>(couponKey, coupon)</code>:</p>\n\n<pre><code>suspend fun fetchPromo(promoType: String, promoCodeET: String): Pair&lt;String, String&gt;? =\n    suspendCancellableCoroutine { cont -&gt;\n        val database = PersistentFirebaseUtil.getDatabase().reference\n        val query = database.child(\"promos\").child(promoType)\n                .orderByChild(\"promoCode\").equalTo(promoCodeET)\n        query.addListenerForSingleValueEvent(object : ValueEventListener {\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                cont.resume(\n                    dataSnapshot\n                        .takeIf { it.exists() }\n                        ?.let { snapshot -&gt;\n                            snapshot.key.toString()\n                                .takeIf { it.isNotEmpty() }\n                                ?.let { key -&gt;\n                                    Pair(key, snapshot.children.first().key.toString())\n                                }\n                        }\n                )\n            }\n\n            override fun onCancelled(error: DatabaseError?) {\n                if (error != null) {\n                    cont.resumeWithException(MyException(error))\n                } else {\n                    cont.cancel()\n                }\n            }\n        })\n    }\n</code></pre>\n\n<p>To call this function, use a <code>launch(UI)</code> at the call site. Change the user type once you get a non-null value:</p>\n\n<pre><code>launch(UI) {\n    var found = false\n    for (type in promoType) {\n        val (couponKey, coupon) = fetchPromo(type, \"promo-code-et\") ?: continue\n        found = true\n        withContext(CommonPool) {\n            changeUserType(couponKey, coupon)\n        }\n        break\n    }\n    if (!found) {\n        Toast.makeText(this@Coupon, \"Invalid coupon\", Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n\n<p>You say that <code>changeUserType</code> performs some database operations, so I wrapped them in a <code>withContext(CommonPool)</code>.</p>\n\n<p>Note also that I extracted the loop over promo types outside the function. This will result in queries being performed sequentially, but you can just write different calling code to achieve parallel lookup:</p>\n\n<pre><code>var numDone = 0\nvar found = false\npromoType.forEach { type -&gt;\n    launch(UI) {\n        fetchPromo(type, \"promo-code-et\")\n            .also { numDone++ }\n            ?.also { (couponKey, coupon) -&gt;\n                found = true\n                launch(CommonPool) {\n                    changeUserType(couponKey, coupon)\n                }\n            }\n            ?: if (numDone == promoType.size &amp;&amp; !found) {\n                Toast.makeText(this@Coupon, \"Invalid coupon\", Toast.LENGTH_LONG).show()\n            }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 7830599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10154939022741638/picture?type=large", "display_name": "Fahad Bilal", "link": "https://stackoverflow.com/users/7830599/fahad-bilal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2947, "favorite_count": 0, "accepted_answer_id": 51494876, "answer_count": 1, "score": 1, "last_activity_date": 1552980951, "creation_date": 1532367831, "last_edit_date": 1552980951, "question_id": 51484512, "link": "https://stackoverflow.com/questions/51484512/multiple-async-await-in-kotlin", "title": "multiple async-await in kotlin", "body": "<p>obj in promoType = [list of string]\nits more like 10 firebase queries are running here, looking in 10 particular set of nodes and going down further.</p>\n\n<p>what i'm not sure, whether i require to put on async / await on each of the queries, but all i want is 10 of these queries to run and then result me in whether a couponKey is empty or not. All i want to do is to display whether a coupon entered was correct or not.</p>\n\n<p>further, in changeUserType(couponKey, couponFoundAtKey), some database write operations occur.</p>\n\n<pre><code>fun checkPromo(promoCodeET: String) = async(UI) {\n    try {\n        val database = PersistentFirebaseUtil.getDatabase().reference\n        val job = async(CommonPool) {\n\n            for (obj in promoType) {\n                val query = database.child(\"promos\").child(obj).orderByChild(\"promoCode\").equalTo(promoCodeET)\n\n                query.addListenerForSingleValueEvent(object :\n                        ValueEventListener {\n                    override fun onDataChange(dataSnapshot: DataSnapshot) {\n                        if (dataSnapshot.exists()) {\n                            couponKey = dataSnapshot.key.toString()\n                            couponFoundAtKey = dataSnapshot.children.first().key.toString()\n                            if (couponKey.isNotEmpty())\n                                changeUserType(couponKey, couponFoundAtKey)\n                            flag = true\n                        }\n                    }\n\n                    override fun onCancelled(error: DatabaseError) {\n                        // Failed to read value\n                    }\n                })\n                if (flag) break\n            }\n        }\n        job.await()            \n\n    }\n    catch (e: Exception) {\n    }\n    finally {\n        if (couponKey.isEmpty()){\n            Toast.makeText(this@Coupon, \"Invalid coupon\", Toast.LENGTH_LONG).show()\n        }\n        flag = true\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "edited": false, "score": 0, "creation_date": 1532404303, "post_id": 51484995, "comment_id": 89948831, "body": "Thanks for introducing <code>readonlyColumn</code> and all the sugguestions"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 4, "last_activity_date": 1532509600, "last_edit_date": 1532509600, "creation_date": 1532369770, "answer_id": 51484995, "question_id": 51484443, "link": "https://stackoverflow.com/questions/51484443/how-to-show-pojo-properties-in-tornadofx-tableview/51484995#51484995", "title": "How to show pojo properties in TornadoFX tableview?", "body": "<p>You need to reference the property, not the getter, ie. <code>User::id</code>. To reference immutable properties you need to use the <code>readonlyColumn</code> builder:</p>\n\n<pre><code>readonlyColumn(\"id\", User::id)\nreadonlyColumn(\"name\", User::name)\n</code></pre>\n\n<p>That said, you really should use JavaFX properties in your domain objects instead. Not doing so in a JavaFX based application just makes everything harder, and you loose out on a lot of benefits, or at the very least you have to jump through hoops.</p>\n\n<p>Here is the complete application written with observable JavaFX properties. Note that you would then access the <code>idProperty</code> and <code>nameProperty</code> properties instead. With this approach, changes to the underlying data item would automatically be visible in the tableview as well:</p>\n\n<pre><code>class User(id: Int, name: String) {\n    val idProperty = SimpleIntegerProperty(id)\n    var id by idProperty\n\n    val nameProperty = SimpleStringProperty(name)\n    var name by nameProperty\n}\n\n\nprivate val data = listOf(User(111, \"AAA\"), User(222, \"BBB\"), User(333, \"CCC\"), User(444, \"DDD\")).observable()\n\nclass HelloWorld : View() {\n    override val root = vbox {\n        tableview(data) {\n            column(\"id\", User::idProperty)\n            column(\"name\", User::nameProperty)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 1, "accepted_answer_id": 51484995, "answer_count": 1, "score": 1, "last_activity_date": 1532509600, "creation_date": 1532367578, "question_id": 51484443, "link": "https://stackoverflow.com/questions/51484443/how-to-show-pojo-properties-in-tornadofx-tableview", "title": "How to show pojo properties in TornadoFX tableview?", "body": "<p>I'm writing a very simple TornadoFX table demo, trying to display the properties of some pojos in a table, but the cells are all empty.</p>\n\n<p>The main code is:</p>\n\n<pre><code>data class User(val id: Int, val name: String)\n\nprivate val data = listOf(User(111, \"AAA\"), User(222, \"BBB\"), User(333, \"CCC\"), User(444, \"DDD\")).observable()\n\nclass HelloWorld : View() {\n\n    override val root = vbox {\n        tableview(data) {\n            column(\"id\", User::id.getter)\n            column(\"name\", User::name.getter)\n        }\n    }\n}\n</code></pre>\n\n<p>I use <code>User::id.getter</code> to make it compiling, but the cells are empty.</p>\n\n<p>I did a lot of search, but can't find code to work with current latest tornado (<code>1.7.16</code>)</p>\n\n<p>Here is a complete demo for this: <a href=\"https://github.com/javafx-demos/tornadofx-table-show-pojo-demo\" rel=\"nofollow noreferrer\">https://github.com/javafx-demos/tornadofx-table-show-pojo-demo</a></p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "integration-testing"], "comments": [{"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1532370873, "post_id": 51482402, "comment_id": 89939428, "body": "You are calling &#39;RestTemplate().postForEntity` instead of <code>testRestTemplate.postForEntity</code>?"}, {"owner": {"reputation": 53, "user_id": 3653074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0342f4e66b01e440eb0f76f5a9f59ba?s=128&d=identicon&r=PG&f=1", "display_name": "Dante", "link": "https://stackoverflow.com/users/3653074/dante"}, "reply_to_user": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1532378273, "post_id": 51482402, "comment_id": 89942769, "body": "Loops, no that was left from playing around"}], "owner": {"reputation": 53, "user_id": 3653074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0342f4e66b01e440eb0f76f5a9f59ba?s=128&d=identicon&r=PG&f=1", "display_name": "Dante", "link": "https://stackoverflow.com/users/3653074/dante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1532378329, "creation_date": 1532359725, "last_edit_date": 1532378329, "question_id": 51482402, "link": "https://stackoverflow.com/questions/51482402/testresttemplate-with-kotlin-sets-port-1", "title": "TestRestTemplate with Kotlin sets port -1", "body": "<p>I have a a declared bean in the configuration file</p>\n\n<pre><code>  @Bean\n  fun testRestTemplate(): TestRestTemplate {\n    val templateBuilder = RestTemplateBuilder()\n        .rootUri(\"http://localhost:8080\")\n\n    return TestRestTemplate(templateBuilder, null, null,\n        TestRestTemplate.HttpClientOption.ENABLE_COOKIES)\n  }\n</code></pre>\n\n<p>And here is my integration test</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner::class)\n@ContextConfiguration(classes = [AmberTestConfiguration::class])\n@Tag(\"integration\")\nclass IntegrationTests {\n  val initData: List&lt;CategoryDTO&gt; = getCategoryDummyData()\n\n  @Autowired lateinit var testRestTemplate: TestRestTemplate\n\n  @Test\n  fun create_categoryWithoutParent_ok_test() {\n    val newCategory = NewCategoryRequest(\n        name = \"Test_Success\",\n        description = Optional.of(\"Test category, integration test\"),\n        parents = listOf(),\n        domain = \"treasury\"\n    )\n\n    val response: ResponseEntity&lt;Category&gt; = testRestTemplate\n        .postForEntity(\"/api/category\", newCategory,\n        Category::class.java)\n\n    assertNotNull(response)\n    assertEquals(HttpStatus.OK, response.statusCode)\n\n    val body = response.body\n    assertNotNull(body)\n    assertNotNull(body.id)\n    assertEquals(newCategory.name, body.name)\n    assertEquals(newCategory.description.get(), body.description)\n    assertEquals(toGUIDList(newCategory.parents), body.parents)\n  }\n</code></pre>\n\n<p>And I get this error:</p>\n\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on POST request for \"http://localhost/-1/api/category\": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n</code></pre>\n\n<p>When I check the rooUri its: localhost:-1</p>\n\n<p>I tried using RestTemplate. I tried using @SpringBootTest on the integration test as well.\nI tried using the full url in postForEntity.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1532359323, "post_id": 51482169, "comment_id": 89933265, "body": "What did you try so far? The best that comes to my mind is already answered here: <a href=\"https://stackoverflow.com/questions/3371326/java-date-from-unix-timestamp\" title=\"java date from unix timestamp\">stackoverflow.com/questions/3371326/&hellip;</a>"}, {"owner": {"reputation": 11596, "user_id": 304270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb96e9fb0b0dc550c28c95e8318cb00?s=128&d=identicon&r=PG", "display_name": "Ewoks", "link": "https://stackoverflow.com/users/304270/ewoks"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1543917676, "post_id": 51482169, "comment_id": 94081730, "body": "@Roland he was interested in Kotlin solution"}, {"owner": {"reputation": 2374, "user_id": 3442783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NgVum.jpg?s=128&g=1", "display_name": "Chris Edgington", "link": "https://stackoverflow.com/users/3442783/chris-edgington"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1543939020, "post_id": 51482169, "comment_id": 94094233, "body": "@Roland Because that solved the problem for me, and also I wasn&#39;t aware you could call pure java libraries from Kotlin like that. However, have changed to the <code>java.time</code> method."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1543939694, "post_id": 51482169, "comment_id": 94094666, "body": "That&#39;s fine. Admittedly I assumed that as known... but good to know... will take that into account in future answers/comments. :-)"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1543927178, "post_id": 51482416, "comment_id": 94087090, "body": "If you can, rather use the classes and utils of <code>java.time</code>... even though for such a simple sample it doesn&#39;t really matter..."}], "tags": [], "owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "is_accepted": false, "score": 23, "last_activity_date": 1532359800, "creation_date": 1532359800, "answer_id": 51482416, "question_id": 51482169, "link": "https://stackoverflow.com/questions/51482169/how-to-parse-unix-timestamp-to-date-string-in-kotlin/51482416#51482416", "title": "How to parse Unix timestamp to date string in Kotlin", "body": "<p>The following should work. It's just using the Java libraries for handling this:</p>\n\n<pre><code>    val sdf = java.text.SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\")\n    val date = java.util.Date(1532358895 * 1000)\n    sdf.format(date)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 1, "creation_date": 1532535493, "post_id": 51488914, "comment_id": 90015903, "body": "I think this answer is much better than the one I provided. Thanks for sharing!"}, {"owner": {"reputation": 11596, "user_id": 304270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb96e9fb0b0dc550c28c95e8318cb00?s=128&d=identicon&r=PG", "display_name": "Ewoks", "link": "https://stackoverflow.com/users/304270/ewoks"}, "edited": false, "score": 3, "creation_date": 1543917785, "post_id": 51488914, "comment_id": 94081789, "body": "it just that requires API 26"}], "tags": [], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "is_accepted": true, "score": 11, "last_activity_date": 1532392668, "creation_date": 1532392668, "answer_id": 51488914, "question_id": 51482169, "link": "https://stackoverflow.com/questions/51482169/how-to-parse-unix-timestamp-to-date-string-in-kotlin/51488914#51488914", "title": "How to parse Unix timestamp to date string in Kotlin", "body": "<p>Or with the new Time API:</p>\n\n<pre><code>java.time.format.DateTimeFormatter.ISO_INSTANT\n    .format(java.time.Instant.ofEpochSecond(1532358895))\n</code></pre>\n"}], "owner": {"reputation": 2374, "user_id": 3442783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NgVum.jpg?s=128&g=1", "display_name": "Chris Edgington", "link": "https://stackoverflow.com/users/3442783/chris-edgington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13289, "favorite_count": 0, "accepted_answer_id": 51488914, "answer_count": 2, "score": 14, "last_activity_date": 1532392668, "creation_date": 1532358993, "question_id": 51482169, "link": "https://stackoverflow.com/questions/51482169/how-to-parse-unix-timestamp-to-date-string-in-kotlin", "title": "How to parse Unix timestamp to date string in Kotlin", "body": "<p>How can I parse a Unix timestamp to a date string in Kotlin?</p>\n\n<p>For example <code>1532358895</code> to <code>2018-07-23T15:14:55Z</code></p>\n"}, {"tags": ["android", "kotlin", "logcat"], "comments": [{"owner": {"reputation": 844, "user_id": 1177865, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f4d2de3a30fc58b991e7b33b101c653a?s=128&d=identicon&r=PG", "display_name": "hjchin", "link": "https://stackoverflow.com/users/1177865/hjchin"}, "edited": false, "score": 0, "creation_date": 1532359247, "post_id": 51481859, "comment_id": 89933213, "body": "if the app crashes and restart by itself, you might need to check the [DEAD] process."}, {"owner": {"reputation": 1, "user_id": 1969730, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001224187447/picture?type=large", "display_name": "emergee", "link": "https://stackoverflow.com/users/1969730/emergee"}, "reply_to_user": {"reputation": 844, "user_id": 1177865, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f4d2de3a30fc58b991e7b33b101c653a?s=128&d=identicon&r=PG", "display_name": "hjchin", "link": "https://stackoverflow.com/users/1177865/hjchin"}, "edited": false, "score": 0, "creation_date": 1532425845, "post_id": 51481859, "comment_id": 89959124, "body": "@hjchin thanks man!"}], "answers": [{"tags": [], "owner": {"reputation": 6533, "user_id": 570168, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b212792627d3184a74a5c2a5ab23d73a?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/570168/tobias"}, "is_accepted": false, "score": 1, "last_activity_date": 1532358378, "creation_date": 1532358378, "answer_id": 51481985, "question_id": 51481859, "link": "https://stackoverflow.com/questions/51481859/how-to-see-fatalexceptions-in-logcat-when-using-kotlin/51481985#51481985", "title": "how to see FatalExceptions in logcat when using Kotlin", "body": "<p>Exceptions should be shown/thrown in logcat, same as with Java. </p>\n\n<p>If the exception is thown within rxjava or a kotlin coroutine, make sure you have defined an error handler, otherwise the exception might get swallowed.</p>\n\n<p>Then make sure you have selected the right app in logcat and that no filter is active. </p>\n\n<p>Also make sure there is no other global Exception handler defined besides fabric.</p>\n"}], "owner": {"reputation": 1, "user_id": 1969730, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001224187447/picture?type=large", "display_name": "emergee", "link": "https://stackoverflow.com/users/1969730/emergee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1532358378, "creation_date": 1532357943, "question_id": 51481859, "link": "https://stackoverflow.com/questions/51481859/how-to-see-fatalexceptions-in-logcat-when-using-kotlin", "title": "how to see FatalExceptions in logcat when using Kotlin", "body": "<p>I've just started work with Koltin and my question might be a little strange to someone who have more experience, \nbut how can i see fatalExceptions in logcat? For example, i have an app that is already developed by another dev, \nthere is an error in one activity - after pressing the button apps crash and restart to main activity.\nI don't see any usefull informations in logcat(in fabric also!), moving on trough whole code from listener to fragment and many classess is very time consuming. There must be some way to figure it out quicker, right?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 8050497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec1cc7eb7b5d4f42c0c2e26c7ab1688?s=128&d=identicon&r=PG&f=1", "display_name": "androidmanifest", "link": "https://stackoverflow.com/users/8050497/androidmanifest"}, "edited": false, "score": 1, "creation_date": 1532358136, "post_id": 51481386, "comment_id": 89932504, "body": "this is deprecated"}], "tags": [], "owner": {"reputation": 166, "user_id": 10065377, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DHM3dlM4N2U/AAAAAAAAAAI/AAAAAAAABdM/92_i9DW6Ro8/photo.jpg?sz=128", "display_name": "SANDIP CHAUDHARI", "link": "https://stackoverflow.com/users/10065377/sandip-chaudhari"}, "is_accepted": false, "score": 0, "last_activity_date": 1532356539, "creation_date": 1532356539, "answer_id": 51481386, "question_id": 51481330, "link": "https://stackoverflow.com/questions/51481330/getcolor-in-fragment/51481386#51481386", "title": "getColor in Fragment", "body": "<p>Use getActivity().getResource().getColor(R.color.youColor)</p>\n"}, {"tags": [], "owner": {"reputation": 1842, "user_id": 5328686, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/jhBsp.jpg?s=128&g=1", "display_name": "Jojo Narte", "link": "https://stackoverflow.com/users/5328686/jojo-narte"}, "is_accepted": false, "score": 0, "last_activity_date": 1532356728, "creation_date": 1532356728, "answer_id": 51481455, "question_id": 51481330, "link": "https://stackoverflow.com/questions/51481330/getcolor-in-fragment/51481455#51481455", "title": "getColor in Fragment", "body": "<p>Pass the container <code>Activity</code>'s context into the <code>ContextCompat</code> method.</p>\n\n<pre><code>ContextCompat.getColor(getActivity(), R.color.your_color);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 2, "last_activity_date": 1532356809, "creation_date": 1532356809, "answer_id": 51481482, "question_id": 51481330, "link": "https://stackoverflow.com/questions/51481330/getcolor-in-fragment/51481482#51481482", "title": "getColor in Fragment", "body": "<p>Write the below code:</p>\n\n<pre><code>context?.let { ContextCompat.getColor(it, R.color.colorWhite) }\n</code></pre>\n\n<p>Actually, you are passing <code>context</code> of type <code>Context?</code>. But you have to pass of type <code>Context</code>. For that you have to check that, <code>context</code> should not be null.</p>\n\n<p>For that reason, <code>let</code> function is used. If <code>context</code> is not null then the code within let block will be executed.</p>\n"}, {"tags": [], "owner": {"reputation": 1477, "user_id": 8475893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d80cc7fc37476a23d9bedd426a45f0b5?s=128&d=identicon&r=PG&f=1", "display_name": "prashant17", "link": "https://stackoverflow.com/users/8475893/prashant17"}, "is_accepted": false, "score": 0, "last_activity_date": 1532356971, "creation_date": 1532356971, "answer_id": 51481532, "question_id": 51481330, "link": "https://stackoverflow.com/questions/51481330/getcolor-in-fragment/51481532#51481532", "title": "getColor in Fragment", "body": "<p><code>getActivity()</code> for context can be <code>null</code> so you should do the following:</p>\n\n<p>In your fragment</p>\n\n<pre><code>    private Context context;\n\n        @Override\n        public void onAttach(Context context) {\n            super.onAttach(context);\n             this.context = context;\n        }\n</code></pre>\n\n<p>to <code>getColor</code></p>\n\n<pre><code>ContextCompat.getColor(context, R.color.your_color);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 12102080, "user_type": "registered", "profile_image": "https://graph.facebook.com/863664890670636/picture?type=large", "display_name": "Arsen", "link": "https://stackoverflow.com/users/12102080/arsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1609995476, "creation_date": 1609995476, "answer_id": 65606847, "question_id": 51481330, "link": "https://stackoverflow.com/questions/51481330/getcolor-in-fragment/65606847#65606847", "title": "getColor in Fragment", "body": "<p>use like this</p>\n<pre><code>set1.fillColor= ContextCompat.getColor(requireActivity(), R.color.chart_fill)\n</code></pre>\n<p>i use <code>ContextCompat</code> and <code>requireActivity()</code> instead <code>getActivity()</code></p>\n"}], "owner": {"reputation": 259, "user_id": 8050497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec1cc7eb7b5d4f42c0c2e26c7ab1688?s=128&d=identicon&r=PG&f=1", "display_name": "androidmanifest", "link": "https://stackoverflow.com/users/8050497/androidmanifest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2643, "favorite_count": 1, "answer_count": 5, "score": -1, "last_activity_date": 1609995476, "creation_date": 1532356380, "question_id": 51481330, "link": "https://stackoverflow.com/questions/51481330/getcolor-in-fragment", "title": "getColor in Fragment", "body": "<p>I know, getColor is deprecated and we can fix it by:</p>\n\n<pre><code>ContextCompat.getColor(context, R.color.your_color);\n</code></pre>\n\n<p>but in Fragment I got information: Required Context found Context?</p>\n\n<p>So how to avoid this ?</p>\n"}, {"tags": ["java", "spring", "kotlin", "feign"], "answers": [{"tags": [], "owner": {"reputation": 6487, "user_id": 432354, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/245328944cd4754b3edc12348cd7507f?s=128&d=identicon&r=PG", "display_name": "pvorb", "link": "https://stackoverflow.com/users/432354/pvorb"}, "is_accepted": true, "score": 1, "last_activity_date": 1532891524, "last_edit_date": 1532891524, "creation_date": 1532732443, "answer_id": 51566534, "question_id": 51481115, "link": "https://stackoverflow.com/questions/51481115/post-json-of-unknown-class-with-feign-client/51566534#51566534", "title": "Post json of unknown class with Feign client", "body": "<p>One way to state that your method is accepting generic JSON is by using Jackson's <a href=\"https://static.javadoc.io/com.fasterxml.jackson.core/jackson-databind/2.9.6/index.html?com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\">JsonNode</a> as your parameter type.</p>\n\n<pre><code>@RequestMapping(value = [\"some/path\"], consumes = [MediaType.APPLICATION_JSON_VALUE])\ninterface UploadClient {\n\n    @PostMapping(\"upload\")\n    fun upload(@RequestBody book: JsonNode): Long\n}\n</code></pre>\n\n<p>This way, you are able to post JSON Objects, JSON Arrays, Strings, Numbers or Booleans with arbitrary nesting. Here's an example:</p>\n\n<pre><code>val book: ObjectNode = JsonNodeFactory.instance.objectNode()\n        .put(\"authors\", JsonNodeFactory.instance.arrayNode()\n                .add(\"John Doe\")\n                .add(\"Jane Doe\"))\n        .put(\"title\", \"First Book about the Does\")\n        .put(\"year\", 2018)\n\nval id = uploadClient.upload(book)\n</code></pre>\n\n<p>This is equivalent to the following request</p>\n\n<pre><code>POST /some/path HTTP/1.1\nHost: localhost:8080\nContent-Type: application/json\n\n{\n  \"authors\": [\"John Doe\", \"Jane Doe\"],\n  \"title\": \"First Book about the Does\",\n  \"year\": 2018\n}\n</code></pre>\n\n<p>Using JsonNode will also work on the server side.</p>\n"}], "owner": {"reputation": 35, "user_id": 3702700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbfe1ff33c5ce6ac6d17d3d51bb46f72?s=128&d=identicon&r=PG&f=1", "display_name": "marlett", "link": "https://stackoverflow.com/users/3702700/marlett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1387, "favorite_count": 0, "accepted_answer_id": 51566534, "answer_count": 1, "score": 0, "last_activity_date": 1532891524, "creation_date": 1532355832, "last_edit_date": 1532369680, "question_id": 51481115, "link": "https://stackoverflow.com/questions/51481115/post-json-of-unknown-class-with-feign-client", "title": "Post json of unknown class with Feign client", "body": "<p>My service has to redirect a json data to another service. In all examples I saw on feign client, sender knows the data type of the sent object, and so it looks like this:</p>\n\n<pre><code>@RequestMapping(\"some/path\", consumes = [MediaType.APPLICATION_JSON_VALUE])\ninterface UploadClient {\n\n    @PostMapping(\"upload\")\n    fun upload(book: Book): Long\n}\n</code></pre>\n\n<p>My problem is I have no Book class, I just have to forward json. I've tried to do it with String, like this:</p>\n\n<p>Client interface:</p>\n\n<pre><code>@RequestMapping(\"some/path\")\ninterface UploadClient {\n\n    @PostMapping(\"/upload\", consumes = arrayOf(MediaType.APPLICATION_JSON_VALUE))\n    fun import(@RequestBody strangeData: String): Long\n\n}\n</code></pre>\n\n<p>Feign Factory:</p>\n\n<pre><code>class DefaultFeignClientFactory() : FeignClientFactory {\n\noverride fun &lt;T&gt; getClient(target: Class&lt;T&gt;, url: String): T {\n    return registry.getOrPut(target) {\n        Feign.builder()\n            .target(target, url)\n    } as T\n}\n\n}\n</code></pre>\n\n<p>Client is instantiated using OSGi:</p>\n\n<pre><code>  &lt;bean id=\"uploadClient\" factory-ref=\"feignClientFactory\" factory-method=\"getClient\"&gt;\n    &lt;argument value=\"com.blah.blahblah.UploadClient\"/&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>And the same interface on the receiver side is:</p>\n\n<pre><code> @RequestMapping(\"some/path\")\n interface Loader {\n\n     @PostMapping(\"/upload\")\n     fun import(@RequestBody myBooks: Collection&lt;Book&gt;): Long\n\n }\n</code></pre>\n\n<p>If I throw json in the receiver directly (curl/postman/etc), it deserializes it and works fine.\nPassing the string to feign client works, but unfortunately, receiver can't deserialize it that way.\nSo I tried to change it to byte[] (ByteArray in Kotlin):</p>\n\n<pre><code>    @PostMapping(\"/upload\", consumes = arrayOf(MediaType.APPLICATION_JSON_VALUE))\n    fun import(@RequestBody strangeData: ByteArray): Long\n</code></pre>\n\n<p>and it falls with <code>org.springframework.web.HttpMediaTypeNotSupportedException message: Unsupported Media Type</code>\nSame luck with <code>MediaType.APPLICATION_OCTET_STREAM_VALUE</code> and <code>MediaType.ALL_VALUE</code> (actually ALL_VALUE fell with some other error) - data is not sent to the receiver service in any form.</p>\n\n<p>What Java data type and what MediaType do I have to choose in those circumstances?\nThanks in advance.</p>\n"}, {"tags": ["android", "xml", "kotlin", "seekbar"], "answers": [{"tags": [], "owner": {"reputation": 352, "user_id": 2180780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8102f442dfc5c21d3a1ceefff5b4578?s=128&d=identicon&r=PG", "display_name": "drruggeri", "link": "https://stackoverflow.com/users/2180780/drruggeri"}, "is_accepted": false, "score": 0, "last_activity_date": 1590177530, "creation_date": 1590177530, "answer_id": 61962955, "question_id": 51481083, "link": "https://stackoverflow.com/questions/51481083/remove-thumb-and-set-progresstint-for-disabled-seekbar/61962955#61962955", "title": "Remove thumb and set progressTint for disabled seekbar", "body": "<p>You can simply use ProgressBar instead</p>\n"}], "owner": {"reputation": 3968, "user_id": 403952, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0f74ab3bacb6f344bfea131bbdca3a70?s=128&d=identicon&r=PG", "display_name": "Alec Sanger", "link": "https://stackoverflow.com/users/403952/alec-sanger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 563, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1590177530, "creation_date": 1532355722, "question_id": 51481083, "link": "https://stackoverflow.com/questions/51481083/remove-thumb-and-set-progresstint-for-disabled-seekbar", "title": "Remove thumb and set progressTint for disabled seekbar", "body": "<p>The default seekbar behavior on disable is to keep the <code>thumb</code> visual and remove the progress color. I would like to flip this and instead remove the thumb and keep the progress color (though I'll want to change the color value). </p>\n\n<p>I thought that I could just use ColorStateLists for the <code>thumbTint</code> and the <code>progressTint</code> but that didn't work. Making the thumb transparent left a weird gap in the bar, and the disabled color of the <code>progressTint</code> is always ignored.</p>\n\n<p>Current Enabled State:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mmexT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mmexT.png\" alt=\"Current Enabled State\"></a></p>\n\n<p>Current Disabled State:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ljexn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ljexn.png\" alt=\"Current Disabled State\"></a></p>\n\n<p>Desired Disabled State:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jXipn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXipn.png\" alt=\"Desired Disabled State\"></a></p>\n\n<p>Layout:</p>\n\n<pre><code>&lt;SeekBar\n    style=\"@style/Zero.Seekbar.Green\"\n    android:id=\"@+id/sb_range\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintEnd_toStartOf=\"@id/tv_range_value\"\n    android:progress=\"140\"\n    android:max=\"200\"\n    android:enabled=\"@{viewModel.rangeEnabled}\"\n    /&gt;\n</code></pre>\n\n<p>styles.xml:</p>\n\n<pre><code>&lt;!-- SeekBar--&gt;\n&lt;style name=\"Zero.Seekbar\" parent=\"Zero\"&gt;\n    &lt;item name=\"android:layout_width\"&gt;0dp&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:paddingTop\"&gt;4dp&lt;/item&gt;\n    &lt;item name=\"android:paddingBottom\"&gt;8dp&lt;/item&gt;\n    &lt;item name=\"android:paddingStart\"&gt;@dimen/gutter_width&lt;/item&gt;\n    &lt;item name=\"android:paddingEnd\"&gt;@dimen/gutter_width&lt;/item&gt;\n    &lt;item name=\"android:progressTint\"&gt;@color/zero_orange&lt;/item&gt;\n    &lt;item name=\"android:progressBackgroundTint\"&gt;@color/zero_gray_header&lt;/item&gt;\n    &lt;item name=\"android:thumb\"&gt;@drawable/slider_thumb_ride_mode&lt;/item&gt;\n    &lt;item name=\"layout_constraintTop_toTopOf\"&gt;parent&lt;/item&gt;\n    &lt;item name=\"layout_constraintBottom_toBottomOf\"&gt;parent&lt;/item&gt;\n    &lt;item name=\"layout_constraintStart_toStartOf\"&gt;parent&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"Zero.Seekbar.Green\" parent=\"Zero.Seekbar\"&gt;\n    &lt;item name=\"android:progressTint\"&gt;@color/color_seekbar_green&lt;/item&gt;\n    &lt;item name=\"android:thumbTint\"&gt;@color/transparent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>color_seekbar_green.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_enabled=\"true\"\n        android:color=\"@color/zero_green\" /&gt;\n    &lt;item android:state_enabled=\"false\"\n        android:color=\"@color/zero_yellow\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "facebook-login", "android-facebook"], "comments": [{"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1532353358, "post_id": 51480188, "comment_id": 89929068, "body": "can you post your logs ?\\"}, {"owner": {"reputation": 2451, "user_id": 4824088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MFSla.png?s=128&g=1", "display_name": "Mohamed Mohaideen AH", "link": "https://stackoverflow.com/users/4824088/mohamed-mohaideen-ah"}, "edited": false, "score": 0, "creation_date": 1532354215, "post_id": 51480188, "comment_id": 89929710, "body": "Add your error log with question. Will help to find the exact error.!"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1532354833, "post_id": 51480188, "comment_id": 89930172, "body": "@Umair I have added the log from logcat."}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532418545, "post_id": 51480188, "comment_id": 89955026, "body": "The error log is just filling up with tons of text . That&#39;s why I have not put it up."}], "answers": [{"tags": [], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "is_accepted": true, "score": 0, "last_activity_date": 1532419546, "creation_date": 1532419546, "answer_id": 51493542, "question_id": 51480188, "link": "https://stackoverflow.com/questions/51480188/my-app-crashing-closing-after-hitting-continue-with-facebook/51493542#51493542", "title": "My app crashing/closing after hitting &quot;continue with facebook&quot;", "body": "<p>The answers for another linked question fixed this problem for me. Its <a href=\"https://stackoverflow.com/questions/51492371/my-app-waiting-for-debugger-in-release-mode-in-android-studio-3-1-3#51492422\">here</a>.</p>\n"}], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 1, "accepted_answer_id": 51493542, "answer_count": 1, "score": 0, "last_activity_date": 1532419546, "creation_date": 1532353064, "last_edit_date": 1532355185, "question_id": 51480188, "link": "https://stackoverflow.com/questions/51480188/my-app-crashing-closing-after-hitting-continue-with-facebook", "title": "My app crashing/closing after hitting &quot;continue with facebook&quot;", "body": "<p>I am trying to integrate facebook with my app in android studio. I am an amateur at the kotlin language that I am using to achieve my goal.</p>\n\n<p>I followed the tutorial on the facebook developers page. The problem is that once I hit the login button, it loads for 2 to 3 seconds and then crashes/closes.</p>\n\n<p>The code snippet in the <code>LoginActivity.kt file</code></p>\n\n<pre><code>val fblogin_button= findViewById&lt;LoginButton&gt;(R.id.login_button)\n    fblogin_button.setOnClickListener {\n        callbackManager = CallbackManager.Factory.create()\n        LoginManager.getInstance().logInWithReadPermissions(this,Arrays.asList(\"email\"))\n        LoginManager.getInstance().registerCallback(callbackManager,\n        object : FacebookCallback&lt;LoginResult&gt;{\n            override fun onSuccess(result: LoginResult) {\n                Log.d(\"LoginActivity\",\"Facebook token\" + result.accessToken.token)\n                startActivity(Intent(baseContext,GradeActivity::class.java))\n            }\n\n            override fun onCancel() {\n                Log.d(\"LoginActivity\",\"Facebook oncancel\")\n            }\n\n            override fun onError(error: FacebookException?) {\n                Log.d(\"LoginActivity\",\"Facebook onError\")\n            }\n\n        })\n    }\n</code></pre>\n\n<p>I also have another method outside the <code>onCreate</code> method. That is given below.</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    callbackManager?.onActivityResult(requestCode,resultCode,data)\n}\n</code></pre>\n\n<p>The <code>Manifest</code> file contents are shown below.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\npackage=\"com.example.vishwa.imaginators\"&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;!--&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;--&gt;\n&lt;!--&lt;uses-feature android:name=\"android.hardware.camera\" /&gt;--&gt;\n&lt;!--&lt;uses-feature android:name=\"android.hardware.camera\" android:required=\"false\" /&gt;--&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".SplashscreenActivity\"\n        android:theme=\"@style/AppTheme\"\n        android:noHistory=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".LoginActivity\"\n        android:theme=\"@style/AppTheme\"\n        android:noHistory=\"true\"&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".GradeActivity\"\n        android:theme=\"@style/AppTheme\"\n        android:noHistory=\"true\"&gt;\n\n    &lt;/activity&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n\n    &lt;/activity&gt;\n    &lt;meta-data android:name=\"com.facebook.sdk.ApplicationId\"\n        android:value=\"@string/facebook_app_id\"/&gt;\n\n    &lt;activity android:name=\"com.facebook.FacebookActivity\"\n        android:configChanges=\n            \"keyboard|keyboardHidden|screenLayout|screenSize|orientation\"\n        android:label=\"@string/app_name\" /&gt;\n    &lt;activity\n        android:name=\"com.facebook.CustomTabActivity\"\n        android:exported=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n            &lt;data android:scheme=\"@string/fb_login_protocol_scheme\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>As you can see the <code>onSuccess</code> method, if it login is successful then the <code>GradeActivity</code> is supposed to open but instead it closes.</p>\n\n<p>The logs are shown below.</p>\n\n<pre><code>07-23 19:22:37.154 22589-22589/? I/art: Late-enabling -Xcheck:jni\n07-23 19:22:37.219 22589-22589/? D/TidaProvider: TidaProvider()\n07-23 19:22:37.257 22589-22589/com.example.vishwa.imaginators \nW/ActivityThread: Application com.example.vishwa.imaginators is waiting for the debugger on port 8100...\n07-23 19:22:37.282 22589-22589/com.example.vishwa.imaginators I/System.out: \nSending WAIT chunk\n07-23 19:22:37.375 22589-22595/com.example.vishwa.imaginators I/art: Debugger is active\n07-23 19:22:37.483 22589-22589/com.example.vishwa.imaginators I/System.out: Debugger has connected\nwaiting for debugger to settle...\n07-23 19:22:37.684 22589-22589/com.example.vishwa.imaginators I/System.out: waiting for debugger to settle...\n07-23 19:22:37.884 22589-22589/com.example.vishwa.imaginators I/System.out: waiting for debugger to settle...\n07-23 19:22:38.084 22589-22589/com.example.vishwa.imaginators I/System.out: waiting for debugger to settle...\n07-23 19:22:38.284 22589-22589/com.example.vishwa.imaginators I/System.out: waiting for debugger to settle...\n07-23 19:22:38.484 22589-22589/com.example.vishwa.imaginators I/System.out: waiting for debugger to settle...\n07-23 19:22:38.685 22589-22589/com.example.vishwa.imaginators I/System.out: waiting for debugger to settle...\n07-23 19:22:38.885 22589-22589/com.example.vishwa.imaginators I/System.out: debugger has settled (1427)\n07-23 19:22:38.943 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_dependencies_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_dependencies_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.444 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_0_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_0_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.501 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_1_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_1_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.560 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_2_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_2_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.630 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_3_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_3_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.711 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_4_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_4_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.774 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_5_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_5_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.844 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_6_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_6_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.904 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_7_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_7_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:39.965 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_8_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_8_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:40.033 22589-22589/com.example.vishwa.imaginators W/art: Failed execv(/system/bin/dex2oat --runtime-arg -classpath --runtime-arg  --instruction-set=arm64 --instruction-set-features=smp,a53 --runtime-arg -Xrelocate --boot-image=/system/framework/boot.art --non-interactive --runtime-arg -Xms64m --runtime-arg -Xmx512m -j2 --instruction-set-variant=generic --instruction-set-features=default --dex-file=/data/app/com.example.vishwa.imaginators-2/split_lib_slice_9_apk.apk --oat-file=/data/dalvik-cache/arm64/data@app@com.example.vishwa.imaginators-2@split_lib_slice_9_apk.apk@classes.dex) because non-0 exit status\n07-23 19:22:40.043 22589-22589/com.example.vishwa.imaginators W/System: ClassLoader referenced unknown path: /data/app/com.example.vishwa.imaginators-2/lib/arm64\n07-23 19:22:40.145 22589-22817/com.example.vishwa.imaginators D/com.facebook.FacebookSdk: getGraphApiVersion: v3.0\n07-23 19:22:40.149 22589-22817/com.example.vishwa.imaginators I/DpmTcmClient: RegisterTcmMonitor from: com.android.okhttp.TcmIdleTimerMonitor\n07-23 19:22:40.154 22589-22589/com.example.vishwa.imaginators I/InstantRun: starting instant run server: is main process\n07-23 19:22:40.247 22589-22589/com.example.vishwa.imaginators W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter android.support.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\n07-23 19:22:40.290 22589-22589/com.example.vishwa.imaginators D/AccessibilityManager: current package=com.example.vishwa.imaginators, accessibility manager mIsFinalEnabled=false, mOptimizeEnabled=false, mIsUiAutomationEnabled=false, mIsInterestedPackage=false\n07-23 19:22:40.312 22589-22589/com.example.vishwa.imaginators V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@7199c39\nBoostFramework() : mPerf = com.qualcomm.qti.Performance@97127e\n07-23 19:22:40.462 22589-22589/com.example.vishwa.imaginators W/com.facebook.appevents.AppEventsLogger: activateApp events are being logged automatically. There's no need to call activateApp explicitly, this is safe to remove.\n07-23 19:22:40.529 22589-22841/com.example.vishwa.imaginators D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\n07-23 19:22:40.648 22589-22841/com.example.vishwa.imaginators I/Adreno: QUALCOMM build                   : a7823f5, I59a6815413\nBuild Date                       : 09/23/16\nOpenGL ES Shader Compiler Version: XE031.07.00.00\nLocal Branch                     : mybranch22028469\nRemote Branch                    : quic/LA.BR.1.3.3_rb2.26\nRemote Branch                    : NONE\nReconstruct Branch               : NOTHING\n07-23 19:22:40.684 22589-22824/com.example.vishwa.imaginators D/com.facebook.FacebookSdk: getGraphApiVersion: v3.0\n07-23 19:22:40.688 22589-22824/com.example.vishwa.imaginators W/AnalyticsUserIDStore: initStore should have been called before calling setUserID\n07-23 19:22:40.727 22589-22589/com.example.vishwa.imaginators W/art: Before Android 4.1, method int android.support.v7.widget.ListViewCompat.lookForSelectablePosition(int, boolean) would have incorrectly overridden the package-private method in android.widget.ListView\n07-23 19:22:40.733 22589-22841/com.example.vishwa.imaginators I/OpenGLRenderer: Initialized EGL, version 1.4\n07-23 19:22:40.783 22589-22841/com.example.vishwa.imaginators E/HAL: hw_get_module_by_class: module name gralloc\nhw_get_module_by_class: module name gralloc\n07-23 19:22:41.010 22589-22850/com.example.vishwa.imaginators D/com.facebook.FacebookSdk: getGraphApiVersion: v3.0\n07-23 19:22:41.351 22589-22824/com.example.vishwa.imaginators D/com.facebook.FacebookSdk: getGraphApiVersion: v3.0\n07-23 19:22:41.465 22589-22839/com.example.vishwa.imaginators I/Timeline: Timeline: Activity_launch_request time:459431007\n07-23 19:22:41.507 22589-22589/com.example.vishwa.imaginators V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@bb9ef8e\n07-23 19:22:41.508 22589-22589/com.example.vishwa.imaginators V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@afc73af\n07-23 19:22:43.725 22589-22589/com.example.vishwa.imaginators I/Timeline: Timeline: Activity_launch_request time:459433267\n07-23 19:22:43.781 22589-22589/com.example.vishwa.imaginators I/Timeline: Timeline: Activity_launch_request time:459433323\n07-23 19:22:44.848 22589-22589/com.example.vishwa.imaginators D/com.facebook.FacebookSdk: getGraphApiVersion: v3.0\n07-23 19:22:45.179 22589-22589/com.example.vishwa.imaginators D/com.facebook.FacebookSdk: getGraphApiVersion: v3.0\n</code></pre>\n\n<p>Now the app doesn't run in normal mode, it runs in debug mode even if I don't run in debug mode.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "edited": false, "score": 0, "creation_date": 1540054549, "post_id": 51480079, "comment_id": 92726729, "body": "check this <a href=\"https://stackoverflow.com/a/52907983/4797289\">stackoverflow.com/a/52907983/4797289</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5853, "user_id": 10561460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jl1Jc.png?s=128&g=1", "display_name": "Paresh P.", "link": "https://stackoverflow.com/users/10561460/paresh-p"}, "edited": false, "score": 1, "creation_date": 1602712995, "post_id": 51480159, "comment_id": 113811071, "body": "Hey @Dam, What if the class is not a data class? How do I clone with different hashcode?"}, {"owner": {"reputation": 4887, "user_id": 371720, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/D2Rdd.png?s=128&g=1", "display_name": "Shihab Uddin", "link": "https://stackoverflow.com/users/371720/shihab-uddin"}, "edited": false, "score": 0, "creation_date": 1611220642, "post_id": 51480159, "comment_id": 116382073, "body": "it saves my day. alhamdulillah"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1613576426, "post_id": 51480159, "comment_id": 117118292, "body": "Would this do a <b>deep copy</b>?"}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1613726085, "post_id": 51480159, "comment_id": 117170128, "body": "@IgorGanapolsky This will only deep copy known  class members. And even this answer has a flow. All objects in the <code>List</code> are &quot;deep copied&quot; but not the <code>List</code> reference itself. <code>List</code> still points to the same memory location, only its content has been changed. If you add another list to your class and forget to apply the same steps mentioned here to the new <code>List</code>, you&#39;ll still have a headache. So no, this is not a generic <i>deep copy</i> solution, just a solution (workaround) for specific use cases"}], "tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": true, "score": 33, "last_activity_date": 1532354788, "last_edit_date": 1532354788, "creation_date": 1532352980, "answer_id": 51480159, "question_id": 51480079, "link": "https://stackoverflow.com/questions/51480079/deep-copy-of-list-with-objects-in-kotlin/51480159#51480159", "title": "Deep copy of list with objects in Kotlin", "body": "<p>That's bacause you are adding all the object references to another list, hence you are not making  a proper copy, you have the same elements in two list. If you want diferents list and diferent references, you must clone every object in a new list:</p>\n\n<pre><code>public data class Person(var n: String)\n\nfun main(args: Array&lt;String&gt;) {\n    //creates two instances\n    var anna = Person(\"Anna\")\n    var Alex =Person(\"Alex\")\n\n    //add to list\n    val names = arrayOf(anna , Alex)\n    //generate a new real clone list\n    val cloneNames = names.map{it.copy()}\n\n    //modify first list\n    cloneNames.get(0).n = \"Another Anna clone\"\n\n    println(names.toList())\n    println(cloneNames.toList())\n}\n\n[Person(n=Anna), Person(n=Alex)]\n[Person(n=Another Anna clone), Person(n=Alex)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 5151590, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/71aba3639620736dadf690d89b889d74?s=128&d=identicon&r=PG", "display_name": "Roi Amiel", "link": "https://stackoverflow.com/users/5151590/roi-amiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1532353439, "creation_date": 1532353439, "answer_id": 51480320, "question_id": 51480079, "link": "https://stackoverflow.com/questions/51480079/deep-copy-of-list-with-objects-in-kotlin/51480320#51480320", "title": "Deep copy of list with objects in Kotlin", "body": "<p>This is not related to kotlin, when you are adding the objects from the old list to the new one, it add the reference to them (no createing a new object ), whats mean it just copying the address in the memory to the new list.</p>\n\n<p>To fix this problem you should create a new instance for each object. you can create a copy constructor, for example:</p>\n\n<pre><code>constructor(otherA: ClassA) {\n    this.prop1 = otherA.prop1\n    this.prop2 = otherA.prop2\n    ...\n} \n</code></pre>\n\n<p>and then add them one by one to the new list:</p>\n\n<pre><code>list1.forEach { list2.add(Class(it)) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 4158051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F9xkoz7y18g/AAAAAAAAAAI/AAAAAAAAAB0/ZeKjzfBhYCI/photo.jpg?sz=128", "display_name": "Christos Christidis", "link": "https://stackoverflow.com/users/4158051/christos-christidis"}, "edited": false, "score": 5, "creation_date": 1587222189, "post_id": 52908010, "comment_id": 108427833, "body": "This is wrong. It works only for immutable things like ints or strings."}], "tags": [], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "is_accepted": false, "score": 1, "last_activity_date": 1540054647, "creation_date": 1540054647, "answer_id": 52908010, "question_id": 51480079, "link": "https://stackoverflow.com/questions/51480079/deep-copy-of-list-with-objects-in-kotlin/52908010#52908010", "title": "Deep copy of list with objects in Kotlin", "body": "<p>Use 'to' for iterate object</p>\n\n<p><strong>List  -> toList()</strong></p>\n\n<p><strong>Array -> toArray()</strong></p>\n\n<p><strong>ArrayList  -> toArray()</strong></p>\n\n<p><strong>MutableList  -> toMutableList()</strong></p>\n\n<hr>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>val array:ArrayList&lt;String&gt; = ArrayList()\narray.add(\"1\")\narray.add(\"2\")\narray.add(\"3\")\narray.add(\"4\")\n\nval arrayCopy = array.toArray() // copy array to other array\n\nLog.i(\"---&gt; array \" ,  array?.count().toString())\nLog.i(\"---&gt; arrayCopy \" ,  arrayCopy?.count().toString())\n\narray.removeAt(0) // remove first item in array \n\nLog.i(\"---&gt; array after remove\" ,  array?.count().toString())\nLog.i(\"---&gt; arrayCopy after remove\" ,  arrayCopy?.count().toString())\n</code></pre>\n\n<p><strong>print log:</strong> </p>\n\n<pre><code>array: 4\narrayCopy: 4\narray\u00a0after\u00a0remove: 3\narrayCopy\u00a0after\u00a0remove: 4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 6315851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LZ9tl.jpg?s=128&g=1", "display_name": "Yogesh Shinde", "link": "https://stackoverflow.com/users/6315851/yogesh-shinde"}, "is_accepted": false, "score": 0, "last_activity_date": 1582489041, "creation_date": 1582489041, "answer_id": 60366434, "question_id": 51480079, "link": "https://stackoverflow.com/questions/51480079/deep-copy-of-list-with-objects-in-kotlin/60366434#60366434", "title": "Deep copy of list with objects in Kotlin", "body": "<p>There is no default function in Kotlin to do this.\nI have done using Gson.</p>\n\n<pre><code>public data class Person{\n  val id = 1\n  val name = \"\"\n  public Person copy(){\n        String stringPerson = new Gson().toJson(this, Person.class);\n        return new Gson().fromJson(stringPerson, Person.class);\n    }\n}\n\nval persone = Person()\npersone.id = 1\nperson.name = \"ABC\"\nval originalList = ArrayList()\nlist1.add(persone)\nval copiedList = originalList.map{it.copy()}\nlist2.get(0).name = \"DEF\"\n</code></pre>\n\n<p>It will not update the originaList.\nChanges will only reflect in the copiedList.</p>\n"}], "owner": {"reputation": 653, "user_id": 1340036, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/DgfDE.jpg?s=128&g=1", "display_name": "Oya", "link": "https://stackoverflow.com/users/1340036/oya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15811, "favorite_count": 1, "accepted_answer_id": 51480159, "answer_count": 4, "score": 22, "last_activity_date": 1582489041, "creation_date": 1532352739, "question_id": 51480079, "link": "https://stackoverflow.com/questions/51480079/deep-copy-of-list-with-objects-in-kotlin", "title": "Deep copy of list with objects in Kotlin", "body": "<p>I am new to kotlin and I am trying to make a copy of a list of objects.The problem I am having is that when I change items in the new copy, the old list gets changed as well. This is the object:</p>\n\n<pre><code>class ClassA(var title: String?, var list: ArrayList&lt;ClassB&gt;, var selected: Boolean)\nclass ClassB(val id: Int, val name: String) \n</code></pre>\n\n<p>I tried doing this, but it doesn't work:</p>\n\n<pre><code>val oldList:ArrayList&lt;ClassA&gt;\n\n\nval newList :ArrayList&lt;ClassA&gt; = ArrayList()\nnewList.addAll(oldList)\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-viewholder"], "comments": [{"owner": {"reputation": 844, "user_id": 1177865, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f4d2de3a30fc58b991e7b33b101c653a?s=128&d=identicon&r=PG", "display_name": "hjchin", "link": "https://stackoverflow.com/users/1177865/hjchin"}, "edited": false, "score": 0, "creation_date": 1532352986, "post_id": 51479761, "comment_id": 89928808, "body": "The ViewHolder might returns null value as the layout may not ready yet. If you have the position of the ViewHolder, would it be better, if you have a reference to a collection of data that you passed in the adapter earlier, to retrieve that item in the collection based on the position in adapter?"}], "answers": [{"tags": [], "owner": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "is_accepted": true, "score": 5, "last_activity_date": 1532352040, "creation_date": 1532352040, "answer_id": 51479841, "question_id": 51479761, "link": "https://stackoverflow.com/questions/51479761/how-to-access-recyclerview-viewholder-params-from-outside-of-adapter/51479841#51479841", "title": "How to access Recyclerview.ViewHolder params from outside of adapter?", "body": "<p>You just need to cast the holder as your own, so</p>\n\n<pre><code>val myHolder = (searchedHolder as ViewHolder)\n//Access custom info with variable\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1056, "favorite_count": 1, "accepted_answer_id": 51479841, "answer_count": 1, "score": 2, "last_activity_date": 1532352040, "creation_date": 1532351809, "question_id": 51479761, "link": "https://stackoverflow.com/questions/51479761/how-to-access-recyclerview-viewholder-params-from-outside-of-adapter", "title": "How to access Recyclerview.ViewHolder params from outside of adapter?", "body": "<p>I have recyclerview attached to SnapHelper. Then I made scrollListener for recyclerview and everytime the item is snapped to the center of the display, I will find that snapped view, then I will get its viewHolder instance by finViewHolderForAdapterPosition(). Now what I want is to access custom variable created inside ViewHolder. Is there any way to access it? Basically this variable is set in onBindViewHolder() and it's containing custom object which stats are shown in this snapped view. So I want to extract that json object from that view.</p>\n\n<pre><code>//inside onBindViewHolder()\nholder.addressEntity = it\n</code></pre>\n\n<p>I've tried this, but this variable is not detected. Only itemView (variable sent in constructor as parameter) is accessible.</p>\n\n<pre><code>addressRecyclerView.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n        override fun onScrollStateChanged(recyclerView: RecyclerView?, newState: Int) {\n            if (newState == AbsListView.OnScrollListener.SCROLL_STATE_IDLE) {\n                val centerView = snapHelper.findSnapView(addressRecyclerView.layoutManager)\n                centerView!!.setBackgroundResource(R.drawable.payment_button_active)\n                lastSnappedView = centerView\n                val childViewHolder: RecyclerView.ViewHolder = recyclerView!!.findViewHolderForAdapterPosition(viewManager.getPosition(centerView))\n                val selectedViewAddress: Address = childViewHolder.addressEntity //this doesnt work -- selectedViewAddress is red\n                AndroidAssets.getInstance(context!!).deliveryAddress = selectedViewAddress \n\n            } else if (lastSnappedView != null){\n                lastSnappedView!!.setBackgroundResource(R.drawable.payment_button_inactive)\n                lastSnappedView = null\n            }\n        }\n    })\n</code></pre>\n\n<p>ViewHolder inside adapter as inner class:</p>\n\n<pre><code>inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    //address item views\n    var addressEntity: Address? = null\n    val cityName: TextView = itemView.findViewById(R.id.cityName)\n    val streetName: TextView = itemView.findViewById(R.id.streetName)\n    val addressIcon: ImageView = itemView.findViewById(R.id.addressIcon)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room", "androidx"], "answers": [{"comments": [{"owner": {"reputation": 6533, "user_id": 570168, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b212792627d3184a74a5c2a5ab23d73a?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/570168/tobias"}, "reply_to_user": {"reputation": 463, "user_id": 5857324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e0fdae3d3303fd5c0a12e54bfb9bd62?s=128&d=identicon&r=PG", "display_name": "Karthick Ramanathan", "link": "https://stackoverflow.com/users/5857324/karthick-ramanathan"}, "edited": false, "score": 0, "creation_date": 1532358020, "post_id": 51479163, "comment_id": 89932418, "body": "then please also post the schema"}], "tags": [], "owner": {"reputation": 6533, "user_id": 570168, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b212792627d3184a74a5c2a5ab23d73a?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/570168/tobias"}, "is_accepted": false, "score": 0, "last_activity_date": 1532349916, "creation_date": 1532349916, "answer_id": 51479163, "question_id": 51478971, "link": "https://stackoverflow.com/questions/51478971/androidx-room-database/51479163#51479163", "title": "AndroidX room database", "body": "<p>Did you change the database scheme after creation? => uninstall app and rebuild</p>\n\n<p>Also you should set <code>exportSchema = true</code> so you actually see what the generated schema looks like.</p>\n"}, {"comments": [{"owner": {"reputation": 463, "user_id": 5857324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e0fdae3d3303fd5c0a12e54bfb9bd62?s=128&d=identicon&r=PG", "display_name": "Karthick Ramanathan", "link": "https://stackoverflow.com/users/5857324/karthick-ramanathan"}, "edited": false, "score": 0, "creation_date": 1532352157, "post_id": 51479367, "comment_id": 89928174, "body": "when i tried that java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter subMenuApiList         at com.thanthi.dtnext.dtnextapplication.database.MenuConvertors&zwnj;&#8203;.listToString(MenuCo&zwnj;&#8203;nvertors.kt)"}], "tags": [], "owner": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "is_accepted": false, "score": 1, "last_activity_date": 1532350562, "creation_date": 1532350562, "answer_id": 51479367, "question_id": 51478971, "link": "https://stackoverflow.com/questions/51478971/androidx-room-database/51479367#51479367", "title": "AndroidX room database", "body": "<p>Since you are using kotlin, the variables have to be mutable if they are can be null. </p>\n\n<p>Add a <code>?</code> after the variable types in your entity and that will fix it. Without <code>?</code> you are basically guaranteeing that it won't be null.</p>\n\n<pre><code>@PrimaryKey(autoGenerate = true) var id: Int? = 0, @ColumnInfo(name = \"title\")\n@SerializedName(\"Title\") var title: String? = \"\", \n@ColumnInfo(name = \"TITLE_OF_ACCESS\") @SerializedName(\"TitleofAccess\") var titleOfAccess: String? = \"\", \n@ColumnInfo(name = \"apexFileName\") @SerializedName(\"AspxFileName\") var apexFileName: String? = \"\", \n@ColumnInfo(name = \"sectionId\") @SerializedName(\"SectionId\") var sectionId: String? = \"\", \n@TypeConverters(MenuConvertors::class) @SerializedName(\"SubMenu\") var subMenuApi: List&lt;SubMenuApi&gt;? = listOf&lt;SubMenuApi&gt;(), \n@ColumnInfo(name = \"subSecCount\") @SerializedName(\"subsec_count\") var subSecCount: Int? = 0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 463, "user_id": 5857324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e0fdae3d3303fd5c0a12e54bfb9bd62?s=128&d=identicon&r=PG", "display_name": "Karthick Ramanathan", "link": "https://stackoverflow.com/users/5857324/karthick-ramanathan"}, "is_accepted": true, "score": 1, "last_activity_date": 1532597312, "last_edit_date": 1532597312, "creation_date": 1532515454, "answer_id": 51516966, "question_id": 51478971, "link": "https://stackoverflow.com/questions/51478971/androidx-room-database/51516966#51516966", "title": "AndroidX room database", "body": "<p>After adding null in string initialization code works correctly.. like this</p>\n\n<pre><code>@ColumnInfo(name = \"title\") @SerializedName(\"Title\") var title: String? = null\n</code></pre>\n\n<p>when we initialize variable with empty value, room database marks that column in table as NOT NULL, so when we receive data as null, it goes error.</p>\n\n<p>so when we don't know about the value we have to initialize variable as null in kotlin data class</p>\n"}], "owner": {"reputation": 463, "user_id": 5857324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e0fdae3d3303fd5c0a12e54bfb9bd62?s=128&d=identicon&r=PG", "display_name": "Karthick Ramanathan", "link": "https://stackoverflow.com/users/5857324/karthick-ramanathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "accepted_answer_id": 51516966, "answer_count": 3, "score": 5, "last_activity_date": 1532597312, "creation_date": 1532349366, "last_edit_date": 1532352294, "question_id": 51478971, "link": "https://stackoverflow.com/questions/51478971/androidx-room-database", "title": "AndroidX room database", "body": "<p>Iam using room database in kotlin via androidX library. When i download feed and try to save in database, crash occurs showing error sqlite:NOTNULL constraint failed.Json Feed has objects in some tags and also have null data in some tags.</p>\n\n<p>But i did not add any not null properties in database. In another project iam using  room database from arch library in java with same feed it actually works.</p>\n\n<p>I tried like this with some seconday constructor</p>\n\n<pre><code>constructor(0, \"\", \"\", \"\", \"\", listOf&lt;SubMenuApi&gt;, 0)\n</code></pre>\n\n<p>and also this...</p>\n\n<pre><code>import androidx.room.ColumnInfo\nimport androidx.room.Entity\nimport androidx.room.PrimaryKey\nimport androidx.room.TypeConverters\n\n@Entity(tableName = \"tableMenu\")\ndata class MenuApi(\n\n        @PrimaryKey(autoGenerate = true) var id: Int = 0,\n        @ColumnInfo(name = \"title\") @SerializedName(\"Title\") var title: String = \"\",\n        @ColumnInfo(name = \"TITLE_OF_ACCESS\") @SerializedName(\"TitleofAccess\") var titleOfAccess: String = \"\",\n        @ColumnInfo(name = \"apexFileName\") @SerializedName(\"AspxFileName\") var apexFileName: String = \"\",\n        @ColumnInfo(name = \"sectionId\") @SerializedName(\"SectionId\") var sectionId: String = \"\",\n        @TypeConverters(MenuConvertors::class) @SerializedName(\"SubMenu\") var subMenuApi: List&lt;SubMenuApi&gt; = listOf&lt;SubMenuApi&gt;(),\n        @ColumnInfo(name = \"subSecCount\") @SerializedName(\"subsec_count\") var subSecCount: Int = 0)\n</code></pre>\n\n<p>my database class</p>\n\n<pre><code>@Database(entities = [(MenuApi::class),], version = 1, exportSchema = false)\n@TypeConverters(MenuConvertors::class)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun dbDao(): DbDao\n}\n</code></pre>\n\n<p>menu convertors</p>\n\n<pre><code>class MenuConvertors {\n\n    private val gson = Gson()\n\n    @TypeConverter\n    fun stringToList(data: String?): List&lt;SubMenuApi&gt; {\n        if (data == null) {\n            return emptyList()\n        }\n        val listType = object : TypeToken&lt;List&lt;SubMenuApi&gt;&gt;() {}.type\n        return gson.fromJson(data, listType)\n    }\n\n    @TypeConverter\n    fun listToString(subMenuApiList: List&lt;SubMenuApi&gt;): String {\n        return gson.toJson(subMenuApiList)\n    }\n}\n</code></pre>\n\n<p>submenu</p>\n\n<pre><code>data class SubMenuApi(\n\n        @SerializedName(\"Title\") var title: String? = \"\",\n        @SerializedName(\"TitleofAccess\") var titleOfAccess: String? = \"\",\n        @SerializedName(\"AspxFileName\") var apexFileName: String? = \"\",\n        @SerializedName(\"SectionId\") var sectionId: String? = \"\",\n        @SerializedName(\"URL\") var url: String? = \"\")\n</code></pre>\n\n<p>my error is</p>\n\n<pre><code>android.database.sqlite.SQLiteConstraintException: NOT NULL constraint failed: tableMenu.apexFileName (code 1299)\n    #################################################################\n    Error Code : 1299 (SQLITE_CONSTRAINT_NOTNULL)\n    Caused By : Abort due to constraint violation.\n        (NOT NULL constraint failed: tableMenu.apexFileName (code 1299))\n    #################################################################\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:915)\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\n        at androidx.sqlite.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:51)\n        at androidx.room.EntityInsertionAdapter.insert(EntityInsertionAdapter.java:97)\n        at com.thanthi.dtnext.dtnextapplication.database.DbDao_Impl.insertMenuData(DbDao_Impl.java:432)\n        at com.thanthi.dtnext.dtnextapplication.viewmodel.MenuViewModel$loadMenuData$1.onResponse(MenuViewModel.kt:53)\n        at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:70)\n        at android.os.Handler.handleCallback(Handler.java:739)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:148)\n        at android.app.ActivityThread.main(ActivityThread.java:7325)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n</code></pre>\n\n<p>null tag in apexFileName</p>\n\n<p>is there any mistake in my code or bug in androidX.room</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1532344244, "post_id": 51477310, "comment_id": 89923034, "body": "have a look <a href=\"https://stackoverflow.com/a/32596753/5110595\">this</a>"}, {"owner": {"reputation": 391, "user_id": 1725535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qnaZJ.png?s=128&g=1", "display_name": "Shubham Naik", "link": "https://stackoverflow.com/users/1725535/shubham-naik"}, "edited": false, "score": 1, "creation_date": 1532344566, "post_id": 51477310, "comment_id": 89923234, "body": "the error is self explanatory, you are doing assignment at a place where the compiler is expecting an expression."}], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "edited": false, "score": 0, "creation_date": 1532344607, "post_id": 51477361, "comment_id": 89923266, "body": "What if i store the expression in another variable and check it everytime?"}, {"owner": {"reputation": 403, "user_id": 7326075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41a441ab0e780d1d2820cf5afc3e1ee1?s=128&d=identicon&r=PG&f=1", "display_name": "Ikazuchi", "link": "https://stackoverflow.com/users/7326075/ikazuchi"}, "reply_to_user": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "edited": false, "score": 0, "creation_date": 1532346986, "post_id": 51477361, "comment_id": 89924639, "body": "It depends what do you want to do with it. You can create one more var and there store your if parameter without changing your main value."}], "tags": [], "owner": {"reputation": 403, "user_id": 7326075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41a441ab0e780d1d2820cf5afc3e1ee1?s=128&d=identicon&r=PG&f=1", "display_name": "Ikazuchi", "link": "https://stackoverflow.com/users/7326075/ikazuchi"}, "is_accepted": true, "score": 1, "last_activity_date": 1532344076, "creation_date": 1532344076, "answer_id": 51477361, "question_id": 51477310, "link": "https://stackoverflow.com/questions/51477310/assignments-are-not-expressions-and-only-expressions-are-allowed-in-this-context/51477361#51477361", "title": "Assignments are not expressions and only expressions are allowed in this context - Kotlin", "body": "<p>You can not do things like this:</p>\n\n<pre><code>diffInSeconds = diffInSeconds / 60\n</code></pre>\n\n<p>in if, it is not supported by kotlin.\nYou have to extract it before or after if.</p>\n\n<p>E.g.</p>\n\n<pre><code>internal fun getDiff(to: Calendar, from: Calendar): Long {\n\n    var diffInSeconds = (to.time.time - from.time.time) / 1000\n\n    val diff = longArrayOf(0, 0, 0, 0)\n    diff[3] = if (diffInSeconds &gt;= 60) diffInSeconds % 60\n    else diffInSeconds // sec\n    diffInSeconds /= 60\n    diff[2] = if (diffInSeconds &gt;= 60)\n        diffInSeconds % 60\n    else\n        diffInSeconds // min\n    diffInSeconds /= 60\n    diff[1] = if (diffInSeconds &gt;= 24)\n        diffInSeconds % 24\n    else\n        diffInSeconds // hour\n    diffInSeconds /= 24\n    diff[0] = (diffInSeconds) // day\n\n\n    return diff[0]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "reply_to_user": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "edited": false, "score": 0, "creation_date": 1532347634, "post_id": 51477472, "comment_id": 89925054, "body": "for each iteration you have to follow this way."}], "tags": [], "owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1532344398, "creation_date": 1532344398, "answer_id": 51477472, "question_id": 51477310, "link": "https://stackoverflow.com/questions/51477310/assignments-are-not-expressions-and-only-expressions-are-allowed-in-this-context/51477472#51477472", "title": "Assignments are not expressions and only expressions are allowed in this context - Kotlin", "body": "<p>The syntax is not valid, because <code>diffInSeconds = diffInSeconds / 60</code> is not an expression in Kotlin. just do this</p>\n\n<pre><code>var a = diffInSeconds /= 60\ndiff[1] = if (a &gt;= 24)\n</code></pre>\n"}], "owner": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1907, "favorite_count": 0, "accepted_answer_id": 51477361, "answer_count": 2, "score": 0, "last_activity_date": 1532344398, "creation_date": 1532343892, "question_id": 51477310, "link": "https://stackoverflow.com/questions/51477310/assignments-are-not-expressions-and-only-expressions-are-allowed-in-this-context", "title": "Assignments are not expressions and only expressions are allowed in this context - Kotlin", "body": "<p>I am getting error while converting java to kotlin and cannot understand how to solve this particular error.</p>\n\n<pre><code>internal fun getDiff(to: Calendar, from: Calendar): Long {\n\n        var diffInSeconds = (to.time.time - from.time.time) / 1000\n\n        val diff = longArrayOf(0, 0, 0, 0)\n        diff[3] = if (diffInSeconds &gt;= 60) diffInSeconds % 60 \n                    else diffInSeconds // sec\n        diff[2] = if ((diffInSeconds = diffInSeconds / 60)&gt;= 60)\n                         diffInSeconds % 60\n                 else\n                        diffInSeconds // min\n        diff[1] = if ((diffInSeconds = diffInSeconds / 60) &gt;= 24)\n                        diffInSeconds % 24\n                 else\n                        diffInSeconds // hour\n        diff[0] = (diffInSeconds = diffInSeconds / 24) // day\n\n        Log.e(\"days\", diff[0].toString() + \"\")\n\n        return diff[0]\n}\n</code></pre>\n\n<p>Following line: <code>(diffInSeconds = diffInSeconds / 60)</code> shows error displaying </p>\n\n<blockquote>\n  <p>Assignments are not expressions, and only expressions are allowed in\n  this context</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "fragment"], "comments": [{"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1532341779, "post_id": 51476630, "comment_id": 89921527, "body": "You need to set default values for your private members (default c&#39;tor)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1532341975, "post_id": 51476630, "comment_id": 89921651, "body": "Apart from the question, from the documentation <code>BaseFragment</code> is deprecated use <code>BaseSupportFragment</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1532346057, "last_edit_date": 1532346057, "creation_date": 1532342575, "answer_id": 51476921, "question_id": 51476630, "link": "https://stackoverflow.com/questions/51476630/kotlin-create-a-fragment-got-a-error-like-this/51476921#51476921", "title": "kotlin create a Fragment,got a error like this:", "body": "<p>The error says that there is no \"parameter-less\" constructors available (<em>an empty constructor</em>) for this fragment and the system couldn't be able to recreate this fragment when configuration changes occur.</p>\n\n<p>You <strong>shouldn't</strong> use constructor to pass parameters to the fragment. </p>\n\n<p>You <strong>should</strong> (I mean you must) use arguments approach to pass parameters to the <code>fragment</code>.</p>\n\n<p>Like this:</p>\n\n<pre><code>class DetailListFragment : BaseFragment() {\n\n    companion object {\n        fun create(siteId: Int, channelId: Int):DetailListFragment {\n            return DetailListFragment().apply {\n                 arguments = Bundle()\n                 arguments?.putInt(\"siteId\", siteId)\n                 arguments?.putInt(\"channelId\", channelId)\n            }\n        }\n    }\n\n    override fun onCreate(savedState:Bundle) {\n         mSiteId = arguments?.getInt(\"siteId\") ?: 0\n         mChannelId= arguments?.getInt(\"channelId\") ?: 0\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 239, "user_id": 9822286, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Scott", "link": "https://stackoverflow.com/users/9822286/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1532346057, "creation_date": 1532341668, "last_edit_date": 1532345944, "question_id": 51476630, "link": "https://stackoverflow.com/questions/51476630/kotlin-create-a-fragment-got-a-error-like-this", "title": "kotlin create a Fragment,got a error like this:", "body": "<p>When I create a <code>fragment</code>:</p>\n\n<pre><code>class DetailListFragment(siteId: Int, channelId: Int) : BaseFragment() {\n\nprivate var mSiteId: Int\nprivate var mChannelId: Int\n\ninit {\n    this.mSiteId = siteId\n    this.mChannelId = channelId\n}\n\noverride fun getLayoutId(): Int {\n}\n\noverride fun initView() {\n}\n\noverride fun initData() {\n}}\n</code></pre>\n\n<p>I getting a compile error like this:</p>\n\n<pre><code>This Fragment should provide a default constructor(a public constructor with no arguments)\n</code></pre>\n\n<p>How can I deal with this issue?\nHow can I declare a number of constructors in Kotlin?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-workmanager"], "answers": [{"comments": [{"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 1, "creation_date": 1532360936, "post_id": 51482545, "comment_id": 89934340, "body": "does it mean I will never able to pass <code>data</code> from worker to UI when using periodic request? because it says <code>data</code> is set when <code>workstatus.state</code> is <code>SUCCEEDED</code>"}, {"owner": {"reputation": 225, "user_id": 10123288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHdLk.png?s=128&g=1", "display_name": "nst0022", "link": "https://stackoverflow.com/users/10123288/nst0022"}, "reply_to_user": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1532370606, "post_id": 51482545, "comment_id": 89939270, "body": "The result of doWork() is primarily meant for the WorkManager. For instance, if you have a onetime request, where the worker returns RETRY, then the WorkManager enqueues another request despite of its onetimeness.  If you want to pass any data/information from the worker to the issuing activity, you would need to think of other mechanisms that can accomplish that."}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1532372155, "post_id": 51482545, "comment_id": 89940056, "body": "this is what I meant <a href=\"https://developer.android.com/reference/androidx/work/Worker#setOutputData(androidx.work.Data)\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/work/&hellip;</a>. it says <code>This method is invoked after doWork() returns Worker.WorkerResult.SUCCESS and there are chained jobs available.</code>"}, {"owner": {"reputation": 225, "user_id": 10123288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHdLk.png?s=128&g=1", "display_name": "nst0022", "link": "https://stackoverflow.com/users/10123288/nst0022"}, "reply_to_user": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1532402107, "post_id": 51482545, "comment_id": 89948404, "body": "OK, now I know what you mean with &quot;data&quot;: passing a Data object from a (here periodic) workerA to a chained workerB. Again, the result of the first run of workerA might be briefly reflected in its state, but this state gets overwritten by the enqueued second run of workerA.  The fact that you do not see SUCCESS does not necessarily mean, that a Data object is not passed to workerB. This you should simply test. If it does not work, then it is a bug and should be reported."}], "tags": [], "owner": {"reputation": 225, "user_id": 10123288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHdLk.png?s=128&g=1", "display_name": "nst0022", "link": "https://stackoverflow.com/users/10123288/nst0022"}, "is_accepted": true, "score": 3, "last_activity_date": 1532360164, "creation_date": 1532360164, "answer_id": 51482545, "question_id": 51476480, "link": "https://stackoverflow.com/questions/51476480/workstatus-observer-always-in-enqueued-state/51482545#51482545", "title": "workstatus observer always in enqueued state", "body": "<p>For your periodic work request you should see </p>\n\n<pre><code>ENQUEUED - RUNNING - ENQUEUED\n</code></pre>\n\n<p>where the latter ENQUEUED is the state of the next work request.</p>\n\n<p>You might get very briefly a SUCCEEDED between RUNNING and ENQUEUED, but I have never seen that.</p>\n\n<p>For a onetime work request you see</p>\n\n<pre><code>ENQUEUED - RUNNING - SUCCEEDED\n</code></pre>\n\n<p>or whatever you return in doWork().</p>\n\n<p>(Android 8.1 API 27, 1.0.0-alpha04)</p>\n"}, {"comments": [{"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1532425584, "post_id": 51488638, "comment_id": 89958997, "body": "my targetSdkVersion is 26. I am also facing trouble which <code>worker.doWork()</code> suddenly wont run anymore for some reason with periodicWork or OneTimeWork (it ran before) unless I uninstall the app. I even need to write another script with asynctask to make sure I did nothing wrong with my codes and it turned there was no problem with my codes using asyncTask. Thanks Rahul"}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1532544878, "post_id": 51488638, "comment_id": 90020423, "body": "one quick simple question. let say I have script <code>select * from bla bla</code> in <code>doWork()</code>, when that script executed ? in <code>ENQUEUED</code> state or in <code>RUNNING</code> state?"}], "tags": [], "owner": {"reputation": 13962, "user_id": 304533, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23fcaec3eee6cf382d17daaf0fc5e893?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/304533/rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1532720307, "last_edit_date": 1532720307, "creation_date": 1532389960, "answer_id": 51488638, "question_id": 51476480, "link": "https://stackoverflow.com/questions/51476480/workstatus-observer-always-in-enqueued-state/51488638#51488638", "title": "workstatus observer always in enqueued state", "body": "<p>The above answer is correct. For PeriodicWork you should see:</p>\n\n<p><code>ENQUEUED -&gt; RUNNING -&gt; ENQUEUED</code></p>\n\n<p>However, there is a bug in <code>alpha04</code> which causes <code>PeriodicWork</code> to not run on API >= 23. This will be fixed in <code>alpha05</code>. For more info take a look at <a href=\"https://issuetracker.google.com/issues/111195153\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/111195153</a>.</p>\n\n<p>IMPORTANT: As of a couple of days ago: <code>alpha05</code> has shipped. This bug is <em>fixed</em>. </p>\n"}, {"tags": [], "owner": {"reputation": 314, "user_id": 8030353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1fd900d915323c390c81dbc1a1aeb3b?s=128&d=identicon&r=PG&f=1", "display_name": "KKM", "link": "https://stackoverflow.com/users/8030353/kkm"}, "is_accepted": false, "score": 0, "last_activity_date": 1559038173, "last_edit_date": 1559038173, "creation_date": 1559037404, "answer_id": 56339579, "question_id": 51476480, "link": "https://stackoverflow.com/questions/51476480/workstatus-observer-always-in-enqueued-state/56339579#56339579", "title": "workstatus observer always in enqueued state", "body": "<p>This is for anyone who is having trouble getting their output data from periodic work.\nIt's more like a hack. \nIn your Worker, just define a static mutable Live Data. \nAt the place where you observe your work's state, observe this live data when your state turns to \"RUNNING\".</p>\n\n<p>Here's a template :</p>\n\n<ol>\n<li>The actual Worker: </li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeWorker extends Worker{\n\n   //This live data can be of any type. I'm setting Boolean\n   Public static MutableLiveData&lt;Boolean&gt; outputObservable = new MutableLiveData();\n   private boolean output_boolean;\n   try{\n       //Do you work here post your result to the live data\n       output_boolean = SomeTaskThatReturnsABoolean();\n       outputObservable.postValue(output_boolean);\n       return Result.Success();\n   }catch(Exception e){\n       e.printStackTrace();\n       outputObservable.postValue(!output_boolean);\n       return Result.Failure();\n    }\n}\n\n</code></pre>\n\n<ol start=\"2\">\n<li>Your activity that observes this worker's info:</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>//In YourActivity class inside OnCreate\nmWorkManager.getWorkInfoForUniqueWorkLiveData(YOUR_TAG).observe (this,\n   new Observer&lt;List&lt;WorkInfo&gt;&gt;(){\n       @Override\n       public void onChanged(@Nullable List&lt;WorkInfo&gt; workInfos) {\n          if(workInfos!=null &amp;&amp; (!(workInfos.isEmpty()))) {\n             WorkInfo info = workInfos.get(0);\n             switch(info.getState()){\n               case ENQUEUED:\n                   break;\n               case RUNNING:\n                   SomeWorker.outputObservable.observe(YourActivity.this,\n                      new Observer&lt;Boolean&gt;(){\n                      @Override\n                       public void onChanged(@Nullable Boolean aBoolean) {\n                           //EDIT: Remove the observer of the worker otherwise \n                           //before execution of your below code, the observation might switch\n                           mWorkManager.getWorkInfoForUniqueWorkLiveData(YOUR_TAG).removeObservers(YourActivity.this);\n                           if(aBoolean)\n                             //Do whatever you have to if it's true\n                           else\n                             //Do whatever you have to if it's false\n                           }\n                      }\n                   );\n             }\n          }\n       }\n   }\n);\n</code></pre>\n\n<p>In this way you can observe your results when the state of the work is under running, before it gets switched back to enqueued.</p>\n"}], "owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1669, "favorite_count": 0, "accepted_answer_id": 51482545, "answer_count": 3, "score": 3, "last_activity_date": 1559038173, "creation_date": 1532341176, "question_id": 51476480, "link": "https://stackoverflow.com/questions/51476480/workstatus-observer-always-in-enqueued-state", "title": "workstatus observer always in enqueued state", "body": "<p>I am trying to observe my <code>workers</code> but they are always in <code>queued</code> state or sometime it's <code>RUNNING</code> but never <code>SUCCEED</code> or <code>FAILED</code>.</p>\n\n<p>is <code>workStatus.state</code> from return in <code>doWork()</code> or it's different?</p>\n\n<p>this is my worker script:</p>\n\n<pre><code>package com.mockie.daikokuten.sync.workers\n\nimport androidx.work.Worker\n\n\nclass TestWorker:Worker()\n{\n\noverride fun doWork():Worker.Result\n{\n    return Worker.Result.SUCCESS\n}\n\n}\n</code></pre>\n\n<p>this is script to observe the workers :</p>\n\n<pre><code> val test = PeriodicWorkRequest.Builder(\n            TestWorker::class.java,\n            PeriodicWorkRequest.MIN_PERIODIC_INTERVAL_MILLIS,\n            TimeUnit.MILLISECONDS)\n            .addTag(\"test_worker\")\n            .build()\n\n    WorkManager.getInstance()?.enqueueUniquePeriodicWork(\"test_worker\", ExistingPeriodicWorkPolicy.KEEP, test)\n\n    WorkManager.getInstance()!!.getStatusesByTag(\"test_worker\")\n            .observe(this, Observer { workStatus -&gt;\n                if (workStatus != null)\n                {\n                    for(ws in workStatus)\n                    {\n                        Log.d(\":dump2 id \", ws.id.toString())\n                        Log.d(\":dump2 tag\", ws.tags.toString())\n                        Log.d(\":dump2 state\", ws.state.toString())\n                    }\n                }\n            })\n</code></pre>\n\n<p>this is the result in Logcat:</p>\n\n<pre><code> 07-23 17:12:30.901 29740-29740/com.mockie.daikokuten D/:dump2\u00a0id: 5c6297f7-11d8-4f2f-a327-773672a7435c\n 07-23 17:12:30.901 29740-29740/com.mockie.daikokuten D/:dump2\u00a0tag: [test_worker, com.mockie.daikokuten.sync.workers.TestWorker]\n 07-23 17:12:30.901 29740-29740/com.mockie.daikokuten D/:dump2\u00a0state: ENQUEUED\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1532340482, "post_id": 51476173, "comment_id": 89920740, "body": "Just replace <code>.setIcon(R.drawable.cancel);</code> to <code>ContextCompat.getDrawable(this, R.drawable.cancel);</code>but its deprecated!"}, {"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 0, "creation_date": 1532340598, "post_id": 51476173, "comment_id": 89920815, "body": "getResources().getDrawable(R.drawable.cancel) this is deprecated"}, {"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "reply_to_user": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 0, "creation_date": 1532340750, "post_id": 51476173, "comment_id": 89920907, "body": "@YoLo yes, i edit my post."}, {"owner": {"reputation": 8266, "user_id": 5305430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hxqD2.jpg?s=128&g=1", "display_name": "sushildlh", "link": "https://stackoverflow.com/users/5305430/sushildlh"}, "edited": false, "score": 0, "creation_date": 1532340759, "post_id": 51476173, "comment_id": 89920918, "body": "post your error logcat ??"}, {"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 0, "creation_date": 1532340771, "post_id": 51476173, "comment_id": 89920924, "body": "you need to set title to apply icon to alertdialog"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7513041"}, "edited": false, "score": 0, "creation_date": 1532341447, "post_id": 51476397, "comment_id": 89921332, "body": "It works but I found that this isn&#39;t the icon I need .I need to add image in the dialog at the left"}, {"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 0, "creation_date": 1532341657, "post_id": 51476397, "comment_id": 89921444, "body": "dialogBuilder.setTitle(&quot; &quot;) I have added space as title"}], "tags": [], "owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "is_accepted": true, "score": 1, "last_activity_date": 1532340946, "creation_date": 1532340946, "answer_id": 51476397, "question_id": 51476173, "link": "https://stackoverflow.com/questions/51476173/dialog-icon-doesnt-appear-in-kotlin-dialog/51476397#51476397", "title": "Dialog Icon doesn&#39;t appear in Kotlin dialog", "body": "<p>Use Following : </p>\n\n<pre><code>  val dialogBuilder = AlertDialog.Builder(this)\n\n    dialogBuilder.setTitle(\" \")\n    dialogBuilder.setMessage(list[c])\n    dialogBuilder.setIcon(R.drawable.cancel)\n    dialogBuilder.setCancelable(false)\n    dialogBuilder.setPositiveButton(\"Ok\", { _, _ -&gt;\n        if(c == list.size)\n            finish()\n    })\n\n    val b = dialogBuilder.create()\n    b.show()\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7513041"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 51476397, "answer_count": 1, "score": 0, "last_activity_date": 1532340946, "creation_date": 1532340187, "question_id": 51476173, "link": "https://stackoverflow.com/questions/51476173/dialog-icon-doesnt-appear-in-kotlin-dialog", "title": "Dialog Icon doesn&#39;t appear in Kotlin dialog", "body": "<p>I have an android app made by kotlin I made a dialog in it and set Icon to this dialog but the icon doesn't appear this is my code :</p>\n\n<pre><code>    val dialogBuilder = AlertDialog.Builder(this)\n\n    dialogBuilder.setTitle(\"\")\n    dialogBuilder.setMessage(list[c])\n    dialogBuilder.setIcon(R.drawable.cancel)\n    dialogBuilder.setCancelable(false)\n    dialogBuilder.setPositiveButton(\"Ok\", { _, _ -&gt;\n        if(c == list.size)\n            finish()\n    })\n\n    val b = dialogBuilder.create()\n    b.show()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1532339529, "post_id": 51475949, "comment_id": 89920147, "body": "Does the same happen when building from the command line? For example, if you run <code>.&#47;gradlew assembleDebug</code>."}, {"owner": {"reputation": 132, "user_id": 5234725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l0jY_pspYmA/AAAAAAAAAAI/AAAAAAAAAKM/0PKQbqsFkc8/photo.jpg?sz=128", "display_name": "Shashank Saxena", "link": "https://stackoverflow.com/users/5234725/shashank-saxena"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1532339814, "post_id": 51475949, "comment_id": 89920326, "body": "@zsmb13 Yes. Same error."}, {"owner": {"reputation": 6461, "user_id": 1069444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7604a48be008a79e1ee10be31ca95220?s=128&d=identicon&r=PG", "display_name": "Carlos Fonseca", "link": "https://stackoverflow.com/users/1069444/carlos-fonseca"}, "edited": false, "score": 0, "creation_date": 1533032982, "post_id": 51475949, "comment_id": 90187020, "body": "I&#39;ve hit with a similar issue too and worked around it by wrapping the unresolved class in a java class and using that java class in my Kotlin code\u2026 Now I&#39;m hitting it again somewhere else\u2026 this is quite annoying\u2026 maybe downgrading Kotlin fixes it?"}, {"owner": {"reputation": 132, "user_id": 5234725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l0jY_pspYmA/AAAAAAAAAAI/AAAAAAAAAKM/0PKQbqsFkc8/photo.jpg?sz=128", "display_name": "Shashank Saxena", "link": "https://stackoverflow.com/users/5234725/shashank-saxena"}, "reply_to_user": {"reputation": 6461, "user_id": 1069444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7604a48be008a79e1ee10be31ca95220?s=128&d=identicon&r=PG", "display_name": "Carlos Fonseca", "link": "https://stackoverflow.com/users/1069444/carlos-fonseca"}, "edited": false, "score": 0, "creation_date": 1533544157, "post_id": 51475949, "comment_id": 90367763, "body": "@CarlosFonseca Did you try the accepted solution(updating libraries)?"}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 5234725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l0jY_pspYmA/AAAAAAAAAAI/AAAAAAAAAKM/0PKQbqsFkc8/photo.jpg?sz=128", "display_name": "Shashank Saxena", "link": "https://stackoverflow.com/users/5234725/shashank-saxena"}, "is_accepted": true, "score": 2, "last_activity_date": 1533102171, "creation_date": 1533102171, "answer_id": 51626031, "question_id": 51475949, "link": "https://stackoverflow.com/questions/51475949/unresolved-reference-error-in-kotlin-files-in-a-javakotlin-android-project/51626031#51626031", "title": "Unresolved reference error in Kotlin files in a Java+Kotlin Android project", "body": "<p>I was able to find a solution for this.</p>\n\n<p>Turns out, (and I don't know the reason why), but after upgrading the Gradle version and Kotlin plugin, the older version of a library was causing some kind of interference.\nI updated</p>\n\n<pre><code>com.birbit:android-priority-jobqueue:1.3\n</code></pre>\n\n<p>to</p>\n\n<pre><code>com.birbit:android-priority-jobqueue:2.0.1\n</code></pre>\n\n<p>which was the latest available version and the issue was resolved.</p>\n\n<p>If anyone else runs into this issue, try updating all your dependencies to the latest version.</p>\n\n<p>And if anyone identifies the actual reason for this, please let me know as well.</p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 132, "user_id": 5234725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l0jY_pspYmA/AAAAAAAAAAI/AAAAAAAAAKM/0PKQbqsFkc8/photo.jpg?sz=128", "display_name": "Shashank Saxena", "link": "https://stackoverflow.com/users/5234725/shashank-saxena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 1, "accepted_answer_id": 51626031, "answer_count": 1, "score": 3, "last_activity_date": 1533102171, "creation_date": 1532339470, "question_id": 51475949, "link": "https://stackoverflow.com/questions/51475949/unresolved-reference-error-in-kotlin-files-in-a-javakotlin-android-project", "title": "Unresolved reference error in Kotlin files in a Java+Kotlin Android project", "body": "<p>I am working on a Kotlin+Java hybrid project.</p>\n\n<p>The Gradle version and plugin were recently upgraded to 3.1.3 and 4.4 respectively.</p>\n\n<p>Now while compiling, I am getting an error of 'unresolved reference' in a few of the Kotlin files.</p>\n\n<p>Eg. - </p>\n\n<pre><code>return when (item?.itemId) {\n        android.R.id.home -&gt; {\n            finish()\n            true\n        }\n        else -&gt; super.onOptionsItemSelected(item)\n    }\n</code></pre>\n\n<p>In the above code getting compilation error in android.R.id.home as unresolved reference.</p>\n\n<p>Also in</p>\n\n<pre><code>root_low_rating_nps.viewTreeObserver.removeOnGlobalLayoutListener(keyboardLayoutListener)\n</code></pre>\n\n<p>Getting the 'unresolved reference' error in finding 'removeOnGlobalLayoutListener'</p>\n\n<p>I have been stuck on this for 5 days.</p>\n\n<p>Tried moving the Kotlin buildscript dependencies in the app module's build.gradle, invalidate caches and restart, refresh, deleting .idea/ folder.</p>\n\n<p>Can anyone help resolve this issue?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "firebase", "kotlin", "static-classes"], "comments": [{"owner": {"reputation": 367, "user_id": 7090731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLCgR.png?s=128&g=1", "display_name": "Nandan Desai", "link": "https://stackoverflow.com/users/7090731/nandan-desai"}, "edited": false, "score": 0, "creation_date": 1532374830, "post_id": 51475794, "comment_id": 89941274, "body": "I don&#39;t know if this helps you but, usually, AsyncTask is used for doing server related transactions in the background. Check out <a href=\"https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin#44525947\">this</a> link."}, {"owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "reply_to_user": {"reputation": 367, "user_id": 7090731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLCgR.png?s=128&g=1", "display_name": "Nandan Desai", "link": "https://stackoverflow.com/users/7090731/nandan-desai"}, "edited": false, "score": 0, "creation_date": 1532378386, "post_id": 51475794, "comment_id": 89942808, "body": "Thanks Nandan. I know a little bit about AsyncTask and Anko, and will be using them for my server transactions.. I just don&amp;#39;t know how to have a whole class of methods using AsyncTask, or know how to call each such method from different fragments. Should they be in an object and then I just pass context into the method parameters??"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1532400848, "post_id": 51475794, "comment_id": 89948177, "body": "Firebase methods should already be asynchronous. Please show your code and maybe someone can help more specifically to your question"}, {"owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "edited": false, "score": 0, "creation_date": 1532401104, "post_id": 51475794, "comment_id": 89948226, "body": "Thanks cricket. I didn&#39;t actually know that but asynchronous methods aren&#39;t really bothering me at the moment. I&#39;d just like a class that doesn&#39;t need to be instantiated to just hold my firebase access methods."}], "owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532419856, "creation_date": 1532338985, "last_edit_date": 1532419856, "question_id": 51475794, "link": "https://stackoverflow.com/questions/51475794/android-static-class-method-calls-to-server", "title": "Android - Static class method calls to server", "body": "<p><strong>Background -</strong>\nI have an app that currently has a lot of methods in MainActivity to pull and upload data to firebase. It's quite a mess with the other app logic in there..</p>\n\n<p><strong>Problem -</strong>\nI would like a separate class filled with server (firebase) access methods that can be called from any activity or fragment and run asynchronously. The class also needs access to context and be able to initialise and store variables.</p>\n\n<p>PS. I'm using kotlin if that helps at all</p>\n\n<p><strong>Edit:</strong>\nHave done more researching to find terms like \"utility\" and \"static\" classes which seems like an accurate way to go... If I create a static utility class with Async methods, will that achieve what I'm after? Also, can you initialise and hold variables in a static class?</p>\n\n<p>Thanks :)</p>\n\n<p><strong>Solved</strong>\nAfter more research and testing, I created an object that holds my methods and variables and just need to pass context into the relevant methods. Then just simply call objectname.methodname()</p>\n"}, {"tags": ["android", "kotlin", "android-drawable"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 2, "last_activity_date": 1532343663, "last_edit_date": 1532343663, "creation_date": 1532338421, "answer_id": 51475650, "question_id": 51475487, "link": "https://stackoverflow.com/questions/51475487/class-cast-exception-while-create-layerdrawable-in-kotlin/51475650#51475650", "title": "Class cast exception while create LayerDrawable in kotlin", "body": "<p>Change to this:</p>\n\n<pre><code>val colorDrawable = try {\n    ColorDrawable(Color.parseColor(color.hex))\n} catch (e: Exception) {\n    e.printStackTrace()\n    ColorDrawable(Color.parseColor(\"#FFFFFF\"))\n}\n</code></pre>\n\n<p><code>Color.parseColor(color.hex)</code> returns <code>int</code> not <code>Drawable</code></p>\n"}], "owner": {"reputation": 55, "user_id": 9955383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ORdlaoPBQwo/AAAAAAAAAAI/AAAAAAAAAAA/GHVyfxcjpN4/photo.jpg?sz=128", "display_name": "Max Railian", "link": "https://stackoverflow.com/users/9955383/max-railian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 51475650, "answer_count": 1, "score": 1, "last_activity_date": 1532343801, "creation_date": 1532337946, "last_edit_date": 1532343801, "question_id": 51475487, "link": "https://stackoverflow.com/questions/51475487/class-cast-exception-while-create-layerdrawable-in-kotlin", "title": "Class cast exception while create LayerDrawable in kotlin", "body": "<p>i remake my old java code on kotlin now and i have one problem, i need a kotlin analog of this code:</p>\n\n<pre><code>Drawable[] layers = new Drawable[]{\n    colorDrawable,\n    border\n};\n\nLayerDrawable drawable = new LayerDrawable(layers);\n</code></pre>\n\n<p>In kotlin i have now:</p>\n\n<pre><code>val border = GradientDrawable()\nborder.shape = GradientDrawable.RECTANGLE\nborder.setStroke(CommonsUtils.dpToPx(holder.itemView, 1), Color.parseColor(\"#DEDEDE\"))\nborder.cornerRadius = CommonsUtils.dpToPx(holder.itemView, 2).toFloat()\n\nval colorDrawable = try {\n    Color.parseColor(color.hex)\n} catch (e: Exception) {\n    e.printStackTrace()\n    ColorDrawable(Color.parseColor(\"#FFFFFF\"))\n}\n\nval layers = arrayOf(colorDrawable, border)\nval drawable = LayerDrawable(layers as Array&lt;out Drawable&gt;)\n</code></pre>\n\n<p>But arrayOf returns Array of \"Any\" instead Array of \"out Drawable\" and i have class cast exception Object[] to Drawable[].</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "is_accepted": true, "score": 1, "last_activity_date": 1532338138, "creation_date": 1532338138, "answer_id": 51475547, "question_id": 51475421, "link": "https://stackoverflow.com/questions/51475421/android-how-to-replace-initial-fragment/51475547#51475547", "title": "Android, how to replace initial fragment?", "body": "<p>The problem of yours is inside the xml. Instead of using <code>fagment</code> tag, you should create a layout which will be a container for your fragment.</p>\n\n<p>Change your xml like this:</p>\n\n<pre><code>&lt;FrameLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/fragment_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n</code></pre>\n\n<p>and reference your <code>FrameLayout</code> inside, I assume, activity via it's id <code>R.id.fragment</code>:</p>\n\n<pre><code>val fragment = SettingFragment()\ntransaction.replace(R.id.fragment_container, fragment)\n</code></pre>\n"}], "owner": {"reputation": 3105, "user_id": 963844, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4b3e62d69f8a00a6c03829c82f833852?s=128&d=identicon&r=PG", "display_name": "CL So", "link": "https://stackoverflow.com/users/963844/cl-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 51475547, "answer_count": 1, "score": 0, "last_activity_date": 1532338138, "creation_date": 1532337734, "question_id": 51475421, "link": "https://stackoverflow.com/questions/51475421/android-how-to-replace-initial-fragment", "title": "Android, how to replace initial fragment?", "body": "<p>I create this fragment and set initial fragment <code>FirstFragment</code>, if I don't set this initial fragment, the app will crash.</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/fragment\"\n    android:name=\"com.app.FirstFragment\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\" /&gt;\n</code></pre>\n\n<p>And then I use this function to replace the fragment, this works fine, every fragment can be replaced by other fragment except <code>FirstFragment</code>, this fragment keep displaying on screen. How can I replace this fragment?</p>\n\n<pre><code>enum class FragmentType {\n    SETTING, ACTIVITY, PROFILE, CONNECT, SCANNER\n}\nprivate fun changeFragmentTo(type: FragmentType) {\n    val transaction = supportFragmentManager.beginTransaction()\n    when(type) {\n        FragmentType.SETTING -&gt; {\n            title = \"SETTING\"\n            val f = SettingFragment()\n            transaction.replace(R.id.fragment, f)\n        }\n\n        FragmentType.ACTIVITY -&gt; {\n            title = \"ACTIVITY\"\n            val f = ActivityFragment()\n            transaction.replace(R.id.fragment, f)\n        }\n\n        FragmentType.PROFILE -&gt; {\n            title = \"PROFILE\"\n            val f = ProfileFragment()\n            transaction.replace(R.id.fragment, f)\n        }\n        FragmentType.CONNECT -&gt; {\n            title = \"CONNECT\"\n            val f = ConnectFragment()\n            transaction.replace(R.id.fragment, f)\n        }\n        FragmentType.SCANNER -&gt; {\n            title = \"SCANNER\"\n            val f = ScannerFragment()\n            transaction.replace(R.id.fragment, f)\n        }\n\n    }\n    transaction.addToBackStack(null)\n    transaction.commit()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1532336654, "post_id": 51475050, "comment_id": 89918434, "body": "Technically you can use the <code>@JsName</code> annotation on each test to specify an alternative name that would be used for the JavaScript backend, but specifying two different names for each test isn&#39;t really a productive way of working."}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1532337165, "post_id": 51475050, "comment_id": 89918713, "body": "@yole, Regardless, a good option to be aware about! Thank you for the comment. However, it seems like <code>JsName</code> is not accessible from a <code>common</code> library?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1532344839, "post_id": 51475050, "comment_id": 89923388, "body": "As far as I understand, it will be at some point."}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1532347433, "post_id": 51475050, "comment_id": 89924930, "body": "I found more elaborate documentation on how to use <code>@JsName</code> <a href=\"https://blog.kotlin-academy.com/testing-common-modules-66b39d641617\" rel=\"nofollow noreferrer\">on Kotlin Academy</a>. By using <code>expect</code> and <code>actual</code> you can use <code>@JsName</code>. @yole, feel free to post this as an answer, I feel it is a suitable one for those who do not mind the method name duplication."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1532336635, "creation_date": 1532336635, "answer_id": 51475116, "question_id": 51475050, "link": "https://stackoverflow.com/questions/51475050/spaces-in-test-method-names-when-targeting-multiplatform/51475116#51475116", "title": "Spaces in test method names when targeting multiplatform", "body": "<p>For tests that are in a common or a JavaScript module, you are correct, you'll have to give up the nice names using backticks, and resort to the more traditional <code>ensure_everything_works</code> or similar. For tests that are JVM specific, you can continue to use backticks and spaces.</p>\n\n<p>This includes JUnit tests for code that you're later planning to run on Android. The only limitation there is that you can't use spaces in tests that actually have to run in an Android environment, but the unit tests (I assume JUnit) run on your dev machine's JVM so they'll still work with spaces in the identifiers.</p>\n"}, {"comments": [{"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "edited": false, "score": 0, "creation_date": 1582881609, "post_id": 60445965, "comment_id": 106936994, "body": "<code>@JsName</code> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/-js-name/index.html\" rel=\"nofollow noreferrer\"><i>can</i> be used in common</a>: that is the exact use case. I considered using it, but this notation is extremely redundant, so just opted for underscores."}, {"owner": {"reputation": 792, "user_id": 5019847, "user_type": "registered", "profile_image": "https://graph.facebook.com/406205719582407/picture?type=large", "display_name": "Jeffrey Nyauke", "link": "https://stackoverflow.com/users/5019847/jeffrey-nyauke"}, "reply_to_user": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "edited": false, "score": 0, "creation_date": 1584885385, "post_id": 60445965, "comment_id": 107570910, "body": "It&#39;s worth it for many to have the test names visually appealing."}, {"owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "edited": false, "score": 0, "creation_date": 1599035217, "post_id": 60445965, "comment_id": 112645226, "body": "For me it works with Kotlin 1.4.0 even in common mode with hierarchical structure enabled. Even without the typealias that&#39;s already present in 1.4.0."}], "tags": [], "owner": {"reputation": 792, "user_id": 5019847, "user_type": "registered", "profile_image": "https://graph.facebook.com/406205719582407/picture?type=large", "display_name": "Jeffrey Nyauke", "link": "https://stackoverflow.com/users/5019847/jeffrey-nyauke"}, "is_accepted": false, "score": 0, "last_activity_date": 1582869124, "creation_date": 1582869124, "answer_id": 60445965, "question_id": 51475050, "link": "https://stackoverflow.com/questions/51475050/spaces-in-test-method-names-when-targeting-multiplatform/60445965#60445965", "title": "Spaces in test method names when targeting multiplatform", "body": "<p>JavaScript <strong>doesn\u2019t allow tests with spaces</strong> and we would get an error once we would try to run it in JS module. There is a simple solution: Kotlin/JS provides annotation <strong>JsName</strong>, that can be used to specify the actual name of a function in compiled code. It is Kotlin/JS annotation, so it cannot be used in commonTest module. Although, we can define expected declaration in the test sources of commonTest module like so:</p>\n\n<pre><code>expect annotation class JsName constructor(val name: String)\n</code></pre>\n\n<p>Make it kotlin.js.JsName annotation on jsTest module:</p>\n\n<pre><code>actual typealias JsName = kotlin.js.JsName\n</code></pre>\n\n<p>Define some annotation that will be ignored for the other target platforms:</p>\n\n<pre><code>actual annotation class JsName actual constructor(\n    actual val name: String\n)\n</code></pre>\n\n<p>Now, we need to annotate our tests:</p>\n\n<pre><code>@JsName(\"SendAcceptHeaderTest\")\n@Test\nfun `send accept header`() = runTest {\n    //...\n}\n</code></pre>\n\n<p>With such declarations, we can freely run our tests on all platforms.</p>\n"}], "owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2056, "favorite_count": 1, "accepted_answer_id": 51475116, "answer_count": 2, "score": 6, "last_activity_date": 1582869124, "creation_date": 1532336422, "question_id": 51475050, "link": "https://stackoverflow.com/questions/51475050/spaces-in-test-method-names-when-targeting-multiplatform", "title": "Spaces in test method names when targeting multiplatform", "body": "<p>I really love the ability of Kotlin to add spaces to method names, <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html\" rel=\"noreferrer\">which is a well-documented approach commonly used to make test names more readable</a>:</p>\n\n<blockquote>\n  <p>In tests (and only in tests), it's acceptable to use method names with\n  spaces enclosed in backticks. (Note that such method names are\n  currently not supported by the Android runtime.) ...</p>\n\n<pre><code>class MyTestCase {\n    @Test fun `ensure everything works`() { ... }\n    ...\n}\n</code></pre>\n</blockquote>\n\n<p>I have adopted them vigorously in a new library I'm developing, targeting the JVM. My tests show up beautifully in IntelliJ, and all is well.</p>\n\n<p>Now, I am trying to port this library to be <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"noreferrer\">multiplatform (targeting both the JVM and JavaScript)</a>. When I add a test with spaces I receive the following Kotlin compiler error when Gradle <code>build</code> runs <code>compileTestKotlin2Js</code>:</p>\n\n<blockquote>\n  <p>Name contains illegal chars that can't appear in JavasScript identifier</p>\n</blockquote>\n\n<p><strong>Should I remove all spaces from my test methods, or is there another way to have the best of both worlds?</strong></p>\n\n<p>In addition, regarding the limitation that \"such method names are currently not supported by the Android runtime\", is this a real limitation? As long as I can run my tests on the JVM, I can still use the tested library (containing no spaces in any of the methods) targeting an Android runtime, correct?</p>\n"}, {"tags": ["android", "kotlin", "in-app-purchase", "product", "billing"], "comments": [{"owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "edited": false, "score": 0, "creation_date": 1552342592, "post_id": 51474972, "comment_id": 96965153, "body": "Consume that product immediately after purchase in your <code>onProductPurchased()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 4862669, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_YqNC07KuHc/AAAAAAAAAAI/AAAAAAAABDE/BC-1GxGrP3c/photo.jpg?sz=128", "display_name": "Alexander Khyzhun", "link": "https://stackoverflow.com/users/4862669/alexander-khyzhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1552141425, "creation_date": 1552141425, "answer_id": 55078294, "question_id": 51474972, "link": "https://stackoverflow.com/questions/51474972/android-inapp-billing-v3-consumable-product-purchase-issue/55078294#55078294", "title": "android-inapp-billing-v3 consumable product Purchase issue", "body": "<p>Well, I'm using this library for my current application and I used alert dialog to confirm the purchase or subscription.</p>\n\n<p>This library has a lot of bugs (open <a href=\"https://github.com/anjlab/android-inapp-billing-v3/issues\" rel=\"nofollow noreferrer\">issues</a> page to be sure of that).</p>\n\n<p>I faced a similar problem with this library and end up it with alert dialog and one boolean value <code>isConfirmedPurchasing</code>.</p>\n\n<p>In my opinion, it might happen because of:</p>\n\n<ul>\n<li>You are consuming purchased item in <code>onCreate</code>, it doesn't look like a correct way to consume item every opening of the activity</li>\n<li>Looks like this library fires method <code>onProductPurchased</code> while initiating, if so then your code inside this score will run.</li>\n</ul>\n\n<p>Hints:</p>\n\n<ol>\n<li>Do not consume items in onCreate, do it after the purchasing in <code>onProductPurchased</code></li>\n<li>You don't need to check if <code>bp</code> is null, you created it as late-init otherwise make it nullable</li>\n<li>Save confirm status in the scope of the <code>activity</code> or <code>shared preferences</code></li>\n<li>Store purchased items somewhere.</li>\n<li>Make sure you are not using this library in a <code>fragment</code></li>\n</ol>\n\n<p>I created a test application and published that in beta testing, then I refactored your code and used to check how it working (with my keys and ids ofc). </p>\n\n<p>I guess that's what you wanted:</p>\n\n<p><strong>Data class of your product:</strong> </p>\n\n<pre><code>data class MyProduct(\n    val id: String,\n    val mame: String,\n    val des: String,\n    val image: Int,\n    val price: String\n)\n</code></pre>\n\n<p><strong>Activity:</strong> </p>\n\n<pre><code>class ProductActivity : AppCompatActivity(), BillingProcessor.IBillingHandler {\n\nprivate val googleKey = \"your_google_key\"\nprivate val keyProductId = \"productID\"\nprivate var isConfirmedPurchasing = false\n\nprivate lateinit var bp: BillingProcessor\nprivate lateinit var myProduct: MyProduct\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_product)\n\n    bp = BillingProcessor(this, googleKey, this)\n\n\n    intent.extras?.let { bundle -&gt; \n        with (bundle) {\n            myProduct = MyProduct(\n                    getString(\"productID\"),\n                    getString(\"productName\"),\n                    getString(\"productDes\"),\n                    getInt(\"productImage\"),\n                    getString(\"productPrice\")\n            )\n        }\n    }\n\n\n    btn_pay.setOnClickListener {\n        createAlertDialog(this) {\n            isConfirmedPurchasing = true\n            purchase(myProduct.id)\n        }\n    }\n\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    if (!bp.handleActivityResult(requestCode, resultCode, data)) {\n        super.onActivityResult(requestCode, resultCode, data)\n    }\n}\n\noverride fun onDestroy() {\n    bp.release()\n    super.onDestroy()\n}\n\noverride fun onProductPurchased(productId: String, details: TransactionDetails?) {\n    isConfirmedPurchasing = false\n    bp.consumePurchase(myProduct.id)\n    finishPurchaseWorkflow(productId)\n}\n\noverride fun onBillingInitialized() {\n    Log.d(\"Tag\", \"BillingProcessor was initialized and it's ready to purchase\")\n    bp.consumePurchase(myProduct.id)\n}\n\noverride fun onPurchaseHistoryRestored() {\n    Log.d(\"Tag\", \"requested PRODUCT ID was successfully purchased\")\n}\n\noverride fun onBillingError(errorCode: Int, error: Throwable?) {\n    Log.e(\"Tag\", \"errorCode: $errorCode, error: $error\")\n    isConfirmedPurchasing = false\n}\n\nprivate fun purchase(id: String) {\n    if (isConfirmedPurchasing) {\n        bp.purchase(this, id)\n    }\n}\n\nprivate fun finishPurchaseWorkflow(googleProductId: String) {\n    val intent = Intent(this, SearchQponActivity::class.java)\n    intent.putExtra(keyProductId, googleProductId)\n    startActivity(intent)\n}\n\nprivate fun createAlertDialog(\n        context: Context,\n        title: String? = \"Are you sure?\",\n        message: String? = null,\n        buttonPos: String = \"Yes\",\n        buttonNeg: String = \"No\",\n        action: () -&gt; Unit\n): AlertDialog {\n    return AlertDialog.Builder(context)\n            .setTitle(title)\n            .setMessage(message)\n            .setNegativeButton(buttonNeg) { dialog, _ -&gt; dialog.cancel() }\n            .setPositiveButton(buttonPos) { dialog, _ -&gt; action(); dialog.cancel() }\n            .show()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1552141425, "creation_date": 1532336149, "last_edit_date": 1532414167, "question_id": 51474972, "link": "https://stackoverflow.com/questions/51474972/android-inapp-billing-v3-consumable-product-purchase-issue", "title": "android-inapp-billing-v3 consumable product Purchase issue", "body": "<p>I am using <a href=\"https://github.com/anjlab/android-inapp-billing-v3\" rel=\"nofollow noreferrer\">android-inapp-billing-v3</a> for my android app written by kotlin. Now it is ok to make purchase and it goes to a successful page after payment done.\nHowever, the app goes to the successful page directly without any payment and purchase process when same user purchase 2nd time.\nI would like to make the app ask for payment every time when user click the pay button. Please kindly help to solve this issue.</p>\n\n<pre><code>class ProductActivity : AppCompatActivity(), BillingProcessor.IBillingHandler {\n\n\n    var ProductID = \"\"\n    var ProductName = \"\"\n    var ProductDes = \"\"\n    var ProductImage = 0\n    var ProductPrice = \"\"\n    val googleKey = \"fdsfdsfsddfdsfsfdfs\"\n    lateinit private var bp: BillingProcessor\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_product)\n\n        val bundle: Bundle = intent.extras\n        ProductID = bundle.getString(\"ProductID\")\n        ProductName = bundle.getString(\"ProductName\")\n        ProductDes = bundle.getString(\"ProductDes\")\n        ProductImage = bundle.getInt(\"ProductImage\")\n        ProductPrice = bundle.getString(\"ProductPrice\")\n\n\n    bp = BillingProcessor(this, googleKey, this)\n    bp.consumePurchase(ProductID)\n\n    btn_pay.setOnClickListener {\n\n\n        bp.purchase(this, ProductID)\n        }\n\n\n\n    }\n\n    override fun onResume() {\n        super.onResume()\n        val internetStatus:Boolean = ConnectivityUtils.isConnected(this)\n        if (internetStatus==true) {\n\n        }\n        else {\n            val msg = getString(R.string.need_internet_for_service)\n            finish()\n        }\n    }\n\n\n    override fun onBillingInitialized() {\n\n    }\n\n    override fun onPurchaseHistoryRestored() {\n\n\n    }\n\n    override fun onProductPurchased(productId: String, details: TransactionDetails?) {\n\n        val intent = Intent(this, SearchQponActivity::class.java)\n        intent.putExtra(\"ProductID\", ProductID)\n        startActivity(intent)\n    }\n\n    override fun onBillingError(errorCode: Int, error: Throwable?) {\n\n    }\n\n\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        if (!bp.handleActivityResult(requestCode, resultCode, data))\n            super.onActivityResult(requestCode, resultCode, data)\n    }\n\n    override fun onDestroy() {\n        if (bp!=null)\n            bp.release()\n        super.onDestroy()\n    }\n}\n</code></pre>\n"}]