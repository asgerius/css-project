[{"tags": ["arrays", "json", "kotlin"], "comments": [{"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1576109102, "post_id": 59295861, "comment_id": 104796137, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">How to parse JSON in Java</a>"}, {"owner": {"reputation": 5, "user_id": 12521546, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8XcX1j0GOpM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSQLZ5-iO9VZomOiREC9-GXmkskA/photo.jpg?sz=128", "display_name": "Alessandro Rodr&#237;guez", "link": "https://stackoverflow.com/users/12521546/alessandro-rodr%c3%adguez"}, "reply_to_user": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1576109509, "post_id": 59295861, "comment_id": 104796227, "body": "Not really, cause this is not just a JSON, is an array of JSONs in String format"}, {"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1576109703, "post_id": 59295861, "comment_id": 104796268, "body": "You should first read about JSON format and figure out that JSON can contain  array at top-level and it&#39;s absolutely valid"}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 4988791, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/sflf1.jpg?s=128&g=1", "display_name": "Nabin", "link": "https://stackoverflow.com/users/4988791/nabin"}, "is_accepted": true, "score": 0, "last_activity_date": 1576109753, "creation_date": 1576109753, "answer_id": 59295984, "question_id": 59295861, "link": "https://stackoverflow.com/questions/59295861/parsing-js-jsons-array-as-a-kotlin-array/59295984#59295984", "title": "Parsing JS JSONs array as a Kotlin array", "body": "<p>You output seems like it is a JSONArray. You can use Gson library to change your JSONArray to Kotlin Array.</p>\n\n<p>implement gson library in gradel:</p>\n\n<p><strong>implementation 'com.google.code.gson:gson:2.8.5'</strong></p>\n\n<p>kotlin code:</p>\n\n<pre><code>val gson = GsonBuilder().create()\nval ModelArray= gson.fromJson(body,Array&lt;YourDataModel&gt;::class.java).toList()\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12521546, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8XcX1j0GOpM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSQLZ5-iO9VZomOiREC9-GXmkskA/photo.jpg?sz=128", "display_name": "Alessandro Rodr&#237;guez", "link": "https://stackoverflow.com/users/12521546/alessandro-rodr%c3%adguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59295984, "answer_count": 1, "score": 0, "last_activity_date": 1576109753, "creation_date": 1576108659, "question_id": 59295861, "link": "https://stackoverflow.com/questions/59295861/parsing-js-jsons-array-as-a-kotlin-array", "title": "Parsing JS JSONs array as a Kotlin array", "body": "<p>I need to gather some data from an API from my Kotlin app and I need to parse a JSONs array from JS in a Kotlin array. This is the code that I'm using to do request to the API: </p>\n\n<pre><code>URL(apiUrl).readText()\n</code></pre>\n\n<p>And the output is something like this:</p>\n\n<pre><code>[{\"id\":5,\"name\":\"Test1\",\"ip\":\"192.168.0.1\",\"port\":10302,\"id_slave\":1},{\"id\":6,\"name\":\"Test2\",\"ip\":\"192.168.1.1\",\"port\":502,\"id_slave\":1}]\n</code></pre>\n\n<p>There's anyway to parse that string as a Kotlin array?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 1875, "user_id": 4465373, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Z3oCj.jpg?s=128&g=1", "display_name": "Farruh Habibullaev", "link": "https://stackoverflow.com/users/4465373/farruh-habibullaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1576108462, "creation_date": 1576108462, "answer_id": 59295842, "question_id": 59295175, "link": "https://stackoverflow.com/questions/59295175/how-can-i-access-the-request-parameters-in-the-onresponse-and-the-onfailure-call/59295842#59295842", "title": "How can I access the request parameters in the onResponse and the onFailure callbacks", "body": "<p>Once I have encountered the same problem. My approach was debugging first parameter of retrofit callback's onResponse and onFailure.</p>\n\n<pre><code>call: Call&lt;PayloadResponse&gt;\n\ncall.request()\n</code></pre>\n\n<p>It contains all kind of information about your call / request e.g url, parameters, method. However, retrieving request data is not straightforward, consistent, and prone to bugs.</p>\n\n<p>Then, I started using Kotlin coroutine which gives async process with sync nature of coding.</p>\n\n<pre><code>interface RetrofitApi{\n\n    @GET(\"your-route\")\n    suspend fun sampleApiMethod(request:SampleRequest):Response&lt;SampleCustomObject&gt;\n}\n</code></pre>\n\n<p>Your retrofit api methods may look like above.</p>\n\n<pre><code>CoroutineScope(Dispatchers.Main).launch {\n        val request = SampleRequest()\n        val deferred = async { apiService.sampleApiMethod(request) }\n        val result = deferred.await()\n        if(result.code() == 200){\n            // Do something\n        }else{\n            // Cache SampleRequest()\n        }\n    }\n</code></pre>\n\n<p>You can modify as much as to make it look better and utilize optimized light weight threads. It is one of the ways for me to handle such situations. It's just a hint, you may modify to have structurally and architecturally correct design in your project.</p>\n"}], "owner": {"reputation": 11, "user_id": 7983041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31258f54bc25d44783bf2cd681099d72?s=128&d=identicon&r=PG&f=1", "display_name": "meternx01", "link": "https://stackoverflow.com/users/7983041/meternx01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576108462, "creation_date": 1576103766, "question_id": 59295175, "link": "https://stackoverflow.com/questions/59295175/how-can-i-access-the-request-parameters-in-the-onresponse-and-the-onfailure-call", "title": "How can I access the request parameters in the onResponse and the onFailure callbacks", "body": "<p>I have a Retrofit call where I want to handle HTTP and Retrofit errors when calling an API.</p>\n\n<p>So when a failure happens, I need to cache the request into a RoomDB/SQLite for when the API comes back online, or connection improves there is a routine that sends all those requests to the API.</p>\n\n<pre><code>x.enqueue(object : Callback&lt;PayloadResponse&gt; {\n            override fun onResponse(\n                call: Call&lt;PayloadResponse&gt;,\n                response: Response&lt;PayloadResponse&gt;\n            ) {\n\n                ...\n                val errorMessage = when {\n                    response.code() != HttpURLConnection.HTTP_OK -&gt; {\n\n                    // Need the original Payload here so I can insert that data into RoomDB/SQLite \n\n                    \"An error occured duing API Call (NOT OK) &amp;{response.code()}\"\n\n                    }\n                    ...\n</code></pre>\n\n<p>Same situation I need for the onFailure() callback. </p>\n\n<p>Can I access the original request in these contexts? If so how?</p>\n"}, {"tags": ["java", "android", "kotlin", "fragment"], "answers": [{"tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": false, "score": 0, "last_activity_date": 1576104094, "last_edit_date": 1576104094, "creation_date": 1576101837, "answer_id": 59294790, "question_id": 59294755, "link": "https://stackoverflow.com/questions/59294755/android-app-crashes-after-trying-to-open-settingsfragment/59294790#59294790", "title": "Android app crashes after trying to open SettingsFragment", "body": "<blockquote>\n<pre><code>val fm : FragmentManager = FragmentActivity().supportFragmentManager\n</code></pre>\n</blockquote>\n\n<p>Lose the <code>FragmentActivity()</code> constructor call here and just access <code>supportFragmentManager</code> in your current activity that should extend <code>FragmentActivity</code> or either directly or indirectly.</p>\n\n<p>You should not instantiate activities yourself.</p>\n"}, {"tags": [], "owner": {"reputation": 1875, "user_id": 4465373, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Z3oCj.jpg?s=128&g=1", "display_name": "Farruh Habibullaev", "link": "https://stackoverflow.com/users/4465373/farruh-habibullaev"}, "is_accepted": true, "score": 0, "last_activity_date": 1576103774, "creation_date": 1576103774, "answer_id": 59295179, "question_id": 59294755, "link": "https://stackoverflow.com/questions/59294755/android-app-crashes-after-trying-to-open-settingsfragment/59295179#59295179", "title": "Android app crashes after trying to open SettingsFragment", "body": "<p>I am sure you must be getting the following exception or similar one.</p>\n\n<pre><code>  Caused by: java.lang.IllegalStateException: Activity has been destroyed\n</code></pre>\n\n<p>It means you must not create the instance of activity from client side. </p>\n\n<p>If there is not specific requirement, please extend your activity from <code>AppCompatActivity()</code></p>\n\n<p>I did a bit refactoring in your code. The following code should work.</p>\n\n<pre><code>class SettingsActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    actionBar?.setDisplayHomeAsUpEnabled(true)\n\n    supportFragmentManager.beginTransaction()\n        .replace(android.R.id.content, SettingsFragment()).commit()\n\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11374098, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5boaSwkHgNk/AAAAAAAAAAI/AAAAAAAAGCw/q6p7sJNAkgs/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432\u043e\u0432", "link": "https://stackoverflow.com/users/11374098/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 59295179, "answer_count": 2, "score": 0, "last_activity_date": 1576107154, "creation_date": 1576101624, "last_edit_date": 1576107154, "question_id": 59294755, "link": "https://stackoverflow.com/questions/59294755/android-app-crashes-after-trying-to-open-settingsfragment", "title": "Android app crashes after trying to open SettingsFragment", "body": "<p>I'm trying to rewrite app, written in Java in 2015 into Kotlin, but found a problem,that getFramgentManager is deprecated</p>\n\n<p><strong><em>Code in Java:</em></strong></p>\n\n<p><strong>SettingsActivity</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import ...\n\npublic class SettingsActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Objects.requireNonNull(getActionBar()).setDisplayHomeAsUpEnabled(true);\n        // Display the fragment as the main content.\n        getFragmentManager().beginTransaction()\n                .replace(android.R.id.content, new SettingsFragment())\n                .commit();\n\n    }\n\n}\n</code></pre>\n\n<p><strong>SettingsFragment</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SettingsFragment extends PreferenceFragment implements SharedPreferences.OnSharedPreferenceChangeListener {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // Load the preferences from an XML resource\n        addPreferencesFromResource(R.xml.preferences);\n    }\n\n    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\n        Preference pref = findPreference(key);\n\n        if (pref instanceof ListPreference) {\n            ListPreference listPref = (ListPreference) pref;\n            pref.setSummary(listPref.getEntry());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong><em>And in Kotlin</em></strong></p>\n\n<pre><code>class SettingsActivity : Activity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        if (actionBar != null) {\n            actionBar!!.setDisplayHomeAsUpEnabled(true)\n        }\n        // Display the fragment as the main content.\n\n\n        val fm : FragmentManager = FragmentActivity().supportFragmentManager\n        fm.beginTransaction()\n            .replace(android.R.id.content, SettingsFragment())\n            .commit()\n    }\n}\n</code></pre>\n\n<pre><code>class SettingsFragment : PreferenceFragmentCompat(), SharedPreferences.OnSharedPreferenceChangeListener {\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n        addPreferencesFromResource(R.xml.preferences)\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        // Load the preferences from an XML resource\n        addPreferencesFromResource(R.xml.preferences)\n    }\n\n    override fun onSharedPreferenceChanged(sharedPreferences: SharedPreferences, key: String) {\n        val pref = findPreference&lt;Preference&gt;(key)\n\n        if (pref is ListPreference) {\n            pref.setSummary(pref.entry)\n        }\n    }\n}\n</code></pre>\n\n<p>It crashes on string <code>.commit</code>. What shall I do to fix it? I tried lots of instructions from StackOverflow, but nothing is working\nAnd I can't do just <code>FragmentManager().beginTransaction()\n            .replace(android.R.id.content, SettingsFragment())\n            .commit()</code> , because FragmentManager is abstract class</p>\n"}, {"tags": ["android", "json", "kotlin", "retrofit", "retrofit2"], "comments": [{"owner": {"reputation": 685, "user_id": 6770321, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yINIWXCoraY/AAAAAAAAAAI/AAAAAAAAAYI/mdDPfqweAns/photo.jpg?sz=128", "display_name": "Sujan Poudel", "link": "https://stackoverflow.com/users/6770321/sujan-poudel"}, "edited": false, "score": 2, "creation_date": 1576096283, "post_id": 59293495, "comment_id": 104791891, "body": "This is not a valid json, for json you need key for each of the json object You can send these as array of json object easily though  <code>[{imdb_id:id1},{imdb_id:id2},{imdb_id:id3}] </code>"}, {"owner": {"reputation": 8717, "user_id": 6413377, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/J4tD1.png?s=128&g=1", "display_name": "pirho", "link": "https://stackoverflow.com/users/6413377/pirho"}, "edited": false, "score": 0, "creation_date": 1576349095, "post_id": 59293495, "comment_id": 104873966, "body": "So is it that you cannot change the API that eats bad JSON? Then it is not a case of sending JSON but some general HTTP request having that body. Unless you find/make some custom Retrofit converter, maybe."}], "owner": {"reputation": 396, "user_id": 5526712, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10100364562830381/picture?type=large", "display_name": "Paxana Non Grata", "link": "https://stackoverflow.com/users/5526712/paxana-non-grata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576095705, "creation_date": 1576095705, "question_id": 59293495, "link": "https://stackoverflow.com/questions/59293495/retrofit-send-json-request-with-multiple-of-the-same-key", "title": "Retrofit send json request with multiple of the same key", "body": "<p>For an API I'm using, I need to send a JSON POST body request that looks like:    </p>\n\n<pre><code>{{imdb_id:id1},{imdb_id:id2},{imdb_id:id3}}\n</code></pre>\n\n<p>where imdb_id is the string \"imdb_id\" and id is another string, such as \"tt555555\", \nI'm having trouble figuring out how to send that kind of data with Retrofit.  My first thought was to feed retrofit a list of imdb id's, but then how would it know to give each of those a key of \"imdb_id\"?  So what made more sense was a map as follows:</p>\n\n<pre><code>@POST(\"/notmyrealendpoint\")\nObservable&lt;List&lt;MultipleMLSearchResponse&gt;&gt; getMultlipleMLSearch(@Body Map&lt;String, String&gt; imdb_ids);\n</code></pre>\n\n<p>But I can't put multiple values in for the same key, so that doesn't work.  I saw the apache solution for MultiValuedMap, but I'm having trouble instantiating it in kotlin as it's an interface not a class, and I don't want to override all of its methods, and I'm not sure if it'll work even if I can solve that issue.</p>\n\n<p>What's the idiomatic way to send such a request?</p>\n"}, {"tags": ["unit-testing", "testing", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1576095124, "post_id": 59293282, "comment_id": 104791416, "body": "Utils.parseFullName(null) probably doesn&#39;t return null to null, but null to someObjectWhoseToStringReturnsNull. Use your debugger."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1576095164, "creation_date": 1576095164, "answer_id": 59293367, "question_id": 59293282, "link": "https://stackoverflow.com/questions/59293282/kotlin-android-assert-assertequals-widtch-pair-failed-test/59293367#59293367", "title": "kotlin android. Assert assertEquals widtch Pair.Failed test", "body": "<p>What the error message shows is that <em>the string representation</em> (result of calling <code>toString()</code>) of <code>Utils.parseFullName(null)</code> is <code>(null, null)</code>. This doesn't mean <code>Utils.parseFullName(null)</code> is actually <code>Pair(null, null)</code>; it could be e.g. <code>Pair(\"null\", \"null\")</code>. Without showing <code>parseFullName</code>'s code I don't think it's possible to be more precise.</p>\n"}], "owner": {"reputation": 1, "user_id": 12169719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45269204415da2fdded6d21442af8253?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsName", "link": "https://stackoverflow.com/users/12169719/thisisname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576095164, "creation_date": 1576094797, "question_id": 59293282, "link": "https://stackoverflow.com/questions/59293282/kotlin-android-assert-assertequals-widtch-pair-failed-test", "title": "kotlin android. Assert assertEquals widtch Pair.Failed test", "body": "<p>I test my object.Test Failed, why?\nI assumed that the pairs (null, null) are as if equal to each other (according to the laws of logic, so to speak). (null, null) the same value.</p>\n\n<p>Cod:</p>\n\n<pre><code>@Test\nfun parseFullNameTest(){\n    /* skillBranch tests */\n    assertEquals(null to null, Utils.parseFullName(null))\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n<pre><code>junit.framework.AssertionFailedError: \nExpected :(null, null)\nActual   :(null, null)\n&lt;Click to see difference&gt;\n\n\n  at junit.framework.Assert.fail(Assert.java:57)\n  at junit.framework.Assert.failNotEquals(Assert.java:329)\n  at junit.framework.Assert.assertEquals(Assert.java:78)\n  at junit.framework.Assert.assertEquals(Assert.java:86)\n  at ru.skillbranch.devintensive.UnitTest.parseFullNameTest(UnitTest.kt:35)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n  at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n  at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n  at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n  at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n  at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n  at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n  at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n  at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n  at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n  at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n\nProcess finished with exit code -1\n</code></pre>\n</blockquote>\n\n<p>how it works?!</p>\n"}, {"tags": ["android", "android-studio", "listview", "kotlin", "adapter"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9626890, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OD59dakBSmA/AAAAAAAAAAI/AAAAAAAAAAU/mxnSXiCwkA4/photo.jpg?sz=128", "display_name": "Stacie Shpit", "link": "https://stackoverflow.com/users/9626890/stacie-shpit"}, "edited": false, "score": 0, "creation_date": 1576092417, "post_id": 59292464, "comment_id": 104790161, "body": "I added  <code>weekList.adapter = WeekAdapter((activity as MainActivity), WeekList)</code>. And now my app just keeps stopping. I don&#39;t know what to write after <code>val view: ListView=...</code>."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 1, "user_id": 9626890, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OD59dakBSmA/AAAAAAAAAAI/AAAAAAAAAAU/mxnSXiCwkA4/photo.jpg?sz=128", "display_name": "Stacie Shpit", "link": "https://stackoverflow.com/users/9626890/stacie-shpit"}, "edited": false, "score": 0, "creation_date": 1576092473, "post_id": 59292464, "comment_id": 104790182, "body": "Can you add your layout xml file to the original question?"}, {"owner": {"reputation": 1, "user_id": 9626890, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OD59dakBSmA/AAAAAAAAAAI/AAAAAAAAAAU/mxnSXiCwkA4/photo.jpg?sz=128", "display_name": "Stacie Shpit", "link": "https://stackoverflow.com/users/9626890/stacie-shpit"}, "edited": false, "score": 0, "creation_date": 1576092710, "post_id": 59292464, "comment_id": 104790287, "body": "XML file is added to the question."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 1, "user_id": 9626890, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OD59dakBSmA/AAAAAAAAAAI/AAAAAAAAAAU/mxnSXiCwkA4/photo.jpg?sz=128", "display_name": "Stacie Shpit", "link": "https://stackoverflow.com/users/9626890/stacie-shpit"}, "edited": false, "score": 0, "creation_date": 1576093316, "post_id": 59292464, "comment_id": 104790551, "body": "I revised my answer."}, {"owner": {"reputation": 1, "user_id": 9626890, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OD59dakBSmA/AAAAAAAAAAI/AAAAAAAAAAU/mxnSXiCwkA4/photo.jpg?sz=128", "display_name": "Stacie Shpit", "link": "https://stackoverflow.com/users/9626890/stacie-shpit"}, "edited": false, "score": 0, "creation_date": 1576093927, "post_id": 59292464, "comment_id": 104790842, "body": "It works! But I change that code a little bit: <code>val weekList: ListView = view.findViewById(R.id.weekList)</code> and then <code>weekList.adapter = WeekAdapter(context!!, WeekList)</code>"}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 0, "last_activity_date": 1576093309, "last_edit_date": 1576093309, "creation_date": 1576091242, "answer_id": 59292464, "question_id": 59292344, "link": "https://stackoverflow.com/questions/59292344/why-list-of-weekday-objects-isnt-displayed-on-android-device-kotlin-listview/59292464#59292464", "title": "Why list of WeekDay objects isn&#39;t displayed on Android device? Kotlin ListView", "body": "<p>You never assigned your adapter to the ListView. </p>\n\n<p>First you need a reference to your ListView. Put this right before your return line:</p>\n\n<pre><code>val weekList: ListView = findViewById(R.id.weekList)\n</code></pre>\n\n<p>Note, this step is unnecessary if using the Kotlin Android extensions (which new Android projects do by default). The Kotlin Android extensions automatically generate the properties for your view IDs.</p>\n\n<p>Then call delete your existing <code>val adapter = ...</code> line and do this:</p>\n\n<pre><code>weekList.adapter = WeekAdapter(context, weekList)\n</code></pre>\n\n<p>Notice I changed <code>(activity as MainActivity)</code> to <code>context</code>. This is because your adapter only asks for a <code>context</code> in its constructor.</p>\n"}], "owner": {"reputation": 1, "user_id": 9626890, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OD59dakBSmA/AAAAAAAAAAI/AAAAAAAAAAU/mxnSXiCwkA4/photo.jpg?sz=128", "display_name": "Stacie Shpit", "link": "https://stackoverflow.com/users/9626890/stacie-shpit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 59292464, "answer_count": 1, "score": -1, "last_activity_date": 1576093309, "creation_date": 1576090761, "last_edit_date": 1576092623, "question_id": 59292344, "link": "https://stackoverflow.com/questions/59292344/why-list-of-weekday-objects-isnt-displayed-on-android-device-kotlin-listview", "title": "Why list of WeekDay objects isn&#39;t displayed on Android device? Kotlin ListView", "body": "<p>I'm writing my first Android planning application. \nI have a navigation drawer and a WeekListFragment. In fragment I create an array of WeekDay objects and try to display them via a WeekAdapter. But when I run Android emulator nothing is displayed though fragment opens. Can you explain me what I should do?</p>\n\n<p>Here is code of this fragment:</p>\n\n<pre><code>package itshpit.com.myapplication\n\nimport android.content.Context\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ArrayAdapter\nimport android.widget.ImageView\nimport android.widget.TextView\nimport androidx.fragment.app.Fragment\nimport itshpit.com.myapplication.classes.WeekDay\n\nclass WeekListFragment() : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        val view: View? = inflater.inflate(R.layout.fragment_week, container, false)\n        (activity as MainActivity).supportActionBar!!.title = \"Week\"\n\n        val week: Array&lt;String&gt; = resources.getStringArray(R.array.week)\n        val weekList: ArrayList&lt;WeekDay&gt; = ArrayList()\n        weekList.add(WeekDay(text = \"some Text\", image = R.drawable.mon, id = 1))\n        weekList.add(WeekDay(text = \"some Text\", image = R.drawable.mon, id = 2))\n        weekList.add(WeekDay(text = \"some Text\", image = R.drawable.mon, id = 3))\n        weekList.add(WeekDay(text = \"some Text\", image = R.drawable.mon, id = 4))\n        weekList.add(WeekDay(text = \"some Text\", image = R.drawable.mon, id = 5))\n        weekList.add(WeekDay(text = \"some Text\", image = R.drawable.mon, id = 6))\n        weekList.add(WeekDay(text = \"some Text\", image = R.drawable.mon, id = 7))\n        val adapter = WeekAdapter((activity as MainActivity), weekList)\n\n        return view\n    }\n\n    class WeekAdapter(context: Context, val weekList: List&lt;WeekDay&gt;) : ArrayAdapter&lt;WeekDay&gt;(context, 0, weekList) {\n\n        private class ViewHolder(row: View?) {\n            var txtName: TextView\n            var ivImage: ImageView\n\n            init {\n                this.txtName = row?.findViewById(R.id.txtWeekDay) as TextView\n                this.ivImage = row.findViewById(R.id.imgWeekDay) as ImageView\n            }\n        }\n        override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n\n            val view: View?\n            val viewHolder: ViewHolder\n            if (convertView == null) {\n                val layout = LayoutInflater.from(context)\n                view = layout.inflate(R.layout.week_item, parent, false)\n                viewHolder = ViewHolder(view)\n                view.tag = viewHolder\n            } else {\n                view = convertView\n                viewHolder = view.tag as ViewHolder\n            }\n            val weekDay: WeekDay = getItem(position) as WeekDay\n            viewHolder.txtName.text = weekDay.text\n            viewHolder.ivImage.setImageResource(weekDay.image)\n\n\n            return view as View\n        }\n\n        override fun getItemId(position: Int): Long {\n            return weekList[position].id\n        }\n\n        override fun getItem(position: Int): WeekDay? {\n            return weekList.get(position)\n        }\n\n        override fun getCount(): Int {\n            return 7\n        }\n    }\n}\n</code></pre>\n\n<p>WeekDay class code is below:</p>\n\n<pre><code>data class WeekDay(var id: Long = -1,\n                   var date: Date? = null,\n                   var text: String,\n                   var image: Int\n                   ) {}\n</code></pre>\n\n<p>\"fragment_week.xml\" file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".WeekListFragment\"&gt;\n\n    &lt;ListView\n        android:id=\"@+id/weekList\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;/ListView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 1177, "user_id": 8588454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df930c492b10187ddb0c27d6209b61bb?s=128&d=identicon&r=PG&f=1", "display_name": "ecg8", "link": "https://stackoverflow.com/users/8588454/ecg8"}, "edited": false, "score": 0, "creation_date": 1576103974, "post_id": 59291652, "comment_id": 104794747, "body": "As per the very docs you have linked, you can&#39;t use Place Picker. It is gone forever. You should be able to do whatever it is you used to do in Place Picker by using the Places API."}, {"owner": {"reputation": 1, "user_id": 12520069, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBF1ntmDJC_dCW2jSsRNit_OrwAiRp7vOEbSAam=k-s128", "display_name": "Estiven D&#237;az", "link": "https://stackoverflow.com/users/12520069/estiven-d%c3%adaz"}, "reply_to_user": {"reputation": 1177, "user_id": 8588454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df930c492b10187ddb0c27d6209b61bb?s=128&d=identicon&r=PG&f=1", "display_name": "ecg8", "link": "https://stackoverflow.com/users/8588454/ecg8"}, "edited": false, "score": 0, "creation_date": 1576117129, "post_id": 59291652, "comment_id": 104797721, "body": "now recently i found: PING Place Picker is here to help you to (almost) plug-and-play replace the original Google&#39;s Place Picker."}, {"owner": {"reputation": 1, "user_id": 12520069, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBF1ntmDJC_dCW2jSsRNit_OrwAiRp7vOEbSAam=k-s128", "display_name": "Estiven D&#237;az", "link": "https://stackoverflow.com/users/12520069/estiven-d%c3%adaz"}, "reply_to_user": {"reputation": 1177, "user_id": 8588454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df930c492b10187ddb0c27d6209b61bb?s=128&d=identicon&r=PG&f=1", "display_name": "ecg8", "link": "https://stackoverflow.com/users/8588454/ecg8"}, "edited": false, "score": 0, "creation_date": 1576117720, "post_id": 59291652, "comment_id": 104797825, "body": "this work, open and don&#39;t close. But when select the location, show: 3&#176; 45&#39; 37&quot; S, 73&#176; 15&#39; 7&quot; E. i need get the address name. Here pingplacepicker: <a href=\"https://github.com/rtchagas/pingplacepicker\" rel=\"nofollow noreferrer\">github.com/rtchagas/pingplacepicker</a> in the page explain, how enable nearby searches, with this code: &lt;bool name=&quot;enable_nearby_search&quot;&gt;true&lt;/bool&gt; but where put this code in manifest, activity? Thanks for your answer."}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 11025839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sU8Oe.jpg?s=128&g=1", "display_name": "Pagemag", "link": "https://stackoverflow.com/users/11025839/pagemag"}, "is_accepted": false, "score": 0, "last_activity_date": 1576544964, "creation_date": 1576544964, "answer_id": 59366301, "question_id": 59291652, "link": "https://stackoverflow.com/questions/59291652/placepicker-open-and-close-inmediatily-november-2019/59366301#59366301", "title": "PlacePicker open and close inmediatily november 2019", "body": "<p>Yes, you are right. Google Maps Places SDK for Android's <em>Place Picker</em> was already deprecated. As a workaround, you can create a PlacePicker using a combination of <strong>Places SDK for Android</strong> and <strong>Maps SDK for Android</strong>. To achieve the PlacePicker in your code, you can manually create <a href=\"https://developers.google.com/places/android-sdk/autocomplete\" rel=\"nofollow noreferrer\">Place Autocomplete</a> as your search box  then feed the result in your map using <a href=\"https://developers.google.com/maps/documentation/android-sdk/map-with-marker\" rel=\"nofollow noreferrer\">Maps SDK for Android</a>.</p>\n\n<p>Additionally, Google is conducting a review on what drives the users to use the Place Picker, you can add your answer in the form mentioned in this <a href=\"https://issuetracker.google.com/128304760\" rel=\"nofollow noreferrer\">issue</a>. To register your interest in this issue, you can also star it and it will subscribe you to receive technical updates regarding this issue.</p>\n"}], "owner": {"reputation": 1, "user_id": 12520069, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBF1ntmDJC_dCW2jSsRNit_OrwAiRp7vOEbSAam=k-s128", "display_name": "Estiven D&#237;az", "link": "https://stackoverflow.com/users/12520069/estiven-d%c3%adaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1576544964, "creation_date": 1576087475, "question_id": 59291652, "link": "https://stackoverflow.com/questions/59291652/placepicker-open-and-close-inmediatily-november-2019", "title": "PlacePicker open and close inmediatily november 2019", "body": "<p>I'm Estiven this is my first question.</p>\n\n<p>I trying to use PlacePicker. For get just the Address. But always when I make click in the buttom for open placepicker.</p>\n\n<p>The placepicker open and close inmediatily. Some like that  i need (Select this location), here example:\n<a href=\"https://ibb.co/HYD5TKP\" rel=\"nofollow noreferrer\">https://ibb.co/HYD5TKP</a></p>\n\n<p>My idea is get the address name y put this in EditText.</p>\n\n<p>My API key is put in the manifest.xml.\nSo I have permission ubication enabled.</p>\n\n<p>I  saw some developers say the PlacePicker just work to july 2019 in stackoverflow.</p>\n\n<p>Here i found:\n<a href=\"https://developers.google.com/places/android-sdk/client-migration\" rel=\"nofollow noreferrer\">https://developers.google.com/places/android-sdk/client-migration</a></p>\n\n<p>Place Picker\nThe Place Picker is deprecated as of January 29, 2019. This feature will be turned off on July 29, 2019, and will no longer be available after that date. You must install the compatibility library to continue using the Place Picker during the deprecation period. Once the deprecation period has ended, the Place Picker will no longer be available for use (including the version in the compatibility library).</p>\n\n<p>So Google Places SDK is Depricated, I had migrate for new API \"PLACES API\" but same: The placepicker open and close inmediatily. Here the steps for migrate:\n<a href=\"https://developers.google.com/places/android-sdk/client-migration\" rel=\"nofollow noreferrer\">https://developers.google.com/places/android-sdk/client-migration</a></p>\n\n<p>Or how i can get the address with PlacePicker some idea?</p>\n\n<p>Best regards.</p>\n"}, {"tags": ["kotlin", "floating-point", "double", "precision"], "answers": [{"tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": false, "score": 0, "last_activity_date": 1576089682, "creation_date": 1576089682, "answer_id": 59292122, "question_id": 59291454, "link": "https://stackoverflow.com/questions/59291454/why-theres-no-precision-error-when-printing-0-1-as-a-double-with-many-digits-af/59292122#59292122", "title": "Why there&#39;s no precision error when printing 0.1 as a double with many digits after point?", "body": "<p>In Java, <code>float</code> has about 7 digits of precision, while <code>double</code> about 16.<br>\nEven if you tell it to print 20 or 100 digits, the actual value is still capped by the given precision. The double has the error too, although a smaller one.</p>\n"}], "owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576089682, "creation_date": 1576086651, "last_edit_date": 1576087484, "question_id": 59291454, "link": "https://stackoverflow.com/questions/59291454/why-theres-no-precision-error-when-printing-0-1-as-a-double-with-many-digits-af", "title": "Why there&#39;s no precision error when printing 0.1 as a double with many digits after point?", "body": "<p>The function (written in Kotlin) below</p>\n\n<pre><code>fun main() {\n   println (\"%.20f\".format(0.1f))\n   print (\"%.100f\".format(0.1))\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>0.10000000149011612000\n0.1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\n</code></pre>\n\n<p>If 0.1 can't be represented exactly as binary fraction why there's no precision error in the double version?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1840, "user_id": 471293, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6101792a3fbbd3642fbdded323b62255?s=128&d=identicon&r=PG", "display_name": "ekaqu", "link": "https://stackoverflow.com/users/471293/ekaqu"}, "edited": false, "score": 0, "creation_date": 1576088800, "post_id": 59291684, "comment_id": 104788617, "body": "Based off your feedback this is possible as well; tested it out and compiles just fine.  fun &lt;A, B&gt; CompletableFuture &lt;A&gt;.map(fn: (A) -&gt; B): CompletableFuture &lt;B&gt; =         this.thenApplyAsync(fn, BackgroundPool::execute)"}, {"owner": {"reputation": 1840, "user_id": 471293, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6101792a3fbbd3642fbdded323b62255?s=128&d=identicon&r=PG", "display_name": "ekaqu", "link": "https://stackoverflow.com/users/471293/ekaqu"}, "edited": false, "score": 0, "creation_date": 1576088886, "post_id": 59291684, "comment_id": 104788659, "body": "Looking at the bytecode it looks like this gets boiled down to  Method AsyncKt$sam$java_util_function_Function$0.&quot;&lt;init&gt;&quot;:(Lkotlin/&zwnj;&#8203;jvm/functions/Functi&zwnj;&#8203;on1;)V  Looking at the bytecode it looks like this creates a wrapper to convert to java function; so there will always be an extra indirection."}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": false, "score": 1, "last_activity_date": 1576087616, "creation_date": 1576087616, "answer_id": 59291684, "question_id": 59290745, "link": "https://stackoverflow.com/questions/59290745/a-b-to-kotlin-function-not-inferred/59291684#59291684", "title": "(A) -&gt; B to Kotlin Function not inferred", "body": "<p>Intellij IDEA says that there 4 available versions of <code>thenApplyAsync</code> which accepts:</p>\n\n<ol>\n<li><code>fn: Function&lt;in A!, out B!&gt;!</code></li>\n<li><code>fn: Function&lt;in A!, out B!&gt;!, executor: Executor!</code></li>\n<li><code>fn: ((A!) -&gt; B!)!</code></li>\n<li><code>fn: ((A!) -&gt; B!)!, executor: ((Runnable!) -&gt; Unit)!</code></li>\n</ol>\n\n<p>Besides originals (1) and (2), there are (3) and (4) which accept Kotlin functions instead of SAM interfaces. But there is no overloading which accepts one Kotlin function and one SAM interface: <code>fn: ((A!) -&gt; B!), !executor: Executor!</code>. So your second method doesn't compile.</p>\n\n<p>Here is how you can make it compile:</p>\n\n<pre><code>inline fun &lt;A, B&gt; CompletableFuture&lt;A&gt;.map(crossinline fn: (A) -&gt; B): CompletableFuture&lt;B&gt; =\n    this.thenApplyAsync(Function { fn(it) }, BackgroundPool)\n</code></pre>\n"}], "owner": {"reputation": 1840, "user_id": 471293, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6101792a3fbbd3642fbdded323b62255?s=128&d=identicon&r=PG", "display_name": "ekaqu", "link": "https://stackoverflow.com/users/471293/ekaqu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576087616, "creation_date": 1576083926, "last_edit_date": 1576084663, "question_id": 59290745, "link": "https://stackoverflow.com/questions/59290745/a-b-to-kotlin-function-not-inferred", "title": "(A) -&gt; B to Kotlin Function not inferred", "body": "<p>I have two functions; one compiles and one does not</p>\n\n<pre><code>// compiles just fine\nfun &lt;A, B&gt; CompletableFuture&lt;A&gt;.map(fn: (A) -&gt; B): CompletableFuture&lt;B&gt; = \n    this.thenApplyAsync(fn)\n\n// Compile error:\n// Type inference failed: fun &lt;U : Any!&gt; thenApplyAsync(p0: Function&lt;in A!, out U!&gt;!, p1: Executor!): CompletableFuture&lt;U!&gt;!\n// cannot be applied to\n// ((A) -&gt; B,ExecutorService)\n// \n// Type mismatch: inferred type is (A) -&gt; B but Function&lt;in A!, out B!&gt;! was expected\nfun &lt;A, B&gt; CompletableFuture&lt;A&gt;.map(fn: (A) -&gt; B): CompletableFuture&lt;B&gt; =\n    this.thenApplyAsync(fn, BackgroundPool)\n</code></pre>\n\n<p>Why does the first function compile, but the second one does not?  Intellij's suggestion is to reimplement thenApplyAsync to be more kotlin friendly, but I am curious what the limitation is.</p>\n\n<p>I am using kotlin 1.3.61</p>\n"}, {"tags": ["android", "kotlin", "canvas", "bitmap", "save"], "answers": [{"tags": [], "owner": {"reputation": 489, "user_id": 9696274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb41d3349ae8294ea95dfac00409380?s=128&d=identicon&r=PG&f=1", "display_name": "Yevhen_Radchenko", "link": "https://stackoverflow.com/users/9696274/yevhen-radchenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1576159314, "last_edit_date": 1576159314, "creation_date": 1576158265, "answer_id": 59306009, "question_id": 59289321, "link": "https://stackoverflow.com/questions/59289321/choose-an-image-from-gallery-as-canvas-background-android/59306009#59306009", "title": "Choose an image from gallery as Canvas background [Android]", "body": "<p>So no-one answered and after some searching and experiments I get working solution, use it or adapt for your need if you will get in the same situation</p>\n\n<p>( answer is based on the code from my question - so if you miss some dependencies please check it )</p>\n\n<ol>\n<li>Init companion object with request code for gallery action in your <strong>ACTIVITY</strong></li>\n</ol>\n\n<pre><code> companion object {\n        private const val GALLERY_REQUEST_CODE = 102 \n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a method to pick image from gallery ( you need to receive Uri )</li>\n</ol>\n\n<pre><code>    private fun pickFromGallery() {\n            val intent = Intent(Intent.ACTION_PICK)\n            intent.type = \"image/*\"\n            val imageTypes = arrayOf(\"image/jpeg\", \"image/png\")\n            intent.putExtra(Intent.EXTRA_MIME_TYPES, imageTypes)\n            startActivityForResult(intent, GALLERY_REQUEST_CODE)\n        }\n</code></pre>\n\n<ol start=\"3\">\n<li>Than you need to override <em>onActivityResult()</em> method to receive your Uri and send it to the custom view</li>\n</ol>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == GALLERY_REQUEST_CODE) {\n            if (resultCode == Activity.RESULT_OK) {\n                val uri: Uri? = data?.data\n                if (uri != null) {\n                    val bitmap = MediaStore.Images.Media.getBitmap(this.contentResolver, uri)\n                    canvasCustomView.loadCanvasBackground(bitmap)\n                }\n            }\n        }\n    }\n</code></pre>\n\n<ol start=\"4\">\n<li>Now in <em>onDraw()</em> method <strong>( in your Custom View )</strong> you need to use .drawBitmap to set your received Uri aka bitmap as a background to your canvas</li>\n</ol>\n\n<pre><code> override fun onDraw(canvas: Canvas?) {\n        if (bitmapBackground != null) {\n            canvas?.drawBitmap(bitmapBackground!!, 0f, 0f, paint)\n        }\n</code></pre>\n"}], "owner": {"reputation": 489, "user_id": 9696274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb41d3349ae8294ea95dfac00409380?s=128&d=identicon&r=PG&f=1", "display_name": "Yevhen_Radchenko", "link": "https://stackoverflow.com/users/9696274/yevhen-radchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 59306009, "answer_count": 1, "score": 0, "last_activity_date": 1576159421, "creation_date": 1576078918, "last_edit_date": 1576159421, "question_id": 59289321, "link": "https://stackoverflow.com/questions/59289321/choose-an-image-from-gallery-as-canvas-background-android", "title": "Choose an image from gallery as Canvas background [Android]", "body": "<p>I have successfully achieved saving to the gallery after I finish drawing on canvas, but now I need to open an image from galley ( for example my old drawing) and use it as a background, after some searching there no answer which can help me. I already started some attempts to do this, but any advice or solutions how I can achieve it will be great.</p>\n\n<p>There is my custom view with Canvas:</p>\n\n<p>(Permission for READ and WRITE is already granted and handled in another class)</p>\n\n<pre><code>    var drawingColor: Int = ResourcesCompat.getColor(resources, R.color.colorBlack, null)\n    var strokeDrawWidth: Float = 12f\n\n    private var path = Path()\n\n    private val paths = ArrayList&lt;Triple&lt;Path, Int, Float&gt;&gt;()\n    private val undonePaths = ArrayList&lt;Triple&lt;Path, Int, Float&gt;&gt;()\n\n    private val extraCanvas: Canvas? = null\n\n    private var bitmapBackground: Bitmap? = null\n\n    private var motionTouchEventX = 0f\n    private var motionTouchEventY = 0f\n\n    private var currentX = 0f\n    private var currentY = 0f\n\n    private val touchTolerance = ViewConfiguration.get(context).scaledTouchSlop\n\n    private val paint = Paint().apply {\n        color = drawingColor\n        isAntiAlias = true\n        isDither = true\n        style = Paint.Style.STROKE\n        strokeJoin = Paint.Join.ROUND\n        strokeCap = Paint.Cap.ROUND\n        strokeWidth = strokeDrawWidth\n    }\n\n    fun loadCanvasBackground(bitmap: Bitmap) {\n        bitmapBackground = bitmap\n        invalidate()\n    }\n\n    fun saveCanvasDrawing() {\n        canvasCustomView.isDrawingCacheEnabled = true\n        val extraBitmap: Bitmap = canvasCustomView.drawingCache\n        MediaStore.Images.Media.insertImage(context.contentResolver, extraBitmap, \"drawing\", \"Paint R\")\n    }\n\n    fun resetCanvasDrawing() {\n        path.reset()\n        paths.clear()\n        invalidate()\n    }\n\n    fun undoCanvasDrawing() {\n        if (paths.size &gt; 0) {\n            undonePaths.add(paths.removeAt(paths.size - 1))\n            invalidate()\n        } else {\n            Log.d(\"UNDO_ERROR\", \"Something went wrong with UNDO action\")\n        }\n    }\n\n    fun redoCanvasDrawing() {\n        if (undonePaths.size &gt; 0) {\n            paths.add(undonePaths.removeAt(undonePaths.size - 1))\n            invalidate()\n        } else {\n            Log.d(\"REDO_ERROR\", \"Something went wrong with REDO action\")\n        }\n    }\n\n    override fun onDraw(canvas: Canvas?) {\n        super.onDraw(canvas)\n        if (bitmapBackground != null) {\n            extraCanvas?.drawBitmap(bitmapBackground!!, 0f, 0f, paint)\n        }\n\n        for (p in paths) {\n            paint.strokeWidth = p.third\n            paint.color = p.second\n            canvas?.drawPath(p.first, paint)\n        }\n        paint.color = drawingColor\n        paint.strokeWidth = strokeDrawWidth\n        canvas?.drawPath(path, paint)\n    }\n\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\n        if (event == null)\n            return false\n\n        motionTouchEventX = event.x\n        motionTouchEventY = event.y\n\n        when (event.action) {\n            MotionEvent.ACTION_DOWN -&gt; {\n                undonePaths.clear()\n                path.reset()\n                path.moveTo(motionTouchEventX, motionTouchEventY)\n                currentX = motionTouchEventX\n                currentY = motionTouchEventY\n                invalidate()\n            }\n\n            MotionEvent.ACTION_MOVE -&gt; {\n                val distanceX = abs(motionTouchEventX - currentX)\n                val distanceY = abs(motionTouchEventY - currentY)\n\n                if (distanceX &gt;= touchTolerance || distanceY &gt;= touchTolerance) {\n                    path.quadTo(\n                        currentX,\n                        currentY,\n                        (motionTouchEventX + currentX) / 2,\n                        (currentY + motionTouchEventY) / 2\n                    )\n                    currentX = motionTouchEventX\n                    currentY = motionTouchEventY\n                }\n                invalidate()\n            }\n\n            MotionEvent.ACTION_UP -&gt; {\n                path.lineTo(currentX, currentY)\n                extraCanvas?.drawPath(path, paint)\n                paths.add(Triple(path, drawingColor, strokeDrawWidth))\n                path = Path()\n            }\n        }\n        return true\n    }\n\n    override fun isSaveEnabled(): Boolean {\n        return true\n    }\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-jetpack", "android-jetpack-navigation"], "comments": [{"owner": {"reputation": 329, "user_id": 1029110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/848dddf45049a20abe5ddab0ed6543d1?s=128&d=identicon&r=PG", "display_name": "Rahul Kahale", "link": "https://stackoverflow.com/users/1029110/rahul-kahale"}, "edited": false, "score": 0, "creation_date": 1576081822, "post_id": 59289266, "comment_id": 104785265, "body": "Will I have to do this for animation? <a href=\"https://stackoverflow.com/q/51856988/1029110\">stackoverflow.com/q/51856988/1029110</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576229293, "post_id": 59289266, "comment_id": 104839467, "body": "Why do people use <code>onActivityCreated</code>? Why is that method so popular?"}, {"owner": {"reputation": 329, "user_id": 1029110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/848dddf45049a20abe5ddab0ed6543d1?s=128&d=identicon&r=PG", "display_name": "Rahul Kahale", "link": "https://stackoverflow.com/users/1029110/rahul-kahale"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576229503, "post_id": 59289266, "comment_id": 104839560, "body": "Corrected to onViewCreated in code &amp; question. Still same issue"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576229543, "post_id": 59289266, "comment_id": 104839578, "body": "@EpicPandaForce that&#39;s because there is an app on Google codelabs that does that."}], "answers": [{"tags": [], "owner": {"reputation": 329, "user_id": 1029110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/848dddf45049a20abe5ddab0ed6543d1?s=128&d=identicon&r=PG", "display_name": "Rahul Kahale", "link": "https://stackoverflow.com/users/1029110/rahul-kahale"}, "is_accepted": true, "score": 1, "last_activity_date": 1576254073, "last_edit_date": 1576254073, "creation_date": 1576247916, "answer_id": 59324700, "question_id": 59289266, "link": "https://stackoverflow.com/questions/59289266/reload-navigation-fragment-with-bundle-arguments-and-animation-called-from-with/59324700#59324700", "title": "Reload navigation fragment with bundle arguments and animation, called from within itself", "body": "<p><a href=\"https://stackoverflow.com/questions/51856988/navigation-component-set-transition-animation-programmatically\">This worked</a> with minor adjustments like adding more arguments as per my need</p>\n\n<pre><code>internal fun navigateWithAnimation(actionId: Int, beginStackFrag: Int, anyView: View, isBackNav: Boolean, bundle: Bundle) {\n\n        val navBuilder = NavOptions.Builder()\n\n        val navController = Navigation.findNavController(anyView)\n        // val currNavigationNode = navController.graph.findNode(beginStackFrag)\n\n        if (isBackNav) {\n            navBuilder.setEnterAnim(R.anim.slide_out_right)\n        } else {\n            navBuilder.setEnterAnim(R.anim.slide_out_left)\n        }\n        navBuilder.setPopUpTo(beginStackFrag, false)\n\n        navController.navigate(actionId, bundle, navBuilder.build())\n    }\n\n</code></pre>\n\n<p>Alternative <a href=\"https://stackoverflow.com/a/53699791/1029110\">How to add animation transition to NavigationUI in android?</a> </p>\n"}], "owner": {"reputation": 329, "user_id": 1029110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/848dddf45049a20abe5ddab0ed6543d1?s=128&d=identicon&r=PG", "display_name": "Rahul Kahale", "link": "https://stackoverflow.com/users/1029110/rahul-kahale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 0, "accepted_answer_id": 59324700, "answer_count": 1, "score": 0, "last_activity_date": 1576254073, "creation_date": 1576078726, "last_edit_date": 1576233772, "question_id": 59289266, "link": "https://stackoverflow.com/questions/59289266/reload-navigation-fragment-with-bundle-arguments-and-animation-called-from-with", "title": "Reload navigation fragment with bundle arguments and animation, called from within itself", "body": "<p>I have a <strong>navigation fragment</strong> which accepts data to display from bundle arguments. After user action, this fragment is 3 level deeper from the nav host activity. There is option to go next or previous (<strong>multiple times</strong>) which should reload the same fragment, but with newer data. For next/prev loading, if I create bundle and call <code>Navigation.findNavController(it).navigate</code>, on an action pointing to itself, it just keeps on adding same fragment to the stack.</p>\n\n<p>inside <code>&lt;navigation&gt;</code> tag of file <code>app:navGraph=\"@navigation/mobile_navigation\"</code> along with other fragments</p>\n\n<pre><code>   &lt;fragment\n        android:id=\"@+id/questionFragment\"\n        android:name=\"activities.qacenter.QuestionFragment\"\n        android:label=\"fragment_question_center\"\n        tools:layout=\"@layout/fragment_question\"&gt;\n        &lt;argument\n            android:name=\"questionObj\"\n            app:argType=\"model.Question\" /&gt;\n        &lt;action\n            android:id=\"@+id/action_questionFragment_self\"\n            app:destination=\"@id/questionFragment\" /&gt;\n    &lt;/fragment&gt;\n</code></pre>\n\n<p>Click listener for forward button inside <code>override fun onViewCreated(view: View, savedInstanceState: Bundle?)</code></p>\n\n<pre><code>forward.setOnClickListener {\n        if (thisQ?.questionNo != null) {\n            val curQNo = thisQ?.questionNo!!\n            val curLevelNo = thisQ?.qOfLevel!!\n            val totalQCount = thisQ?.totalQCount!!\n            if (curQNo &lt; totalQCount) {\n                val bundle = Bundle()\n                val etActivity = context as eTLanding\n                val wholeQSet =  etActivity.getSelectionSet()!!\n                var questionSet = wholeQSet[curLevelNo-1].questions!!\n                var nextQuestion = questionSet[curQNo]\n                bundle.putSerializable(\"questionObj\", nextQuestion)\n                Navigation.findNavController(it).navigate(R.id.action_questionFragment_self, bundle)\n            } else {\n                forward.isEnabled = false\n            }\n        }\n    }\n</code></pre>\n\n<p>How can I <strong>replace</strong> the currently displayed fragment with popToLeft/Right <strong>animation</strong> for previous and next button clicks?</p>\n\n<p>I am using <code>onViewCreated</code> to bind data to view elements and attach button listeners</p>\n"}, {"tags": ["kotlin", "jvm", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 9419020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tech Drago", "link": "https://stackoverflow.com/users/9419020/tech-drago"}, "edited": false, "score": 0, "creation_date": 1576086456, "post_id": 59290544, "comment_id": 104787545, "body": "That was quite helpful. if sub data is dependent on data (means we need parent element information to process sub element) then i should call await right after declaring val data = async { calculateData() } and as you pointed out there will be no parallel execution. What would be an efficient way to deal in that case??"}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "reply_to_user": {"reputation": 17, "user_id": 9419020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tech Drago", "link": "https://stackoverflow.com/users/9419020/tech-drago"}, "edited": false, "score": 0, "creation_date": 1576086858, "post_id": 59290544, "comment_id": 104787762, "body": "@TechDrago never call <code>await</code> right after <code>async</code>. It&#39;s pointless. Just remove <code>async</code> from <code>val data = async { calculateData() }</code> and <code>await</code> from <code>data.await()</code>."}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "reply_to_user": {"reputation": 17, "user_id": 9419020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tech Drago", "link": "https://stackoverflow.com/users/9419020/tech-drago"}, "edited": false, "score": 0, "creation_date": 1576133402, "post_id": 59290544, "comment_id": 104801621, "body": "@TechDrago if you do what I&#39;ve said in a previous comment each element own data will be calculated before sub-elements data. But then sub-elements data will still be calculated in parallel because of <code>awaitAll</code>."}, {"owner": {"reputation": 17, "user_id": 9419020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tech Drago", "link": "https://stackoverflow.com/users/9419020/tech-drago"}, "edited": false, "score": 0, "creation_date": 1576307236, "post_id": 59290544, "comment_id": 104864637, "body": "Hey @Bananon what if SomeData Returned a value from parents calculation  i have to feed that value to calculateData (on Subelement). So i cannot say result.myvalue because its a deferred object  Something like this: <code>async { calculateData(&quot;Hardcoded value&quot;) }</code>   <code>subElements.map { sub -&gt; async { sub.calculateAllData(&quot;Value from Parent&#39;s Operation (Network operation suppose)&quot;) } }</code>"}, {"owner": {"reputation": 17, "user_id": 9419020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tech Drago", "link": "https://stackoverflow.com/users/9419020/tech-drago"}, "edited": false, "score": 0, "creation_date": 1576328039, "post_id": 59290544, "comment_id": 104868627, "body": "Thank you, your answer helped me to understand the concept better."}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 1, "last_activity_date": 1576345415, "last_edit_date": 1576345415, "creation_date": 1576083137, "answer_id": 59290544, "question_id": 59288807, "link": "https://stackoverflow.com/questions/59288807/coroutine-scope-and-async-right-approach/59290544#59290544", "title": "coroutine scope and async - right approach?", "body": "<p>If you want to process all nested calls in parallel, you should wrap each of them in <code>async</code> (<code>async</code> should be inside of the loop). And then, after the loop, you should <code>await</code> all the results. (In your code you run <code>await</code> right after single <code>async</code>, so there is no parallel execution).</p>\n\n<p>For example, if you have <code>Element</code>:</p>\n\n<pre><code>interface Element {\n    val subElements: List&lt;Element&gt;\n    suspend fun calculateData(): SomeData\n}\n\ninterface SomeData\n</code></pre>\n\n<p>And you want to <code>calculateData</code> of all <code>subElements</code> in parallel, you can do it like this:</p>\n\n<pre><code>suspend fun Element.calculateAllData(): List&lt;SomeData&gt; = coroutineScope {\n    val data = async { calculateData() }\n    val subData = subElements.map { sub -&gt; async { sub.calculateAllData() } }\n    return@coroutineScope listOf(data.await()) + subData.awaitAll().flatten()\n}\n</code></pre>\n\n<hr>\n\n<p>As you said in a comments section, you need parent-data to calculate sub-data, therefore the first thing <code>calculateAllData()</code> should do is calculate the parent-data:</p>\n\n<pre><code>suspend fun Element.calculateAllData(\n    parentData: SomeData = defaultParentData()\n): List&lt;SomeData&gt; = coroutineScope {\n    val data = calculateData(parentData)\n    val subData = subElements.map { sub -&gt; async { sub.calculateAllData(data) } }\n    return@coroutineScope listOf(data) + subData.awaitAll().flatten()\n}\n</code></pre>\n\n<hr>\n\n<p>Now you may wonder how fast it works. Consider the following <code>Element</code> implementation:</p>\n\n<pre><code>class ElementImpl(override val subElements: List&lt;Element&gt;) : Element {\n    override suspend fun calculateData(parentData: SomeData): SomeData {\n        delay(1000)\n        return SomeData()\n    }\n}\n\nfun elmOf(vararg elements: Element) = ElementImpl(listOf(*elements))\n</code></pre>\n\n<p>And the following test:</p>\n\n<pre><code>println(measureTime {\n    elmOf(\n        elmOf(),\n        elmOf(\n            elmOf(),\n            elmOf(\n                elmOf(),\n                elmOf(),\n                elmOf()\n            )\n        ),\n        elmOf(\n            elmOf(),\n            elmOf()\n        ),\n        elmOf()\n    ).calculateAllData()\n})\n</code></pre>\n\n<p>If parent-data isn't needed to calculate sub-data, it prints <code>1.06s</code>, since in this case, all the data is calculated in parallel. Otherwise, it prints <code>4.15s</code>, since elements tree height is 4.</p>\n"}], "owner": {"reputation": 17, "user_id": 9419020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tech Drago", "link": "https://stackoverflow.com/users/9419020/tech-drago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 59290544, "answer_count": 1, "score": 0, "last_activity_date": 1576345415, "creation_date": 1576077094, "question_id": 59288807, "link": "https://stackoverflow.com/questions/59288807/coroutine-scope-and-async-right-approach", "title": "coroutine scope and async - right approach?", "body": "<p>I love the concept of co-routines and I've been using in my android projects. Currently i'm working on a JVM module which i'll be including in a Ktor project and i know ktor has support for co-routines.</p>\n\n<p>(find the attached code snippet)</p>\n\n<p>Just wanted to know is this the right approach? \nHow do i use async with recursion? </p>\n\n<p>Any resources that you can recommend which can help me grasp more in-depth knowledge of co-routines would be helpful.</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>override suspend fun processInstruction(args.. ): List&lt;Any&gt; = coroutineScope {\n\n val dataWithFields = async{       \n     listOfFields.fold(mutableList()){ acc,field -&gt;\n    val data = someProcess(field)\n    val nested = processInstruction(...nestedField) // nested call\n\n    acc.addAll(data)\n    acc.addAll(nested)\n    acc\n}\n}\n\nreturn@coroutineScope postProcessData(dataWithFields.await())\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinc"], "answers": [{"tags": [], "owner": {"reputation": 5987, "user_id": 1555615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BwrUZ.jpg?s=128&g=1", "display_name": "Marinos An", "link": "https://stackoverflow.com/users/1555615/marinos-an"}, "is_accepted": true, "score": 1, "last_activity_date": 1576147540, "creation_date": 1576147540, "answer_id": 59302825, "question_id": 59288651, "link": "https://stackoverflow.com/questions/59288651/how-to-open-kotlin-repl-using-kotlin-native-linux/59302825#59302825", "title": "How to open kotlin repl using kotlin-native-linux?", "body": "<p><code>repl</code> is available in <code>kotlin-compiler-1.3.61.zip</code>.</p>\n\n<p><code>kotlin-native</code> is for compiling Kotlin code to native binaries, which can run without a virtual machine. </p>\n\n<p>Probably there is no reason to add <code>repl</code> and <code>-script</code> support on <code>kotlinc</code> of <code>kotlin-native</code> package.</p>\n"}], "owner": {"reputation": 5987, "user_id": 1555615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BwrUZ.jpg?s=128&g=1", "display_name": "Marinos An", "link": "https://stackoverflow.com/users/1555615/marinos-an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 59302825, "answer_count": 1, "score": 1, "last_activity_date": 1576147540, "creation_date": 1576076611, "last_edit_date": 1576145597, "question_id": 59288651, "link": "https://stackoverflow.com/questions/59288651/how-to-open-kotlin-repl-using-kotlin-native-linux", "title": "How to open kotlin repl using kotlin-native-linux?", "body": "<p>I just downloaded kotlin compiler <code>kotlin-native-linux-1.3.61.tar.gz</code>\nfrom here: <a href=\"https://github.com/JetBrains/kotlin/releases/tag/v1.3.61\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/releases/tag/v1.3.61</a></p>\n\n<p>But when I try to open the repl, as proposed in the <a href=\"https://kotlinlang.org/docs/tutorials/command-line.html#running-the-repl\" rel=\"nofollow noreferrer\">documentation</a>, running: </p>\n\n<pre><code>/opt/kotlin-native-linux-1.3.61/bin/kotlinc\n</code></pre>\n\n<p>I get: </p>\n\n<pre><code>error: you have not specified any compilation arguments. No output has been produced.\n</code></pre>\n\n<p>The documentation says: \"We can run the compiler without parameters to have an interactive shell\"</p>\n\n<p>How can I open the kotlin repl?</p>\n"}, {"tags": ["recursion", "kotlin", "higher-order-functions"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1576075477, "post_id": 59288219, "comment_id": 104781601, "body": "what&#39;s <code>productFactory</code> ?"}, {"owner": {"reputation": 27, "user_id": 12356143, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217757550184437/picture?type=large", "display_name": "Momo", "link": "https://stackoverflow.com/users/12356143/momo"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1576075606, "post_id": 59288219, "comment_id": 104781673, "body": "ok. I correct it"}], "answers": [{"tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 1, "last_activity_date": 1576076345, "creation_date": 1576076345, "answer_id": 59288567, "question_id": 59288219, "link": "https://stackoverflow.com/questions/59288219/kotlin-higher-order-function-with-recursion/59288567#59288567", "title": "Kotlin: higher order function with recursion", "body": "<p>Your function <code>productFactory</code> is recursively calling itself with no way to exit the recursion, so it will always cause a stack overflow.</p>\n\n<p>The function it returns should certainly not be itself because the behavior is different.</p>\n\n<p>You can define the returned function as a lambda:</p>\n\n<pre><code>fun productFactory (productName: String , rating : Int) : (Double) -&gt; Product {\n    return { price -&gt; Product(productName, price, rating) }\n}\n</code></pre>\n\n<p>or use function syntax and return the function using the <code>::</code> operator:</p>\n\n<pre><code>fun productFactory (productName: String , rating : Int) : (Double) -&gt; Product {\n    fun produce(price: Double) = Product(productName, price, rating)\n    return ::produce\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12356143, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217757550184437/picture?type=large", "display_name": "Momo", "link": "https://stackoverflow.com/users/12356143/momo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 59288567, "answer_count": 1, "score": 1, "last_activity_date": 1576076345, "creation_date": 1576075261, "last_edit_date": 1576075680, "question_id": 59288219, "link": "https://stackoverflow.com/questions/59288219/kotlin-higher-order-function-with-recursion", "title": "Kotlin: higher order function with recursion", "body": "<p>I have to create a higher order function which returns a lambda to learn functional programming with Kotlin.</p>\n\n<p>This is the class </p>\n\n<pre><code>class Product (val productName : String, val price : Double, val rating : Int) {\n    override fun toString () = \"$productName, $price, $rating\"\n}\n</code></pre>\n\n<p>this is my function</p>\n\n<pre><code>fun productFactory (productName: String , rating : Int) : (Double) -&gt; Product {\n\n    val x : (Double) -&gt; Product = productFactory(productName, rating)\n    return x\n}\n</code></pre>\n\n<p>this is how I call the function</p>\n\n<pre><code>val cheese = productFactory(\"Gouda\", 5)\nval product = cheese(4.99)\n</code></pre>\n\n<p>Although it seems to work with the needed constructors, it causes a StackOverflowError and I don't know, where the problem is. Can anybody help me?</p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 1, "creation_date": 1576077981, "post_id": 59287781, "comment_id": 104783057, "body": "Yeah, it&#39;s not supposed to be able to do that... such notifications are not implemented with a <code>Intent&#47;BroadcastReceiver</code> approach; instead there are listeners registered inside the <code>SharedPreferences</code> class/object."}], "owner": {"reputation": 168, "user_id": 1270139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b676baa90aa4d5e0a218621211b434e9?s=128&d=identicon&r=PG", "display_name": "th3ant", "link": "https://stackoverflow.com/users/1270139/th3ant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576073796, "creation_date": 1576073796, "question_id": 59287781, "link": "https://stackoverflow.com/questions/59287781/onsharedpreferencechanged-not-fired-when-observing-from-separate-processes", "title": "onSharedPreferenceChanged() not fired when observing from separate processes", "body": "<p>I have an application that consists of two separate processes; the main application and a background service that has a separate process defined with <code>android:process=\":process_name\"</code> in the manifest.</p>\n\n<p>When using <code>SharedPreferences</code> I observe that I can store and load values on one process, and retrieve them on the other process completely fine.</p>\n\n<p><strong>Main Activity:</strong></p>\n\n<pre><code>override fun onStart() {\n    // ...\n    val prefs = getSharedPreferences(PREFERENCES_ID, Context.MODE_PRIVATE)\n    val editor = prefs.edit()\n    editor.putInt(\"TEST\", 42)\n    editor.commit()\n}\n</code></pre>\n\n<p><strong>Service:</strong></p>\n\n<pre><code>override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n    // ...\n    val prefs = getSharedPreferences(PREFERENCES_ID, Context.MODE_PRIVATE)\n    val retrieved = prefs.getInt(\"TEST\", -1)\n    Log.d(\"Service\", \"Retrieved $retrieved\") // prints \"Retrieved 42\"\n}\n</code></pre>\n\n<p>However, when registering a <code>OnSharedPreferenceChangeListener</code> to observe these changes on both the activity and service, I only recieve the changes my <code>SharedPreferences</code> instance on the process that the change was made on.  (This also happens when creating the shared preferences instance with the Activity/Service's <code>applicationContext</code>.)</p>\n\n<p>I also note that this behaviour does not occur when removing the <code>android:process</code> directive in the manifest, which leads me to believe the different processes cause this behaviour.</p>\n\n<ol>\n<li>Is there some difference in how changes are broadcast to the listeners across different processes?  </li>\n<li>Is it possible to observe these changes across processes?</li>\n</ol>\n\n<hr>\n\n<p><em>(I acknowledge I could move my application to be a single process or implement a \"changed\" message of some sort through some other IPC such as a <code>Messenger</code> every time my code makes a change to the <code>SharedPreferences</code>, however these are not attractive options for this application.)</em></p>\n"}, {"tags": ["kotlin", "rabbitmq", "apache-camel"], "answers": [{"tags": [], "owner": {"reputation": 7501, "user_id": 1454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a0e3ce2508a262749c9fc3afd681f2d4?s=128&d=identicon&r=PG", "display_name": "Raibaz", "link": "https://stackoverflow.com/users/1454/raibaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1577805446, "creation_date": 1577805446, "answer_id": 59545828, "question_id": 59287520, "link": "https://stackoverflow.com/questions/59287520/apache-camel-rabbitmq-leaving-behind-threads-in-wait-state/59545828#59545828", "title": "Apache Camel RabbitMQ leaving behind threads in WAIT state", "body": "<p>Ok so it turns out that the threads being there in WAIT state were supposed to be there, as by default the threadpool size for Camel consumers is 10 (and in fact, I had at most 10 * <em>my number of routes</em>) threads.</p>\n\n<p>Now, configuring the thread pool size is something that can be done, but it's not as easy as it seems, as there are several different ways to do so.</p>\n\n<p>What fixed this for me is to set the <code>threadPoolSize</code> parameter in the rabbitMQ URI:</p>\n\n<pre><code>from(\"rabbitmq:$rabbitMQVhost?threadPoolSize=5&amp;connectionFactory=#customConnectionFactory&amp;queue=${it.rabbitMQQueue}\n</code></pre>\n\n<p>By doing so, the number of threads in WAIT state after several messages are processed on all routes is, as expected, 5 * <em>my number of routes</em>, which is better in my case: I don't have any big concurrency requirement but I have a significant number of routes, and having 10 hanging threads, with their memory footprint, for each route was draining my memory pretty fast.</p>\n\n<p>Leaving this here as it looks like there's not much documentation around this topic and I had to bang my head for days on it.</p>\n"}], "owner": {"reputation": 7501, "user_id": 1454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a0e3ce2508a262749c9fc3afd681f2d4?s=128&d=identicon&r=PG", "display_name": "Raibaz", "link": "https://stackoverflow.com/users/1454/raibaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 59545828, "answer_count": 1, "score": 5, "last_activity_date": 1577805446, "creation_date": 1576073041, "last_edit_date": 1576136228, "question_id": 59287520, "link": "https://stackoverflow.com/questions/59287520/apache-camel-rabbitmq-leaving-behind-threads-in-wait-state", "title": "Apache Camel RabbitMQ leaving behind threads in WAIT state", "body": "<p>I have a set of Camel routes configured to read and write to RabbitMQ queues, more or less like this:</p>\n\n<pre><code>from(\"rabbitmq:$rabbitMQVhost?connectionFactory=#customConnectionFactory&amp;queue=${it.rabbitMQQueue}&amp;routingKey=${it.rabbitMQQueue}&amp;SOME_MORE_PROPERTIES\")\n    .log(\"Read message from queue ${it.rabbitMQQueue}\")\n    .routeId(it.rabbitMQQueue)\n    .noAutoStartup()\n    .bean(it.rabbitMQBean)\n    .choice()\n    .`when`(PredicateBuilder.and(simple(\"$myCondition\"), isNotNull(body())))\n        .split(body())\n        .toD(\"rabbitmq:$rabbitMQVhost?connectionFactory=#customConnectionFactory&amp;queue=${it.rabbitMQQueueDestination}&amp;autoDelete=false&amp;routingKey=${it.rabbitMQQueueDestination}&amp;bridgeEndpoint=true\")\n        .endChoice()\n    .otherwise()\n    end()\n</code></pre>\n\n<p>Where <code>SOME_MORE_PROPERTIES</code> is basically <code>autoDelete=false&amp;autoAck=false</code> and some message prefetch settings.</p>\n\n<p>My ConnectionFactory is a <code>org.springframework.amqp.rabbit.connection.CachingConnectionFactory</code>.</p>\n\n<p>Whenever a message comes in on my source queue, a thread is started to process it; however, after the processing is completed it hangs in WAIT state, never being released or terminated, so my application memory saturates after a while and there's nothing the garbage collector can do about it.</p>\n\n<p>After some time running, my application is basically in this state:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XeFgb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XeFgb.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I manually restart the routes, the threads are terminated and the memory released.</p>\n\n<p>Is there something I'm doing wrong in my routes configuration that is preventing the threads from terminating properly?</p>\n\n<p>I'd like to avoid having to write a quartz job to restart the routes every once in a while.</p>\n\n<p>Edit: I also recently updated from Camel 2.24.0 to the latest RC for Camel 3, but the issue is still happening.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-livedata"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576079961, "post_id": 59287178, "comment_id": 104784239, "body": "Check <a href=\"https://www.reddit.com/r/androiddev/comments/dz1q3f/askandroid_at_android_dev_summit_2019/\" rel=\"nofollow noreferrer\">reddit.com/r/androiddev/comments/dz1q3f/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "edited": false, "score": 0, "creation_date": 1576220900, "post_id": 59287833, "comment_id": 104836078, "body": "In normal scenerio - yes, but in my case, I&#39;ve a Big fragment (container), that holds smaller part of view that is also fragment (fragment inside fragment). The smallest fragment is changed a lot."}], "tags": [], "owner": {"reputation": 897, "user_id": 8567562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nm5R.jpg?s=128&g=1", "display_name": "Kuruchy", "link": "https://stackoverflow.com/users/8567562/kuruchy"}, "is_accepted": false, "score": 0, "last_activity_date": 1576081233, "last_edit_date": 1576081233, "creation_date": 1576073953, "answer_id": 59287833, "question_id": 59287178, "link": "https://stackoverflow.com/questions/59287178/using-livedata-instead-of-callback-hell-to-interact-between-fragments/59287833#59287833", "title": "Using LiveData instead of callback hell to interact between fragments", "body": "<p>You could have only one ViewModel(lifecycleOwner = activity), that would have all the liveDataEvents you need for the interactions. You will act on the liveData from the onClick events:</p>\n\n<pre><code>okayButton.setOnClickListener { viewModel.onOkayButtonClicked() }\n</code></pre>\n\n<p>This LiveData will be observed by the NavigationComponent, or similar you are using for handling fragment transactions, and it will do the transitions for you.</p>\n\n<p>All these transitions I recommend doing them on the Activity level.</p>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576081233, "creation_date": 1576071874, "question_id": 59287178, "link": "https://stackoverflow.com/questions/59287178/using-livedata-instead-of-callback-hell-to-interact-between-fragments", "title": "Using LiveData instead of callback hell to interact between fragments", "body": "<p>Long time ago the normal and suggested way on how to communicate between fragments were to create a interface that was extended in Activity. Basically, if I wanted to get data from Fragment B to Fragment C, I had to do Fragment B to MainActivity and then MainActivity to Fragment C. In my view - total mess.</p>\n\n<p>Just started to use <code>LiveData</code> and thought of using it instead of callbacks - for instance:</p>\n\n<p><strong>FragmentInteraction.kt</strong></p>\n\n<pre><code>val onOkayButtonClicked = SingleLiveEvent&lt;Void&gt;()\nval onCancelButtonClicked = SingleLiveEvent&lt;Void&gt;()\n</code></pre>\n\n<p><strong>FragmentA.kt</strong></p>\n\n<pre><code>onOkayButtonClicked.call()\n</code></pre>\n\n<p><strong>FragmentB.kt</strong></p>\n\n<pre><code>onOkayButtonClicked.observe(viewLifecycleOwner, Observer {\n    // do whatever u want\n})\n</code></pre>\n\n<p>Does this approach has any down-sides? Is there an easier / more elegant way to approach this?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 689, "user_id": 7750432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yb97E.jpg?s=128&g=1", "display_name": "Yaroslav Ovdiienko", "link": "https://stackoverflow.com/users/7750432/yaroslav-ovdiienko"}, "edited": false, "score": 1, "creation_date": 1576155162, "post_id": 59304966, "comment_id": 104812343, "body": "Awesome \ud83d\udc4f I&#39;ve thought that should be implemented with the lib as I found it in pom config. Thanks \ud83d\ude4f"}], "tags": [], "owner": {"reputation": 56, "user_id": 4983179, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x9BZ7FrvjNo/AAAAAAAAAAI/AAAAAAAACyo/Y3vz8R4w6r8/photo.jpg?sz=128", "display_name": "Oleh Kolomiets", "link": "https://stackoverflow.com/users/4983179/oleh-kolomiets"}, "is_accepted": true, "score": 4, "last_activity_date": 1577063776, "last_edit_date": 1577063776, "creation_date": 1576154880, "answer_id": 59304966, "question_id": 59286707, "link": "https://stackoverflow.com/questions/59286707/hyperion-android-serviceloader-can-t-load-custom-plugin/59304966#59304966", "title": "Hyperion-Android: ServiceLoader can\u2019t load custom Plugin", "body": "<p>it looks like the problem is related to the processing of <code>@AutoService</code> annotation. Make sure that you have added an annotation processor to the project. </p>\n\n<p>You should add the following annotation processor to the <code>build.gradle</code> file.<br/> </p>\n\n<p>for <strong>Kotlin</strong> project:</p>\n\n<pre><code>kapt 'com.google.auto.service:auto-service:1.0-rc6'\n\n</code></pre>\n\n<p>for <strong>Java</strong> project:</p>\n\n<pre><code>annotationProcessor 'com.google.auto.service:auto-service:1.0-rc6'\n</code></pre>\n"}], "owner": {"reputation": 689, "user_id": 7750432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yb97E.jpg?s=128&g=1", "display_name": "Yaroslav Ovdiienko", "link": "https://stackoverflow.com/users/7750432/yaroslav-ovdiienko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 59304966, "answer_count": 1, "score": 7, "last_activity_date": 1577063776, "creation_date": 1576070274, "last_edit_date": 1576074016, "question_id": 59286707, "link": "https://stackoverflow.com/questions/59286707/hyperion-android-serviceloader-can-t-load-custom-plugin", "title": "Hyperion-Android: ServiceLoader can\u2019t load custom Plugin", "body": "<p>I faced an issue in <a href=\"https://github.com/willowtreeapps/Hyperion-Android\" rel=\"nofollow noreferrer\">Hyperion github</a>. I want to add my custom item into <strong>Hyperion</strong> menu.\nAs I figure out if I remove something from core-libs they would be removed successfully and vice versa. <em>But if I add custom <code>Plugin</code> - nothing happens.</em> </p>\n\n<p>I've tried different versions of <strong>Hyperion</strong> it also does not affect the result.<br/>\nAlso, here what I've checked additionally:</p>\n\n<ol>\n<li>Proguard</li>\n<li>Imports</li>\n<li>Dependencies</li>\n<li>LayoutInspector</li>\n<li>Sources with debugging</li>\n<li>Packages</li>\n<li>Flavors </li>\n<li>Extract into a separate module</li>\n<li><code>@AutoService</code> annotation</li>\n<li>set <code>minifyEnabled false</code></li>\n</ol>\n\n<p><strong>Plugin:</strong></p>\n\n<pre><code>import com.google.auto.service.AutoService\nimport com.willowtreeapps.hyperion.plugin.v1.Plugin\nimport com.willowtreeapps.hyperion.plugin.v1.PluginModule\n\n@AutoService(Plugin::class)\nclass TestPlugin : Plugin() {\n    override fun createPluginModule(): PluginModule? {\n        return TestPluginModule()\n    }\n}\n</code></pre>\n\n<p><strong>Module:</strong></p>\n\n<pre><code>import android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.willowtreeapps.hyperion.plugin.v1.PluginModule\n\n\nclass TestPluginModule : PluginModule() {\n    override fun createPluginView(layoutInflater: LayoutInflater, parent: ViewGroup): View? {\n        return layoutInflater.inflate(R.layout.htest_plugin_item, parent, false)\n    }\n}\n</code></pre>\n\n<p><strong>Dependencies:</strong></p>\n\n<pre><code>def hyperionVersion = '0.9.27'\n    debugImplementation \"com.willowtreeapps.hyperion:hyperion-core:$hyperionVersion\"\n    debugImplementation \"com.willowtreeapps.hyperion:hyperion-attr:$hyperionVersion\"\n    debugImplementation \"com.willowtreeapps.hyperion:hyperion-crash:$hyperionVersion\"\n    debugImplementation \"com.willowtreeapps.hyperion:hyperion-measurement:$hyperionVersion\"\n    debugImplementation \"com.willowtreeapps.hyperion:hyperion-recorder:$hyperionVersion\"\n    debugImplementation \"com.willowtreeapps.hyperion:hyperion-shared-preferences:$hyperionVersion\"\n    debugImplementation \"com.willowtreeapps.hyperion:hyperion-timber:$hyperionVersion\"\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/V4471.png\" width=\"250\" height=\"420\" />\n<img src=\"https://i.stack.imgur.com/FIxcy.png\" width=\"420\" height=\"350\" /></p>\n\n<blockquote>\n  <p>NOTE: on screenshots v0.9.26. But I've tested also v0.9.27, v0.9.25, v0.9.24.</p>\n</blockquote>\n"}, {"tags": ["kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1576070719, "post_id": 59286619, "comment_id": 104778824, "body": "It&#39;s a <code>CoroutineContext</code> that consists of two elements: the dispatcher and the job. The  type <code>CoroutineContext</code> is also itself a <code>ContextElement</code>, and you can combine <code>ContextElement</code>s with <code>+</code>."}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 8343398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc89f176e35f26e572bcfd8a2b1aaa6c?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/8343398/amir"}, "is_accepted": false, "score": 3, "last_activity_date": 1586248605, "creation_date": 1586248605, "answer_id": 61075935, "question_id": 59286619, "link": "https://stackoverflow.com/questions/59286619/what-happen-exactly-dispatcher-io-job-when-define-coroutinescope/61075935#61075935", "title": "What happen exactly Dispatcher.IO + job when define CoroutineScope?", "body": "<p>The advantage of using an specified job with Dispatchers.IO is that you can cancel that job any time without effecting other jobs that launched in the IO Dispatcher.\nYou simply can call <code>job.cancel()</code></p>\n\n<p>for example you make a network request and while it's running somehow you find out network is down (for example from a BroadCastReciever if in android), then you can cancel that network job.\nbut remember you always have to make a new Job if job is cancelled or completed</p>\n"}], "owner": {"reputation": 610, "user_id": 7149385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BK1tL.jpg?s=128&g=1", "display_name": "ImanX", "link": "https://stackoverflow.com/users/7149385/imanx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1586248605, "creation_date": 1576069972, "last_edit_date": 1576070461, "question_id": 59286619, "link": "https://stackoverflow.com/questions/59286619/what-happen-exactly-dispatcher-io-job-when-define-coroutinescope", "title": "What happen exactly Dispatcher.IO + job when define CoroutineScope?", "body": "<p>I use <code>Coroutine</code> in my project and defined a class as <code>CoroutineScope</code> for handling <code>Coroutines</code> on difference <code>Dispatchers</code> such as <code>IO</code>, <code>MAIN</code> ...\nbut I do not understand that this code how work and what is mechanism it?</p>\n\n<pre><code>val job = Job()\n\noverride val coroutineContext: CoroutineContext\n     get() = Dispatchers.IO + job\n</code></pre>\n\n<p>what's mean <code>Dispatchers.IO + job</code> ?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1576074216, "post_id": 59286618, "comment_id": 104780854, "body": "It&#39;s not clear what part of this you don&#39;t understand how to do. And do you want the size to be checked at run time when the function is called? Here&#39;s an answer mentioning a library that already has what you&#39;re describing. <a href=\"https://stackoverflow.com/a/50134919/506796\">stackoverflow.com/a/50134919/506796</a>"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1576074487, "post_id": 59286618, "comment_id": 104781019, "body": "I don&#39;t know of any way it could be checked at compile time. And if doing a run time check, it&#39;s probably easier to simply put <code>require(data.size == 250)</code> as the first line of your function, than it is to try using annotations, in my opinion."}], "owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576070354, "creation_date": 1576069970, "last_edit_date": 1576070354, "question_id": 59286618, "link": "https://stackoverflow.com/questions/59286618/custom-annotation-on-fuction-parameter", "title": "Custom annotation on fuction parameter", "body": "<p>I want to make a function and annotate a parameter to be of a specific size, however following the official documentation is not clear on how one can do it.</p>\n\n<p>The result is something similar to this:</p>\n\n<pre><code>fun getTypes(@size(250) data: ByteArray): Types {\n\n}\n</code></pre>\n\n<p>Here <code>data</code> should be checked when received as parameter.</p>\n"}, {"tags": ["java", "spring", "kotlin", "spring-webflux", "spring-cloud-gateway"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 2061685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqoi3.png?s=128&g=1", "display_name": "Leo Melin", "link": "https://stackoverflow.com/users/2061685/leo-melin"}, "edited": false, "score": 0, "creation_date": 1576092487, "post_id": 59286765, "comment_id": 104790192, "body": "This seems ok, could be usable. But it makes me wonder if this is the correct way to do it by using Netty Connection object? I\u2019m happy if this solves my problem but if anyone has a more elegant solution, I\u2019d like to know?"}, {"owner": {"reputation": 91, "user_id": 2135533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4e51f33def0df05ed3075bbb72a0d2?s=128&d=identicon&r=PG", "display_name": "user2135533", "link": "https://stackoverflow.com/users/2135533/user2135533"}, "reply_to_user": {"reputation": 171, "user_id": 2061685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqoi3.png?s=128&g=1", "display_name": "Leo Melin", "link": "https://stackoverflow.com/users/2061685/leo-melin"}, "edited": false, "score": 1, "creation_date": 1583177812, "post_id": 59286765, "comment_id": 107021136, "body": "@LeoMelin were you able to figure out a way to access the body in spring-cloud-gateway? I tried the above mentioned way, but I don&#39;t see the response."}], "tags": [], "owner": {"reputation": 1, "user_id": 12518485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d886ef808404d42c29f0460672ca271?s=128&d=identicon&r=PG&f=1", "display_name": "user12518485", "link": "https://stackoverflow.com/users/12518485/user12518485"}, "is_accepted": false, "score": 0, "last_activity_date": 1576070505, "creation_date": 1576070505, "answer_id": 59286765, "question_id": 59286520, "link": "https://stackoverflow.com/questions/59286520/how-do-you-read-response-body-in-spring-cloud-gateway-webflux-post-filter/59286765#59286765", "title": "How do you read response body in Spring Cloud Gateway (Webflux) POST filter", "body": "<p>One way to get the response in readable format is (adapted from NettyWriteResponseFilter: <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/blob/master/spring-cloud-gateway-core/src/main/java/org/springframework/cloud/gateway/filter/NettyWriteResponseFilter.java\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gateway/blob/master/spring-cloud-gateway-core/src/main/java/org/springframework/cloud/gateway/filter/NettyWriteResponseFilter.java</a>) is to use Netty Connection:</p>\n\n<pre><code>            val connection: Connection = exchange.getAttribute(CLIENT_RESPONSE_CONN_ATTR) ?: error(\"Connection not found\")\n            val factory: NettyDataBufferFactory = response.bufferFactory() as NettyDataBufferFactory\n            val body = connection.inbound().receive().retain().map(factory::wrap).next()\n            body.doOnSuccess {    \n                val dest = ByteArray(it.readableByteCount())\n                it.read(dest)\n                val originalResponse = String(dest, StandardCharsets.UTF_8)\n                println(originalResponse)\n            }\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 2061685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqoi3.png?s=128&g=1", "display_name": "Leo Melin", "link": "https://stackoverflow.com/users/2061685/leo-melin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2763, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1576070505, "creation_date": 1576069609, "question_id": 59286520, "link": "https://stackoverflow.com/questions/59286520/how-do-you-read-response-body-in-spring-cloud-gateway-webflux-post-filter", "title": "How do you read response body in Spring Cloud Gateway (Webflux) POST filter", "body": "<p>Spring Cloud Gateway documents a post filter phase like this: <a href=\"https://cloud.spring.io/spring-cloud-static/Greenwich.RELEASE/single/spring-cloud.html#_writing_custom_gatewayfilter_factories\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-static/Greenwich.RELEASE/single/spring-cloud.html#_writing_custom_gatewayfilter_factories</a></p>\n\n<p>I've implemented a filter that has nothing in pre filter phase, but I would like to manipulate the response body in post filter phase before committing it to the client waiting the response to succeed. </p>\n\n<p>I've managed to successfully alter the response but I have found no solution to how actually read the original response from the successful proxied request. I think I have tried almost everything and I know it's probably not the best practice to read the body in the middle of webflux flow as it sort of defeats the whole purpose. But it drives me nuts it's that hard to just read the data from the response.</p>\n\n<p>My filter looks like this:</p>\n\n<pre><code>class PostFilter : AbstractGatewayFilterFactory&lt;PostFilter.Config&gt;(Config::class.java) {\n    @Autowired\n    private lateinit var tokenService: TokenService\n\n    /* This is required when implementing AbstractGatewayFilterFactory.\n     * With config we could pass filter configurations in application.yml route config\n     * This can be used if it is needed to parametrise filter functionality\n     */\n    class Config\n\n    override fun apply(config: Config?): GatewayFilter {\n        return GatewayFilter { exchange: ServerWebExchange, chain: GatewayFilterChain -&gt;\n\n            chain.filter(exchange).then(Mono.defer {\n                val response = exchange.response\n                val bytes: ByteArray = \"Some text\".toByteArray(StandardCharsets.UTF_8)\n                val buffer: DataBuffer = exchange.response.bufferFactory().wrap(bytes)\n                response.headers.contentLength = bytes.size.toLong()\n\n                // How do I get the original response?\n                response.writeWith(Flux.just(buffer))\n            })\n\n\n        }\n    }\n}\n</code></pre>\n\n<p>I found this example: <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/blob/master/spring-cloud-gateway-core/src/main/java/org/springframework/cloud/gateway/filter/WebClientWriteResponseFilter.java\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gateway/blob/master/spring-cloud-gateway-core/src/main/java/org/springframework/cloud/gateway/filter/WebClientWriteResponseFilter.java</a> where I see <code>ClientResponse clientResponse = exchange.getAttribute(CLIENT_RESPONSE_ATTR);</code> but when I try it, it doesn't contain a <code>ClientResponse</code> object that could be used to fetch the body. Instead I get netty's <code>HttpClientResponse</code> object that has no way to get hold of the response body.</p>\n\n<p>I've searched numerous stackoverflow topics covering problems that look a bit similar but none of them are actually the same.</p>\n\n<p>I also tried this approach as in this <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/177#issuecomment-361411981\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gateway/issues/177#issuecomment-361411981</a> where you can use <code>ServerHttpResponseDecorator</code> to read the body. However, it only reads the body if the <code>writeWith()</code> method is called. So if I want the original response, I would have to get the original response as a <code>DataBuffer</code> to write it again so the writeWith would be triggered. But if I had is as <code>DataBuffer</code> I wouldn't need the whole <code>ServerHttpResponseDecorator</code> at all.</p>\n\n<p>So please, help me - I've banged my head against the wall and feel like giving up on this. I usually never give up, since I feel this should be even trivial to do because it's such a simple thing: \"read the response body after proxied request\". </p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["java", "exception", "kotlin", "grpc"], "comments": [{"owner": {"reputation": 16391, "user_id": 4690866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854931adcbf75ac84630116123920854?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Anderson", "link": "https://stackoverflow.com/users/4690866/eric-anderson"}, "edited": false, "score": 0, "creation_date": 1576082449, "post_id": 59286001, "comment_id": 104785580, "body": "Exceptions within grpc callbacks should cause the client to receive an UNKNOWN status (and no more information). If you don&#39;t see that then you are probably doing processing in separate threads and will need to propagate that yourself. The code snippet here isn&#39;t all that helpful, since the implementation of MyServiceImpl is what really matters."}], "owner": {"reputation": 11, "user_id": 12518205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47915653b53267daba9bdc9ecd6270e1?s=128&d=identicon&r=PG&f=1", "display_name": "mrcy", "link": "https://stackoverflow.com/users/12518205/mrcy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576067837, "creation_date": 1576067837, "question_id": 59286001, "link": "https://stackoverflow.com/questions/59286001/inform-java-client-about-server-exception-error-in-grpc", "title": "Inform java client about server exception/error in grpc", "body": "<p>I'm new to the grpc thing and I have build a grpc client/server structure in Java (Client) and Kotlin (Server) The communication works so far. The client is able to trigger the routes defined in the .proto file. I start the server with the following code:</p>\n\n<pre><code>class GrpcServer() {\n    private var server: Server? = null\n    private val logger = Logger.getLogger(GrpcServer::class.java.name)\n\n    @Throws(IOException::class)\n    internal fun start(system: ActorSystem) {\n\n        val port = 12345\n        server = ServerBuilder.forPort(port)\n            .addService(MyServiceImpl(system))\n            .build()\n            .start()\n\n        logger.log(Level.INFO, \"Server started, listening on {0}\", port)\n\n\n        Runtime.getRuntime().addShutdownHook(object : Thread() {\n            override fun run() {\n                System.err.println(\"*** shutting down gRPC server since JVM is shutting down\")\n                this@GrpcServer.stop()\n                System.err.println(\"*** server shut down\")\n            }\n        })\n    }\n\n    private fun stop() {\n        server?.shutdown()\n    }\n\n    @Throws(InterruptedException::class)\n    internal fun blockUntilShutdown() {\n            server?.awaitTermination()\n    }\n}\n</code></pre>\n\n<p>My problem now is when the client connects to this server I don't know how to route exceptions/errors to the client occuring at the class which implements the service methods. For example one message stream is </p>\n\n<p><code>rpc getDocuments(stream DocumentsRequest) returns (stream DocumentResponse) {}</code></p>\n\n<p>If no exception occurs everything works fine and as expected but an exception while handling the getDocuments service method at the server wont be noticed by the client. For the client, even tho everything is surrounded by try/catch, it is as if nothin happend but it is necessary that the client get informed about the occuring exceptions at the server. The only thing which the client registers is when the server gets completely shut down. So ideally if a NullPOinterException occurs at the server I want that the client gets it too and can handle it with a try/catch</p>\n\n<p>I hope s.o. can help me and if necessary I can post more code</p>\n"}, {"tags": ["android", "kotlin", "samsung-galaxy", "haptic-feedback"], "answers": [{"tags": [], "owner": {"reputation": 8875, "user_id": 3379437, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/RPALD.png?s=128&g=1", "display_name": "Beloo", "link": "https://stackoverflow.com/users/3379437/beloo"}, "is_accepted": true, "score": 0, "last_activity_date": 1576062828, "creation_date": 1576062828, "answer_id": 59284556, "question_id": 59284555, "link": "https://stackoverflow.com/questions/59284555/haptic-vibration-feedback-on-samsung-galaxy-s8/59284556#59284556", "title": "Haptic (vibration) feedback on Samsung Galaxy S8+", "body": "<p>Actually i found haptic type which available on Samsung and should be available on other devices - a keyboard haptic.</p>\n\n<p>User is able to disable it from settings, but i think this is the type which covers most of the cases. </p>\n\n<pre><code>fun View.performHapticFeedbackDefault() {\n    performHapticFeedback(HapticFeedbackConstants.KEYBOARD_TAP)\n}\n</code></pre>\n"}], "owner": {"reputation": 8875, "user_id": 3379437, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/RPALD.png?s=128&g=1", "display_name": "Beloo", "link": "https://stackoverflow.com/users/3379437/beloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 59284556, "answer_count": 1, "score": 0, "last_activity_date": 1576062828, "creation_date": 1576062828, "question_id": 59284555, "link": "https://stackoverflow.com/questions/59284555/haptic-vibration-feedback-on-samsung-galaxy-s8", "title": "Haptic (vibration) feedback on Samsung Galaxy S8+", "body": "<p>The goal is to receive vibration feedback during some action happened in app.\n<code>HapticFeedbackConstants</code> has several constants which are responsible for different haptic types.\nIt is not documented well, but feels logically that <code>CONTEXT_CLICK</code> fits here. It is not available prior <code>M</code>, so the code is</p>\n\n<pre><code>fun View.performHapticFeedbackDefault() {\n    performHapticFeedback(if (VERSION.SDK_INT &gt;= VERSION_CODES.M) {\n        HapticFeedbackConstants.CONTEXT_CLICK\n    } else HapticFeedbackConstants.LONG_PRESS)\n}\n</code></pre>\n\n<p>That's working and confirmed on Nexus/Pixel phones, some Huawei etc, but isn't working for Samsung Galaxy phones and we should cover this segment</p>\n\n<p>Seems that <code>Samsung</code> doesn't have such setting in vibration preferences also</p>\n\n<p>How to perfom haptic feedback on Samsung devices?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1576065967, "post_id": 59284441, "comment_id": 104776258, "body": "are you both including:  implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.2&#39;     implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.2&#39; ?"}, {"owner": {"reputation": 627, "user_id": 12397978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yN1Y.jpg?s=128&g=1", "display_name": "USMAN osman", "link": "https://stackoverflow.com/users/12397978/usman-osman"}, "reply_to_user": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1576067446, "post_id": 59284441, "comment_id": 104776977, "body": "@NicolaGallazzi yes both, but just once i removed  <code>core</code> but didn&#39;t worked either."}, {"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1576070396, "post_id": 59284441, "comment_id": 104778631, "body": "post your app gradle please"}, {"owner": {"reputation": 627, "user_id": 12397978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yN1Y.jpg?s=128&g=1", "display_name": "USMAN osman", "link": "https://stackoverflow.com/users/12397978/usman-osman"}, "reply_to_user": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1576071141, "post_id": 59284441, "comment_id": 104779055, "body": "@NicolaGallazzi Updated, have a look see."}], "answers": [{"comments": [{"owner": {"reputation": 627, "user_id": 12397978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yN1Y.jpg?s=128&g=1", "display_name": "USMAN osman", "link": "https://stackoverflow.com/users/12397978/usman-osman"}, "edited": false, "score": 0, "creation_date": 1576074179, "post_id": 59287678, "comment_id": 104780822, "body": "Thanks, did that twice but not working, still same. Even <code>withContext()</code>  is not showing in suggestions but when i try <code>Dispachers.IO</code>, IO shows as <code>string</code>  whereas it should be coroutine dispatcher. BTW what&#39;s on your side? after upgrading, is it working fine?"}], "tags": [], "owner": {"reputation": 1113, "user_id": 8888461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ33s.jpg?s=128&g=1", "display_name": "Segun Wahaab", "link": "https://stackoverflow.com/users/8888461/segun-wahaab"}, "is_accepted": false, "score": 0, "last_activity_date": 1576073518, "creation_date": 1576073518, "answer_id": 59287678, "question_id": 59284441, "link": "https://stackoverflow.com/questions/59284441/kotlin-1-3-61-problem-with-kotlin-coroutines-in-android-studio/59287678#59287678", "title": "Kotlin 1.3.61 problem with Kotlin Coroutines in Android studio", "body": "<p>I was on kotlin 1.3.60 but upgraded to 1.3.61 after seeing this question in order to debug your issue.</p>\n\n<p>After the upgrade, there was no error whatsoever. </p>\n\n<p><strong>Try invalidating android studio caches and restarting your android studio</strong>. This is likely an android studio cache issue. </p>\n\n<p>Let me know if it worked for you.<br>\nDo this by clicking on the file tab at the upper left corner, then scroll down to invalidate caches/restart and click</p>\n"}, {"tags": [], "owner": {"reputation": 627, "user_id": 12397978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yN1Y.jpg?s=128&g=1", "display_name": "USMAN osman", "link": "https://stackoverflow.com/users/12397978/usman-osman"}, "is_accepted": false, "score": 0, "last_activity_date": 1576084505, "creation_date": 1576084505, "answer_id": 59290882, "question_id": 59284441, "link": "https://stackoverflow.com/questions/59284441/kotlin-1-3-61-problem-with-kotlin-coroutines-in-android-studio/59290882#59290882", "title": "Kotlin 1.3.61 problem with Kotlin Coroutines in Android studio", "body": "<p><strong>FIX:</strong><br/>When i found that my some of other things like <code>some::class.java</code> here <code>java</code> was unresolved error. Then i simply hop into the <code>xml</code> and try to add some widget just to make sure how xml is behaving, they were not adding means their properties were not showing like autocompeletion but fortunately i had a fix of that already. I thought it might be happening because of that which solved my all of issues.<br/>\nHere is what you simply have to do, by the way it is something doing with android studio sub folders adding <code>.bak</code> extension to some folders anyways here it is:<br/>\n<a href=\"https://stackoverflow.com/a/54007742/12397978\">https://stackoverflow.com/a/54007742/12397978</a></p>\n"}], "owner": {"reputation": 627, "user_id": 12397978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yN1Y.jpg?s=128&g=1", "display_name": "USMAN osman", "link": "https://stackoverflow.com/users/12397978/usman-osman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1064, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576084505, "creation_date": 1576062450, "last_edit_date": 1576084069, "question_id": 59284441, "link": "https://stackoverflow.com/questions/59284441/kotlin-1-3-61-problem-with-kotlin-coroutines-in-android-studio", "title": "Kotlin 1.3.61 problem with Kotlin Coroutines in Android studio", "body": "<p><strong>ISSUE SOLVED:</strong> <em>posted in answer section below</em><br/><br/>\n<strong>Problem</strong><br/>\nAfter upgrading kotlin version to <code>1.3.61</code>. I am not be able use <code>withContext</code>, <code>Dispatchers IO, Main</code> nothing is working. It's showing unresolved reference. Are there any bugs in new update of kotlin? or what? cause everything was working fine before.<br/>\nI have opened my old projects same error <code>unresolved reference</code> with every Coroutine functions like i said <code>withContext()</code> etc. But <code>suspend</code> keyword is working with little coroutine icon/mark is showing as well, when i try to call another <code>suspend</code> function.<br/><br/>\n<strong>What i try?</strong><br/>\nDowngraded kotlin version to <code>1.3.50</code> or try to upgrade coroutine version <code>1.3.61</code> (which was silly) but nothing worked..<br/>\nContinously trying to find but unfortunately couldn't find any fix.<br/>\nMade a new project and tried to use in <code>onCreate()</code> method but still same.<br/><br/>\n<strong>EDIT:</strong> <br/>Adding gradles:<br/>\n<strong>build.gradle(Module:app)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion \"29.0.0\"\n    defaultConfig {\n        applicationId \"com.example.daggerpractise\"\n        minSdkVersion 22\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n    //Dagger 2\n    implementation 'com.google.dagger:dagger:2.15'\n    kapt 'com.google.dagger:dagger-compiler:2.15'\n    // For android\n    implementation 'com.google.dagger:dagger-android:2.15'\n    implementation 'com.google.dagger:dagger-android-support:2.15'\n    // if you use the support libraries\n    kapt 'com.google.dagger:dagger-android-processor:2.15'\n\n     // AndroidX support design (for nav drawer)\n    // def material_version = \"1.0.0-rc02\"\n    def material_version = \"1.0.0\"\n    implementation \"com.google.android.material:material:$material_version\"\n\n    implementation 'com.github.bumptech.glide:glide:4.10.0'\n    kapt 'com.github.bumptech.glide:compiler:4.10.0'\n\n    //MVVM and livedata\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.1.0'\n\n    // Retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.6.1'\n    implementation 'com.squareup.retrofit2:converter-gson:2.6.1'\n\n    // RxJava\n    def rxjava_version = '2.1.1'\n    implementation \"io.reactivex.rxjava2:rxjava:$rxjava_version\"\n    // Rx-Retrofit Call Adapter\n    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.5.0'\n    // Retrofit call adapter\n\n    // Kotlin Android Coroutines\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.2'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.2'\n\n}\n</code></pre>\n\n<p><strong>build.gradle(Project: DaggerPractise)</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.61'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.5.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["function", "kotlin", "callback", "listener", "response"], "answers": [{"comments": [{"owner": {"reputation": 436, "user_id": 10005183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d9694d9419f3d80ec61d0ec2fa6661?s=128&d=identicon&r=PG&f=1", "display_name": "M&#39;aiq the Coder", "link": "https://stackoverflow.com/users/10005183/maiq-the-coder"}, "edited": false, "score": 0, "creation_date": 1576067105, "post_id": 59285141, "comment_id": 104776800, "body": "Yes, this is precisely what I want. Thank you!"}], "tags": [], "owner": {"reputation": 1481, "user_id": 119151, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/82be9b20db8604d271dcb156b0c25485?s=128&d=identicon&r=PG", "display_name": "dstibbe", "link": "https://stackoverflow.com/users/119151/dstibbe"}, "is_accepted": true, "score": 1, "last_activity_date": 1576064889, "creation_date": 1576064889, "answer_id": 59285141, "question_id": 59284220, "link": "https://stackoverflow.com/questions/59284220/kotlin-how-to-write-a-function-that-returns-a-custom-response-for-a-task/59285141#59285141", "title": "Kotlin: How to write a function that returns a custom response for a task?", "body": "<p>So ... you want something like this?  </p>\n\n<pre><code>sealed class CustomObjectResponse\ndata class SuccessResponse(val x:X):CustomObjectResponse\ndata class FailResponse(val y:Y):CustomObjectResponse\n\n\nfun myFunction(): CustomObjectResponse {\n    try{\n       /* Heavy work */\n       return SuccessResponse(something)\n    }\n    catch(e: Exception){\n       return FailResponse(some_other_thing)\n    } \n}\n\n</code></pre>\n\n<p>and the MainActivity</p>\n\n<pre><code>fun handleResponse ( response: CustomObjectResponse ){\n   when(response){\n     is SuccessResponse -&gt;  { \n       println( response.x) \n       //and do stuff \n     }\n     is FailureResponse -&gt;  { \n       println( response.y) \n       //and do other stuff \n     }\n   }\n}\n</code></pre>\n\n<p>??</p>\n"}], "owner": {"reputation": 436, "user_id": 10005183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d9694d9419f3d80ec61d0ec2fa6661?s=128&d=identicon&r=PG&f=1", "display_name": "M&#39;aiq the Coder", "link": "https://stackoverflow.com/users/10005183/maiq-the-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 59285141, "answer_count": 1, "score": 0, "last_activity_date": 1576064889, "creation_date": 1576061671, "question_id": 59284220, "link": "https://stackoverflow.com/questions/59284220/kotlin-how-to-write-a-function-that-returns-a-custom-response-for-a-task", "title": "Kotlin: How to write a function that returns a custom response for a task?", "body": "<p>I am kind of new on Kotlin interfaces and abstract classes and similar stuff. I want to find a smart way to create a function in a DifferentActivity that returns an object with custom responses back in the MainActivity, like the following:</p>\n\n<pre><code>fun myFunction(): CustomObjectResponse {\n    try{\n       /* Heavy work */\n       return CustomObjectResponse.onFirstTypeSuccess(something)\n    }\n    catch(e: Exception){\n       return CustomObjectResponse.onFail(some_other_thing)\n    } \n}\n</code></pre>\n\n<p>So in case of success, it returns one kind of response with a parameter, in case of failure, it returns a different response with a different parameter.</p>\n\n<p>And then, in my MainActivity I want to implement the two different responses in something like:</p>\n\n<pre><code>DifferentActivity.myFunction().onResponse( object: CustomObjectResponse(){\n   override fun onFirstTypeSuccess(something: Any) {\n        // do stuff\n   }\n   override fun onFail(some_other_thing: Any) {\n        // do other stuff\n   }\n}\n</code></pre>\n\n<p>Can something like this be done without extending / implementing anything on the MainActivity/DifferentActivity classes themselves, only limited at function level? </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-multiplatform", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7690165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31cbda6461cc066b4a03f6145e5b43d?s=128&d=identicon&r=PG&f=1", "display_name": "badvok", "link": "https://stackoverflow.com/users/7690165/badvok"}, "edited": false, "score": 0, "creation_date": 1576575448, "post_id": 59285067, "comment_id": 104935353, "body": "I tried using the script but i start getting a load of other errors. I have three  build.gradle files, the usual app and project one and a kotlin (not groovy) one which i presume is to get the mmp working. It looks like the script posted is doing some of the build.gradle(app) work.   I tried replacing JVM(&quot;android&quot;) with android() but i get a build error   Extension with name &#39;android&#39; does not exist"}], "tags": [], "owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "is_accepted": false, "score": 2, "last_activity_date": 1576064625, "creation_date": 1576064625, "answer_id": 59285067, "question_id": 59283752, "link": "https://stackoverflow.com/questions/59283752/kotlin-native-trouble-importing-android-logs-into-android-shared-code-module/59285067#59285067", "title": "Kotlin / Native trouble importing android logs into android shared code module", "body": "<p>Here you got JVM target with the name \"android\" instead of actually Android target. The same problem occurred in the linked question. Can you tell, what's going on when you use the script from the answer? It seems like that one should work correctly.<br>\nAs described in the <a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html#android-support\" rel=\"nofollow noreferrer\">documentation</a>, one has to use an Android-specific Gradle plugin to make the Android target available. If you want to see how it can be done, consider having a look at <a href=\"https://github.com/wild-lynx/sample-mpp-app\" rel=\"nofollow noreferrer\">this sample</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 7690165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31cbda6461cc066b4a03f6145e5b43d?s=128&d=identicon&r=PG&f=1", "display_name": "badvok", "link": "https://stackoverflow.com/users/7690165/badvok"}, "edited": false, "score": 0, "creation_date": 1576575188, "post_id": 59355686, "comment_id": 104935202, "body": "I tried that but i get a build error : Extension with name &#39;android&#39; does not exist."}, {"owner": {"reputation": 1695, "user_id": 4487858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/08fvj.jpg?s=128&g=1", "display_name": "Robert Nagy", "link": "https://stackoverflow.com/users/4487858/robert-nagy"}, "reply_to_user": {"reputation": 31, "user_id": 7690165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31cbda6461cc066b4a03f6145e5b43d?s=128&d=identicon&r=PG&f=1", "display_name": "badvok", "link": "https://stackoverflow.com/users/7690165/badvok"}, "edited": false, "score": 0, "creation_date": 1576580489, "post_id": 59355686, "comment_id": 104938267, "body": "Try adding the android plugin with <code>plugins{ id(&quot;com.android.library&quot;) }</code>"}], "tags": [], "owner": {"reputation": 1695, "user_id": 4487858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/08fvj.jpg?s=128&g=1", "display_name": "Robert Nagy", "link": "https://stackoverflow.com/users/4487858/robert-nagy"}, "is_accepted": false, "score": 1, "last_activity_date": 1576495520, "creation_date": 1576495520, "answer_id": 59355686, "question_id": 59283752, "link": "https://stackoverflow.com/questions/59283752/kotlin-native-trouble-importing-android-logs-into-android-shared-code-module/59355686#59355686", "title": "Kotlin / Native trouble importing android logs into android shared code module", "body": "<p>I had the same problem. Try using <code>android()</code> instead of only the <code>jvm(\"android\")</code>.</p>\n\n<p>Also I've added my dependencies to android with <code>android.sourceSets.foreach{ _ -&gt; \n    dependencies{ ... }\n}</code></p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 2141756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5B1Za.png?s=128&g=1", "display_name": "Roman Vasilyev", "link": "https://stackoverflow.com/users/2141756/roman-vasilyev"}, "is_accepted": false, "score": 1, "last_activity_date": 1585469393, "last_edit_date": 1585469393, "creation_date": 1585466703, "answer_id": 60911269, "question_id": 59283752, "link": "https://stackoverflow.com/questions/59283752/kotlin-native-trouble-importing-android-logs-into-android-shared-code-module/60911269#60911269", "title": "Kotlin / Native trouble importing android logs into android shared code module", "body": "<p>Just fixed same issue, finally used this tutorial <a href=\"https://medium.com/icerock/how-to-start-use-kotlin-multiplatform-for-mobile-development-1d3022742178\" rel=\"nofollow noreferrer\">https://medium.com/icerock/how-to-start-use-kotlin-multiplatform-for-mobile-development-1d3022742178</a>\nso my <code>build.gradle</code> looks like:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'org.jetbrains.kotlin.multiplatform'\n\nandroid {\n    compileSdkVersion 29\n    defaultConfig {\n        minSdkVersion 14\n        targetSdkVersion 29\n    }\n}\n\nkotlin {\n    targets {\n        android()\n        iosArm64()\n        iosX64()\n    }\n\nsourceSets {\n    commonMain {\n        dependencies {\n            implementation \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version\"\n        }\n    }\n    androidMain {\n        dependencies {\n            implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n        }\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7690165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31cbda6461cc066b4a03f6145e5b43d?s=128&d=identicon&r=PG&f=1", "display_name": "badvok", "link": "https://stackoverflow.com/users/7690165/badvok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1585469393, "creation_date": 1576060384, "last_edit_date": 1576071000, "question_id": 59283752, "link": "https://stackoverflow.com/questions/59283752/kotlin-native-trouble-importing-android-logs-into-android-shared-code-module", "title": "Kotlin / Native trouble importing android logs into android shared code module", "body": "<p>I am trying to use Android logs in my shared code so wanted to make use of the 'expected/actual' functionality in order to make the android side use logs to be read in log cat. However I cannot get the android module(not app module) to import the android.util.Log.</p>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/57665897/kotlin-multiplatform-android-imports-wont-resolve\">this</a> answer but it did not work for me. I cannot get the import to resolve. </p>\n\n<p>I think I need to implement a specific dependency in order to have access to the import but I'm not sure what that is. </p>\n\n<p>Here is my build.gradle.kts</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget\n\nplugins {\n    kotlin(\"multiplatform\")\n}\n\n\nkotlin {\n    //select iOS target platform depending on the Xcode environment variables\n    val iOSTarget: (String, KotlinNativeTarget.() -&gt; Unit) -&gt; KotlinNativeTarget =\n        if (System.getenv(\"SDK_NAME\")?.startsWith(\"iphoneos\") == true)\n            ::iosArm64\n        else\n            ::iosX64\n\n    iOSTarget(\"ios\") {\n        binaries {\n            framework {\n                baseName = \"SharedCode\"\n            }\n        }\n    }\n\n\n\njvm(\"android\")\n\nsourceSets[\"commonMain\"].dependencies {\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-common\")\n    implementation(\"io.ktor:ktor-client:1.0.0-beta-3\")\n\n    implementation (\"org.jetbrains.kotlinx:kotlinx-coroutines-core-common:1.3.2\")\n //   implementation (\"org.jetbrains.kotlinx:kotlinx-serialization-runtime-common:0.14.0\")\n}\n\nsourceSets[\"androidMain\"].dependencies {\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib\") //Allows _androidMain to have java imports\n    implementation(\"io.ktor:ktor-client-android:1.0.0-beta-3\")\n    api(\"org.jetbrains.kotlin:kotlin-stdlib:1.3.61\")\n    api(\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.61\")\n    implementation(\"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.61\")\n    }\n}\n\nval packForXcode by tasks.creating(Sync::class) {\n    val targetDir = File(buildDir, \"xcode-frameworks\")\n\n    /// selecting the right configuration for the iOS\n    /// framework depending on the environment\n    /// variables set by Xcode build\n    val mode = System.getenv(\"CONFIGURATION\") ?: \"DEBUG\"\n    val framework = kotlin.targets\n        .getByName&lt;KotlinNativeTarget&gt;(\"ios\")\n        .binaries.getFramework(mode)\n    inputs.property(\"mode\", mode)\n    dependsOn(framework.linkTask)\n\n    from({ framework.outputDirectory })\n    into(targetDir)\n\n    /// generate a helpful ./gradlew wrapper with embedded Java path\n    doLast {\n        val gradlew = File(targetDir, \"gradlew\")\n        gradlew.writeText(\"#!/bin/bash\\n\"\n            + \"export 'JAVA_HOME=${System.getProperty(\"java.home\")}'\\n\"\n            + \"cd '${rootProject.rootDir}'\\n\"\n            + \"./gradlew \\$@\\n\")\n        gradlew.setExecutable(true)\n    }\n}\n\ntasks.getByName(\"build\").dependsOn(packForXcode)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "lambda"], "comments": [{"owner": {"reputation": 2579, "user_id": 3637106, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hYmba.jpg?s=128&g=1", "display_name": "Hampus", "link": "https://stackoverflow.com/users/3637106/hampus"}, "edited": false, "score": 0, "creation_date": 1576078528, "post_id": 59283578, "comment_id": 104783406, "body": "Small tip. If you use IntelliJ IDEA from Jetbrains (that also created Kotlin), you can copy paste Java code into a Kotlin file and it will auto convert for you. Result isn&#39;t always the prettiest but it will be Kotlin."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4699393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cc99a2016c81c56d67c664e0fa3777d?s=128&d=identicon&r=PG&f=1", "display_name": "anil pokhariyal", "link": "https://stackoverflow.com/users/4699393/anil-pokhariyal"}, "edited": false, "score": 0, "creation_date": 1576060308, "post_id": 59283636, "comment_id": 104773233, "body": "Not working this way ,giving error required Utils.Callback , found ()-&gt; Unit"}, {"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "edited": false, "score": 0, "creation_date": 1576061103, "post_id": 59283636, "comment_id": 104773714, "body": "onResult() return void. Unit is the same in kotlin. Are you sure this code work in java?"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1576061300, "post_id": 59283636, "comment_id": 104773841, "body": "<code>findEncodersByTypeAsync(mimeType: String, callback: (List&lt;MediaCodecInfo&gt;) -&gt; Unit) { ... }</code>"}, {"owner": {"reputation": 2549, "user_id": 823321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrwbB.png?s=128&g=1", "display_name": "s\u0250un\u0131\u0254\u05df\u0250q\u0250p", "link": "https://stackoverflow.com/users/823321/s%c9%90un%c4%b1%c9%94%d7%9f%c9%90q%c9%90p"}, "edited": false, "score": 0, "creation_date": 1576062713, "post_id": 59283636, "comment_id": 104774618, "body": "From Review:  Hi, please don&#39;t answer just with source code. Try to provide a nice description about how your solution works. See: <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. Thanks"}], "tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": false, "score": 0, "last_activity_date": 1576059986, "creation_date": 1576059986, "answer_id": 59283636, "question_id": 59283578, "link": "https://stackoverflow.com/questions/59283578/create-lambda-function-in-kotlin/59283636#59283636", "title": "Create Lambda function in kotlin", "body": "<pre><code>Utils.findEncodersByTypeAsync(\"abc\") { useInfos(it) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 239, "user_id": 12228267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jy6Eo.jpg?s=128&g=1", "display_name": "Peter Alwin", "link": "https://stackoverflow.com/users/12228267/peter-alwin"}, "is_accepted": false, "score": 0, "last_activity_date": 1576061735, "creation_date": 1576061735, "answer_id": 59284235, "question_id": 59283578, "link": "https://stackoverflow.com/questions/59283578/create-lambda-function-in-kotlin/59284235#59284235", "title": "Create Lambda function in kotlin", "body": "<p><a href=\"https://medium.com/mindorks/lambda-function-in-kotlin-22ded595298\" rel=\"nofollow noreferrer\">https://medium.com/mindorks/lambda-function-in-kotlin-22ded595298</a></p>\n\n<p>Refer this information you get clear understanding of using lambda function with and without parameters</p>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 9708904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY074.jpg?s=128&g=1", "display_name": "Danial clarc", "link": "https://stackoverflow.com/users/9708904/danial-clarc"}, "is_accepted": true, "score": -1, "last_activity_date": 1576572374, "last_edit_date": 1576572374, "creation_date": 1576065691, "answer_id": 59285391, "question_id": 59283578, "link": "https://stackoverflow.com/questions/59283578/create-lambda-function-in-kotlin/59285391#59285391", "title": "Create Lambda function in kotlin", "body": "<p>you have to change you Utils class function like this </p>\n\n<pre><code>object Utils {\n\n\n    internal interface Callback {\n        fun onResult(infos: Array&lt;MediaCodecInfo?&gt;?)\n    }\n\n\n    internal class EncoderFinder(func : Callback) : AsyncTask&lt;String,Void,Array&lt;MediaCodecInfo?&gt;?&gt;(){\n\n        var func : Callback = func\n\n\n        override fun doInBackground(vararg params: String?): Array&lt;MediaCodecInfo?&gt;? {\n            return findEncodersByType(params[0])\n        }\n\n        override fun onPostExecute(result: Array&lt;MediaCodecInfo?&gt;?) {\n            func.onResult(result)\n        }\n\n    }\n\n   internal fun findEncodersByTypeAsync(mimeType: String?, callback: (Array&lt;MediaCodecInfo?&gt;?) -&gt; Unit){\n    EncoderFinder(callback as Callback).execute(mimeType)\n}\n\n\n}\n</code></pre>\n\n<p>and you can call it in MainActivity Like this :</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n     @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n\n              Utils.findEncodersByTypeAsync(\"abc\", infos -&gt; {\n\n          useInfos(infos);\n      })\n</code></pre>\n\n<p>}</p>\n\n<pre><code>}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4699393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cc99a2016c81c56d67c664e0fa3777d?s=128&d=identicon&r=PG&f=1", "display_name": "anil pokhariyal", "link": "https://stackoverflow.com/users/4699393/anil-pokhariyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 59285391, "answer_count": 3, "score": 1, "last_activity_date": 1576572374, "creation_date": 1576059785, "last_edit_date": 1576070903, "question_id": 59283578, "link": "https://stackoverflow.com/questions/59283578/create-lambda-function-in-kotlin", "title": "Create Lambda function in kotlin", "body": "<p>I am working on converting my java code to kotlin code ,But I am stuck at a point where I am not able to convert my lambda function which I previously written </p>\n\n<pre><code> class Utils {\n\n\n    interface Callback {\n        void onResult(MediaCodecInfo[] infos);\n    }\n\n    static final class EncoderFinder extends AsyncTask&lt;String, Void, MediaCodecInfo[]&gt; {\n        private Callback func;\n\n        EncoderFinder(Callback func) {\n            this.func = func;\n        }\n\n        @Override\n        protected MediaCodecInfo[] doInBackground(String... mimeTypes) {\n            return findEncodersByType(mimeTypes[0]);\n        }\n\n        @Override\n        protected void onPostExecute(MediaCodecInfo[] mediaCodecInfos) {\n            func.onResult(mediaCodecInfos);\n        }\n    }\n\n    static void findEncodersByTypeAsync(String mimeType, Callback callback) {\n        new EncoderFinder(callback).execute(mimeType);\n    }\n\n}\n</code></pre>\n\n<p>This is how I used it in MainActivity in java</p>\n\n<pre><code> public class MainActivity extends Activity {\n\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n          Utils.findEncodersByTypeAsync(\"abc\", infos -&gt; {\n\n              useInfos(infos);\n          });\n     }\n}\n</code></pre>\n\n<p>My Utils class in Kotlin </p>\n\n<pre><code>object Utils {\n\n\n    internal interface Callback {\n        fun onResult(infos: Array&lt;MediaCodecInfo?&gt;?)\n    }\n\n\n    internal class EncoderFinder(func : Callback) : AsyncTask&lt;String,Void,Array&lt;MediaCodecInfo?&gt;?&gt;(){\n\n        var func : Callback = func\n\n\n        override fun doInBackground(vararg params: String?): Array&lt;MediaCodecInfo?&gt;? {\n            return findEncodersByType(params[0])\n        }\n\n        override fun onPostExecute(result: Array&lt;MediaCodecInfo?&gt;?) {\n            func.onResult(result)\n        }\n\n    }\n\n    internal fun findEncodersByTypeAsync(mimeType: String?, callback: Callback){\n        EncoderFinder(callback).execute(mimeType)\n    }\n\n}\n</code></pre>\n\n<p>How can I achieve same in kotlin only in MainActivity, small help will be appreciated. </p>\n"}, {"tags": ["function", "class", "kotlin", "aes-gcm"], "comments": [{"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1576062497, "post_id": 59283514, "comment_id": 104774499, "body": "Please include some code, even not working so far"}, {"owner": {"reputation": 1176, "user_id": 983859, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vPKbq.png?s=128&g=1", "display_name": "Amit Raj", "link": "https://stackoverflow.com/users/983859/amit-raj"}, "reply_to_user": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1576063168, "post_id": 59283514, "comment_id": 104774867, "body": "@NikolaiShevchenko I have added the code. Can you please help me with this?"}, {"owner": {"reputation": 1176, "user_id": 983859, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vPKbq.png?s=128&g=1", "display_name": "Amit Raj", "link": "https://stackoverflow.com/users/983859/amit-raj"}, "reply_to_user": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1576231868, "post_id": 59283514, "comment_id": 104840796, "body": "@NikolaiShevchenko, Thanks for your reply. I have edited the code which is working properly with fixed key and fixed vector. Can you please help me to use random generated key and random generated vector in my code?"}], "answers": [{"tags": [], "owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "is_accepted": true, "score": 4, "last_activity_date": 1576066370, "creation_date": 1576066370, "answer_id": 59285582, "question_id": 59283514, "link": "https://stackoverflow.com/questions/59283514/access-non-class-functions-of-another-file-into-a-class-function-in-kotlin/59285582#59285582", "title": "Access non class functions of another file into a class function in Kotlin", "body": "<p>Since you declare functions from <code>File3.kt</code> as <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a>, you should use them with proper syntax.</p>\n\n<p>So, not </p>\n\n<pre><code>return encodeBase64ToString(cipherText)\n</code></pre>\n\n<p>but</p>\n\n<pre><code>return cipherText.encodeBase64ToString()\n</code></pre>\n"}], "owner": {"reputation": 1176, "user_id": 983859, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vPKbq.png?s=128&g=1", "display_name": "Amit Raj", "link": "https://stackoverflow.com/users/983859/amit-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 59285582, "answer_count": 1, "score": 0, "last_activity_date": 1576241776, "creation_date": 1576059558, "last_edit_date": 1576241776, "question_id": 59283514, "link": "https://stackoverflow.com/questions/59283514/access-non-class-functions-of-another-file-into-a-class-function-in-kotlin", "title": "Access non class functions of another file into a class function in Kotlin", "body": "<p>I have just started working on the Kotlin and my code is performing a normal operation. I need to call a function from a class which is defined in another file and this file does not have class. For example, </p>\n\n<p><strong>File1.kt</strong></p>\n\n<p>The main function is called from this file and defining an object of a class and accessing the class functions here but this class is defined in the <code>File2.kt</code> file.</p>\n\n\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;) {\n    val secretKey: String = \"662ede816988e58fb6d057d9d85605e0\"\n    val initVector = \"de816988e58f\"\n\n    var encryptor: AESEncryptor = AESEncryptor()\n    val encryptedValue: String? =encryptor.encrypt(\"This is the first code for encryption in Kotlin.\", secretKey, initVector)\n    println(encryptedValue)\n\n    val decryptedValue: String? =encryptor.decryptWithAES(secretKey, encryptedValue, initVector)\n    println(decryptedValue)\n}\n</code></pre>\n\n<p><strong>File2.kt</strong></p>\n\n<p>A class is defined in this file and this class needs to access the functions which are defined in the <code>File3.kt</code> file.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.io.UnsupportedEncodingException\nimport java.security.InvalidKeyException\nimport java.security.NoSuchAlgorithmException\nimport javax.crypto.*\nimport javax.crypto.spec.GCMParameterSpec\nimport javax.crypto.spec.SecretKeySpec\n\nclass AESEncryptor {\n\n    fun encrypt(strToEncrypt: String, secret_key: String, iv_key: String): String? {\n\n        var keyBytes: ByteArray\n        var ivKeyBytes: ByteArray\n\n        try {\n            keyBytes = secret_key.toByteArray(charset(\"UTF8\"))\n            ivKeyBytes = iv_key.toByteArray(charset(\"UTF8\"))\n            val skey = SecretKeySpec(keyBytes, \"AES\")\n\n            val iv = GCMParameterSpec(128, ivKeyBytes, 0, 12)\n            val input = strToEncrypt.toByteArray(charset(\"UTF8\"))\n\n            synchronized(Cipher::class.java) {\n                val cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\n                cipher.init(Cipher.ENCRYPT_MODE, skey, iv)\n\n                val cipherText = ByteArray(cipher.getOutputSize(input.size))\n                var ctLength = cipher.update(\n                    input, 0, input.size,\n                    cipherText, 0\n                )\n                ctLength += cipher.doFinal(cipherText, ctLength)\n                return cipherText.encodeBase64ToString()\n            }\n        } catch (uee: UnsupportedEncodingException) {\n            uee.printStackTrace()\n        } catch (ibse: IllegalBlockSizeException) {\n            ibse.printStackTrace()\n        } catch (bpe: BadPaddingException) {\n            bpe.printStackTrace()\n        } catch (ike: InvalidKeyException) {\n            ike.printStackTrace()\n        } catch (nspe: NoSuchPaddingException) {\n            nspe.printStackTrace()\n        } catch (nsae: NoSuchAlgorithmException) {\n            nsae.printStackTrace()\n        } catch (e: ShortBufferException) {\n            e.printStackTrace()\n        }\n\n        return null\n    }\n\n    fun decryptWithAES(key: String, strToDecrypt: String?, iv_key: String): String? {\n        //Security.addProvider(BouncyCastleProvider())\n        var keyBytes: ByteArray\n        var ivKeyBytes: ByteArray\n        var encryptor: AESEncryptor = AESEncryptor()\n        try {\n            keyBytes = key.toByteArray(charset(\"UTF8\"))\n            ivKeyBytes = iv_key.toByteArray(charset(\"UTF8\"))\n            val skey = SecretKeySpec(keyBytes, \"AES\")\n            //val iv = GCMParameterSpec(ivKeyBytes)\n            val iv = GCMParameterSpec(128, ivKeyBytes, 0, 12)\n\n            val input = (strToDecrypt?.trim { it &lt;= ' ' }?.toByteArray(charset(\"UTF8\")))?.decodeBase64()\n\n            synchronized(Cipher::class.java) {\n                val cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\n                cipher.init(Cipher.DECRYPT_MODE, skey, iv)\n\n                val plainText = ByteArray(cipher.getOutputSize(input?.size!!))\n                var ptLength = cipher.update(input, 0, input?.size!!, plainText, 0)\n                ptLength += cipher.doFinal(plainText, ptLength)\n                val decryptedString = String(plainText)\n                return decryptedString.trim { it &lt;= ' ' }\n            }\n        } catch (uee: UnsupportedEncodingException) {\n            uee.printStackTrace()\n        } catch (ibse: IllegalBlockSizeException) {\n            ibse.printStackTrace()\n        } catch (bpe: BadPaddingException) {\n            bpe.printStackTrace()\n        } catch (ike: InvalidKeyException) {\n            ike.printStackTrace()\n        } catch (nspe: NoSuchPaddingException) {\n            nspe.printStackTrace()\n        } catch (nsae: NoSuchAlgorithmException) {\n            nsae.printStackTrace()\n        } catch (e: ShortBufferException) {\n            e.printStackTrace()\n        }\n\n        return null\n    }\n}\n</code></pre>\n\n<p><strong>File3.kt</strong></p>\n\n<p>Only a group of functions are defined in this form.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.io.ByteArrayOutputStream\n\npublic fun String.encodeBase64ToString(): String = String(this.toByteArray().encodeBase64())\nfun String.encodeBase64ToByteArray(): ByteArray = this.toByteArray().encodeBase64()\nfun ByteArray.encodeBase64ToString(): String = String(this.encodeBase64())\n\nfun String.decodeBase64(): String = String(this.toByteArray().decodeBase64())\nfun String.decodeBase64ToByteArray(): ByteArray = this.toByteArray().decodeBase64()\nfun ByteArray.decodeBase64ToString(): String = String(this.decodeBase64())\n\npublic fun ByteArray.encodeBase64(): ByteArray {\n    val table = (CharRange('A', 'Z') + CharRange('a', 'z') + CharRange('0', '9') + '+' + '/').toCharArray()\n    val output = ByteArrayOutputStream()\n    var padding = 0\n    var position = 0\n    while (position &lt; this.size) {\n        var b = this[position].toInt() and 0xFF shl 16 and 0xFFFFFF\n        if (position + 1 &lt; this.size) b = b or (this[position + 1].toInt() and 0xFF shl 8) else padding++\n        if (position + 2 &lt; this.size) b = b or (this[position + 2].toInt() and 0xFF) else padding++\n        for (i in 0 until 4 - padding) {\n            val c = b and 0xFC0000 shr 18\n            output.write(table[c].toInt())\n            b = b shl 6\n        }\n        position += 3\n    }\n    for (i in 0 until padding) {\n        output.write('='.toInt())\n    }\n    return output.toByteArray()\n}\n\nfun ByteArray.decodeBase64(): ByteArray {\n    val table = intArrayOf(-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1,\n        -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1,\n        -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1, -1,\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1)\n\n    val output = ByteArrayOutputStream()\n    var position = 0\n    while (position &lt; this.size) {\n        var b: Int\n        if (table[this[position].toInt()] != -1) {\n            b = table[this[position].toInt()] and 0xFF shl 18\n        } else {\n            position++\n            continue\n        }\n        var count = 0\n        if (position + 1 &lt; this.size &amp;&amp; table[this[position + 1].toInt()] != -1) {\n            b = b or (table[this[position + 1].toInt()] and 0xFF shl 12)\n            count++\n        }\n        if (position + 2 &lt; this.size &amp;&amp; table[this[position + 2].toInt()] != -1) {\n            b = b or (table[this[position + 2].toInt()] and 0xFF shl 6)\n            count++\n        }\n        if (position + 3 &lt; this.size &amp;&amp; table[this[position + 3].toInt()] != -1) {\n            b = b or (table[this[position + 3].toInt()] and 0xFF)\n            count++\n        }\n        while (count &gt; 0) {\n            val c = b and 0xFF0000 shr 16\n            output.write(c.toChar().toInt())\n            b = b shl 8\n            count--\n        }\n        position += 4\n    }\n    return output.toByteArray()\n}\n</code></pre>\n\n<p>I need to use <code>encodeBase64ToString</code> function and other functions in the <code>File2.kt</code> (<code>AESEncryptor.kt</code>). Can I do this or not?</p>\n\n<p>Can anyone help me with this?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "parallax"], "comments": [{"owner": {"reputation": 1637, "user_id": 6724458, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0ee2c0e1f17c0b65022876186a4cb55f?s=128&d=identicon&r=PG&f=1", "display_name": "A.s.ALI", "link": "https://stackoverflow.com/users/6724458/a-s-ali"}, "edited": false, "score": 0, "creation_date": 1576059486, "post_id": 59283392, "comment_id": 104772788, "body": "is the scrolling never stops?"}, {"owner": {"reputation": 5589, "user_id": 1615183, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7567bbb6b4a4a88001bcddefd5d27390?s=128&d=identicon&r=PG", "display_name": "Hola Soy Edu Feliz Navidad", "link": "https://stackoverflow.com/users/1615183/hola-soy-edu-feliz-navidad"}, "reply_to_user": {"reputation": 1637, "user_id": 6724458, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0ee2c0e1f17c0b65022876186a4cb55f?s=128&d=identicon&r=PG&f=1", "display_name": "A.s.ALI", "link": "https://stackoverflow.com/users/6724458/a-s-ali"}, "edited": false, "score": 0, "creation_date": 1576059531, "post_id": 59283392, "comment_id": 104772817, "body": "@A.s.ALI It stops when the image fully disappears. However it leaves a huge gap in the bottom."}, {"owner": {"reputation": 1637, "user_id": 6724458, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0ee2c0e1f17c0b65022876186a4cb55f?s=128&d=identicon&r=PG&f=1", "display_name": "A.s.ALI", "link": "https://stackoverflow.com/users/6724458/a-s-ali"}, "edited": false, "score": 0, "creation_date": 1576059598, "post_id": 59283392, "comment_id": 104772860, "body": "try changing this line app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;"}, {"owner": {"reputation": 5589, "user_id": 1615183, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7567bbb6b4a4a88001bcddefd5d27390?s=128&d=identicon&r=PG", "display_name": "Hola Soy Edu Feliz Navidad", "link": "https://stackoverflow.com/users/1615183/hola-soy-edu-feliz-navidad"}, "reply_to_user": {"reputation": 1637, "user_id": 6724458, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0ee2c0e1f17c0b65022876186a4cb55f?s=128&d=identicon&r=PG&f=1", "display_name": "A.s.ALI", "link": "https://stackoverflow.com/users/6724458/a-s-ali"}, "edited": false, "score": 0, "creation_date": 1576059739, "post_id": 59283392, "comment_id": 104772932, "body": "@A.s.ALI If I remove this attribute, the parallax effect goes away. I mean, I can only scroll the bottom part of the activity, but not the picture. I just want to keep the same effect, but with an early stop."}, {"owner": {"reputation": 1637, "user_id": 6724458, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0ee2c0e1f17c0b65022876186a4cb55f?s=128&d=identicon&r=PG&f=1", "display_name": "A.s.ALI", "link": "https://stackoverflow.com/users/6724458/a-s-ali"}, "edited": false, "score": 0, "creation_date": 1576061604, "post_id": 59283392, "comment_id": 104774025, "body": "I said try changing the combinations not asked you to remove it. :)  here you can see the parallax  affect combination  with different combinations for example app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed|snap&quot;"}, {"owner": {"reputation": 5589, "user_id": 1615183, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7567bbb6b4a4a88001bcddefd5d27390?s=128&d=identicon&r=PG", "display_name": "Hola Soy Edu Feliz Navidad", "link": "https://stackoverflow.com/users/1615183/hola-soy-edu-feliz-navidad"}, "reply_to_user": {"reputation": 1637, "user_id": 6724458, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0ee2c0e1f17c0b65022876186a4cb55f?s=128&d=identicon&r=PG&f=1", "display_name": "A.s.ALI", "link": "https://stackoverflow.com/users/6724458/a-s-ali"}, "edited": false, "score": 0, "creation_date": 1576061868, "post_id": 59283392, "comment_id": 104774152, "body": "@A.s.ALI I tried with <code>snap</code> and <code>snapMargin</code>, none of them worked. Which combination do you suggest?"}, {"owner": {"reputation": 1637, "user_id": 6724458, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0ee2c0e1f17c0b65022876186a4cb55f?s=128&d=identicon&r=PG&f=1", "display_name": "A.s.ALI", "link": "https://stackoverflow.com/users/6724458/a-s-ali"}, "edited": false, "score": 0, "creation_date": 1576223910, "post_id": 59283392, "comment_id": 104837228, "body": "currently I am working on iOS project, can you give me something to workwith, I am androdi project so that I can go through code directly"}], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 3489351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cfd8f32c6c0a17953f90fb1d9bfd2ed?s=128&d=identicon&r=PG&f=1", "display_name": "androidStud", "link": "https://stackoverflow.com/users/3489351/androidstud"}, "is_accepted": false, "score": 0, "last_activity_date": 1576718404, "creation_date": 1576718404, "answer_id": 59402143, "question_id": 59283392, "link": "https://stackoverflow.com/questions/59283392/stop-scrolling-when-there-is-no-content-left/59402143#59402143", "title": "Stop scrolling when there is no content left/", "body": "<p>Couldn't replicate your issue. As far as i can see you TextView with huge data is in nestedscrollview. This nothing had to do with bottom margin. scrolling stops just when the content finishes. I tried this.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:layout_marginTop=\"50dp\"\nandroid:fitsSystemWindows=\"true\"&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=\"@+id/app_bar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n        android:id=\"@+id/toolbar_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n        app:titleEnabled=\"false\"&gt;\n\n        &lt;ImageView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/ic_launcher_background\" /&gt;\n    &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;androidx.core.widget.NestedScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:layout_behavior=\"com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior\"&gt;\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Name\" /&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"City\" /&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Birthday\" /&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce interdum nibh elit, ut iaculis dolor malesuada sit amet. Vestibulum sed erat id orci consectetur tempus. Praesent semper, elit vel ullamcorper fringilla, nisi elit vulputate sapien, a efficitur dolor tortor eu nulla. Sed ac tellus quis risus rutrum euismod. Aliquam ex ligula, pharetra et odio non, lobortis maximus libero. Sed ut dui ante. Quisque ac libero diam. Vivamus mattis vitae leo vel placerat. Quisque risus nulla, eleifend in sem a, placerat laoreet lorem. Donec fringilla egestas pharetra. Quisque non ante orci. Aliquam tincidunt aliquet ornare. Sed sed maximus orci. Maecenas vel feugiat quam.\\nDonec ornare metus ut consequat dictum. Duis quis fringilla urna. Donec urna nibh, auctor id scelerisque varius, porttitor vitae felis. Proin ex arcu, pharetra ac nunc sit amet, laoreet ullamcorper lectus. Ut ac nibh lacus. Fusce augue est, finibus ut leo eget, mollis ultricies leo. Etiam eget dignissim enim. Aenean at eros molestie, viverra ligula vel, condimentum turpis. Fusce hendrerit sed eros id pulvinar. Morbi fermentum tempor mauris. Duis scelerisque sem a odio pulvinar, eu lacinia eros ullamcorper. Vivamus in sodales eros.\" /&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce interdum nibh elit, ut iaculis dolor malesuada sit amet. Vestibulum sed erat id orci consectetur tempus. Praesent semper, elit vel ullamcorper fringilla, nisi elit vulputate sapien, a efficitur dolor tortor eu nulla. Sed ac tellus quis risus rutrum euismod. Aliquam ex ligula, pharetra et odio non, lobortis maximus libero. Sed ut dui ante. Quisque ac libero diam. Vivamus mattis vitae leo vel placerat. Quisque risus nulla, eleifend in sem a, placerat laoreet lorem. Donec fringilla egestas pharetra. Quisque non ante orci. Aliquam tincidunt aliquet ornare. Sed sed maximus orci. Maecenas vel feugiat quam.\\nDonec ornare metus ut consequat dictum. Duis quis fringilla urna. Donec urna nibh, auctor id scele\" /&gt;\n\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n&lt;/androidx.core.widget.NestedScrollView&gt;\n\n &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 5589, "user_id": 1615183, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7567bbb6b4a4a88001bcddefd5d27390?s=128&d=identicon&r=PG", "display_name": "Hola Soy Edu Feliz Navidad", "link": "https://stackoverflow.com/users/1615183/hola-soy-edu-feliz-navidad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576718404, "creation_date": 1576059198, "question_id": 59283392, "link": "https://stackoverflow.com/questions/59283392/stop-scrolling-when-there-is-no-content-left", "title": "Stop scrolling when there is no content left/", "body": "<p>Scrolling with <code>CoordinatorLayout</code> is a great feature, however leaving a huge gap is an UX issue.\nI have one activity which shows a user profile (which might be short or very long), and I want stop scrolling when there is no more information left (even if the picture hasn't disappeared).</p>\n\n<p>For a better understanding here you have a picture sample of what I want.</p>\n\n<p><a href=\"https://i.stack.imgur.com/h52PV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h52PV.png\" alt=\"Picture sample\"></a></p>\n\n<p>Here you have the layout sample.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=\"@+id/app_bar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    &gt;\n\n    &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n        android:id=\"@+id/toolbar_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n        app:titleEnabled=\"false\"&gt;\n\n        &lt;ImageView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/a\"/&gt;\n\n    &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n\n&lt;androidx.core.widget.NestedScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:layout_behavior=\"com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior\"&gt;\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Name\"\n            /&gt;\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"City\"\n            /&gt;\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Birthday\"\n            /&gt;\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce interdum nibh elit, ut iaculis dolor malesuada sit amet. Vestibulum sed erat id orci consectetur tempus. Praesent semper, elit vel ullamcorper fringilla, nisi elit vulputate sapien, a efficitur dolor tortor eu nulla. Sed ac tellus quis risus rutrum euismod. Aliquam ex ligula, pharetra et odio non, lobortis maximus libero. Sed ut dui ante. Quisque ac libero diam. Vivamus mattis vitae leo vel placerat. Quisque risus nulla, eleifend in sem a, placerat laoreet lorem. Donec fringilla egestas pharetra. Quisque non ante orci. Aliquam tincidunt aliquet ornare. Sed sed maximus orci. Maecenas vel feugiat quam.\\nDonec ornare metus ut consequat dictum. Duis quis fringilla urna. Donec urna nibh, auctor id scelerisque varius, porttitor vitae felis. Proin ex arcu, pharetra ac nunc sit amet, laoreet ullamcorper lectus. Ut ac nibh lacus. Fusce augue est, finibus ut leo eget, mollis ultricies leo. Etiam eget dignissim enim. Aenean at eros molestie, viverra ligula vel, condimentum turpis. Fusce hendrerit sed eros id pulvinar. Morbi fermentum tempor mauris. Duis scelerisque sem a odio pulvinar, eu lacinia eros ullamcorper. Vivamus in sodales eros.\"\n            /&gt;\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n&lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "micronaut", "micronaut-client"], "answers": [{"comments": [{"owner": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "edited": false, "score": 0, "creation_date": 1576206357, "post_id": 59313282, "comment_id": 104832566, "body": "Thanks! Also worth mentioning is that the part name, which in the above question is named &quot;data&quot;, has to match the name of the argument in the controller method. So it only worked after I changed that to &quot;file&quot;"}, {"owner": {"reputation": 11498, "user_id": 1264846, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/87e2978960ad82ab77fcd409e0dd72d6?s=128&d=identicon&r=PG", "display_name": "James Kleeh", "link": "https://stackoverflow.com/users/1264846/james-kleeh"}, "reply_to_user": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "edited": false, "score": 0, "creation_date": 1576256546, "post_id": 59313282, "comment_id": 104853081, "body": "@user672009 You can use <code>@Part(&quot;file&quot;)</code> if you want to keep the method argument name the same"}], "tags": [], "owner": {"reputation": 11498, "user_id": 1264846, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/87e2978960ad82ab77fcd409e0dd72d6?s=128&d=identicon&r=PG", "display_name": "James Kleeh", "link": "https://stackoverflow.com/users/1264846/james-kleeh"}, "is_accepted": true, "score": 1, "last_activity_date": 1576187883, "creation_date": 1576187883, "answer_id": 59313282, "question_id": 59283256, "link": "https://stackoverflow.com/questions/59283256/client-posting-multipart-form-data/59313282#59313282", "title": "Client posting multipart form data", "body": "<p>The client assumes method arguments are members of the body instead of each one representing the entire body. You can achieve the desired behavior by annotating the body argument in the client with <code>@Body</code></p>\n"}], "owner": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1373, "favorite_count": 0, "accepted_answer_id": 59313282, "answer_count": 1, "score": 0, "last_activity_date": 1576187883, "creation_date": 1576058759, "last_edit_date": 1576161751, "question_id": 59283256, "link": "https://stackoverflow.com/questions/59283256/client-posting-multipart-form-data", "title": "Client posting multipart form data", "body": "<p>I'm trying to create a client which I use to test my controller</p>\n\n<p>The controller</p>\n\n<pre><code>@Secured(SecurityRule.IS_AUTHENTICATED)\n@Controller\nclass InjuryController(private val userService: UserService, private val injuryService: InjuryService) {\n...\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Post(\"/injuries/{id}/images\")\n    fun postImage(id: Long, file: CompletedFileUpload, principal: Principal): HttpResponse&lt;*&gt;? {\n        ...\n        return HttpResponse.ok(imageReference)\n    }\n...\n}\n</code></pre>\n\n<p>The client</p>\n\n<pre><code>@Client(\"/\")\ninterface InjuryClient {\n    @Post(\"/injuries/{id}/images\", produces = [MULTIPART_FORM_DATA])\n    fun postImage(id: Long, body: MultipartBody, @Header authorization: String): ImageReference\n}\n</code></pre>\n\n<p>The test</p>\n\n<pre><code>@Test\nfun `Post an image an injury`() {\n    // Given\n    val description = \"description\"\n    val occurredAt = LocalDateTime.now()\n    val id = createInjury(description, occurredAt).id\n\n    val toWrite = \"test file\"\n    val file = File.createTempFile(\"data\", \".txt\")\n    FileWriter(file).apply {\n        write(toWrite)\n        close()\n    }\n\n    val requestBody = MultipartBody.builder()\n            .addPart(\"data\",\n                    file.name,\n                    MediaType.TEXT_PLAIN_TYPE,\n                    file\n            ).build()\n\n    // When\n    val response = injuryClient.postImage(id, requestBody, authorization)\n\n    // Then\n    assertEquals(\"$id:${file.name}\", response.key)\n}\n</code></pre>\n\n<p>The error</p>\n\n<pre><code>The type java.util.LinkedHashMap is not a supported type for a multipart request body\nio.micronaut.http.multipart.MultipartException: The type java.util.LinkedHashMap is not a supported type for a multipart request body\n    at io.micronaut.http.client.DefaultHttpClient.buildMultipartRequest(DefaultHttpClient.java:2063)\n    at io.micronaut.http.client.DefaultHttpClient.buildNettyRequest(DefaultHttpClient.java:1480)\n    at io.micronaut.http.client.DefaultHttpClient.sendRequestThroughChannel(DefaultHttpClient.java:1599)\n    at io.micronaut.http.client.DefaultHttpClient.lambda$null$27(DefaultHttpClient.java:1035)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:570)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:549)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:490)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:615)\n    at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:604)\n    at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)\n    at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:300)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:335)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:688)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:635)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:552)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:514)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n\n<p>Any clue about how to get rid of that error?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 421, "user_id": 8678319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6163362159fef7961021421c9a6b16d6?s=128&d=identicon&r=PG&f=1", "display_name": "kashyap", "link": "https://stackoverflow.com/users/8678319/kashyap"}, "edited": false, "score": 0, "creation_date": 1576055112, "post_id": 59282093, "comment_id": 104770348, "body": "Post your code!"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 9804732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-661NrKn-HhI/AAAAAAAAAAI/AAAAAAAAAYA/qjAWBFdC9nQ/photo.jpg?sz=128", "display_name": "P. Mohanta", "link": "https://stackoverflow.com/users/9804732/p-mohanta"}, "edited": false, "score": 0, "creation_date": 1576110469, "post_id": 59282355, "comment_id": 104796427, "body": "I am new to android development . I dint know my question is clear or not but you understand my question and gave the code. Thank You."}], "tags": [], "owner": {"reputation": 371, "user_id": 5717488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Wi25.jpg?s=128&g=1", "display_name": "Anton Sarmatin", "link": "https://stackoverflow.com/users/5717488/anton-sarmatin"}, "is_accepted": true, "score": 1, "last_activity_date": 1576055918, "creation_date": 1576055918, "answer_id": 59282355, "question_id": 59282093, "link": "https://stackoverflow.com/questions/59282093/how-to-compare-fragment-name-to-current-month-using-kotlin/59282355#59282355", "title": "How to compare fragment name to current month using kotlin?", "body": "<p>You can post this simple \"when\" to open fragment when you need to open fragment by month</p>\n\n<pre><code>when(Calendar.getInstance().get(Calendar.MONTH)){\n            0 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            1 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            2 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            3 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            4 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            5 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            6 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            7 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            8 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            9 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            10 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n            11 -&gt; {\n                //TODO OPEN FRAGMENT\n            }\n}\n</code></pre>\n\n<p>or you can retrieve month name from array of names and get fragment by classname that includes your month</p>\n"}], "owner": {"reputation": 101, "user_id": 9804732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-661NrKn-HhI/AAAAAAAAAAI/AAAAAAAAAYA/qjAWBFdC9nQ/photo.jpg?sz=128", "display_name": "P. Mohanta", "link": "https://stackoverflow.com/users/9804732/p-mohanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 59282355, "answer_count": 1, "score": -1, "last_activity_date": 1576108715, "creation_date": 1576055010, "last_edit_date": 1576108715, "question_id": 59282093, "link": "https://stackoverflow.com/questions/59282093/how-to-compare-fragment-name-to-current-month-using-kotlin", "title": "How to compare fragment name to current month using kotlin?", "body": "<p>If the current month is January, fragment January opens.\nelse if the current month is February, fragment February opens.\nelse if and so on.</p>\n"}, {"tags": ["android", "file", "kotlin"], "comments": [{"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1576056848, "post_id": 59282058, "comment_id": 104771336, "body": "I dont see a file. And i dont understand where you wanna send it to."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1576057042, "post_id": 59282058, "comment_id": 104771459, "body": "maybe you find an answer to question 3 here <a href=\"https://stackoverflow.com/questions/51919925/compress-bitmap-to-a-specific-byte-size-in-android/51920015#51920015\" title=\"compress bitmap to a specific byte size in android\">stackoverflow.com/questions/51919925/&hellip;</a>"}, {"owner": {"reputation": 717, "user_id": 4188684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb97b9c7751295149f50cd1cb422a25c?s=128&d=identicon&r=PG&f=1", "display_name": "Joachim Haglund", "link": "https://stackoverflow.com/users/4188684/joachim-haglund"}, "edited": false, "score": 1, "creation_date": 1576066075, "post_id": 59282058, "comment_id": 104776318, "body": "you are not updating imgKiloByteLength within the while loop, so the value of imgKiloByteLength will remain the same as it was before the loop started. meaning it is an infinit loop."}], "answers": [{"tags": [], "owner": {"reputation": 3061, "user_id": 10159898, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mqHUyc2x6w/AAAAAAAAAAI/AAAAAAAAD1g/QPOjkkQJ8Qw/photo.jpg?sz=128", "display_name": "Bruno", "link": "https://stackoverflow.com/users/10159898/bruno"}, "is_accepted": false, "score": 1, "last_activity_date": 1576058647, "creation_date": 1576058647, "answer_id": 59283224, "question_id": 59282058, "link": "https://stackoverflow.com/questions/59282058/how-to-compare-bytearray-to-the-file-length-in-kotlin/59283224#59283224", "title": "How to compare bytearray to the file.length() in kotlin?", "body": "<p>This code may help you to compress a bitmap file to a maximum size</p>\n\n<pre><code>object BitmapUtils {\n    const val ONE_KIO = 1024\n    const val ONE_MIO = ONE_KIO * ONE_KIO\n\n    /**\n     * Compress, if needed, an image file to be lower than or equal to 1 Mio\n     *\n     * @param filePath Image file path\n     *\n     * @return Stream containing data of the compressed image. Can be null\n     */\n    fun compressedImageFile(filePath: String): InputStream? {\n        var quality = 100\n        var inputStream: InputStream? = null\n        if (filePath.isNotEmpty()) {\n            var bufferSize = Integer.MAX_VALUE\n            val byteArrayOutputStream = ByteArrayOutputStream()\n            try {\n                val bitmap = BitmapFactory.decodeFile(filePath)\n                do {\n                    if (bitmap != null) {\n                        byteArrayOutputStream.reset()\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, quality, byteArrayOutputStream)\n                        bufferSize = byteArrayOutputStream.size()\n                        logD { \"quality: $quality -&gt; length: $bufferSize\" }\n                        quality -= 10\n                    }\n                } while (bufferSize &gt; ONE_MIO)\n                inputStream = ByteArrayInputStream(byteArrayOutputStream.toByteArray())\n                byteArrayOutputStream.close()\n            } catch (e: Exception) {\n                logE { \"Exception when compressing file image: ${e.message}\" }\n            }\n        }\n        return inputStream\n    }\n}\n</code></pre>\n\n<p>Do not care about <code>logX</code> methods, they are my convenient log methods</p>\n"}], "owner": {"reputation": 327, "user_id": 9328725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aRaQF.jpg?s=128&g=1", "display_name": "PrakashKing", "link": "https://stackoverflow.com/users/9328725/prakashking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1576215073, "creation_date": 1576054862, "last_edit_date": 1576215073, "question_id": 59282058, "link": "https://stackoverflow.com/questions/59282058/how-to-compare-bytearray-to-the-file-length-in-kotlin", "title": "How to compare bytearray to the file.length() in kotlin?", "body": "<ol>\n<li><p>I just need to send file that is only less than 2 mb. I use file and bitmap. Used easyimage library in the project.</p></li>\n<li><p>How to compare the regular <em>imagefile.length()</em> returns in kb when i divide by 1024. But bitmap image returns byte <em>bitmap.bytecount</em></p></li>\n<li><p>how to get values in kb of bitmap file? It loops until its totally compressed to 0 quality.</p></li>\n</ol>\n\n<p>Code:\n    var quality = 90</p>\n\n<pre><code>var imgKiloByteLength = imageFile.length() / 1024\nvar imgMegaByteLength = imgKiloByteLength / 1024  //returns in mb\n\nif (imgKiloByteLength &gt; 2048) {\n   while (imgKiloByteLength &gt; 2048) {  //reducing the quality until it comes under 2mb\n     var compressedBitmap = compressBitmap(bitmap, quality)\n     bitmap = compressedBitmap\n     Log.e(\"result\",bitmap.getByteCount().toString())\n     Glide.with(this@EditProfileActivity).load(bitmap).into(profileImage)\n     Log.e(\"result\", \"image more than 2mb ${imgKiloByteLength}\")\n     quality -= 10\n   }\n} else {\n   Glide.with(this@EditProfileActivity).load(bitmap).into(profileImage)\n   Log.e(\"result\", \"image size ok ${imgKiloByteLength}\")\n}\n</code></pre>\n\n<p>What are things that i can do?\nThanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "repeat", "fast-android-networking"], "comments": [{"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576054651, "post_id": 59281983, "comment_id": 104770089, "body": "repeat is not working even it is a default function in kotlin"}, {"owner": {"reputation": 3403, "user_id": 5815673, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9rbit.jpg?s=128&g=1", "display_name": "Shailesh", "link": "https://stackoverflow.com/users/5815673/shailesh"}, "edited": false, "score": 0, "creation_date": 1576055629, "post_id": 59281983, "comment_id": 104770649, "body": "Have you got any error log?"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 3403, "user_id": 5815673, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9rbit.jpg?s=128&g=1", "display_name": "Shailesh", "link": "https://stackoverflow.com/users/5815673/shailesh"}, "edited": false, "score": 0, "creation_date": 1576055920, "post_id": 59281983, "comment_id": 104770819, "body": "getting error in this repeat so cant log"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1576058401, "post_id": 59281983, "comment_id": 104772186, "body": "I guess you have some error in your ide or kotlin environment"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576058690, "post_id": 59281983, "comment_id": 104772352, "body": "may be like this"}], "owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576074729, "creation_date": 1576054623, "last_edit_date": 1576074729, "question_id": 59281983, "link": "https://stackoverflow.com/questions/59281983/how-to-resolve-repeat-function-in-kotlin-it-is-not-working", "title": "How to resolve repeat function in kotlin it is not working", "body": "<p>here is my code How to use repeat function in kotlin :</p>\n\n<pre><code>    var it = 0\n\n    val uploadImage=AndroidNetworking.upload(Constant.BASE_URL + \"app.php?api=editprofile\")\n    repeat(imagesFiles.size){\n        uploadImage.addMultipartFile(\"image\", imageFileOne)\n        uploadImage.addMultipartFile(\"image${it+1}\", imagesFiles[it])\n\n    }\n    it++\n</code></pre>\n"}, {"tags": ["android", "sqlite", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1576063328, "post_id": 59282200, "comment_id": 104774958, "body": "I update my question. Did I understand right or not?"}, {"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1576065008, "post_id": 59282200, "comment_id": 104775804, "body": "I need to replace my <code>companion object</code> or it is for <code>fun checkUser</code> only? It my first database and I&#39;m sorry if it simply questions."}, {"owner": {"reputation": 1098, "user_id": 9908240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqqQUy6lByw/AAAAAAAAAAI/AAAAAAAAAFs/4IdV2CygnX0/photo.jpg?sz=128", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9908240/viral-patel"}, "reply_to_user": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1576065849, "post_id": 59282200, "comment_id": 104776203, "body": "In your MyDatabase class, CREATE_USER_TABLE or maybe CREATE_TABLE_PARTNER   is a globe variable of this class and fun checkUser is a method of this class"}, {"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1576128538, "post_id": 59282200, "comment_id": 104800114, "body": "I didn&#39;t understand what parameters need to code in sql query. But thank you for idea"}, {"owner": {"reputation": 1098, "user_id": 9908240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqqQUy6lByw/AAAAAAAAAAI/AAAAAAAAAFs/4IdV2CygnX0/photo.jpg?sz=128", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9908240/viral-patel"}, "reply_to_user": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1576129333, "post_id": 59282200, "comment_id": 104800338, "body": "need more help please ask. parameters name which we can tack different it&#39;s ok , but follow syntax."}, {"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1576130588, "post_id": 59282200, "comment_id": 104800708, "body": "I didn&#39;t understand how to add <code>private val CREATE_TABLE_MY</code> is it work for checkUser only as parameters? Or I need to replace my <code>val CREATE_TABLE_PARTNER</code>. I understand that it is global variable but will it work with my code if I add your issue for <code>fun checkUser</code> only?"}], "tags": [], "owner": {"reputation": 1098, "user_id": 9908240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqqQUy6lByw/AAAAAAAAAAI/AAAAAAAAAFs/4IdV2CygnX0/photo.jpg?sz=128", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9908240/viral-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1576066045, "last_edit_date": 1576066045, "creation_date": 1576055422, "answer_id": 59282200, "question_id": 59281736, "link": "https://stackoverflow.com/questions/59281736/how-to-read-login-and-password-from-database-sqlite-in-kotlin/59282200#59282200", "title": "How to read login and password from database SQLite in kotlin?", "body": "<p>In your <strong>MyDatabase.k</strong>t class : </p>\n\n<pre><code>/**\n     * This method to check user exist or not\n     *\n     * @param email\n     * @param password\n     * @return true/false\n     */\n    fun checkUser(email: String, password: String): Boolean {\n\n        // array of columns to fetch\n        val columns = arrayOf(COLUMN_USER_ID)\n\n        val db = this.readableDatabase\n\n        // selection criteria\n        val selection = \"$COLUMN_USER_EMAIL = ? AND $COLUMN_USER_PASSWORD = ?\"\n\n        // selection arguments\n        val selectionArgs = arrayOf(email, password)\n\n        // query user table with conditions\n        /**\n         * Here query function is used to fetch records from user table this function works like we use sql query.\n         * SQL query equivalent to this query function is\n         * SELECT user_id FROM user WHERE user_email = 'viral@exmaple.com' AND user_password = 'qwerty';\n         */\n        val cursor = db.query(TABLE_USER, //Table to query\n                columns, //columns to return\n                selection, //columns for the WHERE clause\n                selectionArgs, //The values for the WHERE clause\n                null,  //group the rows\n                null, //filter by row groups\n                null) //The sort order\n\n        val cursorCount = cursor.count\n        cursor.close()\n        db.close()\n\n        if (cursorCount &gt; 0)\n            return true\n\n        return false\n\n    }\n</code></pre>\n\n<p>Then <strong>MyLogin.kt</strong> class :</p>\n\n<pre><code>   private fun verifyFromSQLite() {\n   // Make changes as per your requirement \n        if (MyDatabase!!.checkUser(textInputEditTextEmail!!.text.toString().trim { it &lt;= ' ' }, textInputEditTextPassword!!.text.toString().trim { it &lt;= ' ' })) {\n\n\n            val accountsIntent = Intent(activity, UserActivity::class.java)\n            emptyInputEditText()\n            startActivity(accountsIntent)\n\n\n        } else {\n\n            // Snack Bar to show success message that record is wrong\n            Snackbar.make(nestedScrollView!!, getString(R.string.error_email_password), Snackbar.LENGTH_LONG).show()\n        }\n    }\n</code></pre>\n\n<p><strong>Edited:</strong> see the create table look like:</p>\n\n<pre><code>// create table sql query\n    private val CREATE_USER_TABLE = (\"CREATE TABLE \" + TABLE_USER + \"(\"\n            + COLUMN_USER_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + COLUMN_USER_NAME + \" TEXT,\"\n            + COLUMN_USER_EMAIL + \" TEXT,\" + COLUMN_USER_PASSWORD + \" TEXT\" + \")\")\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 823, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576066045, "creation_date": 1576053590, "last_edit_date": 1576063247, "question_id": 59281736, "link": "https://stackoverflow.com/questions/59281736/how-to-read-login-and-password-from-database-sqlite-in-kotlin", "title": "How to read login and password from database SQLite in kotlin?", "body": "<p>I'm in kotlin and try to create some app. I created SQLite database for android app. In DB i have \"login\" and \"password\". How I can read it for login? </p>\n\n<p><strong>My Database.kt</strong></p>\n\n<pre><code>fun insertIntoPartner(plogin: String?, ppassword: String?): Boolean {\n        var contentValues = ContentValues()\n        contentValues.put(\"plogin\", plogin)\n        contentValues.put(\"ppassword\", ppassword)\n\n        val rowId = writableDatabase.insert(PARTNER, null, contentValues)\n        return rowId&gt;0\n    }\n</code></pre>\n\n<p><strong>My login code:</strong></p>\n\n<pre><code>bin.setOnClickListener {\n\n                if (login.text.toString() == // here i read database login \n                          &amp;&amp; password.text.toString() == here i read database password) {\n\n                    val i = Intent(this, NavigationMenu::class.java)\n                    startActivity(i)\n\n                } else toast(\"No login or password\")\n</code></pre>\n\n<p>Thank for all suggestions.</p>\n\n<p><strong>UPD 1:</strong></p>\n\n<pre><code>fun checkUser(plogin: String?, ppassword: String?): Boolean {\n\n        val columns = arrayOf(pid)\n        val db = this.readableDatabase\n        val selection = \"$plogin = ? AND $ppassword = ?\"\n        val selectionArgs = arrayOf(plogin, ppassword)\n\n        val cursor = db.query(PARTNER, columns, selection, selectionArgs,\n            null, null, null)\n\n        val cursorCount = cursor.count\n        cursor.close()\n        db.close()\n\n        if (cursorCount &gt; 0) return true\n        else return false\n    }\n</code></pre>\n\n<p>How I understood I must replace \"<strong>USER_ID</strong>\", \"<strong>TABLE_NAME</strong>\" and etc. to my fields. But what if I have for id \"<strong>pid (INTEGER PRIMARY KEY)</strong>\"? When I wrote \"pid\" it's red and tell \"unresolved reference\". What is my mistake?</p>\n\n<p>My <strong>CREATE_TABLE</strong> looks like:</p>\n\n<pre><code>companion object {\n        val PARTNER = \"partner\"\n        val DB_VERSION = 1\n        val CREATE_TABLE_PARTNER = \"CREATE TABLE partner(pid INTEGER PRIMARY KEY, plogin TEXT, ppassword TEXT,\" +\n                \" pname TEXT, psale TEXT, pasale TEXT, pengsale TEXT, prusdescription TEXT, pengdescription TEXT,\" +\n                \" pinn TEXT, pemail TEXT, pphonenumber TEXT, psitecompany TEXT, pstreet TEXT, pcity TEXT,\" +\n                \" pregion TEXT, pcountry TEXT, pindex TEXT)\"\n        val SELECT_PARTNER = \"SELECT * from partner\"\n    }\n</code></pre>\n"}, {"tags": ["android", "image", "validation", "kotlin", "android-networking"], "comments": [{"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576048982, "post_id": 59280649, "comment_id": 104767601, "body": "getting the error in imagesFiles array list because of size"}, {"owner": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1576049250, "post_id": 59280649, "comment_id": 104767703, "body": "Try this. First check size of imagesFiles      if(imagesFiles.size()&gt;0){      if(imagesFiles[0]==null){      &lt; you have select no file&gt;        }     }"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1576049409, "post_id": 59280649, "comment_id": 104767753, "body": "where I need to use this"}, {"owner": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1576049751, "post_id": 59280649, "comment_id": 104767887, "body": "Above this line - .addMultipartFile(&quot;image1&quot;, imagesFiles[0])"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1576049798, "post_id": 59280649, "comment_id": 104767907, "body": "here if condition is not applicable to add"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1576049864, "post_id": 59280649, "comment_id": 104767934, "body": "here if condition is not allowed to add after . dot"}, {"owner": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1576050089, "post_id": 59280649, "comment_id": 104768022, "body": "Put these 6 values (imagesFiles[0]) in 6 strings and above  AndroidNetworking.upload check weather they are null or not if yes pass blank sting else pass whatever it contains"}, {"owner": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1576050186, "post_id": 59280649, "comment_id": 104768063, "body": "String first = imagesFiles[0]; if(first.equalIgnoreCase(&quot;null&quot;)){first =&quot;&quot;} and   here .addMultipartFile(&quot;image1&quot;, first)"}], "answers": [{"comments": [{"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576050279, "post_id": 59280926, "comment_id": 104768099, "body": "what is a repeat  here?"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "reply_to_user": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576050512, "post_id": 59280926, "comment_id": 104768209, "body": "repeat is kotlin function . for more info <a href=\"https://stackoverflow.com/a/50341140/9315408\">stackoverflow.com/a/50341140/9315408</a>"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576050594, "post_id": 59280926, "comment_id": 104768243, "body": "it is asking to create a new function"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576050628, "post_id": 59280926, "comment_id": 104768260, "body": "and what is &quot;it&quot;"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "reply_to_user": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576050901, "post_id": 59280926, "comment_id": 104768361, "body": "it is the index of array"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576051052, "post_id": 59280926, "comment_id": 104768415, "body": "var it = 0          val uploadImage=AndroidNetworking.upload(Constant.BASE_URL + &quot;app.php?api=editprofile&quot;)         repeat(imagesFiles.size){             uploadImage.addMultipartFile(&quot;image${it+1}&quot;, imagesFiles[it])             it++          }"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "reply_to_user": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576051126, "post_id": 59280926, "comment_id": 104768444, "body": "it is by default its not var"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576051360, "post_id": 59280926, "comment_id": 104768570, "body": "var it = 0          val uploadImage=AndroidNetworking.upload(Constant.BASE_URL + &quot;app.php?api=editprofile&quot;)         repeat(imagesFiles.size){             uploadImage.addMultipartFile(&quot;image${it+1}&quot;, imagesFiles[it])          }         it++"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "reply_to_user": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1576055321, "post_id": 59280926, "comment_id": 104770470, "body": "val uploadImage=AndroidNetworking.upload(Constant.BASE_URL + &quot;app.php?api=editprofile&quot;) repeat(imagesFiles.size){index-&gt;     uploadImage.addMultipartFile(&quot;image${index+1}&quot;, imagesFiles[index]) }"}, {"owner": {"reputation": 2549, "user_id": 823321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrwbB.png?s=128&g=1", "display_name": "s\u0250un\u0131\u0254\u05df\u0250q\u0250p", "link": "https://stackoverflow.com/users/823321/s%c9%90un%c4%b1%c9%94%d7%9f%c9%90q%c9%90p"}, "edited": false, "score": 4, "creation_date": 1576062890, "post_id": 59280926, "comment_id": 104774725, "body": "From Review:  Hi, please don&#39;t answer just with source code. Try to provide a nice description about how your solution works. See: <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. Thanks"}], "tags": [], "owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "is_accepted": false, "score": 0, "last_activity_date": 1576050138, "creation_date": 1576050138, "answer_id": 59280926, "question_id": 59280649, "link": "https://stackoverflow.com/questions/59280649/how-to-use-validation-if-i-am-not-selecting-any-images-in-multiple-images/59280926#59280926", "title": "How to use validation if I am not selecting any images in multiple Images", "body": "<pre><code>val uploadImage=AndroidNetworking.upload(Constant.BASE_URL + \"app.php?api=editprofile\") \nrepeat(imagesFiles.size){\n        uploadImage.addMultipartFile(\"image${it+1}\", imagesFiles[it])\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576492777, "creation_date": 1576048930, "last_edit_date": 1576492777, "question_id": 59280649, "link": "https://stackoverflow.com/questions/59280649/how-to-use-validation-if-i-am-not-selecting-any-images-in-multiple-images", "title": "How to use validation if I am not selecting any images in multiple Images", "body": "<p>I need a suggestion if the user does not select any images but I need to pass in parameters of API how to resolve this :</p>\n\n<pre><code>   AndroidNetworking.upload(Constant.BASE_URL + \"app.php?api=editprofile\")\n           .addMultipartFile(\"image\", imageFileOne)\n           .addMultipartFile(\"image1\", imagesFiles[0])\n        .addMultipartFile(\"image2\", imagesFiles[1])\n        .addMultipartFile(\"image3\", imagesFiles[2])\n        .addMultipartFile(\"image4\", imagesFiles[3])\n        .addMultipartFile(\"image5\", imagesFiles[4])\n        .addMultipartFile(\"image6\", imagesFiles[5])\n\n        .addMultipartParameter(\"userid\", usetId)\n        .addMultipartParameter(\"username\", binding.etName.text.toString())\n        .addMultipartParameter(\"bio\", binding.etBio.text.toString())\n        .addMultipartParameter(\"education\", binding.etBio.text.toString())\n        .addMultipartParameter(\"dob\", binding.etDob.text.toString())\n        .addMultipartParameter(\"city\", binding.etHomeTown.text.toString())\n        .addMultipartParameter(\"fb_link\", binding.etFbLink.text.toString())\n       .addMultipartParameter(\"image_size\",sizeArray.toString())\n        .addMultipartFileList(mMultiPartFileMap)\n        .setTag(\"editprofile\")\n        .setPriority(Priority.HIGH)\n        .build()\n        .getAsString(object : StringRequestListener {\n            override fun onResponse(response: String) {\n                Log.d(\"@@image2\", imagesFiles.toString())\n                Log.d(\"@@res\", response)\n                Log.d(\"@@imagesFiles\", imagesFiles[0].toString())\n\n                var gson: Gson = Gson()\n                var updateProfileModel = gson.fromJson(response, UpdateProfile::class.java)\n                if (updateProfileModel.error == false) {\n                    if (updateProfileModel.data != null) {\n                        MoodApplication.sharedPreference.getValueUserLogedIn()!!.data!!.image =\n                            updateProfileModel.data.image\n                    } else {\n                        AppLogger.toast(\"Something went wrong\")\n                    }\n                    AppLogger.toast(updateProfileModel.message)\n\n                } else {\n                    AppLogger.toast(updateProfileModel.message)\n                }\n                binding.progressBar.visibility=View.GONE\n            }\n\n            override fun onError(error: ANError) {\n                binding.progressBar.visibility=View.GONE\n                // handle error\n                AppLogger.toast(error.localizedMessage)\n                Log.e(\" MoodMatc honError\", \"=======\" + error.localizedMessage)\n            }\n        })\n}\n</code></pre>\n\n<p>how to resolve this if the user does not select anyone images or a single image. </p>\n\n<p>here is onactivity result code when select images :</p>\n\n<pre><code> public override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (resultCode == Activity.RESULT_OK) {\n        if (requestCode == SELECT_MAIN_PICTURE) {\n            val selectedImageUri = data!!.data\n            selecteMainImageUri = Uri.parse(selectedImageUri.toString())\n            if (selecteMainImageUri != null) {\n                binding.mainUserImage.setImageURI(selecteMainImageUri)\n                Log.e(\"@@selecteMain\", selecteMainImageUri.toString())\n            }\n        } else if (requestCode == SELECT_PICTURE_1) {\n            val selectedImageUri = data!!.data\n            selecteImageUri_1 = Uri.parse(selectedImageUri.toString())\n            Log.e(\"@@selecteImageUri_1\", selecteImageUri_1.toString())\n\n            if (selecteImageUri_1 != null) {\n                binding.ivOther1.setImageURI(selecteImageUri_1)\n            }\n             else {\n                binding.ivOther1.setImageURI(Uri.parse(\"\"))\n\n            }\n\n\n        } else if (requestCode == SELECT_PICTURE_2) {\n            val selectedImageUri = data!!.data\n            selecteImageUri_2 = Uri.parse(selectedImageUri.toString())\n            if (selecteImageUri_2 != null) {\n                binding.ivOther2.setImageURI(selecteImageUri_2)\n            }\n\n            else {\n                binding.ivOther2.setImageURI(Uri.parse(\"\"))\n\n            }\n            Log.e(\"@@selecteImage2\", selecteImageUri_2.toString())\n\n        } else if (requestCode == SELECT_PICTURE_3) {\n            val selectedImageUri = data!!.data\n            selecteImageUri_3 = Uri.parse(selectedImageUri.toString())\n            if (selecteImageUri_3 != null) {\n                binding.ivOther3.setImageURI(selecteImageUri_3)\n            }\n\n            else {\n                binding.ivOther3.setImageURI(Uri.parse(\"\"))\n\n            }\n\n            Log.e(\"@@selecteImage3\", selecteImageUri_3.toString())\n\n\n        } else if (requestCode == SELECT_PICTURE_4) {\n            val selectedImageUri = data!!.data\n            selecteImageUri_4 = Uri.parse(selectedImageUri.toString())\n            if (selecteImageUri_4 != null) {\n                binding.ivOther4.setImageURI(selecteImageUri_4)\n            }\n\n            else {\n                binding.ivOther4.setImageURI(Uri.parse(\"\"))\n\n            }\n\n            Log.e(\"@@selecteImage4\", selecteImageUri_4.toString())\n\n        } else if (requestCode == SELECT_PICTURE_5) {\n            val selectedImageUri = data!!.data\n            selecteImageUri_5 = Uri.parse(selectedImageUri.toString())\n            if (selecteImageUri_5 != null) {\n                binding.ivOther5.setImageURI(selecteImageUri_5)\n            }\n\n            else {\n                binding.ivOther5.setImageURI(Uri.parse(\"\"))\n\n            }\n\n            Log.e(\"@@selecteImage5\", selecteImageUri_5.toString())\n\n        } else if (requestCode == SELECT_PICTURE_6) {\n            val selectedImageUri = data!!.data\n            selecteImageUri_6 = Uri.parse(selectedImageUri.toString())\n            if (selecteImageUri_6 != null) {\n                binding.ivOther6.setImageURI(selecteImageUri_6)\n            }\n\n            else {\n                binding.ivOther6.setImageURI(Uri.parse(\"\"))\n\n            }\n            Log.e(\"@@selecteImage5\", selecteImageUri_6.toString())\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>I am always getting the error in param pass </p>\n\n<pre><code> .addMultipartFile(\"image1\", imagesFiles[0])\n        .addMultipartFile(\"image2\", imagesFiles[1])\n        .addMultipartFile(\"image3\", imagesFiles[2])\n        .addMultipartFile(\"image4\", imagesFiles[3])\n        .addMultipartFile(\"image5\", imagesFiles[4])\n        .addMultipartFile(\"image6\", imagesFiles[5])\n</code></pre>\n\n<p>How to resolve this Please help me thank you in advance I would appreciate every answer and suggestion </p>\n"}, {"tags": ["android", "kotlin", "nestedrecyclerview", "epoxy", "epoxy-modelview"], "answers": [{"tags": [], "owner": {"reputation": 911, "user_id": 11166067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/444535f9bbe8ba11c596d7bb3f06c2dd?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Leonov", "link": "https://stackoverflow.com/users/11166067/dmitrii-leonov"}, "is_accepted": false, "score": 0, "last_activity_date": 1577256503, "creation_date": 1577256503, "answer_id": 59475908, "question_id": 59280566, "link": "https://stackoverflow.com/questions/59280566/why-epoxy-recyclerview-not-generate-custom-model-class-in-kotlin/59475908#59475908", "title": "Why Epoxy recyclerview not generate custom model class in kotlin", "body": "<p>Try leaving constructor empty and putting <code>Food</code> object as optional field</p>\n\n<pre><code>@EpoxyModelClass(layout = R.layout.singlefood_layout)\n    abstract class HotelItemModel() : EpoxyModelWithHolder&lt;HotelItemModel.FoodHolder&gt;() {\n\n    @JvmField\n    @EpoxyAttribute \n    var food: Food? = null\n  // ...\n  }\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 6667045, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/663446e87e659c7a6df3fbb7d28e770f?s=128&d=identicon&r=PG&f=1", "display_name": "sri", "link": "https://stackoverflow.com/users/6667045/sri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577272536, "creation_date": 1576048587, "last_edit_date": 1577272536, "question_id": 59280566, "link": "https://stackoverflow.com/questions/59280566/why-epoxy-recyclerview-not-generate-custom-model-class-in-kotlin", "title": "Why Epoxy recyclerview not generate custom model class in kotlin", "body": "<p>I want to create a custom epoxy model class in <code>epoxy.HotelItemModel_()</code> class is not generated in <code>Epoxy Controller</code></p>\n\n<pre><code>@EpoxyModelClass(layout = R.layout.singlefood_layout)\nabstract class HotelItemModel (@EpoxyAttribute var food: Food) : EpoxyModelWithHolder&lt;HotelItemModel.FoodHolder&gt;() {\n\n    override fun bind(holder: FoodHolder) {\n        holder.imageView.setImageResource(food.image)\n        holder.titleView.text = food.title\n    }\n\n    inner class FoodHolder : KotlinHolder() {\n        val imageView by bind&lt;ImageView&gt;(R.id.image)\n        val titleView by bind&lt;TextView&gt;(R.id.title)\n        val descView by bind&lt;TextView&gt;(R.id.desc)\n    }\n}  \n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 11, "user_id": 12515871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U9zLr.jpg?s=128&g=1", "display_name": "TryingHard", "link": "https://stackoverflow.com/users/12515871/tryinghard"}, "edited": false, "score": 0, "creation_date": 1576046821, "post_id": 59279741, "comment_id": 104766861, "body": "PS- I am able to read all files from my bucket and place them in a ListView without problem- the oddball authentication error in the code above seems out of place, since I use the same storage and auth objects in the program."}], "owner": {"reputation": 11, "user_id": 12515871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U9zLr.jpg?s=128&g=1", "display_name": "TryingHard", "link": "https://stackoverflow.com/users/12515871/tryinghard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576046680, "creation_date": 1576044335, "last_edit_date": 1576046680, "question_id": 59279741, "link": "https://stackoverflow.com/questions/59279741/downloading-a-firebase-xls-file-to-kotlin-based-android-app", "title": "Downloading a Firebase XLS File to Kotlin-based Android App", "body": "<p>first time post - long time reader (be nice ;-). Let me assure you I've spent lots of time on stackoverflow finding an answer that addresses my question from \"front to back\". No luck as of yet. Many googling attempts, blog attempts. Still no luck.</p>\n\n<p>My problem seems so simple; to begin, I've created a Google Firebase bucket that holds a collection of Microsoft Excel files (this is a work requirement). </p>\n\n<p>I have created an Android app (Android Studio) in Kotlin which can read these Excel files and dynamically build a GUI for a survey app used by audiologists. Locally (by loading from Assets) it works great!</p>\n\n<p>But now I am trying (desperately) to download the same XLS files in my work's Firebase bucket and store them locally (forever) on my Android emulator / external device. I don't want to read bytes, I don't want a temp file.  I want a complete local copy of the Excel file on GCP on my phone's Document area. I've tried a ton of things (hacking, blogs, etc). My current code seems like it should work (but given my admittedly limited knowledge of Firebase - no luck).</p>\n\n<p>For this post, assume a simple <code>&lt;Button&gt;</code> widget in a <code>&lt;LinearLayout&gt;</code>.  When clicked, I just want to connect to my (ready to go) Firebase bucket and download the <em>entire file forever</em> on my phone's local storage (not an SD card - but in a subfolder of my Documents storage area; e.g. Files/Documents/Surveys/Survey1.xls). The audiologists need to see the downloaded file from the phone real time to use in research studies.</p>\n\n<p><strong>The Code Thus Far</strong></p>\n\n<p>Assume a simple empty activity with a <code>&lt;Button&gt;</code>. My <code>&lt;MainActivity&gt;</code> has members to capture <code>FirebaseStorage</code> and <code>FirebaseAuth</code>:</p>\n\n<pre><code>private lateinit var storage: FirebaseStorage\nprivate lateinit var auth: FirebaseAuth\n</code></pre>\n\n<p>In my </p>\n\n<pre><code>onCreate()\n</code></pre>\n\n<p>I initialize things as so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xvpiy.png\" rel=\"nofollow noreferrer\">Set up creds and storage</a></p>\n\n<p>Now, assume I have a \"button click\" event in my main activity that wants to nab the external file as so:</p>\n\n<pre><code>fun btnDownloadBucket_Click(view: View)\n    {\n        // https://firebase.google.com/docs/storage/android/download-files\n        val storageRef = storage.reference.child(\"Surveys/SurveyOne.txt\")\n        val rootPath = File(Environment.DIRECTORY_DOCUMENTS, \"Surveys\")\n\n        if (!rootPath.exists())\n        {\n            rootPath.mkdirs()\n        }\n\n        val localFile = File(rootPath, \"SurveyFour.txt\")\n        storageRef.getFile(localFile).addOnSuccessListener{\n                Toast.makeText(this, \"Download Completed\", Toast.LENGTH_SHORT).show()\n                Toast.makeText(this, \"Internal storage/Surveys/SurveyFour.txt\", Toast.LENGTH_LONG).show()\n\n        }.addOnFailureListener{\n                Toast.makeText(this, it.message, Toast.LENGTH_LONG).show()\n            }\n\n    }\n</code></pre>\n\n<p>I fail. The above code is iteration x of N. I've tried so many changes. I always land in the fail toast with the following message:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ObusZ.png\" rel=\"nofollow noreferrer\">Fail!!</a></p>\n\n<p>Can any of you in the stackoverflow community please help me answer what I think is an straightforward question:</p>\n\n<ul>\n<li>How can I build an Android Studio (Kotlin or Java) app which just downloads an MS Excel file (<em>not</em> an image file which is all of what the examples show) to a subfolder of my Android's Files area?  </li>\n</ul>\n\n<p>If I can just to this, I can build my dynamic UI and all is good.</p>\n\n<p>Thanks in advance, and please guide a n00b on better ways to interact with StackOverflow (but again- let's all be nice).</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["android", "kotlin", "keypress", "barcode-scanner", "keycode"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 11271967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZssB.jpg?s=128&g=1", "display_name": "Captain Allergy", "link": "https://stackoverflow.com/users/11271967/captain-allergy"}, "is_accepted": false, "score": 0, "last_activity_date": 1576057153, "creation_date": 1576057153, "answer_id": 59282749, "question_id": 59279104, "link": "https://stackoverflow.com/questions/59279104/how-to-call-back-the-cursor-to-line1-and-position-0-in-edittext/59282749#59282749", "title": "How to call back the cursor to Line1 and position 0 in EditText?", "body": "<p>So regarding the solution to this <a href=\"https://stackoverflow.com/questions/8035107/how-to-set-cursor-position-in-edittext\">question</a> I assume the solution to your problem should be quite easy:</p>\n\n<pre><code>edt_id.setSelection(position)\n</code></pre>\n\n<p>whereposition is your desired cursor position.</p>\n\n<p>What exactely is your keycode?</p>\n"}], "owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576057153, "creation_date": 1576040177, "question_id": 59279104, "link": "https://stackoverflow.com/questions/59279104/how-to-call-back-the-cursor-to-line1-and-position-0-in-edittext", "title": "How to call back the cursor to Line1 and position 0 in EditText?", "body": "<p>I am writing barcode scanner app for PDA device. In this device there is only LF terminator. So When I scan the barcode, the cursor jumped to another line.Even thought I set <code>edittext.requestFocus()</code> the cursor will not come back to the start of the edit text. I would like to call back the cursor to the first line and position\"0\". How can I do that? And another thing is , Can I get the pressed trigger keycode? Here is the code -</p>\n\n<pre><code>ID.setOnKeyListener(View.OnKeyListener { _, keyCode, event -&gt;\n\n        if (event.keyCode == KeyEvent.KEYCODE_ENTER &amp;&amp; event.action == KeyEvent.ACTION_DOWN   ) {\n\n            if (edt_location.text.toString() == \"\" || edt_qty.text.toString() == \"\") {\n                Toast.makeText(this, \"Make Sure To Enter Location And Qty\", Toast.LENGTH_SHORT)\n                    .show()\n                edt_id.setText(\"\")\n\n            } else{\n                try {\n                    val item=Item(\n                        edt_id.text.toString(),\n                        Integer.parseInt(edt_qty.text.toString()),\n                        edt_location.text.toString()\n                    )\n                    qt=edt_qty.text.toString().toInt()\n                    record_code=edt_id.text.toString()\n                    record_location=edt_location.text.toString()\n                    db.addItem(item)\n                    db.viewData()\n\n\n                    txt_article.setText(code.toString())\n                    txt_price.setText(price.toString())\n                    txt_description.setText(desc.toString())\n                    txt_isbn.setText(record_code.toString())\n                    txt_tran_qty.setText(qty.toString())\n\n                    record_id=edt_id.text.toString()\n                    edt_id.setText(\"\")\n                    edt_id.requestFocus()\n\n                } catch (nfe: NumberFormatException) {\n                    nfe.printStackTrace()\n                }\n\n            }\n        }\n\n        false\n\n    })\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-widget"], "answers": [{"tags": [], "owner": {"reputation": 102, "user_id": 7369226, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V0Cx7r4sVIE/AAAAAAAAAAI/AAAAAAAAI9Y/vb5JRd4tfyw/photo.jpg?sz=128", "display_name": "anu saini", "link": "https://stackoverflow.com/users/7369226/anu-saini"}, "is_accepted": true, "score": 0, "last_activity_date": 1576041269, "creation_date": 1576041269, "answer_id": 59279261, "question_id": 59279082, "link": "https://stackoverflow.com/questions/59279082/textclock-is-not-working-in-the-same-format-after-changing-locale-in-kotlin/59279261#59279261", "title": "TextClock is not working in the same format after changing Locale in Kotlin", "body": "<p>i have tested on my samsung galaxy tab s2 and it is working fine on that..there must be issue with the specific device settings , just try changing language from settings and then check the time zone format may be</p>\n"}], "owner": {"reputation": 185, "user_id": 6345799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdM9aJGiLvQ/AAAAAAAAAAI/AAAAAAAAAB8/jY7NeHH3_BQ/photo.jpg?sz=128", "display_name": "Kartika Vij", "link": "https://stackoverflow.com/users/6345799/kartika-vij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 59279261, "answer_count": 1, "score": 1, "last_activity_date": 1576041269, "creation_date": 1576039948, "question_id": 59279082, "link": "https://stackoverflow.com/questions/59279082/textclock-is-not-working-in-the-same-format-after-changing-locale-in-kotlin", "title": "TextClock is not working in the same format after changing Locale in Kotlin", "body": "<p>I am using TextClock in hh:mm:ss a format to show current time. But when I change the locale from English to Spanish(es) TextClock gives time in wrong format i.e hh:mm. This is happening only in Samsung Tab.</p>\n\n<pre><code>&lt;TextClock\n                android:id=\"@+id/clockTimeTv\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:fontFamily=\"@font/regular\"\n                android:text=\"12:58:18 PM\"\n                android:textColor=\"@color/dark_grey\"\n                android:textSize=\"@dimen/_18sdp\"\n                android:textStyle=\"bold\"\n                android:format12Hour=\"hh:mm:ss a\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n</code></pre>\n"}, {"tags": ["android", "sql", "kotlin", "orm", "ormlite"], "comments": [{"owner": {"reputation": 322, "user_id": 8004214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Xijv.jpg?s=128&g=1", "display_name": "Mixno", "link": "https://stackoverflow.com/users/8004214/mixno"}, "edited": false, "score": 0, "creation_date": 1576053063, "post_id": 59279007, "comment_id": 104769339, "body": "Someone said to use room but i think it&#39;s too hard for me now. I want to find a normal orm and make as less mistakes as possible"}], "answers": [{"tags": [], "owner": {"reputation": 10302, "user_id": 902276, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/eLAjw.jpg?s=128&g=1", "display_name": "Daniele Segato", "link": "https://stackoverflow.com/users/902276/daniele-segato"}, "is_accepted": true, "score": 2, "last_activity_date": 1576054233, "creation_date": 1576054233, "answer_id": 59281885, "question_id": 59279007, "link": "https://stackoverflow.com/questions/59279007/any-kotlin-orm-for-sql/59281885#59281885", "title": "Any kotlin ORM for SQL?", "body": "<p>Just use <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"nofollow noreferrer\">Room</a> persistance library.</p>\n\n<p>It's part of Android Jetpack Architecture Components.</p>\n\n<p>It is well designed, versatile, easy to use and stay behind an interface in your code so you do not create a strong dependency.</p>\n\n<p>It is also integrated with RxJava (if you wish to use it with it) and Kotlin Coroutines. Works well with both Kotlin and Java. Have a small integration with Android Studio too, highlighting the SQL you write in your annotations.</p>\n\n<p>Follow the link above, it contains links to example projects, codelabs and more.</p>\n"}], "owner": {"reputation": 322, "user_id": 8004214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Xijv.jpg?s=128&g=1", "display_name": "Mixno", "link": "https://stackoverflow.com/users/8004214/mixno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "closed_date": 1576055854, "accepted_answer_id": 59281885, "answer_count": 1, "score": 1, "last_activity_date": 1576054233, "creation_date": 1576039336, "question_id": 59279007, "link": "https://stackoverflow.com/questions/59279007/any-kotlin-orm-for-sql", "closed_reason": "Not suitable for this site", "title": "Any kotlin ORM for SQL?", "body": "<p>Is there any useful and easy-to-use kotlin ORM for SQL? Like ORMLite. I'm making an app for android and i need to keep data classes there.</p>\n\n<p>Honestly, I'm rewriting an android <a href=\"https://i.stack.imgur.com/WLmFd.png\" rel=\"nofollow noreferrer\">lasertag configurator</a> from java to kotlin.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1067, "user_id": 242925, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/55d28cd38f9627bc4c78ca6954bae3cb?s=128&d=identicon&r=PG", "display_name": "Todd W Crone", "link": "https://stackoverflow.com/users/242925/todd-w-crone"}, "is_accepted": false, "score": 0, "last_activity_date": 1576036580, "creation_date": 1576036580, "answer_id": 59278690, "question_id": 59278411, "link": "https://stackoverflow.com/questions/59278411/idiomatic-way-of-writing-hashmap-in-kotlin/59278690#59278690", "title": "idiomatic way of writing HashMap in kotlin", "body": "<pre><code>val map = mapOf(1 to \"x\", 2 to \"y\", -1 to \"zz\")\n\nval mutableMap = mutableMapOf(\"name\" to \"Luke\", \"age\" to \"23\") \n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-of.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-of.html</a></p>\n\n<p><a href=\"https://www.deadcoderising.com/how-to-create-maps-in-kotlin-using-5-different-factory-functions-2/\" rel=\"nofollow noreferrer\">https://www.deadcoderising.com/how-to-create-maps-in-kotlin-using-5-different-factory-functions-2/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "is_accepted": false, "score": 2, "last_activity_date": 1576048190, "creation_date": 1576048190, "answer_id": 59280478, "question_id": 59278411, "link": "https://stackoverflow.com/questions/59278411/idiomatic-way-of-writing-hashmap-in-kotlin/59280478#59280478", "title": "idiomatic way of writing HashMap in kotlin", "body": "<p>You probably mean <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">type aliases</a> </p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/inline-classes.html\" rel=\"nofollow noreferrer\">inline classes</a> are still experimental.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1576048261, "creation_date": 1576048261, "answer_id": 59280497, "question_id": 59278411, "link": "https://stackoverflow.com/questions/59278411/idiomatic-way-of-writing-hashmap-in-kotlin/59280497#59280497", "title": "idiomatic way of writing HashMap in kotlin", "body": "<p>This isn't at all specific to <code>Map</code> or <code>HashMap</code> but you can define <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">type aliases</a></p>\n\n<pre><code>typealias Name = String\ntypealias Address = String\n</code></pre>\n\n<p>and then use them everywhere types are needed. Or for more type safety, <a href=\"https://kotlinlang.org/docs/reference/inline-classes.html\" rel=\"nofollow noreferrer\">inline classes</a> because type aliases allow any <code>String</code> operation to be done on <code>Address</code> and vice versa.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1576057278, "creation_date": 1576057278, "answer_id": 59282783, "question_id": 59278411, "link": "https://stackoverflow.com/questions/59278411/idiomatic-way-of-writing-hashmap-in-kotlin/59282783#59282783", "title": "idiomatic way of writing HashMap in kotlin", "body": "<p>Without seeing the article, it's hard to know, but one possibility might be encouraging basic object-oriented design (not specific to Kotlin or to maps).\u00a0 For example:</p>\n\n<pre><code>data class Name(title: String, forename: String, surname: String)\n\ndata class Address(number: Int, street: String, city: String)\n\nval map = mapOf(Name(\"Mr\", \"Fred\", \"Bloggs\") to Address(\"10\", \"London Road\", \"London\"),\n                Name(\"Mrs\", \"Jane\", \"Smith\") to Address(\"5\", \"The Larches\", \"Woodville\"))\n</code></pre>\n\n<p>That makes most sense if your names and addresses have some internal structure that you want to represent.\u00a0 (In practice, it's often safer not to, as there are many gotchas about <a href=\"https://www.mjt.me.uk/posts/falsehoods-programmers-believe-about-addresses/\" rel=\"nofollow noreferrer\">names</a> and <a href=\"https://www.mjt.me.uk/posts/falsehoods-programmers-believe-about-addresses/\" rel=\"nofollow noreferrer\">addresses</a> that are likely to break any assumptions you make about them!)\u00a0 However, this could still work well for objects that contain only a single String property.</p>\n\n<p>Advantages include:</p>\n\n<ul>\n<li>Readability.\u00a0 As in the question, this makes explicit the meaning and intent of the keys and values.\u00a0 (No need to put it in the variable name.)</li>\n<li>Type-safety.\u00a0 The compiler checks the types, preventing you from storing a name in an address field by mistake.</li>\n<li>Isolation.\u00a0 You can change the details of how names or addresses are represented, without needing to change all the code that uses them.</li>\n<li>You can give your objects behaviours where appropriate (e.g. calculated properties, serialisation, &amp;c).</li>\n<li>You get access to the internal structure of the field, without any further processing or assumptions.</li>\n</ul>\n\n<p>(<a href=\"https://kotlinlang.org/docs/reference/inline-classes.html\" rel=\"nofollow noreferrer\">Inline classes</a> and <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">type aliases</a>, as per other answers, are variations on this: more efficient, but less flexible.)</p>\n"}], "owner": {"reputation": 23, "user_id": 1419369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46d4052a14e549b7c480737d54c1707?s=128&d=identicon&r=PG", "display_name": "ajit kumar", "link": "https://stackoverflow.com/users/1419369/ajit-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1576057278, "creation_date": 1576034117, "question_id": 59278411, "link": "https://stackoverflow.com/questions/59278411/idiomatic-way-of-writing-hashmap-in-kotlin", "title": "idiomatic way of writing HashMap in kotlin", "body": "<p>Few days back i was reading an article about the Kotlin features. There one feature it told about using HashMap in more efficient way.</p>\n\n<p>Old way of writing code in hashmap <code>val map = HashMap&lt;String, String&gt;()</code>. This doesn't give good readability about the what is the actual value it's going to keep. </p>\n\n<p>Example if it keep Person name and his address in it. wouldn't be nice to have \n<code>val map = HasMap&lt;Name, Address&gt;</code> so by seeing the declaration it's more readable. I tried finding the article but i am not able get it. How can do i tried but not able to get the same.      </p>\n"}, {"tags": ["android", "kotlin", "mobile", "android-10.0", "google-pixel"], "comments": [{"owner": {"reputation": 918, "user_id": 2207107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fc83a88f6f39988632437eb7576d45?s=128&d=identicon&r=PG", "display_name": "takharsh", "link": "https://stackoverflow.com/users/2207107/takharsh"}, "edited": false, "score": 0, "creation_date": 1576035084, "post_id": 59278368, "comment_id": 104763693, "body": "Try using Build.PRODUCT <a href=\"https://developer.android.com/reference/android/os/Build.html#PRODUCT\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/Build.html#PRODUC&zwnj;&#8203;T</a>"}, {"owner": {"reputation": 114, "user_id": 11795209, "user_type": "registered", "profile_image": "https://graph.facebook.com/1516907745117828/picture?type=large", "display_name": "Ph\u1ea1m T\u1ea5n T&#224;i", "link": "https://stackoverflow.com/users/11795209/ph%e1%ba%a1m-t%e1%ba%a5n-t%c3%a0i"}, "reply_to_user": {"reputation": 918, "user_id": 2207107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fc83a88f6f39988632437eb7576d45?s=128&d=identicon&r=PG", "display_name": "takharsh", "link": "https://stackoverflow.com/users/2207107/takharsh"}, "edited": false, "score": 0, "creation_date": 1576037123, "post_id": 59278368, "comment_id": 104764176, "body": "I try all the fields in Build. But don&#39;t have exactly the model number."}], "owner": {"reputation": 114, "user_id": 11795209, "user_type": "registered", "profile_image": "https://graph.facebook.com/1516907745117828/picture?type=large", "display_name": "Ph\u1ea1m T\u1ea5n T&#224;i", "link": "https://stackoverflow.com/users/11795209/ph%e1%ba%a1m-t%e1%ba%a5n-t%c3%a0i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1576047389, "creation_date": 1576033818, "last_edit_date": 1576047389, "question_id": 59278368, "link": "https://stackoverflow.com/questions/59278368/how-to-get-exactly-model-number-of-google-pixel-device", "title": "How to get exactly model number of google pixel device?", "body": "<p>I use the Google Pixel XL which has model number is G-2PW2100.\nWhen I use Build.MODEL, it will return for Pixel XL.\nSo How can I get the exact model number of Google pixel device?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-native", "kotlin-js"], "answers": [{"tags": [], "owner": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "is_accepted": true, "score": 2, "last_activity_date": 1576024156, "last_edit_date": 1576024156, "creation_date": 1576023342, "answer_id": 59277184, "question_id": 59277132, "link": "https://stackoverflow.com/questions/59277132/change-items-data-type-in-a-list-or-array-in-kotlin/59277184#59277184", "title": "Change item&#39;s data type in a List or array in Kotlin", "body": "<p>Array <code>map</code> is your friend. You could keep your function and simplify, or remove it completely as below:-</p>\n\n<pre><code>val xx = x.map { it.toDouble() }\n</code></pre>\n\n<p>Once it's a list of doubles, you can then leave as a list or use <code>.toDoubleArray()</code> if you need an array.</p>\n"}], "owner": {"reputation": 363, "user_id": 1866772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ltZXN.png?s=128&g=1", "display_name": "Mahdi Safarmohammadloo", "link": "https://stackoverflow.com/users/1866772/mahdi-safarmohammadloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 1, "accepted_answer_id": 59277184, "answer_count": 1, "score": 0, "last_activity_date": 1576024156, "creation_date": 1576022810, "last_edit_date": 1576023670, "question_id": 59277132, "link": "https://stackoverflow.com/questions/59277132/change-items-data-type-in-a-list-or-array-in-kotlin", "title": "Change item&#39;s data type in a List or array in Kotlin", "body": "<p>how can i change item's data type in arrays or lists in kotlin ?\ni found a usual way but i need an easier and faster and better way to change data type of an array :)</p>\n\n<pre><code>fun typeChanger (data:MutableList&lt;Number&gt;): DoubleArray {\n    val result = mutableListOf&lt;Double&gt;()\n    for (i in data.iterator()){\n        result.add(i.toDouble())\n    }\n    return result.toDoubleArray()\n}\nval x = mutableListOf&lt;Number&gt;(+1,+1,-1,-1)\nval xx:DoubleArray = typeChanger(x) // It works but i need an easier and faster and better way :)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "firebase-storage"], "comments": [{"owner": {"reputation": 398, "user_id": 8963175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36c4a2f0a1de95c44b55f2af40bb5c0?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/8963175/abhishek"}, "edited": false, "score": 0, "creation_date": 1576058924, "post_id": 59276704, "comment_id": 104772484, "body": "Have you followed this <a href=\"https://firebase.google.com/docs/storage/android/download-files#download_data_via_url\" rel=\"nofollow noreferrer\">link</a>?"}, {"owner": {"reputation": 107, "user_id": 4189422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e71c9ae09736803eb4dd2d0bf4ca9f?s=128&d=identicon&r=PG&f=1", "display_name": "sleepy", "link": "https://stackoverflow.com/users/4189422/sleepy"}, "reply_to_user": {"reputation": 398, "user_id": 8963175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36c4a2f0a1de95c44b55f2af40bb5c0?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/8963175/abhishek"}, "edited": false, "score": 0, "creation_date": 1576059446, "post_id": 59276704, "comment_id": 104772769, "body": "Yes, but I couldn&#39;t solve how to get download URL inside addOnSuccessListener"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1576070714, "post_id": 59276704, "comment_id": 104778821, "body": "here is helper class for Firebase storage <a href=\"https://github.com/AtifAbbAsi19/Clean-architecture-android/tree/master/app/src/main/java/com/droid/clean_architecture_android_tutorial/network/firebase/storage\" rel=\"nofollow noreferrer\">github.com/AtifAbbAsi19/Clean-architecture-android/tree/mast&zwnj;&#8203;er/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "is_accepted": false, "score": 0, "last_activity_date": 1576070253, "creation_date": 1576070253, "answer_id": 59286699, "question_id": 59276704, "link": "https://stackoverflow.com/questions/59276704/how-to-get-uploaded-files-downloduri/59286699#59286699", "title": "How to get uploaded file&#39;s downlodURI", "body": "<p>Have you checked this <a href=\"https://firebase.google.com/docs/storage/android/upload-files#get_a_download_url\" rel=\"nofollow noreferrer\">link</a></p>\n\n<pre><code>val ref = storageRef.child(\"images/mountains.jpg\")\nuploadTask = ref.putFile(file)\n\nval urlTask = uploadTask.continueWithTask { task -&gt;\n    if (!task.isSuccessful) {\n        task.exception?.let {\n            throw it\n        }\n    }\n    ref.downloadUrl\n}.addOnCompleteListener { task -&gt;\n    if (task.isSuccessful) {\n        val downloadUri = task.result\n    } else {\n        // Handle failures\n        // ...\n    }\n}\n</code></pre>\n\n<p>This snippet will help you hopefully.</p>\n"}], "owner": {"reputation": 107, "user_id": 4189422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e71c9ae09736803eb4dd2d0bf4ca9f?s=128&d=identicon&r=PG&f=1", "display_name": "sleepy", "link": "https://stackoverflow.com/users/4189422/sleepy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576070253, "creation_date": 1576019698, "last_edit_date": 1576065169, "question_id": 59276704, "link": "https://stackoverflow.com/questions/59276704/how-to-get-uploaded-files-downloduri", "title": "How to get uploaded file&#39;s downlodURI", "body": "<p>I guess Kotlin made some changes about downloadURI method. </p>\n\n<p>There is another question already asked before but it's java code, I couldn't convert to Kotlin.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/51056397/how-to-use-getdownloadurl-in-recent-versions\">How to use getdownloadurl in recent versions?</a></p>\n\n<p>So I'm trying to using new one like below,</p>\n\n<pre><code>var storageRef = FirebaseStorage.getInstance().getReference()\n    val ref = storageRef.child(\"uploads/profil.jpg\")\n\n    ref.downloadUrl.addOnSuccessListener {\n        val temp = it.path\n    }\n</code></pre>\n\n<p>From the debug, I can see the download link with \"it.uriString\" on \"temp\" variable line. But I don't know how to get this URL from there?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["spring", "hibernate", "jpa", "kotlin", "spring-data"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1576020000, "post_id": 59276656, "comment_id": 104760399, "body": "Seems to me that you haven&#39;t persisted <code>UserEntity</code> before persisting <code>TokenEntity</code>. If you are creating a new <code>UserEntity</code> from domain object <code>User</code>, the <code>UserEntity</code> object is in <b>detached</b> state."}, {"owner": {"reputation": 461, "user_id": 1128343, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc1fa69fa77f2c6496ee32a86307afa9?s=128&d=identicon&r=PG", "display_name": "Quaiks", "link": "https://stackoverflow.com/users/1128343/quaiks"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1576051324, "post_id": 59276656, "comment_id": 104768542, "body": "The <code>UserEntity</code> is retrieved from the database but is converted to a <code>User</code> domain object and then converted again to a <code>UserEntit</code> with the same data."}, {"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1576074996, "post_id": 59276656, "comment_id": 104781298, "body": "I still think that you need to call <code>merge</code> or <code>findById</code> when adding <code>User</code> entity to <code>Token</code> entity, if you&#39;re using <code>Token(user = User(userDto.id))</code>, because you&#39;re trying to save an unmanaged/detached object (object that&#39;s not in the persistence context) when saving <code>Token</code> object. I also find it odd that the <code>@ManyToOne</code> type of relationship is working just fine (maybe you&#39;re not using it the same way). In both cases <code>User</code> is the parent in the relationship and needs to be saved before child (<code>Token</code>), because <code>Token</code> depends on <code>User</code>&#39;s PK."}], "answers": [{"tags": [], "owner": {"reputation": 682, "user_id": 1301881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jvgIG.jpg?s=128&g=1", "display_name": "James Gawron", "link": "https://stackoverflow.com/users/1301881/james-gawron"}, "is_accepted": false, "score": 0, "last_activity_date": 1576098699, "creation_date": 1576098699, "answer_id": 59294145, "question_id": 59276656, "link": "https://stackoverflow.com/questions/59276656/hibernate-tries-to-persist-an-existing-entity-which-is-detached/59294145#59294145", "title": "Hibernate tries to persist an existing entity which is detached", "body": "<p>Instantiating the token entity with the id populated will cause the issue. If you are creating and saving a new token the id on the entity passed to save must be unvalued.</p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 1128343, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc1fa69fa77f2c6496ee32a86307afa9?s=128&d=identicon&r=PG", "display_name": "Quaiks", "link": "https://stackoverflow.com/users/1128343/quaiks"}, "is_accepted": true, "score": 0, "last_activity_date": 1576180499, "creation_date": 1576180499, "answer_id": 59311839, "question_id": 59276656, "link": "https://stackoverflow.com/questions/59276656/hibernate-tries-to-persist-an-existing-entity-which-is-detached/59311839#59311839", "title": "Hibernate tries to persist an existing entity which is detached", "body": "<p>The only way I could store the <code>TokenEntity</code> was getting rid of the <code>@MapsId</code> and using a generated value</p>\n\n<pre><code>@Entity\n@Table(name = \"tokens\")\nclass TokenEntity(\n    var value: String,\n    @OneToOne var user: UserEntity,\n    @Id @GeneratedValue var id: Long? = null\n)\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 1128343, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc1fa69fa77f2c6496ee32a86307afa9?s=128&d=identicon&r=PG", "display_name": "Quaiks", "link": "https://stackoverflow.com/users/1128343/quaiks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 59311839, "answer_count": 2, "score": 0, "last_activity_date": 1576180606, "creation_date": 1576019310, "last_edit_date": 1576180606, "question_id": 59276656, "link": "https://stackoverflow.com/questions/59276656/hibernate-tries-to-persist-an-existing-entity-which-is-detached", "title": "Hibernate tries to persist an existing entity which is detached", "body": "<p>I am struggling with this one. I have a couple of entities that look like this</p>\n\n<pre><code>@Entity\n@Table\nclass UserEntity (\n  @Id @GeneratedValue var id: Long? = null\n)\n\n@Entity\n@Table\nclass TokenEntity (\n  @OneToOne(fetch = FetchType.LAZY) @MapsId var user: UserEntity,\n  @Id var id: Long? = null\n)\n</code></pre>\n\n<p>I am experimenting with hexagonal architecture so I retrieve an <code>UserEntity</code> and transform it to a <code>User</code> domain object in the <code>UsersPersistenceAdapter</code>, then I create a <code>Token</code> domain object and transform it to a <code>TokenEntity</code> and save the entity in the <code>TokensPersistenceAdapter</code></p>\n\n<p>The domain objects look like this</p>\n\n<pre><code>class User(\n  var email: String,\n  var password: String,\n  var id: UserId? = null\n) {\n  class UserId(var value: Long)\n}\n\nclass Token(\n  var value: String,\n  var user: User,\n  var id: TokenId? = null\n) {\n  class TokenId(var value: Long)\n}\n</code></pre>\n\n<p>When I save the <code>TokenEntity</code> object I get the exception <code>Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: es.test.backend.users.adapters.secondary.persistence.UserEntity</code></p>\n\n<p>Looking at the logs I see that hibernate is trying to persist the <code>UserEntity</code></p>\n\n<pre><code>2019-12-11 00:00:59.270 DEBUG 9813 --- [nio-8080-exec-1] o.h.e.i.AbstractSaveEventListener        : Generated identifier: 8, using strategy: org.hibernate.id.ForeignGenerator\n2019-12-11 00:00:59.270 TRACE 9813 --- [nio-8080-exec-1] o.h.e.i.AbstractSaveEventListener        : Saving [es.test.backend.users.adapters.secondary.persistence.TokenEntity#8]\n2019-12-11 00:00:59.270 TRACE 9813 --- [nio-8080-exec-1] org.hibernate.engine.internal.Cascade    : Processing cascade ACTION_PERSIST for: es.test.backend.users.adapters.secondary.persistence.TokenEntity\n2019-12-11 00:00:59.270 TRACE 9813 --- [nio-8080-exec-1] o.hibernate.engine.spi.CascadingAction   : Cascading to persist: es.test.backend.users.adapters.secondary.persistence.UserEntity\n2019-12-11 00:00:59.740 TRACE 9813 --- [nio-8080-exec-1] o.hibernate.engine.spi.IdentifierValue   : ID unsaved-value: null\n2019-12-11 00:00:59.740 TRACE 9813 --- [nio-8080-exec-1] o.h.e.i.AbstractSaveEventListener        : Detached instance of: es.test.backend.users.adapters.secondary.persistence.UserEntity\n</code></pre>\n\n<p>I am doing something pretty similar in a <code>@ManyToOne</code> relationship (the stuff about converting everything back and forth from an entity to a domain object) without any problems.</p>\n\n<p>Here is a complete example</p>\n\n<pre><code>@SpringBootApplication\nclass DemoApplication {\n    @Bean\n    fun init(userRepository: UserRepository, tokenRepository: TokenRepository) = CommandLineRunner {\n        val newUser = userRepository.save(User())\n        val userDto = UserDto(newUser.id)\n        val token = Token (user = User(userDto.id))\n        tokenRepository.save(token)\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApplication&gt;(*args)\n}\n\n@Entity\nclass UserEntity(\n    @Id\n    @GeneratedValue\n    var id: Long? = null\n)\n\nclass UserDto(val id: Long?)\n\n// Fails\n@Entity\nclass TokenEntity(\n    @OneToOne(fetch = FetchType.LAZY) @MapsId var user: UserEntity,\n    @Id var id: Long? = null\n)\n\n// Works\n//@Entity\n//class TokenEntity(\n//        @ManyToOne(fetch = FetchType.LAZY) var user: UserEntity,\n//        @GeneratedValue @Id var id: Long? = null\n//)\n\ninterface UserRepository : CrudRepository&lt;UserEntity, Long&gt;\ninterface TokenRepository : CrudRepository&lt;TokenEntity, Long&gt;\n</code></pre>\n\n<p>Can anybody see what is going on? I am creating a simple project in <a href=\"https://github.com/Quaiks/example-stackvoerflow\" rel=\"nofollow noreferrer\">GitHub</a> for illustrating the issue.</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 3, "last_activity_date": 1576052700, "last_edit_date": 1576052700, "creation_date": 1576047848, "answer_id": 59280398, "question_id": 59274298, "link": "https://stackoverflow.com/questions/59274298/how-can-i-restart-livedata-builder-function/59280398#59280398", "title": "How can i restart livedata builder function?", "body": "<p><code>liveData</code> builder can't be restarted, <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines#livedata\" rel=\"nofollow noreferrer\">docs</a> say:</p>\n\n<blockquote>\n  <p>The <code>liveData</code> building block serves as a structured concurrency primitive between coroutines and <code>LiveData</code>. The code block starts executing when <code>LiveData</code> becomes active and is automatically canceled after a configurable timeout when the <code>LiveData</code> becomes inactive. If it is canceled before completion, it is restarted if the <code>LiveData</code> becomes active again. <strong>If it completed successfully in a previous run, it doesn't restart</strong>. Note that it is restarted only if canceled automatically. If the block is canceled for any other reason (e.g. throwing a CancelationException), it is not restarted.</p>\n</blockquote>\n\n<p>To make code run a couple of times I can suggest to create a function and call it when you need, e.g. on button click:</p>\n\n<pre><code>class MainViewModel : ViewModel() {\n    val topStoriesResult: LiveData&lt;UIState&lt;TopStoryWrapper&gt;&gt; = MutableLiveData&lt;UIState&lt;TopStoryWrapper&gt;&gt;()\n\n    fun loadTopStories() = viewModelScope.launch(Dispatchers.IO) { // start a coroutine\n        topStoriesRepository.getTopStoriesSetWrapper().apply {\n            val mutableLiveData = loginResponse as MutableLiveData\n\n            // post value to LiveData\n            mutableLiveData.postValue(UIState.Loading)\n            onFailure { mutableLiveData.postValue(UIState.NoData) }\n            onSuccess { mutableLiveData.postValue(UIState.HasData(it)) }\n        }\n    }\n}\n</code></pre>\n\n<p>To use <code>viewModelScope</code> in <code>MainViewModel</code> class add dependency to build.gradle file:</p>\n\n<blockquote>\n  <p>final LIFECYCLE_VERSION = \"2.2.0-rc03\" // add most recent version</p>\n  \n  <p>api \"androidx.lifecycle:lifecycle-viewmodel-ktx:$LIFECYCLE_VERSION\"</p>\n</blockquote>\n"}], "owner": {"reputation": 175, "user_id": 6721498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/790535a17731cf62ce2033b787164581?s=128&d=identicon&r=PG&f=1", "display_name": "UjinUkr", "link": "https://stackoverflow.com/users/6721498/ujinukr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "accepted_answer_id": 59280398, "answer_count": 1, "score": 4, "last_activity_date": 1576052700, "creation_date": 1576007023, "last_edit_date": 1576048027, "question_id": 59274298, "link": "https://stackoverflow.com/questions/59274298/how-can-i-restart-livedata-builder-function", "title": "How can i restart livedata builder function?", "body": "<p>I'm trying to use <code>livedata</code> builder functions. Indeed, it's so easy in use, but actually I can't understand how I can restart my coroutine. Below my part of code:</p>\n\n<pre><code>val topStoriesResult : LiveData&lt;UIState&lt;TopStoryWrapper&gt;&gt; = liveData(Dispatchers.IO) {\n    topStoriesRepository.getTopStoriesSetWrapper().apply {\n        emit(UIState.Loading)\n        onFailure { emit(UIState.NoData) }\n        onSuccess { emit(UIState.HasData(it)) }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dependency-injection", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 1089, "user_id": 3845798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbttl.jpg?s=128&g=1", "display_name": "Arpit", "link": "https://stackoverflow.com/users/3845798/arpit"}, "edited": false, "score": 0, "creation_date": 1576041430, "post_id": 59274106, "comment_id": 104765149, "body": "hey your solution worked, but it is nothing to do with private. It will work even you remove private. I believe it is with the &quot;@Inject&quot; annotation, I was putting at the variable level."}, {"owner": {"reputation": 71, "user_id": 6847356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cTWlq.jpg?s=128&g=1", "display_name": "Hardik Paranjape", "link": "https://stackoverflow.com/users/6847356/hardik-paranjape"}, "reply_to_user": {"reputation": 1089, "user_id": 3845798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbttl.jpg?s=128&g=1", "display_name": "Arpit", "link": "https://stackoverflow.com/users/3845798/arpit"}, "edited": false, "score": 1, "creation_date": 1576091947, "post_id": 59274106, "comment_id": 104789959, "body": "Got it. It was about <i>@Inject constructor</i>"}], "tags": [], "owner": {"reputation": 71, "user_id": 6847356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cTWlq.jpg?s=128&g=1", "display_name": "Hardik Paranjape", "link": "https://stackoverflow.com/users/6847356/hardik-paranjape"}, "is_accepted": true, "score": 1, "last_activity_date": 1576534674, "last_edit_date": 1576534674, "creation_date": 1576006028, "answer_id": 59274106, "question_id": 59272967, "link": "https://stackoverflow.com/questions/59272967/kotlin-dagger2-error-with-primary-constructor/59274106#59274106", "title": "Kotlin Dagger2 Error with Primary constructor", "body": "<p>Please update Car Class as</p>\n\n<pre><code>class Car @Inject constructor(var engine: Engine,val wheels: Wheels) {\nfun drive(){\n    Log.d(\"CAR\",\"&lt;&lt;&lt;&lt;&lt;&lt; DRIVING &gt;&gt;&gt;&gt;&gt;\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 7155725, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aGTbZDHIvfs/AAAAAAAAAAI/AAAAAAAAABk/_m_8fMhQta4/photo.jpg?sz=128", "display_name": "Freddie", "link": "https://stackoverflow.com/users/7155725/freddie"}, "is_accepted": false, "score": 0, "last_activity_date": 1578003027, "last_edit_date": 1578003027, "creation_date": 1577941941, "answer_id": 59558552, "question_id": 59272967, "link": "https://stackoverflow.com/questions/59272967/kotlin-dagger2-error-with-primary-constructor/59558552#59558552", "title": "Kotlin Dagger2 Error with Primary constructor", "body": "<p>This issue is about how to inject data into an object in Dagger 2.There are two methods to do it in Dagger 2. One is injecting via class's constructor, another is injecting the class's fields directly. </p>\n\n<p>In your Java implementation, what you injected is the variables in the constructor function's declaration, but not car object's attributes. The injection procedure is nothing about your class's attribute. You set the class's attributes by using the data injected. No matter the attributes are private or public, the setting procedure alway can be done since you are working in the inner side of the class object. </p>\n\n<p>While when defining the Kotlin class as:</p>\n\n<pre><code>class Car(@Inject  var engine: Engine, @Inject  val wheels: Wheels)\n</code></pre>\n\n<p>If we check the java code of this Kotlin implementation, we can see  this time the constructor did nothing except <strong>super()</strong></p>\n\n<pre><code>public Car(@org.jetbrains.annotations.NotNull()\ncom.toi.roboelectric.Engine engine, @org.jetbrains.annotations.NotNull()\ncom.toi.roboelectric.Wheels wheels) {\n    super();\n}\n</code></pre>\n\n<p>This time, the injection procedure is a field direct injection procedure. In this case, Dagger will generate injector class <strong>MembersInjector</strong> to inject the <strong>engine</strong> and <strong>wheel</strong>. To enable the injector class to set the attribute, the attribute must be public. The MembersInjector will be like as below:</p>\n\n<pre><code>public final class Car_MembersInjector implements MembersInjector&lt;Car&gt; {\nprivate final Provider&lt;Engine&gt; engineProvider;\nprivate final Provider&lt;Wheel&gt; wheelProvider;\n\npublic Car_MembersInjector(Provider&lt;Engine&gt; engineProvider, Provider&lt;Wheel&gt; wheelProvider) {\n    this.engineProvider = engineProvider;\n    this.wheelProvider = wheelProvider;\n}\n\npublic static MembersInjector&lt;Car&gt; create(Provider&lt;Engine&gt; engineProvider,\n                                          Provider&lt;Wheel&gt; wheelProvider) {\n    return new Car_MembersInjector(engineProvider, wheelProvider);\n}\n\n@InjectedFieldSignature(\"com.freddie.daggerkotlin.Car.engine\")\npublic static void injectEngine(Car instance, Engine engine) {\n    instance.engine = engine;\n}\n\n@InjectedFieldSignature(\"com.freddie.daggerkotlin.Car.wheel\")\npublic static void injectWheel(Car instance, Wheel wheel) {\n    instance.wheel = wheel;\n}\n\n@Override\npublic void injectMembers(Car instance) {\n    injectEngine(instance, engineProvider.get());\n    injectWheel(instance, wheelProvider.get());\n}\n}\n</code></pre>\n\n<p>There are two solutions to this problem:</p>\n\n<p>1.Constructor Injection. Define Kotlin class as: </p>\n\n<pre><code>class Car @Inject constructor(var engine: Engine, var wheel: Wheel)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>class Car @Inject constructor(var engine: Engine, var wheel: Wheel)\n</code></pre>\n\n<p>2.Field Injection. Define Kotlin class as:</p>\n\n<pre><code>class Car @Inject constructor()\n{\n    @Inject lateinit var engine: Engine\n    @Inject lateinit var wheel: Wheel\n}\n</code></pre>\n\n<p>If hope engine and wheel is <strong>private</strong>, Just and  private modifier:</p>\n\n<pre><code>class Car @Inject constructor ()\n{\n    private lateinit var engine: Engine\n    private lateinit var wheel: Wheel\n}\n</code></pre>\n"}], "owner": {"reputation": 1089, "user_id": 3845798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbttl.jpg?s=128&g=1", "display_name": "Arpit", "link": "https://stackoverflow.com/users/3845798/arpit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 59274106, "answer_count": 2, "score": 2, "last_activity_date": 1578003027, "creation_date": 1576000744, "last_edit_date": 1576665551, "question_id": 59272967, "link": "https://stackoverflow.com/questions/59272967/kotlin-dagger2-error-with-primary-constructor", "title": "Kotlin Dagger2 Error with Primary constructor", "body": "<p>I was trying my hand learning dagger 2, tried to convert the basic java example into kotlin but unable to do so because of the following error I am getting...</p>\n\n<p><strong>error: Dagger does not support injection into private fields\n    private com.example.Engine engine;</strong></p>\n\n<p>Here is the Java code which is working fine,</p>\n\n<pre><code>public class Car {\n\n    private Engine engine;\n    private Wheel wheel;\n\n    @Inject\n    public Car(Engine engine, Wheel wheel) {\n        this.engine = engine;\n        this.wheel = wheel;\n    }\n}\n</code></pre>\n\n<p>Car.java class with having 2 dependency.</p>\n\n<pre><code>public class Engine {\n    @Inject\n    Engine(){}\n}\n\npublic class Wheel {\n    @Inject\n    Wheel(){}\n}\n</code></pre>\n\n<p>Here is my kotlin code :- </p>\n\n<pre><code>class Car(@Inject  var engine: Engine, @Inject  val wheels: Wheels) {\n    fun drive(){\n        Log.d(\"CAR\",\"&lt;&lt;&lt;&lt;&lt;&lt; DRIVING &gt;&gt;&gt;&gt;&gt;\")\n    }\n}\n\nclass Engine @Inject constructor() {}\n\nclass Wheels @Inject constructor() {}\n\n@Component\ninterface CarComponent {\n    fun getCar() : Car\n}\n</code></pre>\n\n<p>This is the generated code</p>\n\n<pre><code>public final class Car {\n    @org.jetbrains.annotations.NotNull()\n    @javax.inject.Inject()\n    private com.toi.roboelectric.Engine engine;\n    @org.jetbrains.annotations.NotNull()\n    @javax.inject.Inject()\n    private final com.toi.roboelectric.Wheels wheels = null;\n\n    public final void drive() {\n    }\n\n    @org.jetbrains.annotations.NotNull()\n    public final com.toi.roboelectric.Engine getEngine() {\n        return null;\n    }\n\n    public final void setEngine(@org.jetbrains.annotations.NotNull()\n    com.toi.roboelectric.Engine p0) {\n    }\n\n    @org.jetbrains.annotations.NotNull()\n    public final com.toi.roboelectric.Wheels getWheels() {\n        return null;\n    }\n\n    public Car(@org.jetbrains.annotations.NotNull()\n    com.toi.roboelectric.Engine engine, @org.jetbrains.annotations.NotNull()\n    com.toi.roboelectric.Wheels wheels) {\n        super();\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "functional-programming", "arrow-kt"], "comments": [{"owner": {"reputation": 1731, "user_id": 780350, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afaa8b1a1e2fe1b53755564e5fa34568?s=128&d=identicon&r=PG", "display_name": "melston", "link": "https://stackoverflow.com/users/780350/melston"}, "edited": false, "score": 0, "creation_date": 1576108098, "post_id": 59272835, "comment_id": 104795906, "body": "I&#39;m not familiar with arrow so I can&#39;t comment on that specifically, but you are looking for functions typically called <code>traverse</code> and/or <code>sequence</code> (note the lowercase &#39;s&#39;, this is not the <code>Sequence</code> type).  A good description of these functions (for F#, but very readable nonetheless) is at the <a href=\"https://fsharpforfunandprofit.com/posts/elevated-world-4/\" rel=\"nofollow noreferrer\">F# for Fun and Profit</a> website."}], "answers": [{"comments": [{"owner": {"reputation": 823, "user_id": 1713450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4683615320a349adc8ac4f68faace0?s=128&d=identicon&r=PG", "display_name": "user1713450", "link": "https://stackoverflow.com/users/1713450/user1713450"}, "edited": false, "score": 0, "creation_date": 1576210823, "post_id": 59311961, "comment_id": 104833377, "body": "This does not appear to be valid. When I paste your code into a scratch file in IDEA, &quot;sequence&quot; is underlined and I get the error message <code>expression sequence of type Sequence&lt;IO&lt;Any&gt;&gt; cannot be invoked as a function. The function invoke() is not found</code>"}, {"owner": {"reputation": 823, "user_id": 1713450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4683615320a349adc8ac4f68faace0?s=128&d=identicon&r=PG", "display_name": "user1713450", "link": "https://stackoverflow.com/users/1713450/user1713450"}, "edited": false, "score": 0, "creation_date": 1576210973, "post_id": 59311961, "comment_id": 104833402, "body": "KSequence has a property <code>sequence</code> not a method. There does not appear to be a sequence function in KSequence."}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "reply_to_user": {"reputation": 823, "user_id": 1713450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4683615320a349adc8ac4f68faace0?s=128&d=identicon&r=PG", "display_name": "user1713450", "link": "https://stackoverflow.com/users/1713450/user1713450"}, "edited": false, "score": 0, "creation_date": 1576241869, "post_id": 59311961, "comment_id": 104845751, "body": "Added the imports, maybe that helps"}, {"owner": {"reputation": 823, "user_id": 1713450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4683615320a349adc8ac4f68faace0?s=128&d=identicon&r=PG", "display_name": "user1713450", "link": "https://stackoverflow.com/users/1713450/user1713450"}, "edited": false, "score": 1, "creation_date": 1576256462, "post_id": 59311961, "comment_id": 104853042, "body": "Yes, that made a difference. I think a different module had been imported when I pasted your code into a scratch file. I even inspected whatever the class was, and &quot;IO.applicative&quot; was a property not a method.  For anyone else coming here, it seems that the difference between <code>SequenceK.sequence</code> and <code>SequenceK.traverse</code> is that traverse allows you to also apply a lambda in the process to transform the\u2014in my example\u2014IO&lt;Foo&gt; into IO&lt;Bar&gt;."}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "reply_to_user": {"reputation": 823, "user_id": 1713450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4683615320a349adc8ac4f68faace0?s=128&d=identicon&r=PG", "display_name": "user1713450", "link": "https://stackoverflow.com/users/1713450/user1713450"}, "edited": false, "score": 0, "creation_date": 1576335756, "post_id": 59311961, "comment_id": 104870452, "body": "<code>sequence</code> is <code>traverse</code> with  the <code>::identity</code> function"}], "tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": true, "score": 2, "last_activity_date": 1576241829, "last_edit_date": 1576241829, "creation_date": 1576181098, "answer_id": 59311961, "question_id": 59272835, "link": "https://stackoverflow.com/questions/59272835/with-arrow-how-do-i-apply-a-transformation-of-type-x-ioy-to-data-of-type-s/59311961#59311961", "title": "With Arrow: How do I apply a transformation of type (X)-&gt;IO&lt;Y&gt; to data of type Sequence&lt;X&gt; to get IO&lt;Sequence&lt;Y&gt;&gt;?", "body": "<p>First you need to convert the <code>Sequence</code> to <code>SequenceK</code> then you can use the <code>sequence</code> function to do that.</p>\n\n<pre><code>\nimport arrow.fx.*\nimport arrow.core.*\nimport arrow.fx.extensions.io.applicative.applicative\n\nval sequenceOfIOs: Sequence&lt;IO&lt;Any&gt;&gt; = TODO()\n\nval ioOfSequence: IO&lt;Sequence&lt;Any&gt;&gt; = sequenceOfIOs.k()\n    .sequence(IO.applicative())\n    .fix()\n</code></pre>\n"}], "owner": {"reputation": 823, "user_id": 1713450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4683615320a349adc8ac4f68faace0?s=128&d=identicon&r=PG", "display_name": "user1713450", "link": "https://stackoverflow.com/users/1713450/user1713450"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 59311961, "answer_count": 1, "score": 0, "last_activity_date": 1576241829, "creation_date": 1576000113, "question_id": 59272835, "link": "https://stackoverflow.com/questions/59272835/with-arrow-how-do-i-apply-a-transformation-of-type-x-ioy-to-data-of-type-s", "title": "With Arrow: How do I apply a transformation of type (X)-&gt;IO&lt;Y&gt; to data of type Sequence&lt;X&gt; to get IO&lt;Sequence&lt;Y&gt;&gt;?", "body": "<p>I am learning functional programming using Arrow.kt, intending to walk a path hierarchy and hash every file (and do some other stuff). Forcing myself to use functional concepts as much as possible.</p>\n\n<p>Assume I have a <code>data class CustomHash(...)</code> already defined in code. It will be referenced below.</p>\n\n<p>First I need to build a sequence of files by walking the path. This is an impure/effectful function, so it should be marked as such with the <code>IO</code> monad:</p>\n\n<pre><code>fun getFiles(rootPath: File): IO&lt;Sequence&lt;File&gt;&gt; = IO {\n   rootPath.walk() // This function is of type (File)-&gt;Sequence&lt;File&gt;\n}\n</code></pre>\n\n<p>I need to read the file. Again, impure, so this is marked with <code>IO</code></p>\n\n<pre><code>fun getRelevantFileContent(file: File): IO&lt;Array&lt;Byte&gt;&gt; {\n   // Assume some code here to extract only certain data relevant for my hash\n}\n</code></pre>\n\n<p>Then I have a function to compute a hash. If it takes a byte array, then it's totally pure. Making it <code>suspend</code> because it will be slow to execute:</p>\n\n<pre><code>suspend fun computeHash(data: Array&lt;Byte&gt;): CustomHash {\n   // code to compute the hash\n}\n</code></pre>\n\n<p>My issue is how to chain this all together in a functional manner.</p>\n\n<pre><code>fun main(rootPath: File) {\n   val x = getFiles(rootPath) // IO&lt;Sequence&lt;File&gt;&gt;\n      .map { seq -&gt; // seq is of type Sequence&lt;File&gt;\n         seq.map { getRelevantFileContent(it) } // This produces Sequence&lt;IO&lt;Hash&gt;&gt;\n      }\n   }\n}\n</code></pre>\n\n<p>Right now, if I try this, <code>x</code> is of type <code>IO&lt;Sequence&lt;IO&lt;Hash&gt;&gt;&gt;</code>. It is clear to me why this is the case.</p>\n\n<p>Is there some way of turning <code>Sequence&lt;IO&lt;Any&gt;&gt;</code> into <code>IO&lt;Sequence&lt;Any&gt;&gt;</code>? Which I suppose is essentially, probably getting the terms imprecise, taking blocks of code that execute in their own coroutines and running the blocks of code all on the same coroutine instead?</p>\n\n<p>If Sequence weren't there, I know <code>IO&lt;IO&lt;Hash&gt;&gt;</code> could have been <code>IO&lt;Hash&gt;</code> by using a <code>flatMap</code> in there, but <code>Sequence</code> of course doesn't have that flattening of IO capabilities.</p>\n\n<p>Arrow's documentation has a lot of \"TODO\" sections and jumps very fast into documentation that presumes a lot of intermediate/advanced functional programming knowledge. It hasn't really been helpful for this problem.</p>\n"}, {"tags": ["intellij-idea", "kotlin", "jetbrains-ide", "intellij-plugin"], "comments": [{"owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "edited": false, "score": 0, "creation_date": 1576059711, "post_id": 59272198, "comment_id": 104772912, "body": "Looks like there are 2 <code>KtClass</code> classes from two different class loaders. The first one comes from intellij plugin and the second from <code>dependencies</code>. Could you try to change <code>implementation</code> to <code>compileOnly</code> for <code>kotlin-stdlib-jdk8</code>?"}, {"owner": {"reputation": 113, "user_id": 7729983, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-POO5O-I1nME/AAAAAAAAAAI/AAAAAAAAAlc/oT1amiDdVr4/photo.jpg?sz=128", "display_name": "DTechnlogy", "link": "https://stackoverflow.com/users/7729983/dtechnlogy"}, "reply_to_user": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "edited": false, "score": 0, "creation_date": 1576169353, "post_id": 59272198, "comment_id": 104820824, "body": "@Feedforward i changed my dependencies to look like this.  <code>dependencies {     compileOnly &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;     implementation &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.61&quot; }</code>  but I&#39;m still getting the same error"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 7729983, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-POO5O-I1nME/AAAAAAAAAAI/AAAAAAAAAlc/oT1amiDdVr4/photo.jpg?sz=128", "display_name": "DTechnlogy", "link": "https://stackoverflow.com/users/7729983/dtechnlogy"}, "is_accepted": true, "score": 1, "last_activity_date": 1577979879, "creation_date": 1577979879, "answer_id": 59566086, "question_id": 59272198, "link": "https://stackoverflow.com/questions/59272198/cannot-cast-psielement-to-ktclass-intellij/59566086#59566086", "title": "Cannot Cast PsiElement to KtClass - Intellij", "body": "<p>I've found the problem thanks too Yann Cebron. Turns out :</p>\n\n<ol>\n<li>using \"import org.jetbrains.kotlin.com.intellij.psi.PsiElement\"\nfrom Kotlin Plugin instead of \"com.intellij.psi.PsiElement\" in\nKtClassHelper</li>\n<li>in build.gradle,\n\"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.61\" was included into\nproject's instead of buildscript classpath</li>\n</ol>\n\n<p>Full answer here: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360006794080-Cannot-Cast-PsiElement-to-KtClass\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360006794080-Cannot-Cast-PsiElement-to-KtClass</a></p>\n"}], "owner": {"reputation": 113, "user_id": 7729983, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-POO5O-I1nME/AAAAAAAAAAI/AAAAAAAAAlc/oT1amiDdVr4/photo.jpg?sz=128", "display_name": "DTechnlogy", "link": "https://stackoverflow.com/users/7729983/dtechnlogy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "accepted_answer_id": 59566086, "answer_count": 1, "score": 1, "last_activity_date": 1577979879, "creation_date": 1575997301, "question_id": 59272198, "link": "https://stackoverflow.com/questions/59272198/cannot-cast-psielement-to-ktclass-intellij", "title": "Cannot Cast PsiElement to KtClass - Intellij", "body": "<p>I'm\u00a0learning to create a plugin for IntelliJ but I'm stuck at PsiElement. I can't cast PsiElement to KtClass even though it also a KtClass. </p>\n\n<p>Here's the error log</p>\n\n<pre><code>java.lang.ClassCastException: org.jetbrains.kotlin.psi.KtClass cannot be cast to org.jetbrains.kotlin.psi.KtClass\n    at action.MyAction.getPsiClassFromEvent(MyAction.kt:32)\n    at action.MyAction.actionPerformed(MyAction.kt:21)\n    at com.intellij.openapi.actionSystem.ex.ActionUtil$1.run(ActionUtil.java:261)\n    at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:278)\n    at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAwareWithCallbacks(ActionUtil.java:252)\n    at com.intellij.ui.popup.ActionPopupStep.performAction(ActionPopupStep.java:200)\n    at com.intellij.ui.popup.ActionPopupStep.performAction(ActionPopupStep.java:190)\n    at com.intellij.ui.popup.ActionPopupStep.lambda$onChosen$2(ActionPopupStep.java:184)\n    ...\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n\n<p>Here's my function</p>\n\n<pre><code>private fun getPsiClassFromEvent(e: AnActionEvent): KtClass? {\n    val psiElement = e.getData(\n        LangDataKeys.PSI_ELEMENT\n    ) ?: return null\n\n    return psiElement as KtClass\n}\n</code></pre>\n\n<p>here's my gradle:</p>\n\n<pre><code>plugins {\n    id 'org.jetbrains.intellij' version '0.4.15'\n    id 'org.jetbrains.kotlin.jvm' version '1.3.61'\n}\n\ngroup 'intellijtemplate.djaka.id'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'org.jetbrains.intellij'\napply plugin: 'kotlin'\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    implementation \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.61\"\n}\n\nintellij {\n    version '2019.1.4'\n    plugins 'org.jetbrains.kotlin:1.3.11-release-IJ2018.3-1'\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1575996806, "post_id": 59272026, "comment_id": 104751237, "body": "why would it be any different"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1575996849, "post_id": 59272026, "comment_id": 104751259, "body": "You shouldn&#39;t mock that in the first place. With mocking, a passing test won&#39;t give you any idea if your code is actually correct and can correctly interact with an HTTP server. Instead, use something like okhttp&#39;s mock http server, and use your real code to connect to that server (by injecting the mock server&#39;s url rather than the real URL) <a href=\"https://github.com/square/okhttp/tree/master/mockwebserver\" rel=\"nofollow noreferrer\">github.com/square/okhttp/tree/master/mockwebserver</a>"}], "answers": [{"tags": [], "owner": {"reputation": 69261, "user_id": 557445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93a0d4a722b2fae0bf159c9283fe1aff?s=128&d=identicon&r=PG", "display_name": "Rion Williams", "link": "https://stackoverflow.com/users/557445/rion-williams"}, "is_accepted": false, "score": 0, "last_activity_date": 1575997038, "creation_date": 1575997038, "answer_id": 59272137, "question_id": 59272026, "link": "https://stackoverflow.com/questions/59272026/how-do-you-mock-a-url-connection-in-kotlin/59272137#59272137", "title": "How do you mock a URL connection in Kotlin?", "body": "<p>Kotlin and Java <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">can interop</a> with one another, so you should be able to take your exact example (from the question) provided and convert it to Kotlin (or don't convert it and call the Java directly):</p>\n\n<pre><code>@Throws(Exception::class)\nfun function() {\n        val r = RuleEngineUtil()\n        val u = PowerMockito.mock(URL::class.java)\n        val url = \"http://www.sdsgle.com\"\n        PowerMockito.whenNew(URL::class.java).withArguments(url).thenReturn(u)\n        val huc = PowerMockito.mock(HttpURLConnection::class.java)\n        PowerMockito.`when`(u.openConnection()).thenReturn(huc)\n        PowerMockito.`when`(huc.getResponseCode()).thenReturn(200)\n        assertTrue(r.isUrlAccessible(url))\n}\n</code></pre>\n\n<p>It's worth noting that you should probably consider using an actual mocking HTTP server like <a href=\"https://blog.kotlin-academy.com/httpmock-my-first-oss-library-5bae8adbccf4\" rel=\"nofollow noreferrer\">HttpMocker</a> for handling this as opposed to implement the behavior yourself.</p>\n"}], "owner": {"reputation": 411, "user_id": 7087480, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Won8h.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7087480/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575997038, "creation_date": 1575996637, "question_id": 59272026, "link": "https://stackoverflow.com/questions/59272026/how-do-you-mock-a-url-connection-in-kotlin", "title": "How do you mock a URL connection in Kotlin?", "body": "<p>I've seen a lot of examples on how to mock a connection in Java but haven't seen any explaining how to do it in Kotlin. A bit of code that I want mocked as an example:</p>\n\n<pre><code>val url = URL(\"https://google.ca\")\nval conn = url.openConnection() as HttpURLConnection\n\nwith(conn) {\n    //doStuff\n}\nconn.disconnect()\n</code></pre>\n\n<p>Similar to a question like this but for Kotlin:\n<a href=\"https://stackoverflow.com/questions/25334139/how-to-mock-a-url-connection\">how to mock a URL connection</a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1575996097, "post_id": 59271706, "comment_id": 104750859, "body": "Are there only two different possible values for the shared preference? If not, using <code>if&#47;else</code> is only going to be longer and more complicated."}, {"owner": {"reputation": 1, "user_id": 12512896, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YdPqQHf9Spc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4aFuA2inRy5-bG7-jOtt21pZe8g/photo.jpg?sz=128", "display_name": "Pathuri Naveena", "link": "https://stackoverflow.com/users/12512896/pathuri-naveena"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1575996343, "post_id": 59271706, "comment_id": 104750985, "body": "Yes there are only 2"}], "answers": [{"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1576019867, "post_id": 59272377, "comment_id": 104760356, "body": "In my view, Kotlin&#39;s <code>if</code> <i>is</i> a ternary operator: <code>if (\u2026) \u2026 else \u2026</code> is <i>spelled</i> different from <code>\u2026 ? \u2026 : \u2026</code>, but it&#39;s still an operator that takes three operands (which is what \u2018ternary\u2019 means), and it has precisely the same result."}, {"owner": {"reputation": 35, "user_id": 4011605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff8c759c1e8f4b4d5ef1e38ce5a7123?s=128&d=identicon&r=PG&f=1", "display_name": "Teku", "link": "https://stackoverflow.com/users/4011605/teku"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1576145236, "post_id": 59272377, "comment_id": 104806968, "body": "Yes, I agree but the question ask for how to convert the when expresion to the ternary expresion and in the case of Kotlin the if statement is a ternary expresion"}], "tags": [], "owner": {"reputation": 35, "user_id": 4011605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff8c759c1e8f4b4d5ef1e38ce5a7123?s=128&d=identicon&r=PG&f=1", "display_name": "Teku", "link": "https://stackoverflow.com/users/4011605/teku"}, "is_accepted": false, "score": 0, "last_activity_date": 1575998019, "creation_date": 1575998019, "answer_id": 59272377, "question_id": 59271706, "link": "https://stackoverflow.com/questions/59271706/how-to-replace-the-when-statement-to-a-simple-ternary-statement-in-kotlin/59272377#59272377", "title": "How to replace the &#39;When&#39; statement to a simple ternary statement in kotlin", "body": "<p>There is not if-else ternary expresion in Kotlin but you can write if-else statment in this way:</p>\n\n<pre><code>if (a &gt; b) a else b\n</code></pre>\n\n<p>It's the most similar way to ternary if-else</p>\n"}, {"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1576019729, "post_id": 59272400, "comment_id": 104760320, "body": "Mmm.  Or a variation on the same theme: you could avoid repeating <code>CatalystConstants</code> <i>and</i> <code>AppCompatDelegate</code> by <code>import</code>ing those constants.  \u2014 Either way, it&#39;s worth spelling out some of the saving is because you&#39;ve changed the <code>when</code> from a statement to an expression,"}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 2, "last_activity_date": 1575998113, "creation_date": 1575998113, "answer_id": 59272400, "question_id": 59271706, "link": "https://stackoverflow.com/questions/59271706/how-to-replace-the-when-statement-to-a-simple-ternary-statement-in-kotlin/59272400#59272400", "title": "How to replace the &#39;When&#39; statement to a simple ternary statement in kotlin", "body": "<p>If there are only two possible values, you can do this, although in my opinion <code>when</code> would be much clearer to read because the comparison is so long. </p>\n\n<pre><code>appCompatDelegate.defaultNightMode = if(sharedPreferences.getInt(CatalystConstants.prefName, CatalystConstants.themeLight) \n                == CatalystConstants.themeLight)\n            AppCompatDelegate.MODE_NIGHT_NO\n        else // themeDark\n            AppCompatDelegate.MODE_NIGHT_YES\n</code></pre>\n\n<p>With <code>when</code>:</p>\n\n<pre><code>appCompatDelegate.defaultNightMode = \n    when (sharedPreferences.getInt(CatalystConstants.prefName, CatalystConstants.themeLight)) {\n            CatalystConstants.themeLight -&gt; AppCompatDelegate.MODE_NIGHT_NO\n            CatalystConstants.themeDark -&gt; AppCompatDelegate.MODE_NIGHT_YES\n        }\n</code></pre>\n\n<p>Could be more concise using <code>run</code>. It's not very clear, but that's because you aren't using all caps for your constant names:</p>\n\n<pre><code>CatalystConstants.run { \n    appCompatDelegate.defaultNightMode = \n        when (sharedPreferences.getInt(prefName, themeLight)) {\n                themeLight -&gt; AppCompatDelegate.MODE_NIGHT_NO\n                themeDark -&gt; AppCompatDelegate.MODE_NIGHT_YES\n            }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12512896, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YdPqQHf9Spc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4aFuA2inRy5-bG7-jOtt21pZe8g/photo.jpg?sz=128", "display_name": "Pathuri Naveena", "link": "https://stackoverflow.com/users/12512896/pathuri-naveena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575998113, "creation_date": 1575995484, "question_id": 59271706, "link": "https://stackoverflow.com/questions/59271706/how-to-replace-the-when-statement-to-a-simple-ternary-statement-in-kotlin", "title": "How to replace the &#39;When&#39; statement to a simple ternary statement in kotlin", "body": "<p>1.Can I simplify the code in when statement to one or two lines.I am trying to replace the code in the when block but unable to do it.</p>\n\n<pre><code>// Loads all the settings changed in the theme\n    override fun onCreate() {\n        super.onCreate()\n\n        var sharedPreferences = getSharedPreferences(\n            CatalystConstants.keyThemeObject,\n            AppCompatActivity.MODE_PRIVATE\n        )\n\n        when (sharedPreferences.getInt(CatalystConstants.prefName, CatalystConstants.themeLight)) {\n            CatalystConstants.themeLight -&gt; {\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO)\n            }\n            CatalystConstants.themeDark -&gt; {\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES)\n            }\n        }\n    }\n}```\n\n</code></pre>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 1150, "user_id": 2220318, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/afa04c92f3bc554daf14fca2b0ab780a?s=128&d=identicon&r=PG", "display_name": "Rahul Shukla", "link": "https://stackoverflow.com/users/2220318/rahul-shukla"}, "edited": false, "score": 0, "creation_date": 1575994092, "post_id": 59271237, "comment_id": 104749697, "body": "can you share the code/xml for your hosting activity?"}, {"owner": {"reputation": 1233, "user_id": 4463401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee8e9f7cbfd6ab0912c06490d541e8b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ruan_Lopes", "link": "https://stackoverflow.com/users/4463401/ruan-lopes"}, "edited": false, "score": 0, "creation_date": 1575994272, "post_id": 59271237, "comment_id": 104749823, "body": "I think the XML you shared in from the <code>R.layout.fragment_england</code> not <code>list_item_view.xml</code> but the problem shouldn&#39;t be there anyway. it&#39;s probably in your activity."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1575994469, "post_id": 59271237, "comment_id": 104749936, "body": "Remove <code>android:paddingTop=&quot;?attr&#47;actionBarSize&quot;</code> from the <code>Activity</code>&#39;s <code>ConstraintLayout</code>. You&#39;re using the decor-provided <code>ActionBar</code>, so everything in the content layout is already laid out below it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7142686"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1575994827, "post_id": 59271237, "comment_id": 104750155, "body": "@MikeM Thanks the fixed it!"}], "answers": [{"tags": [], "owner": {"reputation": 685, "user_id": 6770321, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yINIWXCoraY/AAAAAAAAAAI/AAAAAAAAAYI/mdDPfqweAns/photo.jpg?sz=128", "display_name": "Sujan Poudel", "link": "https://stackoverflow.com/users/6770321/sujan-poudel"}, "is_accepted": false, "score": -1, "last_activity_date": 1575994425, "creation_date": 1575994425, "answer_id": 59271399, "question_id": 59271237, "link": "https://stackoverflow.com/questions/59271237/why-is-there-a-white-blank-space-at-the-top-of-my-list-view/59271399#59271399", "title": "Why is there a white blank space at the top of my list view?", "body": "<p>You can debug the view with layout inspector. To open the Layout Inspector, do the following:</p>\n\n<ul>\n<li>Run your app on a connected device or emulator.</li>\n<li>Click <strong>Tools</strong> > <strong>Layout Inspector</strong>.</li>\n<li>In the Choose Process dialog that appears, select the app process you want to inspect \nand click <strong>ok</strong></li>\n</ul>\n\n<p>For more info:\n<a href=\"https://developer.android.com/studio/debug/layout-inspector\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/debug/layout-inspector</a></p>\n"}, {"tags": [], "owner": {"reputation": 1233, "user_id": 4463401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee8e9f7cbfd6ab0912c06490d541e8b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ruan_Lopes", "link": "https://stackoverflow.com/users/4463401/ruan-lopes"}, "is_accepted": true, "score": 3, "last_activity_date": 1575994474, "creation_date": 1575994474, "answer_id": 59271416, "question_id": 59271237, "link": "https://stackoverflow.com/questions/59271237/why-is-there-a-white-blank-space-at-the-top-of-my-list-view/59271416#59271416", "title": "Why is there a white blank space at the top of my list view?", "body": "<p>The problem is in the line <code>android:paddingTop=\"?attr/actionBarSize\"</code></p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingTop=\"?attr/actionBarSize\"&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7142686"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 59271416, "answer_count": 2, "score": 0, "last_activity_date": 1575994474, "creation_date": 1575993914, "last_edit_date": 1575994456, "question_id": 59271237, "link": "https://stackoverflow.com/questions/59271237/why-is-there-a-white-blank-space-at-the-top-of-my-list-view", "title": "Why is there a white blank space at the top of my list view?", "body": "<p>When my app runs there is a blank white space between my custom action bar and my list view and I would like to remove it but can't find any class method or xml setting to do that.</p>\n\n<p>Here is my Kotlin code <code>EnglandFragment.kt</code>using the list view:</p>\n\n<pre><code>class EnglandFragment : Fragment() {\n\n    // Access a Cloud Firestore instance from your Activity\n    val db = FirebaseFirestore.getInstance()\n    lateinit var adapter : ArrayAdapter&lt;String&gt;\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        val root = inflater.inflate(R.layout.fragment_england, container, false)\n\n        (requireActivity() as CountriesActivity).initializeCustomActionBar(R.drawable.england_flag, R.string.title_counties)\n        var counties : ArrayList&lt;String&gt;\n\n        val docRef = db.collection(\"UKSites\").document(\"England\")\n        docRef.get()\n            .addOnSuccessListener { document -&gt;\n                if (document != null) {\n                    counties = document.get(\"Counties\") as ArrayList&lt;String&gt;\n\n                    adapter = ArrayAdapter(requireContext(), R.layout.list_item_view, counties)\n\n                    groupListView.adapter = adapter\n\n                    groupListView.setOnItemClickListener { parent, view, position, id -&gt;\n\n                        Toast.makeText(requireContext(), \"Row selected: $position\", Toast.LENGTH_SHORT ).show()\n\n                    }\n\n                } else {\n                    Log.d(\"Debug\", \"No such document\")\n                }\n            }\n            .addOnFailureListener { exception -&gt;\n                Log.d(\"Debug\", \"get failed with \", exception)\n            }\n\n        return root\n    }\n\n}\n</code></pre>\n\n<p>Here is my xml code <code>fragment_england.xml</code> for the list view:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;ListView\n        android:id=\"@+id/groupListView\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:headerDividersEnabled=\"false\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eXfWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eXfWb.png\" alt=\"App with blank white space\"></a></p>\n\n<p>Here is the Kotlin code for <code>CountriesActivity.kt</code>:</p>\n\n<pre><code>class CountriesActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_countries)\n        val navView: BottomNavigationView = findViewById(R.id.nav_view)\n        navView.setItemIconTintList(null);\n\n        val navController = findNavController(R.id.nav_host_fragment)\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        val appBarConfiguration = AppBarConfiguration(\n            setOf(\n                R.id.navigation_england, R.id.navigation_scotland, R.id.navigation_wales, R.id.navigation_nireland\n            )\n        )\n        setupActionBarWithNavController(navController, appBarConfiguration)\n        navView.setupWithNavController(navController)\n\n\n    }\n\n    fun initializeCustomActionBar(imageViewResID: Int, textViewResID: Int) {\n\n        val actionBar: ActionBar? = this.supportActionBar\n        actionBar?.setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM)\n        actionBar?.setDisplayShowCustomEnabled(true)\n        actionBar?.setCustomView(R.layout.custom_action_bar)\n        val view : View? = actionBar?.customView\n        var imageView : ImageView? = view?.findViewById(R.id.flagImageView)\n        imageView?.setImageResource(imageViewResID)\n        var textView : TextView? = view?.findViewById(R.id.countiesTextView)\n        textView?.text = getString(textViewResID)\n        actionBar?.setCustomView(view)\n\n    }\n\n}\n</code></pre>\n\n<p>and here is the xml code for <code>activity_countries.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingTop=\"?attr/actionBarSize\"&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"0dp\"\n        android:layout_marginEnd=\"0dp\"\n        android:background=\"?android:attr/windowBackground\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:menu=\"@menu/bottom_nav_menu\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:defaultNavHost=\"true\"\n        app:layout_constraintBottom_toTopOf=\"@id/nav_view\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:navGraph=\"@navigation/mobile_navigation\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["swift", "kotlin", "enums"], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 5415083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8100e4c560f6b80402a767abbf86b?s=128&d=identicon&r=PG&f=1", "display_name": "esemusa", "link": "https://stackoverflow.com/users/5415083/esemusa"}, "is_accepted": true, "score": 1, "last_activity_date": 1576002189, "last_edit_date": 1576002189, "creation_date": 1575993645, "answer_id": 59271157, "question_id": 59270967, "link": "https://stackoverflow.com/questions/59270967/kotlin-enum-classes-in-swift/59271157#59271157", "title": "Kotlin enum classes in Swift", "body": "<p>should be like this:</p>\n\n<pre><code>enum ProType {\n    case fund\n    case stock\n\n    var gCode: String {\n        switch self {\n        case .fund:\n            return \"FN\"\n        case .stock:\n            return \"VA\"\n        }\n    }\n\n    var cCode: String {\n        switch self {\n        case .fund:\n            return \"PP\"\n        case .stock:\n            return \"\"\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 1, "creation_date": 1576002175, "post_id": 59273113, "comment_id": 104753603, "body": "Please use lowercase for the constants fund and stock, this is not Kotilin or Java"}], "tags": [], "owner": {"reputation": 8483, "user_id": 5318223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/be47da4995eb4e8dff0ab4637e5773d6?s=128&d=identicon&r=PG&f=1", "display_name": "Kiril S.", "link": "https://stackoverflow.com/users/5318223/kiril-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1576002527, "last_edit_date": 1576002527, "creation_date": 1576001357, "answer_id": 59273113, "question_id": 59270967, "link": "https://stackoverflow.com/questions/59270967/kotlin-enum-classes-in-swift/59273113#59273113", "title": "Kotlin enum classes in Swift", "body": "<p>Technically @esemusa answer is right. But if you have more than ~5 values in enum, you end up with difficult to maintain giant switch statements <em>for every property</em>. </p>\n\n<p>So for cases like that I prefer to do this:</p>\n\n<pre><code>struct ProTypeItem {\n    var gCode: String\n    var cCode: String\n}\n\nstruct ProType {\n    static let fund = ProTypeItem(gCode: \"FN\", cCode: \"PP\")\n    static let stock = ProTypeItem(gCode: \"VA\", cCode: \"\")\n}\n</code></pre>\n\n<p>And you use it simply as <code>ProType.stock</code>, <code>ProType.fund.gCode</code> etc</p>\n\n<p>You can also make ProTypeItem Comparable, Equatable etc. </p>\n"}], "owner": {"reputation": 1417, "user_id": 865249, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bc392a7f1e25e90bbfb34e1c276ee551?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/865249/ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 59271157, "answer_count": 2, "score": 0, "last_activity_date": 1576002527, "creation_date": 1575992960, "question_id": 59270967, "link": "https://stackoverflow.com/questions/59270967/kotlin-enum-classes-in-swift", "title": "Kotlin enum classes in Swift", "body": "<p>I would like to use this Kotiln code in Swift, but I don't know how to get the best and clean solution:</p>\n\n<pre><code>enum class ProType(val gCode: String, val cCode: String) {\n    FUND(\"FN\", \"PP\"),\n    STOCK(\"VA\", \"\")\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 10820155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ffba86a2a6cd5e9fc32676b8f7f167?s=128&d=identicon&r=PG&f=1", "display_name": "Rondev", "link": "https://stackoverflow.com/users/10820155/rondev"}, "edited": false, "score": 0, "creation_date": 1575994393, "post_id": 59270610, "comment_id": 104749889, "body": "Nice. Now my list is loading when I reach the buttom but the footer progress bar isn&#39;t showing"}, {"owner": {"reputation": 97, "user_id": 4817916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l3rEB.jpg?s=128&g=1", "display_name": "Akshay Choudhry", "link": "https://stackoverflow.com/users/4817916/akshay-choudhry"}, "reply_to_user": {"reputation": 469, "user_id": 10820155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ffba86a2a6cd5e9fc32676b8f7f167?s=128&d=identicon&r=PG&f=1", "display_name": "Rondev", "link": "https://stackoverflow.com/users/10820155/rondev"}, "edited": false, "score": 0, "creation_date": 1575994818, "post_id": 59270610, "comment_id": 104750150, "body": "Try to call notifyDatasetChanged() on the adapter when you load from the MainActivity inside the getPage() method"}, {"owner": {"reputation": 469, "user_id": 10820155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ffba86a2a6cd5e9fc32676b8f7f167?s=128&d=identicon&r=PG&f=1", "display_name": "Rondev", "link": "https://stackoverflow.com/users/10820155/rondev"}, "edited": false, "score": 0, "creation_date": 1575995270, "post_id": 59270610, "comment_id": 104750422, "body": "I already call notifyDatasetChanged() inside getPage() as you can see in my code"}, {"owner": {"reputation": 97, "user_id": 4817916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l3rEB.jpg?s=128&g=1", "display_name": "Akshay Choudhry", "link": "https://stackoverflow.com/users/4817916/akshay-choudhry"}, "reply_to_user": {"reputation": 469, "user_id": 10820155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ffba86a2a6cd5e9fc32676b8f7f167?s=128&d=identicon&r=PG&f=1", "display_name": "Rondev", "link": "https://stackoverflow.com/users/10820155/rondev"}, "edited": false, "score": 0, "creation_date": 1576178275, "post_id": 59270610, "comment_id": 104824810, "body": "If you share your codebase, I could try to help further."}, {"owner": {"reputation": 469, "user_id": 10820155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ffba86a2a6cd5e9fc32676b8f7f167?s=128&d=identicon&r=PG&f=1", "display_name": "Rondev", "link": "https://stackoverflow.com/users/10820155/rondev"}, "edited": false, "score": 0, "creation_date": 1576236759, "post_id": 59270610, "comment_id": 104843267, "body": "After some trial and error I can see the footer when I scroll to the bottom. but I don&#39;t understand exacly how is it working. I am posting and Update in the question with the updated functions"}], "tags": [], "owner": {"reputation": 97, "user_id": 4817916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l3rEB.jpg?s=128&g=1", "display_name": "Akshay Choudhry", "link": "https://stackoverflow.com/users/4817916/akshay-choudhry"}, "is_accepted": false, "score": 1, "last_activity_date": 1575991824, "creation_date": 1575991824, "answer_id": 59270610, "question_id": 59270339, "link": "https://stackoverflow.com/questions/59270339/kotlin-recyclerview-add-loading-footer/59270610#59270610", "title": "Kotlin RecyclerView Add Loading footer", "body": "<p>Consider maintaining the isLoading variable also inside the adapter and (un)setting it from your MainActivity by adding the following method in your adapter:</p>\n\n<pre><code>var isLoading:Boolean\nfun setIsLoading(value:Boolean) {\n    isLoading = value\n}\n</code></pre>\n\n<p>Then you could change the methods like so:</p>\n\n<pre><code>override fun getItemCount(): Int {\n    return numberList.size + 1\n}\n</code></pre>\n\n<p>TO</p>\n\n<pre><code>override fun getItemCount(): Int {\n    return if(!isLoading) isnumberList.size + 1 else isnumberList.size + 2 \n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>override fun getItemViewType(position: Int): Int {\n    if(position == 0) {\n        return TYPE_HEADER\n    }\n\n    return TYPE_ITEMS\n}\n</code></pre>\n\n<p>TO</p>\n\n<pre><code>override fun getItemViewType(position: Int): Int {\n    if(position == 0) {\n        return TYPE_HEADER\n    } else if(position == isnumberList.size + 2) {\n        return TYPE_FOOTER\n    }\n\n    return TYPE_ITEMS\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 10820155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ffba86a2a6cd5e9fc32676b8f7f167?s=128&d=identicon&r=PG&f=1", "display_name": "Rondev", "link": "https://stackoverflow.com/users/10820155/rondev"}, "edited": false, "score": 0, "creation_date": 1576238052, "post_id": 59270844, "comment_id": 104843890, "body": "This trick worked for me, but after I combined my RecyclerView with Bottom Navigation everything went crazy bad. So unfortunately this technique isn&#39;t efficient for me."}, {"owner": {"reputation": 16018, "user_id": 1511776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/g3ZQs.jpg?s=128&g=1", "display_name": "hardartcore", "link": "https://stackoverflow.com/users/1511776/hardartcore"}, "reply_to_user": {"reputation": 469, "user_id": 10820155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ffba86a2a6cd5e9fc32676b8f7f167?s=128&d=identicon&r=PG&f=1", "display_name": "Rondev", "link": "https://stackoverflow.com/users/10820155/rondev"}, "edited": false, "score": 0, "creation_date": 1576329058, "post_id": 59270844, "comment_id": 104868840, "body": "You should add more detail what is the problem and what are you doing so we can help. My answer was more an basic idea than a real implementation."}], "tags": [], "owner": {"reputation": 16018, "user_id": 1511776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/g3ZQs.jpg?s=128&g=1", "display_name": "hardartcore", "link": "https://stackoverflow.com/users/1511776/hardartcore"}, "is_accepted": true, "score": 1, "last_activity_date": 1575992598, "creation_date": 1575992598, "answer_id": 59270844, "question_id": 59270339, "link": "https://stackoverflow.com/questions/59270339/kotlin-recyclerview-add-loading-footer/59270844#59270844", "title": "Kotlin RecyclerView Add Loading footer", "body": "<p>In order to create a footer item in your Adapter your should implement a few things inside your code.</p>\n\n<p>First thing is that you should create a new <code>itemViewType</code> for your footer.\nThe second thing which you have to do is to create a way that you tell your <code>Adapter</code> that this view is actually a footer. Since you are using <code>List</code> with <code>String</code> you should add something like this at the end of the <code>List</code>:</p>\n\n<pre><code>numberList.add(\"VIEW_TYPE_FOOTER\")\n</code></pre>\n\n<p>and after that:</p>\n\n<pre><code>override fun getItemViewType(position: Int): Int {\n      val item = numberList[position]\n      if(position == 0) {\n          return TYPE_HEADER\n      } else if(item == \"VIEW_TYPE_FOOTER\") {\n          return TYPE_FOOTER\n      }\n      return TYPE_ITEMS\n}\n</code></pre>\n\n<p>And you should check for lastVisibleItem, not the firstVisible one and get the nextPage after that.\nKeep in mind that after getting the next page you will have to remove the latest item from the <code>List</code> which will be your footer view, add the next page to the <code>List</code> and then decide if you will need to add a new footer.</p>\n\n<p>Hope this helps you to understand how to make it work in your situation.</p>\n"}], "owner": {"reputation": 469, "user_id": 10820155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ffba86a2a6cd5e9fc32676b8f7f167?s=128&d=identicon&r=PG&f=1", "display_name": "Rondev", "link": "https://stackoverflow.com/users/10820155/rondev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1240, "favorite_count": 0, "accepted_answer_id": 59270844, "answer_count": 2, "score": 3, "last_activity_date": 1576238222, "creation_date": 1575990880, "last_edit_date": 1576238222, "question_id": 59270339, "link": "https://stackoverflow.com/questions/59270339/kotlin-recyclerview-add-loading-footer", "title": "Kotlin RecyclerView Add Loading footer", "body": "<p>I have implemented a header for my RecyclerView using this video: <a href=\"https://www.youtube.com/watch?v=ksIpDnLiCMs\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ksIpDnLiCMs</a></p>\n\n<p>But I can't figure out how to integrate a loading footer with ProgressBar, I've tried to implement it myself but it's not working, it should load more when I go down but it keeps loading no matter where is my scroll position, and the progressbar won't appear.\nHere is my code:</p>\n\n<blockquote>\n  <p>MainActivity.kt:</p>\n</blockquote>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    val numberList: MutableList&lt;String&gt; = ArrayList()\n\n    var page = 1\n    var isLoading = false\n    var limit = 10\n\n    lateinit var adapter: RV_Adapter\n    lateinit var layoutManager: LinearLayoutManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        layoutManager = LinearLayoutManager(this)\n        recyclerView.layoutManager = layoutManager\n\n        getPage()\n\n        recyclerView.addOnScrollListener(object: RecyclerView.OnScrollListener() {\n            override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n\n                val visibleItemCount = layoutManager.childCount\n                val pastVisibleItem = layoutManager.findFirstCompletelyVisibleItemPosition()\n                val total = adapter.itemCount\n\n                if(!isLoading) {\n                    if((visibleItemCount + pastVisibleItem) &gt;= total) {\n                        page++\n                        getPage()\n                    }\n                }\n\n                super.onScrolled(recyclerView, dx, dy)\n            }\n        })\n    }\n\n    fun getPage() {\n        isLoading = true\n        //progressBar.visibility = View.VISIBLE\n        val start : Int = (page-1)*limit\n        val end : Int = page * limit\n\n        for(i in start..end){\n            numberList.add(\"PodView \" + i.toString())\n        }\n        Handler().postDelayed({\n            if(::adapter.isInitialized) {\n                adapter.notifyDataSetChanged()\n            } else {\n                adapter = RV_Adapter(this, numberList)\n                recyclerView.adapter = adapter\n            }\n            isLoading = false\n            //progressBar.visibility = View.GONE\n        }, 0)\n\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>RV_Adapter.kt</p>\n</blockquote>\n\n<pre><code>class RV_Adapter(private val context: Context, private val numberList: MutableList&lt;String&gt;) : RecyclerView.Adapter&lt;BaseViewHolder&lt;*&gt;&gt;() {\n\n    companion object {\n        private const val TYPE_HEADER = 0\n        private const val TYPE_ITEMS = 1\n        private const val TYPE_FOOTER = 2\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseViewHolder&lt;*&gt; {\n\n        return when(viewType) {\n            TYPE_HEADER -&gt; {\n                val view = LayoutInflater.from(context).inflate(R.layout.rv_header, parent, false)\n                HeaderViewHolder(view)\n            }\n\n            TYPE_ITEMS -&gt; {\n                val view = LayoutInflater.from(context).inflate(R.layout.listview_item, parent, false)\n                ItemViewHolder(view)\n            }\n\n            TYPE_FOOTER -&gt; {\n                val view = LayoutInflater.from(context).inflate(R.layout.rv_footer, parent, false)\n                FooterViewHolder(view)\n            }\n\n            else -&gt; throw IllegalArgumentException(\"Invalid View Type\")\n        }\n\n    }\n\n    override fun getItemCount(): Int {\n        return numberList.size + 1\n    }\n\n    override fun onBindViewHolder(holder: BaseViewHolder&lt;*&gt;, position: Int) {\n        if(holder is ItemViewHolder){\n            holder.numberBarText.text = numberList[position]\n        }\n        if(holder is HeaderViewHolder){\n            holder.cardView.radius = 50f\n        }\n\n\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        if(position == 0) {\n            return TYPE_HEADER\n        }\n\n        return TYPE_ITEMS\n    }\n\n    inner class HeaderViewHolder(itemView: View): BaseViewHolder&lt;View&gt;(itemView) {\n        val cardView : CardView = itemView.findViewById(R.id.profileImageCardView)\n\n        override fun bind(item: View) {}\n\n    }\n\n    inner class ItemViewHolder(itemView: View): BaseViewHolder&lt;View&gt;(itemView) {\n        val numberBarText = itemView.findViewById&lt;TextView&gt;(R.id.numberBarText)\n\n        override fun bind(item: View) {}\n\n    }\n    inner class FooterViewHolder(itemView: View): BaseViewHolder&lt;View&gt;(itemView) {\n\n        override fun bind(item: View) {}\n\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>UPDATE:</strong></p>\n</blockquote>\n\n<p>After combining my RecyclerView with BottomNavigationView, the footer and header are glitching. A more solid solution is required rather than adding strings to the arraylist like: <code>numberList.add(\"VIEW_TYPE_FOOTER\")</code></p>\n"}, {"tags": ["java", "android", "kotlin", "sentry"], "comments": [{"owner": {"reputation": 919, "user_id": 5371168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d1f0af42928cb0bb3b8b6f7a42adb3e?s=128&d=identicon&r=PG&f=1", "display_name": "D. Lawrence", "link": "https://stackoverflow.com/users/5371168/d-lawrence"}, "edited": false, "score": 0, "creation_date": 1575989755, "post_id": 59269944, "comment_id": 104747128, "body": "What is the error?"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 919, "user_id": 5371168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d1f0af42928cb0bb3b8b6f7a42adb3e?s=128&d=identicon&r=PG&f=1", "display_name": "D. Lawrence", "link": "https://stackoverflow.com/users/5371168/d-lawrence"}, "edited": false, "score": 0, "creation_date": 1575989922, "post_id": 59269944, "comment_id": 104747247, "body": "I updated, the question. The dashboard shows only the event with no user."}], "answers": [{"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1576220853, "post_id": 59274138, "comment_id": 104836063, "body": "Hi Bruno, thanks for the answer. I have just migrated to the new SDK and what&#39;s the proper way of capturing custom events with the user context?"}, {"owner": {"reputation": 5137, "user_id": 1977143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0535f24ca07991ae67a1effb618d3cae?s=128&d=identicon&r=PG", "display_name": "Bruno Garcia", "link": "https://stackoverflow.com/users/1977143/bruno-garcia"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1576268197, "post_id": 59274138, "comment_id": 104857869, "body": "I&#39;d suggest raising a question here so people could try answering."}], "tags": [], "owner": {"reputation": 5137, "user_id": 1977143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0535f24ca07991ae67a1effb618d3cae?s=128&d=identicon&r=PG", "display_name": "Bruno Garcia", "link": "https://stackoverflow.com/users/1977143/bruno-garcia"}, "is_accepted": true, "score": 1, "last_activity_date": 1576006154, "creation_date": 1576006154, "answer_id": 59274138, "question_id": 59269944, "link": "https://stackoverflow.com/questions/59269944/how-to-add-user-info-to-sentry-context/59274138#59274138", "title": "How to add user info to Sentry context?", "body": "<p>Please note:</p>\n\n<p>Sentry has released a <a href=\"https://docs.sentry.io/platforms/android/\" rel=\"nofollow noreferrer\">new Android SDK</a>. It's still a beta release though.\nAlso, <a href=\"https://blog.sentry.io/2019/12/10/new-android-sdk-how-to/\" rel=\"nofollow noreferrer\">came out today a blog post</a> about migrating from <code>sentry-android</code> 1.7 to 2.0.</p>\n\n<p>With regards to your snippet:</p>\n\n<p>You're building the event before passing it to <code>Sentry.capture</code>:</p>\n\n<pre><code>Sentry.getContext().user = new UserBuilder().setEmail(\"tester@email.com\").build();\nSentry.capture(EventBuilder().withMessage(\"Test message.\"));\n</code></pre>\n\n<p>Use the overload that takes the builder, so the SDK can read the Context data and add it to the event.</p>\n"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "closed_date": 1576011616, "accepted_answer_id": 59274138, "answer_count": 1, "score": 1, "last_activity_date": 1576006154, "creation_date": 1575989572, "last_edit_date": 1575989893, "question_id": 59269944, "link": "https://stackoverflow.com/questions/59269944/how-to-add-user-info-to-sentry-context", "closed_reason": "Needs details or clarity", "title": "How to add user info to Sentry context?", "body": "<p>I try to add user info to Sentry context, but it never works. The event details show empty user.</p>\n\n<pre><code>Sentry.getContext().user = UserBuilder().setEmail(\"tester@email.com\").build()\nSentry.capture(EventBuilder().withMessage(\"Test message.\").build())\n</code></pre>\n\n<p>Any ideas what I do wrong?</p>\n"}, {"tags": ["android", "kotlin", "android-button"], "comments": [{"owner": {"reputation": 2805, "user_id": 2583021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRpmD.png?s=128&g=1", "display_name": "Atish Agrawal", "link": "https://stackoverflow.com/users/2583021/atish-agrawal"}, "edited": false, "score": 2, "creation_date": 1575990922, "post_id": 59269630, "comment_id": 104747809, "body": "If you want the buttons to be aligned vertically below one another, try using Linear Layout with orientation property &quot;vertical&quot;, and simply add all the buttons to the dynamically created Linear Layout. And finally, add this Linear Layout to the ScrollView (as ScrollView can have only ONE direct child)"}, {"owner": {"reputation": 13, "user_id": 10252241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea946e2b65b252d15ccd2505c95c0a1?s=128&d=identicon&r=PG", "display_name": "Jean Silva", "link": "https://stackoverflow.com/users/10252241/jean-silva"}, "reply_to_user": {"reputation": 2805, "user_id": 2583021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRpmD.png?s=128&g=1", "display_name": "Atish Agrawal", "link": "https://stackoverflow.com/users/2583021/atish-agrawal"}, "edited": false, "score": 0, "creation_date": 1575991791, "post_id": 59269630, "comment_id": 104748324, "body": "OMG, thank you, that worked! I can&#39;t believe the solution was that simple..."}, {"owner": {"reputation": 2805, "user_id": 2583021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRpmD.png?s=128&g=1", "display_name": "Atish Agrawal", "link": "https://stackoverflow.com/users/2583021/atish-agrawal"}, "edited": false, "score": 0, "creation_date": 1576059603, "post_id": 59269630, "comment_id": 104772863, "body": "Glad, it worked."}], "owner": {"reputation": 13, "user_id": 10252241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea946e2b65b252d15ccd2505c95c0a1?s=128&d=identicon&r=PG", "display_name": "Jean Silva", "link": "https://stackoverflow.com/users/10252241/jean-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575992120, "creation_date": 1575988622, "last_edit_date": 1575992120, "question_id": 59269630, "link": "https://stackoverflow.com/questions/59269630/placing-dynamically-added-buttons-below-each-other", "title": "Placing dynamically added buttons below each other", "body": "<p>I'm building a calculator app and in it there's a ScrollView, used to show and switch the buttons for operators and units whenever the user switches between modes.</p>\n\n<p>The problem is that I didn't want to create a XML layout for each mode, so I thought of adding those buttons programmatically (which now, for me, seems pretty hard to accomplish). Here's the code that's supposed to add them:</p>\n\n<pre><code>// For each text in texts (which represents the modes), a Button is created and, if its id (represented by the index of its respective text in the list) is greater than 0, it is positioned below the previous one.\nfun ScrollView.add(context: Context, input: EditText, texts: List&lt;String&gt;) {\n    removeAllViews()\n\n    val container = ConstraintLayout(context).apply {\n        layoutParams = ConstraintLayout.LayoutParams(WRAP_CONTENT, WRAP_CONTENT).apply {\n            topToTop = this@add.top\n            startToStart = this@add.left\n            endToEnd = this@add.right\n        }\n    }\n\n    val buttons: MutableList&lt;Button&gt; = mutableListOf()\n\n    texts.forEach { text -&gt;\n        val button = Button(context)\n\n        val originalWidth = 60\n        val width = originalWidth.toDimension(context, COMPLEX_UNIT_DIP)\n\n        val originalHeight = 60\n        val height = originalHeight.toDimension(context, COMPLEX_UNIT_DIP)\n\n        with(button) {\n            layoutParams = ConstraintLayout.LayoutParams(WRAP_CONTENT, WRAP_CONTENT)\n\n            id = texts.indexOf(text)\n            val previous = try { buttons[id - 1] } catch (exception: Exception) { this }\n\n            setWidth(width)\n            setHeight(height)\n\n            with(layoutParams as ConstraintLayout.LayoutParams) {\n                if (id == 0)\n                    topToTop = this@add.top\n                else if (id &gt; 0) {\n                    layoutParams = RelativeLayout.LayoutParams(WRAP_CONTENT, WRAP_CONTENT)\n                    (layoutParams as RelativeLayout.LayoutParams).addRule(BELOW, previous.id)\n                }\n            }\n\n            left = this@add.left\n            right = this@add.right\n\n            button.text = text\n            isAllCaps = false\n\n            textSize = 25f\n            while (text().contains(System.getProperty(\"line.separator\").toString())) textSize -= 5\n\n            setOnClickListener { input.input((it as Button).text()) }\n            setBackgroundResource(0)\n\n            container.addView(this)\n            buttons.add(this)\n\n            val buttonAdded = \"[Dynamic List] Button $id added as \\\"$text\\\"\"\n            println(if (id == 0) \"$buttonAdded.\" else \"$buttonAdded. The button was positioned below \\\"${previous.text}\\\" (${previous.id}).\")\n        }\n    }\n\n    addView(container)\n}\n</code></pre>\n\n<p>And here's the code I implemented using the method above:</p>\n\n<pre><code>// Each calculator mode is represented by an Int within the list.\nval modes = listOf(\"calculator\" to 1, \"length\" to 2, \"temperature\" to 3, \"time\" to 4)\n\nfun mode(context: Context, button: Button, input: EditText, view: ScrollView) {\n    var counter = 0\n\n    val operators = listOf(\"+\", \"-\", times.toString(), division.toString())\n    val length = with(context) { listOf(getString(R.string.light_year), context.getString(R.string.kilometer), context.getString(R.string.hectometer), context.getString(R.string.decameter), context.getString(R.string.mile), context.getString(R.string.meter), context.getString(R.string.centimeter), context.getString(R.string.millimeter), context.getString(R.string.micrometer)) }\n    val temperature = with(context) { listOf(getString(R.string.celsius), context.getString(R.string.fahrenheit), context.getString(R.string.kevin), context.getString(R.string.rankine), context.getString(R.string.reaumur)) }\n    val time = with(context) { listOf(getString(R.string.year), context.getString(R.string.month), context.getString(R.string.day), context.getString(R.string.hour), context.getString(R.string.minute), context.getString(R.string.second), context.getString(R.string.millisecond)) }\n\n    with(button) {\n        setOnClickListener {\n            if (counter &lt; modes.size - 1) counter++ else counter = 0\n\n            with(view) {\n                val mode: Pair&lt;String, Int&gt;? = modes[counter]\n\n                when (mode?.first) {\n                    \"calculator\" -&gt; add(context, input, operators)\n                    \"length\" -&gt; add(context, input, length)\n                    \"temperature\" -&gt; add(context, input, temperature)\n                    \"time\" -&gt; add(context, input, time)\n                }\n\n                text = with(context) {\n                    with(resources) { getString(identify(context, mode?.first, \"string\")) }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Well, the problem is when I run it, the UI ends up looking like this, with all the buttons positioned at the same place:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cHStX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cHStX.jpg\" alt=\"Calculator mode button positioning bug.\"></a></p>\n"}, {"tags": ["kotlin", "mockk", "kotlintest"], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 8756730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/590f4ed8f8dda3179d64ca5b23403ced?s=128&d=identicon&r=PG&f=1", "display_name": "Shakka", "link": "https://stackoverflow.com/users/8756730/shakka"}, "edited": false, "score": 0, "creation_date": 1576184372, "post_id": 59290179, "comment_id": 104827122, "body": "The <code>shouldNotThrowAny</code> part was the missing piece for me, thanks a lot!"}], "tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": true, "score": 3, "last_activity_date": 1576081778, "creation_date": 1576081778, "answer_id": 59290179, "question_id": 59269059, "link": "https://stackoverflow.com/questions/59269059/check-all-assertion-and-verifications-when-using-mockk-verification-together-wit/59290179#59290179", "title": "Check all assertion and verifications when using mockk verification together with assertion libraries", "body": "<p>As per your comment, you said you are using <code>KotlinTest</code>.</p>\n\n<p>In KotlinTest, I believe you can use <a href=\"https://github.com/kotlintest/kotlintest/blob/master/doc/reference.md#soft-assertions\" rel=\"nofollow noreferrer\"><code>assertSoftly</code></a> for the behavior you want:</p>\n\n<blockquote>\n  <p>Normally, assertions like shouldBe throw an exception when they fail. But sometimes you want to perform multiple assertions in a test, and would like to see all of the assertions that failed. KotlinTest provides the assertSoftly function for this purpose.</p>\n\n<pre><code>assertSoftly {\n  foo shouldBe bar\n  foo should contain(baz)\n}\n</code></pre>\n  \n  <p>If any assertions inside the block failed, the test will continue to run. All failures will be reported in a single exception at the end of the block.</p>\n</blockquote>\n\n<p>And then, we can convert your test to use <code>assertSoftly</code>:</p>\n\n<pre><code>assertSoftly {\n    success shouldBe true\n    shouldNotThrowAny {\n        verify(exactly = 1) { mock.methodcall(any()) }\n    }\n}\n</code></pre>\n\n<p>It's necessary to wrap <code>verify</code> in <code>shouldNotThrowAny</code> to make <code>assertSoftly</code> aware of it when it throws an exception</p>\n"}], "owner": {"reputation": 127, "user_id": 8756730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/590f4ed8f8dda3179d64ca5b23403ced?s=128&d=identicon&r=PG&f=1", "display_name": "Shakka", "link": "https://stackoverflow.com/users/8756730/shakka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 1, "accepted_answer_id": 59290179, "answer_count": 1, "score": 1, "last_activity_date": 1576083735, "creation_date": 1575986820, "last_edit_date": 1576083735, "question_id": 59269059, "link": "https://stackoverflow.com/questions/59269059/check-all-assertion-and-verifications-when-using-mockk-verification-together-wit", "title": "Check all assertion and verifications when using mockk verification together with assertion libraries", "body": "<p>I want the test to report all assertions and verifications. So both the <code>mockk</code> verification <strong>AND</strong> the the assertion library (in this case, <code>KotlinTest</code>) assertions should run and not shortcircuit.</p>\n\n<p>In other words I don't want the test to stop ...</p>\n\n<pre><code>verify(exactly = 1) { mock.methodcall(any()) } // ... here\nsuccess shouldBe true // how can I check this line too\n</code></pre>\n\n<p>nor ...</p>\n\n<pre><code>success shouldBe true // ... here\nverify(exactly = 1) { mock.methodcall(any()) }  // how can I check this line too\n</code></pre>\n\n<p>How to do this? I am open to use just one tool if I can do both with it.</p>\n"}, {"tags": ["android", "kotlin", "android-edittext", "xiaomi"], "comments": [{"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 3, "creation_date": 1575985696, "post_id": 59268576, "comment_id": 104744631, "body": "What does it do instead ? Is there an error ?"}, {"owner": {"reputation": 1053, "user_id": 12040838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/200MH.jpg?s=128&g=1", "display_name": "Twisha Kotecha", "link": "https://stackoverflow.com/users/12040838/twisha-kotecha"}, "edited": false, "score": 0, "creation_date": 1576049461, "post_id": 59268576, "comment_id": 104767775, "body": "first of all add your whole code with error"}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 9863369, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9vl_N88Nd5c/AAAAAAAAAAI/AAAAAAAA57Q/BMf6Bkjmtao/photo.jpg?sz=128", "display_name": "Moni Mccom", "link": "https://stackoverflow.com/users/9863369/moni-mccom"}, "is_accepted": false, "score": 0, "last_activity_date": 1576071435, "creation_date": 1576071435, "answer_id": 59287049, "question_id": 59268576, "link": "https://stackoverflow.com/questions/59268576/set-edittext-not-working-on-xiaomi-devices-kotlin/59287049#59287049", "title": "Set edittext not working on Xiaomi devices ...Kotlin", "body": "<p>I found the problem\nI changed this part of the code and everything started working on xioami devices</p>\n\n<p>from:</p>\n\n<pre><code>                var _format = SimpleDateFormat(\"hh:mm:ss aa\")\n                var _time1 = _format.parse(\"08:00:12 pm\")\n                var _time2 = _format.parse(\"05:30:12 pm\")\n</code></pre>\n\n<p>to </p>\n\n<pre><code>                var _format = SimpleDateFormat(\"hh:mm\")\n                var _time1 = _format.parse(\"08:00\")\n                var _time2 = _format.parse(\"05:30\")\n\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9863369, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9vl_N88Nd5c/AAAAAAAAAAI/AAAAAAAA57Q/BMf6Bkjmtao/photo.jpg?sz=128", "display_name": "Moni Mccom", "link": "https://stackoverflow.com/users/9863369/moni-mccom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576264010, "creation_date": 1575985299, "last_edit_date": 1576264010, "question_id": 59268576, "link": "https://stackoverflow.com/questions/59268576/set-edittext-not-working-on-xiaomi-devices-kotlin", "title": "Set edittext not working on Xiaomi devices ...Kotlin", "body": "<p>Cant set EditText   on Xiaomi devices<br>\nOn most devices its work, i test the app on (samsung, LG, Oneplus, huawei, Xioami) in all devices work perfect except Xioami .\nfor some reason Xioami devices cant set or get this code :\ntripTimeEditText?.setText(_diffResultDouble.toString())</p>\n\n<p>thanks for help</p>\n\n<pre><code>fun TimePickerDialogFun (){\n        val _calender = Calendar.getInstance()\n\n        val _timePicer = TimePickerDialog(this,TimePickerDialog.OnTimeSetListener { view, hourOfDay, minute -&gt;\n            _timePicByUser.set(Calendar.HOUR_OF_DAY,hourOfDay)\n            _timePicByUser.set(Calendar.MINUTE,minute)\n            if(_checkButtomTimePush == 1){\n                startTimeButton.text = _timeFormat.format(_timePicByUser.time)\n                _timeStart.set(Calendar.HOUR_OF_DAY,hourOfDay)\n                _timeStart.set(Calendar.MINUTE,minute)\n\n            }else if(_checkButtomTimePush == 2){\n                endTimeButton.text = _timeFormat.format(_timePicByUser.time)\n                _timeEnd.set(Calendar.HOUR_OF_DAY,hourOfDay)\n                _timeEnd.set(Calendar.MINUTE,minute)\n            }else{\n                _checkButtomTimePush = 0\n            }\n\n            try {\n                var _format = SimpleDateFormat(\"hh:mm:ss aa\")\n                var _time1 = _format.parse(\"08:00:12 pm\")\n                var _time2 = _format.parse(\"05:30:12 pm\")\n                 _difreentBetweenTime = _time2.time - _time1.time\n                _time1 = _timeStart.time\n                _time2 = _timeEnd.time\n                _difreentBetweenTime = _time2.time - _time1.time\n                 _hours = (_difreentBetweenTime / (1000 * 60 * 60)).toInt()\n                 _mins = (_difreentBetweenTime / (1000 * 60)).toInt() % 60\n                _diffResultDouble = (_hours * 60 + _mins).toDouble()\n                 _diffResultString = \"$_hours:$_mins\"\n\n                tripTimeEditText?.setText(_diffResultDouble.toString())\n\n            } catch (e: Throwable) {\n                e.printStackTrace()\n            }\n        },\n            _calender.get(Calendar.HOUR_OF_DAY),\n            _calender.get(Calendar.MINUTE),true\n        )\n        _timePicer.show()\n</code></pre>\n"}, {"tags": ["spring", "kotlin", "spring-kafka", "spring-cloud-stream"], "comments": [{"owner": {"reputation": 3915, "user_id": 837717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32cee48943b91e719134cd9cc6cc752?s=128&d=identicon&r=PG", "display_name": "Oleg Zhurakousky", "link": "https://stackoverflow.com/users/837717/oleg-zhurakousky"}, "edited": false, "score": 0, "creation_date": 1576002680, "post_id": 59268408, "comment_id": 104753824, "body": "You may want to post your application somewhere on github (so we can look). Something is missing  as it is perfectly fine to have multiple input bindings"}], "answers": [{"tags": [], "owner": {"reputation": 1487, "user_id": 2092109, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/afb5b933c23840b9fff48f67c7448dec?s=128&d=identicon&r=PG", "display_name": "Benas", "link": "https://stackoverflow.com/users/2092109/benas"}, "is_accepted": false, "score": 2, "last_activity_date": 1603894769, "last_edit_date": 1603894769, "creation_date": 1603893763, "answer_id": 64574480, "question_id": 59268408, "link": "https://stackoverflow.com/questions/59268408/cannot-run-two-input-subscriblechannels-in-spring-boot-app/64574480#64574480", "title": "Cannot run two @Input SubscribleChannels in spring-boot app", "body": "<p>Something is related to the version of the libraries.\nFor example my task was to switch to 2.4 kafka client with <code>org.springframework.boot</code> version <code>2.2.3.RELEASE</code>. Firstly I updated to the latest <code>2.2.10.RELEASE</code> version, you would say it's not a big deal since it's minor version change, well it appears that <code>2.2.10.RELEASE</code> caused this bug and I had to revert it to <code>2.2.9.RELEASE</code>.\nNext step for my kafka version increase was to follow this tutorial:\n<a href=\"https://docs.spring.io/spring-kafka/reference/html/#update-deps\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#update-deps</a></p>\n<p>So I set <code>implementation &quot;org.springframework.kafka:spring-kafka:2.4.9.RELEASE&quot;</code>, well guess what? <code>2.4.9.RELEASE</code> also caused the same problem, so I downgraded it to <code>2.4.8.RELEASE</code>.</p>\n<p>My working config (not using latest minor versions):</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.9.RELEASE'\n}\n\next {\n    springKafkaVersion = '2.4.8.RELEASE'\n    kafkaVersion = '2.4.1'\n}\n\ndependencies {\n    implementation &quot;org.springframework.kafka:spring-kafka:$springKafkaVersion&quot;\n\n    implementation &quot;org.apache.kafka:kafka-clients:$kafkaVersion&quot;\n    implementation &quot;org.apache.kafka:kafka-streams:$kafkaVersion&quot;\n    testImplementation &quot;org.springframework.kafka:spring-kafka-test:$springKafkaVersion&quot;\n    testImplementation &quot;org.apache.kafka:kafka-clients:$kafkaVersion:test&quot;\n}\n</code></pre>\n<p>So the suggestion is to look at your library versions and try to upgrade/downgrade accordingly.</p>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 7234608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04604e4b5a1c3befb5958e0db2374d8?s=128&d=identicon&r=PG&f=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/7234608/ray"}, "is_accepted": false, "score": 1, "last_activity_date": 1604563162, "creation_date": 1604563162, "answer_id": 64693225, "question_id": 59268408, "link": "https://stackoverflow.com/questions/59268408/cannot-run-two-input-subscriblechannels-in-spring-boot-app/64693225#64693225", "title": "Cannot run two @Input SubscribleChannels in spring-boot app", "body": "<p>I have the same error when updating spring boot version from 2.2.9 to 2.2.10, current work around is to use the old version. You can check your spring boot version and have a try</p>\n"}], "owner": {"reputation": 11, "user_id": 12511927, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ERvOEkenkVI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reTZCsbHwKbNZWqsEEg2j6VhY9ExQ/photo.jpg?sz=128", "display_name": "Dawien", "link": "https://stackoverflow.com/users/12511927/dawien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1604563162, "creation_date": 1575984754, "last_edit_date": 1575991353, "question_id": 59268408, "link": "https://stackoverflow.com/questions/59268408/cannot-run-two-input-subscriblechannels-in-spring-boot-app", "title": "Cannot run two @Input SubscribleChannels in spring-boot app", "body": "<p>I'm developing a spring cloud kafka app with kafka streams binder. I have two @Input and one @Output as the following:</p>\n\n<pre><code>internal interface OfferChannel {\n\n        companion object {\n            const val CREATE_OFFER = \"create-offer\"\n            const val CREATE_OFFER_COUNTER = \"create-offer-counter\"\n            const val OFFER_CREATED = \"offer-created\"\n        }\n\n        @Input(OFFER_CREATED)\n        fun offerCreatedChannel(): SubscribableChannel\n\n        @Input(CREATE_OFFER_COUNTER)\n        fun createOfferAdminChannel(): SubscribableChannel\n\n        @Output(CREATE_OFFER)\n        fun createOfferChannel(): MessageChannel\n\n    }\n</code></pre>\n\n<p>During application startup I am getting the following error:</p>\n\n<pre><code>org.springframework.cloud.stream.binder.BinderException: Exception thrown while starting consumer: \n    at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindConsumer(AbstractMessageChannelBinder.java:455)\n    at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindConsumer(AbstractMessageChannelBinder.java:99)\n    at org.springframework.cloud.stream.binder.AbstractBinder.bindConsumer(AbstractBinder.java:144)\n    at org.springframework.cloud.stream.binding.BindingService.lambda$rescheduleConsumerBinding$0(BindingService.java:171)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.IllegalStateException: Only one LastSubscriberMessageHandler is allowed\n    at org.springframework.cloud.stream.binder.BinderErrorChannel.subscribe(BinderErrorChannel.java:44)\n    at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.registerErrorInfrastructure(AbstractMessageChannelBinder.java:704)\n    at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.registerErrorInfrastructure(AbstractMessageChannelBinder.java:627)\n    at org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder.createConsumerEndpoint(KafkaMessageChannelBinder.java:578)\n    at org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder.createConsumerEndpoint(KafkaMessageChannelBinder.java:135)\n    at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindConsumer(AbstractMessageChannelBinder.java:402)\n    ... 10 common frames omitted\n</code></pre>\n\n<p>Additionally, if I remove one of the @Input declarations the application starts successfully. Any suggestions what it going wrong here ?</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 4, "creation_date": 1575985224, "post_id": 59267821, "comment_id": 104744368, "body": "<code>subscribeOn</code> delays the subscription to <code>dummyApi</code> a tiny bit and thus the execution rushes through <code>withLatestFromtest</code> and no <code>onNext</code> will reach the <code>withLatestFrom</code> operator in time."}], "owner": {"reputation": 133, "user_id": 3036938, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6387531c4576b29237e4adde73ffd09a?s=128&d=identicon&r=PG&f=1", "display_name": "Dharsam1990", "link": "https://stackoverflow.com/users/3036938/dharsam1990"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575982819, "creation_date": 1575982819, "question_id": 59267821, "link": "https://stackoverflow.com/questions/59267821/rxjava-issue-with-withlatestfrom-operator-when-using-in-combination-with-subsc", "title": "RxJava: Issue with withLatestFrom operator when using in combination with .subScribeOn", "body": "<p>Please find the below kotlin code snippet:</p>\n\n<pre><code>val dummyApi: PublishSubject&lt;String&gt; = PublishSubject.create()\n\nfun withLatestFromtest() {\n    dummyApi.onNext(\"1\")\n    getOtherObservable().withLatestFrom(dummyApi)\n            .subscribeOn(Schedulers.io())\n            .subscribeBy(\n                    onNext = {\n                        Log.e(\"TAG\", \"Pair ${it.first} /// ${it.second}\")\n                    },\n                    onError = {\n                        it.printStackTrace()\n                    },\n                    onComplete = {\n                        Log.e(\"TAG\", \"Pair2 Complete\")\n                    }\n            )\n    dummyApi.onNext(\"2\")\n    dummyApi.onNext(\"3\")\n}\n\nprivate fun getOtherObservable(): Observable&lt;String&gt;{\n    return Observable.just(\"API\")\n            .delay(2, TimeUnit.SECONDS)\n}\n</code></pre>\n\n<p>Expected Output - </p>\n\n<pre><code>Pair API /// 3\nPair2 Complete\n</code></pre>\n\n<p>Actual Output - </p>\n\n<pre><code>Pair2 Complete\n</code></pre>\n\n<p>When I removed <strong>.subscribeOn(Schedulers.io())</strong> it worked as expected. I am not able to understand why scheduler is creating the issue.</p>\n"}, {"tags": ["android", "xml", "kotlin", "android-gradle-plugin", "build.gradle"], "comments": [{"owner": {"reputation": 985, "user_id": 6100078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7oT9.jpg?s=128&g=1", "display_name": "Igor Escodro", "link": "https://stackoverflow.com/users/6100078/igor-escodro"}, "edited": false, "score": 3, "creation_date": 1575984338, "post_id": 59267805, "comment_id": 104743816, "body": "Welcome to Stack Overflow, Ed Rantsan. Please, instead of adding a external links consider adding it in text format. It will make it easier for people to help you. For more information, please take a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">How To Ask</a>."}, {"owner": {"reputation": 19, "user_id": 12511700, "user_type": "registered", "profile_image": "https://graph.facebook.com/2568266196602228/picture?type=large", "display_name": "Ed Rantsan", "link": "https://stackoverflow.com/users/12511700/ed-rantsan"}, "reply_to_user": {"reputation": 985, "user_id": 6100078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7oT9.jpg?s=128&g=1", "display_name": "Igor Escodro", "link": "https://stackoverflow.com/users/6100078/igor-escodro"}, "edited": false, "score": 0, "creation_date": 1576000911, "post_id": 59267805, "comment_id": 104753103, "body": "@IgorEscodro I have deleted images and replaced them with text. Thanks for a great tip."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 12511700, "user_type": "registered", "profile_image": "https://graph.facebook.com/2568266196602228/picture?type=large", "display_name": "Ed Rantsan", "link": "https://stackoverflow.com/users/12511700/ed-rantsan"}, "edited": false, "score": 0, "creation_date": 1575983412, "post_id": 59267831, "comment_id": 104743322, "body": "Thanks a lot. I was referring to this comment + answer but didn&#39;t know about this part <code>xmlns:app=&quot;http:&#47;&#47;schemas.android.com&#47;apk&#47;res-auto&quot;</code>"}], "tags": [], "owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "is_accepted": true, "score": 2, "last_activity_date": 1575982870, "creation_date": 1575982870, "answer_id": 59267831, "question_id": 59267805, "link": "https://stackoverflow.com/questions/59267805/cant-make-app-attributes-to-work-in-xml-file/59267831#59267831", "title": "Can&#39;t make app: ... attributes to work in xml file", "body": "<p>You have to provide <code>xmlns:app=\"http://schemas.android.com/apk/res-auto\"</code> in the Parent Layout. Then you can use the <code>app:attributes</code>. Refer this <a href=\"https://stackoverflow.com/a/52772600/10182897\">answer</a> and first comment on the answer and Gradle file error shows clearly your using androidx and trying to import android version 28 library</p>\n"}], "owner": {"reputation": 19, "user_id": 12511700, "user_type": "registered", "profile_image": "https://graph.facebook.com/2568266196602228/picture?type=large", "display_name": "Ed Rantsan", "link": "https://stackoverflow.com/users/12511700/ed-rantsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 59267831, "answer_count": 1, "score": 0, "last_activity_date": 1576000843, "creation_date": 1575982753, "last_edit_date": 1576000843, "question_id": 59267805, "link": "https://stackoverflow.com/questions/59267805/cant-make-app-attributes-to-work-in-xml-file", "title": "Can&#39;t make app: ... attributes to work in xml file", "body": "<p>I'm looking for an optimal way to resize wrapping text in a TextView so that it will fit within Width.</p>\n\n<p>I am referring to this <a href=\"https://stackoverflow.com/questions/5033012/auto-scale-textview-text-to-fit-within-bounds\">Thread</a>:\nHere is official  <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/autosizing-textview\" rel=\"nofollow noreferrer\">Android Dev page</a></p>\n\n<p>The problem I have app:attributes does not work even though i added implementation in gradle file. Error: \"Namespace 'app' is not bound\"</p>\n\n<p>Here are is XML code fragment</p>\n\n<pre><code>app:autoSizeMaxTextSize=\"50sp\"\napp:autoSizeMinTextSize=\"12sp\"\napp:autoSizeStepGranularity=\"2sp\"\napp:autoSizeTextType=\"uniform\"\n</code></pre>\n\n<p>And here is my gradle file </p>\n\n<pre><code>implementation 'com.android.support:support-compat:28.0.0'\n</code></pre>\n"}, {"tags": ["regex", "sorting", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575982628, "post_id": 59267489, "comment_id": 104742893, "body": "If you would like to sort by the first int number, the result would be <code>[1, 1b, 1c, 1-10, 5b, 5, 5a]</code>"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575982723, "post_id": 59267489, "comment_id": 104742983, "body": "How to achieve this? Is there a function which will help me to split it?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575983255, "post_id": 59267489, "comment_id": 104743238, "body": "I don&#39;t think your question is clear. Well, if you just want to split a string with commas optionally wrapped with whitespaces and sort the items in the resulting list by the first chunk of digits, you may use <code>var results = s.split(&quot;\\\\s*,\\\\s*&quot;.toRegex()).sortedBy { &quot;\\\\d+&quot;.toRegex().find(it)?.value?.toInt() }</code>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575983567, "post_id": 59267489, "comment_id": 104743411, "body": "Ok, I see you also want to apply natural sort for each group of items that start with the same number?"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575983631, "post_id": 59267489, "comment_id": 104743448, "body": "I mean these string data are strings - array of strings like for example addresses for homes and I would like to sort them"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575983756, "post_id": 59267489, "comment_id": 104743511, "body": "Then join the items, append <code>.joinToString(&quot;, &quot;)</code>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575983913, "post_id": 59267489, "comment_id": 104743587, "body": "Ok, try <code>s.split(&quot;, &quot;).sortedWith(compareBy({ &quot;^\\\\d+&quot;.toRegex().find(it)?.value?.toInt() }, { it })).joinToString(&quot;, &quot;)</code>. I got a <code>1, 1-10, 1b, 1c, 5, 5a, 5b, 10</code> output. If the <code>^</code> is used, it will only match first digit chunk at the start of a string.  I assume the split items will always start with a digit."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1575983944, "post_id": 59267489, "comment_id": 104743608, "body": "@CallMePedro why should <code>1-10</code> appear before <code>1a</code>? Should all <code>n-n</code> appear before <code>n-a</code> for the same <code>n</code> (where <code>n</code> is a number and <code>a</code> is a letter)?"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575984108, "post_id": 59267489, "comment_id": 104743692, "body": "Cause 1 is before than 1a so thats why 1-10 is earlier. <code>n-n</code> won&#39;t happen in this scenario it will be consumed as <code>n</code>."}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575984353, "post_id": 59267489, "comment_id": 104743824, "body": "Wiktor please note that I am using an array not a single string. But I am getting the idea how it works"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1575984780, "post_id": 59267489, "comment_id": 104744069, "body": "Please update the question with a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575984965, "post_id": 59267489, "comment_id": 104744200, "body": "Wiktor I just edited"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1575985230, "post_id": 59267489, "comment_id": 104744371, "body": "No, <code>val list = listOf(1, 5b, 1b, 1c, 1-10, 5, 5a, 10)</code> does not compile."}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575985369, "post_id": 59267489, "comment_id": 104744456, "body": "Ok that was stupid mistake :D. Sorry"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1575985592, "post_id": 59267489, "comment_id": 104744582, "body": "Then <code>list.sortedWith(compareBy({ &quot;^\\\\d+&quot;.toRegex().find(it)?.value?.toInt() }, { it })).joinToString(&quot;, &quot;)</code> works"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575985820, "post_id": 59267489, "comment_id": 104744694, "body": "It returned <code>[1, 5b, 1b, 1c, 1-10, 5, 5a, 10]</code>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575986101, "post_id": 59267489, "comment_id": 104744871, "body": "No, it <a href=\"https://rextester.com/XSQD22299\" rel=\"nofollow noreferrer\">returns a string</a>"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575982649, "post_id": 59267760, "comment_id": 104742911, "body": "Edited and added 1b, my bad I missed it"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575982982, "post_id": 59267760, "comment_id": 104743112, "body": "Ok and what with strings like <code>10</code>, <code>20</code>? Answer is wrong then. Of course I added only few &quot;data examples&quot; but in general with other values sorting is incorrect"}, {"owner": {"reputation": 953, "user_id": 4070660, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c16ef6b3d189409dad1c7f5622ade04c?s=128&d=identicon&r=PG&f=1", "display_name": "K.H.", "link": "https://stackoverflow.com/users/4070660/k-h"}, "reply_to_user": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575983059, "post_id": 59267760, "comment_id": 104743144, "body": "I don&#39;t understand what you are trying to achieve then? This gives result what you wanted as per &quot;Result should be&quot; in your question. If you want different result, ask for it."}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575983180, "post_id": 59267760, "comment_id": 104743198, "body": "I want to achieve working sorting, nothing else. In question I added sample of data. In general I want sorting to work on strings."}, {"owner": {"reputation": 953, "user_id": 4070660, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c16ef6b3d189409dad1c7f5622ade04c?s=128&d=identicon&r=PG&f=1", "display_name": "K.H.", "link": "https://stackoverflow.com/users/4070660/k-h"}, "reply_to_user": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575983240, "post_id": 59267760, "comment_id": 104743228, "body": "This sorting works on your sample data, does it not?"}, {"owner": {"reputation": 953, "user_id": 4070660, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c16ef6b3d189409dad1c7f5622ade04c?s=128&d=identicon&r=PG&f=1", "display_name": "K.H.", "link": "https://stackoverflow.com/users/4070660/k-h"}, "reply_to_user": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575985540, "post_id": 59267760, "comment_id": 104744557, "body": "Since your question is now clear, modified question."}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575986918, "post_id": 59267760, "comment_id": 104745343, "body": "Thank you, greetings :)"}], "tags": [], "owner": {"reputation": 953, "user_id": 4070660, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c16ef6b3d189409dad1c7f5622ade04c?s=128&d=identicon&r=PG&f=1", "display_name": "K.H.", "link": "https://stackoverflow.com/users/4070660/k-h"}, "is_accepted": true, "score": 1, "last_activity_date": 1575985415, "last_edit_date": 1575985415, "creation_date": 1575982576, "answer_id": 59267760, "question_id": 59267489, "link": "https://stackoverflow.com/questions/59267489/regex-for-sorting/59267760#59267760", "title": "Regex for sorting", "body": "<p>Edited to match your changed question:</p>\n\n<pre><code>fun sortMyThing(list: List&lt;String&gt;): List&lt;String&gt; {\n    val cmp = Comparator&lt;String&gt; { a, b -&gt;\n        val intA  = a.replace(\"(\\\\d+).*\".toRegex(), \"$1\").toInt()\n        val intB = b.replace(\"(\\\\d+).*\".toRegex(), \"$1\").toInt()\n        if (intA == intB) {\n            a.compareTo(b) //otherwise 1-10 goes after 1c\n        } else {\n            intA - intB\n        }\n    }\n    return list.sortedWith(cmp)\n}\n</code></pre>\n\n<p>I get result: <code>1, 1-10, 1b, 1c, 5, 5a, 5b, 10</code></p>\n"}], "owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 59267760, "answer_count": 1, "score": -1, "last_activity_date": 1575985415, "creation_date": 1575981717, "last_edit_date": 1575985352, "question_id": 59267489, "link": "https://stackoverflow.com/questions/59267489/regex-for-sorting", "title": "Regex for sorting", "body": "<p>Hello I need a help with writing a regex to sort an house addresses.</p>\n\n<p>I have list of adresses like: <code>val list = listOf(\"1\", \"5b\", \"1b\", \"1c\", \"1-10\", \"5\", \"5a\", \"10\"))</code></p>\n\n<p>After sorting it : result should be :</p>\n\n<p><code>1, 1-10, 1b, 1c, 5, 5a, 5b, 10</code></p>\n"}, {"tags": ["android", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 5751, "user_id": 1101692, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0207bd98c9e3f6f855d82aff720437aa?s=128&d=identicon&r=PG", "display_name": "Shark", "link": "https://stackoverflow.com/users/1101692/shark"}, "edited": false, "score": 0, "creation_date": 1575979770, "post_id": 59266742, "comment_id": 104741216, "body": "do Children&#39;s children look exactly the same as Children ? if yes, it&#39;s simple - use GSON. if no - it&#39;s simple, write up a ChildrenChild class, and use GSON."}, {"owner": {"reputation": 485, "user_id": 11228798, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lNmO6_kMf48/AAAAAAAAAAI/AAAAAAAAAqI/v2ucVG35fm8/photo.jpg?sz=128", "display_name": "Mehdi Satei", "link": "https://stackoverflow.com/users/11228798/mehdi-satei"}, "reply_to_user": {"reputation": 5751, "user_id": 1101692, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0207bd98c9e3f6f855d82aff720437aa?s=128&d=identicon&r=PG", "display_name": "Shark", "link": "https://stackoverflow.com/users/1101692/shark"}, "edited": false, "score": 0, "creation_date": 1575994056, "post_id": 59266742, "comment_id": 104749676, "body": "Thanks, @Shark. My question is mainly about traversing. How to recursively traverse those nested objects."}], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 11228798, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lNmO6_kMf48/AAAAAAAAAAI/AAAAAAAAAqI/v2ucVG35fm8/photo.jpg?sz=128", "display_name": "Mehdi Satei", "link": "https://stackoverflow.com/users/11228798/mehdi-satei"}, "edited": false, "score": 0, "creation_date": 1575989646, "post_id": 59267049, "comment_id": 104747068, "body": "Thanks for the reply. Well, my problem is actually with how to recursively traverse all the children. Do you have any suggestion?"}, {"owner": {"reputation": 2623, "user_id": 963675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S8BPu.jpg?s=128&g=1", "display_name": "cking24343", "link": "https://stackoverflow.com/users/963675/cking24343"}, "reply_to_user": {"reputation": 485, "user_id": 11228798, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lNmO6_kMf48/AAAAAAAAAAI/AAAAAAAAAqI/v2ucVG35fm8/photo.jpg?sz=128", "display_name": "Mehdi Satei", "link": "https://stackoverflow.com/users/11228798/mehdi-satei"}, "edited": false, "score": 0, "creation_date": 1587519626, "post_id": 59267049, "comment_id": 108541772, "body": "@MehdiSatei, did you ever find a solution for this?"}, {"owner": {"reputation": 485, "user_id": 11228798, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lNmO6_kMf48/AAAAAAAAAAI/AAAAAAAAAqI/v2ucVG35fm8/photo.jpg?sz=128", "display_name": "Mehdi Satei", "link": "https://stackoverflow.com/users/11228798/mehdi-satei"}, "reply_to_user": {"reputation": 2623, "user_id": 963675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S8BPu.jpg?s=128&g=1", "display_name": "cking24343", "link": "https://stackoverflow.com/users/963675/cking24343"}, "edited": false, "score": 1, "creation_date": 1588246356, "post_id": 59267049, "comment_id": 108828178, "body": "@cking24343 the easiest way is to use kotlin serialization"}], "tags": [], "owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "is_accepted": false, "score": 0, "last_activity_date": 1575980221, "creation_date": 1575980221, "answer_id": 59267049, "question_id": 59266742, "link": "https://stackoverflow.com/questions/59266742/how-to-deal-with-recursive-and-nested-data-classes-in-kotlin/59267049#59267049", "title": "How to deal with recursive and nested data classes in Kotlin", "body": "<p>Based on the code provided, let's assume that this is the structure of the <code>Properties</code> model.</p>\n\n<pre><code>data class Properties(val test: String)\n\ndata class Component(\n        val children: List&lt;Children&gt; = listOf(),\n        val properties: Properties = Properties(\"test\"),\n        val type: String = \"\"\n)\n\ndata class Children(\n        val properties: Properties = Properties(\"test\"),\n        val type: String = \"\",\n        val children: List&lt;Children&gt; = listOf()\n)\n</code></pre>\n\n<blockquote>\n  <p>Since it is not known which Child has Children and how many times I should iterate in order to parse everything, I started thinking of maybe using a recursive function. However, not sure if it is correct to do so and how to do it.</p>\n</blockquote>\n\n<p>You don't necessarily need to use recursion since the structure of your JSON payload is predictable. Assuming that you will only have one subset of <code>children</code> list.</p>\n\n<p>Sometimes...</p>\n\n<pre><code>{\n    \"property\": {\n        \"children\": []    \n    }\n}\n</code></pre>\n\n<p>Sometimes...</p>\n\n<pre><code>{\n    \"property\": {\n        \"children\": [\n                {\n                    \"property\": {\n                    \"children\": []\n                }\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>Option 1. You can create a different object for the sub children, if deemed necessary (assuming they have different set of parameters).</p>\n\n<pre><code>data class Children(\n        val properties: Properties = Properties(\"test\"),\n        val type: String = \"\",\n        val children: List&lt;SubChildren&gt;? = listOf()\n)\n</code></pre>\n\n<p>Option 2. Use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a> library. It's one of the elegant ways on how you can serialize your data in Java and Kotlin. It will handle cases where your <code>children</code> or other parameters may or may not be present during serialization.</p>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"https://proandroiddev.com/most-elegant-way-of-using-gson-kotlin-with-default-values-and-null-safety-b6216ac5328c\" rel=\"nofollow noreferrer\">https://proandroiddev.com/most-elegant-way-of-using-gson-kotlin-with-default-values-and-null-safety-b6216ac5328c</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15251863, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qwSGTp5muq4/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclDEHxoZZqvdwDjMqsy5CKzMuubrw/s96-c/photo.jpg?sz=128", "display_name": "Exertion River", "link": "https://stackoverflow.com/users/15251863/exertion-river"}, "is_accepted": false, "score": 0, "last_activity_date": 1613881416, "creation_date": 1613881416, "answer_id": 66299135, "question_id": 59266742, "link": "https://stackoverflow.com/questions/59266742/how-to-deal-with-recursive-and-nested-data-classes-in-kotlin/66299135#66299135", "title": "How to deal with recursive and nested data classes in Kotlin", "body": "<p>&quot;my problem is actually with how to recursively traverse all the children. Do you have any suggestion?&quot;</p>\n<p>how about something like:</p>\n<pre><code>fun getChildrenTypes() : String =\n    if (children.isEmpty()) &quot;&quot;\n    else (type.plus(children.map { it.getChildrenTypes() }.reduce { concatString : String, element -&gt; concatString.plus(element) }))\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 11228798, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lNmO6_kMf48/AAAAAAAAAAI/AAAAAAAAAqI/v2ucVG35fm8/photo.jpg?sz=128", "display_name": "Mehdi Satei", "link": "https://stackoverflow.com/users/11228798/mehdi-satei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 971, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1613881416, "creation_date": 1575979205, "question_id": 59266742, "link": "https://stackoverflow.com/questions/59266742/how-to-deal-with-recursive-and-nested-data-classes-in-kotlin", "title": "How to deal with recursive and nested data classes in Kotlin", "body": "<p>In my application, I am getting a JSON response from an API which I need to parse it.\nThe JSON looks like this:</p>\n\n<pre><code>{\n\"itemTemplates\":\n[\n  {\n    \"type\": \"...\",\n    \"properties\": {\n      \"..\": \"..\"\n    },\n    \"children\": [\n      {\n        \"type\": \"..\",\n        \"properties\": {\n          \"..\": \"..\"\n        },\n        \"children\": [\n          {\n            \"type\": \"..\"\n          }\n        ]\n      },\n      {\n        \"type\": \"..\",\n        \"properties\": {\n          \"value\": \"..\"\n        }\n      },\n      {\n        \"type\": \"..\",\n        \"properties\": {\n          \"value\": \"..\"\n        }\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>}</p>\n\n<p>I have created Kotlin data classes for the above response which looks like this:</p>\n\n<pre><code>data class ItemTemplate(val itemTemplates: List&lt;Component&gt; = listOf())\n\n\ndata class Component(\nval children: List&lt;Children&gt; = listOf(),\nval Properties: Properties = Properties(),\nval type: String = \"\")\n\n\ndata class Children(\nval properties: Properties = Properties(),\nval type: String = \"\",\nval children: List&lt;Children&gt; = listOf())\n</code></pre>\n\n<p>As you can see there is a recursive data class in the Children data class. In the JSON response, each Child can have many or zero Children itself.\nThe problem occurs when it comes to using the data classes. i.e. I cannot loop over Children because it may also have Children which I need to iterate over that as well (and so on).</p>\n\n<p>Since it is not known which Child has Children and how many times I should iterate in order to parse everything, I started thinking of maybe using a recursive function. However, not sure if it is correct to do so and how to do it.</p>\n\n<p>Any suggestions?\nThanks</p>\n"}, {"tags": ["kotlin", "async-await"], "comments": [{"owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "edited": false, "score": 2, "creation_date": 1575981279, "post_id": 59266719, "comment_id": 104742107, "body": "The Thread is <i>NOT</i> blocked. See <a href=\"https://stackoverflow.com/a/59204919/4774054\">stackoverflow.com/a/59204919/4774054</a>"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1576003018, "last_edit_date": 1576003018, "creation_date": 1575981312, "answer_id": 59267375, "question_id": 59266719, "link": "https://stackoverflow.com/questions/59266719/why-the-await-blocks-the-thread-in-kotlin/59267375#59267375", "title": "Why the &#39;await&#39; blocks the thread in kotlin?", "body": "<p>It <em>doesn't necessarily</em> block the thread. The execution of the coroutine built from the lambda you passed to <code>runBlocking { ... }</code> <em>suspends</em> at <code>one.await()</code> and then resumes once the <code>one</code> result is ready. During that time, the thread that executed the coroutine could switch to executing another coroutine, if it had any. But it doesn't because, by calling <code>runBlocking { ... }</code>, you explicitly specified that you want to run the coroutine in the current single thread, using the thread exclusively until the coroutine finishes and thus just blocking the thread when the coroutine suspends and there's no other coroutine to run.</p>\n\n<p>For instance, if you add a second pair of <code>async { ... }</code> + <code>await</code> in the <code>testAsyncAwait</code> function, the <code>await</code> calls will actually execute concurrently.</p>\n\n<p>You could also run this coroutine using a different dispatcher that explicitly supports running multiple coroutines, and you would see that the <code>one.await()</code> call doesn't block the thread in that case.</p>\n\n<p>For instance, you can run this as follows:</p>\n\n<pre><code>suspend fun doSomethingUsefulOne(): Int {\n    delay(3000L)\n    return 13\n}\n\nsuspend fun testAsyncAwait(n: Int) = coroutineScope {\n    val one = async { doSomethingUsefulOne() }\n    println(\"start $n -&gt;\" + System.currentTimeMillis() / 1000)\n    one.await()\n    println(\"end $n -&gt;\" + System.currentTimeMillis() / 1000)\n}\n\nsuspend fun main() = coroutineScope {\n    val context = newSingleThreadContext(\"MyOwnThread\")\n    repeat(2) {\n        launch(context) { testAsyncAwait(it) }\n    }\n}\n</code></pre>\n\n<p>The two coroutines will run concurrently, and <code>one.await()</code> should not block the single thread:</p>\n\n<pre><code>start 0 -&gt; 1575982105\nstart 1 -&gt; 1575982106\nend 0 -&gt; 1575982109\nend 1 -&gt; 1575982109\n</code></pre>\n\n<p>See these sections in the language reference: </p>\n\n<ul>\n<li><p><a href=\"https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#dispatchers-and-threads\" rel=\"nofollow noreferrer\">Coroutine Context and Dispatchers. Dispatchers and threads</a></p></li>\n<li><p><a href=\"https://kotlinlang.org/docs/reference/coroutines/basics.html#bridging-blocking-and-non-blocking-worlds\" rel=\"nofollow noreferrer\">Coroutine Basics. Bridging blocking and non-blocking worlds</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "is_accepted": false, "score": 2, "last_activity_date": 1575983117, "creation_date": 1575983117, "answer_id": 59267904, "question_id": 59266719, "link": "https://stackoverflow.com/questions/59266719/why-the-await-blocks-the-thread-in-kotlin/59267904#59267904", "title": "Why the &#39;await&#39; blocks the thread in kotlin?", "body": "<p><code>delay(3000)</code> delays for 3 seconds -- that has to work, so you <em>want</em> to see 3 seconds between your outputs.</p>\n\n<p>During those 3 seconds, the thread is not blocked by <code>await</code>, however.  It's blocked by <code>runBlocking</code>, because it is waiting for your coroutine to complete.  If you had launched other asychronous coroutines inside <code>runBlocking</code>, then they could execute during this time.</p>\n"}], "owner": {"reputation": 152, "user_id": 5809600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tdm9k.jpg?s=128&g=1", "display_name": "gaomode", "link": "https://stackoverflow.com/users/5809600/gaomode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 870, "favorite_count": 1, "accepted_answer_id": 59267375, "answer_count": 2, "score": 1, "last_activity_date": 1576003018, "creation_date": 1575979141, "question_id": 59266719, "link": "https://stackoverflow.com/questions/59266719/why-the-await-blocks-the-thread-in-kotlin", "title": "Why the &#39;await&#39; blocks the thread in kotlin?", "body": "<p>The api description of 'await':  </p>\n\n<blockquote>\n  <p>Awaits for completion of this value without blocking a thread and resumes when deferred computation is complete, returning the resulting value or throwing the corresponding exception if the deferred was cancelled.</p>\n</blockquote>\n\n<pre><code>fun main() = runBlocking {\n    val one = async { doSomethingUsefulOne() }\n    println(\"start-&gt;\" + System.currentTimeMillis() / 1000)\n    one.await()\n    println(\"end-&gt;\" + System.currentTimeMillis() / 1000)\n}\n\nsuspend fun doSomethingUsefulOne(): Int {\n    delay(3000L)\n    return 13\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p>start->1575977567</p>\n\n<p>end->1575977570</p>\n\n<p>There are three seconds gap between 'start' and 'end'.So this line 'one.await()' blocks the thread. Why it is different from what the api says.</p>\n"}, {"tags": ["android", "kotlin", "onclicklistener"], "comments": [{"owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 1, "creation_date": 1575980758, "post_id": 59266550, "comment_id": 104741792, "body": "Technically, it&#39;s not a copy. It&#39;s just a reference."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 2613790, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2E88H.jpg?s=128&g=1", "display_name": "ShresthaGanesh", "link": "https://stackoverflow.com/users/2613790/shresthaganesh"}, "edited": false, "score": 0, "creation_date": 1575979117, "post_id": 59266662, "comment_id": 104740899, "body": "I got it, my question is I am not able to cal btn_setOnClickListener in the first place."}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "reply_to_user": {"reputation": 125, "user_id": 2613790, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2E88H.jpg?s=128&g=1", "display_name": "ShresthaGanesh", "link": "https://stackoverflow.com/users/2613790/shresthaganesh"}, "edited": false, "score": 0, "creation_date": 1575979229, "post_id": 59266662, "comment_id": 104740963, "body": "@ShresthaGanesh can you provide the screenshot of what is error when trying to use my code ?"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "reply_to_user": {"reputation": 125, "user_id": 2613790, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2E88H.jpg?s=128&g=1", "display_name": "ShresthaGanesh", "link": "https://stackoverflow.com/users/2613790/shresthaganesh"}, "edited": false, "score": 0, "creation_date": 1575979284, "post_id": 59266662, "comment_id": 104740991, "body": "<a href=\"https://chat.stackoverflow.com/rooms/203979/android-help-room\">Join this room</a> so i can help you out."}, {"owner": {"reputation": 125, "user_id": 2613790, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2E88H.jpg?s=128&g=1", "display_name": "ShresthaGanesh", "link": "https://stackoverflow.com/users/2613790/shresthaganesh"}, "edited": false, "score": 0, "creation_date": 1575979286, "post_id": 59266662, "comment_id": 104740993, "body": "ya sure.. its the second image in the description."}, {"owner": {"reputation": 125, "user_id": 2613790, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2E88H.jpg?s=128&g=1", "display_name": "ShresthaGanesh", "link": "https://stackoverflow.com/users/2613790/shresthaganesh"}, "edited": false, "score": 0, "creation_date": 1575980385, "post_id": 59266662, "comment_id": 104741558, "body": "ya it worked after accessing the button directly and not using find view by id .. thanks"}], "tags": [], "owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "is_accepted": false, "score": 2, "last_activity_date": 1575978957, "creation_date": 1575978957, "answer_id": 59266662, "question_id": 59266550, "link": "https://stackoverflow.com/questions/59266550/is-it-mandatory-to-create-a-copy-of-view-before-assigning-an-event-handler-in-an/59266662#59266662", "title": "Is it mandatory to create a copy of View before assigning an event handler in Android in Kotlin", "body": "<p>In kotlin you don't need to describe the Button. You can directly call the id and set Listener. It is easier than java. Just don't get confused in your Id's</p>\n\n<pre><code>btn_inline.setOnClickListener({\n    NotificationToast(this,inlineButtonCopy.text.toString()).Show();\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 2613790, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2E88H.jpg?s=128&g=1", "display_name": "ShresthaGanesh", "link": "https://stackoverflow.com/users/2613790/shresthaganesh"}, "edited": false, "score": 0, "creation_date": 1575980425, "post_id": 59266910, "comment_id": 104741580, "body": "Yes it worked when i accessed the button directly using its id. thanks"}], "tags": [], "owner": {"reputation": 805, "user_id": 5343866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zrGpX.png?s=128&g=1", "display_name": "animusmind", "link": "https://stackoverflow.com/users/5343866/animusmind"}, "is_accepted": true, "score": 1, "last_activity_date": 1577897103, "last_edit_date": 1577897103, "creation_date": 1575979793, "answer_id": 59266910, "question_id": 59266550, "link": "https://stackoverflow.com/questions/59266550/is-it-mandatory-to-create-a-copy-of-view-before-assigning-an-event-handler-in-an/59266910#59266910", "title": "Is it mandatory to create a copy of View before assigning an event handler in Android in Kotlin", "body": "<p>In <strong>Kotlin</strong> you don't need to define the <code>Id's</code> of the XML component.<br>\nyou can directly access with the help of <code>Id's</code> are already defined in your XML.   </p>\n\n<p>let suppose you defined the <code>Button</code> Id in XML is <code>btn_inline</code>   </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    btn_inline.setOnClickListener({\n        NotificationToast(this,inlineButtonCopy.text.toString()).Show();\n    })\n}\n</code></pre>\n\n<p>Also, make sure that something like this should be present there in the <code>import</code> section.</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n\n<p>Just check at your end.</p>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1575986158, "creation_date": 1575986158, "answer_id": 59268847, "question_id": 59266550, "link": "https://stackoverflow.com/questions/59266550/is-it-mandatory-to-create-a-copy-of-view-before-assigning-an-event-handler-in-an/59268847#59268847", "title": "Is it mandatory to create a copy of View before assigning an event handler in Android in Kotlin", "body": "<p>Another option is to use <strong><a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\">Late-Initialized Property</a></strong>:</p>\n\n<pre><code>private lateinit var inlineButton: Button\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    inlineButton = findViewById&lt;Button&gt;(R.id.btn_inline)\n    inlineButton.setOnClickListener {\n        NotificationToast(this,inlineButtonCopy.text.toString()).Show();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 2613790, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2E88H.jpg?s=128&g=1", "display_name": "ShresthaGanesh", "link": "https://stackoverflow.com/users/2613790/shresthaganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 59266910, "answer_count": 3, "score": -1, "last_activity_date": 1577897103, "creation_date": 1575978545, "last_edit_date": 1575979993, "question_id": 59266550, "link": "https://stackoverflow.com/questions/59266550/is-it-mandatory-to-create-a-copy-of-view-before-assigning-an-event-handler-in-an", "title": "Is it mandatory to create a copy of View before assigning an event handler in Android in Kotlin", "body": "<p>I am trying to set <code>OnClickListener</code> on an <code>Android</code> button in Kotlin file. Unlike java file, where I can declare button variable at the class level and initialize it in <code>onCreate</code> method and assign ClickListener at the same time as:</p>\n\n<pre><code>Button inlineButton;\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState) {\n        super.onCreate(savedInstanceState, persistentState);\n        inlineButton = findViewById(R.id.btn_inline);\n        inlineButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                new NotificationToast(MainActivity.this, \"Inline Button\");\n            }\n        });\n    }\n</code></pre>\n\n<p>when I try to follow similar pattern I get an error with the following message:\n<a href=\"https://i.stack.imgur.com/xoQeG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xoQeG.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can only set the event handler only when I create a copy of button with following code:</p>\n\n<pre><code>var inlineButton : Button? = null;\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    inlineButton = findViewById(R.id.btn_inline)\n    val inlineButtonCopy = inlineButton;\n\n    if (inlineButtonCopy != null) {\n        inlineButtonCopy.setOnClickListener({\n            NotificationToast(this,inlineButtonCopy.text.toString()).Show();\n        })\n    }\n\n}\n</code></pre>\n\n<p>I was wondering if it is not possible to create only a single instance of Button on top level, initialize it in oncreate, and set event handler. If I can create only a single instance, I can use the event to change the property of the same button. Is it the default behavior or am I missing something.</p>\n\n<p>Any clarification is highly appreciated.</p>\n"}, {"tags": ["android", "json", "kotlin", "gson", "fast-android-networking"], "comments": [{"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1575977905, "post_id": 59266274, "comment_id": 104740250, "body": "without images, API is working getting issues with images"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575977975, "post_id": 59266274, "comment_id": 104740292, "body": "Post your json response here"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978009, "post_id": 59266274, "comment_id": 104740306, "body": "wait I am editing above"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978169, "post_id": 59266274, "comment_id": 104740377, "body": "In api response Images are in array object but in parsing you use it as string thats why you got error"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978265, "post_id": 59266274, "comment_id": 104740442, "body": "than I need to change in pojo class"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978284, "post_id": 59266274, "comment_id": 104740454, "body": "I am new in kotlin so explain to me"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978340, "post_id": 59266274, "comment_id": 104740484, "body": "class Image {      @SerializedName(&quot;img&quot;)     var img: String? = null  }"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978357, "post_id": 59266274, "comment_id": 104740491, "body": "what I need to change in above"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978365, "post_id": 59266274, "comment_id": 104740501, "body": "yes you need to change in pojo class"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 1, "creation_date": 1575978412, "post_id": 59266274, "comment_id": 104740527, "body": "@SerializedName(&quot;images&quot;) var mImages: List&lt;String&gt;? = null"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978496, "post_id": 59266274, "comment_id": 104740576, "body": "Thank you I got it"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "edited": false, "score": 0, "creation_date": 1575978595, "post_id": 59266274, "comment_id": 104740629, "body": "If your problem is solved, please mark the answer as correct so that other users can benefit from it."}], "answers": [{"comments": [{"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 0, "creation_date": 1575978649, "post_id": 59266554, "comment_id": 104740656, "body": "ImageUtils.setImage(this,binding.imageView1, userProfileModel.data!!.mImages!![0]!!)  how to change in this"}, {"owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "reply_to_user": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "edited": false, "score": 1, "creation_date": 1575978808, "post_id": 59266554, "comment_id": 104740739, "body": "i m glad to know that"}], "tags": [], "owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "is_accepted": false, "score": 1, "last_activity_date": 1575978555, "creation_date": 1575978555, "answer_id": 59266554, "question_id": 59266274, "link": "https://stackoverflow.com/questions/59266274/android-fast-networking-library-getting-images-issues/59266554#59266554", "title": "Android Fast networking Library getting Images issues", "body": "<p>Use the below declaration for images array.  </p>\n\n<pre><code>@SerializedName(\"images\") var mImages: List&lt;String&gt;? = null \n</code></pre>\n"}], "owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575978555, "creation_date": 1575977636, "last_edit_date": 1575978058, "question_id": 59266274, "link": "https://stackoverflow.com/questions/59266274/android-fast-networking-library-getting-images-issues", "title": "Android Fast networking Library getting Images issues", "body": "<p>I am using Android Fast Networking Library When I am trying to get Images from Server I am getting the error even I have successfully Uploaded all images to server error in getting back them 6 images </p>\n\n<pre><code>  private fun callProfileApi() {\n    binding.progressBar.visibility=View.VISIBLE\n    AndroidNetworking.post(Constant.BASE_URL + \"app.php?api=userprofile\")\n        .addUrlEncodeFormBodyParameter(\"userid\", usetId)\n        .setTag(\"userprofile\")\n        .setPriority(Priority.MEDIUM)\n\n        .build()\n        .getAsString(object : StringRequestListener {\n            override fun onResponse(response: String) {\n                AppLogger.e(\"MoodMatch response\",\"=====\"+response)\n                Log.d(\"@@\", response)\n                var gson: Gson = Gson()\n                var userProfileModel = gson.fromJson(response, UserProfileModel::class.java)\n                if (!(userProfileModel.error ?: true)){\n                    if(userProfileModel.data!=null){\n                        updateUI(userProfileModel)\n                    }else{\n                        AppLogger.toast(\"Something went wrong\")\n                    }\n\n\n                }else{\n                    AppLogger.toast(userProfileModel.message)\n                }\n                binding.progressBar.visibility=View.GONE\n            }\n\n            override fun onError(error: ANError) {\n                // handle error\n                AppLogger.toast(error.localizedMessage)\n                Log.e(\"@@MoodMatc honError\", \"=======\" + error.localizedMessage)\n                binding.progressBar.visibility=View.GONE\n            }\n        })\n}\n</code></pre>\n\n<p>I am Getting Error in this line like this : </p>\n\n<pre><code> var userProfileModel = gson.fromJson(response, UserProfileModel::class.java)\n</code></pre>\n\n<p>Inside Log, I am getting like this </p>\n\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 226 path $.data.images[0]\n</code></pre>\n\n<p>Here is my Model Class : </p>\n\n<pre><code>class UserProfileModel {\n\n @Expose\n @SerializedName(\"data\")\n var data: Data? = null\n @SerializedName(\"error\")\n var error: Boolean? = null\n @SerializedName(\"message\")\n var message: String? = null \n  }\n</code></pre>\n\n<p>and here is data class  : </p>\n\n<pre><code>class Data {\n\n@SerializedName(\"about\")\nvar about: String? = null\n@SerializedName(\"account_locked\")\nvar accountLocked: String? = null\n@SerializedName(\"address\")\nvar address: String? = null\n@SerializedName(\"city\")\nvar city: String? = null\n@SerializedName(\"company_policy\")\nvar companyPolicy: String? = null\n@SerializedName(\"created_at\")\nvar createdAt: String? = null\n@SerializedName(\"distance_in\")\nvar distanceIn: String? = null\n@SerializedName(\"dob\")\nvar dob: String? = null\n@SerializedName(\"education\")\nvar education: String? = null\n@SerializedName(\"email\")\nvar email: String? = null\n@SerializedName(\"age\")\nvar age: String? = null\n@SerializedName(\"email_otp\")\nvar emailOtp: String? = null\n@SerializedName(\"fb_link\")\nvar fbLink: String? = null\n@SerializedName(\"first_name\")\nvar firstName: String? = null\n@SerializedName(\"first_time_login\")\nvar firstTimeLogin: String? = null\n@SerializedName(\"gender\")\nvar gender: String? = null\n@SerializedName(\"hobby\")\nvar hobby: String? = null\n@SerializedName(\"id\")\nvar id: String? = null\n@SerializedName(\"image\")\nvar image: String? = null\n@SerializedName(\"insta_link\")\nvar instaLink: String? = null\n@SerializedName(\"intersted_in\")\nvar interstedIn: String? = null\n@SerializedName(\"last_name\")\nvar lastName: String? = null\n@SerializedName(\"login_attempt\")\nvar loginAttempt: String? = null\n@SerializedName(\"membership_type\")\nvar membershipType: String? = null\n@SerializedName(\"membershipid\")\nvar membershipid: String? = null\n@SerializedName(\"mood_id\")\nvar moodId: String? = null\n@SerializedName(\"notification_type\")\nvar notificationType: String? = null\n@SerializedName(\"password\")\nvar password: String? = null\n@SerializedName(\"phone_number\")\nvar phoneNumber: String? = null\n@SerializedName(\"referral_code\")\nvar referralCode: String? = null\n@SerializedName(\"role\")\nvar role: String? = null\n@SerializedName(\"social_id\")\nvar socialId: String? = null\n@SerializedName(\"social_type\")\nvar socialType: String? = null\n@SerializedName(\"status\")\nvar status: String? = null\n@SerializedName(\"term_conditions\")\nvar termConditions: String? = null\n@SerializedName(\"updated_at\")\nvar updatedAt: String? = null\n@SerializedName(\"username\")\nvar username: String? = null\n@SerializedName(\"which_age_people\")\nvar whichAgePeople: String? = null\n@SerializedName(\"images\")\nvar mImages: List&lt;Image&gt;? = null\n\n }\n</code></pre>\n\n<p>Api response :</p>\n\n<pre><code>{\n\"error\": false,\n\"data\": {\n    \"id\": \"149\",\n    \"username\": \"kamal kumar\",\n    \"email\": \"kamalbhera96@gmail.com\",\n    \"phone_number\": \"9057217361\",\n    \"address\": \"B-209, Rajendra Marg, Bapu Nagar, Jaipur, Rajasthan 302015, India\",\n    \"city\": \"Jaipur\",\n    \"images\": [\n        \"http://moodsmatch.com/admin/uploads/20191209_151815.jpg\",\n        \"http://moodsmatch.com/admin/uploads/29261010_1348876641925767_1868739767978426368_n.jpg\",\n        \"http://moodsmatch.com/admin/uploads/20191209_112909.jpg\",\n        \"http://moodsmatch.com/admin/uploads/IMG_2ljalw.jpg\",\n        \"http://moodsmatch.com/admin/uploads/20191209_150617.jpg\",\n        \"http://moodsmatch.com/admin/uploads/FB_IMG_1575778091267.jpg\"\n    ],\n    \"state\": \"Rajasthan\",\n    \"country\": \"India\",\n    \"referral_code\": \"Fnt4oe7C\",\n    \"referral_points\": \"0\",\n    \"membership_type\": \"Free\",\n    \"intersted_in\": \"\",\n    \"distance_in\": \"\",\n    \"defaultDistance\": \"5M\",\n    \"image\": \"http://www.moodsmatch.com/admin/../uploads/\",\n    \"gender\": \"Male\",\n    \"age\": 0,\n    \"dob\": \"12/02/2019\",\n    \"education\": \"he is a very good person \",\n    \"hobby\": \"\",\n    \"about\": \"he is a very good person \"\n},\n\"message\": \"Record match\"\n }\n</code></pre>\n\n<p>Please suggest me how to resolve this Thank you in Advance, I would appreciate every answer </p>\n"}, {"tags": ["sorting", "kotlin", "comparator", "comparable"], "answers": [{"tags": [], "owner": {"reputation": 1455, "user_id": 5978955, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OCRKvaL4GCY/AAAAAAAAAAI/AAAAAAAAA2o/8kd_p2qvt6o/photo.jpg?sz=128", "display_name": "JArgente", "link": "https://stackoverflow.com/users/5978955/jargente"}, "is_accepted": false, "score": 1, "last_activity_date": 1575977839, "creation_date": 1575977839, "answer_id": 59266322, "question_id": 59265887, "link": "https://stackoverflow.com/questions/59265887/sorting-in-kotlin/59266322#59266322", "title": "Sorting in Kotlin", "body": "<p>You can extend the comparable interface using an object declaration and put there the logic to compare both strings, this way you can use it in the thenBy clause:</p>\n\n<pre><code>val myList= myList?.sortedWith(compareBy&lt;Home&gt; { it.name }.thenBy {\n object: Comparable&lt;String&gt;{\n     override fun compareTo(other: String): Int {\n         return extractInt(it.id) - extractInt(other)\n     }\n\n    fun extractInt(s: String): Int {\n        val num = s.replace(\"\\\\D\".toRegex(), \"\")\n        // return 0 if no digits found\n        return if (num.isEmpty()) 0 else Integer.parseInt(num)\n    }\n}\n</code></pre>\n\n<p>})</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575978217, "post_id": 59266407, "comment_id": 104740415, "body": "I would like to put them in order : <code>1, 1a, 1f, 2d, 2j, 2-10, 3, 4, 12</code>"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1575978076, "creation_date": 1575978076, "answer_id": 59266407, "question_id": 59265887, "link": "https://stackoverflow.com/questions/59265887/sorting-in-kotlin/59266407#59266407", "title": "Sorting in Kotlin", "body": "<p>It would be <code>.thenBy { extractInt(it.id) }</code> (where you declare <code>extractInt</code> separately). Or just put the definition of <code>extractInt</code> there if that's the only place you need it:</p>\n\n<pre><code>compareBy&lt;Home&gt; { it.name }.thenBy { \n    val num = it.id.replace(\"\\\\D\".toRegex(), \"\")\n    // return 0 if no digits found\n    if (num.isEmpty()) 0 else Integer.parseInt(num)\n}\n</code></pre>\n\n<p>Of course, these solutions will consider e.g. <code>10</code> and <code>10a</code> or <code>as</code> and <code>0</code> to be equal; is that really what you want? If not, you can return a pair of the extracted integer part and the remaining string.</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575978886, "post_id": 59266525, "comment_id": 104740780, "body": "Thank you :) Maybe you know how also add an id like <code>2-10</code> with regex and then put it between <code>2 and 2aaa</code>?"}], "tags": [], "owner": {"reputation": 4114, "user_id": 1242401, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/LFTln.jpg?s=128&g=1", "display_name": "Housefly", "link": "https://stackoverflow.com/users/1242401/housefly"}, "is_accepted": false, "score": 2, "last_activity_date": 1575978463, "creation_date": 1575978463, "answer_id": 59266525, "question_id": 59265887, "link": "https://stackoverflow.com/questions/59265887/sorting-in-kotlin/59266525#59266525", "title": "Sorting in Kotlin", "body": "<pre><code>data class Person(\n    val name: String,\n    var id: String\n)\n\nfun sortPersonsWithParsedIds() {\n    val p1 = Person(\"abc\", \"2\")\n    val p2 = Person(\"abc\", \"1\")\n    val p3 = Person(\"xyz\", \"10kafsd\")\n    val p4 = Person(\"xyz\", \"1asda\")\n    val p5 = Person(\"pqr\", \"2aaa\")\n    val p6 = Person(\"pqr\", \"20\")\n    val p7 = Person(\"pqr\", \"20aa\")\n\n    val list = listOf(p1, p2, p3, p4, p5, p6, p7)\n\n    val sortedList = list.sortedWith(compareBy({ it.name }, { v -&gt; extractInt(v.id) }))\n\n    sortedList.forEach { println(it) }\n}\n\nprivate fun extractInt(s: String): Int {\n    val num = s.replace(\"\\\\D\".toRegex(), \"\")\n    // return 0 if no digits found\n    return if (num.isEmpty()) 0 else Integer.parseInt(num)\n}\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>Person(name=abc, id=1)\nPerson(name=abc, id=2)\nPerson(name=pqr, id=2aaa)\nPerson(name=pqr, id=20)\nPerson(name=pqr, id=20aa)\nPerson(name=xyz, id=1asda)\nPerson(name=xyz, id=10kafsd)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575978943, "post_id": 59266626, "comment_id": 104740811, "body": "Thank you :) Maybe you know how also add an id like 2-10 with regex and then put it between 2 and 2aaa?"}, {"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "reply_to_user": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 3, "creation_date": 1575979072, "post_id": 59266626, "comment_id": 104740879, "body": "@CallMePedro create a separate question"}], "tags": [], "owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1575978818, "creation_date": 1575978818, "answer_id": 59266626, "question_id": 59265887, "link": "https://stackoverflow.com/questions/59265887/sorting-in-kotlin/59266626#59266626", "title": "Sorting in Kotlin", "body": "<p>Just </p>\n\n<pre><code>myList?.sortedWith(compareBy({ it.name }, { extractInt(it.id) }))\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1575993301, "creation_date": 1575976262, "last_edit_date": 1575993301, "question_id": 59265887, "link": "https://stackoverflow.com/questions/59265887/sorting-in-kotlin", "title": "Sorting in Kotlin", "body": "<p>I have a problem with sorting objects in Kotlin. I have class</p>\n\n<p><code>Home(id : String, name : String)</code></p>\n\n<p>and I would like to sort it first by name and then by ids, where ids can be:</p>\n\n<ul>\n<li>numbers like 1,2,3,10, </li>\n<li>numbers with string: 1a, 10-14. </li>\n</ul>\n\n<p>This solution does not provide the correct result. Please not that ids are String so the result I'm getting is <code>-&gt; 1, 10, 2, 3</code></p>\n\n<p><code>myList = myList?.sortedWith(compareBy&lt;Home&gt; { it.name }.thenBy { it.id })</code></p>\n\n<p>How to add in <code>then.by</code> correct comparator, or how it should be sorted? </p>\n\n<p>Greetings</p>\n\n<p>@EDIT\nI found a solution, but how to add it in <code>thenBy</code>?</p>\n\n<pre><code>    Collections.sort(strings, object : Comparator&lt;String&gt; {\n        override fun compare(o1: String, o2: String): Int {\n            return extractInt(o1) - extractInt(o2)\n        }\n\n        fun extractInt(s: String): Int {\n            val num = s.replace(\"\\\\D\".toRegex(), \"\")\n            // return 0 if no digits found\n            return if (num.isEmpty()) 0 else Integer.parseInt(num)\n        }\n    })\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "onclicklistener"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575976214, "post_id": 59265747, "comment_id": 104739372, "body": "You should call <code>notifyDataSetChanged()</code> to update the list"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "edited": false, "score": 0, "creation_date": 1575981466, "post_id": 59265881, "comment_id": 104742223, "body": "Thanks @JakirHossain, it is truely life saver. I have tried every solution on here. Most answer were including <code>foucasable</code> and <code>focusableintouchmode</code>. but none worked of course. Only thing with your solution is <code>Property must be initialized or be abstract</code> error is given for adapter decleration. I have changed it to <code>var adapter: PaymentAdapter ?=null</code> and of course had to change inside line as well to this <code>adapter?.notifyDataSetChanged()</code> Thanks again."}], "tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": true, "score": 3, "last_activity_date": 1575986579, "last_edit_date": 1575986579, "creation_date": 1575976240, "answer_id": 59265881, "question_id": 59265747, "link": "https://stackoverflow.com/questions/59265747/recyclerview-shows-only-on-the-second-click-of-another-button-in-kotlin/59265881#59265881", "title": "recyclerview shows only on the second click of another button in kotlin", "body": "<p>Use <code>notifyDataSetChanged()</code> after <code>add</code>, <code>update</code> or <code>delete</code> data from <code>data set</code>.</p>\n\n<p>Try like the following</p>\n\n<pre><code>var adapter: PaymentAdapter ?=null // decleare it before onCreate()\n\nadapter = PaymentAdapter(this, list) // here you shoule initialize you adapter\npRecyclerView.adapter = adapter // assigne your adapter to recyclerview\n\nbtnCash.setOnClickListener {\n\n        var paymAmnt: String = txtInput.text.toString()\n        list.add(Payment(\"Cash\", paymAmnt))\n\n        adapter?.notifyDataSetChanged() // add this line to notify your adapter that data set is changed.\n\n        //....\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 59265881, "answer_count": 1, "score": 1, "last_activity_date": 1576041729, "creation_date": 1575975761, "last_edit_date": 1576041729, "question_id": 59265747, "link": "https://stackoverflow.com/questions/59265747/recyclerview-shows-only-on-the-second-click-of-another-button-in-kotlin", "title": "recyclerview shows only on the second click of another button in kotlin", "body": "<p>Now, the question here, whenever I click <code>btnCash</code> it should directly display a row on <code>recyclerview</code>. But, it only does it if I clikc another button after I click <code>btnCash</code>.</p>\n\n<p>Lets say that I want to pay 2.50. After I enter this value, I click btnCash but it doesn't display anything yet. I must click another (numeric buttons 0-9) for that display happens.</p>\n\n<p>by using println I can see that when I clikc btnCash, it adds to <code>ArrayList</code>.</p>\n\n<p>Is there any solution for this?\nWhy can't I put it on display at first btnCash click?</p>\n\n<p>Any help arraciated.\nI have payment.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"#ecf0f1\"\n    android:orientation=\"vertical\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recyclerView_payment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"284dp\"\n        android:background=\"@color/qtr_gray6\"\n        android:textSize=\"30sp\"\n\n        /&gt;\n\n\n&lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"280dp\"\n        android:orientation=\"horizontal\"&gt;\n\n\n    &lt;EditText\n            android:id=\"@+id/textPayment\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:gravity=\"end\"\n            android:hint=\"00.0\"\n            android:inputType=\"numberDecimal\"\n            android:paddingRight=\"30dp\"\n            android:textAlignment=\"textEnd\"\n            app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"340dp\"\n        android:orientation=\"horizontal\"&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnFifty\"\n            android:layout_width=\"20dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary\"\n            android:text=\"\u00a350\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnTwenty\"\n            android:layout_width=\"20dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary\"\n            android:text=\"\u00a320\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnTen\"\n            android:layout_width=\"20dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary\"\n            android:text=\"\u00a310\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnFivePound\"\n            android:layout_width=\"20dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary\"\n            android:text=\"\u00a35\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"390dp\"\n        android:orientation=\"horizontal\"&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnOne\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"1\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnTwo\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"2\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnThree\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"3\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnBack\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_btn8\"\n            android:onClick=\"onBack\"\n            android:text=\"Back\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"14sp\" /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"442dp\"\n        android:orientation=\"horizontal\"&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnFour\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"4\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnFive\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"5\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnSix\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"6\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnStaff\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_btn9\"\n            android:onClick=\"onStaff\"\n            android:text=\"Staff\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"14sp\" /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"495dp\"\n        android:orientation=\"horizontal\"&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnSeven\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"7\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnEight\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"8\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnNine\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"9\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnVoucher\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_btn10\"\n\n            android:onClick=\"onVoucher\"\n            android:text=\"Voucher\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"14sp\" /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"547dp\"\n        android:orientation=\"horizontal\"&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnZero\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onDigit\"\n            android:text=\"0\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnClear\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_primary2\"\n            android:onClick=\"onClear\"\n            android:text=\"cl\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"20sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnCard\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:background=\"@color/qtr_btn6\"\n            android:onClick=\"onClick_Action_Function\"\n            android:text=\"Card\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"30sp\" /&gt;\n\n    &lt;Button\n            android:id=\"@+id/btnCash\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"1dp\"\n            android:layout_weight=\"0.25\"\n            android:clickable=\"true\"\n            android:background=\"@color/qtr_btn7\"\n            android:text=\"Cash\"\n            android:textColor=\"#ecf0f1\"\n            android:textSize=\"30sp\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and, PaymentActivity.kt</p>\n\n<pre><code>package com.soyut.su.epos01\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.text.Editable\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\nimport kotlinx.android.synthetic.main.payment.*\nimport android.text.TextWatcher\nimport android.support.v7.widget.LinearLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport java.lang.ref.WeakReference\nimport java.math.BigDecimal\nimport java.util.*\nclass PaymentActivity : AppCompatActivity() {\n\n    lateinit var pRecyclerView: RecyclerView\n    lateinit var txtInput: EditText\n    var lastNumeric: Boolean = false\n    var stateError: Boolean = false\n    var lastDot: Boolean = false\n    var list = ArrayList&lt;Payment&gt;()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.payment)\n        txtInput = textPayment\n        txtInput.addTextChangedListener(MoneyTextWatcher(txtInput))\n\n\n        pRecyclerView = recyclerView_payment\n        pRecyclerView.layoutManager = LinearLayoutManager(this)\n        pRecyclerView.adapter = PaymentAdapter(this, list)\n\n        btnCash.setOnClickListener {\n\n            var paymAmnt: String = txtInput.text.toString()\n            list.add(Payment(\"Cash\", paymAmnt))\n\n\n                for (i in list){\n                    println(i.paymentDesc+ \" - \" +i.paymentAmnt)\n                }\n\n        }\n\n\n    }\n\n    fun onClick_Action_Function(view: View) {\n        var paymAmnt: String = txtInput.text.toString()\n        list.add(Payment(\"Card\", paymAmnt))\n\n\n    }\n\n    fun onDigit(view: View) {\n\n        // If not, already there is a valid expression so append to it\n        txtInput.append((view as Button).text)\n\n        // Set the flag\n        lastNumeric = true\n    }\n\n    fun onBack(view: View) {\n        var sz = txtInput.text.length\n        println(sz)\n        val textString = txtInput.getText().toString()\n        if (textString.length &gt; 0) {\n            txtInput.setText(textString.substring(0, textString.length - 1))\n        }\n\n\n    }\n\n    fun onClear(view: View) {\n        var sz = txtInput.text.length\n        txtInput.text = txtInput.text.dropLast(sz) as Editable\n    }\n\n    /**\n     * Append . to the TextView\n     */\n    fun onDecimalPoint(view: View) {\n        if (lastNumeric &amp;&amp; !stateError &amp;&amp; !lastDot) {\n            txtInput.append(\".\")\n            lastNumeric = false\n            lastDot = true\n        }\n    }\n\n\n    fun onOperator(view: View) {\n        if (lastNumeric &amp;&amp; !stateError) {\n            txtInput.append((view as Button).text)\n            lastNumeric = false\n            lastDot = false    // Reset the DOT flag\n        }\n    }\n\n    inner class MoneyTextWatcher(editText: EditText) : TextWatcher {\n        private val editTextWeakReference: WeakReference&lt;EditText&gt;\n\n        init {\n            editTextWeakReference = WeakReference&lt;EditText&gt;(editText)\n        }\n\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {}\n\n        override fun afterTextChanged(editable: Editable) {\n            val editText = editTextWeakReference.get() ?: return\n            val s = editable.toString()\n            if (s.isEmpty()) return\n            editText.removeTextChangedListener(this)\n            val cleanString = s.replace(\"[$,.]\".toRegex(), \"\")\n            val parsed = BigDecimal(cleanString).setScale(2, BigDecimal.ROUND_FLOOR)\n                .divide(BigDecimal(100), BigDecimal.ROUND_FLOOR)\n            // val formatted = NumberFormat.getCurrencyInstance(Locale.UK).format(parsed)\n            editText.setText(parsed.toString())\n            editText.setSelection(parsed.toString().length)\n            editText.addTextChangedListener(this)\n        }\n    }\n\n\n }\n</code></pre>\n\n<p>and,finally PaymentAdapter.kt</p>\n\n<pre><code>package com.soyut.su.epos01\n\nimport android.content.Context\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport kotlinx.android.synthetic.main.single_payment.view.*\n\n\nclass PaymentAdapter(val context: Context, val items: List&lt;Payment&gt;) : RecyclerView.Adapter&lt;PaymentAdapter.PaymentViewHolder&gt;() {\n    override fun onBindViewHolder(p0: PaymentAdapter.PaymentViewHolder, p1: Int) {\n        p0.bindItems(items[p1])\n    }\n\n\n    override fun getItemId(position: Int): Long {\n        return super.getItemId(position)\n    }\n\n\n    override fun getItemCount(): Int {\n        return items.size\n    }\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PaymentViewHolder {\n\n\n\n        val inflater = LayoutInflater.from(parent.context)\n\n        val view = inflater.inflate(R.layout.single_payment, parent, false)\n        view.requestFocus()\n\n\n\n        return PaymentViewHolder(view)\n\n    }\n\n\n    inner class PaymentViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(pym: Payment) {\n            val textPaymentDesc = itemView.txtPaymentDescription\n            val textPaymentAmnt = itemView.txtPaymentAmount\n\n            textPaymentDesc.text = pym.paymentDesc\n            textPaymentAmnt.text = pym.paymentAmnt\n\n\n        }\n\n\n    }\n}\n\n</code></pre>\n\n<p>Kind Regards</p>\n"}, {"tags": ["java", "android", "xml", "button", "kotlin"], "comments": [{"owner": {"reputation": 15, "user_id": 12511006, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e015Sokjm84/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOiFxZojMK-KzBjxBcnY9MQTEsPg/photo.jpg?sz=128", "display_name": "Lukas Sch&#252;ler", "link": "https://stackoverflow.com/users/12511006/lukas-sch%c3%bcler"}, "edited": false, "score": 0, "creation_date": 1576165049, "post_id": 59265690, "comment_id": 104818335, "body": "I may have found out what is causing this problem. To Work around another problem I am calling ``` setContentView(R.layout.main_fragment) ``` instead of R.layout.main_activity so I dont get a Nullpointer exception for trying to invoke a virtual method. Because of that onCreateView does not get called and the ButtonListener wont be set."}], "answers": [{"tags": [], "owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "is_accepted": false, "score": 0, "last_activity_date": 1575983520, "creation_date": 1575983520, "answer_id": 59268029, "question_id": 59265690, "link": "https://stackoverflow.com/questions/59265690/onclicklistener-in-fragment-does-not-work-anymore/59268029#59268029", "title": "OnClickListener in fragment does not work anymore", "body": "<p>You should notify adapter about data changes:</p>\n\n<pre><code>private fun sendMessage(){\n    messageList.add(MessageData(input_field.text.toString(), 0))\n    recycler.adapter.notifyDataSetChanged()\n    input_field.setText(\"\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 12511006, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e015Sokjm84/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOiFxZojMK-KzBjxBcnY9MQTEsPg/photo.jpg?sz=128", "display_name": "Lukas Sch&#252;ler", "link": "https://stackoverflow.com/users/12511006/lukas-sch%c3%bcler"}, "edited": false, "score": 0, "creation_date": 1576163512, "post_id": 59268045, "comment_id": 104817313, "body": "This didnt work for me but I think I have found something that causes this. See below."}, {"owner": {"reputation": 15, "user_id": 12511006, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e015Sokjm84/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOiFxZojMK-KzBjxBcnY9MQTEsPg/photo.jpg?sz=128", "display_name": "Lukas Sch&#252;ler", "link": "https://stackoverflow.com/users/12511006/lukas-sch%c3%bcler"}, "edited": false, "score": 1, "creation_date": 1576165141, "post_id": 59268045, "comment_id": 104818397, "body": "After fixing my setContentView Problem your implementation works fine. Thanks."}, {"owner": {"reputation": 911, "user_id": 11166067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/444535f9bbe8ba11c596d7bb3f06c2dd?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Leonov", "link": "https://stackoverflow.com/users/11166067/dmitrii-leonov"}, "reply_to_user": {"reputation": 15, "user_id": 12511006, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e015Sokjm84/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOiFxZojMK-KzBjxBcnY9MQTEsPg/photo.jpg?sz=128", "display_name": "Lukas Sch&#252;ler", "link": "https://stackoverflow.com/users/12511006/lukas-sch%c3%bcler"}, "edited": false, "score": 0, "creation_date": 1576199735, "post_id": 59268045, "comment_id": 104831333, "body": "@LukasSch&#252;ler You can keep it nice and neat by avoiding overriding of <code>onCreateView()</code>. Just change the line where you extend from the <code>class MainFragment :Fragment()</code>. and instead do <code>class MainFragment : Fragment(R.layout.main_fragment)</code>"}], "tags": [], "owner": {"reputation": 911, "user_id": 11166067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/444535f9bbe8ba11c596d7bb3f06c2dd?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Leonov", "link": "https://stackoverflow.com/users/11166067/dmitrii-leonov"}, "is_accepted": true, "score": 0, "last_activity_date": 1576199759, "last_edit_date": 1576199759, "creation_date": 1575983574, "answer_id": 59268045, "question_id": 59265690, "link": "https://stackoverflow.com/questions/59265690/onclicklistener-in-fragment-does-not-work-anymore/59268045#59268045", "title": "OnClickListener in fragment does not work anymore", "body": "<p>Try setting your on click listener this way:</p>\n\n<pre><code>class MainFragment : Fragment(R.layout.main_fragment) {\n\n//...\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        InputButton.setOnClickListener {\n            InputButton.setOnClickListener(this)\n            sendMessage()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12511006, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e015Sokjm84/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOiFxZojMK-KzBjxBcnY9MQTEsPg/photo.jpg?sz=128", "display_name": "Lukas Sch&#252;ler", "link": "https://stackoverflow.com/users/12511006/lukas-sch%c3%bcler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59268045, "answer_count": 2, "score": 0, "last_activity_date": 1576199759, "creation_date": 1575975558, "question_id": 59265690, "link": "https://stackoverflow.com/questions/59265690/onclicklistener-in-fragment-does-not-work-anymore", "title": "OnClickListener in fragment does not work anymore", "body": "<p>I want to implement a little chat app and therefore i need a send button which clears the input field and sends the message (for now just adding an element to a recycler view). I've implemented the OnClickListener Interface and added my fragment as Listener to the button but somehow onClick is never called.</p>\n\n<pre><code>class MainFragment : Fragment(), View.OnClickListener  {\n\n    private val messageList = ArrayList&lt;MessageData&gt;()\n    val interactor = MainInteractor()\n\n    private lateinit var viewModel: MainViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        initRecycler()\n        InputButton.setOnClickListener(this)\n        return inflater.inflate(R.layout.main_fragment, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        viewModel = ViewModelProviders.of(this).get(MainViewModel::class.java)\n    }\n\n    private fun initRecycler(){\n        messageList.add(MessageData(\"Das ist die erste Nachricht\", 0))\n        messageList.add(MessageData(\"Das ist die zweite Nachricht\", 1))\n        messageList.add(MessageData(\"Das ist die dritte Nachricht,\\nwelche \u00fcber 2 Zeilen geht\", 0))\n\n        val recyclerView: RecyclerView = recycler\n        val manager: RecyclerView.LayoutManager = LinearLayoutManager(requireActivity())\n        val adapter: RecyclerView.Adapter&lt;*&gt; = MessageAdapter(messageList)\n\n        recyclerView.layoutManager = manager\n        recyclerView.adapter = adapter\n    }\n\n    private fun sendMessage(){\n        messageList.add(MessageData(input_field.text.toString(), 0))\n        input_field.setText(\"\")\n    }\n\n    override fun onClick(v: View?) {\n        Toast.makeText(context,\"Button Pressed\",Toast.LENGTH_SHORT).show()\n        sendMessage()\n    }\n}\n</code></pre>\n\n<p>Thats the code from my Fragment and my layout looks like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/gray\"\n    tools:context=\".ui.main.MainFragment\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/ueberschrift\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"10dp\"\n        android:text=\"Chat\"\n        android:textColor=\"@color/yellow\"\n        android:textSize=\"30sp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;View\n        android:id=\"@+id/divider\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"1dp\"\n        android:layout_marginTop=\"5dp\"\n        android:layout_marginLeft=\"10dp\"\n        android:layout_marginRight=\"10dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        android:background=\"@color/yellow\"\n\n        app:layout_constraintTop_toBottomOf=\"@+id/ueberschrift\"\n        tools:layout_editor_absoluteX=\"1dp\" /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/recycler\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:scrollbars=\"vertical\"\n        android:layout_marginTop=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_marginRight=\"20dp\"\n        app:layout_constraintTop_toBottomOf=\"@+id/divider\"\n        app:layout_constraintBottom_toTopOf=\"@+id/textInputLayout\"&gt;\n\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=\"@+id/textInputLayout\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"20dp\"\n        android:layout_marginBottom=\"20dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toStartOf=\"@id/InputButton\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        tools:layout_editor_absoluteX=\"1dp\"\n        android:textColorHint=\"#FFFFFF\"&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=\"@+id/input_field\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:maxLines=\"2\"\n            android:textColor=\"#FFFFFF\"\n            android:hint=\"Your Message\"\n\n            /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;Button\n        android:id=\"@+id/InputButton\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"20dp\"\n        android:layout_marginStart=\"10dp\"\n        android:text=\"Send\"\n        android:textColor=\"#2E2E2E\"\n        android:background = \"@color/yellow\"\n        app:layout_constraintStart_toEndOf=\"@id/textInputLayout\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@id/textInputLayout\"\n        app:layout_constraintBottom_toBottomOf=\"@id/textInputLayout\"\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>This should not be so difficult as this is a basic Android mechanic but I dont have a clue why this isnt working. What am I missing?</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "android-viewmodel"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1575990234, "post_id": 59265617, "comment_id": 104747431, "body": "<code>LiveData</code> is lifecycle aware. They are gone when the <code>Fragment</code> is gone."}, {"owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1575992102, "post_id": 59265617, "comment_id": 104748500, "body": "Yes, I know, read my comment in parentheses. To clarify: I want to know if this code would end in an OutOfMemoryException if I type enough text into the EditText, because it creates more and more LiveData instances with strong referenced Observers which could not be garbage collected."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1575994628, "post_id": 59265617, "comment_id": 104750035, "body": "I doubt if you even need <code>LiveData</code> for that. What&#39;s the point? Sending text to the <code>ViewModel</code> and receiving it back?"}, {"owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 1, "creation_date": 1576097749, "post_id": 59265617, "comment_id": 104792489, "body": "It is an minimal example, reduced to the essence. I don&#39;t want to clutter the getAutocompletion function with real HTTP request logic and response parsing. (BTW This is a typical procedure when asking questions at StackOverflow ;)"}], "answers": [{"tags": [], "owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "is_accepted": true, "score": 2, "last_activity_date": 1578665356, "creation_date": 1578665356, "answer_id": 59683370, "question_id": 59265617, "link": "https://stackoverflow.com/questions/59265617/is-the-usage-of-livedata-ktx-with-viewmodels-causing-memory-leaks-if-the-livedat/59683370#59683370", "title": "Is the usage of livedata-ktx with ViewModels causing memory leaks if the LiveData is not backed by a property?", "body": "<p><strong>Yes, there is memory leak:</strong> \nI attached Android Studios memory profiler and executed <code>AutocompletionViewModel.getAutocompletion</code> 10 thousand times. Regardless of a garbage collection, <code>Observer</code> and <code>LiveData</code> objects remain still in memory: \n<a href=\"https://i.stack.imgur.com/QdKyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QdKyl.png\" alt=\"enter image description here\"></a> </p>\n\n<p><strong>Conclusion for this case</strong>: <code>LiveData</code> object should be backed by a property and <code>Observers</code> should only be attached once</p>\n"}, {"comments": [{"owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "edited": false, "score": 0, "creation_date": 1613072474, "post_id": 66119343, "comment_id": 116970837, "body": "Read the correct answer and read the definition on Wikipedia: &quot;In computer science, a memory leak is a type of resource leak that occurs when a computer program incorrectly manages memory allocations[1] in a way that memory which is no longer needed is not released.&quot;"}], "tags": [], "owner": {"reputation": 36, "user_id": 8949979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab5c99aa68cf7cf0566889bb2eabef8?s=128&d=identicon&r=PG&f=1", "display_name": "MusabAlothman", "link": "https://stackoverflow.com/users/8949979/musabalothman"}, "is_accepted": false, "score": 0, "last_activity_date": 1612874953, "creation_date": 1612874953, "answer_id": 66119343, "question_id": 59265617, "link": "https://stackoverflow.com/questions/59265617/is-the-usage-of-livedata-ktx-with-viewmodels-causing-memory-leaks-if-the-livedat/66119343#66119343", "title": "Is the usage of livedata-ktx with ViewModels causing memory leaks if the LiveData is not backed by a property?", "body": "<p>You can't call it a memory leak, you can call it a bad design or disadvantage of this pattern.</p>\n<p>But it's not a type of memory leaks.</p>\n<p>Memory leak could happened with following actions:</p>\n<p>Assign an activity or fragment or listener reference in application lifecycle or static 'companion' object or singleton.</p>\n<p>for more info check this <a href=\"https://proandroiddev.com/everything-you-need-to-know-about-memory-leaks-in-android-d7a59faaf46a\" rel=\"nofollow noreferrer\">article</a></p>\n"}], "owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 1, "accepted_answer_id": 59683370, "answer_count": 2, "score": 2, "last_activity_date": 1613072629, "creation_date": 1575975306, "last_edit_date": 1613072629, "question_id": 59265617, "link": "https://stackoverflow.com/questions/59265617/is-the-usage-of-livedata-ktx-with-viewmodels-causing-memory-leaks-if-the-livedat", "title": "Is the usage of livedata-ktx with ViewModels causing memory leaks if the LiveData is not backed by a property?", "body": "<p>Using <code>lifecycle-viewmodel-ktx</code> and <code>lifecycle-livedata-ktx</code> and given the following example:</p>\n<p><strong>ViewModel implementation:</strong></p>\n<pre><code>class AutocompletionViewModel: ViewModel() {\n\n    fun getAutocompletion(inputString: CharSequence?) = liveData {\n        delay(10)\n        emit(&quot;$inputString DUMMY AUTOCOMPLETION&quot;)\n    }\n}\n</code></pre>\n<p><strong>Fragment part</strong>:</p>\n<pre><code>val viewModel by viewModels&lt;AutocompletionViewModel&gt;()\n/* Acquiring EditText*/\neditText.addTextChangedListener(object: TextWatcher{\n\n    override fun afterTextChanged(editable: Editable?) {\n        viewModel.getAutocompletion(editable).observe(viewLifecycleOwner, Observer { editable?.append(it) })\n    }\n\n    /* Other TextWatcher method implementations*/\n})\n</code></pre>\n<p><strong>Would this code cause a memory leak if the user types text into the EditText?</strong></p>\n<p>I assume that with every text change a new <code>LiveData</code> object with a stong referenced <code>Observer</code> is created (and will be alive until the fragment is destroyed). <s>Nevertheless, a similar example <strong>was</strong> shown by the official docs: <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines#livedata\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/coroutines#livedata</a></s></p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "2-way-object-databinding"], "comments": [{"owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "edited": false, "score": 0, "creation_date": 1575976600, "post_id": 59265135, "comment_id": 104739545, "body": "shouldn&#39;t the syntax be <code>@={}</code> instead of <code>@=()</code>"}, {"owner": {"reputation": 77, "user_id": 7494522, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LHZQA4iPiMg/AAAAAAAAAAI/AAAAAAAAARM/uYpSUOrYEJQ/photo.jpg?sz=128", "display_name": "Priyanka Kadam", "link": "https://stackoverflow.com/users/7494522/priyanka-kadam"}, "reply_to_user": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "edited": false, "score": 0, "creation_date": 1575976870, "post_id": 59265135, "comment_id": 104739688, "body": "My mistake while pasting, still facing the same issue"}, {"owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "edited": false, "score": 0, "creation_date": 1576056637, "post_id": 59265135, "comment_id": 104771230, "body": "can&#39;t seem to see any problems from the snippets will have to run it and see for myself, however if you find the problem do write the answer here."}], "owner": {"reputation": 77, "user_id": 7494522, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LHZQA4iPiMg/AAAAAAAAAAI/AAAAAAAAARM/uYpSUOrYEJQ/photo.jpg?sz=128", "display_name": "Priyanka Kadam", "link": "https://stackoverflow.com/users/7494522/priyanka-kadam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1575976817, "creation_date": 1575973785, "last_edit_date": 1575976817, "question_id": 59265135, "link": "https://stackoverflow.com/questions/59265135/kotlin-spinner-set-selected-value-in-textview-using-2-way-data-binding", "title": "Kotlin spinner set selected value in Textview using 2 way data binding", "body": "<p>I am trying to get the selected value from the spinner and set this value to my TextView using 2 way data binding and Observable string.\nI have tried the below code but I am unable to set the value of the selected item within the textview.</p>\n\n<pre><code>&lt;androidx.appcompat.widget.AppCompatSpinner\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:entries=\"@array/array_name\"\n            android:id=\"@+id/spinner\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            bind:selectedValue=\"@={viewModel.text.get()}\"\n            /&gt;\n       &lt;TextView\n            app:layout_constraintTop_toBottomOf=\"@+id/spinner\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"16dp\"\n            android:hint=\"@string/submit\"\n            android:text=\"@={viewModel.text.get()}\"/&gt;\n</code></pre>\n\n<p>Binding Adapter to bind spinner data to text using inverse binding</p>\n\n<pre><code>@BindingAdapter(value = [\"selectedValue\", \"selectedValueAttrChanged\"], requireAll = false)\n    fun bindSpinnerData(\n        pAppCompatSpinner: AppCompatSpinner,\n        newSelectedValue: String?,\n        newTextAttrChanged: InverseBindingListener\n    ) {\n        pAppCompatSpinner.onItemSelectedListener = object : OnItemSelectedListener {\n            override fun onItemSelected(\n                parent: AdapterView&lt;*&gt;?,\n                view: View?,\n                position: Int,\n                id: Long\n            ) {\n                newTextAttrChanged.onChange()\n            }\n\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {}\n        }\n        if (newSelectedValue != null) {\n            val pos =\n                (pAppCompatSpinner.adapter as ArrayAdapter&lt;String?&gt;).getPosition(\n                    newSelectedValue\n                )\n            pAppCompatSpinner.setSelection(pos, true)\n        }\n    }\n\n    @InverseBindingAdapter(attribute = \"selectedValue\", event = \"selectedValueAttrChanged\")\n    fun captureSelectedValue(pAppCompatSpinner: AppCompatSpinner): String? {\n        return pAppCompatSpinner.selectedItem as String\n    }\n}\n</code></pre>\n\n<p>ViewModel</p>\n\n<pre><code>class SelectionViewModel: BaseViewModel&lt;SelectionNavigator&gt;() {\n    private var text: ObservableField&lt;String&gt;? = null\n    fun SelectionViewModel() {\n        text = ObservableField()\n    }\n\n    fun getText(): ObservableField&lt;String&gt;? {\n        return text\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "mongodb", "kotlin", "spring-data"], "answers": [{"tags": [], "owner": {"reputation": 1319, "user_id": 4413799, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4b45769b1f53c4130f44c3ce8b43b87c?s=128&d=identicon&r=PG&f=1", "display_name": "Ayoub", "link": "https://stackoverflow.com/users/4413799/ayoub"}, "is_accepted": false, "score": 0, "last_activity_date": 1575974935, "creation_date": 1575974935, "answer_id": 59265503, "question_id": 59264215, "link": "https://stackoverflow.com/questions/59264215/spring-mongodb-query-nested-array-containing-nested-arrays/59265503#59265503", "title": "Spring mongodb query nested array containing nested arrays", "body": "<p>You can get inspired from this query I write on Mongoshell:</p>\n\n<p>the query can be tested on <a href=\"https://mongoplayground.net/\" rel=\"nofollow noreferrer\">Mongo playground</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>db.city.aggregate([\n  {\n    \"$match\": {\n      \"_id\": \"c1\"\n    }\n  },\n  {\n    \"$lookup\": {\n      \"from\": \"governate\",\n      \"as\": \"governates\",\n      \"localField\": \"_id\",\n      \"foreignField\": \"cities\"\n    }\n  },\n  {\n    \"$project\": {\n      \"governate\": {\n        $arrayElemAt: [\n          \"$governates\",\n          0\n        ]\n      },\n      \"cityName\": \"$name\"\n    }\n  },\n  {\n    \"$lookup\": {\n      \"from\": \"country\",\n      \"as\": \"coutries\",\n      \"localField\": \"governate._id\",\n      \"foreignField\": \"governates\"\n    }\n  },\n  {\n    \"$project\": {\n      \"country\": {\n        $arrayElemAt: [\n          \"$coutries\",\n          0\n        ]\n      },\n      \"cityName\": 1,\n      \"governateName\": \"$governate.name\",\n      \"governateId\": \"$governate._id\"\n    }\n  },\n  {\n    \"$project\": {\n      \"_id\": 0,\n      \"cityId\": \"$_id\",\n      \"countryName\": \"$country.name\",\n      \"countryId\": \"$country._id\",\n      \"cityName\": 1,\n      \"governateId\": 1,\n      \"governateName\": 1\n    }\n  }\n])\n</code></pre>\n\n<p>The data I used looks like this:</p>\n\n<pre><code>db={\n  \"country\": [\n    {\n      \"_id\": \"1\",\n      \"name\": \"country\",\n      \"governates\": [\n        \"g1\"\n      ]\n    }\n  ],\n  \"governate\": [\n    {\n      \"_id\": \"g1\",\n      \"name\": \"governate\",\n      \"cities\": [\n        \"c1\"\n      ]\n    }\n  ],\n  \"city\": [\n    {\n      \"_id\": \"c1\",\n      \"name\": \"city\"\n    }\n  ]\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10256891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575974935, "creation_date": 1575970806, "question_id": 59264215, "link": "https://stackoverflow.com/questions/59264215/spring-mongodb-query-nested-array-containing-nested-arrays", "title": "Spring mongodb query nested array containing nested arrays", "body": "<p>i have these 3 class</p>\n\n<pre><code>@Document(collection = \"Countries\")\nclass CountryDoc\n{\n    @Id\n    lateinit var id : String\n\n    var name : String = \"\"\n\n    var governorates : ArrayList&lt;Governorate&gt; = ArrayList()\n\n}\n\nclass Governorate\n{\n    var id : String = \"\"\n\n    var name : String = \"\"\n\n    var cardinalPoint : CardinalPoint = CardinalPoint.SOUTH_WEST\n\n    var cities : ArrayList&lt;City&gt; = ArrayList()\n}\n\nclass City\n{\n    var id : String = \"\"\n\n    var name : String = \"\"\n}\n</code></pre>\n\n<p>and i want to get the full address of a city, the result must be like this</p>\n\n<pre><code>{\n  \"countryId\" : \"\"\n  \"countryName\" : \"\",\n  \"governorateId\" : \"\",\n  \"governorateName\" : \"\",\n  \"cardinalPoint\" : \"\"\n  \"cityId\" : \"\",\n  \"cityName\" : \"\"\n}\n</code></pre>\n\n<p>i tried this query but it did not work, I had only the information of the country</p>\n\n<pre><code>    val countryCriteria = Criteria.where(\"id\").`is`(countryId)\n    val governorateCriteria = Criteria.where(\"id\").`is`(governorateId)\n    val cityCriteria = Criteria.where(\"id\").`is`(cityId)\n\n    val aggregation = Aggregation.newAggregation(\n        Aggregation.match(countryCriteria),\n        Aggregation.project().and(\"id\").`as`(\"countryId\").and(\"name\").`as`(\"countryName\"),\n        Aggregation.unwind(\"governorates\"),\n        Aggregation.match(governorateCriteria),\n Aggregation.project().and(\"name\").`as`(\"governorateName\").and(\"id\").`as`(\"governorateId\").and(\"cardinalPoint\").`as`(\"cardinalPoint\")\n        Aggregation.unwind(\"cities\"),\n        Aggregation.match(cityCriteria)\n        Aggregation.project().and(\"name\").`as`(\"cityName\").and(\"id\").`as`(\"cityId\")\n    )\n\nval result = mongoDb.aggregate(aggregation, CountryDoc::class.java, Address::class.java).uniqueMappedResult\n</code></pre>\n\n<p>i can't understand why that does not works for me, can someone help me?</p>\n"}, {"tags": ["android", "kotlin", "push-notification", "huawei-mobile-services", "xiaomi"], "comments": [{"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1576054498, "post_id": 59263754, "comment_id": 104770003, "body": "I&#39;m not sure if it can help you, but you have to ask permission to the user first. You need to declare permissions you need in your manifest. <a href=\"https://stackoverflow.com/a/2169311/10663762\">Here</a>&#39;s what it looks like in the manifest."}], "owner": {"reputation": 11, "user_id": 12510357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c79fe1fc072377e0a69b6547eac1de?s=128&d=identicon&r=PG&f=1", "display_name": "alexgild", "link": "https://stackoverflow.com/users/12510357/alexgild"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576052253, "creation_date": 1575969312, "last_edit_date": 1576052253, "question_id": 59263754, "link": "https://stackoverflow.com/questions/59263754/is-there-a-way-to-programmatically-change-notification-settings-on-android", "title": "Is there a way to programmatically change notification settings on android?", "body": "<p>There's problem on some devices like Huawei or Xiaomi (or maybe on other devices to) with notifications.</p>\n\n<p>I try to make Notification with sound and pushes, and I create <code>Notification</code> with <code>PRIORITY_HIGH</code>, but still when I install my app, in notifications settings (on Huawei) stayed that banners are disabled. And on Xiaomi in addition sound disabled too.</p>\n\n<p>I've read that it's manufacture's restriction. Is there a way to get around it or change settings programmaticaly after the app installation?</p>\n\n<p>Here's a screenshot of settings of my application, that are set after installation (on Huawei):\n<a href=\"https://i.stack.imgur.com/kFrCR.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "classcastexception", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 343, "user_id": 9401943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oVPqk.png?s=128&g=1", "display_name": "birneee", "link": "https://stackoverflow.com/users/9401943/birneee"}, "edited": false, "score": 0, "creation_date": 1575968438, "post_id": 59262953, "comment_id": 104735161, "body": "what is the output of: <code>result.data.await()::class</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575988167, "post_id": 59263374, "comment_id": 104746084, "body": "I dont understand what you exactly mean"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575994899, "post_id": 59263374, "comment_id": 104750202, "body": "<code>getNewsAsync()</code> doesn&#39;t return an <code>List&lt;Article&gt;</code>, so that code is incorrect. A correct implementation cannot be given without specifying what <code>getNewsAsync()</code> actually returns."}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575995971, "post_id": 59263374, "comment_id": 104750799, "body": "it returns SportNewsResponse ending points I will add to code now"}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575996342, "post_id": 59263374, "comment_id": 104750984, "body": "I have added all necessary files please check it"}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575998890, "post_id": 59263374, "comment_id": 104752232, "body": "what do you think main problem"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1576005585, "post_id": 59263374, "comment_id": 104755129, "body": "Try to explain to yourself HOW <code>UseCaseResult&lt;List&lt;Article&gt;&gt;</code> is the result by looking at the types returned by the functions, then work backwards because I can guarantee it does not make sense."}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1576071735, "post_id": 59263374, "comment_id": 104779433, "body": "I understand what you mean but I have changed data type to UseCaseResult&lt;List&lt;SportNewsResponse&gt;&gt; it is the still the same what is your suggestion"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1575968015, "creation_date": 1575968015, "answer_id": 59263374, "question_id": 59262953, "link": "https://stackoverflow.com/questions/59262953/java-lang-classcastexception-kotlinx-coroutines-completabledeferredimpl-cannot/59263374#59263374", "title": "java.lang.ClassCastException: kotlinx.coroutines.CompletableDeferredImpl cannot be cast to java.util.List?", "body": "<pre><code>  val result = sportsNewsApi.getNewsAsync()\n  UseCaseResult.Success(result) as UseCaseResult&lt;List&lt;Article&gt;&gt;\n</code></pre>\n\n<p>That cast is very suspicious since it should work even without it. That means your cast is invalid, causing the error you're seeing.</p>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575987494, "post_id": 59264237, "comment_id": 104745683, "body": "exception it is still the same"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 1, "creation_date": 1575995269, "post_id": 59264237, "comment_id": 104750419, "body": "I very much doubt that. Maybe you&#39;re still casting to a wrong type, but the object you&#39;re trying to cast has changed. You should share your new stack trace."}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575996596, "post_id": 59264237, "comment_id": 104751122, "body": "java.lang.ClassCastException: yodgorbek.komilov.musobaqayangiliklari.internet.SportNewsRes&zwnj;&#8203;ponse cannot be cast to java.util.List  at yodgorbek.komilov.musobaqayangiliklari.viewmodel.MainViewMod&zwnj;&#8203;el$loadNews$1.invoke&zwnj;&#8203;Suspend(MainViewMode&zwnj;&#8203;l.kt:43)  at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWi&zwnj;&#8203;th(ContinuationImpl.&zwnj;&#8203;kt:33)"}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575996808, "post_id": 59264237, "comment_id": 104751240, "body": "I am getting above exception I did not understand what I am making wrong"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575996972, "post_id": 59264237, "comment_id": 104751329, "body": "Well you see, now you&#39;re getting a <code>SportNewsResponse</code> but pretending it&#39;s a <code>List</code>. Now call a method that gets the list of articles. Maybe <code>result.getArticles()</code>."}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1575997371, "post_id": 59264237, "comment_id": 104751550, "body": "where exactly I have to implement can you explain in coding sample"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1575970867, "creation_date": 1575970867, "answer_id": 59264237, "question_id": 59262953, "link": "https://stackoverflow.com/questions/59262953/java-lang-classcastexception-kotlinx-coroutines-completabledeferredimpl-cannot/59264237#59264237", "title": "java.lang.ClassCastException: kotlinx.coroutines.CompletableDeferredImpl cannot be cast to java.util.List?", "body": "<p>Incorrect:</p>\n\n<pre><code>val result = sportsNewsApi.getNewsAsync()\n</code></pre>\n\n<p>Correct:</p>\n\n<pre><code>val result = sportsNewsApi.getNewsAsync().await()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1576150979, "post_id": 59303191, "comment_id": 104810179, "body": "@juliribeiro if I change I am getting error in TopHeadlinesFragment.kt thats logic I did not understand"}], "tags": [], "owner": {"reputation": 953, "user_id": 7074708, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1163cb93f5145045e1a64109699fa9f5?s=128&d=identicon&r=PG&f=1", "display_name": "julioribeiro", "link": "https://stackoverflow.com/users/7074708/julioribeiro"}, "is_accepted": false, "score": 0, "last_activity_date": 1576148801, "creation_date": 1576148801, "answer_id": 59303191, "question_id": 59262953, "link": "https://stackoverflow.com/questions/59262953/java-lang-classcastexception-kotlinx-coroutines-completabledeferredimpl-cannot/59303191#59303191", "title": "java.lang.ClassCastException: kotlinx.coroutines.CompletableDeferredImpl cannot be cast to java.util.List?", "body": "<p>So you already made some changes\nNow  getNewsAsync must return UseCaseResult not a list of it, since that's what The endpoint is returning.\nThen you can get the articles inside this object</p>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1576236415, "post_id": 59314198, "comment_id": 104843093, "body": "C:\\Users\\Edgar\\Desktop\\SportNews\\app\\src\\main\\java\\yodgorbek&zwnj;&#8203;\\komilov\\musobaqayan&zwnj;&#8203;giliklari\\repository&zwnj;&#8203;\\NewsRepository.kt: (22, 60): Unresolved reference: SportNewsResponse I am getting error below what is your suggestion"}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1576237438, "post_id": 59314198, "comment_id": 104843614, "body": "I have tried your first approach as well it is giving this error Unresolved reference: Deferred"}, {"owner": {"reputation": 806, "user_id": 1079842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDKW0.png?s=128&g=1", "display_name": "Mojtaba Haddadi", "link": "https://stackoverflow.com/users/1079842/mojtaba-haddadi"}, "reply_to_user": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1576258326, "post_id": 59314198, "comment_id": 104853878, "body": "Have you added dependencies to you project? <code>implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.2&quot;</code>"}], "tags": [], "owner": {"reputation": 806, "user_id": 1079842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDKW0.png?s=128&g=1", "display_name": "Mojtaba Haddadi", "link": "https://stackoverflow.com/users/1079842/mojtaba-haddadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1576193830, "creation_date": 1576193830, "answer_id": 59314198, "question_id": 59262953, "link": "https://stackoverflow.com/questions/59262953/java-lang-classcastexception-kotlinx-coroutines-completabledeferredimpl-cannot/59314198#59314198", "title": "java.lang.ClassCastException: kotlinx.coroutines.CompletableDeferredImpl cannot be cast to java.util.List?", "body": "<p>in <code>NewsRepository</code>\nin this 2 lines</p>\n\n<pre><code> val result = sportsNewsApi.getNewsAsync()\n UseCaseResult.Success(result) as UseCaseResult&lt;List&lt;Article&gt;&gt;\n</code></pre>\n\n<p>you are trying to cast <code>result</code> to <code>UseCaseResult&lt;List&lt;Article&gt;&gt;</code>\n, but in <code>SportNewsInterface</code> the <code>getNewsAsync()</code> fun returns <code>Deferred&lt;SportNewsResponse&gt;</code> thus you must cast it to <code>UseCaseResult&lt;Deferred&lt;SportNewsResponse&gt;&gt;</code> like this.</p>\n\n<pre><code>UseCaseResult.Success(result) as UseCaseResult&lt;Deferred&lt;SportNewsResponse&gt;&gt;\n</code></pre>\n\n<p>or if you want to fetch the value use <code>.await()</code> on <code>getNewsAsync()</code> like this</p>\n\n<pre><code>val result = sportsNewsApi.getNewsAsync().await()\n UseCaseResult.Success(result) as UseCaseResult&lt;SportNewsResponse&gt;\n</code></pre>\n\n<p>don't forget now you should cast result to <code>UseCaseResult&lt;SportNewsResponse&gt;</code> and remove <code>Deferred</code></p>\n"}], "owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2582, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1576193830, "creation_date": 1575966289, "last_edit_date": 1575996304, "question_id": 59262953, "link": "https://stackoverflow.com/questions/59262953/java-lang-classcastexception-kotlinx-coroutines-completabledeferredimpl-cannot", "title": "java.lang.ClassCastException: kotlinx.coroutines.CompletableDeferredImpl cannot be cast to java.util.List?", "body": "<p>I am developing a new android app but I am getting the following exception </p>\n\n<pre><code>java.lang.ClassCastException: kotlinx.coroutines.CompletableDeferredImpl cannot be cast to java.util.List\n    at yodgorbek.komilov.musobaqayangiliklari.viewmodel.MainViewModel$loadNews$1.invokeSuspend(MainViewModel.kt:42)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:241)\n    at android.os.Handler.handleCallback(Handler.java:873)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:201)\n    at android.app.ActivityThread.main(ActivityThread.java:6820)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:922)\n</code></pre>\n\n<p>in my MainViewModel.kt</p>\n\n<p>below my MainViewModel.kt</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nclass MainViewModel(val newsRepository: NewsRepository) : ViewModel(), CoroutineScope {\n    // Coroutine's background job\n    val job = Job()\n    // Define default thread for Coroutine as Main and add job\n    override val coroutineContext: CoroutineContext = Dispatchers.Main + job\n\n    val showLoading = MutableLiveData&lt;Boolean&gt;()\n    val sportList = MutableLiveData &lt;List&lt;Article&gt;&gt;()\n    val showError = SingleLiveEvent&lt;String&gt;()\n\n    fun loadNews() {\n        // Show progressBar during the operation on the MAIN (default) thread\n        showLoading.value = true\n        // launch the Coroutine\n        launch {\n            // Switching from MAIN to IO thread for API operation\n            // Update our data list with the new one from API\n            val result = withContext(Dispatchers.IO) {\n                newsRepository?.getNewsList()\n            }\n            // Hide progressBar once the operation is done on the MAIN (default) thread\n            showLoading.value = false\n            when (result) {\n\n                is UseCaseResult.Success&lt;*&gt; -&gt; {\n                    sportList.value = result.data as List&lt;Article&gt;\n                }\n                is Error -&gt; showError.value = result.message\n            }\n        }\n    }\n\n    override fun onCleared() {\n        super.onCleared()\n        // Clear our job when the linked activity is destroyed to avoid memory leaks\n        job.cancel()\n    }\n}\n</code></pre>\n\n<p>below Article.kt</p>\n\n<pre><code>@Entity(tableName = \"news_table\")\ndata class Article(@ColumnInfo(name = \"author\")val author: String,\n                   val content: String,\n                   val description: String,\n                   val publishedAt: String,\n                   val source: Source,\n                   val title: String,\n                   val url: String,\n                   val urlToImage: String\n)\n</code></pre>\n\n<p>below SportNewsResponse.kt</p>\n\n<p>data class SportNewsResponse(\n    val articles: List,\n    val status: String,\n    val totalResults: Int\n)</p>\n\n<p>below UseCaseResult.kt</p>\n\n<pre><code>sealed class UseCaseResult&lt;out T : Any&gt;() {\n    class Success&lt;out T : Any&gt;(val data: T) : UseCaseResult&lt;T&gt;()\n    class Error(val exception: Throwable) : UseCaseResult&lt;Nothing&gt;()\n}\n</code></pre>\n\n<p>below NewsRepository.kt where I have implemented UserCaseResult</p>\n\n<pre><code>interface NewsRepository {\n    // Suspend is used to await \n    suspend fun getNewsList(): UseCaseResult&lt;List&lt;Article&gt;&gt;\n}\n\n\n@Suppress(\"UNCHECKED_CAST\")\nclass NewsRepositoryImpl(private val sportsNewsApi: SportNewsInterface) : NewsRepository {\n    override suspend fun getNewsList(): UseCaseResult&lt;List&lt;Article&gt;&gt; {\n\n        return try {\n            val result = sportsNewsApi.getNewsAsync()\n            UseCaseResult.Success(result) as UseCaseResult&lt;List&lt;Article&gt;&gt;\n        } catch (ex: Exception) {\n            UseCaseResult.Error(ex)\n        }\n    }\n}\n</code></pre>\n\n<p>below my SportNewsInteface.kt</p>\n\n<pre><code>interface SportNewsInterface {\n\n    @GET(\"v2/top-headlines?country=us&amp;apiKey=da331087e3f3462bb534b3b0917cbee9\")\n     fun getNewsAsync(): Deferred&lt;SportNewsResponse&gt;\n\n    @GET(\"/v2/top-headlines?sources=espn&amp;apiKey=da331087e3f3462bb534b3b0917cbee9\")\n    fun getEspn(): Deferred&lt;List&lt;SportNewsResponse&gt;&gt;\n\n    @GET(\"/v2/top-headlines?sources=football-italia&amp;apiKey=da331087e3f3462bb534b3b0917cbee9\")\n    fun getFootballItalia(): Deferred&lt;List&lt;SportNewsResponse&gt;&gt;\n\n    @GET(\"/v2/top-headlines?sources=bbc-sport&amp;apiKey=da331087e3f3462bb534b3b0917cbee9\")\n    fun getBBCSport(): Deferred&lt;List&lt;SportNewsResponse&gt;&gt;\n</code></pre>\n\n<p>below my Response from server</p>\n\n<pre><code>{\n    \"status\": \"ok\",\n    \"totalResults\": 38,\n    \"articles\": [\n        {\n            \"source\": {\n                \"id\": \"cnbc\",\n                \"name\": \"CNBC\"\n            },\n            \"author\": \"Holly Ellyatt\",\n            \"title\": \"Russia is now not the only pressing issue that NATO has to deal with - CNBC\",\n            \"description\": \"Heads of state and government are meeting in the U.K. this week for the 70th anniversary of the military alliance NATO.\",\n            \"url\": \"https://www.cnbc.com/2019/12/02/nato-summit-alliance-has-more-pressing-issues-than-russia-now.html\",\n            \"urlToImage\": \"https://image.cnbcfm.com/api/v1/image/106272467-1575218599700gettyimages-997112494.jpeg?v=1575218712\",\n            \"publishedAt\": \"2019-12-02T07:39:00Z\",\n            \"content\": \"US president Donald Trump is seen during his press conference at the 2018 NATO Summit in Brussels, Belgium on July 12, 2018.\\r\\nAs heads of state and government meet in the U.K. this week for the 70th anniversary of the military alliance NATO, discussions are l\u2026 [+8623 chars]\"\n        },\n        {\n            \"source\": {\n                \"id\": null,\n                \"name\": \"Chron.com\"\n            },\n            \"author\": \"Aaron Wilson\",\n            \"title\": \"Bill O'Brien gets game ball from Deshaun Watson after Texans' win over Patriots - Chron\",\n            \"description\": \"In an emotional moment, Texans coach Bill O'Brien was presented with the game ball by quarterback Deshaun Watson following a pivotal win over the New England Patriots.\",\n            \"url\": \"https://www.chron.com/sports/texans/article/Bill-O-Brien-Deshaun-Watson-Texans-Patriots-14874678.php\",\n            \"urlToImage\": \"https://s.hdnux.com/photos/01/07/23/50/18692664/3/rawImage.jpg\",\n            \"publishedAt\": \"2019-12-02T06:16:00Z\",\n            \"content\": \"&lt;ul&gt;&lt;li&gt;Houston Texans head coach Bill O'Brien on the sidelines during the fourth quarter of an NFL game against the New England Patriots at NRG Stadium Sunday, Dec. 1, 2019, in Houston.\\r\\nHouston Texans head coach Bill O'Brien on the sidelines during the four\u2026 [+1583 chars]\"\n\n\n        }\n    ]\n}\n</code></pre>\n"}, {"tags": ["kotlin", "micronaut", "micronaut-client"], "answers": [{"tags": [], "owner": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "is_accepted": true, "score": 0, "last_activity_date": 1575985962, "creation_date": 1575985962, "answer_id": 59268770, "question_id": 59262877, "link": "https://stackoverflow.com/questions/59262877/testing-of-secured-controller/59268770#59268770", "title": "Testing of secured controller", "body": "<p>It turns out that I can either declare my client as the following. By naming the argument to match the actual http header.</p>\n\n<pre><code>@Client(\"/\")\ninterface Client {\n    ...\n    @Get(\"/principal\")\n    fun getPrincipal(@Header authorization: String): Principal\n}\n</code></pre>\n\n<p>But it's also possible letting the @Header annotation take an argument specifying which http header to target</p>\n\n<pre><code>@Client(\"/\")\ninterface Client {\n    ...\n    @Get(\"/principal\")\n    fun getPrincipal(@Header(\"Authorization\") authorizationValue: String): Principal\n}\n</code></pre>\n"}], "owner": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 59268770, "answer_count": 1, "score": 0, "last_activity_date": 1575985962, "creation_date": 1575965891, "last_edit_date": 1575966362, "question_id": 59262877, "link": "https://stackoverflow.com/questions/59262877/testing-of-secured-controller", "title": "Testing of secured controller", "body": "<p>I have the following controller for which I'm trying to test</p>\n\n<pre><code>@Secured(SecurityRule.IS_AUTHENTICATED)\n@Controller\nclass UserController(private val userService: UserService) {\n    @Get(\"/principal\")\n    fun getPrincipal(principal: Principal): Principal = principal\n}\n</code></pre>\n\n<p>My test looks as the following</p>\n\n<pre><code>class Credentials(val username: String, val password: String)\n\nclass LoginResponse(\n    @JsonProperty(\"access_token\") val accessToken: String,\n    @JsonProperty(\"expires_in\") val expiresIn: Int,\n    @JsonProperty(\"refresh_token\") val refreshToken: String,\n    @JsonProperty(\"token_type\") val tokenType: String,\n    @JsonProperty(\"username\") val username: String)\n\n@Client(\"/\")\ninterface Client {\n    @Post(\"/login\")\n    fun login(@Body credentials: Credentials): LoginResponse\n\n    @Get(\"/principal\")\n    fun getPrincipal(@Header authorizationHeader: String): Principal\n}\n\n@MicronautTest\ninternal class UserControllerTest {\n    @Inject\n    lateinit var authenticationConfiguration: AuthenticationConfiguration\n\n    @Inject\n    lateinit var client: Client\n\n    @Test\n    fun getPrincipal() {\n        val credentials = Credentials(authenticationConfiguration.testUserEmail, authenticationConfiguration.testUserPassword)\n        val loginResponse = client.login(credentials)\n        val authorizationHeader = \"Authorization:Bearer ${loginResponse.accessToken}\"\n        val principal = client.getPrincipal(authorizationHeader)\n    }\n}\n</code></pre>\n\n<p>The login works just fine. I get a bearer token and the authorizationHeader looks just fine. But the call to <code>client.getPrincipal(authorizationHeader)</code> fails with <code>io.micronaut.http.client.exceptions.HttpClientResponseException: Unauthorized</code></p>\n\n<p>Any clue what goes wrong?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1575968849, "post_id": 59262981, "comment_id": 104735364, "body": "This doesn&#39;t create an instance, like your Java code does; this will only work if it&#39;s declared as an <code>object</code> and will return that object."}], "tags": [], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "is_accepted": false, "score": 0, "last_activity_date": 1575966384, "creation_date": 1575966384, "answer_id": 59262981, "question_id": 59262723, "link": "https://stackoverflow.com/questions/59262723/create-a-class-instance-using-a-string-containing-the-package-name-and-class-nam/59262981#59262981", "title": "Create a class instance using a string containing the package name and class name", "body": "<p>Figured it out:</p>\n\n<p>Add the following to build.gradle:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n</code></pre>\n\n<p>Create the instance as follows:</p>\n\n<pre><code>val classInstance = Class.forName(\"com.mydomain.myapp.someclass\").kotlin.objectInstance\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1575968744, "creation_date": 1575968744, "answer_id": 59263599, "question_id": 59262723, "link": "https://stackoverflow.com/questions/59262723/create-a-class-instance-using-a-string-containing-the-package-name-and-class-nam/59263599#59263599", "title": "Create a class instance using a string containing the package name and class name", "body": "<pre><code>val cls = Class.forName(\"com.mydomain.myapp.someclass\").kotlin\n</code></pre>\n\n<p>gives you a <code>KClass&lt;*&gt;</code>, you can find everything it supports in <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html</a>. If e.g. you know this is a Kotlin class with a primary constructor, you can do</p>\n\n<pre><code>val ctor = cls.primaryConstructor!!\nval object = ctor.call(ctorArgument)\n</code></pre>\n\n<p>Or pick the constructor you want from <code>cls.constructors</code>.</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575968744, "creation_date": 1575965265, "question_id": 59262723, "link": "https://stackoverflow.com/questions/59262723/create-a-class-instance-using-a-string-containing-the-package-name-and-class-nam", "title": "Create a class instance using a string containing the package name and class name", "body": "<p>Is it possible in Kotlin to create an instance of a class by providing just a string containing a package name and class name? I know that this can be done using Java:</p>\n\n<pre><code>Class&lt;?&gt; clazz = Class.forName(\"com.mydomain.myapp.someclass\");\nConstructor&lt;?&gt; ctor = clazz.getConstructor(String.class);\nObject object = ctor.newInstance(new Object[] { ctorArgument });\n</code></pre>\n\n<p>But is there something more native to Kotlin?</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1575965633, "post_id": 59262660, "comment_id": 104733795, "body": "Why movecamera and animatecamera both are used ?"}, {"owner": {"reputation": 5, "user_id": 12470350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82eb9695ecea03c7dbdb4066774044a?s=128&d=identicon&r=PG&f=1", "display_name": "RobertZt", "link": "https://stackoverflow.com/users/12470350/robertzt"}, "reply_to_user": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1575965853, "post_id": 59262660, "comment_id": 104733893, "body": "To zoom to 11f."}], "answers": [{"tags": [], "owner": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "is_accepted": true, "score": 2, "last_activity_date": 1575967641, "creation_date": 1575967641, "answer_id": 59263270, "question_id": 59262660, "link": "https://stackoverflow.com/questions/59262660/if-location-access-permission-denied-than-move-camera-to/59263270#59263270", "title": "If location access permission denied,than move camera to", "body": "<p>I think you made mistake in <code>onLocationResult</code>.</p>\n\n<p>You are using <code>moveCamera</code> and <code>animateCamera</code> at same time.</p>\n\n<p>Instead you can use <code>newLatLngZoom</code>. Like,</p>\n\n<pre><code>mMap!!.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng , 11f))\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12470350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82eb9695ecea03c7dbdb4066774044a?s=128&d=identicon&r=PG&f=1", "display_name": "RobertZt", "link": "https://stackoverflow.com/users/12470350/robertzt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 59263270, "answer_count": 1, "score": 0, "last_activity_date": 1575967641, "creation_date": 1575964886, "last_edit_date": 1575965079, "question_id": 59262660, "link": "https://stackoverflow.com/questions/59262660/if-location-access-permission-denied-than-move-camera-to", "title": "If location access permission denied,than move camera to", "body": "<p>I have this code below - which is basically google maps app, which on startup asks permission for location, and if accepted, then moves camera to the current location. I have tried many things, that just don't work - if a person declines permission to location, then move the camera to xwz coordinates..... . Now it just centers the whole map, and that's it. Please help! Thank you!</p>\n\n<pre><code>class MapsActivity : AppCompatActivity(), OnMapReadyCallback {\n\n    private lateinit var mMap: GoogleMap\n\n    private var latitude:Double=0.toDouble()\n    private var longitude:Double=0.toDouble()\n\n    private lateinit var mLastLocation: Location\n    private var mMarker: Marker? = null\n\n    //Location\n    lateinit var fusedLocationProviderClient: FusedLocationProviderClient\n    lateinit var locationRequest: LocationRequest\n    lateinit var locationCallback: LocationCallback\n\n    companion object{\n        private const val MY_PERMISSION_CODE: Int = 1000\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_maps)\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        val mapFragment = supportFragmentManager\n            .findFragmentById(R.id.map) as SupportMapFragment\n        mapFragment.getMapAsync(this)\n\n        //Request runtime permission\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (checkLocationPermission()) {\n                buildLocationRequest()\n                buildLocationCallBack()\n\n                fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this)\n                fusedLocationProviderClient.requestLocationUpdates(locationRequest, locationCallback, Looper.myLooper())\n            }\n        }else {\n            buildLocationRequest()\n            buildLocationCallBack()\n\n            fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this)\n            fusedLocationProviderClient.requestLocationUpdates(locationRequest, locationCallback, Looper.myLooper())\n        }\n    }\n\n    private fun buildLocationCallBack() {\n        locationCallback = object : LocationCallback(){\n            override fun onLocationResult(p0: LocationResult?) {\n                mLastLocation = p0!!.locations.get(p0!!.locations.size-1) //Get last location\n\n                if(mMarker != null){\n                    mMarker!!.remove()\n                }\n\n                latitude = mLastLocation.latitude\n                longitude = mLastLocation.longitude\n\n                val latLng = LatLng(latitude,longitude)\n                val markerOptions = MarkerOptions().position(latLng).title(\"Your position\").icon(bitmapDescriptorFromVector(this@MapsActivity, R.drawable.m1))\n                mMarker = mMap!!.addMarker(markerOptions)\n\n                //Move camera\n                mMap!!.moveCamera(CameraUpdateFactory.newLatLng(latLng))\n                mMap!!.animateCamera(CameraUpdateFactory.zoomTo(11f))\n            }\n        }\n    }\n\n    private fun buildLocationRequest() {\n        locationRequest = LocationRequest()\n        locationRequest.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n        locationRequest.interval = 5000\n        locationRequest.fastestInterval = 3000\n        locationRequest.smallestDisplacement = 10f\n    }\n\n    private fun checkLocationPermission() : Boolean {\n\n        if(ContextCompat.checkSelfPermission(this,android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED){\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this, android.Manifest.permission.ACCESS_FINE_LOCATION))\n                ActivityCompat.requestPermissions(this, arrayOf(\n                    android.Manifest.permission.ACCESS_FINE_LOCATION\n                ), MY_PERMISSION_CODE)\n            else\n                ActivityCompat.requestPermissions(this, arrayOf(\n                    android.Manifest.permission.ACCESS_FINE_LOCATION\n                ), MY_PERMISSION_CODE)\n            return false\n        }\n        else\n            return true\n    }\n\n    //Override OnRequestPermissionResult\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        when (requestCode) {\n            MY_PERMISSION_CODE -&gt; {\n                if(grantResults.size &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                    if(ContextCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED)\n                        if (checkLocationPermission()) {\n                            buildLocationRequest()\n                            buildLocationCallBack()\n\n                            fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this)\n                            fusedLocationProviderClient.requestLocationUpdates(locationRequest, locationCallback, Looper.myLooper())\n\n                            mMap!!.isMyLocationEnabled=true\n\n                        }\n                }\n                else {\n                    Toast.makeText(this, \"Permission Denied\", Toast.LENGTH_SHORT).show()\n                }\n            }\n        }\n    }\n\n    override fun onStop() {\n        fusedLocationProviderClient.removeLocationUpdates(locationCallback)\n        super.onStop()\n    }\n\n    override fun onMapReady(googleMap: GoogleMap) {\n        mMap = googleMap\n\n        //Init google Play Services\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                mMap!!.isMyLocationEnabled = true\n            }\n        }\n        else\n            mMap!!.isMyLocationEnabled = true\n\n\n        //Enable Zoom control\n        mMap.uiSettings.isZoomControlsEnabled=true\n\n        //map style\n\n        try {\n\n            val success = googleMap.setMapStyle(\n                MapStyleOptions.loadRawResourceStyle(this, R.raw.style_json))\n        } catch (e: Resources.NotFoundException) {\n            Log.e(\"MapsActivity\", \"Can't find style. Error: \", e)\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1575966642, "post_id": 59262512, "comment_id": 104734209, "body": "fun sub you can access from any class just calling sub, to access fun add you must have an object of Operation class, like val op = Operation() op.add(1, 2)"}], "answers": [{"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1575979171, "post_id": 59265429, "comment_id": 104740934, "body": "No correction needed!  Though worth adding that in the first case, the member function is often called a \u2018method\u2019, and operates <i>on</i> the instance you call it on: within the function, you can refer directly to the instance&#39;s properties, and access its private methods and properties \u2014 though this artificial case doesn&#39;t have any, which is why the distinction is hard to see\u2026"}], "tags": [], "owner": {"reputation": 83, "user_id": 8388315, "user_type": "registered", "profile_image": "https://graph.facebook.com/857305021095436/picture?type=large", "display_name": "ZahirSher", "link": "https://stackoverflow.com/users/8388315/zahirsher"}, "is_accepted": false, "score": 0, "last_activity_date": 1575974705, "creation_date": 1575974705, "answer_id": 59265429, "question_id": 59262512, "link": "https://stackoverflow.com/questions/59262512/kotlin-differences-between-a-function-inside-a-class-and-inside-a-kt-file-out/59265429#59265429", "title": "Kotlin : Differences between a function inside a class and inside a .kt file outside the class", "body": "<p>The function inside Operation class requires you to create an instance of the class before you can use it. So it could be like </p>\n\n<p><code>val op = Operation(this)\nval result = op.add(1,1)</code></p>\n\n<p>but for the one outside, it can be accessed directly by just importing the class.</p>\n\n<p>You can get more information here: <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/kotlin-for-py/classes.html</a></p>\n\n<p><em>Correct me if I am wrong since I just started Kotlin.</em></p>\n"}], "owner": {"reputation": 23, "user_id": 4126085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xRTpo.jpg?s=128&g=1", "display_name": "Gyanaranjan Biswal", "link": "https://stackoverflow.com/users/4126085/gyanaranjan-biswal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575974705, "creation_date": 1575964258, "last_edit_date": 1575967794, "question_id": 59262512, "link": "https://stackoverflow.com/questions/59262512/kotlin-differences-between-a-function-inside-a-class-and-inside-a-kt-file-out", "title": "Kotlin : Differences between a function inside a class and inside a .kt file outside the class", "body": "<p>What is the differences between a function inside a class and inside a <code>.kt</code> file outside the class.\nHow to access a function in the second case inside <code>Operation.kt</code> file and how to call the function <code>sub()</code> What it is different from function <code>add()</code>.</p>\n\n<pre><code>class Operation {\n    fun add(x: Int, y: Int): Int {\n        return x + y\n    }\n}\n\nfun sub(x: Int, y: Int): Int {\n   return x + y\n}\n</code></pre>\n"}, {"tags": ["android", "file", "kotlin", "bufferedreader"], "comments": [{"owner": {"reputation": 4114, "user_id": 1242401, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/LFTln.jpg?s=128&g=1", "display_name": "Housefly", "link": "https://stackoverflow.com/users/1242401/housefly"}, "edited": false, "score": 1, "creation_date": 1575963646, "post_id": 59262222, "comment_id": 104732919, "body": "I think it is because you are calling <code>buffer.readLine()</code> once before the <code>while(true)</code>"}, {"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "reply_to_user": {"reputation": 4114, "user_id": 1242401, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/LFTln.jpg?s=128&g=1", "display_name": "Housefly", "link": "https://stackoverflow.com/users/1242401/housefly"}, "edited": false, "score": 0, "creation_date": 1575964323, "post_id": 59262222, "comment_id": 104733204, "body": "Ahh, I think you are right. Wait , let me check."}, {"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "reply_to_user": {"reputation": 4114, "user_id": 1242401, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/LFTln.jpg?s=128&g=1", "display_name": "Housefly", "link": "https://stackoverflow.com/users/1242401/housefly"}, "edited": false, "score": 0, "creation_date": 1575965070, "post_id": 59262222, "comment_id": 104733567, "body": "Silly me, Thanks @Housefly"}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "is_accepted": false, "score": 0, "last_activity_date": 1575966313, "creation_date": 1575966313, "answer_id": 59262959, "question_id": 59262222, "link": "https://stackoverflow.com/questions/59262222/how-to-prevent-line-reader-skipping-first-line/59262959#59262959", "title": "How to prevent Line Reader skipping first line?", "body": "<p>Just removed <code>buffer.readline()</code> before <code>while(true)</code> and it works</p>\n"}], "owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575966313, "creation_date": 1575962861, "question_id": 59262222, "link": "https://stackoverflow.com/questions/59262222/how-to-prevent-line-reader-skipping-first-line", "title": "How to prevent Line Reader skipping first line?", "body": "<p>I am trying to read lines from a text files. Now I am counting lines and it is skipping the first line. I think something is wrong around <code>if (line == null) break</code>. I am pretty sure that I missed something.So please take a look at my code.</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        if (data == null)\n            return\n        if (requestCode==requestcode) {\n            val filepath=data.data\n            file = filepath.toString()\n            val cursor=contentResolver.openInputStream(android.net.Uri.parse(filepath.toString()))\n            lbl.text=filepath.toString()\n            master_path=filepath.toString()\n            noti=cursor.toString()\n            val db=this.openOrCreateDatabase(\"database.db\", Context.MODE_PRIVATE, null)\n            val tableName=\"Master\"\n            db.execSQL(\"delete from $tableName\")\n            val text =  StringBuilder()\n            try {\n                if (resultCode == Activity.RESULT_OK) {\n                    try {\n                        val file=InputStreamReader(cursor)\n                        val buffer=BufferedReader(file)\n                        buffer.readLine()\n                        var lineCount = 0\n                        db.beginTransaction()\n\n                        while(true) {\n                            val line=buffer.readLine()\n\n                            if (line == null) break //Something is wrong here I Think\n                            lineCount++\n\n                        }\n                        println(lineCount.toString())\n                        line = lineCount\n                        db.setTransactionSuccessful()\n                        db.endTransaction()\n                    } catch (e: IOException) {\n                        if (db.inTransaction())\n                            db.endTransaction()\n                        val d=Dialog(this)\n                        d.setTitle(e.message.toString() + \"first\")\n                        d.show()\n                    }\n\n                } else {\n                    if (db.inTransaction())\n                        db.endTransaction()\n                    val d=Dialog(this)\n                    d.setTitle(\"Only CSV files allowed\")\n                    d.show()\n                }\n            } catch (ex: Exception) {\n                if (db.inTransaction())\n                    db.endTransaction()\n\n                val d=Dialog(this)\n                d.setTitle(ex.message.toString() + \"second\")\n                d.show()\n            }\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["json", "spring-mvc", "kotlin", "jackson"], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 0, "last_activity_date": 1575974526, "last_edit_date": 1575974526, "creation_date": 1575974173, "answer_id": 59265251, "question_id": 59261736, "link": "https://stackoverflow.com/questions/59261736/kotlin-map-collection-to-json-array-with-jackson/59265251#59265251", "title": "Kotlin: Map collection to json array with Jackson", "body": "<p>The issue here is that your controller is declared to return a <code>String</code> and you don't let Jackson create it, but you rather rely on the default <code>toString</code> implementation (that gets called by Kotlin's string interpolation mechanism).</p>\n\n<p>In order to have Jackson serialise the object you have 2 different ways:</p>\n\n<ol>\n<li><p>Let the controller return a <code>ResponseEntity&lt;String&gt;</code> and manually serialise your object to a String:</p>\n\n<pre><code>@RestController\nclass MyController(private val objectMapper: ObjectMapper) {\n\n    @PostMapping(value = [\"/test\"], produces = [\"application/json\"], headers = [\"Content-Type=application/json\"])\n    fun test(@RequestBody request: MyInputData): ResponseEntity&lt;String&gt; {\n\n        val numbersMap = mapOf(\n            \"result\" to listOf(\n                mapOf(\"key1\" to 1),\n                mapOf(\"key2\" to 2),\n                mapOf(\"key3\" to 3),\n                mapOf(\"key4\" to 1)\n            )\n        )\n        val mySerialisedString = objectMapper.writeValueAsString(numbersMap)\n\n        return ResponseEntity.status(HttpStatus.CREATED).body(mySerialisedString) // Jackson will serialize it automatically\n\n    }\n}\n</code></pre>\n\n<p>Note in this case you need to get an instance of <code>ObjectMapper</code> (autowired by Spring).</p></li>\n<li><p>Create your own result object that will get serialised automatically by Jackson (which will be called by Spring under the hood):</p>\n\n<pre><code>@RestController\nclass MyController {\n\n    @PostMapping(value = [\"/test\"], produces = [\"application/json\"], headers = [\"Content-Type=application/json\"])\n    fun test(@RequestBody request: MyInputData): ResponseEntity&lt;MyOutputData&gt; {\n\n        val numbersMap = listOf(mapOf(\"key1\" to 1), mapOf(\"key2\" to 2), mapOf(\"key3\" to 3), mapOf(\"key4\" to 1))\n\n        val myOutputData = MyOutputData(numbersMap)\n        return ResponseEntity.status(HttpStatus.CREATED).body(myOutputData) // Jackson will serialize it automatically\n\n    }\n}\n\nclass MyOutputData(val result: List&lt;Map&lt;String, Int&gt;&gt;)\n</code></pre></li>\n</ol>\n\n<p>Both cases return the following JSON String when called:</p>\n\n<pre><code>{\n    \"result\": [\n    {\n        \"key1\": 1\n    },\n    {\n        \"key2\": 2\n    },\n    {\n        \"key3\": 3\n    },\n    {\n        \"key4\": 1\n    }\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 4250, "user_id": 2804362, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/MVxXV.jpg?s=128&g=1", "display_name": "iam batman", "link": "https://stackoverflow.com/users/2804362/iam-batman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 556, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575974841, "creation_date": 1575960793, "last_edit_date": 1575974841, "question_id": 59261736, "link": "https://stackoverflow.com/questions/59261736/kotlin-map-collection-to-json-array-with-jackson", "title": "Kotlin: Map collection to json array with Jackson", "body": "<p>New to Kotlin, I am trying to set up a web server with kotlin spring webserver template </p>\n\n<p>Here I want to convert kotlin collection as array of JSON objects</p>\n\n<p>Sample endpoint named <code>test</code></p>\n\n<pre><code>@PostMapping(value = [ \"/test\"],produces = [ \"application/json\" ],headers = [ \"Content-Type=application/json\" ])\n    fun test(@RequestBody request:IOUDATA): ResponseEntity&lt;String&gt;{\n\n      //need this as JSON array of object\n      val numbersMap = mapOf(\"key1\" to 1, \"key2\" to 2, \"key3\" to 3, \"key4\" to 1)\n\n      return ResponseEntity.status(HttpStatus.CREATED).body(\"${numbersMap}\");\n\n}\n</code></pre>\n\n<p>Expected result</p>\n\n<pre><code> {\n   result:[\n     {\"key1\":1},{\"key2\":2}...\n    ]\n   }\n</code></pre>\n"}, {"tags": ["android-fragments", "kotlin", "androidimageslider"], "comments": [{"owner": {"reputation": 5169, "user_id": 3494639, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ecb9eb312b5a2fad53dacf42b14988df?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelStoddart", "link": "https://stackoverflow.com/users/3494639/michaelstoddart"}, "edited": false, "score": 0, "creation_date": 1577114062, "post_id": 59261400, "comment_id": 105096246, "body": "What do you mean not working? Is there a crash?"}], "owner": {"reputation": 1, "user_id": 12509467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7177dfe1ab50c4dc3d411c66c529a57?s=128&d=identicon&r=PG&f=1", "display_name": "ARSH", "link": "https://stackoverflow.com/users/12509467/arsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1986, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575959263, "creation_date": 1575959263, "question_id": 59261400, "link": "https://stackoverflow.com/questions/59261400/trying-to-do-automatic-image-slider-in-a-fragment-in-kotlin-however-runouithrea", "title": "Trying to do Automatic image slider in a fragment in kotlin, However runouithread is not working.Any possible solutions?", "body": "<p>I'm trying to do Automatic image slider in fragment in kotlin.\nI am trying to convert an activity to fragment. However runouithread is not working in fragments.Any possible solutions??</p>\n\n<p>I tried couple of other things also. But not a possible solution, I can do image slide inside the fragment but not to dod the auomatic sliding....</p>\n\n<p>My mainactivity()</p>\n\n<pre><code>package com.example.sliderimagemovie\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\n\nclass MainActivity : AppCompatActivity() {\n\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n    }\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n    &lt;fragment\n            android:layout_width=\"409dp\"\n            android:layout_height=\"290dp\"\n            android:name=\"com.example.sliderimagemovie.HomeFragment\"\n            android:id=\"@+id/fragment\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            android:layout_marginBottom=\"441dp\"/&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>slide_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                             xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                                             xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\"\n                                             android:layout_height=\"275dp\"&gt;\n\n    &lt;ImageView\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\" app:srcCompat=\"@drawable/ic_launcher_background\"\n            android:id=\"@+id/slide_image\"\n            app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\" android:scaleType=\"centerCrop\"/&gt;\n    &lt;android.support.design.widget.FloatingActionButton\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:clickable=\"true\" app:srcCompat=\"@drawable/ic_play_button\"\n            android:id=\"@+id/glide_play_button\"\n            app:layout_constraintTop_toTopOf=\"@+id/slide_image\" android:layout_marginBottom=\"8dp\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/slide_image\"\n            app:layout_constraintEnd_toEndOf=\"@+id/slide_image\"\n            app:layout_constraintStart_toStartOf=\"@+id/slide_image\" android:layout_marginLeft=\"8dp\"\n            android:layout_marginStart=\"8dp\" app:backgroundTint=\"@color/colorAccent\"/&gt;\n    &lt;ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"100dp\" app:srcCompat=\"@drawable/gradient_bg\"\n            android:id=\"@+id/imageView3\" app:layout_constraintBottom_toBottomOf=\"parent\" android:layout_marginEnd=\"8dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginRight=\"8dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginLeft=\"8dp\"\n            android:layout_marginStart=\"8dp\"/&gt;\n    &lt;TextView\n            android:text=\"TextView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/movie_title\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toBottomOf=\"@+id/glide_play_button\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/imageView3\" app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"24dp\" android:layout_marginRight=\"24dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginLeft=\"24dp\"\n            android:layout_marginStart=\"24dp\" android:textSize=\"24sp\" app:layout_constraintHorizontal_bias=\"0.0\"\n            android:textColor=\"@android:color/holo_red_light\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>fragment_home.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"\n             tools:context=\".HomeFragment\"&gt;\n\n\n    &lt;android.support.constraint.ConstraintLayout\n            xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            xmlns:tools=\"http://schemas.android.com/tools\"\n            xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            tools:context=\".MainActivity\"&gt;\n\n        &lt;android.support.v4.view.ViewPager\n                android:layout_width=\"0dp\"\n                android:layout_height=\"275dp\" app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n                android:id=\"@+id/view_pager_glide\"/&gt;\n        &lt;android.support.design.widget.TabLayout\n                app:tabBackground=\"@drawable/indicator_item\"\n                app:tabGravity=\"center\"\n                app:tabIndicatorHeight=\"0dp\"\n                android:layout_width=\"395dp\"\n                android:layout_height=\"wrap_content\"\n                app:layout_constraintTop_toBottomOf=\"@+id/view_pager_glide\" app:layout_constraintStart_toStartOf=\"parent\"\n                android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\" app:layout_constraintEnd_toEndOf=\"parent\"\n                android:layout_marginEnd=\"8dp\" android:layout_marginRight=\"8dp\" android:id=\"@+id/indicator\"&gt;\n\n\n        &lt;/android.support.design.widget.TabLayout&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>slide.kt</p>\n\n<pre><code>\npackage com.example.sliderimagemovie.Model\n\nclass Slide(var image:Int, var title:String)\n</code></pre>\n\n<p>slidePagerAdapater.kt</p>\n\n<pre><code>\npackage com.example.sliderimagemovie.Adapter\n\nimport android.content.Context\nimport android.support.v4.view.PagerAdapter\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ImageView\nimport android.widget.TextView\nimport com.example.sliderimagemovie.Model.Slide\nimport com.example.sliderimagemovie.R\n\nclass SlidePagerAdapter:PagerAdapter {\n\n\n    var mContext: Context?=null\n    var mList:List&lt;Slide&gt;?=null\n\n    constructor(context: Context, list:List&lt;Slide&gt;)\n    {\n        mContext=context\n        mList=list\n    }\n\n    override fun instantiateItem(container: ViewGroup, position: Int): Any {\n\n        var inflater:LayoutInflater= mContext!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n\n        var slideLayout:View =inflater.inflate(R.layout.slide_item,null)\n\n        var slideImage:ImageView =slideLayout.findViewById(R.id.slide_image)\n        var slideText:TextView=slideLayout.findViewById(R.id.movie_title)\n        slideImage.setImageResource(mList!!.get(position).image)\n        slideText.setText(mList!!.get(position).title)\n        container.addView(slideLayout)\n\n        //return super.instantiateItem(container, position)\n        return slideLayout\n\n    }\n\n    override fun isViewFromObject(p0: View, p1: Any): Boolean {\n        return p0 == p1\n    }\n\n    override fun getCount(): Int {\n    return mList!!.count()\n    }\n\n    override fun destroyItem(container: ViewGroup, position: Int, `object`: Any) {\n        //super.destroyItem(container, position, `object`)\n        container.removeView(`object` as View)\n    }\n}\n</code></pre>\n\n<p>HomeFragment.kt</p>\n\n<pre><code>package com.example.sliderimagemovie\nimport android.app.Application\nimport android.os.Bundle\nimport android.os.Handler\nimport android.os.Looper\nimport android.support.v4.app.Fragment\nimport android.support.v4.view.ViewPager\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.example.sliderimagemovie.Adapter.SlidePagerAdapter\nimport com.example.sliderimagemovie.Model.Slide\nimport kotlinx.android.synthetic.main.fragment_home.*\nimport kotlin.concurrent.fixedRateTimer\n\nclass HomeFragment : Fragment() {\n\n    var lstSlides:MutableList&lt;Slide&gt; =ArrayList()\n    var sliderPage: ViewPager?=null\n\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.fragment_home, container, false)\n        sliderPage=view.findViewById(R.id.view_pager_glide)\n\n\n\n\n        lstSlides.add(Slide(R.drawable.spiderman,\"Slide1 Spiderman\"))\n        lstSlides.add(Slide(R.drawable.avenger,\"Slide2 Avenger\"))\n        lstSlides.add(Slide(R.drawable.frozen2,\"Slide3 Frozen2\"))\n        lstSlides.add(Slide(R.drawable.fastfurious,\"Slide4 Fastfurious\"))\n        lstSlides.add(Slide(R.drawable.joker,\"Slide5 Joker\"))\n        lstSlides.add(Slide(R.drawable.jumanji,\"Slide6 Jumanji\"))\n        lstSlides.add(Slide(R.drawable.terminator,\"Slide7 Terminator\"))\n\n\n\n        var adapter: SlidePagerAdapter = SlidePagerAdapter(context!!,this.lstSlides)\n        sliderPage!!.adapter=adapter\n\n\n       indicator.setupWithViewPager(sliderPage,true)\n     fixedRateTimer(name = \"timer\",initialDelay = 4000,period = 6000){\n\n// I'm getting error over here. Since runOnUiThread wont work with fragment , I tried to run with //activity. but its not working. I tried couple of other things.\n\n        getactivity().runOnUiThread\n {\n             public override fun run() {\n                 if (sliderPage!!.currentItem &lt; lstSlides.count() - 1) {\n                     sliderPage!!.currentItem = sliderPage!!.currentItem + 1\n                 } else {\n                     sliderPage!!.currentItem = 0\n                 }\n\n             }\n         })\n\n    }\n        return view\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "kotlin-coroutines", "moshi"], "owner": {"reputation": 612, "user_id": 5493999, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/af1540ce6627c0231efcf14d8667e147?s=128&d=identicon&r=PG", "display_name": "Abdul Mateen", "link": "https://stackoverflow.com/users/5493999/abdul-mateen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575959084, "creation_date": 1575959084, "question_id": 59261371, "link": "https://stackoverflow.com/questions/59261371/using-coroutines-along-with-rxjava-and-moshi-not-working", "title": "Using Coroutines along with RxJava and Moshi not working", "body": "<p>I am working an Android project that uses <code>RxJava</code> for its network calls and now I'm migrating it to <code>Coroutines</code>. Since the code base is large, I have to use <code>RxJava</code> and <code>Coroutines</code> simultaneously and iteratively convert <code>RxJava</code> methods to <code>Coroutines</code> to eventually lead to a code base that is fully based on <code>Coroutines</code>. <code>Moshi</code> is the converter of choice. When I use <code>RxJava</code>, the network calls work fine and return expected values. But my suspend methods that utilize coroutines are not returning data as expected. The returned POJOs are not populated by the JSON response values.\nHere goes my code for building <code>Retrofit</code></p>\n\n<pre><code>        retrofit = Retrofit.Builder()\n                .baseUrl(BuildConfig.BASE_URL)\n                .addConverterFactory(MoshiConverterFactory.create())\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.createWithScheduler(Schedulers.io()))\n                .client(buildHttpClient())\n                .build()\n</code></pre>\n\n<p>And here goes my suspend method where the POJO in the body of response is not populated.</p>\n\n<pre><code>\n    @PUT(EndPoints.SOME_ENDPOINT + \"{some_id}/\")\n    suspend fun addSomethingSomewhere(@Body body: RequestBody, @Path(\"some_id\") someID: String): Response&lt;SomeModel&gt;\n</code></pre>\n\n<p>Here are different versions of the POJO I have tried</p>\n\n<pre><code>// version 1\n@Parcelize\ndata class SomeModel(var someValue: String? = null,\n            var someOtherValue: List&lt;String&gt;? = null)\n\n// version 2\n@JsonClass(generateAdapter = true)\nclass SomeModel(@field:Json(name = \"someValue\") var someValue: String? = null,\n               @field:Json(name = \"someOtherValue\") var someOtherValue: List&lt;String&gt;? = null)\n</code></pre>\n\n<p>I have tried replacing the <code>Response&lt;SomeModel&gt;</code> with only <code>SomeModel</code> in return type of suspend method, but it still doesn't work. I think the issue has got something to do with this line when building retrofit <code>addCallAdapterFactory(RxJava2CallAdapterFactory.createWithScheduler(Schedulers.io()))</code> because the call adapter is provided for <code>RxJava</code>, and maybe that is why my coroutine-based code is not populating the POJOs as expected. Any help will be appreciated. Thanks!</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "okhttp", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 731, "user_id": 6093078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ukeam.jpg?s=128&g=1", "display_name": "Yashaswi N P", "link": "https://stackoverflow.com/users/6093078/yashaswi-n-p"}, "edited": false, "score": 0, "creation_date": 1575958117, "post_id": 59261158, "comment_id": 104730902, "body": "Please add the logs  of the error you getting too"}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575958501, "post_id": 59261158, "comment_id": 104731029, "body": "Server doesn&#39;t recognize client user, hence 403"}, {"owner": {"reputation": 1, "user_id": 9961829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9040dd72541e03e12eadd5c6ecd290?s=128&d=identicon&r=PG", "display_name": "charles leo", "link": "https://stackoverflow.com/users/9961829/charles-leo"}, "edited": false, "score": 0, "creation_date": 1575958637, "post_id": 59261158, "comment_id": 104731071, "body": "see that image please"}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575959292, "post_id": 59261158, "comment_id": 104731259, "body": "Check with server side code, User is not permitted to access the requested service. You can try with postman"}, {"owner": {"reputation": 1, "user_id": 9961829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9040dd72541e03e12eadd5c6ecd290?s=128&d=identicon&r=PG", "display_name": "charles leo", "link": "https://stackoverflow.com/users/9961829/charles-leo"}, "edited": false, "score": 0, "creation_date": 1575960654, "post_id": 59261158, "comment_id": 104731766, "body": "in postman  the API work with GET method but in back source code the method is POST and i use POST method in my android ....what is happening I don&#39;t know.. if you confirm this is a backend problem i&#39;ll make next step to backend ..but it give 200 ok response in postman GET , but 403 forbidden in POSE method..."}], "owner": {"reputation": 1, "user_id": 9961829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9040dd72541e03e12eadd5c6ecd290?s=128&d=identicon&r=PG", "display_name": "charles leo", "link": "https://stackoverflow.com/users/9961829/charles-leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2041, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575959239, "creation_date": 1575957964, "last_edit_date": 1575959239, "question_id": 59261158, "link": "https://stackoverflow.com/questions/59261158/retrofit2-adapter-rxjava2-httpexception-http-403-forbidden-why-this-error-occure", "title": "retrofit2.adapter.rxjava2.httpexception http 403 forbidden Why this error occure in kotlin android", "body": "<p>I can't connect to the server, can't able to send or receive the data from the server, this error is bothering me for a long time.</p>\n\n<p>This is the image of the error occurs in the kotlin project of mine</p>\n\n<p><a href=\"https://i.stack.imgur.com/RHjEa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RHjEa.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>my retrofit code is </p>\n\n<pre><code>package com.epaysave.network\n\nimport com.epaysave.BuildConfig\nimport com.google.gson.Gson\nimport com.google.gson.GsonBuilder\nimport retrofit2.Retrofit\nimport retrofit2.adapter.rxjava2.RxJava2CallAdapterFactory\nimport retrofit2.converter.gson.GsonConverterFactory\n\nopen class BaseRetrofit : BaseOKHttp() {\n\n    private fun gsonBuilder(): Gson {\n        return GsonBuilder()\n            .setLenient()\n            .create()\n    }\n\n    fun buildRetrofit(): Retrofit {\n        return Retrofit.Builder()\n\n            .client(provideOKHttpClient())\n            .addConverterFactory(GsonConverterFactory.create(gsonBuilder()))\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .baseUrl(BuildConfig.base_url)\n            .build()\n    }\n}\n</code></pre>\n\n<p>Then my HTTP code is </p>\n\n<pre><code>package com.epaysave.network\n\nimport com.epaysave.BuildConfig\nimport okhttp3.*\nimport okhttp3.logging.HttpLoggingInterceptor\nimport java.io.IOException\nimport java.util.concurrent.TimeUnit\n\nopen class BaseOKHttp {\n    companion object {\n        const val NETWORK_CONNECTION_TIMEOUT = 1L\n        const val NETWORK_READ_TIMEOUT = 30L\n        const val NETWORK_WRITE_TIMEOUT = 15L\n    }\n\n    fun provideOKHttpClient(): OkHttpClient {\n        val okHttpClient = OkHttpClient.Builder()\n        okHttpClient\n            .connectTimeout(NETWORK_CONNECTION_TIMEOUT, TimeUnit.MINUTES)\n            .readTimeout(NETWORK_READ_TIMEOUT, TimeUnit.SECONDS)\n            .writeTimeout(NETWORK_WRITE_TIMEOUT, TimeUnit.SECONDS)\n\n        if (BuildConfig.DEBUG)\n            okHttpClient.addInterceptor(provideHttpLoggingInterceptor())\n        okHttpClient.addInterceptor(BasicAuthInterceptor(\n                \"superadmin@epaysave.com\", \"supadm_12345\")).build();\n        return okHttpClient.build()\n    }\n\n    fun provideHeaderInterceptor(headers: HashMap&lt;String, String&gt;): Interceptor {\n        return Interceptor { chain -&gt;\n            val request = chain.request()?.newBuilder()\n            headers.forEach {\n                request?.addHeader(it.key, it.value)\n            }\n            chain.proceed(request!!.build())\n        }\n\n    }\n\n    private fun provideHttpLoggingInterceptor(): HttpLoggingInterceptor {\n        val logging = HttpLoggingInterceptor()\n        logging.level = HttpLoggingInterceptor.Level.BODY\n        return logging\n    }\n}\n\ninternal class BasicAuthInterceptor(userName: String, password: String) : Interceptor {\n\n    private val credentials: String = Credentials.basic(userName, password)\n\n    @Throws(IOException::class)\n    override fun intercept(chain: Interceptor.Chain): Response {\n        val request = chain.request()\n        val authenticateRequest = request.newBuilder().addHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n            .addHeader(\"Accept\", \"application/json\").addHeader(\"Authorization\", credentials).build()\n        return chain.proceed(authenticateRequest)\n    }\n}\n</code></pre>\n\n<p>I have an issue in clearing the kotlin application in retrofit2 and OKHTTP3 in android. How to do it correctly?</p>\n"}, {"tags": ["android", "json", "kotlin", "okhttp", "klaxon"], "comments": [{"owner": {"reputation": 710, "user_id": 7096769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bwxJ.png?s=128&g=1", "display_name": "Emre Akcan", "link": "https://stackoverflow.com/users/7096769/emre-akcan"}, "edited": false, "score": 1, "creation_date": 1575958448, "post_id": 59261154, "comment_id": 104731013, "body": "Why don&#39;t you use OkHttp onresponse and onerror methods? you may need to modify the api. please check here <a href=\"https://stackoverflow.com/questions/24246783/okhttp-response-callbacks-on-the-main-thread\" title=\"okhttp response callbacks on the main thread\">stackoverflow.com/questions/24246783/&hellip;</a>"}, {"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "reply_to_user": {"reputation": 710, "user_id": 7096769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bwxJ.png?s=128&g=1", "display_name": "Emre Akcan", "link": "https://stackoverflow.com/users/7096769/emre-akcan"}, "edited": false, "score": 0, "creation_date": 1575961300, "post_id": 59261154, "comment_id": 104731985, "body": "@EmreAkcanI I can code <code>val i = Intent(this, SomeActivity::class.java).putExtra(&quot;token&quot;, response.header(&quot;session_token&quot;).toString startACtivity(i)</code> in onResponse? And it will work how if i got success?"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "is_accepted": false, "score": 0, "last_activity_date": 1576128815, "creation_date": 1576128815, "answer_id": 59298283, "question_id": 59261154, "link": "https://stackoverflow.com/questions/59261154/how-i-can-get-error-or-success-from-json-in-kotlin/59298283#59298283", "title": "How I can get &quot;error&quot; or &quot;success&quot; from json in kotlin?", "body": "<p>I think that I found solution. I think it's good and work as must.</p>\n\n<pre><code>client.newCall(request).enqueue(object : Callback{\n\n            override fun onResponse(call: Call, response: Response) {\n\n                startActivity(Intent(this@Login, NavigationMenu::class.java)\n                    .putExtra(\"session_token\", response\n                        .header(\"session_token\")\n                        .toString()))\n                toast(response.header(\"text\").toString())\n            }\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576128815, "creation_date": 1575957913, "question_id": 59261154, "link": "https://stackoverflow.com/questions/59261154/how-i-can-get-error-or-success-from-json-in-kotlin", "title": "How I can get &quot;error&quot; or &quot;success&quot; from json in kotlin?", "body": "<p>I try to make web android app in kotlin and everyday know something but about this error I didn't find solution. I work with OkHTTP3 and for Json I found Klaxon. How I can get from response \"success\" or \"error\" only.\nFor example: if I get:</p>\n\n<pre><code>{\n\"error\":{\n\"code\":4,\n\"text\":\"\\u041d\\u0435\\u0432\\u0435\\u0440\\u043d\\u044b\\u0439 \\u043b\\u043e\\u0433\\u0438\\u043d \\u0438\\u043b\\u0438 \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c!\"\n}\n}\n</code></pre>\n\n<p>I need to check is it \"error\" or \"success\". I tried ```if (response.header(\"error\") toast (\"I got error\") or </p>\n\n<pre><code>if (response.header(\"success\") {\nval i = Intent(this, SecondActivity::class.java).putExtra(\"token\", response.header(\"session_token\").toString)\nstartActivity(i)\n</code></pre>\n\n<p>Do I need <code>if ()</code>? Maybe I can check success other way?\nThank for all issues and maybe you recommend other library for json?</p>\n"}, {"tags": ["android", "kotlin", "right-to-left"], "comments": [{"owner": {"reputation": 4114, "user_id": 1242401, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/LFTln.jpg?s=128&g=1", "display_name": "Housefly", "link": "https://stackoverflow.com/users/1242401/housefly"}, "edited": false, "score": 1, "creation_date": 1575958219, "post_id": 59261138, "comment_id": 104730933, "body": "Did you try typing in Arabic. Put <code>@string&#47;password</code> in <code>values-ar&#47;strings.xml</code> as well and it should be in Arabic, ie. <code>\u0643\u0644\u0645\u0647 \u0627\u0644\u0633\u0631</code> then you will see the text direction change. Also, remove the <code>textAlignment</code> attribute."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 10662871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YH7Ramjt4Yo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h3dexBx8giY4iAPiMjx1gBA94KvA/mo/photo.jpg?sz=128", "display_name": "Bipin Tiwari", "link": "https://stackoverflow.com/users/10662871/bipin-tiwari"}, "is_accepted": false, "score": 2, "last_activity_date": 1575958330, "creation_date": 1575958330, "answer_id": 59261216, "question_id": 59261138, "link": "https://stackoverflow.com/questions/59261138/textdirection-is-not-making-the-edittext-right-to-left/59261216#59261216", "title": "textDirection is not making the edittext right to left", "body": "<p>Please try :</p>\n\n<pre><code>android:textAlignment=\"viewStart\" \n</code></pre>\n\n<p>in TextInputEditText. It works for me.</p>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 6564705, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bg0EqKsGJEY/AAAAAAAAAAI/AAAAAAAAABA/3K06nVe60UU/photo.jpg?sz=128", "display_name": "squirrel", "link": "https://stackoverflow.com/users/6564705/squirrel"}, "is_accepted": false, "score": 1, "last_activity_date": 1575958991, "creation_date": 1575958991, "answer_id": 59261358, "question_id": 59261138, "link": "https://stackoverflow.com/questions/59261138/textdirection-is-not-making-the-edittext-right-to-left/59261358#59261358", "title": "textDirection is not making the edittext right to left", "body": "<p>I have had a similar issue in the past what I did was I used the gravity attribute in the TextInputEditText element like so.</p>\n\n<pre><code>android:gravity=\"right\"\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 685, "user_id": 2283653, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c0d208abad02b559db1ac38e38f7b44e?s=128&d=identicon&r=PG", "display_name": "Omar Hassan", "link": "https://stackoverflow.com/users/2283653/omar-hassan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575961029, "creation_date": 1575961029, "answer_id": 59261787, "question_id": 59261138, "link": "https://stackoverflow.com/questions/59261138/textdirection-is-not-making-the-edittext-right-to-left/59261787#59261787", "title": "textDirection is not making the edittext right to left", "body": "<p>First, Add RTL support to the application tag in the AndroidManifest.xml</p>\n\n<pre><code>&lt;application\n    android:supportsRtl=\"true\"\n</code></pre>\n\n<p>Second, Set the selected locale inside your activity,</p>\n\n<pre><code>   @Override\n       protected void attachBaseContext(Context newBase) {\n    MyMainApp.getAppCompInjector().inject(this);\n    super.attachBaseContext(getUpdatedContext(newBase,\"ar\"));\n     }\n\n    private Context getUpdatedContext(Context context, String language) \n    {\n    Locale locale = new Locale(language); // ar, en, fr, etc\n    Locale.setDefault(locale);\n\n    Resources res = context.getResources();\n    Configuration config = new Configuration(res.getConfiguration());\n    if (Build.VERSION.SDK_INT &gt;= 17) {\n        config.setLocale(locale);\n        context = context.createConfigurationContext(config);\n    } else {\n        config.locale = locale;\n        res.updateConfiguration(config, res.getDisplayMetrics());\n    }\n    return context;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 11276817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FAWAGsrOHb4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfXJpTEFgLarM0-ksKK1u1fykxKeg/mo/photo.jpg?sz=128", "display_name": "Khaled Ahmed", "link": "https://stackoverflow.com/users/11276817/khaled-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1576077682, "creation_date": 1576077682, "answer_id": 59288963, "question_id": 59261138, "link": "https://stackoverflow.com/questions/59261138/textdirection-is-not-making-the-edittext-right-to-left/59288963#59288963", "title": "textDirection is not making the edittext right to left", "body": "<p>Adding to @Bipin Tiwari answer , you should allow rtl in application manifest not this specific xml , and change locale to arabic and it should work</p>\n"}], "owner": {"reputation": 2752, "user_id": 4626826, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh4.googleusercontent.com/-ZhfxrA-NG-k/AAAAAAAAAAI/AAAAAAAAAAA/q56lHKqg0WU/photo.jpg?sz=128", "display_name": "Vishwajit Palankar", "link": "https://stackoverflow.com/users/4626826/vishwajit-palankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1576077682, "creation_date": 1575957840, "question_id": 59261138, "link": "https://stackoverflow.com/questions/59261138/textdirection-is-not-making-the-edittext-right-to-left", "title": "textDirection is not making the edittext right to left", "body": "<p>I am creating an app for which I need the text rtl i.e. for Arabic below is my code</p>\n\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"@dimen/dimen_24\"\n    android:layout_marginTop=\"@dimen/dimen_36\"\n    android:layout_marginRight=\"@dimen/dimen_24\"\n    android:hint=\"@string/password\"\n    app:hintTextColor=\"@color/hint_text_color\"\n    android:textDirection=\"rtl\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:passwordToggleEnabled=\"true\"\n    android:textAlignment=\"viewEnd\"&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:imeOptions=\"actionDone\"\n        android:inputType=\"textPassword\"\n        android:maxLines=\"1\"\n        android:textColor=\"@color/dark_blue_grey\"\n        android:textSize=\"@dimen/font_16\" /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n\n<p>But Still, I am getting this below UI only</p>\n\n<p><a href=\"https://i.stack.imgur.com/1EVA6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1EVA6.png\" alt=\"enter image description here\"></a></p>\n\n<p>I also changed the app locale to ar but still the same.</p>\n"}, {"tags": ["java", "dictionary", "kotlin"], "comments": [{"owner": {"reputation": 41460, "user_id": 2310289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PO7Uz.jpg?s=128&g=1", "display_name": "Scary Wombat", "link": "https://stackoverflow.com/users/2310289/scary-wombat"}, "edited": false, "score": 1, "creation_date": 1575957804, "post_id": 59261102, "comment_id": 104730804, "body": "Use a Set not a List"}, {"owner": {"reputation": 2554, "user_id": 3479489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UNUkb.jpg?s=128&g=1", "display_name": "Yayo Arellano", "link": "https://stackoverflow.com/users/3479489/yayo-arellano"}, "reply_to_user": {"reputation": 41460, "user_id": 2310289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PO7Uz.jpg?s=128&g=1", "display_name": "Scary Wombat", "link": "https://stackoverflow.com/users/2310289/scary-wombat"}, "edited": false, "score": 0, "creation_date": 1575958261, "post_id": 59261102, "comment_id": 104730949, "body": "@ScaryWombat I updated the code. If I use a Set it means I can only have unique products. But it will not work because some product belongs to different regions."}, {"owner": {"reputation": 41460, "user_id": 2310289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PO7Uz.jpg?s=128&g=1", "display_name": "Scary Wombat", "link": "https://stackoverflow.com/users/2310289/scary-wombat"}, "edited": false, "score": 0, "creation_date": 1575958408, "post_id": 59261102, "comment_id": 104731000, "body": "hint: what does your equals method looks like?"}, {"owner": {"reputation": 724, "user_id": 7962589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOsYs.png?s=128&g=1", "display_name": "Ismail", "link": "https://stackoverflow.com/users/7962589/ismail"}, "edited": false, "score": 0, "creation_date": 1575960419, "post_id": 59261102, "comment_id": 104731687, "body": "@Yayo If the product belong to different regions, then each Product Object will be different and Set can be used right?"}], "answers": [{"tags": [], "owner": {"reputation": 1005, "user_id": 3712298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/02jLQ.jpg?s=128&g=1", "display_name": "sanjeevjha", "link": "https://stackoverflow.com/users/3712298/sanjeevjha"}, "is_accepted": false, "score": 0, "last_activity_date": 1575969392, "last_edit_date": 1575969392, "creation_date": 1575964501, "answer_id": 59262559, "question_id": 59261102, "link": "https://stackoverflow.com/questions/59261102/how-to-groupby-and-remove-repeated-objects/59262559#59262559", "title": "How to groupBy and remove repeated objects", "body": "<p>In order to achieve this we need to override <code>hash</code> and <code>equals</code> method  in <code>ProductInfo</code> class then apply below stream api</p>\n\n<pre><code> Map&lt;Integer,List&lt;ProductInfor&gt;&gt; map=list.stream()\n.distinct()\n.collect(Collectors.groupingBy(ProductInfo::getId,Collectors.toList()))\n</code></pre>\n\n<p>for complete code go through below-</p>\n\n<pre><code>   import java.util.stream.*;\nimport java.util.*;\n\nclass ProductInfo{\nprivate Integer id;\nprivate String product;\nprivate Integer region;\n\npublic Integer getId(){\n    return id;\n}\n\npublic String getProduct(){\n    return product;\n}\n\npublic Integer getRegion(){\n    return region;\n}\n\npublic ProductInfo(Integer id,String product,Integer region){\n\n    this.id=id;\n    this.product=product;\n    this.region=region;\n}\n\n@Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n        ProductInfo that = (ProductInfo)o;\n        return Objects.equals(getId(), that.getId()) &amp;&amp; Objects.equals(getProduct(), that.getProduct()) &amp;&amp; Objects\n            .equals(getRegion(), that.getRegion());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId(), getProduct(), getRegion());\n    }\n\n\n    public String toString(){\n        return \"id=\"+this.getId()+\" product=\"+this.getProduct()+\" region=\"+getRegion();\n    }\n}\n\npublic class Test{\n    public static void main(String args[]){\n        List&lt;ProductInfo&gt; list=Arrays.asList(new ProductInfo(1,\"product1\",1),new ProductInfo(1,\"product1\",1),new ProductInfo(2,\"product2\",2));\n        System.out.println(list.stream().distinct().collect(Collectors.groupingBy(ProductInfo::getId,Collectors.toList())));\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2554, "user_id": 3479489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UNUkb.jpg?s=128&g=1", "display_name": "Yayo Arellano", "link": "https://stackoverflow.com/users/3479489/yayo-arellano"}, "edited": false, "score": 0, "creation_date": 1576568877, "post_id": 59262945, "comment_id": 104932205, "body": "Thank you this was the answer I was looking for."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1575966264, "creation_date": 1575966264, "answer_id": 59262945, "question_id": 59261102, "link": "https://stackoverflow.com/questions/59261102/how-to-groupby-and-remove-repeated-objects/59262945#59262945", "title": "How to groupBy and remove repeated objects", "body": "<pre><code>productList.groupBy { it.region }.mapValues { it.distinctBy { it.id } }\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-values.html\" rel=\"nofollow noreferrer\"><code>mapValues</code></a>:</p>\n\n<blockquote>\n  <p>Returns a new map with entries having the keys of this map and the values obtained by applying the transform function to each entry in this Map.</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct-by.html\" rel=\"nofollow noreferrer\"><code>distinctBy</code></a>: </p>\n\n<blockquote>\n  <p>Returns a list containing only elements from the given collection having distinct keys returned by the given selector function.</p>\n</blockquote>\n"}], "owner": {"reputation": 2554, "user_id": 3479489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UNUkb.jpg?s=128&g=1", "display_name": "Yayo Arellano", "link": "https://stackoverflow.com/users/3479489/yayo-arellano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 59262945, "answer_count": 2, "score": 0, "last_activity_date": 1575969392, "creation_date": 1575957614, "last_edit_date": 1575958066, "question_id": 59261102, "link": "https://stackoverflow.com/questions/59261102/how-to-groupby-and-remove-repeated-objects", "title": "How to groupBy and remove repeated objects", "body": "<p>I have this Item class:</p>\n\n<pre><code>data class Product(val id: Long, val name: String, val region: Long)\n</code></pre>\n\n<p>Given a list <code>List&lt;Product&gt;</code>:</p>\n\n<pre><code>Product(1, \"Product 1\", 1)\nProduct(1, \"Product 1\", 1)\nProduct(1, \"Product 1\", 2)\nProduct(2, \"Product 2\", 1)\n</code></pre>\n\n<p>As you can see the same product can be added many times to same Region. I want to groupBy region like <code>productList.groupBy { it.region }</code> but in the generated map entries I want to remove the products that has the same Id. </p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 10693872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5ae163162b0d9a6867f01720077e31d?s=128&d=identicon&r=PG&f=1", "display_name": "wooseop", "link": "https://stackoverflow.com/users/10693872/wooseop"}, "is_accepted": false, "score": 0, "last_activity_date": 1575961248, "last_edit_date": 1575961248, "creation_date": 1575960614, "answer_id": 59261698, "question_id": 59261049, "link": "https://stackoverflow.com/questions/59261049/why-does-a-kotlin-function-on-jvm-generate-a-bridge-method/59261698#59261698", "title": "Why does a Kotlin function on JVM generate a bridge method?", "body": "<p>I happened to figure that out by myself after some googling.</p>\n\n<p>Reference: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html</a></p>\n\n<p>This seems to be rather a Java concern than a Kotlin one. In short:</p>\n\n<p>After <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>,</p>\n\n<pre><code>public class &lt;T&gt; Parent&lt;T&gt; {\n  public void f(T x) { System.out.println(\"parent\"); }\n}\npublic class Child extends Parent&lt;Integer&gt; {\n  public void f(Integer x) { System.out.println(\"child\"); }\n}\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>public class Parent {\n  public void f(Object x) { ... }\n}\npublic class Child extends Parent {\n  public void f(Integer x) { ... }\n}\n</code></pre>\n\n<p>which makes <code>Child.f</code> not override <code>Parent.f</code>. So what Java compiler does is generating a <strong>bridge method</strong>.</p>\n\n<pre><code>public class Child extends Parent {\n  public void f(Object x) { f((Integer) x); } // bridge method\n  public void f(Integer x) { ... }\n}\n</code></pre>\n\n<p>Same happens with Kotlin's <code>Function</code> objects which have generic type parameters.</p>\n"}], "owner": {"reputation": 116, "user_id": 10693872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5ae163162b0d9a6867f01720077e31d?s=128&d=identicon&r=PG&f=1", "display_name": "wooseop", "link": "https://stackoverflow.com/users/10693872/wooseop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575961248, "creation_date": 1575957326, "question_id": 59261049, "link": "https://stackoverflow.com/questions/59261049/why-does-a-kotlin-function-on-jvm-generate-a-bridge-method", "title": "Why does a Kotlin function on JVM generate a bridge method?", "body": "<p>From <a href=\"https://github.com/JetBrains/kotlin/blob/15716a7a3c5e6df4b7520fd07ece62ac5db6debf/spec-docs/function-types.md\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/15716a7a3c5e6df4b7520fd07ece62ac5db6debf/spec-docs/function-types.md</a> says:</p>\n\n<blockquote>\n  <p>Each lambda is compiled to an anonymous class which inherits from <code>FunctionImpl</code> and implements the corresponding <code>invoke</code>:</p>\n  \n  <pre><code>{ (s: String): Int -&gt; s.length }\n\n// is translated to\n\nobject : FunctionImpl(), Function1&lt;String, Int&gt; {\n    override fun getArity(): Int = 1\n\n    /* bridge */ fun invoke(p1: Any?): Any? = ...\n    override fun invoke(p1: String): Int = p1.length\n}\n</code></pre>\n</blockquote>\n\n<p>But there's no explanation why <code>fun invoke(p1: Any?): Any?</code> gets to be generated. Its JVM signature would be <code>Object invoke(Object p1)</code>. If the language was dynamically typed like Clojure or Groovy, that would totally make sense. But Kotlin is not. I can't really guess the reason. Is there any rationale behind this?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "edited": false, "score": 0, "creation_date": 1575952181, "post_id": 59259784, "comment_id": 104729239, "body": "use <code>(AGreatInterface::class.java).isAssignableFrom(payloadClass)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1575956848, "post_id": 59259993, "comment_id": 104730514, "body": "Ok got it - so <code>is</code> can check of a class uses a specific interface, but only in the case its an actual instance of?"}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "reply_to_user": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "edited": false, "score": 0, "creation_date": 1575956982, "post_id": 59259993, "comment_id": 104730554, "body": "Correct. It checks whether an instance&#39;s type implements or extends a class or interface."}], "tags": [], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "is_accepted": true, "score": 4, "last_activity_date": 1575950215, "creation_date": 1575950215, "answer_id": 59259993, "question_id": 59259784, "link": "https://stackoverflow.com/questions/59259784/kotlin-unable-to-check-interface-usage-using-is/59259993#59259993", "title": "Kotlin - Unable to check interface usage using `is`", "body": "<p>The reason is that <code>payloadClass</code> is not a <code>AGreatInterface</code>, but  a <code>java.lang.Class</code> instance.</p>\n\n<p>If you would create an instance of the class object represented by <code>payloadClass</code>, let's say <code>payloadInstance</code>, then the <code>payloadInstance is AGreatInterface</code> test would succeed.</p>\n"}], "owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 59259993, "answer_count": 1, "score": 1, "last_activity_date": 1575950215, "creation_date": 1575948597, "last_edit_date": 1575949985, "question_id": 59259784, "link": "https://stackoverflow.com/questions/59259784/kotlin-unable-to-check-interface-usage-using-is", "title": "Kotlin - Unable to check interface usage using `is`", "body": "<p>I'm working in Kotlin and getting a class like such:</p>\n\n<pre><code>val payloadClass =  try {\n    Class.forName(\"com.something.SomeClass\")\n} catch (e: ClassNotFoundException) {\n   null\n}\n</code></pre>\n\n<p>It's successfully finding the class however when I then go to check whether it implements some interface, it keeps returning <code>false</code>:</p>\n\n<p>To check I'm using the keyword <code>is</code>:</p>\n\n<p>so <code>payloadClass is AGreatInterface</code>.</p>\n\n<p>Is there some reason why this wouldn't work. I've used <code>is</code> elsewhere and it works as expected, wondering if it's something to do with <code>Class.forName</code>.</p>\n\n<p>I used <code>payloadClass.interfaces.contains(AGreatInterface::class.java)</code> and that worked. But why wouldn't <code>is</code> work?</p>\n\n<p>Any ideas appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "android", "kotlin", "datepicker", "material-design"], "comments": [{"owner": {"reputation": 685, "user_id": 6770321, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yINIWXCoraY/AAAAAAAAAAI/AAAAAAAAAYI/mdDPfqweAns/photo.jpg?sz=128", "display_name": "Sujan Poudel", "link": "https://stackoverflow.com/users/6770321/sujan-poudel"}, "edited": false, "score": 0, "creation_date": 1575946116, "post_id": 59259371, "comment_id": 104727893, "body": "Your desired view must be the default behavior, how are you showing the picker?"}, {"owner": {"reputation": 21, "user_id": 12508683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a5b931e8fd98924781f08c03e4a129?s=128&d=identicon&r=PG&f=1", "display_name": "TeaKnew", "link": "https://stackoverflow.com/users/12508683/teaknew"}, "reply_to_user": {"reputation": 685, "user_id": 6770321, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yINIWXCoraY/AAAAAAAAAAI/AAAAAAAAAYI/mdDPfqweAns/photo.jpg?sz=128", "display_name": "Sujan Poudel", "link": "https://stackoverflow.com/users/6770321/sujan-poudel"}, "edited": false, "score": 0, "creation_date": 1575950097, "post_id": 59259371, "comment_id": 104728743, "body": "@SujanPoudel I am using the MaterialDatePicker.Builder, CalendarConstraints.Builder, and MaterialDatePicker. I don&#39;t know how to go about theming or selecting an alternate view."}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1575963022, "post_id": 59259371, "comment_id": 104732671, "body": "Check this answer: <a href=\"https://stackoverflow.com/questions/57807103/materialdatepicker-not-working-on-android/57808145#57808145\" title=\"materialdatepicker not working on android\">stackoverflow.com/questions/57807103/&hellip;</a>"}], "owner": {"reputation": 21, "user_id": 12508683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a5b931e8fd98924781f08c03e4a129?s=128&d=identicon&r=PG&f=1", "display_name": "TeaKnew", "link": "https://stackoverflow.com/users/12508683/teaknew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 469, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1575994194, "creation_date": 1575945078, "last_edit_date": 1575994194, "question_id": 59259371, "link": "https://stackoverflow.com/questions/59259371/is-there-a-method-to-initially-display-the-mobile-input-picker-from-the-material", "title": "Is there a method to initially display the Mobile Input Picker from the Material Design Picker?", "body": "<p>From the Material Design documentation on <a href=\"https://material.io/components/pickers/#mobile-input-picker\" rel=\"nofollow noreferrer\">Pickers</a>, how does one display the Mobile Input Picker first after a user clicks on the EditText? The current behavior is that the picker opens up a calendar view.</p>\n\n<p>I'm currently using <code>\"com.google.android.material:material:1.2.0-alpha02\"</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/ox6pz.png\" rel=\"nofollow noreferrer\">Default View</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/6KKsi.png\" rel=\"nofollow noreferrer\">Desired View *after clicking the pencil edit button</a></p>\n"}, {"tags": ["android", "kotlin", "serialization", "android-testing", "kotlinx.serialization"], "comments": [{"owner": {"reputation": 457, "user_id": 4115233, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bdf4756a72af5b7d8e5f0498cc814c1c?s=128&d=identicon&r=PG&f=1", "display_name": "mmr118", "link": "https://stackoverflow.com/users/4115233/mmr118"}, "edited": false, "score": 0, "creation_date": 1591626525, "post_id": 59259167, "comment_id": 110119667, "body": "I&#39;m not sure if this is what you&#39;re looking for, but on the Kotlin repo there is an issue that revolves around this same error. Currently it is still unresolved.  <a href=\"https://github.com/Kotlin/kotlinx.serialization/issues/576\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.serialization/issues/576</a>"}], "owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575943262, "creation_date": 1575943262, "question_id": 59259167, "link": "https://stackoverflow.com/questions/59259167/kotlinx-serialization-not-working-on-androidtest", "title": "Kotlinx.serialization not working on androidTest", "body": "<p>Have Ktor setup and working fine in my project.  When running androidTest (\"instrumentation tests\") I get a <code>NoSuchMethodError</code> for Json.nonstrict.parse()code running in the tests.  This is code in the test apk, not in the app.</p>\n\n<pre><code>java.lang.NoSuchMethodError: No virtual method parse(Lkotlinx/serialization/DeserializationStrategy;Ljava/lang/String;)Ljava/lang/Object; in class Lkotlinx/serialization/json/Json; or its super classes (declaration of 'kotlinx.serialization.json.Json' appears in /data/app/com.myapp-xT3-gAo92lzVXQoXVSRCnw==/base.apk)\n\n</code></pre>\n\n<p>The Kotlinx.serialization dependencies are declared in the module and I have tried <code>implementation</code> and <code>androidImplementation</code>.  </p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "edited": false, "score": 0, "creation_date": 1575934550, "post_id": 59258037, "comment_id": 104725519, "body": "Have you checked the ticked answer in that same link? <a href=\"https://stackoverflow.com/a/54436709/2164363\">stackoverflow.com/a/54436709/2164363</a>, it said to use BroadcastReceiver instead"}, {"owner": {"reputation": 33, "user_id": 10911927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a664594200b9abf417a73657b39866?s=128&d=identicon&r=PG&f=1", "display_name": "JMC_CMJ", "link": "https://stackoverflow.com/users/10911927/jmc-cmj"}, "reply_to_user": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "edited": false, "score": 0, "creation_date": 1575956708, "post_id": 59258037, "comment_id": 104730471, "body": "@BachVu Hi sorry, I should have mentioned I am already using a broadcast receiver. It does not trigger unless I, or another app like google maps, requests and updates the devices location. I will update my question."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10911927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a664594200b9abf417a73657b39866?s=128&d=identicon&r=PG&f=1", "display_name": "JMC_CMJ", "link": "https://stackoverflow.com/users/10911927/jmc-cmj"}, "edited": false, "score": 0, "creation_date": 1575956501, "post_id": 59258213, "comment_id": 104730411, "body": "I should have added that I am already using a broadcast receiver just like in that comment. I&#39;ve tested it on the emulator by changing the device&#39;s location in the emulator settings. It will not trigger even after 1+ hours. The receiver does not trigger unless I open an app like Google maps. Even getting those 4 triggers per hour would satisfy my apps needs.  That library looks like a good substitute. Sadly it costs way too much lol"}], "tags": [], "owner": {"reputation": 3895, "user_id": 1505074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8cfb7972cb291056f13e031e0b148?s=128&d=identicon&r=PG&f=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/1505074/christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1575934877, "creation_date": 1575934877, "answer_id": 59258213, "question_id": 59258037, "link": "https://stackoverflow.com/questions/59258037/is-there-a-better-way-to-accurately-use-geofences-without-writing-my-own-locatio/59258213#59258213", "title": "Is there a better way to accurately use geofences without writing my own location request service?", "body": "<p>As mentioned in this answer <a href=\"https://stackoverflow.com/a/54436709/1505074\">https://stackoverflow.com/a/54436709/1505074</a> you need to change the sample Code to use a Broadcast Receiver instead of a Service. This way Geofences basically work but with some caveats. You have a latency depending on API-level, manufacturer and of course the device state. Often you will get the fence event when turning the device on. To really evaluate fence events you need to have a network logging service and do more complex analyses.</p>\n\n<p>The problem with your own Geofence Trigger will be that you only get a real location update in the background about 4 times per hour if you are not using a foreground service which will drain battery. Without you will only get the last location even with the location update callback if you are in the background.</p>\n\n<p>Transistorsoft has created a library to handle different ways of background location tracking and you will find many approaches there, but it is paid: <a href=\"https://github.com/transistorsoft/background-geolocation-lt\" rel=\"nofollow noreferrer\">https://github.com/transistorsoft/background-geolocation-lt</a></p>\n"}, {"tags": [], "owner": {"reputation": 2104, "user_id": 1241783, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d3089f84e825dda5dc173acd3cc8c068?s=128&d=identicon&r=PG", "display_name": "Bruce", "link": "https://stackoverflow.com/users/1241783/bruce"}, "is_accepted": false, "score": 0, "last_activity_date": 1602381426, "creation_date": 1602381426, "answer_id": 64299958, "question_id": 59258037, "link": "https://stackoverflow.com/questions/59258037/is-there-a-better-way-to-accurately-use-geofences-without-writing-my-own-locatio/64299958#64299958", "title": "Is there a better way to accurately use geofences without writing my own location request service?", "body": "<p>Just want to share my findings. After implementing geofence using the broadcast receiver way I found that it can be triggered without opening any location apps like Google maps given the criteria below:</p>\n<ol>\n<li>Test on real device, I found that my geofence doesn't get triggered on the Android emulator even after waiting one hour moving out of geofence zone. I won't trust the emulator because of lack of sim card and real wifi so I don't know what's the missing pieces.</li>\n<li>Wait 2 to 3 minutes if no other apps are requesting for location in the background. I tested this by denying location access to all other apps (or switch them to 'only allow when using app'), including the Google app on my Pixel phone.</li>\n</ol>\n<p>I've been consistently getting geofence events in like 2 to 3 minutes, just like the <a href=\"https://developer.android.com/training/location/geofencing.html#CreateAdd\" rel=\"nofollow noreferrer\">docs</a> says:</p>\n<blockquote>\n<p>On Android 8.0 (API level 26) and higher, if an app is running in the background while monitoring a geofence, then the device responds to geofencing events every couple of minutes.</p>\n</blockquote>\n<p>For my case my app is not running on background, as it is not required for geofence to trigger if you're using broadcast receiver, I killed it on the recent apps page, or you can even use 'Force stop' in the apps info page, it doesn't matter.</p>\n"}], "owner": {"reputation": 33, "user_id": 10911927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a664594200b9abf417a73657b39866?s=128&d=identicon&r=PG&f=1", "display_name": "JMC_CMJ", "link": "https://stackoverflow.com/users/10911927/jmc-cmj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1602381426, "creation_date": 1575933700, "last_edit_date": 1575956771, "question_id": 59258037, "link": "https://stackoverflow.com/questions/59258037/is-there-a-better-way-to-accurately-use-geofences-without-writing-my-own-locatio", "title": "Is there a better way to accurately use geofences without writing my own location request service?", "body": "<p>Accord to <a href=\"https://developer.android.com/training/location/geofencing\" rel=\"nofollow noreferrer\">Android's documentation on geofences</a>, the geofence should trigger when the user enters, dwells, or exits the geofence with respect to the asked request. </p>\n\n<p>BUT, testing the geofence feature myself, a geofence will only trigger if an app requests the user's location. Simply using the tutorials code and moving the device into the geofence WILL NOT trigger the geofence. I have to open Google maps or some other app that will request the user's location, which I assume notifies Google play services, which then fires my geofence. Is this really how are geofences are designed? Proof that this is how geofences work I found from <a href=\"https://stackoverflow.com/a/54409341/10911927\">this answer</a>. (Note: I am also using a Broadcast Receiver like the accepted answer in that link. The receiver does not trigger unless a location request is made within the geofence.)</p>\n\n<p>I don't want to have a persistent background service asking for the user's location every 5 minutes just to trigger the broadcast reciever.  I've thought of listening for system intents such as the user turning the screen on, disconnect from wifi, etc that would fire a service I would make that asks for the user's location. But shouldn't geofences trigger natively without extra need from my app or other apps to update the user's location?</p>\n"}, {"tags": ["android", "kotlin", "android-view", "android-constraintlayout", "android-viewtreeobserver"], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 7507215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EmkH8.png?s=128&g=1", "display_name": "fisio", "link": "https://stackoverflow.com/users/7507215/fisio"}, "is_accepted": true, "score": 0, "last_activity_date": 1575926765, "creation_date": 1575926765, "answer_id": 59256886, "question_id": 59256608, "link": "https://stackoverflow.com/questions/59256608/android-kotlin-check-if-any-view-slides-out-of-screen-when-any-view-changes-size/59256886#59256886", "title": "Android kotlin Check if any view slides out of screen when any view changes size", "body": "<p>Solved by putting afterMeasured  on my last view and instead of height getting the Location on screen.</p>\n\n<pre><code>         fun &lt;T : View&gt; T.afterMeasured( f: T.() -&gt; Unit) {\n            viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    if (measuredWidth &gt; 0 &amp;&amp; measuredHeight &gt; 0) {\n                        var coordinate= intArrayOf(1,2)\n                        getLocationOnScreen(coordinate)\n                        println(coordinate[1])\n                    }\n                }\n            })\n        }\n\n        wordtxt15.afterMeasured { }\n</code></pre>\n\n<p>Any better solution is welcome!</p>\n"}], "owner": {"reputation": 174, "user_id": 7507215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EmkH8.png?s=128&g=1", "display_name": "fisio", "link": "https://stackoverflow.com/users/7507215/fisio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59256886, "answer_count": 1, "score": 0, "last_activity_date": 1576000808, "creation_date": 1575925557, "last_edit_date": 1576000808, "question_id": 59256608, "link": "https://stackoverflow.com/questions/59256608/android-kotlin-check-if-any-view-slides-out-of-screen-when-any-view-changes-size", "title": "Android kotlin Check if any view slides out of screen when any view changes size", "body": "<p>All views in my constraint Layout have layout_height as wrap_content. My first view is bottom to bottom constrained to constraint layout. the next is bottom to top constrained to previous one and so on. My constraint Layout has layout_height as wrap_content too. i want to check if any of my View slides entirely or partially out of screen when any of them dynamically sets text on click.</p>\n\n<pre><code>         fun &lt;T : View&gt; T.afterMeasured( f: T.() -&gt; Unit) {\n            viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    if (measuredWidth &gt; 0 &amp;&amp; measuredHeight &gt; 0) {\n                        println(height)\n                    }\n                }\n            })\n        }\n        MyConstraintLayout.afterMeasured { }\n\n</code></pre>\n\n<p>i tried to use this fun to check constraint layout height every time text is setted in a view and it does but even when any view slides out of screen the height printed is the screen height. </p>\n\n<p>what fun can i use to check if any view slides out of screen when height changes in any view?</p>\n"}, {"tags": ["algorithm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "edited": false, "score": 0, "creation_date": 1575927564, "post_id": 59256657, "comment_id": 104723474, "body": "isn&#39;t there a way to shorten the big integer and make it fit into an Int if I can have the can find out the maximum length of the number generated from converting my String ID then dividing it by a given number can result in unique Integer, for example, 102050 and 201050 divided by 200 will result in 510 and 1005, which is much shorter, but this will reduce my accuracy... but I don&#39;t think it will work as the big int is way too big...."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "edited": false, "score": 0, "creation_date": 1575928838, "post_id": 59256657, "comment_id": 104723936, "body": "Any string with more than two UTF-16 code units cannot fit in a 32-bit integer. Dividing by a number doesn&#39;t help, because when you do integer math, remainders are thrown out. You would not have unique IDs. Since you can&#39;t store any string with more than two letters as an Int, but you are expecting long strings, I don&#39;t think it makes sense to complicate it by creating a special case for a miniscule portion of the possible values. Unless the creation of IDs is very controlled so you heavily favor ones in a range that fits in 32 bits."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "edited": false, "score": 0, "creation_date": 1575928877, "post_id": 59256657, "comment_id": 104723960, "body": "The best I think you can do to minimize space for IDs that fit in an Int is to have a wrapper class that holds properties for an <code>Int?</code> and a <code>BigInteger?</code> and leaves one of them null."}, {"owner": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "edited": false, "score": 0, "creation_date": 1575929277, "post_id": 59256657, "comment_id": 104724090, "body": "the IDs are auto-generated by the server and I can not manipulate them, those IDs need to be converted to int so when a notification is sent by that ID I can stack them together and not show them as separate notifications. the notification manager taks IDs in int only"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "edited": false, "score": 0, "creation_date": 1576016177, "post_id": 59256657, "comment_id": 104759240, "body": "With those constraints, I suppose you have to risk some collisions and improperly merged notifications. If there&#39;s some sort of pattern to the IDs you receive (like they are mostly small integers or mostly of a specific length), you could try to find a hashing function that is less likely to create collisions for the more common IDs."}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 0, "last_activity_date": 1575925744, "creation_date": 1575925744, "answer_id": 59256657, "question_id": 59256349, "link": "https://stackoverflow.com/questions/59256349/kotlin-convert-long-string-letters-to-a-numerical-id/59256657#59256657", "title": "Kotlin Convert long String letters to a numerical id", "body": "<p>If you need to be 100% confident that there are no possible duplicates, and the input Strings can be up to 20 characters long, then you cannot store the IDs in a 64-bit Long. You will have to use BigInteger:</p>\n\n<pre><code>val id = BigInteger(stringId.toByteArray())\n</code></pre>\n\n<p>At that point, I question whether there is any point in converting the ID to a numerical format. The String itself can be the ID.</p>\n"}, {"comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 1, "creation_date": 1575928922, "post_id": 59257249, "comment_id": 104723979, "body": "It doesn&#39;t take very many ids to have a high likelihood of collisions."}, {"owner": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "edited": false, "score": 0, "creation_date": 1575929990, "post_id": 59257249, "comment_id": 104724322, "body": "From what I&#39;ve read here  <a href=\"https://stackoverflow.com/questions/10102337/can-javas-hashcode-produce-same-value-for-different-strings\" title=\"can javas hashcode produce same value for different strings\">stackoverflow.com/questions/10102337/&hellip;</a>  there is a chance of collision but the chances are 1 in 2^32. for my case I think that this is a good percentage as I mentioned, I need this id for the notification system, I don&#39;t think the chances of collision will be high in this situation. what do you think? or am I missing something?"}, {"owner": {"reputation": 1307, "user_id": 4681367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83a0416184c6ffe72aac807e2feac5ce?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel Briand", "link": "https://stackoverflow.com/users/4681367/lionel-briand"}, "edited": false, "score": 1, "creation_date": 1575930303, "post_id": 59257249, "comment_id": 104724432, "body": "When you use hashes there is always a chance for collision. You can&#39;t be 100% sure.. It&#39;s not 1 in 2^32 you can look at <a href=\"http://sigpwned.com/2018/08/10/string-hashcode-is-plenty-unique/\" rel=\"nofollow noreferrer\">this article</a> that explains it a bit. I don&#39;t know the behavior of your app but the user will probably not receive 100k notifications at the same time."}], "tags": [], "owner": {"reputation": 1307, "user_id": 4681367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83a0416184c6ffe72aac807e2feac5ce?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel Briand", "link": "https://stackoverflow.com/users/4681367/lionel-briand"}, "is_accepted": false, "score": 1, "last_activity_date": 1575928548, "creation_date": 1575928548, "answer_id": 59257249, "question_id": 59256349, "link": "https://stackoverflow.com/questions/59256349/kotlin-convert-long-string-letters-to-a-numerical-id/59257249#59257249", "title": "Kotlin Convert long String letters to a numerical id", "body": "<p>You can use the <code>hashCode()</code> function. <code>\"id\".hashcode()</code>. All objects implement a variance of this function.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/hash-code.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p><code>open fun hashCode(): Int</code></p>\n  \n  <p>Returns a hash code value for the object. The general contract of <code>hashCode</code> is:</p>\n  \n  <p>Whenever it is invoked on the same object more than once, the <code>hashCode</code> method must consistently return the same integer, provided no information used in <code>equals</code> comparisons on the object is modified.</p>\n  \n  <p>If two objects are equal according to the <code>equals()</code> method, then calling the <code>hashCode</code> method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n\n<p>All platform object implements it by default. There is always a possibility for duplicates if you have lots of ids.</p>\n\n<p>If you use a JVM based kotlin environment the hash will be produced by the \n <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#hashCode()\" rel=\"nofollow noreferrer\"><code>String.hashCode()</code> function</a> from the JVM.</p>\n"}], "owner": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575928548, "creation_date": 1575924426, "question_id": 59256349, "link": "https://stackoverflow.com/questions/59256349/kotlin-convert-long-string-letters-to-a-numerical-id", "title": "Kotlin Convert long String letters to a numerical id", "body": "<p>I'm trying to find a way to convert a long string ID like \"T2hR8VAR4tNULoglmIbpAbyvdRi1y02rBX\" to a numerical id.</p>\n\n<p>I thought about getting the ASCII value of each number and then adding them up but I don't think that this is a good way as different numbers can have the same result, for example, \"ABC\" and \"BAC\" will have the same result</p>\n\n<p>A = 10, B = 20, C = 50,</p>\n\n<p>ABC = 10 + 20 + 50 = 80 </p>\n\n<p>BAC = 20 + 10 + 50 = 80 </p>\n\n<p>I also thought about getting each letters ASCII code, then set the numbers next to each other for example \"ABC\"</p>\n\n<p>so ABC = 102050</p>\n\n<p>this method won't work as having a 20 letter String will result in a huge number, so how can I solve this problem? thank you in advance. </p>\n"}, {"tags": ["android", "kotlin", "mpandroidchart"], "answers": [{"tags": [], "owner": {"reputation": 672, "user_id": 9854554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/btJHz.jpg?s=128&g=1", "display_name": "Naresh NK", "link": "https://stackoverflow.com/users/9854554/naresh-nk"}, "is_accepted": true, "score": 0, "last_activity_date": 1575952768, "creation_date": 1575952768, "answer_id": 59260339, "question_id": 59256290, "link": "https://stackoverflow.com/questions/59256290/mpandroidchart-change-font-typeface/59260339#59260339", "title": "MPAndroidChart change font (Typeface)", "body": "<p>Try this -</p>\n\n<pre><code>val tf = Typeface.createFromAsset(assetManager, \"font/montserrat_regular.ttf\")\ndata.setValueTypeface(tf)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12507595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/590f1e46f435436149a87b027e8790a2?s=128&d=identicon&r=PG&f=1", "display_name": "pieroslv", "link": "https://stackoverflow.com/users/12507595/pieroslv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 59260339, "answer_count": 1, "score": 0, "last_activity_date": 1575952768, "creation_date": 1575924190, "question_id": 59256290, "link": "https://stackoverflow.com/questions/59256290/mpandroidchart-change-font-typeface", "title": "MPAndroidChart change font (Typeface)", "body": "<p>I was trying to change the font using Typeface but it doesn't work. Here is my code below</p>\n\n<pre><code>val tf = Typeface.createFromFile(\"app/src/main/res/font/montserrat_regular.ttf\")\ndata.setValueTypeface(tf)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 12281377, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_5W5ZVPVjHA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcD4ZjdTl1oer8fr80VOtyNd0pqJw/photo.jpg?sz=128", "display_name": "Waseem Ahmed", "link": "https://stackoverflow.com/users/12281377/waseem-ahmed"}, "edited": false, "score": 0, "creation_date": 1575924466, "post_id": 59256314, "comment_id": 104722126, "body": "Hi Doug, thanks so much for the clarification. i have been playing around with scenario&#39;s endlessly. did not know that is will never be null and now that i have tried it with the .exists() it works as expected!"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 0, "last_activity_date": 1575924285, "creation_date": 1575924285, "answer_id": 59256314, "question_id": 59256086, "link": "https://stackoverflow.com/questions/59256086/firestore-returning-a-positive-hit-when-there-isnt-one/59256314#59256314", "title": "Firestore returning a positive hit when there isn&#39;t one", "body": "<p><code>value</code> will never be null.  The returned Task will always yield a DocumentSnapshot object, even if the document doesn't exist.  You can check the snapshot to see if it contains data by using its <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot.html#exists()\" rel=\"nofollow noreferrer\">exists()</a> method.  And, according to the API documentation, <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot.html#getData()\" rel=\"nofollow noreferrer\">getData()</a> will return null if the document doesn't exist, which is what you're seeing here.</p>\n"}], "owner": {"reputation": 117, "user_id": 12281377, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_5W5ZVPVjHA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcD4ZjdTl1oer8fr80VOtyNd0pqJw/photo.jpg?sz=128", "display_name": "Waseem Ahmed", "link": "https://stackoverflow.com/users/12281377/waseem-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 59256314, "answer_count": 1, "score": 0, "last_activity_date": 1575924285, "creation_date": 1575923211, "last_edit_date": 1575924034, "question_id": 59256086, "link": "https://stackoverflow.com/questions/59256086/firestore-returning-a-positive-hit-when-there-isnt-one", "title": "Firestore returning a positive hit when there isn&#39;t one", "body": "<p>I am running a query on my data in Firestore however, i am expecting the query to be null, however the code in Kotlin seems to be entering into the !=null statement.</p>\n\n<p>in the link <a href=\"https://ibb.co/N2nbX1s\" rel=\"nofollow noreferrer\">https://ibb.co/N2nbX1s</a> you can see that firestore is not pulling data, yet it does enter into the !=null. why would the code do this?</p>\n\n<p>I am really confused because in all other instances in my app the same query works perfectly. my code below as well.</p>\n\n<pre><code>docref = FirebaseFirestore.getInstance().collection(\"winning_bid\").document(dealid)\n\n    docref.get().addOnSuccessListener { value -&gt;\n\n        if (value != null) {\n\n            new_lead.visibility = View.GONE\n            buyerbid_confirmlead.visibility = View.VISIBLE\n            buyerbid_selectleading.visibility = View.VISIBLE\n\n            Log.d(\"firestoreorigdeal\",dealid)\n\n            Log.d(\"Firestoredeal\",\"${value.data}\")\n\n\n            Log.d(\"firestore2\", \"second check\")\n\n        } else {\n\n\n            new_lead.visibility = View.VISIBLE\n            buyerbid_confirmlead.visibility = View.GONE\n            buyerbid_selectleading.visibility = View.GONE\n\n\n            Log.d(\"firestore3\", \"third check\")\n            Log.d(\"Firestore_error\", \"No Data\")\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "testing", "kotlin", "junit"], "owner": {"reputation": 2530, "user_id": 396936, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/db36cde202ab8daacc99f16fb6b08103?s=128&d=identicon&r=PG", "display_name": "Merkidemis", "link": "https://stackoverflow.com/users/396936/merkidemis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575924475, "creation_date": 1575922434, "last_edit_date": 1575924475, "question_id": 59255941, "link": "https://stackoverflow.com/questions/59255941/fragment-testing-error-using-fragment-testing-unable-to-instantiate-instrumenta", "title": "Fragment Testing Error Using fragment-testing: Unable to instantiate instrumentation", "body": "<p>I have an Android application I am building and would like to use the fragment-testing libraries to test some fragments in isolation. However, I am struggling to get the tests to execute:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>2019-12-09 13:57:03.255 22352-22352/net.redlightning.solo E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: net.redlightning.solo, PID: 22352\n    java.lang.RuntimeException: Unable to instantiate instrumentation ComponentInfo{net.redlightning.solo.test/androidx.test.runner.AndroidJUnitRunner}: java.lang.ClassNotFoundException: Didn't find class \"androidx.test.runner.AndroidJUnitRunner\" on path: DexPathList[[zip file \"/system/framework/android.test.runner.jar\", zip file \"/system/framework/android.test.mock.jar\", zip file \"/data/app/net.redlightning.solo.test-IhE3r3tw8UMYiQVbxTUcKw==/base.apk\", zip file \"/data/app/net.redlightning.solo-OBV060XuIVKmHuPoKbpynw==/base.apk\"],nativeLibraryDirectories=[/system/lib64, /system/product/lib64]]\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6395)\n        at android.app.ActivityThread.access$1300(ActivityThread.java:219)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1859)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"androidx.test.runner.AndroidJUnitRunner\" on path: DexPathList[[zip file \"/system/framework/android.test.runner.jar\", zip file \"/system/framework/android.test.mock.jar\", zip file \"/data/app/net.redlightning.solo.test-IhE3r3tw8UMYiQVbxTUcKw==/base.apk\", zip file \"/data/app/net.redlightning.solo-OBV060XuIVKmHuPoKbpynw==/base.apk\"],nativeLibraryDirectories=[/system/lib64, /system/product/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6391)\n        at android.app.ActivityThread.access$1300(ActivityThread.java:219)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1859)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:107)\u00a0\n        at android.os.Looper.loop(Looper.java:214)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\u00a0\n        Suppressed: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/test/runner/MonitoringInstrumentation;\n        at java.lang.VMClassLoader.findLoadedClass(Native Method)\n        at java.lang.ClassLoader.findLoadedClass(ClassLoader.java:738)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:363)\n                ... 10 more\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"androidx.test.runner.MonitoringInstrumentation\" on path: DexPathList[[zip file \"/system/framework/android.test.runner.jar\", zip file \"/system/framework/android.test.mock.jar\", zip file \"/data/app/net.redlightning.solo.test-IhE3r3tw8UMYiQVbxTUcKw==/base.apk\", zip file \"/data/app/net.redlightning.solo-OBV060XuIVKmHuPoKbpynw==/base.apk\"],nativeLibraryDirectories=[/system/lib64, /system/product/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n                ... 13 more\n</code></pre>\n\n<p>Here is my app's gradle.build file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\napply plugin: 'realm-android'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"net.redlightning.solo\"\n        minSdkVersion 26\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    compileOptions {\n        sourceCompatibility = 1.8\n        targetCompatibility = 1.8\n    }\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nkapt {\n    useBuildCache = false\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.aar', '*.jar'], exclude: [])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core:1.1.0'\n    implementation 'androidx.fragment:fragment:1.2.0-rc03'\n    implementation 'androidx.localbroadcastmanager:localbroadcastmanager:1.0.0'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'androidx.preference:preference:1.1.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.google.maps.android:android-maps-utils:0.6.2'\n    implementation 'com.google.android.gms:play-services-auth:17.0.0'\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\n    implementation 'com.google.android.gms:play-services-location:17.0.0'\n    implementation 'com.google.android.gms:play-services-places:17.0.0'\n    implementation 'com.google.android.gms:play-services-plus:17.0.0'\n    implementation 'com.github.deano2390:MaterialShowcaseView:1.3.4'\n    implementation 'com.github.zafarkhaja:java-semver:0.9.0'\n    implementation 'com.jcraft.jsch:com.springsource.com.jcraft.jsch:0.1.41'\n    implementation 'com.mixpanel.android:mixpanel-android:5.6.6'\n    implementation 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\n    implementation 'com.squareup.okio:okio:2.4.1'\n    implementation 'com.squareup.okhttp3:okhttp:4.2.2'\n    implementation 'com.squareup.okhttp3:okhttp-urlconnection:4.2.2'\n    implementation 'io.dronefleet.mavlink:mavlink:1.1.5'\n    implementation 'me.grantland:autofittextview:0.2.1'\n    implementation 'org.mp4parser:isoparser:1.9.41'\n    implementation 'pl.tajchert:waitingdots:0.2.0'\n    implementation 'com.jakewharton.timber:timber:4.7.1'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test:core:1.2.0'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n    debugImplementation 'androidx.fragment:fragment-testing:1.2.0-rc03'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>And here is the test class (simplified), located in <code>androidTest</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package net.redlightning.solo.fragment\n\nimport android.content.Context\nimport android.location.Location\nimport androidx.fragment.app.testing.launchFragmentInContainer\nimport androidx.test.ext.junit.runners.AndroidJUnit4\nimport androidx.test.platform.app.InstrumentationRegistry\nimport junit.framework.Assert.assertNotNull\nimport org.junit.Before\nimport org.junit.Test\nimport org.junit.runner.RunWith\n\n@RunWith(AndroidJUnit4::class)\nclass PlanningWidgetFragmentTest {\n    private var instrumentationContext: Context? = null\n    @Before\n    fun setUp() {\n        instrumentationContext = InstrumentationRegistry.getInstrumentation().targetContext\n    }\n\n    @Test\n    fun fetchWeatherInformationRequest() {\n        val location = Location(\"flp\")\n        location.latitude = 43.073051\n        location.longitude = -89.401230\n        location.altitude = 266.0\n        location.bearing = 0.0f\n\n        val scenario = launchFragmentInContainer&lt;PlanningWidgetFragment&gt;()\n        scenario.onFragment {\n            val result = it.fetchWeatherInformationRequest(location)\n            assertNotNull(result)\n        }\n    }\n</code></pre>\n\n<p>I have tried with and without the <code>@RunWith(AndroidJUnit4::class)</code> annotation on the test class, I have tried with 1.2.0-rc03 and 1.1.0 versions of <code>androidx.fragment:fragment-testing</code> (and <code>androidx.fragment:fragment</code> so they match) in gradle, I've tried having the import be in debugImplmentation (as the docs and articles from a year ago describe), implementation, and androidTestImplementation.  Nothing seems to work.</p>\n\n<p>It is likely worth noting that if I remove <code>fragment-testing</code> from the project, and comment out the lines using it in the test (so it just builds a location it doesn't use) the test runs to completion just fine.</p>\n\n<p>What is the correct setup to allow me to use <code>androidx.fragment:fragment-testing</code>?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 1307, "user_id": 4681367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83a0416184c6ffe72aac807e2feac5ce?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel Briand", "link": "https://stackoverflow.com/users/4681367/lionel-briand"}, "edited": false, "score": 0, "creation_date": 1575925121, "post_id": 59255743, "comment_id": 104722423, "body": "Might try : <code>else -&gt; Unit</code>"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 12085932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mP51T.png?s=128&g=1", "display_name": "Sergei Dubrov", "link": "https://stackoverflow.com/users/12085932/sergei-dubrov"}, "is_accepted": false, "score": 1, "last_activity_date": 1575970022, "creation_date": 1575970022, "answer_id": 59263978, "question_id": 59255743, "link": "https://stackoverflow.com/questions/59255743/intellij-kotlin-formatting-force-empty-blocks-to-be-on-one-line/59263978#59263978", "title": "IntelliJ, Kotlin formatting: force empty blocks to be on one line", "body": "<p>This feature is not implemented in Kotlin yet.</p>\n\n<p>It is tracked here: <a href=\"https://youtrack.jetbrains.com/issue/KT-12491\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-12491</a></p>\n"}], "owner": {"reputation": 478, "user_id": 2813434, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/O92B8.jpg?s=128&g=1", "display_name": "Otterman", "link": "https://stackoverflow.com/users/2813434/otterman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575970022, "creation_date": 1575921520, "question_id": 59255743, "link": "https://stackoverflow.com/questions/59255743/intellij-kotlin-formatting-force-empty-blocks-to-be-on-one-line", "title": "IntelliJ, Kotlin formatting: force empty blocks to be on one line", "body": "<p>My question is very similar to <a href=\"https://stackoverflow.com/questions/28254509/intellij-java-formatting-force-empty-blocks-to-be-on-one-line\">this question</a> however I can't create the same rule set for <strong>Kotlin</strong>.  Kotlin \"Code Style\" does not have </p>\n\n<blockquote>\n  <p>Simple blocks in one line</p>\n</blockquote>\n\n<p>Under its \"Keep when reformatting\" list</p>\n\n<p>How can I keep <code>else -&gt; {}</code> as opposed to </p>\n\n<pre><code>else -&gt; {\n}\n</code></pre>\n\n<p>For Kotlin styling? </p>\n\n<p>-Otterman </p>\n"}, {"tags": ["kotlin", "inner-classes"], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "edited": false, "score": 0, "creation_date": 1575922717, "post_id": 59255811, "comment_id": 104721468, "body": "thanks for the prompt reply, it&#39;s very helpful  <i>you always know that any instance of the inner class is intrinsically linked to a specific instance of the outer class</i>  that is the idea, I didn&#39;y include the dataset specific properties because I thought they would obscure the view  I want to use the Dataset instance to have Dataset specific ContentProvider in Android, rather than multiple table specific ContentProviders  so assuming I keep the inner class I need to add the nullable properties representing  the inner classes in Dataset, correct? and then make them data classes"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "edited": false, "score": 0, "creation_date": 1575923281, "post_id": 59255811, "comment_id": 104721673, "body": "See edit for info about your problem with inner classes."}, {"owner": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "edited": false, "score": 0, "creation_date": 1575924021, "post_id": 59255811, "comment_id": 104721955, "body": "dataset.table1 = dataset.Table1() - this is exactly what I was missing, thanks a lot"}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 1, "last_activity_date": 1575923267, "last_edit_date": 1575923267, "creation_date": 1575921814, "answer_id": 59255811, "question_id": 59255111, "link": "https://stackoverflow.com/questions/59255111/whats-best-way-to-create-a-class-representing-nested-xml-in-kotlin/59255811#59255811", "title": "what&#39;s best way to create a class representing nested xml in Kotlin", "body": "<p>Your definitions for Table1 and Table2 are nothing more than class definitions, so yes, you need parameters to represent instances of them. The issue is not just that they are not instantiated, but that there are no properties for them at all. </p>\n\n<p>Your idea to instantiate a copy of the outer class when you need one of the other classes doesn't make sense. And the only reason the compiler is requiring you to do that is you used the keyword <code>inner</code> in those class definitions. Since they have no shared references with Dataset, they do not need to be <code>inner</code>.</p>\n\n<p>The meaning of <code>inner</code> is that the class can only exist within the context of an outer class. The benefit of an <code>inner</code> class is that it can directly reference properties of the outer class and you always know that any instance of the inner class is intrinsically linked to a specific instance of the outer class. You don't need any of these inner class features for a simple hierarchy like this.</p>\n\n<p>You need something like this:</p>\n\n<pre><code>data class Table1 (var colA: String = \"\", \n                   var colB: String = \"\")\n\ndata class Table2 (var colX: String = \"\")\n\ndata class DataSet (var table1: Table1? = null,\n                    var table2: Table2? = null)\n</code></pre>\n\n<p>Since your tables are optional, they must be nullable, and a null value represents that it is blank.</p>\n\n<p>Using <code>data</code> in the class definition makes Kotlin generate <code>toString</code>, <code>hashcode</code> and <code>equals</code> for you.</p>\n\n<p>Your example XML shows multiple Table1's in your Dataset, so you might need to change the parameters of DataSet to collections to be able to hold multiple tables of each type:</p>\n\n<pre><code>data class DataSet (val table1s: MutableList&lt;Table1&gt; = mutableListOf(),\n                    val table2s: MutableList&lt;Table2&gt; = mutableListOf())\n</code></pre>\n\n<p><strong>Edit:</strong> \nIf you actually need these to be inner classes, you must have properties for instances of the inner classes. And you must always instantiate them in the context of the instance that will \"own\" it.</p>\n\n<pre><code>// This works because the table was instantiated from the dataset that will reference it.\nval dataset = DataSet()\ndataset.table1 = dataset.Table1() \n\n// This doesn't work because you can't assign the new DataSet's table to some \n// other DataSet's property.\nval dataset = DataSet()\ndataset.table1 = DataSet().Table1() \n</code></pre>\n"}], "owner": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 59255811, "answer_count": 1, "score": 0, "last_activity_date": 1575923267, "creation_date": 1575918255, "question_id": 59255111, "link": "https://stackoverflow.com/questions/59255111/whats-best-way-to-create-a-class-representing-nested-xml-in-kotlin", "title": "what&#39;s best way to create a class representing nested xml in Kotlin", "body": "<p>consider the following xml file</p>\n\n<pre><code>&lt;Dataset&gt;\n    &lt;Table1&gt;\n        &lt;colA&gt;AAA&lt;/colA&gt;\n        &lt;colB&gt;BBB&lt;/colB&gt;\n    &lt;/Table1&gt;\n    &lt;Table1&gt;\n        &lt;colA&gt;aa&lt;/colA&gt;\n        &lt;colB&gt;bb&lt;/colB&gt;\n    &lt;/Table1&gt;\n    &lt;Table2&gt;\n        &lt;colX&gt;xxx&lt;/colX&gt;\n    &lt;/Table1&gt;\n&lt;/Dataset&gt;\n</code></pre>\n\n<p>What would be the best way to structure a class to hold the records from that file (using the ArrayList of the outer class)?</p>\n\n<hr>\n\n<p>I've tried using inner classes, like this:</p>\n\n<pre><code>class Dataset {\n    inner class Table1 {\n        var colA:String = \"\"\n        var colB:String = \"\"\n    }\n    inner class Table2 {\n        var colX:String = \"x\"\n    }\n}\n</code></pre>\n\n<p>The issue is - when I create an instance of the Dataset class I cannot set the properties of the inner classes within it, even though I can read them (is it because they are not instantiated?)\nIn other words, the output of the code below is xx rather than xOK</p>\n\n<pre><code>val dataset = Dataset()\nprint(\"${dataset.Table2().colX}\")    //returns x as in the class declaration\ndataset.Table2().colX = \"OK\"\nprint(\"${dataset.Table2().colX}\")    //returns x, but I want it to return OK\n</code></pre>\n\n<p>I can set the properties when I instantiate the inner classes in the outer class:</p>\n\n<pre><code>class Dataset {\n    val table1 = Table1()\n    val table2 = Table2()\n    inner class Table1 {\n...\n</code></pre>\n\n<p>but as I mentioned earlier, I append records using ArrayList&lt; Dataset></p>\n\n<p>which means (if I understand it correctly), that when I create a dataset for a Table1 entry and then append it to the ArrayList, I still have dataset.table2 instantiated in that dataset, even though it's not used</p>\n\n<p>I would also be fine with instantiating the inner classes like this:</p>\n\n<pre><code>table1 = Dataset().Table1()\n</code></pre>\n\n<p>as long as I could then add them to the existing Dataset instance</p>\n\n<pre><code>val dataset = Dataset()\ndataset.Table1() = table1    //this bit doesn't work for me :(\n</code></pre>\n\n<hr>\n\n<p>So to summarize:</p>\n\n<p>1) Any idea on how to better structure the Dataset class?</p>\n\n<p>2) If not, how to set the properties of an inner class within instance of its outer class?</p>\n"}, {"tags": ["kotlin", "import", "algolia", "instantsearch"], "owner": {"reputation": 11, "user_id": 12411938, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCSSFOOeaHGiY0umzn3gRR8QIE94m-2SjwUi7YNBw=k-s128", "display_name": "Chad Alpha", "link": "https://stackoverflow.com/users/12411938/chad-alpha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575917640, "creation_date": 1575917640, "question_id": 59254981, "link": "https://stackoverflow.com/questions/59254981/algolia-import-statements-arent-working-kotlin-algolia", "title": "Algolia Import Statements aren&#39;t working (Kotlin/Algolia)", "body": "<p>Some of the import statements and code specified by the tutorial is highlighted as incorrect. Algolia instantsearch Android documentation can be found <a href=\"https://www.algolia.com/doc/guides/building-search-ui/getting-started/android/\" rel=\"nofollow noreferrer\">here</a>. I dont understand why I keep receiving the following errors. Any guidance would help. </p>\n\n<p>[Issue #1<a href=\"https://i.stack.imgur.com/M2nOy.jpg\" rel=\"nofollow noreferrer\">][2]</a></p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-jetpack", "android-mvvm"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576096053, "post_id": 59254008, "comment_id": 104791808, "body": "Sounds like your <code>resultLiveData</code> is buggy"}, {"owner": {"reputation": 1776, "user_id": 6341943, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wqhTp.png?s=128&g=1", "display_name": "hushed_voice", "link": "https://stackoverflow.com/users/6341943/hushed-voice"}, "edited": false, "score": 0, "creation_date": 1590783981, "post_id": 59254008, "comment_id": 109822823, "body": "maybe this could help <a href=\"https://medium.com/androiddevelopers/livedata-with-snackbar-navigation-and-other-events-the-singleliveevent-case-ac2622673150\" rel=\"nofollow noreferrer\">medium.com/androiddevelopers/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575964210, "post_id": 59261560, "comment_id": 104733161, "body": "What is &lt;Result&gt; here     val categories: LiveData&lt;Result&gt; = MutableLiveData&lt;Result&gt;()"}, {"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575964242, "post_id": 59261560, "comment_id": 104733172, "body": "what is &lt;Result&gt; here      val categories: LiveData&lt;Result&gt; = MutableLiveData&lt;Result&gt;()"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575964346, "post_id": 59261560, "comment_id": 104733211, "body": "It is just a model. You can change it to whatever your <code>resultLiveData</code> method is returned as generic type of <code>LiveData</code>."}, {"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575969575, "post_id": 59261560, "comment_id": 104735741, "body": "I am getting type mismatch errer,      val categories: LiveData&lt;Result&lt;PromotionDetails&gt;&gt; = MutableLiveData()         (categories as MutableLiveData).postValue(result) // type mismatch for post value Required: Result&lt;PromotionDetails&gt; Found: LiveData&lt;Result&lt;LIst&lt;PromotionDetails&gt;&gt;&gt;"}, {"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575970733, "post_id": 59261560, "comment_id": 104736413, "body": "This has also same behavior, Function from repository is only called once and same data is returned from view model"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575971922, "post_id": 59261560, "comment_id": 104737075, "body": "I&#39;ve edited my answer. Can you try to return <code>Result&lt;PromotionDetails&gt;</code> instead of <code>LiveData&lt;Result&lt;PromotionDetails&gt;&gt;</code> from <code>resultLiveData</code> function? I guess you need to modify it somehow"}, {"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575972699, "post_id": 59261560, "comment_id": 104737490, "body": "Thanks for the update. I have changed the code as required. But when i call this line         val result = repository.resultLiveData() It only runs once. I have a break point in repository which hits only once. and thus not getting new value from repository"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575972939, "post_id": 59261560, "comment_id": 104737631, "body": "Could you please show me button&#39;s click listener? Do you call <code>updateCategory()</code> when button is clicked?"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575973637, "post_id": 59261560, "comment_id": 104738028, "body": "Is <code>getSelectedBundles()</code> function called more than once?"}, {"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575973747, "post_id": 59261560, "comment_id": 104738096, "body": "Yes get selected bundle is called every time I click a button and the break point is hit in viewmodel"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575973950, "post_id": 59261560, "comment_id": 104738203, "body": "As I see all should work and <code>repository.resultLiveData()</code> must be called every time."}, {"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575974045, "post_id": 59261560, "comment_id": 104738257, "body": "I am also expecting that this should work. But unfortunate :("}, {"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575975457, "post_id": 59261560, "comment_id": 104738976, "body": "I am fetching data from this Method. Is this the cause or impacting in any way ? fun &lt;T&gt; resultLiveDb(     databaseQuery: () -&gt; LiveData&lt;T&gt; ): LiveData&lt;Result&lt;T&gt;&gt; =     liveData(Dispatchers.IO) {         emit(Result.loading&lt;T&gt;())         val source = databaseQuery.invoke().map { Result.success(it) }         emitSource(source)     }"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1575975675, "post_id": 59261560, "comment_id": 104739088, "body": "Yes, it may impact. Every time you call this method new instance of <code>LiveData</code> is created."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 1, "last_activity_date": 1575971781, "last_edit_date": 1592644375, "creation_date": 1575960063, "answer_id": 59261560, "question_id": 59254008, "link": "https://stackoverflow.com/questions/59254008/android-observeable-in-viewmodel-only-works-once/59261560#59261560", "title": "Android observeable in viewmodel only works once", "body": "<p>I can suggest to add method to <code>ViewModel</code> and call it when button is pressed:</p>\n<pre><code>class CategoryViewModel @Inject constructor(repository: CateRepository) : ViewModel() {\n    val categories: LiveData&lt;Result&lt;PromotionDetails&gt;&gt; = MutableLiveData&lt;Result&lt;PromotionDetails&gt;&gt;()\n\n    // call this method when button is pressed\n    fun updateCategory() = viewModelScope.launch(Dispatchers.IO) { // launch a coroutine\n        val result = repository.resultLiveData()\n        (categories as MutableLiveData).postValue(result) // update result value in main thread\n    }\n}\n\nclass CateRepository @Inject constructor(...) {\n\n    fun resultLiveData(): Result&lt;PromotionDetails&gt; {\n        return resultLiveData(\n            databaseQuery = { daoBundles.getAllCategories(BaseClass.Category) },\n            networkCall = { remoteDataSource.getBundles(request) },\n            saveCallResult = { daoCat.deleteAndInsert() }\n        )\n    }\n}\n</code></pre>\n<p>To use <code>viewModelScope</code> in <code>MainViewModel</code> class add dependency to build.gradle file:</p>\n<blockquote>\n<p>final LIFECYCLE_VERSION = &quot;2.2.0-rc03&quot; // add most recent version</p>\n<p>api &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$LIFECYCLE_VERSION&quot;</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "edited": false, "score": 0, "creation_date": 1591589210, "post_id": 62093530, "comment_id": 110102777, "body": "The fix here is mediator live data"}], "tags": [], "owner": {"reputation": 11, "user_id": 7174902, "user_type": "registered", "profile_image": "https://graph.facebook.com/1203763729716845/picture?type=large", "display_name": "Rafael Silqueira", "link": "https://stackoverflow.com/users/7174902/rafael-silqueira"}, "is_accepted": false, "score": 0, "last_activity_date": 1590785333, "last_edit_date": 1590785333, "creation_date": 1590781229, "answer_id": 62093530, "question_id": 59254008, "link": "https://stackoverflow.com/questions/59254008/android-observeable-in-viewmodel-only-works-once/62093530#62093530", "title": "Android observeable in viewmodel only works once", "body": "<p>I my case I try to implement a SwipeRefreshLayout to refresh data.</p>\n\n<p>On the SwiperefreshListener =></p>\n\n<ul>\n<li>Removed the observer</li>\n<li>Then add Observer again</li>\n<li>call action to refresh data.</li>\n</ul>\n\n<p>I followed this same tutorial and i had the same issue.</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    binding.swipeRefresh.setOnRefreshListener {\n        vm.links.removeObservers(viewLifecycleOwner)\n        vm.links.observe(viewLifecycleOwner, Observer { it?.let { observeLinks(it) } })\n        vm.refresh()\n    }\n}\n\nprivate fun observeLinks(result: Result&lt;MutableList&lt;Link&gt;&gt;) {\n    when (result.status) {\n        SUCCESS -&gt; {\n            binding.recyclerView.visibility = VISIBLE\n            binding.progressBar.visibility = GONE\n            binding.swipeRefresh.isRefreshing = false\n            knowMoreAdapter.clearItems()\n            knowMoreAdapter.updateItems(result.data!!)\n        }\n        ERROR -&gt; {\n            Snackbar.make(\n                binding.root,\n                mContext.getString(R.string.error_loading_data),\n                Snackbar.LENGTH_LONG\n            ).show()\n            binding.progressBar.visibility = GONE\n            binding.swipeRefresh.isRefreshing = false\n        }\n        LOADING -&gt; {\n            binding.progressBar.visibility = VISIBLE\n            binding.swipeRefresh.isRefreshing = false\n        }\n    }\n}\n</code></pre>\n\n<p>Then on View model class  I call the method refresh()</p>\n\n<pre><code>class KnowMoreVM @Inject constructor(private val repository: KnowMoreRepository) : ViewModel() {\n\nvar links = repository.observeSingleSource()\n\nfun refresh() {\n    links = repository.observeSingleSource()\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1590785333, "creation_date": 1575913350, "last_edit_date": 1575973432, "question_id": 59254008, "link": "https://stackoverflow.com/questions/59254008/android-observeable-in-viewmodel-only-works-once", "title": "Android observeable in viewmodel only works once", "body": "<p>I am using android architecture components and following a tutorial from <a href=\"https://github.com/Eli-Fox/LEGO-Catalog\" rel=\"nofollow noreferrer\">here</a>. This tutorial uses single source of truth strategy with local cashing using room and retrofit. I have implemented this part in my app and it works well. But in one Fragment I am facing the problem. The problem is that i have 4 buttons on activity and by clicking any button the data is filtered based on category say Category A category b etc. When I first load the fragment the data is displayed as expected but when I click on 2nd button to get data for category B the old data is showed and new data is never refreshed. \nHere is my code. \nIn fragment inside oncreateview i have this observer</p>\n\n<pre><code> private fun getCategory() {\n        viewModel.categorys.observe(viewLifecycleOwner, Observer { result -&gt;\n            when (result.status) {\n                Result.Status.SUCCESS -&gt; {\n                    progressDialogue.hideDialog()\n\n                    Log.d(\"category\", \"On success\")\n                    val item = result.data\n                    setAdapter(item)\n                }\n                Result.Status.LOADING -&gt; {\n                    progressDialogue.showDialog()\n                    Log.d(\"category\", \"On loading\")\n                }\n                Result.Status.ERROR -&gt; {\n                    Log.d(\"category\", \"On Error\")\n                    progressDialogue.hideDialog()\n                    Snackbar.make(binding.root, result.message!!, Snackbar.LENGTH_LONG).show()\n                }\n            }\n        })\n    }\n</code></pre>\n\n<p>this is my view model </p>\n\n<pre><code>class CategoryViewModel @Inject constructor(repository: CateRepository) : ViewModel() {\n         var categorys = repository.mCate// ***this value not changes after 1st run***   \n   }\n</code></pre>\n\n<p>this is my repository</p>\n\n<pre><code>class CateRepository @Inject\nconstructor(\n    private val daoCat: DaoCat,\n    private val remoteDataSource: RemoteDataSource,\n     private val request: String\n) {\n    val mCate= resultLiveData(\n        databaseQuery = {\n            daoBundles.getAllCategories(BaseClass.Category)\n        },\n        networkCall = { remoteDataSource.getBundles(request) },\n        saveCallResult = {\n            daoCat.deleteAndInsert()\n        })\n</code></pre>\n\n<p>My question is how can i refresh this value on button click\n             <strong><em>var categorys = repository.mCate//</em></strong> \n<strong>Update 1</strong></p>\n\n<p>This is my click listener</p>\n\n<pre><code>binding.btnGroup.setOnCheckedChangeListener { _, checkedId -&gt;\n            val dao = AppDatabase.getInstance(BaseClass.appContext).bundlesDao()\n            when (checkedId) {\n                R.id.btnHybrid -&gt; {\n                    BundleParams.setBundleType(BundleTypes.Hybrid.type)\n                    getSelectedBundles(BundleTypes.Hybrid.type)\n                }\n                R.id.btnVoice -&gt; {\n                    BundleParams.setBundleType(BundleTypes.Voice.type)\n                    getSelectedBundles(BundleTypes.Voice.type)\n                }\n                R.id.btnSMS -&gt; {\n                    BundleParams.setBundleType(BundleTypes.SMS.type)\n                    getSelectedBundles(BundleTypes.SMS.type)\n                }\n                R.id.btnData -&gt; {\n                    BundleParams.setBundleType(BundleTypes.Data.type)\n                    getSelectedBundles(BundleTypes.Data.type)\n                }\n                R.id.btnFavourites -&gt; {\n                    BundleParams.setBundleType(BundleTypes.Favorites.type)\n                    getSelectedBundles(BundleTypes.Favorites.type)\n                }\n            }\n        }\n\n\n\n\n\nprivate fun getSelectedBundles(mType: String) {\n        viewModel.updateCategory()\n    }\n</code></pre>\n"}]