[{"tags": ["java", "generics", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 0, "last_activity_date": 1538629932, "creation_date": 1538629932, "answer_id": 52639425, "question_id": 52636540, "link": "https://stackoverflow.com/questions/52636540/how-to-determine-the-type-of-class-and-pass-it-to-gson-fromjson-method-brackets/52639425#52639425", "title": "How to determine the type of class and pass it to gson fromJson method brackets", "body": "<p>You could use a <em>reified</em> generic parameter (<a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">Kotlin documentation</a>).</p>\n\n<p>The type parameter can then be used like a normal class: </p>\n\n<pre><code>inline fun &lt;reified T&gt; parse(json: String) {\n    val animal = gson.fromJson&lt;T&gt;(json, object : TypeToken&lt;T&gt;() {}.type)\n\n    //do somehing with the result\n    when(animal) {\n        is Dog -&gt; ...\n        is Cat -&gt; ...\n    }        \n}\n\n//Call parse function\nparse&lt;Cat&gt;(json)\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1538629932, "creation_date": 1538605695, "last_edit_date": 1538607870, "question_id": 52636540, "link": "https://stackoverflow.com/questions/52636540/how-to-determine-the-type-of-class-and-pass-it-to-gson-fromjson-method-brackets", "title": "How to determine the type of class and pass it to gson fromJson method brackets", "body": "<p>I am trying to create mechanism of parsing objects that are in the same sealed class and based on some sort of determination of type to be able to parse the string to this specific class.</p>\n\n<p>So here is sample setup:</p>\n\n<p>1) sealed class:</p>\n\n<pre><code>  sealed class Animal\ndata class Dog(\nvar name: String\n): Animal()\n\ndata class Cat(\nvar color: String\n): Animal()\n</code></pre>\n\n<p>2) the parsing method which parse json to this specific class</p>\n\n<pre><code>  fun parse(json: String, model: KClass&lt;out Animal&gt;) {\n  //so how to pass the type of the \"model\" parameter to this brackets instead of question mark?\n  val animal = gson.fromJson&lt;?&gt;(json, object : TypeToken&lt;?&gt;() {}.type) \n  //and then do something\n</code></pre>\n\n<p>}</p>\n\n<p>So i think i wanna be able to use this like for example:</p>\n\n<pre><code>json = \"\" //some json\nparse(json, Cat::class)\n</code></pre>\n\n<p>How to achive that?</p>\n\n<p>The only way i can find now is something like this:</p>\n\n<pre><code>fun parse(json: String, model: KClass&lt;out Animal&gt;) {\n  when (model) {\n  Cat::class -&gt; {\n    val cat = gson.fromJson&lt;Cat&gt;(json, object : TypeToken&lt;Cat&gt;() {}.type)\n    //and then do something\n  }\n  Dog::class -&gt; {\n    val dog = gson.fromJson&lt;Dog&gt;(json, object : TypeToken&lt;Dog&gt;() {}.type)\n    //and then do something\n  }\n }\n}\n</code></pre>\n\n<p>But is there better way?</p>\n"}, {"tags": ["java", "kotlin", "functional-programming", "higher-order-functions"], "answers": [{"tags": [], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "is_accepted": true, "score": 1, "last_activity_date": 1538613581, "creation_date": 1538613581, "answer_id": 52637425, "question_id": 52636018, "link": "https://stackoverflow.com/questions/52636018/error-kotlin-type-inference-failed-expected-type-mismatch-mapmessagedestination/52637425#52637425", "title": "Error Kotlin Type inference failed Expected type mismatch Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt; was expected", "body": "<p><strong>TL;DR:</strong>\nYou want to transform values that are grouped in list, so:</p>\n\n<pre><code>emailMesssages.groupBy( \n    { MessageDestination(it.second) },\n    { it.first }\n)\n</code></pre>\n\n<p><strong>Long version:</strong></p>\n\n<p>Ok, so you start with:\n<code>emailMesssages: List&lt;Pair&lt;MessageSender, String&gt;&gt;</code>\nand you want to transform it to type <code>Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt;</code></p>\n\n<p>You are trying to achieve that with <code>emailMesssages.groupBy { MessageDestination(it.second) }</code>. What <code>groupBy</code> does it groups items from the list by key that you specified. What's important is that it combines all items (in this case all <code>Pair</code>s) for one key <strong>into the list</strong>.</p>\n\n<p>So if you have (sample from <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\">official docs</a>): </p>\n\n<pre><code>val words = listOf(\"a\", \"abc\", \"ab\", \"def\", \"bc\")\nval byLength = words.groupBy { it.length }\n</code></pre>\n\n<p>then byLength is:</p>\n\n<pre><code>1 -&gt; listOf(\"a\")\n2 -&gt; listOf(\"ab\", \"bc\")\n3 -&gt; listOf(\"abc\", \"def\")\n</code></pre>\n\n<p>That explains why you have type <code>Map&lt;MessageDestination, List&lt;Pair&lt;MessageSender, String&gt;&gt;&gt;</code> instead of <code>Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt;</code>.</p>\n\n<p>What you want to do is <strong>not to group items from the list</strong>, you want to <strong>group transformed values from items of the list</strong>.</p>\n\n<p>Basically what you want is another variant of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\">'groupBy'</a> with keySelector AND valueTransform:</p>\n\n<pre><code>inline fun &lt;T, K, V&gt; Array&lt;out T&gt;.groupBy(\n    keySelector: (T) -&gt; K,\n    valueTransform: (T) -&gt; V\n): Map&lt;K, List&lt;V&gt;&gt; (source)`\n</code></pre>\n\n<p>in your case, that would look like this:</p>\n\n<pre><code>emailMesssages.groupBy( \n    { MessageDestination(it.second) },\n    { it.first }\n)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10434221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a7LVaYWXHr4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DU8WkH8ipikraBoksW9wIToUIA9DQ/mo/photo.jpg?sz=128", "display_name": "deandre", "link": "https://stackoverflow.com/users/10434221/deandre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1375, "favorite_count": 0, "accepted_answer_id": 52637425, "answer_count": 1, "score": 1, "last_activity_date": 1538638654, "creation_date": 1538602601, "last_edit_date": 1538638654, "question_id": 52636018, "link": "https://stackoverflow.com/questions/52636018/error-kotlin-type-inference-failed-expected-type-mismatch-mapmessagedestination", "title": "Error Kotlin Type inference failed Expected type mismatch Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt; was expected", "body": "<p>I'm trying to manipulate the structure of data so that I can pass it to this function <code>fun handleRequests(messages: Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt;): Either&lt;Errors.RequestError, Unit&gt;</code>. But I keep getting this error: \n<a href=\"https://i.stack.imgur.com/Xl0pj.png\" rel=\"nofollow noreferrer\">syntaxerror</a></p>\n\n<p><code>Error:(27, 63) Kotlin: Type inference failed. Expected type mismatch: inferred type is Map&lt;MessageDestination, List&lt;Pair&lt;MessageSender, String&gt;&gt;&gt; but Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt; was expected</code>. </p>\n\n<p>I need to transform my data into <code>Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt;</code> but I don't know how to do it. Here's the code:</p>\n\n<pre><code>package testp.package1.handlers\n\nimport arrow.core.Either\nimport arrow.core.flatMap\nimport com.amazonaws.services.lambda.runtime.Context\nimport com.amazonaws.services.lambda.runtime.RequestHandler\n\ninterface InterfaceService {\n    fun handleRequests(messages: Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt;): Either&lt;Errors.RequestError, Unit&gt;\n}\n\nabstract class AbstractMessageHandler(\n        override val service: InterfaceService =\n                ServiceImpl()) : MessageHandler&lt;MyMessage&gt;() {\n\n    abstract val emailType: ServiceImpl.Companion.EmailType\n    override val emailParser: IMessageParser&lt;MyMessage&gt; = M2MessageParser()\n\n    override fun handle(event: List&lt;String&gt;): Either&lt;Errors.RequestError, Pair&lt;List&lt;Errors.RequestError&gt;, Int&gt;&gt; =\n            emailParser.parseEmails(event)\n                    .map { (error, messages) -&gt;\n                        error to messages.map { myMessage -&gt;\n                            MessageSender(message = myMessage.environment) to myMessage.emailAdrress\n                        }\n                    }\n                    .flatMap { (errors: List&lt;Errors.RequestError&gt;, emailMesssages: List&lt;Pair&lt;MessageSender, String&gt;&gt;) -&gt;\n                        service.handleRequests(emailMesssages.groupBy { MessageDestination(it.second) }).map {\n                            Pair(errors, emailMesssages.size)\n                        }\n                    }\n}\n\ndata class MessageDestination(val emailAddress: String)\ndata class MyMessage(val environment: String, val emailAdrress: String, val phoneId: String)\ndata class MessageSender(val message: String)\n\n\nclass ServiceImpl : InterfaceService {\n    override fun handleRequests(messages: Map&lt;MessageDestination, List&lt;MessageSender&gt;&gt;): Either&lt;Errors.RequestError, Unit&gt; {\n        TODO(\"logic goes her\")\n    }\n    companion object {\n        enum class EmailType {\n            M1, M2\n        }\n    }\n}\n\nobject Errors {\n    interface RequestError {\n        val message: String\n    }\n    data class UnexpectedError(override val message: String) : RequestError\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 231, "user_id": 3627279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIlkU.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/3627279/joe"}, "edited": false, "score": 1, "creation_date": 1538596791, "post_id": 52634701, "comment_id": 92202829, "body": "That would be better if you describe your question instead of posting a 11-minuet-length youtube video. Google &quot;inheritance in Java tutorial&quot;. In this case Java lets you instantiate Human with Alien class, because Alien <b>is a</b> Human."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10333679, "user_type": "registered", "profile_image": "https://graph.facebook.com/1268907393251879/picture?type=large", "display_name": "\u041f\u0430\u0432\u0435\u043b \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/10333679/%d0%9f%d0%b0%d0%b2%d0%b5%d0%bb-%d0%9c%d0%b0%d0%bb%d0%b8%d0%bd%d0%be%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "edited": false, "score": 0, "creation_date": 1538597866, "post_id": 52634779, "comment_id": 92203320, "body": "Thank you! The best explanation!"}, {"owner": {"reputation": 3469, "user_id": 2574612, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4b008a3d7ce933943329e84c1dbe6db7?s=128&d=identicon&r=PG", "display_name": "Nicholas Pipitone", "link": "https://stackoverflow.com/users/2574612/nicholas-pipitone"}, "reply_to_user": {"reputation": 19, "user_id": 10333679, "user_type": "registered", "profile_image": "https://graph.facebook.com/1268907393251879/picture?type=large", "display_name": "\u041f\u0430\u0432\u0435\u043b \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/10333679/%d0%9f%d0%b0%d0%b2%d0%b5%d0%bb-%d0%9c%d0%b0%d0%bb%d0%b8%d0%bd%d0%be%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "edited": false, "score": 0, "creation_date": 1538606061, "post_id": 52634779, "comment_id": 92206258, "body": "@\u041f\u0430\u0432\u0435\u043b\u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u0438\u0439 Another important aspect is that of <a href=\"https://www.jitendrazaa.com/blog/java/virtual-function-in-java/\" rel=\"nofollow noreferrer\">virtual functions</a>. Even though a.bark() will not work, a.eat() will call Dog&#39;s version of eat, not Animal&#39;s version. If you understand my post, <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">abstract classes</a>, and virtual functions, then you&#39;ve know everything there is to know about inheritance."}], "tags": [], "owner": {"reputation": 3469, "user_id": 2574612, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4b008a3d7ce933943329e84c1dbe6db7?s=128&d=identicon&r=PG", "display_name": "Nicholas Pipitone", "link": "https://stackoverflow.com/users/2574612/nicholas-pipitone"}, "is_accepted": true, "score": 1, "last_activity_date": 1538606574, "last_edit_date": 1538606574, "creation_date": 1538596678, "answer_id": 52634779, "question_id": 52634701, "link": "https://stackoverflow.com/questions/52634701/why-do-i-need-to-create-a-reference-of-a-class-and-then-an-object-of-b-class/52634779#52634779", "title": "why do I need to create a reference of A class, and then an object of B class", "body": "<p>The usage of \"Human\" and \"Alien\" is terrible here. Instead of \"Human\", think \"Animal\". Instead of \"Alien\", think \"Dog\".</p>\n\n<p>The terminology isn't great either. The \"Object\" is the literal object itself: the physical Dog &lt;-> the bits associated with it in memory. The \"Reference\" is the variable, <code>h</code>. It references the object Dog. <code>h</code> is not a \"reference of Animal and object of Dog\", as the video says with Human/Alien. It's a \"reference to a Dog object\". However, the variable \"h\" itself, it not <em>forced</em> to reference <em>only</em> Dogs. In fact, it can reference any Animal.</p>\n\n<p>For example, I can write the code:</p>\n\n<pre><code>Animal mypet = new Dog();\nmypet = new Cat();\n</code></pre>\n\n<p>If I wrote the line <code>Dog mypet</code>, then I would be <em>forced</em> to only write <code>mypet = new Dog()</code> or <code>mypet = getDogFromShelter(myNeighborhoodShelter)</code>. It would not let me write <code>mypet = new Cat()</code>.</p>\n\n<p>Cats are cool, so that would be terrible. Hence, we write <code>Animal mypet</code> to allow the variable <code>mypet</code> reference <em>any</em> animal. <code>Dog</code>, <code>Cat</code>, <code>Elephant</code> will all be available. However, because of this restriction, I am not allowed to do any <code>Dog</code>-specific things to <code>mypet</code>.</p>\n\n<p><code>mypet.bark()</code> will not work if <code>mypet</code> is an Animal. Not all Animals can bark. <code>mypet.eat(Food)</code> will work, since all Animals can eat. If I want my pet to Bark, because I know it is a Dog right now, then I can do</p>\n\n<p><code>\n((Dog)mypet)).bark();\n// Will throw run-time error if mypet is not a Dog!\n// This is best to avoid, so just make mypet a Dog type if it must bark.\n// If you must make an Animal bark, use if (!(mypet instanceof Dog)) to handle the error propely.\n</code></p>\n\n<p>This above code will check to make sure <code>mypet</code> is a dog before letting it bark.</p>\n\n<p>This can be implemented in code by writing</p>\n\n<pre><code>class Animal {\n    int health = 100;\n    void eat(Food f) {\n        health += f.value;\n    }\n}\n\nclass Dog extends Animal { // States that \"All Dogs are Animals\"\n    // The word \"extends\" allows you to write Animal a = new Dog();\n    // \"extends\" also lets you do \"Dog a = new Dog(); a.eat()\"\n    int health = 150; // Dogs are strong\n    void bark() {\n        scareNearbyAnimals();\n    }\n}\n\nclass Poodle extends Dog {\n    // Both of these will work:\n    // Dog mydog = new Poodle();\n    // Animal mypet = new Poodle();\n    int glamor = 50; // glamorous\n}\n</code></pre>\n\n<p>The video mixed up Object vs Reference, so I'll make it more explicit with the following code</p>\n\n<p><code>\nDog a = new Dog();\nb = a;\n</code></p>\n\n<p><code>a</code> and <code>b</code> both reference the same object in this instance. If <code>Dog</code> uses a lot of memory, then <code>b = a</code> does not cause more memory to be allocated.</p>\n\n<p><code>\nb.hasEaten(); // False\na.eat();\nb.hasEaten(); // True\nb = new Dog(); // Now they are different. a does not affect b\n</code></p>\n\n<p><code>a.eat()</code> allowed the object to eat. The bits in memory have changed: the hunger value has been reset. <code>b.hasEaten()</code> checks the hunger value of the same Dog that <code>a</code> used when it was eating. <code>b = new Dog()</code> will separate them, so that <code>a</code> and <code>b</code> reference distinct dog objects. They will then no longer coupled as they were before.</p>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 8971734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xOSMDUK03oU/AAAAAAAAAAI/AAAAAAAABfw/IwIZYqg-hng/photo.jpg?sz=128", "display_name": "Alexandros Bantzos", "link": "https://stackoverflow.com/users/8971734/alexandros-bantzos"}, "is_accepted": false, "score": 0, "last_activity_date": 1538598435, "creation_date": 1538598435, "answer_id": 52635173, "question_id": 52634701, "link": "https://stackoverflow.com/questions/52634701/why-do-i-need-to-create-a-reference-of-a-class-and-then-an-object-of-b-class/52635173#52635173", "title": "why do I need to create a reference of A class, and then an object of B class", "body": "<p>Ok let me explain you.</p>\n\n<p>We want to create an object \"man\" of class Human assuming that \"man\" is a human.<br>\nWe give the human class some functions that human can do. Let's say walk, run, sit.<br>\nEach function tells the object (man) what to do.</p>\n\n<p>In the other hand, we want to create a class for Aliens to create another object. We'll name it \"alien\". Assume that alien is a humanoid so it can do whatever human can, plus some other special abilities that human cannot. For example \"fly\".</p>\n\n<p>In order to prevent it to write the exact same functions (walk, run, sit) to class Alien. we inherit the class Human so we can get the functions (walk, run, sit) from Human class.</p>\n\n<p>So let's say:\nHuman h -> the object \"h\" is a human(oid)</p>\n\n<p>But \"h\" is actually an alien so we have to define it so there comes the code:</p>\n\n<pre><code>Human h = new Alien();\n</code></pre>\n\n<p>In other words. Imagine that you have a structure like this:</p>\n\n<pre><code>Human (functions: walk, run, sit)\n -- Alien (functions: (inherit: walk, run, sit), fly)\n</code></pre>\n\n<p>Please correct me if I'm wrong.</p>\n\n<p>I hope that helps.</p>\n"}], "owner": {"reputation": 19, "user_id": 10333679, "user_type": "registered", "profile_image": "https://graph.facebook.com/1268907393251879/picture?type=large", "display_name": "\u041f\u0430\u0432\u0435\u043b \u041c\u0430\u043b\u0438\u043d\u043e\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/10333679/%d0%9f%d0%b0%d0%b2%d0%b5%d0%bb-%d0%9c%d0%b0%d0%bb%d0%b8%d0%bd%d0%be%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 52634779, "answer_count": 2, "score": -1, "last_activity_date": 1549401782, "creation_date": 1538596309, "last_edit_date": 1549401782, "question_id": 52634701, "link": "https://stackoverflow.com/questions/52634701/why-do-i-need-to-create-a-reference-of-a-class-and-then-an-object-of-b-class", "title": "why do I need to create a reference of A class, and then an object of B class", "body": "<p>I am new in programing and i am watching youtube tutorial (10:05-10:47)\n<a href=\"https://www.youtube.com/watch?v=ssAt_qrQpi0&amp;index=31&amp;list=PLsyeobzWxl7rooJFZhc3qPLwVROovGCfh\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ssAt_qrQpi0&amp;index=31&amp;list=PLsyeobzWxl7rooJFZhc3qPLwVROovGCfh</a>\nand I do not understand why we could need reference of class A and an object of class B?</p>\n\n<p>Kotlin example from that video:\nvar h: Human = Alien()</p>\n\n<p>Java example from that video\nHuman h = new Alien()</p>\n\n<p>reference of human and object of alien</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 1, "creation_date": 1538749737, "post_id": 52633804, "comment_id": 92265441, "body": "If you have same ids on both layouts you can use only one of them in import. Syntetic anyway works the same way as finviewbyid. So if id the same - it find necessary view"}], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 1954497, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6bdf22e70212e61974e5041f4f175f08?s=128&d=identicon&r=PG", "display_name": "riot", "link": "https://stackoverflow.com/users/1954497/riot"}, "edited": false, "score": 0, "creation_date": 1538634875, "post_id": 52639359, "comment_id": 92213206, "body": "I know about aliases for imports, but the fact that the targeted layout has to be named in <code>DataView</code> (import kotlinx...data_xxx...) is a problem. If later in the project I want to create a data_c.xml layout, I&#39;ll have to modify the <code>DataView</code> class where I shouldn&#39;t need."}], "tags": [], "owner": {"reputation": 329, "user_id": 1581838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pDXV.png?s=128&g=1", "display_name": "Tijee", "link": "https://stackoverflow.com/users/1581838/tijee"}, "is_accepted": false, "score": 6, "last_activity_date": 1538629512, "creation_date": 1538629512, "answer_id": 52639359, "question_id": 52633804, "link": "https://stackoverflow.com/questions/52633804/kotlin-synthetic-referencing-views-with-the-same-ids-in-several-layouts-with-dy/52639359#52639359", "title": "Kotlin Synthetic: Referencing views with the same ids in several layouts with dynamic inflating", "body": "<p>If you want to import different widgets with the same ID with Kotlin Synthetic, you can alias them in your imports:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.data_a.view.data_label as labelA\nimport kotlinx.android.synthetic.main.data_b.view.data_label as labelB\n</code></pre>\n\n<p>Then in your <code>DataView</code> you can assign your text to the <code>TextView</code> which is not null, depending on the layout you inflated:</p>\n\n<pre><code>(labelA ?: labelB)?.text = \"Foobar\"\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 1954497, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6bdf22e70212e61974e5041f4f175f08?s=128&d=identicon&r=PG", "display_name": "riot", "link": "https://stackoverflow.com/users/1954497/riot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538629512, "creation_date": 1538592364, "question_id": 52633804, "link": "https://stackoverflow.com/questions/52633804/kotlin-synthetic-referencing-views-with-the-same-ids-in-several-layouts-with-dy", "title": "Kotlin Synthetic: Referencing views with the same ids in several layouts with dynamic inflating", "body": "<p>I have two layouts: data_a.xml and data_b.xml. They are both made to display the same data, but laid out differently. Both layout have a <code>TextView</code> with the id <code>data_label</code>.</p>\n\n<p>My custom view <code>DataView</code> allows to inflate data_a.xml or data_b.xml to render my data, depending on a <code>Styleable</code> having a <code>layout</code> attribute.</p>\n\n<p>DataView.kt:</p>\n\n<pre><code>class DataView(context: Context?, attrs: AttributeSet?) : ConstraintLayout(context, attrs) {\n\n    init {\n        var layoutResId = R.layout.data_a\n        if (attrs != null) {\n            val a = context?.theme?.obtainStyledAttributes(attrs, R.styleable.DataView, 0, 0)\n            try {\n                layoutResId = a!!.getResourceId(R.styleable.DataView_layout, layoutResId)\n            } finally {\n                a?.recycle()\n            }\n        }\n        View.inflate(context, layoutResId, this)\n        data_label.text = \"Foobar\" // this won't work if I choose data_b.xml as layout\n    }\n}\n</code></pre>\n\n<p>attrs.xml:</p>\n\n<pre><code>&lt;declare-styleable name=\"DataView\"&gt;\n    &lt;attr name=\"layout\" format=\"reference\"/&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n\n<p>And this is how I choose which layout to use:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    ...\n    &lt;com.duh.DataView\n        android:id=\"@+id/data_view\"\n        app:layout=\"@layout/data_a\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"/&gt;\n</code></pre>\n\n<p>Is there a way to use Kotlin Synthetic to do this?</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 8282749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecba670f404d5eb7baaa455488cb8dab?s=128&d=identicon&r=PG&f=1", "display_name": "Camellia", "link": "https://stackoverflow.com/users/8282749/camellia"}, "is_accepted": true, "score": 0, "last_activity_date": 1538591428, "creation_date": 1538591428, "answer_id": 52633572, "question_id": 52633453, "link": "https://stackoverflow.com/questions/52633453/viewpager-content-is-not-displayed/52633572#52633572", "title": "ViewPager content is not displayed", "body": "<p>You should change the code in <code>ViewPagerAdapter</code> as following:</p>\n\n<pre><code>override fun isViewFromObject(view: View, any: Any) = any == view\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7137207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98bca426a471342785d7f9c4a3a31821?s=128&d=identicon&r=PG", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439", "link": "https://stackoverflow.com/users/7137207/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 52633572, "answer_count": 1, "score": 0, "last_activity_date": 1538591526, "creation_date": 1538590985, "last_edit_date": 1538591526, "question_id": 52633453, "link": "https://stackoverflow.com/questions/52633453/viewpager-content-is-not-displayed", "title": "ViewPager content is not displayed", "body": "<p>The problem is that I don't see the contents of the ViewPager. I even tried to find a suitable project in Java and rewrite to Kotlin. All projects in Java perfectly display ViewPager, with Kotlin it doesn't work.</p>\n\n<p>The layout of the main activity:</p>\n\n<pre><code>&lt;RelativeLayoutxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=\"@+id/viewPager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_above=\"@+id/viewPagerDots\" /&gt;\n</code></pre>\n\n<p>Layout of view_pager_item:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_marginTop=\"50dp\"\n        android:layout_marginLeft=\"@dimen/activity_horizontal_margin\"\n        android:layout_marginRight=\"@dimen/activity_horizontal_margin\"\n        android:paddingTop=\"8dp\"\n        android:paddingBottom=\"8dp\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/ob_banner_height\"\n        android:gravity=\"center\"\n        android:scaleType=\"fitXY\"\n        android:src=\"@drawable/first_image_item\"\n        android:contentDescription=\"@string/app_name\"/&gt;\n\n        &lt;LinearLayout\n            android:orientation=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewTitle\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"center\"\n                android:paddingLeft=\"@dimen/ob_desc_padding\"\n                android:paddingRight=\"@dimen/ob_desc_padding\"\n                android:text=\"@string/app_name\"\n                android:textAllCaps=\"true\"\n                android:textColor=\"@color/colorAccent\"\n                android:textSize=\"@dimen/ob_header_text_size\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewDescription\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"20dp\"\n                android:gravity=\"center\"\n                android:paddingLeft=\"@dimen/ob_desc_padding\"\n                android:paddingRight=\"@dimen/ob_desc_padding\"\n                android:text=\"@string/app_name\"\n                android:textColor=\"@color/colorAccent\"\n                android:textSize=\"@dimen/ob_desc_text_size\" /&gt;\n        &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Code of ViewPagerAdapter:</p>\n\n<pre><code>   class ViewPagerAdapter(private var context: Context, private var viewPagerItems: ArrayList&lt;ViewPagerItem&gt;): PagerAdapter() {\n\n    override fun getCount() = viewPagerItems.size\n\n    override fun isViewFromObject(view: View, `object`: Any) = `object` === Any()\n\n    override fun instantiateItem(container: ViewGroup, position: Int): Any {\n        val view = LayoutInflater.from(context).inflate(R.layout.view_pager_item, container, false)\n\n        val item = viewPagerItems[position]\n\n        val imageView = view.findViewById&lt;ImageView&gt;(R.id.imageView)\n        imageView.setImageResource(item.imageId)\n\n        val textViewTitle = view.findViewById&lt;TextView&gt;(R.id.textViewTitle)\n        textViewTitle.text = item.title\n\n        val textViewDescription = view.findViewById&lt;TextView&gt;(R.id.textViewDescription)\n        textViewDescription.text = item.description\n\n        container.addView(view)\n\n        return view\n    }\n\n    override fun destroyItem(container: ViewGroup, position: Int, `object`: Any) {\n        container.removeView(`object` as LinearLayout)\n    }\n}\n</code></pre>\n\n<p>ViewPagerItem is the usual data class:</p>\n\n<pre><code>    data class ViewPagerItem(\n    val imageId: Int,\n    val title: String,\n    val description: String)\n</code></pre>\n\n<p>MainActivity class:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate lateinit var viewPagerAdapter: ViewPagerAdapter\nprivate lateinit var viewPager: ViewPager\nprivate lateinit var buttonNext: Button\n\nprivate lateinit var pagerIndicator: LinearLayout\nprivate lateinit var dots: Array&lt;ImageView?&gt;\n\nprivate var previousPosition = 0\nprivate var dotsCount: Int = 3\n\nprivate var viewPagerItems: ArrayList&lt;ViewPagerItem&gt; = arrayListOf()\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    buttonNext = findViewById(R.id.buttonNext)\n    viewPager = findViewById(R.id.viewPager)\n    pagerIndicator = findViewById(R.id.viewPagerDots)\n\n    initializeData()\n\n    viewPagerAdapter = ViewPagerAdapter(this, viewPagerItems)\n    viewPager.adapter = viewPagerAdapter\n\n    setUiViewPagerController()\n\n    viewPager.currentItem = 0\n    viewPager.addOnPageChangeListener(object : ViewPager.OnPageChangeListener {\n        override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {}\n\n        override fun onPageSelected(position: Int) {\n            for (i in 0 until dotsCount) {\n                dots[i]?.setImageDrawable(ContextCompat.getDrawable(this@MainActivity, R.drawable.non_selected_view_pager_item))\n            }\n\n            dots[position]?.setImageDrawable(ContextCompat.getDrawable(this@MainActivity, R.drawable.selected_view_pager_item))\n\n\n            val pos = position + 1\n\n            if (pos == dotsCount &amp;&amp; previousPosition == dotsCount - 1)\n                showAnimation()\n            else if (pos == dotsCount - 1 &amp;&amp; previousPosition == dotsCount)\n                hideAnimation()\n\n            previousPosition = pos\n        }\n\n        override fun onPageScrollStateChanged(state: Int) {}\n    })\n\n    buttonNext.setOnClickListener {\n        Toast.makeText(this@MainActivity, \"Redirect to wherever you want\", Toast.LENGTH_LONG).show()\n    }\n}\n\nprivate fun initializeData() {\n    val titles = intArrayOf(R.string.app_name, R.string.app_name, R.string.app_name)\n    val descriptions = intArrayOf(R.string.app_name, R.string.app_name, R.string.app_name)\n    val images = intArrayOf(R.drawable.first_image_item, R.drawable.onboard_page2, R.drawable.onboard_page3)\n\n    for (i in images.indices) {\n        val item = ViewPagerItem(\n                images[i],\n                resources.getString(titles[i]),\n                resources.getString(descriptions[i]))\n\n        viewPagerItems.add(item)\n    }\n}\n\nfun showAnimation() {\n    ...\n}\n\nfun hideAnimation() {\n    ...\n}\n\nprivate fun setUiViewPagerController() {\n    dotsCount = viewPagerAdapter.count\n    dots = arrayOfNulls(dotsCount)\n\n    for (i in 0 until dotsCount) {\n        dots[i] = ImageView(this)\n        dots[i]?.setImageDrawable(ContextCompat.getDrawable(this@MainActivity, R.drawable.non_selected_view_pager_item))\n\n        val params = LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.WRAP_CONTENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT\n        )\n\n        params.setMargins(6, 0, 6, 0)\n\n        pagerIndicator.addView(dots[i], params)\n    }\n\n    dots[0]?.setImageDrawable(ContextCompat.getDrawable(this@MainActivity, R.drawable.selected_view_pager_item))\n}\n}\n</code></pre>\n"}, {"tags": ["java", "android", "reflection", "kotlin", "annotations"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 0, "last_activity_date": 1538631044, "creation_date": 1538631044, "answer_id": 52639616, "question_id": 52632768, "link": "https://stackoverflow.com/questions/52632768/wrap-a-method-in-commands-using-annotation-processing/52639616#52639616", "title": "Wrap a method in commands using Annotation Processing", "body": "<p>You could provide the tasks via a higher order function - a wrapper function:</p>\n\n<pre><code>inline fun &lt;T&gt; wrapFunction(before: Task? = null, after: Task? = null, body: () -&gt; T): T =\n    try {\n        before?.run()\n        body()\n    } finally {\n        after?.run()\n    }\n\nfun something(blah: String)  = wrapFunction(before = BeforeTask, after = AfterTask)  {\n    println(\"Something\")\n}\n</code></pre>\n\n<p>This requires no extra tools and is refactoring safe.\nIf you not provide a <code>before</code> or <code>after</code> parameter the Kotlin compiler will not even generate the <code>null</code>-check, due to dead code elimination (abstractions without costs).</p>\n"}], "owner": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538631044, "creation_date": 1538588353, "last_edit_date": 1538589778, "question_id": 52632768, "link": "https://stackoverflow.com/questions/52632768/wrap-a-method-in-commands-using-annotation-processing", "title": "Wrap a method in commands using Annotation Processing", "body": "<p>I have a bunch of tasks that need to be performed before and after a method call.</p>\n\n<p>My approach is to use annotation processing, and a custom annotation to do this.</p>\n\n<pre><code>@BeforeSomething(task = 'something')\n@AfterSomething(task = 'something else')\nfun something(blah: Something) {\n  Log.d(\"Something\", \"Something $blah\")\n}\n</code></pre>\n\n<p>So that the end output from just running this method could be like:</p>\n\n<pre><code>Before task, options 'something'\nSomething blahblahblah\nAfter task, options 'somethign else'\n</code></pre>\n\n<p>Whats the best way to do this?  I've looked into AspectJ but thats not working with Kotlin.  I've also looked into Lombok, but I can't use that library.</p>\n"}, {"tags": ["function", "kotlin", "return-type"], "comments": [{"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1538584970, "post_id": 52631827, "comment_id": 92197028, "body": "Show us your code that causes the error. Where does <code>kotlin.Result</code> come from? I cannot find that class in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/index.html\" rel=\"nofollow noreferrer\">standard library</a>."}, {"owner": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "reply_to_user": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1538585859, "post_id": 52631827, "comment_id": 92197496, "body": "Try kotlin 1.3 or newer"}], "answers": [{"comments": [{"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "edited": false, "score": 2, "creation_date": 1544209592, "post_id": 52632328, "comment_id": 94208594, "body": "can you please add a snippet about how it can be done in gradle?"}, {"owner": {"reputation": 13925, "user_id": 178433, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f0a7931509fe208105cdeec791c7ed04?s=128&d=identicon&r=PG", "display_name": "gMale", "link": "https://stackoverflow.com/users/178433/gmale"}, "edited": false, "score": 0, "creation_date": 1546616253, "post_id": 52632328, "comment_id": 94919026, "body": "the <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/result.md#future-advancements\" rel=\"nofollow noreferrer\">&#39;future advancements&#39; section of that KEEP</a> explains some of the potential breaking changes that motivated these limitations"}, {"owner": {"reputation": 81, "user_id": 5401098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d717cb92c961fb4c496d12a1e48f6100?s=128&d=identicon&r=PG&f=1", "display_name": "lecker909", "link": "https://stackoverflow.com/users/5401098/lecker909"}, "edited": false, "score": 0, "creation_date": 1589196463, "post_id": 52632328, "comment_id": 109187470, "body": "Alternatively, you could use a different implementation of the Result type provided by  <a href=\"https://github.com/michaelbull/kotlin-result\" rel=\"nofollow noreferrer\">github.com/michaelbull/kotlin-result</a> or <a href=\"https://github.com/kittinunf/Result\" rel=\"nofollow noreferrer\">github.com/kittinunf/Result</a>"}], "tags": [], "owner": {"reputation": 1651, "user_id": 992380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G7SKc.jpg?s=128&g=1", "display_name": "Alexey Belkov", "link": "https://stackoverflow.com/users/992380/alexey-belkov"}, "is_accepted": true, "score": 69, "last_activity_date": 1602571656, "last_edit_date": 1602571656, "creation_date": 1538586654, "answer_id": 52632328, "question_id": 52631827, "link": "https://stackoverflow.com/questions/52631827/why-cant-kotlin-result-be-used-as-a-return-type/52632328#52632328", "title": "Why can&#39;t &#39;kotlin.Result&#39; be used as a return type?", "body": "<p>From the <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/result.md#limitations\" rel=\"noreferrer\">Kotlin KEEP</a>:</p>\n<blockquote>\n<p>The rationale behind these limitations is that future versions of\nKotlin may expand and/or change semantics of functions that return\nResult type and null-safety operators may change their semantics when\nused on values of Result type. In order to avoid breaking existing\ncode in the future releases of Kotin and leave door open for those\nchanges, the corresponding uses produce an error now. Exceptions to\nthis rule are made for carefully-reviewed declarations in the standard\nlibrary that are part of the Result type API itself.</p>\n</blockquote>\n<p><strong>Note:</strong> if you just want to experiment with the <code>Result</code> type you can bypass this limitation by supplying a Kotlin compiler argument <code>-Xallow-result-return-type</code>.</p>\n<p><strong>When using Gradle on Java or Android project:</strong>\nDefine the compiler argument on Kotlin compilation task. It applies both for production code and tests.</p>\n<pre><code>tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = freeCompilerArgs + &quot;-Xallow-result-return-type&quot;\n    }\n}\n</code></pre>\n<p><strong>When using Gradle on Multiplatform project:</strong>\nDefine the compiler argument for each target compilation. It applies both for production code and tests.</p>\n<pre><code>kotlin {\n    targets.all {\n        compilations.all {\n            kotlinOptions {\n                freeCompilerArgs = freeCompilerArgs + &quot;-Xallow-result-return-type&quot;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 391, "user_id": 1430422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcaddab560bd62b551e221878478e70?s=128&d=identicon&r=PG", "display_name": "Micha", "link": "https://stackoverflow.com/users/1430422/micha"}, "edited": false, "score": 0, "creation_date": 1610401419, "post_id": 53684679, "comment_id": 116116857, "body": "Kotlin DSL: <code>freeCompilerArgs = listOf(&quot;-Xallow-result-return-type&quot;)</code>"}], "tags": [], "owner": {"reputation": 501, "user_id": 6146830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88232773ef8ca3195d05a200f42b70cc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u043b\u044c\u0441\u0443\u0440 \u0418\u0431\u0440\u0430\u0433\u0438\u043c\u043e\u0432", "link": "https://stackoverflow.com/users/6146830/%d0%98%d0%bb%d1%8c%d1%81%d1%83%d1%80-%d0%98%d0%b1%d1%80%d0%b0%d0%b3%d0%b8%d0%bc%d0%be%d0%b2"}, "is_accepted": false, "score": 40, "last_activity_date": 1544287451, "creation_date": 1544287451, "answer_id": 53684679, "question_id": 52631827, "link": "https://stackoverflow.com/questions/52631827/why-cant-kotlin-result-be-used-as-a-return-type/53684679#53684679", "title": "Why can&#39;t &#39;kotlin.Result&#39; be used as a return type?", "body": "<pre><code>android {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xallow-result-return-type\"]\n    }\n}\n</code></pre>\n\n<p>If you using android this solution for gradle</p>\n"}, {"tags": [], "owner": {"reputation": 5972, "user_id": 261363, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9965204e5fcfc7437ad7c7a1039df909?s=128&d=identicon&r=PG", "display_name": "Calin", "link": "https://stackoverflow.com/users/261363/calin"}, "is_accepted": false, "score": 8, "last_activity_date": 1560015000, "creation_date": 1560015000, "answer_id": 56508663, "question_id": 52631827, "link": "https://stackoverflow.com/questions/52631827/why-cant-kotlin-result-be-used-as-a-return-type/56508663#56508663", "title": "Why can&#39;t &#39;kotlin.Result&#39; be used as a return type?", "body": "<p>If using maven:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n        &lt;args&gt;\n            &lt;arg&gt;-Xallow-result-return-type&lt;/arg&gt;\n        &lt;/args&gt;\n    &lt;/configuration&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n</code></pre>\n\n<p>If using gradle:</p>\n\n<pre><code>compileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n    kotlinOptions.freeCompilerArgs = [\"-Xallow-result-return-type\"]\n\n\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n    kotlinOptions.freeCompilerArgs = [\"-Xallow-result-return-type\"]\n}\n</code></pre>\n\n<p>Source: <a href=\"http://rustyrazorblade.com/post/2018/2018-12-06-kotlin-result/\" rel=\"noreferrer\">http://rustyrazorblade.com/post/2018/2018-12-06-kotlin-result/</a></p>\n"}], "owner": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23974, "favorite_count": 7, "accepted_answer_id": 52632328, "answer_count": 3, "score": 101, "last_activity_date": 1602571656, "creation_date": 1538584581, "last_edit_date": 1601484524, "question_id": 52631827, "link": "https://stackoverflow.com/questions/52631827/why-cant-kotlin-result-be-used-as-a-return-type", "title": "Why can&#39;t &#39;kotlin.Result&#39; be used as a return type?", "body": "<p>I've created a method, and the return is <code>Result&lt;R&gt;</code> in a class of <code>MyClass&lt;R&gt;</code>, but the error message is: 'kotlin.Result' cannot be used as a return type</p>\n<p>I've also looked into the Result source code for some hints; why is this so?</p>\n<p><a href=\"https://try.kotlinlang.org/#/UserProjects/ueeogpr0cqnovot7o4ooa42dv5/l9qidpqj9pf1i7rablka4u5qjt\" rel=\"noreferrer\">Test code</a> (using v. 1.3-RC).</p>\n<pre><code>class MyClass&lt;R&gt;(val r: R) {\n    fun f(): Result&lt;R&gt; { // error here\n        return Result.success(r)\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val s = Result.success(1)\n    val m = MyClass(s)   \n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1538584240, "post_id": 52631581, "comment_id": 92196695, "body": "Have you read the exception message?"}, {"owner": {"reputation": 340, "user_id": 7295614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-41wQ5grLh1I/AAAAAAAAAAI/AAAAAAAAANk/nuixAjU9ikE/photo.jpg?sz=128", "display_name": "niclaszll", "link": "https://stackoverflow.com/users/7295614/niclaszll"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538584481, "post_id": 52631581, "comment_id": 92196809, "body": "@akarnokd Yes, I think I understand what the problem is. The exception doesn&#39;t reach it&#39;s destination. But I don&#39;t really understand how to fix it in the context of RxJava. :/"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1538584558, "post_id": 52631581, "comment_id": 92196843, "body": "There is a link in the error message pointing to the wiki to read."}, {"owner": {"reputation": 340, "user_id": 7295614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-41wQ5grLh1I/AAAAAAAAAAI/AAAAAAAAANk/nuixAjU9ikE/photo.jpg?sz=128", "display_name": "niclaszll", "link": "https://stackoverflow.com/users/7295614/niclaszll"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538586157, "post_id": 52631581, "comment_id": 92197646, "body": "I tried to understand it, but for example I have no clue where to override the ErrorHandling of RxJava. Thank you for your help"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1538586456, "post_id": 52631581, "comment_id": 92197801, "body": "There is an example of that in the wiki section: search for <code>RxJavaPlugins.setErrorHandler</code>."}, {"owner": {"reputation": 340, "user_id": 7295614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-41wQ5grLh1I/AAAAAAAAAAI/AAAAAAAAANk/nuixAjU9ikE/photo.jpg?sz=128", "display_name": "niclaszll", "link": "https://stackoverflow.com/users/7295614/niclaszll"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538586856, "post_id": 52631581, "comment_id": 92197998, "body": "I read that part, but I don&#39;t know how to implement it globally. Where do I have to put this code to get It working for all RxJava error cases?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1538587077, "post_id": 52631581, "comment_id": 92198114, "body": "That&#39;s a global handler, define it somewhere early in your application&#39;s lifecycle."}, {"owner": {"reputation": 340, "user_id": 7295614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-41wQ5grLh1I/AAAAAAAAAAI/AAAAAAAAANk/nuixAjU9ikE/photo.jpg?sz=128", "display_name": "niclaszll", "link": "https://stackoverflow.com/users/7295614/niclaszll"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538587710, "post_id": 52631581, "comment_id": 92198443, "body": "Unfortunately the crashes persist, but thank you nonetheless. Maybe I will figure it out in the future, when I&#39;m a bit more familiar with Rx."}], "answers": [{"comments": [{"owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "edited": false, "score": 1, "creation_date": 1575306220, "post_id": 52633194, "comment_id": 104513393, "body": "With Kotlin it is much simplier <code>RxJavaPlugins.setErrorHandler {}</code>"}], "tags": [], "owner": {"reputation": 765, "user_id": 10409130, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lB30Ds0jKYM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVjPiRt5ydBAu9uMxR5wz9fBQBuXg/mo/photo.jpg?sz=128", "display_name": "DenZap", "link": "https://stackoverflow.com/users/10409130/denzap"}, "is_accepted": true, "score": 44, "last_activity_date": 1544898414, "last_edit_date": 1544898414, "creation_date": 1538589896, "answer_id": 52633194, "question_id": 52631581, "link": "https://stackoverflow.com/questions/52631581/rxjava2-undeliverableexception-when-orientation-change-is-happening-while-fetchi/52633194#52633194", "title": "RxJava2 UndeliverableException when orientation change is happening while fetching data", "body": "<p>You can override Rx Error Handler with following way:</p>\n\n<ol>\n<li>Extends Application class with your custom MyApplication.</li>\n<li><p>Then write this in onCreate method of your application class:</p>\n\n<pre><code>@Override\npublic void onCreate() {\n    super.onCreate();\n    RxJavaPlugins.setErrorHandler(throwable -&gt; {}); // nothing or some logging\n}\n</code></pre></li>\n<li><p>Add MyApplication class to Manifest:</p>\n\n<pre><code>&lt;application\n    android:name=\".MyApplication\"\n    ...&gt;\n</code></pre></li>\n</ol>\n\n<p>For more information, please take a look at <a href=\"https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#error-handling\" rel=\"noreferrer\">RxJava Wiki</a></p>\n"}, {"tags": [], "owner": {"reputation": 622, "user_id": 968538, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/It4Nr.png?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/968538/christian"}, "is_accepted": false, "score": -5, "last_activity_date": 1542785617, "creation_date": 1542785617, "answer_id": 53407210, "question_id": 52631581, "link": "https://stackoverflow.com/questions/52631581/rxjava2-undeliverableexception-when-orientation-change-is-happening-while-fetchi/53407210#53407210", "title": "RxJava2 UndeliverableException when orientation change is happening while fetching data", "body": "<p>May be (not tested), there is a possibility to change onError in the Observable with onNext(tag), tag making a difference between \"normal onNext\" and \"error onNext\" (replacing the on Error).</p>\n\n<p>onNext(0) => is due to an Exception (you can get the Exception through a public static String)</p>\n\n<p>onNext(1) => no error</p>\n\n<p>emitter.onError(ex);  =>  emitter.onNext(0);</p>\n\n<p>and in the Observer :</p>\n\n<pre><code>@Override\npublic void onNext(Integer message) {\n    if (message ==0 )\n        handleError();\n    else\n        handleNext();\n}\n</code></pre>\n\n<p>Of course, it's not very \"clean\", but it can solve the problem...</p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 6247186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ockk6.jpg?s=128&g=1", "display_name": "Hamed Jaliliani", "link": "https://stackoverflow.com/users/6247186/hamed-jaliliani"}, "is_accepted": false, "score": 3, "last_activity_date": 1581496714, "creation_date": 1581496714, "answer_id": 60184193, "question_id": 52631581, "link": "https://stackoverflow.com/questions/52631581/rxjava2-undeliverableexception-when-orientation-change-is-happening-while-fetchi/60184193#60184193", "title": "RxJava2 UndeliverableException when orientation change is happening while fetching data", "body": "<p>For catch this kind of errors that may raise by 3rd pary library or your own code use RxJavaPlugins and in the fun or ... that you used Rx write this code and tha uncatched rx error will be delivered to this code, so must check the exception type:</p>\n\n<pre><code>RxJavaPlugins.setErrorHandler {\n        if( it is  UndeliverableException){\n            Toast.makeText(view?.getContext(), \"UndeliverableException: \" + it.message, Toast.LENGTH_LONG).show()\n            return@setErrorHandler\n        }\n    }\n</code></pre>\n\n<p>for the reference check this link:\n<a href=\"https://proandroiddev.com/rxjava2-undeliverableexception-f01d19d18048\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}], "owner": {"reputation": 340, "user_id": 7295614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-41wQ5grLh1I/AAAAAAAAAAI/AAAAAAAAANk/nuixAjU9ikE/photo.jpg?sz=128", "display_name": "niclaszll", "link": "https://stackoverflow.com/users/7295614/niclaszll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15194, "favorite_count": 5, "accepted_answer_id": 52633194, "answer_count": 3, "score": 13, "last_activity_date": 1581496714, "creation_date": 1538583619, "last_edit_date": 1538584563, "question_id": 52631581, "link": "https://stackoverflow.com/questions/52631581/rxjava2-undeliverableexception-when-orientation-change-is-happening-while-fetchi", "title": "RxJava2 UndeliverableException when orientation change is happening while fetching data", "body": "<p>I get the following error, if I change the orientation of my device while my app is fetching new redditNews. </p>\n\n<pre><code>  E/AndroidRuntime: FATAL EXCEPTION: RxCachedThreadScheduler-1\n    Process: com.spicywdev.schmeddit, PID: 26522\n    io.reactivex.exceptions.UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with. Further reading: https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0#error-handling | null\n        at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\n        at io.reactivex.internal.operators.observable.ObservableCreate$CreateEmitter.onError(ObservableCreate.java:73)\n        at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:43)\n        at io.reactivex.Observable.subscribe(Observable.java:12090)\n        at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\n        at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)\n        at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n        at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n        at java.lang.Thread.run(Thread.java:762)\n     Caused by: java.io.InterruptedIOException\n        at okhttp3.internal.http2.Http2Stream.waitForIo(Http2Stream.java:579)\n        at okhttp3.internal.http2.Http2Stream.takeResponseHeaders(Http2Stream.java:143)\n        at okhttp3.internal.http2.Http2Codec.readResponseHeaders(Http2Codec.java:125)\n        at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\n        at okhttp3.RealCall.execute(RealCall.java:77)\n        at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)\n        at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:91)\n        at com.spicywdev.schmeddit.features.news.NewsManager$getNews$1.subscribe(NewsManager.kt:16)\n        at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)\n</code></pre>\n\n<p>That's what the class looks like. Error happens in function <code>requestNews()</code>.</p>\n\n<pre><code>class NewsFragment : RxBaseFragment() {\n\n    companion object {\n        private val KEY_REDDIT_NEWS = \"redditNews\"\n    }\n\n    private var redditNews: RedditNews? = null\n    private val newsManager by lazy { NewsManager() }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return container?.inflate(R.layout.news_fragment)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        news_list.apply {\n            setHasFixedSize(true)\n            val linearLayoutManager = LinearLayoutManager(context)\n            layoutManager = linearLayoutManager\n            clearOnScrollListeners()\n            addOnScrollListener(InfiniteScrollListener({ requestNews()}, linearLayoutManager))\n        }\n\n        initAdapter()\n\n        if (savedInstanceState != null &amp;&amp; savedInstanceState.containsKey(KEY_REDDIT_NEWS)) {\n            redditNews = savedInstanceState.get(KEY_REDDIT_NEWS) as RedditNews\n            (news_list.adapter as NewsAdapter).clearAndAddNews(redditNews!!.news)\n        } else {\n            requestNews()\n        }\n    }\n\n    override fun onSaveInstanceState(outState: Bundle) {\n        super.onSaveInstanceState(outState)\n        val news = (news_list.adapter as NewsAdapter).getNews()\n        if (redditNews != null &amp;&amp; news.isNotEmpty()) {\n            outState.putParcelable(KEY_REDDIT_NEWS, redditNews?.copy(news = news))\n        }\n    }\n\n    private fun requestNews() {\n        /**\n         * first time will send empty string for after parameter.\n         * Next time we will have redditNews set with the next page to\n         * navigate with the after param.\n         */\n        val subscription = newsManager.getNews(redditNews?.after ?: \"\")\n            .subscribeOn(Schedulers.io())\n            .subscribe(\n                {\n                    retrievedNews -&gt;\n                    redditNews = retrievedNews\n                    (news_list.adapter as NewsAdapter).addNews(retrievedNews.news)\n                },\n                {\n                    e -&gt; Snackbar.make(news_list, e.message ?: \"WZF\", Snackbar.LENGTH_LONG).show()\n                }\n        )\n        subscriptions.add(subscription)\n    }\n\n\n    private fun initAdapter() {\n        if (news_list.adapter == null) {\n            news_list.adapter = NewsAdapter()\n        }\n    }\n}\n</code></pre>\n\n<p>I'm pretty new to RxJava - I'd be really glad if someone can help me with this. Thank you.       </p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rxbluetooth"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538584502, "post_id": 52631568, "comment_id": 92196817, "body": "What information are you trying to get? What is the input to that <code>flatMap</code>? Why do you use <code>flatMap</code>?"}, {"owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538585323, "post_id": 52631568, "comment_id": 92197227, "body": "There is Observable&lt;ByteArray&gt; and i need that ByteArray. Iam using flatMap to get rid of Observable."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538585854, "post_id": 52631568, "comment_id": 92197493, "body": "It should be <code>flatMap { it }</code> or <code>concatMap { it }</code>."}, {"owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538586052, "post_id": 52631568, "comment_id": 92197596, "body": "look at my code. I have flatMap{ it }"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538586352, "post_id": 52631568, "comment_id": 92197754, "body": "Yes I saw that. What is the problem then? Maybe that inner <code>Observable</code> has no data to work with after the flattening."}, {"owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538586630, "post_id": 52631568, "comment_id": 92197886, "body": "it has for sure because before this notification iam writing data to another charactics and this just should gave me how it end up. I have tried concatMap but i got same result. It just wont continue to next method <code>.doOnNext{                     Timber.d(&quot;this is called&quot;)                 }.concatMap {                     it                 }.doOnNext{                     Timber.d(&quot;aaaaaaaaa&quot;)                 }</code> &quot;aaaaa&quot; is never called"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538586914, "post_id": 52631568, "comment_id": 92198028, "body": "Try <code>concatMap { it.subscribeOn(Schedulers.io()) }</code>."}, {"owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538587135, "post_id": 52631568, "comment_id": 92198151, "body": "same result. nothing."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1538587980, "post_id": 52631568, "comment_id": 92198572, "body": "I think you simply don&#39;t get data. You check if <code>it</code> actually does produce items: <code>it.doOnNext { System.out.println(&quot;Data!&quot;) }</code>."}], "owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567861927, "creation_date": 1538583583, "last_edit_date": 1567861927, "question_id": 52631568, "link": "https://stackoverflow.com/questions/52631568/extracting-data-via-flatmap-does-not-call-subscribe", "title": "Extracting Data via flatMap does not call subscribe", "body": "<p>I am trying to extract information from observable with <code>flatMap</code> but it won't call subscribe after that. When I return <code>Observable.just(it)</code> from <code>flatMap</code> subscribe is called as expected but then I am not able to get the information.</p>\n\n<pre><code>conn.setupNotification(UUID_GATT_DFU_DEVICE_FIRMWARE_UPDATE_STATUS, NotificationSetupMode.COMPAT)\n                .subscribeOn(Schedulers.newThread())\n                .doOnNext{\n                    Timber.d(\"this is called\")\n                }\n                .flatMap {\n                    Timber.d(\"this is called\")\n                    //Observable.just(it) with this subscribe is called\n                    it\n                }\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(\n                    { status -&gt;\n                        Timber.d(\"NOTIFY RESPONSE STATUS: @@@ $status\")\n                    },\n                    {\n                        Timber.d(it)\n                    },\n                    {\n                        Timber.d(\"ON COMPLETE notify observer\")\n                    }\n                ).also {\n                    notificationDisposable.add(it)\n                }\n</code></pre>\n\n<p>what am I doing wrong? I need to extract the observable but how when flatMap doesn't work as expected? I also tried another subscribe in onNext method but it also didn't work.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1538580555, "post_id": 52630490, "comment_id": 92194633, "body": "Same error with <code>java.lang.Integer.parseInt</code>, will update question to reflect."}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 7, "last_activity_date": 1617524253, "last_edit_date": 1617524253, "creation_date": 1538581481, "answer_id": 52630951, "question_id": 52630490, "link": "https://stackoverflow.com/questions/52630490/hexstring-toint32-numberformatexception/52630951#52630951", "title": "hexString.toInt(32) NumberFormatException", "body": "<p>First off, you seem to have misunderstood the radix, which is the second argument in <code>valueOf</code> and <code>parseInt</code>, and the only argument with the extension function <code>toInt</code>. It doesn't represent the bits in the target number type, it tells the method how to convert your string by informing it of what <a href=\"https://en.wikipedia.org/wiki/Radix\" rel=\"nofollow noreferrer\">base</a> it's operating in. Note that there is a second problem, which I will get back to later.</p>\n<p>Radix is the base number of the underlying number system. By default it's 10 (the 0-arg <code>toInt()</code> method. <code>toInt()</code> calls <code>parseInt</code>, which looks like this:</p>\n<blockquote>\n<pre><code>public static int parseInt(String s) throws NumberFormatException {\n    return parseInt(s,10);\n}\n</code></pre>\n</blockquote>\n<p>As you see, it uses radix = 10. Again, the bits of the number type isn't relevant here. <a href=\"https://en.wikipedia.org/wiki/Radix#In_numeral_systems\" rel=\"nofollow noreferrer\">Wikipedia</a> covers it pretty well, and Java follows more or less the same system. As you see, 16 corresponds to hex. So the appropriate radix to use here is 16.</p>\n<p><strong>However,</strong> like I mentioned, there's a second problem. It will still crash, because the value can't be parsed. The resulting number is <code>3340525056</code>, which is more than the max int value, which is 2147483647.</p>\n<p>Which means, you can't use any of the int methods; you'll need to use <code>Long</code> ones.</p>\n<p>So, for your case, this is fine:</p>\n<pre><code>val x = &quot;C71C5E00&quot;.toLong(16)\n</code></pre>\n<p>Again, the radix is the number system to use, not the amount of bits in the resulting number. If it was, you'd need to use 64 for longs.</p>\n<p>Bonus: ints and longs have a pre-determined amount of bits. By using <code>toInt()</code>, you're already implicitly requesting 32 bits. with a Long, you're requesting 64 bits.</p>\n"}], "owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 1, "accepted_answer_id": 52630951, "answer_count": 1, "score": 4, "last_activity_date": 1617524282, "creation_date": 1538580136, "last_edit_date": 1617524282, "question_id": 52630490, "link": "https://stackoverflow.com/questions/52630490/hexstring-toint32-numberformatexception", "title": "hexString.toInt(32) NumberFormatException", "body": "<p>I have a 32-bit hex value that I wish to convert to an integer.</p>\n\n<p>The following methods both provide the following error given the hex string <code>C71C5E00</code>: </p>\n\n<blockquote>\n  <p>java.lang.NumberFormatException: For input string: \"C71C5E00\"</p>\n</blockquote>\n\n<pre><code>\"C71C5E00\".toInt(32)\nInteger.valueOf(\"C71C5E00\", 32)\n</code></pre>\n\n<p>The Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html\" rel=\"nofollow noreferrer\">docs</a> state that an Int <em>Represents a 32-bit signed integer</em>, so it's not that the value is too large to pack into an Int. I've tried, in vain, prepending <code>0x</code> to the string.</p>\n\n<p><strong>EDIT:</strong> As per <a href=\"https://stackoverflow.com/questions/41651704/kotlin-parse-hex-string-to-long\">this</a> question I've attempted:</p>\n\n<pre><code>java.lang.Integer.parseInt(\"C71C5E00\", 32)\n</code></pre>\n\n<p>Unfortunately, I am still receiving the same error.</p>\n\n<p>I don't often touch Android or Kotlin so forgive my ignorance.</p>\n"}, {"tags": ["xml", "kotlin", "jackson", "deserialization", "fasterxml"], "comments": [{"owner": {"reputation": 7676, "user_id": 7248342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWVBN.png?s=128&g=1", "display_name": "Thomas Fritsch", "link": "https://stackoverflow.com/users/7248342/thomas-fritsch"}, "edited": false, "score": 0, "creation_date": 1538580899, "post_id": 52629114, "comment_id": 92194846, "body": "You can by annotating with <code>@JsonIgnoreProperties(ignoreUnknown=true)</code>"}, {"owner": {"reputation": 1, "user_id": 10451721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oc7Qb.png?s=128&g=1", "display_name": "Ed Jeffreys", "link": "https://stackoverflow.com/users/10451721/ed-jeffreys"}, "reply_to_user": {"reputation": 7676, "user_id": 7248342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWVBN.png?s=128&g=1", "display_name": "Thomas Fritsch", "link": "https://stackoverflow.com/users/7248342/thomas-fritsch"}, "edited": false, "score": 0, "creation_date": 1538645993, "post_id": 52629114, "comment_id": 92219339, "body": "@ThomasFritsch That&#39;s done the trick! Thanks for your help!"}], "owner": {"reputation": 1, "user_id": 10451721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oc7Qb.png?s=128&g=1", "display_name": "Ed Jeffreys", "link": "https://stackoverflow.com/users/10451721/ed-jeffreys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538580685, "creation_date": 1538576225, "last_edit_date": 1538580685, "question_id": 52629114, "link": "https://stackoverflow.com/questions/52629114/jackson-xml-deserialization-of-specified-tags-only", "title": "Jackson XML deserialization of specified tags only", "body": "<p>I am currently attempting to deserialize an RSS channel using Jackson FasterXML on Kotlin.</p>\n\n<p>An RSS feed looks like the following: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;?xml-stylesheet title=\"XSL_formatting\" type=\"text/xsl\" href=\"/shared/bsp/xsl/rss/nolsol.xsl\"?&gt;\n&lt;rss xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:content=\"http://purl.org/rss/1.0/modules/content/\" xmlns:atom=\"http://www.w3.org/2005/Atom\" version=\"2.0\" xmlns:media=\"http://search.yahoo.com/mrss/\"&gt;\n    &lt;channel&gt;\n        &lt;title&gt;&lt;![CDATA[BBC News - Home]]&gt;&lt;/title&gt;\n        &lt;description&gt;&lt;![CDATA[BBC News - Home]]&gt;&lt;/description&gt;\n        &lt;link&gt;https://www.bbc.co.uk/news/&lt;/link&gt;\n        &lt;image&gt;\n            &lt;url&gt;https://news.bbcimg.co.uk/nol/shared/img/bbc_news_120x60.gif&lt;/url&gt;\n            &lt;title&gt;BBC News - Home&lt;/title&gt;\n            &lt;link&gt;https://www.bbc.co.uk/news/&lt;/link&gt;\n        &lt;/image&gt;\n        &lt;generator&gt;RSS for Node&lt;/generator&gt;\n        &lt;lastBuildDate&gt;Wed, 03 Oct 2018 13:30:27 GMT&lt;/lastBuildDate&gt;\n        &lt;copyright&gt;&lt;![CDATA[Copyright: (C) British Broadcasting Corporation, see http://news.bbc.co.uk/2/hi/help/rss/4498287.stm for terms and conditions of reuse.]]&gt;&lt;/copyright&gt;\n        &lt;language&gt;&lt;![CDATA[en-gb]]&gt;&lt;/language&gt;\n        &lt;ttl&gt;15&lt;/ttl&gt;\n        &lt;item&gt;\n            &lt;title&gt;&lt;![CDATA[Theresa May: Tories must be a party for everyone]]&gt;&lt;/title&gt;\n            &lt;description&gt;&lt;![CDATA[Theresa May pledges to boost council house-building and says austerity is over, in her big speech.]]&gt;&lt;/description&gt;\n            &lt;link&gt;https://www.bbc.co.uk/news/uk-politics-45725615&lt;/link&gt;\n            &lt;guid isPermaLink=\"true\"&gt;https://www.bbc.co.uk/news/uk-politics-45725615&lt;/guid&gt;\n            &lt;pubDate&gt;Wed, 03 Oct 2018 13:14:22 GMT&lt;/pubDate&gt;\n            &lt;media:thumbnail width=\"976\" height=\"549\" url=\"http://c.files.bbci.co.uk/0CCE/production/_103687230_hi049731823_crop.jpg\"/&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n            &lt;title&gt;&lt;![CDATA[May dances on to stage to Abba ]]&gt;&lt;/title&gt;\n            &lt;description&gt;&lt;![CDATA[With a nod to stage malfunctions and the cough which dogged her 2017 Conservative conference speech, Theresa May danced her way on to the 2018 stage.]]&gt;&lt;/description&gt;\n            &lt;link&gt;https://www.bbc.co.uk/news/uk-politics-45733091&lt;/link&gt;\n            &lt;guid isPermaLink=\"true\"&gt;https://www.bbc.co.uk/news/uk-politics-45733091&lt;/guid&gt;\n            &lt;pubDate&gt;Wed, 03 Oct 2018 11:14:17 GMT&lt;/pubDate&gt;\n            &lt;media:thumbnail width=\"768\" height=\"432\" url=\"http://c.files.bbci.co.uk/18EA/production/_103687360_may2.jpg\"/&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n            &lt;title&gt;&lt;![CDATA[Skripal poisoning: Putin denounces ex-spy as 'scum']]&gt;&lt;/title&gt;\n            &lt;description&gt;&lt;![CDATA[Russia's president complains the media are spending too much time on the man poisoned in Salisbury.]]&gt;&lt;/description&gt;\n            &lt;link&gt;https://www.bbc.co.uk/news/world-europe-45732221&lt;/link&gt;\n            &lt;guid isPermaLink=\"true\"&gt;https://www.bbc.co.uk/news/world-europe-45732221&lt;/guid&gt;\n            &lt;pubDate&gt;Wed, 03 Oct 2018 13:19:34 GMT&lt;/pubDate&gt;\n            &lt;media:thumbnail width=\"976\" height=\"549\" url=\"http://c.files.bbci.co.uk/1692/production/_103687750_049734043-1.jpg\"/&gt;\n        &lt;/item&gt;\n    &lt;/channel&gt;\n&lt;/rss&gt;\n</code></pre>\n\n<p>I am only interested in deserializing the following:</p>\n\n<pre><code>Channel:\n    Title\n    Link\n    Image\nItem:\n    Title\n    Description\n    Link\n    pubDate\n    media:thumbnail\n</code></pre>\n\n<p>Currently I am able to deserialize this XML string just fine - however I need to explicitly state what tags I want to ignore using\n<code>@JsonIgnoreProperties(\"generator\", \"ttl\")</code> etc.</p>\n\n<p>This is causing an issue however - as some feeds have extra tags and I can't go through every possible feed to manually enter which values to ignore.</p>\n\n<p>I have attempted to solve this myself and have searched online for similar questions - yet I don't seem to find any questions or resolutions that match my issue.</p>\n\n<p>Therefore my question is: Is there a way to deserialize only the specified tags and ignore anything else (without explicitly specifying which tags to ignore) using Jackson FasterXML or a similar framework?</p>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1538573427, "post_id": 52628091, "comment_id": 92189841, "body": "Try something like: <code>(?i)\\\\b(?=([^a-z]*cba[^a-z]*))</code> and extract the capture group 1. If you don&#39;t want whitespaces in the results, add <code>\\\\s</code> to the negated character classes."}, {"owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1538573803, "post_id": 52628091, "comment_id": 92190105, "body": "It is not worked... sorry, your code returned cba@"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1538573856, "post_id": 52628091, "comment_id": 92190146, "body": "The main problem is that your expected matches overlap in a specific way. What will be the expected result if your string is <code>cba@@@cba cba</code>? I could &quot;work around&quot; to <code>val matcher = &quot;(?i)(?=(\\\\b[^A-Z]*$word[^a-zA-Z]*\\\\b))&quot;.toRegex()</code> and <code>val ret = matcher.findAll(testLink3).map{it.groupValues[1].trim()}.toL&zwnj;&#8203;ist().distinct()</code>. But it might extract more than you expect."}, {"owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "edited": false, "score": 0, "creation_date": 1538574925, "post_id": 52628091, "comment_id": 92190847, "body": "I want to count of &quot;cba&quot; word and alpha insensitive. So, My expected value is string array such as [cba, Cba, cBa]"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1538577066, "post_id": 52628091, "comment_id": 92192187, "body": "Something like <a href=\"http://rextester.com/COSI60518\" rel=\"nofollow noreferrer\">rextester.com/COSI60518</a> ?"}, {"owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "edited": false, "score": 0, "creation_date": 1538577330, "post_id": 52628091, "comment_id": 92192349, "body": "Ok, but your answer not include [^a-zA-Z]. I want to not include alpha front or back. So, I used [^a-zA-Z]?($i)$word [^a-zA-Z]?. &quot;cbacba&quot; is not matched my expected result."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1538577618, "post_id": 52628091, "comment_id": 92192574, "body": "Please add the actual <i>precise</i> rules to the question. Add samples and explain the expected results. Then, add a comment with <code>@</code>+username in it to notify of feedback."}, {"owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1538577776, "post_id": 52628091, "comment_id": 92192695, "body": "@WiktorStribi\u017cew It is very simple rules. When searching for a search term, ignore case is ignored. Words are separated by all other characters except alphabets. For example, when the search term is cba, the number of words in cbabcbabcba is zero."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1538578694, "post_id": 52628091, "comment_id": 92193351, "body": "Correct, so <code>&quot;(?i)\\\\b$word\\\\b&quot;.toRegex().findAll(testLink3).map{it.value}&zwnj;&#8203;.toList()</code> should work"}, {"owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1538580502, "post_id": 52628091, "comment_id": 92194599, "body": "@WiktorStribi\u017cew, Thank you, I&#39;m solved this problem."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "edited": false, "score": 0, "creation_date": 1538585273, "post_id": 52631897, "comment_id": 92197197, "body": "I&#39;m so sorry, but, your code is invalid answer. For example if source code is                val testLink3 = &quot;&quot;&quot;cba@cba cba123&quot;&quot;&quot;   your code returned 2 object. but &quot;cba123&quot; also word. Also your answer is not correct."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "edited": false, "score": 0, "creation_date": 1538585515, "post_id": 52631897, "comment_id": 92197336, "body": "@dongwooktaehyung If you are searching for a whole word, you need <code>\\bword\\b</code>. If you need to match any word containing <code>word</code>, you need <code>\\b\\w*word\\w*\\b</code>. Please make sure you know what you need, then precise the question."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "edited": false, "score": 0, "creation_date": 1538585744, "post_id": 52631897, "comment_id": 92197441, "body": "@dongwooktaehyung So, what do you need to match? Words <i>containing</i> your <code>word</code> value?"}, {"owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "edited": false, "score": 0, "creation_date": 1538585767, "post_id": 52631897, "comment_id": 92197455, "body": "I said clearly on top : Words are separated by all other characters except alphabets"}, {"owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "edited": false, "score": 0, "creation_date": 1538585860, "post_id": 52631897, "comment_id": 92197497, "body": "It is also three words in the following cases.  &quot;&quot;&quot;Cba@cBa cbA123&quot;&quot;&quot;.   But your code is returned 2 words.   [Cba, cBa]."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1538586021, "last_edit_date": 1538586021, "creation_date": 1538584930, "answer_id": 52631897, "question_id": 52628091, "link": "https://stackoverflow.com/questions/52628091/how-to-find-the-whole-word-in-kotlin-using-regex/52631897#52631897", "title": "How to find the whole word in kotlin using regex", "body": "<p>You may use</p>\n\n<pre><code>val testLink3 = \"\"\"cBa@Cba cbA123\"\"\"\nval word = \"cba\"\nval matcher = \"(?i)(?&lt;!\\\\p{L})$word(?!\\\\p{L})\".toRegex()\nprintln(matcher.findAll(testLink3).map{it.value}.toList() )\nprintln(matcher.findAll(testLink3).count() )\n// =&gt; [cBa, Cba, cbA]\n// =&gt; 3\n</code></pre>\n\n<p>See the <a href=\"http://rextester.com/KOSVQ49497\" rel=\"nofollow noreferrer\">online Kotlin demo</a>.</p>\n\n<p>To obtain the list of matches, you need to run the <code>findAll</code> method on the regex object, map the results to values and cast to list:</p>\n\n<pre><code>.findAll(testLink3).map{it.value}.toList()\n</code></pre>\n\n<p>To count the matches, you may use</p>\n\n<pre><code>matcher.findAll(testLink3).count()\n</code></pre>\n\n<p><strong>Regex demo</strong></p>\n\n<ul>\n<li><code>(?i)</code> - case insensitive modifier</li>\n<li><code>(?&lt;!\\\\p{L})</code> - a negative lookbehind that fails the match if, immediately to the left of the current location, there is a letter</li>\n<li><code>$word</code> - your <code>word</code> variable value</li>\n<li><code>(?!\\\\p{L})</code> - a negative lookahead that fails the match if, immediately to the right of the current location, there is a letter.</li>\n</ul>\n"}], "owner": {"reputation": 125, "user_id": 10451339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69WJQ-tvlAc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXGSGOM2tnXkEXiUBnAyKygCLBpkA/mo/photo.jpg?sz=128", "display_name": "taehyung", "link": "https://stackoverflow.com/users/10451339/taehyung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3526, "favorite_count": 1, "accepted_answer_id": 52631897, "answer_count": 1, "score": 4, "last_activity_date": 1538586021, "creation_date": 1538573127, "last_edit_date": 1538585159, "question_id": 52628091, "link": "https://stackoverflow.com/questions/52628091/how-to-find-the-whole-word-in-kotlin-using-regex", "title": "How to find the whole word in kotlin using regex", "body": "<p>I want to find the whole word in string. But I don't know how to find the all word in kotlin. My finding word is [non alpha]cba[non alpha].  My example code is bellows.</p>\n\n<pre><code>val testLink3 = \"\"\"cba@cba cba\"\"\"\nval word = \"cba\"\nval matcher = \"\\\\b[^a-zA-Z]*(?i)$word[^a-zA-Z]*\\\\b\".toRegex()\nval ret = matcher.find(testLink3)?.groupValues\n</code></pre>\n\n<p>But output of my source code is \"cba\"\nMy expected value is string array such as \"{cba, cba, cba}\".\nHow to find this value in kotlin language.</p>\n"}, {"tags": ["kotlin", "jackson"], "comments": [{"owner": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "edited": false, "score": 1, "creation_date": 1538585096, "post_id": 52627957, "comment_id": 92197103, "body": "Have you tried <code>@field</code> in place of <code>@get</code> or <code>@param</code>?"}, {"owner": {"reputation": 575, "user_id": 8528561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62188dfc7f2e1a56d65b939ee4383048?s=128&d=identicon&r=PG&f=1", "display_name": "IS1_SO", "link": "https://stackoverflow.com/users/8528561/is1-so"}, "reply_to_user": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "edited": false, "score": 0, "creation_date": 1538590214, "post_id": 52627957, "comment_id": 92199739, "body": "@jaco0646 Yes I have, and didn&#39;t work. If I am not mistaken that shouldn&#39;t work anyways since I need to annotate the constructor parameters foremost"}, {"owner": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "edited": false, "score": 1, "creation_date": 1538595176, "post_id": 52627957, "comment_id": 92202128, "body": "You&#39;re right. I missed the <code>@JsonCreator</code> annotation."}, {"owner": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "edited": false, "score": 1, "creation_date": 1538595288, "post_id": 52627957, "comment_id": 92202179, "body": "Try updating to version 2.9.7. There is a bug fix (#168) that may address the issue you are seeing in the Kotlin module."}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 8528561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62188dfc7f2e1a56d65b939ee4383048?s=128&d=identicon&r=PG&f=1", "display_name": "IS1_SO", "link": "https://stackoverflow.com/users/8528561/is1-so"}, "edited": false, "score": 0, "creation_date": 1538610578, "post_id": 52635042, "comment_id": 92207258, "body": "Even though what you proposed saved me some redundant code it still didn&#39;t solve my problem while using the KotlinModule"}, {"owner": {"reputation": 575, "user_id": 8528561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62188dfc7f2e1a56d65b939ee4383048?s=128&d=identicon&r=PG&f=1", "display_name": "IS1_SO", "link": "https://stackoverflow.com/users/8528561/is1-so"}, "edited": false, "score": 0, "creation_date": 1538659143, "post_id": 52635042, "comment_id": 92227317, "body": "Expectation (1) when using the KotlinModule is not throwing an exception"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 575, "user_id": 8528561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62188dfc7f2e1a56d65b939ee4383048?s=128&d=identicon&r=PG&f=1", "display_name": "IS1_SO", "link": "https://stackoverflow.com/users/8528561/is1-so"}, "edited": false, "score": 0, "creation_date": 1538822911, "post_id": 52635042, "comment_id": 92285387, "body": "@IS1_SO even if the value is required, if you make it nullable that&#39;s the default value in case it is missing.. I don&#39;t think you can explicitely require it, when it is nullable."}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1538597855, "creation_date": 1538597855, "answer_id": 52635042, "question_id": 52627957, "link": "https://stackoverflow.com/questions/52627957/how-to-control-null-deserialization-with-default-values-and-required-values-in-j/52635042#52635042", "title": "How to control null deserialization with default values and required values in Jackson with Kotlin?", "body": "<p>This should do what you want:</p>\n\n<pre><code>data class SomeDTO(\n        @JsonProperty(value = \"first-property\", required = true)\n        val firstProperty: Long?,\n\n        @JsonProperty(value = \"second-property\")\n        val secondProperty: Int = 1234,\n\n        @JsonProperty(\"third-property\", required = true)\n        val thirdProperty: Int\n)\n</code></pre>\n\n<p>A few notes:</p>\n\n<p>1.\nSince you are using the primary constructor for your annotated fields, in Kotlin you don't need the <code>@JsonCreator</code> annotation.</p>\n\n<p>This is what the <a href=\"https://github.com/FasterXML/jackson-annotations#using-constructors-or-factory-methods\" rel=\"nofollow noreferrer\">GitHub page of the Jackson project</a> says:</p>\n\n<blockquote>\n  <p>By default, Jackson tries to use the \"default\" constructor (one that\n  takes no arguments), when creating value instances. But you can also\n  choose to use another constructor, or a static factory method to\n  create instance. To do this, you will need to use annotation\n  @JsonCreator, and possibly @JsonProperty annotations to bind names to\n  arguments</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>You dont need the separate <code>@get</code> and <code>@param</code> annotations. <code>@JsonProperty</code> alone is sufficient for your use-case.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 575, "user_id": 8528561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62188dfc7f2e1a56d65b939ee4383048?s=128&d=identicon&r=PG&f=1", "display_name": "IS1_SO", "link": "https://stackoverflow.com/users/8528561/is1-so"}, "edited": false, "score": 0, "creation_date": 1538662202, "post_id": 52648737, "comment_id": 92229511, "body": "Weird... I tried it yesterday and didn&#39;t work. I will try again then!"}], "tags": [], "owner": {"reputation": 10753, "user_id": 1371329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oqbUC.png?s=128&g=1", "display_name": "jaco0646", "link": "https://stackoverflow.com/users/1371329/jaco0646"}, "is_accepted": true, "score": 2, "last_activity_date": 1538661818, "creation_date": 1538661818, "answer_id": 52648737, "question_id": 52627957, "link": "https://stackoverflow.com/questions/52627957/how-to-control-null-deserialization-with-default-values-and-required-values-in-j/52648737#52648737", "title": "How to control null deserialization with default values and required values in Jackson with Kotlin?", "body": "<p>Updating the Kotlin module to version 2.9.7 produces an exception when <code>firstProperty</code> is missing. I've tested it repeatedly, going back and forth between 2.9.6 and 2.9.7 with the code and configuration copied from the OP.</p>\n\n<p>A bug fix in 2.9.7 matches the unexpected behavior described in the OP.</p>\n\n<blockquote>\n  <p>Fixes #168 where <code>JsonProperty(required=true)</code> was being ignored and overridden by nullability check</p>\n</blockquote>\n\n<p><a href=\"https://github.com/FasterXML/jackson-module-kotlin/issues/168\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-module-kotlin/issues/168</a></p>\n"}], "owner": {"reputation": 575, "user_id": 8528561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62188dfc7f2e1a56d65b939ee4383048?s=128&d=identicon&r=PG&f=1", "display_name": "IS1_SO", "link": "https://stackoverflow.com/users/8528561/is1-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1755, "favorite_count": 0, "accepted_answer_id": 52648737, "answer_count": 2, "score": 1, "last_activity_date": 1538661818, "creation_date": 1538572648, "last_edit_date": 1538584695, "question_id": 52627957, "link": "https://stackoverflow.com/questions/52627957/how-to-control-null-deserialization-with-default-values-and-required-values-in-j", "title": "How to control null deserialization with default values and required values in Jackson with Kotlin?", "body": "<p>Using Jackson 2.9.6  </p>\n\n<p><strong>I have the following data class definition:</strong></p>\n\n<pre><code>data class SomeDTO @JsonCreator internal constructor\n(\n    @get:JsonProperty(value = \"first-property\", required = true)\n    @param:JsonProperty(value = \"first-property\", required = true)\n    val firstProperty: Long?,\n\n    @get:JsonProperty(value = \"second-property\")\n    @param:JsonProperty(value = \"second-property\")\n    val secondProperty: Int = 1234\n\n    @get:JsonProperty(\"third-property\", required = true)\n    @param:JsonProperty(\"third-property\", required = true)\n    val thirdProperty: Int\n)\n</code></pre>\n\n<p><strong>What I expect for a JSON that deserializes into SomeDTO</strong>  </p>\n\n<ol>\n<li>If <code>firstProperty</code> is missing, it should throw an exception.  </li>\n<li>If <code>firstProperty</code> is null, it should assign null since it is nullable.  </li>\n<li>If <code>secondProperty</code> is missing or null it should assign the default value of <code>1234</code>  </li>\n<li>If <code>thirdProperty</code> is missing or null, it should throw an exception.  </li>\n</ol>\n\n<p>Basically that I can control which values can be deserialized and into what.</p>\n\n<p><strong>What I am experiencing:</strong>  </p>\n\n<p>If <em>not</em> using KotlinModule then (1), (2), and (4) work but (3) fails with: </p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot map <code>null</code> into type int (set DeserializationConfig.DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES to 'false' to allow)  </p>\n</blockquote>\n\n<p>If using KotlinModule then (2), (3), and (4) work but (1) fails.</p>\n\n<p><strong>Main part of ObjectMapper configuration:</strong></p>\n\n<pre><code>disable(\n        MapperFeature.AUTO_DETECT_CREATORS,\n        MapperFeature.AUTO_DETECT_FIELDS,\n        MapperFeature.AUTO_DETECT_GETTERS,\n        MapperFeature.AUTO_DETECT_IS_GETTERS\n       )\ndisable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n\nregisterModule(ParanamerModule())\nregisterModule(KotlinModule()) // Might be registered or not\n\ndisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\ndisable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE)\nenable(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES)\n</code></pre>\n\n<p>I think it is easier to use the KotlinModule but I don't know how to tell it to not auto assign null values to nullable fields when the property is missing in the JSON</p>\n"}, {"tags": ["android", "android-activity", "kotlin", "dialog", "android-context"], "comments": [{"owner": {"reputation": 11, "user_id": 9197002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5_dHcDkPOMw/AAAAAAAAAAI/AAAAAAAACOI/Ksj-RCfQ82U/photo.jpg?sz=128", "display_name": "M Dilawar", "link": "https://stackoverflow.com/users/9197002/m-dilawar"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1538733488, "post_id": 52626612, "comment_id": 92255983, "body": "yes its solved dear"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1538733606, "post_id": 52626612, "comment_id": 92256046, "body": "You can post this as answer"}], "answers": [{"tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 2, "last_activity_date": 1538573345, "last_edit_date": 1538573345, "creation_date": 1538568207, "answer_id": 52626641, "question_id": 52626612, "link": "https://stackoverflow.com/questions/52626612/unable-to-startactivity-from-bottomsheetdialog/52626641#52626641", "title": "Unable to startActivity from BottomSheetDialog", "body": "<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method</p>\n</blockquote>\n\n<p>You should use <strong><code>Context</code></strong> object. A <a href=\"https://developer.android.com/reference/android/content/Context\" rel=\"nofollow noreferrer\"><strong><code>Context</code></strong></a> as its first parameter (this is used because the Activity class is a subclass of Context).</p>\n\n<pre><code>lin_play.setOnClickListener \n    {\n        if (TextUtils.isEmpty(url)) {\n            Toast.makeText(cont, \"Invalid/Empty URL\", Toast.LENGTH_SHORT).show()\n        } else {\n            if (!url!!.isEmpty()) {\n                startActivity(Intent(cont, MainActivity::class.java).putExtra(\"url\", url))\n                dialog.dismiss()\n            }\n        }\n</code></pre>\n\n<p><strong>NOTE</strong></p>\n\n<ol>\n<li>For Activity--> You can set your Context is--> <strong><code>this@Activity</code></strong>\nName</li>\n<li>For Fragment --> use <code>getActivity()</code></li>\n</ol>\n\n<p><strong>Example</strong></p>\n\n<pre><code>startActivity(Intent(getActivity(), MainActivity::class.java).putExtra(\"url\", url))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 9197002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5_dHcDkPOMw/AAAAAAAAAAI/AAAAAAAACOI/Ksj-RCfQ82U/photo.jpg?sz=128", "display_name": "M Dilawar", "link": "https://stackoverflow.com/users/9197002/m-dilawar"}, "edited": false, "score": 0, "creation_date": 1538568921, "post_id": 52626677, "comment_id": 92186859, "body": "Activity is not null."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 11, "user_id": 9197002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5_dHcDkPOMw/AAAAAAAAAAI/AAAAAAAACOI/Ksj-RCfQ82U/photo.jpg?sz=128", "display_name": "M Dilawar", "link": "https://stackoverflow.com/users/9197002/m-dilawar"}, "edited": false, "score": 0, "creation_date": 1538569028, "post_id": 52626677, "comment_id": 92186925, "body": "Should null check for best practice, Issue in your code is you are using wrong context."}], "tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": false, "score": 1, "last_activity_date": 1538569063, "last_edit_date": 1538569063, "creation_date": 1538568338, "answer_id": 52626677, "question_id": 52626612, "link": "https://stackoverflow.com/questions/52626612/unable-to-startactivity-from-bottomsheetdialog/52626677#52626677", "title": "Unable to startActivity from BottomSheetDialog", "body": "<p>You are using wrong context, pass activity instance in Intent. </p>\n\n<pre><code>if (activity != null) {\n    startActivity(Intent(activity, MainActivity::class.java).putExtra(\"url\", url))\n}\n</code></pre>\n\n<p>Check parent activity for null for best practice.</p>\n"}, {"tags": [], "owner": {"reputation": 5230, "user_id": 5148289, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-yjKe7nJamVk/AAAAAAAAAAI/AAAAAAAAAGY/l8Ea3Fp2VWU/photo.jpg?sz=128", "display_name": "V-rund Puro-hit", "link": "https://stackoverflow.com/users/5148289/v-rund-puro-hit"}, "is_accepted": false, "score": 1, "last_activity_date": 1538568640, "creation_date": 1538568640, "answer_id": 52626761, "question_id": 52626612, "link": "https://stackoverflow.com/questions/52626612/unable-to-startactivity-from-bottomsheetdialog/52626761#52626761", "title": "Unable to startActivity from BottomSheetDialog", "body": "<p>Simply use your Activity Context while starting Activity</p>\n\n<pre><code>startActivity(Intent(this@CurrentClassName, MainActivity::class.java).putExtra(\"url\", url))\n</code></pre>\n\n<p><strong>Note :</strong> It is good practice to dismiss dialog before starting new Activity</p>\n"}], "owner": {"reputation": 11, "user_id": 9197002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5_dHcDkPOMw/AAAAAAAAAAI/AAAAAAAACOI/Ksj-RCfQ82U/photo.jpg?sz=128", "display_name": "M Dilawar", "link": "https://stackoverflow.com/users/9197002/m-dilawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1538573345, "creation_date": 1538568079, "last_edit_date": 1538570874, "question_id": 52626612, "link": "https://stackoverflow.com/questions/52626612/unable-to-startactivity-from-bottomsheetdialog", "title": "Unable to startActivity from BottomSheetDialog", "body": "<p>every thing works fine with this context <code>ctw = ContextThemeWrapper(cont, R.style.AppTheme)</code> but when i want to start any activity my app is crashing.\nactually this ctw works fine with Toast in this method but when i pass this ctw to Intent for starting activity is gives error. i also trying cont variable directly getApplicationContext also but still have same error. code is in kotlin you can help me in java also. :)</p>\n\n<p>Here is complete code</p>\n\n<pre><code>fun showBottomSheetDialog(url: String, cont: Context) {\n\n    ctw = ContextThemeWrapper(cont, R.style.AppTheme)\n\n\n    val lin_play: LinearLayout\n    val lin_cancel: LinearLayout\n\n    dialog = BottomSheetDialog(ctw!!)\n    dialog.setContentView(R.layout.dialog_bottom_dailymotion)\n    dialog.getWindow()!!.setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\n    dialog.getWindow()!!.setBackgroundDrawableResource(R.color.Transparent)\n\n    lin_play = dialog.findViewById(R.id.lin_play_d)!!\n    lin_cancel = dialog.findViewById(R.id.lin_cancel_d)!!\n\n\n    lin_play.setOnClickListener {\n        if (TextUtils.isEmpty(url)) {\n            Toast.makeText(ctw, \"Invalid/Empty URL\", Toast.LENGTH_SHORT).show()\n        } else {\n            if (!url!!.isEmpty()) {\n\n\n                    startActivity(Intent(ctw, MainActivity::class.java).putExtra(\"url\", url))\n\n                dialog.dismiss()\n            }\n        }\n    }\n\n    lin_cancel.setOnClickListener {\n        dialog.dismiss()\n\n    }\n              try {\n              dialog.show()\n              }catch (e:Exception){\n              e.printStackTrace()\n             }\n        }\n</code></pre>\n\n<p>and here is my error</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: com.browserforvideodownload, PID: 29839\n              java.lang.NullPointerException: Attempt to invoke virtual method 'android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()' on a null object reference\n                  at android.app.Activity.startActivityForResult(Activity.java:4367)\n                  at android.support.v4.app.BaseFragmentActivityApi16.startActivityForResult(BaseFragmentActivityApi16.java:54)\n                  at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:68)\n                  at android.app.Activity.startActivityForResult(Activity.java:4312)\n                  at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:751)\n                  at android.app.Activity.startActivity(Activity.java:4716)\n                  at android.app.Activity.startActivity(Activity.java:4631)\n                  at com.browserforvideodownload.browserlighting.browser.activity.BrowserActivity$showBottomSheetDialogDailymotion$1.onClick(BrowserActivity.kt:3970)\n                  at android.view.View.performClick(View.java:5740)\n                  at android.view.View$PerformClick.run(View.java:22947)\n                  at android.os.Handler.handleCallback(Handler.java:836)\n                  at android.os.Handler.dispatchMessage(Handler.java:103)\n                  at android.os.Looper.loop(Looper.java:232)\n                  at android.app.ActivityThread.main(ActivityThread.java:6661)\n                  at java.lang.reflect.Method.invoke(Native Method)\n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1106)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>After a long Struggle i have found my mistke.</p>\n\n<p>just replace</p>\n\n<pre><code> startActivity(Intent(ctw, MainActivity::class.java).putExtra(\"url\", url))\n</code></pre>\n\n<p>into</p>\n\n<pre><code>try{\nctw!!.startActivity(Intent(getActivity(ctw), \nMainActivity::class.java).putExtra(\"url\", url))\n   }catch (e:Exception){\n     e.printStackTrace()\n   }\n</code></pre>\n"}, {"tags": ["reflection", "kotlin", "jackson"], "answers": [{"tags": [], "owner": {"reputation": 2941, "user_id": 231934, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e7c0ae12395a38801d4bed2123fd4194?s=128&d=identicon&r=PG", "display_name": "Martin Macak", "link": "https://stackoverflow.com/users/231934/martin-macak"}, "is_accepted": false, "score": 1, "last_activity_date": 1538571536, "creation_date": 1538571536, "answer_id": 52627592, "question_id": 52626548, "link": "https://stackoverflow.com/questions/52626548/kotlin-and-reflection-on-properties-using-kotlin-reflect/52627592#52627592", "title": "Kotlin and reflection on properties using kotlin-reflect", "body": "<p>I just found an answer:</p>\n\n<p>Using java-decompiler, it's apparent that annotations are not on fields or getters but on constructor parameters</p>\n\n<pre><code>public TopicConfiguration(@Nullable @JsonProperty(\"max.message.bytes\") Long maxMessageBytes, @Nullable @JsonProperty(\"compression.type\") String compressionType, @Nullable @JsonProperty(\"retention.ms\") Long retentionMs)\n  {\n    this.maxMessageBytes = maxMessageBytes;this.compressionType = compressionType;this.retentionMs = retentionMs;\n  }\n</code></pre>\n\n<p>I was able to retrieve annotations when I used Kotlin's refection for constructor parameters</p>\n\n<pre><code>obj\n    .javaClass\n    .kotlin\n    .constructors\n    .first()\n    .parameters\n    .first()\n    .findAnnotation&lt;JsonProperty&gt;()\n</code></pre>\n"}], "owner": {"reputation": 2941, "user_id": 231934, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e7c0ae12395a38801d4bed2123fd4194?s=128&d=identicon&r=PG", "display_name": "Martin Macak", "link": "https://stackoverflow.com/users/231934/martin-macak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538571536, "creation_date": 1538567881, "question_id": 52626548, "link": "https://stackoverflow.com/questions/52626548/kotlin-and-reflection-on-properties-using-kotlin-reflect", "title": "Kotlin and reflection on properties using kotlin-reflect", "body": "<p>I am using <code>kotlin-reflect</code> for reflection on Kotlin data class</p>\n\n<p>Definition is like this</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\ndata class TopicConfiguration(\n    @JsonProperty(\"max.message.bytes\") var maxMessageBytes: Long? = null,\n    @JsonProperty(\"compression.type\") var compressionType: String? = null,\n    @JsonProperty(\"retention.ms\") var retentionMs: Long? = null\n)\n</code></pre>\n\n<p>I want to get <code>@JsonProperty</code> using reflection, but when I try</p>\n\n<pre><code>obj\n  .javaClass\n  .kotlin\n  .declaredMemberProperties\n  .first()\n  .findAnnotation&lt;JsonProperty&gt;()\n</code></pre>\n\n<p>Then I get <code>null</code> no matter what I try.</p>\n\n<p>How do I access property annotations using reflection on Kotlin data class (namely <code>@JsonProperty</code> that's defined in jackson data-bind)</p>\n"}, {"tags": ["android", "arrays", "kotlin", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 436, "user_id": 6587572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wHn4v.jpg?s=128&g=1", "display_name": "Divyanshu", "link": "https://stackoverflow.com/users/6587572/divyanshu"}, "edited": false, "score": 0, "creation_date": 1538569864, "post_id": 52626526, "comment_id": 92187464, "body": "Add this plugin and auto generate mode class for kotlin <a href=\"https://plugins.jetbrains.com/plugin/9960-json-to-kotlin-class-jsontokotlinclass-\" rel=\"nofollow noreferrer\">JSON to Kotlin</a>"}], "tags": [], "owner": {"reputation": 436, "user_id": 6587572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wHn4v.jpg?s=128&g=1", "display_name": "Divyanshu", "link": "https://stackoverflow.com/users/6587572/divyanshu"}, "is_accepted": true, "score": 2, "last_activity_date": 1538567843, "creation_date": 1538567843, "answer_id": 52626526, "question_id": 52626381, "link": "https://stackoverflow.com/questions/52626381/retrofit-error-expected-begin-array-but-was-begin-object/52626526#52626526", "title": "retrofit error Expected BEGIN_ARRAY but was BEGIN_OBJECT", "body": "<p>Change Model class because in json response there are not any array so remove ArrayList tag</p>\n\n<pre><code>data: ArrayList&lt;OtpModel&gt;  \n</code></pre>\n\n<p>to </p>\n\n<pre><code>data: OtpModel\n</code></pre>\n\n<p>because it's no array</p>\n"}, {"tags": [], "owner": {"reputation": 663, "user_id": 8475122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2227b79cb51d72705b2daf109075c5?s=128&d=identicon&r=PG&f=1", "display_name": "Macmist", "link": "https://stackoverflow.com/users/8475122/macmist"}, "is_accepted": false, "score": 0, "last_activity_date": 1538568124, "creation_date": 1538568124, "answer_id": 52626627, "question_id": 52626381, "link": "https://stackoverflow.com/questions/52626381/retrofit-error-expected-begin-array-but-was-begin-object/52626627#52626627", "title": "retrofit error Expected BEGIN_ARRAY but was BEGIN_OBJECT", "body": "<p>Your error means that the conversion from what you received from the API to the class you provided in your call is not correct.</p>\n\n<blockquote>\n  <p>E/FAILISJERE: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 54 path $.data</p>\n</blockquote>\n\n<p>Means the deserializer expected an array but has found a \"{\" character at the line 1 column 54 (which corresponds to the data field) instead of the '[' it was expected for the \"data\" field. So that means your model is not correct.</p>\n\n<p>And if you look at your model, you can indeed see that the \"data\" object here is represented as an ArrayList, while it should be a single object.</p>\n\n<p>So you can just replace in your model </p>\n\n<pre><code>data: ArrayList&lt;OtpModel&gt;  \n</code></pre>\n\n<p>by:</p>\n\n<pre><code>data: OtpModel \n</code></pre>\n\n<p>and you should be good</p>\n"}], "owner": {"reputation": 25, "user_id": 10314228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59548ff9dd72b08b2e2a29064a67dca2?s=128&d=identicon&r=PG&f=1", "display_name": "malik", "link": "https://stackoverflow.com/users/10314228/malik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 0, "accepted_answer_id": 52626526, "answer_count": 2, "score": 0, "last_activity_date": 1538568124, "creation_date": 1538567303, "question_id": 52626381, "link": "https://stackoverflow.com/questions/52626381/retrofit-error-expected-begin-array-but-was-begin-object", "title": "retrofit error Expected BEGIN_ARRAY but was BEGIN_OBJECT", "body": "<p>I try to get Otp using mobile number, but it display error like this</p>\n\n<blockquote>\n  <p>E/FAILISJERE: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 54 path $.data</p>\n</blockquote>\n\n<p>This is my URL := <a href=\"http://192.168.1.105/XXXX/XXXXX/XXXXX/default/send-otp\" rel=\"nofollow noreferrer\">http://192.168.1.105/XXXX/XXXXX/XXXXX/default/send-otp</a></p>\n\n<blockquote>\n  <p>Request Fields: mobileNo,name</p>\n</blockquote>\n\n<p>Response is like this :- </p>\n\n<pre><code>{\n\"error\": false,\n\"msg\": \"Otp sent successfully\",\n\"data\": {\n    \"otp\": 152265\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>APIClient.Kt:-</strong></p>\n\n<pre><code>object ApiClient {\n\nprivate var retrofit: Retrofit? = null\nval client: Retrofit\n    get() {\n        if (retrofit == null) {\n            retrofit = Retrofit.Builder()\n                    .baseUrl(AppConfig.BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n        }\n        return retrofit!!\n    }\n</code></pre>\n\n<p>}</p>\n\n<p><strong>APIInterface.kt:-</strong></p>\n\n<pre><code>interface ApiInterface {\n@FormUrlEncoded\n@POST(\"send-otp\")\nfun GET_OTP(@Field(\"name\") name: String, @Field(\"mobileNo\") mobileNo: String): Call&lt;OTPSendResponse&gt;\n</code></pre>\n\n<p>}</p>\n\n<p><strong>AppConfig.kt:-</strong></p>\n\n<pre><code>class AppConfig {\ncompanion object {\n    const val BASE_URL = \"http://192.168.1.105/XXXX/XXXXX/XXXXX/default/\"\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>OtpModel.kt:-</strong></p>\n\n<pre><code>class OtpModel {\nconstructor(otp: Int) {\n    this.otp = otp\n}\n@SerializedName(\"otp\")\nvar otp: Int = 0\n</code></pre>\n\n<p>}</p>\n\n<p><strong>OtpSendResponse.kt:-</strong></p>\n\n<pre><code>class OTPSendResponse {\n\nconstructor(error: String, data: ArrayList&lt;OtpModel&gt;, msg: String) {\n    this.error = error\n    this.data = data\n    this.msg = msg\n}\n@SerializedName(\"error\")\nvar error: String = \"\"\n\n@SerializedName(\"msg\")\nvar msg: String = \"\"\n\n@SerializedName(\"data\")\nvar data: ArrayList&lt;OtpModel&gt; = ArrayList()\n</code></pre>\n\n<p>}</p>\n\n<p><strong>MyActivity.kt:-</strong></p>\n\n<pre><code>private fun sendNameAndMobileNum(name: String, mobileNum: String) {\n    Log.e(\"MOBILE\", \"${mobileNum}\")\n    val apiService = ApiClient.client.create(ApiInterface::class.java)\n\n    val call = apiService.GET_OTP(name, mobileNum)\n\n    call.enqueue(object : Callback&lt;OTPSendResponse&gt; {\n\n        override fun onResponse(call: Call&lt;OTPSendResponse&gt;, response: Response&lt;OTPSendResponse&gt;) {\n            Log.e(\"OTP\", \"${response.body()?.data!![0].otp}\")\n\n            val otpIs = response.body()!!.data[0].otp\n            val i = Intent(this@AddNumActivity, OTPVerifyActivity::class.java)\n            i.putExtra(\"otp\", otpIs)\n            i.putExtra(\"mobileNum\", mobileNum)\n            startActivity(i)\n        }\n\n        override fun onFailure(call: Call&lt;OTPSendResponse&gt;, t: Throwable) {\n            Toast.makeText(this@AddNumActivity, \"Ooops !!\", Toast.LENGTH_SHORT).show()\n\n            Log.e(\"FAILISJERE\", \"${t.message}\")\n        }\n    })\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1538577825, "post_id": 52626151, "comment_id": 92192729, "body": "Can you see the full stack trace?  That would confirm that the exception is thrown from the code you&#39;re checking (and not from code injected elsewhere, or code in another thread)."}], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 407342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pPvM2.jpg?s=128&g=1", "display_name": "Jebin", "link": "https://stackoverflow.com/users/407342/jebin"}, "edited": false, "score": 0, "creation_date": 1538638014, "post_id": 52640662, "comment_id": 92214820, "body": "For anyone else wondering if you can get the ERROR CODE that usually database raise, you can get it from <code>original.SQLState</code>."}, {"owner": {"reputation": 633, "user_id": 407342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pPvM2.jpg?s=128&g=1", "display_name": "Jebin", "link": "https://stackoverflow.com/users/407342/jebin"}, "edited": false, "score": 0, "creation_date": 1538638649, "post_id": 52640662, "comment_id": 92215143, "body": "Not sure if it is too much to ask. It would be great if the exception is more readable or has a specific structure like column, value and table instead of simply <code>ERROR: duplicate key value violates unique constraint &quot;templates_name_key&quot; Detail: Key (name)=(Template1) already exists</code>. In this case, it needs a regex based striping to know that column &quot;name&quot; already has value &quot;Template1&quot;. That could be added for the future roadmap of Exposed. Thank you for the help."}, {"owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "reply_to_user": {"reputation": 633, "user_id": 407342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pPvM2.jpg?s=128&g=1", "display_name": "Jebin", "link": "https://stackoverflow.com/users/407342/jebin"}, "edited": false, "score": 1, "creation_date": 1538727203, "post_id": 52640662, "comment_id": 92252441, "body": "1. You don&#39;t need to use <code>original.SQLState</code> if you already cast exception to <code>ExpesedSQLException</code> because it delegates same fields to <code>original</code>. Just use <code>(e as? ExposedSQLException)?.SQLState</code> 2. I think that <code>ERROR...</code> is raised by a database and Exposed can do nothing with it."}], "tags": [], "owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "is_accepted": true, "score": 1, "last_activity_date": 1538635759, "creation_date": 1538635759, "answer_id": 52640662, "question_id": 52626151, "link": "https://stackoverflow.com/questions/52626151/exception-handling-with-kotlin-exposed-how-to-catch-unique-constraint-violatio/52640662#52640662", "title": "Exception Handling with Kotlin Exposed - How to catch unique constraint violation exception?", "body": "<p>Exposed throws <code>ExposedSQLException</code> which is a subtype of <code>SQLException</code> with possibility to access the latest executed query (possibly which cause original exception) via <code>causeByQueries()</code> funciton. Original exception is accessible via <code>cause</code> property.</p>\n\n<pre><code>return try {\n    val template: TemplateSerializer = transaction {\n        val newTemplate = Template.insert(request)\n        TemplateSerializer.serialize(newTemplate)\n    }\n    Response.status(201).entity(template).build()\n} catch (e: Exception) {\n    val original = (e as? ExposedSQLException)?.cause\n    when (original) {\n      is SQLIntegrityConstraintViolationException -&gt; \n        resourceLogger.error(\"SQL constraint violated\")\n      is BatchUpdateException -&gt; \n        resourceLogger.error(\"SQL constraint violated\")\n      else -&gt;\n        resourceLogger.error(e.message)\n    }\nResponse.status(422).entity(mapOf(\"error\" to true, \"message\" to \"Insertion failed\")).build()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 9277334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd98249bd7855e780af78e11c54f7f9?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Schaller", "link": "https://stackoverflow.com/users/9277334/stefan-schaller"}, "is_accepted": false, "score": 0, "last_activity_date": 1602164595, "creation_date": 1602164595, "answer_id": 64263854, "question_id": 52626151, "link": "https://stackoverflow.com/questions/52626151/exception-handling-with-kotlin-exposed-how-to-catch-unique-constraint-violatio/64263854#64263854", "title": "Exception Handling with Kotlin Exposed - How to catch unique constraint violation exception?", "body": "<p>You can check for the <code>sqlState</code>.</p>\n<p>It would look like:</p>\n<pre><code>try {\n        userService.insertUser(user)\n    } catch (e: ExposedSQLException) {\n\n        val isUniqueConstraintError = e.sqlState == &quot;23505&quot;\n    }\n</code></pre>\n<p>You can take the correct error codes from right there:</p>\n<p><a href=\"https://www.postgresql.org/docs/10/errcodes-appendix.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/10/errcodes-appendix.html</a></p>\n"}], "owner": {"reputation": 633, "user_id": 407342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pPvM2.jpg?s=128&g=1", "display_name": "Jebin", "link": "https://stackoverflow.com/users/407342/jebin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2412, "favorite_count": 0, "accepted_answer_id": 52640662, "answer_count": 2, "score": 1, "last_activity_date": 1602164595, "creation_date": 1538566452, "question_id": 52626151, "link": "https://stackoverflow.com/questions/52626151/exception-handling-with-kotlin-exposed-how-to-catch-unique-constraint-violatio", "title": "Exception Handling with Kotlin Exposed - How to catch unique constraint violation exception?", "body": "<p>I have added unique constraint on a column in my table. When the constraint is violated, it throws an exception which I am unable to catch and convey to the user.</p>\n\n<p><code>Exposed: Transaction attempt #0 failed: java.sql.BatchUpdateException: Batch entry 0 INSERT INTO templates (created_at, is_deleted, name, sections) VALUES ('2018-10-03 16:31:25.732+05:30', 'FALSE', 'Template1', '[{\"title\":\"Introduction\"}]')\nRETURNING * was aborted: ERROR: duplicate key value violates unique constraint \"templates_name_key\"\n  Detail: Key (name)=(Template1) already exists.  Call getNextException to see other errors in the batch.. Statement(s): INSERT INTO templates (created_at, is_deleted, name, sections) VALUES (?, ?, ?, ?)\n! org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"templates_name_key\"\n!   Detail: Key (name)=(Template1) already exists.</code></p>\n\n<ul>\n<li>How to capture these kind of SQL exceptions with user readable message?</li>\n<li>Is there any best practices to catch these exceptions?</li>\n<li>Should we catch them inside transaction or outside? Is there any necessity like that?</li>\n</ul>\n\n<p>Below is the snippet I tried.</p>\n\n<pre><code>return try {\n    val template: TemplateSerializer = transaction {\n        val newTemplate = Template.insert(request)\n        TemplateSerializer.serialize(newTemplate)\n    }\n    Response.status(201).entity(template).build()\n} catch (e: Exception) {\n    if(e is SQLIntegrityConstraintViolationException) {\n        resourceLogger.error(\"SQL constraint violated\")\n    } else if(e is BatchUpdateException) {\n        resourceLogger.error(\"SQL constraint violated\")\n    } else\n        resourceLogger.error(e.message)\n    Response.status(422).entity(mapOf(\"error\" to true, \"message\" to \"Insertion failed\")).build()\n}\n</code></pre>\n\n<p>The message <code>SQL constraint violated</code> is not printed at all. Tried multiple catch with different Exception classes too. Nothing worked. </p>\n\n<p>Sending such generic error message is not helping.</p>\n"}, {"tags": ["android", "kotlin", "beacon", "eddystone"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 10424334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d6b4cdf6b3dc89306684cd1da6d461d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikmaniac", "link": "https://stackoverflow.com/users/10424334/nikmaniac"}, "edited": false, "score": 0, "creation_date": 1538568318, "post_id": 52626420, "comment_id": 92186486, "body": "Suppose I have the KFC app. I want the app to display a notification when I am near KFC. But in my code, I mustn&#39;t mention the UUID of the beacon present in KFC. Many beacons will be present in the stores near KFC ( McD, Dunkin Donuts, etc.). But notification should be displayed only when I am near KFC"}, {"owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "reply_to_user": {"reputation": 29, "user_id": 10424334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d6b4cdf6b3dc89306684cd1da6d461d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikmaniac", "link": "https://stackoverflow.com/users/10424334/nikmaniac"}, "edited": false, "score": 0, "creation_date": 1538582818, "post_id": 52626420, "comment_id": 92195959, "body": "I think KFC is delicious so I&#39;d love a notification when one is nearby!  (Full disclosure: I am a very minor shareholder). Seriously though, if you do not want the UUID on the code, then using a server to fetch it at runtime is a fine solution."}], "tags": [], "owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "is_accepted": true, "score": 0, "last_activity_date": 1538567438, "creation_date": 1538567438, "answer_id": 52626420, "question_id": 52626038, "link": "https://stackoverflow.com/questions/52626038/detect-beacon-without-hard-coding-uuid-in-android-app/52626420#52626420", "title": "Detect beacon without hard coding UUID in Android app", "body": "<p>Two options:</p>\n\n<ol>\n<li><p>Simply omit the ProximityUUID in the Region definition when scanning for beacons and the AndroidBeaconLibrary will detect all beacons regardless of UUID.</p></li>\n<li><p>include the ProximityUUID in the Region definition, but fetch the value from a web service call you make first.  This way, you can change the UUID on your server whenever you want without having to update your app's hard-coded value.</p></li>\n</ol>\n"}], "owner": {"reputation": 29, "user_id": 10424334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d6b4cdf6b3dc89306684cd1da6d461d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikmaniac", "link": "https://stackoverflow.com/users/10424334/nikmaniac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 52626420, "answer_count": 1, "score": 0, "last_activity_date": 1538567438, "creation_date": 1538565987, "last_edit_date": 1538567329, "question_id": 52626038, "link": "https://stackoverflow.com/questions/52626038/detect-beacon-without-hard-coding-uuid-in-android-app", "title": "Detect beacon without hard coding UUID in Android app", "body": "<p>I want my app to display a notification when it is in the vicinity of a beacon. But I don't wanna hard code the UUID of the beacon in my program. How can I achieve this?</p>\n"}, {"tags": ["android", "kotlin", "android-viewmodel"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1538562543, "post_id": 52624958, "comment_id": 92183269, "body": "So which reference exactly is unresolved?"}, {"owner": {"reputation": 3, "user_id": 5147146, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l862eOqUWLM/AAAAAAAAAAI/AAAAAAAAACI/WMCEWYMacsw/photo.jpg?sz=128", "display_name": "Hardik Lakhani", "link": "https://stackoverflow.com/users/5147146/hardik-lakhani"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1538562771, "post_id": 52624958, "comment_id": 92183402, "body": "in roomactivity class <code>mWordViewModel = ViewModelProviders.of(this).get(WordViewModel::class.java)</code> not getting WordViewModel class"}, {"owner": {"reputation": 611, "user_id": 6098397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_BiJJno9DcY/AAAAAAAAAAI/AAAAAAAAACc/RAJGXe32T0w/photo.jpg?sz=128", "display_name": "Rashpal Singh", "link": "https://stackoverflow.com/users/6098397/rashpal-singh"}, "edited": false, "score": 0, "creation_date": 1538563600, "post_id": 52624958, "comment_id": 92183862, "body": "In which line are you getting error?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1538563776, "post_id": 52624958, "comment_id": 92183954, "body": "Are both classes in the same package? Under which directory have you placed them?"}, {"owner": {"reputation": 3, "user_id": 5147146, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l862eOqUWLM/AAAAAAAAAAI/AAAAAAAAACI/WMCEWYMacsw/photo.jpg?sz=128", "display_name": "Hardik Lakhani", "link": "https://stackoverflow.com/users/5147146/hardik-lakhani"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1538565572, "post_id": 52624958, "comment_id": 92184954, "body": "@yole yes both are in same package"}, {"owner": {"reputation": 3, "user_id": 5147146, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l862eOqUWLM/AAAAAAAAAAI/AAAAAAAAACI/WMCEWYMacsw/photo.jpg?sz=128", "display_name": "Hardik Lakhani", "link": "https://stackoverflow.com/users/5147146/hardik-lakhani"}, "reply_to_user": {"reputation": 611, "user_id": 6098397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_BiJJno9DcY/AAAAAAAAAAI/AAAAAAAAACc/RAJGXe32T0w/photo.jpg?sz=128", "display_name": "Rashpal Singh", "link": "https://stackoverflow.com/users/6098397/rashpal-singh"}, "edited": false, "score": 0, "creation_date": 1538565728, "post_id": 52624958, "comment_id": 92185035, "body": "@RashpalSingh mWordViewModel = ViewModelProviders.of(this).get(WordViewModel::class.java) not getting WordViewModel class"}, {"owner": {"reputation": 3, "user_id": 5147146, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l862eOqUWLM/AAAAAAAAAAI/AAAAAAAAACI/WMCEWYMacsw/photo.jpg?sz=128", "display_name": "Hardik Lakhani", "link": "https://stackoverflow.com/users/5147146/hardik-lakhani"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1538566033, "post_id": 52624958, "comment_id": 92185209, "body": "@yole  under application.hdlakhani.com.myapplication"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1538566228, "post_id": 52624958, "comment_id": 92185327, "body": "Have you added dependency regarding <code>ViewModel</code> architecture component?"}], "answers": [{"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1538566275, "creation_date": 1538566275, "answer_id": 52626120, "question_id": 52624958, "link": "https://stackoverflow.com/questions/52624958/i-am-getting-unresolved-reference-when-compiling-in-kotlin/52626120#52626120", "title": "I am getting Unresolved Reference when compiling in kotlin", "body": "<p>AndroidViewModel - it is used when you need context that time used this class other wise used ViewModel() class.\nbelow code is working are both condition if you used androidviewmodel or viewmodel.</p>\n\n<pre><code>class UserViewModel : ViewModel() {\n\nlateinit var userList: LiveData&lt;PagedList&lt;User&gt;&gt;\n\nprivate val compositeDisposable = CompositeDisposable()\n\nprivate val pageSize = 10\n\nlateinit var sourceFactory: UsersDataSourceFactory\n\nlateinit var productList:LiveData&lt;PagedList&lt;ProductsItem&gt;&gt;\nvar tDataSource: LiveData&lt;ProductListSource&gt;? = null\n\nlateinit var productListSource:ProductDataSourceFactory\n\nvar networkState: LiveData&lt;NetworkState&gt;? = null\nvar productData: LiveData&lt;Product&gt;? = null\nfun init(apiListener: ApiListener) {\n    sourceFactory = UsersDataSourceFactory(compositeDisposable, apiListener)\n    val config = PagedList.Config.Builder()\n            .setPageSize(pageSize)\n            .setEnablePlaceholders(false)\n            .build()\n    userList = LivePagedListBuilder&lt;Long, User&gt;(sourceFactory, config).build()\n}\nfun getProductData(apiListener: ApiListener){\n    productListSource= ProductDataSourceFactory(apiListener)\n    tDataSource = productListSource.mutableLiveData\n    networkState = Transformations.switchMap(productListSource.mutableLiveData) { dataSource -&gt; dataSource.networkState }\n    productData = Transformations.switchMap(productListSource.mutableLiveData) { dataSource -&gt; dataSource.productList }\n\n    val config=PagedList.Config.Builder()\n            .setInitialLoadSizeHint(5)\n            .setPageSize(pageSize)\n            .setEnablePlaceholders(false)\n            .build()\n    productList=LivePagedListBuilder&lt;Long,ProductsItem&gt;(productListSource,config).build()\n}\noverride fun onCleared() {\n    super.onCleared()\n    compositeDisposable.dispose()\n}\nfun retryGetProduct() {\n    productListSource.mutableLiveData.value!!.retry()\n}\n\nfun retry() {\n    sourceFactory.usersDataSourceLiveData.value!!.retry()\n}\n\nfun refresh() {\n    sourceFactory.usersDataSourceLiveData.value!!.invalidate()\n}\n</code></pre>\n\n<p>/*\n    fun getNetworkStateData(): LiveData = Transformations.switchMap(\n            productListSource.mutableLiveData, { it.networkState })</p>\n\n<pre><code>fun getNetworkState(): LiveData&lt;NetworkState&gt; = Transformations.switchMap&lt;UsersDataSource, NetworkState&gt;(\n        sourceFactory.usersDataSourceLiveData, { it.networkState })\n\nfun getRefreshState(): LiveData&lt;NetworkState&gt; = Transformations.switchMap&lt;UsersDataSource, NetworkState&gt;(\n        sourceFactory.usersDataSourceLiveData, { it.initialLoad })*/\n</code></pre>\n\n<p>}</p>\n\n<p>access like this way..</p>\n\n<pre><code> viewModel = ViewModelProviders.of(this).get(UserViewModel::class.java)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23460, "user_id": 1117415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icExy.jpg?s=128&g=1", "display_name": "Benito Bertoli", "link": "https://stackoverflow.com/users/1117415/benito-bertoli"}, "reply_to_user": {"reputation": 3, "user_id": 5147146, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l862eOqUWLM/AAAAAAAAAAI/AAAAAAAAACI/WMCEWYMacsw/photo.jpg?sz=128", "display_name": "Hardik Lakhani", "link": "https://stackoverflow.com/users/5147146/hardik-lakhani"}, "edited": false, "score": 0, "creation_date": 1538567500, "post_id": 52626130, "comment_id": 92186063, "body": "If this worked for you, please mark this as correct answer. thanks!"}], "tags": [], "owner": {"reputation": 23460, "user_id": 1117415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icExy.jpg?s=128&g=1", "display_name": "Benito Bertoli", "link": "https://stackoverflow.com/users/1117415/benito-bertoli"}, "is_accepted": true, "score": 1, "last_activity_date": 1538566347, "creation_date": 1538566347, "answer_id": 52626130, "question_id": 52624958, "link": "https://stackoverflow.com/questions/52624958/i-am-getting-unresolved-reference-when-compiling-in-kotlin/52626130#52626130", "title": "I am getting Unresolved Reference when compiling in kotlin", "body": "<p>If you copied the file <code>WordViewModel.kt</code> from another project, make sure you change the package name in the first line to the one you are using in your project.</p>\n\n<pre><code>package application.hdlakhani.com.myapplication\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5147146, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l862eOqUWLM/AAAAAAAAAAI/AAAAAAAAACI/WMCEWYMacsw/photo.jpg?sz=128", "display_name": "Hardik Lakhani", "link": "https://stackoverflow.com/users/5147146/hardik-lakhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1795, "favorite_count": 0, "accepted_answer_id": 52626130, "answer_count": 2, "score": 0, "last_activity_date": 1538566347, "creation_date": 1538562336, "last_edit_date": 1538565637, "question_id": 52624958, "link": "https://stackoverflow.com/questions/52624958/i-am-getting-unresolved-reference-when-compiling-in-kotlin", "title": "I am getting Unresolved Reference when compiling in kotlin", "body": "<p>I am new in kotlin and I am getting <strong>Unresolved Reference</strong> when compiling<br>\nit can not get a reference to my class, here are both classes.</p>\n\n<p>This is my <code>Activity</code> class</p>\n\n<p><strong>RoomActivity.kt</strong></p>\n\n<pre><code>class RoomActivity : AppCompatActivity() {\n\nval NEW_WORD_ACTIVITY_REQUEST_CODE = 1\n\n//    private var mWordViewModel: WordViewModel? = null\nprivate var mWordViewModel: WordViewModel?=null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_room)\n\n    val toolbar = findViewById&lt;Toolbar&gt;(R.id.toolbar)\n    setSupportActionBar(toolbar)\n\n    val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.recyclerview)\n    val adapter = WordListAdapter(this)\n    recyclerView.adapter = adapter\n    recyclerView.layoutManager = LinearLayoutManager(this)\n\n    // Get a new or existing ViewModel from the ViewModelProvider.\n    mWordViewModel = ViewModelProviders.of(this).get(WordViewModel::class.java)\n\n    // Add an observer on the LiveData returned by getAlphabetizedWords.\n    // The onChanged() method fires when the observed data changes and the activity is\n    // in the foreground.\n    mWordViewModel!!.allWords.observe(this, Observer&lt;List&lt;Word&gt;&gt; {\n        adapter.setWords(Word)\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    })\n\n    val fab = findViewById&lt;FloatingActionButton&gt;(R.id.fab)\n    fab.setOnClickListener(object : View.OnClickListener {\n        override fun onClick(view: View) {\n            val intent = Intent(this@RoomActivity, NewWordActivity::class.java)\n            startActivityForResult(intent, NEW_WORD_ACTIVITY_REQUEST_CODE)\n        }\n    })\n}\n\npublic override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == NEW_WORD_ACTIVITY_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\n        val word = Word(data!!.getStringExtra(NewWordActivity.EXTRA_REPLY))\n        mWordViewModel!!.insert(word)\n    } else {\n        Toast.makeText(\n                applicationContext,\n                R.string.empty_not_saved,\n                Toast.LENGTH_LONG).show()\n    }\n}\n\n}\n</code></pre>\n\n<p>This is my <code>ViewModel</code> class</p>\n\n<p>WordViewModel.kt</p>\n\n<pre><code>class WordViewModel(application: Application) : AndroidViewModel(application) {\n\nprivate var parentJob = Job()\nprivate val coroutineContext: CoroutineContext\n    get() = parentJob + Dispatchers.Main\nprivate val scope = CoroutineScope(coroutineContext)\n\nprivate val repository: WordRepository\nval allWords: LiveData&lt;List&lt;Word&gt;&gt;\n\ninit {\n    val wordsDao = WordRoomDatabase.getDatabase(application)?.wordDao()\n    repository = WordRepository(wordsDao!!)\n    allWords = repository.allWords\n}\n\nfun insert(word: Word) = scope.launch(Dispatchers.IO) {\n    repository.insert(word)\n}\n\noverride fun onCleared() {\n    super.onCleared()\n    parentJob.cancel()\n}\n}\n</code></pre>\n\n<p>what's wrong in that please help me out.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "serialversionuid"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10450474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41a8d2b26da0fd1d7afdeba7ef38efed?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/10450474/michiel"}, "edited": false, "score": 0, "creation_date": 1538564220, "post_id": 52624595, "comment_id": 92184215, "body": "Thanks @yole, that makes a lot of sense. I will relay this back to the team"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 0, "last_activity_date": 1538561169, "creation_date": 1538561169, "answer_id": 52624595, "question_id": 52624187, "link": "https://stackoverflow.com/questions/52624187/necessity-of-serialversionuid-in-kotlin-when-developing-for-android/52624595#52624595", "title": "necessity of serialVersionUID in Kotlin when developing for Android", "body": "<p><code>serialVersionUID</code> is only used by Java serialization (<code>java.io.Serializable</code>). Most Android applications use Android-specific serialization (<code>Parcelable</code>), because it's more efficient. If your application does not use Java serialization, there is no benefit in including <code>serialVersionUID</code> in your classes, regardless of whether you're using Java or Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9454607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxwRS.jpg?s=128&g=1", "display_name": "Scott Smith", "link": "https://stackoverflow.com/users/9454607/scott-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1576721909, "creation_date": 1576721909, "answer_id": 59402486, "question_id": 52624187, "link": "https://stackoverflow.com/questions/52624187/necessity-of-serialversionuid-in-kotlin-when-developing-for-android/59402486#59402486", "title": "necessity of serialVersionUID in Kotlin when developing for Android", "body": "<p>This is necessary if you insist on using the Serializable class, this is to prevent the problem of deserialization failure caused by property changes. Now you can use the plugin in Android Studio to automatically generate the default Serial Version UID like Java. The plugin address is here: <a href=\"https://plugins.jetbrains.com/plugin/13497-generateserialversionuid/\" rel=\"nofollow noreferrer\">Generateserialversionuid</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 10450474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41a8d2b26da0fd1d7afdeba7ef38efed?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/10450474/michiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 52624595, "answer_count": 2, "score": 0, "last_activity_date": 1576721909, "creation_date": 1538559858, "question_id": 52624187, "link": "https://stackoverflow.com/questions/52624187/necessity-of-serialversionuid-in-kotlin-when-developing-for-android", "title": "necessity of serialVersionUID in Kotlin when developing for Android", "body": "<p>I had an internal discussion on the requirements for a serialVersionUID when coding in Kotlin, specifically for the Android platform. In Java we always added it, since Android Studio makes it real easy. However, there is no help there for Kotlin whatsoever. This made us question the requirement in Kotlin for serialVersionUID. </p>\n\n<p>What are your thoughts on this; </p>\n\n<ul>\n<li>Are there scenarios conceivable when things could go awry? </li>\n<li>Did you still add the serialVersionUID (as a companion object presumably)?</li>\n</ul>\n\n<p>I'm eager to hear your opinions.</p>\n"}, {"tags": ["junit", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 2618498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002918245927/picture?type=large", "display_name": "Valery  Kulikov", "link": "https://stackoverflow.com/users/2618498/valery-kulikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1538563250, "creation_date": 1538563250, "answer_id": 52625257, "question_id": 52623915, "link": "https://stackoverflow.com/questions/52623915/dagger2-in-kotlinss-test-never-compiles/52625257#52625257", "title": "Dagger2 in kotlins&#39;s test never compiles", "body": "<p>Well it seems <a href=\"https://stackoverflow.com/a/38097727/2618498\">i found the answer</a>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZM2HV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZM2HV.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 151, "user_id": 2618498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002918245927/picture?type=large", "display_name": "Valery  Kulikov", "link": "https://stackoverflow.com/users/2618498/valery-kulikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538563250, "creation_date": 1538558975, "question_id": 52623915, "link": "https://stackoverflow.com/questions/52623915/dagger2-in-kotlinss-test-never-compiles", "title": "Dagger2 in kotlins&#39;s test never compiles", "body": "<p>When i try to use <code>Dagger2</code> in <code>'/androidTest'</code> it compiles:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EiFCe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EiFCe.png\" alt=\"enter image description here\"></a></p>\n\n<p>but for <code>/test</code> folder it fails:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DOSyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DOSyz.png\" alt=\"enter image description here\"></a></p>\n\n<p>I simplified code extremely, tried it accurate many times with variants but never succeeded</p>\n\n<p>What a mystery knowledge i miss?</p>\n"}, {"tags": ["apache", "spring-boot", "kotlin", "openshift", "spring-boot-actuator"], "answers": [{"comments": [{"owner": {"reputation": 1573, "user_id": 1242531, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FA1Dh.jpg?s=128&g=1", "display_name": "Spacemonkey", "link": "https://stackoverflow.com/users/1242531/spacemonkey"}, "edited": false, "score": 1, "creation_date": 1538648113, "post_id": 52644159, "comment_id": 92220549, "body": "Yes, we did the same yesterday but we are not confortable to modify the HttpFirewall. We are still looking for the root cause beacuse we don&#39;t add any extra bar.. At least that&#39;s what I think."}], "tags": [], "owner": {"reputation": 1, "user_id": 10451721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oc7Qb.png?s=128&g=1", "display_name": "Ed Jeffreys", "link": "https://stackoverflow.com/users/10451721/ed-jeffreys"}, "is_accepted": false, "score": 0, "last_activity_date": 1538647987, "creation_date": 1538647987, "answer_id": 52644159, "question_id": 52623669, "link": "https://stackoverflow.com/questions/52623669/url-was-not-normalized-with-spring-boot-2-and-kotlin/52644159#52644159", "title": "&quot;URL was not normalized&quot; with Spring Boot 2 and Kotlin", "body": "<p>Check this answer: <a href=\"https://stackoverflow.com/a/48644226/10451721\">https://stackoverflow.com/a/48644226/10451721</a></p>\n\n<p>It seems to be the same issue as yours but in Java instead of Kotlin.</p>\n\n<p>Spring doesn't like <code>//</code> in URLs by default.</p>\n\n<p>I have converted the Java in the linked answer for you:</p>\n\n<pre><code>@Bean\nfun allowUrlEncodedSlashHttpFirewall(): HttpFirewall {\n    val firewall = StrictHttpFirewall()\n    firewall.setAllowUrlEncodedSlash(true)\n    return firewall\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1573, "user_id": 1242531, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FA1Dh.jpg?s=128&g=1", "display_name": "Spacemonkey", "link": "https://stackoverflow.com/users/1242531/spacemonkey"}, "is_accepted": true, "score": 0, "last_activity_date": 1543339883, "creation_date": 1543339883, "answer_id": 53505108, "question_id": 52623669, "link": "https://stackoverflow.com/questions/52623669/url-was-not-normalized-with-spring-boot-2-and-kotlin/53505108#53505108", "title": "&quot;URL was not normalized&quot; with Spring Boot 2 and Kotlin", "body": "<p>Solved by adding context to the application in our balancer.\nNow all our endpoints have a context in our microservice, defined in application.yml.</p>\n\n<pre><code>From                            To\n/msa/microname1          -&gt;     /\n/msa/microname2          -&gt;     /\n/msa/Kotlinname/kt       -&gt;     /kt\n</code></pre>\n"}], "owner": {"reputation": 1573, "user_id": 1242531, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FA1Dh.jpg?s=128&g=1", "display_name": "Spacemonkey", "link": "https://stackoverflow.com/users/1242531/spacemonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5658, "favorite_count": 0, "accepted_answer_id": 53505108, "answer_count": 2, "score": 0, "last_activity_date": 1543339883, "creation_date": 1538558234, "last_edit_date": 1538651010, "question_id": 52623669, "link": "https://stackoverflow.com/questions/52623669/url-was-not-normalized-with-spring-boot-2-and-kotlin", "title": "&quot;URL was not normalized&quot; with Spring Boot 2 and Kotlin", "body": "<p>In my current project we deploy several <code>Spring Boot 1.5.4.RELEASE</code> microservices in <code>Openshift</code> with <code>Kubernetes</code>. We have configured an Apache Proxy Balancer:</p>\n\n<pre><code>From                            To\n/msa/microname1          -&gt;     /\n/msa/microname2          -&gt;     /\n...\n</code></pre>\n\n<p>Recently we introduced <code>Spring Boot 2</code> and we developed a new microservice with <code>Kotlin</code>. We configured the balancer the same way considering that urls like <code>/health</code> and <code>/info</code> are placed under <code>/actuator</code> path.\nNow when we consume any endpoint of this new microservice (<code>/health</code> or any of our endpoints) we are having an error like this:</p>\n\n<blockquote>\n  <p>org.springframework.security.web.firewall.RequestRejectedException:\n  The request was rejected because the URL was not normalized ...</p>\n</blockquote>\n\n<p>The path that we intercept in our microservice has an extra slash in the beginning: <code>//&lt;path_to_resource&gt;</code></p>\n\n<p>When I use the microservice url I get the resource without problems, but when using the proxy balancer mapping we have the issue described above.</p>\n\n<p>We checked our proxy balancer and it is configured the same way than the others.\nIs is any extra configuration on <code>Spring Boot 2</code> we have to consider? \nCan this be a problem related to <code>Kotlin</code>?</p>\n\n<p><strong>Update</strong></p>\n\n<p>As a tweak we have configured the DefaultHttpFirewall to allow url enconded slash, but this does not fixes the issue with the double slash. It only masks the problem.</p>\n\n<pre><code>@Bean\nfun allowUrlEncodedSlash(): HttpFirewall {\n    var firewall: DefaultHttpFirewall = DefaultHttpFirewall()\n    firewall.setAllowUrlEncodedSlash(true)\n    return firewall\n}\n\noverride fun configure(web: WebSecurity) {\n    web.httpFirewall(allowUrlEncodedSlash())\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 84, "user_id": 4980713, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oHABP8UKSNY/AAAAAAAAAAI/AAAAAAAAAXM/sdYVM8Xarx4/photo.jpg?sz=128", "display_name": "Edy Daoud", "link": "https://stackoverflow.com/users/4980713/edy-daoud"}, "is_accepted": true, "score": 5, "last_activity_date": 1538561432, "last_edit_date": 1538561432, "creation_date": 1538559410, "answer_id": 52624055, "question_id": 52623649, "link": "https://stackoverflow.com/questions/52623649/kotlin-coroutines-async-await/52624055#52624055", "title": "Kotlin Coroutines - Async Await", "body": "<p>Example 1:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n    val time = measureTimeMillis {\n        val one = async {\n            delay(1000)\n            return@async 1\n        }\n        val two = async {\n            delay(3000)\n            return@async 2\n        }\n        println(\"The answer is ${one.await() + two.await()}\")\n    }\n    println(\"Completed in $time ms\")\n}\n</code></pre>\n\n<p>Result 1:</p>\n\n<pre><code>The answer is 3\nCompleted in 3041 ms\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n    val time = measureTimeMillis {\n        val one = async {\n            delay(1000)\n            return@async 1\n        }.await()\n        val two = async {\n            delay(3000)\n            return@async 2\n        }.await()\n        println(\"The answer is ${one + two}\")\n    }\n    println(\"Completed in $time ms\")\n}\n</code></pre>\n\n<p>Result 2:</p>\n\n<pre><code>The answer is 3\nCompleted in 4043 ms\n</code></pre>\n\n<p>Check out this link for the official documentation for <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/docs/composing-suspending-functions.md#concurrent-using-async\" rel=\"noreferrer\">Concurrent using async</a></p>\n\n<p><strong>Conclusion</strong></p>\n\n<p>async-await-async-await will result in pure sequential code</p>\n\n<p>async-async-await-await will run in parallel </p>\n"}], "owner": {"reputation": 41, "user_id": 6079487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bc282b0e4ded252431cf5e3b19cf5c9?s=128&d=identicon&r=PG&f=1", "display_name": "Julien Raad", "link": "https://stackoverflow.com/users/6079487/julien-raad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1823, "favorite_count": 0, "accepted_answer_id": 52624055, "answer_count": 1, "score": 3, "last_activity_date": 1564056204, "creation_date": 1538558153, "last_edit_date": 1564056204, "question_id": 52623649, "link": "https://stackoverflow.com/questions/52623649/kotlin-coroutines-async-await", "title": "Kotlin Coroutines - Async Await", "body": "<p>In his article about Structured Concurrency in Kotlin (<a href=\"https://medium.com/@elizarov/structured-concurrency-722d765aa952\" rel=\"nofollow noreferrer\">https://medium.com/@elizarov/structured-concurrency-722d765aa952</a>), Roman Elizarov explains parallel decomposition by giving the following example: </p>\n\n<pre><code>coroutineScope { \n    val deferred1 = async { loadImage(name1) }\n    val deferred2 = async { loadImage(name2) }\n    combineImages(deferred1.await(), deferred2.await())\n}\n</code></pre>\n\n<p>Obviously, this code is self-explanatory. However will we get the same result if we write this instead</p>\n\n<pre><code>coroutineScope { \n    val result1 = async { loadImage(name1) }.await()\n    val result2 = async { loadImage(name2) }.await()\n    combineImages(result1, result2)\n}\n</code></pre>\n\n<p>Meaning, will both async still run in parallel or the 2nd async call will never run until result1 is available ?</p>\n"}, {"tags": ["websocket", "kotlin", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 350, "user_id": 2458904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f23eb86ea85bca87c3f081025becba6?s=128&d=identicon&r=PG", "display_name": "Leonid", "link": "https://stackoverflow.com/users/2458904/leonid"}, "is_accepted": false, "score": 0, "last_activity_date": 1592212845, "creation_date": 1592212845, "answer_id": 62385114, "question_id": 52623482, "link": "https://stackoverflow.com/questions/52623482/ktor-cio-wss-socket-closes-immediately/62385114#62385114", "title": "Ktor CIO wss socket closes immediately", "body": "<p>I there was an issue with secure WebSockets and it is fixed in ktor <code>1.3.2</code>.</p>\n\n<p>I also want to mention that <code>echo.websocket.org</code> doesn't close connection, so the for loop will be suspended forever(expecting the next pong message).</p>\n\n<p>To avoid that you can rewrite this</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>for (message in incoming.map { it as? Frame.Text }.filterNotNull()) {\n    println(message.readText())\n}\n</code></pre>\n\n<p>as</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val pong = incoming.receive() as Frame.Text\nprintln(pong.readText())\n</code></pre>\n\n<p>It also should be ok to call <code>close()</code> explicitly after sending the first message, but it's unsupported for now. I filed the separate issue for that:  <a href=\"https://github.com/ktorio/ktor/issues/1946\" rel=\"nofollow noreferrer\">https://github.com/ktorio/ktor/issues/1946</a></p>\n"}], "owner": {"reputation": 181, "user_id": 7994539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2g2mm.png?s=128&g=1", "display_name": "Marshall Walker", "link": "https://stackoverflow.com/users/7994539/marshall-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1592212845, "creation_date": 1538557666, "last_edit_date": 1538607312, "question_id": 52623482, "link": "https://stackoverflow.com/questions/52623482/ktor-cio-wss-socket-closes-immediately", "title": "Ktor CIO wss socket closes immediately", "body": "<p>When using ktor CIO ws it works as expected, but when using wss it gets closed immediately. Any help is greatly appreciated. been stuck for a day now.</p>\n\n<p>This is the stack trace I'm getting for wss</p>\n\n<pre><code>kotlinx.coroutines.experimental.channels.ClosedReceiveChannelException: Channel was closed\n    at kotlinx.coroutines.experimental.channels.Closed.getReceiveException(AbstractChannel.kt:1067)\n    at kotlinx.coroutines.experimental.channels.AbstractChannel$ReceiveElement.resumeReceiveClosed(AbstractChannel.kt:907)\n    at kotlinx.coroutines.experimental.channels.AbstractSendChannel.helpClose(AbstractChannel.kt:317)\n    at kotlinx.coroutines.experimental.channels.AbstractSendChannel.close(AbstractChannel.kt:254)\n    at kotlinx.coroutines.experimental.channels.ChannelCoroutine.close(ChannelCoroutine.kt)\n    at kotlinx.coroutines.experimental.channels.SendChannel$DefaultImpls.close$default(Channel.kt:84)\n    at io.ktor.network.tls.TLSClientHandshake$input$1.doResume(TLSClientHandshake.kt:96)\n    at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resumeWithException(CoroutineImpl.kt:48)\n    at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resumeWithException(CoroutineImpl.kt:47)\n    at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:41)\n    at kotlinx.coroutines.experimental.DispatchedTask$DefaultImpls.run(Dispatched.kt:149)\n    at kotlinx.coroutines.experimental.io.internal.MutableDelegateContinuation.run(MutableDelegateContinuation.kt:14)\n    at io.ktor.network.util.IOCoroutineDispatcher$IODispatchedTask.run(IOCoroutineDispatcher.kt)\n    at io.ktor.network.util.IOCoroutineDispatcher$IOThread$run$1.doResume(IOCoroutineDispatcher.kt:73)\n    at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:42)\n    at kotlinx.coroutines.experimental.DispatchedTask$DefaultImpls.run(Dispatched.kt:149)\n    at kotlinx.coroutines.experimental.DispatchedContinuation.run(Dispatched.kt:13)\n    at kotlinx.coroutines.experimental.EventLoopBase.processNextEvent(EventLoop.kt:140)\n    at kotlinx.coroutines.experimental.BlockingCoroutine.joinBlocking(Builders.kt:70)\n    at kotlinx.coroutines.experimental.BuildersKt__BuildersKt.runBlocking(Builders.kt:46)\n    at kotlinx.coroutines.experimental.BuildersKt.runBlocking(Unknown Source)\n    at io.ktor.network.util.IOCoroutineDispatcher$IOThread.run(IOCoroutineDispatcher.kt:68)\n</code></pre>\n\n<p>here's the code:</p>\n\n<pre><code>httpClient.ws(host = \"echo.websocket.org\") {\n  send(Frame.Text(\"Hello World\"))\n\n  for (message in incoming.map { it as? Frame.Text }.filterNotNull()) {\n    println(message.readText())\n  }\n}\n\nhttpClient.wss(host = \"echo.websocket.org\") {\n  send(Frame.Text(\"Hello World\"))\n\n  for (message in incoming.map { it as? Frame.Text }.filterNotNull()) {\n    println(message.readText())\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-workmanager", "android-livedata"], "comments": [{"owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "edited": false, "score": 0, "creation_date": 1538558070, "post_id": 52623018, "comment_id": 92180629, "body": "To use LiveData in a test setup requires the core-testing library and InstantTaskExecutorRule - see: <a href=\"https://stackoverflow.com/questions/49840444/mutablelivedata-is-null-in-junittest/49840604#49840604\" title=\"mutablelivedata is null in junittest\">stackoverflow.com/questions/49840444/&hellip;</a>"}, {"owner": {"reputation": 267, "user_id": 5662792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06ac94193989809c25e5266a58165401?s=128&d=identicon&r=PG&f=1", "display_name": "FreddCha", "link": "https://stackoverflow.com/users/5662792/freddcha"}, "reply_to_user": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "edited": false, "score": 0, "creation_date": 1538564983, "post_id": 52623018, "comment_id": 92184631, "body": "Not sure if I am getting you correctly, but I am not doing any tests. Besides where should I add the code exactly to get rid of this error. I just added the testing library but the error is still there"}, {"owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "edited": false, "score": 0, "creation_date": 1538574217, "post_id": 52623018, "comment_id": 92190367, "body": "My mistake - I thought TestWorker was a test component. In that case your problem looks to be that networkData.observeForever is invoked off the main thread. If UserRepository has to be created on a different thread you will need to marshal this call to run on the main thread. An easy way to do this would be to use a Handler."}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1546946009, "post_id": 54090499, "comment_id": 95013410, "body": "Actually he could just use <code>executors.mainThread()</code> instead of <code>Handler(Looper.getMainLooper())</code>."}, {"owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 4, "creation_date": 1546946609, "post_id": 54090499, "comment_id": 95013734, "body": "You are right, there are some other possibilities to switch to the main thread. If he is using kotlin coroutines he can switch by using <code>GlobalScope.launch(Dispatchers.Main) {  }</code>, too :)"}], "tags": [], "owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "is_accepted": false, "score": 18, "last_activity_date": 1607680268, "last_edit_date": 1607680268, "creation_date": 1546945684, "answer_id": 54090499, "question_id": 52623018, "link": "https://stackoverflow.com/questions/52623018/java-lang-illegalstateexception-cannot-invoke-observeforever-on-a-background-th/54090499#54090499", "title": "java.lang.IllegalStateException: Cannot invoke observeForever on a background thread", "body": "<p>Change this:</p>\n<pre><code>networkData.observeForever { newData-&gt;\n    appExecutors.diskIO().execute {\n        userDao.insert(newData.user)\n    }\n}\n</code></pre>\n<p>To:</p>\n<p><strong>Variant B</strong> (with coroutines):</p>\n<pre><code>GlobalScope.launch(Dispatchers.Main) { networkData.observerForever { /*..*/ } }\n</code></pre>\n<p>But be aware, the usage of <code>GlobalScope</code> is not recommended: <a href=\"https://stackoverflow.com/a/54351785/1185087\">https://stackoverflow.com/a/54351785/1185087</a></p>\n<p><strong>Variant A</strong> (without coroutines):</p>\n<pre><code>Handler(Looper.getMainLooper()).post { networkData.observeForever{ /*..*/ } }\n</code></pre>\n<h2>Explanation</h2>\n<p>Normally <code>observe(..)</code> and <code>observeForever(..)</code> should be called from the main thread because their callbacks (<code>Observer&lt;T&gt;.onChanged(T t)</code>) often change the UI which is only possible in the main thread. That's the reason why android checks if the call of the observe functions is done by the main thread.</p>\n<p>In your case <code>UserRepository.init{}</code> is called by a background thread, so the exception is thrown. To switch back to the main thread you can use one of the above variants. But be aware the code inside of your observe callback is executed by the main thread, too. Any expensive processing inside this callback will <strong>freeze</strong> your UI!</p>\n"}, {"tags": [], "owner": {"reputation": 645, "user_id": 2006827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4592d2fa44f6be24fe348bbee33e700?s=128&d=identicon&r=PG&f=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/2006827/danny"}, "is_accepted": false, "score": 1, "last_activity_date": 1555401528, "creation_date": 1555401528, "answer_id": 55703269, "question_id": 52623018, "link": "https://stackoverflow.com/questions/52623018/java-lang-illegalstateexception-cannot-invoke-observeforever-on-a-background-th/55703269#55703269", "title": "java.lang.IllegalStateException: Cannot invoke observeForever on a background thread", "body": "<p>Additionally to the nice and detailled answer from @user1185087 here is a solution if you're using RxJava in your project. It's maybe not that short, but if you already use RxJava in your project, it's an elegant way to switch to the required thread (in this case the Android's UI thread via <code>.observeOn(AndroidSchedulers.mainThread())</code>).</p>\n\n<pre><code>Observable.just(workManager.getStatusById(workRequest.getId()))\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(status -&gt; status.observeForever(workStatus -&gt; {\n        // Handling result on UI thread\n    }), err -&gt; Log.e(TAG, err.getMessage(), err));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1391, "user_id": 4308897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X67wO4XjVAE/AAAAAAAAAAI/AAAAAAAAADw/NacwJv67gHI/photo.jpg?sz=128", "display_name": "Ercan", "link": "https://stackoverflow.com/users/4308897/ercan"}, "is_accepted": false, "score": 12, "last_activity_date": 1569576593, "creation_date": 1569576593, "answer_id": 58131708, "question_id": 52623018, "link": "https://stackoverflow.com/questions/52623018/java-lang-illegalstateexception-cannot-invoke-observeforever-on-a-background-th/58131708#58131708", "title": "java.lang.IllegalStateException: Cannot invoke observeForever on a background thread", "body": "<p>In another solution, you can call it from main dispatcher as</p>\n\n<pre><code>GlobalScope.launch(Dispatchers.Main) {\n  // your code here...\n}\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 5662792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06ac94193989809c25e5266a58165401?s=128&d=identicon&r=PG&f=1", "display_name": "FreddCha", "link": "https://stackoverflow.com/users/5662792/freddcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11370, "favorite_count": 0, "answer_count": 3, "score": 14, "last_activity_date": 1607680268, "creation_date": 1538556060, "last_edit_date": 1538557215, "question_id": 52623018, "link": "https://stackoverflow.com/questions/52623018/java-lang-illegalstateexception-cannot-invoke-observeforever-on-a-background-th", "title": "java.lang.IllegalStateException: Cannot invoke observeForever on a background thread", "body": "<p>Can someone help me find where I am going wrong here. I need to continously observer network data and update the UI whenever there is a data change from the Worker. Please note that this was working before upgrading to androidx.</p>\n\n<p>Here is a Worker class.</p>\n\n<pre><code>class TestWorker(val context: Context, val params: WorkerParameters): Worker(context, params){\n\n    override fun doWork(): Result {\n        Log.d(TAG, \"doWork called\")\n        val networkDataSource = Injector.provideNetworkDataSource(context)\n        networkDataSource.fetchData(false)\n\n        return Worker.Result.SUCCESS\n    }\n\n    companion object {\n        private const val TAG = \"MY_WORKER\"\n    }\n\n}\n</code></pre>\n\n<p>Which is called as follows:</p>\n\n<pre><code>fun scheduleRecurringFetchDataSync() {\n    Log.d(\"FETCH_SCHEDULER\", \"Scheduling started\")\n\n    val fetchWork = PeriodicWorkRequest.Builder(TestWorker::class.java, 1, TimeUnit.MINUTES)\n            .setConstraints(constraints())\n            .build()\n    WorkManager.getInstance().enqueue(fetchWork)\n}\n\nprivate fun constraints(): Constraints{\n    return Constraints.Builder()\n            .setRequiredNetworkType(NetworkType.CONNECTED)\n            .setRequiresBatteryNotLow(true)\n            .build()\n}\n</code></pre>\n\n<p>I also have a UserDao and UserRepository to fetch and store data. I am observing the network data in the UserRepository as follows:</p>\n\n<pre><code>class UserRepository (\n    private val userDao: UserDao,\n    private val networkDataSource: NetworkDataSource,\n    private val appExecutors: AppExecutors){\n\ninit {\n    val networkData= networkDataSource.downloadedData\n    networkData.observeForever { newData-&gt;\n        appExecutors.diskIO().execute {\n            userDao.insert(newData.user)\n        }\n    }}\n</code></pre>\n\n<p>Can someone help me locate where I am going wrong. This is giving me error as follows: </p>\n\n<pre><code>java.lang.IllegalStateException: Cannot invoke observeForever on a background thread\n    at androidx.lifecycle.LiveData.assertMainThread(LiveData.java:443)\n    at androidx.lifecycle.LiveData.observeForever(LiveData.java:204)\n    at com.example.app.data.repo.UserRepository.&lt;init&gt;(UserRepository.kt:17)\n    at com.example.app.data.repo.UserRepository$Companion.getInstance(UserRepository.kt:79)\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "filter", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 156, "user_id": 6531777, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/a850da19b9e85b11c5e1692e09ae8f45?s=128&d=identicon&r=PG&f=1", "display_name": "SicaYoumi", "link": "https://stackoverflow.com/users/6531777/sicayoumi"}, "edited": false, "score": 0, "creation_date": 1538557439, "post_id": 52623193, "comment_id": 92180252, "body": "THanks @Branislav Lazic it works, however i only realized it runs after the JWTAuthenticationFilter but before entering the servlet(impl). But I want is run(my replaceresponsefilter) after it goes finished through the servlet(impl). Do you know wat i need to do? i still looking for it."}], "tags": [], "owner": {"reputation": 12817, "user_id": 1324709, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZzCz9.jpg?s=128&g=1", "display_name": "Branislav Lazic", "link": "https://stackoverflow.com/users/1324709/branislav-lazic"}, "is_accepted": true, "score": 6, "last_activity_date": 1538556674, "creation_date": 1538556674, "answer_id": 52623193, "question_id": 52622530, "link": "https://stackoverflow.com/questions/52622530/spring-boot-filter-error-failed-to-register-after-unregistered-filter/52623193#52623193", "title": "Spring Boot Filter error, Failed to register after unregistered Filter", "body": "<p>In <code>ReplaceResponseFilter</code>, you're missing:</p>\n\n<pre><code>filterChain.doFilter(request, response)\n</code></pre>\n\n<p>Otherwise, your filter chain cannot continue.\nI also believe that this is incorrect:</p>\n\n<pre><code>.addFilterAfter(ReplaceResponseFilter(), ReplaceResponseFilter::class.java)\n</code></pre>\n\n<p>As far as I understand your code, that filter should come after <code>JWTAuthenticationFilter</code>. Therefore:</p>\n\n<pre><code>.addFilterAfter(ReplaceResponseFilter(), JWTAuthenticationFilter::class.java)\n</code></pre>\n"}], "owner": {"reputation": 156, "user_id": 6531777, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/a850da19b9e85b11c5e1692e09ae8f45?s=128&d=identicon&r=PG&f=1", "display_name": "SicaYoumi", "link": "https://stackoverflow.com/users/6531777/sicayoumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5419, "favorite_count": 0, "accepted_answer_id": 52623193, "answer_count": 1, "score": 4, "last_activity_date": 1538556674, "creation_date": 1538554052, "last_edit_date": 1538556254, "question_id": 52622530, "link": "https://stackoverflow.com/questions/52622530/spring-boot-filter-error-failed-to-register-after-unregistered-filter", "title": "Spring Boot Filter error, Failed to register after unregistered Filter", "body": "<p>Im both new to Spring Boot and Kotlin. </p>\n\n<p>I'm having an error saying that</p>\n\n<pre><code>Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: \nCannot register after unregistered Filter class com.jxinternet.platform.ms.merchant.config.security.ReplaceResponseFilter\n\n\n2018-10-03 15:50:21.601 ERROR 63436 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: Cannot register after unregistered Filter class com.jxinternet.platform.ms.merchant.config.security.ReplaceResponseFilter\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243)\n    at com.jxinternet.platform.ms.merchant.MerchantApplicationKt.main(MerchantApplication.kt:28)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: Cannot register after unregistered Filter class com.jxinternet.platform.ms.merchant.config.security.ReplaceResponseFilter\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579)\n    ... 20 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Cannot register after unregistered Filter class com.jxinternet.platform.ms.merchant.config.security.ReplaceResponseFilter\n    at org.springframework.security.config.annotation.web.builders.FilterComparator.registerAfter(FilterComparator.java:156)\n    at org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterAfter(HttpSecurity.java:1121)\n    at com.jxinternet.platform.ms.merchant.config.security.WebSecurityConfig.configure(WebSecurityConfig.kt:64)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:230)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:321)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:92)\n    at com.jxinternet.platform.ms.merchant.config.security.WebSecurityConfig$$EnhancerBySpringCGLIB$$7e2d609b.init(&lt;generated&gt;)\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:371)\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:325)\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$f5effa1c.CGLIB$springSecurityFilterChain$3(&lt;generated&gt;)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$f5effa1c$$FastClassBySpringCGLIB$$d83091e8.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$f5effa1c.springSecurityFilterChain(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 21 common frames omitted\n\nDisconnected from the target VM, address: '127.0.0.1:51914', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>my ReplaceResponseFilter.kt</p>\n\n<pre><code>package com.jxinternet.platform.ms.merchant.config.security\n\nimport org.slf4j.LoggerFactory\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.core.annotation.Order\nimport org.springframework.hateoas.VndErrors\nimport org.springframework.http.HttpStatus\nimport org.springframework.security.core.context.SecurityContextHolder\nimport org.springframework.web.filter.GenericFilterBean\nimport javax.servlet.*\nimport javax.servlet.http.HttpServletRequest\nimport javax.servlet.http.HttpServletResponse\nimport javax.servlet.http.HttpServletResponseWrapper\n\n\nopen class ReplaceResponseFilter : Filter {\n\n    companion object {\n        private val log = LoggerFactory.getLogger(ReplaceResponseFilter::class.java)\n    }\n\n    override fun doFilter(request: ServletRequest, response: ServletResponse, filterChain: FilterChain) {\n\n        val t = response as HttpServletResponseWrapper\n\n\n    }\n\n    override fun init(p0: FilterConfig?) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun destroy(){\n\n    }\n\n\n}\n</code></pre>\n\n<p>my WebSecurityConfig.kt</p>\n\n<pre><code>package com.jxinternet.platform.ms.merchant.config.security\n\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\nimport org.springframework.security.config.annotation.web.builders.WebSecurity\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter\nimport org.springframework.security.config.http.SessionCreationPolicy\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter\nimport org.springframework.security.web.firewall.HttpFirewall\nimport org.springframework.security.web.firewall.StrictHttpFirewall\n\n\n\n@Configuration\n@EnableWebSecurity\nclass WebSecurityConfig(\n        private val tokenAuthenticationService: TokenAuthenticationService,\n        private val objectMapper: ObjectMapper\n) : WebSecurityConfigurerAdapter() {\n\n    // \u9632\u6b62\u9632\u6b62url\u5e26\u4e24\u4e2a// spring security 5\u4f1a\u6709\u95ee\u9898 \u6240\u4ee5\u5fc5\u987b\u653e\u5f00\u8fd9\u4e2a\u914d\u7f6e\n    @Bean\n    fun allowUrlEncodedSlashHttpFirewall(): HttpFirewall {\n        val firewall = StrictHttpFirewall()\n        firewall.setAllowUrlEncodedSlash(true)\n        return firewall\n    }\n\n    override fun configure(web: WebSecurity) {\n        super.configure(web)\n        web.httpFirewall(allowUrlEncodedSlashHttpFirewall())\n    }\n\n    // \u8bbe\u7f6e HTTP \u9a8c\u8bc1\u89c4\u5219\n    override fun configure(http: HttpSecurity) {\n        // \u5173\u95edcsrf\u9a8c\u8bc1\n        http.csrf().disable()\n                // \u5bf9\u8bf7\u6c42\u8fdb\u884c\u8ba4\u8bc1\n                .authorizeRequests()\n                // \u6240\u6709 / \u7684\u6240\u6709\u8bf7\u6c42 \u90fd\u653e\u884c\n                .antMatchers(\n                        \"/\",\n                        \"/pay/**\",\n                        \"/scan/**\",\n                        \"/login\",\n                        \"/actuator/health\",\n                        \"/webjars/springfox-swagger-ui/**\",\n                        \"/swagger-ui.html\",\n                        \"/configuration/ui\",\n                        \"/swagger-resources\",\n                        \"/v2/api-docs\",\n                        \"/swagger-resources/**\").permitAll()\n                // \u6240\u6709 /login \u7684POST\u8bf7\u6c42 \u90fd\u653e\u884c\n                // \u6240\u6709\u8bf7\u6c42\u9700\u8981\u8eab\u4efd\u8ba4\u8bc1\n                .anyRequest().authenticated()\n                .and()\n                // \u6dfb\u52a0\u4e00\u4e2a\u8fc7\u6ee4\u5668 \u6240\u6709\u8bbf\u95ee /login \u7684\u8bf7\u6c42\u4ea4\u7ed9 JWTLoginFilter \u6765\u5904\u7406 \u8fd9\u4e2a\u7c7b\u5904\u7406\u6240\u6709\u7684JWT\u76f8\u5173\u5185\u5bb9\n                //.addFilterBefore(loginFilter(objectMapper, tokenAuthenticationService), UsernamePasswordAuthenticationFilter::class.java)\n                // \u6dfb\u52a0\u4e00\u4e2a\u8fc7\u6ee4\u5668\u9a8c\u8bc1\u5176\u4ed6\u8bf7\u6c42\u7684Token\u662f\u5426\u5408\u6cd5\n                .addFilterBefore(JWTAuthenticationFilter(tokenAuthenticationService, objectMapper), UsernamePasswordAuthenticationFilter::class.java)\n                .addFilterAfter(ReplaceResponseFilter(), ReplaceResponseFilter::class.java)\n                // \u8bbe\u7f6esession\u65e0\u72b6\u6001\uff01\uff01\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "servlets", "filter", "kotlin"], "comments": [{"owner": {"reputation": 2889, "user_id": 3079520, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LfkPU.jpg?s=128&g=1", "display_name": "dnsh", "link": "https://stackoverflow.com/users/3079520/dnsh"}, "edited": false, "score": 0, "creation_date": 1538556409, "post_id": 52621506, "comment_id": 92179741, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/25020331/spring-mvc-how-to-modify-json-response-sent-from-controller\">Spring MVC: How to modify json response sent from controller</a>"}, {"owner": {"reputation": 8565, "user_id": 1763035, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wpk6X.jpg?s=128&g=1", "display_name": "Andy Brown", "link": "https://stackoverflow.com/users/1763035/andy-brown"}, "edited": false, "score": 0, "creation_date": 1538559526, "post_id": 52621506, "comment_id": 92181484, "body": "Use <code>ResponseBodyAdvice</code>. You can&#39;t use filters. You must get in before the response has been written to the output stream because after that it&#39;s too late to do it without wrapping the original http response object (ugly)."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 7851137, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a804637f18b725ecc700004ea4575ff4?s=128&d=identicon&r=PG&f=1", "display_name": "TheNorth", "link": "https://stackoverflow.com/users/7851137/thenorth"}, "edited": false, "score": 0, "creation_date": 1577890215, "post_id": 52624234, "comment_id": 105275438, "body": "This Filter gets executed when a request is sent from client -&gt; server, and not the opposite."}], "tags": [], "owner": {"reputation": 21, "user_id": 4051757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d75d759aa6c2ccda62cb8689648101d?s=128&d=identicon&r=PG&f=1", "display_name": "amrendra", "link": "https://stackoverflow.com/users/4051757/amrendra"}, "is_accepted": false, "score": 1, "last_activity_date": 1538560003, "creation_date": 1538560003, "answer_id": 52624234, "question_id": 52621506, "link": "https://stackoverflow.com/questions/52621506/spring-custom-filter-to-filter-response-before-sending-back-to-client/52624234#52624234", "title": "Spring Custom Filter to filter response before sending back to client", "body": "<p>@Add Custom Filter class by Implementing filter interface. Override do filter method to modify your response.</p>\n\n<p>Define a bean @Component annotation and @Order annotation to mark the filter execution execution order if you are using more than one filter.</p>\n\n<pre><code>@Component\n@Order(1)\npublic class CustomFilter implements Filter {\n\n  @Override\n    public void doFilter(\n      ServletRequest request, \n      ServletResponse response, \n      FilterChain chain) throws IOException, ServletException {\n\n  HttpServletRequest req = (HttpServletRequest) request;\n  HttpServletResponse res = (HttpServletResponse) response;\n  chain.doFilter(request, response);\n        // Modify your response  \n        res.getContentType();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 156, "user_id": 6531777, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/a850da19b9e85b11c5e1692e09ae8f45?s=128&d=identicon&r=PG&f=1", "display_name": "SicaYoumi", "link": "https://stackoverflow.com/users/6531777/sicayoumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2663, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538560003, "creation_date": 1538550411, "question_id": 52621506, "link": "https://stackoverflow.com/questions/52621506/spring-custom-filter-to-filter-response-before-sending-back-to-client", "title": "Spring Custom Filter to filter response before sending back to client", "body": "<p>I'm new to the Spring Boot filter</p>\n\n<p>I'need to modify the response produced by the servlet(impl) to some pattern.</p>\n\n<p>For example, \n<strong>GetProductImpl</strong> will give the response of </p>\n\n<pre><code>{\n      \"id\": 72167,\n      \"merchantId\": 3,\n      \"amount\": 1,\n      \"state\": \"Unused\"\n}\n</code></pre>\n\n<p>So before it gets to send back to client i need to modify it to (it's kind of put the response under <em>module</em>)(for all response by all servlet)</p>\n\n<pre><code>{\n\"module\":[{\n      \"id\": 72167,\n      \"merchantId\": 3,\n      \"amount\": 1,\n      \"state\": \"Unused\"\n    }],\n\"success\":true,\n\"errorCode\":null,\n\"notSuccess\":false\n}\n</code></pre>\n\n<p>i looking for any method that can let me do this, because it's no point to do it inside the impl because if like that i need to do for all the impl (which is a lot and not viable). </p>\n\n<p><strong>If anyone have any other method that can achieve this also can because i don't know what approach to take to do this(java example also will do).</strong></p>\n\n<p>Thank you.</p>\n\n<p>My current approach of using filter seems to hit the wall because i using addFilter, addFilterBefore or even addFilterAfter, all of them need to have the out filter class which i don know what it is and focus on web security stuff (<em>UsernamePasswordAuthenticationFilter::class.java</em>).</p>\n\n<pre><code>.addFilterBefore(JWTAuthenticationFilter(tokenAuthenticationService, objectMapper), UsernamePasswordAuthenticationFilter::class.java)\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 9637740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uW5_Cr_Vi0k/AAAAAAAAAAI/AAAAAAAAADw/plN2Dm7WdNg/photo.jpg?sz=128", "display_name": "dragons0458", "link": "https://stackoverflow.com/users/9637740/dragons0458"}, "edited": false, "score": 0, "creation_date": 1538598059, "post_id": 52621498, "comment_id": 92203406, "body": "Thank you! but I needed something more generic :D"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1538550370, "creation_date": 1538550370, "answer_id": 52621498, "question_id": 52621298, "link": "https://stackoverflow.com/questions/52621298/problems-with-generics-within-kotlin/52621498#52621498", "title": "Problems with generics within Kotlin", "body": "<p>GeneralClass  should be</p>\n\n<pre><code>class GeneralClass {\nfun otro(param: ITest&lt;String&gt;, secondParam: Any) {\n    param.funTestInterface(secondParam as String)\n}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 9637740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uW5_Cr_Vi0k/AAAAAAAAAAI/AAAAAAAAADw/plN2Dm7WdNg/photo.jpg?sz=128", "display_name": "dragons0458", "link": "https://stackoverflow.com/users/9637740/dragons0458"}, "edited": false, "score": 0, "creation_date": 1538598018, "post_id": 52622052, "comment_id": 92203391, "body": "Thank you very much! This was what I needed! and very good explanation!"}], "tags": [], "owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "is_accepted": true, "score": 1, "last_activity_date": 1538552265, "creation_date": 1538552265, "answer_id": 52622052, "question_id": 52621298, "link": "https://stackoverflow.com/questions/52621298/problems-with-generics-within-kotlin/52622052#52622052", "title": "Problems with generics within Kotlin", "body": "<p>You want to use <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow noreferrer\">star-projections</a> here. You can use <code>param</code> with star projection to only safely read values from it (you can use it as an output type), but in your case the star is treat as input type. The star in compilation is treat as type <code>Nothing</code> which is not equivalent to <code>Any</code>. Said that, you can't use <code>Any</code> as an input to  <code>funTestInterface</code>.</p>\n\n<p>You can simply resolve that by generifying your <code>GeneralClass.otro()</code> function:</p>\n\n<pre><code>fun &lt;T&gt; otro(param: ITest&lt;T&gt;, secondParam: T) {\n    param.funTestInterface(secondParam)\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 9637740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uW5_Cr_Vi0k/AAAAAAAAAAI/AAAAAAAAADw/plN2Dm7WdNg/photo.jpg?sz=128", "display_name": "dragons0458", "link": "https://stackoverflow.com/users/9637740/dragons0458"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 52622052, "answer_count": 2, "score": 0, "last_activity_date": 1538552265, "creation_date": 1538549620, "question_id": 52621298, "link": "https://stackoverflow.com/questions/52621298/problems-with-generics-within-kotlin", "title": "Problems with generics within Kotlin", "body": "<p>I'm trying to do a generic class, but I can not get \"funTestInterface\" to stop asking for \"Nothing\", does anyone know why this can happen? Thank you!</p>\n\n<pre><code>package main\n\ninterface ITest&lt;S&gt; {\n    fun funTestInterface(param: S): S\n}\n\nclass GeneralClass {\n    fun otro(param: ITest&lt;*&gt;, secondParam: Any) {\n        param.funTestInterface(secondParam)\n    }\n}\n\nclass ImplementedClass : ITest&lt;String&gt; {\n\n    override fun funTestInterface(param: String): String {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n}\n\nfun main() {\n    val a = GeneralClass()\n\n    a.otro(ImplementedClass(), \"\")\n}\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin", "geocoder"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1538548086, "post_id": 52620880, "comment_id": 92175493, "body": "I don&#39;t understand how you plan to get all the ZIP codes.  If you cover a 20-30 square block region of Manhattan, there could be dozens of ZIP codes.  Does Google expose an API for doing this?"}, {"owner": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1538557938, "post_id": 52620880, "comment_id": 92180537, "body": "yes @Tim Biegeleisen you are right we have to create boundary box using  latLngBounds so we have the boundary point now using that point we are getting list full address from that boundary area using Geocoder."}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1538558002, "post_id": 52620880, "comment_id": 92180577, "body": "Just keep in mind that US ZIP codes can be divided in very uneven ways.  My doubt here is how you would know what the bounds of a given ZIP code are a priori."}, {"owner": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1538558490, "post_id": 52620880, "comment_id": 92180872, "body": "My requirement is only that getting the zip codes from the google map visible area. i am not getting to display any zip code area and priori is not required."}, {"owner": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "edited": false, "score": 0, "creation_date": 1538559994, "post_id": 52620880, "comment_id": 92181766, "body": "Take a look at <a href=\"https://gis.stackexchange.com/q/2682/87666\">this</a> question and answers. Also take a look at <a href=\"https://help.openstreetmap.org/questions/46371/need-help-showing-zip-codes-on-map-and-their-boundaries\" rel=\"nofollow noreferrer\">that</a>."}], "owner": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538725732, "creation_date": 1538547919, "last_edit_date": 1538725732, "question_id": 52620880, "link": "https://stackoverflow.com/questions/52620880/get-list-of-postal-codes-from-visible-region-in-google-map-android", "title": "Get List of postal codes from visible region in google map android", "body": "<p>I hope you are doing good in your field.</p>\n\n<p>Need some help for getting list of postal codes from the user visible area of google map for that i got the visible region. <a href=\"https://stackoverflow.com/questions/16056366/android-google-maps-how-to-get-the-area-which-is-currently-shown-in-screen-devi\">reference link for getting visible region</a> </p>\n\n<p>Now i am trying to get the address using Geocoder and visible region value but i get the exception.</p>\n\n<p>Here i will show my code.[ Worked in Kotlin]</p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>import android.Manifest\nimport android.annotation.SuppressLint\nimport android.content.pm.PackageManager\nimport android.location.Geocoder\nimport android.os.Bundle\nimport android.support.v4.app.ActivityCompat\nimport android.support.v4.content.ContextCompat\nimport android.support.v7.app.AppCompatActivity\nimport com.google.android.gms.maps.CameraUpdateFactory\nimport com.google.android.gms.maps.GoogleMap\nimport com.google.android.gms.maps.OnMapReadyCallback\nimport com.google.android.gms.maps.SupportMapFragment\nimport com.google.android.gms.maps.model.LatLng\n\n\nclass MapActivity : AppCompatActivity(), OnMapReadyCallback {\n\n    var map: SupportMapFragment? = null\n    var googleMap: GoogleMap? = null\n    var MY_LOCATION_REQUEST_CODE: Int = 201\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_map)\n    }\n\n\n    override fun onResume() {\n        super.onResume()\n        if (map == null) {\n            map = supportFragmentManager.findFragmentById(R.id.map) as SupportMapFragment?\n            map!!.getMapAsync(this)\n        }\n    }\n\n    override fun onMapReady(googleMap: GoogleMap?) {\n        this.googleMap = googleMap\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                == PackageManager.PERMISSION_GRANTED) {\n\n            googleMap!!.isMyLocationEnabled = true\n\n            this.googleMap!!.animateCamera(CameraUpdateFactory.newLatLngZoom(LatLng(37.422, -122.084), 14.0f))\n\n            getAddressListfromVisibleRegion()\n\n        } else {\n            ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACCESS_FINE_LOCATION), MY_LOCATION_REQUEST_CODE)\n        }\n    }\n\n    private fun getAddressListfromVisibleRegion() {\n        var vregion = googleMap!!.projection.visibleRegion.latLngBounds\n\n        var addressList = Geocoder(this).getFromLocationName(\"\", 100,\n                vregion.southwest.latitude, vregion.southwest.longitude,\n                vregion.northeast.latitude, vregion.northeast.longitude)\n\n        /*\n\n        val ne = vregion.northeast // LatLng of the north-east corner\n        val sw = vregion.southwest // LatLng of the south-west corner\n        val nw = LatLng(ne.latitude, sw.longitude)\n        val se = LatLng(sw.latitude, ne.longitude)\n\n        var addressList1 = Geocoder(this).getFromLocationName(\"\", 100,\n                nw.latitude, nw.longitude, se.latitude, se.longitude)\n\n         */\n    }\n\n\n    @SuppressLint(\"MissingPermission\")\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        if (requestCode == MY_LOCATION_REQUEST_CODE) {\n            if (permissions.size == 1 &amp;&amp;\n                    permissions[0] == Manifest.permission.ACCESS_FINE_LOCATION &amp;&amp;\n                    grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                googleMap!!.isMyLocationEnabled = true\n                this.googleMap!!.animateCamera(CameraUpdateFactory.newLatLngZoom(LatLng(37.422, -122.084), 14.0f))\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Got the exception when implement Geocoder</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/vkege.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vkege.png\" alt=\"enter image description here\"></a></p>\n\n<p>I was refered <a href=\"https://stackoverflow.com/questions/47331480/geocoder-getfromlocation-grpc-failed-on-android-real-device?rq=1\">this</a> link for above issue and also checked with real device but still face same issue when execute Geocoder statement.</p>\n\n<p>Anyone want to share knowledge with me that will be good help for me</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10200903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cf3878aba0850cf4f0a7164e6f292e?s=128&d=identicon&r=PG&f=1", "display_name": "bloxofcode", "link": "https://stackoverflow.com/users/10200903/bloxofcode"}, "edited": false, "score": 0, "creation_date": 1538547204, "post_id": 52620424, "comment_id": 92175132, "body": "Hi @Artem where do you get the mOnItemListener?"}, {"owner": {"reputation": 293, "user_id": 3637559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1047daab4ae1275875b547d494baa248?s=128&d=identicon&r=PG&f=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3637559/artem"}, "reply_to_user": {"reputation": 23, "user_id": 10200903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cf3878aba0850cf4f0a7164e6f292e?s=128&d=identicon&r=PG&f=1", "display_name": "bloxofcode", "link": "https://stackoverflow.com/users/10200903/bloxofcode"}, "edited": false, "score": 0, "creation_date": 1538547699, "post_id": 52620424, "comment_id": 92175329, "body": "create your own interface and then <code>var mOnItemClickListener: OnItemClickListener? = null</code>"}, {"owner": {"reputation": 23, "user_id": 10200903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cf3878aba0850cf4f0a7164e6f292e?s=128&d=identicon&r=PG&f=1", "display_name": "bloxofcode", "link": "https://stackoverflow.com/users/10200903/bloxofcode"}, "edited": false, "score": 0, "creation_date": 1538548091, "post_id": 52620424, "comment_id": 92175499, "body": "Hi thanks Artem, I up vote this but find the below answer much more readable. Thanks also"}, {"owner": {"reputation": 133, "user_id": 2209611, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c97bca0f5c890764a84f9b2cb8ac3f27?s=128&d=identicon&r=PG", "display_name": "aqeel", "link": "https://stackoverflow.com/users/2209611/aqeel"}, "edited": false, "score": 1, "creation_date": 1553384919, "post_id": 52620424, "comment_id": 97365799, "body": "Thanks, finally found the answer for kotlin"}, {"owner": {"reputation": 141, "user_id": 3423087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb896eacff694d95df76fe25f975af?s=128&d=identicon&r=PG", "display_name": "aijogja", "link": "https://stackoverflow.com/users/3423087/aijogja"}, "edited": false, "score": 0, "creation_date": 1598381243, "post_id": 52620424, "comment_id": 112439339, "body": "Thank, you help me."}], "tags": [], "owner": {"reputation": 293, "user_id": 3637559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1047daab4ae1275875b547d494baa248?s=128&d=identicon&r=PG&f=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3637559/artem"}, "is_accepted": false, "score": 4, "last_activity_date": 1538547783, "last_edit_date": 1538547783, "creation_date": 1538545640, "answer_id": 52620424, "question_id": 52620365, "link": "https://stackoverflow.com/questions/52620365/how-to-get-the-variable-value-from-adapter-to-activities-in-android-kotlin-recyc/52620424#52620424", "title": "How to get the variable value from adapter to activities in android kotlin recyclerview?", "body": "<p>you could pass data from adapter to the activity by three ways</p>\n\n<ol>\n<li>add CallBack </li>\n<li><code>(context.applicationContext as? BaseActivity)?.doSomething(variable)</code></li>\n<li>using Broadcast</li>\n</ol>\n\n<p>but if you could get data from outside of Adapter by the number of pressed element, use</p>\n\n<p>... Interface</p>\n\n<pre><code>interface  OnItemClickListener {\n   fun onItemClick(index: Int)\n}\n</code></pre>\n\n<p>... Adapter</p>\n\n<pre><code>var mOnItemClickListener: OnItemClickListener? = null\n</code></pre>\n\n<p>... Holder</p>\n\n<pre><code> v.setOnClickListener {\n            mOnItemClickListener?.onItemClick(adapterPosition)\n        }\n</code></pre>\n\n<p>... Activity</p>\n\n<pre><code>adapter.mOnItemClickListener = object : OnItemClickListener {\n        override fun onItemClick(index: Int) {\n            mListener?.showDetails(index)\n        }\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 10200903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cf3878aba0850cf4f0a7164e6f292e?s=128&d=identicon&r=PG&f=1", "display_name": "bloxofcode", "link": "https://stackoverflow.com/users/10200903/bloxofcode"}, "edited": false, "score": 0, "creation_date": 1538546812, "post_id": 52620505, "comment_id": 92174977, "body": "Hi @RediOne I try adding the last parameter but i got an error that it will remove the override in populateView..."}, {"owner": {"reputation": 23, "user_id": 10200903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cf3878aba0850cf4f0a7164e6f292e?s=128&d=identicon&r=PG&f=1", "display_name": "bloxofcode", "link": "https://stackoverflow.com/users/10200903/bloxofcode"}, "edited": false, "score": 0, "creation_date": 1538548023, "post_id": 52620505, "comment_id": 92175462, "body": "I already make it work but rather adding the listener to populateView I add this to the class argument. Thanks"}], "tags": [], "owner": {"reputation": 9467, "user_id": 4631935, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2Jepc.jpg?s=128&g=1", "display_name": "RediOne1", "link": "https://stackoverflow.com/users/4631935/redione1"}, "is_accepted": true, "score": 1, "last_activity_date": 1538546074, "creation_date": 1538546074, "answer_id": 52620505, "question_id": 52620365, "link": "https://stackoverflow.com/questions/52620365/how-to-get-the-variable-value-from-adapter-to-activities-in-android-kotlin-recyc/52620505#52620505", "title": "How to get the variable value from adapter to activities in android kotlin recyclerview?", "body": "<p>Add listerner to you <code>ViewHolder</code> which will notify your adapter and in adapter forward this notification to activity.</p>\n\n<pre><code>override fun populateViewHolder(viewHolder: AddUsersGroupAdapter.ViewHolder?, user : Users?, position: Int, userSelectionListener: (Users, Boolean) -&gt; Unit) {\n    var userId = getRef(position).key\n\n    viewHolder!!.bindView(user!!,context)\n\n\n    viewHolder.itemView.setOnClickListener {\n        if(viewHolder.userSelected!!){\n            viewHolder.userSelected = false\n            //viewHolder!!.bindView(user!!,context)\n            viewHolder.userCheck!!.visibility = View.GONE\n           usersSelectionListener.invoke(user, true)\n\n        }else{\n            viewHolder.userSelected = true\n            viewHolder.userCheck!!.visibility = View.VISIBLE\n           usersSelectionListener.invoke(user, false)\n        }\n\n        //TODO : I want to collect the Id's into list and \n        // will access to the activity(AddUserGroupActivity)\n        //Toast.makeText(context,userId,Toast.LENGTH_LONG).show()\n\n    }\n}\n</code></pre>\n\n<p>Add same parameter to your Adapter constructor, then in activity handle this listener:</p>\n\n<pre><code>rvAddUsersGroup.adapter = AddUsersGroupAdapter(mUserDatabase!!, this) { user: User, isSelected: Boolean -&gt; \n    //Do want you want with user and selection.\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10200903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cf3878aba0850cf4f0a7164e6f292e?s=128&d=identicon&r=PG&f=1", "display_name": "bloxofcode", "link": "https://stackoverflow.com/users/10200903/bloxofcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3250, "favorite_count": 0, "accepted_answer_id": 52620505, "answer_count": 2, "score": 2, "last_activity_date": 1538547783, "creation_date": 1538545293, "question_id": 52620365, "link": "https://stackoverflow.com/questions/52620365/how-to-get-the-variable-value-from-adapter-to-activities-in-android-kotlin-recyc", "title": "How to get the variable value from adapter to activities in android kotlin recyclerview?", "body": "<p>I'm creating a chat app in android using kotlin and wanted to create a group item based on registered users.</p>\n\n<p>Currently I'm facing a problem on finding a way to pass the variable from the adapter going back to activities because i want to have a floating check button and display what are the selected users from that adapter. </p>\n\n<p>I browse the web but haven't found an ideal write-up about adaptes to activites.</p>\n\n<p>Please point me to some solutions/helpful articles about this. Or if this question is duplicated and answered successfully.</p>\n\n<p>Thanks</p>\n\n<p>AddUserGroupAdapter.kt</p>\n\n<p>....</p>\n\n<pre><code>override fun populateViewHolder(viewHolder: AddUsersGroupAdapter.ViewHolder?, user : Users?, position: Int) {\n        var userId = getRef(position).key\n\n        viewHolder!!.bindView(user!!,context)\n\n\n        viewHolder.itemView.setOnClickListener {\n            if(viewHolder.userSelected!!){\n                viewHolder.userSelected = false\n                //viewHolder!!.bindView(user!!,context)\n                viewHolder.userCheck!!.visibility = View.GONE\n\n            }else{\n                viewHolder.userSelected = true\n                viewHolder.userCheck!!.visibility = View.VISIBLE\n            }\n\n            //TODO : I want to collect the Id's into list and \n            // will access to the activity(AddUserGroupActivity)\n            //Toast.makeText(context,userId,Toast.LENGTH_LONG).show()\n\n        }\n\n\n    }\n</code></pre>\n\n<p>AddUserGroupActivity.kt</p>\n\n<p>...</p>\n\n<pre><code>class AddUsersGroupActivity : AppCompatActivity() {\n    var mUserDatabase : DatabaseReference? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_add_users_group)\n\n        supportActionBar!!.setTitle(\"Add Users in Group\")\n        supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n\n\n\n        var lineaLayoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false)\n\n        mUserDatabase = FirebaseDatabase.getInstance().reference\n                .child(\"Users\")\n\n        rvAddUsersGroup.setHasFixedSize(true)\n\n        rvAddUsersGroup.layoutManager = lineaLayoutManager\n        rvAddUsersGroup.adapter = AddUsersGroupAdapter(mUserDatabase!!, this)\n\n        //TODO : This is where I wanted to have a floating action button onClickListener\n        //that will access the variable from adapter and display to toast.\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android-studio", "kotlin"], "owner": {"reputation": 29, "user_id": 7908835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28f71b602d788b94f4a1995efd707388?s=128&d=identicon&r=PG&f=1", "display_name": "programmer211216", "link": "https://stackoverflow.com/users/7908835/programmer211216"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538537091, "creation_date": 1538537091, "question_id": 52619273, "link": "https://stackoverflow.com/questions/52619273/connecting-a-task-done-by-user-a-to-user-b-android-kotlin", "title": "Connecting a task done by user A to user B (Android - kotlin)", "body": "<p>Does anyone knows how can i connect a task done by user A to user B? For example, user A has asked user B to accept or decline a task that has been done by user A.</p>\n\n<p>Here's a code that I've done for both user A and B:</p>\n\n<pre><code>action_done.setOnClickListener {\n     request.close(uid, STATUS_CLOSED, STATUS_CODE_BY_REGULAR\n                     status_message.text.toString()).addOnCompleteListener {\n                        if (it.isSuccessful) {\n                            setResult(RESULT_OK)\n                            finish()\n                        } else\n                            Toast.makeText(this, \"Failed to close request\"\n                                    , Toast.LENGTH_SHORT).show()\n                    }\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "edited": false, "score": 1, "creation_date": 1552997914, "post_id": 53433550, "comment_id": 97214466, "body": "In regards to disabling <code>GRADLE_METADATA</code> for the node plugin to work: <a href=\"https://github.com/srs/gradle-node-plugin/issues/301\" rel=\"nofollow noreferrer\">github.com/srs/gradle-node-plugin/issues/301</a>"}, {"owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "edited": false, "score": 0, "creation_date": 1555810436, "post_id": 53433550, "comment_id": 98229905, "body": "this works, however if also targeting a native the config does not work and fails with &quot;Cannot change attributes of configuration &#39;:app:iosApiElements&#39; after it has been resolved&quot;"}], "tags": [], "owner": {"reputation": 34, "user_id": 8405641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a7899adb3124b4196a0e58616ae226f?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Idamkin", "link": "https://stackoverflow.com/users/8405641/ilya-idamkin"}, "is_accepted": true, "score": 1, "last_activity_date": 1542898457, "creation_date": 1542898457, "answer_id": 53433550, "question_id": 52618371, "link": "https://stackoverflow.com/questions/52618371/how-to-make-my-js-tests-appear-in-kotlin-multiplatform-project/53433550#53433550", "title": "How to make my JS tests appear in Kotlin Multiplatform project", "body": "<p>As stated by <a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html#running-tests\" rel=\"nofollow noreferrer\">Kotlin Multiplatform Tutorial</a></p>\n\n<blockquote>\n  <p>At this point, test tasks for Kotlin/JS are created but do not run tests by default; they should be manually configured to run the tests with a JavaScript test framework.</p>\n</blockquote>\n\n<p>You can use for example <a href=\"https://mochajs.org/\" rel=\"nofollow noreferrer\">mocha framework</a> to run the tests</p>\n\n<p>Here is my setup to do so:</p>\n\n<p>build.gradle:</p>\n\n<pre><code>plugins {\n    id 'kotlin-multiplatform' version '1.3.10' //I'm using the released version of plugin,\n                                               //but it seems that they have same API\n    id 'com.moowork.node' version '1.2.0' //plugin for installing node\n                                          //and running node and npm tasks\n}\nrepositories {\n    mavenCentral()\n}\ngroup 'com.example'\nversion '0.0.1'\n\napply plugin: 'maven-publish'\n\nfinal kotlinRuntimeVersion = '1.3.10'\n\nfinal nodeVersion = '11.2.0'\nfinal nodeWorkingDir = project.buildDir\nfinal nodeModules = \"$nodeWorkingDir/node_modules\"\nfinal mochaVersion = '5.2.0'\nfinal pathSeparator = System.properties[\"path.separator\"]\n\nkotlin {\n    targets {\n        fromPreset(presets.jvm, 'jvm')\n        fromPreset(presets.js, 'js') {\n            [compileKotlinJs, compileTestKotlinJs].each { configuration -&gt;\n                configuration.kotlinOptions {\n                    moduleKind = 'umd'\n                }\n            }\n        }\n    }\n    sourceSets {\n        commonMain {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-stdlib-common'\n            }\n        }\n        commonTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test-common'\n                implementation 'org.jetbrains.kotlin:kotlin-test-annotations-common'\n            }\n        }\n        jvmMain {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n            }\n        }\n        jvmTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test'\n                implementation 'org.jetbrains.kotlin:kotlin-test-junit'\n            }\n        }\n        jsMain {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-stdlib-js'\n            }\n        }\n        jsTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test-js'\n            }\n        }\n    }\n}\n\n//Workaround to copy kotlin libraries so they are visible during testing\ndef jsLibDir = \"$compileKotlinJs.destinationDir/lib\"\ndef jsTestLibDir = \"$compileTestKotlinJs.destinationDir/lib\"\nconfigurations {\n    jsLibs\n    jsTestLibs\n}\ndependencies {\n    jsLibs \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlinRuntimeVersion\"\n    jsTestLibs \"org.jetbrains.kotlin:kotlin-test-js:$kotlinRuntimeVersion\"\n}\ntask copyJsDependencies(type: Copy, dependsOn: compileKotlinJs) {\n    configurations.jsLibs.each {\n        from zipTree(it.absolutePath).matching { include '*.js'}\n    }\n    into jsLibDir\n}\njsMainClasses.dependsOn copyJsDependencies\ntask copyJsTestDependencies(type: Copy) {\n    configurations.jsTestLibs.each {\n        from zipTree(it.absolutePath).matching { include '*.js'}\n    }\n    into jsTestLibDir\n}\njsTestClasses.dependsOn copyJsTestDependencies\n\n//Use mocha to run js tests\nnode {\n    version = nodeVersion\n    download = true\n    workDir = file(\"$project.buildDir/nodejs\")\n    nodeModulesDir = file(nodeWorkingDir)\n}\ntask installMocha(type: NpmTask, group: 'npm') {\n    outputs.dir \"$nodeModules/mocha\"\n    args = ['install', \"mocha@$mochaVersion\"]\n}\ntask runMocha(type: NodeTask, dependsOn: [installMocha, jsMainClasses, jsTestClasses], group: 'npm') {\n    environment = [ \"NODE_PATH\": \"$jsLibDir$pathSeparator$jsTestLibDir$pathSeparator$compileKotlinJs.destinationDir\" ]\n    script = file(\"$nodeWorkingDir/node_modules/mocha/bin/mocha\")\n    args = [compileTestKotlinJs.outputFile]\n}\njsTest.dependsOn runMocha\n</code></pre>\n\n<p>settings.gradle:</p>\n\n<pre><code>pluginManagement {\n    resolutionStrategy {\n        eachPlugin {\n            if (requested.id.id == \"kotlin-multiplatform\") {\n                useModule(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${requested.version}\")\n            }\n        }\n    }\n}\nrootProject.name = 'test'\n</code></pre>\n\n<p>For some reasons it is important to disable metadata feature from gradle, for node plugin to work properly.</p>\n\n<p>With this set up you will run js tests of <code>jsTest</code> gradle task, (which is important for example for CI) but they won't appear in the idea window as they do for java tests, and you still wouldn't be able to debug them.</p>\n\n<p>To do so in IntelliJ IDEA you can create custom mocha run/debug configuration (Run | Edit Configurations from the main menu), and configure it similar to the <code>runMocha</code> gradle task.</p>\n"}, {"tags": [], "owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "is_accepted": false, "score": 1, "last_activity_date": 1553008918, "last_edit_date": 1553008918, "creation_date": 1553008412, "answer_id": 55244288, "question_id": 52618371, "link": "https://stackoverflow.com/questions/52618371/how-to-make-my-js-tests-appear-in-kotlin-multiplatform-project/55244288#55244288", "title": "How to make my JS tests appear in Kotlin Multiplatform project", "body": "<p>Inspired by <a href=\"https://github.com/Kotlin/kotlinx-io/blob/master/gradle/js.gradle\" rel=\"nofollow noreferrer\">kotlinx-io's multiplatform build configuration</a>, without really knowing what I am doing, I managed to configure JavaScript tests to run using Mocha.</p>\n\n<pre><code>compileKotlinJs.configure {\n    kotlinOptions {\n        metaInfo = true\n        sourceMap = true\n        moduleKind = 'umd'\n        main = \"noCall\"\n        sourceMapEmbedSources = 'always'\n    }\n}\n\ncompileTestKotlinJs.configure {\n    kotlinOptions {\n        metaInfo = true\n        sourceMap = true\n        moduleKind = 'umd'\n        main = \"call\"\n        sourceMapEmbedSources = 'always'\n    }\n}\n\ntask copyJsDependencies(type: Copy, dependsOn: compileTestKotlinJs) {\n    from compileKotlinJs.destinationDir\n    into \"${buildDir}/node_modules\"\n\n    def configuration = configurations.jsTestRuntimeClasspath\n    from(files {\n        configuration.collect { File file -&gt;\n            file.name.endsWith(\".jar\")\n                ? zipTree(file.absolutePath).matching {\n                    include '*.js'\n                    include '*.js.map' }\n                : files()\n        }\n    }.builtBy(configuration))\n}\n\nnode {\n    version = nodeVersion\n    download = true\n}\n\ntask installMocha(type: NpmTask) {\n    args = ['install', 'mocha']\n}\n\ntask runMocha(type: NodeTask, dependsOn: [installMocha, compileTestKotlinJs, copyJsDependencies]) {\n    script = file('node_modules/mocha/bin/mocha')\n    args = [compileTestKotlinJs.outputFile]\n}\n\njsTest.dependsOn runMocha\n</code></pre>\n"}], "owner": {"reputation": 715, "user_id": 594628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132c4e5e2dbd09ab1a9a76911bc56982?s=128&d=identicon&r=PG", "display_name": "Tyler Gannon", "link": "https://stackoverflow.com/users/594628/tyler-gannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 3, "accepted_answer_id": 53433550, "answer_count": 2, "score": 3, "last_activity_date": 1553008918, "creation_date": 1538529115, "question_id": 52618371, "link": "https://stackoverflow.com/questions/52618371/how-to-make-my-js-tests-appear-in-kotlin-multiplatform-project", "title": "How to make my JS tests appear in Kotlin Multiplatform project", "body": "<p>I'm using the IntelliJ IDEA Multiplatform project, and the jsTest Gradle task does not detect any tests.  The jvmTest tests run no problem.  When I run the jsTest task with debug output, I can see that the task runs and immediately finishes.</p>\n\n<p>Gradle version 4.10.1.\nKotlin version 1.3.0-eap.</p>\n\n<p>How can I rectify the Gradle configuration, or what command can I run, so that the test will actually be detected, and (as written) fail?</p>\n\n<p>build.gradle:</p>\n\n<pre><code>plugins {\n    id 'kotlin-multiplatform' version '1.3.0-rc-131'\n}\nrepositories {\n    maven { url 'http://dl.bintray.com/kotlin/kotlin-eap' }\n    mavenCentral()\n}\nkotlin {\n    targets {\n        fromPreset(presets.jvm, 'jvm')\n        fromPreset(presets.js, 'js')\n    }\n    sourceSets {\n        commonMain {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-stdlib-common'\n            }\n        }\n        commonTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test-common'\n                implementation 'org.jetbrains.kotlin:kotlin-test-annotations-common'\n            }\n        }\n        jvmMain {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n            }\n        }\n        jvmTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test'\n                implementation 'org.jetbrains.kotlin:kotlin-test-junit'\n            }\n        }\n        jsMain {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-stdlib-js'\n            }\n        }\n        jsTest {\n            dependencies {\n                implementation 'org.jetbrains.kotlin:kotlin-test-js'\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>test-project_test.js:</p>\n\n<pre><code>if (typeof kotlin === 'undefined') {\n  throw new Error(\"Error loading module 'test-project_test'. Its dependency 'kotlin' was not found. Please, check whether 'kotlin' is loaded prior to 'test-project_test'.\");\n}\nif (typeof this['test-project'] === 'undefined') {\n  throw new Error(\"Error loading module 'test-project_test'. Its dependency 'test-project' was not found. Please, check whether 'test-project' is loaded prior to 'test-project_test'.\");\n}\nif (typeof this['kotlin-test'] === 'undefined') {\n  throw new Error(\"Error loading module 'test-project_test'. Its dependency 'kotlin-test' was not found. Please, check whether 'kotlin-test' is loaded prior to 'test-project_test'.\");\n}\nthis['test-project_test'] = function (_, Kotlin, $module$test_project, $module$kotlin_test) {\n  'use strict';\n  var Sample = $module$test_project.sample.Sample;\n  var assertTrue = $module$kotlin_test.kotlin.test.assertTrue_ifx8ge$;\n  var Kind_CLASS = Kotlin.Kind.CLASS;\n  var hello = $module$test_project.sample.hello;\n  var contains = Kotlin.kotlin.text.contains_li3zpu$;\n  var test = $module$kotlin_test.kotlin.test.test;\n  var suite = $module$kotlin_test.kotlin.test.suite;\n  function SampleTests() {\n  }\n  SampleTests.prototype.testMe = function () {\n    assertTrue((new Sample()).checkMe() &gt; 0);\n  };\n  SampleTests.$metadata$ = {\n    kind: Kind_CLASS,\n    simpleName: 'SampleTests',\n    interfaces: []\n  };\n  function SampleTestsJS() {\n  }\n  SampleTestsJS.prototype.testHello = function () {\n    assertTrue(contains(hello(), 'JSSDF'));\n  };\n  SampleTestsJS.$metadata$ = {\n    kind: Kind_CLASS,\n    simpleName: 'SampleTestsJS',\n    interfaces: []\n  };\n  var package$sample = _.sample || (_.sample = {});\n  package$sample.SampleTests = SampleTests;\n  package$sample.SampleTestsJS = SampleTestsJS;\n  suite('sample', false, function () {\n    suite('SampleTests', false, function () {\n      test('testMe', false, function () {\n        return (new SampleTests()).testMe();\n      });\n    });\n    suite('SampleTestsJS', false, function () {\n      test('testHello', false, function () {\n        return (new SampleTestsJS()).testHello();\n      });\n    });\n  });\n  Kotlin.defineModule('test-project_test', _);\n  return _;\n}(typeof this['test-project_test'] === 'undefined' ? {} : this['test-project_test'], kotlin, this['test-project'], this['kotlin-test']);\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 4861, "user_id": 387576, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5ec8456a1f4239097df718524df409cb?s=128&d=identicon&r=PG", "display_name": "Jeff Lockhart", "link": "https://stackoverflow.com/users/387576/jeff-lockhart"}, "edited": false, "score": 0, "creation_date": 1538531477, "post_id": 52618155, "comment_id": 92171378, "body": "Thanks, this worked great. The only change needed to the above code was to specify the type of <code>error: Throwable</code> explicitly because of method overload ambiguity."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 3, "last_activity_date": 1538573250, "last_edit_date": 1538573250, "creation_date": 1538526824, "answer_id": 52618155, "question_id": 52617904, "link": "https://stackoverflow.com/questions/52617904/rxjava-upstream-never-completes-when-error-is-swallowed/52618155#52618155", "title": "RxJava: upstream never completes when error is swallowed", "body": "<p>Your problem is that <code>Single</code> can only result in two values, a successful result or a failure. Turning the failure in an 'ignored' state can be done by first converting it to a <code>Maybe</code> and then using essentially the same code to handle failure and success.</p>\n\n<p><code>Maybe.onErrorResumeNext</code> with a return value of <code>Maybe.empty()</code> would result in 0 or 1 results while <code>Maybe.map</code> only executes if it has a value, accurately handling the problem as you've described it.</p>\n\n<p>Adapted code:</p>\n\n<pre><code>        .flatMapMaybe { file -&gt;\n            uploadFile(file).toMaybe()\n                    .onErrorResumeNext { error: Throwable -&gt;\n                        log(error)\n                        Maybe.empty()\n                    }\n                    .map { response -&gt;\n                        file.id = response.id\n                        file\n                    }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1538527122, "creation_date": 1538527122, "answer_id": 52618187, "question_id": 52617904, "link": "https://stackoverflow.com/questions/52617904/rxjava-upstream-never-completes-when-error-is-swallowed/52618187#52618187", "title": "RxJava: upstream never completes when error is swallowed", "body": "<p>Here is how I have handled it in the past by using the <code>zip</code> method.</p>\n\n<pre><code>  // create an observable list that you can process for you file uploads\n  val responses: Response = listOf&lt;Response&gt;()\n\n  queryFiles()?.let { file -&gt;\n\n    val observable = Observable.create(ObservableOnSubscribe&lt;Response&gt; { emitter -&gt;\n      // you can modify this section to your data types\n      try {\n        // with your uploadFile method you might be able to just add them\n        // all the responses list\n        emitter.onNext(uploadFile(file))\n        emitter.onComplete()\n      } catch (e: Exception) {\n        emitter.onError(e)\n      }\n    }).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread())\n    responses.add(observable)    \n  }\n\n  // i setup a simple booleanArray to handle success/failure but you can add\n  // all the files that fail to a list and use that later    \n  val isSuccessful = booleanArrayOf(true)\n  Observable.zip&lt;Response, Boolean&gt;(responses, Function&lt;Array&lt;Any&gt;, Boolean&gt; { responses -&gt;\n    var isSuccessful: Boolean? = java.lang.Boolean.TRUE\n    // handle success or failure\n    isSuccessful\n  }).subscribe(Consumer&lt;Boolean&gt; { aBoolean -&gt; isSuccessful[0] = aBoolean!! }, Consumer&lt;Throwable&gt; { throwable -&gt;\n    isSuccessful[0] = false\n  }, Action {\n    // handle your OnComplete here\n    // I would check the isSuccessful[0] and handle the success or failure        \n  })\n</code></pre>\n\n<p>This is creating all your uploads into a list of Observables that can be handled and merged with the <code>zip</code> method. This will merge them all when they are done into an array of any so that you can loop over them - your result from the uploadFile() method. This example is checking for a success or failure from the responses that come back. I removed most of the logic where the comment <code>// handle success or failure</code> is. In the function method you can keep track of your file uploads that fail or succeed. </p>\n"}], "owner": {"reputation": 4861, "user_id": 387576, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5ec8456a1f4239097df718524df409cb?s=128&d=identicon&r=PG", "display_name": "Jeff Lockhart", "link": "https://stackoverflow.com/users/387576/jeff-lockhart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 1, "accepted_answer_id": 52618155, "answer_count": 2, "score": 1, "last_activity_date": 1538573250, "creation_date": 1538524266, "question_id": 52617904, "link": "https://stackoverflow.com/questions/52617904/rxjava-upstream-never-completes-when-error-is-swallowed", "title": "RxJava: upstream never completes when error is swallowed", "body": "<p>I'm using RxJava to iterate over a list of files, making a network call to upload each file, then collect the files that were successfully uploaded in a list and persist those files in the subscriber on success.</p>\n\n<p>This code works, except for when an error occurs. The behavior should be that it logs the error and continues, which it does, except when an error occurs the subscriber's onSuccess lambda never gets called.</p>\n\n<p>Is the observer expecting the same number of elements to be emitted as are in the original iterable? How can I skip the errors and have it complete once all items have been iterated over? Is there something other than <code>Single.never()</code> that will accomplish not forwarding the error to the downstream?</p>\n\n<pre><code>queryFiles()?.let { files -&gt;\n    Observable.fromIterable(files)\n            .flatMapSingle { file -&gt;\n                uploadFile(file)\n                        .onErrorResumeNext { error -&gt;\n                            log(error)\n                            Single.never() // if this is returned onSuccess is never called\n                        }\n                        .map { response -&gt;\n                            file.id = response.id\n                            file\n                        }\n            }\n            .toList()\n            .subscribe( { uploadedFiles -&gt;\n                persist(uploadedFiles) // if error occurs above, this is never called\n            }, { error -&gt;\n                log(error)\n            })\n}\n</code></pre>\n"}, {"tags": ["list", "dictionary", "lambda", "collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 1, "creation_date": 1538528843, "post_id": 52617692, "comment_id": 92170798, "body": "You could replace <code>.map { xxx }.toMap()</code> with <code>.associate { xxx }</code> to avoid the intermediate weird temporary list of pairs."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1538559697, "post_id": 52617692, "comment_id": 92181586, "body": "@Kiskae Ah, that&#39;s it. I was looking for that function, but couldn&#39;t find it."}, {"owner": {"reputation": 3987, "user_id": 2449744, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zky84.jpg?s=128&g=1", "display_name": "Eldar Agalarov", "link": "https://stackoverflow.com/users/2449744/eldar-agalarov"}, "edited": false, "score": 0, "creation_date": 1538578271, "post_id": 52617692, "comment_id": 92193043, "body": "I&#39;m using this <code>dataList.groupBy { it.a }.mapValues { (_, v) -&gt; v.associateBy({ it.b }, { it.c }) }</code>"}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 2, "last_activity_date": 1538559709, "last_edit_date": 1538559709, "creation_date": 1538522546, "answer_id": 52617692, "question_id": 52617563, "link": "https://stackoverflow.com/questions/52617563/kotlin-group-a-list-into-a-map-of-maps/52617692#52617692", "title": "Kotlin: Group a List into a Map of Maps", "body": "<p>You can do this:</p>\n\n<pre><code>dataList.groupBy { it.a }\n        .mapValues { (_, v) -&gt; v.associate { it.b to it.c } }\n</code></pre>\n\n<p>The <code>groupBy</code> function creates a <code>Map&lt;Int, List&lt;Data&gt;&gt;</code>, where the <code>List&lt;Data&gt;</code> is all data-objects that shares the same value in <code>a</code>. Then I map the values of the <code>Map</code>, creating the structure you needed.</p>\n"}], "owner": {"reputation": 3987, "user_id": 2449744, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zky84.jpg?s=128&g=1", "display_name": "Eldar Agalarov", "link": "https://stackoverflow.com/users/2449744/eldar-agalarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1177, "favorite_count": 0, "accepted_answer_id": 52617692, "answer_count": 1, "score": 1, "last_activity_date": 1538559709, "creation_date": 1538521294, "last_edit_date": 1538522679, "question_id": 52617563, "link": "https://stackoverflow.com/questions/52617563/kotlin-group-a-list-into-a-map-of-maps", "title": "Kotlin: Group a List into a Map of Maps", "body": "<p>How to group list into map of maps using lambdas? Imperative solution looks following:</p>\n\n<pre><code>private class Data(val a: Int, val b: Int, val c: Int)\n\n@JvmStatic\nfun main(args: Array&lt;String&gt;) {\n    val dataList = listOf(Data(1, 2, 3), Data(4, 5, 6), Data(7, 8, 9), Data(1, 10, 11))\n    val result = mutableMapOf&lt;Int, MutableMap&lt;Int, Int&gt;&gt;()\n    for (data in dataList) {\n        val aMap = result.getOrPut(data.a) { mutableMapOf() }\n        aMap[data.b] = data.c\n    }\n    println(result)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit2"], "comments": [{"owner": {"reputation": 13468, "user_id": 635887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a54e77591e1f9a75d3be9a195db45f?s=128&d=identicon&r=PG", "display_name": "Ray Hunter", "link": "https://stackoverflow.com/users/635887/ray-hunter"}, "edited": false, "score": 0, "creation_date": 1538527507, "post_id": 52616990, "comment_id": 92170527, "body": "You will want to look at creating a <code>custom json deserializer</code>. Then when you get to an <code>items</code> or <code>users</code> you can create the object that is required."}], "answers": [{"comments": [{"owner": {"reputation": 1006, "user_id": 2635761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TRDYV.jpg?s=128&g=1", "display_name": "Devin Brown", "link": "https://stackoverflow.com/users/2635761/devin-brown"}, "edited": false, "score": 0, "creation_date": 1538601802, "post_id": 52620020, "comment_id": 92204936, "body": "This won&#39;t work because there are many more types of data that could be sent in the response. I don&#39;t want to have a class that has fields for all of the possible responses."}], "tags": [], "owner": {"reputation": 131, "user_id": 10209025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7LTwdOg3ZcU/AAAAAAAAAAI/AAAAAAAAACM/gZkrkx3NOig/photo.jpg?sz=128", "display_name": "Sreedev P R", "link": "https://stackoverflow.com/users/10209025/sreedev-p-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1538543209, "creation_date": 1538543209, "answer_id": 52620020, "question_id": 52616990, "link": "https://stackoverflow.com/questions/52616990/parsing-json-with-dynamic-field-with-gson-and-retrofit2/52620020#52620020", "title": "Parsing JSON with Dynamic Field with Gson and Retrofit2", "body": "<p>Use @SerializedName(\"message\") val message: String, and so on.</p>\n"}], "owner": {"reputation": 1006, "user_id": 2635761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TRDYV.jpg?s=128&g=1", "display_name": "Devin Brown", "link": "https://stackoverflow.com/users/2635761/devin-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538543209, "creation_date": 1538517375, "question_id": 52616990, "link": "https://stackoverflow.com/questions/52616990/parsing-json-with-dynamic-field-with-gson-and-retrofit2", "title": "Parsing JSON with Dynamic Field with Gson and Retrofit2", "body": "<p>I'm using Retrofit2 to access an API, and I'm having trouble parsing the responses into objects in a flexible way.</p>\n\n<p>The API responses are in this general format:</p>\n\n<pre><code>Request: /api/users\nResponse:\n{\n    \"success\": true,\n    \"message\": \"Get all users\",\n    \"users\": [{\n        \"id\": 1\n        \"name\": \"User Name\"\n    }]\n}\n\nRequest: /api/user/1/items\nResponse:\n{\n    \"success\": true,\n    \"message\": \"Get all items\",\n    \"items\": [{\n        \"id\": 1\n        \"name\": \"Item Name\"\n    }]\n}\n</code></pre>\n\n<p>The models are generally formatted as such:</p>\n\n<pre><code>data class ApiResponse&lt;T&gt;(val success: Boolean,\n                          val message: String,\n                          val payload: T)\ndata class User(val id: String, val name: String)\ndata class Item(val id: String, val name: String)\n</code></pre>\n\n<p>I have tried using an <code>okhttp3.Interceptor</code> to parse the response, but I just can't figure out how to handle the key being dynamic (users, items, etc). I know the key when I'm making the request, but I'm not sure how to communicate that to my Intercepter in order to get the value from the JSON.</p>\n"}, {"tags": ["cassandra", "kotlin", "datastax", "future", "objectmapper"], "answers": [{"tags": [], "owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "is_accepted": true, "score": 0, "last_activity_date": 1539936903, "creation_date": 1539936903, "answer_id": 52888368, "question_id": 52616642, "link": "https://stackoverflow.com/questions/52616642/datastax-cassandra-driver-how-to-return-success-or-failure-from-list-of-results/52888368#52888368", "title": "datastax cassandra driver: how to return success or failure from list of ResultSet for insert statements", "body": "<p>insert queries return result only if the lightweight transactions (LWTs) are used. In other cases, insert queries don't return anything, and the success of operation is that fact that you got <code>ResultSet</code> instead of exception. So in your case, you just add the <code>onSuccess</code> callback that always returns true, and <code>onFailure</code> that returns false.</p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 52888368, "answer_count": 1, "score": 1, "last_activity_date": 1539936903, "creation_date": 1538515621, "question_id": 52616642, "link": "https://stackoverflow.com/questions/52616642/datastax-cassandra-driver-how-to-return-success-or-failure-from-list-of-results", "title": "datastax cassandra driver: how to return success or failure from list of ResultSet for insert statements", "body": "<p>I'm using the <a href=\"https://docs.datastax.com/en/developer/java-driver/2.1/manual/object_mapper/using/\" rel=\"nofollow noreferrer\">datastax object mapper</a> and <a href=\"https://docs.datastax.com/en/developer/java-driver/2.1/manual/object_mapper/using/#return-type\" rel=\"nofollow noreferrer\">accessor</a> to insert data into my cassandra tables. In the documentation linked, it says that the return type specification affects how the query gets executed. I want the query to execute asynchronously, so I choose to use <code>ResultSetFuture</code>:</p>\n\n<pre><code>@Accessor\ninterface MyTableAccessor {\n    @Query(\"INSERT INOT MY_TABLE \" +\n        \"SET value = :v \" +\n        \"WHERE $ID = :id \")\n    fun insertValue(@Param(\"v\") value: String, @Param(\"id\") id: String): ResultSetFuture\n}\n</code></pre>\n\n<p>My insert call is:</p>\n\n<pre><code>val id = ...\nval insertFutures = myList.map {\n  myTableAccessor.insertValue(it, id)\n}\n</code></pre>\n\n<p>I also have added a callback for these futures:</p>\n\n<pre><code>insertFutures.forEach {\n    Futures.addCallback(it, MyCallback(stats, tags))\n}\n</code></pre>\n\n<p>where <code>MyCallback</code> implements the <code>FutureCallback</code> interface. I finish the call with:</p>\n\n<pre><code>return Futures.inCompletionOrder(insertFutures)\n    .map { it.get() }\n</code></pre>\n\n<p>This returns to me a <code>List&lt;ResultSet&gt;</code>.\nBut I want to return a <code>Boolean</code> for the insert call to indicate that the insert operation succeeded. I'm not sure how I can do that with the returned <code>List&lt;ResultSet&gt;</code>.</p>\n"}, {"tags": ["android", "kotlin", "android-toolbar", "android-jetpack", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1538515950, "post_id": 52616493, "comment_id": 92167601, "body": "So you have a Toolbar in your Activity, but it is completely different if you&#39;re on one particular bottom navigation item?"}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1538516968, "post_id": 52616493, "comment_id": 92167978, "body": "Lets say i have 2 activity with different toolbars but i want to use single activity arch but toolbars should be changed as it was happening previously."}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1538517509, "post_id": 52616493, "comment_id": 92168130, "body": "@ianhanniballake if this is supposed to handled by app devs or what i am asking is bad design, let me know and i will make changes accordingly. Thanks for the response."}], "answers": [{"comments": [{"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1538735051, "post_id": 52617739, "comment_id": 92256866, "body": "Thank you for the response. I applied the first approach. One of my fragments toolbar was CollapsingToolbar and it was causing 72px of paddingTop to ConstraintLayout when that fragment is displayed. Can you tell why this was happening? I handled it in onDestroyView() of that particular fragment by setting it to zero."}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1538735208, "post_id": 52617739, "comment_id": 92256952, "body": "<code>&lt;ConstraintLayout&gt;&lt;FrameLayout&gt;&lt;fragment-content including collapsingToolbar&#47;&gt;&lt;&#47;FrameLayout&gt;&lt;&#47;ConstraintLayout&gt;</code>. Here the FrameLayout has toptop constraint of parent but 72 px padding was seen in ConstraintLayout (density of phone was 428 dpi). Before adding fragment with CollapsingToolbar, it was zero. And it persisted even after the fragment was replaced."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 1, "creation_date": 1538750285, "post_id": 52617739, "comment_id": 92265794, "body": "If you&#39;re using <code>fitsSystemWindows</code> anywhere in your layouts, make sure you are calling <code>ViewCompat.requestApplyInsets</code> in each Fragment&#39;s <code>onViewCreated</code> to ensure they have the right insets"}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 7, "last_activity_date": 1538522964, "creation_date": 1538522964, "answer_id": 52617739, "question_id": 52616493, "link": "https://stackoverflow.com/questions/52616493/binding-different-menu-with-different-fragment-with-navigation-component/52617739#52617739", "title": "Binding different menu with different fragment with Navigation component", "body": "<p>There's two approaches to do this:</p>\n\n<p><strong>1) Have each Fragment implement its own Toolbar</strong></p>\n\n<p>This approach gives you the ultimate flexibility in what each Fragment is responsible for, but is more suitable if you have many different types of Fragments or need scrolling behavior that is different for each Fragment.</p>\n\n<p><strong>2) Use a OnNavigatedListener to change your Activity's Toolbar</strong></p>\n\n<p>The <code>NavController</code> allows you to attach any number of <a href=\"https://developer.android.com/reference/kotlin/androidx/navigation/NavController.OnNavigatedListener\" rel=\"noreferrer\"><code>OnNavigatedListener</code></a> instances, which give you a callback whenever the current destination / item changes.</p>\n\n<p>This allows you to write code in your Activity such as:</p>\n\n<pre><code>navController.addOnNavigatedListener { navController, destination -&gt;\n  if (destination.id == R.id.search_destination) {\n    // Update your Toolbar to be a SearchBar\n  } else {\n    // Reset it back to a standard Toolbar\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 916, "favorite_count": 2, "accepted_answer_id": 52617739, "answer_count": 1, "score": 3, "last_activity_date": 1538522964, "creation_date": 1538514868, "question_id": 52616493, "link": "https://stackoverflow.com/questions/52616493/binding-different-menu-with-different-fragment-with-navigation-component", "title": "Binding different menu with different fragment with Navigation component", "body": "<p>I have an activity with BottomNavigationBar.</p>\n\n<p>I show app logo in middle in toolbar by default.</p>\n\n<p>Now I have to show SearchBar on entire toolbar when one of the bottomNavigation item is selected. Also, I want to revert to default toolbar view (one with logo in middle) on selecting any other bottomNavigation item. </p>\n\n<p>How can i do this with Navigation component?</p>\n\n<p>If I have to use ViewSwitcher or ActionMode, the whole idea of navigation component will have to be dropped as I can handle a few fragment transaction by myself. </p>\n\n<p>Help me out here.</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1538510271, "post_id": 52615456, "comment_id": 92165301, "body": "Please share <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a>."}, {"owner": {"reputation": 2450, "user_id": 4071001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fe366ba78ef16d877f2ff9f6f094e5?s=128&d=identicon&r=PG&f=1", "display_name": "lcnicolau", "link": "https://stackoverflow.com/users/4071001/lcnicolau"}, "edited": false, "score": 0, "creation_date": 1544718037, "post_id": 52615456, "comment_id": 94384008, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52729953/kotlin-koans-with-edutools-plugin-failed-to-launch-checking\">Kotlin Koans with EduTools plugin: &quot;Failed to launch checking&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 2756785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AhAoB.jpg?s=128&g=1", "display_name": "helmet91", "link": "https://stackoverflow.com/users/2756785/helmet91"}, "is_accepted": false, "score": 0, "last_activity_date": 1540399982, "creation_date": 1540399982, "answer_id": 52974297, "question_id": 52615456, "link": "https://stackoverflow.com/questions/52615456/getting-edutool-to-work-for-kotlin-in-intellij/52974297#52974297", "title": "Getting EduTool to work for Kotlin in Intellij", "body": "<p>Try to check the project's is linked to the right JDK. Open File/Project Structure/Project. Then select the correct Project SDK.</p>\n\n<p>To me, this helped. But as others have pointed out, please, share your idea.log, which you can find at Help/Show log in [whatever text editor it's associated with].</p>\n"}], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1540399982, "creation_date": 1538509933, "question_id": 52615456, "link": "https://stackoverflow.com/questions/52615456/getting-edutool-to-work-for-kotlin-in-intellij", "title": "Getting EduTool to work for Kotlin in Intellij", "body": "<p>I am trying to learn Kotlin by following the tutorial. I managed to get the plugin installed in Intellij. But I am not able to get the first exercise to run. When I click on the little checkbok it tells me</p>\n\n<blockquote>\n  <p>Failed to launch checking. See idea.log for more details.</p>\n</blockquote>\n\n<p>(I created another blank project and type the same simple exercise in a scratch file and it works.)</p>\n\n<p><a href=\"https://www.jetbrains.com/help/education/learner-start-guide.html?section=Introduction%20to%20Java\" rel=\"nofollow noreferrer\">link to docs</a></p>\n"}, {"tags": ["android", "android-activity", "kotlin", "foreground"], "comments": [{"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1538511037, "post_id": 52615378, "comment_id": 92165624, "body": "no <code>onResume()</code> is called multiple times not only when app comes to foreground"}], "answers": [{"comments": [{"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 1, "creation_date": 1538511105, "post_id": 52615461, "comment_id": 92165655, "body": "It will be called even when I will start an activity from another activity, and surely this is not what I want"}], "tags": [], "owner": {"reputation": 1839, "user_id": 1375162, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ccd14ac9e9b985f3f3021e93f879c16?s=128&d=identicon&r=PG&f=1", "display_name": "wyoskibum", "link": "https://stackoverflow.com/users/1375162/wyoskibum"}, "is_accepted": false, "score": 1, "last_activity_date": 1538509957, "creation_date": 1538509957, "answer_id": 52615461, "question_id": 52615378, "link": "https://stackoverflow.com/questions/52615378/how-to-detect-whenever-app-comes-to-foreground-in-android/52615461#52615461", "title": "How to detect whenever app comes to foreground in android", "body": "<p>You should do the passcode in the onResume() method as that would be the last method called prior to the activity running again.</p>\n"}, {"comments": [{"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 0, "creation_date": 1538511243, "post_id": 52615468, "comment_id": 92165714, "body": "what is <code>ProcessLifecycleOwner</code>?"}, {"owner": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "reply_to_user": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 0, "creation_date": 1538511343, "post_id": 52615468, "comment_id": 92165757, "body": "a class that provides lifecycle for the whole application process <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ProcessLifecycleOwner\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/lifecycle/&hellip;</a>"}, {"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 0, "creation_date": 1538511460, "post_id": 52615468, "comment_id": 92165811, "body": "actually I am unable to import it. I don&#39;t why"}, {"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 2, "creation_date": 1538511660, "post_id": 52615468, "comment_id": 92165921, "body": "I had to add <code>implementation &quot;android.arch.lifecycle:extensions:1.1.1&quot;</code> in app gradle to reference <code>ProcessLifecycleOwner</code>"}, {"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 0, "creation_date": 1538511951, "post_id": 52615468, "comment_id": 92166073, "body": "its working fine when app goes to background and comes to foreground but there is a lill problem that <code>onEnterForeground()</code> is being triggered when I open a new activity. How can I resolve that?"}, {"owner": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "reply_to_user": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 0, "creation_date": 1538512168, "post_id": 52615468, "comment_id": 92166172, "body": "That shouldn&#39;t be happening if you are registering the LifecycleObserver in your application class. Could you update your question to show how are you registering the observer?"}, {"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 0, "creation_date": 1538512497, "post_id": 52615468, "comment_id": 92166301, "body": "Actually I have added it in <code>baseActivity</code> which I am inheriting in every activity perhaps thats why its happening. I have found a way: I am checking value of a boolean value which is true only when <code>onEnterBackground()</code> is called. So thats how I can check if value is true when <code>onEnterForeground()</code> called then it means that app was in background before that."}, {"owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 0, "creation_date": 1538512534, "post_id": 52615468, "comment_id": 92166317, "body": "Thanks for clean and efficient approach, I believe only a genius can come up with simple solution!"}, {"owner": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "reply_to_user": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "edited": false, "score": 1, "creation_date": 1538512686, "post_id": 52615468, "comment_id": 92166387, "body": "np, I had to do the same research a couple of weeks ago, I couldn&#39;t find the links to a more detailed explanation but I&#39;m glad to help."}, {"owner": {"reputation": 675, "user_id": 668588, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2ZTCT.jpg?s=128&g=1", "display_name": "GJ Nilsen", "link": "https://stackoverflow.com/users/668588/gj-nilsen"}, "edited": false, "score": 0, "creation_date": 1565295530, "post_id": 52615468, "comment_id": 101319527, "body": "This is not working with androidx, so I would appreciate it if someone could update the answer..."}], "tags": [], "owner": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "is_accepted": true, "score": 6, "last_activity_date": 1538510293, "last_edit_date": 1538510293, "creation_date": 1538509979, "answer_id": 52615468, "question_id": 52615378, "link": "https://stackoverflow.com/questions/52615378/how-to-detect-whenever-app-comes-to-foreground-in-android/52615468#52615468", "title": "How to detect whenever app comes to foreground in android", "body": "<p>Now you can add a LifecycleObserver to your app when it's created to detect when your app goes to foreground/background.</p>\n\n<pre><code>class MyApp : Application() {\n\n    private lateinit var appLifecycleObserver : AppLifecycleObserver\n\n    override fun onCreate() {\n        super.onCreate()\n        appLifecycleObserver = AppLifecycleObserver()\n        ProcessLifecycleOwner.get().lifecycle.addObserver(appLifecycleObserver)\n    }\n}\n\n\nclass AppLifecycleObserver() : LifecycleObserver {\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_START)\n    fun onEnterForeground() {\n        // App entered foreground\n        // request passpharse\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_STOP)\n    fun onEnterBackground() {\n        // App entered background\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 10209025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7LTwdOg3ZcU/AAAAAAAAAAI/AAAAAAAAACM/gZkrkx3NOig/photo.jpg?sz=128", "display_name": "Sreedev P R", "link": "https://stackoverflow.com/users/10209025/sreedev-p-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1538539290, "creation_date": 1538539290, "answer_id": 52619521, "question_id": 52615378, "link": "https://stackoverflow.com/questions/52615378/how-to-detect-whenever-app-comes-to-foreground-in-android/52619521#52619521", "title": "How to detect whenever app comes to foreground in android", "body": "<p>You could use onWindowFocusChanged.</p>\n"}], "owner": {"reputation": 4738, "user_id": 5361964, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mh6DJ.jpg?s=128&g=1", "display_name": "Zohab Ali", "link": "https://stackoverflow.com/users/5361964/zohab-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1076, "favorite_count": 0, "accepted_answer_id": 52615468, "answer_count": 3, "score": 0, "last_activity_date": 1538539290, "creation_date": 1538509578, "question_id": 52615378, "link": "https://stackoverflow.com/questions/52615378/how-to-detect-whenever-app-comes-to-foreground-in-android", "title": "How to detect whenever app comes to foreground in android", "body": "<p>I have read alot about <code>how to detect when app comes to foreground</code> but unable to find any satisfactory answer. Most of them are using onResume() and onClose() methods and keeping count etc</p>\n\n<blockquote>\n  <p>I am working on a crypto-currency app and I have to ask for passCode\n  whenever app comes to foreground, which is very critical in my case.\n  It must ask for passCode every time.</p>\n</blockquote>\n\n<p>So that is why I want to assure that isn't there any method to detect this in android by default if not then what is the best approach?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1538506167, "post_id": 52614421, "comment_id": 92163500, "body": "Are you sure the error comes from the Toast? I use Toast in my DBHelper without any problems."}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1538510325, "post_id": 52614421, "comment_id": 92165326, "body": "@leonardkraemer Well I comment the Toast out and it seemed to work Will do more testing If you like edit your ans with a snipit of your code"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1538510846, "post_id": 52614421, "comment_id": 92165551, "body": "@leonardkraemer Just tested with Toast commented out and No ERRORS"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1538513270, "post_id": 52614421, "comment_id": 92166596, "body": "Can you provide a <a href=\"https://stackoverflow.com/help/mcve\">MVCE</a>  please? I can not reproduce the issue."}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1538515210, "post_id": 52614421, "comment_id": 92167320, "body": "@leonardkraemer Here is most of the code that is involved in the ERROR I did not include the ModelParent been testing code and it works great WITHOUT the Toast We appreciate you dedication to this question sooner or later someone will want to place a Toast or Snackbar in a non Activity Class Once we found the Error we almost did not ask the question"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1538515459, "post_id": 52614421, "comment_id": 92167412, "body": "your <code>context</code> is <code>null</code>. you initialize it here: <code>var context: Context? = null</code>. Delete that line and use my solution. Please read <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\" title=\"what is a nullpointerexception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a>"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1538516237, "post_id": 52614421, "comment_id": 92167710, "body": "@leonardkraemer My bad I missed the construct private val context:Context the first time I looked at your answer got too focused on the Toast Thanks for the advice and persistence Now that I have two tables with fk how to show the data in a recyclerview or do a UNION and create a new Table THANKS"}], "answers": [{"comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 2, "creation_date": 1538506269, "post_id": 52614551, "comment_id": 92163555, "body": "This won&#39;t fix the issue, since the OP&#39;s toast isn&#39;t the problem. Also, if you have an inner class, there&#39;s no reason to have a <code>context</code> global variable."}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538508018, "post_id": 52614551, "comment_id": 92164334, "body": "@TheWanderer With out the global variable context the other fun will not work I am not crazy about the construct you need to use for this code but it does work Suggest you test this code before you down vote just a suggestion"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1538508127, "post_id": 52614551, "comment_id": 92164377, "body": "@Grendel the whole point of an inner class is that you can access the references of the parent class. A global <code>context</code> variable isn&#39;t needed because you can simply do <code>this@WhateverYourActivityClassIs</code>."}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538508938, "post_id": 52614551, "comment_id": 92164735, "body": "@TheWanderer We rewrote the app to include the inner class construct and tried to use this@DBHandler lots and lots of RED We have not used inner class enough to have a good grasp of how and when to use it but in this case it makes for messy code even though it works your thoughts are appreciated"}], "tags": [], "owner": {"reputation": 1091, "user_id": 4932972, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e89a58e35c62040c0d804afb6d1d3c2?s=128&d=identicon&r=PG&f=1", "display_name": "James_Duh", "link": "https://stackoverflow.com/users/4932972/james-duh"}, "is_accepted": false, "score": 0, "last_activity_date": 1538505986, "creation_date": 1538505986, "answer_id": 52614551, "question_id": 52614421, "link": "https://stackoverflow.com/questions/52614421/kotlin-toast-in-non-activity-class/52614551#52614551", "title": "kotlin toast in non activity class", "body": "<p>This is why they invented inner class this code shows the nasty old Toast</p>\n\n<pre><code>inner class DatabaseHelper : SQLiteOpenHelper {\n\n    var context: Context? = null\n\n    constructor(context: Context) : super(context, dbName, null, dbVersion) {\n        this.context = context\n    }\n\n    override fun onCreate(db: SQLiteDatabase?) {\n        db!!.execSQL(CREATE_TABLE_SQL)\n        Toast.makeText(this.context, \" database is created\", Toast.LENGTH_LONG).show()\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n        db!!.execSQL(\"Drop table IF EXISTS \" + dbTable)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1538507715, "post_id": 52614685, "comment_id": 92164226, "body": "We tried that and same ERROR I like James_Duh answer but the code is messy this way but YES it works"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": true, "score": 5, "last_activity_date": 1538516588, "last_edit_date": 1538516588, "creation_date": 1538506509, "answer_id": 52614685, "question_id": 52614421, "link": "https://stackoverflow.com/questions/52614421/kotlin-toast-in-non-activity-class/52614685#52614685", "title": "kotlin toast in non activity class", "body": "<p>I suspect that <code>this.context</code> might be the culprit. You can not access the context of the SQLiteOpenHelper this way. You can use the following code:</p>\n\n<pre><code>//declare the context as private val property in the constructor see https://kotlinlang.org/docs/reference/classes.html\nclass DBHelper(private val context: Context):SQLiteOpenHelper(context,DBHelper.DB_NAME,null,DBHelper.DB_VERSION) {\n\n    override fun onCreate(db: SQLiteDatabase?) {\n\n    val CREATE_TABLE_DEPT = \"CREATE TABLE ${DEPT_TABLE} ($colidD INTEGER PRIMARY KEY, $colDept TEXT);\"\n    val CREATE_TABLE_ITEM = \"CREATE TABLE ${ITEM_TABLE} ($colidI INTEGER PRIMARY KEY, $colItem TEXT);\"\n    db!!.execSQL(CREATE_TABLE_DEPT)\n    db.execSQL(CREATE_TABLE_ITEM)\n\n    //use the context from the constructor\n    Toast.makeText(context, \" database is created\", Toast.LENGTH_LONG).show()\n}\n</code></pre>\n\n<p>It creates a new reference to <code>context</code> via the <code>val</code> codeword in the constructor which is in turn used for the <code>Toast</code></p>\n"}, {"tags": [], "owner": {"reputation": 952, "user_id": 718626, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edacf170a69de911bc746999995a2d8d?s=128&d=identicon&r=PG&f=1", "display_name": "Shaahin", "link": "https://stackoverflow.com/users/718626/shaahin"}, "is_accepted": false, "score": 0, "last_activity_date": 1579267374, "last_edit_date": 1579267374, "creation_date": 1578774562, "answer_id": 59698389, "question_id": 52614421, "link": "https://stackoverflow.com/questions/52614421/kotlin-toast-in-non-activity-class/59698389#59698389", "title": "kotlin toast in non activity class", "body": "<p>If you are using Toast in Kotlin and insdie RecyclerView.Adapter, you have to call Toast like this and use instance prefix:</p>\n\n<pre><code>   class MyViewHolder (view : View) : RecyclerView.ViewHolder(view) { \n\n      init {\n          view.setOnClickListener {\n              Toast.makeText(view.context, \"Your Text\", Toast.LENGTH_SHORT).show()\n          }\n      }\n}\n</code></pre>\n\n<p>where view is instance of View class, and context is parameter of Adapter class which implements RecyclerView</p>\n"}], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2901, "favorite_count": 0, "accepted_answer_id": 52614685, "answer_count": 3, "score": 0, "last_activity_date": 1579267374, "creation_date": 1538505481, "last_edit_date": 1538514959, "question_id": 52614421, "link": "https://stackoverflow.com/questions/52614421/kotlin-toast-in-non-activity-class", "title": "kotlin toast in non activity class", "body": "<p>We do not like the Toast but we included it in our DBHelper Class to know if the DB was created<br/> YES the Logcat pointed at the Toast and the other involved Activities<br/>\nFirst mistake not commenting out the Toast</p>\n\n<p>Here is the ERROR</p>\n\n<pre><code>Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference\n</code></pre>\n\n<p>Here is the call made to the DBHelper<br/></p>\n\n<pre><code>        btnSaveItemData.setOnClickListener {\n        if (etItemData.text.toString().equals(\"\")) {\n            message(\"ENTER Item\")\n            etItemData.requestFocus()\n            return@setOnClickListener\n        }\n\n        if (etItemFK.text.toString().equals(\"\") || etItemFK.text.toString().toInt() == 0) {\n            message(\"ENTER foreign key\")\n            etItemFK.requestFocus()\n            return@setOnClickListener\n        }\n\n        val dbManager = DBHelper(this)\n        val values = ContentValues()\n        values.put(\"item\", etItemData.text.toString())\n        values.put(\"fkI\",Integer.parseInt(etItemFK.text.toString()))\n        if (idI == 0) {\n            val mID = dbManager.insertITEM(values)\n\n            if (mID &gt; 0) {\n                tvMsg.setTextColor(Color.RED)\n                message(\"ADDED Item successfully\")\n                //Timer().schedule(800){\n                    nextACTIVITY()\n                //}\n            } else {\n                message(\"Failed to add Item\")\n            }\n        }\n    }\n</code></pre>\n\n<p>And here is the complete DBHelper with TOAST</p>\n\n<pre><code>class DBHelper(context: Context): SQLiteOpenHelper(context,DBHelper.DB_NAME,null,DBHelper.DB_VERSION) {\n\noverride fun onCreate(db: SQLiteDatabase?) {\n\n    val CREATE_TABLE_DEPT = \"CREATE TABLE ${PARENT_TABLE} ($colidD INTEGER PRIMARY KEY,$colDept TEXT,$colPFK INTEGER);\"\n    val CREATE_TABLE_ITEM = \"CREATE TABLE ${CHILD_TABLE} ($colidI INTEGER PRIMARY KEY,$colItem TEXT,$colCFK INTEGER);\"\n    db!!.execSQL(CREATE_TABLE_DEPT)\n    db.execSQL(CREATE_TABLE_ITEM)\n\n    Toast.makeText(this.context,\"database is created\",Toast.LENGTH_LONG).show()\n}\n\noverride fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n    val DROP_TABLE_DEPT = \"DROP TABLE IF EXISTS $PARENT_TABLE\"\n    val DROP_TABLE_ITEM = \"DROP TABLE IF EXISTS $CHILD_TABLE\"\n    db!!.execSQL(DROP_TABLE_DEPT)\n    db.execSQL(DROP_TABLE_ITEM)\n    onCreate(db)\n}\n\nfun queryDEPT(): List&lt;ModelParent&gt; {\n    val db = this.writableDatabase\n    val parentList = ArrayList&lt;ModelParent&gt;()\n    val selectQuery = \"SELECT  * FROM ${PARENT_TABLE}\"\n    val cursor = db.rawQuery(selectQuery, null)\n    if (cursor != null) {\n        if (cursor.moveToFirst()) {\n            do {\n                val contact = ModelParent()\n                contact.idD = Integer.parseInt(cursor.getString(cursor.getColumnIndex(colidD)))\n                contact.dept = cursor.getString(cursor.getColumnIndex(colDept))\n                contact.fkD = Integer.parseInt(cursor.getString(cursor.getColumnIndex(colPFK)))\n                parentList.add(contact)\n            } while (cursor.moveToNext())\n        }\n    }\n    cursor.close()\n    return parentList\n}\n\nfun queryITEM(): List&lt;ModelChild&gt; {\n    val db = this.writableDatabase\n    val childList = ArrayList&lt;ModelChild&gt;()\n    val selectQuery = \"SELECT  * FROM ${CHILD_TABLE}\"\n    val cursor = db.rawQuery(selectQuery, null)\n    if (cursor != null) {\n        if (cursor.moveToFirst()) {\n            do {\n                val contact = ModelChild()\n                contact.idI = Integer.parseInt(cursor.getString(cursor.getColumnIndex(colidI)))\n                contact.item = cursor.getString(cursor.getColumnIndex(colItem))\n                contact.fkI = Integer.parseInt(cursor.getString(cursor.getColumnIndex(colCFK)))\n                childList.add(contact)\n            } while (cursor.moveToNext())\n        }\n    }\n    cursor.close()\n    return childList\n}\n\nfun insertDEPT(values: ContentValues): Long {\n    val db = this.writableDatabase\n    val idD = db.insert(PARENT_TABLE, null, values)\n    return idD\n}\n\nfun updateDEPT(values: ContentValues, selection: String, selectionargs: Array&lt;String&gt;):Int{\n    val db = this.writableDatabase\n    val dept = db.update(PARENT_TABLE,values,selection,selectionargs)\n    return dept\n}\n\nfun insertITEM(values: ContentValues): Long {\n    val db = this.writableDatabase\n    val idI = db.insert(CHILD_TABLE, null, values)\n    return idI\n}\n\nfun updateITEM(values: ContentValues, selection: String, selectionargs: Array&lt;String&gt;): Int {\n    val db = this.writableDatabase\n    val count = db.update(CHILD_TABLE, values, selection, selectionargs)\n    return count\n}\n\nfun deleteDEPT(productname: String): Boolean {\n    var result = false\n    val query = \"SELECT * FROM $PARENT_TABLE WHERE $colDept= \\\"$productname\\\"\"\n    val db = this.writableDatabase\n    val cursor = db.rawQuery(query, null)\n\n    if (cursor.moveToFirst()) {\n        val id = Integer.parseInt(cursor.getString(0))\n        db.delete(PARENT_TABLE, \"$colidD = ?\", arrayOf(id.toString()))\n        cursor.close()\n        result = true\n    }\n    db.close()\n    return result\n}\n\nfun deleteITEM(productname: String): Boolean {\n    var result = false\n    val query = \"SELECT * FROM $CHILD_TABLE WHERE $colItem= \\\"$productname\\\"\"\n    val db = this.writableDatabase\n    val cursor = db.rawQuery(query, null)\n\n    if (cursor.moveToFirst()) {\n        val id = Integer.parseInt(cursor.getString(0))\n        db.delete(CHILD_TABLE, \"$colidI = ?\", arrayOf(id.toString()))\n        cursor.close()\n        result = true\n    }\n    db.close()\n    return result\n}\n\nvar context: Context? = null\n\ncompanion object {\n    private val DB_VERSION = 1\n    private val DB_NAME = \"Kids.db\"\n    private val PARENT_TABLE = \"Parent\"\n    private val colidD = \"idD\"\n    private val colDept = \"Dept\"\n    private val colPFK = \"fkD\"\n    private val CHILD_TABLE = \"Child\"\n    private val colidI = \"idI\"\n    private val colItem = \"Item\"\n    private val colCFK = \"fkI\"\n}\n</code></pre>\n\n<p>}</p>\n\n<p>After the DBHelper writes the Data to the Database the nextActivity makes a call back to the DBHelper to queryDEPT and will display the data with the ViewParentActivity<br/></p>\n\n<pre><code>class ViewParentActivity : AppCompatActivity() {\n\nprivate var RecyclerAdapter: ParentAdapter? = null\nprivate var recyclerView: RecyclerView? = null\nprivate val db = DBHelper(this)\nprivate var parentList:List&lt;ModelParent&gt; = ArrayList()\nprivate var linearLayoutManager: LinearLayoutManager? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_view_parent)\n    supportActionBar?.setDisplayHomeAsUpEnabled(true)\n\n    initViews()\n\n}// end onCreate\n\n\noverride fun onResume() {\n    super.onResume()\n    initDB()\n}\n\n// This is ONLY called when Activity is in onResume state\nprivate fun initDB() {\n    parentList = db.queryDEPT()\n    if(parentList.isEmpty()){\n        title = \"No Records in DB\"\n    }else{\n        title = \"Parent List\"\n    }\n\n    RecyclerAdapter = ParentAdapter(parentList = parentList, context = applicationContext)\n    (recyclerView as RecyclerView).adapter = RecyclerAdapter\n}\n\nprivate fun initViews() {\n\n    recyclerView = this.findViewById(R.id.rvParentView)\n    // val etDeptFK can not be reasigned ?\n    //etDeptFK = this.findViewById(R.id.etDeptFK)\n    RecyclerAdapter = ParentAdapter(parentList = parentList, context = applicationContext)\n    linearLayoutManager = LinearLayoutManager(applicationContext)\n    (recyclerView as RecyclerView).layoutManager = linearLayoutManager!!\n}\n\noverride fun onCreateOptionsMenu(menu: Menu?): Boolean {\n    menuInflater.inflate(R.menu.menu_main, menu)\n    return super.onCreateOptionsMenu(menu)\n}\n\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n    if (item != null) {\n        when (item.itemId) {\n            R.id.addNote -&gt; {\n                val intent = Intent(this, EnterParentActivity::class.java)\n                intent.putExtra(\"FROM\",\"N\")// ADD NEW NOTE\n                startActivity(intent)\n            }\n        }\n        // CODE below manages HOME Button\n        val id = item.itemId\n        if (id == android.R.id.home) {\n            val intent = Intent(this, EnterParentActivity::class.java)\n            intent.putExtra(\"FROM\",\"N\")// ADD NEW NOTE\n            startActivity(intent)\n        }\n    }\n    return super.onOptionsItemSelected(item)\n}\n</code></pre>\n\n<p>Because we are curious now<br/>\nThe question is how to place a Toast or some other form of notification in a non Activity Class?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4859, "user_id": 1000626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/15e1f36f8333463810b19b7e397ccd76?s=128&d=identicon&r=PG", "display_name": "Chris Watts", "link": "https://stackoverflow.com/users/1000626/chris-watts"}, "edited": false, "score": 0, "creation_date": 1540901169, "post_id": 52613979, "comment_id": 93026223, "body": "This doesn&#39;t seem to work for me. This make it invisible to Java too. Any other suggestions?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 4859, "user_id": 1000626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/15e1f36f8333463810b19b7e397ccd76?s=128&d=identicon&r=PG", "display_name": "Chris Watts", "link": "https://stackoverflow.com/users/1000626/chris-watts"}, "edited": false, "score": 0, "creation_date": 1540902993, "post_id": 52613979, "comment_id": 93027161, "body": "You can try <code>DeprecationLevel.ERROR</code>"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 4859, "user_id": 1000626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/15e1f36f8333463810b19b7e397ccd76?s=128&d=identicon&r=PG", "display_name": "Chris Watts", "link": "https://stackoverflow.com/users/1000626/chris-watts"}, "edited": false, "score": 0, "creation_date": 1540919085, "post_id": 52613979, "comment_id": 93037255, "body": "I don&#39;t think there&#39;s another solution."}, {"owner": {"reputation": 4859, "user_id": 1000626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/15e1f36f8333463810b19b7e397ccd76?s=128&d=identicon&r=PG", "display_name": "Chris Watts", "link": "https://stackoverflow.com/users/1000626/chris-watts"}, "edited": false, "score": 0, "creation_date": 1540924690, "post_id": 52613979, "comment_id": 93040056, "body": "One thing I tried was to mark the functions as <code>internal</code> in Kotlin, and then set the name of the function manually with @JvmName(&quot;myJavaOnlyFunction&quot;), which works, but IDEs like JetBrains will complain that you&#39;re using an internally-marked function."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 6, "last_activity_date": 1538503583, "creation_date": 1538503583, "answer_id": 52613979, "question_id": 52613604, "link": "https://stackoverflow.com/questions/52613604/hide-static-java-methods-from-kotlin/52613979#52613979", "title": "Hide static Java methods from Kotlin", "body": "<p>You can annotate those methods with a <code>@Deprecated</code> annotation with deprecation level HIDDEN:</p>\n\n<pre><code>@kotlin.Deprecated(message = \"JUST FOR JAVA\", level = DeprecationLevel.HIDDEN)\npublic void foo() {\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2158, "user_id": 2548565, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/237eaee167a5b4c04f643f366034d0e1?s=128&d=identicon&r=PG", "display_name": "Anton Tananaev", "link": "https://stackoverflow.com/users/2548565/anton-tananaev"}, "is_accepted": false, "score": 4, "last_activity_date": 1549067858, "creation_date": 1549067858, "answer_id": 54488877, "question_id": 52613604, "link": "https://stackoverflow.com/questions/52613604/hide-static-java-methods-from-kotlin/54488877#54488877", "title": "Hide static Java methods from Kotlin", "body": "<p>There is a solution. It's a bit of a hack, but works perfectly:</p>\n\n<pre><code>@kotlin.SinceKotlin(version = \"99999.0\")\npublic void foo() {\n}\n</code></pre>\n"}], "owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 2, "accepted_answer_id": 52613979, "answer_count": 2, "score": 2, "last_activity_date": 1549067858, "creation_date": 1538502026, "last_edit_date": 1538507336, "question_id": 52613604, "link": "https://stackoverflow.com/questions/52613604/hide-static-java-methods-from-kotlin", "title": "Hide static Java methods from Kotlin", "body": "<p>We're converting a lot of java static methods to kotlin extension functions.  However, there are some methods that we need to keep around JUST FOR JAVA (We want to force kotlin code to use the extension functions).</p>\n\n<p>Is there a way to hide java static methods from kotlin?</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "edited": false, "score": 1, "creation_date": 1538502576, "post_id": 52613133, "comment_id": 92161840, "body": "This suggestion worked, I placed it all within a LinearLayout so I could use weightSum."}], "tags": [], "owner": {"reputation": 367, "user_id": 5624717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b10be513e858c1eb7e52c9d94938430?s=128&d=identicon&r=PG&f=1", "display_name": "Sajal Narang", "link": "https://stackoverflow.com/users/5624717/sajal-narang"}, "is_accepted": true, "score": 1, "last_activity_date": 1538500055, "creation_date": 1538500055, "answer_id": 52613133, "question_id": 52613011, "link": "https://stackoverflow.com/questions/52613011/android-overlaying-a-text-on-top-of-an-imagebutton/52613133#52613133", "title": "Android Overlaying a text on top of an ImageButton", "body": "<p>Try wrapping your <code>ImageView</code> and <code>TextView</code> in a <code>RelativeLayout</code> as:</p>\n\n<pre><code>&lt;RelativeLayout\n    android:layout_width=\"0dp\"\n    android:layout_height=\"match_parent\"\n    android:layout_weight=\"1\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>and set <code>android:weightSum=3</code> in the parent layout. Once you have the desired layout, make the <code>RelativeLayout</code> clickable instead of using an <code>ImageButton</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 52613133, "answer_count": 1, "score": 0, "last_activity_date": 1538500055, "creation_date": 1538499521, "question_id": 52613011, "link": "https://stackoverflow.com/questions/52613011/android-overlaying-a-text-on-top-of-an-imagebutton", "title": "Android Overlaying a text on top of an ImageButton", "body": "<p>I've got an Image button and want to place on top of it a descriptive text. Also need the ImageButton to be 1/3 of the parent's width so can't use a ConstraintLayout nor a LinearLayout. Any ideas? </p>\n"}, {"tags": ["kotlin", "gson"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1538497015, "post_id": 52612365, "comment_id": 92159280, "body": "It&#39;s theoretically possible whatever library/framework you use uses reflection, and therefore bypasses the constructor, and sets the values directly."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1538549781, "post_id": 52612365, "comment_id": 92176352, "body": "Yes I&#39;m aware of that, but I would find a way to set null list as empty by default"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1560950217, "post_id": 52612365, "comment_id": 99904900, "body": "Without a <code>TypeAdapter</code>, I cannot think of any way. Maybe something with <code>Gson.Builder.serializeNulls</code>. You should try anyway with a <code>TypeAdapter</code> first IMO."}], "answers": [{"comments": [{"owner": {"reputation": 794, "user_id": 2603875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da9b689a88631c71e39084e3592e93b?s=128&d=identicon&r=PG", "display_name": "KoW", "link": "https://stackoverflow.com/users/2603875/kow"}, "edited": false, "score": 0, "creation_date": 1574599876, "post_id": 56668909, "comment_id": 104281870, "body": "Worked perfectly for me with kotlinx.serialization"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 1, "last_activity_date": 1560951098, "creation_date": 1560951098, "answer_id": 56668909, "question_id": 52612365, "link": "https://stackoverflow.com/questions/52612365/kotlin-gson-how-to-get-an-emptylist-when-null-for-data-class/56668909#56668909", "title": "Kotlin + Gson - How to get an emptyList when null for data class", "body": "<p>Switch your <code>@SerializedName(\"myList\") val myList: List&lt;String&gt;</code> to: </p>\n\n<p><code>@SerializedName(\"myList\") val myList: List&lt;String&gt;?</code> just to be safe from <code>null</code>.</p>\n\n<p>Now, Kotlin has default parameters. But I don't know if it fits your case: </p>\n\n<pre><code>data class MyDataClass(@SerializedName(\"myList\") val myList: List&lt;String&gt; = emptyList())\n</code></pre>\n"}], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560951098, "creation_date": 1538496804, "last_edit_date": 1560950968, "question_id": 52612365, "link": "https://stackoverflow.com/questions/52612365/kotlin-gson-how-to-get-an-emptylist-when-null-for-data-class", "title": "Kotlin + Gson - How to get an emptyList when null for data class", "body": "<p>Lets to say I have the following data class:</p>\n\n<pre><code>data class MyDataClass(@SerializedName(\"myList\") val myList: List&lt;String&gt;)\n</code></pre>\n\n<p>And I try to parse this JSON:</p>\n\n<pre><code>{ \"myList\": null } or {} \n</code></pre>\n\n<p>I want to get an empty list but I get a null <code>myList</code>. Does anyone know how to serialize this without implementing a <code>registerTypeAdapter</code> for each type containing a list?</p>\n\n<p>If I set <code>emptyList()</code> as default value for the constructor. The second JSON works as I want to.</p>\n"}, {"tags": ["android", "junit", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1538495500, "post_id": 52611987, "comment_id": 92158381, "body": "You can&#39;t unit test the package manager IIRC, or anything that requires access to the Android API. Depends on what type of test it is though"}, {"owner": {"reputation": 33, "user_id": 9785184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73ed335e2c943fa56576178522ef336?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio KS", "link": "https://stackoverflow.com/users/9785184/sergio-ks"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1538496220, "post_id": 52611987, "comment_id": 92158827, "body": "I found that extend ApplicationTestCase can create the application and createApplication() call onCreate()"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1538496335, "post_id": 52611987, "comment_id": 92158905, "body": "Oh. Ignore my comment then :)"}], "owner": {"reputation": 33, "user_id": 9785184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73ed335e2c943fa56576178522ef336?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio KS", "link": "https://stackoverflow.com/users/9785184/sergio-ks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538562312, "creation_date": 1538495403, "last_edit_date": 1538562312, "question_id": 52611987, "link": "https://stackoverflow.com/questions/52611987/how-to-use-application-object-which-init-dagger-with-junit-testing", "title": "How to use Application Object which init dagger with JUnit testing", "body": "<p>Trying to start implementing testing for my application class which init dagger and instantiate appComponent with AppModule and Storage Module, I found that extends ApplicationTestCase should help and setup the application but the problem getApplication() always return null.\nIs it the right way to use the application object in JUnit and why does <code>getApplication()</code> return <code>null</code>? </p>\n\n<pre><code>  class LirisApplication : Application() {\n\n  companion object {\n    lateinit var appComponent: AppComponent\n  }\n\n  fun getDataComponent(): AppComponent {\n    return appComponent\n  }\n\n  override fun onCreate() {\n    super.onCreate()\n    initializeDagger()\n    Fabric.with(this, Crashlytics())\n  }\n\n  private fun initializeDagger() {\n    appComponent = DaggerAppComponent.builder()\n            .appModule(AppModule(this))\n            .storageModule(StorageModule())\n            .networkModule(NetworkModule(BuildConfig.BASE_URL))\n            .build()\n    }\n\n   }\n</code></pre>\n\n<p>ApplicationTest</p>\n\n<pre><code>public class ApplicationTest extends ApplicationTestCase&lt;LirisApplication&gt; {\n\n    private LirisApplication application;\n\n    public ApplicationTest() {\n        super(LirisApplication.class);\n    }\n\n    protected void setUp() throws Exception {\n        super.setUp();\n        createApplication();\n        application = getApplication();\n    }\n\n    public void testCorrectVersion() throws Exception {\n        PackageInfo info = application.getPackageManager().getPackageInfo(application.getPackageName(), 0);\n        assertNotNull(info);\n        MoreAsserts.assertMatchesRegex(\"\\\\d\\\\.\\\\d\", info.versionName);\n    }\n\n}\n</code></pre>\n\n<p>The error is in this line because the application is null</p>\n\n<pre><code>PackageInfo info = application.getPackageManager().getPackageInfo(application.getPackageName(), 0);\n</code></pre>\n\n<p>Log</p>\n\n<pre><code>java.lang.NullPointerException\n    at digitu.com.osmos.ApplicationTest.testCorrectVersion(ApplicationTest.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at junit.framework.TestCase.runTest(TestCase.java:176)\n    at junit.framework.TestCase.runBare(TestCase.java:141)\n    at junit.framework.TestResult$1.protect(TestResult.java:122)\n    at junit.framework.TestResult.runProtected(TestResult.java:142)\n    at junit.framework.TestResult.run(TestResult.java:125)\n    at junit.framework.TestCase.run(TestCase.java:129)\n    at junit.framework.TestSuite.runTest(TestSuite.java:252)\n    at junit.framework.TestSuite.run(TestSuite.java:247)\n    at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n"}, {"tags": ["arrays", "matrix", "multidimensional-array", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1538494759, "creation_date": 1538494759, "answer_id": 52611786, "question_id": 52610744, "link": "https://stackoverflow.com/questions/52610744/copy-2d-array-to-separate-variable-in-kotlin/52611786#52611786", "title": "Copy 2d array to separate variable in Kotlin", "body": "<p>Kotlin, like Java, doesn't really have multi-dimensional arrays.\u00a0\u00a0What it does have is arrays of arrays.\u00a0 So what you have is an array, each element of which is another array.\u00a0 It looks like a 2-dimensional array most of the time, but you've found a case where it doesn't!</p>\n\n<p>What functions like <code>System.arrayCopy</code> do is create a copy of the outer array; but it's a <em>shallow copy</em>, which still refers to the same inner arrays as the original.</p>\n\n<p>What you want is a <em>deep copy</em>, which creates copies of all the inner arrays too.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/40463390/how-to-copy-a-two-dimensional-array-in-kotlin\">How to copy a two-dimensional array in Kotlin?</a> or <a href=\"https://stackoverflow.com/questions/1564832/how-do-i-do-a-deep-copy-of-a-2d-array-in-java\">How do I do a deep copy of a 2d array in Java?</a> for a few examples of that.</p>\n"}], "owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538494759, "creation_date": 1538491303, "question_id": 52610744, "link": "https://stackoverflow.com/questions/52610744/copy-2d-array-to-separate-variable-in-kotlin", "title": "Copy 2d array to separate variable in Kotlin", "body": "<p>So i have this 2d array, and i want to copy it to another <em>seperate</em> variable. I have tried using <code>System.arrayCopy</code> and <code>Array.copyOf</code>, but both seem to just return a reference to the array i'm trying to copy, not a new array. Are there any buildt in methods for this, or do i have to make one myself?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 2, "last_activity_date": 1538489298, "last_edit_date": 1538489298, "creation_date": 1538488978, "answer_id": 52610034, "question_id": 52609892, "link": "https://stackoverflow.com/questions/52609892/collect-iterables-into-one-variable-list/52610034#52610034", "title": "Collect iterables into one variable (list)", "body": "<p>You can use <code>flatMap</code> for this purpose. It first maps each element to a <code>Sequence</code> using your mapping function (so you kinda get a <code>Sequence&lt;Sequence&lt;File&gt;&gt;</code>), then it flattens every result back to a <code>Sequence&lt;File&gt;</code>.</p>\n\n<p>Since <code>walkTopDown</code> returns a <code>FileTreeWalk</code> (which is a subclass of <code>Sequence&lt;File&gt;</code>), and you return a <code>List&lt;File&gt;</code>, you have to do some conversions as well. You can remove these conversions if you make <code>getFiles</code> and <code>readFiles</code> return a <code>Sequence&lt;File&gt;</code> instead.</p>\n\n<pre><code>fun readFiles(directory: String): List&lt;File&gt; {\n    return File(directory)\n              .walkTopDown()\n              .flatMap { getFiles(it).asSequence() }\n              .toList()\n}\n</code></pre>\n"}], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 52610034, "answer_count": 1, "score": 0, "last_activity_date": 1538489298, "creation_date": 1538488579, "question_id": 52609892, "link": "https://stackoverflow.com/questions/52609892/collect-iterables-into-one-variable-list", "title": "Collect iterables into one variable (list)", "body": "<p>Consider this: </p>\n\n<pre><code>  fun readFiles(directory: String): List&lt;File&gt; {\n    val result = ArrayList&lt;File&gt;()\n\n    File(directory).walkTopDown().forEach {\n      result.addAll(getFiles(it))\n    }\n\n    return result\n  }\n\n  fun getFiles(file: File): List&lt;File&gt; { ... }\n</code></pre>\n\n<p>How can rewrite this so I don't need to initialize the <code>result</code> <code>ArrayList</code> but can directly <code>return File(directory).walkTopDown().???</code>?</p>\n\n<p>The question is not about what's the best way to read files or anything, just how I can write the above code more concise while doing the same. </p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1538572068, "post_id": 52609878, "comment_id": 92188955, "body": "where are you injecting retrofit ?"}, {"owner": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1538572490, "post_id": 52609878, "comment_id": 92189218, "body": "@crgarridos I create modules, then create components which belong either to app or single activity, and then inject activity."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1538572851, "post_id": 52609878, "comment_id": 92189465, "body": "ok, but in some place you have to declare to request an instance of retrofit to be injected. I guess it could be in the presenter or in a deeper level."}, {"owner": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1538574229, "post_id": 52609878, "comment_id": 92190377, "body": "@crgarridos I don&#39;t inject Retrofit instance directly. It&#39;s created in activity component, and the component contains a method called injectSomeActivity. The whole flow is: application class creates an application component, then application component creates activity component. The matter is that application module provides general Retrofit instance, while activity module provides another one, but also needs to use the first one, because it makes calls to different APIs."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "edited": false, "score": 0, "creation_date": 1538492847, "post_id": 52610558, "comment_id": 92156739, "body": "thanks, but got the same error &quot;Caused by: java.lang.IllegalArgumentException: Multiple Retrofit annotations found, only one allowed. (parameter #1)         for method PushApi.subscribeToPush&quot;.  Added this method to original question"}, {"owner": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "edited": false, "score": 0, "creation_date": 1538555038, "post_id": 52610558, "comment_id": 92179027, "body": "could you please help with the error mentioned in the previous comment?"}, {"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "reply_to_user": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "edited": false, "score": 0, "creation_date": 1538555675, "post_id": 52610558, "comment_id": 92179361, "body": "Did you follow the steps mentioned in my answer? Did you clean and rebuild your project after follow those steps?"}, {"owner": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "edited": false, "score": 0, "creation_date": 1538560678, "post_id": 52610558, "comment_id": 92182159, "body": "yes, I followed the steps and cleaned/rebuilt project, but app still crashes with the same error. seems it can&#39;t provide the proper retrofit instance to PushApi. I just need to change base url parameter, never thought it would be so difficult to do with dagger."}, {"owner": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "edited": false, "score": 0, "creation_date": 1538566329, "post_id": 52610558, "comment_id": 92185402, "body": "in my app, ApiModule is provided to every activity, but I need also to  provide InfoModule to InfoActivity. Therefore, two instances of Retrofit are provided to InfoActivity. May it be the case of the error?"}, {"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "reply_to_user": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "edited": false, "score": 0, "creation_date": 1538572348, "post_id": 52610558, "comment_id": 92189132, "body": "Now, I need to see you InfoPresenter related code, could you added it? InfoPresenter implementation as well as InfoPresenter provider class"}, {"owner": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "edited": false, "score": 0, "creation_date": 1538572907, "post_id": 52610558, "comment_id": 92189496, "body": "I added code of InfoPresenter to original post. InfoPresenter is provided in InfoModule class"}], "tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": false, "score": 2, "last_activity_date": 1538490691, "creation_date": 1538490691, "answer_id": 52610558, "question_id": 52609878, "link": "https://stackoverflow.com/questions/52609878/android-dagger2-issue-multiple-retrofit-annotations-found-only-one-allowed/52610558#52610558", "title": "Android Dagger2 issue. Multiple Retrofit annotations found, only one allowed", "body": "<p>Make use of <code>qualifiers</code> so Dagger be able to know which <code>Retrofit</code> instance should provide for each case.</p>\n\n<p>1) Create qualifiers</p>\n\n<p><strong>RetrofitApi.kt</strong></p>\n\n<pre><code>@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\nannotation class RetrofitApi\n</code></pre>\n\n<p><strong>RetrofitInfo.kt</strong></p>\n\n<pre><code>@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\nannotation class RetrofitInfo\n</code></pre>\n\n<p>2) Use qualifiers</p>\n\n<p><strong>ApiModule.kt</strong></p>\n\n<pre><code>@AppScope\n@Provides\n@RetrofitApi\nfun provideRetrofitAdapter(ok: OkHttpClient): Retrofit {\n    return Retrofit.Builder()\n            .client(ok)\n            .baseUrl(Constants.Api.Links.BASE_URL)\n            .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n}\n\n@AppScope\n@Provides\nfun provideEnergoApi(@RetrofitApi r: Retrofit): EnergoApi {\n    return r.create(EnergoApi::class.java)\n}\n</code></pre>\n\n<p><strong>InfoModule.kt</strong></p>\n\n<pre><code>@ActivityScope\n@Provides\n@RetrofitInfo\nfun providePushRetrofitAdapter(ok: OkHttpClient): Retrofit {\n    return Retrofit.Builder()\n            .client(ok)\n            .baseUrl(Constants.Api.Links.BASE_PUSH_URL)\n            .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n}\n\n@ActivityScope\n@Provides\nfun providePushApi(@RetrofitInfo r: Retrofit): PushApi {\n    return r.create(PushApi::class.java)\n}\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8874077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ba9519d7c3b5685ea2da6b3b7f5c5a?s=128&d=identicon&r=PG&f=1", "display_name": "menefrego", "link": "https://stackoverflow.com/users/8874077/menefrego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538572805, "creation_date": 1538488547, "last_edit_date": 1538572805, "question_id": 52609878, "link": "https://stackoverflow.com/questions/52609878/android-dagger2-issue-multiple-retrofit-annotations-found-only-one-allowed", "title": "Android Dagger2 issue. Multiple Retrofit annotations found, only one allowed", "body": "<p>I've found several related topics, but did not fount any suitable solution for my issue. I need to provide two retrofit instance with different base urls. Here's my ApiModule.kt:</p>\n\n<pre><code>@AppScope\n@Module\ninternal class ApiModule{\n\n    @AppScope\n    @Provides\n    fun provideOkHttpClient(): OkHttpClient {\n        var b = OkHttpClient.Builder()\n\n        if (BuildConfig.DEBUG){\n            val logging = HttpLoggingInterceptor()\n            logging.level = HttpLoggingInterceptor.Level.BODY\n            b.addInterceptor(logging)\n        }\n        val t = 60*1000L\n\n        b.readTimeout(t, TimeUnit.MILLISECONDS)\n        b.writeTimeout(t, TimeUnit.MILLISECONDS)\n        b.connectTimeout(t, TimeUnit.MILLISECONDS)\n        return b.build()\n    }\n\n    @AppScope\n    @Provides\n    fun provideRetrofitAdapter(ok: OkHttpClient): Retrofit {\n        return Retrofit.Builder()\n                .client(ok)\n                .baseUrl(Constants.Api.Links.BASE_URL)\n                .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n    }\n    @AppScope\n    @Provides\n    fun provideEnergoApi(r: Retrofit): EnergoApi {\n        return r.create(EnergoApi::class.java)\n    }\n\n    @AppScope\n    @Provides\n    fun provideEnergoManager(p: PrefHelper, ea: EnergoApi, pm:PayHubManager): DtecManager {\n        return DtecManager(p, ea, pm)\n    }\n}\n</code></pre>\n\n<p>and here's my InfoMudule.kt:</p>\n\n<pre><code>@ActivityScope\n@Module\ninternal class InfoModule{\n\n    @ActivityScope\n    @Provides\n    fun provideInfoPresenter(p:PrefHelper, d:DtecManager, pu: PushManager, v:ViewUtil, n:NetworkUtil,\n                         a:ApiErrorHandler):InfoPresenter{\n         return InfoPresenter(p, d, pu, v, n,a)\n    }\n\n    @ActivityScope\n    @Provides\n    @Named(\"Retrofit2\")\n    fun providePushRetrofitAdapter(ok: OkHttpClient): Retrofit {\n        return Retrofit.Builder()\n                .client(ok)\n                .baseUrl(Constants.Api.Links.BASE_PUSH_URL)\n                .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n    }\n\n    @ActivityScope\n    @Provides\n    fun providePushApi(r: Retrofit): PushApi {\n        return r.create(PushApi::class.java)\n    }\n\n    @ActivityScope\n    @Provides\n    fun providePushManager(c: Context, p:PrefHelper, pa: PushApi): PushManager {\n        return PushManager(c,p,pa)\n    }\n}\n</code></pre>\n\n<p>My AppComponent:</p>\n\n<pre><code>@AppScope\n@Component(modules = arrayOf(AppModule::class, ApiModule::class))\ninternal interface AppComponent{\n\n     fun inject(a:BaseActivity)\n\n\n     fun createLoginActivityComponent(): LoginComponent\n     fun createInfoComponent(): InfoComponent\n     fun createPayComponent(): PayComponent\n     fun createNfcScanComponent(): NfcScanComponent\n     fun createSettingsComponent(): SettingsComponent\n\n\n     fun getNfcAdapter():NfcAdapter?\n} \n</code></pre>\n\n<p>Here's my InfoComponent:</p>\n\n<pre><code>@ActivityScope\n@Subcomponent(modules = arrayOf(InfoModule::class))\ninternal interface InfoComponent {\n     fun injectInfoActivity(a: InfoActivity)\n}\n</code></pre>\n\n<p>My PushApi interface:</p>\n\n<pre><code>internal interface PushApi {\n\n@POST(Links.Push.subscribe)\nfun subscribeToPush(@Header (\"Content-type: application/json\")\n                    @Body b: BodySubscribe): Observable&lt;Response&lt;UniqueKey&gt;&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>My InfoActivity:</p>\n\n<pre><code>internal class InfoActivity : BaseActivity(), InfoView, SwipeRefreshLayout.OnRefreshListener {\n\n@Inject lateinit var presenter: InfoPresenter\n@Inject lateinit var viewUtil: ViewUtil\n\ncompanion object {\n    @JvmStatic val PUT_COUNTERS = 101\n    @JvmStatic val PAYMENT = 202\n    @JvmStatic val NAME = \"name\"\n    @JvmStatic val CURRENT_COUNTER = \"currentCounter\"\n}\n\nprivate var accountsDialog: AccountsDialog? = null\nprivate var amountDialog: AmountDialog? = null\n\nprivate lateinit var date: TextView\nprivate lateinit var usedEnergy: TextView\nprivate lateinit var balance: TextView\nprivate lateinit var balanceTitle: TextView\nprivate lateinit var counter1: TextView\nprivate lateinit var counter1Title: TextView\nprivate lateinit var counter2: TextView\nprivate lateinit var counter2Title: TextView\nprivate lateinit var counter3: TextView\nprivate lateinit var counter3Title: TextView\nprivate lateinit var address: TextView\nprivate lateinit var tariff: TextView\nprivate lateinit var refreshView: SwipeRefreshContainer\nprivate var accountsMenuItem: MenuItem? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_PORTRAIT\n    setContentView(R.layout.activity_info)\n    val toolbar = findViewById(R.id.toolbar) as Toolbar\n    setSupportActionBar(toolbar)\n\n    date = findViewById(R.id.activityInfo_tv_date) as TextView\n    usedEnergy = findViewById(R.id.activityInfo_tv_used) as TextView\n    balance = findViewById(R.id.activityInfo_tv_balance) as TextView\n    balanceTitle = findViewById(R.id.activityInfo_tv_balanceTitle) as TextView\n    counter1 = findViewById(R.id.activityInfo_tv_counter1) as TextView\n    counter1Title = findViewById(R.id.activityInfo_tv_counter1Title) as TextView\n    counter2 = findViewById(R.id.activityInfo_tv_counter2) as TextView\n    counter2Title = findViewById(R.id.activityInfo_tv_counter2Title) as TextView\n    counter3 = findViewById(R.id.activityInfo_tv_counter3) as TextView\n    counter3Title = findViewById(R.id.activityInfo_tv_counter3Title) as TextView\n    address = findViewById(R.id.activityInfo_tv_address) as TextView\n    tariff = findViewById(R.id.activityInfo_tv_tariff) as TextView\n    refreshView = findViewById(R.id.activityInfo_srl) as SwipeRefreshContainer\n\n\n    with(refreshView) {\n        setOnRefreshListener(this@InfoActivity)\n        setColorSchemeColors(ContextCompat.getColor(this@InfoActivity, R.color.colorAccent),\n                ContextCompat.getColor(this@InfoActivity, R.color.colorPrimaryDark))\n    }\n\n    checkComponent(savedInstanceState)\n    presenter.attachView(this)\n\n    presenter.subscribeToPush()\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == PUT_COUNTERS &amp;&amp; resultCode == Activity.RESULT_OK) {\n        updateInfoView()\n    }\n}\n\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n    menuInflater.inflate(R.menu.info_menu, menu)\n    accountsMenuItem = menu.findItem(R.id.action_accounts)\n    return true\n}\n\noverride fun onBackPressed() {\n\n}\n\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n    when (item?.itemId) {\n        R.id.action_logout -&gt; presenter.onLogOutClicked()\n        R.id.action_accounts -&gt; presenter.onAccountsClicked()\n        R.id.action_feedback -&gt; navigator.goToFeedbackView(this, presenter.dtecManager.accountInfo.full_name,\n                presenter.dtecManager.accountInfo.abcode)\n        R.id.action_settings -&gt; navigator.goToSetingsActivity(this)\n    }\n    return super.onOptionsItemSelected(item)\n}\n\noverride fun onRefresh() {\n    presenter.onUpdateAccount()\n}\n\noverride fun isSessionActive(): Boolean {\n    return checkActiveSession()\n}\n\noverride fun initComponent() {\n    App.instance.createInfoComponent().injectInfoActivity(this)\n}\n\noverride fun activityIsFinishing() {\n    presenter.detachView()\n    accountsDialog?.onDestroy()\n    amountDialog?.onDestroy()\n    App.instance.releaseInfoComponent()\n}\n}\n</code></pre>\n\n<p>My InfoPresenter:</p>\n\n<pre><code>internal class InfoPresenter(\n    var prefHelper: PrefHelper,\n    val dtecManager: DtecManager,\n    val pushManager: PushManager,\n    val viewUtils: ViewUtil,\n    val networkUtil: NetworkUtil,\n    private var apiErrorHandler: ApiErrorHandler\n) : BasePresenter&lt;InfoView&gt;(), AccountsDialog.OnAccountDialogListener {\n\nprivate var context: Context = App.instance.applicationContext\nprivate var stringTokenizer: StringTokenizer? = null\n\nprivate var getNewAccountInfoSubscription: Subscription? = null\nprivate var uniqueKey: Observable&lt;UniqueKey&gt;? = null\nprivate lateinit var simpleDateFormat: SimpleDateFormat\nprivate lateinit var addressTitle: String\nprivate lateinit var tariffTitle: String\nlateinit var accountInfo: AccountInfo\n    private set\n\noverride fun attachView(mvpView: InfoView) {\n    super.attachView(mvpView)\n    addressTitle = context.getString(R.string.activityInfo_tv_addressTitle)\n    tariffTitle = context.getString(R.string.activityInfo_tv_tariffTitle)\n    var locale: Locale\n    when (Locale.getDefault().country) {\n        \"RU\" -&gt; locale = Locale(\"ru\")\n        else -&gt; locale = Locale(\"uk\")\n    }\n    simpleDateFormat = SimpleDateFormat(\"dd MMMM yyyy\", locale)\n    mvpView.updateInfoView()\n}\n\noverride fun detachView() {\n    super.detachView()\n    getNewAccountInfoSubscription?.unsubscribe()\n}\n\noverride fun onNewAccountSelect(abcode: String?) {\n    if (mvpView!!.isSessionActive()) {\n        abcode?.let {\n            getNewAccountInfo(it)\n            mvpView?.showLoadingDialog(true)?.subscribe {\n                getNewAccountInfoSubscription?.unsubscribe()\n            }\n        }\n    }\n}\n\nfun subscribeToPush() {\n\n    accountInfo = prefHelper.getAccountInfo()\n    uniqueKey = pushManager.subscribe(Constants.ACCOUNT_TYPE, accountInfo.abcode, accountInfo.unitId, Constants.FIREBASE_KEY)\n\n}\n\nfun onUpdateAccount() {\n    if (mvpView!!.isSessionActive()) {\n        if (networkUtil.isOnline(true)) {\n            getNewAccountInfo(dtecManager.accountInfo.abcode)\n        } else {\n            mvpView?.finishRefreshView()\n        }\n    }\n}\n\nfun onPayClicked(v: View) {\n    checkViewAttached()\n    viewUtils.freeze(v)\n    if (mvpView!!.isSessionActive() &amp;&amp; networkUtil.isOnline(true)) {\n        mvpView?.showAmountDialog()\n    }\n}\n}\n</code></pre>\n\n<p>When InfoActivity is launched app crashes with error \"Multiple Retrofit annotations found, only one allowed\". Why doesn't it provide retrofit from InfoModule?</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1538489951, "post_id": 52609728, "comment_id": 92154883, "body": "Assuming there were a way to achieve this, it would be ambiguous, right?  If I do <code>&quot;foo&quot;.toUpperCase()</code> which method would get called?"}, {"owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1538490417, "post_id": 52609728, "comment_id": 92155186, "body": "I would assume the extension function.... but I hadn&#39;t considered that until now"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1538498614, "post_id": 52609728, "comment_id": 92160091, "body": "What I mean is, <code>toUpperCase</code> is already an extension method in Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 439, "user_id": 6229448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234a745b02fefc03fd5917dea58f0b40?s=128&d=identicon&r=PG&f=1", "display_name": "pau1adam", "link": "https://stackoverflow.com/users/6229448/pau1adam"}, "is_accepted": true, "score": 11, "last_activity_date": 1538493997, "creation_date": 1538493997, "answer_id": 52611562, "question_id": 52609728, "link": "https://stackoverflow.com/questions/52609728/kotlin-extension-functions-override-existing-method/52611562#52611562", "title": "Kotlin Extension Functions - Override existing method", "body": "<p>You cannot override an existing member function.</p>\n\n<blockquote>\n  <p>If a class has a member function, and an extension function is defined\n  which has the same receiver type, the same name is applicable to given\n  arguments, the member always wins.</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/extensions.html#extensions-are-resolved-statically\" rel=\"noreferrer\">source</a></p>\n\n<blockquote>\n  <p>Is the only option to rename my extension function or is there a way to refer to the \"super\" function from within it?</p>\n</blockquote>\n\n<p>You will have to rename your extension function and call the member function you want to use from within.</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 9686159, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Fox Sleigh", "link": "https://stackoverflow.com/users/9686159/fox-sleigh"}, "is_accepted": false, "score": 6, "last_activity_date": 1618438506, "last_edit_date": 1618438506, "creation_date": 1557594917, "answer_id": 56092594, "question_id": 52609728, "link": "https://stackoverflow.com/questions/52609728/kotlin-extension-functions-override-existing-method/56092594#56092594", "title": "Kotlin Extension Functions - Override existing method", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/extensions.html#nullable-receiver\" rel=\"nofollow noreferrer\">source</a> as <a href=\"https://stackoverflow.com/users/6229448/pau1adam\">pau1adam</a> cites actually only says the member wins out when a member is applicable. That means defining an extension function <code>toUpperCase()</code> for the nullable type <code>String?</code> is totally valid.</p>\n<ul>\n<li>When calling <code>toUpperCase()</code> on a non-null <code>String</code>, the member function is called.</li>\n<li>When calling <code>toUpperCase()</code> on a nullable <code>String?</code>, there is no member function. Thus the extension function is called.</li>\n</ul>\n<p>The safe call operator <code>?.</code> actually autocasts <code>this</code> to the non-null <code>String</code> type, so the function you defined does exactly what you want it to.</p>\n<p>You can find more details at the <a href=\"https://kotlinlang.org/docs/reference/extensions.html#nullable-receiver\" rel=\"nofollow noreferrer\">source</a>, where they explain how <code>Any?.toString()</code> could be implemented.</p>\n"}], "owner": {"reputation": 6095, "user_id": 1409132, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e09c49bafa70027e969cae50d09752c2?s=128&d=identicon&r=PG", "display_name": "Psest328", "link": "https://stackoverflow.com/users/1409132/psest328"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5919, "favorite_count": 0, "accepted_answer_id": 52611562, "answer_count": 2, "score": 7, "last_activity_date": 1618438506, "creation_date": 1538488107, "question_id": 52609728, "link": "https://stackoverflow.com/questions/52609728/kotlin-extension-functions-override-existing-method", "title": "Kotlin Extension Functions - Override existing method", "body": "<p>is it possible to do something like:</p>\n\n<pre><code>/**\n * Converts all of the characters in the string to upper case.\n *\n * @param str the string to be converted to uppercase\n * @return the string converted to uppercase or empty string if the input was null\n */\nfun String?.toUpperCase(): String = this?.toUpperCase() ?: \"\"\n</code></pre>\n\n<ul>\n<li>What would this do?  It would make <code>toUpperCase</code> null safe.</li>\n<li>What problem am I having? the return value, <code>this?.toUpperCase()</code>,\nrefers to the extension function</li>\n</ul>\n\n<p><strong>Is the only option to rename my extension function or is there a way to refer to the \"super\" function from within it?</strong></p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 3, "creation_date": 1538486445, "post_id": 52609168, "comment_id": 92152562, "body": "Enums do not need to be part of companion object."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1538486635, "post_id": 52609168, "comment_id": 92152678, "body": "MyFragment.INSTANCE? In any case as suggested by Enzokie I would move the enum to its own separate class outside of fragment."}, {"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 1, "creation_date": 1538486841, "post_id": 52609168, "comment_id": 92152816, "body": "Yes, just moved it out of the companion object, and the enum is now accessable. Thanks for reminding me of something I should have thought of myself :-)"}], "answers": [{"tags": [], "owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "is_accepted": true, "score": 3, "last_activity_date": 1561917270, "creation_date": 1561917270, "answer_id": 56826902, "question_id": 52609168, "link": "https://stackoverflow.com/questions/52609168/access-kotlin-enum-from-java/56826902#56826902", "title": "Access Kotlin enum from Java", "body": "<p>Just in case anyone still need this:</p>\n\n<pre><code> Channel.TAG_FRIENDS.getValue()\n</code></pre>\n"}], "owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1161, "favorite_count": 0, "accepted_answer_id": 56826902, "answer_count": 1, "score": 0, "last_activity_date": 1561917270, "creation_date": 1538486226, "question_id": 52609168, "link": "https://stackoverflow.com/questions/52609168/access-kotlin-enum-from-java", "title": "Access Kotlin enum from Java", "body": "<p>I have an enum defined in a Fragment companion object:</p>\n\n<pre><code>enum class Channel {\n    TAG_FRIENDS, CHALLENGE_INVITE, COMMITMENT_INVITE\n}\n</code></pre>\n\n<p>Normaly I'll access it from another Kotlin class like that:</p>\n\n<pre><code>MyFragment.Companion.Channel.TAG_FRIENDS\n</code></pre>\n\n<p>How would I access it from a Java class? The <code>Channel</code> enum doesn't seem to be accessable...</p>\n"}, {"tags": ["android", "kotlin", "realm"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1538492168, "post_id": 52608970, "comment_id": 92156290, "body": "Why not have two separate classes for API response and database classes?"}, {"owner": {"reputation": 75, "user_id": 3993462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WZr7E.jpg?s=128&g=1", "display_name": "nomad", "link": "https://stackoverflow.com/users/3993462/nomad"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1538520065, "post_id": 52608970, "comment_id": 92168911, "body": "@EpicPandaForce I dont really understand your question. The API I&#39;m using provides a JSON that I use for further display, which is parsed to RealmObjects and then inserted into a Realm"}], "owner": {"reputation": 75, "user_id": 3993462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WZr7E.jpg?s=128&g=1", "display_name": "nomad", "link": "https://stackoverflow.com/users/3993462/nomad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538485586, "creation_date": 1538485586, "question_id": 52608970, "link": "https://stackoverflow.com/questions/52608970/realm-managing-subobjects", "title": "Realm managing subobjects", "body": "<p>can you help me out?</p>\n\n<p>For my current context in an app I'm trying to manage a - parsed from json - object through multiple Realms. Due to my requirements I'm bound to use a Realm for my raw converted POJOs, a Realm for an app-session instance and a Realm for a subobject related session (since I'm managing Object copies per session). </p>\n\n<p>The question: How do I properly manage (managed or unmanaged) RealmObjects while copying them from one Realm to another? </p>\n\n<p>Heres my current code:</p>\n\n<pre><code>Realm.getInstance(RealmManager.sessionsConfig)?.also{ sessionsRealm -&gt; \n    try{\n    sessionsRealm.executeTransaction{ \n        // Make a clean setup \n        realm.deleteAll() \n        val copyRootObject = sessionsRealm.copyToRealm(originalRootObject)\n\n        // Ignore flat hierarchy if only one place with one campaign is provided \n        if(copyRootObject.place?.children?.size!! == 0){ \n                copyRootObject.campaign?.apply { \n                    parameters = copyRootObject.parameters \n                    dynamicfields = copyRootObject.dynamic_fields \n                    survey_topics = copyRootObject.survey_topics \n                } \n                copyRootObject.apply { \n                    place?.campaigns = RealmList() \n                    place?.campaigns?.add(copyRootObject.campaign) \n                } \n            } \n        } \n    }catch(e: Exception){ \n        e.printStackTrace()\n    }finally { \n        realm.close() \n        openStartFragment() \n    } \n}\n</code></pre>\n\n<p>During the process of opening my main activity which displays the POJOs contents I'm trying to copy the original whole RealmObject from my raw Realm to my \"instances\" Realm. While this is happening I'm also trying to move some subobjects in my copied objects into a different field because the REST API I'm using is a bit broken.\nProblem is though, the shown code doesn't seem to work. While I'm able to find the copied object, the reassigned subobjects are not being moved to the specified fields.\nAnybody have an idea what I'm doing wrong?</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "edited": false, "score": 0, "creation_date": 1538480673, "post_id": 52607664, "comment_id": 92149286, "body": "show code how you pass <code>songurl</code> from one activity into another"}, {"owner": {"reputation": 15, "user_id": 10332832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ad6ead389735e48a54672d8eb55356?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/10332832/mohamed-mohamed"}, "reply_to_user": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "edited": false, "score": 0, "creation_date": 1538480759, "post_id": 52607664, "comment_id": 92149326, "body": "It&#39;s already in above code     songurl = &quot;https//...... My URL&quot; @MaxAves"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1538480879, "post_id": 52607664, "comment_id": 92149382, "body": "You can not access variable of your <code>MainActivity1</code> inside <code>Main2Activity</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10332832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ad6ead389735e48a54672d8eb55356?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/10332832/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1538481725, "post_id": 52607721, "comment_id": 92149837, "body": "I did it and I got an err  Caused by: java.lang.NullPointerException"}, {"owner": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "reply_to_user": {"reputation": 15, "user_id": 10332832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ad6ead389735e48a54672d8eb55356?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/10332832/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1538481848, "post_id": 52607721, "comment_id": 92149896, "body": "Than u must missed something, error occurred when you being getting argument? Than check new Intent creation, if u did pass you <code>songurl</code> with the same key as you where reading it."}, {"owner": {"reputation": 165, "user_id": 5333830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-tmnBaKBRI/AAAAAAAAAAI/AAAAAAAAAM4/pLB9A3UTfbI/photo.jpg?sz=128", "display_name": "Zubair Soomro", "link": "https://stackoverflow.com/users/5333830/zubair-soomro"}, "edited": false, "score": 0, "creation_date": 1538482123, "post_id": 52607721, "comment_id": 92150056, "body": "see my answer its in kotlin and it does check first if it contains that key"}], "tags": [], "owner": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1538481032, "last_edit_date": 1538481032, "creation_date": 1538480885, "answer_id": 52607721, "question_id": 52607664, "link": "https://stackoverflow.com/questions/52607664/lateinit-property-songurl-has-not-been-initialized-although-i-did/52607721#52607721", "title": "lateinit property songurl has not been initialized although I did", "body": "<p>Your problem is that your <code>songurl</code> is being present only in your first activity. There is no value and even assignment for it in activity 2.</p>\n\n<p>Consider passing it as a intent's bundle parameter:</p>\n\n<pre><code>Activity1:\nBundle bundle= new Bundle();\nbundle.putString(\"key\", songurl);\n\nIntent i = new Intent(Activity1.this,Activity2.class);\ni.putExtras(bundle);\nstartActivity(i);\n\nActivity2:\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_another_activity);\n\n    Bundle p = getIntent().getExtras();\n    String songurl = p.getString(\"key\");\n\n}\n</code></pre>\n\n<p>Examples are in java.</p>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 5333830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-tmnBaKBRI/AAAAAAAAAAI/AAAAAAAAAM4/pLB9A3UTfbI/photo.jpg?sz=128", "display_name": "Zubair Soomro", "link": "https://stackoverflow.com/users/5333830/zubair-soomro"}, "is_accepted": true, "score": 0, "last_activity_date": 1538482056, "last_edit_date": 1538482056, "creation_date": 1538481115, "answer_id": 52607777, "question_id": 52607664, "link": "https://stackoverflow.com/questions/52607664/lateinit-property-songurl-has-not-been-initialized-although-i-did/52607777#52607777", "title": "lateinit property songurl has not been initialized although I did", "body": "<p>You should send your <code>songUrl</code> in android Intent extras. The reason you are getting error is that it isn't defined in the activity2 you have defined it in activity1.</p>\n\n<p><strong>to send intent extra</strong></p>\n\n<pre><code>var intent = Intent(this,Main2Activity::class.java)\nintent.putExtra(\"songurl\", songurl)\n</code></pre>\n\n<p><strong>to get extra in other activity</strong> </p>\n\n<pre><code>if(getIntent().hasExtra(\"songurl\"){\n var songurl = getIntent().getStringExtra(\"songurl\")\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10332832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ad6ead389735e48a54672d8eb55356?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/10332832/mohamed-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 52607777, "answer_count": 2, "score": -1, "last_activity_date": 1538482056, "creation_date": 1538480574, "last_edit_date": 1538480709, "question_id": 52607664, "link": "https://stackoverflow.com/questions/52607664/lateinit-property-songurl-has-not-been-initialized-although-i-did", "title": "lateinit property songurl has not been initialized although I did", "body": "<p>I have two activities first one has public String var called songurl and button leads to the second activity and second activity has mediaplayer receive URL from the String var which is in the first activity and then start playing but the problem is the mediaplayer doesn't work and I got an error</p>\n\n<p>here is MainActivity1.kt or .java as your language :-</p>\n\n<pre><code>  lateinit var songurl :String\nclass MainActivity1 : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    songurl = \"https//...... My URL\"\n\n        var btnstart_MainActivity2:Button = findViewById(R.id.btn)\n        btnstart_MainActivity2.setOnClickListener {\n            startActivity(Intent(this,Main2Activity::class.java))\n        }\n\n    }\n}\n</code></pre>\n\n<p>here is \nMainActivity2 :- </p>\n\n<pre><code>class Main2Activity : AppCompatActivity() {\n    lateinit var mediaplayer: MediaPlayer\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            mediaplayer= MediaPlayer()\n            mediaplayer.setDataSource(songurl)\n            mediaplayer.prepare()\n            mediaplayer.start()\n        }\n    }\n</code></pre>\n\n<p>and here is the err<br>\n<code>lateinit property songurl has not been initialized</code></p>\n"}, {"tags": ["android", "junit", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1538490001, "post_id": 52607606, "comment_id": 92154917, "body": "What is <code>a</code> field? It seems you didn&#39;t initialize it."}, {"owner": {"reputation": 2593, "user_id": 2427819, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/746fda9758b63e8e0ea5d9590ee7b874?s=128&d=identicon&r=PG", "display_name": "El Jazouli", "link": "https://stackoverflow.com/users/2427819/el-jazouli"}, "reply_to_user": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1538493556, "post_id": 52607606, "comment_id": 92157139, "body": "oh sorry! I&#39;m using Kotlin, so it&#39;s synthetic (kotlin-android-extensions)"}], "answers": [{"tags": [], "owner": {"reputation": 21601, "user_id": 557091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea05821b3d42324bb24a7c90df70a3ff?s=128&d=identicon&r=PG", "display_name": "Stefan Birkner", "link": "https://stackoverflow.com/users/557091/stefan-birkner"}, "is_accepted": false, "score": 0, "last_activity_date": 1538562219, "creation_date": 1538562219, "answer_id": 52624922, "question_id": 52607606, "link": "https://stackoverflow.com/questions/52607606/junit-mockito-java-lang-illegalstateexception-field-must-not-be-null/52624922#52624922", "title": "JUnit/Mockito: java.lang.IllegalStateException: &quot;field&quot; must not be null", "body": "<p>I don't know Kotlin but I think the line</p>\n\n<pre><code>activity.presenter = mock()\n</code></pre>\n\n<p>has to be changed to something like</p>\n\n<pre><code>var presenter = mock()\nwhenever(activity.presenter).thenReturn(presenter)\n</code></pre>\n"}], "owner": {"reputation": 2593, "user_id": 2427819, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/746fda9758b63e8e0ea5d9590ee7b874?s=128&d=identicon&r=PG", "display_name": "El Jazouli", "link": "https://stackoverflow.com/users/2427819/el-jazouli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 664, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538562219, "creation_date": 1538480309, "question_id": 52607606, "link": "https://stackoverflow.com/questions/52607606/junit-mockito-java-lang-illegalstateexception-field-must-not-be-null", "title": "JUnit/Mockito: java.lang.IllegalStateException: &quot;field&quot; must not be null", "body": "<p>I'm fairly new to Mockito and testing, but I can't figure out what is wrong with this exactly, this is a simple MVP structure </p>\n\n<pre><code>lateinit var activity: MainActivity\n\nprivate val aET = mock&lt;EditText&gt;()\nprivate val aValue = \"a\"\nprivate val bET = mock&lt;EditText&gt;()\nprivate val bValue = \"b\"\nprivate val resultTextView = mock&lt;TextView&gt;()\n\nprivate val aMockEditable: Editable = mock()\nprivate val bMockEditable: Editable = mock()\n\n\n@Before\nfun setup() {\n    activity = mock()\n    activity.presenter = mock()\n\n    whenever(activity.a).thenReturn(aET)\n    whenever(activity.b).thenReturn(bET)\n\n    whenever(aET.text).thenReturn(aMockEditable)\n    whenever(bET.text).thenReturn(bMockEditable)\n\n    whenever(aMockEditable.toString()).thenReturn(aValue)\n    whenever(bMockEditable.toString()).thenReturn(bValue)\n\n    whenever(activity.resultText).thenReturn(resultTextView)\n}\n\n@Test\nfun onPlus() {\n    activity.onPlusClicked()\n\n    verify(activity.presenter).onPlusClicked(aValue, bValue)\n}\n</code></pre>\n\n<p>MainActivity code: </p>\n\n<pre><code>fun onPlusClicked() {\n    presenter.onPlusClicked(a.text.toString(), b.text.toString()) // ERROR: java.lang.IllegalStateException: a must not be null\n}\n\noverride fun showResult(result: String) {\n    resultText.text = result\n}\n</code></pre>\n\n<p><code>presenter</code> will eventually call <code>showResult</code></p>\n\n<p>Thank you!</p>\n"}, {"tags": ["spring", "mongodb", "kotlin", "spring-data-mongodb"], "comments": [{"owner": {"reputation": 470, "user_id": 10393507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4w5GzUDMw6Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNx0xFhZwlKpn6PfeQ6Yw3LLV74cw/mo/photo.jpg?sz=128", "display_name": "Vlad Mamaev", "link": "https://stackoverflow.com/users/10393507/vlad-mamaev"}, "edited": false, "score": 1, "creation_date": 1538479590, "post_id": 52607311, "comment_id": 92148770, "body": "and how did you used value returned by save()  method? with reactiveRepository you have to subscribe to it to see the result, if nobody needs this result, what&#39;s the purpose to actually do something?"}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 470, "user_id": 10393507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4w5GzUDMw6Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNx0xFhZwlKpn6PfeQ6Yw3LLV74cw/mo/photo.jpg?sz=128", "display_name": "Vlad Mamaev", "link": "https://stackoverflow.com/users/10393507/vlad-mamaev"}, "edited": false, "score": 0, "creation_date": 1538480084, "post_id": 52607311, "comment_id": 92149034, "body": "oh crap. That&#39;s my bad. Completely forgot about the subscription. Thanks for pointing that out @VladMamaev"}], "answers": [{"tags": [], "owner": {"reputation": 1950, "user_id": 4772331, "user_type": "registered", "profile_image": "https://graph.facebook.com/737802826318331/picture?type=large", "display_name": "Gaurav Srivastav", "link": "https://stackoverflow.com/users/4772331/gaurav-srivastav"}, "is_accepted": true, "score": 9, "last_activity_date": 1538480022, "creation_date": 1538480022, "answer_id": 52607546, "question_id": 52607311, "link": "https://stackoverflow.com/questions/52607311/spring-reactive-mongodb-not-saving-document/52607546#52607546", "title": "Spring Reactive MongoDB not saving document", "body": "<pre><code>Mono&lt;Event&gt; response = repository.save(Event(UUID.randomUUID().toString(), \"hey\"));\n</code></pre>\n\n<p>Changes in save method</p>\n\n<pre><code>fun save() = eventRepository.save(Event(UUID.randomUUID().toString(), \"hey\")).subscribe();\n</code></pre>\n\n<p>You have to invoke subscribe() method on Mono reference to see the logs or details.</p>\n"}], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2204, "favorite_count": 0, "accepted_answer_id": 52607546, "answer_count": 1, "score": 3, "last_activity_date": 1538480022, "creation_date": 1538479165, "question_id": 52607311, "link": "https://stackoverflow.com/questions/52607311/spring-reactive-mongodb-not-saving-document", "title": "Spring Reactive MongoDB not saving document", "body": "<p>I'm trying to save a basic document but despite connecting to mongodb successfully... It doesn't seem to want to save. </p>\n\n<p><strong>Spring logs</strong></p>\n\n<pre><code>2018-10-03 00:17:25.998  INFO 10713 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2018-10-03 00:17:26.049  INFO 10713 --- [  restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2018-10-03 00:17:26.106  INFO 10713 --- [ctor-http-nio-1] r.ipc.netty.tcp.BlockingNettyContext     : Started HttpServer on /0:0:0:0:0:0:0:0:8080\n2018-10-03 00:17:26.106  INFO 10713 --- [  restartedMain] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080\n2018-10-03 00:17:26.112  INFO 10713 --- [  restartedMain] c.l.s.ServiceLegalApplicationKt          : Started ServiceLegalApplicationKt in 3.459 seconds (JVM running for 4.201)\n2018-10-03 00:17:26.644  INFO 10713 --- [ntLoopGroup-2-2] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:4}] to localhost:27017\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=legal\nspring.data.mongodb.repositories.type=reactive\nspring.mongodb.embedded.version=4.0.2\n</code></pre>\n\n<p><strong>basic interface and class</strong></p>\n\n<pre><code>interface EventRepository: ReactiveMongoRepository&lt;Event, String&gt;\n\n@Document\nclass Event(id: String, name: String)\n</code></pre>\n\n<p><strong>trying a simple save function</strong></p>\n\n<pre><code>@Service\nclass SomeService(val eventRepository: EventRepository)\n{\n    fun save() = eventRepository.save(Event(UUID.randomUUID().toString(), \"hey\"))\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "androidx", "epoxy"], "answers": [{"tags": [], "owner": {"reputation": 201, "user_id": 4543986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tCh1m.jpg?s=128&g=1", "display_name": "Daniel Carreto", "link": "https://stackoverflow.com/users/4543986/daniel-carreto"}, "is_accepted": true, "score": 1, "last_activity_date": 1538488613, "creation_date": 1538488613, "answer_id": 52609901, "question_id": 52607182, "link": "https://stackoverflow.com/questions/52607182/google-maps-fragment-in-epoxy-view/52609901#52609901", "title": "Google maps fragment in epoxy view", "body": "<p>I\u00b4ve problems adding directly the map fragment inner other fragment, so i suggest change that with Framelayout and inflate the fragment manually. </p>\n"}], "owner": {"reputation": 447, "user_id": 2333802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6koqb.png?s=128&g=1", "display_name": "J&#248;rgen Svennevik Notland", "link": "https://stackoverflow.com/users/2333802/j%c3%b8rgen-svennevik-notland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 52609901, "answer_count": 1, "score": 0, "last_activity_date": 1538488613, "creation_date": 1538478716, "question_id": 52607182, "link": "https://stackoverflow.com/questions/52607182/google-maps-fragment-in-epoxy-view", "title": "Google maps fragment in epoxy view", "body": "<p>I'm currently exploring the new <a href=\"https://github.com/airbnb/MvRx\" rel=\"nofollow noreferrer\">MvRx</a> stack from Airbnb</p>\n\n<p>Rigth now i am adding a google maps fragment successfully to a BaseMvRxFragment in a BottomNavigationView.</p>\n\n<p>The problem is that the 2. time i navigate to the MapFragment my app crashes and i get the following error message:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: getflareapp.com.s2s, PID: 19184\n    android.view.InflateException: Binary XML file line #7: Binary XML file line #7: Error inflating class fragment\n    Caused by: android.view.InflateException: Binary XML file line #7: Error inflating class fragment\n    Caused by: java.lang.IllegalArgumentException: Binary XML file line #7: Duplicate id 0x7f080093, tag null, or parent id 0xffffffff with another fragment for com.google.android.gms.maps.SupportMapFragment\n        at android.support.v4.app.FragmentManagerImpl.onCreateView(FragmentManager.java:3752)\n        at android.support.v4.app.FragmentController.onCreateView(FragmentController.java:120)\n        at android.support.v4.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:405)\n        at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:387)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:780)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at android.view.View.inflate(View.java:23239)\n        at getflareapp.com.s2s.views.MapView.&lt;init&gt;(MapView.kt:19)\n        at getflareapp.com.s2s.views.MapView.&lt;init&gt;(MapView.kt:14)\n        at getflareapp.com.s2s.views.MapView.&lt;init&gt;(Unknown Source:6)\n        at getflareapp.com.s2s.views.MapViewModel_.buildView(MapViewModel_.java:42)\n        at getflareapp.com.s2s.views.MapViewModel_.buildView(MapViewModel_.java:22)\n</code></pre>\n\n<p>MapFragment.kt</p>\n\n<pre><code>/**\n * A simple [BaseFragment] subclass.\n *\n */\nclass MapFragment : BaseFragment() {\n\n\n    private val mViewModel: ChatViewModel by fragmentViewModel()\n\n    override fun epoxyController() = simpleController(mViewModel) {state -&gt;\n\n\n        mapView{\n            id(\"map\")\n        }\n    }\n\n}\n</code></pre>\n\n<p>MapView.kt</p>\n\n<pre><code>@ModelView(autoLayout = ModelView.Size.MATCH_WIDTH_MATCH_HEIGHT)\nclass MapView @JvmOverloads constructor(\n        context: Context,\n        attrs: AttributeSet? = null,\n        defStyleAttr: Int = 0\n) : FrameLayout(context, attrs, defStyleAttr) {\n\n    init {\n        // TODO: Fix crash on second view.\n        inflate(context, R.layout.view_map, this)\n    }\n}\n</code></pre>\n\n<p>view_map.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:id=\"@+id/map2\"\n        android:name=\"getflareapp.com.s2s.ui.map.MapFragment\"\n        class=\"com.google.android.gms.maps.SupportMapFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ui.MainActivity\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Thanks for any help! &lt;3</p>\n"}, {"tags": ["android", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1538479320, "post_id": 52607178, "comment_id": 92148630, "body": "If your library has no Android SDK references, it is compatible with all Android SDK versions."}, {"owner": {"reputation": 937, "user_id": 3484517, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/98d01f300c8aaa93df22d6afd0604138?s=128&d=identicon&r=PG&f=1", "display_name": "ElArbi", "link": "https://stackoverflow.com/users/3484517/elarbi"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1538493200, "post_id": 52607178, "comment_id": 92156950, "body": "No it does not work this way. for example if I use  java.util.regex.Pattern#asPredicate I&#39;ll get java.lang.NoSuchMethodError: No virtual method asPredicate .... when I run on a device with Android 5"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1538493701, "post_id": 52607178, "comment_id": 92157239, "body": "That depends on what JDK you&#39;re using. I recommend you use JDK 7 or lower."}, {"owner": {"reputation": 937, "user_id": 3484517, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/98d01f300c8aaa93df22d6afd0604138?s=128&d=identicon&r=PG&f=1", "display_name": "ElArbi", "link": "https://stackoverflow.com/users/3484517/elarbi"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1538494295, "post_id": 52607178, "comment_id": 92157580, "body": "I&#39;m using JDK7 since I have specified in my pom.xml: &lt;maven-compiler-plugin.source&gt;1.7&lt;/maven-compiler-plugin.sou&zwnj;&#8203;rce&gt;"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1538495433, "post_id": 52607178, "comment_id": 92158330, "body": "But there&#39;s no such method java.util.regex.Pattern#asPredicate in JDK 7 (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.h&zwnj;&#8203;tml</a>)"}, {"owner": {"reputation": 937, "user_id": 3484517, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/98d01f300c8aaa93df22d6afd0604138?s=128&d=identicon&r=PG&f=1", "display_name": "ElArbi", "link": "https://stackoverflow.com/users/3484517/elarbi"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1538506477, "post_id": 52607178, "comment_id": 92163647, "body": "Yes, but I don&#39;t now why maven is compiling correctly my source code. BTW all my code is written in Kotlin"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1538556345, "post_id": 52607178, "comment_id": 92179713, "body": "In any case you cannot use <code>Pattern#asPredicate</code> in Android, so you have to remove that."}], "owner": {"reputation": 937, "user_id": 3484517, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/98d01f300c8aaa93df22d6afd0604138?s=128&d=identicon&r=PG&f=1", "display_name": "ElArbi", "link": "https://stackoverflow.com/users/3484517/elarbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538494779, "creation_date": 1538478700, "last_edit_date": 1538494779, "question_id": 52607178, "link": "https://stackoverflow.com/questions/52607178/targeting-minimal-android-api-level-from-kotlin-jvm-project", "title": "Targeting minimal Android API level from Kotlin JVM project", "body": "<p>I have a Kotlin library that I devlopped for and used in a server application (JRE 8) but now I need to use it on an android app with a specific minSdkVersion, let assume minSdkVersion:15. How can I insure that my lib is compatible ?\nIs there any compiler options to set to insure Android compliance ?\nMy library is built with Maven and for the moment I have set some properties:</p>\n\n<pre><code>&lt;properties&gt;\n&lt;kotlin.version&gt;1.2.71&lt;/kotlin.version&gt;\n&lt;maven.compiler&gt;3.5.1&lt;/maven.compiler&gt;\n&lt;kotlin.compiler.jvmTarget&gt;1.6&lt;/kotlin.compiler.jvmTarget&gt;\n&lt;maven-compiler-plugin.source&gt;1.7&lt;/maven-compiler-plugin.source&gt;\n&lt;maven-compiler-plugin.target&gt;1.7&lt;/maven-compiler-plugin.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>But I\u2019m sure if it\u2019s the enough ?</p>\n\n<p>UPDATE: \nEven with maven target set to 1.7 I get an error on Android API level 21 :</p>\n\n<pre><code>java.lang.NoSuchMethodError: No virtual method asPredicate()Ljava/util/function/Predicate; in class Ljava/util/regex/Pattern; or its super classes (declaration of 'java.util.regex.Pattern' appears in /system/framework/core-libart.jar)\n</code></pre>\n"}, {"tags": ["java", "reflection", "kotlin"], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538479721, "creation_date": 1538478514, "last_edit_date": 1538479721, "question_id": 52607138, "link": "https://stackoverflow.com/questions/52607138/refactor-method-which-uses-reflection-from-java-to-kotlin", "title": "Refactor method which uses reflection from Java to Kotlin", "body": "<p>I am trying to convert Java method which checks the SignalStrength level for Android API's which is like this:</p>\n\n<pre><code>public static int getSignalLevel(final SignalStrength signal) {\ntry {\n    final Method m = SignalStrength.class.getDeclaredMethod(\"getLevel\", (Class[]) null);\n    m.setAccessible(true);\n    return (Integer) m.invoke(signal, (Object[]) null);\n} catch (Exception e) {\n    Log.debug(TAG, \"Google hates developers\", e);\n    return 0;\n  }\n}\n</code></pre>\n\n<p>When converted to Kotlin I am getting this (I aim to make Kotlin Extension):</p>\n\n<pre><code>fun SignalStrength.getSignalLevel(): Int {\nreturn try {\nval m = SignalStrength::class.java.getDeclaredMethod(\"getLevel\", *null as Array&lt;Class&lt;*&gt;&gt;?)\nm.isAccessible = true\nm.invoke(this, *null as Array&lt;Any&gt;?) as Int\n} catch (e: Exception) {\n0\n}\n\n}\n</code></pre>\n\n<p>The issue is for:</p>\n\n<pre><code>*null as Array&lt;Class&lt;*&gt;&gt;?\n</code></pre>\n\n<blockquote>\n  <p>The spread operator (*foo) may not be applied to an argument of nullable type </p>\n</blockquote>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1538479204, "post_id": 52606890, "comment_id": 92148553, "body": "First idea that comes to mind is to centralize all the the tasks creation in a need a task manager that keeps count or even instances of the tasks and offers an API for querying and callbacks when tasks have started/finished."}], "answers": [{"tags": [], "owner": {"reputation": 215, "user_id": 9649488, "user_type": "registered", "profile_image": "https://graph.facebook.com/1852692434743872/picture?type=large", "display_name": "Hazem Ashraf", "link": "https://stackoverflow.com/users/9649488/hazem-ashraf"}, "is_accepted": false, "score": 1, "last_activity_date": 1538479607, "last_edit_date": 1538479607, "creation_date": 1538478847, "answer_id": 52607219, "question_id": 52606890, "link": "https://stackoverflow.com/questions/52606890/handling-loading-states-of-multiple-threads-in-activity/52607219#52607219", "title": "Handling loading states of multiple threads in Activity", "body": "<p>i have a simple idea</p>\n\n<p>in the view model use variable like that</p>\n\n<pre><code>var numberOFThreads = 0\n</code></pre>\n\n<p>and replace this line</p>\n\n<pre><code>loadingState.postValue(Status.LOADING)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if(numberOFThreads == 0){\nloadingState.postValue(Status.LOADING)\n}else{\nnumberOFThreads++\n}\n\nand\nif(numberOFThreads == 0){\nloadingState.postValue(Status.IDLE )\n}else{\nnumberOFThreads--\n}\n</code></pre>\n"}], "owner": {"reputation": 1625, "user_id": 6764605, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c8159ea7469e000226d5f18b730a9bf4?s=128&d=identicon&r=PG&f=1", "display_name": "justanoob", "link": "https://stackoverflow.com/users/6764605/justanoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1538479607, "creation_date": 1538477450, "last_edit_date": 1592644375, "question_id": 52606890, "link": "https://stackoverflow.com/questions/52606890/handling-loading-states-of-multiple-threads-in-activity", "title": "Handling loading states of multiple threads in Activity", "body": "<p>In my Android app i'd like the user to be able to see when a task is running in the background.</p>\n<p>These tasks can be either network calls or database operations, running on separate background threads.</p>\n<p>There is a single indeterminate <code>ProgressBar</code> in the <code>Activity</code>, which i would like to show if any background tasks are running, and hide it otherwise.</p>\n<p>I've searched for solutions to this and people seem to use <code>LiveData</code> for similar purposes.</p>\n<p>So i figured i'd create a <code>LiveData</code> in the <code>ViewModel</code> of the <code>Activity</code> that represents the current loading state of the app, something like this:</p>\n<pre><code>val loadingState = MutableLiveData&lt;State&gt;()\n</code></pre>\n<p>Whenever i'm starting or finishing a task, i'd post the appropriate value to this <code>LiveData</code>:</p>\n<pre><code>// starting background operation\nloadingState.postValue(Status.LOADING)\n</code></pre>\n<p>And i'd observe on it from the <code>Activity</code> and show/hide the <code>ProgressBar</code> according to the current state:</p>\n<pre><code>loadingState.observe(this, Observer { status -&gt;\n    when (status) {\n        Status.LOADING -&gt; showProgressBar()\n        Status.IDLE -&gt; hideProgressBar()\n    }\n}\n</code></pre>\n<p>My problem is i don't know how to handle this when there are multiple tasks running on multiple threads.</p>\n<p>For example:</p>\n<ul>\n<li><p><strong>A</strong> task starts and sets the status to <code>LOADING</code> (correct)</p>\n</li>\n<li><p><strong>B</strong> task starts (the status is already <code>LOADING</code> so nothing happens) (correct)</p>\n</li>\n<li><p><strong>A</strong> task finishes and sets the status to <code>IDLE</code>, however <strong>B</strong> is still running (wrong)</p>\n<p>The <code>ProgressBar</code> will be hidden even though <strong>B</strong> is still in progress</p>\n</li>\n<li><p><strong>B</strong> task finishes,  but the status is already <code>IDLE</code> (wrong)</p>\n</li>\n</ul>\n<p>I thought i could maintain a <code>Collection</code> of <code>LiveData</code> objects (as in a separate <code>LiveData</code> for each task) but it seems really cumbersome.</p>\n<p>Is there an idiomatic way to handle this?</p>\n<p>(Java answers are welcome as well)</p>\n"}, {"tags": ["java", "android", "kotlin"], "owner": {"reputation": 111, "user_id": 558074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0OAD.jpg?s=128&g=1", "display_name": "Ahmed Eltaher", "link": "https://stackoverflow.com/users/558074/ahmed-eltaher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538477409, "creation_date": 1538477409, "question_id": 52606876, "link": "https://stackoverflow.com/questions/52606876/toastfactory-crash-in-huawei-devices", "title": "ToastFactory crash in HUAWEI Devices", "body": "<p>I face crash in HUAWEI Devices with android version 6.0 &amp; 6.0.1.\nit looks the crash related to toast in HUAWEI Rom, this information I got from Crashlytics. \neven the crash is not in my app package, the crash comes totally from com.huawei.android.hwcontrol.ToastFactory\nanyone has any idea how to resolve or overcome this issue? \ncrash info:</p>\n\n<pre><code>Fatal Exception: android.view.InflateException: Binary XML file line #33: Binary XML file line #33: Error inflating class TextView\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:558)\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:434)\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\n       at com.huawei.android.hwcontrol.ToastFactory.layoutInflate(ToastFactory.java:55)\n       at android.widget.Toast.makeText(Toast.java:271)\n       at android.widget.Toast.makeText(Toast.java:298)\n       at android.widget.TextView.onTextContextMenuItem(TextView.java:9455)\n       at android.widget.Editor$TextActionModeCallback.onActionItemClicked(Editor.java:3303)\n       at com.android.internal.policy.PhoneWindow$DecorView$ActionModeCallback2Wrapper.onActionItemClicked(PhoneWindow.java:3656)\n       at com.android.internal.view.FloatingActionMode$3.onMenuItemSelected(FloatingActionMode.java:88)\n       at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:761)\n       at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:152)\n       at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:904)\n       at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:894)\n       at com.android.internal.view.FloatingActionMode$4.onMenuItemClick(FloatingActionMode.java:114)\n       at com.android.internal.widget.FloatingToolbar$FloatingToolbarMainPanel$1.onClick(FloatingToolbar.java:1045)\n       at android.view.View.performClick(View.java:5264)\n       at android.view.View$PerformClick.run(View.java:21297)\n       at android.os.Handler.handleCallback(Handler.java:743)\n       at android.os.Handler.dispatchMessage(Handler.java:95)\n       at android.os.Looper.loop(Looper.java:150)\n       at android.app.ActivityThread.main(ActivityThread.java:5621)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:794)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:684)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1484, "user_id": 6662739, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b3ead54cd5f2928c0e9a65a29c7ce3a4?s=128&d=identicon&r=PG&f=1", "display_name": "Ollaw", "link": "https://stackoverflow.com/users/6662739/ollaw"}, "edited": false, "score": 0, "creation_date": 1538477420, "post_id": 52606043, "comment_id": 92147692, "body": "it doesn&#39;t compile because <code>dada</code> is defined inside <code>fun main()</code> not in <code>OuterClass</code>"}], "answers": [{"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1538480605, "post_id": 52607039, "comment_id": 92149262, "body": "Or you can give them different parameters.  (Though different names are often clearer.)"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 1, "last_activity_date": 1538478112, "creation_date": 1538478112, "answer_id": 52607039, "question_id": 52606043, "link": "https://stackoverflow.com/questions/52606043/how-to-call-a-samename-method-declared-outside-with-scope-in-kotlin/52607039#52607039", "title": "how to call a (samename) method declared outside with(){} scope in Kotlin", "body": "<p>Kotlin does not provide a syntax for disambiguating between multiple local functions with the same name. The <code>OuterClass</code> in the <code>this@OuterClass</code> syntax is the name of a specific class that was used in the example where you copied this line from; it does not have a generic meaning of \"outer scope\".</p>\n\n<p>To make it possible to call both functions, simply give them different names.</p>\n"}], "owner": {"reputation": 1818, "user_id": 2606914, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f4d6b1cf1ecf63995011baeff28d8fa8?s=128&d=identicon&r=PG", "display_name": "David A", "link": "https://stackoverflow.com/users/2606914/david-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 52607039, "answer_count": 1, "score": 0, "last_activity_date": 1538478112, "creation_date": 1538474238, "question_id": 52606043, "link": "https://stackoverflow.com/questions/52606043/how-to-call-a-samename-method-declared-outside-with-scope-in-kotlin", "title": "how to call a (samename) method declared outside with(){} scope in Kotlin", "body": "<p>I want to call the dada() declared outside with()\nThere's a line below that supposed to do what I need but doesn't compile.</p>\n\n<pre><code>data class Person(val name: String, val age: Int)\n\nfun main(args: Array&lt;String&gt;) {\n    var muchos = \"muchos\"\n\n    fun dada(){\n        println(\"dada\")}\n    var someRun = Runnable { println(muchos) }\n\n    with(someRun){\n        fun dada(){\n            println(\"dodo\")}\n        run()\n        muchos = \"holas\"\n        //*********************//DOES'T COMPILE *******************\n        this@OuterClass.dada() //DOES'T COMPILE *******************\n        run()\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "wear-os", "watch-face-api"], "comments": [{"owner": {"reputation": 593, "user_id": 1081101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0b7e4bcc67c367621668eef7b00861db?s=128&d=identicon&r=PG", "display_name": "jush", "link": "https://stackoverflow.com/users/1081101/jush"}, "edited": false, "score": 0, "creation_date": 1538679670, "post_id": 52605543, "comment_id": 92238349, "body": "can you provide the code of your <code>onHandleWork</code> implementation?"}], "owner": {"reputation": 357, "user_id": 7175503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwHqN.jpg?s=128&g=1", "display_name": "&#193;ngel Rodr&#237;guez", "link": "https://stackoverflow.com/users/7175503/%c3%81ngel-rodr%c3%adguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538580940, "creation_date": 1538472195, "last_edit_date": 1538580940, "question_id": 52605543, "link": "https://stackoverflow.com/questions/52605543/problem-scheduling-repeating-background-service-in-watch-face-wear-os", "title": "Problem scheduling repeating background service in Watch Face (Wear OS)", "body": "<p>I want to schedule a background service every 5 minutes. I'm using HandlerThread and Handler to manage the threads and JobIntentService to do the task. My code is running into the onCreate method of my watch face, which is the main app that is always displayed on my smartwatch.</p>\n\n<p>The device is Wear OS based and what happens is that my code works perfectly when I'm debugging it and the smartwatch is connected to the cable. But my problem starts when I disconnect the smartwatch and the watchface goes to kind of power saving mode (= ambient mode for Wear OS developers):</p>\n\n<p>Suddenly the system doesn't schedule the threads for the specified time and I start having delays. I want to run my service every specific time.</p>\n\n<p>I don't know if I should use Alarm Manager instead.</p>\n\n<p>This is the code for handlers:</p>\n\n<pre><code>fun manageTestingTaskSchedule() {\n    val handlerThread = HandlerThread(\"handler-thread\", Process.THREAD_PRIORITY_URGENT_AUDIO)\n    handlerThread.start()\n    val handler = Handler(handlerThread.looper)\n    handler.postAtFrontOfQueue(RunnableTestingTask(this@MyWatchFaceSOSApp, handler))\n}\n</code></pre>\n\n<p>I gave highest priority to threads in order to don't get delays while scheduling them.</p>\n\n<p>This is code for the thread that runs the service:</p>\n\n<pre><code>class RunnableTestingTask(val watchfaceContext: Context, val handler: Handler): Runnable {\n    val TAG = \"RunnableTestingTask\"\n    override fun run() {\n        val currentThread = Thread.currentThread()\n        Log.i(TAG, \"Thread name : \" + currentThread.name + \" thread priority : \" + Process.getThreadPriority(Process.myTid()))\n\n        if(WifiConnectivityChecker(watchfaceContext).isConnectedWifi()) {\n            val sosMsgToGatewayIntent = Intent()\n            PresenceReportService().enqueueWork(watchfaceContext, sosMsgToGatewayIntent)\n        } else if(!WifiConnectivityChecker(watchfaceContext).isConnectedWifi()) {\n            Log.i(TAG, \"La conexion WIFI con la pasarela no se ha establecido\")\n        }\n        handler.postDelayed(this, 300000)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "proguard"], "comments": [{"owner": {"reputation": 190, "user_id": 2093842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb64ea73000e316ae3274763cb0845?s=128&d=identicon&r=PG", "display_name": "Konstantin Volkov", "link": "https://stackoverflow.com/users/2093842/konstantin-volkov"}, "edited": false, "score": 0, "creation_date": 1538470283, "post_id": 52604919, "comment_id": 92144123, "body": "check this post <a href=\"https://stackoverflow.com/questions/26273929/what-proguard-configuration-do-i-need-for-firebase-on-android\" title=\"what proguard configuration do i need for firebase on android\">stackoverflow.com/questions/26273929/&hellip;</a>"}, {"owner": {"reputation": 2424, "user_id": 6744566, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-g0XIGRZM7Z4/AAAAAAAAAAI/AAAAAAAAACU/NT6IsxgWGVs/photo.jpg?sz=128", "display_name": "Prithvi Bhola", "link": "https://stackoverflow.com/users/6744566/prithvi-bhola"}, "reply_to_user": {"reputation": 190, "user_id": 2093842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb64ea73000e316ae3274763cb0845?s=128&d=identicon&r=PG", "display_name": "Konstantin Volkov", "link": "https://stackoverflow.com/users/2093842/konstantin-volkov"}, "edited": false, "score": 0, "creation_date": 1538470739, "post_id": 52604919, "comment_id": 92144353, "body": "@KonstantinVolkov I have already include this   <code>-keep class com.firebase.** { *; } -keep class org.shaded.apache.** { *; } -keepnames class com.shaded.fasterxml.jackson.** { *; } -keepnames class javax.servlet.** { *; } -keepnames class org.ietf.jgss.** { *; } -dontwarn org.w3c.dom.** -dontwarn org.joda.time.** -dontwarn org.shaded.apache.** -dontwarn org.ietf.jgss.** -dontwarn com.firebase.ui.auth.**</code>  But still not working"}, {"owner": {"reputation": 190, "user_id": 2093842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb64ea73000e316ae3274763cb0845?s=128&d=identicon&r=PG", "display_name": "Konstantin Volkov", "link": "https://stackoverflow.com/users/2093842/konstantin-volkov"}, "edited": false, "score": 0, "creation_date": 1538472031, "post_id": 52604919, "comment_id": 92145061, "body": "So as i see you have a problem with  &quot; at com.google.firebase.firestore.g.zza$zza.run(:190)&quot; While in your proguard cfg it is -keep class com.firebase.** { *; }"}], "owner": {"reputation": 2424, "user_id": 6744566, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-g0XIGRZM7Z4/AAAAAAAAAAI/AAAAAAAAACU/NT6IsxgWGVs/photo.jpg?sz=128", "display_name": "Prithvi Bhola", "link": "https://stackoverflow.com/users/6744566/prithvi-bhola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543564834, "creation_date": 1538469968, "last_edit_date": 1543564834, "question_id": 52604919, "link": "https://stackoverflow.com/questions/52604919/proguard-issue-when-trying-to-login-with-firebase-ui-auth", "title": "Proguard issue when trying to login with Firebase UI Auth", "body": "<p>I am using Firebase UI Auth to login into the application. The debug build is working fine but when I try to login with the release build the application crashes with an error.</p>\n\n<pre><code>2018-10-02 14:05:23.072 4827-4866/io.palette E/c.b.a.J: Creating atomic field updaters failed\njava.lang.RuntimeException: java.security.PrivilegedActionException: java.lang.NoSuchFieldException: No field streamClosed in class Lc/b/a/J$c; (declaration of 'c.b.a.J$c' appears in /data/app/io.palette-1/base.apk)\n    at java.util.concurrent.atomic.AtomicIntegerFieldUpdater$AtomicIntegerFieldUpdaterImpl.&lt;init&gt;(AtomicIntegerFieldUpdater.java:380)\n    at java.util.concurrent.atomic.AtomicIntegerFieldUpdater.newUpdater(AtomicIntegerFieldUpdater.java:58)\n    at c.b.a.J.&lt;clinit&gt;(:77)\n    at c.b.a.c.c(:420)\n    at c.b.a.c.a(:395)\n    at com.google.firebase.firestore.f.zzd.&lt;init&gt;(:102)\n    at com.google.firebase.firestore.b.zzg.zza(:1217)\n    at com.google.firebase.firestore.b.zzi.run()\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n    at com.google.firebase.firestore.g.zza$zza.run(:190)\n    at java.lang.Thread.run(Thread.java:761)\n</code></pre>\n\n<p>What could be the possible reason for this?</p>\n"}, {"tags": ["android", "kotlin", "httprequest", "androidhttpclient"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1538469288, "post_id": 52604706, "comment_id": 92143611, "body": "your code does not call <code>doPostImage</code> anywhere"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1538469466, "post_id": 52604706, "comment_id": 92143697, "body": "yep :) I&#39;ve added the code"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1538469630, "post_id": 52604706, "comment_id": 92143779, "body": "ok, why dont you use okhttp for that? your code not only will work but also will be 5 times shorter"}, {"owner": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1538472248, "post_id": 52604706, "comment_id": 92145160, "body": "or <code>Retrofit</code> as well"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1538542013, "post_id": 52604706, "comment_id": 92173523, "body": "Is okhttp working with REST API ? In .add() method what should be added ? (not just this image but request in general for example doPOST) .. whole JsonObject as 1 item or it will form json on its own ?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1538542659, "post_id": 52604706, "comment_id": 92173688, "body": "<code>google(&quot;okhttp -stackoverflow  upload file&quot;)</code>"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538542227, "creation_date": 1538469084, "last_edit_date": 1538542227, "question_id": 52604706, "link": "https://stackoverflow.com/questions/52604706/multipart-request-for-sending-image-to-server-is-not-working", "title": "Multipart request for sending image to server is not working", "body": "<p>I've made multipart request to server for sending images from phone gallery according to tutorial, but I don't know what is wrong with it. Server will return 201 response code, but image is not sent correctly to the server.</p>\n\n<p>Here is the HTTPRequest function for sending the image.</p>\n\n<pre><code>fun doPostImage(resources: String, avatarImage: ByteArray, fileName: String): JSONObject{\n        val url = SERVER_URL + resources\n        val maxBufferSize = 1024 * 1024\n\n        val X_SESSION: String? = context?.getSharedPreferences(context.\n                getString(R.string.SharedPrefs), MODE_PRIVATE)?.\n                getString(context.getString(R.string.X_SESSION), null)\n        createLog(\"AvatarRequestURL\", \"POST $url\")\n        val obj = URL(url)\n\n        val attachmentName = fileName\n        val attachmentFileName = fileName + \".jpg\"\n        val crlf = \"\\r\\n\"\n        val twoHyphens = \"--\"\n        val boundary = \"*****\"\n\n\n        with(obj.openConnection() as HttpURLConnection) {\n\n\n            requestMethod = \"POST\"\n            doOutput = true\n            doInput = true\n\n            val postData: ByteArray = avatarImage\n\n            if (X_SESSION != null){\n                createLog(\"DOPOST-SESSION\", X_SESSION)\n                setRequestProperty(\"X-Session\", X_SESSION)\n            } else {\n                createLog(\"DOPOST-SESSION\", \"SESSION NULL :(\")\n            }\n\n            setRequestProperty(\"Connection\", \"Keep-Alive\")\n            setRequestProperty(\"Cache-Control\", \"no-cache\")\n            setRequestProperty(\"X-API-Key\", API_KEY)\n            setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\" + boundary)\n            setChunkedStreamingMode(maxBufferSize)\n\n            //constructing request body\n            try {\n                val writer = PrintWriter(OutputStreamWriter(outputStream, \"UTF-8\"), true)\n                writer.append(twoHyphens + boundary + crlf)\n                writer.append(\"Content-Disposition: form-data; name=\\\"\" + attachmentName + \"\\\";filename=\\\"\" + attachmentFileName + \"\\\"\" + crlf)\n                writer.append(\"Content-Type\", \"image/jpeg\")\n                writer.append(crlf)\n                writer.flush()\n\n                val byteArrayInputStream = ByteArrayInputStream(postData)\n                byteArrayInputStream.copyTo(outputStream, maxBufferSize)\n\n            } catch (exception: Exception) {\n                createLog(\"AvatarImageException\", exception.toString())\n            }\n\n            createLog(\"Avatar_Upload_Response\", \"Response Code Image: $responseCode\")\n\n            //server response handling\n            if (responseCode != HttpURLConnection.HTTP_OK) {\n                try {\n                    BufferedReader(InputStreamReader(errorStream)).use {\n                        val response = StringBuffer()\n\n                        var inputLine = it.readLine()\n                        while (inputLine != null) {\n                            response.append(inputLine)\n                            inputLine = it.readLine()\n                        }\n                        createLog(\"AvatarRequest\", \"Response body Image: $response\")\n                        return JSONObject(response.toString())\n                    }\n\n                } catch (exception: Exception) {\n                    return if(responseCode == HttpURLConnection.HTTP_CLIENT_TIMEOUT){\n                        createLog(\"POST EXCEPTION\", exception.toString())\n                        val errorResponse = JSONObject()\n                        errorResponse.put(\"ErrorCode\", responseCode)\n                        errorResponse.put(\"Message\", exception.message)\n                        errorResponse\n                    } else {\n                        createLog(\"EXCEPTION\", exception.toString())\n                        val errorResponse = JSONObject()\n                        errorResponse.put(\"ErrorCode\", responseCode)\n                        errorResponse.put(\"Message\", exception.message)\n                        return errorResponse\n                    }\n\n                }\n            } else {\n                try {\n                    BufferedReader(InputStreamReader(inputStream)).use {\n                        val response = StringBuffer()\n\n                        var inputLine = it.readLine()\n                        while (inputLine != null) {\n                            response.append(inputLine)\n                            inputLine = it.readLine()\n                        }\n\n                        createLog(\"AvatarRequest\", \"Response body Image: $response\")\n                        return JSONObject(response.toString())\n                    }\n\n                } catch (exception: Exception) {\n                    throw Exception(\"Exception while push the notification  $exception\")\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Here how I get image from gallery:</p>\n\n<pre><code>profilePhotoSelectButton.setOnClickListener {\n            val galleryIntent = Intent()\n            galleryIntent.type = \"image/*\"\n            galleryIntent.action = Intent.ACTION_GET_CONTENT\n            startActivityForResult(Intent.createChooser(galleryIntent, \"Choose profile photo\"), PICK_PHOTO)\n\n        }\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        if (requestCode == PICK_PHOTO){\n\n            val avatarPhoto: Uri? = data?.data\n            if (avatarPhoto != null){\n                val imageStream: InputStream = contentResolver.openInputStream(avatarPhoto)\n                val imageBitmap: Bitmap = BitmapFactory.decodeStream(imageStream)\n                val roundedBitMapDrawable: RoundedBitmapDrawable = RoundedBitmapDrawableFactory.create(resources, imageBitmap)\n                roundedBitMapDrawable.isCircular = true\n                profilePhotoPreview.setImageDrawable(roundedBitMapDrawable)\n\n                val userPhotoToJSON: Bitmap = MediaStore.Images.Media.getBitmap(this.contentResolver, avatarPhoto)\n                val resizedBitmap: Bitmap = getResizedBitmap(userPhotoToJSON, 150)\n                userProfilePhotoEncoded = compressBitmap(resizedBitmap, Bitmap.CompressFormat.JPEG)\n                userProfilePhotoPath = avatarPhoto.path\n                createLog(\"AvatarPath \", userProfilePhotoPath.toString())\n                userProfilePhotoName = File(avatarPhoto.path).name\n                createLog(\"AvatarName \", userProfilePhotoName.toString())\n            }\n        }\n    }\n\n    private fun compressBitmap(bitmapPicture: Bitmap, compressFormat: Bitmap.CompressFormat): ByteArray {\n        val COMPRESSION_QUALITY = 50\n        val byteArrayBitmapStream = ByteArrayOutputStream()\n        bitmapPicture.compress(compressFormat, COMPRESSION_QUALITY, byteArrayBitmapStream)\n        val avatarByteArray: ByteArray = byteArrayBitmapStream.toByteArray()\n        return avatarByteArray\n    }\n\n    /**\n     * reduces the size of the image\n     * @param image\n     * @param maxSize\n     * @return\n     */\n    fun getResizedBitmap(image: Bitmap, maxSize: Int): Bitmap {\n        var width = image.width\n        var height = image.height\n\n        val bitmapRatio = width.toFloat() / height.toFloat()\n        if (bitmapRatio &gt; 1) {\n            width = maxSize\n            height = (width / bitmapRatio).toInt()\n        } else {\n            height = maxSize\n            width = (height * bitmapRatio).toInt()\n        }\n        return Bitmap.createScaledBitmap(image, width, height, true)\n    }\n\n\napi.updateAvatar(userProfilePhotoEncoded!!,userProfilePhotoPath!!, userProfilePhotoName!!, object: IProfileCallback{\n                            override fun onError(errorJSON: JSONObject) {\n                                createLog(\"AVATAR_ERROR \", errorJSON.toString())\n                            }\n\n                            override fun onSuccess(profileJSON: JSONObject?) {\n                                createLog(\"AVATAR SUCCESS\", profileJSON.toString())\n                                setResult(MYDATA_UPDATE_RESULT)\n                                finish()\n                            }\n\n                        })\n\nfun updateAvatar(avatar: ByteArray, filepath: String, fileName: String, callback: IProfileCallback){\n\n        class UpdateProfileAsync(private val profileCallback: IProfileCallback): AsyncTask&lt;Void, Void, JSONObject&gt;() {\n\n            override fun doInBackground(vararg p0: Void?): JSONObject {\n\n                val server = Server.getInstance(context!!)\n\n                return server.doPostImage(context.getString(R.string.profile_avatar_link), avatar, fileName)\n            }\n\n            override fun onPostExecute(result: JSONObject?) {\n                super.onPostExecute(result)\n\n                if(result!!.has(\"ErrorCode\")){\n                    profileCallback.onError(result)\n                } else {\n                    createLog(\"SuccessfullyUpdatedProfile\", \"onSuccess()\")\n                    profileCallback.onSuccess(result)\n                }\n            }\n        }\n\n        UpdateProfileAsync(callback).execute()\n    }\n</code></pre>\n"}, {"tags": ["android", "performance", "kotlin", "android-wifi"], "comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 1234, "user_id": 9303297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZDPMxDfIljQ/AAAAAAAAAAI/AAAAAAAABg8/FGqPU14-Wao/photo.jpg?sz=128", "display_name": "Ashwini Violet", "link": "https://stackoverflow.com/users/9303297/ashwini-violet"}, "edited": false, "score": 0, "creation_date": 1538466003, "post_id": 52603722, "comment_id": 92141891, "body": "Lol.. what is this in connection to my question? Even better, there are better tools to react on events (Rx)"}, {"owner": {"reputation": 1234, "user_id": 9303297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZDPMxDfIljQ/AAAAAAAAAAI/AAAAAAAABg8/FGqPU14-Wao/photo.jpg?sz=128", "display_name": "Ashwini Violet", "link": "https://stackoverflow.com/users/9303297/ashwini-violet"}, "edited": false, "score": 0, "creation_date": 1538466163, "post_id": 52603722, "comment_id": 92141966, "body": "you said <code>I was looking for a way to react a case</code> that&#39;s what this library do@Konrad"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 1234, "user_id": 9303297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZDPMxDfIljQ/AAAAAAAAAAI/AAAAAAAABg8/FGqPU14-Wao/photo.jpg?sz=128", "display_name": "Ashwini Violet", "link": "https://stackoverflow.com/users/9303297/ashwini-violet"}, "edited": false, "score": 0, "creation_date": 1538466484, "post_id": 52603722, "comment_id": 92142118, "body": "That is the less important here (i have multiple way of reacting to events). What is interesting me is my event case (how to find it)"}], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538469032, "post_id": 52604459, "comment_id": 92143485, "body": "Yes, i think this issue can be implemented on my own, but i wonder if there is some API which can provide me this specific status"}, {"owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 2, "creation_date": 1538469135, "post_id": 52604459, "comment_id": 92143541, "body": "@Konrad well i don&#39;t know Class in Android SDK for this purpose. but you can use <a href=\"https://github.com/pwittchen/NetworkEvents\" rel=\"nofollow noreferrer\">github.com/pwittchen/NetworkEvents</a> this for example ir try to inspect SDK/github yourself )"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538472980, "post_id": 52604459, "comment_id": 92145521, "body": "Thanks, do you know if it also can check the cellular signal state? Like PhoneStateListener with TelephonyManager?"}, {"owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538473143, "post_id": 52604459, "comment_id": 92145616, "body": "@Konrad unfortunately i don&#39;t"}], "tags": [], "owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1538469177, "last_edit_date": 1538469177, "creation_date": 1538468149, "answer_id": 52604459, "question_id": 52603722, "link": "https://stackoverflow.com/questions/52603722/how-to-detect-if-wifi-access-point-has-just-lost-internet-connection-in-android/52604459#52604459", "title": "How to detect if WiFi access point has just lost internet connection in Android", "body": "<p>You can periodically try to access some resource with low ping and low timeout rate and if it throws some kind of NetworkException you can suppose that connection not available.</p>\n\n<p><strong>UPD:</strong></p>\n\n<p>You can use or inspect this library <a href=\"https://github.com/pwittchen/NetworkEvents\" rel=\"nofollow noreferrer\">https://github.com/pwittchen/NetworkEvents</a></p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538469177, "creation_date": 1538465118, "last_edit_date": 1538465432, "question_id": 52603722, "link": "https://stackoverflow.com/questions/52603722/how-to-detect-if-wifi-access-point-has-just-lost-internet-connection-in-android", "title": "How to detect if WiFi access point has just lost internet connection in Android", "body": "<p>I was looking for a way to react a case when:</p>\n\n<ul>\n<li>I am connected to WiFi</li>\n<li>the access point has just lost internet connection (e.g the cable from router has been removed)</li>\n</ul>\n\n<p>In such cases, Android phones or notebooks are notified about that state and showing exclamation mark next to the WiFi icon.</p>\n\n<p>Is it possible to be notified about that state in Android API? I was looking in the documentation but not found any.</p>\n\n<p><strong>IMPORTANT NOTE:</strong>\nI am not looking for just checking internet connection manually or just listen for changing network connection status as I will not be notified when the WiFi access point that I am connected to has lost the connection.</p>\n\n<p>So regarding above I was trying to just check the changes of the network connection, but as i explained it is not enough for my case:</p>\n\n<pre><code>override fun onReceive(context: Context, intent: Intent) {\nval wifiState = intent.getIntExtra(WifiManager.EXTRA_WIFI_STATE, \nDEFAULT_WIFI_STATE_VALUE)\nwifiStateSubject.onNext(wifiState)\nTimber.d(\"Current wifi state: $wifiState\")\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "edited": false, "score": 0, "creation_date": 1538477464, "post_id": 52605957, "comment_id": 92147711, "body": "This looks promising, but how come you have a <code>List</code> being converted to a <code>Flowable</code> with <code>items.toFlowable()...</code>? I thought such methods are only available on an Observable."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 1, "creation_date": 1538478832, "post_id": 52605957, "comment_id": 92148371, "body": "He&#39;s probably using <code>rx-kotlin</code> (you tagged your question with <code>rx-kotlin</code> yourself). <code>toFlowable()</code> is an extension function that calls <code>Flowable.fromIterable()</code>"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 1, "creation_date": 1538484786, "post_id": 52605957, "comment_id": 92151512, "body": "It&#39;s RxKotlin, and you can add it with <code>compile &#39;io.reactivex.rxjava2:rxkotlin:2.3.0&#39;</code>"}, {"owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "edited": false, "score": 0, "creation_date": 1538639972, "post_id": 52605957, "comment_id": 92215857, "body": "@AlexeySoshin I have updated the post to add more info about my experience trying your answer. I appreciate your patience :)"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1538682058, "post_id": 52605957, "comment_id": 92239465, "body": "I cannot run your code, but having <code>return@map</code> seems wrong. Usually <code>return@</code> is a quick return, like <code>break</code> sort of thing. I suggest that you try it with one call to server, and then improve it to work with <code>map()</code> of calls."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1538473921, "creation_date": 1538473921, "answer_id": 52605957, "question_id": 52603665, "link": "https://stackoverflow.com/questions/52603665/rxjava-create-items-in-list-and-return-new-list/52605957#52605957", "title": "RxJava: Create items in list and return new list", "body": "<p>You can do something like this:</p>\n\n<pre><code>fun postItems(items: List&lt;Item&gt;): Maybe&lt;List&lt;Item&gt;&gt; {\n    return items.toFlowable().map {\n        postItem(it).blockingGet()\n    }.toList().toMaybe()\n}\n</code></pre>\n\n<p>But I'm not sure that's what you actually mean, since your <code>Maybe</code> is not a <code>Maybe</code>, actually.</p>\n\n<p>Changing the signature like this will make much more sense:</p>\n\n<pre><code>fun postItems(items: List&lt;Item&gt;): Flowable&lt;Maybe&lt;Item&gt;&gt; {\n    return items.toFlowable().map {\n        postItem(it)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1435, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538639907, "creation_date": 1538464855, "last_edit_date": 1538639907, "question_id": 52603665, "link": "https://stackoverflow.com/questions/52603665/rxjava-create-items-in-list-and-return-new-list", "title": "RxJava: Create items in list and return new list", "body": "<p>Rx noobie here: any idea on how to achieve this?:</p>\n\n<p>I have a list of items from the UI and would like to POST them to the server. I need the list of POSTed items back from the server (to use the server-issued IDs, timestamps etc).</p>\n\n<p>Pardon my long examples but here's the code I'm struggle to make work:</p>\n\n<pre><code>/**\n * create each item (POST) in the list and return the list\n * of newly created ones\n */\nfun postItems(items: List&lt;Item&gt;): Maybe&lt;List&lt;Item&gt;&gt; {\n    // loop through all items, making a network call for each and return the\n    // list of POSTed items\n\n    // attempt 1\n    // Failed type inference. Expected type mismatch:\n    // Expected: Maybe&lt;List&lt;Item&gt;&gt;\n    // Found: List&lt;Maybe&lt;Item&gt;&gt;\n    return items.map {\n        postItem(it)\n    }\n\n    // attempt 2: 'extract' each item in resulting observable and\n    // shove it back to original list\n    return Maybe.just(items.map {\n        postItem(it!!)\n                // 'extract' item from observable\n                .flatMap {\n                    // error: Type mismatch.\n                    // Required ((Item) -&gt; MaybeSource&lt;out (???...???)&gt;!)!\n                    // Found (Item) -&gt; Item\n                    it\n                }\n    })\n\n    // attempt 3: convert a Maybe to Flowable to collect all items from post\n    // and emit them as a single list\n    // Type mismatch. Required:(((Mutable)List&lt;Item!&gt;) -&gt; SingleSource&lt;out (???...???)&gt;!)!\n    // Found: ((Mutable)List&lt;Item!&gt;) -&gt; (Mutable)List&lt;Item!&gt;\n    return items.forEach {\n        postItem(it!!).toFlowable().toList().flatMap { it }\n    }\n\n    // attempt 4: modify attempt 3 with concatMap:\n    // Type mismatch. Required:((List&lt;Item!&gt;) -&gt; MaybeSource&lt;out (???...???)&gt;!)!\n    // Found: (List&lt;Item!&gt;) -&gt; List&lt;Maybe&lt;Item&gt;&gt;\n    return Maybe.just(items)\n            // wait for each observable to finish all the work \n            // until the next one is processed\n            .concatMap({\n                it.map { addItem(it!!) }\n            }).toFlowable()\n            .toList().toMaybe()\n\n    // attempt 6: blocking call on each API request.\n    // results in android.os.NetworkOnMainThreadException\n    return Maybe.just(places.map {\n        addPlace(it!!).blockingGet()\n    })\n}\n\nfun postItem(item: Item): Maybe&lt;Item&gt; {\n    return networkService.post(item) // async call to API, returns Maybe&lt;Item&gt;\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I have tried the approach suggested by @AlexeySoshin below but still have some points of confusion:</p>\n\n<p>I have tried the second, shorter approach but the retrofit call doesn't go thru for some reason :(, i.e the network service endpoints aren't hit). It's slightly modified because I couldn't get rx-kotlin wrapper to work, but I imagine it's roughly equivalent to this:</p>\n\n<pre><code>fun addItems(items: List&lt;Item?&gt;): Flowable&lt;Maybe&lt;Item&gt;&gt; {\n    return Flowable.fromIterable(items).map {\n        // tried items.toFlowable().map but got 'Unresolved reference toFlowable\n        // even after adding rx-kotlin to project via gradle\n        return@map postItem(it)\n    }\n}\n</code></pre>\n\n<p>My network service works successfully for a single Item with this code:</p>\n\n<pre><code>// works as expected\nfun postOneItem(item: Item): Maybe&lt;Item&gt; {\n    return postItem(item)\n}\n\n// also works\nfun postOneItemFlowable(item: Item): Flowable&lt;Item&gt; {\n    return postItem(item).toFlowable()\n}\n\n\n// this variant didn't work\nfun postOneItemFlowable(item: Item): Flowable&lt;Maybe&lt;Item&gt;&gt; {\n    return Flowable.just(postItem(item))\n}\n</code></pre>\n\n<p>How to make <code>Flowable&lt;Maybe&lt;Item&gt;&gt;</code> calls go thru successfully? (or <code>Flowable&lt;List&lt;Item&gt;&gt;</code>, which would be closer to what I need eventually)</p>\n\n<p>Finally, how to obtain the actual output list from a\n    <code>Flowable&lt;Maybe&lt;Item&gt;&gt;</code>? It would help to see how the <code>.subscribe()</code>\n    block might look like to 'extract' that final list. Here is how my current subscribe code looks like:</p>\n\n<pre><code>...\nprivate fun createItem(item: Item) {\n    disposables.add(\n            addItemUseCase.postOneItem(item)\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe({\n                        Timber.d(\"one item posted: $it\")\n                    }, { /* error handler *//})\n}\n...\n</code></pre>\n"}, {"tags": ["kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "edited": false, "score": 0, "creation_date": 1538463477, "post_id": 52603315, "comment_id": 92140819, "body": "Do <code>Student</code> and <code>Teacher</code> have a common interface which exposes <code>prop1</code> and <code>prop2</code>?"}, {"owner": {"reputation": 449, "user_id": 3756347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f81df34976092b908561a7d79bab01c?s=128&d=identicon&r=PG&f=1", "display_name": "Nirmal", "link": "https://stackoverflow.com/users/3756347/nirmal"}, "reply_to_user": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "edited": false, "score": 0, "creation_date": 1538463552, "post_id": 52603315, "comment_id": 92140847, "body": "No, they dont implement a common interface"}, {"owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "edited": false, "score": 0, "creation_date": 1538465617, "post_id": 52603315, "comment_id": 92141744, "body": "Well then you can add an interface and process <code>list1</code> and <code>list2</code> with the same code"}], "answers": [{"tags": [], "owner": {"reputation": 325, "user_id": 7376885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NvNHh.jpg?s=128&g=1", "display_name": "ares", "link": "https://stackoverflow.com/users/7376885/ares"}, "is_accepted": false, "score": 0, "last_activity_date": 1538485970, "last_edit_date": 1538485970, "creation_date": 1538463956, "answer_id": 52603459, "question_id": 52603315, "link": "https://stackoverflow.com/questions/52603315/handling-lists-of-two-different-types-with-same-code-using-functional-programmin/52603459#52603459", "title": "Handling lists of two different types with same code using functional programming in kotlin", "body": "<p>As far as I know you can't. You can take advantage of common interface. </p>\n\n<p>For example:</p>\n\n<pre><code>interface Human{\n    val age: Int\n}\n\nclass Student(override val age: Int): Human\n\nclass Teacher(override val age: Int, val salary: Double):Human\n\nfun x(){\n    val list1: List&lt;Student&gt; = ...\n    val list2: List&lt;Teacher&gt; = ...\n    val school: List&lt;Human&gt; = ...\n\n    val result = school\n        .filter { it is Student }\n        .sumBy { it.age}\n\n    val result2 = school\n        .filter { it is Teacher }\n        .sumBy { it.age }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": false, "score": 0, "last_activity_date": 1538465789, "last_edit_date": 1538465789, "creation_date": 1538465456, "answer_id": 52603790, "question_id": 52603315, "link": "https://stackoverflow.com/questions/52603315/handling-lists-of-two-different-types-with-same-code-using-functional-programmin/52603790#52603790", "title": "Handling lists of two different types with same code using functional programming in kotlin", "body": "<p>You may use <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">Type Checks and Casts</a></p>\n\n<pre><code>class Student(val prop1:Int, val prop2:Int)\nclass Teacher(val prop1:Int, val prop2:Int)\nval list : List&lt;Any&gt; = listOf(Student(1,1),Student(2,2),Student(3,3),Teacher(1,1),Teacher(2,2),Teacher(3,3))\nvar total : Long = 0\nval school : Array&lt;Int&gt; = arrayOf(1,2)\nlist.filter{\n    if(it is Student)\n    {\n        school.contains((it as Student).prop1)\n    }\n    else if(it is Teacher)\n    {\n        school.contains((it as Teacher).prop1)\n    }\n    else\n    {\n        false\n    }\n}.forEach{\n    if(it is Student)\n    {\n        total += (it as Student).prop2.toLong()\n    }\n    else if(it is Teacher)\n    {\n        total += (it as Teacher).prop2.toLong()\n    }\n\n}\nprintln(total)  //print 6 in this example\n</code></pre>\n\n<p>This is ugly tough. It is better to make <code>Student</code> and <code>Teacher</code> either inherit a common superclass or implement a common interface</p>\n"}, {"tags": [], "owner": {"reputation": 3987, "user_id": 2449744, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zky84.jpg?s=128&g=1", "display_name": "Eldar Agalarov", "link": "https://stackoverflow.com/users/2449744/eldar-agalarov"}, "is_accepted": true, "score": 0, "last_activity_date": 1538469635, "last_edit_date": 1538469635, "creation_date": 1538469192, "answer_id": 52604727, "question_id": 52603315, "link": "https://stackoverflow.com/questions/52603315/handling-lists-of-two-different-types-with-same-code-using-functional-programmin/52604727#52604727", "title": "Handling lists of two different types with same code using functional programming in kotlin", "body": "<p>Try this:</p>\n\n<pre><code>object Test {\n\n    private fun isContains(school: Set&lt;Int&gt;, any: Any) = when (any) {\n        is Student -&gt; school.contains(any.prop1)\n        is Teacher -&gt; school.contains(any.prop1)\n        else -&gt; false\n    }\n\n    private fun value(any: Any) = when (any) {\n        is Student -&gt; any.prop2\n        is Teacher -&gt; any.prop2\n        else -&gt; throw NoWhenBranchMatchedException(\"any should be Student or Teacher\")\n    }\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        val school = setOf(1, 2)\n        val list = listOf(Student(1, 1), Student(2, 2), Student(3, 3), Teacher(1, 1), Teacher(2, 2), Teacher(3, 3))\n\n        val total = list.filter {\n            isContains(school, it)\n        }.map {\n            value(it)\n        }.sum()\n\n        println(\"Total: $total\")\n    }\n\n    private class Student(val prop1: Int, val prop2: Int)\n\n    private class Teacher(val prop1: Int, val prop2: Int)\n}\n</code></pre>\n"}], "owner": {"reputation": 449, "user_id": 3756347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f81df34976092b908561a7d79bab01c?s=128&d=identicon&r=PG&f=1", "display_name": "Nirmal", "link": "https://stackoverflow.com/users/3756347/nirmal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 52604727, "answer_count": 3, "score": 1, "last_activity_date": 1538492142, "creation_date": 1538463282, "last_edit_date": 1538492142, "question_id": 52603315, "link": "https://stackoverflow.com/questions/52603315/handling-lists-of-two-different-types-with-same-code-using-functional-programmin", "title": "Handling lists of two different types with same code using functional programming in kotlin", "body": "<p>I have two lists with different types list1 and list2 . I have a method which does the same operation on the lists. </p>\n\n<p>I'm using lambdas where I cannot access the property as (it.prop1) if I'm using List of type Any. </p>\n\n<p>Is there any solution to avoid this issue with lambdas?</p>\n\n<pre><code>val list1: List&lt;Student&gt; = ..\nval list2: List&lt;Teacher&gt; = ..\n\nlist1.filter {\n    school.contains(it.prop1) }\n.forEach {\n    total +=  it.prop2.toLong()\n}\n\nlist2.filter {\n    school.contains(it.prop1) }\n.forEach {\n    total +=  it.prop2.toLong()\n}\n</code></pre>\n\n<p>Thanks. </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1380, "user_id": 3044529, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6suBm.jpg?s=128&g=1", "display_name": "Sundeep1501", "link": "https://stackoverflow.com/users/3044529/sundeep1501"}, "is_accepted": false, "score": 1, "last_activity_date": 1538459809, "creation_date": 1538459809, "answer_id": 52602726, "question_id": 52602530, "link": "https://stackoverflow.com/questions/52602530/kotlin-best-practices-declare-init-instance-variables/52602726#52602726", "title": "Kotlin best practices: declare/init instance variables", "body": "<p>You can also use lateinit var in the Activity1 for objects.</p>\n\n<p>When you are sending the objects to the Activity2, Let the Activity2 handle the null values from the intent in onCreate method</p>\n"}, {"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 0, "last_activity_date": 1538460202, "creation_date": 1538460202, "answer_id": 52602792, "question_id": 52602530, "link": "https://stackoverflow.com/questions/52602530/kotlin-best-practices-declare-init-instance-variables/52602792#52602792", "title": "Kotlin best practices: declare/init instance variables", "body": "<p>You can use delegate property <strong><em>lazy</em></strong> for your initialization.</p>\n\n<p>As per your scenario, you're having data from API (which means in future), and lazy block is use to make val initialization at invocation access, not at declaration.</p>\n\n<p>So for Activity1, it'll be like:</p>\n\n<pre><code>private val objects by lazy { return@lazy arrayListOf&lt;MyObject&gt;()}\n</code></pre>\n\n<p>for Activity2:</p>\n\n<pre><code>private val objects: ArrayList&lt;MyObject&gt;? by lazy { return@lazy (intent?.getSerializableExtra(MY_KEY) as ArrayList&lt;MyObject&gt;) ?: null }\n</code></pre>\n\n<p>More from <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1538468610, "creation_date": 1538468610, "answer_id": 52604591, "question_id": 52602530, "link": "https://stackoverflow.com/questions/52602530/kotlin-best-practices-declare-init-instance-variables/52604591#52604591", "title": "Kotlin best practices: declare/init instance variables", "body": "<p>Create some shared class/object like presenter with state, viewmodel or other abstraction depending on your architecture. It should be responsible for network call and storing value in field. Make request to load data in first activity. Then start second activity try to access field where value is stored(or not). If it not null show your data, if it isn't wait for it to complete and then notify your activity using some kind of observer pattern or other stuff. This is more clean way.</p>\n"}], "owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 916, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1538468610, "creation_date": 1538458454, "question_id": 52602530, "link": "https://stackoverflow.com/questions/52602530/kotlin-best-practices-declare-init-instance-variables", "title": "Kotlin best practices: declare/init instance variables", "body": "<p>Let's say I have the following classes:</p>\n\n<pre><code>class Activity1: Activity {\nprivate var objects = arrayListOf&lt;MyObject&gt;()\n\n  override fun onCreate(...) {\n    ...\n    Thread {\n        getThoseObjects() {\n            this.runOnUiThread {\n                objects = it\n                //load a fragment using objects\n                val fragment = MyFragment.newInstance(objects)\n            }\n        }\n\n    }.start()\n  }\n\n  fun startActivity2() {\n    val i = Activity2.newIntent(objects)\n    ...\n  }\n}\n\nclass Activity2: Activity {\n  private lateinit var objects: ArrayList&lt;MyObject&gt;\n\n  override onCreate(...) {\n      objects = intent.getSerializableExtra(MY_KEY) as ArrayList&lt;MyObject&gt;\n  }\n}\n</code></pre>\n\n<p>Is this the accepted best practice for declaring/init-ing the objects arraylist in both of these classes?</p>\n\n<p>In Activity1 I need to grab it from the server and use it in the fragment but also pass it to Activity2 if needed.  I don't want to make it nullable but it also feels weird to init the empty array.</p>\n\n<p>In Activity2, the lateinit var (from what I have found) seems like the best way to handle that.  </p>\n\n<p>As far as the unchecked cast from the getSerializableExtra cast, I'm confident that I can ignore the warning but I'd love it someone has a neat trick to avoid it.</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito", "android-mvp"], "answers": [{"tags": [], "owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "is_accepted": false, "score": 1, "last_activity_date": 1538478146, "last_edit_date": 1538478146, "creation_date": 1538456371, "answer_id": 52602260, "question_id": 52602139, "link": "https://stackoverflow.com/questions/52602139/mockito-wanted-but-not-invoked-however-there-was-exactly-1-interaction-with-t/52602260#52602260", "title": "Mockito wanted but not invoked - However, there was exactly 1 interaction with this mock", "body": "<p><code>showProgressDialog</code> method is called before mocked method so it passed verify (this is 1 interaction with this mock),</p>\n\n<p>If you mock method <code>requestSignIn</code> then it won't send a normal request which produce a response that <code>subscribe</code> will atached to, and therefore also its nested method <code>onSuccessLogin</code> won't be executed.</p>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 4896839, "user_type": "registered", "profile_image": "https://graph.facebook.com/949262375136648/picture?type=large", "display_name": "Maulana Firdaus", "link": "https://stackoverflow.com/users/4896839/maulana-firdaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1544178265, "creation_date": 1544178265, "answer_id": 53667592, "question_id": 52602139, "link": "https://stackoverflow.com/questions/52602139/mockito-wanted-but-not-invoked-however-there-was-exactly-1-interaction-with-t/53667592#53667592", "title": "Mockito wanted but not invoked - However, there was exactly 1 interaction with this mock", "body": "<p>I solve the problem by following this repo :\n<a href=\"https://github.com/alfianyusufabdullah/RetrofitUnitTesting/tree/master/retrofit\" rel=\"nofollow noreferrer\">https://github.com/alfianyusufabdullah/RetrofitUnitTesting/tree/master/retrofit</a></p>\n\n<p>The concept is to use RepositoryCallback so we can mock the response from the API</p>\n"}], "owner": {"reputation": 85, "user_id": 4896839, "user_type": "registered", "profile_image": "https://graph.facebook.com/949262375136648/picture?type=large", "display_name": "Maulana Firdaus", "link": "https://stackoverflow.com/users/4896839/maulana-firdaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2669, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1544178265, "creation_date": 1538455344, "question_id": 52602139, "link": "https://stackoverflow.com/questions/52602139/mockito-wanted-but-not-invoked-however-there-was-exactly-1-interaction-with-t", "title": "Mockito wanted but not invoked - However, there was exactly 1 interaction with this mock", "body": "<p>This is the first time I use mockito &amp; roboelectric to make unit test on android studio.\n<br/>I want to verify that view.onSuccessLogin() called when request to server / API is success. But, I got an error \"wanted but not invoked - However, there was exactly 1 interaction with this mock\"</p>\n\n<p>Here is my presenter class :</p>\n\n<pre><code>class PresenterLogin internal constructor(private val view: View) {\n\nprivate val compositeDisposable = CompositeDisposable()\n\ninterface View : BaseView {\n    fun onSuccessLogin()\n}\n\nfun requestLogin(username: String, password: String) {\n    view.showProgressDialog()\n    val disposable = ApiHelper.service.requestSignIn(ApiHeaders().headers,\n            username, password, AppPreference.getInstance().firebaseToken)\n            .map { response -&gt; return@map response.toString() }\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeOn(Schedulers.io())\n            .subscribe(\n                    { response -&gt;\n                        view.hideProgressDialog()\n                        view.onSuccessLogin()\n                    },\n                    { error -&gt;\n                        view.hideProgressDialog()\n                        view.showError(error.message)\n                    }\n            )\n    compositeDisposable.add(disposable)\n}\n\nfun onViewDestroyed() {\n    compositeDisposable.dispose()\n}\n}\n</code></pre>\n\n<p>This is my PresenterLoginTest class</p>\n\n<pre><code>@RunWith(RobolectricTestRunner::class)\n@Config(constants = BuildConfig::class)\nclass PresenterLoginTest {\n\nprivate lateinit var activity: ActivityLogin\n\n@Mock\nlateinit var view: PresenterLogin.View\n@Mock\nlateinit var service: ApiService\n@Mock\nlateinit var callLogin: Observable&lt;Login&gt;\n\nprivate lateinit var presenter: PresenterLogin\n\n@Before\nfun setUp() {\n    activity = Robolectric.buildActivity(ActivityLogin::class.java)\n            .create()\n            .resume()\n            .get()\n    MockitoAnnotations.initMocks(this)\n    presenter = PresenterLogin(view)\n}\n\n@Test\n@Throws(Exception::class)\nfun shouldNotBeNull() {\n    assertNotNull(activity) // Success\n}\n\n@Test\nfun requestLogin() {\n    Mockito.`when`(service.requestSignIn(\n            ApiHeaders().headers, \"081212345678\", \"12345\", \"\"))\n            .thenReturn(Observable.just(Login()))\n    presenter.requestLogin(\"081212345678\", \"12345\")\n    verify(view).showProgressDialog() // Success\n    verify(view).onSuccessLogin()\n    /*\n    Wanted but not invoked:\n    view.onSuccessLogin();\n    -&gt; at package.PresenterLoginTest.requestLogin(PresenterLoginTest.kt:117)\n\n    However, there was exactly 1 interaction with this mock:\n    view.showProgressDialog();\n    */\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin", "default-constructor"], "comments": [{"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 1, "creation_date": 1538455427, "post_id": 52601611, "comment_id": 92138421, "body": "Where are you running that code? Decompiling to java bytecode or printing the constructors in code does indeed show the parameterless constructor."}, {"owner": {"reputation": 14867, "user_id": 517371, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0owFn.jpg?s=128&g=1", "display_name": "Tobia", "link": "https://stackoverflow.com/users/517371/tobia"}, "reply_to_user": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1538456879, "post_id": 52601611, "comment_id": 92138781, "body": "@Luksprog The regular <code>kotlinc</code> REPL, version 1.2.71 and JRE 10.0.2, as shown above."}], "answers": [{"tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": true, "score": 5, "last_activity_date": 1538458498, "creation_date": 1538458498, "answer_id": 52602534, "question_id": 52601611, "link": "https://stackoverflow.com/questions/52601611/kotlin-default-constructor/52602534#52602534", "title": "Kotlin default constructor", "body": "<p>I think the REPL runs the kotlin code as script, which does not compile completely.</p>\n\n<p>When running <code>test.kt</code> :</p>\n\n<pre><code>class A(val x: Int = 1, val y: Int = 2)\nfun main(args: Array&lt;String&gt;) {\n    for (c in A::class.java.constructors) println(c)\n}\n</code></pre>\n\n<p>with </p>\n\n<pre><code>kotlinc test.kt -include-runtime -d test.jar\nkotlin test.jar\n</code></pre>\n\n<p>it correctly prints</p>\n\n<pre><code>public A(int,int,int,kotlin.jvm.internal.DefaultConstructorMarker)\npublic A()\npublic A(int,int)\n</code></pre>\n\n<p>When running <code>test.kts</code>:</p>\n\n<pre><code>class A(val x: Int = 1, val y: Int = 2)\nfor (c in A::class.java.constructors) println(c)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>kotlinc -script test.kts\n</code></pre>\n\n<p>it prints</p>\n\n<pre><code>public Test$A(int,int,int,kotlin.jvm.internal.DefaultConstructorMarker)\npublic Test$A(int,int)\n</code></pre>\n\n<p>same as REPL.</p>\n\n<p>So it should be safe to say that it does <em>compile</em> with the parameterless constructor.</p>\n"}], "owner": {"reputation": 14867, "user_id": 517371, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0owFn.jpg?s=128&g=1", "display_name": "Tobia", "link": "https://stackoverflow.com/users/517371/tobia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1236, "favorite_count": 0, "accepted_answer_id": 52602534, "answer_count": 1, "score": 1, "last_activity_date": 1538458498, "creation_date": 1538450638, "last_edit_date": 1538456960, "question_id": 52601611, "link": "https://stackoverflow.com/questions/52601611/kotlin-default-constructor", "title": "Kotlin default constructor", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">docs</a> say:</p>\n\n<blockquote>\n  <p>On the JVM, if all of the parameters of the primary constructor have default values, the compiler will generate an additional parameterless constructor which will use the default values. This makes it easier to use Kotlin with libraries such as Jackson or JPA that create class instances through parameterless constructors.</p>\n</blockquote>\n\n<p>But this does not appear to be the case:</p>\n\n<pre><code>Welcome to Kotlin version 1.2.71 (JRE 10.0.2+13-Ubuntu-1ubuntu0.18.04.2)\nType :help for help, :quit for quit\n&gt;&gt;&gt; class A(val x: Int = 1, val y: Int = 2)\n&gt;&gt;&gt; for (c in A::class.java.constructors) println(c)\npublic Line_0$A(int,int,int,kotlin.jvm.internal.DefaultConstructorMarker)\npublic Line_0$A(int,int)\n&gt;&gt;&gt; \n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["java", "kotlin", "reddit"], "answers": [{"tags": [], "owner": {"reputation": 176, "user_id": 4041782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/db4da3f0f6f1df29c7211ad3eca26fb9?s=128&d=identicon&r=PG&f=1", "display_name": "MZokov", "link": "https://stackoverflow.com/users/4041782/mzokov"}, "is_accepted": true, "score": 0, "last_activity_date": 1544379910, "last_edit_date": 1544379910, "creation_date": 1544379396, "answer_id": 53695285, "question_id": 52601242, "link": "https://stackoverflow.com/questions/52601242/getting-null-access-token-for-jraw/53695285#53695285", "title": "Getting Null Access Token for JRaw", "body": "<p>I believe I've found the cause for this. When you're creating your app in Reddit you need to select Script here in this section:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rTvJT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rTvJT.png\" alt=\"enter image description here\"></a></p>\n\n<p>I was debugging JRAW to see what it's doing and when it's building the HTTP request to send to Reddit it's adding a parameter for your applications' type. I don't know if you can somehow configure JRAW to use any of the other types but the default it uses is 'Script'</p>\n\n<p>Edit: More info on different Authentication schemes for JRAW can be found here - <a href=\"https://mattbdean.gitbooks.io/jraw/content/v/v1.1.0/oauth2.html\" rel=\"nofollow noreferrer\">https://mattbdean.gitbooks.io/jraw/content/v/v1.1.0/oauth2.html</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2743227"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 53695285, "answer_count": 1, "score": 1, "last_activity_date": 1544379910, "creation_date": 1538447293, "question_id": 52601242, "link": "https://stackoverflow.com/questions/52601242/getting-null-access-token-for-jraw", "title": "Getting Null Access Token for JRaw", "body": "<p>Per my understanding, the OAuthHelper in Jraw should automatically generate an access token when I run this piece of code, but it's not. What am I doing wrong? I'm putting a random value in the app Platform field. Does this matter?</p>\n\n<pre><code>public static void main(String[] args) {\n    UserAgent userAgent = new UserAgent(\n            \"appPlatform\",\n           \"appName\",\n            \"version\",\n            \"userName\");\n\n    Credentials credentials = Credentials.script(\n           \"userName\",\n            \"password\",\n            \"clientId\",\n            \"clientSecret\"\n    );\n\n    NetworkAdapter adapter = new OkHttpNetworkAdapter(userAgent);\n    RedditClient redditClient = OAuthHelper.automatic(adapter, credentials);\n\n    // frontPage() returns a Paginator.Builder\n    DefaultPaginator&lt;Submission&gt; frontPage = redditClient.frontPage()\n            .sorting(SubredditSort.TOP)\n            .timePeriod(TimePeriod.DAY)\n            .limit(30)\n            .build();\n\n    Listing&lt;Submission&gt; submissions = frontPage.next();\n    for (Submission s : submissions) {\n        System.out.println(s.getTitle());\n    }\n}\n</code></pre>\n\n<p>Here is the stack trace:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NullPointerException: Null\n  accessToken   at\n  net.dean.jraw.models.internal.$AutoValue_OAuthDataJson.($AutoValue_OAuthDataJson.java:23)\n    at\n  net.dean.jraw.models.internal.AutoValue_OAuthDataJson.(AutoValue_OAuthDataJson.java:15)\n    at\n  net.dean.jraw.models.internal.AutoValue_OAuthDataJson$MoshiJsonAdapter.fromJson(AutoValue_OAuthDataJson.java:64)\n    at\n  net.dean.jraw.models.internal.AutoValue_OAuthDataJson$MoshiJsonAdapter.fromJson(AutoValue_OAuthDataJson.java:18)\n    at com.squareup.moshi.JsonAdapter.fromJson(JsonAdapter.java:41)     at\n  net.dean.jraw.http.HttpResponse.deserializeWith(HttpResponse.kt:49)\n    at\n  net.dean.jraw.oauth.OAuthHelper.scriptOAuthData$lib(OAuthHelper.kt:96)\n    at net.dean.jraw.oauth.OAuthHelper.automatic(OAuthHelper.kt:32)     at\n  net.dean.jraw.oauth.OAuthHelper.automatic$default(OAuthHelper.kt:27)\n    at net.dean.jraw.oauth.OAuthHelper.automatic(OAuthHelper.kt)    at\n  com.signalscanner.reddit.RedditAuthenticator.main(RedditAuthenticator.java:34)</p>\n</blockquote>\n\n<p>It should be noted RedditAuthenticator.java:34 is this line:</p>\n\n<p>RedditClient redditClient = OAuthHelper.automatic(adapter, credentials);</p>\n"}, {"tags": ["python-3.x", "kotlin", "gmm"], "owner": {"reputation": 21, "user_id": 10049523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XQVWpU9t2sI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq11HJhAb2r8CM7vB7bk7B3PRgB2fg/mo/photo.jpg?sz=128", "display_name": "Setaros Pplkn", "link": "https://stackoverflow.com/users/10049523/setaros-pplkn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1538446738, "creation_date": 1538446738, "question_id": 52601178, "link": "https://stackoverflow.com/questions/52601178/using-pythons-model-in-kotlin", "title": "Using python&#39;s model in kotlin", "body": "<p>I want to create android application that use GMM model.I already train it on python so I want to know that is it possible use model that I already train in kotlin.</p>\n"}, {"tags": ["android", "kotlin", "opengl-es"], "comments": [{"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1538456969, "post_id": 52601133, "comment_id": 92138802, "body": "Do you mean &quot;perpendicular&quot; or &quot;parallel&quot;?"}, {"owner": {"reputation": 189, "user_id": 5344721, "user_type": "registered", "profile_image": "https://graph.facebook.com/890782054308380/picture?type=large", "display_name": "Kazma Arakaki", "link": "https://stackoverflow.com/users/5344721/kazma-arakaki"}, "reply_to_user": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1538473610, "post_id": 52601133, "comment_id": 92145840, "body": "Currently polygons are parrarel (with XY surface). But I want make them perpendicular (to the line of sight from camera). Sorry I know my English is not good. Does it make sense?"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1538475196, "post_id": 52601133, "comment_id": 92146554, "body": "So you have to do a rotation by 90&#176;. See the answer. You can use both transformations  <code>billboard</code> and <code>rotateX</code>, or only on of them (<code>rotateX</code> in your case)."}, {"owner": {"reputation": 189, "user_id": 5344721, "user_type": "registered", "profile_image": "https://graph.facebook.com/890782054308380/picture?type=large", "display_name": "Kazma Arakaki", "link": "https://stackoverflow.com/users/5344721/kazma-arakaki"}, "reply_to_user": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1538491084, "post_id": 52601133, "comment_id": 92155594, "body": "Thank you Rabbid76. I implemented your code into my project and checked the rendered screen. And I realized that I have described my problem inappropriate way. I editted my question. Could you please help me again?"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1538492008, "post_id": 52601133, "comment_id": 92156190, "body": "I recommend to apply the <code>billboard</code> matrix only (not <code>rotateX</code>). It is still a bit unclear what you want to achieve but maybe you want to apply the <code>modelMatrix</code> fist and then the <code>billboard</code> matrix."}], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": false, "score": 1, "last_activity_date": 1538492210, "last_edit_date": 1538492210, "creation_date": 1538456989, "answer_id": 52602346, "question_id": 52601133, "link": "https://stackoverflow.com/questions/52601133/how-can-i-make-polygons-look-at-the-camera-opengl/52602346#52602346", "title": "How can I make polygons look at the camera (OpenGL)?", "body": "<blockquote>\n  <p>Currently polygons are rendered in parallel with XY surface. I want make it rotate to be perpendicular to the line of sight from camera.</p>\n</blockquote>\n\n<p>You have to add an <a href=\"http://www.opengl-tutorial.org/intermediate-tutorials/billboards-particles/billboards/\" rel=\"nofollow noreferrer\">billboard</a> matrix to the model, which has the <a href=\"https://en.wikipedia.org/wiki/Invertible_matrix\" rel=\"nofollow noreferrer\">inverse</a> orientation on the view matrix. \nThis orientates the model parallel to the viewport:</p>\n\n<pre><code>Matrix.invertM(billboard, 0, viewMatrix, 0)\nbillboard[12] = 0.0f\nbillboard[13] = 0.0f\nbillboard[14] = 0.0f\n</code></pre>\n\n<p>If you want to turn it perpendicular to the viewport, then you have to do an additional rotation around the X-axis, by 90 degrees.</p>\n\n<pre><code>Matrix.setIdentityM(rotateX, 0)\nMatrix.rotateM(rotateX, 0, 90.0f, 1.0f, 0.0f, 0.0f)\n</code></pre>\n\n<p>Apply this transformations to the model view matrix, like this:</p>\n\n<pre><code>private fun applyMvpMatrix() {\n\n    uniformHandlers[\"mvpMatrix\"]?.also { mvpMatrixHandler -&gt;\n\n        val rotateX: FloatArray = FloatArray(16)\n        val billboard: FloatArray = FloatArray(16)\n        val mvpMatrix: FloatArray = FloatArray(16)\n\n        Matrix.setIdentityM(rotateX, 0)\n        Matrix.rotateM(rotateX, 0, 90.0f, 1.0f, 0.0f, 0.0f)\n\n        Matrix.invertM(billboard, 0, viewMatrix, 0)\n        billboard[12] = 0.0f\n        billboard[13] = 0.0f\n        billboard[14] = 0.0f\n\n        Matrix.multiplyMM(mvpMatrix, 0, perspectiveMatrix, 0, viewMatrix, 0)\n        Matrix.multiplyMM(mvpMatrix, 0, mvpMatrix, 0, modelMatrix, 0)\n        Matrix.multiplyMM(mvpMatrix, 0, mvpMatrix, 0, rotateX, 0)\n        Matrix.multiplyMM(mvpMatrix, 0, mvpMatrix, 0, billboard, 0)\n\n        GLES20.glUniformMatrix4fv(mvpMatrixHandler, 1, false, mvpMatrix, 0)\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>If you want that the model always faces the camera, with a translation, that is defined by the <code>modelMatrix</code>, then you have to change in which you apply the <code>modelMatrix</code> and the <code>billboard</code> matrix. Since the model should be parallel to the viewport, the roatoin by 90 degrees (<code>rotateX</code>) is useless in this case:</p>\n\n<pre><code>Matrix.multiplyMM(mvpMatrix, 0, perspectiveMatrix, 0, viewMatrix, 0)\nMatrix.multiplyMM(mvpMatrix, 0, mvpMatrix, 0, billboard, 0)\nMatrix.multiplyMM(mvpMatrix, 0, mvpMatrix, 0, modelMatrix, 0)\n\nGLES20.glUniformMatrix4fv(mvpMatrixHandler, 1, false, mvpMatrix, 0)\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 5344721, "user_type": "registered", "profile_image": "https://graph.facebook.com/890782054308380/picture?type=large", "display_name": "Kazma Arakaki", "link": "https://stackoverflow.com/users/5344721/kazma-arakaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538492210, "creation_date": 1538446292, "last_edit_date": 1538491045, "question_id": 52601133, "link": "https://stackoverflow.com/questions/52601133/how-can-i-make-polygons-look-at-the-camera-opengl", "title": "How can I make polygons look at the camera (OpenGL)?", "body": "<p>I am developing an Android app with opengl (GLES20).\nI successfully make it render square polygon models\nbut I cannot make them look at the camera.</p>\n\n<p>I read the post below but I could not catch the point.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12910332/orientating-figures-to-look-at-the-camera-with-opengl\">Orientating Figures to look at the Camera with OpenGL</a></p>\n\n<p><strong>view.SampleGLSurfaceViewRenderer.kt</strong></p>\n\n<pre><code>class SampleGLSurfaceViewRenderer() : GLSurfaceView.Renderer {\n    var vertexShader: Int = -1\n    var fragmentShader: Int = -1\n    var shaderProgram: Int = -1\n\n    var attributeHandlers: MutableMap&lt;String, Int&gt; = mutableMapOf()\n    var uniformHandlers: MutableMap&lt;String, Int&gt; = mutableMapOf()\n\n    var sampleData: SampleGLData = SampleGLData()\n\n    var modelMatrix: FloatArray = FloatArray(16)\n    var viewMatrix: FloatArray = FloatArray(16)\n    var perspectiveMatrix: FloatArray = FloatArray(16)\n\n    var aspect: Float = 0.0f\n\n    override fun onSurfaceCreated(gl: GL10?, config: EGLConfig?) {\n        GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f)\n\n        initShadersAndProgram()\n\n        initLocationHandlers()\n    }\n\n    override fun onSurfaceChanged(gl: GL10?, width: Int, height: Int) {\n        GLES20.glViewport(0, 0, width, height)\n\n        aspect = width * 1.0f / height\n    }\n\n    override fun onDrawFrame(gl: GL10?) {\n        GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT or GLES20.GL_DEPTH_BUFFER_BIT)\n        GLES20.glEnable(GLES20.GL_DEPTH_TEST)\n\n        GLES20.glUseProgram(shaderProgram)\n\n        attributeHandlers[\"position\"]?.also { positionHandle -&gt;\n            GLES20.glEnableVertexAttribArray(positionHandle)\n\n            GLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 12, sampleData.vertexBuffer)\n\n            resetMvpMatrix()\n            applyMvpMatrix()\n\n            GLES20.glDrawElements(GLES20.GL_TRIANGLES, sampleData.indicesBuffer.capacity(), GLES20.GL_UNSIGNED_SHORT, sampleData.indicesBuffer)\n\n            resetMvpMatrix()\n            Matrix.translateM(modelMatrix, 0, 0.0f, -4.0f, 0.0f)\n            applyMvpMatrix()\n\n            GLES20.glDrawElements(GLES20.GL_TRIANGLES, sampleData.indicesBuffer.capacity(), GLES20.GL_UNSIGNED_SHORT, sampleData.indicesBuffer)\n\n            GLES20.glDisableVertexAttribArray(positionHandle)\n        }\n    }\n\n    private fun applyMvpMatrix() {\n        uniformHandlers[\"mvpMatrix\"]?.also { mvpMatrixHandler -&gt;\n            val mvpMatrix: FloatArray = FloatArray(16)\n            Matrix.multiplyMM(mvpMatrix, 0, perspectiveMatrix, 0, viewMatrix, 0)\n            Matrix.multiplyMM(mvpMatrix, 0, mvpMatrix, 0, modelMatrix, 0)\n\n            GLES20.glUniformMatrix4fv(mvpMatrixHandler, 1, false, mvpMatrix, 0)\n        }\n    }\n\n    private fun resetMvpMatrix() {\n        Matrix.setIdentityM(modelMatrix, 0)\n\n        Matrix.setLookAtM(viewMatrix, 0,\n                0.0f, 0.4f, -1.0f,\n                0.0f, 0.0f, 0.0f,\n                0.0f, 1.0f, 0.0f)\n\n        Matrix.perspectiveM(perspectiveMatrix, 0,\n                120.0f,\n                aspect,\n                0.1f, 10.0f)\n    }\n\n    private fun initLocationHandlers() {\n        attributeHandlers.put(\"position\", GLES20.glGetAttribLocation(shaderProgram, \"position\"))\n\n        uniformHandlers.put(\"mvpMatrix\", GLES20.glGetUniformLocation(shaderProgram, \"mvpMatrix\"))\n    }\n\n    private fun initShadersAndProgram() {\n        val vertexShaderSource = \"\"\"\n            attribute vec3 position;\n            uniform mat4 mvpMatrix;\n            void main(void) {\n                gl_Position = mvpMatrix * vec4(position, 1.0);\n            }\n        \"\"\".trimIndent()\n\n        val fragmentShaderSource = \"\"\"\n            precision mediump float;\n            void main(void) {\n                gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n            }\n        \"\"\".trimIndent()\n\n        vertexShader = GLES20.glCreateShader(GLES20.GL_VERTEX_SHADER)\n        GLES20.glShaderSource(vertexShader, vertexShaderSource)\n        GLES20.glCompileShader(vertexShader)\n\n        fragmentShader = GLES20.glCreateShader(GLES20.GL_FRAGMENT_SHADER)\n        GLES20.glShaderSource(fragmentShader, fragmentShaderSource)\n        GLES20.glCompileShader(fragmentShader)\n\n        shaderProgram = GLES20.glCreateProgram()\n        GLES20.glAttachShader(shaderProgram, vertexShader)\n        GLES20.glAttachShader(shaderProgram, fragmentShader)\n        GLES20.glLinkProgram(shaderProgram)\n    }\n}\n</code></pre>\n\n<p><strong>data.SampleGLData.kt</strong></p>\n\n<pre><code>class SampleGLData {\n    var vertexCoords: Int = 4\n    val vertexArray: FloatArray\n    val vertexBuffer: FloatBuffer\n    val indicesArray: ShortArray\n    val indicesBuffer: ShortBuffer\n\n    init {\n        vertexArray = floatArrayOf(\n                -1.0f, 1.0f, 1.0f,\n                -1.0f, -1.0f, 1.0f,\n                1.0f, -1.0f, 1.0f,\n                1.0f, 1.0f, 1.0f\n        )\n\n        vertexBuffer = createFloatBuffer(vertexArray)\n\n        indicesArray = shortArrayOf(\n                0, 1, 2,\n                0, 2, 3\n        )\n\n        indicesBuffer = createShortBuffer(indicesArray)\n    }\n\n    fun createFloatBuffer(array: FloatArray): FloatBuffer {\n        return ByteBuffer.allocateDirect(array.size * 4).run {\n            order(ByteOrder.nativeOrder())\n            asFloatBuffer().apply {\n                put(array)\n                position(0)\n            }\n        }\n    }\n\n    fun createShortBuffer(array: ShortArray): ShortBuffer {\n        return ByteBuffer.allocateDirect(array.size * 2).run {\n            order(ByteOrder.nativeOrder())\n            asShortBuffer().apply {\n                put(array)\n                position(0)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Currently polygons are rendered in parallel with XY surface.\nI want make it rotate to be perpendicular to the line of sight from camera.</p>\n\n<hr>\n\n<p>I draw an picture of what I want to do.\nLike \"Best\" part, I want all polygons to look at the camera.\nThank you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/V8NLC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8NLC.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "deserialization", "android", "gson"], "comments": [{"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1538446737, "post_id": 52601062, "comment_id": 92136696, "body": "try using BigInteger"}, {"owner": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "reply_to_user": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1538447093, "post_id": 52601062, "comment_id": 92136775, "body": "It arises from  Invalid BigInteger: 1.524393704334E13"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1538447275, "post_id": 52601062, "comment_id": 92136812, "body": "check this may be helpful <a href=\"https://github.com/google/gson/issues/1084\" rel=\"nofollow noreferrer\">github.com/google/gson/issues/1084</a>"}], "owner": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538445538, "creation_date": 1538445538, "last_edit_date": 1549310398, "question_id": 52601062, "link": "https://stackoverflow.com/questions/52601062/how-to-deserialise-specific-field-as-string-from-inherited-kotlin-data-classes-w", "title": "How to deserialise specific field as String from inherited Kotlin data classes with Gson", "body": "<p>I have got my json result as follows. When it comes to default deserlization by Gson, it comes the the id precision issue : </p>\n\n<p>It turns out from : </p>\n\n<p><code>{\"object\":\"product\",\"id\":15243937043340,\"name\":\"XNZ\",\"tele\":\"90592\",\"..</code></p>\n\n<p>to : </p>\n\n<pre><code> [Product(obj= product, id=1.524393704334E13, name=XNZ...\n</code></pre>\n\n<p>Here is my class : </p>\n\n<p>import com.google.gson.annotations.SerializedName</p>\n\n<pre><code>data class Product (\n\n        @SerializedName(\"object\")\n        val obj: String,\n        val id: String,\n        val name: String,\n        val tele: String, \n\n...\n</code></pre>\n\n<p>Would you please tell what custom deserialisation to  reserve the precision ? I mean , when i call the attribute id of product class, it should be id=15243937043340 instead id=1.524393704334E13</p>\n"}, {"tags": ["android", "kotlin", "android-wifi"], "comments": [{"owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "edited": false, "score": 0, "creation_date": 1538434498, "post_id": 52599902, "comment_id": 92134365, "body": "Answer is right there! <a href=\"http://stackoverflow.com/a/27312494/1680919\">stackoverflow.com/a/27312494/1680919</a>"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "edited": false, "score": 0, "creation_date": 1538434608, "post_id": 52599902, "comment_id": 92134388, "body": "Firstly, i want to know if there is some API which is doing it before i must implement it on my own"}, {"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1538437281, "post_id": 52599902, "comment_id": 92134976, "body": "Look at this link for several answer showing how to set up a <code>BroadcastReceiver</code> together with the <code>NetworkInfo</code> to notify you of any changes in connectivity state:: <a href=\"https://stackoverflow.com/questions/40713270/how-to-get-network-state-change-on-android\" title=\"how to get network state change on android\">stackoverflow.com/questions/40713270/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538434866, "post_id": 52599955, "comment_id": 92134449, "body": "This is a method which can be invoked once - i want to react on that change only when i am connected to WiFi but there is no internet connection"}, {"owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538435030, "post_id": 52599955, "comment_id": 92134482, "body": "what&#39;s your point? You want to react to a Wifi you&#39;re connected to that has no internet access??? you need the code to check if you&#39;re connected in the first place?"}, {"owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538435109, "post_id": 52599955, "comment_id": 92134499, "body": "because if you&#39;re connected to a wifi or mobile! then you can do the check at the time you prefer! and it simply will return if you have internet access or not! pls explain if I&#39;m missing anything!."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538435232, "post_id": 52599955, "comment_id": 92134526, "body": "The point is i don&#39;t want to check if the access point has the internet connection, so the second part of your sentence is not what i am looking for. I want to be able to receive the status when i am connected to wifi but the AP has just lost the internet connection and react to it  (e.g show exclamation mark like on Android status bar)"}, {"owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 1, "creation_date": 1538435749, "post_id": 52599955, "comment_id": 92134638, "body": "I want to believe there is an api to do that!"}], "tags": [], "owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "is_accepted": false, "score": 0, "last_activity_date": 1538434597, "creation_date": 1538434597, "answer_id": 52599955, "question_id": 52599902, "link": "https://stackoverflow.com/questions/52599902/how-to-detect-wifi-connected-but-no-internet-exclamation-mark/52599955#52599955", "title": "How to detect WiFi connected but no internet (exclamation mark)", "body": "<p>I will probably go for this method right here! </p>\n\n<pre><code>public boolean isOnline() {\n    try {\n        int timeoutMs = 1500;\n        Socket sock = new Socket();\n        SocketAddress sockaddr = new InetSocketAddress(\"8.8.8.8\", 53);\n\n        sock.connect(sockaddr, timeoutMs);\n        sock.close();\n\n        return true;\n    } catch (IOException e) { return false; }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538464702, "post_id": 52602497, "comment_id": 92141354, "body": "You did not understood my question"}], "tags": [], "owner": {"reputation": 1, "user_id": 2056842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/990be3e7d725e4d1744b329fe0d5cc97?s=128&d=identicon&r=PG", "display_name": "Zarea", "link": "https://stackoverflow.com/users/2056842/zarea"}, "is_accepted": false, "score": -1, "last_activity_date": 1538458178, "creation_date": 1538458178, "answer_id": 52602497, "question_id": 52599902, "link": "https://stackoverflow.com/questions/52599902/how-to-detect-wifi-connected-but-no-internet-exclamation-mark/52602497#52602497", "title": "How to detect WiFi connected but no internet (exclamation mark)", "body": "<p>Firstly you have to create BroadcastReceiver:</p>\n\n<pre><code>public class NetworkChangeReceiver extends BroadcastReceiver {\n@Override\npublic void onReceive(final Context context, final Intent intent) {\n    isInternetAvailable();\n}\nprivate boolean isInternetAvailable() {\n    try {\n        return (Runtime.getRuntime().exec(\"ping -c 1 google.com\").waitFor() == 0);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>then you have to register in Manifest :</p>\n\n<pre><code>&lt;receiver android:name=\".NetworkChangeReceiver\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.net.conn.CONNECTIVITY_CHANGE\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n\n<p>at the end you have to register in your main application:</p>\n\n<pre><code>public class MainApplication extends MultiDexApplication {\n@Override\npublic void onCreate() {\nNetworkChangeReceiver myReceiver = new NetworkChangeReceiver();\n    registerReceiver(myReceiver, filter);\n}\n}\n</code></pre>\n\n<p>so now any time you connect to WIFI you are going to receive a broadcast, and from isInternetAvailable() you will know if you are connecting to internet or not.</p>\n\n<p>don't forget permissions:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1538458178, "creation_date": 1538434155, "last_edit_date": 1592644375, "question_id": 52599902, "link": "https://stackoverflow.com/questions/52599902/how-to-detect-wifi-connected-but-no-internet-exclamation-mark", "title": "How to detect WiFi connected but no internet (exclamation mark)", "body": "<p>I want to replicate the status bar behavior on my own when connected to WiFi.</p>\n<p>I've registered a receiver, but i don't know what exact action i suppose to listen to be able to detect if I am connected to WiFi AP, but it has no  internet connection on it (hotspot disconnected).</p>\n<p>I was trying with:</p>\n<pre><code> override fun onReceive(context: Context, intent: Intent) {\n  val wifiState = intent.getIntExtra(WifiManager.EXTRA_WIFI_STATE, DEFAULT_WIFI_STATE_VALUE)\n  wifiStateSubject.onNext(wifiState)\n  Timber.d(&quot;Current wifi state: $wifiState&quot;)\n}\n</code></pre>\n<p>But it doesn't get me any valuable information when i was connected to my hotspot which was disconnected from the network.</p>\n<p><strong>I want to be able to detect and show exclamation mark on my own when i am connected to WiFi AP, but no internet connection.</strong></p>\n<p>Is there a specific action to which i should register with my receiver using <code>WiFiManager</code> action?</p>\n"}, {"tags": ["spring", "kotlin", "reactive"], "comments": [{"owner": {"reputation": 1089, "user_id": 3675565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1AWu.png?s=128&g=1", "display_name": "AntJavaDev", "link": "https://stackoverflow.com/users/3675565/antjavadev"}, "edited": false, "score": 0, "creation_date": 1538441369, "post_id": 52599769, "comment_id": 92135718, "body": "hmm seems like you are not autowiring the proper instances in your controller. Could you post how you are invoking the <code>insert</code> and <code>findAll</code> methods , as well as your exception stack trace"}, {"owner": {"reputation": 61, "user_id": 1899569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2021bd3b3174ac922661c28bb09144cf?s=128&d=identicon&r=PG", "display_name": "Irios", "link": "https://stackoverflow.com/users/1899569/irios"}, "reply_to_user": {"reputation": 1089, "user_id": 3675565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1AWu.png?s=128&g=1", "display_name": "AntJavaDev", "link": "https://stackoverflow.com/users/3675565/antjavadev"}, "edited": false, "score": 0, "creation_date": 1538468912, "post_id": 52599769, "comment_id": 92143432, "body": "Thanks for your comment @AntJavaDev . I added the requested elements. I&#39;ll try the same code but in pure JAVA as soon as I get some time today, this will help us in telling if the problem comes from Kotlin or from this reactive Spring setup."}, {"owner": {"reputation": 1089, "user_id": 3675565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1AWu.png?s=128&g=1", "display_name": "AntJavaDev", "link": "https://stackoverflow.com/users/3675565/antjavadev"}, "edited": false, "score": 0, "creation_date": 1538487094, "post_id": 52599769, "comment_id": 92153029, "body": "so indeed it looks like the injected <code>GroupDAO</code> is another instance , could you please double check it by printing the <code>GroupDAO</code> signature which you say its instantiated properly within the <code>@PostConstruct</code> and print the same for the instance while calling the controller method"}, {"owner": {"reputation": 61, "user_id": 1899569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2021bd3b3174ac922661c28bb09144cf?s=128&d=identicon&r=PG", "display_name": "Irios", "link": "https://stackoverflow.com/users/1899569/irios"}, "reply_to_user": {"reputation": 1089, "user_id": 3675565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1AWu.png?s=128&g=1", "display_name": "AntJavaDev", "link": "https://stackoverflow.com/users/3675565/antjavadev"}, "edited": false, "score": 0, "creation_date": 1538598460, "post_id": 52599769, "comment_id": 92203593, "body": "Thanks again for your help @AntJavaDev . I didn&#39;t get any time tolook into the matter again today but I&#39;ll do when I get some free time, I&#39;ll let you know"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1538598739, "post_id": 52599769, "comment_id": 92203725, "body": "Have you activated the spring plugin to make the classes open? If not, try making your GroupDAO open."}, {"owner": {"reputation": 1089, "user_id": 3675565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1AWu.png?s=128&g=1", "display_name": "AntJavaDev", "link": "https://stackoverflow.com/users/3675565/antjavadev"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1538607716, "post_id": 52599769, "comment_id": 92206633, "body": "indeed as mentioned by @JBNizet , this might be your case , cause the <code>GroupDAO</code> does not specify any context keyword(didnt notice it from the first time) , so its by default <code>final</code>. The error thats been thrown, should be a different one , but give it a try. More info <a href=\"https://dzone.com/articles/open-your-classes-and-methods-in-kotlin\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://blog.frankel.ch/open-your-classes-and-methods-in-kotlin/\" rel=\"nofollow noreferrer\">here</a>"}], "owner": {"reputation": 61, "user_id": 1899569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2021bd3b3174ac922661c28bb09144cf?s=128&d=identicon&r=PG", "display_name": "Irios", "link": "https://stackoverflow.com/users/1899569/irios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1538597864, "creation_date": 1538433210, "last_edit_date": 1538597864, "question_id": 52599769, "link": "https://stackoverflow.com/questions/52599769/spring-kotlin-bean-fields-are-null-at-runtime-despite-being-injected-during-in", "title": "Spring Kotlin : Bean fields are null at runtime despite being injected during instantiation", "body": "<p>I am giving a try to Spring Kotlin support and I want to achieve the following simple DAO pattern inside a Spring Boot application (Using Spring reactive features, generated thanks to the Spring Initializr website) :</p>\n\n<pre><code>@Document\ndata class Person(val age: Int, val name: String)\n\nabstract class AbstractDAO&lt;T&gt;(private val clazz: Class&lt;T&gt;, private val reactiveMongoTemplate: ReactiveMongoTemplate) {\n    fun create(t: Mono&lt;T&gt;) = reactiveMongoTemplate.insert(t)\n    fun findAll() = reactiveMongoTemplate.findAll(clazz)\n}\n\n@Repository\nclass GroupDAO(reactiveMongoTemplate: ReactiveMongoTemplate) : AbstractDAO&lt;Group&gt;(Group::class.java, reactiveMongoTemplate)\n\n@RestController\n@RequestMapping(\"/group\")\nclass GroupController(val groupDao: GroupDAO) {\n\n    @PostMapping(\"/create\")\n    fun create(@RequestBody group: Mono&lt;Group&gt;) = groupDao.create(group)\n\n}\n</code></pre>\n\n<p>Here is the relevant stacktrace :</p>\n\n<pre><code>2018-10-02 10:07:51.294  INFO 19434 --- [-server-epoll-5] r.ipc.netty.tcp.BlockingNettyContext     : Started HttpServer on /0:0:0:0:0:0:0:0%0:8080\n2018-10-02 10:07:51.294  INFO 19434 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8080\n2018-10-02 10:07:51.295 DEBUG 19434 --- [           main] s.b.w.r.c.StandardReactiveWebEnvironment : Adding PropertySource 'server.ports' with highest search precedence\n2018-10-02 10:07:51.298  INFO 19434 --- [           main] fr.rs.reactive.ReactiveApplicationKt     : Started ReactiveApplicationKt in 7.284 seconds (JVM running for 8.072)\n2018-10-02 10:08:06.655 ERROR 19434 --- [-server-epoll-7] .a.w.r.e.DefaultErrorWebExceptionHandler : Failed to handle request [POST http://localhost:8080/group/create]\n\njava.lang.NullPointerException: null\n    at fr.rs.reactive.dao.AbstractDAO.create(AbstractDAO.kt:7) ~[classes/:na]\n    at fr.rs.reactive.web.GroupController.create(GroupController.kt:19) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.reactive.result.method.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:243) ~[spring-webflux-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:138) ~[spring-webflux-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n</code></pre>\n\n<p>The ligne 7 in the AbstractDAO class is this one :</p>\n\n<pre><code>fun create(t: Mono&lt;T&gt;) = reactiveMongoTemplate.insert(t)\n</code></pre>\n\n<p>This code compiles and my application starts and runs, but the following behavior occurs and I get a NullPointerException when the insert or the findAll methods are actually called. Here are my observations :</p>\n\n<ul>\n<li>When I put a breakpoint on the class line of the AbstractDAO class, the reactiveMongoInstance is correctly injected -> not null</li>\n<li>When I put a breakpoint in a method annotated with @PostConstruct, the reactiveMongoInstance field is correctly initialized</li>\n<li>The GroupDAO instance Spring creates is correctly injected when given as a constructor parameter of another class (For instance a controller)</li>\n<li>When a method of the GroupDAO instance is called from the controller, the NullPointerException occurs : both clazz and reactiveMongoTemplate are null</li>\n<li>In the constructor and @PostConstruct method, the GroupDAO instance as shown by the debugger seems to be a \"normal\" one, whereas the one injected in the controller is a Spring enhanced one (CGLIB)</li>\n</ul>\n\n<p>Do you have any idea as why the enhanced instance fields are null at runtime despite being correctly injected on startup ? Do you think it is related to my app being a \"reactive\" one ? Or is it related to Kotlin ? I had no problem implementing this pattern in non reactive Spring boot java based app.</p>\n\n<p>Thanks a lot !</p>\n"}, {"tags": ["android", "android-studio", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1538438632, "post_id": 52599506, "comment_id": 92135211, "body": "The second <code>ViewPager</code> in xml doesn&#39;t have constraints set to it which might lead to the second fragment to not render. What is the exact error message that you&#39;re getting?"}, {"owner": {"reputation": 78, "user_id": 9882708, "user_type": "registered", "profile_image": "https://graph.facebook.com/1041793205978050/picture?type=large", "display_name": "Abdulrhman Alanazi", "link": "https://stackoverflow.com/users/9882708/abdulrhman-alanazi"}, "reply_to_user": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1538439521, "post_id": 52599506, "comment_id": 92135358, "body": "There isn&#39;t supportFragmentManger in OnCreatedView so it gives me the red color whenever I wrote it in the fragment."}], "answers": [{"tags": [], "owner": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "is_accepted": true, "score": 11, "last_activity_date": 1598548569, "last_edit_date": 1598548569, "creation_date": 1538457465, "answer_id": 52602408, "question_id": 52599506, "link": "https://stackoverflow.com/questions/52599506/fragment-inside-fragment-kotlin/52602408#52602408", "title": "fragment inside fragment {Kotlin}", "body": "<p>If you are adding fragment for an activity you use either <code>fragmentManager</code> or <code>supportFragmentManager</code>.</p>\n<p>If you are adding fragment for a fragment - you should use <code>childFragmentManager</code>, accessing <code>fragmentManager</code> from fragment will lead to using the same one that activity does.</p>\n"}], "owner": {"reputation": 78, "user_id": 9882708, "user_type": "registered", "profile_image": "https://graph.facebook.com/1041793205978050/picture?type=large", "display_name": "Abdulrhman Alanazi", "link": "https://stackoverflow.com/users/9882708/abdulrhman-alanazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3913, "favorite_count": 1, "accepted_answer_id": 52602408, "answer_count": 1, "score": 6, "last_activity_date": 1598548569, "creation_date": 1538431478, "last_edit_date": 1541591012, "question_id": 52599506, "link": "https://stackoverflow.com/questions/52599506/fragment-inside-fragment-kotlin", "title": "fragment inside fragment {Kotlin}", "body": "<p>is there any possible way to put a fragment inside a fragment?</p>\n\n<p>I tried to put a viewPager in a fragment and write the code on OnCreatedView but it gives me error!!!</p>\n\n<p>I tried this one but the fragments goes for every fragment in the activity!</p>\n\n<p>pageradapter.kt</p>\n\n<pre><code>class pagerAdapter(fm:FragmentManager):FragmentStatePagerAdapter(fm){\n\noverride fun getItem(position: Int): Fragment? {\n     return when(position){\n        0-&gt; Fragment1()\n        1-&gt; Fragment2()\n        else -&gt; null\n    }\n\n}\n\n\noverride fun getCount(): Int {\n    return 2\n}\n fun rotatePosition(position: Int):Int{\n    return (count -1)-position\n}\n\nclass pagerAdapter(fm:FragmentManager):FragmentStatePagerAdapter(fm){\n\noverride fun getItem(position: Int): Fragment? {\n     return when(position){\n        0-&gt; Fragment1()\n        1-&gt; Fragment2()\n        else -&gt; null\n    }\n\n}\n\n\noverride fun getCount(): Int {\n    return 2\n}\n fun rotatePosition(position: Int):Int{\n    return (count -1)-position\n}\n</code></pre>\n\n<p>pageradapter2.kt</p>\n\n<pre><code>class pagerAdapter2(fm: FragmentManager):FragmentStatePagerAdapter(fm){\n\noverride fun getItem(position: Int): Fragment? {\n    return when(position){\n        0-&gt; BlankFragment()\n        else-&gt;null\n    }\n}\n\n/**\n * Return the number of views available.\n */\noverride fun getCount(): Int {\n    return 1\n}\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val pagerAdapter2 = pagerAdapter2(supportFragmentManager)\n    val pager1= findViewById&lt;View&gt;(R.id.pager2) as ViewPager\n    pager1.adapter = pagerAdapter2\n\n    val adapter = pagerAdapter(supportFragmentManager)\n    val pager = findViewById&lt;View&gt;(R.id.pager) as ViewPager\n    pager.adapter = adapter\n    pager.setCurrentItem(adapter.rotatePosition(0), false)\n}\n</code></pre>\n\n<p>P.S. The first Answer solved my problem.</p>\n"}, {"tags": ["java", "kotlin", "ant", "ivy"], "answers": [{"tags": [], "owner": {"reputation": 506, "user_id": 5570447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17eac6bdb1daf57f37d1846015c21446?s=128&d=identicon&r=PG&f=1", "display_name": "resatz", "link": "https://stackoverflow.com/users/5570447/resatz"}, "is_accepted": true, "score": 0, "last_activity_date": 1539424003, "creation_date": 1539424003, "answer_id": 52791639, "question_id": 52599416, "link": "https://stackoverflow.com/questions/52599416/trying-to-understanding-using-kotlin-with-ant/52791639#52791639", "title": "Trying to understanding using Kotlin with Ant", "body": "<p>If Ivy is used, then no need for specifying <code>classpath=\"${kotlin.lib}/kotlin-ant.jar\"</code></p>\n\n<p>Regarding 2 &amp; 3.</p>\n\n<p>Create configurations for the Kotlin Dependencies in the ivy.xml</p>\n\n<pre><code>&lt;configurations&gt;\n    &lt;conf name=\"kotlin\" description=\"Kotlin Tasks\"/&gt;\n&lt;/configurations&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency org=\"xxxxx\" name=\"kotlin-ant\" rev=\"xxxxx\" conf=\"kotlin-&gt;default\"/&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>In Build.xml, update the configuration.</p>\n\n<pre><code>&lt;target name=\"resolve\"&gt;\n    &lt;ivy:resolve /&gt;\n    &lt;ivy:cachepath pathid=\"kotlin.classpath\" conf=\"kotlin\"/&gt;\n&lt;/target&gt;\n\n&lt;target name=\"build\" depends=\"resolve\"&gt;\n    &lt;typedef resource=\"org/jetbrains/kotlin/ant/antlib.xml\" classpathref=\"kotlin.classpath\"/&gt;\n &lt;kotlinc .....\n    &lt;/kotlinc&gt;\n&lt;/target&gt;\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 9273148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/04b81b581c2f76b5ef4c87adacb3c485?s=128&d=identicon&r=PG&f=1", "display_name": "Tanvi Jaywant", "link": "https://stackoverflow.com/users/9273148/tanvi-jaywant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "accepted_answer_id": 52791639, "answer_count": 1, "score": 0, "last_activity_date": 1539424003, "creation_date": 1538431020, "last_edit_date": 1539377690, "question_id": 52599416, "link": "https://stackoverflow.com/questions/52599416/trying-to-understanding-using-kotlin-with-ant", "title": "Trying to understanding using Kotlin with Ant", "body": "<p>\n    </p>\n\n<pre><code>&lt;target name=\"build\"&gt;\n    &lt;delete dir=\"classes\" failonerror=\"false\"/&gt;\n    &lt;mkdir dir=\"classes\"/&gt;\n    &lt;javac destdir=\"classes\" includeAntRuntime=\"false\" srcdir=\"src\"&gt;\n        &lt;withKotlin/&gt;\n    &lt;/javac&gt;\n    &lt;jar destfile=\"hello.jar\"&gt;\n        &lt;fileset dir=\"classes\"/&gt;\n    &lt;/jar&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/using-ant.html\" rel=\"nofollow noreferrer\">Kotlin Website</a></p>\n\n<p>I am working on integrating Kotlin with my existing Java project (ivy and ant). Currently we use ivy.xml for dependency management and ant for build scripts.</p>\n\n<ol>\n<li><p>If I used IVY, does it make specifying <code>classpath=\"${kotlin.lib}/kotlin-ant.jar\"</code> redundant ?</p></li>\n<li><p>I get an error <code>org/jetbrains/kotlin/ant/antlib.xml</code> not found in classpath. How to resolve it ? </p></li>\n<li><p>How to add kotlin-ant.jar &amp; and all its dependencies using using Ivy ?</p></li>\n</ol>\n"}, {"tags": ["kotlin", "nullable"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1538431038, "post_id": 52599351, "comment_id": 92133436, "body": "Name shadowing."}], "answers": [{"tags": [], "owner": {"reputation": 14663, "user_id": 343679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e65e5b1cd213c3b9c72f2680257d6eaf?s=128&d=identicon&r=PG&f=1", "display_name": "Sharj", "link": "https://stackoverflow.com/users/343679/sharj"}, "is_accepted": false, "score": 2, "last_activity_date": 1538431362, "creation_date": 1538431362, "answer_id": 52599488, "question_id": 52599351, "link": "https://stackoverflow.com/questions/52599351/kotlin-assigning-non-nullable-type-to-nullable-type/52599488#52599488", "title": "Kotlin - assigning non-nullable type to nullable type", "body": "<p><code>val username3 = name2</code> statement defines a new variable <code>username3</code> and sets its value to <code>name2</code>. It's not the same <code>username3</code> that you defined in the first line. New <code>username3</code>'s scope is only within if condition.</p>\n\n<p>1) If you want to assign value to a variable at later stage then define it with <code>var</code> not <code>val</code>.</p>\n\n<p>2) when you put <code>var</code>/<code>val</code> before variable name you define a new variable. Don't do this when you want to assign value to already defined variable.</p>\n"}], "owner": {"reputation": 11, "user_id": 4674938, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WFjRiSTLHVw/AAAAAAAAAAI/AAAAAAAACEU/E1n6vvFpS7k/photo.jpg?sz=128", "display_name": "M. Saleem Yusuf", "link": "https://stackoverflow.com/users/4674938/m-saleem-yusuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538431362, "creation_date": 1538430555, "last_edit_date": 1538430740, "question_id": 52599351, "link": "https://stackoverflow.com/questions/52599351/kotlin-assigning-non-nullable-type-to-nullable-type", "title": "Kotlin - assigning non-nullable type to nullable type", "body": "<p>I am assigning a value to val nullable type from null-able string. Getting un-expected results. The code is as follows:</p>\n\n<pre><code>val username3: String? = null       // null assigned to constant. can be re-assigned after a check.\n    if (name2 != null) {\n        val username3 = name2           // no error, statement execute and username3 remains null? is it a bug?\n    }\n    System.out.format(\"3) name2: %s, username3: %s%n\", name2, username3)\n</code></pre>\n\n<p>Result is:\n3) name2: Jamie Smith, username3: null</p>\n"}, {"tags": ["java", "android", "kotlin", "moto-360"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 1, "creation_date": 1538428611, "post_id": 52598972, "comment_id": 92132686, "body": "You don&#39;t even mention which version of Android compatible smartwatch you are targeting: older Android Wear, current Google Wear OS, Samsung Tizen, or you are using a completely &#39;regular&#39; Android OS based watch. I.e. doing a project that you have no familiarity with requires a lot of research."}, {"owner": {"reputation": 29, "user_id": 9554943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hU2zy.png?s=128&g=1", "display_name": "Mr. Tesla", "link": "https://stackoverflow.com/users/9554943/mr-tesla"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1540334786, "post_id": 52598972, "comment_id": 92824841, "body": "Hello, thank you for your answer. I now have more information : I have a Moto 360 with Android 6.0.1 and Android Wear 1.4.0."}], "answers": [{"tags": [], "owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "is_accepted": false, "score": 0, "last_activity_date": 1540407368, "creation_date": 1540407368, "answer_id": 52976147, "question_id": 52598972, "link": "https://stackoverflow.com/questions/52598972/get-the-number-of-tap-on-a-locked-smartwatch-screen/52976147#52976147", "title": "Get the number of &quot;tap&quot; on a locked smartwatch screen", "body": "<p>I would advise everyone on the team get a chance to the use watch just to understand the user experience. Watches are very battery limited devices and will always try to go into low power mode as often as possible.</p>\n\n<blockquote>\n  <p>Do you know a way to get the number of \"tap\" on a locked smartwatch screen?</p>\n</blockquote>\n\n<p>Tapping normally wakes up watch, either from full screen off or lower power ambient mode. If you want to capture taps/button press you can create a watch app which when active will receive taps/button presses. I'm not quite sure if watch face can capture taps, and if it did it my guess would be after the watch face is fully on, but that would be another place to look.</p>\n\n<blockquote>\n  <p>If this is not possible, can we display a constant notification and retrieve the number of \"tap\" on this notification?</p>\n</blockquote>\n\n<p>Custom watch face can allow display of custom content. Alternatively as a watch app you can show what you want.</p>\n\n<p><strong>Additional Comments</strong></p>\n\n<p>The Moto 360 came out in 2014 and was one of first Android Wear watches available. The latest code samples &amp; codelabs from Google are for Wear OS 2.0. You can look back in the commit history for old versions of samples which may be more compatible with Android Wear 1.4</p>\n\n<p>Also from this <a href=\"https://productforums.google.com/forum/#!topic/android-wear/Dm-_S6xxtS4\" rel=\"nofollow noreferrer\">Android Wear Notice May 2015</a> always on apps became possible so that might work for your project/use case.</p>\n"}], "owner": {"reputation": 29, "user_id": 9554943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hU2zy.png?s=128&g=1", "display_name": "Mr. Tesla", "link": "https://stackoverflow.com/users/9554943/mr-tesla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1540407368, "creation_date": 1538428457, "last_edit_date": 1540334605, "question_id": 52598972, "link": "https://stackoverflow.com/questions/52598972/get-the-number-of-tap-on-a-locked-smartwatch-screen", "title": "Get the number of &quot;tap&quot; on a locked smartwatch screen", "body": "<p>I'm doing a school project as a team, but none of us have never developed or even worn smartwatches.</p>\n\n<p>We want to <strong>get the number of \"tap\" on a smartwatch's locked screen</strong> but we don't find out if that's possible.</p>\n\n<ol>\n<li><p>Do you know a way to get the number of \"tap\" on a locked smartwatch screen?</p></li>\n<li><p>If this is not possible, can we display a constant notification and retrieve the number of \"tap\" on this notification?</p></li>\n</ol>\n\n<p>I'm using a Moto 360 with Android 6.0.1 and Android Wear 1.4.0.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1538472696, "post_id": 52598742, "comment_id": 92145364, "body": "Looks like some kind of KTS limitation for variable declaration. Something like <code>println(&quot;A&quot;); println(&quot;B&quot;)</code> works in KTS just fine."}, {"owner": {"reputation": 2310, "user_id": 2356160, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/vbPHS.jpg?s=128&g=1", "display_name": "lathspell", "link": "https://stackoverflow.com/users/2356160/lathspell"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1538507888, "post_id": 52598742, "comment_id": 92164283, "body": "A strange limitation that would be. I&#39;ve opened KT-27363."}], "answers": [{"tags": [], "owner": {"reputation": 2310, "user_id": 2356160, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/vbPHS.jpg?s=128&g=1", "display_name": "lathspell", "link": "https://stackoverflow.com/users/2356160/lathspell"}, "is_accepted": false, "score": 0, "last_activity_date": 1538580758, "creation_date": 1538580758, "answer_id": 52630715, "question_id": 52598742, "link": "https://stackoverflow.com/questions/52598742/why-does-kscript-not-like-semicolon/52630715#52630715", "title": "Why does kscript not like semicolon?", "body": "<p>It was in fact a known bug. See <a href=\"https://youtrack.jetbrains.net/issue/KT-24996\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.net/issue/KT-24996</a></p>\n"}], "owner": {"reputation": 2310, "user_id": 2356160, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/vbPHS.jpg?s=128&g=1", "display_name": "lathspell", "link": "https://stackoverflow.com/users/2356160/lathspell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538580758, "creation_date": 1538427155, "question_id": 52598742, "link": "https://stackoverflow.com/questions/52598742/why-does-kscript-not-like-semicolon", "title": "Why does kscript not like semicolon?", "body": "<p>I was playing around with Kotlin scripts and am irritated to get the following error:</p>\n\n<p>script:</p>\n\n<pre><code>val name = \"you\"; println(\"Hello $name!\")\n</code></pre>\n\n<p>error: </p>\n\n<pre><code>tt.kts:1:19: error: unexpected tokens (use ';' to separate expressions on the same line)\nval name = \"you\"; println(\"Hello $name!\")\n                  ^\n</code></pre>\n\n<p>If I use a line break instead of the semicolon it works. Didn't the compiler just tell me that a semicolon would be fine?!</p>\n\n<p>It would be valid Kotlin code (inside a function of a .kt file).</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538424404, "post_id": 52598120, "comment_id": 92130939, "body": "You&#39;re registering it, right?"}], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 1, "last_activity_date": 1538424700, "creation_date": 1538424700, "answer_id": 52598220, "question_id": 52598120, "link": "https://stackoverflow.com/questions/52598120/how-to-determine-the-chosen-activity-from-an-intentchooser-android/52598220#52598220", "title": "How to determine the chosen activity from an intentchooser android", "body": "<p>I'm fairly sure you can't set the Intent target to an anonymous BroadcastReceiver, or an inner BroadcastReceiver. </p>\n\n<p>Make it a static sub-class or put it in its own file. You can still construct and register it dynamically. (Sidenote: remember to actually register it. It won't receive Intents if it's not registered.)</p>\n\n<p>Alternatively, use a custom action and don't bother with the explicit target component. Dynamically registered BroadcastReceivers aren't subject to the implicit broadcast limitations in Oreo.</p>\n"}], "owner": {"reputation": 155, "user_id": 3328631, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1522728928/picture?type=large", "display_name": "naesmanak", "link": "https://stackoverflow.com/users/3328631/naesmanak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 52598220, "answer_count": 1, "score": 0, "last_activity_date": 1538425726, "creation_date": 1538424277, "last_edit_date": 1538425726, "question_id": 52598120, "link": "https://stackoverflow.com/questions/52598120/how-to-determine-the-chosen-activity-from-an-intentchooser-android", "title": "How to determine the chosen activity from an intentchooser android", "body": "<p>I am trying to determine which intent the user selects from my custom intent chooser, but for whatever reason I can't get onReceive to fire. Here's a sample of my code:</p>\n\n<pre><code>val extraIntents = intentList.toTypedArray()\nval receiver = Intent(context, broadcastReceiver.javaClass)\nval pendingIntent: PendingIntent = PendingIntent.getBroadcast(context, 0,                    \n                                   receiver, PendingIntent.FLAG_UPDATE_CURRENT)\nIntent.createChooser(intentList[0], \"choose an intent..\", \n                     pendingIntent.intentSender)\nstartActivityForResult(openInChooser, SELECTOR_CODE)\n</code></pre>\n\n<p>And earlier, I defined the broadcastReceiver:</p>\n\n<pre><code>broadcastReceiver = object : BroadcastReceiver() {\n    override fun onReceive(p0: Context?, p1: Intent?) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n}\n</code></pre>\n\n<p>I ran this code and set a break code on that <code>onReceive</code> method but it was never triggered. Any help would be greaatly appreciated!</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 2626, "user_id": 1237653, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51c94e9608afd58d6a61f81c911f2482?s=128&d=identicon&r=PG", "display_name": "bentolor", "link": "https://stackoverflow.com/users/1237653/bentolor"}, "edited": false, "score": 0, "creation_date": 1543851918, "post_id": 52596969, "comment_id": 94056843, "body": "With Gradle 5.0 the line <code>from(tasks[&quot;javadoc&quot;])</code> no longer works as it resolves to a <code>TaskProvider&lt;TaskReportTask&gt;</code> without any <code>get(int)</code> operation"}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 2626, "user_id": 1237653, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51c94e9608afd58d6a61f81c911f2482?s=128&d=identicon&r=PG", "display_name": "bentolor", "link": "https://stackoverflow.com/users/1237653/bentolor"}, "edited": false, "score": 1, "creation_date": 1543934357, "post_id": 52596969, "comment_id": 94091317, "body": "@BenjaminSchmid, try using <code>val javadocJar by creating(Jar::class) { val javadoc by tasks;  from(javadoc);  classifier = &quot;javadoc&quot;; }</code>"}, {"owner": {"reputation": 2626, "user_id": 1237653, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51c94e9608afd58d6a61f81c911f2482?s=128&d=identicon&r=PG", "display_name": "bentolor", "link": "https://stackoverflow.com/users/1237653/bentolor"}, "reply_to_user": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 1, "creation_date": 1544013062, "post_id": 52596969, "comment_id": 94124138, "body": "Thanks @madhead : Any idea how to delegate the accompaning <code>sourceSets[&quot;main&quot;]</code>-call?"}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1544019906, "post_id": 52596969, "comment_id": 94128286, "body": "<code>val main by sourcesets</code> :)"}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 2626, "user_id": 1237653, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51c94e9608afd58d6a61f81c911f2482?s=128&d=identicon&r=PG", "display_name": "bentolor", "link": "https://stackoverflow.com/users/1237653/bentolor"}, "edited": false, "score": 2, "creation_date": 1544109690, "post_id": 52596969, "comment_id": 94167584, "body": "@BenjaminSchmid. Ok, it seems to be a problem particularly with multi-module projects. In single-module projects there is an extension in Kotlin DSL \u2014 <code>sourceSets</code>. But that accessor seems to be not generating in multi-module projects, probably due to a bug. But you can use delegates to get any property (it&#39;s like <code>methodMissing</code> in Groovy, actually). So here is a trick: <code>val sourcesJar by tasks.creating(Jar::class) { val sourceSets: SourceSetContainer by project; from(sourceSets[&quot;main&quot;].allJava); classifier = &quot;sources&quot;; }</code>. Though, I don&#39;t like it it seems to be working."}], "tags": [], "owner": {"reputation": 4071, "user_id": 1705337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vzyhp.png?s=128&g=1", "display_name": "Morgoth", "link": "https://stackoverflow.com/users/1705337/morgoth"}, "is_accepted": true, "score": 15, "last_activity_date": 1538418974, "creation_date": 1538418974, "answer_id": 52596969, "question_id": 52596968, "link": "https://stackoverflow.com/questions/52596968/build-source-jar-with-gradle-kotlin-dsl/52596969#52596969", "title": "Build source jar with Gradle Kotlin DSL?", "body": "<p>The following will work:</p>\n\n<pre><code>val sourcesJar by creating(Jar::class) {\n    dependsOn(JavaPlugin.CLASSES_TASK_NAME)\n    classifier = \"sources\"\n    from(sourceSets[\"main\"].allSource)\n}\n\nval javadocJar by creating(Jar::class) {\n    dependsOn(JavaPlugin.JAVADOC_TASK_NAME)\n    classifier = \"javadoc\"\n    from(tasks[\"javadoc\"])\n}\n\nartifacts {\n    add(\"archives\", sourcesJar)\n    add(\"archives\", javadocJar)\n}\n</code></pre>\n\n<p>A complete <code>build.gradle.kts</code> would look like this:</p>\n\n<pre><code>plugins {\n    kotlin(\"jvm\") version \"1.2.71\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\ntasks {\n    val sourcesJar by creating(Jar::class) {\n        dependsOn(JavaPlugin.CLASSES_TASK_NAME)\n        classifier = \"sources\"\n        from(sourceSets[\"main\"].allSource)\n    }\n\n    val javadocJar by creating(Jar::class) {\n        dependsOn(JavaPlugin.JAVADOC_TASK_NAME)\n        classifier = \"javadoc\"\n        from(tasks[\"javadoc\"])\n    }\n\n    artifacts {\n        add(\"archives\", sourcesJar)\n        add(\"archives\", javadocJar)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1434, "user_id": 191975, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0e40ee4636d3ab6fe37f3bbc68d8a75?s=128&d=identicon&r=PG", "display_name": "orjan", "link": "https://stackoverflow.com/users/191975/orjan"}, "is_accepted": false, "score": -1, "last_activity_date": 1546801113, "creation_date": 1546801113, "answer_id": 54064853, "question_id": 52596968, "link": "https://stackoverflow.com/questions/52596968/build-source-jar-with-gradle-kotlin-dsl/54064853#54064853", "title": "Build source jar with Gradle Kotlin DSL?", "body": "<p>With Gradle 5.1 you can do something like this</p>\n\n<pre><code>tasks {\n    val sourcesJar by registering(Jar::class) {\n        classifier = \"sources\"\n        from(sourceSets.main.get().allSource)\n        dependsOn(classes)\n    }\n    val javadocJar by registering(Jar::class) {\n        classifier = \"javadoc\"\n        from(javadoc.get().destinationDir)\n        dependsOn(javadoc)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "is_accepted": false, "score": 17, "last_activity_date": 1555575680, "creation_date": 1555575680, "answer_id": 55741901, "question_id": 52596968, "link": "https://stackoverflow.com/questions/52596968/build-source-jar-with-gradle-kotlin-dsl/55741901#55741901", "title": "Build source jar with Gradle Kotlin DSL?", "body": "<p>With Gradle 5.3.1, this is a little nicer and avoids deprecated API:</p>\n\n<pre><code>tasks {    \n    val sourcesJar by creating(Jar::class) {\n        archiveClassifier.set(\"sources\")\n        from(sourceSets.main.get().allSource)\n    }\n\n    val javadocJar by creating(Jar::class) {\n        dependsOn.add(javadoc)\n        archiveClassifier.set(\"javadoc\")\n        from(javadoc)\n    }\n\n    artifacts {\n        archives(sourcesJar)\n        archives(javadocJar)\n        archives(jar)\n    }\n}\n</code></pre>\n\n<p>Task <code>assemble</code> will create all the artifacts.</p>\n"}, {"comments": [{"owner": {"reputation": 10234, "user_id": 138513, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/42b570f6f4312a872c2fc671e3ddc82b?s=128&d=identicon&r=PG", "display_name": "Trejkaz", "link": "https://stackoverflow.com/users/138513/trejkaz"}, "edited": false, "score": 0, "creation_date": 1610316992, "post_id": 59702794, "comment_id": 116088277, "body": "Expression &#39;java&#39; cannot be invoked as a function. The function &#39;invoke()&#39; is not found - if you try to use that in a subprojects block to make it work for subprojects as well."}, {"owner": {"reputation": 10234, "user_id": 138513, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/42b570f6f4312a872c2fc671e3ddc82b?s=128&d=identicon&r=PG", "display_name": "Trejkaz", "link": "https://stackoverflow.com/users/138513/trejkaz"}, "edited": false, "score": 1, "creation_date": 1610329369, "post_id": 59702794, "comment_id": 116090520, "body": "Apparently the fix for that is to change it to <code>configure&lt;JavaPluginExtension&gt; { ... }</code>"}], "tags": [], "owner": {"reputation": 820, "user_id": 1709651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f053194a300c46c83d847757b4b1dd?s=128&d=identicon&r=PG", "display_name": "Tom Hanley", "link": "https://stackoverflow.com/users/1709651/tom-hanley"}, "is_accepted": false, "score": 10, "last_activity_date": 1578823857, "creation_date": 1578823857, "answer_id": 59702794, "question_id": 52596968, "link": "https://stackoverflow.com/questions/52596968/build-source-jar-with-gradle-kotlin-dsl/59702794#59702794", "title": "Build source jar with Gradle Kotlin DSL?", "body": "<p>As of <strong>Gradle 6.0</strong> this is a much easier and cleaner. All you need to do is:</p>\n\n<pre><code>java {\n    withSourcesJar()\n    withJavadocJar()\n}\n</code></pre>\n\n<p>Check out the documentation on the <a href=\"https://docs.gradle.org/6.0.1/userguide/java_plugin.html#sec:java-extension\" rel=\"noreferrer\">java extension</a>, and its functions, <a href=\"https://docs.gradle.org/6.0.1/javadoc/org/gradle/api/plugins/JavaPluginExtension.html#withSourcesJar--\" rel=\"noreferrer\">withSourcesJar()</a> and <a href=\"https://docs.gradle.org/6.0.1/javadoc/org/gradle/api/plugins/JavaPluginExtension.html#withJavadocJar--\" rel=\"noreferrer\">withJavadocJar()</a></p>\n"}, {"tags": [], "owner": {"reputation": 1114, "user_id": 4288054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533bf09b3df304c8065443995cdb6f77?s=128&d=identicon&r=PG", "display_name": "Oleksandr Albul", "link": "https://stackoverflow.com/users/4288054/oleksandr-albul"}, "is_accepted": false, "score": 0, "last_activity_date": 1600174078, "creation_date": 1600174078, "answer_id": 63902177, "question_id": 52596968, "link": "https://stackoverflow.com/questions/52596968/build-source-jar-with-gradle-kotlin-dsl/63902177#63902177", "title": "Build source jar with Gradle Kotlin DSL?", "body": "<p>All described methods fail with error on <strong>Gradle 6.6</strong>:<br />\n<code>SourceSet with name 'main' not found</code></p>\n<p>I've found a solution that works:</p>\n<pre><code>tasks {\n    val sourcesJar by creating(Jar::class) {\n        archiveClassifier.set(&quot;sources&quot;)\n        from(android.sourceSets.getByName(&quot;main&quot;).java.srcDirs)\n    }\n\n    artifacts {\n        archives(sourcesJar)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4071, "user_id": 1705337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vzyhp.png?s=128&g=1", "display_name": "Morgoth", "link": "https://stackoverflow.com/users/1705337/morgoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5307, "favorite_count": 1, "accepted_answer_id": 52596969, "answer_count": 5, "score": 8, "last_activity_date": 1600174078, "creation_date": 1538418974, "question_id": 52596968, "link": "https://stackoverflow.com/questions/52596968/build-source-jar-with-gradle-kotlin-dsl", "title": "Build source jar with Gradle Kotlin DSL?", "body": "<p><a href=\"https://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle\">This question</a> asks how to build a SourceJar with Gradle. How can I do the same with the Gradle Kotlin DSL?</p>\n\n<p>The gradle code would be:</p>\n\n<pre><code>task sourcesJar(type: Jar, dependsOn: classes) {\n    classifier = 'sources'\n    from sourceSets.main.allSource\n}\n\ntask javadocJar(type: Jar, dependsOn: javadoc) {\n    classifier = 'javadoc'\n    from javadoc.destinationDir\n}\n\nartifacts {\n    archives sourcesJar\n    archives javadocJar\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-asynctask"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538419913, "post_id": 52596949, "comment_id": 92128933, "body": "Could you post some code? Abstract descriptions are good for when you&#39;re designing the process, but are terrible for debugging."}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538421126, "post_id": 52596949, "comment_id": 92129466, "body": "There is a glipse of code. I will not post all asyncTasks. Just to see how it works"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538421263, "post_id": 52596949, "comment_id": 92129529, "body": "That doesn&#39;t really help me, but try this: instead of posting the next AsyncTask from <code>onPostExecute()</code>, which is run in the main Thread, post it at the end of <code>doInBackground()</code>. You can still do the animation in <code>onPostExecute()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 387, "user_id": 6422618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y-ljWL3Okow/AAAAAAAAAAI/AAAAAAAAAcw/jKvHDgW24SQ/photo.jpg?sz=128", "display_name": "Siddharth jain", "link": "https://stackoverflow.com/users/6422618/siddharth-jain"}, "is_accepted": true, "score": 0, "last_activity_date": 1538422851, "creation_date": 1538422851, "answer_id": 52597793, "question_id": 52596949, "link": "https://stackoverflow.com/questions/52596949/how-to-run-splashanimation-in-uithread-without-lagging-during-asynctask-call/52597793#52597793", "title": "How to run splashAnimation in UIThread without lagging during AsyncTask call?", "body": "<p>You see that's not how the execution works.</p>\n\n<p>A thread execute statement one by one. So when you reach a statement where a new thread is started then the previous thread will not wait for this thread to finish things, instead it will move to next statement.</p>\n\n<p>Similarly, when you execute your startup AsyncTask and in <code>doInBackground()</code> you call a method <code>startupRequest()</code>. Now this method is starting a new AsyncTask (new thread), so this method will return true just after starting the Async task. And you get its response in onPostExecute(). Now the <code>startup AsyncTask</code> is already done and the next AsyncTask is working.</p>\n\n<p>What you can do is -</p>\n\n<p>1) Start the animation in first api call and end it in the last API call,OR</p>\n\n<p>2) Call all the API request in same AsyncTask.</p>\n\n<pre><code>public MyAsyncTask extends AsyncTask&lt;Void,Void,Boolean&gt;() {\n\n    public void onPreExecute() {\n       //start animation\n    }\n\n    public Boolean doInBackground(Void ignore) {\n\n       JSONObject res1 = loadData1();   // Sync call to API\n       if (res1 is Success) {\n          JSONObject res2 = loadData2();   // Sync call to API\n          if (res2 is Success) {\n              JSONObject res3 = loadData3();   // Sync call to API\n              if (res1 is Success) {\n                  return true;\n              }\n          }\n      }\n      return false;\n   }\n\n   public void onPostExecute(Boolean result) {\n       // stop animation\n       if (result) {\n          // show home\n       } else {\n         // show error\n       }\n   }\n}\n</code></pre>\n\n<p>loadData() calls are Sync API call, means you dont need to run AsyncTask in then. Just call the API directly.</p>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 52597793, "answer_count": 1, "score": 0, "last_activity_date": 1538422851, "creation_date": 1538418899, "last_edit_date": 1538421102, "question_id": 52596949, "link": "https://stackoverflow.com/questions/52596949/how-to-run-splashanimation-in-uithread-without-lagging-during-asynctask-call", "title": "How to run splashAnimation in UIThread without lagging during AsyncTask call?", "body": "<p>I have application, which needs to load data in specific order. The reason for that is simple. <code>Data1</code> are needed to construct <code>Data2</code> etc. For example if you have application which is loading <strong>user profile</strong>, you need user profile data to load other stuff in app.</p>\n\n<p>So I call <code>api.startup()</code> AsyncTask, which will inside <code>onPreExecute()</code> call <code>animation onUIThread</code> and inside <code>doInBackground()</code> method it will call another api <code>asyncTask</code> call(called <code>getData1()</code>).</p>\n\n<p>As that one call ends and data are received in <code>CallBack</code>, and if it's success, it will callanother asyncTask().</p>\n\n<p>Below you can see how it should work. But what will happen is that as <code>getData1()</code> asyncTask is ended, it will switch to <code>onPostExecute()</code>(inside <code>api.startup()</code>) and return true to my callback. But <code>data2 3 4 5</code> are still running and this makes my splashAnimation laggy.</p>\n\n<p>How to solve this issue? </p>\n\n<p><a href=\"https://i.stack.imgur.com/NHFkz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NHFkz.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>api.splashStartup(this)\n\n\n\nfun startupRequest(): Boolean {\n\n        var INSTALLATION_ID: String? = getSharedPreferences(getString(R.string.SharedPrefs),\n                Context.MODE_PRIVATE)?.getString(getString(R.string.INSTALLATION_ID), null)\n\n        if(INSTALLATION_ID == null){\n            createInstallationID()\n            INSTALLATION_ID = getSharedPreferences(getString(R.string.SharedPrefs),\n                    Context.MODE_PRIVATE)?.getString(getString(R.string.INSTALLATION_ID), null)\n        } \n\n        api.postStartup(INSTALLATION_ID!!, object: IStartupCallback {\n\n            override fun onError(errorJSON: JSONObject) {\n                createLog(\"SplashScreen\", \"Startup API Error -&gt; \" + errorJSON.toString())\n                createToast(errorJSON.toString())\n\n            }\n\n            override fun onSuccess(startupJSON: JSONObject?) {\n                createLog(\"SplashScreen\", \"Startup API Success -&gt; \" + startupJSON.toString())\n\n                val X_SESSION: String? = startupJSON?.getString(\"session\")\n                val userID: Int = startupJSON.getInt(\"user_id\")\n                loadData1(X_SESSION, userID)\n\n            }\n    }\n    return true\n}\n\nprivate fun loadData1(X_SESSION: String, userID: Int){\n\n        api.getData1(X_SESSION, userID,  object: IData1Callback{\n            override fun onError(errorJSON: JSONObject) {\n                createLog(\"SplashScreenLoadData1\", \"Data1 API Error -&gt; \" + errorJSON.toString())\n            }\n\n            override fun onSuccess(data1: JSONObject?) {\n                //do some stuff with data\n                addDataToSingleton(data1)\n                loadData2(data1.getString(\"object_Hash\"))\n            }\n        })\n    }\n\nprivate fun loadData2(objectHash: String){\n\n        api.getData2(objectHash,  object: IData2Callback{\n            override fun onError(errorJSON: JSONObject) {\n                createLog(\"SplashScreenLoadData2\", \"Data2 API Error -&gt; \" + errorJSON.toString())\n            }\n\n            override fun onSuccess(data1: JSONObject?) {\n                //do some stuff with data\n                addDataToSingleton(data2)\n                loadData3(data2)\n            }\n        })\n    }\n\n////\n\nAPI CLASS\n\n\nfun splashStartup(splashActivity: Splash){\n        class GetSplashAsync: AsyncTask&lt;Void, Void, Boolean&gt;() {\n\n            override fun onPreExecute() {\n                createLog(\"SplashScreen: \", \"Starting onPreExecute() --&gt; anim on UIThread\")\n                splashActivity.splashAnimation()\n            }\n\n            override fun doInBackground(vararg params: Void?): Boolean {\n\n                return splashActivity.startupRequest()\n            }\n\n            override fun onPostExecute(result: Boolean?) {\n                createLog(\"StartupAsync \", \"startup async ended\")\n            }\n\n        }\n\n        GetSplashAsync().execute()\n}\n\n\n\nfun postStartup(INSTALLATION_ID: String, callback: IStartupCallback){\n\n        class PostStartupAsync(private val startupCallback: IStartupCallback): AsyncTask&lt;Void, Void, JSONObject&gt;() {\n\n            override fun doInBackground(vararg p0: Void?): JSONObject {\n\n                val server = Server.getInstance(context!!)\n                val jsonObject = JSONObject()\n                jsonObject.put(\"installation\", installation)\n\n                return server.doPost(context.getString(R.string.startup_resource_link), jsonObject)\n            }\n\n            override fun onPostExecute(result: JSONObject?) {\n                super.onPostExecute(result)\n                if(result!!.has(\"ErrorCode\") &amp;&amp; result.getInt(\"ErrorCode\") == errServerOffline\n                        || result.has(\"ErrorCode\") &amp;&amp; result.getInt(\"ErrorCode\") == errServerNotResponding){\n                    startupCallback.onError(result)\n                } else if (result.has(\"error\")){\n                    startupCallback.onError(result)\n                } else {\n                    startupCallback.onSuccess(result)\n                }\n            }\n        }\n\n        PostStartupAsync(callback).execute()\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1538414141, "post_id": 52595778, "comment_id": 92126405, "body": "Please add your database structure."}, {"owner": {"reputation": 706, "user_id": 3787635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e016ebaf3b1308059fb09338691f1699?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Singh", "link": "https://stackoverflow.com/users/3787635/gaurav-singh"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1538423003, "post_id": 52595778, "comment_id": 92130292, "body": "@Alex Mamo Added the database structure."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1538423219, "post_id": 52595778, "comment_id": 92130384, "body": "How is the <code>uid</code> that you have used here: <code>FirebaseDatabase.getInstance().getReference(&quot;users&quot;).child(u&zwnj;&#8203;id).child(&quot;id&quot;)</code> declared ? Please add the code that are using to instantiate the <code>uid</code>."}, {"owner": {"reputation": 706, "user_id": 3787635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e016ebaf3b1308059fb09338691f1699?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Singh", "link": "https://stackoverflow.com/users/3787635/gaurav-singh"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1538423983, "post_id": 52595778, "comment_id": 92130751, "body": "Please check I have added few lines."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1538424191, "post_id": 52595778, "comment_id": 92130855, "body": "I&#39;ll write you an answer right now."}], "answers": [{"tags": [], "owner": {"reputation": 706, "user_id": 3787635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e016ebaf3b1308059fb09338691f1699?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Singh", "link": "https://stackoverflow.com/users/3787635/gaurav-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1538588497, "creation_date": 1538588497, "answer_id": 52632820, "question_id": 52595778, "link": "https://stackoverflow.com/questions/52595778/error-java-lang-illegalargumentexception-parameter-specified-as-non-null-is-nu/52632820#52632820", "title": "Error: java.lang.IllegalArgumentException: Parameter specified as non-null is null firebase transaction kotlin", "body": "<p>With reference to <a href=\"https://stackoverflow.com/questions/44885783/illegalargumentexception-parameter-specified-as-non-null-is-null/44885870\">this</a> post, I am passing <code>databaseError</code> as <code>null</code> to <code>onComplete</code>.\nBy default all variables in kotlin are non null. So, if I want to pass a <code>null</code> parameter,\nI have to add a <code>?</code> to the parameter, which in my case should be <code>DatabaseError?</code>. So the <code>onComplete</code> function should look like:</p>\n\n<p><code>override fun onComplete(databaseError: DatabaseError?, b: Boolean, dataSnapshot: DataSnapshot) {}</code></p>\n"}], "owner": {"reputation": 706, "user_id": 3787635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e016ebaf3b1308059fb09338691f1699?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Singh", "link": "https://stackoverflow.com/users/3787635/gaurav-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 52632820, "answer_count": 1, "score": 0, "last_activity_date": 1538588625, "creation_date": 1538413790, "last_edit_date": 1538588625, "question_id": 52595778, "link": "https://stackoverflow.com/questions/52595778/error-java-lang-illegalargumentexception-parameter-specified-as-non-null-is-nu", "title": "Error: java.lang.IllegalArgumentException: Parameter specified as non-null is null firebase transaction kotlin", "body": "<p>I am trying to increment an integer in Firebase database but, the app crashes.</p>\n\n<pre><code>abstract class BrowserActivity : ThemableBrowserActivity(),OnClickListener {\n\n        private var mAuth: FirebaseAuth? = null \n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            BrowserApp.appComponent.inject(this)\n            setContentView(R.layout.activity_main)\n\n            incrementId() //calling the function increment id\n        }\n\n        protected fun incrementId() {\n                 val cUser = mAuth?.currentUser\n                 val uid: String = cUser!!.uid    \n                 var databaseReference = FirebaseDatabase.getInstance().getReference(\"users\").child(uid).child(\"id\")\n\n\n                 databaseReference!!.runTransaction(object : Transaction.Handler {\n                        override fun doTransaction(mutableData: MutableData): Transaction.Result {\n                            var count = mutableData.getValue(Int::class.java)\n                            if (count == null) {\n                                mutableData.setValue(1)\n                            } else {\n                                mutableData.setValue(count+1)\n                            }\n                            return Transaction.success(mutableData)\n                        }\n\n                        override fun onComplete(databaseError: DatabaseError, b: Boolean, dataSnapshot: DataSnapshot) {}\n                    })\n                }\n        }\n</code></pre>\n\n<p>Logcat:</p>\n\n<blockquote>\n  <p>10-01 22:30:34.227 14674-14674/in.brew.meteor E/FileUtils: Unable to write bundle to storage\n  10-01 22:30:34.228 14674-14674/in.brew.meteor E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: in.brew.meteor, PID: 14674\n      java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter databaseError\n          at in.brew.meteor.browser.activity.BrowserActivity$saveData$1.onComplete(BrowserActivity.kt)\n          at com.google.android.gms.internal.zzecm.run(Unknown Source)\n          at android.os.Handler.handleCallback(Handler.java:746)\n          at android.os.Handler.dispatchMessage(Handler.java:95)\n          at android.os.Looper.loop(Looper.java:148)\n          at android.app.ActivityThread.main(ActivityThread.java:5443)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)</p>\n</blockquote>\n\n<p>Database structure:</p>\n\n<pre><code>my-firebase-app-name-9c826\n   |__-users\n         |_-FZTuHfNiXoSWOLiNlSv9w1vVZj03  //uid: user id of current user\n                 |__id: 1 \n</code></pre>\n\n<p><a href=\"https://i.imgur.com/CVAyMAS.png\" rel=\"nofollow noreferrer\">Database screenshot</a></p>\n\n<p>My Firebase rules:\n`My Firebase rules:</p>\n\n<p><code>{\n  \"rules\": {\n    \".read\": true,\n    \".write\": true\n  }\n}</code></p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication", "firebase-admin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 3, "creation_date": 1538418443, "post_id": 52595678, "comment_id": 92128243, "body": "&quot;If the provided email does not belong to an existing user or the user cannot be fetched for any other reason, the Admin SDK throws an error.&quot; <a href=\"https://firebase.google.com/docs/auth/admin/manage-users#retrieve_user_data\" rel=\"nofollow noreferrer\">firebase.google.com/docs/auth/admin/&hellip;</a>"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1538429428, "post_id": 52595678, "comment_id": 92132959, "body": "Sounds like an answer @jdv! :-)"}, {"owner": {"reputation": 33, "user_id": 7964852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T538F.jpg?s=128&g=1", "display_name": "Varun Sharma", "link": "https://stackoverflow.com/users/7964852/varun-sharma"}, "edited": false, "score": 0, "creation_date": 1538468611, "post_id": 52595678, "comment_id": 92143270, "body": "@jdv They should have made it return a null if the user is not found"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1538490527, "post_id": 52595678, "comment_id": 92155248, "body": "@varunsharma you need to read the docs. It clearly says <i>otherwise</i>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "is_accepted": true, "score": 2, "last_activity_date": 1538491872, "last_edit_date": 1538491872, "creation_date": 1538491468, "answer_id": 52610788, "question_id": 52595678, "link": "https://stackoverflow.com/questions/52595678/firebase-admin-sdk-java-no-user-record-found-for-the-provided-email/52610788#52610788", "title": "Firebase admin SDK Java: No user record found for the provided email", "body": "<p>I'm not expert with Firebase. (I literally dropped \"Firebase getUserByEmail\" into a web search.) But a cursory reading of the <a href=\"https://firebase.google.com/docs/auth/admin/manage-users#retrieve_user_data\" rel=\"nofollow noreferrer\">Firebase Guide for managing users</a> has this to say about <code>getUserByEmail(email)</code>:</p>\n\n<blockquote>\n  <p>This method returns a UserRecord object for the user corresponding to\n  the email provided.</p>\n  \n  <p>If the provided email does not belong to an existing user or the user\n  cannot be fetched for any other reason, the Admin SDK throws an error.\n  For a full list of error codes, including descriptions and resolution\n  steps, see <a href=\"https://firebase.google.com/docs/auth/admin/errors\" rel=\"nofollow noreferrer\">Admin Authentication API\n  Errors</a>.</p>\n</blockquote>\n\n<p>There is <em>no</em> mention of returning null for any of the user lookup methods described. All examples show error handling in a <code>catch</code> block (at least for the Javascript examples), <em>not</em> null handling. At least for the version and release describe here. </p>\n\n<p>There are no Kotlin examples. The Java example does not show exception handling, but it does not change the explanation of how errors are to be handled, and you are clearly seeing the error exception in your own code.</p>\n\n<p>There may be circumstances under which this method returns null under a JVM language, but that is not the case here.</p>\n"}], "owner": {"reputation": 33, "user_id": 7964852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T538F.jpg?s=128&g=1", "display_name": "Varun Sharma", "link": "https://stackoverflow.com/users/7964852/varun-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 0, "accepted_answer_id": 52610788, "answer_count": 1, "score": 0, "last_activity_date": 1538491872, "creation_date": 1538413360, "last_edit_date": 1538429288, "question_id": 52595678, "link": "https://stackoverflow.com/questions/52595678/firebase-admin-sdk-java-no-user-record-found-for-the-provided-email", "title": "Firebase admin SDK Java: No user record found for the provided email", "body": "<p>I'm trying to get the user id of the user through email at the backend. The code I'm using is this.</p>\n\n<pre><code>val user:UserRecord?\ntry {\n  user=FirebaseAuth.getInstance().getUserByEmail(email)\n}catch(e:Exception){\n  map[\"msg\"]=e.localizedMessage\n  return map\n    }\n\nmap[\"msg\"]=FirebaseAuth.getInstance().createCustomTokenAsync(user.uid).get()\nreturn map\n</code></pre>\n\n<p>Line 3 produces an exception.</p>\n\n<pre><code>com.google.firebase.auth.FirebaseAuthException: No user record found for the \nprovided email: id\nat com.google.firebase.auth.FirebaseUserManager.getUserByEmail(FirebaseUserManager.java:138)\nat com.google.firebase.auth.FirebaseAuth$7.execute(FirebaseAuth.java:613)\nat com.google.firebase.auth.FirebaseAuth$7.execute(FirebaseAuth.java:610)\nat com.google.firebase.internal.CallableOperation.call(CallableOperation.java:36)\nat com.google.firebase.auth.FirebaseAuth.getUserByEmail(FirebaseAuth.java:590)\nat in.ac.krishnacollege.CheckTeacherResource.checkTeacherEmail(CheckTeacherResource.kt:27)\n</code></pre>\n\n<p>The function getUserByEmail() should return null but it throws an exception.</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 420, "user_id": 375504, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6c06647cb3cf075c25108b05293acf39?s=128&d=identicon&r=PG&f=1", "display_name": "Prens", "link": "https://stackoverflow.com/users/375504/prens"}, "is_accepted": true, "score": 1, "last_activity_date": 1538413058, "creation_date": 1538413058, "answer_id": 52595605, "question_id": 52595502, "link": "https://stackoverflow.com/questions/52595502/returning-to-main-activity-causes-dropping-event-due-to-no-window-focus/52595605#52595605", "title": "Returning to main Activity causes Dropping event due to no window focus", "body": "<p>onBackPressed() try to remove finish(). Back should lead you back to the old activity. </p>\n\n<p>And remove Intent.FLAG_ACTIVITY_NEW_TASK . FLAG_ACTIVITY_CLEAR_TASK will cause any existing task that would be associated with the activity to be cleared before the activity is started.</p>\n"}], "owner": {"reputation": 136, "user_id": 9215525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vA2OV0jiVEw/AAAAAAAAAAI/AAAAAAAA9EQ/cWjaFygFowM/photo.jpg?sz=128", "display_name": "Ganesh Tiwari", "link": "https://stackoverflow.com/users/9215525/ganesh-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 52595605, "answer_count": 1, "score": 0, "last_activity_date": 1538413058, "creation_date": 1538412619, "question_id": 52595502, "link": "https://stackoverflow.com/questions/52595502/returning-to-main-activity-causes-dropping-event-due-to-no-window-focus", "title": "Returning to main Activity causes Dropping event due to no window focus", "body": "<p>I have a MainActivity in which i have a many fragments which have different images on click of one of the images it goes to imageviewer activity which then shows image in a fullscreen view but the problem arises when i click on back button in imageviewer activity as it leads to main activity but mainactivity doesnt respond to any touch events even navigation drawer cant be opened</p>\n\n<p>i go to the imageviewer activity with this code</p>\n\n<pre><code>imageView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent gotoZoomage=new Intent(getActivity(),ImageViewer2.class);\n            gotoZoomage.putExtra(\"imageurl\",mainurl);\n            gotoZoomage.putExtra(\"fragment\",0);\n            gotoZoomage.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            getActivity().startActivity(gotoZoomage);\n        }\n    });\n</code></pre>\n\n<p>and on back pressed for imageviewer activity is as follows</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    super.onBackPressed();\n    finish();\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1538413765, "post_id": 52595442, "comment_id": 92126251, "body": "You can do this (e.g. by creating a local variable containing a lambda that does <code>startSync()</code>), but it won&#39;t be any shorter or clearer than your current code."}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1538426685, "post_id": 52595442, "comment_id": 92131899, "body": "So sayeth yole!  Ok, will stick with what I have.  Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1538420028, "last_edit_date": 1538420028, "creation_date": 1538418689, "answer_id": 52596893, "question_id": 52595442, "link": "https://stackoverflow.com/questions/52595442/kotlin-callback-immediate-callback-from-an-if-statement/52596893#52596893", "title": "Kotlin callback immediate callback from an if statement", "body": "<p>Wouldn't like to argue with @yole, after all he is the author of idioms in Kotlin.</p>\n\n<p>But if you really like something JavaScript like, you could do something like this:</p>\n\n<pre><code>dataSnapshot.value.let {\n    if (it == null) {\n        ::startSync\n    }\n    else {\n        startSync()\n        null\n    }\n}?.let {\n    aThing.putAll(defaultConfig)\n    dbRef.setValue(botState) { _, _ -&gt;  it() }\n}\n</code></pre>\n\n<p>But as you can see, it's not shorter than your version, and actually much more confusing.</p>\n\n<p>Sometimes, imperative way is the right way, I assume.</p>\n\n<p>Another way is to use <code>with</code> and method reference:</p>\n\n<pre><code>with(::startSync) {\n    if (dataSnapshot.value == null) {\n        aThing.putAll(defaultConfig)\n        dbRef.setValue(botState) { _, _ -&gt;  this() }\n    }\n    else {\n        this()   \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1538420028, "creation_date": 1538412342, "question_id": 52595442, "link": "https://stackoverflow.com/questions/52595442/kotlin-callback-immediate-callback-from-an-if-statement", "title": "Kotlin callback immediate callback from an if statement", "body": "<p>This smells funny because of the two calls to startSync():</p>\n\n<pre><code>override fun onDataChange(dataSnapshot: DataSnapshot) {\n    if (null == dataSnapshot.value) {\n        aThing.putAll(defaultConfig)\n        dbRef.setValue(botState) { _, _ -&gt; startSync() }\n    } else {\n        startSync()\n    }\n}\n</code></pre>\n\n<p>Is there a Kotlin friendly way of saying \"If X then do Y with callback Z(), otherwise do nothing with immediate callback Z()\"? But without having to have Z() twice.</p>\n\n<p>I'm coming from JavaScript, where a <code>Promise.resolve().then...</code> would have fit the bill.</p>\n"}, {"tags": ["unit-testing", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 1, "last_activity_date": 1538413502, "creation_date": 1538413502, "answer_id": 52595714, "question_id": 52594444, "link": "https://stackoverflow.com/questions/52594444/test-single-delay/52595714#52595714", "title": "Test Single delay", "body": "<p>You are asserting immediately before you even moved the time. Assert separately:</p>\n\n<pre><code>val testScheduler = TestScheduler()\n\nval to = Single.just(\"\")\n        .delay(1, TimeUnit.SECONDS, testScheduler)\n        .test()\n\nto.assertEmpty();\n\ntestScheduler.advanceTimeBy(1, TimeUnit.SECONDS)\n\nto.assertComplete();    \n</code></pre>\n\n<p>Also setting the default scheduler and using a custom scheduler with the operator makes no sense.</p>\n"}], "owner": {"reputation": 496, "user_id": 6262353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9cqgV.png?s=128&g=1", "display_name": "Vladislav Shcherbakov", "link": "https://stackoverflow.com/users/6262353/vladislav-shcherbakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 52595714, "answer_count": 1, "score": 1, "last_activity_date": 1588252872, "creation_date": 1538408107, "last_edit_date": 1588252872, "question_id": 52594444, "link": "https://stackoverflow.com/questions/52594444/test-single-delay", "title": "Test Single delay", "body": "<p>I am trying to skip Single.delay() and my test falls with error:</p>\n\n<p>java.lang.AssertionError: Not completed (latch = 1, values = 0, errors = 0, completions = 0)</p>\n\n<pre><code>val testScheduler = TestScheduler()\nRxJavaPlugins.setComputationSchedulerHandler { testScheduler }\n\nSingle.just(\"\")\n        .delay(1, TimeUnit.SECONDS, testScheduler)\n        .test()\n        .assertComplete()\n\ntestScheduler.advanceTimeBy(1, TimeUnit.SECONDS)\n</code></pre>\n\n<p>this code works ok with Observable, is there any way to skip .delay() for Single?</p>\n"}, {"tags": ["java", "jpa", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 439, "user_id": 6229448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234a745b02fefc03fd5917dea58f0b40?s=128&d=identicon&r=PG&f=1", "display_name": "pau1adam", "link": "https://stackoverflow.com/users/6229448/pau1adam"}, "is_accepted": true, "score": 1, "last_activity_date": 1538407213, "creation_date": 1538407213, "answer_id": 52594203, "question_id": 52593547, "link": "https://stackoverflow.com/questions/52593547/can-not-put-an-entity-class-in-the-getentityclass-manager-method/52594203#52594203", "title": "Can not put an entity class in the getEntityClass manager method", "body": "<p>You have declared the generic multiple times.\nThat's where the reified type parameter error came from.</p>\n\n<pre><code>    abstract fun &lt;T&gt; getEntityClass(): Class&lt;T&gt;\n</code></pre>\n\n<p>should change to:</p>\n\n<pre><code>    abstract fun getEntityClass(): Class&lt;T&gt;\n</code></pre>\n\n<p>Because the T generic has already been declared when you wrote <code>abstract class SimpleManager&lt;T&gt;</code></p>\n\n<p>Then fix the subclass by changing</p>\n\n<pre><code>override fun &lt;ClientLimit&gt; getEntityClass(): Class&lt;ClientLimit&gt; {\n    return ClientLimit::class\n}\n</code></pre>\n\n<p>to </p>\n\n<pre><code>override fun getEntityClass(): Class&lt;ClientLimit&gt; {\n    return ClientLimit::class\n}\n</code></pre>\n\n<p>This way the reified type parameter error will go away and you will be left with the \"Type mismatch.\" error.</p>\n\n<p>Change the <code>ClientLimit::class</code> to <code>ClientLimit::class.java</code> and you are good to go.</p>\n"}], "owner": {"reputation": 189, "user_id": 4899224, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3ef694e7dfb392784899c4cf4d6c131e?s=128&d=identicon&r=PG&f=1", "display_name": "LLL RRR", "link": "https://stackoverflow.com/users/4899224/lll-rrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 52594203, "answer_count": 1, "score": 0, "last_activity_date": 1538407213, "creation_date": 1538404878, "question_id": 52593547, "link": "https://stackoverflow.com/questions/52593547/can-not-put-an-entity-class-in-the-getentityclass-manager-method", "title": "Can not put an entity class in the getEntityClass manager method", "body": "<p>I would like to create a ClientLimitHistoryManager that will implement SimpleManager, but there is a problem with getEntityClass() because the class I'm trying to return does not like the compiler.</p>\n\n<pre><code>abstract class SimpleManager&lt;T&gt; {\n    @PersistenceContext\n    open lateinit var entityManager: EntityManager\n\n    abstract fun &lt;T&gt; getEntityClass(): Class&lt;T&gt;\n}\n\n\n\n@Stateless\nopen class ClientLimitHistoryManager : SimpleManager&lt;ClientLimit&gt;() {\n    override fun &lt;ClientLimit&gt; getEntityClass(): Class&lt;ClientLimit&gt; {\n        return ClientLimit::class\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hw9OR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hw9OR.png\" alt=\"screen with error\"></a></p>\n\n<p>I tried also with ClientLimit::class.java but nothing better result.</p>\n\n<p>Is it possible to do it in Kotlin somehow?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538404836, "post_id": 52593419, "comment_id": 92121808, "body": "What is <code>Timber</code>?"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538404906, "post_id": 52593419, "comment_id": 92121847, "body": "@TheWanderer it is popular logging library in Android"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1538404979, "post_id": 52593419, "comment_id": 92121896, "body": "Just to make sure, try using normal Android logging methods (<code>Log.d()</code>)."}, {"owner": {"reputation": 190, "user_id": 2093842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb64ea73000e316ae3274763cb0845?s=128&d=identicon&r=PG", "display_name": "Konstantin Volkov", "link": "https://stackoverflow.com/users/2093842/konstantin-volkov"}, "edited": false, "score": 0, "creation_date": 1538405426, "post_id": 52593419, "comment_id": 92122201, "body": "did you add permission? Note that access to some telephony information is permission-protected."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 190, "user_id": 2093842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb64ea73000e316ae3274763cb0845?s=128&d=identicon&r=PG", "display_name": "Konstantin Volkov", "link": "https://stackoverflow.com/users/2093842/konstantin-volkov"}, "edited": false, "score": 0, "creation_date": 1538405461, "post_id": 52593419, "comment_id": 92122220, "body": "@KonstantinVolkov yes, I&#39;ve added &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;"}, {"owner": {"reputation": 190, "user_id": 2093842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb64ea73000e316ae3274763cb0845?s=128&d=identicon&r=PG", "display_name": "Konstantin Volkov", "link": "https://stackoverflow.com/users/2093842/konstantin-volkov"}, "edited": false, "score": 0, "creation_date": 1538405811, "post_id": 52593419, "comment_id": 92122424, "body": "Then I do not see the reason why this listener might be wrong, can you put breakpoint into listener&#39;s body and check will this work (don&#39;t trust Timber )) )"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1538405846, "post_id": 52593419, "comment_id": 92122444, "body": "Can you prove it then providing the working example?"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 190, "user_id": 2093842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb64ea73000e316ae3274763cb0845?s=128&d=identicon&r=PG", "display_name": "Konstantin Volkov", "link": "https://stackoverflow.com/users/2093842/konstantin-volkov"}, "edited": false, "score": 0, "creation_date": 1538406118, "post_id": 52593419, "comment_id": 92122588, "body": "@KonstantinVolkov I&#39;ve put the breakpoints - it is not getting called"}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1538407992, "post_id": 52593419, "comment_id": 92123616, "body": "Well, your listener will only be called upon if &quot;changes to the network service state (cellular).&quot; OR &quot;changes to the network signal strengths (cellular).&quot; occur as per the official docs at: <a href=\"https://developer.android.com/reference/android/telephony/PhoneStateListener\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/telephony/&hellip;</a> and <a href=\"https://developer.android.com/reference/android/telephony/TelephonyManager\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/telephony/&hellip;</a>  So, make sure either the network service state changes or the signal strength changes during your testing."}, {"owner": {"reputation": 190, "user_id": 2093842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb64ea73000e316ae3274763cb0845?s=128&d=identicon&r=PG", "display_name": "Konstantin Volkov", "link": "https://stackoverflow.com/users/2093842/konstantin-volkov"}, "edited": false, "score": 0, "creation_date": 1538422622, "post_id": 52593419, "comment_id": 92130129, "body": "Man I do not know what is wrong with your device, but I checked your code in the emulator it works fine for me, I see logs even if the value did not change $phoneStateListener: Current cell signal: 2 $phoneStateListener: Current cell signal: 2"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538405480, "creation_date": 1538404463, "last_edit_date": 1538405480, "question_id": 52593419, "link": "https://stackoverflow.com/questions/52593419/phonestatelistener-callbacks-not-being-called-despite-declaring-locally", "title": "PhoneStateListener callbacks not being called despite declaring locally", "body": "<p>I have an issue with getting the callbacks from PhoneStateListener in fragment. </p>\n\n<p>Here is the setup:</p>\n\n<pre><code>class StatusBarFragment {\n\n    private lateinit var telephonyManager: TelephonyManager\n\n    val phoneStateListener: PhoneStateListener = object : PhoneStateListener() {\n        override fun onServiceStateChanged(serviceState: ServiceState) {\n          Timber.d(\"Current cell state : ${serviceState.state}\")\n        }\n\n        override fun onSignalStrengthsChanged(signalStrength: SignalStrength) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                Timber.d(\"Current cell signal: ${signalStrength.level}\")\n            } else {\n                Timber.d(\"Current cell signal:${signalStrength.gsmSignalStrength}\")\n            }\n        }\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        telephonyManager = context.getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\n        telephonyManager.listen(phoneStateListener, PhoneStateListener.LISTEN_SERVICE_STATE or PhoneStateListener.LISTEN_SIGNAL_STRENGTHS)\n    }\n}\n</code></pre>\n\n<p>The logs are not invoked (even once). What can be the issue?</p>\n"}, {"tags": ["android-studio", "kotlin", "kotlin-android-extensions", "tarsosdsp"], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 9096782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2Q2tHpaQHA0/AAAAAAAAAAI/AAAAAAAAY1k/ottQdYciNmA/photo.jpg?sz=128", "display_name": "Giovana Morais", "link": "https://stackoverflow.com/users/9096782/giovana-morais"}, "is_accepted": false, "score": 0, "last_activity_date": 1567696642, "creation_date": 1567696642, "answer_id": 57808526, "question_id": 52593063, "link": "https://stackoverflow.com/questions/52593063/tarsosdsp-in-android-studio/57808526#57808526", "title": "TarsosDSP in Android Studio", "body": "<p>I had a similar problem when I tried to run this example and my solution (Sep. 2019) was to add a runtime confirmation of the record permission. I'm not sure if it's the same case, buuuut</p>\n\n<p>Here is my code to it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private boolean permissionToRecordAccepted = false;\n    private String [] permissions = {Manifest.permission.RECORD_AUDIO};\n    private static final int REQUEST_RECORD_AUDIO_PERMISSION = 200;\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode){\n            case REQUEST_RECORD_AUDIO_PERMISSION:\n                permissionToRecordAccepted  = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                break;\n        }\n        if (!permissionToRecordAccepted ) finish();\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10419827, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6UEt4l10LsU/AAAAAAAAAAI/AAAAAAAABTQ/jKG5X0Ct-eE/photo.jpg?sz=128", "display_name": "Douglas Lopez", "link": "https://stackoverflow.com/users/10419827/douglas-lopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 713, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569015466, "creation_date": 1538403245, "last_edit_date": 1569015466, "question_id": 52593063, "link": "https://stackoverflow.com/questions/52593063/tarsosdsp-in-android-studio", "title": "TarsosDSP in Android Studio", "body": "<p>This is my first post on SO and I am trying to combine my music skills with computer science.</p>\n\n<p>I am using Android studio 3.1.2 with gradle 4.5, Nexus 5X, API 25, Android 7.1.1, Windows 7.<br>\nI followed very careful these instructions:</p>\n\n<ol>\n<li><p>Create a project called Pitchbender</p></li>\n<li><p>Download the <code>.jar</code> of TarsosDSP and included in </p>\n\n<pre><code>C:\\Users\\Carlos\\AndroidStudioProjects\\Pitchbender\\app\\libs\\TarsosDSP-Android-latest\n</code></pre></li>\n<li><p>I checked the <code>build.gradle</code> of my project: </p>\n\n<pre><code>dependencies { implementation fileTree(dir: \u2018libs\u2019, include: [\u2018*.jar\u2019]) }\n</code></pre></li>\n<li><p>In my project, I have the following imports automatically done by <em>Android Studio</em>:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport be.tarsos.dsp.AudioEvent\nimport be.tarsos.dsp.io.android.AudioDispatcherFactory\nimport be.tarsos.dsp.pitch.PitchDetectionHandler\nimport be.tarsos.dsp.pitch.PitchDetectionResult\nimport be.tarsos.dsp.pitch.PitchProcessor\nimport kotlinx.android.synthetic.main.activity_main.*\nimport be.tarsos.dsp.pitch.PitchProcessor.PitchEstimationAlgorithm\nimport be.tarsos.dsp.AudioProcessor\nimport android.widget.TextView\nimport be.tarsos.dsp.AudioDispatcher\n</code></pre></li>\n<li><p>I have this permission in my manifest file</p>\n\n<pre><code>uses-permission android:name=\u201dandroid.permission.RECORD_AUDIO\u201d  \n</code></pre></li>\n<li><p><em>Android Studio</em> gives the option to convert to Kotlin the first line of the following code:</p>\n\n<pre><code>AudioDispatcher dispatcher =  AudioDispatcherFactory.fromDefaultMicrophone(22050,1024,0);\n</code></pre>\n\n<p>If I respond to \u201cNo\u201d to the Kotlin conversion, I have the following compilation error:</p>\n\n<blockquote>\n  <p>Clasifier \u201cAudioDispatcher\u201d does not have any companion object, and thus must be initialized here. </p>\n</blockquote>\n\n<p>What can I do?</p>\n\n<p>If I respond \u201cYes\u201d to the Kotlin conversion question, that statement is converted to</p>\n\n<pre><code>val dispatcher = AudioDispatcherFactory.fromDefaultMicrophone(22050, 1024, 0) \n</code></pre>\n\n<p>and then, when I run this program, Android informs me that there is an error and closes my project and keeps closing my project. What to do?</p></li>\n</ol>\n\n<p>Please help to run at least that first instruction of the complete code:</p>\n\n<pre><code>PitchDetectionHandler pdh = new PitchDetectionHandler() {\n    @Override\n    public void handlePitch(PitchDetectionResult res, AudioEvent e){\n        final float pitchInHz = res.getPitch();\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                processPitch(pitchInHz);\n            }\n        });\n    }\n};\nAudioProcessor pitchProcessor = new PitchProcessor(PitchEstimationAlgorithm.FFT_YIN, 22050, 1024, pdh);\ndispatcher.addAudioProcessor(pitchProcessor);\n\nThread audioThread = new Thread(dispatcher, \"Audio Thread\");\naudioThread.start();\n</code></pre>\n\n<p><strong>Question:</strong>  </p>\n\n<p>Do you have any simple project in <em>Android Studio</em>, so that I can see what my errors are?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1538402584, "post_id": 52592825, "comment_id": 92120386, "body": "Kotlin&#39;s Pair class doesn&#39;t reflect anything in Java, because Java has no Pair class. <code>android.util.Pair</code> is separate from Java."}, {"owner": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538402642, "post_id": 52592825, "comment_id": 92120421, "body": "I see, and is there a way i can utilise the android Pair inside kotlin such that the method accepts the parameter?"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1538402694, "post_id": 52592825, "comment_id": 92120450, "body": "Androd&#39;s Pair takes the same arguments in the constructor. Just change your import."}, {"owner": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538402762, "post_id": 52592825, "comment_id": 92120487, "body": "I have &quot;import android.util.Pair&quot; in my imports where im trying to insert, but it doesn&#39;t seem to make a difference"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538402840, "post_id": 52592825, "comment_id": 92120534, "body": "Don&#39;t use a Pair then. It&#39;s really not meant to be used for interop, but rather as a temporary holder when constructing Maps."}, {"owner": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538402958, "post_id": 52592825, "comment_id": 92120612, "body": "My entire java implementation uses a Pair to pass through a key, value object to a preferences manager, can&#39;t really change that at the moment sadly. Would having a different method signature with some sort of Tuple work instead?"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1538403059, "post_id": 52592825, "comment_id": 92120678, "body": "Why not make another method that takes two arguments instead of a Pair and then construct a Pair with those to pass to your current method?"}, {"owner": {"reputation": 1684, "user_id": 1911749, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/271a2dd786703eb6b551c0a222da882a?s=128&d=identicon&r=PG", "display_name": "Toby Eggitt", "link": "https://stackoverflow.com/users/1911749/toby-eggitt"}, "edited": false, "score": 0, "creation_date": 1538403062, "post_id": 52592825, "comment_id": 92120681, "body": "I believe wanderer is telling you <i>remove</i> &quot;import android .util.Pair, and <i>replace it</i> with the kotlin Pair... Your comment to his comment seems like you read his comment backwards..."}, {"owner": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "reply_to_user": {"reputation": 1684, "user_id": 1911749, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/271a2dd786703eb6b551c0a222da882a?s=128&d=identicon&r=PG", "display_name": "Toby Eggitt", "link": "https://stackoverflow.com/users/1911749/toby-eggitt"}, "edited": false, "score": 0, "creation_date": 1538403265, "post_id": 52592825, "comment_id": 92120831, "body": "@TobyEggitt i tried that too and it didnt work."}, {"owner": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1538403274, "post_id": 52592825, "comment_id": 92120837, "body": "@TheWanderer a destructured method did the trick, thanks! if you want to give it a formal answer i&#39;ll mark it as correct :)"}, {"owner": {"reputation": 15504, "user_id": 46375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14d6944fb1469c80688a27155ae2c967?s=128&d=identicon&r=PG", "display_name": "whaley", "link": "https://stackoverflow.com/users/46375/whaley"}, "edited": false, "score": 0, "creation_date": 1538403384, "post_id": 52592825, "comment_id": 92120919, "body": "I would suggest using the fully qualified name of android.util.Pair instead of importing it, or importing andoid.util.Pair using the <code>as</code> keyword.  The <code>kotlin</code> package is always imported, and I believe since Pair is already defined there, any other Pair class that is imported is going to be shadowed."}], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 3, "last_activity_date": 1538403400, "creation_date": 1538403400, "answer_id": 52593116, "question_id": 52592825, "link": "https://stackoverflow.com/questions/52592825/kotlin-pair-being-used-but-method-expects-android-util-pair/52593116#52593116", "title": "Kotlin Pair being used but method expects android.util.Pair", "body": "<p>Kotlin has its own Pair, which isn't an extension or proxy for <code>android.util.Pair</code>. Try using a helper method instead:</p>\n\n<pre><code>public void insert(String key Object value, boolean async) {\n    Pair&lt;String, Object&gt; pair = new Pair&lt;&gt;(key, value);\n    insert(pair, async);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5942, "user_id": 1970896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/90b66438cd00fdc7fbdc44d9df2fad96?s=128&d=identicon&r=PG", "display_name": "BonanzaDriver", "link": "https://stackoverflow.com/users/1970896/bonanzadriver"}, "edited": false, "score": 0, "creation_date": 1547650203, "post_id": 52593188, "comment_id": 95264891, "body": "Clever way of getting around a Type issue.  Effectively a type alias like I use in Swift on a regular basis.  Thanks for showing this."}], "tags": [], "owner": {"reputation": 15504, "user_id": 46375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14d6944fb1469c80688a27155ae2c967?s=128&d=identicon&r=PG", "display_name": "whaley", "link": "https://stackoverflow.com/users/46375/whaley"}, "is_accepted": false, "score": 8, "last_activity_date": 1547090297, "last_edit_date": 1547090297, "creation_date": 1538403624, "answer_id": 52593188, "question_id": 52592825, "link": "https://stackoverflow.com/questions/52592825/kotlin-pair-being-used-but-method-expects-android-util-pair/52593188#52593188", "title": "Kotlin Pair being used but method expects android.util.Pair", "body": "<p>As an alternative to the <a href=\"https://stackoverflow.com/questions/52592825/kotlin-pair-being-used-but-method-expects-android-util-pair#comment92120678_52592825\">answer @TheWanderer</a> gave in the comments of the question.  I would suggest importing android.util.Pair using the <code>as</code> keyword as follows:</p>\n\n<pre><code>import android.util.Pair as APair\n//....\nval  p = APair(SharedPreferencesManager.STATIC_KEY, value)\npreferencesManager!!.insert(p, false)\n</code></pre>\n\n<p>See the <a href=\"https://kotlinlang.org/docs/reference/packages.html#imports\" rel=\"nofollow noreferrer\">kotlin docs on importing for more</a>.  The kotlin package is always going to imported, and apparently will take precedence over classes from other packages unless you rename them or fully qualify them.</p>\n"}], "owner": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2250, "favorite_count": 0, "accepted_answer_id": 52593116, "answer_count": 2, "score": 4, "last_activity_date": 1550393235, "creation_date": 1538402435, "last_edit_date": 1550393235, "question_id": 52592825, "link": "https://stackoverflow.com/questions/52592825/kotlin-pair-being-used-but-method-expects-android-util-pair", "title": "Kotlin Pair being used but method expects android.util.Pair", "body": "<p>I have a PreferencesManager written in Java with the following method: </p>\n\n<pre><code> public void insert(Pair&lt;String, Object&gt; keyValue, boolean async) {\n</code></pre>\n\n<p>And from kotlin I'm trying to insert a new Pair into the PreferencesManager like so:</p>\n\n<pre><code> val  p = Pair(SharedPreferencesManager.STATIC_KEY, value)\n            preferencesManager!!.insert(p, false)\n</code></pre>\n\n<p>However i'm getting an error saying:</p>\n\n<blockquote>\n  <p>\"Required android.util.Pair, found kotlin.Pair\"...</p>\n</blockquote>\n\n<p>Is there a way I can convert from one to the other?</p>\n"}, {"tags": ["android", "kotlin", "realm", "pagedlist"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1538402121, "post_id": 52592591, "comment_id": 92120091, "body": "This is a general limitation of Positional data sources from the Paging library; the best solution I have is to use <a href=\"https://github.com/edubarr/header-decor\" rel=\"nofollow noreferrer\">github.com/edubarr/header-decor</a> which adds header-items as ItemDecoration."}, {"owner": {"reputation": 4634, "user_id": 678448, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HVbqu.jpg?s=128&g=1", "display_name": "Thommy", "link": "https://stackoverflow.com/users/678448/thommy"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1538489623, "post_id": 52592591, "comment_id": 92154687, "body": "Good idea. I added the header to the item-views and view/hide them as needed."}], "owner": {"reputation": 4634, "user_id": 678448, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HVbqu.jpg?s=128&g=1", "display_name": "Thommy", "link": "https://stackoverflow.com/users/678448/thommy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 607, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538401668, "creation_date": 1538401668, "question_id": 52592591, "link": "https://stackoverflow.com/questions/52592591/realm-monarchy-add-item-header-to-paged-list", "title": "Realm/Monarchy: Add item header to paged list", "body": "<p>I have a realm database and I am loading a huge list from it and display it with monarchy and PagedListAdapter. That all works fine, but now I want to update the PagedList to insert some header items.<br>\nMy problem is that the <code>add</code> methods of PagedList are not implemented.<br>\nMy current code:</p>\n\n<pre><code>val monarchy = Monarchy.Builder().build()\nval realmDataSourceFactory = monarchy.createDataSourceFactory { realm -&gt; realm.where&lt;Customer&gt;().sort(RealmCustomer::lastName.name) }\nval dataSourceFactory = realmDataSourceFactory\n        .map { it.toCustomerListItem() }\ncustomers = monarchy.findAllPagedWithChanges(realmDataSourceFactory, LivePagedListBuilder(dataSourceFactory, 50))\n</code></pre>\n\n<p>and in the Activity</p>\n\n<pre><code>val adapter = CustomerAdapter()\nviewModel.customers.observe(this, Observer { pagedList -&gt;\n    pagedList?.let {\n        adapter.submitList(it)\n    }\n})\ncustomerListRecyclerView.adapter = adapter\n</code></pre>\n\n<p>Where can I/do I need to add the header items?</p>\n"}, {"tags": ["java", "android", "google-maps", "kotlin", "google-maps-android-api-2"], "comments": [{"owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1538400847, "post_id": 52590728, "comment_id": 92119320, "body": "Which JDK version are you using?"}, {"owner": {"reputation": 710, "user_id": 997147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kPcsr.jpg?s=128&g=1", "display_name": "Saifur Rahman Mohsin", "link": "https://stackoverflow.com/users/997147/saifur-rahman-mohsin"}, "reply_to_user": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1538403539, "post_id": 52590728, "comment_id": 92121011, "body": "I&#39;ve set Android Studio&#39;s JDK version to embedded and I checked the path in File-&gt;Project Structure and it says 1.8.0_152. If you mean the one which one I&#39;ve included in my gradle dependencies then it&#39;s implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.71&quot;. I tried adding <code>compileOptions {         sourceCompatibility JavaVersion.VERSION_1_8         targetCompatibility JavaVersion.VERSION_1_8     }</code> already to see if that solves my issue but it didn&#39;t."}, {"owner": {"reputation": 710, "user_id": 997147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kPcsr.jpg?s=128&g=1", "display_name": "Saifur Rahman Mohsin", "link": "https://stackoverflow.com/users/997147/saifur-rahman-mohsin"}, "reply_to_user": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1538403934, "post_id": 52590728, "comment_id": 92121260, "body": "I solved the issue for now by changing the version from 0.9.0. to 0.2.11"}, {"owner": {"reputation": 92, "user_id": 3422488, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/96a8897e5d5b129cb3e53b87cff11733?s=128&d=identicon&r=PG&f=1", "display_name": "Abilash", "link": "https://stackoverflow.com/users/3422488/abilash"}, "edited": false, "score": 0, "creation_date": 1551594576, "post_id": 52590728, "comment_id": 96692729, "body": "Could you try running the code on device running API 26 or later, because <a href=\"https://developer.android.com/reference/java/time/LocalDateTime\" rel=\"nofollow noreferrer\">LocalDateTime</a> is introduced in Android API 26. And google-maps-services is designed for Server side java, please refer <a href=\"https://github.com/googlemaps/google-maps-services-java/blob/master/README.md#intended-usage-of-this-library\" rel=\"nofollow noreferrer\">google-maps-services-java</a>"}], "answers": [{"tags": [], "owner": {"reputation": 710, "user_id": 997147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kPcsr.jpg?s=128&g=1", "display_name": "Saifur Rahman Mohsin", "link": "https://stackoverflow.com/users/997147/saifur-rahman-mohsin"}, "is_accepted": true, "score": 3, "last_activity_date": 1538403893, "creation_date": 1538403893, "answer_id": 52593262, "question_id": 52590728, "link": "https://stackoverflow.com/questions/52590728/google-s-directionsapi-doesnt-appear-to-work-in-kotlin/52593262#52593262", "title": "Google\u2019s DirectionsApi doesnt appear to work in Kotlin", "body": "<p>I figured out a solution on my own for now. It's not the best fix but solves the issue at hand. Written it here so it may help anyone else looking for a solution to the same issue.</p>\n\n<p>Switch the gradle dependency from:</p>\n\n<pre><code>implementation 'com.google.maps:google-maps-services:0.9.0'\n</code></pre>\n\n<p>to</p>\n\n<pre><code>implementation 'com.google.maps:google-maps-services:0.2.11'\n</code></pre>\n\n<p>And it should fix it.</p>\n"}], "owner": {"reputation": 710, "user_id": 997147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kPcsr.jpg?s=128&g=1", "display_name": "Saifur Rahman Mohsin", "link": "https://stackoverflow.com/users/997147/saifur-rahman-mohsin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 839, "favorite_count": 0, "accepted_answer_id": 52593262, "answer_count": 1, "score": 2, "last_activity_date": 1538403893, "creation_date": 1538395527, "question_id": 52590728, "link": "https://stackoverflow.com/questions/52590728/google-s-directionsapi-doesnt-appear-to-work-in-kotlin", "title": "Google\u2019s DirectionsApi doesnt appear to work in Kotlin", "body": "<p>I'm trying to implement DirectionsApi to draw polylines on Google maps in my Android app using Kotlin. I added the required library using:</p>\n\n<pre><code>implementation 'com.google.maps:google-maps-services:0.9.0'\n</code></pre>\n\n<p>And then included the following function in my MapFragment:</p>\n\n<pre><code>private fun getGeoContext() : GeoApiContext {\n    val geoApiContext = GeoApiContext.Builder()\n            .apiKey(getString(R.string.directions_apikey))\n            .build()\n    return geoApiContext\n}\n</code></pre>\n\n<p>And finally in my onMapReady I'm trying to fetch the directions result using:</p>\n\n<pre><code>val origin = \"Hotel Hillview Munnar, State Highway 16, Moolakadai, Munnar, Kerala, India\"\nval dest = \"Echo Point, Kannan Devan Hills, Kerala, India\"\n\nval apiRequest = DirectionsApi.newRequest(getGeoContext())\n        apiRequest.origin(origin)\n        apiRequest.destination(dest)\n        apiRequest.mode(TravelMode.DRIVING)\n        apiRequest.setCallback(object : com.google.maps.PendingResult.Callback&lt;DirectionsResult&gt; {\n            override fun onResult(result:DirectionsResult) {\n                Timber.i(\"Call Success\")\n                val routes = result.routes\n            }\n            override fun onFailure(e:Throwable) {\n            }\n        })\n</code></pre>\n\n<p>But it keeps failing. I checked to Logcat logs and found this as the error:</p>\n\n<pre><code>10-01 17:22:41.248 4112-4193/com.acme.internal E/AndroidRuntime: FATAL EXCEPTION: Rate Limited Dispatcher\n    Process: com.acme.internal, PID: 4112\n    java.lang.NoClassDefFoundError: Failed resolution of: Ljava/time/LocalDateTime;\n        at com.google.maps.internal.OkHttpPendingResult.parseResponse(OkHttpPendingResult.java:241)\n        at com.google.maps.internal.OkHttpPendingResult.onResponse(OkHttpPendingResult.java:207)\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:153)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"java.time.LocalDateTime\" on path: DexPathList[[zip file \"/data/app/com.acme.internal-1/base.apk\"],nativeLibraryDirectories=[/data/app/com.acme.internal-1/lib/arm64, /vendor/lib64, /system/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n        at com.google.maps.internal.OkHttpPendingResult.parseResponse(OkHttpPendingResult.java:241)\u00a0\n        at com.google.maps.internal.OkHttpPendingResult.onResponse(OkHttpPendingResult.java:207)\u00a0\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:153)\u00a0\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\u00a0\n        at java.lang.Thread.run(Thread.java:818)\u00a0\n      Suppressed: java.lang.ClassNotFoundException: java.time.LocalDateTime\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n        at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n            ... 8 more\n     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\n10-01 17:22:41.248 4112-4193/com.acme.internal E/AbstractTracker: Can't create handler inside thread that has not called Looper.prepare()\n</code></pre>\n\n<p>I'm guessing this has to do with some issue with the Google maps library using the LocalDateTime class but since I'm using kotlin it's not able to access said class? Is there some work around for this issue?</p>\n"}, {"tags": ["android", "kotlin", "robolectric", "fragmentmanager", "appcompatactivity"], "comments": [{"owner": {"reputation": 1487, "user_id": 5312102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c33244de4755fc2a9e471956f774be2?s=128&d=identicon&r=PG&f=1", "display_name": "atarasenko", "link": "https://stackoverflow.com/users/5312102/atarasenko"}, "edited": false, "score": 1, "creation_date": 1538397301, "post_id": 52590587, "comment_id": 92117125, "body": "Is mActivity declared as AppCompatActivity?"}, {"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "reply_to_user": {"reputation": 1487, "user_id": 5312102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c33244de4755fc2a9e471956f774be2?s=128&d=identicon&r=PG&f=1", "display_name": "atarasenko", "link": "https://stackoverflow.com/users/5312102/atarasenko"}, "edited": false, "score": 0, "creation_date": 1538399168, "post_id": 52590587, "comment_id": 92118279, "body": "Yes, this was the problem. mActivity  was declared as Activity and not as AppCompatActivity. Thank you!"}], "owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538395199, "creation_date": 1538395031, "last_edit_date": 1538395199, "question_id": 52590587, "link": "https://stackoverflow.com/questions/52590587/no-supportfragmentmanager", "title": "No SupportFragmentManager", "body": "<p>For a unit test I have to add a SupportFragment to a Activity. I build a AppCompatActivity with Robolectric like this </p>\n\n<pre><code>mActivity = Robolectric.buildActivity(AppCompatActivity::class.java)\n            .create()\n            .start()\n            .resume()\n            .get()\n</code></pre>\n\n<p>Now I want to call <code>mActivity.supportFragmentManager()</code> but there is not Method for this call. Only the deprecated <code>fragmentManager</code> What I am doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1538390603, "post_id": 52589320, "comment_id": 92113518, "body": "Java (i.e. the Android Framework) can&#39;t access extension methods afaik, so you&#39;ll need to put the <code>clicked</code> method in the class itself"}, {"owner": {"reputation": 19418, "user_id": 436938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72902e381169328186e2b089032aeee1?s=128&d=identicon&r=PG", "display_name": "Sergey Glotov", "link": "https://stackoverflow.com/users/436938/sergey-glotov"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 2, "creation_date": 1538395418, "post_id": 52589320, "comment_id": 92116031, "body": "@zapl Java <i>can</i> access extension methods, but in form <code>PostTestItemViewModelExtensionKt.clicked(postTestItemViewMod&zwnj;&#8203;elInstance)</code>. Extension methods are static methods for Java."}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1538404237, "post_id": 52589320, "comment_id": 92121431, "body": "So actually <code>android:onClick=&quot;@{(view) -&gt; PostTestItemViewModelExtensionKt.clicked(viewModel, view)}&quot;</code> could work?"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1538404957, "post_id": 52589320, "comment_id": 92121885, "body": "look at this question: <a href=\"https://stackoverflow.com/questions/47868672/kotlin-java-util-date-to-string-for-databindings/47868894#47868894\" title=\"kotlin java util date to string for databindings\">stackoverflow.com/questions/47868672/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": false, "score": 5, "last_activity_date": 1538392101, "last_edit_date": 1538392101, "creation_date": 1538390926, "answer_id": 52589494, "question_id": 52589320, "link": "https://stackoverflow.com/questions/52589320/kotlin-databinding-with-extension-methods/52589494#52589494", "title": "Kotlin databinding with extension methods", "body": "<p>Unfortunately you can't use extension methods as <code>onClick</code> callbacks.</p>\n\n<p>Extension methods in Kotlin are created as Java static methods while the Android framework is expecting an instance method.</p>\n\n<p>Note that in Android Studio you can decompile the Kotlin classes as Java to see the generated Java code.</p>\n"}], "owner": {"reputation": 61, "user_id": 1994547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60dfc90e3826b49d83facac2fbaa218?s=128&d=identicon&r=PG", "display_name": "Milan Drossaerts", "link": "https://stackoverflow.com/users/1994547/milan-drossaerts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1714, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1538392101, "creation_date": 1538390273, "question_id": 52589320, "link": "https://stackoverflow.com/questions/52589320/kotlin-databinding-with-extension-methods", "title": "Kotlin databinding with extension methods", "body": "<p>I'm trying to use Kotlin extension methods inside Android's databinding. For example; calling an onclick handler. So I've made this code:</p>\n\n<p>posttest_list_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;data&gt;\n    &lt;import type=\"android.view.View\"/&gt;\n    &lt;import type=\"com.example.test.post.posttest.PostTestItemViewModelExtensionKt\" /&gt;\n    &lt;variable\n        name=\"viewModel\"\n        type=\"com.example.test.post.posttest.PostTestItemViewModel\" /&gt;\n&lt;/data&gt;\n&lt;RelativeLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:paddingLeft=\"16dp\"\n    android:paddingRight=\"16dp\"\n    android:clickable=\"true\"\n    android:onClick=\"@{(view) -&gt; viewModel.clicked(view)}\"\n    &gt;\n[...]\n</code></pre>\n\n<p>PostTestItemViewModel.kt</p>\n\n<pre><code>open class PostTestItemViewModel : ViewModel() {\n    val postTitle = MutableLiveData&lt;String&gt;()\n    val postBody = MutableLiveData&lt;String&gt;()\n\n   /**\n    * Binds the required properties/entities to this ViewModel\n    */\n   fun bind(post: Post) {\n       postTitle.value = post.title\n       postBody.value = post.body\n   }\n}\n</code></pre>\n\n<p>PostTestItemViewModelExtension.kt</p>\n\n<pre><code>fun PostTestItemViewModel.clicked(v: View) {\n    this.postTitle.value = \"clicked\"\n}\n</code></pre>\n\n<p>So when I place the clicked method inside the viewmodel, it works perfectly the way it should be. However, when I create it as an extension method, I get the following error on compilation:</p>\n\n<blockquote>\n  <p>e: [kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors.\n  cannot find method clicked(android.view.View) in class ...PostItemViewModel</p>\n</blockquote>\n\n<p>I've tried different things already, such as changing the <code>android:onclick</code> tag to <code>PostTestItemViewModelExtensionKt</code> instead of <code>viewModel</code>. Unfortunately all the things don't seem to work. So it looks like the extension method is getting generated after the databinding takes place. Is there a way around this or am I still doing something wrong? Or is it just not possible to bind extension methods?</p>\n\n<p>I'm using Kotlin version 1.2.71, gradle 3.2.0 and have the <code>databinding { enabled = true }</code> and <code>kapt { generateStubs = true }</code> added to my .gradle, and have the plugings <code>kotlin-android</code>, <code>kotlin-android-extensions</code> and <code>kotlin-kapt</code> defined.</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "java-compiler-api"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1538389856, "post_id": 52589143, "comment_id": 92113103, "body": "Are you having any <b>hardcoded string</b> which is too long?"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1538389994, "post_id": 52589143, "comment_id": 92113202, "body": "Good question, but no have"}, {"owner": {"reputation": 1575, "user_id": 9379617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1162b38c786fe77dca7987df0ac24851?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/9379617/ben"}, "edited": false, "score": 0, "creation_date": 1538390188, "post_id": 52589143, "comment_id": 92113309, "body": "Without seeing any of your code it&#39;s hard to do anything other than taking a guess at what might be potentially a possible problem. Currently all that we can see is that there is in all likelihood a String that is too large to be encoded, else you would not get the error message. How that String is built and why it exists... that&#39;s a question that we can not really answer. You might want to elaborate your question a bit further so we can see a bit further down the rabbit hole and help finding a solution :)"}, {"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1538390314, "post_id": 52589143, "comment_id": 92113379, "body": "There is a similar question on Russian SO. Proposed solution is to use <b>--debug</b> and <b>--stacktrace</b> build options to identify exact string"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 2047, "user_id": 7319704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nO22o.jpg?s=128&g=1", "display_name": "Abhinav Gupta", "link": "https://stackoverflow.com/users/7319704/abhinav-gupta"}, "edited": false, "score": 0, "creation_date": 1538390418, "post_id": 52589143, "comment_id": 92113435, "body": "@AbhinavGupta as I said in question I have now such a resource"}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1538390821, "post_id": 52589143, "comment_id": 92113632, "body": "copy paste your longest string to find if converted UTF-8 length is greater than 32767 also, convert it using UTF-16 to find out if length is greater than 2147483647. You can use <a href=\"https://www.browserling.com/tools/utf8-encode\" rel=\"nofollow noreferrer\">browserling.com/tools/utf8-encode</a> and <a href=\"https://www.browserling.com/tools/utf16-encode\" rel=\"nofollow noreferrer\">browserling.com/tools/utf16-encode</a>"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1538391588, "post_id": 52589143, "comment_id": 92113979, "body": "@Maxim, can you give me link, I understand Russian"}, {"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 1, "creation_date": 1538392355, "post_id": 52589143, "comment_id": 92114379, "body": "@TigranBabajanyan <a href=\"https://ru.stackoverflow.com/questions/847239/string-too-large-%D0%BF%D1%80%D0%B8-%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%86%D0%B8%D0%B8-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B2-android-studio\">here the thread</a> mentioned. As I understood the problem was in two different versions of a third-party library"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1538394294, "post_id": 52589143, "comment_id": 92115397, "body": "@Maxim after adding --debug and --stacktrace my error not appearing, don&#39;t know why"}, {"owner": {"reputation": 1048, "user_id": 1430669, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5NBzq.jpg?s=128&g=1", "display_name": "Kalu Khan Luhar", "link": "https://stackoverflow.com/users/1430669/kalu-khan-luhar"}, "edited": false, "score": 1, "creation_date": 1540982910, "post_id": 52589143, "comment_id": 93060153, "body": "I had encountered the same and fixed by clear the build cache. For more info: <a href=\"https://developer.android.com/studio/build/build-cache#clear_the_build_cache\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/&hellip;</a>"}, {"owner": {"reputation": 2269, "user_id": 1973391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae30a1e774892d1e469db82636262620?s=128&d=identicon&r=PG", "display_name": "sosite", "link": "https://stackoverflow.com/users/1973391/sosite"}, "reply_to_user": {"reputation": 1048, "user_id": 1430669, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5NBzq.jpg?s=128&g=1", "display_name": "Kalu Khan Luhar", "link": "https://stackoverflow.com/users/1430669/kalu-khan-luhar"}, "edited": false, "score": 2, "creation_date": 1543313277, "post_id": 52589143, "comment_id": 93863687, "body": "If someone are lazy and doesn&#39;t have to look for @Kalu Khan Luhar link for clean build cache just use in terminal: <code>.&#47;gradlew cleanBuildCache</code>"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 2269, "user_id": 1973391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae30a1e774892d1e469db82636262620?s=128&d=identicon&r=PG", "display_name": "sosite", "link": "https://stackoverflow.com/users/1973391/sosite"}, "edited": false, "score": 0, "creation_date": 1543317177, "post_id": 52589143, "comment_id": 93865932, "body": "@sosite if that helped you, its good, but problem  there is case when that doesn&#39;t help"}, {"owner": {"reputation": 1326, "user_id": 6225053, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/866995760112633/picture?type=large", "display_name": "a0x2", "link": "https://stackoverflow.com/users/6225053/a0x2"}, "edited": false, "score": 0, "creation_date": 1572694905, "post_id": 52589143, "comment_id": 103643271, "body": "is data binding enabled in your project"}, {"owner": {"reputation": 1326, "user_id": 6225053, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/866995760112633/picture?type=large", "display_name": "a0x2", "link": "https://stackoverflow.com/users/6225053/a0x2"}, "edited": false, "score": 0, "creation_date": 1572862182, "post_id": 52589143, "comment_id": 103679864, "body": "it will be helpful for others!!"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 1326, "user_id": 6225053, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/866995760112633/picture?type=large", "display_name": "a0x2", "link": "https://stackoverflow.com/users/6225053/a0x2"}, "edited": false, "score": 0, "creation_date": 1572867803, "post_id": 52589143, "comment_id": 103682510, "body": "@a2en, yes of course, but I don&#39;t remember"}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 4514238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0efb95b630c8897435f3df7e249254?s=128&d=identicon&r=PG&f=1", "display_name": "Karl Long", "link": "https://stackoverflow.com/users/4514238/karl-long"}, "is_accepted": false, "score": -4, "last_activity_date": 1548747647, "creation_date": 1548747647, "answer_id": 54416042, "question_id": 52589143, "link": "https://stackoverflow.com/questions/52589143/string-too-large-to-encode-using-utf-8-written-instead-as-string-too-large/54416042#54416042", "title": "String too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;", "body": "<p>Use gradle 3.2 version like 3.2.1 below.</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.2.1'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2598, "user_id": 8313205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T-jFpCYrNO4/AAAAAAAAAAI/AAAAAAAABDI/a-dXPHC6J0s/photo.jpg?sz=128", "display_name": "Mirza Ahmed Baig", "link": "https://stackoverflow.com/users/8313205/mirza-ahmed-baig"}, "is_accepted": false, "score": 1, "last_activity_date": 1595915756, "creation_date": 1595915756, "answer_id": 63127883, "question_id": 52589143, "link": "https://stackoverflow.com/questions/52589143/string-too-large-to-encode-using-utf-8-written-instead-as-string-too-large/63127883#63127883", "title": "String too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;", "body": "<p>Check your vector drawables there may be a big path. I came across same issue and i solved it by deleting big vector drawable it.</p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 9711680, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qZG3izC_dP8/AAAAAAAAAAI/AAAAAAAAAdM/SjWRtnDZIDU/photo.jpg?sz=128", "display_name": "Cube", "link": "https://stackoverflow.com/users/9711680/cube"}, "is_accepted": false, "score": 0, "last_activity_date": 1601550812, "creation_date": 1601550812, "answer_id": 64154225, "question_id": 52589143, "link": "https://stackoverflow.com/questions/52589143/string-too-large-to-encode-using-utf-8-written-instead-as-string-too-large/64154225#64154225", "title": "String too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;", "body": "<p>Run this in your terminal</p>\n<pre><code>./gradlew cleanBuildCache \n</code></pre>\n<p>(in my case I need to do this several times until it helps)</p>\n"}], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9309, "favorite_count": 0, "answer_count": 3, "score": 12, "last_activity_date": 1601550812, "creation_date": 1538389614, "question_id": 52589143, "link": "https://stackoverflow.com/questions/52589143/string-too-large-to-encode-using-utf-8-written-instead-as-string-too-large", "title": "String too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;", "body": "<p>Java compiler error: <code>string too large to encode using UTF-8 written instead as 'STRING_TOO_LARGE'</code>.</p>\n\n<p>I want to note, that there I have no long string and no one vector drawable that bigger than 32kb (biggest is 3.7kb).</p>\n\n<p>Gradle 3.2.0, build tool 28.0.3</p>\n\n<p>What can take a problem?</p>\n"}, {"tags": ["mongodb", "spring-boot", "kotlin", "spring-boot-test"], "comments": [{"owner": {"reputation": 429, "user_id": 5747715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7ff1e5192282918e890dd9d9c91258?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge C", "link": "https://stackoverflow.com/users/5747715/jorge-c"}, "edited": false, "score": 0, "creation_date": 1538391343, "post_id": 52588574, "comment_id": 92113862, "body": "check this: <a href=\"https://stackoverflow.com/questions/21386449/spring-data-and-mongodb-simple-roll-back-with-spring-within-transactional\" title=\"spring data and mongodb simple roll back with spring within transactional\">stackoverflow.com/questions/21386449/&hellip;</a> and <a href=\"https://spring.io/blog/2018/06/28/hands-on-mongodb-4-0-transactions-with-spring-data\" rel=\"nofollow noreferrer\">spring.io/blog/2018/06/28/&hellip;</a> it all depends on the versions you are using"}, {"owner": {"reputation": 10847, "user_id": 6572971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ag5U.jpg?s=128&g=1", "display_name": "Alien", "link": "https://stackoverflow.com/users/6572971/alien"}, "edited": false, "score": 1, "creation_date": 1538391881, "post_id": 52588574, "comment_id": 92114113, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37344471/failed-to-retrieve-platformtransactionmanager-for-transactional-test-for-test-c\">Failed to retrieve PlatformTransactionManager for @Transactional test for test context</a>"}, {"owner": {"reputation": 161, "user_id": 8484056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb2fd7082104235878f8b3047ed40010?s=128&d=identicon&r=PG&f=1", "display_name": "Urs", "link": "https://stackoverflow.com/users/8484056/urs"}, "edited": false, "score": 0, "creation_date": 1538460936, "post_id": 52588574, "comment_id": 92139844, "body": "So it\u2019s because Mongo has no transactions. Thanks!"}], "owner": {"reputation": 161, "user_id": 8484056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb2fd7082104235878f8b3047ed40010?s=128&d=identicon&r=PG&f=1", "display_name": "Urs", "link": "https://stackoverflow.com/users/8484056/urs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538387662, "creation_date": 1538387662, "question_id": 52588574, "link": "https://stackoverflow.com/questions/52588574/cant-use-transactional-in-spring-boot-test", "title": "Can&#39;t use @Transactional in Spring Boot Test", "body": "<p>I've created a simple application using Spring Boot, Kotlin &amp; Mongodb. Now I would like to use the @Transactional annotation in the test CustomerServiceIntegrationTest to make sure each test case rolls back any changes it did to the database.</p>\n\n<p>When I add @Transactional I get the message <code>Failed to retrieve PlatformTransactionManager for @Transactional test</code>.</p>\n\n<p>Writing to the db otherwise works fine.</p>\n\n<p>What did I miss?</p>\n\n<p><a href=\"https://github.com/urswiss/customer\" rel=\"nofollow noreferrer\">https://github.com/urswiss/customer</a></p>\n"}, {"tags": ["android", "kotlin", "timepicker"], "comments": [{"owner": {"reputation": 611, "user_id": 6098397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_BiJJno9DcY/AAAAAAAAAAI/AAAAAAAAACc/RAJGXe32T0w/photo.jpg?sz=128", "display_name": "Rashpal Singh", "link": "https://stackoverflow.com/users/6098397/rashpal-singh"}, "edited": false, "score": 0, "creation_date": 1538387099, "post_id": 52588282, "comment_id": 92111664, "body": "You have to create custom class for this, check this link- <a href=\"https://stackoverflow.com/questions/20214547/show-timepicker-with-minutes-intervals-in-android\" title=\"show timepicker with minutes intervals in android\">stackoverflow.com/questions/20214547/&hellip;</a>"}], "owner": {"reputation": 21, "user_id": 7686885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18d83c659f3f7ca94320b3eea07bdc1?s=128&d=identicon&r=PG&f=1", "display_name": "Javani shah", "link": "https://stackoverflow.com/users/7686885/javani-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 964, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1538390381, "creation_date": 1538386723, "last_edit_date": 1538390381, "question_id": 52588282, "link": "https://stackoverflow.com/questions/52588282/restrict-time-picker-for-time-selection-between-two-hours", "title": "Restrict time picker for time Selection between two hours", "body": "<pre><code>fun openTimePicker(){\n    mHour = c.get(Calendar.HOUR_OF_DAY)\n    mMinute = c.get(Calendar.MINUTE)\n    c.setTime(c.getTime());\n    // Launch Time Picker Dialog\n    val timePickerDialog = TimePickerDialog(this,\n            TimePickerDialog.OnTimeSetListener {\n                view, hourOfDay, minute -&gt;\n                hour = hourOfDay\n                minutes = minute\n                var timeSet = \"\"\n                if (hour &gt; 12) {\n                    hour -= 12\n                    timeSet = \"PM\"\n                } else if (hour === 0) {\n                    hour += 12\n                    timeSet = \"AM\"\n                } else if (hour === 12) {\n                    timeSet = \"PM\"\n                } else {\n                    timeSet = \"AM\"\n                }\n                if (minutes &lt; 10)\n                    min = \"0$minutes\"\n                else\n                    min = minutes.toString()\n                val date = StringBuilder()\n                date.append(hour).append(':')\n                        .append(min ).append(\" \").append(timeSet).toString()\n                Toast.makeText(this,date,Toast.LENGTH_LONG).show()\n               // txtTime.setText(hourOfDay.toString() + \":\" + minute)\n            },\n            mHour, mMinute, false)\n\n    timePickerDialog.show()\n}\n</code></pre>\n\n<p>I want to select a time from 10 am to 2 pm only and then select 4 pm to 8 pm in the time picker dialog.\nI added code but how to set range in time selection\nwhere I put minimum range and maximum range in it</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "edited": false, "score": 0, "creation_date": 1538397795, "post_id": 52590909, "comment_id": 92117442, "body": "This does not work either. The subscribe function inside the extension function says it requires a Consumer, not a Unit."}, {"owner": {"reputation": 1707, "user_id": 6440190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0xWL.png?s=128&g=1", "display_name": "Bal0r", "link": "https://stackoverflow.com/users/6440190/bal0r"}, "reply_to_user": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "edited": false, "score": 1, "creation_date": 1538398125, "post_id": 52590909, "comment_id": 92117651, "body": "Are you using the correct subscribe function? Because there is one which doesn&#39;t require a Consumer, instead it takes two functions. <a href=\"https://i.imgur.com/gBCNc4k.png\" rel=\"nofollow noreferrer\">i.imgur.com/gBCNc4k.png</a>"}, {"owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "edited": false, "score": 1, "creation_date": 1538399253, "post_id": 52590909, "comment_id": 92118321, "body": "The fact that I was passing it an ErrorConsumer instead of an Error function was causing the issue. Thanks. :)"}], "tags": [], "owner": {"reputation": 1707, "user_id": 6440190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0xWL.png?s=128&g=1", "display_name": "Bal0r", "link": "https://stackoverflow.com/users/6440190/bal0r"}, "is_accepted": true, "score": 5, "last_activity_date": 1538399294, "last_edit_date": 1538399294, "creation_date": 1538396110, "answer_id": 52590909, "question_id": 52587677, "link": "https://stackoverflow.com/questions/52587677/kotlin-extension-function-on-observablet-subscribe-does-not-work/52590909#52590909", "title": "Kotlin Extension Function on Observable&lt;T&gt;.subscribe does not work", "body": "<p>You are passing a parameter of type <code>Consumer</code> to the function. You need to pass a function for the lambda syntax to work. This would work the way you want to:</p>\n\n<pre><code>fun &lt;T&gt; Observable&lt;T&gt;.subscribeAndLogE(onNext: (it : T) -&gt; Unit): Disposable =\n        subscribe({ onNext(it) },{ throwable -&gt; Log(throwable) })\n</code></pre>\n\n<p>and use it like so:</p>\n\n<pre><code>observer.subscribeAndLogE { \n                //works\n           }\n</code></pre>\n"}], "owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 784, "favorite_count": 0, "accepted_answer_id": 52590909, "answer_count": 1, "score": 5, "last_activity_date": 1538399294, "creation_date": 1538384600, "last_edit_date": 1538394484, "question_id": 52587677, "link": "https://stackoverflow.com/questions/52587677/kotlin-extension-function-on-observablet-subscribe-does-not-work", "title": "Kotlin Extension Function on Observable&lt;T&gt;.subscribe does not work", "body": "<p>I'm trying to write an extension function for Observable.subscribe which automatically logs errors.</p>\n\n<pre><code>fun &lt;T&gt; Observable&lt;T&gt;.subscribeAndLogE(onNext: Consumer&lt;in T&gt;): Disposable =\n    subscribe(onNext, ErrorConsumer())\n</code></pre>\n\n<p>The ErrorConsumer works and presumably logs the error, but <code>subscribeAndLogE</code> does not accept lambdas like <code>.subscribe()</code> does.</p>\n\n<pre><code>observer.subscribe { \n                //works\n           }\n\nobserver.subscribeAndLogE { \n                //does not work\n           }\n</code></pre>\n\n<p>It says: </p>\n\n<p><a href=\"https://i.stack.imgur.com/E10l5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E10l5.png\" alt=\"error\"></a></p>\n\n<p>With that OnboardingScreen being whichever value <code>T</code> would normally be.</p>\n\n<p>I don't see the original <code>Consumer&lt;in T&gt;</code> in <code>Observable</code> doing anything special to accept lambdas. What am I doing wrong here? </p>\n"}, {"tags": ["android", "kotlin", "android-webview"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 2, "creation_date": 1538382543, "post_id": 52587163, "comment_id": 92109430, "body": "There is nothing difference between them  both are used to Enabled <code>JavaScript</code> in <code>WebView</code>"}, {"owner": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1538382750, "post_id": 52587163, "comment_id": 92109528, "body": "I got confused..."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1538382865, "post_id": 52587163, "comment_id": 92109595, "body": "that&#39;s what a thynthetic property is. <code>webSettings.javaScriptEnabled = true</code> is performing same code as <code>mWebView.getSettings().setJavaScriptEnabled(true)</code>. <code>mWebView.settings</code> as well as <code>webSettings.javaScriptEnabled</code> are both synthetic properties generated by Kotlin from <code>getSettings().</code> and <code>setJavaScriptEnabled</code> methods"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538383498, "post_id": 52587291, "comment_id": 92109878, "body": "so in kotlin, there is no setJavascriptEnabled() fun and javascriptEnabled variable used to set javascript. am I right?"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538383667, "post_id": 52587291, "comment_id": 92109949, "body": "No. Kotlin does provide <code>setJavascriptEnabled()</code> method, but it&#39;s treated as setter for setting <code>javaScriptEnabled</code> variable, so it can be accessed directly like your 1st point for setting variable. You&#39;re free to use both."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538383727, "post_id": 52587291, "comment_id": 92109981, "body": "It can be accessed directly unless you&#39;re having custom getters &amp; setters."}, {"owner": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538383735, "post_id": 52587291, "comment_id": 92109987, "body": "I am too weak in english. sorry for that... I almost got your point."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538383812, "post_id": 52587291, "comment_id": 92110029, "body": "No issues, feel free to ask anything, it&#39;s stack<b>overflow</b>.. we&#39;re all here to help."}, {"owner": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538397043, "post_id": 52587291, "comment_id": 92116987, "body": "one correction bro. mwebview.getsettings().setJavascriptEnabled(true) in kotlin. not in java, there is no semicolon"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538397750, "post_id": 52587291, "comment_id": 92117416, "body": "@c49 please check updated answer <i>(You can edit someone&#39;s answer too)</i>."}, {"owner": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538443950, "post_id": 52587291, "comment_id": 92136169, "body": "yes, this is what I am looking for. So I can use both of them, Not a problem. Thanks"}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 3, "last_activity_date": 1538397688, "last_edit_date": 1538397688, "creation_date": 1538382870, "answer_id": 52587291, "question_id": 52587163, "link": "https://stackoverflow.com/questions/52587163/how-to-set-setjavascriptenabled-in-android-webview-using-kotlin/52587291#52587291", "title": "how to set setjavascriptenabled in android webview using kotlin", "body": "<p>There is no difference between both.</p>\n\n<p><strong>Kotlin</strong> supports <strong>property access syntax</strong>, which means if you have declared one variable in Kotlin, it'll have it's <code>getters &amp; setters</code> by default <em>(No need to declare explicitly)</em>.</p>\n\n<p>You can also access <code>getters &amp; setters</code> by accessing variable directly,</p>\n\n<p>So, acessing <strong>setter method</strong> in kotlin :</p>\n\n<pre><code>mWebView.getSettings().setJavaScriptEnabled(true)\n</code></pre>\n\n<p>be like this if using <strong>property access syntax</strong>,</p>\n\n<pre><code>webSettings.javaScriptEnabled = true\n</code></pre>\n\n<p>More from <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p><strong>Conclusion:</strong></p>\n  \n  <p>Simply, </p>\n  \n  <p>if you assign variable in kotlin -> it will treated as <strong><code>setter</code></strong>\n  for that (in your case)</p>\n  \n  <p>if you access variable in kotlin -> it will treated as <strong><code>getter</code></strong>\n  for that</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "edited": false, "score": 0, "creation_date": 1538396965, "post_id": 52587345, "comment_id": 92116938, "body": "there is no semicolon at last bro. that&#39;s too kotlin"}], "tags": [], "owner": {"reputation": 21, "user_id": 5288010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKCQs.png?s=128&g=1", "display_name": "Mohamed Saleh", "link": "https://stackoverflow.com/users/5288010/mohamed-saleh"}, "is_accepted": false, "score": 0, "last_activity_date": 1538383081, "creation_date": 1538383081, "answer_id": 52587345, "question_id": 52587163, "link": "https://stackoverflow.com/questions/52587163/how-to-set-setjavascriptenabled-in-android-webview-using-kotlin/52587345#52587345", "title": "how to set setjavascriptenabled in android webview using kotlin", "body": "<p>First it will not different between writing a statement in android with java or kotlin .. both will make the same effect.\nFor using webSetting there is no different between both .. \nbut most of tutorials use the first one to get the Websetting object one then modify at as they want to enable or disable any webview setting instead of calling getSetting object every time they need it.\nYou can read more about Webiew in android from this article.</p>\n\n<p><a href=\"https://www.oreilly.com/library/view/building-hybrid-android/9781449361907/ch04.html\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/building-hybrid-android/9781449361907/ch04.html</a></p>\n"}], "owner": {"reputation": 1, "user_id": 9193539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b49fe4147f6566046dec7f2b869fea?s=128&d=identicon&r=PG&f=1", "display_name": "c49", "link": "https://stackoverflow.com/users/9193539/c49"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1476, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1594477060, "creation_date": 1538382300, "last_edit_date": 1538425238, "question_id": 52587163, "link": "https://stackoverflow.com/questions/52587163/how-to-set-setjavascriptenabled-in-android-webview-using-kotlin", "title": "how to set setjavascriptenabled in android webview using kotlin", "body": "<p>I am new in <code>Kotlin</code>, and while working on a <code>WebView</code> app. I found</p>\n\n<ol>\n<li><code>val webSettings = mWebView.settings\nwebSettings.javaScriptEnabled = true</code></li>\n</ol>\n\n<p>2.<code>mWebView.getSettings().setJavaScriptEnabled(true)</code></p>\n\n<p>1 and 2 are Kotlin statements</p>\n\n<p>What is the difference between these? which one is better to use?</p>\n\n<p>There is no detail explanation about these.</p>\n"}]