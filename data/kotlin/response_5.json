[{"tags": ["java", "for-loop", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1423691856, "post_id": 28465267, "comment_id": 45256277, "body": "yeah I&#39;m reading the interloop section (<a href=\"http://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html</a>) i do not think about &quot;others&quot; section"}, {"owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1423692014, "post_id": 28465267, "comment_id": 45256350, "body": "I did not know that word &#39;step&#39; maybe because of it i do not found on google :/"}, {"owner": {"reputation": 10192, "user_id": 2472820, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Yk9I5.jpg?s=128&g=1", "display_name": "Kon", "link": "https://stackoverflow.com/users/2472820/kon"}, "reply_to_user": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1423692074, "post_id": 28465267, "comment_id": 45256372, "body": "@ademar111190 No problem. If you don&#39;t have any other questions, you can mark this resolved by accepting the answer."}, {"owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1423692332, "post_id": 28465267, "comment_id": 45256514, "body": "yes. I&#39;m going to do it, just waiting the minimum time, the question was so fool that was solved in less time than the minimum of stackoverflow"}], "tags": [], "owner": {"reputation": 10192, "user_id": 2472820, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Yk9I5.jpg?s=128&g=1", "display_name": "Kon", "link": "https://stackoverflow.com/users/2472820/kon"}, "is_accepted": true, "score": 27, "last_activity_date": 1423691629, "creation_date": 1423691629, "answer_id": 28465267, "question_id": 28465245, "link": "https://stackoverflow.com/questions/28465245/kotlin-for-with-different-increment/28465267#28465267", "title": "Kotlin for with different increment", "body": "<pre><code>for (i in 1..4 step 2) print(i) // prints \"13\"\n</code></pre>\n\n<p>See here: <a href=\"http://kotlinlang.org/docs/reference/ranges.html\" rel=\"noreferrer\">http://kotlinlang.org/docs/reference/ranges.html</a></p>\n"}], "owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6225, "favorite_count": 2, "accepted_answer_id": 28465267, "answer_count": 1, "score": 23, "last_activity_date": 1489425997, "creation_date": 1423691536, "last_edit_date": 1489425997, "question_id": 28465245, "link": "https://stackoverflow.com/questions/28465245/kotlin-for-with-different-increment", "title": "Kotlin for with different increment", "body": "<p>Kotlin has the follow for</p>\n\n<pre><code>for (i in 0..10) {}\n</code></pre>\n\n<p>it is similar to Java</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {}\n</code></pre>\n\n<p>but how change the increment in kotlin to get something like it in java:</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i = i + 2) {}\n</code></pre>\n"}, {"tags": ["javascript", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "is_accepted": true, "score": 4, "last_activity_date": 1518704938, "last_edit_date": 1518704938, "creation_date": 1423475635, "answer_id": 28406953, "question_id": 28401523, "link": "https://stackoverflow.com/questions/28401523/how-do-you-call-javascript-delete-from-kotlin/28406953#28406953", "title": "How do you call JavaScript delete from Kotlin?", "body": "<p>For <code>delete</code> operator You can write:</p>\n\n<pre><code>external fun delete(p: dynamic): Boolean = noImpl\n//...\ndelete(thing[key])\n</code></pre>\n\n<p>For more convenient use I'd added some helpers:</p>\n\n<pre><code>fun delete(thing: dynamic, key: String) {\n  delete(thing[key])\n}\n\n// or\nfun String.deleteFrom(d: dynamic) {\n  delete(d[this])\n}\n\nfun test(a: Any, k: String) {\n    delete(a, k)\n    k.deleteFrom(a)\n    k deleteFrom a\n}\n</code></pre>\n\n<p>Note: using the delete operator is not a good practice and it'll leads to deoptimizations in JS VMs</p>\n"}], "owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 28406953, "answer_count": 1, "score": 1, "last_activity_date": 1518704938, "creation_date": 1423445487, "question_id": 28401523, "link": "https://stackoverflow.com/questions/28401523/how-do-you-call-javascript-delete-from-kotlin", "title": "How do you call JavaScript delete from Kotlin?", "body": "<p>I am working with a third party library from Kotlin and one of the things I must do is call <code>delete thing[key]</code> in order to remove an item from thing.  I am unable to figure out how to do this from Kotlin code.</p>\n\n<p>I did try <code>js(\"delete thing[key]\")</code>, but thing is a parameter to a function and is name-mangled by the Kotlin > JavaScript compiler so an exception is thrown when the line is executed.  I also tried <code>js(\"delete \") thing[key]</code> but unsurprisingly that didn't work either.</p>\n"}, {"tags": ["annotations", "kotlin"], "comments": [{"owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "edited": false, "score": 0, "creation_date": 1451797615, "post_id": 28398572, "comment_id": 56891972, "body": "My only question is Why are you using M10? There&#39;s a version 1 beta 4 out right now that should work better. You don&#39;t have to actually answer this. I was just surprised see a milestone release being used still."}], "answers": [{"comments": [{"owner": {"reputation": 1072, "user_id": 1730696, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ec28ba37b07a80f58b7bb81690eb626e?s=128&d=identicon&r=PG&f=1", "display_name": "ivstas", "link": "https://stackoverflow.com/users/1730696/ivstas"}, "edited": false, "score": 0, "creation_date": 1423484512, "post_id": 28398964, "comment_id": 45152851, "body": "the problem is not <b>Import</b> annotation, it works. The problem is that <b>spring</b> is trying to access default-constructor (which obviously fails) - which means it doesn&#39;t find any <b>annotated</b> non-default constructor."}], "tags": [], "owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "is_accepted": false, "score": 1, "last_activity_date": 1423427183, "creation_date": 1423427183, "answer_id": 28398964, "question_id": 28398572, "link": "https://stackoverflow.com/questions/28398572/is-it-possible-to-annotate-class-constructor-in-kotlin/28398964#28398964", "title": "Is it possible to annotate class constructor in Kotlin", "body": "<p>Try to write:</p>\n\n<pre><code>Configuration\npublic open class AppConfig [Import(javaClass&lt;DataSourceConfig&gt;())] (dataSource: DataSource) {\n//...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 705, "user_id": 2824661, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c729d449a2941cd090ba3be630399db?s=128&d=identicon&r=PG", "display_name": "jugglingcats", "link": "https://stackoverflow.com/users/2824661/jugglingcats"}, "edited": false, "score": 1, "creation_date": 1430054216, "post_id": 29250405, "comment_id": 47880344, "body": "This approach is not working for me. First the compiler complains that &quot;Primary constructor call is expected&quot;. Then if I add <code>this()</code> call to the constructor, it complains that &quot;Val cannot be reassigned&quot;. Using kotlin  version 0.11.91.1. Tx"}], "tags": [], "owner": {"reputation": 321, "user_id": 3445472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2718b299f0a1107e7685d8e112452a?s=128&d=identicon&r=PG&f=1", "display_name": "&#216;yvind B", "link": "https://stackoverflow.com/users/3445472/%c3%98yvind-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1427272981, "last_edit_date": 1427272981, "creation_date": 1427271057, "answer_id": 29250405, "question_id": 28398572, "link": "https://stackoverflow.com/questions/28398572/is-it-possible-to-annotate-class-constructor-in-kotlin/29250405#29250405", "title": "Is it possible to annotate class constructor in Kotlin", "body": "<p>This syntax works for me:</p>\n\n<pre><code>Configuration\nImport(javaClass&lt;DataSourceConfig&gt;())\npublic open class AppConfig {\n  private val dataSource: DataSource\n\n  Autowired constructor(dataSource: DataSource){\n    this.dataSource = dataSource\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "is_accepted": true, "score": 18, "last_activity_date": 1451768366, "creation_date": 1451768366, "answer_id": 34570667, "question_id": 28398572, "link": "https://stackoverflow.com/questions/28398572/is-it-possible-to-annotate-class-constructor-in-kotlin/34570667#34570667", "title": "Is it possible to annotate class constructor in Kotlin", "body": "<p>Hrm, I think the syntax has changed radically since this question was posted. The current way (according to the <a href=\"https://kotlinlang.org/docs/reference/classes.html\">docs</a>) is to add the keyword <code>constructor</code> between your class name and arguments and annotate <em>that</em>, i.e. </p>\n\n<pre><code>public class AppConfig @Configuration constructor(dataSource: DataSource) {\n    //...\n}\n</code></pre>\n"}], "owner": {"reputation": 1072, "user_id": 1730696, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ec28ba37b07a80f58b7bb81690eb626e?s=128&d=identicon&r=PG&f=1", "display_name": "ivstas", "link": "https://stackoverflow.com/users/1730696/ivstas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4181, "favorite_count": 0, "accepted_answer_id": 34570667, "answer_count": 3, "score": 8, "last_activity_date": 1451868551, "creation_date": 1423424903, "last_edit_date": 1451868551, "question_id": 28398572, "link": "https://stackoverflow.com/questions/28398572/is-it-possible-to-annotate-class-constructor-in-kotlin", "title": "Is it possible to annotate class constructor in Kotlin", "body": "<p><strong>Clarification</strong>\nThis questions was asked before <code>kotlin</code> hit version 1.0. Language syntax in example is obsolete now, please follow official docs.</p>\n\n<hr>\n\n<p>I'm playing with <strong>kotlin</strong> and <strong>spring DI</strong>.\nI want to use constructor-based dependency injection, so I need to annotate the constructor.</p>\n\n<p>I tried following approach:</p>\n\n<pre><code>Configuration\nImport(javaClass&lt;DataSourceConfig&gt;())\npublic open class AppConfig(dataSource: DataSource) {\n    private val dataSource: DataSource\n\n    Autowired {\n        this.dataSource = dataSource\n    }\n}\n\nConfiguration\npublic open class DataSourceConfig {\n\n    Bean\n    public open fun dataSource(): DataSource {\n        // source omitted\n    }\n</code></pre>\n\n<p>}</p>\n\n<h2>But it doesn't work. Is it even possible to annotate constructor in kotlin?</h2>\n\n<p>P.S. I'm using Kotlin M10.1 and Spring 4.1.4</p>\n\n<p><strong>UPDATE:</strong>\nAnnotating constructor is possible in kotlin. <strong>The problem was that it's not allowed to use constructor-based DI for @Configuration</strong></p>\n"}, {"tags": ["reflection", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 6, "creation_date": 1423397386, "post_id": 28391889, "comment_id": 45124076, "body": "AFAIK it&#39;s under development. Feel free to star or vote to related issue(<a href=\"https://youtrack.jetbrains.com/issue/KT-6570\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-6570</a>) to get updates."}, {"owner": {"reputation": 211, "user_id": 1974338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f905ed1b5c4e2c83da9f5c62bbe6ad2f?s=128&d=identicon&r=PG", "display_name": "fwilhe", "link": "https://stackoverflow.com/users/1974338/fwilhe"}, "reply_to_user": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1423406107, "post_id": 28391889, "comment_id": 45126545, "body": "Thanks, that answers my question. I can&#39;t find the button to &quot;accept&quot; you answer.."}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1423427990, "post_id": 28391889, "comment_id": 45133831, "body": "You are welcome! Comments cannot be marked."}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1423691103, "post_id": 28391889, "comment_id": 45255861, "body": "But you can upvote comment :)"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451568098, "post_id": 28391889, "comment_id": 56835727, "body": "This is possible, the issue mentioned above is fixed, and sample code is in an answer below."}], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 1974338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f905ed1b5c4e2c83da9f5c62bbe6ad2f?s=128&d=identicon&r=PG", "display_name": "fwilhe", "link": "https://stackoverflow.com/users/1974338/fwilhe"}, "edited": false, "score": 0, "creation_date": 1423510590, "post_id": 28398203, "comment_id": 45168865, "body": "That is not what I need, I want to iterate over the fields of classes (which may have any number of fields with names that I don&#39;t know), hence the question for a &quot;list&quot; (of any kind).."}, {"owner": {"reputation": 10180, "user_id": 477997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f68927a47e6002c246c5eca4252486?s=128&d=identicon&r=PG", "display_name": "Leonidos", "link": "https://stackoverflow.com/users/477997/leonidos"}, "reply_to_user": {"reputation": 211, "user_id": 1974338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f905ed1b5c4e2c83da9f5c62bbe6ad2f?s=128&d=identicon&r=PG", "display_name": "fwilhe", "link": "https://stackoverflow.com/users/1974338/fwilhe"}, "edited": false, "score": 0, "creation_date": 1423556421, "post_id": 28398203, "comment_id": 45185647, "body": "there is getFields method, a moment )"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452132242, "post_id": 28398203, "comment_id": 57038128, "body": "Kotlin reflection can do this much more easily, what the question is asking for..."}], "tags": [], "owner": {"reputation": 10180, "user_id": 477997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f68927a47e6002c246c5eca4252486?s=128&d=identicon&r=PG", "display_name": "Leonidos", "link": "https://stackoverflow.com/users/477997/leonidos"}, "is_accepted": false, "score": 1, "last_activity_date": 1423557602, "last_edit_date": 1423557602, "creation_date": 1423422899, "answer_id": 28398203, "question_id": 28391889, "link": "https://stackoverflow.com/questions/28391889/kotlin-reflection-get-list-of-fields/28398203#28398203", "title": "kotlin reflection get list of fields", "body": "<p>You can't do this in Kotlin, but there is a dirty unreliable way to do this in java. You can use java reflection. Like this:</p>\n\n<pre><code>public class TestClass {\n\n    trait EmptyTrait\n    class EmptyClass\n\n    public var anotherVar:Int? = null\n    public val contant:Float = 10f\n    private var emptyTrait:EmptyTrait? = null\n    val emptyClass:EmptyClass = EmptyClass()\n\n    public fun setVal(fieldName: String, value: Int) {\n        javaClass.getDeclaredField(fieldName).set(this, value);\n    }\n\n    public fun getFieldNames(): String {\n        return javaClass.getDeclaredFields().map{it.getName()}.join(\", \")\n    }    \n}\n</code></pre>\n\n<p>Let's test it:</p>\n\n<pre><code>val t = TestClass()\nLog.v(\"MainActivity\", \"Fields: \" + t.getFieldNames())\nLog.v(\"MainActivity\", \"anotherVar: \" + t.anotherVar)\nt.setVal(\"anotherVar\", 10)\nLog.v(\"MainActivity\", \"anotherVar: \" + t.anotherVar)\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>Fields: anotherVar, emptyClass, emptyTrait, contant, $kotlinClass\nanotherVar: null\nanotherVar: 10\n</code></pre>\n\n<p>it works ) </p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 19, "last_activity_date": 1451568074, "creation_date": 1451568074, "answer_id": 34547103, "question_id": 28391889, "link": "https://stackoverflow.com/questions/28391889/kotlin-reflection-get-list-of-fields/34547103#34547103", "title": "kotlin reflection get list of fields", "body": "<p>Did you want fields as-in \"backing field\" or fields as in \"properties\"  ... Kotlin really only has properties.  You can get these for some class using:</p>\n\n\n\n<pre><code>MyTest::class.memberProperties\n\n// or \n\nMyTest::class.declaredMemberProperties\n</code></pre>\n\n<p>And from a Java <code>Class&lt;T&gt;</code>, use the <code>kotlin</code> extension property to get the Kotlin <code>KClass&lt;T&gt;</code> from which you can proceed:</p>\n\n<pre><code>someClassOfMine.javaClass.kotlin.memberProperties\n</code></pre>\n\n<p>This requires the <code>kotlin-reflect</code> dependency as well to be added to your build and classpath.  You'll find many other useful things on <code>KClass</code> </p>\n\n<p>For the secret backing fields behind a property, use Java reflection at your own risk.</p>\n"}, {"tags": [], "owner": {"reputation": 2237, "user_id": 724913, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f6f2a65981b2dea4091355d2d3dd7b59?s=128&d=identicon&r=PG", "display_name": "arkoak", "link": "https://stackoverflow.com/users/724913/arkoak"}, "is_accepted": false, "score": 3, "last_activity_date": 1496547301, "last_edit_date": 1496547301, "creation_date": 1496478281, "answer_id": 44341954, "question_id": 28391889, "link": "https://stackoverflow.com/questions/28391889/kotlin-reflection-get-list-of-fields/44341954#44341954", "title": "kotlin reflection get list of fields", "body": "<p>Very easy now with Kotlin v1.1, You can use the following method to get the fields in kotlin</p>\n\n<pre><code>val fields = MyClass.javaClass.kotlin.members\n</code></pre>\n\n<p>Where MyClass is the class of your choice.</p>\n\n<p>In order to use this you need to have kotlin-reflect included in your gradle build file as below</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n</code></pre>\n\n<p>Additionally, it is also possible to get the fields from the javaClass directly if you need java fields (useful in some cases as these cover a slightly different scope)</p>\n\n<pre><code>val fields = MyClass.javaClass.declaredFields\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "is_accepted": false, "score": 2, "last_activity_date": 1559236318, "last_edit_date": 1559236318, "creation_date": 1559231102, "answer_id": 56381478, "question_id": 28391889, "link": "https://stackoverflow.com/questions/28391889/kotlin-reflection-get-list-of-fields/56381478#56381478", "title": "kotlin reflection get list of fields", "body": "<p>There is a method in <em>Kotlin</em> that works without  having to add a new dependency in a project:</p>\n\n<p>Suppose a custom class called <code>Mine</code> </p>\n\n<pre><code>class Mine(var prop:String) {\n    fun myMethod():Boolean {\n        return true\n    }\n}\n</code></pre>\n\n<p>A new user function called <code>isMethod</code></p>\n\n<pre><code>fun isMethod(t:Any, s:String):Boolean {\ntry  {\n    t.javaClass.getMethod(s)   // or t::class.java.getMethod(s)\n    return true\n  } catch(e:Exception)  {\n    return false\n  }    \n}\n</code></pre>\n\n<p>After one declares an <code>Mine</code> instance and test it.</p>\n\n<pre><code>fun main() {\n  var m = Mine(\"Paulo\")  \n  println(isMethod(m, \"myMethod\"))  // it prints true\n  println(isMethod(m, \"otherMethod\"))  // it prints false\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 1726271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/630e96d5c12635fe9f2758e5d68f6f08?s=128&d=identicon&r=PG", "display_name": "WilliaGuy", "link": "https://stackoverflow.com/users/1726271/williaguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1616255337, "creation_date": 1616255337, "answer_id": 66723525, "question_id": 28391889, "link": "https://stackoverflow.com/questions/28391889/kotlin-reflection-get-list-of-fields/66723525#66723525", "title": "kotlin reflection get list of fields", "body": "<p>like this:</p>\n<pre><code>  User::class.memberProperties.forEach { member -&gt;\n        log.i(&quot;${member.name} -&gt; ${member.get(this)}&quot;)\n    }\n</code></pre>\n<p>It works very well</p>\n"}, {"tags": [], "owner": {"reputation": 1163, "user_id": 2630728, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uIluB.jpg?s=128&g=1", "display_name": "Vikash Parajuli", "link": "https://stackoverflow.com/users/2630728/vikash-parajuli"}, "is_accepted": false, "score": 0, "last_activity_date": 1618985349, "creation_date": 1618985349, "answer_id": 67190152, "question_id": 28391889, "link": "https://stackoverflow.com/questions/28391889/kotlin-reflection-get-list-of-fields/67190152#67190152", "title": "kotlin reflection get list of fields", "body": "<p>Simple answer</p>\n<p>In you build.gradle (app) file</p>\n<pre><code>implementation(&quot;org.jetbrains.kotlin:kotlin-reflect:$kotlin_version&quot;)\n</code></pre>\n<p>And then</p>\n<pre><code>val fields = YourClass::class.declaredMemberProperties\nfor (i in fields){\n    Log.e(&quot;Fields ===&quot;, i.name)\n}\n</code></pre>\n<p>Cheers!!!</p>\n"}], "owner": {"reputation": 211, "user_id": 1974338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f905ed1b5c4e2c83da9f5c62bbe6ad2f?s=128&d=identicon&r=PG", "display_name": "fwilhe", "link": "https://stackoverflow.com/users/1974338/fwilhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21558, "favorite_count": 3, "answer_count": 6, "score": 21, "last_activity_date": 1618985349, "creation_date": 1423382744, "question_id": 28391889, "link": "https://stackoverflow.com/questions/28391889/kotlin-reflection-get-list-of-fields", "title": "kotlin reflection get list of fields", "body": "<p>is there an equivalent for the java reflection <code>foo.getClass().getFields()</code> in Kotlin? I could only find that I can access a field when I know it's name, but I would like to handle fields in a generic way.</p>\n"}, {"tags": ["maven", "kotlin"], "comments": [{"owner": {"reputation": 40432, "user_id": 1807667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/976dc9df3ea3d05a18e90f0cd9c29b7a?s=128&d=identicon&r=PG", "display_name": "Ortomala Lokni", "link": "https://stackoverflow.com/users/1807667/ortomala-lokni"}, "edited": false, "score": 0, "creation_date": 1431285250, "post_id": 28389275, "comment_id": 48418282, "body": "Can you post your pom.xml ?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451568209, "post_id": 28389275, "comment_id": 56835754, "body": "This is purely a maven question, maybe generalizing it to be maven only, or adding the Java tag, would help bring in an audience that can help.  Also, a simplified version of your pom.xml to give more kontext is useful."}, {"owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "edited": false, "score": 0, "creation_date": 1451583355, "post_id": 28389275, "comment_id": 56841701, "body": "Sadly I haven&#39;t worked in Kotlin for some time no so I no longer have the pom.xml.  :/"}], "owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1431285176, "creation_date": 1423356227, "last_edit_date": 1431285176, "question_id": 28389275, "link": "https://stackoverflow.com/questions/28389275/how-do-i-do-post-compile-bundling-in-maven", "title": "How do I do post-compile bundling in Maven?", "body": "<p>I have a maven project that contains some Kotlin source files and some web resources (HTML/CSS).  During the compile phase, the Kotlin source is compiled to JavaScript and ends up in the build output location, along with some other folders that I am not familiar with.</p>\n\n<p>I would like a build step that occurs after the compile is finished that will copy my resources and compiled output and dependencies (kotlin.js) into a folder with the correct hierarchy that I deploy or debug.</p>\n\n<p>I know how to copy the resources into the build output folder, but the build output folder appears to have some other files in it that are auto-generated by maven which I do not want to deploy.</p>\n\n<p>Ideally, I would also like the clean phase to delete this destination directory.</p>\n"}, {"tags": ["maven", "intellij-idea", "kotlin", "intellij-14"], "comments": [{"owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "edited": false, "score": 2, "creation_date": 1423362439, "post_id": 28389201, "comment_id": 45117218, "body": "If you down-vote, please indicate what the problem with the question is so I can improve it."}, {"owner": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 0, "creation_date": 1423370683, "post_id": 28389201, "comment_id": 45118640, "body": "I didn&#39;t downvote, but perhaps you might add the relevant <code>kotlin-maven-plugin</code> snippet from your POM."}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 1, "creation_date": 1423397739, "post_id": 28389201, "comment_id": 45124165, "body": "Looks like bug, please create an issue about it in <a href=\"https://youtrack.jetbrains.com/newIssue?project=KT\" rel=\"nofollow noreferrer\">the tracker</a> with simple example. Thanks!"}, {"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1423729927, "post_id": 28389201, "comment_id": 45269341, "body": "In fact, there is such an issue already: <a href=\"https://youtrack.jetbrains.com/issue/KT-6749\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-6749</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1451568462, "post_id": 28389201, "comment_id": 56835844, "body": "The final comments from the issue linked by @AndreyBreslav are in the answer below, it is resolved or there is an alternative."}], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 1, "last_activity_date": 1451568438, "creation_date": 1451568438, "answer_id": 34547169, "question_id": 28389201, "link": "https://stackoverflow.com/questions/28389201/how-do-i-make-intellij-respect-maven-kotlin-plugin-output-directory/34547169#34547169", "title": "How do I make IntelliJ respect Maven Kotlin plugin output directory?", "body": "<p>This looks resolved, or that there is another option.  From the issue mentioned in comments to the question (<a href=\"https://youtrack.jetbrains.com/issue/KT-6749\" rel=\"nofollow\">https://youtrack.jetbrains.com/issue/KT-6749</a>):</p>\n\n<blockquote>\n  <p>When you import maven project in IntelliJ, if \"Use Maven output directories\" is selected, then the output path will be set to ${project.build.outputDirectory}, which is by default is ${project.build.directory}/classes (see <a href=\"http://maven.apache.org/pom.html\" rel=\"nofollow\">http://maven.apache.org/pom.html</a> for details).</p>\n  \n  <p>The following should work:</p>\n</blockquote>\n\n<pre><code>&lt;build&gt;\n    &lt;outputDirectory&gt;${project.build.directory}/js&lt;/outputDirectory&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n\n<blockquote>\n  <p>For now the default value for parameter <code>outputFile</code> (<code>kotlin-maven-plugin, goal:js</code>) is <code>${project.build.directory}/js/${project.artifactId}.js</code>.</p>\n  \n  <p>It seems it should be changed to  <code>${project.build.outputDirectory}/${project.artifactId}.js</code> (commit <a href=\"https://github.com/JetBrains/kotlin/commit/0b35989367291e88568567a293ed7224f809d605\" rel=\"nofollow\">https://github.com/JetBrains/kotlin/commit/0b35989367291e88568567a293ed7224f809d605</a>)</p>\n</blockquote>\n"}], "owner": {"reputation": 5319, "user_id": 879046, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c0b2bfa28a2c809735b4209cbfcd357d?s=128&d=identicon&r=PG", "display_name": "Micah Zoltu", "link": "https://stackoverflow.com/users/879046/micah-zoltu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 34547169, "answer_count": 1, "score": 0, "last_activity_date": 1505301646, "creation_date": 1423355763, "last_edit_date": 1505301646, "question_id": 28389201, "link": "https://stackoverflow.com/questions/28389201/how-do-i-make-intellij-respect-maven-kotlin-plugin-output-directory", "title": "How do I make IntelliJ respect Maven Kotlin plugin output directory?", "body": "<p>I am writing Kotlin and compiling to JavaScript.  I also have some HTML/CSS resources.  I have a Maven project setup that copies my HTML resources to the build directory and the <code>kotlin-maven-plugin</code> has its <code>outputFile</code> location set to be a subdirectory of the output directory (<code>${project.build.directory}/js/${project.artifactId}.js</code>).  When building with maven this behaves exactly as expected and my output directory contains my compiled JavaScript file in the <code>js</code> folder and my HTML/CSS files in the appropriate places.</p>\n\n<p>When I import the project into IntelliJ however, it doesn't respect the <code>outputFile</code> location set in the pom.xml and instead drops my generated JavScript file into <code>target\\classes</code>.</p>\n\n<p>I can fix this after import by going into <code>Project Structure &gt; Project Settings &gt; Modules &gt; Paths &gt; Compiler Output &gt; Output Path</code> and changing it to <code>target\\js</code> but I would like to be able to setup the pom.xml in such a way that this step is unnecessary.</p>\n\n<p>On a related note, why does setting the output path not result in my HTML/CSS files getting dropped into <code>target\\js</code>?  It would seem that the output path isn't being respected by the <code>resource</code> copy.</p>\n\n<p>Edit: Here is the pom.xml excert:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;js&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;js&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputFile&gt;${project.build.directory}/js/${project.artifactId}.js&lt;/outputFile&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 3, "creation_date": 1451703782, "post_id": 28362677, "comment_id": 56868066, "body": "CAn you please update the code sample to use the current annotation syntax of <code>@Inject</code> and <code>@Named(&quot;bold&quot;)</code>"}, {"owner": {"reputation": 8433, "user_id": 1456931, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5b9a171ecc501424c4fb4fa166fe0cf?s=128&d=identicon&r=PG", "display_name": "Damian Petla", "link": "https://stackoverflow.com/users/1456931/damian-petla"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1504514144, "post_id": 28362677, "comment_id": 79026193, "body": "@JaysonMinard I would but what exactly is wrong with it? I see similar approach in Kotlin&#39;s docs <a href=\"http://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1505336886, "post_id": 28362677, "comment_id": 79377092, "body": "You already did the edit (Jan 5) after my comment to the correct format."}], "tags": [], "owner": {"reputation": 8433, "user_id": 1456931, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5b9a171ecc501424c4fb4fa166fe0cf?s=128&d=identicon&r=PG", "display_name": "Damian Petla", "link": "https://stackoverflow.com/users/1456931/damian-petla"}, "is_accepted": true, "score": 35, "last_activity_date": 1451990228, "last_edit_date": 1451990228, "creation_date": 1423215487, "answer_id": 28362677, "question_id": 28362676, "link": "https://stackoverflow.com/questions/28362676/how-to-use-daggers-2-named-qualifier-in-kotlin/28362677#28362677", "title": "How to use Dagger&#39;s 2 @Named qualifier in Kotlin", "body": "<p>I had to update my answer since Kotlin improved a lot. Right now I am using Kotlin 1.0 beta 3</p>\n\n<p>To properly set multiple annotations for a property you have to use <code>@field</code> annotation:</p>\n\n<pre><code>@field:[Inject Named(\"bold\")]\nlateinit var boldTypeface: Typeface\n</code></pre>\n\n<p>Note that I am using <code>lateinit</code> here so there is no need to use nullable type <code>Typeface?</code></p>\n"}], "owner": {"reputation": 8433, "user_id": 1456931, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5b9a171ecc501424c4fb4fa166fe0cf?s=128&d=identicon&r=PG", "display_name": "Damian Petla", "link": "https://stackoverflow.com/users/1456931/damian-petla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2124, "favorite_count": 0, "accepted_answer_id": 28362677, "answer_count": 1, "score": 15, "last_activity_date": 1451990228, "creation_date": 1423215487, "question_id": 28362676, "link": "https://stackoverflow.com/questions/28362676/how-to-use-daggers-2-named-qualifier-in-kotlin", "title": "How to use Dagger&#39;s 2 @Named qualifier in Kotlin", "body": "<p>Recently I had a problem with <code>@Named</code> qualifier in Kotlin. I thought that changing from this:</p>\n\n<pre><code>var boldTypeface: Typeface? = null\n[Inject] set\n</code></pre>\n\n<p>into this</p>\n\n<pre><code>var boldTypeface: Typeface? = null\n[Inject Named(\"bold\")] set\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var boldTypeface: Typeface? = null\n[Inject] [Named(\"bold\")] set\n</code></pre>\n\n<p>would solve my problem. But it didn't, it's not even compiling.</p>\n"}, {"tags": ["aop", "kotlin"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1423217081, "post_id": 28356317, "comment_id": 45068064, "body": "I&#39;m guessing that any AOP tooling that works on Java binaries works on Kotlin binaries as well, but I never tried it."}, {"owner": {"reputation": 2507, "user_id": 769097, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ee769c59ea4469d8251105086b4b6cee?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/769097/alex"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1423249361, "post_id": 28356317, "comment_id": 45086220, "body": "I tried it (they all work), but I found some of the limitations of existing libraries (cglib) to be frustrating for Kotlin developer who adopted Kotlin programming style. In order to test Kotlin I wrote a simple website (classic 3-tier architecture) with Spring MVC + Freemarker + JDBC + Spring TX (Transaction Management). It works as a charm."}, {"owner": {"reputation": 2507, "user_id": 769097, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ee769c59ea4469d8251105086b4b6cee?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/769097/alex"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1423250706, "post_id": 28356317, "comment_id": 45086865, "body": "Oh, and by the way - AOP libraries are extensively used by application developers. It usually includes but not limited to: establishing logging, profiling, exception translation, retries with backoff, transaction management etc. etc. So I feel that it&#39;d be nice in future to have more intuitive style of establishing AOP proxies in Kotlin - it might be a super useful feature. Legacy ways of doing that imply serious trade offs - performance (java interface proxies) or expressiveness (cglib)"}, {"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1453463935, "post_id": 28356317, "comment_id": 57623593, "body": "@AndreyBreslav I ran in to some issues with CGLib backed AOP, raised an issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-10759\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-10759</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2507, "user_id": 769097, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ee769c59ea4469d8251105086b4b6cee?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/769097/alex"}, "edited": false, "score": 0, "creation_date": 1423640534, "post_id": 28380857, "comment_id": 45226096, "body": "Sorry for the late reply. The problem that I had with cglib and compile time weaving is non-trivially generated constructors in Kotlin classes (I used invoke-style constructor). After unsuccessfully trying to fix couple strange errors I gave up and started using JDK interface-style proxies as they require only traits (they are equivalent to java interfaces). Thanks for suggestion anyways."}, {"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 0, "creation_date": 1440848891, "post_id": 28380857, "comment_id": 52449019, "body": "Spring only uses dynamic proxies for interfaces. For concrete classes CGLib is used - essentially load-time weaving, since at the point a class to be loaded a runtime generated instrumented sub-class is emitted. And of course Spring can also be instructed to use AspectJ weaving, instead of dynamic proxies + CGLib."}], "tags": [], "owner": {"reputation": 49359, "user_id": 1082681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45ea14ad7f04aa78ce58cb2b52234f5b?s=128&d=identicon&r=PG", "display_name": "kriegaex", "link": "https://stackoverflow.com/users/1082681/kriegaex"}, "is_accepted": false, "score": 1, "last_activity_date": 1423916629, "last_edit_date": 1423916629, "creation_date": 1423303722, "answer_id": 28380857, "question_id": 28356317, "link": "https://stackoverflow.com/questions/28356317/aop-with-kotlin/28380857#28380857", "title": "AOP with Kotlin", "body": "<p>I am not a Kotlin user, but given the fact that it is targetting the JVM I would suggest trying full-blown AspectJ instead of a proxy-based \"AOP lite\" approach like Spring AOP. AspectJ does not need/use dynamic proxies, it generates byte code, either during compile time or after compilation (binary weaving) or even during class-loading (load-time weaving).</p>\n"}], "owner": {"reputation": 2507, "user_id": 769097, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ee769c59ea4469d8251105086b4b6cee?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/769097/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4241, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1423916629, "creation_date": 1423180827, "last_edit_date": 1423181273, "question_id": 28356317, "link": "https://stackoverflow.com/questions/28356317/aop-with-kotlin", "title": "AOP with Kotlin", "body": "<p>I used AOP a lot with Java. It looks like that traditional java approaches can easily be reused with Kotlin. Given Kotlin emphasis on immutability JDK proxies seem to be the most feasible solution in Kotlin provided that you're following the same interface-first (better say trait-first in Kotlin) programming style, e.g.:</p>\n\n<pre><code>trait MyService {\n fun add(a: Int, b: Int): Int\n}\n\nclass MyServiceImpl: MyService {...}\n</code></pre>\n\n<p>So now one can easily write an aspect in, say, Spring/AOP and apply it to the instances of MyServiceImpl. It should be mentioned that Java interface-based generated proxies may be more favored by Kotlin developers as cglib requires to get rid of final (i.e. resort to open classes in Kotlin) and use parameterless public constructors for every class which should be wrapped by AOP proxies.</p>\n\n<p>At the same time Java interface-based generated proxies unfortunately impose significant performance penalty so I'm wondering if AOP programming can be done more intuitively or natively to Kotlin in some cases.</p>\n\n<p>So, consider the following example, when I want to use AOP for:</p>\n\n<ul>\n<li>Logging arguments and return result of each method exposed from a service.</li>\n<li>Starting transaction before function call and closing it after function call completes (commit/rollback depending on whether or not an exception has been thrown while making a particular service call).</li>\n</ul>\n\n<p>The most effective but unfortunately the most verbose brute-force solution in the aforementioned example with MyService/MyServiceImpl might look as follows:</p>\n\n<pre><code>class MyServiceLoggingWrapper(val delegate: MyService): MyService {\n  val logger = LoggerFactory.getLogger(this.javaClass)\n\n  override fun add(a: Int, b: Int): Int {\n    val result = delegate.add(a, b);\n    logger.info(\"MyService.add({}, {}) = {}\", a, b, result);\n    return result;\n  }\n} \n\nclass MyServiceTxWrapper(val delegate: MyService, val txManager: TransactionManager): MyService {\n // similar lengthy implementation\n}\n</code></pre>\n\n<p>The LoC complexity of that approach is O(N*K) where N is a number of method and K is a number of aspects that I want to apply.</p>\n\n<p>So what I'm looking is a possible effective (both in terms of performance and LoC) solution for aspects in Kotlin preferrably without resorting to cglib-generated proxies as they impose too many limitations like saying goodbye to final classes and not having parameterless public constructors.</p>\n"}]