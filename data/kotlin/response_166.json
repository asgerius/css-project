[{"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1521072254, "post_id": 49289474, "comment_id": 85582200, "body": "I am also struggling here because I can&#39;t see the SQL query which caused the error."}, {"owner": {"reputation": 193, "user_id": 4061331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fcc9a25d39ca58d323118db6b7ebeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Feltimo", "link": "https://stackoverflow.com/users/4061331/joshua-feltimo"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1521073283, "post_id": 49289474, "comment_id": 85582460, "body": "@TimBiegeleisen whoops one sec, it&#39;s in the error, I&#39;ll post it"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1521098977, "post_id": 49289474, "comment_id": 85589699, "body": "Could you add the error stacktrace please?"}], "owner": {"reputation": 193, "user_id": 4061331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fcc9a25d39ca58d323118db6b7ebeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Feltimo", "link": "https://stackoverflow.com/users/4061331/joshua-feltimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521075399, "creation_date": 1521071941, "last_edit_date": 1521073331, "question_id": 49289474, "link": "https://stackoverflow.com/questions/49289474/sqliteexception-near-while-saving-image-android", "title": "SQLiteException near &quot;.&quot; while saving image Android", "body": "<p>Yes, another SQLiteException, I did search around, I swear.</p>\n\n<p>Anyway I've an Android app that takes pictures and saves them to a custom folder in DCIM. When saving the picture, I get an SQLiteException near \".\". </p>\n\n<p>Really struggling to find the error here.</p>\n\n<p>Here's the method setting up the file:</p>\n\n<pre><code>reader = ImageReader.newInstance(largest.width, largest.height, ImageFormat.JPEG, 2).apply {\n            setOnImageAvailableListener({\n                // todo 2018/02/21 -- refactor this into separate method for readability\n                val pathId = \"${Environment.getExternalStorageDirectory()}/${Environment.DIRECTORY_DCIM}/\"\n                val folderId = File(pathId, \"G6Camera\")\n                if (!folderId.exists()) {\n                    if (!folderId.mkdirs()) {\n                        Log.e(\"ERR\", \"Failed to create album folder\")\n                    } else {\n                        Log.d(\"SUCC\", \"Album folder created successfully\")\n                    }\n                }\n\n                val ts = SimpleDateFormat(\"yyyyMMdd_HHmmss\", Locale.getDefault()).format(Date())\n                val imgFile = File(folderId, \"$ts.jpg\")\n\n                val cv = ContentValues()\n                cv.put(MediaStore.Images.Media.TITLE, \"$ts.jpg\")\n                cv.put(MediaStore.Images.Media.DATE_TAKEN, System.currentTimeMillis())\n                cv.put(MediaStore.Images.Media.ORIENTATION, 0) // not accurate\n                cv.put(MediaStore.Images.Media.CONTENT_TYPE, \"image/jpeg\")\n                cv.put(\"_data\", imgFile.absolutePath)\n                debugLog(\"aah\", cv.toString())\n                contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, cv)\n                backgroundHandler?.post(ImageSaver(it.acquireNextImage(), imgFile))\n            }, backgroundHandler)\n</code></pre>\n\n<p>Edit: The error which (I think) contains the actual SQL command:</p>\n\n<pre><code>INSERT INTO files(bucket_id,vnd.android.cursor.dir/image,datetaken,bucket_display_name,parent,format,storage_id,mime_type,media_type,_data,title,date_added,orientation,_display_name) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)\n\nbucket_id=-1617409521 vnd.android.cursor.dir/image=image/jpeg datetaken=1521071678705 bucket_display_name=Pictures parent=6 format=14337 storage_id=65537 mime_type=image/jpeg media_type=1 _data=/storage/emulated/0/Pictures/1521071678713.jpg title=20180314_235438.jpg date_added=1521071678 orientation=0 _display_name=1521071678713.jpg\n</code></pre>\n"}, {"tags": ["java", "maven", "jar", "kotlin", "executable-jar"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1521067438, "post_id": 49288764, "comment_id": 85580756, "body": "<code>THEFILEKT</code> \u2013 the Kotlin file facade class names end with <code>Kt</code>, not <code>KT</code>. Please try to replace <code>THEFILEKT</code> with <code>THEFILEKt</code> throughout the POM."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1521098655, "post_id": 49288764, "comment_id": 85589558, "body": "The file name does not matter to much. The content is more important. What is <code>CsiidGenerator</code>? How does the generated manifest look like?"}, {"owner": {"reputation": 93, "user_id": 8564869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVCrc.png?s=128&g=1", "display_name": "Deividas Duda", "link": "https://stackoverflow.com/users/8564869/deividas-duda"}, "edited": false, "score": 0, "creation_date": 1521111686, "post_id": 49288764, "comment_id": 85597191, "body": "Manifest file:  <code>Manifest-Version: 1.0 Archiver-Version: Plexus Archiver Built-By: deividas Created-By: Apache Maven 3.5.0 Build-Jdk: 1.8.0_131 Main-Class: THEFILE</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6301, "user_id": 526635, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/612faad93df3c59c019cd7a7e8614318?s=128&d=identicon&r=PG", "display_name": "Abhinav Manchanda", "link": "https://stackoverflow.com/users/526635/abhinav-manchanda"}, "edited": false, "score": 0, "creation_date": 1531151899, "post_id": 51249623, "comment_id": 89478125, "body": "If you have your security beans in java, do keep your main class in java too, and vice versa. I haven&#39;t researched into the underlying reasons, but having written all of my security related code in java, it worked only after I renamed the kotlin folder to java, and moved my application class to java. Models etc are written in kotlin, but they continue to work."}], "tags": [], "owner": {"reputation": 6301, "user_id": 526635, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/612faad93df3c59c019cd7a7e8614318?s=128&d=identicon&r=PG", "display_name": "Abhinav Manchanda", "link": "https://stackoverflow.com/users/526635/abhinav-manchanda"}, "is_accepted": false, "score": 1, "last_activity_date": 1531151894, "creation_date": 1531151894, "answer_id": 51249623, "question_id": 49288764, "link": "https://stackoverflow.com/questions/49288764/kotlin-maven-can-not-find-main-class-when-running-packaged-jar/51249623#51249623", "title": "Kotlin + Maven can not find main class when running packaged jar", "body": "<p>There are some issues when you have both java and kotlin code. I noticed the following - </p>\n\n<ul>\n<li><p>If I had a folder called src/main/java, then the main class needed to be written in Java.</p></li>\n<li><p>If I had a folder called src/main/kotlin, then the main class needed to be written in kotlin.</p></li>\n</ul>\n\n<p>I did not try with both java and kotlin source folders.</p>\n\n<p>I would suggest that you move all your java code to the kotlin folder. It will still work. Perhaps when there is a java folder, it expects the main class to be in java? Not sure.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2343421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0126266a4b4a1ec465586fb75900e1b1?s=128&d=identicon&r=PG", "display_name": "Roy.L", "link": "https://stackoverflow.com/users/2343421/roy-l"}, "is_accepted": false, "score": -1, "last_activity_date": 1545549364, "creation_date": 1545549364, "answer_id": 53901899, "question_id": 49288764, "link": "https://stackoverflow.com/questions/49288764/kotlin-maven-can-not-find-main-class-when-running-packaged-jar/53901899#53901899", "title": "Kotlin + Maven can not find main class when running packaged jar", "body": "<p>I had the same problem until I deleted maven-compiler-plugin. pom.xml build block:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;!-- lombok --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.16.8.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;delombok&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;!-- instead of default compiler --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;source&gt;src/main/java&lt;/source&gt;\n                            &lt;source&gt;src/main/kotlin&lt;/source&gt;\n                            &lt;source&gt;target/generated-sources/annotations&lt;/source&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;source&gt;src/test/java&lt;/source&gt;\n                            &lt;source&gt;src/test/kotlin&lt;/source&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 8564869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVCrc.png?s=128&g=1", "display_name": "Deividas Duda", "link": "https://stackoverflow.com/users/8564869/deividas-duda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3238, "favorite_count": 2, "answer_count": 2, "score": 5, "last_activity_date": 1545549364, "creation_date": 1521067210, "last_edit_date": 1521105813, "question_id": 49288764, "link": "https://stackoverflow.com/questions/49288764/kotlin-maven-can-not-find-main-class-when-running-packaged-jar", "title": "Kotlin + Maven can not find main class when running packaged jar", "body": "<p>I am trying to package(maven package) and run(java -jar file.jar) a project that contains both java and kotlin code. I have followed the tutorial at: <a href=\"https://michaelrice.com/2016/08/hello-world-with-kotlin-and-maven/\" rel=\"noreferrer\">https://michaelrice.com/2016/08/hello-world-with-kotlin-and-maven/</a></p>\n\n<p><code>kotlin source src/main/kotlin\njava source src/main/java</code></p>\n\n<p>the file I am trying to run is located in <code>src/main/kotlin/THEFILE.kt</code></p>\n\n<p>After succesfull packaging trying to run the jar I get an error <code>\nError: Could not find or load main class THEFILEKt</code></p>\n\n<p>What can be the reason for this and how to fix it?</p>\n\n<p>Thanks in advance!!!</p>\n\n<p>Pom.xml includes a necessary kotlin plugins and dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;source&gt;src/main/java&lt;/source&gt;\n                            &lt;source&gt;src/main/kotlin&lt;/source&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;testCompile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;testCompile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;testCompile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n\n\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;\n                            THEFILEKt\n\n                        &lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;\n                                    THEFILEKt\n                                &lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 75, "user_id": 5948010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e3kHl.jpg?s=128&g=1", "display_name": "Raisul Islam", "link": "https://stackoverflow.com/users/5948010/raisul-islam"}, "edited": false, "score": 0, "creation_date": 1521071469, "post_id": 49288650, "comment_id": 85581977, "body": "Duplicate of &gt; <a href=\"https://stackoverflow.com/questions/47079113/android-studio-3-0-execution-failed-for-task-unable-to-merge-dex/48531191#48531191\" title=\"android studio 3 0 execution failed for task unable to merge dex\">stackoverflow.com/questions/47079113/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1761, "user_id": 474986, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c66bbd221e47d9a68977bffc9441a58a?s=128&d=identicon&r=PG", "display_name": "ruben", "link": "https://stackoverflow.com/users/474986/ruben"}, "is_accepted": false, "score": 0, "last_activity_date": 1521071695, "creation_date": 1521071695, "answer_id": 49289433, "question_id": 49288650, "link": "https://stackoverflow.com/questions/49288650/unable-to-merge-dex-in-android-studio-when-building-app/49289433#49289433", "title": "Unable to merge dex in Android Studio when building app", "body": "<p>For me it happened due to using dependencies with mixed versions. Try changing them to same version..</p>\n"}, {"comments": [{"owner": {"reputation": 7814, "user_id": 1939564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a4INA.jpg?s=128&g=1", "display_name": "Muhammad Babar", "link": "https://stackoverflow.com/users/1939564/muhammad-babar"}, "edited": false, "score": 0, "creation_date": 1521093968, "post_id": 49291830, "comment_id": 85587619, "body": "This must be a comment, please avoid posting answers, which are mere suggestion."}], "tags": [], "owner": {"reputation": 125, "user_id": 6712837, "user_type": "registered", "profile_image": "https://graph.facebook.com/1154747104582087/picture?type=large", "display_name": "Daryl Sze", "link": "https://stackoverflow.com/users/6712837/daryl-sze"}, "is_accepted": false, "score": 0, "last_activity_date": 1521089467, "creation_date": 1521089467, "answer_id": 49291830, "question_id": 49288650, "link": "https://stackoverflow.com/questions/49288650/unable-to-merge-dex-in-android-studio-when-building-app/49291830#49291830", "title": "Unable to merge dex in Android Studio when building app", "body": "<p>Have you tried to clean build and build a again?</p>\n"}], "owner": {"reputation": 1, "user_id": 8678475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1OsrBVMlMjE/AAAAAAAAAAI/AAAAAAAAeRE/wZAFs9wKImE/photo.jpg?sz=128", "display_name": "Marcus Twichel", "link": "https://stackoverflow.com/users/8678475/marcus-twichel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521089467, "creation_date": 1521066602, "question_id": 49288650, "link": "https://stackoverflow.com/questions/49288650/unable-to-merge-dex-in-android-studio-when-building-app", "title": "Unable to merge dex in Android Studio when building app", "body": "<p>I am receiving this error in Android Studio:</p>\n\n<pre><code>Error:Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n&gt; com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\n</code></pre>\n\n<p>With this app gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.3\"\n    defaultConfig {\n        applicationId \"com.example.android.kotlintest\"\n        minSdkVersion 23\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation \"com.android.support:appcompat-v7:$supportVersion\"\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation \"com.android.support:design:$supportVersion\"\n    implementation \"com.android.support:support-v13:$supportVersion\"\n\n    testCompile 'junit:junit:4.12'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n    implementation 'com.github.bumptech.glide:glide:3.8.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>Also, the <code>$supportVersion</code> is = <code>'26.+'</code></p>\n\n<p>I cannot figure out what configuration is causing this. I have tried clean &amp; rebuild, and I added <code>multiDexEnabled true</code> and nothing has worked.</p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["android", "firebase", "search", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 425, "user_id": 9422034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0FlA.jpg?s=128&g=1", "display_name": "Egor Egorov", "link": "https://stackoverflow.com/users/9422034/egor-egorov"}, "edited": false, "score": 1, "creation_date": 1521065639, "post_id": 49288423, "comment_id": 85580063, "body": "try <code>child(&quot;Developers&quot;)</code> not &quot;Developer&quot;"}, {"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "reply_to_user": {"reputation": 425, "user_id": 9422034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0FlA.jpg?s=128&g=1", "display_name": "Egor Egorov", "link": "https://stackoverflow.com/users/9422034/egor-egorov"}, "edited": false, "score": 0, "creation_date": 1521092838, "post_id": 49288423, "comment_id": 85587201, "body": "yes i write the correct(developers), the error just in this image&gt;&gt;&gt; thank you, but i don&#39;t need just all country, i need all data in column when country=&quot;france&quot;, i mean all data (dcountry, ddesc,dimage,dgender....etc)"}], "answers": [{"comments": [{"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521092944, "post_id": 49288460, "comment_id": 85587235, "body": "thank you, but i don&#39;t need just all country, i need all data in column when country=&quot;france&quot;, i mean all data (dcountry, ddesc,dimage,dgender....etc)"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521094906, "post_id": 49288460, "comment_id": 85587975, "body": "Yes use the above query and inside ondatachange retrieve the other data"}, {"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521118082, "post_id": 49288460, "comment_id": 85601404, "body": "it is wooooork, thank you very much brother, from where can i found  the best  tutorial about query in firebase"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521118276, "post_id": 49288460, "comment_id": 85601527, "body": "@user4399890 just check the documentations and search here on stackoverflow, you will find everything, check this also <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/android/com/google/fireba&zwnj;&#8203;se/&hellip;</a>"}, {"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521185175, "post_id": 49288460, "comment_id": 85631772, "body": "please this code is just return the one Column? but i need all column where (dountry= &quot;France&quot;)? where is the problem"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521185374, "post_id": 49288460, "comment_id": 85631864, "body": "@user4399890 see this as an example: <a href=\"https://stackoverflow.com/questions/34378547/firebase-retrieving-elements\" title=\"firebase retrieving elements\">stackoverflow.com/questions/34378547/&hellip;</a>"}, {"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521185480, "post_id": 49288460, "comment_id": 85631915, "body": "how can i do that please?"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521185641, "post_id": 49288460, "comment_id": 85631974, "body": "@user4399890 please check the link, it is the same but instead of the query there, use the query I provided to you here in the answer"}, {"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521187048, "post_id": 49288460, "comment_id": 85632617, "body": "i don&#39;t think that, i use as here: override fun onDataChange(p0: DataSnapshot?) {                         devData.clear()                         val td = p0?.value as HashMap&lt;*, <i>&gt;?                           for(keys in td.keys){                     val row = td[keys] as HashMap&lt;</i>, *&gt;                          devData.add(Developers(row[&quot;dimage&quot;].toString(), row[&quot;dname&quot;].toString(),                                 null, row[&quot;dcountry&quot;].toString(), null,                                 row[&quot;dspic&quot;].toString(), null,                                 null, null, row[&quot;did&quot;].toString())) }"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521187457, "post_id": 49288460, "comment_id": 85632795, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/166942/discussion-between-peter-haddad-and-user4399890\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": true, "score": 4, "last_activity_date": 1521065644, "creation_date": 1521065644, "answer_id": 49288460, "question_id": 49288423, "link": "https://stackoverflow.com/questions/49288423/search-data-from-firebase-in-android/49288460#49288460", "title": "search data from Firebase in Android", "body": "<p>You can do this:</p>\n\n<pre><code>MyFirebase.db.child(\"Developers\").orderByChild(\"dcountry\").equalTo(\"France\").addValueEventListener(object:ValueEventListener{\n</code></pre>\n\n<p>which will give you all countries that are equal to france</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13061087, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjS4iXxMnEsaQXGMbGg1E1GNB746QgrZ4E9XZPu=k-s128", "display_name": "mirza furqaan", "link": "https://stackoverflow.com/users/13061087/mirza-furqaan"}, "is_accepted": false, "score": 0, "last_activity_date": 1584181042, "creation_date": 1584181042, "answer_id": 60681695, "question_id": 49288423, "link": "https://stackoverflow.com/questions/49288423/search-data-from-firebase-in-android/60681695#60681695", "title": "search data from Firebase in Android", "body": "<p>I have written query using kotlin. But it will help you</p>\n\n<pre><code>    val query = FirebaseDatabase.getInstance()\n        .getReference()  \n        .child(\"Developers\")  \n        .orderByChild(\"dcountry\")\n        .equalTo(\"france\")\n        .limitToFirst(50)\n</code></pre>\n"}], "owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "accepted_answer_id": 49288460, "answer_count": 2, "score": 2, "last_activity_date": 1584181042, "creation_date": 1521065410, "last_edit_date": 1521152583, "question_id": 49288423, "link": "https://stackoverflow.com/questions/49288423/search-data-from-firebase-in-android", "title": "search data from Firebase in Android", "body": "<p>please i am trying to search the all column that (dcountry =\"France\") as example, as illustrated in picture:\n<img src=\"https://i.stack.imgur.com/XnnJQ.png\" alt=\"enter image description here\"></p>\n\n<p>i try that code, but not work:</p>\n\n<pre><code> MyFirebase.db.child(\"Developer\").orderByChild(\"dcountry\")\n            .startAt(\"France\")\n            .endAt(\"France\"+ \"\\ufbff\")\n            .addValueEventListener(object:ValueEventListener{\n\n        override fun onDataChange(p0: DataSnapshot?) {\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-dokka", "kdoc"], "answers": [{"comments": [{"owner": {"reputation": 1012, "user_id": 3934789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75fd741413808af5f876df9ba2582bd?s=128&d=identicon&r=PG", "display_name": "Cliabhach", "link": "https://stackoverflow.com/users/3934789/cliabhach"}, "edited": false, "score": 0, "creation_date": 1536011151, "post_id": 49287319, "comment_id": 91263265, "body": "Correct me if I&#39;m wrong, but based on <a href=\"https://github.com/Kotlin/dokka/blob/c2afb34/core/src/main/kotlin/Markdown/MarkdownProcessor.kt#L52\" rel=\"nofollow noreferrer\">github.com/Kotlin/dokka/blob/c2afb34/core/src/main/kotlin/&hellip;</a> it looks like Dokka defaults to CommonMark."}], "tags": [], "owner": {"reputation": 577, "user_id": 410579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb1e2716f8a9b4aff5bd3458962ae2a?s=128&d=identicon&r=PG", "display_name": "kocka", "link": "https://stackoverflow.com/users/410579/kocka"}, "is_accepted": false, "score": 1, "last_activity_date": 1521060764, "last_edit_date": 1521060764, "creation_date": 1521060296, "answer_id": 49287319, "question_id": 49287076, "link": "https://stackoverflow.com/questions/49287076/how-do-i-make-a-nested-list-in-dokka/49287319#49287319", "title": "How do I make a nested list in Dokka?", "body": "<p>Dokka uses markdown, which has some forks and flavors and not standardized at all, but this works:</p>\n\n<pre><code>/**\n * list:\n * - item1\n * - item2\n *\n * numbered:\n * 1. one\n * 2. two\n */\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yhSUO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yhSUO.png\" alt=\"this is what it will look like\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 7, "last_activity_date": 1521112647, "last_edit_date": 1521112647, "creation_date": 1521066852, "answer_id": 49288701, "question_id": 49287076, "link": "https://stackoverflow.com/questions/49287076/how-do-i-make-a-nested-list-in-dokka/49288701#49288701", "title": "How do I make a nested list in Dokka?", "body": "<p>As far as I can see, nesting with additional indentation of four spaces works:</p>\n\n<pre><code>/**\n * 1. A numbered list.\n *     * With a bulleted sublist.\n * 1. Where the numbers continue correctly at the top level of the list.\n */\nval foo: Int = 0\n</code></pre>\n\n<p>The result is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MKhtg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MKhtg.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1521112647, "creation_date": 1521059209, "question_id": 49287076, "link": "https://stackoverflow.com/questions/49287076/how-do-i-make-a-nested-list-in-dokka", "title": "How do I make a nested list in Dokka?", "body": "<p>Trying to document some Kotlin code with a pretty routine structure:</p>\n\n<ol>\n<li>A numbered list.\n\n<ul>\n<li>With a bulleted sublist.</li>\n</ul></li>\n<li>Where the numbers continue correctly at the top level of the list.</li>\n</ol>\n\n<p>What I take to be the <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"nofollow noreferrer\">official Dokka page</a> doesn't even have the word \"list\" on the page. Have Googled hither and yon without finding any info on how to do this. Help!</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin", "gradle-kotlin-dsl"], "owner": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 707, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1521147065, "creation_date": 1521054882, "last_edit_date": 1521147065, "question_id": 49286002, "link": "https://stackoverflow.com/questions/49286002/buildsrc-folder-to-organize-an-android-kotlin-project-dependencies-metadata", "title": "buildSrc folder to organize an Android/Kotlin project dependencies/metadata", "body": "<p>Following Google's recommendation of using extra properties to share them through your project, I came across a nice solution based on buildSrc + Kotlin gradle script for my Android/Kotlin projects. This solution provides me very nice advantages comparing to the other classic approach of having multiple Groovy written <code>build.gradle</code> files per module (plus the root one) with their dependencies, parameters. The main ones are:</p>\n\n<ul>\n<li>Using kotlin syntax.</li>\n<li>Compilation errors.</li>\n<li>Auto-completion.</li>\n<li>Click support (navigate to definition)</li>\n<li>Centralize gradle files metadata information in one file.</li>\n</ul>\n\n<p>Check <a href=\"https://handstandsam.com/2018/02/11/kotlin-buildsrc-for-better-gradle-dependency-management/\" rel=\"nofollow noreferrer\">this article</a> for more information.</p>\n\n<p>If I'm not wrong, Kotlin-dsl team members recommend to use IntelliJ for it, and the integration with Android Studio doesn't seem to be fully completed, since I still see some Kotlin gradle script code highlighted in red. However, it compiles well. Weird thing is if I clone for example the <a href=\"https://github.com/StylingAndroid/Prefekt/tree/master/buildSrc\" rel=\"nofollow noreferrer\">Prefekt repository</a> I'm able to see the <code>build.gradle.kts</code> content perfectly without red marks after a gradle sync. I've almost done everything (sync gradle, invalidate cache, remove cache, same gradle wrapper, etc) in my project to vanish those marks without any success. Here are some side questions:</p>\n\n<ol>\n<li>What am I doing wrong? What should I do to remove those red marks?</li>\n<li>Although I like this approach, one thing I'll miss a lot is the outdated dependency check highlight in the gradle file which suggests there's a new x.y.x version of the library. Is there any way to get it work with this approach?</li>\n<li>Is there any way to use <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.Project.html#N14A8D\" rel=\"nofollow noreferrer\">gradle project properties</a> from within the buildSrc Kotlin classes? for example it's very common to work with property files (e.g <em>version.properties</em>) and gradle properties like <code>rootDir</code> are very helpful to get their path. We could use <code>Paths.get(\"\").toAbsolutePath().toString()</code> for that purpose, but it's not a clean solution.</li>\n<li>What do you generally think about this approach?</li>\n</ol>\n"}, {"tags": ["http", "servlets", "kotlin"], "comments": [{"owner": {"reputation": 21, "user_id": 7959954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1KOCoE2tOeY/AAAAAAAAAAI/AAAAAAAAFcc/zqJhLpclQAQ/photo.jpg?sz=128", "display_name": "Akanksha Mehrotra", "link": "https://stackoverflow.com/users/7959954/akanksha-mehrotra"}, "edited": false, "score": 0, "creation_date": 1521049902, "post_id": 49284611, "comment_id": 85572009, "body": "I am using application/json as content-type"}], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 7184820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/80f03a632c534998829ea44b3197d195?s=128&d=identicon&r=PG&f=1", "display_name": "Danil", "link": "https://stackoverflow.com/users/7184820/danil"}, "is_accepted": false, "score": 1, "last_activity_date": 1521053422, "creation_date": 1521053422, "answer_id": 49285625, "question_id": 49284611, "link": "https://stackoverflow.com/questions/49284611/kotlin-httpservletrequest-object-to-string/49285625#49285625", "title": "kotlin httpservletrequest object to string", "body": "<p>1) Your code might look better if you rewrite it like this:</p>\n\n<pre><code>private fun getBody(request: HttpServletRequest): String = request\n    .inputStream.bufferedReader().use { it.readText() }\n</code></pre>\n\n<p>2) Your problem is not in this code, because it works!</p>\n"}], "owner": {"reputation": 21, "user_id": 7959954, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1KOCoE2tOeY/AAAAAAAAAAI/AAAAAAAAFcc/zqJhLpclQAQ/photo.jpg?sz=128", "display_name": "Akanksha Mehrotra", "link": "https://stackoverflow.com/users/7959954/akanksha-mehrotra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521053422, "creation_date": 1521049879, "last_edit_date": 1521051233, "question_id": 49284611, "link": "https://stackoverflow.com/questions/49284611/kotlin-httpservletrequest-object-to-string", "title": "kotlin httpservletrequest object to string", "body": "<p>When converting http servlet request object to string, I am always getting a \"\" string. This is my code.</p>\n\n<pre><code>private fun getBody(request: HttpServletRequest): String {\n    var inputAsString = \"\"\n    try {\n        var inputStream: InputStream  = request.inputStream\n        if (inputStream != null) {\n            inputAsString = inputStream.bufferedReader().use { it.readText() }\n        }\n    } catch (ex: IOException) {\n        throw ex\n    }\n    return inputAsString\n}\n</code></pre>\n"}, {"tags": ["java", "inheritance", "kotlin", "protected", "kotlin-interop"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1521048924, "post_id": 49284094, "comment_id": 85571420, "body": "It&#39;s really surprising to me it&#39;s possible in Java."}, {"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 3, "creation_date": 1521048951, "post_id": 49284094, "comment_id": 85571434, "body": "B is protected and function is public, the error makes sense, not sure why Java didnt warned early."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 1, "creation_date": 1521052912, "post_id": 49284094, "comment_id": 85573751, "body": "I think this is the definitive proof that we live in a simulation"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1521061452, "post_id": 49284094, "comment_id": 85578177, "body": "I think you should use the <code>internal</code> keyword, as I laid out in my answer. This lets you use B in you module, but it is not accessible from outside."}, {"owner": {"reputation": 191, "user_id": 4544102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M2AyHs0dl_c/AAAAAAAAAAI/AAAAAAAABPM/TkGhimuHJRU/photo.jpg?sz=128", "display_name": "Nikolay Romanov", "link": "https://stackoverflow.com/users/4544102/nikolay-romanov"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1521098574, "post_id": 49284094, "comment_id": 85589525, "body": "@leoderprofi Unfortunately, in my case there is an appropriate Spring AmqpAppender class, written in java. So there is no &#39;use internal&#39; option for me"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1521097618, "post_id": 49287402, "comment_id": 85589120, "body": "But there is no &quot;<code>protected static class B</code> in Kotlin&quot; in the question: it is inherited from the Java <code>A</code> class."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1521117084, "post_id": 49287402, "comment_id": 85600710, "body": "I see, unfortunately I don&#39;t think it is possible to extend <code>A</code> in Kotlin, see my update"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 1, "creation_date": 1521136184, "post_id": 49287402, "comment_id": 85614395, "body": "This seems rather bogus to me; with Java, a subclass can reference a protected static inner class in the super class (e.g. in an overridden method parameter) with no problems. Surely Kotlin should do the same so that Kotlin users can interoperate with existing Java libraries, without forcing those libraries to make changes &quot;just&quot; for Kotlin compatibility."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1521136700, "post_id": 49287402, "comment_id": 85614703, "body": "Maybe this will change, but looking at the threads (e.g. <a href=\"https://discuss.kotlinlang.org/t/kotlin-to-support-package-protected-visibility/1544\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a> ) they seem pretty fond of their opinion. Maybe they will introduce something for this specific case in a later release."}, {"owner": {"reputation": 191, "user_id": 4544102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M2AyHs0dl_c/AAAAAAAAAAI/AAAAAAAABPM/TkGhimuHJRU/photo.jpg?sz=128", "display_name": "Nikolay Romanov", "link": "https://stackoverflow.com/users/4544102/nikolay-romanov"}, "edited": false, "score": 1, "creation_date": 1521199354, "post_id": 49287402, "comment_id": 85640061, "body": "@leoderprofi I had a short conversation with <a href=\"https://stackoverflow.com/users/1051598/roman-elizarov\">Roman Elizarov</a> yesterday. The conclusion is: &quot;no way&quot;."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 191, "user_id": 4544102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M2AyHs0dl_c/AAAAAAAAAAI/AAAAAAAABPM/TkGhimuHJRU/photo.jpg?sz=128", "display_name": "Nikolay Romanov", "link": "https://stackoverflow.com/users/4544102/nikolay-romanov"}, "edited": false, "score": 0, "creation_date": 1521248381, "post_id": 49287402, "comment_id": 85664898, "body": "@NikolayRomanov &quot;no way&quot; that this will change? Or no way to do it in Kotlin? (both is what I think, too, looking at the facts)"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 2, "last_activity_date": 1521453344, "last_edit_date": 1521453344, "creation_date": 1521060652, "answer_id": 49287402, "question_id": 49284094, "link": "https://stackoverflow.com/questions/49284094/inheritance-from-java-class-with-a-public-method-accepting-a-protected-class-in/49287402#49287402", "title": "Inheritance from Java class with a public method accepting a protected class in Kotlin", "body": "<p>There is <strong>no way to resolve this</strong> in Kotlin, and here is why:</p>\n\n<p>The difference is that <code>protected</code> actually means something subtly different in Kotlin than in Java.</p>\n\n<p><code>protected</code> in <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">Kotlin</a> means: </p>\n\n<blockquote>\n  <p><strong>kotlin protected:</strong> same as private (visible inside the file containing the declaration) + visible in subclasses too;</p>\n</blockquote>\n\n<p><code>protected</code> in <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">Java</a> means: </p>\n\n<blockquote>\n  <p><strong>java protected</strong>: the member can only be accessed within its own package (as with package-private) and, in addition, by a subclass of its class in another package.</p>\n</blockquote>\n\n<p>And with this knowledge the issue should be clear, the <code>protected static class B</code> in Kotlin is more like <code>private static class B</code> in Java. Therefore the warning is correct.</p>\n\n<p>The <a href=\"http://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#variant-generics\" rel=\"nofollow noreferrer\">Kotlin-Java Interop</a> guide specifically states:</p>\n\n<blockquote>\n  <p><code>protected</code> remains <code>protected</code> (note that Java allows accessing protected members from other classes in the same package and Kotlin doesn't, so <strong>Java classes will have broader access to the code</strong>);</p>\n</blockquote>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>This means that Kotlin interprets the <code>Java-protected</code> as if it was a Kotlin-<code>protected</code> ergo there is no way to implement the <code>class K</code> in Kotlin as it is. The least you must do to make it work is create <code>C extends A</code> (in Java) that handles all public access of <code>B</code> and then extend this class in Kotlin. Like in this issue <a href=\"https://discuss.kotlinlang.org/t/calling-protected-static-methods/947\" rel=\"nofollow noreferrer\">Calling protected static methods</a></p>\n\n<p>The culprit: </p>\n\n<p>The main problem is Javas behaviour of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">static nested classes</a>, which </p>\n\n<blockquote>\n  <p>interacts with the instance members of its outer class (and other classes) just like any other top-level class. <strong>In effect, a static nested class is behaviorally a top-level class that has been nested in another top-level class for packaging convenience</strong>. </p>\n</blockquote>\n\n<p>This <em>convenient</em> behaviour creates the problem in the first place.</p>\n\n<p>Side note:</p>\n\n<p>Probably the better match for Java-<code>protected</code> is Kotlins <code>internal</code> which provides a better level of encapsulation.</p>\n\n<blockquote>\n  <p><strong>kotlin internal:</strong> any client inside this module who sees the declaring class sees its internal members;</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 4544102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M2AyHs0dl_c/AAAAAAAAAAI/AAAAAAAABPM/TkGhimuHJRU/photo.jpg?sz=128", "display_name": "Nikolay Romanov", "link": "https://stackoverflow.com/users/4544102/nikolay-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1521444068, "creation_date": 1521444068, "answer_id": 49357639, "question_id": 49284094, "link": "https://stackoverflow.com/questions/49284094/inheritance-from-java-class-with-a-public-method-accepting-a-protected-class-in/49357639#49357639", "title": "Inheritance from Java class with a public method accepting a protected class in Kotlin", "body": "<p>Well, after all, the conclusion is: there is no way to solve this situation in pure Kotlin.</p>\n\n<p>I hope that AmqpAppender.Event will become public in the nearest future.</p>\n\n<p>Even if Java allows that behaviour, having no-public arguments in public methods seems like a bad design for me (also for the developers of Kotlin).</p>\n"}], "owner": {"reputation": 191, "user_id": 4544102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M2AyHs0dl_c/AAAAAAAAAAI/AAAAAAAABPM/TkGhimuHJRU/photo.jpg?sz=128", "display_name": "Nikolay Romanov", "link": "https://stackoverflow.com/users/4544102/nikolay-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 49357639, "answer_count": 2, "score": 8, "last_activity_date": 1521453344, "creation_date": 1521048208, "last_edit_date": 1521120087, "question_id": 49284094, "link": "https://stackoverflow.com/questions/49284094/inheritance-from-java-class-with-a-public-method-accepting-a-protected-class-in", "title": "Inheritance from Java class with a public method accepting a protected class in Kotlin", "body": "<p>I have this situation:\nThere are a Java class </p>\n\n<pre><code>public class A {\n\n    public void overrideMe(B param){\n        //TODO: override me in Kotlin!\n    }\n\n    protected static class B {\n\n    }\n}\n</code></pre>\n\n<p>and a Kotlin class, which inherits from it and has to override method \"overrideMe\"</p>\n\n<pre><code>class K: A() {\n    override fun overrideMe(param: B) {\n        println(\"Wow!\")\n    }\n}\n</code></pre>\n\n<p>But Kotlin doesn't allow this behaviour.</p>\n\n<blockquote>\n  <p>'public' function exposes its 'protected (in A)' parameter type B</p>\n</blockquote>\n\n<p>Is there any way how to resolve this one?</p>\n\n<p>P.S. It's not just a synthetic case - I faced this problem when I tried to implement custom <a href=\"https://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/logback/AmqpAppender.html\" rel=\"noreferrer\">Spring AmqpAppender</a> and to override it's postProcessMessageBeforeSend method.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 1201, "user_id": 4359687, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nAq6e.jpg?s=128&g=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/4359687/mahmoud"}, "edited": false, "score": 0, "creation_date": 1521048690, "post_id": 49284152, "comment_id": 85571255, "body": "It worked, but why? I was having no issue with <code>Android Architecture component</code> and <code>Room</code>? Thanks a lot mate!"}, {"owner": {"reputation": 1201, "user_id": 4359687, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nAq6e.jpg?s=128&g=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/4359687/mahmoud"}, "edited": false, "score": 0, "creation_date": 1521048816, "post_id": 49284152, "comment_id": 85571346, "body": "You are right. The question is indeed duplicate. Should I delete it? or close it (by selecting your answer) and then report it as duplicate?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1201, "user_id": 4359687, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nAq6e.jpg?s=128&g=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/4359687/mahmoud"}, "edited": false, "score": 1, "creation_date": 1521048914, "post_id": 49284152, "comment_id": 85571409, "body": "Not sure why, sometimes annotation processors work without explicitly applying the plugin... That would probably deserve its own question. As for this one, I&#39;ve closed it for now."}, {"owner": {"reputation": 1201, "user_id": 4359687, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nAq6e.jpg?s=128&g=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/4359687/mahmoud"}, "edited": false, "score": 1, "creation_date": 1521048956, "post_id": 49284152, "comment_id": 85571437, "body": "Thanks again mate!"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1521048346, "creation_date": 1521048346, "answer_id": 49284152, "question_id": 49284027, "link": "https://stackoverflow.com/questions/49284027/error-unresolved-reference-daggerappcomponent/49284152#49284152", "title": "Error: Unresolved reference: DaggerAppComponent", "body": "<p>You seem to be missing the application of the kapt Gradle plugin, as described in the <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">kapt documentation</a>. Basically, add this after your existing plugins:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>(If this helps, this question should be marked as a duplicate of <a href=\"https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent\">this one</a>)</p>\n"}], "owner": {"reputation": 1201, "user_id": 4359687, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nAq6e.jpg?s=128&g=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/4359687/mahmoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2633, "favorite_count": 0, "closed_date": 1521048858, "accepted_answer_id": 49284152, "answer_count": 1, "score": 1, "last_activity_date": 1521048346, "creation_date": 1521048002, "question_id": 49284027, "link": "https://stackoverflow.com/questions/49284027/error-unresolved-reference-daggerappcomponent", "closed_reason": "Duplicate", "title": "Error: Unresolved reference: DaggerAppComponent", "body": "<p>I've been facing this problem for 3 hours. I couldn't find any logical reason to what is happening. The problem is, Only when I use the generated <code>Dagger</code> classes, and after <code>Gradle</code> do the <code>Build</code> every reference to these classes became red and I get the error:<br/></p>\n\n<blockquote>\n  <p>Error: Unresolved reference: DaggerAppComponent</p>\n</blockquote>\n\n<p>But, If I comment out every line in the <code>App</code> class reference any of these generated <code>Dagger</code> classes. The build process completed successfully. I tried doing clean/ rebuild/ make project. but it doesn't work.\nSome information about my  environment:<br/>\n<code>Build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"xxxxx\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation \"android.arch.lifecycle:extensions:1.1.0\"\n    implementation \"android.arch.lifecycle:viewmodel:1.1.0\"\n    implementation \"android.arch.lifecycle:livedata:1.1.0\"\n    implementation \"android.arch.persistence.room:runtime:1.0.0\"\n    implementation \"android.arch.lifecycle:runtime:1.1.0\"\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:support-v4:26.1.0'\n\n\n    kapt \"android.arch.lifecycle:compiler:1.1.0\"\n    kapt \"android.arch.persistence.room:compiler:1.0.0\"\n\n    kapt \"com.google.dagger:dagger-compiler:2.8\"\n    compile \"com.google.dagger:dagger:2.8\"\n    compile \"com.google.dagger:dagger-android:2.8\"\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n\n<p>Kotlin version: <code>ext.kotlin_version = '1.1.51'</code><br/>\nAndroid Studio version: <code>3.0.1</code></p>\n\n<p>dependencies section in <code>Build.Gradle</code> file for the project (not the app module):</p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.0.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n\n<p><code>App</code> class:</p>\n\n<pre><code>class App:Application() {\n    private val component:AppComponent by lazy {\n        DaggerAppComponent.builder()\n                .build()\n    }\n    override fun onCreate() {\n        super.onCreate()\n        component.inject(this)\n    }\n}\n</code></pre>\n\n<p>If anyone can figure out what is the problem, it would be much appreciated.<br/>\nP.S. I'm still learning <code>Dagger2</code> and I'm new to <code>Kotlin</code> and <code>Native</code> development in general. I came from <code>C#</code> and <code>Xamarin</code> background.</p>\n"}, {"tags": ["android", "file", "android-intent", "kotlin", "android-fileprovider"], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 3163792, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1560787841/picture?type=large", "display_name": "Pavle37", "link": "https://stackoverflow.com/users/3163792/pavle37"}, "edited": false, "score": 0, "creation_date": 1521045097, "post_id": 49283019, "comment_id": 85568798, "body": "I have tried that, but with that flag, the app doesn&#39;t open and displays error &quot;Cannot open file&quot;"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 345, "user_id": 3163792, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1560787841/picture?type=large", "display_name": "Pavle37", "link": "https://stackoverflow.com/users/3163792/pavle37"}, "edited": false, "score": 0, "creation_date": 1521045338, "post_id": 49283019, "comment_id": 85568979, "body": "@Pavle37: Did you grant both flags, or just write access?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 345, "user_id": 3163792, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1560787841/picture?type=large", "display_name": "Pavle37", "link": "https://stackoverflow.com/users/3163792/pavle37"}, "edited": false, "score": 0, "creation_date": 1521045844, "post_id": 49283019, "comment_id": 85569271, "body": "@Pavle37: Then you&#39;ll have to ask Xobo."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 2, "last_activity_date": 1521044880, "creation_date": 1521044880, "answer_id": 49283019, "question_id": 49282933, "link": "https://stackoverflow.com/questions/49282933/edit-pdf-with-external-application-programatically/49283019#49283019", "title": "Edit pdf with external application programatically", "body": "<p>Try granting both <code>FLAG_GRANT_READ_URI_PERMISSION</code> and <code>FLAG_GRANT_WRITE_URI_PERMISSION</code>. Right now, you are only granting read access, and so Xobo has no ability to write back to the provider.</p>\n\n<p>Note that there is nothing that <em>requires</em> Xobo to write back to the provider, so even if you grant write access, Xobo may still write the modified PDF to a separate file.</p>\n"}], "owner": {"reputation": 345, "user_id": 3163792, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1560787841/picture?type=large", "display_name": "Pavle37", "link": "https://stackoverflow.com/users/3163792/pavle37"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566557749, "creation_date": 1521044629, "last_edit_date": 1521105333, "question_id": 49282933, "link": "https://stackoverflow.com/questions/49282933/edit-pdf-with-external-application-programatically", "title": "Edit pdf with external application programatically", "body": "<p>I have a request to make my application edit PDF files. Because I found it hard to integrate into the application, I decided to go with the external app and decided to use <a href=\"https://play.google.com/store/apps/details?id=com.xodo.pdf.reader&amp;hl=en_GB\" rel=\"nofollow noreferrer\">Xodo reader</a>. </p>\n\n<p>The problem I am having is that when my pdf is opened in the Xodo app and edited, it's not being saved to its original location, but rather a copy is saved to the Download folder. To me, this indicates that the app isn't able to save the edited file back to it's original destination, and I believe it's because I didn't do something right.</p>\n\n<p><em>Why do I think this?</em> </p>\n\n<p>When Xodo app opens a .pdf file and then edits it when I hit back it saves it to the memory location it is opened from. When I load it with my app, it doesn't work that way.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>How I call the application</strong></p>\n\n<pre><code>    val target = view?.packageManager?.getLaunchIntentForPackage(\"com.xodo.pdf.reader\")\n    target?.action = Intent.ACTION_EDIT\n    target?.setDataAndType(FileProvider.getUriForFile(context, view?.applicationContext?.packageName + \".fileprovider\", report.file), \"application/pdf\")\n    target?.flags = Intent.FLAG_ACTIVITY_NO_HISTORY\n    target?.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\n\n    view?.startActivity(target)\n</code></pre>\n\n<p><strong>What my @xml/provider_pathslooks like</strong></p>\n\n<pre><code>&lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n     &lt;external-path name=\"myApp\" path=\".\"/&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p><strong>Where my file is located in the memory</strong></p>\n\n<blockquote>\n  <p>/Internal storage/myApp</p>\n</blockquote>\n\n<p><strong>What my content URI looks like</strong></p>\n\n<blockquote>\n  <p>content://com.example.myapp.debug.fileprovider/myApp/myApp/example0.pdf</p>\n</blockquote>\n\n<p>Does anybody have a clue what I am doing wrong and where?</p>\n"}, {"tags": ["java", "kotlin", "coding-style", "convention"], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 7596725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e42a67f9b832a4424b2fd9dc05866b?s=128&d=identicon&r=PG", "display_name": "Brandon Wright", "link": "https://stackoverflow.com/users/7596725/brandon-wright"}, "edited": false, "score": 2, "creation_date": 1521043402, "post_id": 49282254, "comment_id": 85567562, "body": "One additional thing to note is that methods/functions can exist at the file-level in Kotlin (as opposed to Java which forces methods to be part of a class). Thus in addition to containing several classes a Kotlin file could also (or instead) contain a collection of methods."}], "tags": [], "owner": {"reputation": 1162, "user_id": 2914666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2342b60edaf73a3241dcfa37d0e6a132?s=128&d=identicon&r=PG", "display_name": "Philippe A", "link": "https://stackoverflow.com/users/2914666/philippe-a"}, "is_accepted": false, "score": 8, "last_activity_date": 1521042683, "last_edit_date": 1592644375, "creation_date": 1521042683, "answer_id": 49282254, "question_id": 49281727, "link": "https://stackoverflow.com/questions/49281727/kotlin-data-class-packaging/49282254#49282254", "title": "Kotlin Data Class packaging", "body": "<p>The book <a href=\"https://www.manning.com/books/kotlin-in-action\" rel=\"noreferrer\">Kotlin in Action</a> says about source code layout (chapter 2.2.3, page 27):</p>\n<blockquote>\n<p>In Kotlin, you can put multiple classes in the same file and choose any name for that file.</p>\n<p>...</p>\n<p>In most cases, however, it's still good practice to follow Java's directory layout and to organize files into directories according to the package structure. Sticking to that structure is especially important in projects where Kotlin is mixed with Java.</p>\n<p>...</p>\n<p>But you shouldn't hesitate to pull multiple classes into the same file, especially if the classes are small (and in Kotlin, they often are).</p>\n</blockquote>\n<p>So to answer your questions: it depends :)</p>\n"}, {"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 14, "last_activity_date": 1521047068, "creation_date": 1521047068, "answer_id": 49283716, "question_id": 49281727, "link": "https://stackoverflow.com/questions/49281727/kotlin-data-class-packaging/49283716#49283716", "title": "Kotlin Data Class packaging", "body": "<p>The coding style conventions give <a href=\"http://kotlinlang.org/docs/reference/coding-conventions.html#source-file-organization\" rel=\"noreferrer\">quite explicit guidance</a> on this:</p>\n\n<blockquote>\n  <p>Placing multiple declarations (classes, top-level functions or properties) in the same Kotlin source file is encouraged as long as these declarations are closely related to each other semantically and the file size remains reasonable (not exceeding a few hundred lines).</p>\n</blockquote>\n"}], "owner": {"reputation": 551, "user_id": 4289170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/818805709/picture?type=large", "display_name": "Mike Henke", "link": "https://stackoverflow.com/users/4289170/mike-henke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3170, "favorite_count": 2, "closed_date": 1521146510, "accepted_answer_id": 49283716, "answer_count": 2, "score": 12, "last_activity_date": 1521047068, "creation_date": 1521041342, "last_edit_date": 1521042743, "question_id": 49281727, "link": "https://stackoverflow.com/questions/49281727/kotlin-data-class-packaging", "closed_reason": "Opinion-based", "title": "Kotlin Data Class packaging", "body": "<p>Kotlin introduces the wonderful concept of Data Classes. These classes will derive the <code>equals()/hashCode()</code>, <code>toString()</code>, <code>getters()/setters()</code>, and a <code>copy()</code> function based on the properties declared in the constructor:</p>\n\n<p><code>data class KotlinUser(val name: String, val age: Int)</code></p>\n\n<p>In Java, this would look something like:</p>\n\n<pre><code>public class JavaUser {\n    public JavaUser(String name, Int age) {\n       ...\n    }\n    //getters\n    //setters\n    //equals()/hashCode()\n    //toString()\n}\n</code></pre>\n\n<p>My question is about the packaging of these data class files in Kotlin. Coming from Java I would store <code>JavaUser</code> in its own Class file under: <code>org.package.foo.JavaUser</code></p>\n\n<p>Due to the simplicity of a Data Class, do we store Data Class files the same way in Kotlin? (I.e. <code>org.package.foo.KotlinUser</code> and seperate files for each Data Class). Also, is it frowned upon to store multiple Data Classes in one Class file?: </p>\n\n<p><code>org.package.foo.DataClasses</code> contains:</p>\n\n<pre><code>data class Foo(val a: String, val b: String)\ndata class Bar(val a: Int, val b: Int)\n</code></pre>\n\n<p>I looked around in the idioms/coding style sections of the Kotlin Documentation and could not find anything about this (maybe I skimmed past it though). What is the best practice?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit", "android-architecture-components"], "comments": [{"owner": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 1, "creation_date": 1521038798, "post_id": 49280365, "comment_id": 85563996, "body": "Maybe that&#39;s not the issue, can you show us the retrofit API interface?"}, {"owner": {"reputation": 213, "user_id": 4779097, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/OASz6.jpg?s=128&g=1", "display_name": "mahmoud moustafa", "link": "https://stackoverflow.com/users/4779097/mahmoud-moustafa"}, "reply_to_user": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1521039846, "post_id": 49280365, "comment_id": 85564830, "body": "i have updated the post"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1521044059, "post_id": 49280365, "comment_id": 85568061, "body": "<code>Call&lt;LiveData&lt;ForecastResult&gt;&gt;</code> do you have a proper converter for this?"}, {"owner": {"reputation": 612, "user_id": 5869630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Iuxo.jpg?s=128&g=1", "display_name": "roghayeh hosseini", "link": "https://stackoverflow.com/users/5869630/roghayeh-hosseini"}, "edited": false, "score": 0, "creation_date": 1569740078, "post_id": 49280365, "comment_id": 102689285, "body": "Have you used the Repository?And do you also have a database? Is there a sample of your project for me to see? plz"}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 4779097, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/OASz6.jpg?s=128&g=1", "display_name": "mahmoud moustafa", "link": "https://stackoverflow.com/users/4779097/mahmoud-moustafa"}, "edited": false, "score": 1, "creation_date": 1521062409, "post_id": 49282907, "comment_id": 85578653, "body": "thank you, the problem was in resource class which created to wrap the response and exceptions"}, {"owner": {"reputation": 149, "user_id": 2600530, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ox6do.jpg?s=128&g=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/2600530/victor"}, "edited": false, "score": 0, "creation_date": 1543845139, "post_id": 49282907, "comment_id": 94052812, "body": "Thank You, Mahmoud Moustafa, I have same issue, and the reason was in the same place! ;)"}, {"owner": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "reply_to_user": {"reputation": 213, "user_id": 4779097, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/OASz6.jpg?s=128&g=1", "display_name": "mahmoud moustafa", "link": "https://stackoverflow.com/users/4779097/mahmoud-moustafa"}, "edited": false, "score": 0, "creation_date": 1543918443, "post_id": 49282907, "comment_id": 94082217, "body": "@mahmoud moustafa awesome this could help you out, don&#39;t forget to upvote+accept the answer as per SO guidelines. :)"}], "tags": [], "owner": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "is_accepted": false, "score": 0, "last_activity_date": 1521044563, "creation_date": 1521044563, "answer_id": 49282907, "question_id": 49280365, "link": "https://stackoverflow.com/questions/49280365/java-lang-runtimeexception-failed-to-invoke-public-android-arch-lifecycle-lived/49282907#49282907", "title": "java.lang.RuntimeException: Failed to invoke public android.arch.lifecycle.LiveData() with no args", "body": "<p>Yes so probably your API's response is not being correctly serialized. </p>\n\n<p>Anyway, it doesn't make sense to wrap your <code>LiveData</code> to an API response. Just have your exposed object like so: </p>\n\n<pre><code>someLivedataObject: LiveData&lt;YourApiResponseModel&gt; \n\n// So whenever the APIs response comes in:\nsomeLivedataObject.postValue(YourApiResponseModel)\n</code></pre>\n\n<p>If for some reason doesn't work use</p>\n\n<pre><code>someLivedataObject.setValue(YourApiResponseModel)\n</code></pre>\n\n<p>You can read more about the difference between these on the documentation, notice that I'm calling the <code>LiveData#setValue()</code> method, <strong>do not</strong> use Kotlin's deference setter method.</p>\n\n<p>And since your view is observing changes to your exposed <code>someLivedataObject</code> the UI is updated.</p>\n\n<hr>\n\n<p>This is similar to the RxJava counterpart where API responses with Observable wrapper don't really make sense, it's not a continuous stream of data, hence makes more sense to use <code>Single</code>.</p>\n\n<hr>\n\n<p>Take these suggestions with a grain of salt, I'm not <strong>fully aware</strong> of your application's use cases and <strong>there are exceptions to these rules</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1521369368, "creation_date": 1521369368, "answer_id": 49346905, "question_id": 49280365, "link": "https://stackoverflow.com/questions/49280365/java-lang-runtimeexception-failed-to-invoke-public-android-arch-lifecycle-lived/49346905#49346905", "title": "java.lang.RuntimeException: Failed to invoke public android.arch.lifecycle.LiveData() with no args", "body": "<p>I use <code>LiveDataAdapter</code> to convert <code>Call</code> to <code>LiveData</code>, that way you don't need wrap your Retrofit response as <code>Call&lt;LiveData&lt;T&gt;&gt;</code>.\nThis adapter is similar to Rx adapter by Jake.</p>\n\n<p>Get the <code>LiveDataAdapterFactory</code> and <code>LiveDataAdapter</code> from <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/util/LiveDataCallAdapterFactory.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>After adding the Adapter, you'll need to set it:</p>\n\n<pre><code>Retrofit.Builder()\n        .addConverterFactory(GsonConverterFactory.create(gson))\n        .addCallAdapterFactory(LiveDataCallAdapterFactory())\n        .baseUrl(BASE_URL)\n        .client(httpClient)\n        .build()\n</code></pre>\n\n<p>Self Promotion: I have made a video on the same over at: <a href=\"https://caster.io/lessons/android-architecture-components-livedata-with-retrofit\" rel=\"nofollow noreferrer\">https://caster.io/lessons/android-architecture-components-livedata-with-retrofit</a></p>\n"}, {"tags": [], "owner": {"reputation": 2207, "user_id": 4101826, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BrRYa.jpg?s=128&g=1", "display_name": "Mitesh Vanaliya", "link": "https://stackoverflow.com/users/4101826/mitesh-vanaliya"}, "is_accepted": false, "score": 2, "last_activity_date": 1536405499, "creation_date": 1536405499, "answer_id": 52234778, "question_id": 49280365, "link": "https://stackoverflow.com/questions/49280365/java-lang-runtimeexception-failed-to-invoke-public-android-arch-lifecycle-lived/52234778#52234778", "title": "java.lang.RuntimeException: Failed to invoke public android.arch.lifecycle.LiveData() with no args", "body": "<p>Remove LiveData from API call and create <code>ViewModel</code> class have contained in <code>MutableLiveData</code> Object.</p>\n\n<p>For Example:</p>\n\n<p>API Call Definition something like this: <strong><em>(Remove LiveData)</em></strong></p>\n\n<pre><code>   @GET(\"data/2.5/forecast/\")\nfun getForecast(@Query(\"APPID\") APPID: String = \"xxxxxxxx\"\n                , @Query(\"q\") q: String = \"94043\", @Query(\"mode\") mode: String = \"json\", @Query(\"units\") units: String = \"metric\"\n                , @Query(\"cnt\") cnt: String = \"7\"): Call&lt;ForecastResult&gt;\n</code></pre>\n\n<p>Create One ViewModel Class:</p>\n\n<pre><code>class YourViewModel: ViewModel() {\n\n    var allObjLiveData = MutableLiveData&lt;YOUROBJECT&gt;()\n\n    fun methodForAPICall(){\n\n        mApiService?.getForecast(.....)?.enqueue(object : Callback&lt;YOUROBJECT&gt;\n        {\n            override fun onFailure(call: Call&lt;YOUROBJECT&gt;, t: Throwable) {\n                allObjLiveData.value = null\n            }\n\n            override fun onResponse(call: Call&lt;YOUROBJECT&gt;, response: Response&lt;YOUROBJECT&gt;) {\n                allObjLiveData.value=response.body() //Set your Object to live Data\n            }\n\n        })\n    }\n}\n</code></pre>\n\n<p>Now in your activity or fragment initialization ViewModel class.\nAnd observe to live data.</p>\n\n<pre><code>    yourViewModelClassObj?.allObjLiveData?.observe(this, Observer {\n       //whenever object change this method call every time.\n      }\n    })\n</code></pre>\n\n<p>So You can use livedata in ViewModel class.</p>\n"}], "owner": {"reputation": 213, "user_id": 4779097, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/OASz6.jpg?s=128&g=1", "display_name": "mahmoud moustafa", "link": "https://stackoverflow.com/users/4779097/mahmoud-moustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1920, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1536405499, "creation_date": 1521037824, "last_edit_date": 1521039823, "question_id": 49280365, "link": "https://stackoverflow.com/questions/49280365/java-lang-runtimeexception-failed-to-invoke-public-android-arch-lifecycle-lived", "title": "java.lang.RuntimeException: Failed to invoke public android.arch.lifecycle.LiveData() with no args", "body": "<p>I'm trying to call API using Retrofit and Android architecture components but I'm getting this error</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Failed to invoke public android.arch.lifecycle.LiveData() with no args</p>\n</blockquote>\n\n<p>this is the data class for the response </p>\n\n<pre><code>data class ForecastResult(val city: City, val list: List&lt;Forecast&gt;)\n</code></pre>\n\n<p>Services Interface </p>\n\n<pre><code>interface ServicesApis { // using dummy data\n@GET(\"data/2.5/forecast/\")\nfun getForecast(@Query(\"APPID\") APPID: String = \"xxxxxxxx\"\n                , @Query(\"q\") q: String = \"94043\", @Query(\"mode\") mode: String = \"json\", @Query(\"units\") units: String = \"metric\"\n                , @Query(\"cnt\") cnt: String = \"7\"): Call&lt;LiveData&lt;ForecastResult&gt;&gt;\n}\n</code></pre>\n\n<p>and the api implementation </p>\n\n<pre><code>class WeatherRepoImpl : WeatherRepo {\noverride fun getDailyForecast(): LiveData&lt;Resource&lt;ForecastResult&gt;&gt; {\n    val forecast: MutableLiveData&lt;Resource&lt;ForecastResult&gt;&gt; = MutableLiveData()\n    RestAPI.getAPIsrevice().getForecast().enqueue(object : Callback&lt;LiveData&lt;ForecastResult&gt;&gt; {\n        override fun onResponse(call: Call&lt;LiveData&lt;ForecastResult&gt;&gt;?, response: Response&lt;LiveData&lt;ForecastResult&gt;&gt;?) {\n            when {\n                response!!.isSuccessful -&gt; {\n                    forecast.postValue(Resource.success(response.body()?.value))\n                }\n                else -&gt; {\n                    val exception = AppException(responseBody = response.errorBody())\n                    forecast.postValue(Resource.error(exception))\n                }\n            }\n        }\n\n        override fun onFailure(call: Call&lt;LiveData&lt;ForecastResult&gt;&gt;?, t: Throwable?) {\n            val exception = AppException(t)\n            forecast.postValue(Resource.error(exception))\n        }\n\n    })\n    return forecast\n}\n\n  }\n</code></pre>\n\n<p>appreciate your help!</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1521037028, "post_id": 49279546, "comment_id": 85562755, "body": "What does the hint say exactly?"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1521052600, "post_id": 49279546, "comment_id": 85573574, "body": "And Android studio should provide assistance to apply it&#39;s suggestion. Alt/Option - Enter will popup a dialog with suggestions."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1521039983, "last_edit_date": 1521039983, "creation_date": 1521037666, "answer_id": 49280297, "question_id": 49279546, "link": "https://stackoverflow.com/questions/49279546/what-does-a-warning-on-a-java-getter-call-from-kotlin-mean/49280297#49280297", "title": "What does a warning on a Java getter call from Kotlin mean?", "body": "<p>The hint tells you that you should replace the Java getter call <code>getApplicationContext()</code> with property access: <code>applicationContext</code>. </p>\n\n<p>Java getters and pairs of a getter and a setter are represented as <code>val</code> and <code>var</code> <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">properties</a> in Kotlin. The idiomatic way to access a Java getter is to use the property. See the language reference: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#getters-and-setters\" rel=\"nofollow noreferrer\">Calling Java from Kotlin. Getters and Setters</a>.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 49280297, "answer_count": 1, "score": 0, "last_activity_date": 1521099188, "creation_date": 1521035525, "last_edit_date": 1521099188, "question_id": 49279546, "link": "https://stackoverflow.com/questions/49279546/what-does-a-warning-on-a-java-getter-call-from-kotlin-mean", "title": "What does a warning on a Java getter call from Kotlin mean?", "body": "<p>I'm writing the code with Kotlin, the code A can work well, but the hint of Android Studio 3.0 tell me that  <code>getApplicationContext()</code> is not good.</p>\n\n<p>How can  translate the java code <code>getApplicationContext()</code> into Kotlin? Thanks!</p>\n\n<pre><code>class UIApp : Application() {\n\n    companion object {\n        var instance: UIApp by NotNullSingleValueVar()\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        instance = this\n\n        MobileAds.initialize( getApplicationContext(), getApplicationContext().getString(R.string.ad_app_id) );\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1521032552, "post_id": 49277892, "comment_id": 85559354, "body": "I&#39;m not quite sure if it&#39;s an exact duplicate. In this question, the two-dimentional array/list is initialized upon construction, while the linked one is about creating an empty list."}], "owner": {"reputation": 17, "user_id": 8437961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69810b6938d1b2c1817ae854e3c5987?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/8437961/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 929, "favorite_count": 0, "closed_date": 1521032103, "answer_count": 0, "score": 1, "last_activity_date": 1521033154, "creation_date": 1521030772, "last_edit_date": 1521032660, "question_id": 49277892, "link": "https://stackoverflow.com/questions/49277892/2-dimensional-dynamic-array-kotlin", "closed_reason": "Duplicate", "title": "2 dimensional Dynamic array Kotlin", "body": "<p>How to declare 2 dimensional <strong>Dynamic</strong> array in Kotlin? </p>\n\n<p>I am trying to do it with <code>ArrayList</code> but it fails</p>\n\n<pre><code>var dynamicarray =ArrayList&lt;Int&gt;(4,{ArrayList&lt;Int&gt;(3)}) //error\n</code></pre>\n\n<p>It works fine for array but not for <code>ArrayList</code></p>\n\n<pre><code>var staticarray = Array(4,{IntArray(3)}) // no error\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1528275361, "post_id": 50715499, "comment_id": 88440869, "body": "thanks for the input but this doesn&#39;t really answer my question, I was asking <i>why</i> they&#39;re marked as nullable"}], "tags": [], "owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "is_accepted": false, "score": 1, "last_activity_date": 1528273198, "creation_date": 1528273198, "answer_id": 50715499, "question_id": 49277809, "link": "https://stackoverflow.com/questions/49277809/why-generated-viewdatabinding-class-annotates-property-for-include-tag-as-null/50715499#50715499", "title": "Why generated ViewDataBinding class annotates property for &quot;include&quot; tag as Nullable", "body": "<p>For the latest version of databinding compiler (3.1.0) to resolve that issue with nullable bindings of included layouts you could set</p>\n\n<p><code>android.databinding.enableV2=true</code></p>\n\n<p>in <strong>gradle.properties</strong> file inside your project.</p>\n\n<p>After that you need invoke rebuild. After that all included layout bindings will be marked with <code>@NonNull</code> annotation.</p>\n"}, {"comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1570608932, "post_id": 58293711, "comment_id": 102962308, "body": "<i>when</i> you have multiple layouts, what was weirding me out is that the include was marked as nullable even though I didn&#39;t have multiple layouts, just one. I don&#39;t think what you&#39;re quoting from the docs applies here."}], "tags": [], "owner": {"reputation": 378, "user_id": 7686554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Opqo6.jpg?s=128&g=1", "display_name": "Paixols", "link": "https://stackoverflow.com/users/7686554/paixols"}, "is_accepted": false, "score": 0, "last_activity_date": 1570880380, "last_edit_date": 1570880380, "creation_date": 1570566715, "answer_id": 58293711, "question_id": 49277809, "link": "https://stackoverflow.com/questions/49277809/why-generated-viewdatabinding-class-annotates-property-for-include-tag-as-null/58293711#58293711", "title": "Why generated ViewDataBinding class annotates property for &quot;include&quot; tag as Nullable", "body": "<p>According to the Documentation on View Binding, when you have multiple layouts for configuration changes, if the view is only present in some configurations, the binding class will be marked as nullable. </p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">View Binding Docs</a></p>\n"}], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1570880380, "creation_date": 1521030522, "last_edit_date": 1522245777, "question_id": 49277809, "link": "https://stackoverflow.com/questions/49277809/why-generated-viewdatabinding-class-annotates-property-for-include-tag-as-null", "title": "Why generated ViewDataBinding class annotates property for &quot;include&quot; tag as Nullable", "body": "<p>I'm using Android Data Binding library to bind an xml layout that has an <code>&lt;include&gt;</code></p>\n\n<p>layout.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"model\"\n            type=\"com.example.MyViewModel\" /&gt;\n    &lt;/data&gt;\n\n    ...\n\n    &lt;include\n        layout=\"@layout/someOtherLayout\"\n        android:id=\"@+id/includedLayout\" /&gt;\n    ...\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>In the generated Databinding class for the xml I see this property: </p>\n\n<pre><code>@Nullable\npublic final com.example.databinding.SomeOtherLayoutBinding includedLayout;\n</code></pre>\n\n<p>Why is it annotated as <code>@Nullable</code>? The <code>&lt;include&gt;</code> is in the layout and as I see it, it is obviously non-null. What am I missing?</p>\n\n<p>It forces me to use non-null assertion operator <code>!!</code> in Kotlin code when accessing the fields of the included layout and I'm wondering if it is safe or if there is something I'm not considering here</p>\n\n<pre><code>val binder = DataBindingUtil.bind(view)\nval someView = binder.includedLayout!!.someView\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2", "behaviorsubject"], "comments": [{"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "edited": false, "score": 0, "creation_date": 1521319783, "post_id": 49277401, "comment_id": 85683628, "body": "Can you clarify what you mean by &quot;first time&quot; and &quot;next time&quot;? Do you mean that you have two subscribers? (one that subscribes before you call updateSubject, and one that subscribes after that?)"}], "answers": [{"comments": [{"owner": {"reputation": 9494, "user_id": 988283, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/539251bc88379bc1f60805a7701c1afd?s=128&d=identicon&r=PG", "display_name": "colymore", "link": "https://stackoverflow.com/users/988283/colymore"}, "edited": false, "score": 0, "creation_date": 1521125613, "post_id": 49285321, "comment_id": 85607088, "body": "Sorry, but subject is receiving a valid value."}], "tags": [], "owner": {"reputation": 5680, "user_id": 569421, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/035ee764cc5af4181a0113b455fa3fde?s=128&d=identicon&r=PG", "display_name": "Jin", "link": "https://stackoverflow.com/users/569421/jin"}, "is_accepted": false, "score": -1, "last_activity_date": 1521052401, "creation_date": 1521052401, "answer_id": 49285321, "question_id": 49277401, "link": "https://stackoverflow.com/questions/49277401/rxjava2-merge-cached-data-and-subject/49285321#49285321", "title": "RxJava2 merge cached data and subject", "body": "<p>Your null optional elements are being filtered out by your <code>.filter { it.isPresent }</code> call so nothing gets emitted downstream.</p>\n"}, {"comments": [{"owner": {"reputation": 9494, "user_id": 988283, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/539251bc88379bc1f60805a7701c1afd?s=128&d=identicon&r=PG", "display_name": "colymore", "link": "https://stackoverflow.com/users/988283/colymore"}, "edited": false, "score": 0, "creation_date": 1521125598, "post_id": 49285505, "comment_id": 85607075, "body": "I&#39;ve do it but with same problem, and anyway it should return subject value."}], "tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": false, "score": 0, "last_activity_date": 1521053002, "creation_date": 1521053002, "answer_id": 49285505, "question_id": 49277401, "link": "https://stackoverflow.com/questions/49277401/rxjava2-merge-cached-data-and-subject/49285505#49285505", "title": "RxJava2 merge cached data and subject", "body": "<p>I am assuming that storage is some sort of persistence object so it so <code>storage.getElement()</code> might return a valid object at the time you create the subject?</p>\n\n<p>If that is the case, then I think you should check to see if you have a stored object before you create the subject,  if so use <code>BehaviorSubject.createDefalut(storedObject)</code> if it does exist or <code>BehaviorSubject.create()</code> if not.</p>\n\n<p>Then inside your <code>getElements()</code> function I think you can just use <code>subject.filter()</code> ....</p>\n"}], "owner": {"reputation": 9494, "user_id": 988283, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/539251bc88379bc1f60805a7701c1afd?s=128&d=identicon&r=PG", "display_name": "colymore", "link": "https://stackoverflow.com/users/988283/colymore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521064547, "creation_date": 1521029204, "last_edit_date": 1521064547, "question_id": 49277401, "link": "https://stackoverflow.com/questions/49277401/rxjava2-merge-cached-data-and-subject", "title": "RxJava2 merge cached data and subject", "body": "<p>I have an disk storage that returns an <code>Object?</code> from disk (Could be already saved or not) and an BehaviourSubject (This data comes from other class call, check code below):</p>\n\n<p>Code is:</p>\n\n<pre><code>private val subject: Subject&lt;Optional&lt;Element&gt;&gt; = BehaviorSubject.create()\n\nfun getElements(): Observable&lt;List&lt;Element&gt;&gt; =\n    Observable.concat(Observable.just(storage.getElement()), subject)\n        .filter({ it.isPresent })\n        .take(1)\n        .flatMapSingle { \n            Observable.just(it.get())\n                .flatMapIterable { it.categories }\n                .toList()\n        }\n\nfun updateSubject(response: Response) {\n    storage.save(response.element) //Save element in storage\n    subject.onNext(response.element.toOptional())\n}\n</code></pre>\n\n<p>My problem is, in other class I do</p>\n\n<pre><code>getElements().subscribe(onElements(), onError());\n</code></pre>\n\n<p>First time, when storage has null it does nothing, even I've got a breakpoint in <code>subject.onNext(response.element.toOptional())</code>, hoping that <code>onNext</code> will trigger a stream for <code>getElements</code>, but nothing happens.\nSecond time, when I've already saved in storage the received element (So, <code>storage.getElement()</code> returns something) it works fine.</p>\n\n<p>My functional description is:</p>\n\n<p>Get element from both cache and subject, take first that arrives, and return it (First time it will be who the comes subject one), next time, i'm hoping that first one will be the storage one.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 5864, "user_id": 2454356, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/54e11055f8231040cea6809b9060cc3d?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/2454356/guy"}, "edited": false, "score": 1, "creation_date": 1521028281, "post_id": 49276945, "comment_id": 85556384, "body": "Well, one real life scenario where <code>View</code> can be null is if you create a new <code>Fragment</code> and then call a view in that fragment before <code>onCreateView</code> method is executed."}, {"owner": {"reputation": 6531, "user_id": 3231532, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5a361b40676f58cb3304c7909f2582a?s=128&d=identicon&r=PG&f=1", "display_name": "Kelevandos", "link": "https://stackoverflow.com/users/3231532/kelevandos"}, "reply_to_user": {"reputation": 5864, "user_id": 2454356, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/54e11055f8231040cea6809b9060cc3d?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/2454356/guy"}, "edited": false, "score": 0, "creation_date": 1521028399, "post_id": 49276945, "comment_id": 85556477, "body": "Sure, but this is a problem with findViewById as well, so the programmer is kinda expected to realise this ^^"}, {"owner": {"reputation": 5864, "user_id": 2454356, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/54e11055f8231040cea6809b9060cc3d?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/2454356/guy"}, "edited": false, "score": 0, "creation_date": 1521028856, "post_id": 49276945, "comment_id": 85556787, "body": "Thanks for your answer, you are technically correct, but I don&#39;t think it&#39;s the right answer to my question. I figured it out by finding another similar SO question where the answer is exactly what I expected. Take a look :) I posted an answer to my question."}], "tags": [], "owner": {"reputation": 6531, "user_id": 3231532, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5a361b40676f58cb3304c7909f2582a?s=128&d=identicon&r=PG&f=1", "display_name": "Kelevandos", "link": "https://stackoverflow.com/users/3231532/kelevandos"}, "is_accepted": false, "score": 0, "last_activity_date": 1521027848, "creation_date": 1521027848, "answer_id": 49276945, "question_id": 49276783, "link": "https://stackoverflow.com/questions/49276783/kotlin-views-with-synthetic-binding-and-nullability/49276945#49276945", "title": "Kotlin views with synthetic binding and nullability", "body": "<p>The idea is that xml layouts in Android are pretty static and in order to use synthetic views, you must create a direct import of the parsed layout:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n\n<p>So there are no real-life, non-magic scenarios where the <code>View</code> would be null. Unless you choose the wrong synthetic layout, but then you will get the crash on first run.</p>\n\n<p>That said, it will of course break if you modify the view on runtime, removing <code>Views</code> etc. But again, this is not the default usage for synthetic <code>Views</code> and requires a different approach. </p>\n"}, {"comments": [{"owner": {"reputation": 1636, "user_id": 1986282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CfVdj.jpg?s=128&g=1", "display_name": "Dr. aNdRO", "link": "https://stackoverflow.com/users/1986282/dr-andro"}, "edited": false, "score": 0, "creation_date": 1581059485, "post_id": 49277273, "comment_id": 106310208, "body": "Whats the case with recyclerview then?"}], "tags": [], "owner": {"reputation": 5864, "user_id": 2454356, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/54e11055f8231040cea6809b9060cc3d?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/2454356/guy"}, "is_accepted": true, "score": 8, "last_activity_date": 1521028805, "creation_date": 1521028805, "answer_id": 49277273, "question_id": 49276783, "link": "https://stackoverflow.com/questions/49276783/kotlin-views-with-synthetic-binding-and-nullability/49277273#49277273", "title": "Kotlin views with synthetic binding and nullability", "body": "<p>I figured it out, I always find the correct SO question right after I post mine :)</p>\n\n<p>The single exclamation point following the <code>View</code> does not actually mean that the view can not be null like I expected.</p>\n\n<p>This <a href=\"https://stackoverflow.com/a/43826700/2454356\">answer</a> to another question essentially answers my exact question. The <code>View</code>, when using synthetic binding, can actually be null, but we can't know for sure, hence the single exclamation mark.</p>\n\n<p>So it's safe to assume that the code I posted above - using <code>?.let{...}</code> is perfectly acceptable way of dealing with views when you are not sure if they are already initialised when accessing them.</p>\n\n<p>The cases where views might be null are very rare, but it can happen.</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 4576940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/912c3b0d41495b14bcd498792d17d535?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Simpson", "link": "https://stackoverflow.com/users/4576940/mike-simpson"}, "is_accepted": false, "score": 1, "last_activity_date": 1565902880, "last_edit_date": 1565902880, "creation_date": 1544487716, "answer_id": 53715671, "question_id": 49276783, "link": "https://stackoverflow.com/questions/49276783/kotlin-views-with-synthetic-binding-and-nullability/53715671#53715671", "title": "Kotlin views with synthetic binding and nullability", "body": "<p>As you pointed out already, a single exclamation mark does not mean that it's not null, but rather that it's a Java platform type and the compiler doesn't know if it's nullable or not.</p>\n\n<p>I think what you have suggested is fine, although it fails silently in the actual case of a null which might not actually be what you want.</p>\n\n<p>Let's say you tried to call your view in onCreateView and forgot that it will not be initialised yet. The fragment will not behave as expected but it won't produce a meaningful error to help you debug the issue. </p>\n\n<p>I'm still trying to settle on one solution or another myself but I would suggest either explicitly handling the case of a null:</p>\n\n<pre><code>view?.let {\n    //...\n} ?: throwExceptionIfDebugElseLogToCrashlytics()\n</code></pre>\n\n<p>Or decide that this time you actually want it to throw the NullPointerException in which case I would suggest:</p>\n\n<pre><code>view!!.let {\n    //...\n}\n</code></pre>\n\n<p>The latter doesn't bloat your code for what \"should\" be an impossible edge case and it doesn't fail silently, but it still makes it clear to a reader that view could be null. Obviously the !! is not needed by the compiler, it is just there to make the chosen strategy for dealing with platform types more explicit.</p>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 6402604, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-57Szv78xG5o/AAAAAAAAAAI/AAAAAAABHWE/dIeakdiaO0Y/photo.jpg?sz=128", "display_name": "Milan Jurkulak", "link": "https://stackoverflow.com/users/6402604/milan-jurkulak"}, "is_accepted": false, "score": 1, "last_activity_date": 1607130857, "last_edit_date": 1607130857, "creation_date": 1607103477, "answer_id": 65148175, "question_id": 49276783, "link": "https://stackoverflow.com/questions/49276783/kotlin-views-with-synthetic-binding-and-nullability/65148175#65148175", "title": "Kotlin views with synthetic binding and nullability", "body": "<p>Actualy null pointer exception can happen for synthetic view bindings, if you try to access view from listener out of context of an activity or view, or in lambdas.</p>\n<p>The problem is in lambda, and Frantisek have post about it here:\n<a href=\"https://stackoverflow.com/posts/comments/115183445?noredirect=1\">https://stackoverflow.com/posts/comments/115183445?noredirect=1</a></p>\n"}], "owner": {"reputation": 5864, "user_id": 2454356, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/54e11055f8231040cea6809b9060cc3d?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/2454356/guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3288, "favorite_count": 2, "accepted_answer_id": 49277273, "answer_count": 4, "score": 7, "last_activity_date": 1607130857, "creation_date": 1521027393, "question_id": 49276783, "link": "https://stackoverflow.com/questions/49276783/kotlin-views-with-synthetic-binding-and-nullability", "title": "Kotlin views with synthetic binding and nullability", "body": "<p>I've noticed that when using Kotlin's synthetic binding, the view returned is non null (Kotlin will return <code>View!</code>). But this doesn't make much sense to me, since <code>findCachedViewById</code> can actually return null results, meaning that views can actually be null.</p>\n\n<pre><code>public View _$_findCachedViewById(int var1) {\n  if(this._$_findViewCache == null) {\n     this._$_findViewCache = new HashMap();\n  }\n\n  View var2 = (View)this._$_findViewCache.get(Integer.valueOf(var1));\n  if(var2 == null) {\n     View var10000 = this.getView();\n     if(var10000 == null) {\n        return null;\n     }\n\n     var2 = var10000.findViewById(var1);\n     this._$_findViewCache.put(Integer.valueOf(var1), var2);\n  }\n\n  return var2;\n}\n</code></pre>\n\n<p>So why are they not optional in this case? Why doesn't Kotlin simply return <code>View?</code> when using synthetic binding, so that developers would be forced to check nullability when dealing with views?</p>\n\n<p>Maybe it's just because I'm new to Kotlin, but I think this is a bit counter intuitive, since the variable is not optional but we are still supposed to check if the View is in fact not null.</p>\n\n<p>So in this case, does it make sense to do something like the code below?</p>\n\n<pre><code>view?.let {\n    // handle non null view here\n}\n</code></pre>\n"}, {"tags": ["android", "c++", "plot", "opengl-es", "kotlin"], "owner": {"reputation": 179, "user_id": 5144595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e90b1f8e3d41c05fb1bd74d8cd10ac8?s=128&d=identicon&r=PG&f=1", "display_name": "majorpain1588", "link": "https://stackoverflow.com/users/5144595/majorpain1588"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521036891, "creation_date": 1521026356, "last_edit_date": 1521036891, "question_id": 49276403, "link": "https://stackoverflow.com/questions/49276403/what-is-a-good-approach-to-implementing-a-real-time-raster-plot-on-android", "title": "What is a good approach to implementing a real time raster plot on Android?", "body": "<p>What is a suggested implementation approach for a real time scrolling raster plot on Android?</p>\n\n<p>I'm not looking for a full source code dump or anything, just some implementation guidance or an outline on the \"what\" and \"how\".</p>\n\n<p><em>what</em>:  Should I use built in Android components for drawing or go straight to OpenGL ES2?  Or maybe something else I haven't heard of.  This is my first bout with graphics of any sort, but I'm not afraid to get a little dirty with OpenGL.</p>\n\n<p><em>how</em>:  Given a certain set of drawing components how would I approach implementation?  I feel like the plot is basically a texture that needs updating and translating.</p>\n\n<p><strong><em>Background</em></strong></p>\n\n<p>I need do design an Android application that as part of its functionality displays a real time scrolling raster plot (i.e. a spectrogram or waterfall plot). The data will first be coming out of libUSB and passing through native C++ where signal processing will happen.  Then, I assume, the plotting can happen either in C++ or Kotlin depending on what is easier and whether passing the data over the JNI is a big enough bottleneck or not.</p>\n\n<p>My main concern is drawing the base raster itself in real time and not so much extra things such as zooming, axes, or other added functionality.  I'm trying to start simple.</p>\n\n<p><strong><em>Constraints</em></strong></p>\n\n<p>I'm limited to free software.</p>\n\n<p>Platform: Android version 7.0+ on modern device</p>\n\n<p>GPU hardware acceleration is preferred as the CPU will be doing a good amount of number crunching bringing streaming data to the plot.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "activitynotfoundexception"], "comments": [{"owner": {"reputation": 603, "user_id": 2015669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f937d7fb62d7f5966ed9398bca2c7a1?s=128&d=identicon&r=PG", "display_name": "HQuser", "link": "https://stackoverflow.com/users/2015669/hquser"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521026965, "post_id": 49276392, "comment_id": 85555538, "body": "@user2340612 that&#39;s the issue, the exception I only get was ActivityNotFound exception which is really out of sense. P.S. thank you for clearing my second question."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1521027237, "post_id": 49276392, "comment_id": 85555709, "body": "Maybe the <code>ActivityNotFound</code> might be explained by the fact that the <code>ClassCastException</code> is thrown in the Activity&#39;s <code>onCreate</code>, hence the creation does not succeed and the Activity cannot be found by the runtime. But that&#39;s only my guess, I may be wrong"}, {"owner": {"reputation": 1832, "user_id": 5746918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jCq4A.jpg?s=128&g=1", "display_name": "Ishita Sinha", "link": "https://stackoverflow.com/users/5746918/ishita-sinha"}, "edited": false, "score": 0, "creation_date": 1521027530, "post_id": 49276392, "comment_id": 85555913, "body": "This looks more like a null pointer exception than a class cast exception...I may be wrong."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521027666, "post_id": 49276392, "comment_id": 85555989, "body": "The OP said that using the safe cast solved the issue, which should not be the case for a NPE. Plus, with the safe call operator (<code>?.</code>) and the elvis operator, <code>null</code> values are handled &quot;safely&quot; (unless the NPE happens somewhere else)"}], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 0, "last_activity_date": 1521027527, "creation_date": 1521027527, "answer_id": 49276827, "question_id": 49276392, "link": "https://stackoverflow.com/questions/49276392/why-poor-casting-causes-activitynotfound-exception-in-android-using-kotlin/49276827#49276827", "title": "Why poor casting causes ActivityNotFound Exception in Android using Kotlin?", "body": "<p>At runtime you should get a <code>ClassCastException</code>, if the issue is about the wrong casting (by the way it's not the compiler that throws the exception, but the runtime. The compiler/LINT should warn you about an \"unchecked cast\", though).</p>\n\n<p>Concerning your second question, the safe cast will return <code>null</code> in case of an unsuccessful cast, which makes you fall in the \"else\" branch of the elvis operator (<code>?:</code>), so you will create a new empty <code>HashMap&lt;Int, Boolean&gt;</code> and assign it to your <code>mCheatMap</code> variable. That doesn't happen in your first example since the failing cast throws an exception instead of simply returning <code>null</code>, so the \"else\" branch of the elvis operator can never be executed (you should get another warning by the compiler/LINT for this).</p>\n"}], "owner": {"reputation": 603, "user_id": 2015669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f937d7fb62d7f5966ed9398bca2c7a1?s=128&d=identicon&r=PG", "display_name": "HQuser", "link": "https://stackoverflow.com/users/2015669/hquser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521029910, "creation_date": 1521026316, "last_edit_date": 1521029910, "question_id": 49276392, "link": "https://stackoverflow.com/questions/49276392/why-poor-casting-causes-activitynotfound-exception-in-android-using-kotlin", "title": "Why poor casting causes ActivityNotFound Exception in Android using Kotlin?", "body": "<p>I recently came across an exception while writing a program and it took me a lot of time to debug simply because I was given a wrong exception by the compiler.</p>\n\n<p>Here's my activity code:</p>\n\n<pre><code> private var mCheatMap = HashMap&lt;Int, Boolean&gt;()\n\n override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_quiz)\n\n    mCheatMap = savedInstanceState?.getSerializable(KEY_CHEATER) as HashMap&lt;Int, Boolean&gt; ?: HashMap&lt;Int, Boolean&gt;()\n}\n</code></pre>\n\n<p>During runtime, my app crashed and when I looked into the logs, it said <code>ActivityNotFound</code> exception and in suggestion, it said maybe I didn't declare the activity in my <code>AndroidManifest.xml</code></p>\n\n<p>Everything seemed to be error free from my side when suddenly I, by chance, made my <code>mCheapMap</code> variable casting into a safe cast and everything started to work perfectly. e.g.:</p>\n\n<pre><code> private var mCheatMap = HashMap&lt;Int, Boolean&gt;()\n\n override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_quiz)\n\n    mCheatMap = savedInstanceState?.getSerializable(KEY_CHEATER) as? HashMap&lt;Int, Boolean&gt; ?: HashMap&lt;Int, Boolean&gt;()\n}\n</code></pre>\n\n<p>Now I have a few confusions:</p>\n\n<ol>\n<li><p>Why the compiler gave me the <code>ActivityNotFound</code> exception while I was having a casting issue?</p></li>\n<li><p>Why using the safe cast operator solved the problem because even without the safe cast operator, my casting was correct?</p></li>\n</ol>\n"}, {"tags": ["java", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "edited": false, "score": 0, "creation_date": 1521024871, "post_id": 49275706, "comment_id": 85554008, "body": "Thanks you. <code>@Transactional</code> fixed it"}], "tags": [], "owner": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "is_accepted": true, "score": 4, "last_activity_date": 1521024458, "creation_date": 1521024458, "answer_id": 49275706, "question_id": 49273851, "link": "https://stackoverflow.com/questions/49273851/dirtiescontext-is-not-working-with-spring-boot-and-kotlin/49275706#49275706", "title": "@DirtiesContext is not working with Spring Boot and Kotlin", "body": "<p>You shouldn't need to use <code>@DirtiesContext</code> to clear up database changes between tests although sometimes it might be necessary if application contexts are being shared incorrectly between test classes.</p>\n\n<p>Instead; you should just mark your tests as <code>@Transactional</code>. This will ensure every test method is wrapped by a Spring transaction which will be rolled back regardless of the outcome.</p>\n\n<pre><code>    @Test\n    @Transactional\n    fun `'addLog' should return the created entity`() {\n        val result = service.addLog(logCreateDTO = LogCreateDTO())\n        assertThat(result).isNotNull()\n        assertThat(result.id).isNotNull()\n    }\n</code></pre>\n"}], "owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1700, "favorite_count": 0, "accepted_answer_id": 49275706, "answer_count": 1, "score": 1, "last_activity_date": 1521024458, "creation_date": 1521019448, "question_id": 49273851, "link": "https://stackoverflow.com/questions/49273851/dirtiescontext-is-not-working-with-spring-boot-and-kotlin", "title": "@DirtiesContext is not working with Spring Boot and Kotlin", "body": "<p>I'm trying to run some integration tests in Spring Boot. For this I believe we should use <code>@DirtiesContext</code> to clean up the database after each test has run. </p>\n\n<p>I have tried several methods right now, but all of them have the same effect. </p>\n\n<p>This is my setup:</p>\n\n<ul>\n<li>Spring Boot 1.5.10.RELEASE</li>\n<li>SQL Server 2016</li>\n<li>Kotlin 1.2.21</li>\n</ul>\n\n<p>This is the complete POM:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.brabantia.esb&lt;/groupId&gt;\n    &lt;artifactId&gt;log-db&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;log-db&lt;/name&gt;\n    &lt;description&gt;Log database application for TIBCO ESB&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.2.21&lt;/kotlin.version&gt;\n        &lt;vaadin.version&gt;8.3.0&lt;/vaadin.version&gt;\n        &lt;spring.boot.version&gt;1.5.10.RELEASE&lt;/spring.boot.version&gt;\n        &lt;jupyter.version&gt;5.1.0&lt;/jupyter.version&gt;\n        &lt;surefire.version&gt;2.19.1&lt;/surefire.version&gt;\n\n        &lt;!-- Properties are prefixed with flyway. --&gt;\n        &lt;flyway.user&gt;esb_logging_user&lt;/flyway.user&gt;\n        &lt;flyway.password&gt;esb_logging_user&lt;/flyway.password&gt;\n\n        &lt;!-- List are defined as comma-separated values --&gt;\n        &lt;flyway.schemas&gt;dbo&lt;/flyway.schemas&gt;\n\n        &lt;!-- Individual placeholders are prefixed by flyway.placeholders. --&gt;\n        &lt;!--&lt;flyway.placeholders.keyABC&gt;valueXYZ&lt;/flyway.placeholders.keyABC&gt;--&gt;\n        &lt;!--&lt;flyway.placeholders.otherplaceholder&gt;value123&lt;/flyway.placeholders.otherplaceholder&gt;--&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-actuator-docs&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;--&gt;\n        &lt;!--&lt;groupId&gt;com.h2database&lt;/groupId&gt;--&gt;\n        &lt;!--&lt;artifactId&gt;h2&lt;/artifactId&gt;--&gt;\n        &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tibco&lt;/groupId&gt;\n            &lt;artifactId&gt;jms&lt;/artifactId&gt;\n            &lt;version&gt;8.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tibco&lt;/groupId&gt;\n            &lt;artifactId&gt;tibjms&lt;/artifactId&gt;\n            &lt;version&gt;8.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/generated-sources/jaxb&lt;/outputDirectory&gt;\n                    &lt;!-- The package of your generated sources --&gt;\n                    &lt;packageName&gt;com.brabantia.esb.logdb.schema&lt;/packageName&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;src/main/resources/schemas/BrabantiaMain.xsd&lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;5.0.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;user&gt;esb_logging_user&lt;/user&gt;\n                    &lt;password&gt;esb_logging_user&lt;/password&gt;\n                    &lt;url&gt;jdbc:sqlserver://localhost;database=esb_logging&lt;/url&gt;\n                    &lt;schemas&gt;\n                        &lt;schema&gt;schema1&lt;/schema&gt;\n                        &lt;schema&gt;schema2&lt;/schema&gt;\n                        &lt;schema&gt;schema3&lt;/schema&gt;\n                    &lt;/schemas&gt;\n                    &lt;placeholders&gt;\n                        &lt;keyABC&gt;valueXYZ&lt;/keyABC&gt;\n                        &lt;otherplaceholder&gt;value123&lt;/otherplaceholder&gt;\n                    &lt;/placeholders&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<h1>Entities</h1>\n\n<h2>Log Entity</h2>\n\n<pre><code>@Entity\n@Table(name = \"log\")\ninternal data class LogEntity(\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(name = \"id\")\n        val id: Long = -1,\n\n        @Column(name = \"descriptive_message\")\n        val descriptiveMessage: String = \"\",\n\n        @Column(name = \"message_code\")\n        val messageCode: String = \"\",\n\n        @OneToMany(mappedBy = \"log\", cascade = [(CascadeType.ALL)])\n        val references: MutableSet&lt;LogReferenceEntity&gt; = mutableSetOf(),\n\n        @OneToOne(mappedBy = \"log\", cascade = [(CascadeType.ALL)])\n        val messageContent: LogMessageContentEntity? = null\n)\n</code></pre>\n\n<h2>LogReference Entity</h2>\n\n<pre><code>@Entity\n@Table(name = \"log_reference\")\ninternal class LogReferenceEntity(\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(name = \"id\")\n        val id: Long? = null,\n\n        @Column(name = \"name\")\n        val Name: String = \"\",\n\n        @Column(name = \"value\")\n        val value: String = \"\",\n\n        @ManyToOne\n        @JoinColumn(name = \"log_id\")\n        var log: LogEntity? = null)\n</code></pre>\n\n<h2>LogMessageContent Entity</h2>\n\n<pre><code>@Entity\n@Table(name = \"log_message_content\")\ninternal data class LogMessageContentEntity(\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(name = \"id\")\n        val id: Long? = null,\n\n        @Column(name = \"message_content\")\n        val messageContent: ByteArray = byteArrayOf(),\n\n        @Column(name = \"create_date_time\")\n        val createDateTime: LocalDateTime = LocalDateTime.now(),\n\n        @OneToOne(cascade = [(CascadeType.ALL)])\n        @JoinColumn(name = \"log_id\")\n        var log: LogEntity = LogEntity()\n) {\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as LogMessageContentEntity\n\n        if (id != other.id) return false\n        if (!Arrays.equals(messageContent, other.messageContent)) return false\n        if (createDateTime != other.createDateTime) return false\n        if (log != other.log) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = id?.hashCode() ?: 0\n        result = 31 * result + Arrays.hashCode(messageContent)\n        result = 31 * result + createDateTime.hashCode()\n        result = 31 * result + log.hashCode()\n        return result\n    }\n}\n</code></pre>\n\n<h1>Repositories</h1>\n\n<p>The repositories are all very standard</p>\n\n<pre><code>@Transactional\ninternal interface LogRepository : CrudRepository&lt;LogEntity, Long&gt;\n\n@Transactional\ninternal interface LogReferenceRepository : CrudRepository&lt;LogReferenceEntity, Long&gt;\n\n@Transactional\ninternal interface LogMessageContentRepository : CrudRepository&lt;LogMessageContentEntity, Long&gt;\n</code></pre>\n\n<h1>Service</h1>\n\n<p>I only have one service for handling the Log instances, which also handles the associated LogReferenceEntity and LogMessageContentEntity objects.</p>\n\n<pre><code>@Service\n@Transactional\ninternal class JpaLogService(\n        val logRepository: LogRepository,\n        val logReferenceRepository: LogReferenceRepository,\n        val logMessageContentRepository: LogMessageContentRepository) : LogService {\n\n    override fun retrieveLogs(): List&lt;LogDTO&gt; {\n        return logRepository.findAll().map { it.toDTO() }\n    }\n\n    override fun retrieveLog(id: Long): LogDTO? {\n        return logRepository.findOne(id)?.toDTO()\n    }\n\n    override fun addLog(logCreateDTO: LogCreateDTO): LogDTO {\n        val log = LogEntity.fromDto(logCreateDTO)\n\n        // Add a reference to each log instance, and persist to the database\n        log.references.forEach {reference -&gt;\n            reference.log = log\n            logReferenceRepository.save(reference)\n        }\n\n        log.messageContent?.let {\n            it.log = log\n            logMessageContentRepository.save(it)\n        }\n\n        return logRepository.save(log).toDTO()\n    }\n}\n</code></pre>\n\n<h1>Integration test</h1>\n\n<p>I have only added a part of the test class. </p>\n\n<p>What is happening is that once a test has run that adds an instance to the database, the instance is not removed after the test has finished. In this example I have left out the <code>@DirtiesContext</code> annotation, and I will show what I tried below.</p>\n\n<pre><code>@RunWith(SpringRunner::class)\n@SpringBootTest\ninternal class JpaLogServiceTest {\n\n    @Autowired\n    lateinit var service: LogService\n\n    @Autowired\n    lateinit var repository: LogRepository\n\n    @Test\n    fun `'retrieveLogs' should retrieve empty list if repository doesn't contain entities`() {\n        assertThat(service.retrieveLogs()).isEmpty()\n    }\n\n    @Test\n    fun `'addLog' should return the created entity`() {\n        val result = service.addLog(logCreateDTO = LogCreateDTO())\n        assertThat(result).isNotNull()\n        assertThat(result.id).isNotNull()\n    }\n}\n</code></pre>\n\n<h2><code>@DirtiesContext</code> on the class without any parameters</h2>\n\n<pre><code>@RunWith(SpringRunner::class)\n@SpringBootTest\n@DirtiesContext\ninternal class JpaLogServiceTest {\n    ...\n}\n</code></pre>\n\n<h2><code>@DirtiesContext</code> on the class with <code>classMode</code></h2>\n\n<pre><code>@RunWith(SpringRunner::class)\n@SpringBootTest\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\ninternal class JpaLogServiceTest {\n    ...\n}\n</code></pre>\n\n<h2><code>@DirtiesContext</code> on the test method that is saving the instance to the database</h2>\n\n<pre><code>@RunWith(SpringRunner::class)\n@SpringBootTest\ninternal class JpaLogServiceTest {\n\n    ...\n\n    @Test\n    @DirtiesContext\n    fun `'addLog' should return the created entity`() {\n        val result = service.addLog(logCreateDTO = LogCreateDTO())\n        assertThat(result).isNotNull()\n        assertThat(result.id).isNotNull()\n    }\n}\n</code></pre>\n\n<h2><code>@DirtiesContext</code> on the test method that is saving the instance to the database with <code>methodMode</code></h2>\n\n<pre><code>@RunWith(SpringRunner::class)\n@SpringBootTest\ninternal class JpaLogServiceTest {\n\n    ...\n\n    @Test\n    @DirtiesContext(methodMode = DirtiesContext.MethodMode.AFTER_METHOD)\n    fun `'addLog' should return the created entity`() {\n        val result = service.addLog(logCreateDTO = LogCreateDTO())\n        assertThat(result).isNotNull()\n        assertThat(result.id).isNotNull()\n    }\n}\n</code></pre>\n\n<p>I also tried some other things, but I have the feeling that I am not too far off.</p>\n\n<p>Could someone give me a push in the right direction?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1521025774, "post_id": 49273835, "comment_id": 85554693, "body": "could you post your <code>MinutemanComponent </code> code?"}, {"owner": {"reputation": 21, "user_id": 9312826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CC22.jpg?s=128&g=1", "display_name": "Potsane", "link": "https://stackoverflow.com/users/9312826/potsane"}, "reply_to_user": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1521026469, "post_id": 49273835, "comment_id": 85555178, "body": "I have added it @Benjamin"}, {"owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "edited": false, "score": 0, "creation_date": 1521054705, "post_id": 49273835, "comment_id": 85574700, "body": "where FragmentBuilderModule is added? From your activity module? Maybe look at my template project which use mvvm and dagger it may help <a href=\"https://github.com/SamYStudiO/beaver\" rel=\"nofollow noreferrer\">github.com/SamYStudiO/beaver</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9312826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CC22.jpg?s=128&g=1", "display_name": "Potsane", "link": "https://stackoverflow.com/users/9312826/potsane"}, "edited": false, "score": 0, "creation_date": 1521028324, "post_id": 49276760, "comment_id": 85556411, "body": "thanks for pointing that out @Benjamin but I still get the same error, even after project cleaning, rebuilding and invalidating the cache"}], "tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": false, "score": 0, "last_activity_date": 1521027313, "creation_date": 1521027313, "answer_id": 49276760, "question_id": 49273835, "link": "https://stackoverflow.com/questions/49273835/error-injecting-kotlin-using-dagger/49276760#49276760", "title": "Error injecting Kotlin using Dagger", "body": "<p>It looks like you never use your <code>ViewModelModule</code>. Change your <code>MinutemanComponent</code> to the following:</p>\n\n<pre><code>@Singleton\n@Component(modules = [AndroidSupportInjectionModule::class,\nActivityBuilderModule::class, MinutemanModule::class, ViewModelModule::class])\ninterface MinutemanComponent {\n\n    fun inject(minutemanApplication: MinutemanApplication)\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(application: MinutemanApplication): Builder\n\n        fun build(): MinutemanComponent\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9312826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CC22.jpg?s=128&g=1", "display_name": "Potsane", "link": "https://stackoverflow.com/users/9312826/potsane"}, "is_accepted": false, "score": 2, "last_activity_date": 1521103521, "creation_date": 1521103521, "answer_id": 49294855, "question_id": 49273835, "link": "https://stackoverflow.com/questions/49273835/error-injecting-kotlin-using-dagger/49294855#49294855", "title": "Error injecting Kotlin using Dagger", "body": "<p>Not all the provided ViewModels in the ViewModelModule had an @Inject on the constructor, I added that to all of them and it solved my problem. </p>\n"}], "owner": {"reputation": 21, "user_id": 9312826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CC22.jpg?s=128&g=1", "display_name": "Potsane", "link": "https://stackoverflow.com/users/9312826/potsane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521103521, "creation_date": 1521019415, "last_edit_date": 1521026436, "question_id": 49273835, "link": "https://stackoverflow.com/questions/49273835/error-injecting-kotlin-using-dagger", "title": "Error injecting Kotlin using Dagger", "body": "<p>I am trying to inject the ModelViewFactory object in the ViewModel and I get the following error. Have been working on this for days cant seem to figure it out. </p>\n\n<pre><code>public abstract interface MinutemanComponent {\n            ^\n  com.xyz.minuteman.view.meeting.detail.MeetingItemDetailsViewModel is injected at\n      com.xyz.minuteman.injection.ViewModelModule.bindMeetingItemDetailsViewModel(meetingItemDetailsViewModel)\n  java.util.Map&lt;java.lang.Class&lt;? extends android.arch.lifecycle.ViewModel&gt;,javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; is injected at\n      com.xyz.minuteman.injection.ViewModelFactory.&lt;init&gt;(creators)\n  com.xyz.minuteman.injection.ViewModelFactory is injected at\n      com.xyz.minuteman.injection.ViewModelModule.bindViewModelFactory(viewModelFactory)\n  android.arch.lifecycle.ViewModelProvider.Factory is injected at\n      com.xyz.minuteman.view.meeting.list.MeetingListFragment.viewModelFactory\n  com.xyz.minuteman.view.meeting.list.MeetingListFragment is injected at\n      dagger.android.AndroidInjector.inject(arg0)\n</code></pre>\n\n<p>Here is my ViewModelFactory</p>\n\n<pre><code>class ViewModelFactory @Inject constructor(\n    private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;)\n: ViewModelProvider.Factory {\n\n@Suppress(\"UNCHECKED_CAST\")\noverride fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n    var creator: Provider&lt;ViewModel&gt;? = creators[modelClass]\n    if (creator == null) {\n        for ((key, value) in creators) {\n            if (modelClass.isAssignableFrom(key)) {\n                creator = value\n                break\n            }\n        }\n    }\n    if (creator == null) throw IllegalArgumentException(\"unknown model class \" + modelClass)\n    try {\n        return creator.get() as T\n    } catch (e: Exception) {\n        throw RuntimeException(e)\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here is the Fragment where I am trying to inject the viewModelFactory</p>\n\n<pre><code>class MeetingListFragment : Fragment(), Injectable {\n\n@Inject\nlateinit var viewModelFactory: ViewModelProvider.Factory\n\nprivate lateinit var meetingsListViewModel: MeetingsListViewModel\nprivate lateinit var adapter: MeetingAdapter\n\nprivate val itemClickListener = View.OnClickListener { v: View -&gt;\n    val meeting = v.tag as Meeting\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n    val v = inflater.inflate(R.layout.fragment_list_previous_meetings_layout, container, false)\n    setupRecyclerView(v)\n\n    meetingsListViewModel = ViewModelProviders.of(this, viewModelFactory).get(MeetingsListViewModel::class.java)\n    meetingsListViewModel!!.getAllMeetings().observe(this, Observer { r -&gt;\n        if (r != null) {\n            adapter.setItems(r)\n        }\n    })\n    return v;\n}\n\nprivate fun setupRecyclerView(v: View) {\n    val recyclerView = v.findViewById&lt;RecyclerView&gt;(R.id.recyclerview_meeting_list)\n    val layoutManager = LinearLayoutManager(activity, LinearLayoutManager.VERTICAL, false)\n    recyclerView?.layoutManager = layoutManager\n\n    adapter = MeetingAdapter(ArrayList(), recyclerView.context, itemClickListener)\n    recyclerView?.adapter = adapter\n    val dividerItemDecoration = DividerItemDecoration(recyclerView?.context,\n            layoutManager.orientation)\n    recyclerView?.addItemDecoration(dividerItemDecoration)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here is the ViewModel Module where I have the Provider methods for the ViewModels</p>\n\n<pre><code>   @Module\nabstract class ViewModelModule {\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(MeetingsListViewModel::class)\n    abstract fun bindMeetingsListViewModel(meetingsListViewModel: MeetingsListViewModel): ViewModel\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(MeetingItemDetailsViewModel::class)\n    abstract fun bindMeetingItemDetailsViewModel(meetingItemDetailsViewModel: MeetingItemDetailsViewModel): ViewModel\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(AddMeetingViewModel::class)\n    abstract fun bindAddMeetingViewModel(addMeetingViewModel: AddMeetingViewModel): ViewModel\n\n    @Binds\n    abstract fun bindViewModelFactory(viewModelFactory: ViewModelFactory): ViewModelProvider.Factory\n\n}\n</code></pre>\n\n<p>And here is the FragmentBuilderModule as well</p>\n\n<pre><code>    @Module\nabstract class FragmentBuilderModule {\n    @ContributesAndroidInjector\n    abstract fun contributeMeetingListFragment(): MeetingListFragment\n}\n</code></pre>\n\n<p>Here is the App Component</p>\n\n<pre><code>@Singleton\n@Component(modules = [AndroidSupportInjectionModule::class,\nActivityBuilderModule::class,\nMinutemanModule::class])\ninterface MinutemanComponent {\n\n    fun inject(minutemanApplication: MinutemanApplication)\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(application: MinutemanApplication): Builder\n\n        fun build(): MinutemanComponent\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 2, "last_activity_date": 1521018559, "creation_date": 1521018559, "answer_id": 49273550, "question_id": 49273410, "link": "https://stackoverflow.com/questions/49273410/any-way-to-achieve-something-like-overriding-an-operator-in-kotlin/49273550#49273550", "title": "Any way to achieve something like overriding an operator in kotlin?", "body": "<p>You're trying something impossible, because extensions are always shadowed by members, even <code>@JvmName</code> cannot save you.</p>\n\n<p>Workaround: use your second solution, or add a <code>Unit</code> parameter which is ugly (looks like <code>a[x, Unit]</code>) but can exist with its own <code>get</code> method together.</p>\n\n<p>Another solution: create your own <code>List</code> implementation (recommended).</p>\n"}, {"comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1521021066, "post_id": 49273768, "comment_id": 85551318, "body": "ok, the side note caught me out of surprise. I did not expect that. Thanks!"}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 3, "last_activity_date": 1521020043, "last_edit_date": 1521020043, "creation_date": 1521019201, "answer_id": 49273768, "question_id": 49273410, "link": "https://stackoverflow.com/questions/49273410/any-way-to-achieve-something-like-overriding-an-operator-in-kotlin/49273768#49273768", "title": "Any way to achieve something like overriding an operator in kotlin?", "body": "<p>Since <code>get</code> operator is already defined in <code>List</code>, you cannot redefine <code>get</code> (with one <code>Int</code> parameter).\nHowever, you can override <code>invoke</code> operator, which is not defined in <code>List</code>.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val a = listOf(1, 2, 3, 4)\n    println(a(-2))\n}\n\n// If `index` is negative, `index % size` will be non-positive by the definition of `rem` operator.\noperator fun &lt;T&gt; List&lt;T&gt;.invoke(index: Int): T = if (index &gt;= 0) get(index % size) else get((-index) % (-size))\n</code></pre>\n\n<p>although I think that creating a new extension method to <code>List</code> with an appropriate name will be more preferable option.</p>\n\n<p>As a sidenote, <code>(positive value) % (negative value)</code> is non-negative, and <code>(negative value) % (positive value)</code> is non-positive.<br>\n<code>%</code> in Kotlin corresponds to <code>rem</code> in Haskell in the following example: <a href=\"https://stackoverflow.com/a/28027235/869330\">https://stackoverflow.com/a/28027235/869330</a></p>\n"}], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 49273550, "answer_count": 2, "score": 2, "last_activity_date": 1521021158, "creation_date": 1521018093, "last_edit_date": 1521021158, "question_id": 49273410, "link": "https://stackoverflow.com/questions/49273410/any-way-to-achieve-something-like-overriding-an-operator-in-kotlin", "title": "Any way to achieve something like overriding an operator in kotlin?", "body": "<p>Recently I was working with lists in kotlin and had the following snippet:</p>\n\n<pre><code>a = listOf(1, 2, 3, 4)\nprintln(a[-2])\n</code></pre>\n\n<p>Of course this causes an <code>IndexOutOfBoundsException</code> so I thought it would be nice to extend this functionality. So I thought one could override the <code>get</code> operator in the <code>List</code> class:</p>\n\n<pre><code>operator fun &lt;T&gt; List&lt;T&gt;.get(index: Int): T =\n        // Here this should call the non-overridden version of\n        // get. \n        get(index % size)\n</code></pre>\n\n<p>I understand that extensions are just static methods and therefore cannot be overridden, but is there a way one can achieve something like this?</p>\n\n<p>Of course you could just create another function</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.safeGet(index: Int): T = get(index % size)\n</code></pre>\n\n<p>but I'd like to know if there are other ways.</p>\n\n<p><em>(I understand that <code>index % size</code> is a very naive way of doing what I want, but it's not the focus of my question and makes the code smaller.)</em></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>When I wrote this question I thought the <code>%</code> operator would return always positive numbers when the right hand side is positive - like in python. I'm keeping the original question here just for consistency.</p>\n"}, {"tags": ["android", "react-native", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1521105130, "post_id": 49275087, "comment_id": 85592814, "body": "Cool7, I have used as you said, But the Device Event Emitter is not listening the data sent. It is not working for me.. Are there anything that is missed?"}, {"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1521105671, "post_id": 49275087, "comment_id": 85593160, "body": "I have edited my question, please check. No error, it is just not emitting"}, {"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1521105701, "post_id": 49275087, "comment_id": 85593177, "body": "Can we pass the data with sharedpreference? Is there any way to call Shared preference in React Native ? That will also work i guess"}, {"owner": {"reputation": 2486, "user_id": 3045099, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/e1SXw.jpg?s=128&g=1", "display_name": "Ragnar", "link": "https://stackoverflow.com/users/3045099/ragnar"}, "reply_to_user": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1521105941, "post_id": 49275087, "comment_id": 85593344, "body": "Yes we can store data from android (java) in shared preference and can get that data in react native you can refer : <a href=\"https://github.com/sriraman/react-native-shared-preferences\" rel=\"nofollow noreferrer\">github.com/sriraman/react-native-shared-preferences</a>"}, {"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1521106016, "post_id": 49275087, "comment_id": 85593387, "body": "Ok, I will try that and revert back. Thanks"}, {"owner": {"reputation": 2486, "user_id": 3045099, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/e1SXw.jpg?s=128&g=1", "display_name": "Ragnar", "link": "https://stackoverflow.com/users/3045099/ragnar"}, "reply_to_user": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1521107994, "post_id": 49275087, "comment_id": 85594725, "body": "Yes please, otherwise we can try some other solution."}], "tags": [], "owner": {"reputation": 2486, "user_id": 3045099, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/e1SXw.jpg?s=128&g=1", "display_name": "Ragnar", "link": "https://stackoverflow.com/users/3045099/ragnar"}, "is_accepted": false, "score": 2, "last_activity_date": 1521022679, "creation_date": 1521022679, "answer_id": 49275087, "question_id": 49273285, "link": "https://stackoverflow.com/questions/49273285/how-to-pass-data-from-android-native-kotlin-to-react-native/49275087#49275087", "title": "How to pass data from Android native - Kotlin to React Native?", "body": "<p>To send data from android to react native :</p>\n\n<p>From android side emit your event(Notification or Broadcast) in following way:</p>\n\n<pre><code>    public class MainActivity extends ReactActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        WritableMap map = Arguments.createMap();\n        map.putString(\"key1\", \"Value1\");\n   map.putString(\"key1\", \"Value1\");\n\n        try {\n          getReactInstanceManager().getCurrentReactContext()\n            .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)\n            .emit(\"customEventName\", map);\n        } catch (Exception e){\n          Log.e(\"ReactNative\", \"Caught Exception: \" + e.getMessage());\n        }\n    }\n</code></pre>\n\n<p>And in react component addEventListner(subscribe) to that event like as:</p>\n\n<pre><code>import { DeviceEventEmitter } from 'react-native';\n\ncomponentWillMount: function() {\n  DeviceEventEmitter.addListener('customEventName', function(e: Event) {\n    // handle event.\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>Also refer </p>\n\n<p><a href=\"https://facebook.github.io/react-native/docs/native-modules-android.html#sending-events-to-javascript\" rel=\"nofollow noreferrer\">To send data from android native to react native</a></p>\n"}, {"tags": [], "owner": {"reputation": 7197, "user_id": 1713757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbc1528819dee7ffe9301f406c1b83c?s=128&d=identicon&r=PG", "display_name": "Geng  Jiawen", "link": "https://stackoverflow.com/users/1713757/geng-jiawen"}, "is_accepted": false, "score": -1, "last_activity_date": 1521022821, "creation_date": 1521022821, "answer_id": 49275136, "question_id": 49273285, "link": "https://stackoverflow.com/questions/49273285/how-to-pass-data-from-android-native-kotlin-to-react-native/49275136#49275136", "title": "How to pass data from Android native - Kotlin to React Native?", "body": "<p>Please refer to <a href=\"https://facebook.github.io/react-native/docs/native-modules-android.html\" rel=\"nofollow noreferrer\">https://facebook.github.io/react-native/docs/native-modules-android.html</a>. Basically you need to create and register a module in native code, and call it from react native.</p>\n"}], "owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1474, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1521105621, "creation_date": 1521017648, "last_edit_date": 1521105621, "question_id": 49273285, "link": "https://stackoverflow.com/questions/49273285/how-to-pass-data-from-android-native-kotlin-to-react-native", "title": "How to pass data from Android native - Kotlin to React Native?", "body": "<p>I am new to the React Native integration in Android. I am creating a chat application and for that need to pass the UserId and another User information in my React Native component. How can I pass that from Android Native? I searched but I haven't found any successful lead. I tried doing it with SharedPreference, But didn't have any idea how to extract the sharedpreference holder in the React native. Are there any other way that I can extract this information?</p>\n\n<p>I have created ReactRootView in the ReactActivity and integrated ReactInstanceManager in it. </p>\n\n<p>As per Geng's and Cool7's answer, I have implemented my Android Kotlin code as given below:</p>\n\n<pre><code>val map = Arguments.createMap()\n    map.putString(\"user_id\", \"Value1\")\n    try {\n        mReactInstanceManager?.currentReactContext\n                ?.getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter::class.java)\n                ?.emit(\"userEventMap\", map)\n    } catch (e: Exception) {\n        Log.d(\"ChatActivity\", \"DeviceEventEmitter Caught Exception: \" + e.printStackTrace())\n    }\n</code></pre>\n\n<p>And my React native code to extract it is as below:</p>\n\n<pre><code>componentWillMount() {\nconsole.log(\"UserId Emission\");\nDeviceEventEmitter.addListener(\"userEventMap\", function() {\n  console.log(\"UserId Emission inside\");\n  console.log(\"UserId :: \", e.user_id);\n});\n</code></pre>\n\n<p>}</p>\n\n<p>I have tried Cool7's ditto code also and like above also. But UserId Emission is getting printed but the inside logs are not. The Map is not getting listened in this emitter.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1521015402, "creation_date": 1521015402, "answer_id": 49272645, "question_id": 49272500, "link": "https://stackoverflow.com/questions/49272500/how-to-add-constructor-in-kotlin-using-spring-boot/49272645#49272645", "title": "how to add constructor in kotlin using Spring boot?", "body": "<p>You can run code when an instance is created by using an <em>initializer block</em> (or even multiple ones), code placed in these becomes part of the body of the primary constructor.</p>\n\n<pre><code>class Kotlin2Application {\n    init {\n        println(\"Hello world\")\n    }\n}\n</code></pre>\n\n<p>(This is just a general answer about how to translate the specific Java code in question, not to be taken as best practice for running code after your Spring application starts.)</p>\n\n<p>See also: <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">official documentation about classes and constructors</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9484162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXKAn.png?s=128&g=1", "display_name": "Aziz", "link": "https://stackoverflow.com/users/9484162/aziz"}, "is_accepted": false, "score": 0, "last_activity_date": 1521052533, "creation_date": 1521052533, "answer_id": 49285358, "question_id": 49272500, "link": "https://stackoverflow.com/questions/49272500/how-to-add-constructor-in-kotlin-using-spring-boot/49285358#49285358", "title": "how to add constructor in kotlin using Spring boot?", "body": "<ol>\n<li><p>Please try with this.  </p>\n\n<pre><code>class Kotlin2Application {\n      constructor(){\n        println(\"Hello world\")\n     }\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 41, "user_id": 9489911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3980bc6736297801c4caa16d60cb33e6?s=128&d=identicon&r=PG&f=1", "display_name": "user20", "link": "https://stackoverflow.com/users/9489911/user20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1521554018, "creation_date": 1521014811, "last_edit_date": 1521554018, "question_id": 49272500, "link": "https://stackoverflow.com/questions/49272500/how-to-add-constructor-in-kotlin-using-spring-boot", "title": "how to add constructor in kotlin using Spring boot?", "body": "<pre><code>@SpringBootApplication\npublic class InfoServerSpringApplication {\n\n//this is my code in java\npublic InfoServerSpringApplication() {\n    System.out.println(\"Hello world\");\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(InfoServerSpringApplication.class, args);\n}\n}\n</code></pre>\n\n<p>so that's how i print hello world in Spring boot java , i use constructor but how about in kotlin ?</p>\n\n<pre><code>@SpringBootApplication\nclass Kotlin2Application\n\n//constructor code to print hello world in kotlin\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;Kotlin2Application&gt;(*args)\n}\n</code></pre>\n\n<p>I'm using eclipse. Is there any solution please ? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1521014562, "post_id": 49272233, "comment_id": 85547482, "body": "What do you mean by when to update? can you elaborate?"}], "answers": [{"tags": [], "owner": {"reputation": 6558, "user_id": 2449276, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/rCZMZ.jpg?s=128&g=1", "display_name": "Sony", "link": "https://stackoverflow.com/users/2449276/sony"}, "is_accepted": false, "score": 2, "last_activity_date": 1521014863, "creation_date": 1521014863, "answer_id": 49272523, "question_id": 49272233, "link": "https://stackoverflow.com/questions/49272233/when-to-update-your-app-in-play-store-app-store-after-publishing/49272523#49272523", "title": "When to update your app in play store/app store after publishing?", "body": "<p>There is no particular time interval between updates for play store apps. How ever some users checks for the last updated date before downloading an app and if the app was last updated a long time ago, they might not download the app, because they may think that the developer has stopped supporting the app. And there is no such app that is completely bug free. if you have one, CONGRATZZZZ... During the initial stages of your apps release, ie; when the app is in versions 1,2... you should pay close attention to your playstore dashboard to see the metrics, provides a lot of valuable information regarding your app's performance in devices and in playstore, and make changes to your app and fix bugs if there is any, and publish new updates frequently,at that time your app update interval will be very short. you  See <a href=\"https://savvyapps.com/blog/how-often-should-you-update-your-app\" rel=\"noreferrer\">this article</a> for more info about app update intervals</p>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 9484702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmFs6.jpg?s=128&g=1", "display_name": "harrySharma", "link": "https://stackoverflow.com/users/9484702/harrysharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1521016110, "creation_date": 1521016110, "answer_id": 49272828, "question_id": 49272233, "link": "https://stackoverflow.com/questions/49272233/when-to-update-your-app-in-play-store-app-store-after-publishing/49272828#49272828", "title": "When to update your app in play store/app store after publishing?", "body": "<p>There is no particular time for give an update to the app on play store.\nWhenever you add some new features and you have completed the testing phase then you can update your app.</p>\n"}], "owner": {"reputation": 505, "user_id": 6170625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-OVkMtjC5wgQ/AAAAAAAAAAI/AAAAAAAAAJo/ZMsQ-loF1Bw/photo.jpg?sz=128", "display_name": "Pranav Ashok", "link": "https://stackoverflow.com/users/6170625/pranav-ashok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1521041039, "answer_count": 2, "score": -2, "last_activity_date": 1521088928, "creation_date": 1521013816, "last_edit_date": 1521088928, "question_id": 49272233, "link": "https://stackoverflow.com/questions/49272233/when-to-update-your-app-in-play-store-app-store-after-publishing", "closed_reason": "Opinion-based", "title": "When to update your app in play store/app store after publishing?", "body": "<p>Is there any particular time period for the app in the play store to be updated  (considering the fact that the developer or the company owning the app in not bothered of the update as they are satisfied with their app). Is their any chances of the app being removed from the play store due to this.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4599, "user_id": 4269149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0Ccc.jpg?s=128&g=1", "display_name": "Sarthak Mittal", "link": "https://stackoverflow.com/users/4269149/sarthak-mittal"}, "edited": false, "score": 0, "creation_date": 1521018122, "post_id": 49272161, "comment_id": 85549428, "body": "implement interface in activity"}, {"owner": {"reputation": 383, "user_id": 5879171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edaa3f0a03a368d7f98735c8d7f01a3a?s=128&d=identicon&r=PG&f=1", "display_name": "DB377", "link": "https://stackoverflow.com/users/5879171/db377"}, "edited": false, "score": 0, "creation_date": 1521021851, "post_id": 49272161, "comment_id": 85551876, "body": "Create a public method in adapter. Then call that method in onclicklistner you mentioned above. then in your main activity you can override that method when you initialize your custom adapter."}, {"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521022908, "post_id": 49272161, "comment_id": 85552635, "body": "can you give me an example?"}, {"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "reply_to_user": {"reputation": 4599, "user_id": 4269149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0Ccc.jpg?s=128&g=1", "display_name": "Sarthak Mittal", "link": "https://stackoverflow.com/users/4269149/sarthak-mittal"}, "edited": false, "score": 0, "creation_date": 1521023197, "post_id": 49272161, "comment_id": 85552838, "body": "@SarthakMittal done with that its throwing an error while initializing adapter in activity"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521024836, "post_id": 49272617, "comment_id": 85553981, "body": "its giving error in activity while initializing adapter saying someting about listener"}, {"owner": {"reputation": 4599, "user_id": 4269149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0Ccc.jpg?s=128&g=1", "display_name": "Sarthak Mittal", "link": "https://stackoverflow.com/users/4269149/sarthak-mittal"}, "reply_to_user": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521025032, "post_id": 49272617, "comment_id": 85554111, "body": "@zebapathan then you need to post that error and ask for help resolving it! :)"}], "tags": [], "owner": {"reputation": 2341, "user_id": 3883569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c778021c6ac70c1fe99a0294b0ed664f?s=128&d=identicon&r=PG&f=1", "display_name": "FreshD", "link": "https://stackoverflow.com/users/3883569/freshd"}, "is_accepted": false, "score": 0, "last_activity_date": 1521015720, "last_edit_date": 1521015720, "creation_date": 1521015246, "answer_id": 49272617, "question_id": 49272161, "link": "https://stackoverflow.com/questions/49272161/how-to-call-mainactivity-method-in-customeadapter/49272617#49272617", "title": "how to call mainActivity method in customeAdapter", "body": "<p>The easiest solution would be to your activity as parameter to your recycler view. Then you could easaly call that function. But obviously this is not a very good aproach, so you should prefer the following.</p>\n\n<p>Create an interface which is implemented by your activity and called instead of the activities method. Within the implementation of the interface function you can call the activity function or whatever you like. As it is implemented by the activity itself you have full access to the whole activity context.</p>\n\n<p>A short example how this could be implemented is already answered <a href=\"https://stackoverflow.com/a/12142530/3883569\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521017577, "post_id": 49272667, "comment_id": 85549103, "body": "its giving me an error unresolved reference SenderOrder"}, {"owner": {"reputation": 866, "user_id": 4513913, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100000153391307/picture?type=large", "display_name": "Anuraag Baishya", "link": "https://stackoverflow.com/users/4513913/anuraag-baishya"}, "reply_to_user": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521017657, "post_id": 49272667, "comment_id": 85549143, "body": "It is probable that I might have missed out something, because I just converted Java to Kotlin. If Kotlin works some other way with references, I will not know"}], "tags": [], "owner": {"reputation": 866, "user_id": 4513913, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100000153391307/picture?type=large", "display_name": "Anuraag Baishya", "link": "https://stackoverflow.com/users/4513913/anuraag-baishya"}, "is_accepted": false, "score": 0, "last_activity_date": 1521015468, "creation_date": 1521015468, "answer_id": 49272667, "question_id": 49272161, "link": "https://stackoverflow.com/questions/49272161/how-to-call-mainactivity-method-in-customeadapter/49272667#49272667", "title": "how to call mainActivity method in customeAdapter", "body": "<p>First you need to create a context:</p>\n\n<pre><code>private val context: Context\n</code></pre>\n\n<p>Then add this context, along with other variables you might have, to your adapter constructor:</p>\n\n<pre><code>class Adapter(..., context: Context)\n</code></pre>\n\n<p>Inside you while loop:</p>\n\n<pre><code>while (m.find()) {\n    System.out.println(m.group)\n    if (context is MainActivity)\n    {\n        (context as MainActivity).SendOrder()\n    }\n}\n</code></pre>\n\n<p>Apologies for any syntax error, etc. My Kotlin is still a little rough.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521024548, "post_id": 49274931, "comment_id": 85553805, "body": "its saying that yourCustomAdapter does not have companion object and thus must be initialized here @line yourCustomAdapter = new YourCustomAdapter(){"}, {"owner": {"reputation": 383, "user_id": 5879171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edaa3f0a03a368d7f98735c8d7f01a3a?s=128&d=identicon&r=PG&f=1", "display_name": "DB377", "link": "https://stackoverflow.com/users/5879171/db377"}, "reply_to_user": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521030749, "post_id": 49274931, "comment_id": 85558110, "body": "can you show your code where you initialized adapter"}], "tags": [], "owner": {"reputation": 383, "user_id": 5879171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edaa3f0a03a368d7f98735c8d7f01a3a?s=128&d=identicon&r=PG&f=1", "display_name": "DB377", "link": "https://stackoverflow.com/users/5879171/db377"}, "is_accepted": false, "score": 0, "last_activity_date": 1521022268, "creation_date": 1521022268, "answer_id": 49274931, "question_id": 49272161, "link": "https://stackoverflow.com/questions/49272161/how-to-call-mainactivity-method-in-customeadapter/49274931#49274931", "title": "how to call mainActivity method in customeAdapter", "body": "<p>you can do like this:</p>\n\n<pre><code>holder?.button?.setOnClickListener( View.OnClickListener (){\n    Log.d(\"TAG\", \"job list position : ${jobList[position].id}\")\n    var id = jobList[position].id\n    val p = Pattern.compile(\"-?\\\\d+\")\n    val m = p.matcher(id)\n    while (m.find()) {\n        System.out.println(m.group())\n         mySendOrder()\n    }\n});\n\npublic void mySendOrder(){\n}\n</code></pre>\n\n<p>and then in main activity:</p>\n\n<pre><code>yourCustomAdapter = new YourCustomAdapter(){\npublic void mySendOrder(){\n    sendOrder();\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521025230, "post_id": 49275480, "comment_id": 85554257, "body": "what should i write in recyclerView.adapter = MyAdapter() {         // Do something     }. this will be my sendOrder method??"}, {"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1521025486, "post_id": 49275480, "comment_id": 85554466, "body": "its saying in activity no value passed for parameter joblist my adapter is class CustomAdapterJob(val jobList: ArrayList&lt;JobData&gt;, private val sendOrder: () -&gt; Unit = {}): RecyclerView.Adapter&lt;CustomAdapterJob.ViewHolder&gt;(){"}], "tags": [], "owner": {"reputation": 125, "user_id": 6224750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204455659991483/picture?type=large", "display_name": "babedev", "link": "https://stackoverflow.com/users/6224750/babedev"}, "is_accepted": false, "score": 0, "last_activity_date": 1521023846, "creation_date": 1521023846, "answer_id": 49275480, "question_id": 49272161, "link": "https://stackoverflow.com/questions/49272161/how-to-call-mainactivity-method-in-customeadapter/49275480#49275480", "title": "how to call mainActivity method in customeAdapter", "body": "<p>In case if you don't need Context or Activity object in your adapter. You can pass callback as parameters. May be something like this</p>\n\n<pre><code>class MyAdapter(private val sendOrder: () -&gt; Unit = {}) : BaseAdapter() {\n    fun onBindViewHolder(viewHolder: ViewHolder, position: Int) {\n        sendOrder()\n    }\n}\n</code></pre>\n\n<p>Then implement callback in Activity</p>\n\n<pre><code>fun onCreate(...) {\n    recyclerView.adapter = MyAdapter() {\n        // Do something\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7113113"}, "is_accepted": false, "score": 3, "last_activity_date": 1521029240, "last_edit_date": 1521029240, "creation_date": 1521028616, "answer_id": 49277224, "question_id": 49272161, "link": "https://stackoverflow.com/questions/49272161/how-to-call-mainactivity-method-in-customeadapter/49277224#49277224", "title": "how to call mainActivity method in customeAdapter", "body": "<p>Its better you create a listener and pass it to the adapter. </p>\n\n<p><strong>Interface</strong></p>\n\n<pre><code>interface ActivityInteractor {\n    fun onInteraction(data: Any?)\n}\n</code></pre>\n\n<p><strong>Implement the interface in your activity</strong></p>\n\n<pre><code>class MainActivity : Activity(), ActivityInteractor {\n\n    override fun onCreate(savedInstance : Bundle) {\n        CustomAdapterJob(jobList, this)\n    }\n\n    override fun onInteraction(data: Any?) {\n        // you can do any activity related tasks here\n        sendOrder()\n    }\n}\n</code></pre>\n\n<p><strong>Accept the listener in your adapter</strong></p>\n\n<pre><code>class CustomAdapterJob(val jobList: ArrayList&lt;JobData&gt;, val activityInteractor: ActivityInteractor) : RecyclerView.Adapter&lt;CustomAdapterJob.ViewHolder&gt;() {\n    holder?.button?.setOnClickListener( View.OnClickListener () {\n        Log.d(\"TAG\", \"job list position : ${jobList[position].id}\")\n        var id = jobList[position].id\n        val p = Pattern.compile(\"-?\\\\d+\")\n        val m = p.matcher(id)\n        while (m.find()) {\n            System.out.println(m.group())\n            //sendOrder()\n            activityInteractor.onInteraction(jobList[position].id)\n        }\n    });\n}\n</code></pre>\n\n<p>Instead of creating the new interface you can implement onClickListener in the activity and can pass it as a parameter to the adapter class. In the adapter, you can set this onClick listener to your button.</p>\n\n<p>Use kotlin data binding concept to avoid those boilerplate codes like findViewById. please check this <a href=\"https://medium.com/@jencisov/androids-data-binding-with-kotlin-df94a24ffc0f\" rel=\"noreferrer\">link</a>  </p>\n"}], "owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1521029240, "creation_date": 1521013570, "last_edit_date": 1521026437, "question_id": 49272161, "link": "https://stackoverflow.com/questions/49272161/how-to-call-mainactivity-method-in-customeadapter", "title": "how to call mainActivity method in customeAdapter", "body": "<p>I am using recyclerview in kotlin and I am new to kotlin. I have used <code>button.setOnClickListner</code> method inside this. I want to call a method which is in my <code>mainActivity</code>. How should I do it</p>\n\n<p><strong>I want to call below method which is in <code>mainActivity</code></strong></p>\n\n<pre><code>fun sendOrder() {\n\n        Log.e(\"TAG\", \"SendOrder: \"  )\n\n    }\n</code></pre>\n\n<p><strong>my adapter is below</strong></p>\n\n<pre><code>class CustomAdapterJob(val jobList: ArrayList&lt;JobData&gt;): RecyclerView.Adapter&lt;CustomAdapterJob.ViewHolder&gt;(){\noverride fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n    val jobData :JobData = jobList[position]\n    holder?.textViewId?.text = jobData.id\n    holder?.textViewArea?.text = jobData.area\n    holder?.textViewCarType?.text = jobData.carType\n    holder?.textViewCarName?.text = jobData.carName\n    holder?. textViewDutyHours?.text = jobData.dutyHours\n    holder?.textViewWeeklyOff?.text = jobData.weeklyOff\n    holder?.textViewDriverAge?.text = jobData.driverAge\n    holder?.textViewDriverExperience?.text = jobData.drivingExperience\n    holder?.textViewOutstationDays?.text = jobData.outstationDays\n    holder?.textViewDutyDetails?.text = jobData.dutyDetails\n    holder?.button?.text =jobData.submit\n    if(jobData.submit == \"true\"){\n        holder?.button?.setVisibility(View.GONE);\n    }\n\n    holder?.button?.setOnClickListener( View.OnClickListener (){\n        Log.d(\"TAG\", \"job list position : ${jobList[position].id}\")\n        var id = jobList[position].id\n        val p = Pattern.compile(\"-?\\\\d+\")\n        val m = p.matcher(id)\n        while (m.find()) {\n            System.out.println(m.group())\n            sendOrder()\n        }\n    });\n\n    //To change body of created functions use File | Settings | File Templates.\n}\n\noverride fun getItemCount(): Int {\n     return jobList.size//To change body of created functions use File | Settings | File Templates.\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n    val v=LayoutInflater.from(parent?.context).inflate(R.layout.job_card,parent,false)\n    return ViewHolder(v)\n    //To change body of created functions use File | Settings | File Templates.\n}\n\nclass ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n    val textViewId = itemView.findViewById&lt;TextView&gt;(R.id.job_id)\n    val textViewArea = itemView.findViewById&lt;TextView&gt;(R.id.area)\n    val textViewCarType = itemView.findViewById&lt;TextView&gt;(R.id.car_type)\n    val textViewCarName = itemView.findViewById&lt;TextView&gt;(R.id.car_name)\n    val textViewDutyHours = itemView.findViewById&lt;TextView&gt;(R.id.duty_hours)\n    val textViewWeeklyOff = itemView.findViewById&lt;TextView&gt;(R.id.weekly_off)\n    val textViewDriverAge = itemView.findViewById&lt;TextView&gt;(R.id.driver_age)\n    val textViewDriverExperience = itemView.findViewById&lt;TextView&gt;(R.id.driving_experience)\n    val textViewOutstationDays = itemView.findViewById&lt;TextView&gt;(R.id.outstation_days)\n    val textViewDutyDetails = itemView.findViewById&lt;TextView&gt;(R.id.duty_details)\n    val button = itemView.findViewById&lt;Button&gt;(R.id.apply_job)\n\n}}\n</code></pre>\n\n<p>now how i have to call sendOrder() method in kotline</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1521015260, "post_id": 49272054, "comment_id": 85547867, "body": "It&#39;s extremely clear that these operations are included in the doc"}, {"owner": {"reputation": 91, "user_id": 4792224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRJLE.jpg?s=128&g=1", "display_name": "gekson", "link": "https://stackoverflow.com/users/4792224/gekson"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1521105918, "post_id": 49272054, "comment_id": 85593328, "body": "Sorry for that question is not clear! I mean call java list method remove, which has the same name."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 4792224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRJLE.jpg?s=128&g=1", "display_name": "gekson", "link": "https://stackoverflow.com/users/4792224/gekson"}, "edited": false, "score": 0, "creation_date": 1521087229, "post_id": 49272444, "comment_id": 85585637, "body": "Thanks for answer. How about kotlin call java method? In java there is only the same method named remove() , and the meaning is not clear. Not like kotlin has method removeAt to remove the element in position, or method remove to an object. In java without kotlin , we can use Int and Integer to distinguish the meaning of the same name method."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1521108460, "post_id": 49272444, "comment_id": 85595028, "body": "Kotlin renames the <code>remove(int)</code> method to <code>removeAt</code> to avoid confusion. A call to <code>removeAt</code> in Kotlin code gets compiled to a call of <code>remove(int)</code> method."}, {"owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1521108635, "post_id": 49272444, "comment_id": 85595147, "body": "@yole Thank you for clarifying this. I was also not aware that <code>removeAt</code> would get compiled to  <code>remove(int)</code>. Also many thanks for editing and clarifying this in the answer itself."}], "tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": false, "score": 3, "last_activity_date": 1521108608, "last_edit_date": 1521108608, "creation_date": 1521014660, "answer_id": 49272444, "question_id": 49272054, "link": "https://stackoverflow.com/questions/49272054/how-to-use-mutablelist-to-remove-with-kotlin-call-java/49272444#49272444", "title": "How to use MutableList to remove with kotlin call java?", "body": "<p>There are overall 4 methods for removing items in <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"nofollow noreferrer\"><code>kotlin.collections.MutableList</code></a> as of Kotlin 1.2.30:</p>\n\n<ul>\n<li><code>remove</code> - used to remove element once. Calls to this method are compiled to calls to the Java method <code>List.remove(Object o)</code>.</li>\n<li><code>removeAt</code> - used to remove at a certain position. Calls to this method are compiled to calls to the Java method <code>List.remove(int index)</code>.</li>\n<li><code>removeAll</code> - used to remove a collection, each element multiple times</li>\n<li><code>removeIf</code> - remove using a predicate, each element multiple times</li>\n</ul>\n\n<p>Below is an example of how you can use each method. In the comments you can find what each method would print to the console and a brief explanation of what it does:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val l: MutableList&lt;Int&gt; = mutableListOf&lt;Int&gt;(1, 2, 3, 3, 4, 5, 6, 7, 1, 1, 1)\n    println(l.remove(1))               // true\n    println(l)                         // [2, 3, 3, 4, 5, 6, 7, 1, 1, 1] - removes first element and stops\n    println(l.removeAt(0))             // 2 - removes exactly on a specific position\n    println(l)                         // [3, 3, 4, 5, 6, 7, 1, 1, 1]\n    try {\n        println(l.removeAt(10000))\n    } catch(e: IndexOutOfBoundsException) {\n        println(e)                            // java.lang.IndexOutOfBoundsException: Index: 10000, Size: 9\n    }\n    println(l.removeAll(listOf(3, 4, 5)))     // true\n    println(l)                                // [6, 7, 1, 1, 1] - removes elements in list multiple times, 3 removed multiple times\n    println(l.removeIf { it == 1 })           // true\n    println(l)                                // [6, 7] - all ones removed\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>true\n[2, 3, 3, 4, 5, 6, 7, 1, 1, 1]\n2\n[3, 3, 4, 5, 6, 7, 1, 1, 1]\njava.lang.IndexOutOfBoundsException: Index: 10000, Size: 9\ntrue\n[6, 7, 1, 1, 1]\ntrue\n[6, 7]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": -1, "last_activity_date": 1521015117, "creation_date": 1521015117, "answer_id": 49272592, "question_id": 49272054, "link": "https://stackoverflow.com/questions/49272054/how-to-use-mutablelist-to-remove-with-kotlin-call-java/49272592#49272592", "title": "How to use MutableList to remove with kotlin call java?", "body": "<p>used below code for mutablelistof in kotlin  ...</p>\n\n<pre><code>var stringlist= mutableListOf&lt;String&gt;() // hear pass your object type also\nstringlist.add(\"Hello\")\nstringlist.add(\"ajay\")\nstringlist.add(\"How\")\nstringlist.add(\"are\")\n\nstringlist.remove(\"ajay\") // if your list containg object data then pass object.\nfor (data in stringlist){\n    Log.d(\"Value::\",data)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 4792224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRJLE.jpg?s=128&g=1", "display_name": "gekson", "link": "https://stackoverflow.com/users/4792224/gekson"}, "edited": false, "score": 1, "creation_date": 1521301467, "post_id": 49296289, "comment_id": 85677633, "body": "How about the list item&#39;s type is Int , and the mutableList is defined in java ? like new ArrayList&lt;Integer&gt;()"}, {"owner": {"reputation": 91, "user_id": 4792224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRJLE.jpg?s=128&g=1", "display_name": "gekson", "link": "https://stackoverflow.com/users/4792224/gekson"}, "edited": false, "score": 1, "creation_date": 1521369031, "post_id": 49296289, "comment_id": 85693366, "body": "I don&#39;t think so."}, {"owner": {"reputation": 14027, "user_id": 494879, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/1wDc0.png?s=128&g=1", "display_name": "ataulm", "link": "https://stackoverflow.com/users/494879/ataulm"}, "reply_to_user": {"reputation": 91, "user_id": 4792224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRJLE.jpg?s=128&g=1", "display_name": "gekson", "link": "https://stackoverflow.com/users/4792224/gekson"}, "edited": false, "score": 0, "creation_date": 1546806111, "post_id": 49296289, "comment_id": 94964288, "body": "@gekson with ArrayList there wouldn&#39;t be a conflict. <code>list.remove(3)</code> would call <code>remove(int index)</code> while <code>list.remove(new Integer(3))</code> would call <code>remove(Object element)</code>."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1547254476, "post_id": 49296289, "comment_id": 95142585, "body": "Yes, and we can use <code>list.remove(3 as Int?)</code> to box this integer."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1521107739, "creation_date": 1521107739, "answer_id": 49296289, "question_id": 49272054, "link": "https://stackoverflow.com/questions/49272054/how-to-use-mutablelist-to-remove-with-kotlin-call-java/49296289#49296289", "title": "How to use MutableList to remove with kotlin call java?", "body": "<p>Seems that other answers just give alternatives of <code>remove(int position)</code> but they didn't answer the question directly (according to the edit).</p>\n\n<p>So you can use this code:</p>\n\n<pre><code>val list = mutableListOf(\"ah!\", \"I\", \"died!\")\n(list as java.util.List&lt;String&gt;).remove(1)\nprintln(list)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[ah!, died!]\n</code></pre>\n\n<p>That's it! You've successfully invoked <code>remove(int position)</code> from Java.<br>\nThis will raise some warnings, just ignore them.</p>\n\n<p><a href=\"https://tio.run/##NYzBCsIwEETv/YptTglIwLsKHgXBg1@w0lRXN6mkm4CI3x7TiHMYmGHePCZhCqWMKcA@RnxtzhIpXHfWIwVt4N1BVUYGpllgCz4JXtgdazqNWuGtVytQh8UGckOvTCN0m@MMd8xokxDbBfnfGxudn7LT69/8WVvh0CjTfUr5Ag\" rel=\"nofollow noreferrer\" title=\"Kotlin \u2013 Try It Online\">Try it online!</a></p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 4792224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRJLE.jpg?s=128&g=1", "display_name": "gekson", "link": "https://stackoverflow.com/users/4792224/gekson"}, "is_accepted": false, "score": 1, "last_activity_date": 1521368973, "creation_date": 1521368973, "answer_id": 49346845, "question_id": 49272054, "link": "https://stackoverflow.com/questions/49272054/how-to-use-mutablelist-to-remove-with-kotlin-call-java/49346845#49346845", "title": "How to use MutableList to remove with kotlin call java?", "body": "<p>Finally i find the answer in <a href=\"https://kotlinlang.org/docs/reference/basic-types.html\" rel=\"nofollow noreferrer\">Kotlin doc</a> by myself. Kotlin will box generics \n int to Integer if you declare the variable as Int?, because only an Object can be null.You can use the tool in android studio which can show the kotlin bytecode to find out that. </p>\n\n<p>If we call java method like the question image:</p>\n\n<pre><code>val a:Int = 0\nremove(a) // will call java method remove(int position)\n\nval a:Int? = 0\nremove(a) // will call java method remove(T t) to remove object\n</code></pre>\n\n<p>the result is different! If have better choice, we should avoid use like that.</p>\n"}], "owner": {"reputation": 91, "user_id": 4792224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRJLE.jpg?s=128&g=1", "display_name": "gekson", "link": "https://stackoverflow.com/users/4792224/gekson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4681, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1546805741, "creation_date": 1521013176, "last_edit_date": 1546805741, "question_id": 49272054, "link": "https://stackoverflow.com/questions/49272054/how-to-use-mutablelist-to-remove-with-kotlin-call-java", "title": "How to use MutableList to remove with kotlin call java?", "body": "<p>I have a MutableList with generic with Int, like MutableList.\nI wonder how to use kotlin call java method remove(int position) and remove(Integer object) correctly? </p>\n\n<pre><code>public void remove(int position) {\n    if (this.list != null &amp;&amp; this.list.size() &gt; position) {\n        this.list.remove(position);\n        notifyDataSetChanged();\n    }\n}\n\npublic void remove(T t) {\n    if (t != null &amp;&amp; this.list != null &amp;&amp; !this.list.isEmpty()) {\n        boolean removed = false;\n        try {\n            removed = this.list.remove(t);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        if (removed) {\n            notifyDataSetChanged();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "admob"], "comments": [{"owner": {"reputation": 416, "user_id": 8246905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-Dc6BpTwaCYo/AAAAAAAAAAI/AAAAAAAAF8k/I3jEB4PIP3U/photo.jpg?sz=128", "display_name": "jigar savaliya", "link": "https://stackoverflow.com/users/8246905/jigar-savaliya"}, "edited": false, "score": 0, "creation_date": 1521006047, "post_id": 49270255, "comment_id": 85543826, "body": "No there is no needed to implement in all activity you have to just implement only on one activity ."}], "answers": [{"comments": [{"owner": {"reputation": 2908, "user_id": 1432239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/be90431046aeeaa0aeae3fd188731e34?s=128&d=identicon&r=PG", "display_name": "maclir", "link": "https://stackoverflow.com/users/1432239/maclir"}, "edited": false, "score": 0, "creation_date": 1590509158, "post_id": 49272778, "comment_id": 109703427, "body": "I would rather have that few milliseconds on loading my first ad than on my app booting up :|"}], "tags": [], "owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "is_accepted": true, "score": 19, "last_activity_date": 1521113836, "last_edit_date": 1521113836, "creation_date": 1521015926, "answer_id": 49272778, "question_id": 49270255, "link": "https://stackoverflow.com/questions/49270255/where-should-i-call-mobileads-initialize/49272778#49272778", "title": "Where should i call MobileAds.initialize()?", "body": "<p>From the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/ads/MobileAds.html#initialize(android.content.Context,%20java.lang.String)\" rel=\"noreferrer\">docs</a> of <code>MobileAds.initialize()</code>:</p>\n\n<blockquote>\n  <p>This method should be called as early as possible, and <strong>only once per\n  application launch</strong>.</p>\n</blockquote>\n\n<p>The proper way to do this would be to call it in the <code>onCreate()</code> method of the <code>Application</code> class.</p>\n\n<p>If you don't have an <code>Application</code> class, simply create one, something like this:</p>\n\n<pre><code>class YourApp: Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n        MobileAds.initialize(this, \"YOUR_ADMOB_APP_ID\")\n    }\n}\n</code></pre>\n\n<p>You have to reference this class in <em>AndroidManifest.xml</em>, by setting the <code>android:name</code> attribute of the <code>application</code> tag:</p>\n\n<pre><code>&lt;application\n    android:name=\".YourApp\"\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\"&gt;\n\n    &lt;!-- ... --&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p>And regarding your question:</p>\n\n<blockquote>\n  <p>why can the AdMob Ad be displayed correctly even if I remove</p>\n\n<pre><code>MobileAds.initialize(this, \"YOUR_ADMOB_APP_ID\")\n</code></pre>\n</blockquote>\n\n<p><a href=\"https://groups.google.com/d/msg/google-admob-ads-sdk/kayQ3VZJqkU/QDewNIFpBAAJ\" rel=\"noreferrer\">Quote</a> from <strong>Veer Arjun Busani</strong> of the Mobile Ads SDK team:</p>\n\n<blockquote>\n  <p>The Mobile Ads SDK take a few milliseconds to initialize itself and we\n  now have provided this method to call it way before you even call your\n  first ad. Once that is done, there would not be any added load time\n  for your first request. If you do not call this, then your very first\n  AdRequest would take a few milliseconds more as it first needs to\n  initialize itself.</p>\n</blockquote>\n\n<p>So basically if you do not call <code>MobileAds.initialize()</code>, then the first <code>AdRequest</code> will call it implicitly.</p>\n"}, {"tags": [], "owner": {"reputation": 356, "user_id": 6773606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d22d3eaae3ae0e37a195535f3904cc?s=128&d=identicon&r=PG&f=1", "display_name": "Zoran", "link": "https://stackoverflow.com/users/6773606/zoran"}, "is_accepted": false, "score": 0, "last_activity_date": 1581419276, "creation_date": 1581419276, "answer_id": 60167495, "question_id": 49270255, "link": "https://stackoverflow.com/questions/49270255/where-should-i-call-mobileads-initialize/60167495#60167495", "title": "Where should i call MobileAds.initialize()?", "body": "<p>Initializing MobileAds in Aplication context will cause error with InMobi mediation adapter</p>\n\n<pre><code>\"Adapter Initialization status: Not Ready\"\n</code></pre>\n\n<p>Tested with AdMob Test Suite.</p>\n\n<p>Solution is to initialize MobileAds in Activity context.</p>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 6842988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/333ae4d372b4fbd863282c17d396ef14?s=128&d=identicon&r=PG&f=1", "display_name": "ray1195", "link": "https://stackoverflow.com/users/6842988/ray1195"}, "is_accepted": false, "score": 1, "last_activity_date": 1589956257, "creation_date": 1589956257, "answer_id": 61906524, "question_id": 49270255, "link": "https://stackoverflow.com/questions/49270255/where-should-i-call-mobileads-initialize/61906524#61906524", "title": "Where should i call MobileAds.initialize()?", "body": "<p><code>MobileAds.initialize(this, \"YOUR-APP-ID\")</code> has deprecated.\n Use the below code instead.</p>\n\n<pre><code>import android.app.Application\nimport com.google.android.gms.ads.MobileAds\n\nclass MyApp: Application() {\n\n   override fun onCreate() {\n       MobileAds.initialize(applicationContext)\n       super.onCreate()\n   }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8524, "favorite_count": 2, "accepted_answer_id": 49272778, "answer_count": 3, "score": 11, "last_activity_date": 1589956257, "creation_date": 1521005123, "last_edit_date": 1521122569, "question_id": 49270255, "link": "https://stackoverflow.com/questions/49270255/where-should-i-call-mobileads-initialize", "title": "Where should i call MobileAds.initialize()?", "body": "<p>I have read <a href=\"https://developers.google.com/admob/android/quick-start?hl=en-US#import_the_mobile_ads_sdk\" rel=\"noreferrer\">https://developers.google.com/admob/android/quick-start?hl=en-US#import_the_mobile_ads_sdk</a></p>\n\n<p>I need to initialize MobileAds using Code A in order to display AdMob AD.</p>\n\n<p>I have some activities which need to display ADs, do I need to  add code A in my all activities?</p>\n\n<p>And more, why can the AdMob Ad be displayed correctly even if I remove   </p>\n\n<pre><code>MobileAds.initialize(this, \"YOUR_ADMOB_APP_ID\")\n</code></pre>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>import com.google.android.gms.ads.MobileAds;\n\nclass MainActivity : AppCompatActivity() {\n    ...\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Sample AdMob app ID: ca-app-pub-3940256099942544~3347511713\n        MobileAds.initialize(this, \"YOUR_ADMOB_APP_ID\")\n    }\n    ...\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "mocking", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "reply_to_user": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1521013832, "post_id": 49268350, "comment_id": 85547156, "body": "Thanks for the note. More clear now! That doesn&#39;t work :("}], "answers": [{"comments": [{"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "edited": false, "score": 1, "creation_date": 1521013497, "post_id": 49270003, "comment_id": 85546992, "body": "Thanks for the answer but still, it gives the same error. :("}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 0, "last_activity_date": 1521003230, "creation_date": 1521003230, "answer_id": 49270003, "question_id": 49268350, "link": "https://stackoverflow.com/questions/49268350/how-to-mock-a-module-wide-extension-method-with-mockito/49270003#49270003", "title": "How to mock a module wide extension method with mockito?", "body": "<p>That should be as easy as </p>\n\n<pre><code>    Mockito.`when`(mockConnection.inputStream).thenReturn(ByteArrayInputStream(\"test\".toByteArray()))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "edited": false, "score": 0, "creation_date": 1521017932, "post_id": 49273248, "comment_id": 85549303, "body": "Really thanks, and what about a module-wide function, which is just a function sit in a module without reside in a class, can mockito mock that?"}], "tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1521023169, "last_edit_date": 1521023169, "creation_date": 1521017479, "answer_id": 49273248, "question_id": 49268350, "link": "https://stackoverflow.com/questions/49268350/how-to-mock-a-module-wide-extension-method-with-mockito/49273248#49273248", "title": "How to mock a module wide extension method with mockito?", "body": "<p>This will not work because of the way Kotlin extension methods are implemented on the class / bytecode level. </p>\n\n<p>What you see in source code is <code>HttpURLConnection.getResult</code> but on the class/bytecode level there is another file created with a static method: <code>public final static getResult(HttpURLConnection, Charset)</code>.</p>\n\n<p>Mockito cannot mock static methods. If you really have to mock one, then I think <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">PowerMock</a> is capable of doing that.</p>\n\n<p>Edit:\nIf you have a module wide function then it is also generated on a class. Assuming you have a file <code>StreamFunctions.kt</code> with a function: <code>doSomething</code> then, there will be (by default) generated class <code>StreamFunctionsKt</code> with a static function <code>doSomething</code>. More details can be found here: <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html</a></p>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521023169, "creation_date": 1520990137, "last_edit_date": 1520994353, "question_id": 49268350, "link": "https://stackoverflow.com/questions/49268350/how-to-mock-a-module-wide-extension-method-with-mockito", "title": "How to mock a module wide extension method with mockito?", "body": "<p><strong>This is the method to test:</strong> <br>\nIt gets an URL and return a json after sending a GET request. It is a plain function which sits in a package rather than a method from a class. Same case for the extension method below.</p>\n\n<pre><code>fun getJson (url: String): String {\n    val connection = URL(url).openConnection() as HttpURLConnection\n    connection.requestMethod = \"GET\"\n    return connection.getResult()\n}\n</code></pre>\n\n<p><strong>This is the extension method:</strong> <br>\nIt will start connecting and read from result stream.</p>\n\n<pre><code>internal fun HttpURLConnection.getResult(charset: Charset = Charsets.UTF_8): String {\n    this.connect()\n    return this.inputStream.bufferedReader(charset).use { it.readText() }\n}\n</code></pre>\n\n<p><strong>This is the test case:</strong> <br>\nI tried to mock the <code>HttpURLConnection</code> that is about to be used here and call the original method, then just call the method and assert whether the mock has been set with the expected value.</p>\n\n<pre><code>class Spike {\n    @Test\n    fun test_getJson() {\n        val expectedResult = \"{ok: true}\"\n        val mockConnection = mock(HttpURLConnection::class.java)\n        Mockito.`when`(mockConnection.getResult()).thenReturn(expectedResult)\n\n        getJson(\"http://www.google.com\")\n\n        assertEquals(\"GET\", mockConnection.requestMethod)\n        assertEquals(\"http://www.google.com\", mockConnection.url.host)\n    }\n}\n</code></pre>\n\n<p><strong>This is the error</strong> <br></p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: this.inputStream must not be null    at\n  my.spike.pack.http.UtilsKt.getResult(utils.kt:45)</p>\n</blockquote>\n\n<p>It just like the mock is not working.</p>\n\n<p>How to solve this without changing the signature of the <code>getJson</code> function?</p>\n"}, {"tags": ["javascript", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 0, "last_activity_date": 1520990101, "last_edit_date": 1520990101, "creation_date": 1520980956, "answer_id": 49267028, "question_id": 49265728, "link": "https://stackoverflow.com/questions/49265728/kotlin-js-gradle-outputfile-wrong/49267028#49267028", "title": "kotlin-js gradle outputfile wrong", "body": "<p>Your <code>copy { ... }</code> block only sets up copying of the dependency files from the <code>compile</code> configuration, and it does not copy the resources of your project into <code>web</code>. Neither does the <code>compileKotlin2Js</code> task, which only puts the compiled Kotlin classes into that directory.</p>\n\n<p>To copy the resources of the <code>main</code> source set, you can add another <code>copy { ... }</code> block, like this:</p>\n\n<pre><code>build.doLast {\n    // ...\n    copy { \n        from sourceSets.main.output.resourcesDir\n        into \"${projectDir}/web\"\n    }\n}\n</code></pre>\n\n<p>And note that if you only copy the files, you may end up with stale output files left from the previous run (if a file no more exists in the source directory, its copy is not deleted from the target). Instead, consider using the default output file location for the <code>compileKotlin2Js</code> task and a <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Sync.html\" rel=\"nofollow noreferrer\"><code>Sync</code> task</a> to synchronize the directories, as described in <a href=\"https://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html\" rel=\"nofollow noreferrer\">this guide</a> (it does not mention the resources; add them with <code>from ...</code> as suggested above). If you need to customize the output file name, you can <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#module-names\" rel=\"nofollow noreferrer\">use <code>archivesBaseName</code></a> for that.</p>\n"}], "owner": {"reputation": 35, "user_id": 7215920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6caace9b7c55aa901c2f6ba16c81f410?s=128&d=identicon&r=PG&f=1", "display_name": "Murat Seyis", "link": "https://stackoverflow.com/users/7215920/murat-seyis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 49267028, "answer_count": 1, "score": 1, "last_activity_date": 1520990101, "creation_date": 1520974600, "question_id": 49265728, "link": "https://stackoverflow.com/questions/49265728/kotlin-js-gradle-outputfile-wrong", "title": "kotlin-js gradle outputfile wrong", "body": "<p>I'm working on kotlin-js example. I used this <a href=\"https://github.com/alphamu/KotlinFullstackSample\" rel=\"nofollow noreferrer\">sample</a>. When I was build frontend module(as shown in the picture below) I can't see <strong>web</strong> folder. But the resource files should be in <strong>web</strong> folder. What's wrong?</p>\n\n<p><a href=\"https://i.stack.imgur.com/3qLmQ.png\" rel=\"nofollow noreferrer\">Project Source Image</a></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.30'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\ngroup 'example'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'kotlin2js'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-js:$kotlin_version\"\n}\n\nbuild.doLast {\n    configurations.compile.each { File file -&gt;\n        copy {\n            includeEmptyDirs = false\n\n            from zipTree(file.absolutePath)\n            into \"${projectDir}/web\"\n            include { fileTreeElement -&gt;\n                def path = fileTreeElement.path\n                path.endsWith(\".js\") &amp;&amp; (path.startsWith(\"META-INF/resources/\") || !path.startsWith(\"META-INF/\"))\n            }\n        }\n    }\n}\n\ncompileKotlin2Js {\n    kotlinOptions.outputFile = \"${projectDir}/web/output.js\"\n    kotlinOptions.sourceMap = true\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "intellij-idea", "kotlin", "kapt"], "answers": [{"tags": [], "owner": {"reputation": 1936, "user_id": 723934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zz9oi.jpg?s=128&g=1", "display_name": "Yann C&#233;bron", "link": "https://stackoverflow.com/users/723934/yann-c%c3%a9bron"}, "is_accepted": false, "score": 3, "last_activity_date": 1521016647, "creation_date": 1521016647, "answer_id": 49272995, "question_id": 49264307, "link": "https://stackoverflow.com/questions/49264307/spring-configuration-metadata-in-multi-module-project-not-picked-up-by-intellij/49272995#49272995", "title": "Spring configuration metadata in multi-module project not picked up by IntelliJ", "body": "<p>This should work. Could you please create an issue here <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issues/IDEA</a> and attach a minimal sample project as ZIP (you can set visibility to 'idea-developers' to make it private). Thanks.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 535560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d33d25083090ef3b91adb024ac9ba6?s=128&d=identicon&r=PG", "display_name": "bedla.czech", "link": "https://stackoverflow.com/users/535560/bedla-czech"}, "is_accepted": false, "score": 0, "last_activity_date": 1581363201, "creation_date": 1581363201, "answer_id": 60157176, "question_id": 49264307, "link": "https://stackoverflow.com/questions/49264307/spring-configuration-metadata-in-multi-module-project-not-picked-up-by-intellij/60157176#60157176", "title": "Spring configuration metadata in multi-module project not picked up by IntelliJ", "body": "<p>I found workaround to add <code>spring-boot-configuration-processor</code> to second module (even when you dont have there any <code>@ConfigurationProperties</code> POJOs)</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>And I have created issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-232629\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-232629</a></p>\n"}], "owner": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1581363201, "creation_date": 1520968930, "question_id": 49264307, "link": "https://stackoverflow.com/questions/49264307/spring-configuration-metadata-in-multi-module-project-not-picked-up-by-intellij", "title": "Spring configuration metadata in multi-module project not picked up by IntelliJ", "body": "<p>I have the following multi-module layout:</p>\n\n<pre><code>rootProject\n\u251c\u2500\u2500 subProject library\n\u2514\u2500\u2500 subProject application\n</code></pre>\n\n<p>The library contains <code>@ConfigurationProperties</code> and has dependencies on the required stuff to generate the <code>spring-configuration-metadata.json</code> file. All of this works perfectely. The application has a dependency on the library and it can find the classes in there, autowiring with Spring works, \u2026 well, everything works.</p>\n\n<p>However, IntelliJ does not pick up the <code>spring-configuration-metadata.json</code> file from the library and as a consequence does not recognize those options in the <code>application.yml</code> file of the application.</p>\n\n<blockquote>\n  <p>How can I make IntelliJ aware of additional <code>spring-configuration-metadata.yml</code> files that it should load?</p>\n</blockquote>\n"}, {"tags": ["spring", "spring-mvc", "kotlin", "project-reactor", "spring-webflux"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520965773, "post_id": 49262882, "comment_id": 85530267, "body": "have you tried <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#escaping-for-java-identifiers-that-are-keywords-in-kotlin\" rel=\"nofollow noreferrer\"><code>Flux.`zip`</code></a>?"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1520971641, "last_edit_date": 1520971641, "creation_date": 1520971312, "answer_id": 49264935, "question_id": 49262882, "link": "https://stackoverflow.com/questions/49262882/spring-5-reactive-how-to-use-flux-zip-in-kotlin/49264935#49264935", "title": "Spring 5 reactive - How to use Flux.zip in Kotlin", "body": "<p>Since you're using the <code>zip</code> function that takes a <code>BiFunction</code> as its argument, the valid Kotlin equivalent looks like this:</p>\n\n<pre><code>val comb = BiFunction&lt;Game, Player, Tournament&gt; { _, _ -&gt; Tournament(...) }\nFlux.zip(games, players, comb)\n</code></pre>\n\n<p>This is called <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM Conversion</a>.</p>\n"}], "owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "accepted_answer_id": 49264935, "answer_count": 1, "score": 0, "last_activity_date": 1520971641, "creation_date": 1520964033, "last_edit_date": 1520965206, "question_id": 49262882, "link": "https://stackoverflow.com/questions/49262882/spring-5-reactive-how-to-use-flux-zip-in-kotlin", "title": "Spring 5 reactive - How to use Flux.zip in Kotlin", "body": "<p>I have this Java code:</p>\n\n<pre><code>    WebClient webClient = WebClient.create(\"http://localhost:8080/api/v1\");\n    Flux&lt;Game&gt; games = webClient.get().uri(\"/games\").retrieve().bodyToFlux(Game.class);\n    Flux&lt;Player&gt; players = webClient.get().uri(\"/players\").retrieve().bodyToFlux(Player.class);\n    Flux.zip(games, players, (g, p) -&gt; new Tournament(new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;()));\n</code></pre>\n\n<p>How can I translate it into Kotlin?</p>\n\n<pre><code>    val webClient = WebClient.create(\"http://localhost:8080/api/v1\")\n    val games = webClient.get().uri(\"/games\").retrieve().bodyToFlux(Game::class.java)\n    val players = webClient.get().uri(\"/players\").retrieve().bodyToFlux(Player::class.java)\n    Flux.zip&lt;Game, Player, Tournament&gt;(games, players) { g, p -&gt; Tournament(emptyList(), emptyList()) }\n</code></pre>\n\n<p>The above isn't valid, the zip method doesn't like its arguments:</p>\n\n<pre><code>Error:(24, 14) Kotlin: None of the following functions can be called with the arguments supplied: \n@SafeVarargs public final fun &lt;I : Any!, O : Any!&gt; zip(p0: (Array&lt;(out) Any!&gt;!) -&gt; Player!, p1: Int, p2: Array&lt;(out) Publisher&lt;out Game!&gt;!&gt;): Flux&lt;Player!&gt; defined in reactor.core.publisher.Flux\npublic final fun &lt;T1 : Any!, T2 : Any!, O : Any!&gt; zip(p0: (Subscriber&lt;in Game!&gt;!) -&gt; Unit, p1: (Subscriber&lt;in Player!&gt;!) -&gt; Unit, p2: (Game!, Player!) -&gt; Tournament!): Flux&lt;Tournament!&gt; defined in reactor.core.publisher.Flux\npublic final fun &lt;T1 : Any!, T2 : Any!, T3 : Any!&gt; zip(p0: (Subscriber&lt;in Game!&gt;!) -&gt; Unit, p1: (Subscriber&lt;in Player!&gt;!) -&gt; Unit, p2: (Subscriber&lt;in Tournament!&gt;!) -&gt; Unit): Flux&lt;Tuple3&lt;Game!, Player!, Tournament!&gt;!&gt; defined in reactor.core.publisher.Flux\npublic final fun &lt;O : Any!&gt; zip(p0: (Mutable)Iterable&lt;Publisher&lt;*&gt;!&gt;, p1: Int, p2: (Array&lt;(out) Any!&gt;!) -&gt; Game!): Flux&lt;Game!&gt; defined in reactor.core.publisher.Flux\npublic open fun &lt;O : Any!&gt; zip(p0: (Mutable)Iterable&lt;Publisher&lt;*&gt;!&gt;, p1: Int, p2: Function&lt;in Array&lt;(out) Any!&gt;!, out Game!&gt;): Flux&lt;Game!&gt; defined in reactor.core.publisher.Flux\npublic open fun &lt;T1 : Any!, T2 : Any!, O : Any!&gt; zip(p0: Publisher&lt;out Game!&gt;, p1: Publisher&lt;out Player!&gt;, p2: BiFunction&lt;in Game!, in Player!, out Tournament!&gt;): Flux&lt;Tournament!&gt; defined in reactor.core.publisher.Flux\npublic open fun &lt;T1 : Any!, T2 : Any!, T3 : Any!&gt; zip(p0: Publisher&lt;out Game!&gt;, p1: Publisher&lt;out Player!&gt;, p2: Publisher&lt;out Tournament!&gt;): Flux&lt;Tuple3&lt;Game!, Player!, Tournament!&gt;!&gt; defined in reactor.core.publisher.Flux\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 1, "creation_date": 1520964162, "post_id": 49262609, "comment_id": 85529390, "body": "Your current hackaround actually utilizes an entire CPU thread to 100% while the sequence is running...yikes. Use a scheduled executor + concurrent queue in the meantime."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1520965509, "post_id": 49262609, "comment_id": 85530148, "body": "Note that <code>buildSequence</code> can only be delayed synchronously: since the coroutine is run by an iterator, it always expects a suspension with a proper sequence element to return it as the iterator&#39;s next item. That&#39;s the reason why it <code>RestrictsSuspension</code>. Another concern, though, is that you use active wait instead of blocking the thread."}], "answers": [{"comments": [{"owner": {"reputation": 2352, "user_id": 1275092, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bc94e2c2b2e4a7338703ad4b28e0bc4b?s=128&d=identicon&r=PG", "display_name": "mattbdean", "link": "https://stackoverflow.com/users/1275092/mattbdean"}, "edited": false, "score": 0, "creation_date": 1520975439, "post_id": 49264420, "comment_id": 85535204, "body": "Thank you, that makes a lot of sense. I didn&#39;t realize I was creating a synchronous coroutine"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1541881042, "post_id": 49264420, "comment_id": 93371500, "body": "Also seems like you can try to write: suspend { delay(DELAY) } and it will work (at least it compiles)"}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "reply_to_user": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1547469310, "post_id": 49264420, "comment_id": 95191487, "body": "@AntonShkurenko It just creates and throws away a lambda, i.e. a no-op"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 10, "last_activity_date": 1549607813, "last_edit_date": 1549607813, "creation_date": 1520969373, "answer_id": 49264420, "question_id": 49262609, "link": "https://stackoverflow.com/questions/49262609/whats-the-recommended-way-to-delay-kotlins-buildsequence/49264420#49264420", "title": "What&#39;s the recommended way to delay Kotlin&#39;s buildSequence?", "body": "<h3>Why does it not work? Some research</h3>\n\n<p>When we look at <code>buildSequence</code>, we can see that it takes an <code>builderAction: suspend SequenceBuilder&lt;T&gt;.() -&gt; Unit</code> as its argument. As a client of that method, you'll be able to hand on a <code>suspend</code> lambda that has <code>SequenceBuilder</code> as its receiver (read about lambda with receiver <a href=\"https://stackoverflow.com/a/48244776/8073652\">here</a>). <br>\nThe <code>SequenceBuilder</code> itself is annotated with <code>RestrictSuspension</code>:</p>\n\n<pre><code>@RestrictsSuspension\n@SinceKotlin(\"1.1\")\npublic abstract class SequenceBuilder&lt;in T&gt; ...\n</code></pre>\n\n<p>The annotation is defined and commented like this:</p>\n\n<pre><code>/**\n * Classes and interfaces marked with this annotation are restricted\n * when used as receivers for extension `suspend` functions. \n * These `suspend` extensions can only invoke other member or extension     \n * `suspend` functions on this particular receiver only \n * and are restricted from calling arbitrary suspension functions.\n */\n@SinceKotlin(\"1.1\") @Target(AnnotationTarget.CLASS) @Retention(AnnotationRetention.BINARY)\npublic annotation class RestrictsSuspension\n</code></pre>\n\n<p>As the <code>RestrictSuspension</code> documentation tells, in the case of <code>buildSequence</code>, you can pass a lambda with <code>SequenceBuilder</code> as its receiver but with <strong>restricted</strong> possibilities since you'll only be able to call \"other member or extension <code>suspend</code> functions on this particular receiver\". That means, the block passed to <code>buildSequence</code> may call any method defined on <code>SequenceBuilder</code> (like <code>yield</code>, <code>yieldAll</code>). Since, on the other hand, the block is \"restricted from calling arbitrary suspension functions\", using <code>delay</code> does not work. The resulting compiler error verifies it: </p>\n\n<blockquote>\n  <p>Restricted suspended functions can only invoke member or extension suspending functions on their restricted coroutine scope. </p>\n</blockquote>\n\n<p>Ultimately, you need to be aware that the <code>buildSequence</code> creates a coroutine that is an example of a <em>synchronous</em> coroutine. In your example, the sequence code will be executed in the same thread that consumes the sequence by calling <code>connect()</code>.</p>\n\n<h3>How to delay the sequence?</h3>\n\n<p>As we learned, The <code>buildSequence</code> creates a <em>synchronous</em> sequence. It's fine to use regular Thread blocking here:</p>\n\n<pre><code>fun connect(): Sequence&lt;T&gt; = buildSequence {\n    while (true) {\n        val result = dataSource.getFirstPage()\n        yieldAll(result)\n        Thread.sleep(1000)\n    }\n}\n</code></pre>\n\n<p>But, do you really want an entire thread to be blocked? Alternatively, you can implement asynchronous sequences as described <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/coroutines.md#asynchronous-sequences\" rel=\"nofollow noreferrer\">here</a>. As a result, using <code>delay</code> and other suspending functions will be valid.</p>\n"}], "owner": {"reputation": 2352, "user_id": 1275092, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bc94e2c2b2e4a7338703ad4b28e0bc4b?s=128&d=identicon&r=PG", "display_name": "mattbdean", "link": "https://stackoverflow.com/users/1275092/mattbdean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 2, "accepted_answer_id": 49264420, "answer_count": 1, "score": 4, "last_activity_date": 1549607813, "creation_date": 1520963076, "question_id": 49262609, "link": "https://stackoverflow.com/questions/49262609/whats-the-recommended-way-to-delay-kotlins-buildsequence", "title": "What&#39;s the recommended way to delay Kotlin&#39;s buildSequence?", "body": "<p>I'm trying to poll a paginated API and provide new items to the user as they appear.</p>\n\n<pre><code>fun connect(): Sequence&lt;T&gt; = buildSequence {\n    while (true) {\n        // result is a List&lt;T&gt;\n        val result = dataSource.getFirstPage()\n        yieldAll(/* the new data in `result` */)\n\n        // Block the thread for a little bit\n    }\n}\n</code></pre>\n\n<p>Here's the sample usage:</p>\n\n<pre><code>for (item in connect()) {\n    // do something as each item is made available\n}\n</code></pre>\n\n<p>My first thought was to use the <code>delay</code> function, but I get this message:</p>\n\n<blockquote>\n  <p>Restricted suspended functions can only invoke member or extension suspending functions on their restricted coroutine scope</p>\n</blockquote>\n\n<p>This is the signature for <code>buildSequence</code>:</p>\n\n<pre><code>public fun &lt;T&gt; buildSequence(builderAction: suspend SequenceBuilder&lt;T&gt;.() -&gt; Unit): Sequence&lt;T&gt;\n</code></pre>\n\n<p>I think this message means that I can only use the <code>suspend</code> functions in SequenceBuilder: <code>yield</code> and <code>yieldAll</code> and that using arbitrary <code>suspend</code> function calls aren't allowed.</p>\n\n<p>Right now I'm using this to block the sequence building by one second after every time the API is polled:</p>\n\n<pre><code>val resumeTime = System.nanoTime() + TimeUnit.SECONDS.toNanos(1)\nwhile (resumeTime &gt; System.nanoTime()) {\n    // do nothing\n}\n</code></pre>\n\n<p>This works, but it really doesn't seem like a good solution. Has anybody encountered this issue before? </p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito", "powermockito"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1520960609, "post_id": 49261712, "comment_id": 85527350, "body": "How is it possible that you weren&#39;t successful with the the options you mentioned? Show us your code please!"}, {"owner": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "edited": false, "score": 0, "creation_date": 1520962275, "post_id": 49261712, "comment_id": 85528311, "body": "Just a week ago I answered identical question: <a href=\"https://stackoverflow.com/questions/49126220/how-to-mock-kotlin-object-in-android/49126371#49126371\" title=\"how to mock kotlin object in android\">stackoverflow.com/questions/49126220/&hellip;</a>"}, {"owner": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1520962380, "post_id": 49261712, "comment_id": 85528372, "body": "@Selvin Your comment didn&#39;t bring anything useful. Objects in Kotlin are totaly fine. I suggest reading about them first."}, {"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1521018587, "post_id": 49261712, "comment_id": 85549704, "body": "Code added @Lovis"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1521018830, "post_id": 49261712, "comment_id": 85549851, "body": "Check your <code>any()</code>, it returns null."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1521018868, "post_id": 49261712, "comment_id": 85549873, "body": "what @ice1000 says."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1521019856, "post_id": 49261712, "comment_id": 85550496, "body": "And please tell us the signature of <code>newIntent</code>. If it&#39;s a <code>Context</code>, then replace <code>any()</code> with <code>any&lt;Activity&gt;()</code>."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521020316, "post_id": 49261712, "comment_id": 85550818, "body": "or try <code>any&lt;MockContext&gt;()</code>"}, {"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1521022595, "post_id": 49261712, "comment_id": 85552403, "body": "I&#39;ve tried any&lt;Activity&gt;() and any&lt;MockContext&gt;() and same error is thrown, yes @ice1000 It&#39;s a context"}], "answers": [{"comments": [{"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1521016457, "post_id": 49264537, "comment_id": 85548459, "body": "I already did that and can mock classes, problem is mocking objects"}, {"owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "edited": false, "score": 0, "creation_date": 1521043529, "post_id": 49264537, "comment_id": 85567658, "body": "Oh. It works for Robolectric. I don&#39;t know how to mock objects. You&#39;d have to create a mock instance of the object class, and then use reflection to swap out it&#39;s value on the <code>INSTANCE</code> variable where the object is stored."}], "tags": [], "owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "is_accepted": false, "score": -2, "last_activity_date": 1520969839, "creation_date": 1520969839, "answer_id": 49264537, "question_id": 49261712, "link": "https://stackoverflow.com/questions/49261712/how-to-mock-objects-in-kotlin/49264537#49264537", "title": "How to mock objects in Kotlin?", "body": "<p><a href=\"https://antonioleiva.com/mockito-2-kotlin/\" rel=\"nofollow noreferrer\">This blog post</a> clearly demonstrates how to do this using mockito. I highly recommend this approach. It's really simple.</p>\n\n<p>Basically, in your <code>src/test/resources</code> folder create a folder: <code>mockito-extensions</code>. Add a file in that directory called <code>org.mockito.plugins.MockMaker</code>, and inside that file have the following text:</p>\n\n<pre><code>mock-maker-inline\n</code></pre>\n\n<p>You can now mock final kotlin classes and methods.</p>\n"}, {"comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521018921, "post_id": 49273652, "comment_id": 85549901, "body": "maybe add a solution as well?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521018943, "post_id": 49273652, "comment_id": 85549920, "body": "I don&#39;t know anything about the implementation of his <code>any()</code>, so no idea.."}, {"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1521019267, "post_id": 49273652, "comment_id": 85550118, "body": "This is any() implementation <a href=\"https://github.com/nhaarman/mockito-kotlin/blob/3566e9121de1b0dceb2fa0b783447773327c3314/mockito-kotlin/src/main/kotlin/com/nhaarman/mockito_kotlin/Mockito.kt\" rel=\"nofollow noreferrer\">github.com/nhaarman/mockito-kotlin/blob/&hellip;</a>, I&#39;ve also tried with fun &lt;T&gt; safeAny(): T = Mockito.any&lt;T&gt;() with same result"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1521019416, "post_id": 49273652, "comment_id": 85550212, "body": "@aloj you sure that it&#39;s <code>any</code> from mockito-kotlin, and not accidently from Mockito itself? Check your imports, please"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1521019581, "post_id": 49273652, "comment_id": 85550318, "body": "Could you please replace <code>any()</code> with <code>any().also(::println)</code> and tell us the command line output."}, {"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1521022924, "post_id": 49273652, "comment_id": 85552649, "body": "I added and I think I can see this in the error message:  You cannot use argument matchers outside of verification or stubbing. Examples of correct usage of argument matchers:     when(mock.get(anyInt())).thenReturn(null);     doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());     verify(mock).someMethod(contains(&quot;foo&quot;))"}, {"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1521022929, "post_id": 49273652, "comment_id": 85552653, "body": "This message may appear after an NullPointerException if the last matcher is returning an object  like any() but the stubbed method signature expect a primitive argument, in this case, use primitive alternatives.     when(mock.get(any())); // bad use, will raise NPE     when(mock.get(anyInt())); // correct usage use  Also, this error might show up because you use argument matchers with methods that cannot be mocked. Following methods <i>cannot</i> be stubbed/verified: final/private/equals()/hashCode(). Mocking methods declared on non-public parent classes is not supported."}, {"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1521023496, "post_id": 49273652, "comment_id": 85553074, "body": "com.mobilendo.planes.ui.profile.edit.EditProfilePresenterTes&zwnj;&#8203;t &gt; shouldCallIntentGenerator FAILED     java.lang.IllegalArgumentException at EditProfilePresenterTest.kt:131  com.mobilendo.planes.ui.profile.edit.EditProfilePresenterTes&zwnj;&#8203;t &gt; Test mechanism.classMethod FAILED     org.mockito.exceptions.misusing.InvalidUseOfMatchersExceptio&zwnj;&#8203;n"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1521028055, "post_id": 49273652, "comment_id": 85556242, "body": "I can&#39;t figure out which words are your description and which are command line output"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1521028370, "post_id": 49273652, "comment_id": 85556450, "body": "If <code>any().also(::println)</code> fails please use <code>any&lt;MockContext&gt;().also(::println)</code>"}, {"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1521034175, "post_id": 49273652, "comment_id": 85560540, "body": "Please @ice1000 find it here <a href=\"https://pastebin.com/qy641Gzw\" rel=\"nofollow noreferrer\">pastebin.com/qy641Gzw</a>, I don&#39;t know If you mean exactly this by command line output"}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1521153909, "post_id": 49273652, "comment_id": 85622860, "body": "@ice1000 the question seems pretty well asked to me, the problem is clear, it shows the some effort to solve it and it has value for other people who might run into the same problem"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1521169466, "post_id": 49273652, "comment_id": 85626820, "body": "@lelloman it&#39;s because the asker has edited the question multiple times, under the commenters&#39; instructions"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1521028410, "last_edit_date": 1521028410, "creation_date": 1521018865, "answer_id": 49273652, "question_id": 49261712, "link": "https://stackoverflow.com/questions/49261712/how-to-mock-objects-in-kotlin/49273652#49273652", "title": "How to mock objects in Kotlin?", "body": "<p>Check your <code>any()</code>, it returns null, and this is the cause of your exception.</p>\n\n<p>To debug, replace <code>any()</code> with <code>any().also(::println)</code> and see the command line output.<br>\nIf <code>any().also(::println)</code> fails please use <code>any&lt;MockContext&gt;().also(::println)</code>.</p>\n\n<p>I've just read the implementation of the mock framework. <code>any</code> has a type parameter which has implicitly inferred. From your error message, I guess the type of <code>newIntent</code>'s parameter is <code>Context</code>, which is an abstract class, so of course you can't create an instance of it.</p>\n\n<p>If my guess is true, replace <code>any()</code> with <code>any&lt;Activity&gt;()</code> will probably solve this.<br>\nAnd whether my guess is true or not, please read the StackOverflow help center and \"git gud scrub\" about how to ask programming questions. The information you've provided is extremely unhelpful for solving your question.</p>\n"}, {"comments": [{"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 1, "creation_date": 1521479500, "post_id": 49308853, "comment_id": 85738224, "body": "Working with Mockk! Thanks!"}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "reply_to_user": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1521484694, "post_id": 49308853, "comment_id": 85741240, "body": "@aloj you&#39;re welcome :) The second option was just for fun actually, I wouldn&#39;t use it in a commercial project"}, {"owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "edited": false, "score": 0, "creation_date": 1581585376, "post_id": 49308853, "comment_id": 106487057, "body": "@lelloman you wrote that using <code>object IntentGenerator</code> is a code smell. Do you have any good sources on this subject? I am often struggle when to use <code>object</code> and when not to use it (apart from testability and stateful objects)."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1581588853, "post_id": 49308853, "comment_id": 106489145, "body": "I would suggest uncle Bob&#39;s talks about clean code. My point there is not really against <code>object</code> itself, but the fact that you end up with a static dependency inside your class."}], "tags": [], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "is_accepted": true, "score": 10, "last_activity_date": 1521199154, "last_edit_date": 1521199154, "creation_date": 1521146638, "answer_id": 49308853, "question_id": 49261712, "link": "https://stackoverflow.com/questions/49261712/how-to-mock-objects-in-kotlin/49308853#49308853", "title": "How to mock objects in Kotlin?", "body": "<p>First, that <code>object IntentGenerator</code> looks like a code smell, why would you make it an <code>object</code>? If it's not your code you could easily create a wrapper class</p>\n\n<pre><code>class IntentGeneratorWrapper {\n\n    fun newIntent(context: Context) = IntentGenerator.newIntent(context)    \n\n}\n</code></pre>\n\n<p>And use that one in your code, without static dependencies. </p>\n\n<p>That being said, I have 2 solutions. Say you have an <code>object</code></p>\n\n<pre><code>object IntentGenerator {\n    fun newIntent(context: Context) = Intent()\n}\n</code></pre>\n\n<p><strong>Solution 1 - Mockk</strong></p>\n\n<p>With <a href=\"http://mockk.io\" rel=\"noreferrer\">Mockk</a> library the syntax is a bit funny compared to Mockito but, hey, it works:</p>\n\n<pre><code>testCompile \"io.mockk:mockk:1.7.10\"\ntestCompile \"com.nhaarman:mockito-kotlin:1.5.0\"\n</code></pre>\n\n<p>Then in your test you use <code>objectMockk</code> fun with your <code>object</code> as argument and that will return a scope on which you call <code>use</code>, within <code>use</code> body you can mock the <code>object</code>:</p>\n\n<pre><code>@Test\nfun testWithMockk() {\n    val intent: Intent = mock()\n    whenever(intent.action).thenReturn(\"meow\")\n\n    objectMockk(IntentGenerator).use {\n        every { IntentGenerator.newIntent(any()) } returns intent\n        Assert.assertEquals(\"meow\", IntentGenerator.newIntent(mock()).action)\n    }\n}\n</code></pre>\n\n<p><strong>Solution 2 - Mockito + reflection</strong></p>\n\n<p>In your test resources folder create a <code>mockito-extensions</code> folder (e.g. if you're module is \"app\" -> <code>app/src/test/resources/mockito-extensions</code>) and in it a file named <code>org.mockito.plugins.MockMaker</code>. In the file just write this one line <code>mock-maker-inline</code>. Now you can mock final classes and methods (both <code>IntentGenerator</code> class and <code>newIntent</code> method are final).</p>\n\n<p>Then you need to</p>\n\n<ol>\n<li>Create an instance of <code>IntentGenerator</code>. Mind that <code>IntentGenerator</code> is just a regular java class, I invite you to check it with <code>Kotlin bytecode</code> window in Android Studio</li>\n<li>Create a spy object with Mockito on that instance and mock the method</li>\n<li>Remove the final modifier from <code>INSTANCE</code> field. When you declare an <code>object</code> in Kotlin what is happening is that a class (<code>IntentGenerator</code> in this case) is created with a private constructor and a static <code>INSTANCE</code> method. That is, a singleton.</li>\n<li>Replace <code>IntentGenerator.INSTANCE</code> value with your own mocked instance.</li>\n</ol>\n\n<p>The full method would look like this:</p>\n\n<pre><code>@Test\nfun testWithReflection() {\n    val intent: Intent = mock()\n    whenever(intent.action).thenReturn(\"meow\")\n\n    // instantiate IntentGenerator\n    val constructor = IntentGenerator::class.java.declaredConstructors[0]\n    constructor.isAccessible = true\n    val intentGeneratorInstance = constructor.newInstance() as IntentGenerator\n\n    // mock the the method\n    val mockedInstance = spy(intentGeneratorInstance)\n    doAnswer { intent }.`when`(mockedInstance).newIntent(any())\n\n    // remove the final modifier from INSTANCE field\n    val instanceField = IntentGenerator::class.java.getDeclaredField(\"INSTANCE\")\n    val modifiersField = Field::class.java.getDeclaredField(\"modifiers\")\n    modifiersField.isAccessible = true\n    modifiersField.setInt(instanceField, instanceField.modifiers and Modifier.FINAL.inv())\n\n    // set your own mocked IntentGenerator instance to the static INSTANCE field\n    instanceField.isAccessible = true\n    instanceField.set(null, mockedInstance)\n\n    // and BAM, now IntentGenerator.newIntent() is mocked\n    Assert.assertEquals(\"meow\", IntentGenerator.newIntent(mock()).action)\n}\n</code></pre>\n\n<p>The problem is that after you mocked the object, the mocked instance will stay there and other tests might be affected. A made a sample on how to confine the mocking into a scope <a href=\"https://stackoverflow.com/a/49318722/1527232\">here</a></p>\n\n<p><strong>Why PowerMock is not working</strong></p>\n\n<p>You're getting </p>\n\n<blockquote>\n  <p>Parameter specified as non-null is null</p>\n</blockquote>\n\n<p>because <code>IntentGenerator</code> is not being mocked, therefore the method <code>newIntent</code> that is being called is the actual one and in Kotlin a method with non-null arguments will invoke <code>kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull</code> at the beginning of your method. You can check it with the bytecode viewer in Android Studio. If you changed your code to</p>\n\n<pre><code>PowerMockito.mockStatic(IntentGenerator::class.java)\nPowerMockito.doAnswer { intent }.`when`(IntentGenerator).newIntent(any())\n</code></pre>\n\n<p>You would get another error</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.NotAMockException:  Argument passed to\n  when() is not a mock!</p>\n</blockquote>\n\n<p>If the object was mocked, the <code>newInstance</code> method called would not be the one from the actual class and therefore a <code>null</code> could be passed as argument even if in the signature it is non-nullable</p>\n"}], "owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11368, "favorite_count": 3, "accepted_answer_id": 49308853, "answer_count": 3, "score": 8, "last_activity_date": 1521199154, "creation_date": 1520960027, "last_edit_date": 1521018554, "question_id": 49261712, "link": "https://stackoverflow.com/questions/49261712/how-to-mock-objects-in-kotlin", "title": "How to mock objects in Kotlin?", "body": "<p>I want to test a class that calls an object (static method call in java) but I'm not able to mock this object to avoid real method to be executed.</p>\n\n<pre><code>object Foo {\n    fun bar() {\n        //Calls third party sdk here\n    }\n}\n</code></pre>\n\n<p>I've tried different options like <a href=\"http://mockk.io/#object-mocks\" rel=\"noreferrer\">Mockk</a>, <a href=\"https://stackoverflow.com/questions/37977320/how-to-mock-a-kotlin-singleton-object\">How to mock a Kotlin singleton object?</a> and using PowerMock in the same way as in java but with no success.</p>\n\n<p>Code using PowerMockito:</p>\n\n<pre><code>@RunWith(PowerMockRunner::class)\n@PrepareForTest(IntentGenerator::class)\nclass EditProfilePresenterTest {\n\n    @Test\n    fun shouldCallIntentGenerator() {\n\n        val intent = mock(Intent::class.java)\n\n        PowerMockito.mockStatic(IntentGenerator::class.java)\n        PowerMockito.`when`(IntentGenerator.newIntent(any())).thenReturn(intent) //newIntent method param is context\n\n       presenter.onGoToProfile()\n\n       verify(view).startActivity(eq(intent))        \n\n    }\n}\n</code></pre>\n\n<p>With this code I get </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method com.sample.test.IntentGenerator$Companion.newIntent, parameter context</p>\n</blockquote>\n\n<p>any() method is from <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"noreferrer\">mockito_kotlin</a>. Then If I pass a mocked context to newIntent method, it seems real method is called.</p>\n"}, {"tags": ["generics", "dependency-injection", "kotlin", "guice"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5380152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2c58f15024a91501f2ae45542c9f5c?s=128&d=identicon&r=PG&f=1", "display_name": "evad3", "link": "https://stackoverflow.com/users/5380152/evad3"}, "edited": false, "score": 2, "creation_date": 1521119551, "post_id": 49261720, "comment_id": 85602386, "body": "I just want to add to this that it compiles as above - however remember to add @JvmSuppressWildcards on the injection points and the declaration  For example  <code>bind(object : TypeLiteral&lt;Resolver&lt;@JvmSuppressWildcards RealObject&gt;&gt;() { }).to.....</code>  Then to implement <code>class InjectionTest @Inject constructor(resolver: Resolver&lt;@JvmSuppressWildcards RealObject&gt;</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 9, "last_activity_date": 1520960067, "creation_date": 1520960067, "answer_id": 49261720, "question_id": 49261318, "link": "https://stackoverflow.com/questions/49261318/guice-typeliterals-in-kotlin/49261720#49261720", "title": "Guice TypeLiterals in Kotlin", "body": "<p>Instead of the Java anonymous class syntax (<code>new TypeLiteral&lt;Resolver&lt;RealObject&gt;&gt;(){}</code>), you should use the Kotlin <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"noreferrer\">object expression</a>:</p>\n\n<pre><code>bind(object : TypeLiteral&lt;Resolver&lt;RealObject&gt;&gt;() { }).to(RealResolver::class.java)\n</code></pre>\n\n<hr>\n\n<p>You can wrap that into an inline function with a reified type parameter:</p>\n\n<pre><code>inline fun &lt;reified T&gt; typeLiteral() = object : TypeLiteral&lt;T&gt;() { }\n</code></pre>\n\n<p>Then use it as:</p>\n\n<pre><code>bind(typeLiteral&lt;Resolver&lt;RealObject&gt;&gt;()).to(RealResolver::class.java)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5380152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2c58f15024a91501f2ae45542c9f5c?s=128&d=identicon&r=PG&f=1", "display_name": "evad3", "link": "https://stackoverflow.com/users/5380152/evad3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 901, "favorite_count": 4, "answer_count": 1, "score": 7, "last_activity_date": 1520960067, "creation_date": 1520958783, "question_id": 49261318, "link": "https://stackoverflow.com/questions/49261318/guice-typeliterals-in-kotlin", "title": "Guice TypeLiterals in Kotlin", "body": "<p>I have a scenario where I have a generic interface and wish to bind multiple implementations of that interface in Guice. Normally in Java this would mean TypeLiterals, how would this be done in Kotlin?</p>\n\n<pre><code>bind(TypeLiteral&lt;Resolver&lt;RealObject&gt;&gt;(){}).to(RealResolver::class.java)\n</code></pre>\n\n<p>This gives a compiler error of: \n<code>cannot access &lt;init&gt;: it is public/*package*/ in 'TypeLiteral'</code></p>\n\n<p>There is a TypeLiteral.get() method however I cannot seem to get that to work either</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components"], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 1619666, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c2dad8e0b2fc60f14275db3ba19e6af9?s=128&d=identicon&r=PG", "display_name": "kendhia", "link": "https://stackoverflow.com/users/1619666/kendhia"}, "is_accepted": false, "score": 1, "last_activity_date": 1520954821, "creation_date": 1520954821, "answer_id": 49259952, "question_id": 49259670, "link": "https://stackoverflow.com/questions/49259670/not-sure-how-to-convert-cursor-to-this-method-return-type/49259952#49259952", "title": "Not sure how to convert cursor to this method return type", "body": "<p>I found the solution and the explanation is that <code>DataSource.Factory</code> will already return a <code>PaginedList</code> of the items, so there's no need of calling it with a <code>List&lt;Item&gt;</code>. </p>\n"}], "owner": {"reputation": 159, "user_id": 1619666, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c2dad8e0b2fc60f14275db3ba19e6af9?s=128&d=identicon&r=PG", "display_name": "kendhia", "link": "https://stackoverflow.com/users/1619666/kendhia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1912, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1520954838, "creation_date": 1520953974, "last_edit_date": 1520954838, "question_id": 49259670, "link": "https://stackoverflow.com/questions/49259670/not-sure-how-to-convert-cursor-to-this-method-return-type", "title": "Not sure how to convert cursor to this method return type", "body": "<p>I'm asking this question again 'cuz the provided answers are not compatible with the new version of Android Paging Library.\nMy Dao function is as following </p>\n\n<pre><code>@Query(\"SELECT * FROM items\")\nfun getAll() : DataSource.Factory&lt;Int, List&lt;Item&gt;&gt;\n</code></pre>\n\n<p>There's not a something different from the samples provided by google-developers but i keep getting the following error : </p>\n\n<pre><code>error: Not sure how to convert a Cursor to this method's return type\n                                                                                                                              ^\nFAILURE: Build failed with an exception.\n</code></pre>\n\n<p>any ideas of the reason of this error ? </p>\n"}, {"tags": ["kotlin", "hamcrest"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1520954504, "post_id": 49259280, "comment_id": 85522973, "body": "for me it works... did you maybe import the wrong <code>and</code> extension or something?"}], "owner": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1520954049, "creation_date": 1520952809, "last_edit_date": 1520954049, "question_id": 49259280, "link": "https://stackoverflow.com/questions/49259280/why-does-kotlin-not-automatically-cast-kfunction1-to-matcher-in-hamkrest", "title": "Why does Kotlin not automatically cast KFunction1 to Matcher in Hamkrest?", "body": "<p>Looking at Hamkrest's github, the <a href=\"https://github.com/npryce/hamkrest/blob/master/src/test/kotlin/com/natpryce/hamkrest/matching_tests.kt\" rel=\"nofollow noreferrer\">matcher tests</a> include this:</p>\n\n<pre><code>fun isRipe(f: Fruit): Boolean = f.ripeness &gt;= 0.5\nfun isCookingApple(a: Apple): Boolean = a.forCooking\n\n...\n\nval mA: Matcher&lt;Apple&gt; = ::isRipe and ::isCookingApple\n</code></pre>\n\n<p>However, when I replicate this code I get a compiler error:</p>\n\n<blockquote>\n  <p>Error:(42, 45) Kotlin: Type mismatch: inferred type is\n  <code>KFunction1&lt;@ParameterName Fruit, Boolean&gt;</code> but <code>Matcher&lt;Fruit&gt;</code> was\n  expected</p>\n</blockquote>\n\n<p>Why?</p>\n"}, {"tags": ["android", "socket.io", "kotlin", "rx-kotlin2"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521018564, "post_id": 49257702, "comment_id": 85549694, "body": "what exactly isn&#39;t working? and which socketIO library are you using?"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521025786, "post_id": 49257702, "comment_id": 85554703, "body": "I want socket lister string should convert in Observable then I can subscribe on my view. using Socket IO io.socket:socket.io-client:1.0.0 Converting in Observable is not working. socket working properly"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521028991, "post_id": 49257702, "comment_id": 85556876, "body": "what is <code>SocketConnection</code>? I can&#39;t find it in that library"}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1521029150, "post_id": 49257702, "comment_id": 85556992, "body": "This is my class name i will update question with full socket class"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1521091685, "post_id": 49280175, "comment_id": 85586848, "body": "Tanx Lovis .. in fact before u giving an answer, I will already be done with same, but u answer is better than mine with perfection. Thanks very much"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "edited": false, "score": 0, "creation_date": 1521098769, "post_id": 49280175, "comment_id": 85589604, "body": "@Rupesh great that I could help! :-)"}], "tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": true, "score": 0, "last_activity_date": 1521037365, "creation_date": 1521037365, "answer_id": 49280175, "question_id": 49257702, "link": "https://stackoverflow.com/questions/49257702/rxkotlin-with-socket-io-in-android/49280175#49280175", "title": "RxKotlin with Socket.io in Android", "body": "<p>Instead of creating an <code>Observable</code> every time a message is sent, I suggest using a <code>Subject</code> for that, since it has a similar \"nature\" as the Socket connection. </p>\n\n<pre><code>   val subject = PublishSubject.create&lt;String&gt;()\n   ...\n\n    fun listenSocketEvents() {\n      socket?.on(\"1502\") { args -&gt;\n        val socketData = args[0] as String\n        subject.onNext(socketData)\n      }\n    }\n\n    fun observable(): Observable&lt;String&gt;{\n        return subject\n    }\n</code></pre>\n\n<p>You can then listen to the changes on the subject via (repository layer etc not included, you'd have to do that yourself)</p>\n\n<pre><code>private fun getSocketUpdate() {\n    disposable = socketConnection.observable()\n            .subscribeOn(Schedulers.io())\n            .observeOn(...)\n            .subscribe({...}, {...})\n}\n</code></pre>\n\n<p>As a side note, your singleton instance is not how you'd do that in kotlin.\nInstead of having an <code>instance</code> field in a <code>companion object</code>, you should make the declare the class as <code>object SocketConnection</code>.<br>\nThis will automatically give you all singleton features. (I do not know whether it is smart to use a singleton with socket.io, but I assume that you know what you're doing :-) )</p>\n"}], "owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1317, "favorite_count": 0, "accepted_answer_id": 49280175, "answer_count": 1, "score": 0, "last_activity_date": 1521037365, "creation_date": 1520948414, "last_edit_date": 1521029640, "question_id": 49257702, "link": "https://stackoverflow.com/questions/49257702/rxkotlin-with-socket-io-in-android", "title": "RxKotlin with Socket.io in Android", "body": "<p>What I trying to do is listen to socket data and convert into an observable string that my UI can Subscribe this event and do Change on UI </p>\n\n<p>So far I created a class SocketConnection maintain in dagger connection happen properly and received data and able to do with interface correctly, but want to apply with rxkotlin. </p>\n\n<p>Using Socket.io,kotlin</p>\n\n<h3>SocketConnection class</h3>\n\n<pre><code> class SocketConnection : SocketStreamListener {\n\n    private var socket: Socket? = null\n\n   var responseSocket :ResponseHandler?= null\n    companion object {\n        var instance = SocketConnection()\n\n    }\n\n    override fun createSocket(socketQuery: SocketQuery): Socket? {\n        try {\n            val okHttpClient = UnsafeOkHttpClient.getUnsafeOkHttpClient()\n            IO.setDefaultOkHttpWebSocketFactory(okHttpClient)\n            IO.setDefaultOkHttpCallFactory(okHttpClient)\n            val opts = IO.Options()\n            opts.reconnection = false\n            opts.callFactory = okHttpClient\n            opts.webSocketFactory = okHttpClient\n            opts.query = \"userID=\" + socketQuery.userID + \"&amp;token=\" + socketQuery.token\n            socket = IO.socket(CommonContents.BASE_API_LAYER, opts)\n            L.d(\"Socket object created\")\n        } catch (e: URISyntaxException) {\n            L.e(\"Error creating socket\", e)\n        }\n        return socket\n    }\n\n    override fun createSocketListener(socket: Socket) {\n        L.d(\"inside the socket Listner\")\n        socket.connect()?.on(Socket.EVENT_CONNECT, {\n            L.d(\"connected\")\n            listenSocketEvents()\n            //socketDataListener()\n            createMessageListener()\n\n        })?.on(Socket.EVENT_DISCONNECT,\n                {\n                    L.d(\"disconnected\")\n                    return@on\n                })\n\n    }\n\n\n    /**\n     * function used to listen a socket chanel data\n     */\n    private fun listenSocketEvents() {\n\n\n       /* socket?.on(\"1502\", { args -&gt;\n      // This Will Work \n             L.d(\"Socket market depth event successfully\")\n            val socketData = args[0] as String\n            L.d(socketData)\n         //   instance.data = Observable.just(socketData)\n            //data!!.doOnNext({ socketData })\n\n            *//*\n            data = args[0] as String\n             for (i in 0 until arr.size) {\n                 arr[i].socketStreamingData(data)\n             }*//*\n\n        })*/\n\n    }\n\n// This Will Not Work\n    fun socketDataListener(): Observable&lt;String&gt;{\n      return Observable.create({\n          subscibe -&gt;\n         // L.d(\"Socket market depth event successfully\")\n            socket?.on(\"1502\", { args -&gt;\n                L.d(\"Socket market depth event successfully\")\n                val socketData = args[0] as String\n                subscibe.onNext(socketData)\n            })\n\n        })\n    }\n\n  }\n</code></pre>\n\n<h3>Repository</h3>\n\n<pre><code>fun getSocketData(): Observable&lt;String&gt; {\n   // L.e(\"\" + SocketConnection.instance.socketDataListener())\n    return SocketConnection.instance.createMessageListener()\n}\n</code></pre>\n\n<h3>ViewModel</h3>\n\n<pre><code>fun getSocketData(): Observable&lt;String&gt;{\n    return groupRepository.getSocketData()\n}\n</code></pre>\n\n<h3>OnFragement (UI)</h3>\n\n<pre><code>private fun getSocketUpdate(){\n    subscribe(watchlistViewModel.getSocketData()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({\n                L.d(\"SocketData :  \" + it.count())\n\n            }, {\n                L.e(\"Error\")\n            }))\n}\n</code></pre>\n\n<p>In this UI using disposable subscribe method into base class.</p>\n\n<p>Please let me know what i doing wrong thanx in advance </p>\n"}, {"tags": ["java", "string", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 13, "last_activity_date": 1521026507, "last_edit_date": 1521026507, "creation_date": 1520945660, "answer_id": 49256778, "question_id": 49256722, "link": "https://stackoverflow.com/questions/49256722/kotlin-destructuring-when-if-statement/49256778#49256778", "title": "Kotlin Destructuring when/if statement", "body": "<h1>How to return 2 values for destructuring</h1>\n\n<p>You need to return a type matching the above type, split returns a list, so you could use this:</p>\n\n<pre><code>listOf(\"Default1\", \"Default2\")\n</code></pre>\n\n<h1>Full code</h1>\n\n<pre><code>val myString = \"firstPart-secondPart\"\nval (first, second) = when (myString.contains(\"-\")) {\n        true -&gt; myString.split('-', limit = 2)\n        else -&gt; listOf(\"Default1\", \"Default2\")\n}\n</code></pre>\n\n<h1>Why this works</h1>\n\n<p>As both branches return <code>List&lt;String&gt;</code> you can treat the whole when block as a <code>List&lt;String&gt;</code>, so it can be destructured to get the values from it.</p>\n\n<h1>Possible cleanup</h1>\n\n<pre><code>val myString = \"firstPart-secondPart\"\nval (first, second) = when {\n    myString.contains(\"-\") -&gt; myString.split('-', limit = 2)\n    else -&gt; listOf(\"Default1\", \"Default2\")\n}   \n</code></pre>\n\n<p>This may make more sense, assuming you are going to add more conditions, otherwise an if may make more sense.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1521017748, "last_edit_date": 1521017748, "creation_date": 1520972067, "answer_id": 49265114, "question_id": 49256722, "link": "https://stackoverflow.com/questions/49256722/kotlin-destructuring-when-if-statement/49265114#49265114", "title": "Kotlin Destructuring when/if statement", "body": "<p>As an alternative to the good and correct answer of <a href=\"https://stackoverflow.com/a/49256778/8073652\">jrtapsell</a>, you could use destructured <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/\" rel=\"nofollow noreferrer\"><code>Pair</code>s</a>:</p>\n\n<pre><code>val (first, second) = when (myString.contains(\"-\")) {\n    true -&gt; myString.split('-', limit = 2).let { it[0] to it[1] }\n    else -&gt; \"Default1\" to \"Default2\"\n}\n</code></pre>\n\n<p>Note 1: The resulting list with two elements is transformed to a <code>Pair</code> with the help of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><code>let</code></a>.<br>\nNote 2: The <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/util/Tuples.kt\" rel=\"nofollow noreferrer\">infix function <code>to</code></a> is used to create <code>Pair</code>s here.</p>\n"}], "owner": {"reputation": 2517, "user_id": 1776540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/144da222f2fac0e912bda1aa1fa0cd76?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Jonsson", "link": "https://stackoverflow.com/users/1776540/robin-jonsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 0, "accepted_answer_id": 49256778, "answer_count": 2, "score": 11, "last_activity_date": 1521026507, "creation_date": 1520945525, "last_edit_date": 1520945711, "question_id": 49256722, "link": "https://stackoverflow.com/questions/49256722/kotlin-destructuring-when-if-statement", "title": "Kotlin Destructuring when/if statement", "body": "<p>So I have a String i would want to check if I should split into two, or return some default value. Like this:</p>\n\n<pre><code>val myString = \"firstPart-secondPart\"\nval (first, second) = when (myString.contains(\"-\")) {\n        true -&gt; myString.split('-', limit = 2)\n        else -&gt; ?? &lt;-- How would i return (\"Default1\", \"Default2\") so the destructuring still works?\n}\n</code></pre>\n\n<p>So my question is, how do i return two default strings, so that the deconstructing works? I've used <code>String.split()</code> before in order to deconstruct and it's really nice.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1520935889, "post_id": 49253293, "comment_id": 85510064, "body": "Properties are not fields."}], "answers": [{"comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1520935970, "post_id": 49253350, "comment_id": 85510127, "body": "A val field will have no setter"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1520948757, "post_id": 49253350, "comment_id": 85518648, "body": "I honestly think that your own answer is even more confusing... But I&#39;m out this discussion now. i&#39;m glad you solved your problem :-)"}], "tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": false, "score": 5, "last_activity_date": 1520936802, "last_edit_date": 1520936802, "creation_date": 1520935652, "answer_id": 49253350, "question_id": 49253293, "link": "https://stackoverflow.com/questions/49253293/why-the-modifier-on-property-is-the-same-as-getter-and-setter-but-not-field-afte/49253350#49253350", "title": "Why the modifier on property is the same as Getter and Setter but not Field after Java being translated into Kotlin?", "body": "<p>The default visibility for properties (and functions and classes, and...) is indeed public.</p>\n\n<p>The Koan is a little confusing, because the Java class has private <em>fields</em> with public <em>getters</em>.<br>\nA property can be seen as the combination of field, a getter and an optional setter. The property in the Koan has a private <em><a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">backing field</a></em> and a public getter. </p>\n\n<p>If you for example write </p>\n\n<pre><code>val age = person.age\n</code></pre>\n\n<p>then Kotlin will basically generate a <code>getAge()</code> method of the <code>Person</code> class, that will be called internally. This method returns the field itself. \nIt's also possible to add behavior to that getter. You can find more info in that in the <a href=\"https://kotlinlang.org/docs/reference/properties.html#getters-and-setters\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>It's therefore not a contradiction, but a different concept.</p>\n"}, {"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 2, "last_activity_date": 1520935949, "creation_date": 1520935949, "answer_id": 49253449, "question_id": 49253293, "link": "https://stackoverflow.com/questions/49253293/why-the-modifier-on-property-is-the-same-as-getter-and-setter-but-not-field-afte/49253449#49253449", "title": "Why the modifier on property is the same as Getter and Setter but not Field after Java being translated into Kotlin?", "body": "<h1>What it the default Visibility Modifier for properties in kotlin?</h1>\n\n<p>It is public, as the docs say</p>\n\n<h1>Why are the fields not private</h1>\n\n<p>In this example the fields are immutable, so there are no setters defined automatically. The data class automatically has getters, and uses them, but it simplifies reading the code by not requiring them to be manually called.</p>\n\n<h1>Worked example</h1>\n\n<p>This code:</p>\n\n<pre><code>object X {\n    data class Example(val a: String, val b: String)\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        val e = Example(\"a\", \"b\")\n        println(e.a)\n        println(e.b)\n    }\n}\n</code></pre>\n\n<p>The main method of this compiles to this (with checks and metadata removed):</p>\n\n<pre><code>public static final void main(String[] args) {\n    X.Example e = new X.Example(\"a\", \"b\");\n    String var2 = e.getA();\n    System.out.println(e.getA());\n    var2 = e.getB();\n    System.out.println(var2);\n}\n</code></pre>\n\n<p>(Decompiled using IntelliJ IDEA)</p>\n"}, {"comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1520946778, "post_id": 49256934, "comment_id": 85517185, "body": "if you want to clarify your question, please edit the orginal post instead of posting an answer. if your question was answered by one of the proposed answers, then accept one of them."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1520946866, "post_id": 49256934, "comment_id": 85517255, "body": "But... your question has already been aswered by jratpsell (and me) or am I missing something?"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1520947115, "post_id": 49256934, "comment_id": 85517443, "body": "I don&#39;t care about you accepting or not. Go ahead accept your own"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1520947198, "post_id": 49256934, "comment_id": 85517504, "body": "I care whether SO as a tool is used in a way that it helps others (not only the person who asked the question). You seem to be under the impression (it&#39;s in your profile), that SO is <i>&quot;99% hostile downvoters&quot;</i>  but it seems like you have a fundamental misunderstanding on how this site works :-/"}], "tags": [], "owner": {"reputation": 325, "user_id": 8491106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eca94ca8c2dac509cc91c20958867aa?s=128&d=identicon&r=PG&f=1", "display_name": "userA789", "link": "https://stackoverflow.com/users/8491106/usera789"}, "is_accepted": false, "score": 0, "last_activity_date": 1521589642, "last_edit_date": 1521589642, "creation_date": 1520946128, "answer_id": 49256934, "question_id": 49253293, "link": "https://stackoverflow.com/questions/49253293/why-the-modifier-on-property-is-the-same-as-getter-and-setter-but-not-field-afte/49256934#49256934", "title": "Why the modifier on property is the same as Getter and Setter but not Field after Java being translated into Kotlin?", "body": "<p>Property <strong>encapsulates</strong> backing field <a href=\"http://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">by defintion</a>. <strong>Backing field</strong> is directly assigned <strong>only</strong> when being initialized. All accesses <strong>except</strong> initialization are done through <strong>accessors</strong>. </p>\n\n<ul>\n<li>So the private modifier on field <strong>in Java</strong> is no longer needed <strong>in Kotlin</strong>.</li>\n<li>And the public on getter and setter <strong>in Java</strong> is placed on property(actually, still for getter and setter) <strong>in Kotlin</strong>.</li>\n</ul>\n\n<p>Therefore the omitted modifier is <code>public</code> and not <code>private</code>. </p>\n"}], "owner": {"reputation": 325, "user_id": 8491106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eca94ca8c2dac509cc91c20958867aa?s=128&d=identicon&r=PG&f=1", "display_name": "userA789", "link": "https://stackoverflow.com/users/8491106/usera789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 49253449, "answer_count": 3, "score": 0, "last_activity_date": 1521589642, "creation_date": 1520935525, "last_edit_date": 1521173061, "question_id": 49253293, "link": "https://stackoverflow.com/questions/49253293/why-the-modifier-on-property-is-the-same-as-getter-and-setter-but-not-field-afte", "title": "Why the modifier on property is the same as Getter and Setter but not Field after Java being translated into Kotlin?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">Official Ref</a> says the default Visibility Modifier is public.</p>\n\n<p>But from <a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Introduction/Data%20classes/Task.kt\" rel=\"nofollow noreferrer\">koan data classes</a> it can be inferred that it is private. </p>\n\n<p>Is it a contradiction? What is the default Visibility Modifier of property in kotlin?</p>\n\n<p>---------The above is the initial question---------------</p>\n\n<p>I didn't mix property and field up. But I did have confusion on <strong>how property is accessed</strong>.</p>\n\n<p>To resolve my confusion, I actually should have asked the new question in edited title. </p>\n\n<p>Self-answered below.</p>\n"}, {"tags": ["java", "android", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520943469, "post_id": 49252164, "comment_id": 85514911, "body": "can you post more information about your error?"}], "answers": [{"tags": [], "owner": {"reputation": 2725, "user_id": 4164585, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-6sZLpOeM0i0/AAAAAAAAAAI/AAAAAAAAAAA/O4I5MRvNRjw/photo.jpg?sz=128", "display_name": "Siamak Ferdos", "link": "https://stackoverflow.com/users/4164585/siamak-ferdos"}, "is_accepted": false, "score": 0, "last_activity_date": 1522314976, "creation_date": 1522314976, "answer_id": 49552210, "question_id": 49252164, "link": "https://stackoverflow.com/questions/49252164/error-in-add-kotlin-activity-to-java-based-project/49552210#49552210", "title": "Error in add Kotlin activity to Java based project", "body": "<p>I resolve it by cleaning the cache and restart settings:</p>\n\n<p>File-> Invalidate Caches/Restart</p>\n"}], "owner": {"reputation": 2725, "user_id": 4164585, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-6sZLpOeM0i0/AAAAAAAAAAI/AAAAAAAAAAA/O4I5MRvNRjw/photo.jpg?sz=128", "display_name": "Siamak Ferdos", "link": "https://stackoverflow.com/users/4164585/siamak-ferdos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522314976, "creation_date": 1520932234, "last_edit_date": 1520933632, "question_id": 49252164, "link": "https://stackoverflow.com/questions/49252164/error-in-add-kotlin-activity-to-java-based-project", "title": "Error in add Kotlin activity to Java based project", "body": "<p>When I put my first Kotlin base activity in my project in Android Studio, on compile I faced with this error:</p>\n\n<blockquote>\n  <p>Error:java.net.SocketException: Software caused connection abort:\n  socket write error</p>\n</blockquote>\n\n<p>By removing it from the project error is disappeared. I add Kotlin activity using New->Activity then I chosen Kotlin as language and not did more anything.\nMy android studio version is 3.0.1.</p>\n\n<p>My Kotlin compiling setting is adding below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YYc8e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YYc8e.png\" alt=\"enter image description here\"></a></p>\n\n<p>Anyone knows what's the problem or how can I fix it?</p>\n"}, {"tags": ["list", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1520930545, "post_id": 49251603, "comment_id": 85506578, "body": "I think the grouping approach is very nice and I did not know about this functionality!"}, {"owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1520931924, "post_id": 49251603, "comment_id": 85507388, "body": "@creativecreatorormaybenot This is a possible approach. I wonder, if there are other elegant ones; I am waiting for more answers to this question."}], "tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": false, "score": 8, "last_activity_date": 1520930649, "last_edit_date": 1520930649, "creation_date": 1520930364, "answer_id": 49251603, "question_id": 49251494, "link": "https://stackoverflow.com/questions/49251494/lists-idiomatic-way-of-filtering-similar-elements/49251603#49251603", "title": "Lists: Idiomatic way of filtering similar elements", "body": "<p>If you want to filter out duplicates (non distinct items) you could try:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val l = listOf( \"a\", \"a\", \"b\", \"c\", \"b\", \"d\" )\n    println(l.groupBy { it }.filter { it.value.size &gt; 1 }.keys)\n}\n</code></pre>\n\n<p>This prints out:</p>\n\n<pre><code>[a, b]\n</code></pre>\n\n<p>Explanation: <code>l.groupBy { it }</code> produces a grouped map with this content:</p>\n\n<pre><code>{a=[a, a], b=[b, b], c=[c], d=[d]}\n</code></pre>\n\n<p>Then a filter is applied to this map, filtering by the values (which are lists) with a length superior to 1: <code>filter { it.value.size &gt; 1 }</code>.</p>\n\n<p>Finally the keys are extracted with <code>keys</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1613590870, "post_id": 49255210, "comment_id": 117125150, "body": "How would we do this on a Map?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1613594085, "post_id": 49255210, "comment_id": 117126413, "body": "@IgorGanapolsky, you can get <code>keys</code>, <code>values</code>, or <code>entries</code> (pair of a key and its value) from a Map, then group them the same way."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 15, "last_activity_date": 1520947919, "last_edit_date": 1520947919, "creation_date": 1520941157, "answer_id": 49255210, "question_id": 49251494, "link": "https://stackoverflow.com/questions/49251494/lists-idiomatic-way-of-filtering-similar-elements/49255210#49255210", "title": "Lists: Idiomatic way of filtering similar elements", "body": "<p>A small improvement to the solution provided by <a href=\"https://stackoverflow.com/users/2735286/gil-fernandes\">@gil.fernandes</a> can be made by using the API introduced in the Kotlin 1.1 standard library: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/grouping-by.html\" rel=\"noreferrer\"><code>.groupingBy { ... }</code></a>. Instead of creating the groups right away, it creates a lazy <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-grouping/index.html\" rel=\"noreferrer\"><code>Grouping</code></a>, which can then be queried. In particular, we can ask it for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/each-count.html\" rel=\"noreferrer\"><code>.eachCount()</code></a>, which returns <code>Map&lt;T, Int&gt;</code>:</p>\n\n<pre><code>val l = listOf(\"a\", \"a\", \"b\", \"c\", \"b\", \"d\")\n\nval result = l.groupingBy { it }.eachCount().filterValues { it &gt; 1 }.keys\n</code></pre>\n\n<p>It is a little bit more efficient than using <code>.groupBy { ... }</code>, because it does not store the groups in the lists.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3973465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3223710b2ba3063652dbe542803a86?s=128&d=identicon&r=PG&f=1", "display_name": "Brown", "link": "https://stackoverflow.com/users/3973465/brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1613888483, "creation_date": 1613888483, "answer_id": 66299707, "question_id": 49251494, "link": "https://stackoverflow.com/questions/49251494/lists-idiomatic-way-of-filtering-similar-elements/66299707#66299707", "title": "Lists: Idiomatic way of filtering similar elements", "body": "<p>I see that this question has been answered already but in case anyone is looking for a more efficient method than using groups.</p>\n<p>Where you can do it this way</p>\n<pre><code>val list = listOf(0,1,2,3,4,5,0)\n\n//Gives you group of duplicated numbers. In this case just 0\nval group = list.groupBy{it}.filter{it.values.size&gt;1}.keys\n</code></pre>\n<p>While this fully works but if you need efficiency it is better to just use for loops and HashSets</p>\n<p>From my testing I found this to be more efficient and faster</p>\n<pre><code>val list = listOf(0,1,2,3,4,5,0)\nval mutableList = mutableListOf()\nval set = HashSet&lt;String&gt;()\n\nfor(l in list) {\n  if(set.contains(l)) mutableList.add(l)\n  set.add(l)\n}\n</code></pre>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2521, "favorite_count": 0, "accepted_answer_id": 49255210, "answer_count": 3, "score": 6, "last_activity_date": 1613888483, "creation_date": 1520929870, "last_edit_date": 1520931041, "question_id": 49251494, "link": "https://stackoverflow.com/questions/49251494/lists-idiomatic-way-of-filtering-similar-elements", "title": "Lists: Idiomatic way of filtering similar elements", "body": "<p>I am searching for the opposite of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html\" rel=\"noreferrer\"><code>distinct</code></a>.</p>\n\n<p>In a list with <code>[ \"a\", \"a\", \"b\", \"c\", \"b\", \"d\" ]</code> I only want to keep <code>\"a\"</code> and <code>\"b\"</code> because they appear multiple times.</p>\n\n<p>A solution for this could be the following:</p>\n\n<pre><code>val similarsList = mutableListOf&lt;String&gt;()\nlist.filter { \n    if (similars.contains(it))\n        return@filter true\n    similars.add(it)\n    false\n}.distinct()\n</code></pre>\n\n<p>This will remove every element that matches an already contained element before it. In the <code>list</code> object all elements appearing multiple times will be stored after <code>filter</code>. <code>distinct</code> in this case cleans elements that appeared three or more times.</p>\n\n<p>I am <strong>searching for an idiomatic way</strong> of doing exactly that, the opposite of <code>distinct</code>.</p>\n"}, {"tags": ["android", "multithreading", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1520942623, "post_id": 49251180, "comment_id": 85514335, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46505528/how-to-initialize-a-thread-in-kotlin\">How to initialize a Thread in Kotlin?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1520935416, "post_id": 49251272, "comment_id": 85509749, "body": "Thanks @Thomas, it\u2019s mentioned in the linked answer too"}, {"owner": {"reputation": 2264, "user_id": 3004821, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77519448e6002723a9345b54d76870c9?s=128&d=identicon&r=PG&f=1", "display_name": "fralbo", "link": "https://stackoverflow.com/users/3004821/fralbo"}, "edited": false, "score": 0, "creation_date": 1520944429, "post_id": 49251272, "comment_id": 85515581, "body": "@s1m0nw1, yes you are right about what I&#39;m looking for but what about this <a href=\"https://stackoverflow.com/a/47700088/3891969\">syntax</a> ?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1520929040, "creation_date": 1520929040, "answer_id": 49251272, "question_id": 49251180, "link": "https://stackoverflow.com/questions/49251180/how-does-thread-work-in-kotlin/49251272#49251272", "title": "How does Thread() work in Kotlin?", "body": "<p>I think the syntax you\u2019re looking for is:</p>\n\n<pre><code>Thread {\n    // your execution code \n}.start()\n</code></pre>\n\n<p>Also read <a href=\"https://stackoverflow.com/a/46505671/8073652\">this answer</a> for further information.</p>\n"}], "owner": {"reputation": 2264, "user_id": 3004821, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77519448e6002723a9345b54d76870c9?s=128&d=identicon&r=PG&f=1", "display_name": "fralbo", "link": "https://stackoverflow.com/users/3004821/fralbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2251, "favorite_count": 0, "accepted_answer_id": 49251272, "answer_count": 1, "score": -2, "last_activity_date": 1520930231, "creation_date": 1520928722, "last_edit_date": 1520930231, "question_id": 49251180, "link": "https://stackoverflow.com/questions/49251180/how-does-thread-work-in-kotlin", "title": "How does Thread() work in Kotlin?", "body": "<p>I wanted to execute a task inside a thread and wrote the following code:</p>\n\n<pre><code>Thread().run {\n    Log.i(\"TEST\", \"in thread\")\n    Thread.sleep(5000);\n    transactionStatus = ApiFactory.getInstance().transactionService.abortTransaction()\n    synchronized(TestTransactionPayAbort.lock) {\n        TestTransactionPayAbort.lock.notify()\n    }\n}\n\nLog.i(\"TEST\", \"main\")\nsynchronized(TestTransactionPayAbort.lock) {\n    TestTransactionPayAbort.lock.wait()\n}\n</code></pre>\n\n<p>According to the debugger, before executing <code>Thread().run{}</code>, I'm inside thread 4.\nAfter executing <code>Thread.sleep()</code>, the debugger tells me that thread 4 is sleeping whereas I was expecting to see that thread 5 is sleeping. About the <code>Log()</code>: I see immediately <em>in thread</em> and <em>main</em> 5 seconds later.</p>\n\n<p>What is my mistake here?</p>\n"}, {"tags": ["kotlin", "type-inference", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1520916644, "post_id": 49248224, "comment_id": 85500522, "body": "<code>var temp = text</code> mean <code>temp</code> is nullable and <code>if(false)</code> block which have never happend was not make it become not null. In case 2, <code>Arrays.deepToString(arrayOf(text))</code> always executes so that it makes temp become not null."}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1520916832, "post_id": 49248224, "comment_id": 85500568, "body": "Yes, but see <a href=\"https://stackoverflow.com/questions/49248224/kotlin-type-inferrence-failed?noredirect=1#comment85500131_49248252\">the comment</a> to answer"}, {"owner": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1520916937, "post_id": 49248224, "comment_id": 85500591, "body": "I suggest to use <code>isNullOrBlank()</code> method instead."}, {"owner": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1520917203, "post_id": 49248224, "comment_id": 85500655, "body": "<code>var temp: String = text</code> and <code>temp = String.format(&quot;%s&quot;, text)</code> make the <code>temp</code> not null. Therefore, your code can compiled. <code>var temp: String = text</code> means the <code>temp</code> is String, not null, and take value from <code>text</code>. <code>var temp: String? = text</code> means the <code>temp</code> is String, nullable, and take value from <code>text</code>"}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1520921004, "post_id": 49248224, "comment_id": 85501916, "body": "So, my question is why <code>String.format(&quot;%s&quot;, text)</code> make <code>temp</code> not null, and <code>Arrays.deepToString(arrayOf(text))</code> make <code>temp</code> nullable?"}, {"owner": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1520924909, "post_id": 49248224, "comment_id": 85503687, "body": "Both <code>String.format(&quot;%s&quot;, text)</code> and <code>Arrays.deepToString(arrayOf(text))</code> is always return a non-null String, please refer their detailed implementation. In your first case, condition of <code>if</code> block is always false so it&#39;s never run the <code>Arrays.deepToString(arrayOf(text))</code> inside, and that <code>temp</code> will keep the reference from <code>text</code> (nullable String) without change"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1520925950, "post_id": 49248224, "comment_id": 85504191, "body": "@JunBach But the compiler knows <code>String.format</code> never returns <code>null</code> (its return type is <code>String</code>); it doesn&#39;t know this about <code>Arrays.deepToString</code> (its return type is <code>String!</code>) because it isn&#39;t part of the <i>Kotlin</i> standard library."}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1520926138, "post_id": 49248224, "comment_id": 85504269, "body": "@alexey-romanov It is, you are right"}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1520930698, "post_id": 49248224, "comment_id": 85506666, "body": "@alexey-romanov can you link to fact, when type <code>String!</code> will be inferrented to <code>String?</code>? Kotlin by default prefer nullable type for JVM types? I think, the compiler is not smart enough in this case"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1520932324, "post_id": 49248224, "comment_id": 85507646, "body": "Sure, it could be smarter, but <code>var</code> complicates smart casts, as documented, and this seems a pretty weird edge case. You can try reporting it as a bug."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1520932349, "post_id": 49248224, "comment_id": 85507662, "body": "Better Kotlin-like style would be <code>val temp = if (false) Arrays.deepToString(arrayOf(text)) else text</code> without <code>var</code> and it works fine."}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1520932377, "post_id": 49248224, "comment_id": 85507680, "body": "@AlexeyRomanov I found the answer, thanks to your <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">link</a>. Smart casting is not applicable in first case of my question, because local variable <code>temp</code> was modified between check and the usage."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1520932452, "post_id": 49248224, "comment_id": 85507728, "body": "I&#39;ve also edited the answer to mention it."}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1520932475, "post_id": 49248224, "comment_id": 85507752, "body": "@AlexeyRomanov Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1520915213, "post_id": 49248252, "comment_id": 85500131, "body": "Hm, but if I change type of temp to <code>var temp: String = text</code> it is successfully copmiled! So, moreover, If we change assignment of <code>temp</code> like this: <code>temp = String.format(&quot;%s&quot;, text)</code> it is compiled too."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1520923833, "post_id": 49248252, "comment_id": 85503176, "body": "The interesting part is why <code>if (text == null) { return true }</code> doesn&#39;t make <code>text</code> a <code>String</code>."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1520914532, "creation_date": 1520914532, "answer_id": 49248252, "question_id": 49248224, "link": "https://stackoverflow.com/questions/49248224/kotlin-type-inferrence-failed/49248252#49248252", "title": "Kotlin type inferrence failed", "body": "<p>By assigning <code>text</code> to <code>temp</code>, the type of temp will become <code>String?</code>, too. Like this:</p>\n\n<pre><code>var temp: String? = text\n</code></pre>\n\n<p>Since your <code>if (false)</code> will never be executed it does not have any effect on the code. The <code>else</code> adds a block that always gets executed (since it basically means <code>if (true)</code>) and assigns a <code>String</code> to <code>temp</code> that is not nullable. Since temp is not nullable in the second example, you don\u2019t have to use safe-call operators anymore...</p>\n"}, {"comments": [{"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1520925246, "post_id": 49249900, "comment_id": 85503833, "body": "Thanks, interesting... And what you say about sample in question with <code>if-else</code> construction? Why there is compiled?"}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1520926067, "post_id": 49249900, "comment_id": 85504234, "body": "Wow, I want to trust you, so can you please provide links about necessary and unnecessary smart casting?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1520929276, "post_id": 49249900, "comment_id": 85505858, "body": "This is simply my interpretation. The documentation is at <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/typecasts.html#smart-casts</a>, but it isn&#39;t too detailed."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1520931735, "last_edit_date": 1592644375, "creation_date": 1520923764, "answer_id": 49249900, "question_id": 49248224, "link": "https://stackoverflow.com/questions/49248224/kotlin-type-inferrence-failed/49249900#49249900", "title": "Kotlin type inferrence failed", "body": "<p>You might be thinking that after</p>\n<pre><code>if (text == null) {\n    return true\n}\n</code></pre>\n<p>the type of <code>text</code> is refined to <code>String</code> instead of <code>String?</code>.</p>\n<p>But it seems like it isn't; instead the compiler inserts a smart cast when it sees <code>text</code> is used where a <code>String</code> is required. In the</p>\n<pre><code>var temp = text\n</code></pre>\n<p>line there is no reason to insert a cast, so the compiler doesn't, and the type of <code>temp</code> is <code>String?</code>.</p>\n<p>If you write</p>\n<pre><code>var temp: String = text\n</code></pre>\n<p>the cast <em>is</em> necessary and so the compiler does insert it.</p>\n<p>If you write</p>\n<pre><code>if (...) {\n    temp = Arrays.deepToString(arrayOf(text))\n} else {\n    temp = Arrays.deepToString(arrayOf(text))\n}\n</code></pre>\n<p>the compiler sees that whatever happens, <code>temp</code> has been assigned a value of <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">platform type <code>String!</code></a> which again can be smart-cast to <code>String</code>. Without a <code>else</code> branch, this doesn't happen.</p>\n<p>EDIT:</p>\n<p>Curiously, if you just remove <code>if</code> and leave</p>\n<pre><code>fun badKotlin(text: String?): Boolean {\n    if (text == null) {\n        return true\n    }\n\n    var temp = text\n    \n    return temp.isBlank()\n}\n</code></pre>\n<p>it does compile, and if my explanation was complete I wouldn't expect it to. So the compiler does maintain information needed for the smart cast, but it appears not to get applied because</p>\n<blockquote>\n<p>More specifically, smart casts are applicable according to the following rules: ...</p>\n<ul>\n<li><code>var</code> local variables - <strong>if the variable is not modified between the check and the usage</strong>, is not captured in a lambda that modifies it, and is not a local delegated property;</li>\n</ul>\n</blockquote>\n<p>In the <code>if-else</code> case, the assignments in two branches together serve as another check; in the <code>if</code>-only, the one branch doesn't.</p>\n"}], "owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 49249900, "answer_count": 2, "score": 0, "last_activity_date": 1520931735, "creation_date": 1520914244, "last_edit_date": 1520925423, "question_id": 49248224, "link": "https://stackoverflow.com/questions/49248224/kotlin-type-inferrence-failed", "title": "Kotlin type inferrence failed", "body": "<p>This kotlin code:</p>\n\n<pre><code>fun badKotlin(text: String?): Boolean {\n    if (text == null) {\n        return true\n    }\n\n    var temp = text\n    if (false) {\n        temp = Arrays.deepToString(arrayOf(text))\n    } \n\n    return temp.isBlank() // &lt;-- only safe (?.) or non null asserted (!!.) calls\n}\n</code></pre>\n\n<p>does not compile with message: <code>only safe (?.) or non null asserted (!!.) calls are allowed on a nullable receiver of type String?</code></p>\n\n<p>But if I add <code>else</code>:</p>\n\n<pre><code>fun badKotlin(text: String?): Boolean {\n    if (text == null) {\n        return true\n    }\n\n    var temp = text\n    if (false) {\n        temp = Arrays.deepToString(arrayOf(text))\n    } else {\n        temp = Arrays.deepToString(arrayOf(text))\n    }\n\n    return temp.isBlank()\n}\n</code></pre>\n\n<p>all compiled. So, why type inferrence failed?</p>\n\n<p>If I change type of temp to <code>var temp: String = text</code> it is successfully copmiled! So, moreover, If we change assignment of temp like this: <code>temp = String.format(\"%s\", text)</code> it is compiled too.</p>\n\n<p>UPDATE:</p>\n\n<p>Successfully copmpiled:</p>\n\n<pre><code>fun badKotlin(text: String?): Boolean {\n    if (text == null) {\n        return true\n    }\n\n    var temp = text\n    if (false) {\n        temp = String.format(\"%s\", text)\n    } \n\n    return temp.isBlank() // &lt;-- only safe (?.) or non null asserted (!!.) calls\n}\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>fun badKotlin(text: String?): Boolean {\n    if (text == null) {\n        return true\n    }\n\n    var temp: String = text\n    if (false) {\n        temp = Arrays.deepToString(arrayOf(text))\n    } \n\n    return temp.isBlank() // &lt;-- only safe (?.) or non null asserted (!!.) calls\n}\n</code></pre>\n"}, {"tags": ["android", "node.js", "android-asynctask", "kotlin", "postman"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1520927791, "post_id": 49247826, "comment_id": 85505107, "body": "I think that it is negligible because all the content is also accessible with your <code>AsyncTask</code>."}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1520934330, "post_id": 49247826, "comment_id": 85509001, "body": "From what I can tell, you are uploading a different file type (jpg vs png). Can you reproduce the differences when uploading the same file?"}, {"owner": {"reputation": 3, "user_id": 5332812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0759ab7e8c82f47d6e4b4046a42fa04a?s=128&d=identicon&r=PG&f=1", "display_name": "Bony", "link": "https://stackoverflow.com/users/5332812/bony"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1521170422, "post_id": 49247826, "comment_id": 85627056, "body": "@creativecreatorormaybenot why did it happen?"}, {"owner": {"reputation": 3, "user_id": 5332812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0759ab7e8c82f47d6e4b4046a42fa04a?s=128&d=identicon&r=PG&f=1", "display_name": "Bony", "link": "https://stackoverflow.com/users/5332812/bony"}, "reply_to_user": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1521170691, "post_id": 49247826, "comment_id": 85627140, "body": "@PaulGeorgPodlech i thing its not about filename / file mimetype. i previously upload any images without <code>multer-s3-transform</code> and runs fine"}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1521274487, "post_id": 49247826, "comment_id": 85669343, "body": "@Bony Well, the file type is still an obvious difference in this response. It would be worth checking if it has any influence. The second thing you could try is to sniff the actual request sent by your implementation and compare it to the one in Postman."}, {"owner": {"reputation": 3, "user_id": 5332812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0759ab7e8c82f47d6e4b4046a42fa04a?s=128&d=identicon&r=PG&f=1", "display_name": "Bony", "link": "https://stackoverflow.com/users/5332812/bony"}, "reply_to_user": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1521532687, "post_id": 49247826, "comment_id": 85758458, "body": "@PaulGeorgPodlech thanks, im already done. it just change <code>builder.addPart()</code> to <code>builder.addBinaryBody()</code> and set the mimetype from original file before upload. :)"}], "owner": {"reputation": 3, "user_id": 5332812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0759ab7e8c82f47d6e4b4046a42fa04a?s=128&d=identicon&r=PG&f=1", "display_name": "Bony", "link": "https://stackoverflow.com/users/5332812/bony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520927897, "creation_date": 1520911472, "last_edit_date": 1520927897, "question_id": 49247826, "link": "https://stackoverflow.com/questions/49247826/different-api-hit-result-with-asynctask-and-postman", "title": "Different API hit result with AsyncTask and PostMan", "body": "<p>I have a problem when I hit the backend API, I found a difference result on <code>Postman</code> and <code>AsyncTask</code> (httpPost). Why does it happen? </p>\n\n<p>I use the <code>multer-s3-transform</code> nodejs plugin to upload the files into my backend API's, then stored on digitalocean spaces.</p>\n\n<p>Below is a result from <code>AsyncTask</code>:</p>\n\n<pre><code>{\n    \"fieldname\":\"user_photo\",\n    \"originalname\":\"IMG-20180308_0938_55321.jpg\",\n    \"encoding\":\"7bit\",\n    \"mimetype\":\"application/octet-stream\",\n    \"size\":84289,\n    \"bucket\":\"mycdn\",\n    \"key\":\"1e9440387181846f54bece8a5d95a8a9\",\n    \"acl\":\"public-read\",\n    \"contentType\":\"image/jpeg\",\n    \"metadata\":null,\n    \"location\":\"https://mycdn.sgp1.digitaloceanspaces.com/1e9440387181846f54bece8a5d95a8a9\",\n    \"etag\":\"\\\"91ff71e41380602dbc35c94100f88d80\\\"\"\n}\n</code></pre>\n\n<p>And this is one from <code>PostMan</code>:</p>\n\n<pre><code>{\n    \"fieldname\": \"user_photo\",\n    \"originalname\": \"my-photos.png\",\n    \"encoding\": \"7bit\",\n    \"mimetype\": \"image/png\",\n    \"transforms\": [\n        {\n            \"id\": \"or\",\n            \"size\": 109955,\n            \"bucket\": \"mycdn\",\n            \"key\": \"users/1520907984802.png\",\n            \"acl\": \"public-read\",\n            \"contentType\": \"image/png\",\n            \"metadata\": null,\n            \"location\": \"https://mycdn.sgp1.digitaloceanspaces.com/users/1520907984802.png\",\n            \"etag\": \"\\\"8e161cab4c516b5eb48c3c1c66987de9\\\"\"\n        }\n    ]\n}\n</code></pre>\n\n<p>My final question, why is the <code>transforms</code> array not showing up in my <code>AsyncTask</code> result?</p>\n"}, {"tags": ["kotlin", "println"], "answers": [{"comments": [{"owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1520918189, "post_id": 49248495, "comment_id": 85500944, "body": "Thank U for your suggestion. I can&#39;t understand why did Kotlin do that."}, {"owner": {"reputation": 14571, "user_id": 1542343, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0c67fc696612cc6c62a17d8bb2fdd17f?s=128&d=identicon&r=PG", "display_name": "gvlasov", "link": "https://stackoverflow.com/users/1542343/gvlasov"}, "reply_to_user": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1520918663, "post_id": 49248495, "comment_id": 85501077, "body": "Buffering output until newline symbol is done for performance reasons, and not only in Kotlin. Java should be working the same way."}, {"owner": {"reputation": 2193, "user_id": 2856202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AHuOz.png?s=128&g=1", "display_name": "eigenfield", "link": "https://stackoverflow.com/users/2856202/eigenfield"}, "edited": false, "score": 0, "creation_date": 1616243305, "post_id": 49248495, "comment_id": 117943839, "body": "The flush is not working. I tested during debugging from Intellij IDE. Does not print."}], "tags": [], "owner": {"reputation": 14571, "user_id": 1542343, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0c67fc696612cc6c62a17d8bb2fdd17f?s=128&d=identicon&r=PG", "display_name": "gvlasov", "link": "https://stackoverflow.com/users/1542343/gvlasov"}, "is_accepted": true, "score": 6, "last_activity_date": 1520916826, "last_edit_date": 1520916826, "creation_date": 1520916473, "answer_id": 49248495, "question_id": 49247440, "link": "https://stackoverflow.com/questions/49247440/how-to-make-the-print-method-in-kotlin-have-the-same-effect-as-java/49248495#49248495", "title": "How to make the print method in Kotlin have the same effect as Java", "body": "<p>Call <code>System.out.flush()</code> after <code>print</code>.</p>\n\n<pre><code>print(1)\nSystem.out.flush()\n</code></pre>\n"}], "owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1429, "favorite_count": 0, "accepted_answer_id": 49248495, "answer_count": 1, "score": 2, "last_activity_date": 1520916826, "creation_date": 1520908550, "last_edit_date": 1520910181, "question_id": 49247440, "link": "https://stackoverflow.com/questions/49247440/how-to-make-the-print-method-in-kotlin-have-the-same-effect-as-java", "title": "How to make the print method in Kotlin have the same effect as Java", "body": "<p>I tried this code below in Kotlin. The <code>print</code> method cache the input data until I call the <code>println</code> method.</p>\n\n<pre><code>&gt;&gt;&gt; print(1)\n&gt;&gt;&gt; print(2)\n&gt;&gt;&gt; System.out.print(3)\n&gt;&gt;&gt; System.out.print(4)\n&gt;&gt;&gt; println(5)\n12345\n</code></pre>\n\n<p>I'd like to print the number as a sequence number by number like Java. How could I do that in Kotlin?</p>\n\n<p>Update: Maybe someone misunderstands my question.</p>\n\n<p>I want the <code>print</code> method print the input data immediately instead of waiting for <code>println</code> method.</p>\n"}, {"tags": ["iterator", "kotlin"], "comments": [{"owner": {"reputation": 7049, "user_id": 1544715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be85f7bc23d6fa1addc8d35e39870579?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/1544715/magnus"}, "edited": false, "score": 0, "creation_date": 1520908537, "post_id": 49247353, "comment_id": 85498539, "body": "<code>for (i in 1..10) print(i)</code>"}, {"owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "reply_to_user": {"reputation": 7049, "user_id": 1544715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be85f7bc23d6fa1addc8d35e39870579?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/1544715/magnus"}, "edited": false, "score": 0, "creation_date": 1520908852, "post_id": 49247353, "comment_id": 85498619, "body": "Thank @Magnus for this suggestion. I used it in Java, too. However, I wonder that have any way else to do that like an idiom."}], "answers": [{"comments": [{"owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1520914128, "post_id": 49248070, "comment_id": 85499837, "body": "Thank you for your suggestion."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1520913505, "last_edit_date": 1520913505, "creation_date": 1520913172, "answer_id": 49248070, "question_id": 49247353, "link": "https://stackoverflow.com/questions/49247353/how-to-shorten-code-by-printlni-for-i-in-1-10-like-python-in-kotlin/49248070#49248070", "title": "How to shorten code by println(i for i in 1..10) like Python in Kotlin", "body": "<p>Your code is not valid in Kotlin. You can use the <code>forEach</code> function  instead:</p>\n\n<pre><code>(1..10).forEach(::println)\n</code></pre>\n"}], "owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 49248070, "answer_count": 1, "score": 0, "last_activity_date": 1520913505, "creation_date": 1520907909, "last_edit_date": 1520908673, "question_id": 49247353, "link": "https://stackoverflow.com/questions/49247353/how-to-shorten-code-by-printlni-for-i-in-1-10-like-python-in-kotlin", "title": "How to shorten code by println(i for i in 1..10) like Python in Kotlin", "body": "<p>I'm studying Kotlin now.</p>\n\n<p>When I read the Kotlin docs, It writes that I have <code>ranges</code> technique (Ex: 1..10) like Python. However, I try this code below but fail.</p>\n\n<pre><code>&gt;&gt;&gt; print(i for i in 1..10)\n...\nerror: expecting ')'\nprint(i for i in 1..10)\n        ^\nerror: unexpected tokens (use ';' to separate expressions on the same line)\nprint(i for i in 1..10)\n                    ^\n</code></pre>\n\n<p>Have any way to shorten this code by using <code>i for i in 1..10</code> like Python.</p>\n"}, {"tags": ["java", "null", "kotlin"], "comments": [{"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 1, "creation_date": 1520907262, "post_id": 49247251, "comment_id": 85498219, "body": "Cause <code>if (root == null) { &#47;* do cool stuff *&#47; }</code>."}, {"owner": {"reputation": 20514, "user_id": 2411243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jC999.png?s=128&g=1", "display_name": "Zabuzard", "link": "https://stackoverflow.com/users/2411243/zabuzard"}, "edited": false, "score": 0, "creation_date": 1520907316, "post_id": 49247251, "comment_id": 85498232, "body": "<code>null</code> is a way to assign <i>nothing</i> to a variable. It can be used for default values or if something is just missing. Obviously it&#39;s always dangerous if you deal with variables that might be <code>null</code>, since they don&#39;t reference any object. I mean, if you have a method like <code>buyApple()</code> that it is supposed to return an <code>Apple</code>, what do you do if the supermarket has closed already and there is no apple? You may return <code>null</code> (in that specific case <code>Optional</code> might be better though). Your program logic then obviously needs to handle this case. If you miss that, you get exceptions."}], "answers": [{"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 1, "last_activity_date": 1520907260, "creation_date": 1520907260, "answer_id": 49247275, "question_id": 49247251, "link": "https://stackoverflow.com/questions/49247251/why-assign-a-null-value/49247275#49247275", "title": "Why assign a null value?", "body": "<p>For declaring a variable in an outer scope, for example any Object field in Java that isn't explicitly assigned at declaration is null by default </p>\n\n<p>Also derefencing something to allow garbage collection </p>\n\n<p>Its recommended to avoid nulls because chasing down NPE errors is a big time sink in JVM development</p>\n\n<p>Personally, I like Scalas model of Try/Success or Option/Some/None in addition to Nil </p>\n"}, {"tags": [], "owner": {"reputation": 2666, "user_id": 2478398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gKLfe.png?s=128&g=1", "display_name": "BeUndead", "link": "https://stackoverflow.com/users/2478398/beundead"}, "is_accepted": false, "score": 1, "last_activity_date": 1520908176, "creation_date": 1520908176, "answer_id": 49247386, "question_id": 49247251, "link": "https://stackoverflow.com/questions/49247251/why-assign-a-null-value/49247386#49247386", "title": "Why assign a null value?", "body": "<p>There are multiple legitimate uses of <code>null</code>; although there are equally many (if not more) illegitimate ones.</p>\n\n<p>As a couple which spring to mind:</p>\n\n<p>Optional dependencies.  In the below class; if a non-<code>null</code> <code>Notifier</code> is provided at construction; then this is used to be <em>notified</em> when things happen.  But the class can still do it's <code>doThing</code> method if there was no such <code>Notifier</code> available (or required).</p>\n\n<pre><code>class ThingDoer {\n    private final Notifier notifier;\n\n    ThingDoer(final Notifier notifier) {\n        this.notifier = notifier;\n    }\n\n    void doThing() {\n        // Doing some stuff.\n        if (this.notifier != null) {\n            this.notifier.notify(\"Did thing\");\n        }\n    }\n}\n</code></pre>\n\n<p>Caching is another case (use the cached value if it's already been calculated, otherwise go find it from scratch - thread safety not considered here...).  The same concept applies to lazily-loaded things; where you can keep the value as <code>null</code> until it's first requested, and then keep it available to avoid recomputation on subsequent requests for it.</p>\n\n<pre><code>class CachedLookup {\n    private Result cachedResult = null;\n\n    Result getResult() {\n        if (this.cachedResult != null) {\n            return this.cachedResult;\n        }\n\n        this.cachedResult = this.getResultInternal();\n        return this.cachedResult;\n    }\n\n    private Result getResultInternal() {\n        // Whatever complex stuff here...\n        return new Result();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9410081, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nY8MLpXrRpA/AAAAAAAAAAI/AAAAAAAAAEM/SXQV6myed5g/photo.jpg?sz=128", "display_name": "Doug Blumer", "link": "https://stackoverflow.com/users/9410081/doug-blumer"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "closed_date": 1520920091, "answer_count": 2, "score": -5, "last_activity_date": 1520983528, "creation_date": 1520907013, "last_edit_date": 1520983528, "question_id": 49247251, "link": "https://stackoverflow.com/questions/49247251/why-assign-a-null-value", "closed_reason": "Duplicate", "title": "Why assign a null value?", "body": "<p>I keep doing classes and typing away at learning programming and in a few different lesson they say this is how you declare a null variable(java and Kotlin if i remember right python is a \"none\" not exactly the same). </p>\n\n<p>But everything I read or learn says don't do it. \nWhy do it or is there a legitimate use for one?</p>\n\n<p>REV 1.0 Below</p>\n\n<p>I edited and rolled this question back some because a none after some more digging into the subject acts very similar as a null.</p>\n\n<p>Instead of changing my question please make comments on how i can look at it differently or reframe or ask better questions.</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "android-architecture-components"], "comments": [{"owner": {"reputation": 705, "user_id": 5268730, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ymp6Tj7LM74/AAAAAAAAAAI/AAAAAAAAABw/k4QsAYbt5y8/photo.jpg?sz=128", "display_name": "woodii", "link": "https://stackoverflow.com/users/5268730/woodii"}, "edited": false, "score": 0, "creation_date": 1520932674, "post_id": 49246237, "comment_id": 85507893, "body": "The only possible way I know is to set the whole list so you notify the observers. A trick which is a bit nicer can be found here: <a href=\"https://stackoverflow.com/questions/48020377/livedata-update-on-object-field-change/48194074#48194074\" title=\"livedata update on object field change\">stackoverflow.com/questions/48020377/&hellip;</a>"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 705, "user_id": 5268730, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ymp6Tj7LM74/AAAAAAAAAAI/AAAAAAAAABw/k4QsAYbt5y8/photo.jpg?sz=128", "display_name": "woodii", "link": "https://stackoverflow.com/users/5268730/woodii"}, "edited": false, "score": 0, "creation_date": 1520953968, "post_id": 49246237, "comment_id": 85522574, "body": "Thanks, that&#39;s mostly a work-around, but I&#39;ll give that a try."}], "answers": [{"tags": [], "owner": {"reputation": 485, "user_id": 8282469, "user_type": "registered", "profile_image": "https://graph.facebook.com/1618129051/picture?type=large", "display_name": "Samnang CHEA", "link": "https://stackoverflow.com/users/8282469/samnang-chea"}, "is_accepted": true, "score": 26, "last_activity_date": 1539767543, "last_edit_date": 1539767543, "creation_date": 1527353439, "answer_id": 50545043, "question_id": 49246237, "link": "https://stackoverflow.com/questions/49246237/refreshing-mutablelivedata-of-list-of-items/50545043#50545043", "title": "Refreshing MutableLiveData of list of items", "body": "<p>I think the extension is a bit nicer.</p>\n\n<pre><code>operator fun &lt;T&gt; MutableLiveData&lt;ArrayList&lt;T&gt;&gt;.plusAssign(values: List&lt;T&gt;) {\n    val value = this.value ?: arrayListOf()\n    value.addAll(values)\n    this.value = value\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>list += anotherList;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1280, "user_id": 4296783, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-DLLHP_kTCtg/AAAAAAAAAAI/AAAAAAAAAaA/hj3PH-oE1DY/photo.jpg?sz=128", "display_name": "Mou", "link": "https://stackoverflow.com/users/4296783/mou"}, "edited": false, "score": 28, "creation_date": 1539945412, "post_id": 51185426, "comment_id": 92693891, "body": "He is using Kotlin. <code>results.value</code> is equals to <code>results.setValue()</code>"}], "tags": [], "owner": {"reputation": 1082, "user_id": 6600637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09f64c301e5e72394921766d624d9ec?s=128&d=identicon&r=PG&f=1", "display_name": "Shynline", "link": "https://stackoverflow.com/users/6600637/shynline"}, "is_accepted": false, "score": 11, "last_activity_date": 1578489770, "last_edit_date": 1578489770, "creation_date": 1530775232, "answer_id": 51185426, "question_id": 49246237, "link": "https://stackoverflow.com/questions/49246237/refreshing-mutablelivedata-of-list-of-items/51185426#51185426", "title": "Refreshing MutableLiveData of list of items", "body": "<p>According to <a href=\"https://developer.android.com/reference/androidx/lifecycle/MutableLiveData.html#postValue(T)\" rel=\"noreferrer\">MutableLiveData</a>, you need to use <code>postValue</code> or <code>setValue</code> in order to trigger the observers.</p>\n"}], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31001, "favorite_count": 4, "accepted_answer_id": 50545043, "answer_count": 2, "score": 30, "last_activity_date": 1612195941, "creation_date": 1520899159, "last_edit_date": 1612195941, "question_id": 49246237, "link": "https://stackoverflow.com/questions/49246237/refreshing-mutablelivedata-of-list-of-items", "title": "Refreshing MutableLiveData of list of items", "body": "<p>I'm using LiveData and ViewModel from the architecture components in my app.</p>\n\n<p>I have a list of items that is paginated, I load more as the user scrolls down. The result of the query is stored in a </p>\n\n<pre><code>MutableLiveData&lt;List&lt;SearchResult&gt;&gt;\n</code></pre>\n\n<p>When I do the initial load and set the variable to a new list, it triggers a callback on the binding adapter that loads the data into the recyclerview.</p>\n\n<p>However, when I load the 2nd page and I add the additional items to the list, the callback is not triggered. However, if I replace the list with a new list containing both the old and new items, the callback triggers.</p>\n\n<p>Is it possible to have LiveData notify its observers when the backing list is updated, not only when the LiveData object is updated?</p>\n\n<p>This does not work (ignoring the null checks):</p>\n\n<pre><code>val results = MutableLiveData&lt;MutableList&lt;SearchResult&gt;&gt;()\n\n/* later */\n\nresults.value.addAll(newResults)\n</code></pre>\n\n<p>This works:</p>\n\n<pre><code>val results = MutableLiveData&lt;MutableList&lt;SearchResult&gt;&gt;()\n\n/* later */\n\nval list = mutableListOf&lt;SearchResult&gt;()\nlist.addAll(results.value)\nlist.addAll(newResults)\nresults.value = list\n</code></pre>\n"}, {"tags": ["shell", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10409, "user_id": 183575, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f7cf97a5839b2c12ce7f3ccf3dd6c6d?s=128&d=identicon&r=PG", "display_name": "RedGlyph", "link": "https://stackoverflow.com/users/183575/redglyph"}, "edited": false, "score": 0, "creation_date": 1525976088, "post_id": 49246844, "comment_id": 87574762, "body": "Not sure whether it&#39;s version-related, but this REPL console becomes <i>very</i> slow after a few commands and gets unusable pretty quickly, so it might not be a replacement (provided the OP uses Android Studio or another IDE from Jetbrains in the first place)."}], "tags": [], "owner": {"reputation": 4442, "user_id": 5632412, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/7922497d2bfc3a8fe33d4a22b15d995a?s=128&d=identicon&r=PG&f=1", "display_name": "Bimo", "link": "https://stackoverflow.com/users/5632412/bimo"}, "is_accepted": false, "score": 0, "last_activity_date": 1520903895, "creation_date": 1520903895, "answer_id": 49246844, "question_id": 49246126, "link": "https://stackoverflow.com/questions/49246126/how-to-prevent-echo-of-previous-line-when-using-kotlin-interactive-shell/49246844#49246844", "title": "How to prevent echo of previous line when using kotlin interactive shell?", "body": "<p>Kotlin interactive mode works correctly inside of Android Studio.</p>\n\n<p>From a Kotlin Project, Open the Kotlin REPL console:</p>\n\n<p>Tools->Kotlin REPL</p>\n"}, {"tags": [], "owner": {"reputation": 10409, "user_id": 183575, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f7cf97a5839b2c12ce7f3ccf3dd6c6d?s=128&d=identicon&r=PG", "display_name": "RedGlyph", "link": "https://stackoverflow.com/users/183575/redglyph"}, "is_accepted": false, "score": 0, "last_activity_date": 1525974367, "creation_date": 1525974367, "answer_id": 50278641, "question_id": 49246126, "link": "https://stackoverflow.com/questions/49246126/how-to-prevent-echo-of-previous-line-when-using-kotlin-interactive-shell/50278641#50278641", "title": "How to prevent echo of previous line when using kotlin interactive shell?", "body": "<p>This is a confirmed bug, there is no sure way to prevent this echo until a fix is released:</p>\n\n<ul>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-23615\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-23615</a>  </li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-22990\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-22990</a></li>\n</ul>\n"}], "owner": {"reputation": 4442, "user_id": 5632412, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/7922497d2bfc3a8fe33d4a22b15d995a?s=128&d=identicon&r=PG&f=1", "display_name": "Bimo", "link": "https://stackoverflow.com/users/5632412/bimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525974367, "creation_date": 1520898333, "last_edit_date": 1520903088, "question_id": 49246126, "link": "https://stackoverflow.com/questions/49246126/how-to-prevent-echo-of-previous-line-when-using-kotlin-interactive-shell", "title": "How to prevent echo of previous line when using kotlin interactive shell?", "body": "<p>First, I downloaded the Windows Command Line tools for Kotlin on Windows 10. (<a href=\"https://github.com/JetBrains/kotlin/releases/tag/v1.2.30\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/releases/tag/v1.2.30</a>)</p>\n\n<p>Then, I start the interactive shell thinking that it works like the Python interactive shell, and I can use it to type in code examples:</p>\n\n<pre><code>C:\\MyFolder&gt; C:\\kotlinc\\bin\\kotlinc.bat\nWelcome to Kotlin version 1.2.30 (JRE 1.8.0_162-b12)\nType :help for help, :quit for quit\n&gt;&gt;&gt;\n</code></pre>\n\n<p>However, when I type this code interactively into kotlinc:</p>\n\n<pre><code>fun stuff() {\n    println(\"Hello, World\")\n}\n</code></pre>\n\n<p>It echos the previous line when I hit return. For Example:</p>\n\n<pre><code>&gt;&gt;&gt; fun stuff() {\nfun stuff()... println(\"Hello, World\")\nprintln(\"Hello, World\")... }\n}&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; stuff()\nstuff()Hello, World\n</code></pre>\n\n<p>Is there anyway to prevent kotlin from echoing the previous line that I entered interactively, particularly for multiline statements?  </p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1520895753, "post_id": 49245528, "comment_id": 85495313, "body": "Can you show where <code>appDatabase</code> is initialized? <code>DaggerFragment</code> does it&#39;s injection in <code>onAttach</code>, which may not have been called at the failing callsite."}, {"owner": {"reputation": 342, "user_id": 7338759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lJu9K.png?s=128&g=1", "display_name": "Ememobong AkpanEkpo", "link": "https://stackoverflow.com/users/7338759/ememobong-akpanekpo"}, "reply_to_user": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1520900013, "post_id": 49245528, "comment_id": 85496482, "body": "It&#39;s been injected so Dagger should initialise it automatically I think"}], "answers": [{"tags": [], "owner": {"reputation": 342, "user_id": 7338759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lJu9K.png?s=128&g=1", "display_name": "Ememobong AkpanEkpo", "link": "https://stackoverflow.com/users/7338759/ememobong-akpanekpo"}, "is_accepted": false, "score": 0, "last_activity_date": 1520920413, "last_edit_date": 1520920413, "creation_date": 1520899904, "answer_id": 49246338, "question_id": 49245528, "link": "https://stackoverflow.com/questions/49245528/dagger-lateinit-property-has-not-been-initialized-when-returning-to-fragment/49246338#49246338", "title": "Dagger lateinit property has not been initialized when returning to fragment", "body": "<p>Creating a clone of the <code>appDatabase</code> works for now. Like this. </p>\n\n<pre><code>@Inject lateinit var appDatabase: AppDatabase\n@Inject lateinit var viewModelFactory: ViewModelFactory\n\n\nprivate val clone by lazy {\n    appDatabase\n}\n.....\n</code></pre>\n\n<p>While I am still waiting for a more elegant answer. Somehow I observed that <code>lateinit var appDatabase</code> is not longer available after calling <code>onPause()</code> and since we reenter the Fragment in <code>onResume()</code>, hence it's not calling <code>onAttach()</code> as @emerson noted that Dagger uses for dependency injection. \nI also had to pass the data to the fragment using <code>Bundle</code> instead of using listeners.</p>\n"}], "owner": {"reputation": 342, "user_id": 7338759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lJu9K.png?s=128&g=1", "display_name": "Ememobong AkpanEkpo", "link": "https://stackoverflow.com/users/7338759/ememobong-akpanekpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1528, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520920413, "creation_date": 1520894530, "question_id": 49245528, "link": "https://stackoverflow.com/questions/49245528/dagger-lateinit-property-has-not-been-initialized-when-returning-to-fragment", "title": "Dagger lateinit property has not been initialized when returning to fragment", "body": "<p>What I'm trying to achieve is that <code>UserFragment</code> pops up a <code>DialogFragment</code>, the <code>DialogFragment</code> then uses a listener to notify the <code>UserFragment</code> of new user data. </p>\n\n<p>When the <code>UserFragment</code> starts, <code>appDatabase</code> is being initialised and I can use it without any error. \nBut when <code>DialogFragment</code> has been popped and it passes back data to <code>UserFragment</code> through a listener, using <code>appDatabase</code> makes the app crash with <code>UninitializedPropertyAccessException: lateinit property appDatabase has not been initialized</code>. This is my sample code for injecting <code>appDatabase</code></p>\n\n<pre><code>class UserFragment: DaggerFragment(), AddUserDialogFragment.DialogListener {\n\n@Inject lateinit var appDatabase: AppDatabase\n@Inject lateinit var viewModelFactory: ViewModelFactory\n</code></pre>\n\n<p>.....\n}</p>\n"}, {"tags": ["java", "json", "kotlin", "gson", "json-api"], "owner": {"reputation": 343, "user_id": 4854670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7od50.jpg?s=128&g=1", "display_name": "mrahimygk", "link": "https://stackoverflow.com/users/4854670/mrahimygk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1520925284, "creation_date": 1520888442, "last_edit_date": 1520925284, "question_id": 49244335, "link": "https://stackoverflow.com/questions/49244335/gson-convert-json-string-formatted-with-jsonapi-org-id-based-format-to-a-java-p", "title": "Gson: Convert json string formatted with jsonapi.org ID based format to a java POJO", "body": "<p>There is an example of how JSON responses should be formatted <a href=\"http://jsonapi.org/\" rel=\"nofollow noreferrer\">here at jsonapi.org</a>. I want to use this convention but I need to check if this data can be serialized easily by Gson. Searching the web didn't come to any related solution. <a href=\"https://stackoverflow.com/questions/32575003/\">This Q from SO</a> Is the most related but the language is neither Java nor Kotlin.\nThe main problem is that this convention says you should place your attributes like this:</p>\n\n<pre><code>\"attributes\": {\n      \"title\": \"JSON API paints my bikeshed!\"\n      \"city\": \"Paris\"\n      ...\n    },\n</code></pre>\n\n<p>But I do not know how to tell Gson to fetch attribute names and their corresponding content in this format. I do not want to make a collection of nested classes to represent that whole json string field by field.</p>\n"}, {"tags": ["java", "android", "module", "architecture", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1520887082, "post_id": 49243842, "comment_id": 85491941, "body": "In which package are the declarations located in the <code>enw</code> module? There&#39;s no <code>import</code> statements In your usage example."}, {"owner": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1520887235, "post_id": 49243842, "comment_id": 85492010, "body": "I actually Inlined my import in that HelloEtherscanApplication class.  [import jfyg.class.ApiKey]"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1520887525, "post_id": 49243842, "comment_id": 85492133, "body": "As far as I can tell, valid package names cannot contain a segment <code>class</code>, which is a keyword in Kotlin. Can you check if renaming the package helps?"}, {"owner": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1520887612, "post_id": 49243842, "comment_id": 85492176, "body": "the real package name isn&#39;t class. I changed a few names while writing this question.  Sorry for making it confusing there."}, {"owner": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1520890718, "post_id": 49243842, "comment_id": 85493580, "body": "issue is still unresolved."}], "answers": [{"comments": [{"owner": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "edited": false, "score": 0, "creation_date": 1520959842, "post_id": 49247195, "comment_id": 85526842, "body": "I have matched the names.. and i&#39;m still getting the same error.  That ewn happened to be an error while writing this question. Sorry for my sloppiness, and thanks for your response."}, {"owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "reply_to_user": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "edited": false, "score": 0, "creation_date": 1520959910, "post_id": 49247195, "comment_id": 85526897, "body": "have you tried deleting the build directory, cleaning, and rebuilding?"}, {"owner": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "edited": false, "score": 0, "creation_date": 1520962392, "post_id": 49247195, "comment_id": 85528377, "body": "Cleaning,deleting,and rebuilding didn&#39;t work.  However,  I decided to create a new module and just test it by returning a string, then I dragged my classes from my previous module to the new module and it worked.  I&#39;m not sure what the issue was with the previous module, but the solution for me was drag my classes into a new module. I could only conclude that it was an IDE issue."}, {"owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "reply_to_user": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "edited": false, "score": 0, "creation_date": 1520962494, "post_id": 49247195, "comment_id": 85528453, "body": "perhaps, the module was not actually linked in the settings.xml file?"}, {"owner": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "edited": false, "score": 0, "creation_date": 1520966396, "post_id": 49247195, "comment_id": 85530613, "body": "that&#39;s a possibillity, or maybe it was linked incorrectly."}], "tags": [], "owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "is_accepted": true, "score": 1, "last_activity_date": 1520906619, "creation_date": 1520906619, "answer_id": 49247195, "question_id": 49243842, "link": "https://stackoverflow.com/questions/49243842/unresolved-reference-errors-for-library-functions-being-referenced-in-app-modu/49247195#49247195", "title": "&#39;Unresolved reference&#39; errors for library functions being referenced in app module", "body": "<p>My guess would be you are not importing the library. \nYour post says I am importing my library <code>ewn</code> but then you include:</p>\n\n<pre><code>implementation project(':enw')\n</code></pre>\n\n<p>So... Which one should it be?</p>\n\n<p><code>implementation project(':ewn')</code> ?</p>\n\n<p>After getting that right, I would recommend <code>./gradlew clean</code> followed by a <code>./gradlew build</code> and in a case where that doesn't work Restart Android Studio and Invalidate your cache (can be found in the File menu on mac).</p>\n\n<p>Good Luck and Happy Coding!</p>\n"}], "owner": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 0, "accepted_answer_id": 49247195, "answer_count": 1, "score": 1, "last_activity_date": 1520906619, "creation_date": 1520886256, "last_edit_date": 1520887658, "question_id": 49243842, "link": "https://stackoverflow.com/questions/49243842/unresolved-reference-errors-for-library-functions-being-referenced-in-app-modu", "title": "&#39;Unresolved reference&#39; errors for library functions being referenced in app module", "body": "<p>Example of usage:</p>\n\n<pre><code>package jfyg.etherscan.helloetherescan\n\nimport android.app.Application\n\nclass HelloEtherscanApplication : Application() {\n    override fun onCreate() {\n        super.onCreate()\n        jfyg.ApiKey.takeOff.setApiKey(\"1234567891010dede\") // &lt;----\n    }\n}\n</code></pre>\n\n<p>The ApiKey class is a class i am calling from my <code>ewn</code> library module.  Even though I get no build errors, configure kotlin project says all kotlin files are configured, and I am able to reference the class by clicking and it takes me to the usage in the module.  When I build it tells me <code>Unresolved reference: ApiKey</code>  Please help me get to the bottom of this issue.</p>\n\n<p>Dependencies in App Module:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    // kotlin\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    // google\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    // tests\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n    implementation project(':enw') //&lt;-- importing module here\n}\n</code></pre>\n\n<p>Dependencies in enw module(this is the library module):</p>\n\n<pre><code>  dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n\n    /**\n     Because RxAndroid releases are few and far between, it is recommended you also\n     explicitly depend on RxJava's latest version for bug fixes and new features.\n     */\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    implementation 'io.reactivex.rxjava2:rxjava:2.1.9'\n\n    // gson\n    implementation 'com.google.code.gson:gson:2.8.0'\n\n    // retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\n\n    // kotlin\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    // tests\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n\n<p>Gradle Console:</p>\n\n<pre><code>  Putting task artifact state for task ':app:compileDebugKotlin' into context took 0.0 secs.\n    file or directory '/Users/ackoneb/Android/etherscan/app/src/main/kotlin', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/src/debug/kotlin', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/libs', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/src/main/kotlin', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/src/debug/kotlin', not found\n    Executing task ':app:compileDebugKotlin' (up-to-date check took 0.002 secs) due to:\n      Task.upToDateWhen is false.\n    All input files are considered out-of-date for incremental task ':app:compileDebugKotlin'.\n    file or directory '/Users/ackoneb/Android/etherscan/app/src/main/kotlin', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/src/debug/kotlin', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/src/main/kotlin', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/src/debug/kotlin', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/libs', not found\n    file or directory '/Users/ackoneb/Android/etherscan/app/libs', not found\n    Using Kotlin incremental compilation\n\n    e: /Users/ackoneb/Android/etherscan/app/src/main/java/jfyg/etherscan/helloetherescan/HelloEtherscanApplication.kt: (8, 22): Unresolved reference: ApiKey\n    e: /Users/ackoneb/Android/etherscan/app/src/main/java/jfyg/etherscan/helloetherescan/MainActivity.kt: (5, 21): Unresolved reference: ethereum\n    e: /Users/ackoneb/Android/etherscan/app/src/main/java/jfyg/etherscan/helloetherescan/MainActivity.kt: (11, 24): Unresolved reference: EthereumStat\n\n    [KOTLIN] deleting /Users/ackoneb/Android/etherscan/app/build/tmp/kotlin-classes/debug on error\n    [KOTLIN] deleting /Users/ackoneb/Android/etherscan/app/build/tmp/kotlin-classes/debug on error\n    :app:compileDebugKotlin FAILED\n    :app:compileDebugKotlin (Thread[Task worker for ':',5,main]) completed. Took 0.31 secs.\n\n    FAILURE: Build failed with an exception.\n\n    * What went wrong:\n    Execution failed for task ':app:compileDebugKotlin'.\n    &gt; Compilation error. See log for more details\n</code></pre>\n"}, {"tags": ["server", "kotlin"], "comments": [{"owner": {"reputation": 4293, "user_id": 4069913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/100007329305829/picture?type=large", "display_name": "Orest Savchak", "link": "https://stackoverflow.com/users/4069913/orest-savchak"}, "edited": false, "score": 4, "creation_date": 1520885072, "post_id": 49243565, "comment_id": 85490947, "body": "VMs or different ports."}], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 1, "last_activity_date": 1520948730, "last_edit_date": 1520948730, "creation_date": 1520897635, "answer_id": 49246017, "question_id": 49243565, "link": "https://stackoverflow.com/questions/49243565/how-to-test-autodiscovery-with-just-one-computer/49246017#49246017", "title": "How to test autodiscovery with just one computer?", "body": "<h1>JVMs</h1>\n\n<p>You may be able to run copies of the app in different JVMs, but would have to run them on different ports.</p>\n\n<h1>VMs</h1>\n\n<p>This may be slow, but may be an option</p>\n\n<h1>Docker</h1>\n\n<p>Using Docker (and optionally compose) you been run multiple copies of the app on the same port, with less overhead than using full VMs.</p>\n"}], "owner": {"reputation": 105, "user_id": 6091828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82464b94d478d7a6ab606e2e18f8bb39?s=128&d=identicon&r=PG&f=1", "display_name": "reschandreas", "link": "https://stackoverflow.com/users/6091828/reschandreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 49246017, "answer_count": 1, "score": 0, "last_activity_date": 1520948730, "creation_date": 1520884949, "question_id": 49243565, "link": "https://stackoverflow.com/questions/49243565/how-to-test-autodiscovery-with-just-one-computer", "title": "How to test autodiscovery with just one computer?", "body": "<p>I'm trying to write a Kotlin server with auto discovery, however I only have one computer to develop. My server uses a port and I just can't figure it out myself how to successfully test my application. Thanks for your help!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 1, "creation_date": 1520925363, "post_id": 49242543, "comment_id": 85503895, "body": "you&#39;ve put very little effort into your research"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1520924941, "creation_date": 1520924941, "answer_id": 49250187, "question_id": 49242543, "link": "https://stackoverflow.com/questions/49242543/depedency-injection-and-kotlin/49250187#49250187", "title": "Depedency injection and Kotlin", "body": "<p>This quote (which I don't directly see in the docs, but never mind) says that one way of using Dagger (constructor injection) is more null-safe than another (method injection). </p>\n\n<p>It doesn't say anything about using Dagger to provide null safety compared to not using Dagger.</p>\n\n<p>If you use Dagger's constructor injection with Kotlin, your properties will be normal non-nullable ones; if you use method injection, you'll need to make them nullable or use <code>lateinit</code>. So constructor injection still provides more null-safety than method injection when used with Kotlin.</p>\n"}], "owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49250187, "answer_count": 1, "score": -5, "last_activity_date": 1520924941, "creation_date": 1520880796, "question_id": 49242543, "link": "https://stackoverflow.com/questions/49242543/depedency-injection-and-kotlin", "title": "Depedency injection and Kotlin", "body": "<p>What's the point of using Dagger2 and Kotlin ? </p>\n\n<p>Dagger2 docs says:</p>\n\n<p>\"Constructor injection is preferred whenever possible because javac will ensure that no field is referenced before it has been set, which helps avoid NullPointerExceptions.\"</p>\n\n<p>The main reason why Kotlin exists is to provide null safety. </p>\n\n<p>So is it worth to use Dagger2 with Kotlin ?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1520881095, "post_id": 49242379, "comment_id": 85488871, "body": "I highly doubt Android lets you do this. In any case, you could try your luck with <a href=\"https://stackoverflow.com/a/41968655/962089\">Android: How to turn screen on and off programmatically?</a> if the conditions are acceptable and it works on supported devices/OS versions"}], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1520881157, "post_id": 49242619, "comment_id": 85488920, "body": "Does that actually turn the screen off or just lock the phone? The way I saw it, the question was focused around the third point (and all three together are too broad for one question)"}, {"owner": {"reputation": 76, "user_id": 3784743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8af5f1c32c6571ac01661cd97d057a?s=128&d=identicon&r=PG", "display_name": "0x7067", "link": "https://stackoverflow.com/users/3784743/0x7067"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1520881453, "post_id": 49242619, "comment_id": 85489084, "body": "It does both, actually. It turns the screen off and locks the device."}, {"owner": {"reputation": 28335, "user_id": 853836, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc609f2f90e5d5d6802b0201c15db5b6?s=128&d=identicon&r=PG", "display_name": "Addev", "link": "https://stackoverflow.com/users/853836/addev"}, "edited": false, "score": 0, "creation_date": 1520882091, "post_id": 49242619, "comment_id": 85489443, "body": "This requires a deprecated &quot;device admin&quot; option. Any other ideas?"}, {"owner": {"reputation": 76, "user_id": 3784743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8af5f1c32c6571ac01661cd97d057a?s=128&d=identicon&r=PG", "display_name": "0x7067", "link": "https://stackoverflow.com/users/3784743/0x7067"}, "edited": false, "score": 0, "creation_date": 1520882714, "post_id": 49242619, "comment_id": 85489791, "body": "Not that I&#39;m aware :("}], "tags": [], "owner": {"reputation": 76, "user_id": 3784743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8af5f1c32c6571ac01661cd97d057a?s=128&d=identicon&r=PG", "display_name": "0x7067", "link": "https://stackoverflow.com/users/3784743/0x7067"}, "is_accepted": true, "score": 2, "last_activity_date": 1550395337, "last_edit_date": 1550395337, "creation_date": 1520881094, "answer_id": 49242619, "question_id": 49242379, "link": "https://stackoverflow.com/questions/49242379/turn-screen-off-programmatically/49242619#49242619", "title": "Turn screen off programmatically", "body": "<p>If your app is a  <a href=\"https://developer.android.com/guide/topics/admin/device-admin.html\" rel=\"nofollow noreferrer\">device admin</a> you can lock the screen with <a href=\"https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#lockNow()\" rel=\"nofollow noreferrer\">DevicePolicyManager.lockNow()</a></p>\n\n<p>You can use this snippet (after setting the Device Admin part):</p>\n\n<pre><code>DevicePolicyManager manager = ((DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE));\nmanager.lockNow();\n</code></pre>\n"}], "owner": {"reputation": 28335, "user_id": 853836, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc609f2f90e5d5d6802b0201c15db5b6?s=128&d=identicon&r=PG", "display_name": "Addev", "link": "https://stackoverflow.com/users/853836/addev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3228, "favorite_count": 1, "accepted_answer_id": 49242619, "answer_count": 1, "score": 2, "last_activity_date": 1550395337, "creation_date": 1520880100, "question_id": 49242379, "link": "https://stackoverflow.com/questions/49242379/turn-screen-off-programmatically", "title": "Turn screen off programmatically", "body": "<p>I'm working in an app that needs to to do any of this actions:</p>\n\n<ul>\n<li>Lock the device</li>\n<li>Put the device in sleep mode</li>\n<li>Turn off the screen</li>\n</ul>\n\n<p>How can I achieve this?</p>\n\n<p>Found  this option, but it requires the proximity sensor to be in \"near\" state to turn off the screen:</p>\n\n<pre><code> mWakeLock = mPowerManager.newWakeLock(PowerManager.PROXIMITY_SCREEN_OFF_WAKE_LOCK, \"tag\");\n mWakeLock.acquire();\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2251, "user_id": 3758972, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001455403770/picture?type=large", "display_name": "Nitesh Verma", "link": "https://stackoverflow.com/users/3758972/nitesh-verma"}, "edited": false, "score": 0, "creation_date": 1520879333, "post_id": 49242035, "comment_id": 85487906, "body": "I think your <code>email</code> EditText is getting default focus. try <a href=\"https://stackoverflow.com/a/1662088/3758972\">stackoverflow.com/a/1662088/3758972</a>"}, {"owner": {"reputation": 1, "user_id": 6298054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa221b27e5cc2477ceaff7551ec69a5?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoobster", "link": "https://stackoverflow.com/users/6298054/thenoobster"}, "reply_to_user": {"reputation": 2251, "user_id": 3758972, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001455403770/picture?type=large", "display_name": "Nitesh Verma", "link": "https://stackoverflow.com/users/3758972/nitesh-verma"}, "edited": false, "score": 0, "creation_date": 1520882056, "post_id": 49242035, "comment_id": 85489419, "body": "Tried the methods you suggested on the above link none of them works as I want them to work."}, {"owner": {"reputation": 1, "user_id": 6298054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa221b27e5cc2477ceaff7551ec69a5?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoobster", "link": "https://stackoverflow.com/users/6298054/thenoobster"}, "reply_to_user": {"reputation": 2251, "user_id": 3758972, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001455403770/picture?type=large", "display_name": "Nitesh Verma", "link": "https://stackoverflow.com/users/3758972/nitesh-verma"}, "edited": false, "score": 0, "creation_date": 1520940371, "post_id": 49242035, "comment_id": 85512868, "body": "Still looking for the solution."}], "owner": {"reputation": 1, "user_id": 6298054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa221b27e5cc2477ceaff7551ec69a5?s=128&d=identicon&r=PG&f=1", "display_name": "TheNoobster", "link": "https://stackoverflow.com/users/6298054/thenoobster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520878902, "creation_date": 1520878902, "question_id": 49242035, "link": "https://stackoverflow.com/questions/49242035/automatic-scroll-down-when-focused-on-textinputedittext", "title": "Automatic Scroll Down when focused on TextInputEditText", "body": "<p>So far I have done:</p>\n\n<p><strong>MainActivity:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val email: EditText = this.findViewById(R.id.edt_mail)\n    val pass: EditText = this.findViewById(R.id.edt_password)\n    val scrollView = findViewById&lt;View&gt;(R.id.nestedScrollView) as ScrollView\n    email.setOnFocusChangeListener { v, hasFocus -&gt;\n        if (hasFocus) {\n            scrollView.postDelayed({\n                scrollView.fullScroll(View.FOCUS_DOWN)\n            }, 1200)\n        }\n    }\n    pass.setOnFocusChangeListener { v, hasFocus -&gt;\n        if (hasFocus) {\n            scrollView.postDelayed({\n                scrollView.fullScroll(View.FOCUS_DOWN)\n            }, 1200)\n        }\n    }}}\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/nestedScrollView\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fillViewport=\"true\"\nandroid:focusable=\"true\"\nandroid:focusableInTouchMode=\"true\"&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n    android:id=\"@+id/main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/logo\"\n        android:layout_width=\"258dp\"\n        android:layout_height=\"47dp\"\n        android:layout_marginTop=\"164dp\"\n        android:contentDescription=\"@string/companyLogo\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.515\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@drawable/logo\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/LoginGuideLine\"\n        style=\"@style/LoginGuideLine\"\n        android:layout_width=\"295dp\"\n        android:layout_height=\"100dp\"\n        android:layout_marginTop=\"20dp\"\n        android:padding=\"20dp\"\n        android:text=\"@string/LoginGuideLine\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.518\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n\n        app:layout_constraintTop_toBottomOf=\"@+id/logo\" /&gt;\n\n    &lt;android.support.design.widget.TextInputLayout\n        android:id=\"@+id/edtl_login\"\n        style=\"@style/TextInput\"\n        android:layout_width=\"295dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"16dp\"\n        android:inputType=\"textEmailAddress\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.518\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/LoginGuideLine\"&gt;\n\n        &lt;android.support.design.widget.TextInputEditText\n            android:id=\"@+id/edt_mail\"\n            android:layout_width=\"295dp\"\n            android:layout_height=\"wrap_content\"\n            android:focusable=\"true\"\n            android:hint=\"@string/EmailHint\"\n            android:inputType=\"textEmailAddress\" /&gt;\n    &lt;/android.support.design.widget.TextInputLayout&gt;\n\n    &lt;android.support.design.widget.TextInputLayout\n        android:id=\"@+id/edtl_password\"\n        style=\"@style/TextInput\"\n        android:layout_width=\"295dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"16dp\"\n        android:inputType=\"textPassword\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.518\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/edtl_login\"&gt;\n\n        &lt;android.support.design.widget.TextInputEditText\n            android:id=\"@+id/edt_password\"\n            android:layout_width=\"295dp\"\n            android:layout_height=\"wrap_content\"\n            android:focusable=\"true\"\n            android:hint=\"@string/PasswordHint\"\n            android:inputType=\"textPassword\" /&gt;\n    &lt;/android.support.design.widget.TextInputLayout&gt;\n\n    &lt;Button\n        android:id=\"@+id/LoginBtn\"\n        style=\"@style/PrimaryBtn\"\n        android:layout_width=\"295dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"56dp\"\n        android:text=\"@string/BtnTxt\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.518\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/edtl_password\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest \n xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"constraints\"&gt;\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:screenOrientation=\"landscape\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;meta-data\n        android:name=\"preloaded_fonts\"\n        android:resource=\"@array/preloaded_fonts\" /&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is basically a Login Page UI that I am making where I want to the screen to scroll down automatically when focused on either email or password field. On email field, it does the job but on the password field, it shifts the focus automatically back to Email field and I have tried to reset the focus but that doesn't seem to work as well so I am not sure where the issue is.</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "android-tablayout"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 7515361, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9097477808e806a5b91553afc1f54322?s=128&d=identicon&r=PG&f=1", "display_name": "azra abdullah", "link": "https://stackoverflow.com/users/7515361/azra-abdullah"}, "edited": false, "score": 0, "creation_date": 1520894370, "post_id": 49242017, "comment_id": 85494852, "body": "Yes can do that way but the problem when swipe to second tab fragment it break because the first fragments became null again. I want to have this string stay for both fragment"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 3, "last_activity_date": 1520878830, "creation_date": 1520878830, "answer_id": 49242017, "question_id": 49241857, "link": "https://stackoverflow.com/questions/49241857/kotlin-pass-data-between-fragment-from-it-main-activity-is-null/49242017#49242017", "title": "Kotlin pass data between fragment from it main activity is null", "body": "<p>In your <code>ProductActivity</code>, you're creating a fragment and setting its arguments, but you're not doing anything with that fragment. It just gets thrown away:</p>\n\n<blockquote>\n<pre><code>val testString : String = \"example only\"\nvar bundle = Bundle()\nbundle.putString(\"test\", testString)\nvar frag = ProductPageFragment()\nfrag.arguments = bundle \n</code></pre>\n</blockquote>\n\n<p>In your <code>TabsAdapter</code>, you create the fragments that actually get used, but you never set their arguments:</p>\n\n<blockquote>\n<pre><code>override fun getItem(position: Int): Fragment {\n    return when (position) {\n        0 -&gt;  ProductPageFragment()\n        1 -&gt;  ProductDetailFragment()\n        //2 -&gt;  ContactsFragment()\n        else -&gt;  ProductPageFragment()\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>You can delete the first section of code, but you'll want to apply that same logic in your adapter. Maybe something like this:</p>\n\n<pre><code>override fun getItem(position: Int): Fragment {\n    return when (position) {\n        0 -&gt; {\n            var bundle = Bundle()\n            bundle.putString(\"test\", \"some string here\")\n            var frag = ProductPageFragment()\n            frag.arguments = bundle\n            frag\n        }\n        ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 7515361, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9097477808e806a5b91553afc1f54322?s=128&d=identicon&r=PG&f=1", "display_name": "azra abdullah", "link": "https://stackoverflow.com/users/7515361/azra-abdullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6105, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520894253, "creation_date": 1520878230, "last_edit_date": 1520894253, "question_id": 49241857, "link": "https://stackoverflow.com/questions/49241857/kotlin-pass-data-between-fragment-from-it-main-activity-is-null", "title": "Kotlin pass data between fragment from it main activity is null", "body": "<p>I having difficulties to pass data from main activity to its fragment.\nHere main activity is ProductActivity.class that have two fragment using tablayout using Kotlin</p>\n\n<p>Using bundle and set to argument seem not working as error by compiler because string was not save or maybe null after create new fragment.</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.os.Bundle.getString(java.lang.String)' on a null object reference\n                                                                      at my.hipi.hipiboutique.fragments.ProductPageFragment.onCreateView(ProductPageFragment.kt:22)\n</code></pre>\n\n<p>i'm using this string example only to pass between two fragment for this question purpose but basically i'm using the the json string. </p>\n\n<p>ProductActivity</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport com.google.gson.Gson\nimport kotlinx.android.synthetic.main.activity_product.*\nimport my.hipi.hipiboutique.fragments.ProductPageFragment\nimport java.util.ArrayList\n\nclass ProductActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_product)\n\n        val product1 = this.intent.getStringExtra(\"array\")\n        val fullProduct = Gson().fromJson(product1, Product::class.java)\n\n        val testString : String = \"example only\"\n        var bundle = Bundle()\n        bundle.putString(\"test\", testString)\n        var frag = ProductPageFragment()\n        frag.arguments = bundle\n\n        viewPager_fragment.adapter = TabsAdapter(supportFragmentManager)\n        tabLayout.setupWithViewPager(viewPager_fragment)\n\n    }\n\n\n}\n</code></pre>\n\n<p>this is TabsAdapter</p>\n\n<pre><code>import android.support.v4.app.Fragment\nimport android.support.v4.app.FragmentManager\nimport android.support.v4.app.FragmentPagerAdapter\nimport my.hipi.hipiboutique.fragments.ProductDetailFragment\nimport my.hipi.hipiboutique.fragments.ProductPageFragment\n\nclass TabsAdapter(manager: FragmentManager) : FragmentPagerAdapter (manager) {\n\n    private val fragmentTitles = arrayOf(\"Product\", \"Details\", \"Contacts\")\n\n    override fun getItem(position: Int): Fragment {\n        return when (position) {\n            0 -&gt;  ProductPageFragment()\n            1 -&gt;  ProductDetailFragment()\n            //2 -&gt;  ContactsFragment()\n            else -&gt;  ProductPageFragment()\n        }\n    }\n\n    override fun getCount(): Int {\n         return 3\n    }\n\n    override fun getPageTitle(position: Int): CharSequence {\n        return fragmentTitles[position]\n    }\n\n}\n</code></pre>\n\n<p>this is ProductPageFragemnt.class</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport my.hipi.hipiboutique.R\n\nclass ProductPageFragment : Fragment() {\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n\n        var gt = this.arguments.getString(\"test\")\n        println(gt)\n\n        return inflater!!.inflate(R.layout.fragment_product_page, container, false)  \n    }\n}\n</code></pre>\n\n<p>How to pass this data string to both fragments. Yes can pass to one fragment but if go to second tab,will cause null data. I want this data available to both fragments .Thank in advance.</p>\n"}, {"tags": ["java", "android", "kotlin", "augmented-reality", "arcore"], "answers": [{"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 3, "last_activity_date": 1593785815, "last_edit_date": 1593785815, "creation_date": 1540609530, "answer_id": 53018388, "question_id": 49241526, "link": "https://stackoverflow.com/questions/49241526/what-is-the-difference-between-session-getalltrackables-and-frame-getupdatedtrac/53018388#53018388", "title": "What is the difference between Session.getAllTrackables and Frame.getUpdatedTrackables?", "body": "<p>Global <strong><code>Session.getAllTrackables</code></strong> returns the list of <strong>all known trackables</strong>. If plane detection is enabled this list includes <code>Planes</code>, as well as <code>Points</code> created as a side-effect of calls to <code>hitTest(float, float)</code> or <code>createAnchor(Pose)</code>.</p>\n<p>Example:</p>\n<pre><code>planeRenderer.drawPlanes(session.getAllTrackables(Plane.class),\n                         camera.getDisplayOrientedPose(), \n                         projmtx);\n</code></pre>\n<p>As you can see here <code>planeRenderer</code> class is for drawing planes. It uses a <code>.drawPlanes()</code> method to render any of the identified planes the ARCore session has identified using the view and projection matrices. It passes all the planes in thru a call to <code>getAllTrackables(Plane.class)</code>.</p>\n<p><br></p>\n<p>But local <strong><code>Frame.getUpdatedTrackables</code></strong> returns the <strong>trackables of a particular type</strong> that were changed by the <code>update()</code> that returned this <code>Frame</code>. To retrieve all changed trackables a <em><strong>filterType</strong></em> may be <code>Trackable.class</code> or <code>Point.class</code> or <code>Plane.class</code>. This method gets fired whenever screen frame is updated.</p>\n<p>Example:</p>\n<pre><code>private void onUpdateFrame(FrameTime frameTime) {\n    Frame frame = arSceneView.getArFrame();\n    Collection updatedAugmentedImages = frame.getUpdatedTrackables(AugmentedImage.class);\n}\n</code></pre>\n<p>And a couple of words about <code>update()</code>:</p>\n<pre><code>public Frame update()\n</code></pre>\n<blockquote>\n<p>Updates the state of the ARCore system. This includes: receiving a new camera frame, updating the location of the device, updating the location of tracking anchors, updating detected planes, etc. This call may cause off-screen OpenGL activity. Because of this, to avoid unnecessary frame buffer flushes and reloads, this call should not be made in the middle of rendering a frame or offscreen buffer. This call may update the pose of all created anchors and detected planes. The set of updated objects is accessible through <code>getUpdatedTrackables(Class)</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 255, "user_id": 1541648, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/4df6e458a51b3d524085589fccc3e7f5?s=128&d=identicon&r=PG", "display_name": "redpearl", "link": "https://stackoverflow.com/users/1541648/redpearl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1091, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1593785815, "creation_date": 1520876961, "last_edit_date": 1584040529, "question_id": 49241526, "link": "https://stackoverflow.com/questions/49241526/what-is-the-difference-between-session-getalltrackables-and-frame-getupdatedtrac", "title": "What is the difference between Session.getAllTrackables and Frame.getUpdatedTrackables?", "body": "<p>Do both return all trackables known for now? </p>\n\n<p>Why do we need both? </p>\n\n<p>When should call which one?</p>\n\n<p>Same question is for <code>Session.getAllAnchors</code> and <code>Frame.getUpdatedAnchors</code>.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 3537, "user_id": 3351176, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA23-LfKdPCcJrUwtE08IQl-6Mkeu8Vxcu5PheuMAE=k-s128", "display_name": "Jason Berryman", "link": "https://stackoverflow.com/users/3351176/jason-berryman"}, "is_accepted": true, "score": 9, "last_activity_date": 1520879658, "creation_date": 1520879658, "answer_id": 49242247, "question_id": 49241477, "link": "https://stackoverflow.com/questions/49241477/how-can-i-populate-the-reference-field-using-firestore/49242247#49242247", "title": "How can I populate the reference Field using Firestore", "body": "<p>When you create / get a document reference, you can save this into another document.  This example is for the Node SDK, but it should give you an idea of how to implement this for Android.</p>\n\n<h2>Creating a document reference</h2>\n\n<pre><code>// Create the references\nlet myFirstDoc = db.collection('myCollection').doc();\nlet mySecondDoc = db.collection('otherCollection').doc();\n\nlet batch = db.batch();\n\n// Save the two documents to the batch\nbatch.set(myFirstDoc, {someData: true});\nbatch.set(mySecondDoc, {firstDocRef: myFirstDoc});\n\n// Commit the batch\nreturn batch.commit()\n  .then(response =&gt; {\n    console.log('Data saved');\n  })\n  .catch(err =&gt; {\n    console.error(err);\n  });\n</code></pre>\n\n<h2>Getting an existing reference</h2>\n\n<pre><code>return db.collection('myCollection').doc('myDocId')\n  .then(documentSnapshot =&gt; {\n    let newDoc = db.collection('otherCollection').add({otherDoc: documentSnapshot.ref});\n  })\n  .then(response =&gt; {\n    console.log('Data saved');\n  })\n  .catch(err =&gt; {\n    console.error(err)\n  })\n</code></pre>\n"}], "owner": {"reputation": 1464, "user_id": 3183224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001947784562/picture?type=large", "display_name": "Igor Ronner", "link": "https://stackoverflow.com/users/3183224/igor-ronner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3198, "favorite_count": 2, "accepted_answer_id": 49242247, "answer_count": 1, "score": 3, "last_activity_date": 1520881866, "creation_date": 1520876759, "last_edit_date": 1520881866, "question_id": 49241477, "link": "https://stackoverflow.com/questions/49241477/how-can-i-populate-the-reference-field-using-firestore", "title": "How can I populate the reference Field using Firestore", "body": "<p>Do you know how I can populate the reference Field on a Document using Firestore? </p>\n\n<p><a href=\"https://i.stack.imgur.com/ccN9s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ccN9s.png\" alt=\"Firestore\"></a></p>\n"}, {"tags": ["generics", "recursion", "kotlin", "projection"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1520872585, "post_id": 49240014, "comment_id": 85484046, "body": "In the current version of Kotlin, there is no way to specify that a type parameter (or any type in general) can be either A or B. Multiple type constraints work as &quot;and&quot; constraints: they specify that a type parameter must be both A and B."}, {"owner": {"reputation": 1721, "user_id": 1968829, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/zRT2g.jpg?s=128&g=1", "display_name": "horcle_buzz", "link": "https://stackoverflow.com/users/1968829/horcle-buzz"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1520875272, "post_id": 49240014, "comment_id": 85485724, "body": "Darn it! Thanks for confirming what I thought. I&#39;ll have to play around with my data structure then to come up with a more general form."}], "owner": {"reputation": 1721, "user_id": 1968829, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/zRT2g.jpg?s=128&g=1", "display_name": "horcle_buzz", "link": "https://stackoverflow.com/users/1968829/horcle-buzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520871908, "creation_date": 1520871908, "question_id": 49240014, "link": "https://stackoverflow.com/questions/49240014/approach-to-dealing-with-multiple-upper-bounds-of-differing-data-types-in-functi", "title": "Approach to dealing with multiple upper bounds of differing data types in function declaration", "body": "<p>I have a tail recursive function in which it is possible to create nested lists, where the parameter being passed is a linked hashmap, initially of type: </p>\n\n<pre><code>val mapTest = LinkedHashMap&lt;String, Any&gt;()\n</code></pre>\n\n<p>The call to the recursion is thus, </p>\n\n<pre><code>matchTest(mapTest)\n</code></pre>\n\n<p>My tail recursion deconstructs the map and does a bunch of pattern matching. For simplicity's sake, it is:</p>\n\n<pre><code>tailrec fun &lt;T&gt; matchTest(testMap: Map&lt;T,Any&gt;): Boolean\n    where T: String, // this is string on initial call\n          T: List&lt;String&gt;{ // this is List&lt;String&gt; on subsequent calls\n\n    val newMap = LinkedHashMap&lt;List&lt;String&gt;, Any&gt;()\n    var found = false\n\n    /*\n        logic that can create nested lists\n    */\n\n    return when {\n        found -&gt; true\n        else -&gt; matchTest(newMap)\n    }\n\n}\n</code></pre>\n\n<p>The issue is that when the recursive call is made after the initial call, instead of passing a LinkedHashMap with a <code>String</code> type for the keys, it will have a <code>List</code> of type <code>String</code>. </p>\n\n<p>Naively, I thought creating multiple upper bounds on my Generic type would take care of this (see above function declaration), but Idea gives the error that \"String is not a subtype of List\"... </p>\n\n<p>I also tried using a star projection for the list argument, but Idea gives me an error that \"Projections are not allowed on type arguments of functions and properties.\"</p>\n\n<p>Am I barking up the wrong tree thinking that use of Generic data types would solve my problem of how to deal with the possibility that the key in my map can go from <code>String</code> to <code>List&lt;String&gt;?</code></p>\n\n<p>In Python, of course this would be simple, but alas...</p>\n"}, {"tags": ["android", "android-viewpager", "kotlin", "android-scrollview"], "comments": [{"owner": {"reputation": 24725, "user_id": 1306419, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/swqaH.png?s=128&g=1", "display_name": "Shobhit Puri", "link": "https://stackoverflow.com/users/1306419/shobhit-puri"}, "edited": false, "score": 0, "creation_date": 1521064496, "post_id": 49238797, "comment_id": 85579550, "body": "Based on your logic, have you tried returning <code>false</code> from <code>onTouch</code> listeners in ScrollView? I think returning false would signal the SDK that you don&#39;t want the scrollview to handle touch event and it probably would be propagated further."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1521095815, "post_id": 49238797, "comment_id": 85588335, "body": "You have a <code>ScrollView</code> inside a <code>ScrollView</code> (<code>MyScrollView</code> inside <code>VerticalScrollView</code>). Make sure, that <code>MyScrollView</code> is an instance of <a href=\"https://developer.android.com/reference/android/support/v4/widget/NestedScrollView.html\" rel=\"nofollow noreferrer\"><code>NestedScrollView</code></a>."}, {"owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1521102218, "post_id": 49238797, "comment_id": 85591132, "body": "@azizbekian thanks, but I&#39;ve tried that as well. Doesn&#39;t change anything."}, {"owner": {"reputation": 1610, "user_id": 2220337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22d64a068fd74d3768a167dfd85231d9?s=128&d=identicon&r=PG&f=1", "display_name": "cjurjiu", "link": "https://stackoverflow.com/users/2220337/cjurjiu"}, "edited": false, "score": 0, "creation_date": 1521236711, "post_id": 49238797, "comment_id": 85661965, "body": "Is the <code>VerticalScrollView</code> written by yourself, or a library? If you&#39;re using a library, can you add a link to it, or tell us its name?"}, {"owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "reply_to_user": {"reputation": 1610, "user_id": 2220337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22d64a068fd74d3768a167dfd85231d9?s=128&d=identicon&r=PG&f=1", "display_name": "cjurjiu", "link": "https://stackoverflow.com/users/2220337/cjurjiu"}, "edited": false, "score": 0, "creation_date": 1521238399, "post_id": 49238797, "comment_id": 85662534, "body": "@cjurjiu Thanks for commenting. But no, no libraries. And just to be clear - <code>MyScrollView</code> is just a custom <code>NestedScrollView</code>, to make it easier for me to write touch interception code.   But maybe you meant to ask about the <code>VerticalViewPager</code>? Thats just the same as any google hit would tell you to do. E.g. <a href=\"https://android.googlesource.com/platform/packages/apps/DeskClock/+/master/src/com/android/deskclock/VerticalViewPager.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/packages/apps/DeskClock/+/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 930, "user_id": 5125812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPxL4.jpg?s=128&g=1", "display_name": "Victor Rendina", "link": "https://stackoverflow.com/users/5125812/victor-rendina"}, "edited": false, "score": 0, "creation_date": 1521475096, "post_id": 49238797, "comment_id": 85735224, "body": "Rather than trying to intercept touch events, have you looked at using the method <code>canScrollVertically</code> inside of an <code>OnScrollChangeListener</code> and then manually advancing the view pager? You might find some inspiration in the <code>BottomSheetBehavior</code> class."}], "answers": [{"comments": [{"owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "edited": false, "score": 0, "creation_date": 1521398534, "post_id": 49348022, "comment_id": 85702918, "body": "Thanks for the answer. Maybe I&#39;m doing something wrong but I didn&#39;t get it working with that approach. Maybe it has something to do with the from-horizontal-to-vertical stuff to do."}, {"owner": {"reputation": 1569, "user_id": 1269429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa64ef9121f92382216a8a4683c9e4f?s=128&d=identicon&r=PG", "display_name": "MarkySmarky", "link": "https://stackoverflow.com/users/1269429/markysmarky"}, "reply_to_user": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "edited": false, "score": 0, "creation_date": 1521449502, "post_id": 49348022, "comment_id": 85717726, "body": "Yeah - you need to catch the pointer move event, understand the motion (vertical/horizontal) and pass the event to the responsible component. That&#39;s exactly what is described in my previous answer."}], "tags": [], "owner": {"reputation": 1569, "user_id": 1269429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa64ef9121f92382216a8a4683c9e4f?s=128&d=identicon&r=PG", "display_name": "MarkySmarky", "link": "https://stackoverflow.com/users/1269429/markysmarky"}, "is_accepted": false, "score": 0, "last_activity_date": 1521377062, "creation_date": 1521377062, "answer_id": 49348022, "question_id": 49238797, "link": "https://stackoverflow.com/questions/49238797/delegate-touch-event-from-scrollview-to-vertical-viewpager/49348022#49348022", "title": "Delegate touch event from ScrollView to vertical ViewPager", "body": "<p>Solution is probably very similar to this one over here:\n(original answer is for webview, but logic is the same)</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7774642/scroll-webview-horizontally-inside-a-viewpager\">Scroll webview horizontally inside a ViewPager</a></p>\n"}, {"comments": [{"owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "edited": false, "score": 0, "creation_date": 1521467525, "post_id": 49362533, "comment_id": 85729586, "body": "Thank you for your time! I didn&#39;t get this to work perfectly with my <code>VerticalViewPager</code>, which essentially is <a href=\"https://android.googlesource.com/platform/packages/apps/DeskClock/+/master/src/com/android/deskclock/VerticalViewPager.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/packages/apps/DeskClock/+/&zwnj;&#8203;&hellip;</a>. Did you? It&#39;s pretty good if the <code>MyScrollView</code> is scrolled to the bottom, and you make a new touch to scroll even more. But there&#39;s a large jump when you continue into the overscroll directly. Do you see the same behaviour?"}, {"owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "edited": false, "score": 0, "creation_date": 1521483142, "post_id": 49362533, "comment_id": 85740391, "body": "It&#39;s as if it believes that the distance I&#39;ve scrolled before reaching the end, should be part of the overscroll distance."}, {"owner": {"reputation": 2544, "user_id": 1007151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b61eced2e6b06628580af0dace82283b?s=128&d=identicon&r=PG", "display_name": "darnmason", "link": "https://stackoverflow.com/users/1007151/darnmason"}, "reply_to_user": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "edited": false, "score": 0, "creation_date": 1521493923, "post_id": 49362533, "comment_id": 85745953, "body": "I used the same Vertical view pager and didn&#39;t notice that behaviour, although I was using an emulator so probably didn&#39;t get a good feel for it, it might also depend on how big the scroll views are, I just dropped 50 Text Views into them"}, {"owner": {"reputation": 2544, "user_id": 1007151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b61eced2e6b06628580af0dace82283b?s=128&d=identicon&r=PG", "display_name": "darnmason", "link": "https://stackoverflow.com/users/1007151/darnmason"}, "reply_to_user": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "edited": false, "score": 0, "creation_date": 1521494200, "post_id": 49362533, "comment_id": 85746090, "body": "It should be pretty straight forward to get the behaviour you want, requiring a new touch to scroll the page. In this case you&#39;d want to keep the touch event if there has been any scrolling since the last ACTION_DOWN, so can add an extra condition to the ACTION_MOVE case"}, {"owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "edited": false, "score": 0, "creation_date": 1521533806, "post_id": 49362533, "comment_id": 85758994, "body": "Again, thank you for your time and effort. There was a misunderstanding into your &quot;Edit 2&quot; (which works pretty fine btw, but not what I meant). I don&#39;t want to require a new scroll to go into overscroll. It&#39;s just that with &quot;Edit 1&quot;, the overscroll can mess things up. Check this sample video out <a href=\"https://youtu.be/JJIG13UwCjc\" rel=\"nofollow noreferrer\">youtu.be/JJIG13UwCjc</a> . It shows how it all jumps oddly. And also, it&#39;s buggy in that you sometimes have to drag multiple times (almost always (if not always) when you drag down, to go upp in the view heirarchy). I&#39;d love to give you the bounty but its not possible to use this in a real app yet."}, {"owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "edited": false, "score": 0, "creation_date": 1521619958, "post_id": 49362533, "comment_id": 85803480, "body": "Your effort/help deserves the bounty so you got it. But I can&#39;t mark the answer as accepted since it isn&#39;t possible to use this in a real app. I&#39;ll get back here when I have something running smoothly. Thanks anyway!"}], "tags": [], "owner": {"reputation": 2544, "user_id": 1007151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b61eced2e6b06628580af0dace82283b?s=128&d=identicon&r=PG", "display_name": "darnmason", "link": "https://stackoverflow.com/users/1007151/darnmason"}, "is_accepted": false, "score": 0, "last_activity_date": 1521498831, "last_edit_date": 1521498831, "creation_date": 1521461023, "answer_id": 49362533, "question_id": 49238797, "link": "https://stackoverflow.com/questions/49238797/delegate-touch-event-from-scrollview-to-vertical-viewpager/49362533#49362533", "title": "Delegate touch event from ScrollView to vertical ViewPager", "body": "<p>I think your idea to have the ScrollView dictate when the ViewPager should kick in is pretty good, it's already using <code>requestDisallowInterceptTouchEvent</code> to prevent the ViewPager from intercepting the scroll. What you need is use this same method to <em>allow</em> the intercept in the circumstances you've indicated, which is when the ScrollView has reached the top or bottom.</p>\n\n<p>So if the ScrollView handles an <code>ACTION_MOVE</code> touch event but the resulting scroll offset hasn't changed we can assume that we've scrolled past the top or bottom (and are now overscrolling). There may be a better way to detect overscroll so have an experiment with this as a starting point:</p>\n\n<pre><code>//MyScrollView.java\n\n@Override\npublic boolean onTouchEvent(MotionEvent ev) {\n    boolean handled = super.onTouchEvent(ev);\n    if (handled &amp;&amp; ev.getActionMasked() == MotionEvent.ACTION_MOVE) {\n        int y = getScrollY();\n        boolean moved = y != prevY;\n        prevY = y;\n        // This is the important part to allow the parent to intercept\n        if (!moved) {\n            ViewParent parent = getParent();\n            if (parent != null) {\n                parent.requestDisallowInterceptTouchEvent(false);\n            }\n        }\n        // Also important to re\n        return moved;\n    }\n    return handled;\n}\n</code></pre>\n\n<p>EDIT - I had a quick play around and think this works nicely</p>\n\n<pre><code>public class MyScrollView extends ScrollView {\n\n    private boolean clampedY;\n\n    public MyScrollView(Context context) {\n        super(context);\n    }\n\n    public MyScrollView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public MyScrollView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent ev) {\n        boolean handled = super.onTouchEvent(ev);\n        if (handled) {\n            ViewParent parent = getParent();\n            switch (ev.getActionMasked()) {\n                case MotionEvent.ACTION_MOVE:\n                    if (clampedY &amp;&amp; parent != null) {\n                        parent.requestDisallowInterceptTouchEvent(false);\n                    }\n                    break;\n                case MotionEvent.ACTION_DOWN:\n                    clampedY = false;\n                    if (parent != null) {\n                        parent.requestDisallowInterceptTouchEvent(true);\n                    }\n                    break;\n            }\n        }\n        return handled;\n    }\n\n    @Override\n    protected void onOverScrolled(int scrollX, int scrollY, boolean clampedX, boolean clampedY) {\n        super.onOverScrolled(scrollX, scrollY, clampedX, clampedY);\n        this.clampedY = clampedY;\n    }\n}\n</code></pre>\n\n<p>EDIT 2 - This will keep ownership of the touch if there has been any scroll, so a separate touch is required to switch page</p>\n\n<pre><code>public class MyScrollView extends ScrollView {\n\n    private boolean scrolled;\n\n    public MyScrollView(Context context) {\n        super(context);\n    }\n\n    public MyScrollView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public MyScrollView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent ev) {\n        boolean handled = super.onTouchEvent(ev);\n        if (handled) {\n            ViewParent parent = getParent();\n            switch (ev.getActionMasked()) {\n                case MotionEvent.ACTION_MOVE:\n                    if (!scrolled &amp;&amp; parent != null) {\n                        parent.requestDisallowInterceptTouchEvent(false);\n                    }\n                    break;\n                case MotionEvent.ACTION_DOWN:\n                    scrolled = false;\n                    if (parent != null) {\n                        parent.requestDisallowInterceptTouchEvent(true);\n                    }\n                    break;\n            }\n        }\n        return handled;\n    }\n\n    @Override\n    protected void onScrollChanged(int l, int t, int oldl, int oldt) {\n        super.onScrollChanged(l, t, oldl, oldt);\n        if (t != oldt) {\n            scrolled = true;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 716, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1521570601, "creation_date": 1520868244, "last_edit_date": 1521570601, "question_id": 49238797, "link": "https://stackoverflow.com/questions/49238797/delegate-touch-event-from-scrollview-to-vertical-viewpager", "title": "Delegate touch event from ScrollView to vertical ViewPager", "body": "<p>I have a <code>VerticalViewPager</code> where each child fragment contain something like </p>\n\n<pre><code>&lt;MyScrollView&gt;\n    &lt;LinearLayout orientation=vertical&gt;\n        ...\n        ...\n    &lt;/LinearLayout&gt;\n&lt;/MyScrollView&gt;\n</code></pre>\n\n<p>When <code>MyScrollView</code> is scrolled to the bottom, I'd like the <code>VerticalViewPager</code> to kick in and do its magic. Likewise if I scroll the <code>MyScrollView</code> to the very top. </p>\n\n<p>I've experimented a bunch with intercepting the touch events in the <code>ScrollView</code> to somehow dispatch the <code>MotionEvent</code> to the <code>VerticalViewPager</code> without any good luck. </p>\n\n<p>This obviously doesn't work, but to get the conversation going I currently do something like the following in <code>MyScrollView</code> </p>\n\n<pre><code>override fun onInterceptTouchEvent(ev: MotionEvent?): Boolean {\n    return super.onInterceptTouchEvent(ev) &amp;&amp; atBottom\n}\n\noverride fun onScrollChanged(l: Int, t: Int, oldl: Int, oldt: Int) {\n    atBottom = getChildAt(0).bottom &lt;= (height + scrollY)\n    super.onScrollChanged(l, t, oldl, oldt)\n}\n</code></pre>\n\n<p>This works shaky and untrustworthy and not really at all. Any input is greatly appreciated!</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 2890, "user_id": 2630326, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pYUBo.jpg?s=128&g=1", "display_name": "Wojciech Wirzbicki", "link": "https://stackoverflow.com/users/2630326/wojciech-wirzbicki"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1520865761, "post_id": 49237928, "comment_id": 85479205, "body": "Ok, but what about the second question? Is that possible?"}], "answers": [{"comments": [{"owner": {"reputation": 2517, "user_id": 1776540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/144da222f2fac0e912bda1aa1fa0cd76?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Jonsson", "link": "https://stackoverflow.com/users/1776540/robin-jonsson"}, "edited": false, "score": 0, "creation_date": 1521022846, "post_id": 49238023, "comment_id": 85552585, "body": "Interesting extension... calling <code>foo()</code> on any nullable object should work without having to first assert not null or <code>?.foo()</code>?"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 2517, "user_id": 1776540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/144da222f2fac0e912bda1aa1fa0cd76?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Jonsson", "link": "https://stackoverflow.com/users/1776540/robin-jonsson"}, "edited": false, "score": 0, "creation_date": 1521026006, "post_id": 49238023, "comment_id": 85554862, "body": "@RobinJonsson - Indeed.  I&#39;ve edited my answer to include a more complete example."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 2, "last_activity_date": 1521025991, "last_edit_date": 1592644375, "creation_date": 1520865833, "answer_id": 49238023, "question_id": 49237928, "link": "https://stackoverflow.com/questions/49237928/why-doesnt-tostring-throw-an-exception-when-called-on-null-value-in-kotlin/49238023#49238023", "title": "Why doesn&#39;t toString throw an exception when called on null value in Kotlin?", "body": "<p>From the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-string.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<pre><code>fun Any?.toString(): String\n</code></pre>\n<p>Returns a string representation of the object. Can be called with a null receiver, in which case it returns the string &quot;null&quot;.</p>\n</blockquote>\n<p>You can achieve similar behaviour by writing an <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension function</a>.  For example:</p>\n<pre><code>fun Any?.foo() = println(this ?: &quot;Sadly, this is null&quot;)\n\nfun main(args: Array&lt;String&gt;) {\n    val x: Int? = null\n    val y: Int? = 3\n\n    x.foo()       // &quot;Sadly, this is null&quot;\n    y.foo()       // &quot;3&quot;\n    null.foo()    // &quot;Sadly, this is null&quot;\n}\n</code></pre>\n<p><sub><a href=\"https://ideone.com/kCBLeH\" rel=\"nofollow noreferrer\">Live example.</a></sub></p>\n"}], "owner": {"reputation": 2890, "user_id": 2630326, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pYUBo.jpg?s=128&g=1", "display_name": "Wojciech Wirzbicki", "link": "https://stackoverflow.com/users/2630326/wojciech-wirzbicki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "closed_date": 1520865834, "accepted_answer_id": 49238023, "answer_count": 1, "score": 1, "last_activity_date": 1521025991, "creation_date": 1520865582, "last_edit_date": 1520866572, "question_id": 49237928, "link": "https://stackoverflow.com/questions/49237928/why-doesnt-tostring-throw-an-exception-when-called-on-null-value-in-kotlin", "closed_reason": "Duplicate", "title": "Why doesn&#39;t toString throw an exception when called on null value in Kotlin?", "body": "<p>Given the code</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val someText: String? = null\n    println(someText.toString())\n}\n</code></pre>\n\n<p>When run, output is</p>\n\n<pre><code>null\n</code></pre>\n\n<p>Two questions appear:</p>\n\n<ul>\n<li>is that possible to implement custom null-safe method with fallback to some default code (like, I think, toString does)</li>\n<li>why no exception is thrown? </li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 652, "user_id": 3805467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d134807510d50bc2364aa59e4dc4382b?s=128&d=identicon&r=PG&f=1", "display_name": "shalama", "link": "https://stackoverflow.com/users/3805467/shalama"}, "edited": false, "score": 2, "creation_date": 1520863344, "post_id": 49237113, "comment_id": 85477391, "body": "please add the stacktrace. This can be helpful in identifying the issue."}, {"owner": {"reputation": 2041, "user_id": 2686502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5ceabeb502f0e33b63ea337f618649?s=128&d=identicon&r=PG&f=1", "display_name": "jayeshsolanki93", "link": "https://stackoverflow.com/users/2686502/jayeshsolanki93"}, "edited": false, "score": 2, "creation_date": 1520863449, "post_id": 49237113, "comment_id": 85477482, "body": "You will find the stacktrace in Logcat <a href=\"https://developer.android.com/studio/debug/am-logcat.html\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug/am-logcat.html</a>"}, {"owner": {"reputation": 1, "user_id": 9479945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jere Knuuttila", "link": "https://stackoverflow.com/users/9479945/jere-knuuttila"}, "edited": false, "score": 0, "creation_date": 1520929354, "post_id": 49237113, "comment_id": 85505902, "body": "Yes, of course, the trace... I think this is actually enough:    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.myfirstapp/com.example.myfirstapp.&zwnj;&#8203;DisplayMessageActivi&zwnj;&#8203;ty}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Intent.getStringExtra(java.lang.String)&#39; on a null object reference    So the problem is that I need to give it a View object?"}], "answers": [{"tags": [], "owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "is_accepted": false, "score": 0, "last_activity_date": 1520864301, "creation_date": 1520864301, "answer_id": 49237485, "question_id": 49237113, "link": "https://stackoverflow.com/questions/49237113/beginning-android-programming-build-your-first-app/49237485#49237485", "title": "Beginning Android programming - Build your first app", "body": "<p>Your sendMessage method is right.</p>\n\n<p>Typing \"sendMessage\" in the onClick field(the method name) is enough.</p>\n\n<p>Or in the xml, add </p>\n\n<blockquote>\n  <p>android:onClick=\"sendMessage\"</p>\n</blockquote>\n\n<p>to the button attributes.</p>\n"}, {"tags": [], "owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "is_accepted": false, "score": 0, "last_activity_date": 1520873656, "creation_date": 1520873656, "answer_id": 49240592, "question_id": 49237113, "link": "https://stackoverflow.com/questions/49237113/beginning-android-programming-build-your-first-app/49240592#49240592", "title": "Beginning Android programming - Build your first app", "body": "<p>Either you can add <code>android:onClick=\"sendMessage\"</code> or add <code>setOnClickListener</code> in your <code>MainActivity</code>. </p>\n\n<p><code>YourButtonID.setOnClickListener { v -&gt;\n       sendMessage(v)\n    }\n</code></p>\n"}], "owner": {"reputation": 1, "user_id": 9479945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jere Knuuttila", "link": "https://stackoverflow.com/users/9479945/jere-knuuttila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1520930698, "creation_date": 1520863179, "last_edit_date": 1520930698, "question_id": 49237113, "link": "https://stackoverflow.com/questions/49237113/beginning-android-programming-build-your-first-app", "title": "Beginning Android programming - Build your first app", "body": "<p>After just installing the latest Android Studio (3.0.1) I started with the <strong>Build Your First App guide</strong>. I'm using <code>Kotlin</code> as it seems to be the suggested way to go. I managed to run the first Hello World app on my tablet. Then, continuing with the example at\n<a href=\"https://developer.android.com/training/basics/firstapp/starting-activity.html#kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/firstapp/starting-activity.html#kotlin</a></p>\n\n<p>I got to the point where it instructs \"In the Attributes window, locate the onClick property and select sendMessage [MainActivity] from the drop-down list.\"\nThe problem is, there is nothing in the drop-down list.</p>\n\n<p>I tried typing <code>sendMessage</code> manually in the onClick property of the button, but then the app crashes when I push the button. Also tried <code>sendMessage()</code> , <code>sendMessage(this)</code> and <code>sendMessage [MainActivity]</code> but all of them crash the app. If I remove it, pushing the button does - quite expectedly - nothing, but does not crash either... Also tried adding the property into the <strong>.xml</strong> as instructed in another reply, but no help.</p>\n\n<p>So what is the correct way to call the <code>sendMessage</code> function? Which <code>View object</code> (?) should I give it and how?</p>\n\n<p>My <code>MainActivity</code> looks like this:</p>\n\n<pre><code>package com.example.myfirstapp\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.EditText\n\nconst val EXTRA_MESSAGE = \"com.example.myfirstapp.MESSAGE\"\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    /** Called when the user taps the Send button */\n    fun sendMessage(view: View) {\n        val editText = findViewById&lt;EditText&gt;(R.id.editText)\n        val message = editText.text.toString()\n        val intent = Intent(this, DisplayMessageActivity::class.java).apply {\n            putExtra(EXTRA_MESSAGE, message)\n        }\n        startActivity(intent)\n    }\n}\n</code></pre>\n\n<p>and the DisplayMessageActivity:</p>\n\n<pre><code>package com.example.myfirstapp\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\n\nclass DisplayMessageActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_display_message)\n    }\n\n    // Get the Intent that started this activity and extract the string\n    val message = intent.getStringExtra(EXTRA_MESSAGE)\n\n    // Capture the layout's TextView and set the string as its text\n    val textView = findViewById&lt;TextView&gt;(R.id.textView).apply {\n        text = message\n    }\n}\n</code></pre>\n\n<p>And I'll raise with the whole stack:</p>\n\n<pre><code>03-13 10:19:50.620 20646-20646/com.example.myfirstapp E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                        Process: com.example.myfirstapp, PID: 20646\n                                                                        java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.myfirstapp/com.example.myfirstapp.DisplayMessageActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' on a null object reference\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2488)\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2665)\n                                                                            at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1499)\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:111)\n                                                                            at android.os.Looper.loop(Looper.java:207)\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:5765)\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\n                                                                         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' on a null object reference\n                                                                            at com.example.myfirstapp.DisplayMessageActivity.&lt;init&gt;(DisplayMessageActivity.kt:15)\n                                                                            at java.lang.Class.newInstance(Native Method)\n                                                                            at android.app.Instrumentation.newActivity(Instrumentation.java:1072)\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2478)\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2665)\u00a0\n                                                                            at android.app.ActivityThread.-wrap11(ActivityThread.java)\u00a0\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1499)\u00a0\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:111)\u00a0\n                                                                            at android.os.Looper.loop(Looper.java:207)\u00a0\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:5765)\u00a0\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\u00a0\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\u00a0\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2", "image-uploading", "firebase-storage"], "comments": [{"owner": {"reputation": 3328, "user_id": 3269958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h7dgi.png?s=128&g=1", "display_name": "Shalu T D", "link": "https://stackoverflow.com/users/3269958/shalu-t-d"}, "edited": false, "score": 0, "creation_date": 1520861396, "post_id": 49235962, "comment_id": 85476004, "body": "Could you able to use Intercepter and do log the request and response?"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 6038103, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f6c3d3c980ea0306ebe0ab80c077170f?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth", "link": "https://stackoverflow.com/users/6038103/hemanth"}, "is_accepted": true, "score": 1, "last_activity_date": 1521092086, "creation_date": 1521092086, "answer_id": 49292222, "question_id": 49235962, "link": "https://stackoverflow.com/questions/49235962/is-it-possible-to-upload-image-to-firebase-storage-using-url-instead-of-sdk-in-a/49292222#49292222", "title": "Is it possible to upload image to firebase storage using URL instead of SDK in Android?", "body": "<p>My bad. The URL should be like this</p>\n\n<p><a href=\"https://firebasestorage.googleapis.com/v0/b/xxxxxxx-xxxx.appspot.com/o/\" rel=\"nofollow noreferrer\">https://firebasestorage.googleapis.com/v0/b/xxxxxxx-xxxx.appspot.com/o/</a>${bean.firebaseUid}%2FidProofs%2F${bean.documentTitle}.jpg/</p>\n\n<p>instead of this</p>\n\n<p><a href=\"https://firebasestorage.googleapis.com/v0/b/xxxxxxx-xxxx.appspot.com/o/\" rel=\"nofollow noreferrer\">https://firebasestorage.googleapis.com/v0/b/xxxxxxx-xxxx.appspot.com/o/</a>${bean.firebaseUid}/idProofs/${bean.documentTitle}.jpg/</p>\n\n<p>I don't know why, but it's working.</p>\n"}], "owner": {"reputation": 123, "user_id": 6038103, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f6c3d3c980ea0306ebe0ab80c077170f?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanth", "link": "https://stackoverflow.com/users/6038103/hemanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 49292222, "answer_count": 1, "score": 1, "last_activity_date": 1521092086, "creation_date": 1520859786, "question_id": 49235962, "link": "https://stackoverflow.com/questions/49235962/is-it-possible-to-upload-image-to-firebase-storage-using-url-instead-of-sdk-in-a", "title": "Is it possible to upload image to firebase storage using URL instead of SDK in Android?", "body": "<p>I'm trying to upload files to firebase storage from android app using url instead of SDK using Retrofit. This is my upload image method,</p>\n\n<pre><code>fun uploadImageToUrl() {\n    val url = \"https://firebasestorage.googleapis.com/v0/b/xxxxxxx-xxxx.appspot.com/o/${bean.firebaseUid}/idProofs/${bean.documentTitle}.jpg/\"\n    var client = OkHttpClient.Builder().build()\n\n    val retrofit = Retrofit.Builder()\n            .baseUrl(url).addConverterFactory(GsonConverterFactory.create())\n            .client(client)\n            .build()\n\n    var service = retrofit.create(UploadService::class.java)\n\n    var params = HashMap&lt;String, RequestBody&gt;()\n\n    var reqFile = RequestBody.create(MediaType.parse(\"image/*\"), photoFile)\n    var header = \"Bearer ${bean.firebaseToken}\"\n    var body = MultipartBody.Part.createFormData(\"image\", bean.documentTitle, reqFile)\n\n    var response =  service.uploadDocument(header, body)\n\n    response.enqueue(object: Callback&lt;ResponseBody&gt; {\n\n        override fun onResponse(call: Call&lt;ResponseBody&gt;?, response: Response&lt;ResponseBody&gt;?) {\n            Log.e(\"Upload Response\", response!!.message())\n        }\n\n        override fun onFailure(call: Call&lt;ResponseBody&gt;?, t: Throwable?) {\n            Log.e(\"Upload Failed\", t!!.localizedMessage)\n        }\n\n    })\n}\n</code></pre>\n\n<p>This is the method in service interface.</p>\n\n<pre><code>interface UploadService {\n  @Multipart\n  @Headers(\"Accept: application/json\")\n  @POST(\"/?alt=media\")\n  fun uploadDocument(@Header(\"Authorization\") header: String, @Part image: MultipartBody.Part): retrofit2.Call&lt;ResponseBody&gt;\n}\n</code></pre>\n\n<p>But nothing is happening, no error messages, onResponse, onFailure methods not called, image not appearing.</p>\n"}, {"tags": ["swift", "interface", "kotlin", "swift-protocols"], "comments": [{"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 2, "creation_date": 1520859897, "post_id": 49235934, "comment_id": 85475058, "body": "<i>&quot;The AlertPresentable protocol is restricted and can only be conformed by an UIViewController.&quot;</i>. Thats not technically true. I can still conform to AlertPresentable with any other struct/class that contains a function <code>func presentAlert(message: String)</code>. The above extension is just the default implementation for a UIViewController"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1520859956, "post_id": 49235934, "comment_id": 85475096, "body": "Looks like a regular Kotlin extension function to me: <code>fun UIViewController.presentAlert(message: String) { ... }</code>"}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1520860229, "post_id": 49235934, "comment_id": 85475260, "body": "@yole by doing so, the <code>presentAlert(message: String)</code> is available to all <code>UIViewController</code>. What if I want this method to be available only to those implementing <code>AlertPresentable</code> ?"}, {"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520860916, "post_id": 49235934, "comment_id": 85475685, "body": "@Benjamin I think, in that case you would define extension function for <code>AlertPresentable</code>"}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520860989, "post_id": 49235934, "comment_id": 85475730, "body": "@StefanGolubovi\u0107 I agree but in that case, you don&#39;t have access to methods defined on <code>UIViewController </code>"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1521468599, "post_id": 49235934, "comment_id": 85730345, "body": "JFYI, it&#39;s a bit rude, deleting your question after it&#39;s been answered."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1521468832, "post_id": 49235934, "comment_id": 85730476, "body": "@SergioTulentsev sorry, I realized my question was dumb... I didn&#39;t pay attention enough before asking! thank you anyway"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1521469160, "post_id": 49235934, "comment_id": 85730688, "body": "@Benjamin: just don&#39;t do this in the future. Dumb or not, someone spent their time to help you. It&#39;s the least you could do to reward them with some internet points. Might be useful to others too. But yes, by all means, spend as much effort as you can before posting :)"}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 4566621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tw6kZoYpMP0/AAAAAAAAAAI/AAAAAAAAAEQ/6J55RyCeRdE/photo.jpg?sz=128", "display_name": "sokarcreative", "link": "https://stackoverflow.com/users/4566621/sokarcreative"}, "edited": false, "score": 0, "creation_date": 1542298169, "post_id": 49236435, "comment_id": 93527486, "body": "Is it possible to override this kind of extension ? I tried but I didn&#39;t found."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 366, "user_id": 4566621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tw6kZoYpMP0/AAAAAAAAAAI/AAAAAAAAAEQ/6J55RyCeRdE/photo.jpg?sz=128", "display_name": "sokarcreative", "link": "https://stackoverflow.com/users/4566621/sokarcreative"}, "edited": false, "score": 0, "creation_date": 1542299304, "post_id": 49236435, "comment_id": 93528224, "body": "You cannot override any kind of extension. Extensions are always resolved statically."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 9, "last_activity_date": 1520861240, "creation_date": 1520861240, "answer_id": 49236435, "question_id": 49235934, "link": "https://stackoverflow.com/questions/49235934/conditional-interface-in-kotlin/49236435#49236435", "title": "Conditional interface in Kotlin", "body": "<p>If I understand correctly what you're trying to accomplish, you can use an extension function with multiple types as upper bounds of the receiver type:</p>\n\n<pre><code>fun &lt;T&gt; T.presentAlert(message: String) \n    where T : UIViewController, T : AlertPresentable {\n    // ...\n}  \n</code></pre>\n"}], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 49236435, "answer_count": 1, "score": 4, "last_activity_date": 1520861240, "creation_date": 1520859713, "question_id": 49235934, "link": "https://stackoverflow.com/questions/49235934/conditional-interface-in-kotlin", "title": "Conditional interface in Kotlin", "body": "<p>In Swift, we can define a protocol that can be conformed by a <code>class</code> or <code>struct</code> based on condition:</p>\n\n<pre><code>protocol AlertPresentable {\n   func presentAlert(message: String)\n}\n\nextension AlertPresentable where Self : UIViewController {\n\n func presentAlert(message: String) {\n    let alert = UIAlertController(title: \u201cAlert\u201d, message: message,  preferredStyle: .alert)\n    alert.addAction(UIAlertAction(title: \u201cOK\u201d, style: .default, handler: nil))\n    self.present(alert, animated: true, completion: nil)\n  }\n\n}\n</code></pre>\n\n<p>The <code>AlertPresentable</code> protocol is restricted and can only be conformed by an <code>UIViewController</code>. Is there a way to achieve the same result in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2", "rx-binding"], "answers": [{"comments": [{"owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "edited": false, "score": 0, "creation_date": 1520870795, "post_id": 49236187, "comment_id": 85482942, "body": "As I suspected. If I use a monad, would the chain not terminate? I&#39;m guessing I simply handle the monad in my subscribe() block?"}, {"owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "reply_to_user": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "edited": false, "score": 0, "creation_date": 1520877047, "post_id": 49236187, "comment_id": 85486657, "body": "I added the relevant sample for you. I also removed the monad digression, since it was more confusing than helping. Wrapping in a monad will terminate, except if you write some complicate operator on your own."}, {"owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "edited": false, "score": 1, "creation_date": 1520942123, "post_id": 49236187, "comment_id": 85514019, "body": "That seems to work. So when observing a hot source, retry will resubscribe, but will wait for the next emission. This is great to know. Thank you."}, {"owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "reply_to_user": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "edited": false, "score": 0, "creation_date": 1520942278, "post_id": 49236187, "comment_id": 85514112, "body": "Maybe you could accept the answer since the problem is solved."}], "tags": [], "owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "is_accepted": true, "score": 2, "last_activity_date": 1520876686, "last_edit_date": 1520876686, "creation_date": 1520860473, "answer_id": 49236187, "question_id": 49235663, "link": "https://stackoverflow.com/questions/49235663/rxview-clicks-dies-after-onerror-event/49236187#49236187", "title": "RxView.clicks() dies after onError event", "body": "<p><code>Observable</code> must complete when the first error occur, it's in their contract. In order to have your <code>Observable</code> survive terminal event, you will have to dig in RxJava <a href=\"https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators\" rel=\"nofollow noreferrer\">Error handling operators</a>. <a href=\"http://reactivex.io/documentation/operators/retry.html\" rel=\"nofollow noreferrer\"><code>retry()</code></a> seems a good fit in your case:</p>\n\n<pre><code>RxView.clicks(refreshIcon)\n        .flatMap { ... }\n        .retry()\n        .subscribe(...)\n        .addTo(disposables)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 5516215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18fe638b6d531969d10353d1d8e95755?s=128&d=identicon&r=PG&f=1", "display_name": "Idanatz", "link": "https://stackoverflow.com/users/5516215/idanatz"}, "is_accepted": false, "score": 1, "last_activity_date": 1520870277, "creation_date": 1520870277, "answer_id": 49239528, "question_id": 49235663, "link": "https://stackoverflow.com/questions/49235663/rxview-clicks-dies-after-onerror-event/49239528#49239528", "title": "RxView.clicks() dies after onError event", "body": "<p>It is part of the Rx contract when an error occurred the stream will receive a onError event and will terminate.\nUnless you actively handle the error, using for example: onErrorResumeNext()</p>\n"}], "owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 687, "favorite_count": 0, "accepted_answer_id": 49236187, "answer_count": 2, "score": 1, "last_activity_date": 1520876686, "creation_date": 1520858927, "question_id": 49235663, "link": "https://stackoverflow.com/questions/49235663/rxview-clicks-dies-after-onerror-event", "title": "RxView.clicks() dies after onError event", "body": "<p>Here is a sample Rx chain using RxBindings:</p>\n\n<pre><code>RxView.clicks(refreshIcon)\n        .flatMap { Observable.error&lt;Throwable&gt;(IllegalArgumentException()) }\n        .subscribe(\n                { Timber.d(\"onNext\")},\n                { error -&gt; Timber.d(\"onError\") })\n        .addTo(disposables)\n</code></pre>\n\n<p>After clicking my refresh icon once, this chain will not run again as a terminal event took place. I am guessing I was under the wrong impression that the subscription takes place whenever a click event is detected, and that it in fact subscribes whenever that block of code gets executed.</p>\n\n<p>Question is how can I make my chain execute/re-execute on every click, even after it hits a terminal event? Looking for something intuitive.</p>\n"}, {"tags": ["gradle", "kotlin", "detekt"], "answers": [{"comments": [{"owner": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "edited": false, "score": 0, "creation_date": 1520859761, "post_id": 49235320, "comment_id": 85474977, "body": "yes, thanks - it works as expected. I needed to add classpath in buildscript.dependecies, and change <code>plugins</code> to <code>apply plugin: &quot;io.gitlab.arturbosch.detekt&quot;</code>"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1520907412, "post_id": 49235320, "comment_id": 85498255, "body": "link: <a href=\"https://docs.gradle.org/4.6/userguide/plugins.html#plugins_dsl_limitations\" rel=\"nofollow noreferrer\">docs.gradle.org/4.6/userguide/&hellip;</a>  Explains the limitations and WHY they exist."}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 2, "last_activity_date": 1520857923, "creation_date": 1520857923, "answer_id": 49235320, "question_id": 49235194, "link": "https://stackoverflow.com/questions/49235194/define-kotlins-detekt-version-as-extra-property-ext/49235320#49235320", "title": "Define Kotlin&#39;s detekt version as extra property (ext)", "body": "<p>\u201cNew style\u201d Gradle plug-in definition (without including the full dependency on <code>buildscript</code> block) does not allow variables in the version. </p>\n\n<p>For more information refer to the section of documentation that\u2019s referred to in the error message. There is a subsection \u201cLimitations of the plugins dsl\u201d that explains everything. </p>\n\n<p>If you want to continue using the variable version strings you need to return to the \u201cold way\u201d by using the <code>apply plugin: \u201cxxx\u201d</code> syntax. </p>\n"}, {"comments": [{"owner": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "edited": false, "score": 0, "creation_date": 1520859091, "post_id": 49235346, "comment_id": 85474509, "body": "OK, let&#39;s hope it gets fixed soon"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1520907110, "post_id": 49235346, "comment_id": 85498182, "body": "Strictly speaking it&#39;s not a bug, but an intentional design decision. In order to support faster builds, having the plugins section be hard-coded supports that. If there&#39;s a variable involved, Gradle has to do much more work/compiling to determine if the build has changed, and do work for that. They are investigating ways of maintaining the performance while providing variables, but thus far..."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1520907420, "post_id": 49235346, "comment_id": 85498261, "body": "link: <a href=\"https://docs.gradle.org/4.6/userguide/plugins.html#plugins_dsl_limitations\" rel=\"nofollow noreferrer\">docs.gradle.org/4.6/userguide/&hellip;</a>  Explains the limitations and WHY they exist."}], "tags": [], "owner": {"reputation": 364, "user_id": 1191124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hMV1M.png?s=128&g=1", "display_name": "burnO", "link": "https://stackoverflow.com/users/1191124/burno"}, "is_accepted": false, "score": 1, "last_activity_date": 1520858009, "creation_date": 1520858009, "answer_id": 49235346, "question_id": 49235194, "link": "https://stackoverflow.com/questions/49235194/define-kotlins-detekt-version-as-extra-property-ext/49235346#49235346", "title": "Define Kotlin&#39;s detekt version as extra property (ext)", "body": "<p>You cannot use variables in <code>plugins {}</code>: <a href=\"https://docs.gradle.org/current/userguide/plugins.html#sec:constrained_syntax\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<blockquote>\n  <p>Where \u00abplugin version\u00bb and \u00abplugin id\u00bb must be constant, literal</p>\n</blockquote>\n\n<p>This is an open bug: <a href=\"https://github.com/gradle/gradle/issues/1697\" rel=\"nofollow noreferrer\">Allow the plugin DSL to expand properties as the version</a></p>\n"}, {"tags": [], "owner": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "is_accepted": false, "score": 0, "last_activity_date": 1520860075, "creation_date": 1520860075, "answer_id": 49236061, "question_id": 49235194, "link": "https://stackoverflow.com/questions/49235194/define-kotlins-detekt-version-as-extra-property-ext/49236061#49236061", "title": "Define Kotlin&#39;s detekt version as extra property (ext)", "body": "<p>Just as @Strelok suggested the final workaround (until <a href=\"https://github.com/gradle/gradle/issues/1697\" rel=\"nofollow noreferrer\">bug</a> is fixed) is to:</p>\n\n<ul>\n<li>add a classpath in <em>buildscript.dependecies</em> </li>\n<li>change <code>plugins</code> to <code>apply plugin: \"io.gitlab.arturbosch.detekt\"</code></li>\n</ul>\n\n<p>Solution:</p>\n\n<pre><code>buildscript {\n\n    // testing, code-style, CI-tools\n    ext.detect_code_analysis = '1.0.0.RC6-3' //change to 1.0.0 when available\n\n    repositories {\n        google()\n        jcenter()\n        maven { url \"https://plugins.gradle.org/m2/\" }\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$gradle_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"gradle.plugin.io.gitlab.arturbosch.detekt:detekt-gradle-plugin:$detect_code_analysis\"\n    }\n}\n\napply plugin: \"io.gitlab.arturbosch.detekt\"\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\ndetekt {\n    version = \"$detect_code_analysis\"\n    profile(\"main\") {\n        input = \"$projectDir/app/src/main/java\"\n        config = \"$projectDir/detekt-config.yml\"\n        filters = \".*test.*,.*/resources/.*,.*/tmp/.*\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 49235320, "answer_count": 3, "score": 0, "last_activity_date": 1520860075, "creation_date": 1520857484, "question_id": 49235194, "link": "https://stackoverflow.com/questions/49235194/define-kotlins-detekt-version-as-extra-property-ext", "title": "Define Kotlin&#39;s detekt version as extra property (ext)", "body": "<p>Groovy allows definition of <em>extra properties</em> for the project in <code>ext</code>.</p>\n\n<p>I wanted to define Detekt's version inside groovy's extra properties. Detekt is a static code analysis tool for Kotlin lang. </p>\n\n<p>However when I do it in the folloing way:</p>\n\n<pre><code>buildscript {\n    // testing, code-style, CI-tools\n    ext.detect_code_analysis = '1.0.0.RC6-3' //change to 1.0.0 when available\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$gradle_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\nplugins {\n    id \"io.gitlab.arturbosch.detekt\" version \"$detect_code_analysis\"\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\ndetekt {\n    version = \"$detect_code_analysis\"\n    profile(\"main\") {\n        input = \"$projectDir/app/src/main/java\"\n        config = \"$projectDir/detekt-config.yml\"\n        filters = \".*test.*,.*/resources/.*,.*/tmp/.*\"\n    }\n}\n</code></pre>\n\n<p>it complaing with:</p>\n\n<pre><code>Error:(17, 0) startup failed:\n        build file '/Users[...]build.gradle': 17: argument list must be exactly 1 literal non empty string\n\nSee https://docs.gradle.org/4.1/userguide/plugins.html#sec:plugins_block for information on the plugins {} block\n\n@ line 17, column 5.\n        id \"io.gitlab.arturbosch.detekt\" version \"$detect_code_analysis\"\n^\n\n1 error\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 2, "creation_date": 1520857363, "post_id": 49235095, "comment_id": 85473340, "body": "What error do you get? Is it about <code>language</code> reference being unresolved?"}, {"owner": {"reputation": 4769, "user_id": 2722870, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d32c53a4179206fb284e383dd67af4a3?s=128&d=identicon&r=PG&f=1", "display_name": "ThanosFisherman", "link": "https://stackoverflow.com/users/2722870/thanosfisherman"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1520857505, "post_id": 49235095, "comment_id": 85473440, "body": "I tried this in <a href=\"https://try.kotlinlang.org/\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a> And the error I get is just a simple <code>error:</code> No further explanation"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1520857972, "post_id": 49235095, "comment_id": 85473715, "body": "The error is explained in the @yole&#39;s answer. Sorry about the error reporting experience in try.kotlinlang.org, we&#39;ll get it fixed."}], "answers": [{"comments": [{"owner": {"reputation": 4769, "user_id": 2722870, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d32c53a4179206fb284e383dd67af4a3?s=128&d=identicon&r=PG&f=1", "display_name": "ThanosFisherman", "link": "https://stackoverflow.com/users/2722870/thanosfisherman"}, "edited": false, "score": 0, "creation_date": 1520857931, "post_id": 49235251, "comment_id": 85473693, "body": "Hey can you elaborate on that? I have deleted the whole <code>language</code> variable."}, {"owner": {"reputation": 4769, "user_id": 2722870, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d32c53a4179206fb284e383dd67af4a3?s=128&d=identicon&r=PG&f=1", "display_name": "ThanosFisherman", "link": "https://stackoverflow.com/users/2722870/thanosfisherman"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520858294, "post_id": 49235251, "comment_id": 85473927, "body": "@StefanGolubovi\u0107 Oh How did I missed that. Of course. Thank you so much It runs just fine now."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 6, "last_activity_date": 1520857677, "creation_date": 1520857677, "answer_id": 49235251, "question_id": 49235095, "link": "https://stackoverflow.com/questions/49235095/can-when-also-accept-an-expression/49235251#49235251", "title": "Can &quot;when&quot; also accept an expression?", "body": "<p>Yes, you can use an expression in <code>when</code>. Your second example does not compile because you refer to the <code>language</code> variable which is no longer defined.</p>\n"}], "owner": {"reputation": 4769, "user_id": 2722870, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d32c53a4179206fb284e383dd67af4a3?s=128&d=identicon&r=PG&f=1", "display_name": "ThanosFisherman", "link": "https://stackoverflow.com/users/2722870/thanosfisherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 49235251, "answer_count": 1, "score": -1, "last_activity_date": 1520857677, "creation_date": 1520857185, "last_edit_date": 1520857565, "question_id": 49235095, "link": "https://stackoverflow.com/questions/49235095/can-when-also-accept-an-expression", "title": "Can &quot;when&quot; also accept an expression?", "body": "<p>kotlin noob here. This is a sample code from kotlin's site</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val language = if (args.size == 0) \"EN\" else args[0]\n    println(when (language) {\n        \"EN\" -&gt; \"Hello!\"\n        \"FR\" -&gt; \"Salut!\"\n        \"IT\" -&gt; \"Ciao!\"\n        else -&gt; \"Sorry, I can't greet you in $language yet\"\n    })\n}\n</code></pre>\n\n<p>Now if I modify the above code into the following:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(when (if (args.size == 0) \"EN\" else args[0]) {\n        \"EN\" -&gt; \"Hello!\"\n        \"FR\" -&gt; \"Salut!\"\n        \"IT\" -&gt; \"Ciao!\"\n        else -&gt; \"Sorry, I can't greet you in $language yet\"\n    })\n}\n</code></pre>\n\n<p>I get an error. Why? Isn't <code>when</code> supposed to also accept an expression? In this case the result of the <code>if</code> condition?</p>\n\n<p>P.S I tried this in <a href=\"https://try.kotlinlang.org/\" rel=\"nofollow noreferrer\">https://try.kotlinlang.org/</a> And the error I get is just a simple <code>error:</code> with no further explanation</p>\n"}, {"tags": ["java", "android", "facebook", "kotlin"], "comments": [{"owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1520857376, "post_id": 49234962, "comment_id": 85473346, "body": "Please include the source code of your retrofit interface"}, {"owner": {"reputation": 41, "user_id": 8274091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/12b5bf354c5500d37125b306d114ec06?s=128&d=identicon&r=PG&f=1", "display_name": "droho", "link": "https://stackoverflow.com/users/8274091/droho"}, "reply_to_user": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1520858186, "post_id": 49234962, "comment_id": 85473855, "body": "@ErnestZamelczyk I added"}], "answers": [{"tags": [], "owner": {"reputation": 964, "user_id": 4200103, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0044a7575ce0b9f34649eb380d58a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/4200103/anton"}, "is_accepted": false, "score": 0, "last_activity_date": 1520937144, "creation_date": 1520937144, "answer_id": 49253845, "question_id": 49234962, "link": "https://stackoverflow.com/questions/49234962/facebook-api-passing-array-param/49253845#49253845", "title": "Facebook api passing array param", "body": "<p>You can add a custom converter factory that converts a <code>List&lt;String&gt;</code> into a <code>String</code> of the correct format. Check out this <a href=\"https://stackoverflow.com/questions/35793344/how-to-pass-custom-enum-in-query-via-retrofit\">example</a>, instead of an <code>Enum</code> you have a <code>List&lt;String&gt;</code> and at the <code>GetSerializedNameValue()</code> method you would instead use:</p>\n\n<pre><code>value = categories_list.joinToString(\n    separator = \", \",\n    prefix = \"[\",\n    postfix = \"]\"\n) \n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8274091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/12b5bf354c5500d37125b306d114ec06?s=128&d=identicon&r=PG&f=1", "display_name": "droho", "link": "https://stackoverflow.com/users/8274091/droho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 587, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520937144, "creation_date": 1520856711, "last_edit_date": 1592644375, "question_id": 49234962, "link": "https://stackoverflow.com/questions/49234962/facebook-api-passing-array-param", "title": "Facebook api passing array param", "body": "<p>I want to get places by category by this request:</p>\n<p><a href=\"https://graph.facebook.com/v2.11/search?type=place&amp;center=%7Blat,lng%7D&amp;categories=%5B%22FOOD_BEVERAGE%22%5D\" rel=\"nofollow noreferrer\">https://graph.facebook.com/v2.11/search?type=place&amp;center={lat,lng}&amp;categories=[&quot;FOOD_BEVERAGE&quot;]</a></p>\n<p>I'm sending categories as query with retrofit as <code>List&lt;String&gt;</code></p>\n<p>But it returns:</p>\n<pre><code>{\n    &quot;error&quot;: {\n        &quot;message&quot;:&quot;(#100) For field 'placesearch': param categories must be an array.&quot;,\n        &quot;type&quot;:&quot;OAuthException&quot;,\n        &quot;code&quot;:100,\n    }\n}\n</code></pre>\n<p>I was trying to do this by <code>ArrayList</code>, making this query as <code>String</code> literaly but it still return me that it need an array.\nHow can I pass this ?</p>\n<h3>EDIT:</h3>\n<p>Retrofit interface</p>\n<pre><code>@GET(&quot;search&quot;)\nfun getPlaces(\n       @Query(&quot;center&quot;) center: String?,\n       @Query(&quot;access_token&quot;) token: String?,\n       @Query(&quot;type&quot;) type: String?,\n       @Query(&quot;categories&quot;) categories: List&lt;String&gt;\n): Observable&lt;Places&gt;\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "sealed"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520856931, "post_id": 49234841, "comment_id": 85473053, "body": "maybe like <a href=\"https://medium.com/@paulnunezm/simpler-multiple-click-listeners-with-kotlin-sealed-classes-72a8f6e83e8\" rel=\"nofollow noreferrer\">this</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6555, "user_id": 994939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8fc3e78a90fde1b61cfba1020b128f3d?s=128&d=identicon&r=PG", "display_name": "veritas1", "link": "https://stackoverflow.com/users/994939/veritas1"}, "is_accepted": true, "score": 6, "last_activity_date": 1520857000, "creation_date": 1520857000, "answer_id": 49235048, "question_id": 49234841, "link": "https://stackoverflow.com/questions/49234841/how-to-implement-viewholder-using-sealed-class-in-kotlin/49235048#49235048", "title": "How to implement ViewHolder using sealed class in Kotlin", "body": "<p>Something like this:</p>\n\n<pre><code>sealed class SealedAdapterViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    class HeaderHolder(view: View) : SealedAdapterViewHolder(view)\n\n    class DetailsHolder(view: View) : SealedAdapterViewHolder(view)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 1, "last_activity_date": 1520857008, "creation_date": 1520857008, "answer_id": 49235052, "question_id": 49234841, "link": "https://stackoverflow.com/questions/49234841/how-to-implement-viewholder-using-sealed-class-in-kotlin/49235052#49235052", "title": "How to implement ViewHolder using sealed class in Kotlin", "body": "<p>it's in the first post of the thread. </p>\n\n<pre><code>fun foo(holder : SealedAdapterViewHolder){\n    when (holder) {\n       is HeaderHolder -&gt; holder.displayHeader(items[position])\n       is DetailsHolder -&gt; holder.displayDetails(items[position])\n    }\n}\n\nsealed class SealedAdapterViewHolder(view: View) : RecyclerView.ViewHolder(view)\ndata class HeaderHolder(val view: View): SealedAdapterViewHolder(view){\n    fun displayHeader(...){}\n}\ndata class DetailsHolder(val view: View): SealedAdapterViewHolder(view){\n    fun displayDetails(...){}\n}\n</code></pre>\n"}], "owner": {"reputation": 3269, "user_id": 5868421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6EqgS.png?s=128&g=1", "display_name": "Maksim Turaev", "link": "https://stackoverflow.com/users/5868421/maksim-turaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1999, "favorite_count": 0, "accepted_answer_id": 49235048, "answer_count": 2, "score": 5, "last_activity_date": 1520857008, "creation_date": 1520856362, "question_id": 49234841, "link": "https://stackoverflow.com/questions/49234841/how-to-implement-viewholder-using-sealed-class-in-kotlin", "title": "How to implement ViewHolder using sealed class in Kotlin", "body": "<p>I saw an interesting viewholder implementation in this tweet <a href=\"https://twitter.com/AndroidDev/status/972502799496790018\" rel=\"noreferrer\">https://twitter.com/AndroidDev/status/972502799496790018</a></p>\n\n<pre><code>override fun onBindViewHolder(holder: SealedAdapterViewHolder, position: Int) {\n  return when (holder) {\n    is HeaderHolder -&gt; holder.displayHeader(items[position])\n    is DetailsHolder -&gt; holder.displayDetails(items[position])\n  }\n}\n</code></pre>\n\n<p>Unfortunately i can't figure out how to implement thouse holders. And I didn't find any examples of this trick.</p>\n\n<p>In my viewholders I have to extend RecyclerView.ViewHolder and I have to extend sealed class so i can use it in \"when clauses\". Multiple inharitance is not allowed. </p>\n\n<p>So is it possible and if it is then how?</p>\n\n<p>P.S.</p>\n\n<p>original authors write this: </p>\n\n<blockquote>\n  <p>You can also use sealed classes in a RecyclerView adapter. They\u2019re a\n  perfect fit for ViewHolders - with a clean set of types to dispatch\n  explicitly to each holder. Used as an expression, the compiler will\n  error if all types aren\u2019t matched.</p>\n</blockquote>\n"}, {"tags": ["java", "android", "time", "kotlin", "datetime-comparison"], "comments": [{"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1520884966, "post_id": 49234548, "comment_id": 85490897, "body": "Tracking time as a count-from-epoch is clumsy, error-prone, and difficult to troubleshoot. Instead use the <i>java.time</i> classes. See <a href=\"https://stackoverflow.com/a/49236674/642706\">the Answer</a> by Ole V.V. for a more practical approach."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9378227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GKu9Ulr1Clw/AAAAAAAAAAI/AAAAAAAAGgI/-qhFvu7clAo/photo.jpg?sz=128", "display_name": "avi silwal", "link": "https://stackoverflow.com/users/9378227/avi-silwal"}, "edited": false, "score": 0, "creation_date": 1520857305, "post_id": 49234658, "comment_id": 85473297, "body": "I am not able to pass the miliseconds to DateTime parameter, it is throwing this error : &quot;1520845200&quot; is malformed at &quot;0&quot; ."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1520873510, "post_id": 49234658, "comment_id": 85484608, "body": "FYI\u2026 The <i>Joda-Time</i> project is now  in maintenance mode with its authors recommending migration to the <i>java.time</i> classes. For earlier Android, see the <i>ThreeTen-Backport</i> and <i>ThreeTenABP</i> projects."}], "tags": [], "owner": {"reputation": 810, "user_id": 1659875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7827652f06b39a472b6f2e3991e3e501?s=128&d=identicon&r=PG&f=1", "display_name": "spandey", "link": "https://stackoverflow.com/users/1659875/spandey"}, "is_accepted": false, "score": 0, "last_activity_date": 1520855786, "creation_date": 1520855786, "answer_id": 49234658, "question_id": 49234548, "link": "https://stackoverflow.com/questions/49234548/how-can-i-compare-two-different-timestamps/49234658#49234658", "title": "How can I compare two different timestamps?", "body": "<p>you can use joda apis.Example below</p>\n\n<pre><code>import org.joda.time.DateTime;\n\npublic class CompareDateTimes {\n\n  public static void main(String[] args) {\n\n    // dt1 and dt2 have the same date and time\n    DateTime dt1 = new DateTime();\n    DateTime dt2 = new DateTime(dt1);\n\n    // dt3 is one day later\n    DateTime dt3 = new DateTime(dt2.plusDays(1));\n\n    System.out.println(\"dt1.equals(dt2): \" + dt1.equals(dt2));\n    System.out.println(\"dt1.equals(dt3): \" + dt1.equals(dt3));\n\n    System.out.println(\"dt1.isAfter(dt3): \" + dt1.isAfter(dt3));\n    System.out.println(\"dt1.isBefore(dt3): \" + dt1.isBefore(dt3));\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 90, "user_id": 9479574, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ac55c14968c1844d14978ef90915e7a1?s=128&d=identicon&r=PG", "display_name": "tsttt2", "link": "https://stackoverflow.com/users/9479574/tsttt2"}, "is_accepted": false, "score": 3, "last_activity_date": 1520882461, "last_edit_date": 1520882461, "creation_date": 1520857507, "answer_id": 49235201, "question_id": 49234548, "link": "https://stackoverflow.com/questions/49234548/how-can-i-compare-two-different-timestamps/49235201#49235201", "title": "How can I compare two different timestamps?", "body": "<p><code>System.currentTimeMillis()</code> returns a <code>long</code> value, and when converting to <code>int</code>, you're losing its precision.</p>\n\n<p>Example: I've ran a code right now, and <code>System.currentTimeMillis()</code> returned <code>1520856967725</code>. That's more than 1.5 <strong>trillion</strong>, which is too big to fit in an <code>int</code> (the max value for an <code>int</code> is <a href=\"https://www.scala-lang.org/api/current/scala/Int$.html#MaxValue:Int(2147483647)\" rel=\"nofollow noreferrer\"><code>2147483647</code></a> - around 2.1 <strong>billion</strong>).</p>\n\n<p>When you convert to an <code>int</code>, it gets only the last 32 bits and that big value becomes <code>438544942</code>:</p>\n\n<pre><code>10110001000011010001000111010101000101101 - 1520856967725\n         00011010001000111010101000101101 - 438544942 (last 32 bits)\n</code></pre>\n\n<p>To make your code work, convert your start and end times to <code>long</code>, because that's the correct type to fit the values you're comparing. And don't convert <code>currentTimeMillis</code> to <code>int</code>, because, well, it's a <code>long</code> value.</p>\n\n<p><strong>PS:</strong> Another detail is that <code>currentTimeMillis</code> returns the number of <strong>milliseconds</strong> since unix epoch. But some API's also work with the number of <strong>seconds</strong>. Make sure what values are returned by your start and end times before comparing as well (based on your values, it <strong>seems</strong> that start and end times are in seconds - <strong>if that's the case</strong>, you should divide <code>currentTimeMillis</code> by 1000 before converting it to anything).</p>\n"}, {"tags": [], "owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "is_accepted": false, "score": 1, "last_activity_date": 1520875291, "last_edit_date": 1520875291, "creation_date": 1520861981, "answer_id": 49236674, "question_id": 49234548, "link": "https://stackoverflow.com/questions/49234548/how-can-i-compare-two-different-timestamps/49236674#49236674", "title": "How can I compare two different timestamps?", "body": "<p>Your problem is that your start time and your end time are in <em>seconds</em> since the epoch, while <code>System.currentTimeMillis()</code> (as the name says) gives you <em>milliseconds</em> since the epoch. So the values cannot readily be compared.</p>\n\n<p>The banal solution is to multiply the first two or divide the third by 1000 before comparing. However, such arithmetic operations on date-time values are not very friendly towards the next programmer trying to read and understand the code.</p>\n\n<p>Instead I recommend you use a library class both for conversion and for comparison. <code>Instant</code> from java.time, the modern Java date and time API, is the one you need. I am sorry I cannot write Kotlin code, but I trust that translating from Java won\u2019t be too hard:</p>\n\n<pre><code>    long start_time = x.getStart_time();\n    long end_time = x.getEnd_time();\n    Instant timeRightnow = Instant.now();\n    if (timeRightnow.isAfter(Instant.ofEpochSecond(start_time)) \n            &amp;&amp; timeRightnow.isBefore(Instant.ofEpochSecond(end_time))) {\n        // do something\n    }\n</code></pre>\n\n<p>Better yet if you can use a datetime datatype in your database instead of storing seconds since the epoch. That would make output from queries to the database much more readable and generally help debugging. And eliminate your problem.</p>\n\n<h2>Question: Can I use java.time on Android?</h2>\n\n<p>Yes, you can use <code>java.time</code> on Android. It just requires at least Java <strong>6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices the modern API comes built-in.</li>\n<li>In Java 6 and 7 get the ThreeTen Backport, the backport of the new classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It\u2019s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use <code>java.time</code>.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code>to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n<li><a href=\"https://stackoverflow.com/questions/40075780/java-best-practice-for-date-manipulation-storage-for-geographically-diverse-user\">Question: Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users</a></li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 9378227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GKu9Ulr1Clw/AAAAAAAAAAI/AAAAAAAAGgI/-qhFvu7clAo/photo.jpg?sz=128", "display_name": "avi silwal", "link": "https://stackoverflow.com/users/9378227/avi-silwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3993, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1520882461, "creation_date": 1520855386, "last_edit_date": 1520859361, "question_id": 49234548, "link": "https://stackoverflow.com/questions/49234548/how-can-i-compare-two-different-timestamps", "title": "How can I compare two different timestamps?", "body": "<p>I have written this code to compare two time values in milliseconds. \nThe comparison is of current time with the time defined in the database.</p>\n\n<pre><code>fun check_for_lecture(complete:(Boolean) -&gt; Unit) : Int{\n\n     for (x in UpdateScheduledLecturesService.lectures) {\n         try {\n             val start_time = x.start_time.toInt()\n             val end_time = x.end_time.toInt()\n             val timeRightnow = System.currentTimeMillis().toInt()\n\n         // CompareTo returns a negative number if it's less than other, or a positive number if it's greater than other.\n         //(also tried)if (timeRightnow == start_time || timeRightnow &gt; start_time  &amp;&amp; timeRightnow &lt; end_time) {\n\n             val compareWstarttime= timeRightnow.compareTo(start_time)\n             val compareWendtime = timeRightnow.compareTo(end_time)\n             if(compareWstarttime &gt; 0 &amp;&amp; compareWendtime &lt; 0){\n             count++\n             lectureID = x.lectureID\n             Log.d(TAG, \"Test: lectureId assigned\")\n             complete(true)\n             } else {\n                 Log.d(TAG, \"no lectures at this time\")\n                 complete(false)\n             }\n         } catch (e: ParseException) {\n             Log.d(TAG, \"Exception\")\n             e.printStackTrace()\n             complete(false)\n         }\n     }\n</code></pre>\n\n<p>However, it is not working. I am not sure where I am going wrong.</p>\n\n<p>This is an example of when I print them:</p>\n\n<blockquote>\n  <p>current time :436239119, start time : 1520845200, end time : 1520848800.</p>\n</blockquote>\n"}, {"tags": ["java", "javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1520979438, "post_id": 49234495, "comment_id": 85536863, "body": "Can you show me how you put data into the TableView?"}], "owner": {"reputation": 491, "user_id": 9316458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HqhZi.png?s=128&g=1", "display_name": "Hexworks", "link": "https://stackoverflow.com/users/9316458/hexworks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520856201, "creation_date": 1520855246, "last_edit_date": 1520856201, "question_id": 49234495, "link": "https://stackoverflow.com/questions/49234495/how-to-wait-for-a-tableviews-initialization-in-tornadofx-javafx", "title": "How to wait for a TableView&#39;s initialization in TornadoFX (JavaFX)?", "body": "<p>I'm working with a JavaFX <code>TableView</code> and I noticed that if I load a lot of data into the table some time passes while it is actually visible after I create an instance of it.</p>\n\n<p>My problem is that I want to access a <code>ScrollBar</code> of this table but I can only look it up after the initialization of the table is complete so I have this code currently:</p>\n\n<pre><code>    runAsync {\n        val start = System.nanoTime()\n        var bar = fetchHorizontalScrollbar()\n        while(bar.isEmpty() &amp;&amp; System.nanoTime() - start &lt; 10L * 1000 * 1000 * 1000) {\n            bar = fetchHorizontalScrollbar()\n        }\n        bar\n    }.ui { bar -&gt;\n        // do stuff with the scrollbar\n    }\n</code></pre>\n\n<p>Is there a way to listen to this initialization instead of busy waiting for the <code>ScrollBar</code> to appear?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1520854949, "post_id": 49234242, "comment_id": 85471745, "body": "Use <code>map</code> instead of <code>filter</code> with RxJava."}, {"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 2, "creation_date": 1520855233, "post_id": 49234242, "comment_id": 85471914, "body": "as <a href=\"https://stackoverflow.com/users/61158/akarnokd\">@akarnokd</a> said, you probably wanted: <code>.map { results -&gt; results.filter { cars -&gt; cars.size &gt; 0 } }</code>"}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1520857519, "post_id": 49234242, "comment_id": 85473451, "body": "@akarnokd I edited post. I return <code>Single&lt;Arraylist&gt;</code>. I don&#39;t think I need <code>map</code> for that."}], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": false, "score": 1, "last_activity_date": 1520860041, "creation_date": 1520860041, "answer_id": 49236054, "question_id": 49234242, "link": "https://stackoverflow.com/questions/49234242/rxjava-2-filter-list-inside-list-objects/49236054#49236054", "title": "RxJava 2 - filter list inside list objects", "body": "<p>This works for me:</p>\n\n<pre><code>import io.reactivex.Single\nimport java.util.*\n\nfun main(args: Array&lt;String&gt;) {\n\n    val source = Single.just(Arrays.asList(\n            Collections.emptyList(),\n            Arrays.asList(1, 2),\n            Collections.emptyList(),\n            Arrays.asList(3, 4, 5)\n    ));\n\n    // Single&lt;List&lt;(Mutable)List&lt;Int!&gt;!&gt;!&gt;!\n    val output = source.map({ items -&gt; items.filter({ !it.isEmpty()} )})\n\n    output.subscribe({ res -&gt; System.out.println(res) })\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>[[1, 2], [3, 4, 5]]\n</code></pre>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1385, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520860041, "creation_date": 1520854495, "last_edit_date": 1520857662, "question_id": 49234242, "link": "https://stackoverflow.com/questions/49234242/rxjava-2-filter-list-inside-list-objects", "title": "RxJava 2 - filter list inside list objects", "body": "<p><code>getData()</code> returns a <strong>Single<code>&lt;ArrayList1&gt;</code></strong> which has alot of objects inside, that also are <code>ArrayListX</code>. I want to recieve only those <code>cars</code>(ArrayList) that is not empty. Of course, <code>results.filter { cars -&gt; cars.size &gt; 0 }</code> will not work, as it returns list not boolean. How to achieve this in correct manner? P.S. Still learning rxjava, haha</p>\n\n<pre><code>val disposable = repository.getData()\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .filter { results -&gt;\n                        results.filter { cars -&gt; cars.size &gt; 0 }\n                    }\n                    .subscribe({ searchResults -&gt;\n                       ...\n                    }, { _ -&gt;\n                        ...\n                    })\n            compositeDisposable.add(disposable)\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1520853930, "creation_date": 1520853930, "answer_id": 49234051, "question_id": 49233991, "link": "https://stackoverflow.com/questions/49233991/what-is-kotlins-way-to-have-similar-effect-as-flags-enum-variable-in-c/49234051#49234051", "title": "What is Kotlin&#39;s way to have similar effect as flags enum variable in C#", "body": "<p>Indeed, in Kotlin every enum constant is an instance of the class corresponding to the enum, and you can't use 'OR' to combine multiple clas instances. If you need to track multiple enum values, the most efficient way to do that is to use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html\" rel=\"nofollow noreferrer\">EnumSet class</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 10, "last_activity_date": 1520899726, "creation_date": 1520899726, "answer_id": 49246318, "question_id": 49233991, "link": "https://stackoverflow.com/questions/49233991/what-is-kotlins-way-to-have-similar-effect-as-flags-enum-variable-in-c/49246318#49246318", "title": "What is Kotlin&#39;s way to have similar effect as flags enum variable in C#", "body": "<h1>Using extension functions</h1>\n\n<pre><code>import java.util.*\n\nenum class BeerProperty\n{\n    BOLD,\n    REFRESHING,\n    STRONG;\n\n    infix fun and(other: BeerProperty) = BeerProperties.of(this, other)\n}\n\ntypealias BeerProperties = EnumSet&lt;BeerProperty&gt;\n\ninfix fun BeerProperties.allOf(other: BeerProperties) = this.containsAll(other)\ninfix fun BeerProperties.and(other: BeerProperty) = BeerProperties.of(other, *this.toTypedArray())\n\nfun taste(beer: BeerProperties) {\n    if(beer allOf (BeerProperty.BOLD and BeerProperty.REFRESHING and BeerProperty.STRONG)) {\n        print(\"I can't qutie put my finger on...\")\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val tickBeer = BeerProperty.BOLD and BeerProperty.REFRESHING and BeerProperty.STRONG\n    taste(tickBeer)\n}\n</code></pre>\n\n<p>I use extension functions to allow properties to be added with and, and allof to check all flags are set.</p>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3142, "favorite_count": 0, "accepted_answer_id": 49234051, "answer_count": 2, "score": 10, "last_activity_date": 1520899726, "creation_date": 1520853760, "last_edit_date": 1520854394, "question_id": 49233991, "link": "https://stackoverflow.com/questions/49233991/what-is-kotlins-way-to-have-similar-effect-as-flags-enum-variable-in-c", "title": "What is Kotlin&#39;s way to have similar effect as flags enum variable in C#", "body": "<p>In C#, I can do this.</p>\n\n<pre><code>[Flags]\nenum BeerProperty\n{\n    Bold = 1,\n    Refreshing = 2\n}\n\nstatic void Taste(BeerProperty beer)\n{\n    if (beer == (BeerProperty.Bold | BeerProperty.Refreshing))\n    {\n        Debug.WriteLine(\"I can't qutie put my finger on...\");\n    }\n}\n\nstatic void Main(string[] args)\n{\n    var tickBeer = BeerProperty.Bold | BeerProperty.Refreshing;\n    Taste(tickBeer);\n}\n</code></pre>\n\n<p>In Kotlin, it seems that I cannot \"OR\" two flags. What is the Kotlin's way to do this? Using a list of enum variables?</p>\n\n<pre><code>enum class BeerProperty(value:Int)\n{\n    Bold(1),\n    Refreshing(2)\n}\n\nfun taste(beer:BeerProperty)\n{\n    if(beer == (BeerProperty.Bold | BeerProperty.Refreshing))\n    {\n        print(\"I can't qutie put my finger on...\");\n    }\n}\n\nfun main(args: Array&lt;String&gt;)\n{\n    val tickBeer = BeerProperty.Bold | BeerProperty.Refreshing;\n    taste(tickBeer);\n}\n</code></pre>\n\n<hr>\n\n<p>Added: Thank you for the answer (which I cannot mark as answer yet, due to time limitation). I modified the code like below and achieved what I wanted.</p>\n\n<pre><code>fun taste(beer: EnumSet&lt;BeerProperty&gt;)\n{\n    if(beer.contains(BeerProperty.Bold) &amp;&amp; beer.contains(BeerProperty.Refreshing))\n    {\n        print(\"I can't qutie put my finger on...\");\n    }\n}\n\nfun main(args: Array&lt;String&gt;)\n{\n    val tickBeer = EnumSet.of(BeerProperty.Bold, BeerProperty.Refreshing);\n    taste(tickBeer);\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin", "android-multidex"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1520852253, "post_id": 49233510, "comment_id": 85470190, "body": "have you tried clean &amp; rebuild?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1520852295, "post_id": 49233510, "comment_id": 85470212, "body": "Look in the Gradle Console for a full Java stack trace associated with this build error. If you see one, it should have more details in it of specifically what is going wrong. If you do not see one, try a command-line build where you include <code>--stacktrace</code> to force the stack trace to appear. See <a href=\"https://stackoverflow.com/q/49076888/115145\">this question and answer</a> for an example of what I am referring to."}, {"owner": {"reputation": 4624, "user_id": 4141049, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/DJTFu.jpg?s=128&g=1", "display_name": "shmakova", "link": "https://stackoverflow.com/users/4141049/shmakova"}, "edited": false, "score": 0, "creation_date": 1520852482, "post_id": 49233510, "comment_id": 85470333, "body": "Show full error"}, {"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1520852557, "post_id": 49233510, "comment_id": 85470372, "body": "for API 21+ there is no need to add multidex lib as dependency and no need to extend your app from android.support.multidex.MultiDexApplication, that line in buildConfig is enough :  <a href=\"https://developer.android.com/studio/build/multidex.html#avoid\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/multidex.html#avoid</a>"}, {"owner": {"reputation": 494, "user_id": 6285198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc827d9263fae5d5fb9b72db5b676e3?s=128&d=identicon&r=PG&f=1", "display_name": "RejoylinLokeshwaran", "link": "https://stackoverflow.com/users/6285198/rejoylinlokeshwaran"}, "edited": false, "score": 0, "creation_date": 1520852798, "post_id": 49233510, "comment_id": 85470483, "body": "check your manifest file, any activity or permission added in two times"}, {"owner": {"reputation": 41, "user_id": 8219364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VUdvyN5oki8/AAAAAAAAAAI/AAAAAAAAAA0/4_WGQtq6XKM/photo.jpg?sz=128", "display_name": "el_denko", "link": "https://stackoverflow.com/users/8219364/el-denko"}, "edited": false, "score": 0, "creation_date": 1520853351, "post_id": 49233510, "comment_id": 85470780, "body": "added stacktrace"}, {"owner": {"reputation": 41, "user_id": 8219364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VUdvyN5oki8/AAAAAAAAAAI/AAAAAAAAAA0/4_WGQtq6XKM/photo.jpg?sz=128", "display_name": "el_denko", "link": "https://stackoverflow.com/users/8219364/el-denko"}, "edited": false, "score": 0, "creation_date": 1520853370, "post_id": 49233510, "comment_id": 85470791, "body": "no permission twice in manifest"}, {"owner": {"reputation": 494, "user_id": 6285198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc827d9263fae5d5fb9b72db5b676e3?s=128&d=identicon&r=PG&f=1", "display_name": "RejoylinLokeshwaran", "link": "https://stackoverflow.com/users/6285198/rejoylinlokeshwaran"}, "edited": false, "score": 0, "creation_date": 1520853558, "post_id": 49233510, "comment_id": 85470896, "body": "have you added any library? if added, remove and build"}, {"owner": {"reputation": 494, "user_id": 6285198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc827d9263fae5d5fb9b72db5b676e3?s=128&d=identicon&r=PG&f=1", "display_name": "RejoylinLokeshwaran", "link": "https://stackoverflow.com/users/6285198/rejoylinlokeshwaran"}, "edited": false, "score": 0, "creation_date": 1520853691, "post_id": 49233510, "comment_id": 85470975, "body": "implementation project(path: &#39;:regservice&#39;) this one is problem, remove this and build"}, {"owner": {"reputation": 41, "user_id": 8219364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VUdvyN5oki8/AAAAAAAAAAI/AAAAAAAAAA0/4_WGQtq6XKM/photo.jpg?sz=128", "display_name": "el_denko", "link": "https://stackoverflow.com/users/8219364/el-denko"}, "edited": false, "score": 0, "creation_date": 1520854183, "post_id": 49233510, "comment_id": 85471281, "body": "removed both. still no change"}, {"owner": {"reputation": 494, "user_id": 6285198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc827d9263fae5d5fb9b72db5b676e3?s=128&d=identicon&r=PG&f=1", "display_name": "RejoylinLokeshwaran", "link": "https://stackoverflow.com/users/6285198/rejoylinlokeshwaran"}, "edited": false, "score": 0, "creation_date": 1520854402, "post_id": 49233510, "comment_id": 85471412, "body": "did you add application class in the manifest?"}, {"owner": {"reputation": 41, "user_id": 8219364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VUdvyN5oki8/AAAAAAAAAAI/AAAAAAAAAA0/4_WGQtq6XKM/photo.jpg?sz=128", "display_name": "el_denko", "link": "https://stackoverflow.com/users/8219364/el-denko"}, "edited": false, "score": 0, "creation_date": 1520854459, "post_id": 49233510, "comment_id": 85471449, "body": "as you see in the second code block in my question"}, {"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1520854905, "post_id": 49233510, "comment_id": 85471726, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46267621/unable-to-merge-dex\">Unable to merge dex</a>"}, {"owner": {"reputation": 494, "user_id": 6285198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc827d9263fae5d5fb9b72db5b676e3?s=128&d=identicon&r=PG&f=1", "display_name": "RejoylinLokeshwaran", "link": "https://stackoverflow.com/users/6285198/rejoylinlokeshwaran"}, "edited": false, "score": 0, "creation_date": 1520857400, "post_id": 49233510, "comment_id": 85473367, "body": "Try to change the play service version"}, {"owner": {"reputation": 41, "user_id": 8219364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VUdvyN5oki8/AAAAAAAAAAI/AAAAAAAAAA0/4_WGQtq6XKM/photo.jpg?sz=128", "display_name": "el_denko", "link": "https://stackoverflow.com/users/8219364/el-denko"}, "edited": false, "score": 0, "creation_date": 1520857959, "post_id": 49233510, "comment_id": 85473708, "body": "i went down to 11.4.2 but nothing changed"}, {"owner": {"reputation": 494, "user_id": 6285198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc827d9263fae5d5fb9b72db5b676e3?s=128&d=identicon&r=PG&f=1", "display_name": "RejoylinLokeshwaran", "link": "https://stackoverflow.com/users/6285198/rejoylinlokeshwaran"}, "edited": false, "score": 0, "creation_date": 1520912427, "post_id": 49233510, "comment_id": 85499432, "body": "what is your android studio version?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8219364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VUdvyN5oki8/AAAAAAAAAAI/AAAAAAAAAA0/4_WGQtq6XKM/photo.jpg?sz=128", "display_name": "el_denko", "link": "https://stackoverflow.com/users/8219364/el-denko"}, "edited": false, "score": 0, "creation_date": 1520856995, "post_id": 49234309, "comment_id": 85473093, "body": "unfortunately not"}], "tags": [], "owner": {"reputation": 494, "user_id": 6285198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc827d9263fae5d5fb9b72db5b676e3?s=128&d=identicon&r=PG&f=1", "display_name": "RejoylinLokeshwaran", "link": "https://stackoverflow.com/users/6285198/rejoylinlokeshwaran"}, "is_accepted": false, "score": 0, "last_activity_date": 1520854674, "creation_date": 1520854674, "answer_id": 49234309, "question_id": 49233510, "link": "https://stackoverflow.com/questions/49233510/multidex-enabled-still-unable-to-merge-dex/49234309#49234309", "title": "Multidex enabled - still unable to merge dex", "body": "<p>Create application class like,</p>\n\n<pre><code>  public class MyApplication extends Application {\n  @Override\n   protected void attachBaseContext(Context base) {\n      super.attachBaseContext(base);\n      MultiDex.install(this);\n   }\n  }\n</code></pre>\n\n<p>use \"MyApplication\" instead of android.support.multidex.MultiDexApplication</p>\n\n<pre><code>&lt;application\nandroid:name=\".MyApplication\"\n /&gt;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8219364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VUdvyN5oki8/AAAAAAAAAAI/AAAAAAAAAA0/4_WGQtq6XKM/photo.jpg?sz=128", "display_name": "el_denko", "link": "https://stackoverflow.com/users/8219364/el-denko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 498, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1520927907, "creation_date": 1520852169, "last_edit_date": 1520854105, "question_id": 49233510, "link": "https://stackoverflow.com/questions/49233510/multidex-enabled-still-unable-to-merge-dex", "title": "Multidex enabled - still unable to merge dex", "body": "<p>this is my build.gradle</p>\n\n<pre><code>android {\ncompileSdkVersion 27\ndefaultConfig {\n    applicationId \"xxxx.xxxx.xxxx\"\n    minSdkVersion 21\n    targetSdkVersion 27\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    multiDexEnabled true\n}\n</code></pre>\n\n<p>this is my Manifest.xml</p>\n\n<pre><code> &lt;application\n    android:name=\"android.support.multidex.MultiDexApplication\"\n.../&gt;\n</code></pre>\n\n<p>these are my dependencies</p>\n\n<pre><code>dependencies {\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n\n\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    //noinspection GradleCompatible\n    implementation 'com.android.support:recyclerview-v7:27.1.0'\n\n    implementation 'com.google.firebase:firebase-messaging:11.8.0'\n    implementation 'com.google.firebase:firebase-crash:11.8.0'\n    implementation 'com.google.android.gms:play-services-maps:11.8.0'\n    implementation 'com.google.android.gms:play-services-ads:11.8.0'\n    implementation \"com.google.android.gms:play-services-location:11.8.0\"\n    implementation 'com.google.maps.android:android-maps-utils:0.4.4'\n    implementation 'com.google.code.gson:gson:2.8.2'\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation \"org.jetbrains.anko:anko:0.10.4\"\n    implementation \"org.jetbrains.anko:anko-design:0.10.4\"\n\n    //    CircleImage\n    implementation 'de.hdodenhof:circleimageview:2.1.0'\n    //    Glide\n    implementation 'com.github.bumptech.glide:glide:4.5.0'\n    //DateTimePicker\n    implementation 'com.wdullaer:materialdatetimepicker:3.4.0'\n\n    implementation 'org.ocpsoft.prettytime:prettytime:4.0.1.Final'\n\n\n    implementation 'com.github.kittinunf.fuel:fuel-android:1.12.0'\n\n\n    implementation 'com.seatgeek:placesautocomplete:0.3-SNAPSHOT'\n\n\n\n    implementation project(path: ':regservice')\n}\n</code></pre>\n\n<p>still gradle build fails because of </p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n  java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex</p>\n</blockquote>\n\n<p>can someone please figure out why?\nI am 2 days into this problem and I still have no solution</p>\n\n<pre><code> Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520851954, "post_id": 49232887, "comment_id": 85470030, "body": "in xml you can use <code>android:visibility</code> attribute to set visibility of a widget. If you want to dynamically change visibility of a widget you need to do it from code (using kotlin/java)"}, {"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520852704, "post_id": 49232887, "comment_id": 85470442, "body": "actually i am using recycler view and to show button i get true values and false to not show the button"}, {"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520853118, "post_id": 49232887, "comment_id": 85470663, "body": "do you have one button or <i>n</i> buttons?"}, {"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520855486, "post_id": 49232887, "comment_id": 85472081, "body": "n number of buttons"}, {"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520855921, "post_id": 49232887, "comment_id": 85472395, "body": "check this <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview.html#kotlin\" rel=\"nofollow noreferrer\">recycler view tutorial</a>. You can use <code>onBindViewHolder</code> method in your adapter to set visibility of your buttons."}, {"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520857538, "post_id": 49232887, "comment_id": 85473465, "body": "override fun onBindViewHolder(holder: ViewHolder?, position: Int) {           holder?.button?.text =jobData.submit     } how should i write here because i get the true and false value when i hit my api url"}, {"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520858743, "post_id": 49232887, "comment_id": 85474241, "body": "i was assuming you had some array/list in your adapter with true/false values. In that case you would just set the visibility with <code>holder?.button?.visibility = yourList[position]</code>. But now I don&#39;t understand your problem..."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1520851311, "post_id": 49233152, "comment_id": 85469643, "body": "but how should i use it in xml file like in angular we use ng_show = &quot;apply_job&quot; in button tag property"}, {"owner": {"reputation": 1981, "user_id": 5722608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e2424e7222b5429a16056a147aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/5722608/faraz"}, "reply_to_user": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1520853130, "post_id": 49233152, "comment_id": 85470673, "body": "@zebapathan If you want to manage the visibility directly in XML, you have to use <b>Data Binding</b>. Check this out <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html\" rel=\"nofollow noreferrer\">Android DataBinding</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1520853603, "post_id": 49233152, "comment_id": 85470923, "body": "You don&#39;t need to include a separate plugin for Kotlin Android Extensions anymore (in fact, it can cause issues). It&#39;s included in the regular Kotlin Gradle plugin. You just need to apply it with <code>apply plugin: &#39;kotlin-android-extensions&#39;</code>."}, {"owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1520855072, "post_id": 49233152, "comment_id": 85471806, "body": "i am new to kotline. please give me this data binding with an example"}, {"owner": {"reputation": 1981, "user_id": 5722608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e2424e7222b5429a16056a147aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/5722608/faraz"}, "reply_to_user": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "edited": false, "score": 0, "creation_date": 1520859091, "post_id": 49233152, "comment_id": 85474510, "body": "@zebapathan You can check the link in my above comment. It will be very lengthy to explain it here."}], "tags": [], "owner": {"reputation": 1981, "user_id": 5722608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e2424e7222b5429a16056a147aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/5722608/faraz"}, "is_accepted": true, "score": 1, "last_activity_date": 1520854077, "last_edit_date": 1520854077, "creation_date": 1520851125, "answer_id": 49233152, "question_id": 49232887, "link": "https://stackoverflow.com/questions/49232887/based-on-true-and-false-value-how-should-i-make-visibility-of-button-true-in-xml/49233152#49233152", "title": "based on true and false value how should i make visibility of button true in xml file only using kotline", "body": "<p>In Kotlin, you don't have to initialized variables if you are using kotlin extensions.</p>\n\n<p>Make sure you have added this plugin in your module's <em>build.gradle</em></p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Manage the visiblity</p>\n\n<pre><code>val canShow = true\napply_job.visibility = if(canShow) View.VISIBLE else View.GONE\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9411499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EmqmPifleLg/AAAAAAAAAAI/AAAAAAAABDs/NrVVePa8F74/photo.jpg?sz=128", "display_name": "zeba pathan", "link": "https://stackoverflow.com/users/9411499/zeba-pathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 49233152, "answer_count": 1, "score": 2, "last_activity_date": 1520854077, "creation_date": 1520850212, "question_id": 49232887, "link": "https://stackoverflow.com/questions/49232887/based-on-true-and-false-value-how-should-i-make-visibility-of-button-true-in-xml", "title": "based on true and false value how should i make visibility of button true in xml file only using kotline", "body": "<p>See the below code the apply_job value might be true or false</p>\n\n<pre><code>&lt;Button\n            android:id=\"@+id/apply_job\"\n\n            android:layout_width=\"match_parent\"\n            android:text=\"Apply\"\n            android:background=\"@color/colorPrimary\"\n            android:layout_height=\"wrap_content\" /&gt;\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "elasticsearch", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1520852921, "post_id": 49233673, "comment_id": 85470560, "body": "I really like simplicity. I will do your suggestion if I have to but before that, I would like to know the reason, I even debugged <code>EnableReactiveMongoRepositories</code> but I really couldn&#39;t understand what&#39;s going on?"}, {"owner": {"reputation": 159, "user_id": 9478688, "user_type": "registered", "profile_image": "https://graph.facebook.com/168103647332157/picture?type=large", "display_name": "Roman Dzhadan", "link": "https://stackoverflow.com/users/9478688/roman-dzhadan"}, "reply_to_user": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1520854592, "post_id": 49233673, "comment_id": 85471530, "body": "what elasticsearch version do you use? and what version of spring-data-elasticsearch?"}, {"owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1520856653, "post_id": 49233673, "comment_id": 85472850, "body": "I am using <code>6.1.2</code> for elasticsearch and <code>spring-data-elasticsearch</code> will be loaded by Spring Boot version <code>2.0.0.Release</code> dependency management <code>org.springframework.cloud:spring-cloud-dependencies:Finchley&zwnj;&#8203;.M8</code>"}, {"owner": {"reputation": 159, "user_id": 9478688, "user_type": "registered", "profile_image": "https://graph.facebook.com/168103647332157/picture?type=large", "display_name": "Roman Dzhadan", "link": "https://stackoverflow.com/users/9478688/roman-dzhadan"}, "reply_to_user": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1520858398, "post_id": 49233673, "comment_id": 85473996, "body": "Try to override elasticsearch version in pom.xml or in gradle.  <a href=\"http://mvnrepository.com/artifact/org.elasticsearch/elasticsearch/6.1.2\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1520858702, "post_id": 49233673, "comment_id": 85474217, "body": "to what version? Also I appreciate giving me solutions but I need first to know about the reason behind this. in the worse scenario I will load the bean manually as you suggested or set <code>System.setProperty(&quot;es.set.netty.runtime.available.processor&zwnj;&#8203;s&quot;, &quot;false&quot;);</code> to avoid elasticsearch check for available processors. Do you have any idea why am I getting this error?"}, {"owner": {"reputation": 159, "user_id": 9478688, "user_type": "registered", "profile_image": "https://graph.facebook.com/168103647332157/picture?type=large", "display_name": "Roman Dzhadan", "link": "https://stackoverflow.com/users/9478688/roman-dzhadan"}, "reply_to_user": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1520859014, "post_id": 49233673, "comment_id": 85474447, "body": "This one <a href=\"http://mvnrepository.com/artifact/org.elasticsearch/elasticsearch/6.1.2\" rel=\"nofollow noreferrer\">link</a>. Elasticsearch was built on top of Netty. Webflux has it&#39;s own Netty version. You need to make sure that you use the same version of Elasticsearch in your project as Elasticsearch server. Elasticsearch announced breaking changes in next versions. Currently, Spring&#39;s data implementation supports only <code>transport-client</code> (which is legacy). You can read more details here: <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/_motivations_around_a_new_java_client.html\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 159, "user_id": 9478688, "user_type": "registered", "profile_image": "https://graph.facebook.com/168103647332157/picture?type=large", "display_name": "Roman Dzhadan", "link": "https://stackoverflow.com/users/9478688/roman-dzhadan"}, "reply_to_user": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1520859059, "post_id": 49233673, "comment_id": 85474484, "body": "In other words, using elasticsearch-spring-data - it&#39;s a bad idea. Java High Level REST Client will replace transport-client very soon."}], "tags": [], "owner": {"reputation": 159, "user_id": 9478688, "user_type": "registered", "profile_image": "https://graph.facebook.com/168103647332157/picture?type=large", "display_name": "Roman Dzhadan", "link": "https://stackoverflow.com/users/9478688/roman-dzhadan"}, "is_accepted": true, "score": 1, "last_activity_date": 1520852729, "creation_date": 1520852729, "answer_id": 49233673, "question_id": 49232541, "link": "https://stackoverflow.com/questions/49232541/mongodb-and-elasticsearch-spring-boot/49233673#49233673", "title": "MongoDB and ElasticSearch spring boot", "body": "<p>Try to manage configuration beans by yourself. Spring Auto Configuration - always full of pitfalls. Especially, when you trying to use more then 1 implementation of spring data. (in your case it's elasticsearch and mongo).</p>\n\n<p>Frameworks can't do everything for you. So, I will recommend to setup it explicitly. </p>\n\n<ul>\n<li><strong>Cons:</strong> 1 or 2 extra classes with beans creation.</li>\n<li><strong>Pros:</strong> Much more control and understanding of how your application works </li>\n</ul>\n"}], "owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1700, "favorite_count": 0, "accepted_answer_id": 49233673, "answer_count": 1, "score": 1, "last_activity_date": 1521720503, "creation_date": 1520849164, "last_edit_date": 1521720503, "question_id": 49232541, "link": "https://stackoverflow.com/questions/49232541/mongodb-and-elasticsearch-spring-boot", "title": "MongoDB and ElasticSearch spring boot", "body": "<p>I am using Spring boot 2.0.0.Release with gradle and webflux written in Kotlin and I am trying to make ReactiveMongoDB and Elasticsearch work together, I also have JWT implementation. So to validate the AuthenticationToken I implemented <code>ReactiveAuthenticationManager</code> like below:</p>\n\n<pre><code>@Component\nclass UserAuthenticationManager(@Inject private val service: UserService,\n                                @Inject private val encoder: PasswordEncoder) : ReactiveAuthenticationManager {\n\n    override fun authenticate(authentication: Authentication): Mono&lt;Authentication&gt; {\n        return service.findByUsernameWithPassword(authentication.name)\n                .publishOn(Schedulers.parallel())\n                .filter { u -&gt; encoder.matches(authentication.credentials as String, u.password) }\n                .switchIfEmpty(Mono.defer&lt;User&gt; { Mono.error&lt;User&gt;(BadCredentialsException(\"Invalid Credentials\")) })\n                .map { u -&gt; AuthenticationToken(u.id, u.username, u.password!!, u.roles.map { SimpleGrantedAuthority(it.name) }) }\n    }\n\n}\n</code></pre>\n\n<p>and to enable reactive mongodb repository I did this:</p>\n\n<pre><code>@Configuration\n@EnableMongoAuditing(auditorAwareRef = \"springSecurityAuditorAware\")\n@EnableReactiveMongoRepositories(\n        basePackages = [\"com.example.package.repository.**.nosql\"],\n        excludeFilters = [\n            ComponentScan.Filter(\n                    type = FilterType.ASSIGNABLE_TYPE,\n                    value = [ElasticsearchRepository::class]\n            )\n        ]\n)\nclass DatabaseConfiguration\n</code></pre>\n\n<p>Also I configured ElasticSearchRepositories like this:</p>\n\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(\n        basePackages = [\"com.example.package.repository.**.search\"],\n        excludeFilters = [\n            ComponentScan.Filter(\n                    type = FilterType.ASSIGNABLE_TYPE,\n                    value = [ReactiveMongoRepository::class]\n            )\n        ]\n)\nclass ElasticsearchConfiguration {\n\n    @Bean\n    fun elasticsearchTemplate(client: Client, builder: Jackson2ObjectMapperBuilder): ElasticsearchTemplate {\n        return ElasticsearchTemplate(client, CustomEntityMapper(builder.createXmlMapper(false).build()))\n    }\n\n    inner class CustomEntityMapper(private val objectMapper: ObjectMapper) : EntityMapper {\n\n        init {\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n            objectMapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true)\n        }\n\n        @Throws(IOException::class)\n        override fun mapToString(`object`: Any): String {\n            return objectMapper.writeValueAsString(`object`)\n        }\n\n        @Throws(IOException::class)\n        override fun &lt;T&gt; mapToObject(source: String, clazz: Class&lt;T&gt;): T {\n            return objectMapper.readValue(source, clazz)\n        }\n    }\n}\n</code></pre>\n\n<p>When I run the <code>gradle bootRun</code> it throws exception below:</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: availableProcessors is already set to [8], rejecting [8]\n    at io.netty.util.NettyRuntime$AvailableProcessorsHolder.setAvailableProcessors(NettyRuntime.java:51)\n    at io.netty.util.NettyRuntime.setAvailableProcessors(NettyRuntime.java:87)\n    at org.elasticsearch.transport.netty4.Netty4Utils.setAvailableProcessors(Netty4Utils.java:85)\n    at org.elasticsearch.transport.netty4.Netty4Transport.&lt;init&gt;(Netty4Transport.java:140)\n    at org.elasticsearch.transport.Netty4Plugin.lambda$getTransports$0(Netty4Plugin.java:93)\n    at org.elasticsearch.client.transport.TransportClient.buildTemplate(TransportClient.java:177)\n    at org.elasticsearch.client.transport.TransportClient.&lt;init&gt;(TransportClient.java:268)\n    at org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:133)\n    at org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:119)\n    at org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:109)\n    at org.springframework.data.elasticsearch.client.TransportClientFactoryBean.buildClient(TransportClientFactoryBean.java:91)\n    at org.springframework.data.elasticsearch.client.TransportClientFactoryBean.afterPropertiesSet(TransportClientFactoryBean.java:86)\n    at org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration.elasticsearchClient(ElasticsearchAutoConfiguration.java:59)\n    at org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration$$EnhancerBySpringCGLIB$$4eba21d.CGLIB$elasticsearchClient$0(&lt;generated&gt;)\n    at org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration$$EnhancerBySpringCGLIB$$4eba21d$$FastClassBySpringCGLIB$$bc4f5c6f.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\n    at org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchAutoConfiguration$$EnhancerBySpringCGLIB$$4eba21d.elasticsearchClient(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 137 common frames omitted\n</code></pre>\n\n<p>While debugging, I found out, <code>setAvailableProcessors</code> method is called twice in <code>NettyRuntime</code>, first for <code>MongoReactiveAutoConfiguration</code> and second for <code>ElasticsearchAutoConfiguration</code> where I get exception. Also I found out, if I remove my implementation of <code>UserAuthenticationManager</code>, <code>MongoReactiveAutoConfiguration</code> doesn't call <code>setAvailableProcessors</code> method so everything works fine because it is called once by <code>ElasticsearchAutoConfiguration</code>. Why <code>MongoReactiveAutoConfiguration</code> cares about <code>ReactiveAuthenticationManager</code>. I really confused. How can I fix this problem without removing <code>UserAuthenticationManager</code> implementation?</p>\n\n<p>Any helps?</p>\n\n<p><strong>Solution:</strong>\nWith help of @RomanDzhadan I found the way of preventing reactive mongo db to check Netty available processors.\nThe problem was this Bean in <code>MongoReactiveAutoConfiguration</code></p>\n\n<pre><code>@Bean\n@ConditionalOnMissingBean\npublic MongoClient reactiveStreamsMongoClient(MongoProperties properties,\nEnvironment environment,\nObjectProvider&lt;List&lt;MongoClientSettingsBuilderCustomizer&gt;&gt; builderCustomizers) {\n    ReactiveMongoClientFactory factory = new ReactiveMongoClientFactory(properties,\n            environment, builderCustomizers.getIfAvailable());\n    this.mongo = factory.createMongoClient(this.settings);\n    return this.mongo;\n}\n</code></pre>\n\n<p>So I solved it by having my own bean definition of MongoClient for example something like this:</p>\n\n<pre><code>@Bean\nfun mongoClient(): MongoClient {\n    logger.debug(\"Configuring mongo client\")\n    return MongoClients.create(mongoProperties.determineUri())\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1520824769, "post_id": 49227367, "comment_id": 85458975, "body": "What is the type of the RadioMap column in CREATE TABLE Sqlite command? <code>TEXT</code>?"}, {"owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1520824865, "post_id": 49227367, "comment_id": 85458985, "body": "@Naetmul correct, it is TEXT"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1520825116, "post_id": 49227367, "comment_id": 85459024, "body": "It seems you have to use <code>gson.toJson(object, type)</code> instead of <code>gson.toJson(object)</code> <a href=\"https://stackoverflow.com/questions/35601355/when-to-use-google-gsons-tojson-method-which-accepts-type-as-a-parameter-publi\" title=\"when to use google gsons tojson method which accepts type as a parameter publi\">stackoverflow.com/questions/35601355/&hellip;</a>"}, {"owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1520825555, "post_id": 49227367, "comment_id": 85459107, "body": "@Naetmul I just tried this and I&#39;m still getting the same error"}, {"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1520827190, "post_id": 49227367, "comment_id": 85459420, "body": "Please share your table structure with some sample data."}, {"owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "reply_to_user": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1520828035, "post_id": 49227367, "comment_id": 85459630, "body": "@ReazMurshed see my edit"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1520840911, "post_id": 49227367, "comment_id": 85463918, "body": "You can&#39;t use a composite object such as <code>Label</code> as the key of a map serialized to JSON. Also, to make it clearer what&#39;s going on, you should try serializing an object to a string and immediately deserializing it back - this will make it clear whether SQLite has anything to do with the problem (in this case it doesn&#39;t)."}, {"owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1520841067, "post_id": 49227367, "comment_id": 85463994, "body": "@yole yep, figured it out about 15 minutes ago during a grueling trial and error process. If you wanted to post an answer I would gladly accept it."}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 1, "last_activity_date": 1520841167, "creation_date": 1520841167, "answer_id": 49230404, "question_id": 49227367, "link": "https://stackoverflow.com/questions/49227367/saving-custom-object-as-json-in-sqlite-database/49230404#49230404", "title": "Saving Custom Object as JSON in SQLite Database", "body": "<p>The object graph is not deserialized correctly because you're using a composite object (<code>Label</code>) as a map key. There is no standard way to represent such a map as a JSON data structure.</p>\n"}], "owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 49230404, "answer_count": 1, "score": 0, "last_activity_date": 1520841167, "creation_date": 1520821833, "last_edit_date": 1520835973, "question_id": 49227367, "link": "https://stackoverflow.com/questions/49227367/saving-custom-object-as-json-in-sqlite-database", "title": "Saving Custom Object as JSON in SQLite Database", "body": "<p>I'm not very familiar with data storage using json. I have a pretty complex object that is basically just a hashmap, see below:</p>\n\n<pre><code>data class Axis (var BSSID: String, var RSSI: Int)\ndata class Label (var x: Int, var y: Int)\n\ndata class RadioMap(var map: HashMap&lt;Label, ArrayList&lt;Axis&gt;&gt; = HashMap())\n</code></pre>\n\n<p>and I'm trying to store the RadioMap object in a column as TEXT in an SQLite Database. I'm able to save it, but when I try to convert it back I get this error <strong>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 10 path $.map.</strong></p>\n\n<p>This is my code to save and retrieve the RadioMap from the database:</p>\n\n<pre><code>fun updateRadioMap(name: String, radioMap: RadioMap) {\n    val gson = Gson()\n    val rmString = gson.toJson(radioMap)\n    val cv = ContentValues()\n    cv.put(COLUMN_RADIO_MAP_JSON, rmString)\n    val db = writableDatabase\n    db.update(TABLE_FLOOR_MAPS, cv, \"$COLUMN_FLOOR_NAME = '$name'\", null)\n    db.close()\n}\n\nfun getRadioMap(name: String): RadioMap {\n    val db = this.writableDatabase\n    val query = \"SELECT * FROM $TABLE_FLOOR_MAPS WHERE $COLUMN_FLOOR_NAME =\\\"$name\\\";\"\n    val cursor = db.rawQuery(query, null)\n\n    return if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n        var rmString = cursor.getString(5)\n        cursor.close()\n        db.close()\n        if (rmString != null) {\n            val gson = Gson()\n            gson.fromJson&lt;RadioMap&gt;(rmString, RadioMap::class.java) //APP CRASHES HERE\n        } else {\n            RadioMap()\n        }\n    } else {\n        cursor.close()\n        db.close()\n        RadioMap()\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>This is the database's onCreate method: </p>\n\n<pre><code>override fun onCreate(sqLiteDatabase: SQLiteDatabase) {\n    val query = \"CREATE TABLE \" + TABLE_FLOOR_MAPS + \"(\" +\n            COLUMN_ID + \" INTEGER PRIMARY KEY, \" +\n            COLUMN_FLOOR_NAME + \" TEXT, \" +\n            COLUMN_FLOOR_IMAGE + \" BLOB, \" +\n            COLUMN_FLOOR_WIDTH + \" REAL, \" +\n            COLUMN_GRID_SIZE + \" REAL, \" +\n            COLUMN_RADIO_MAP_JSON + \" TEXT \" +\n            \");\"\n    sqLiteDatabase.execSQL(query)\n}\n</code></pre>\n\n<p>but the only relevant column is the last one, COLUMN_RADIO_MAP_JSON.</p>\n\n<p>Here is an example of the RadioMap I'm trying to save, with <code>toString()</code> called on it: </p>\n\n<blockquote>\n  <p>RadioMap(map={Label(x=0, y=0)=[Axis(BSSID=78:f2:9e:57:0d:03,\n  RSSI=-93), Axis(BSSID=78:f2:9e:57:0d:04, RSSI=-92),\n  Axis(BSSID=78:f2:9e:57:0d:01, RSSI=-92), Axis(BSSID=78:f2:9e:57:0d:00,\n  RSSI=-91), Axis(BSSID=78:f2:9e:57:0d:02, RSSI=-91),\n  Axis(BSSID=54:be:f7:dc:47:ea, RSSI=-90), Axis(BSSID=10:5f:06:83:f1:c5,\n  RSSI=-90), Axis(BSSID=2c:7e:81:c4:70:ee, RSSI=-89),\n  Axis(BSSID=10:da:43:86:9b:51, RSSI=-89), Axis(BSSID=4e:7e:81:c4:70:ee,\n  RSSI=-89), Axis(BSSID=7e:8f:e0:0a:b6:d5, RSSI=-89),\n  Axis(BSSID=3e:7e:81:c4:70:ee, RSSI=-88), Axis(BSSID=1c:49:7b:94:92:e1,\n  RSSI=-88), Axis(BSSID=84:00:2d:65:a0:ba, RSSI=-88),\n  Axis(BSSID=50:c7:bf:89:13:f6, RSSI=-87), Axis(BSSID=3e:7e:81:c4:70:ed,\n  RSSI=-87), Axis(BSSID=ea:5d:df:92:49:28, RSSI=-86),\n  Axis(BSSID=da:5d:df:92:49:28, RSSI=-84), Axis(BSSID=54:be:f7:dc:47:e8,\n  RSSI=-76), Axis(BSSID=78:f2:9e:57:0c:fa, RSSI=-73),\n  Axis(BSSID=78:f2:9e:57:0c:f8, RSSI=-70), Axis(BSSID=44:32:c8:2c:77:b2,\n  RSSI=-54), Axis(BSSID=46:32:c8:2c:77:b4, RSSI=-53),\n  Axis(BSSID=d4:5d:df:31:e4:20, RSSI=-51), Axis(BSSID=d4:5d:df:31:e4:24,\n  RSSI=-51), Axis(BSSID=d4:5d:df:31:e4:1d, RSSI=-48),\n  Axis(BSSID=d4:5d:df:31:e4:18, RSSI=-42), Axis(BSSID=d4:5d:df:31:e4:1e,\n  RSSI=-42), Axis(BSSID=d4:5d:df:31:e4:1a, RSSI=-41),\n  Axis(BSSID=d4:5d:df:31:e4:1b, RSSI=-40)]})</p>\n</blockquote>\n\n<p>And then here is an example of the rmString that is being stored in the database:</p>\n\n<pre><code>{\"map\":{\"Label(x\\u003d0, y\\u003d0)\":\n[{\"BSSID\":\"10:da:43:84:cb:75\",\"RSSI\":-92},\n{\"BSSID\":\"52:86:8c:2f:0f:7d\",\"RSSI\":-91},\n{\"BSSID\":\"78:f2:9e:57:0d:00\",\"RSSI\":-90},\n{\"BSSID\":\"78:f2:9e:57:0d:04\",\"RSSI\":-90},\n{\"BSSID\":\"2c:7e:81:c4:70:ed\",\"RSSI\":-89},\n{\"BSSID\":\"10:da:43:86:9b:51\",\"RSSI\":-88},\n{\"BSSID\":\"ae:8f:e0:0a:b6:d5\",\"RSSI\":-88},\n{\"BSSID\":\"40:b0:34:79:75:0f\",\"RSSI\":-88},\n{\"BSSID\":\"a4:2b:8c:d3:02:4b\",\"RSSI\":-88},\n{\"BSSID\":\"9e:8f:e0:0a:b6:d5\",\"RSSI\":-87},\n{\"BSSID\":\"ee:5d:df:92:49:28\",\"RSSI\":-87},\n{\"BSSID\":\"d4:5d:df:31:e4:1e\",\"RSSI\":-47},\n{\"BSSID\":\"d4:5d:df:31:e4:18\",\"RSSI\":-42}]}}\n</code></pre>\n\n<p><strong>Edit 2:</strong></p>\n\n<p>I put the rmString into a JSON validator and it is valid JSON, both before I insert it into the database and after I get it out. So for some reason the gson.fromJson(rmString, RadioMap::class.java) isn't able to convert the valid json back into my object. I'm thinking it has something to do with the way the RadioMap object is set up.</p>\n\n<p>Should the data class RadioMap() be done differently?</p>\n"}, {"tags": ["function", "kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1520810479, "post_id": 49226137, "comment_id": 85456045, "body": "It would be really cool if you&#39;d share the link to <b>your</b> playground (use the save function)"}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1520810765, "post_id": 49226137, "comment_id": 85456110, "body": "What error do you get? The Kotlin playground currently gives me <code>Internal Server Error</code>."}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 0, "creation_date": 1520811103, "post_id": 49226137, "comment_id": 85456172, "body": "It gave me &quot;error: &quot;, that&#39;s all, nothing else."}], "answers": [{"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 2, "last_activity_date": 1520810597, "creation_date": 1520810597, "answer_id": 49226179, "question_id": 49226137, "link": "https://stackoverflow.com/questions/49226137/how-to-pass-a-function-into-a-data-class-in-kotlin/49226179#49226179", "title": "How to pass a function into a data class in Kotlin?", "body": "<p>This worked fine for me;</p>\n\n<pre><code>data class Person(val name: String,\n                  val age: Int = 0,\n                  val showMsg : (String) -&gt; Unit\n)\n\nval p = Person(name=\"Bob\", age=29, showMsg = ::println)\np.showMsg(\"Hello, world!\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 3, "last_activity_date": 1520810609, "creation_date": 1520810609, "answer_id": 49226184, "question_id": 49226137, "link": "https://stackoverflow.com/questions/49226137/how-to-pass-a-function-into-a-data-class-in-kotlin/49226184#49226184", "title": "How to pass a function into a data class in Kotlin?", "body": "<p>You cannot mix named and positioned arguments. Use</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val p = Person(name=\"Bob\", age=29, showMsg = {msg -&gt; println(msg)})\n    p.showMsg(\"Hello, world!\")\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val p = Person(\"Bob\", 29, {msg -&gt; println(msg)})\n    p.showMsg(\"Hello, world!\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 0, "creation_date": 1520811203, "post_id": 49226188, "comment_id": 85456187, "body": "ha, that&#39;s was easy... was stuck on that for about 2 hours."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1520831049, "post_id": 49226188, "comment_id": 85460294, "body": "Use an IDE the next time ;)"}], "tags": [], "owner": {"reputation": 2433, "user_id": 5036979, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206947226739641/picture?type=large", "display_name": "Ahmed Ashraf", "link": "https://stackoverflow.com/users/5036979/ahmed-ashraf"}, "is_accepted": true, "score": 3, "last_activity_date": 1520810622, "creation_date": 1520810622, "answer_id": 49226188, "question_id": 49226137, "link": "https://stackoverflow.com/questions/49226137/how-to-pass-a-function-into-a-data-class-in-kotlin/49226188#49226188", "title": "How to pass a function into a data class in Kotlin?", "body": "<p>You can't use named arguments for 2 of the parameters and ignore the last one (the lambda/function parameter), you just need to name the last parameter as follows.</p>\n\n<pre><code>val p = Person(name=\"Bob\", age=29, showMsg = {msg -&gt; println(msg)})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 7, "last_activity_date": 1520812266, "creation_date": 1520812266, "answer_id": 49226362, "question_id": 49226137, "link": "https://stackoverflow.com/questions/49226137/how-to-pass-a-function-into-a-data-class-in-kotlin/49226362#49226362", "title": "How to pass a function into a data class in Kotlin?", "body": "<p>A viable alternative to the solutions in the other answers is to pass the last argument lambda outside the parentheses.</p>\n\n<p>If a function takes another function as the last parameter, the lambda expression argument can be passed outside the parenthesized argument list. In this case, you don't need to use a named argument for it:</p>\n\n<pre><code>val p = Person(name = \"Bob\", age = 29) { println(it) }\n</code></pre>\n"}], "owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "accepted_answer_id": 49226188, "answer_count": 4, "score": 2, "last_activity_date": 1520812266, "creation_date": 1520810216, "question_id": 49226137, "link": "https://stackoverflow.com/questions/49226137/how-to-pass-a-function-into-a-data-class-in-kotlin", "title": "How to pass a function into a data class in Kotlin?", "body": "<p>When I ran the following in the <a href=\"https://try.kotlinlang.org/#/Examples/Hello,%20world!/Simplest%20version/Simplest%20version.kt\" rel=\"nofollow noreferrer\">kotlin playground</a>, it prints error, nothing else. What's wrong with the following code? It's pretty simple, I am passing in a function into the data class as one of it's initialization parameters, and then calling this function on the data class instance. Is it not allowed to pass function into a data class in Kotlin?</p>\n\n<pre><code>data class Person(val name: String,\n                  val age: Int = 0,\n                  val showMsg : (msg: String) -&gt; Unit)\n\n\nfun main(args: Array&lt;String&gt;) {\n    val p = Person(name=\"Bob\", age=29, {msg -&gt; println(msg)})\n    p.showMsg(\"Hello, world!\")\n}\n</code></pre>\n"}, {"tags": ["collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1520804562, "post_id": 49225201, "comment_id": 85454455, "body": "Wow! Why is it sometimes &quot;as&quot; and sometimes &quot;to&quot;?!"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 10, "creation_date": 1520804690, "post_id": 49225201, "comment_id": 85454492, "body": "<code>as</code> most often implies that the object is being reused in the created instance. Take <code>asList</code> and <code>toList</code> for arrays as an example: <a href=\"https://stackoverflow.com/questions/48411392/how-are-kotlin-arrays-tolist-and-aslist-different/48411459#48411459\" title=\"how are kotlin arrays tolist and aslist different\">stackoverflow.com/questions/48411392/&hellip;</a>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 23, "last_activity_date": 1571043823, "last_edit_date": 1571043823, "creation_date": 1520803100, "answer_id": 49225201, "question_id": 49225172, "link": "https://stackoverflow.com/questions/49225172/how-to-create-list-from-set-in-kotlin/49225201#49225201", "title": "How to create List from Set in Kotlin?", "body": "<p>The function you're looking for is called <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-list.html\" rel=\"noreferrer\"><code>toList()</code></a>:</p>\n\n<pre><code>val set: Set&lt;Int&gt; = setOf(1,2,3)\nval list: List&lt;Int&gt; = set.toList()\n</code></pre>\n"}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4262, "favorite_count": 2, "accepted_answer_id": 49225201, "answer_count": 1, "score": 8, "last_activity_date": 1571043823, "creation_date": 1520802951, "question_id": 49225172, "link": "https://stackoverflow.com/questions/49225172/how-to-create-list-from-set-in-kotlin", "title": "How to create List from Set in Kotlin?", "body": "<p>Suppose I have a set with elements. How to create List of the same elements? I see methiods <code>asSequence</code> and <code>asIterable</code>, but no <code>asList</code>, why?</p>\n"}, {"tags": ["kotlin", "kotlin-dokka"], "comments": [{"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1523760913, "post_id": 49225060, "comment_id": 86691232, "body": "Have you resolved this?"}, {"owner": {"reputation": 51, "user_id": 9286937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81cb3f5089b2b3ddb64ffe7ae085e600?s=128&d=identicon&r=PG&f=1", "display_name": "Mackenzie Bligh", "link": "https://stackoverflow.com/users/9286937/mackenzie-bligh"}, "reply_to_user": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 1, "creation_date": 1523850870, "post_id": 49225060, "comment_id": 86713367, "body": "Not in the way I intend. I&#39;m considering forking the project and doing it myself if/when I get time"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9286937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81cb3f5089b2b3ddb64ffe7ae085e600?s=128&d=identicon&r=PG&f=1", "display_name": "Mackenzie Bligh", "link": "https://stackoverflow.com/users/9286937/mackenzie-bligh"}, "edited": false, "score": 3, "creation_date": 1521165715, "post_id": 49287540, "comment_id": 85625958, "body": "Yeah, I had it set to <code>&lt;outputFormat&gt;gfm&lt;&#47;outputFormat&gt;</code> currently, which is github flavored markdown. But it doesn&#39;t result in a wiki that you can really browse based on the link structure, and that it creates individual markdown files for each function"}], "tags": [], "owner": {"reputation": 577, "user_id": 410579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb1e2716f8a9b4aff5bd3458962ae2a?s=128&d=identicon&r=PG", "display_name": "kocka", "link": "https://stackoverflow.com/users/410579/kocka"}, "is_accepted": false, "score": 0, "last_activity_date": 1521061203, "creation_date": 1521061203, "answer_id": 49287540, "question_id": 49225060, "link": "https://stackoverflow.com/questions/49225060/how-to-have-dokka-generate-a-deployable-github-wiki/49287540#49287540", "title": "How to have Dokka generate a deployable github wiki?", "body": "<p>This tells dokka to generate md files instead of HTML:</p>\n\n<pre><code>&lt;outputFormat&gt;markdown&lt;/outputFormat&gt;\n</code></pre>\n\n<p>And then you can push the results to github.</p>\n"}], "owner": {"reputation": 51, "user_id": 9286937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81cb3f5089b2b3ddb64ffe7ae085e600?s=128&d=identicon&r=PG&f=1", "display_name": "Mackenzie Bligh", "link": "https://stackoverflow.com/users/9286937/mackenzie-bligh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 758, "favorite_count": 3, "answer_count": 1, "score": 4, "last_activity_date": 1521061203, "creation_date": 1520802160, "question_id": 49225060, "link": "https://stackoverflow.com/questions/49225060/how-to-have-dokka-generate-a-deployable-github-wiki", "title": "How to have Dokka generate a deployable github wiki?", "body": "<p>As part of building my project, I am looking to have Dokka's maven plugin build a markdown wiki that I can deploy to github without modification. I have no problem building the markdown, and viewing the documentation through intellij, but I am hoping to host it directly in my project's github wiki. If anyone has any ideas how to do this, that would be great.</p>\n\n<p>This is my current Dokka configuration</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.dokka&lt;/groupId&gt;\n            &lt;artifactId&gt;dokka-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.9.16&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;pre-site&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;dokka&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;!-- Set to true to skip dokka task, default: false --&gt;\n                &lt;skip&gt;false&lt;/skip&gt;\n\n                &lt;outputFormat&gt;gfm&lt;/outputFormat&gt;\n\n                &lt;!-- Default: ${project.basedir}/target/dokka --&gt;\n                &lt;outputDir&gt;${project.basedir}/docs/privateurl&lt;/outputDir&gt;\n\n                &lt;!-- Use default or set to custom path to cache directory to enable package-list caching. --&gt;\n                &lt;!-- When set to default, caches stored in $USER_HOME/.cache/dokka --&gt;\n                &lt;cacheRoot&gt;default&lt;/cacheRoot&gt;\n\n                &lt;!-- List of '.md' files with package and module docs --&gt;\n                &lt;!-- http://kotlinlang.org/docs/reference/kotlin-doc.html#module-and-package-documentation --&gt;\n                &lt;includes&gt;\n                    &lt;file&gt;packages.md&lt;/file&gt;\n                    &lt;file&gt;extra.md&lt;/file&gt;\n                &lt;/includes&gt;\n\n                &lt;!-- Used for linking to JDK, default: 6 --&gt;\n                &lt;jdkVersion&gt;8&lt;/jdkVersion&gt;\n\n                &lt;!-- Do not output deprecated members, applies globally, can be overridden by packageOptions --&gt;\n                &lt;skipDeprecated&gt;true&lt;/skipDeprecated&gt;\n\n                &lt;!-- Emit warnings about not documented members, applies globally, also can be overridden by packageOptions --&gt;\n                &lt;reportNotDocumented&gt;false&lt;/reportNotDocumented&gt;\n                &lt;!-- Do not create index pages for empty packages --&gt;\n                &lt;skipEmptyPackages&gt;true&lt;/skipEmptyPackages&gt;\n\n                &lt;!-- See platforms section of documentation --&gt;\n                &lt;impliedPlatforms&gt;\n                    &lt;platform&gt;JVM&lt;/platform&gt;\n                &lt;/impliedPlatforms&gt;\n\n                &lt;!-- Short form list of sourceRoots, by default, set to ${project.compileSourceRoots} --&gt;\n                &lt;sourceDirectories&gt;\n                    &lt;dir&gt;src/main&lt;/dir&gt;\n                &lt;/sourceDirectories&gt;\n\n                &lt;!-- Specifies the location of the project source code on the Web. If provided, Dokka generates \"source\" links\n                     for each declaration. --&gt;\n                &lt;sourceLinks&gt;\n                    &lt;link&gt;\n                        &lt;!-- Source directory --&gt;\n                        &lt;dir&gt;${project.basedir}/src/main&lt;/dir&gt;\n                        &lt;!-- URL showing where the source code can be accessed through the web browser --&gt;\n                        &lt;url&gt;https://github.com/privateurl&lt;/url&gt;\n                        &lt;!--Suffix which is used to append the line number to the URL. Use #L for GitHub --&gt;\n                        &lt;urlSuffix&gt;#L&lt;/urlSuffix&gt;\n                    &lt;/link&gt;\n                &lt;/sourceLinks&gt;\n\n                &lt;!-- No default documentation link to kotlin-stdlib --&gt;\n                &lt;noStdlibLink&gt;true&lt;/noStdlibLink&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "usb"], "comments": [{"owner": {"reputation": 5997, "user_id": 866333, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4b2cf4a4b91ef887b17691a87d4bc0e1?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/866333/john"}, "edited": false, "score": 0, "creation_date": 1520801723, "post_id": 49224904, "comment_id": 85453612, "body": "The first thing i do when I have a device not found issue is run &quot;adb devices&quot; from the command line or where ever adb is."}], "answers": [{"tags": [], "owner": {"reputation": 580, "user_id": 6817057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ad9fa6a0a12b08a6c0d8ec8d63d6c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Jansz", "link": "https://stackoverflow.com/users/6817057/jan-jansz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550852580, "last_edit_date": 1550852580, "creation_date": 1550845073, "answer_id": 54829063, "question_id": 49224904, "link": "https://stackoverflow.com/questions/49224904/probleme-with-android-in-kotlin-to-communication-with-usb/54829063#54829063", "title": "probleme with android in kotlin to communication with USB", "body": "<p>You actually have to ask permission for each USB device available, something the official Android documentation doesn't really accentuate.</p>\n\n<pre><code>// register the broadcast receiver\nval manager = getSystemService(Context.USB_SERVICE) as UsbManager\nval permissionIntent = PendingIntent.getBroadcast(this, 0, Intent(ACTION_USB_PERMISSION), 0)\nval filter = IntentFilter(ACTION_USB_PERMISSION)\nregisterReceiver(usbReceiver, filter)\n\nfor (dev in manager.deviceList)\n{\n    // returns hashmap&lt;String, UsbDevice&gt;\n    Log.i(\"TAG\", dev.key + \" \" + dev.value)\n    // now ask for permission\n    manager.requestPermission(dev.value, permissionIntent)\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9209027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2545e019becaed0131a8f8bf900f805?s=128&d=identicon&r=PG&f=1", "display_name": "cosmoff", "link": "https://stackoverflow.com/users/9209027/cosmoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550852580, "creation_date": 1520801204, "last_edit_date": 1520820614, "question_id": 49224904, "link": "https://stackoverflow.com/questions/49224904/probleme-with-android-in-kotlin-to-communication-with-usb", "title": "probleme with android in kotlin to communication with USB", "body": "<p>I am trying to communicate between my android and a USB. I followed the instructions from android.com but my smartphone do not ask the authorization to communicate with the USB. However my smartphone do detect when I put a USB or not.In fact the variable \"device\" is always null and I do not understand why. Do you have an idea of the problem ?</p>\n\n<pre><code>var ACTION_USB_ATTACHED :String = \u201candroid.hardware.usb.action.USB_DEVICE_ATTACHED\u201d \nvar ACTION_USB_DETACHED :String = \u201candroid.hardware.usb.action.USB_DEVICE_DETACHED\u201d \nvar ACTION_USB_PERMISSION :String = \u201ccom.android.example.USB_PERMISSION\u201d\n\nclass MainActivity : AppCompatActivity(){\n    var switch_on_off :Switch? = null\n    var tv_info : TextView? = null\n\n    //USB\n    var mUsbReceiver :UsbReceiver? = null\n    var mfilter :IntentFilter? = null\n    var mUsbManager :UsbManager? = null\n    var mPermissionIntent : PendingIntent? = null\n    var device :UsbDevice? = null\n\n    override fun onCreate(savedInstanceState: Bundle?)  {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        tv_info = findViewById&lt;TextView&gt;(R.id.textView)\n        switch_on_off = findViewById&lt;Switch&gt;(R.id.switch1)\n        switch_on_off!!.setChecked(false)\n        switch_on_off!!.setText(\"OFF\")\n\n        //USB\n        mUsbReceiver = UsbReceiver()\n        mfilter = IntentFilter()\n        mfilter!!.addAction(ACTION_USB_ATTACHED)\n        mfilter!!.addAction(ACTION_USB_DETACHED)\n        registerReceiver(mUsbReceiver, mfilter) \n        mUsbManager = getSystemService(Context.USB_SERVICE) as UsbManager\n\n        //threads\n        t_switchOnOff.start()\n    }\n    val t_switchOnOff = thread(start = false, priority = 10)\n    {\n        while(true){\n            Thread.sleep(300)\n            this@MainActivity.runOnUiThread(java.lang.Runnable {\n                if(switch_on_off!!.isChecked()){\n                    switch_on_off!!.setText(\"ON\")\n                    device = intent?.getParcelableExtra&lt;UsbDevice&gt;(UsbManager.EXTRA_DEVICE) \n                    if(device != null) \n                    {\n                        if(!mUsbManager!!.hasPermission(device)){\n                            mPermissionIntent = PendingIntent.getBroadcast(this, 0, Intent(ACTION_USB_PERMISSION), 0);\n                            mUsbManager!!.requestPermission(device, mPermissionIntent);\n                        }\n                        else{\n                            tv_info!!.setText(\"\")\n                            tv_info!!.setText(\"device USB detected : ${device!!.deviceName} \\n\n                                &amp; Authorization accorded\")\n                        }\n                    }\n                    else{\n                        tv_info!!.setText(\"device USB NOT detected \\n&amp; usb Detached\")\n                    }\n                }\n                else{\n                    tv_info!!.setText(\"\")\n                    switch_on_off!!.setText(\"OFF\")\n                }\n            })//end this@MainActivity.runOnUiThread(java.lang.Runnable ...\n        }\n    }//end thread\n\n    class UsbReceiver : BroadcastReceiver() {\n        override fun onReceive(context: Context?, intent: Intent?) { \n            val action = intent?.action\n            var ACTION_USB_PERMISSION :String = \"com.android.example.USB_PERMISSION\"\n            if (action!!.equals(ACTION_USB_DETACHED)) {}\n            if (action!!.equals(ACTION_USB_ATTACHED)){}\n            if (action!!.equals(ACTION_USB_PERMISSION)){\n                if (!intent!!.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED,false)) {\n                    //Authoization refused\n                } else {\n                    //Authorization accepted\n                }\n            }\n        }\n    }//end class UsbReceiver }\n</code></pre>\n\n<p>Thank you for your help</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1520802534, "post_id": 49224070, "comment_id": 85453849, "body": "You have two distinct questions here.  One is about excluding Kotlin fields from serialization with Firestore.  The other is about serializing a reference type field.  They are not really related to each other.  In order to make this question more searchable for people who have one <i>or</i> the other question, I&#39;ve edited the question to address only the exclusion of Kotlin fields from serialization.  The question about reference types I answered as a separate question here: <a href=\"https://stackoverflow.com/questions/49225103/with-firestore-how-do-i-serialize-a-reference-type-field-with-a-java-class/\" title=\"with firestore how do i serialize a reference type field with a java class\">stackoverflow.com/questions/49225103/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8330, "user_id": 2619107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9d4663fa7d82a21f3817d54e9db8b34?s=128&d=identicon&r=PG", "display_name": "Rafa", "link": "https://stackoverflow.com/users/2619107/rafa"}, "edited": false, "score": 2, "creation_date": 1561243664, "post_id": 49225130, "comment_id": 100000635, "body": "Aren&#39;t you annotating the getter in your example? Why you say the setter needs to be annotated?"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 8, "last_activity_date": 1520802618, "creation_date": 1520802618, "answer_id": 49225130, "question_id": 49224070, "link": "https://stackoverflow.com/questions/49224070/firestore-how-to-exclude-fields-of-data-class-objects-in-kotlin/49225130#49225130", "title": "Firestore - how to exclude fields of data class objects in Kotlin", "body": "<p>Since Kotlin creates implicit getters and setters for fields, you need to annotate the setter with <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Exclude\" rel=\"noreferrer\">@Exclude</a> to tell Firestore not to use them.  Kotlin's syntax for this is as follows:</p>\n\n<pre><code>data class Parent(var name: String? = null) {\n    // questions will not be serialized in either direction.\n    var questions: ArrayList&lt;Child&gt; = ArrayList()\n        @Exclude get\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2514, "user_id": 664955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce57f967f833d1ac8a318ebda047e647?s=128&d=identicon&r=PG", "display_name": "sindrenm", "link": "https://stackoverflow.com/users/664955/sindrenm"}, "is_accepted": false, "score": 9, "last_activity_date": 1529345808, "creation_date": 1529345808, "answer_id": 50915292, "question_id": 49224070, "link": "https://stackoverflow.com/questions/49224070/firestore-how-to-exclude-fields-of-data-class-objects-in-kotlin/50915292#50915292", "title": "Firestore - how to exclude fields of data class objects in Kotlin", "body": "<p>I realize this is super late, but I just stumbled upon this and thought I could provide an alternative syntax, hoping someone will find it helpful.</p>\n\n\n\n<pre><code>data class Parent(var name: String? = null) {\n    @get:Exclude\n    var questions: ArrayList&lt;Child&gt; = ArrayList()\n}\n</code></pre>\n\n<p>One benefit to this is that, in my opinion, it reads a little clearer, but the main benefit is that it would allow excluding properties defined in the data class constructor as well:</p>\n\n\n\n<pre><code>data class Parent(\n    var name: String? = null,\n    @get:Exclude\n    var questions: ArrayList&lt;Child&gt; = ArrayList()\n)\n</code></pre>\n"}], "owner": {"reputation": 14655, "user_id": 1439522, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/924a7f2067fd21632db2d88559bd1dd9?s=128&d=identicon&r=PG", "display_name": "prom85", "link": "https://stackoverflow.com/users/1439522/prom85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2748, "favorite_count": 0, "accepted_answer_id": 49225130, "answer_count": 2, "score": 11, "last_activity_date": 1529345808, "creation_date": 1520795994, "last_edit_date": 1520803063, "question_id": 49224070, "link": "https://stackoverflow.com/questions/49224070/firestore-how-to-exclude-fields-of-data-class-objects-in-kotlin", "title": "Firestore - how to exclude fields of data class objects in Kotlin", "body": "<p>Firestore here explains, how I can use simple classes to directly use them with firestore: <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data\" rel=\"noreferrer\">https://firebase.google.com/docs/firestore/manage-data/add-data</a></p>\n\n<p>How can I mark a field as excluded?</p>\n\n<pre><code>data class Parent(var name: String? = null) {\n    // don't save this field directly\n    var questions: ArrayList&lt;String&gt; = ArrayList()\n}\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin", "android-permissions"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1520792012, "post_id": 49223343, "comment_id": 85450234, "body": "<code>.isNotEmpty()</code> a function of <code>kt</code> ?? or your <code>custom function</code> . PS. i code in java ."}, {"owner": {"reputation": 884, "user_id": 975288, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3sTtZ.jpg?s=128&g=1", "display_name": "Luigi Caradonna", "link": "https://stackoverflow.com/users/975288/luigi-caradonna"}, "edited": false, "score": 0, "creation_date": 1520792339, "post_id": 49223343, "comment_id": 85450361, "body": "It is a kt function which is the equivalent of <code>if( grantResults.size() &gt; 0)</code>"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1520794090, "post_id": 49223343, "comment_id": 85450922, "body": "where did you put the first debug dot ?? is it on checkSelfPermission??"}, {"owner": {"reputation": 884, "user_id": 975288, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3sTtZ.jpg?s=128&g=1", "display_name": "Luigi Caradonna", "link": "https://stackoverflow.com/users/975288/luigi-caradonna"}, "edited": false, "score": 0, "creation_date": 1520794221, "post_id": 49223343, "comment_id": 85450958, "body": "I put all the log inside onRequestPermissionsResult()"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1520794412, "post_id": 49223343, "comment_id": 85451039, "body": "debug using red dots..you can understand the flow correctly..!!"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1520794550, "post_id": 49223343, "comment_id": 85451095, "body": "<code>ActivityCompat.checkSelfPermission</code> this doesnt trigger onRequestPermissionsResult ."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9955886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9gIDy.png?s=128&g=1", "display_name": "Ryohei Nagao", "link": "https://stackoverflow.com/users/9955886/ryohei-nagao"}, "is_accepted": false, "score": 1, "last_activity_date": 1529320419, "creation_date": 1529320419, "answer_id": 50908206, "question_id": 49223343, "link": "https://stackoverflow.com/questions/49223343/asking-for-location-permission-grantresults-is-empty/50908206#50908206", "title": "Asking for location permission, grantResults is empty", "body": "<p>I think that your permission request is canceled with some reason.</p>\n\n<blockquote>\n  <p>// If request is cancelled, the result arrays are empty.\n  <a href=\"https://developer.android.com/training/permissions/requesting#handle-response\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting#handle-response</a></p>\n</blockquote>\n"}], "owner": {"reputation": 884, "user_id": 975288, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3sTtZ.jpg?s=128&g=1", "display_name": "Luigi Caradonna", "link": "https://stackoverflow.com/users/975288/luigi-caradonna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2088, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1529320419, "creation_date": 1520791584, "last_edit_date": 1520793638, "question_id": 49223343, "link": "https://stackoverflow.com/questions/49223343/asking-for-location-permission-grantresults-is-empty", "title": "Asking for location permission, grantResults is empty", "body": "<p>I'm having some trouble asking for the location permission. The activity extends AppCompatActivity</p>\n\n<p>This is the request</p>\n\n<pre><code>if (ActivityCompat.checkSelfPermission(this,\n    android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n    ActivityCompat.requestPermissions(this,\n    arrayOf(android.Manifest.permission.ACCESS_FINE_LOCATION), LOCATION_PERMISSION_RC)\n\n    return\n}\n</code></pre>\n\n<p>And this is how I check the response</p>\n\n<pre><code>override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n    if (requestCode == LOCATION_PERMISSION_RC) {\n        if (grantResults.isNotEmpty()) {\n            if ( grantResults[0] == PackageManager.PERMISSION_GRANTED ) {\n                // permission was granted\n                Toast.makeText(this, \"Permission granted\", Toast.LENGTH_LONG).show()\n                setUpMap()\n                startLocationUpdates()\n            } else {\n                Toast.makeText(this, \"Permission denied\", Toast.LENGTH_LONG).show()\n            }\n        } else {\n            Toast.makeText(this, \"grantResults is empty\", Toast.LENGTH_LONG).show()\n        }\n    }\n}\n</code></pre>\n\n<p>What happens is that if I grant the permission, the app shows the toast message where it says that grantArray is empty, but the permission has been actually granted, I can use MyLocation layer.</p>\n\n<p>According to the <a href=\"https://developer.android.com/reference/android/support/v4/app/ActivityCompat.OnRequestPermissionsResultCallback.html#onRequestPermissionsResult(int,%20java.lang.String[],%20int[])\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p><code>grantResults</code> - <code>int</code>: The grant results for the corresponding permissions which is either <code>PERMISSION_GRANTED</code> or <code>PERMISSION_DENIED</code>. Never <code>null</code>.</p>\n</blockquote>\n\n<p>while I get an empty array.</p>\n\n<p>This is not really a problem since it would be enough to remove the toast, but I want to understand why that happens and how to fix this behaviour.</p>\n\n<p>EDIT:</p>\n\n<p>I've put some more debugging lines, a log message inside each <code>if</code> statement and one as first instruction inside <code>onRequestPermissionsResult()</code>, I've found out that as the activity containing the map is started, <code>onRequestPermissionsResult()</code> is called and <code>grantResults</code> is empty, as it should because I've not yet granted or denied the permission. Now as I tap on <code>Allow</code> the function <code>onRequestPermissionsResult()</code> is called a second time and in this case the message <code>Permission granted</code> is shown.</p>\n\n<p>The new doubt is: is it normal that the function <code>onRequestPermissionsResult()</code> is called just as the activity starts? Does <code>ActivityCompat.checkSelfPermission()</code> fires <code>onRequestPermissionsResult()</code> checking for the permission?</p>\n"}, {"tags": ["kotlin", "rx-java", "nosuchelementexception", "retrywhen"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1520789525, "post_id": 49222916, "comment_id": 85449463, "body": "The problem is <code>take(1)</code> in the retry handler logic, which will complete the inner retry sequence and that can complete the outer sequence. What were you trying to do with the first error?"}, {"owner": {"reputation": 381, "user_id": 2686600, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/809e5d635995b55b7a97ec42f02a500d?s=128&d=identicon&r=PG&f=1", "display_name": "Android Ninja", "link": "https://stackoverflow.com/users/2686600/android-ninja"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1520791485, "post_id": 49222916, "comment_id": 85450083, "body": "I was hoping to take the first error and then check to see if this is valid, then retry. I want to retry only once."}, {"owner": {"reputation": 381, "user_id": 2686600, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/809e5d635995b55b7a97ec42f02a500d?s=128&d=identicon&r=PG&f=1", "display_name": "Android Ninja", "link": "https://stackoverflow.com/users/2686600/android-ninja"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1520791941, "post_id": 49222916, "comment_id": 85450211, "body": "Is there a way to get it to pass with take(1)? @akarnokd"}], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": false, "score": 1, "last_activity_date": 1520849804, "creation_date": 1520849804, "answer_id": 49232763, "question_id": 49222916, "link": "https://stackoverflow.com/questions/49222916/how-to-test-retrywhen/49232763#49232763", "title": "How to test RetryWhen", "body": "<p>Looks like you actually want to implement a fallback mechanism in case the first source fails. You can just use <code>onErrorResumeNext</code>:</p>\n\n<pre><code>getItemHelper(id)\n.onErrorResumeNext({ error -&gt; \n    if (error is NotFoundException) {\n        return getItemFromServer(id)\n    }\n    return Single.error(error)\n})\n.subscribeOn(Schedulers.io())\n.test()\n.awaitTerminalEvent()\n.assertNoErrors()\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 2686600, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/809e5d635995b55b7a97ec42f02a500d?s=128&d=identicon&r=PG&f=1", "display_name": "Android Ninja", "link": "https://stackoverflow.com/users/2686600/android-ninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520849804, "creation_date": 1520789090, "last_edit_date": 1520794192, "question_id": 49222916, "link": "https://stackoverflow.com/questions/49222916/how-to-test-retrywhen", "title": "How to test RetryWhen", "body": "<p>I have a test for my retryWhen block. It works properly when tested using the emulator. I also have a test that checks that retry passes. However, sometimes my test fail. I tried using Scheduler.immediate. However, this also makes the test fail. </p>\n\n<pre><code>open fun getItem(id: String): Single&lt;Item&gt; {\n    return getItemHelper(id)\n            .retryWhen { errors -&gt;\n                errors.take(1)\n                        .filter { it is NotFoundException }\n                        .flatMap { _ -&gt;\n                            getItemFromServer(id)\n                                    .andThen(Observable.just(true))\n                        }\n            }.subscribeOn(Schedulers.io())\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>fun getListOfItem_Retry {\n    val objectUnderTest = item[2]\n    val testSubscriber : AssertableSubscriber&lt;Item&gt; = actions.getItem(objectUnderTest.id).test()\n    testSubscriber.awaitTerminalEvent()\n\n    testSubscriber.assertNoErrors();\n    assertTrue(getCalls == 2)\n}\n</code></pre>\n\n<p>In setup, I have</p>\n\n<pre><code>RxJavaHooks.reset()\nRxJavaHooks.setOnIOScheduler({ _ -&gt; Schedulers.immediate()})\n</code></pre>\n\n<p>And teardown, I have: </p>\n\n<pre><code>RxJavaHooks.reset()\n</code></pre>\n\n<p>When I remove the hooks, it passes. However, occasionally, the tests fail. How can I get the test to be stable? </p>\n\n<p>Also, I am getting a no Observable Emitted NoSuchElementException</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "is_accepted": true, "score": 1, "last_activity_date": 1520787371, "creation_date": 1520787371, "answer_id": 49222580, "question_id": 49222349, "link": "https://stackoverflow.com/questions/49222349/lambda-passed-into-a-dialogfragment-doesnt-execute-after-orientation-change/49222580#49222580", "title": "Lambda passed into a DialogFragment doesn&#39;t execute after orientation change", "body": "<p>Since view is detroyed when orientation changed your dialog view is recreated and so lose any listener added to it. You need to add back listener when you activity/fragment container start</p>\n\n<pre><code>override fun onSart()\n{\n    super.onSart()\n\n    val fragment = fragmentManager.findFragmentByTag(\"tag\")\n    fragment?.addListener...\n}\n</code></pre>\n\n<p>This is a quick fix but a better implementation is to use <code>targetFragment</code> from <code>Fragment</code> class which serve the purpose to send data back to the caller if it's a fragment.\nWhen creating your dialog fill dialog <code>targetFragment</code> with your fragment caller instance, then when your done with your dialog (when you click ok for example) from your dialog call</p>\n\n<pre><code>targetFragment.onActivityResult(0 , Activity.RESULT_OK, yourData)\n</code></pre>\n\n<p>then from your fragment call override <code>onActivityResult</code></p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?)\n{\n    week_view_pager.currentItem += week.weeksBetween(weekPagerAdapter.displayedWeek)\n}\n</code></pre>\n\n<p>Doing this way you don't have to care about state lost/orientation change/etc... everything works as expected and it looks cleaner than checking if your dialog has been restored from <code>onStart</code> method.</p>\n"}], "owner": {"reputation": 93, "user_id": 6515736, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BgbFL.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/6515736/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 49222580, "answer_count": 1, "score": 0, "last_activity_date": 1520787371, "creation_date": 1520786152, "question_id": 49222349, "link": "https://stackoverflow.com/questions/49222349/lambda-passed-into-a-dialogfragment-doesnt-execute-after-orientation-change", "title": "Lambda passed into a DialogFragment doesn&#39;t execute after orientation change", "body": "<p>I have this code inside <code>onCreate</code> inside an activity:</p>\n\n<pre><code>        week_info.setOnClickListener { v -&gt;\n        ChangeWeekDialogFragment.newInstance(weekPagerAdapter.displayedWeek) { week -&gt;\n            week_view_pager.currentItem += week.weeksBetween(weekPagerAdapter.displayedWeek)\n        }.show(supportFragmentManager, \"ChangeWeekDialogFragment\")\n    }\n</code></pre>\n\n<p>The lambda passed into the <code>newInstance</code> function executes when a new week is set inside the <code>ChangeWeekDialogFragment</code>.</p>\n\n<p>The problem is that whenever there's an orientation change while the <code>ChangeWeekDialogFragment</code> is shown and then I change the week, it's as if the line inside the lambda expression wasn't called because the ViewPager doesn't change its displayed item. What's strange though, is that the line <code>week_view_pager.currentItem += week.weeksBetween(weekPagerAdapter.displayedWeek)</code> actually gets called when I set a breakpoint on it.</p>\n\n<p>With no orientation change while the <code>ChangeWeekDialogFragment</code> is opened, everything works as you'd expect.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "permissions", "kotlin", "apk"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9138766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e30b180176608c0283c1d1d4d9db27?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9138766/denis"}, "edited": false, "score": 0, "creation_date": 1520784242, "post_id": 49221633, "comment_id": 85447582, "body": "Thanks a lot. sometimes everything is easier than it seems"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 1, "last_activity_date": 1520781948, "creation_date": 1520781948, "answer_id": 49221633, "question_id": 49221593, "link": "https://stackoverflow.com/questions/49221593/install-a-downloaded-apk/49221633#49221633", "title": "Install a downloaded apk", "body": "<p>You are passing a <code>File</code> pointing to <a href=\"https://commonsware.com/blog/2017/11/13/storage-situation-internal-storage.html\" rel=\"nofollow noreferrer\">internal storage</a>. Third-party apps, such as the package installer, have no rights to this location. Download the APK to <a href=\"https://commonsware.com/blog/2017/11/14/storage-situation-external-storage.html\" rel=\"nofollow noreferrer\">external storage</a> on older devices.</p>\n"}], "owner": {"reputation": 33, "user_id": 9138766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e30b180176608c0283c1d1d4d9db27?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9138766/denis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 1, "accepted_answer_id": 49221633, "answer_count": 1, "score": 1, "last_activity_date": 1520781948, "creation_date": 1520781728, "question_id": 49221593, "link": "https://stackoverflow.com/questions/49221593/install-a-downloaded-apk", "title": "Install a downloaded apk", "body": "<p>Android 6.0.1 (API 23)</p>\n\n<p>Try to add autoupdate to my app and get strange thing: </p>\n\n<ol>\n<li><p>Download file into </p>\n\n<pre><code>val fileDownloaded = File(context.filesDir, \"update.apk\")\n</code></pre></li>\n<li><p>Then try to install the apk with intent</p>\n\n<pre><code>val intent = Intent(Intent.ACTION_VIEW, fileUri)\nintent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, true)\nintent.setDataAndType(fileUri, \"application/vnd.android.package-archive\")\nintent.flags = Intent.FLAG_ACTIVITY_CLEAR_TASK or \n        Intent.FLAG_ACTIVITY_NEW_TASK\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n        startActivity(intent)\n</code></pre></li>\n<li><p>Manifest's permissions</p>\n\n<pre><code> android.permission.INTERNET\n android.permission.WRITE_EXTERNAL_STORAGE\n android.permission.READ_EXTERNAL_STORAGE\n android.permission.REQUEST_INSTALL_PACKAGES\n</code></pre></li>\n<li><p>Have the error \"There was a problem parsing the package\" and logcat messages:</p></li>\n</ol>\n\n<p>Unable to open '/data/user/0/com.testapp.android.demo/files/update.apk': <strong>Permission denied</strong>\n03-11 12:52:18.815 3330-3330/com.android.packageinstaller W/zipro: Error opening archive /data/user/0/com.testapp.android.demo/files/update.apk: I/O Error\n03-11 12:52:18.815 3330-3330/com.android.packageinstaller D/asset: failed to open Zip archive '/data/user/0/com.testapp.android.demo/files/update.apk'\n03-11 12:52:18.815 3330-3330/com.android.packageinstaller W/PackageInstaller: Parse error when parsing manifest. Discontinuing installation</p>\n\n<p>Can't get what permissions i must have... </p>\n\n<p>On android API >=24, through FileProvider, all works well. The problem is only on a device with lower api</p>\n\n<p>Could anyone give me idea what is wrong and how fix it. </p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-spinner", "android-8.1-oreo"], "owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520779329, "creation_date": 1520778491, "last_edit_date": 1520779329, "question_id": 49221083, "link": "https://stackoverflow.com/questions/49221083/android-model-bound-spinner-resets-to-first-value-in-its-entry-list", "title": "Android: Model bound Spinner resets to first value in its entry list", "body": "<p>I use Androids binding to populate my Spinner and set the selected item in the model. This works fine so far. But when I load a model with previously set Spinner value it gets always set to the first item in the Spinners list.</p>\n\n<p>This is the Spinners excerpt from the layout file:</p>\n\n<pre><code>&lt;Spinner\n    android:id=\"@+id/typeSpinner\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"@dimen/spinner_height\"\n    android:layout_marginEnd=\"16dp\"\n    android:entries=\"@{obj.CREATOR.TYPES}\"\n    android:selectedItemPosition=\"@={obj.toInt(obj.type)}\"/&gt;\n</code></pre>\n\n<p>And the conversion methods used for the binding:</p>\n\n<pre><code>@InverseMethod(\"toPhoneType\")\nfun toInt(@TYPE phoneType: String): Int {\n    return TYPES.indexOf(phoneType)\n}\n\nfun toPhoneType(@TYPE ordinal: Int): String {\n    return TYPES[ordinal]\n}\n</code></pre>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/40575112/android-spinner-setting-selection-with-2-way-binding\">this</a> old post, but the (accepted) solution already applies to my code. </p>\n"}, {"tags": ["android", "push-notification", "kotlin", "android-service"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1520779219, "post_id": 49221067, "comment_id": 85445879, "body": "is this code from activity or ...?"}, {"owner": {"reputation": 133, "user_id": 6438959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10207950424573131/picture?type=large", "display_name": "Roy Oknin", "link": "https://stackoverflow.com/users/6438959/roy-oknin"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520786204, "post_id": 49221067, "comment_id": 85448232, "body": "this is from fragment"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 21, "last_activity_date": 1520783034, "creation_date": 1520783034, "answer_id": 49221837, "question_id": 49221067, "link": "https://stackoverflow.com/questions/49221067/error-getsystemservise-unresolved-reference-kotlin-android-studio/49221837#49221837", "title": "error: getSystemServise unresolved reference - kotlin android studio", "body": "<p>I assume your code is inside a <code>Fragment</code> and that's why you reference <code>this.activity</code> in it multiple times. As <a href=\"https://developer.android.com/reference/android/content/Context.html#getSystemService(java.lang.String)\" rel=\"noreferrer\"><code>getSystemService()</code></a> is a method on the <a href=\"https://developer.android.com/reference/android/content/Context.html\" rel=\"noreferrer\"><code>Context</code></a> class, you need a <code>Context</code> instance to call it on. You can get one by either using <a href=\"https://developer.android.com/reference/android/support/v4/app/Fragment.html#getContext()\" rel=\"noreferrer\"><code>getContext()</code></a> or alternatively, the <a href=\"https://developer.android.com/reference/android/support/v4/app/Fragment.html#getActivity()\" rel=\"noreferrer\"><code>getActivity()</code></a> which you've already been using (since an <a href=\"https://developer.android.com/reference/android/app/Activity.html\" rel=\"noreferrer\"><code>Activity</code></a> is also a <code>Context</code>). </p>\n\n<p>With Kotlin's property access syntax, this would look something like:</p>\n\n<pre><code>// either of these\nthis.activity.getSystemService(...)\nthis.context.getSystemService(...)\n</code></pre>\n\n<p>Or even just:</p>\n\n<pre><code>// either of these\nactivity.getSystemService(...)\ncontext.getSystemService(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11732433, "user_type": "registered", "profile_image": "https://graph.facebook.com/2393827674014505/picture?type=large", "display_name": "Aagam Shah", "link": "https://stackoverflow.com/users/11732433/aagam-shah"}, "is_accepted": false, "score": 2, "last_activity_date": 1584341058, "last_edit_date": 1584341058, "creation_date": 1584339514, "answer_id": 60701181, "question_id": 49221067, "link": "https://stackoverflow.com/questions/49221067/error-getsystemservise-unresolved-reference-kotlin-android-studio/60701181#60701181", "title": "error: getSystemServise unresolved reference - kotlin android studio", "body": "<p>I was also facing the same issue.<br>\nI got the partial solution with the previous answers, but there is one more thing that you have to mention, i.e. that the variable is <em>nullable</em> or not and put the operators accordingly:  </p>\n\n<pre><code>val downloadManager = context?.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager?\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 6438959, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10207950424573131/picture?type=large", "display_name": "Roy Oknin", "link": "https://stackoverflow.com/users/6438959/roy-oknin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7676, "favorite_count": 4, "accepted_answer_id": 49221837, "answer_count": 2, "score": 9, "last_activity_date": 1584341058, "creation_date": 1520778438, "last_edit_date": 1520783163, "question_id": 49221067, "link": "https://stackoverflow.com/questions/49221067/error-getsystemservise-unresolved-reference-kotlin-android-studio", "title": "error: getSystemServise unresolved reference - kotlin android studio", "body": "<p>hay im new in kotlin and i try to push notification in my app.\nUnfortunately I'm having this error: \"getSystemServise unresolved reference\"\nthis is my code:</p>\n\n<pre><code>        val intent = Intent()\n        val pendingIntent = PendingIntent.getActivity(this.activity,0,intent,0)\n        val notification = Notification.Builder(this.activity)\n                .setContentTitle(\"time is:\")\n                .setContentText(\"text\")\n                .setSmallIcon(R.drawable.notification_icon_background)\n                .setContentIntent(pendingIntent)\n\n        val nm:NotificationManager = getSystemService(Context.NOTIFICATION_SERVICE);\n        nm.notify(0,notification.build())\n</code></pre>\n\n<p>thanks for helpers</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1520776510, "post_id": 49220648, "comment_id": 85444985, "body": "I think it&#39;s still impossible to do that, as you can see <a href=\"https://stackoverflow.com/a/33853233/4778343\">in the comments</a>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1526905917, "post_id": 49220648, "comment_id": 87911117, "body": "Also, if it did work, it would be <code>Array.Companion.invoke()</code>; the companion object doesn&#39;t depend on generic parameters."}], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 5, "last_activity_date": 1520802107, "last_edit_date": 1520802107, "creation_date": 1520778661, "answer_id": 49221110, "question_id": 49220648, "link": "https://stackoverflow.com/questions/49220648/how-can-i-write-extension-methods-for-arrays-companion-objects-in-kotlin/49221110#49221110", "title": "How can I write extension methods for Array&#39;s Companion objects in Kotlin?", "body": "<p>You cannot do this in Kotlin currently. The core problem with adding this here is that <code>kotlin.Array</code> does not currently have a companion object, and you can't add an extension on a companion object that does not exist.</p>\n\n<p>According to <a href=\"https://discuss.kotlinlang.org/t/companion-object-and-function-extension/1921/7\" rel=\"nofollow noreferrer\">this thread</a>, there is no way to add a extension function to a companion object that does not exist, but people are asking for it.</p>\n\n<p>The best answer in that thread I can find is from @yole:</p>\n\n<blockquote>\n  <p>This feature is not on the roadmap for Kotlin 1.2; we haven\u2019t done any planning for subsequent versions yet.</p>\n</blockquote>\n\n<p><strong>Edit</strong>: I found <a href=\"https://youtrack.jetbrains.com/issue/KT-11968\" rel=\"nofollow noreferrer\">KT-11968</a>, which seems to cover this case and has some interest from other people. Perhaps lobby for that to be included in some future release? Note that I found several other issues that seemed to fit this description but were all marked duplicates of <a href=\"https://youtrack.jetbrains.com/issue/KT-11968\" rel=\"nofollow noreferrer\">KT-11968</a>, so I think that's the one to upvote/lobby.</p>\n"}], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 49221110, "answer_count": 1, "score": 3, "last_activity_date": 1526902356, "creation_date": 1520775874, "last_edit_date": 1526902356, "question_id": 49220648, "link": "https://stackoverflow.com/questions/49220648/how-can-i-write-extension-methods-for-arrays-companion-objects-in-kotlin", "title": "How can I write extension methods for Array&#39;s Companion objects in Kotlin?", "body": "<p>As we know (mentioned in <a href=\"https://stackoverflow.com/questions/28210188/static-extension-methods-in-kotlin\">this question</a>, countless people writing the same answer), we can have extension methods for companion objects to make something look like a \"static extension\".</p>\n\n<p>But when I tried this on <code>kotlin.Array</code>, I failed:</p>\n\n<pre><code>operator fun &lt;T&gt; Array&lt;T&gt;.Companion.invoke() {\n}\n</code></pre>\n\n<p>The code above causes this error:</p>\n\n<p><img src=\"https://user-images.githubusercontent.com/16398479/37254119-357d4a2e-2575-11e8-9aa0-65b4032a231d.png\" alt=\"image\"></p>\n\n<p>So does <code>Array</code>s have companion objects? If no, how can I make \"static extension\"s for <code>Array</code>s?</p>\n\n<p>Edit:</p>\n\n<pre><code>inline operator fun &lt;reified T&gt; Array&lt;T&gt;.Companion.invoke() {\n}\n</code></pre>\n\n<p>This code fails, too.</p>\n"}, {"tags": ["dictionary", "kotlin", "initialization"], "answers": [{"comments": [{"owner": {"reputation": 8502, "user_id": 484293, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/70tBc.jpg?s=128&g=1", "display_name": "blubb", "link": "https://stackoverflow.com/users/484293/blubb"}, "edited": false, "score": 0, "creation_date": 1520774754, "post_id": 49220399, "comment_id": 85444488, "body": "Thanks, that&#39;s much better. The <code>zip</code> case becomes even more elegant: <code>a1.zip(a2).toMap()</code>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 8502, "user_id": 484293, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/70tBc.jpg?s=128&g=1", "display_name": "blubb", "link": "https://stackoverflow.com/users/484293/blubb"}, "edited": false, "score": 1, "creation_date": 1520775294, "post_id": 49220399, "comment_id": 85444666, "body": "You could still wrap it into your own Player class, with properties delegating to the external Player class."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 6, "last_activity_date": 1520774242, "creation_date": 1520774242, "answer_id": 49220399, "question_id": 49220261, "link": "https://stackoverflow.com/questions/49220261/is-there-a-more-idiomatic-way-to-initialize-this-map-in-kotlin/49220399#49220399", "title": "Is there a more idiomatic way to initialize this map in Kotlin?", "body": "<pre><code>val pointsByPlayer = players.map { it to 0 }.toMap(mutableMapOf())\n</code></pre>\n\n<p>That said, a better design would probably to simply have a mutable <code>points</code> property in the Player class.</p>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1520857516, "post_id": 49223613, "comment_id": 85473448, "body": "You can also use <code>.toMap</code> on the result of zipping: <code>(a1 zip a2).toMap()</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1520863781, "last_edit_date": 1520863781, "creation_date": 1520793249, "answer_id": 49223613, "question_id": 49220261, "link": "https://stackoverflow.com/questions/49220261/is-there-a-more-idiomatic-way-to-initialize-this-map-in-kotlin/49223613#49223613", "title": "Is there a more idiomatic way to initialize this map in Kotlin?", "body": "<p>The <code>associate</code> function can also help with solving your problem and looks even better imho:</p>\n\n<pre><code>val scores: MutableMap&lt;Player, Int&gt; = players.associate { it to 0 }.toMutableMap()\n</code></pre>\n\n<p>And the zipping is even easier:</p>\n\n<pre><code>val zipped = a1.zip(a2).toMap()\n</code></pre>\n"}], "owner": {"reputation": 8502, "user_id": 484293, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/70tBc.jpg?s=128&g=1", "display_name": "blubb", "link": "https://stackoverflow.com/users/484293/blubb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "accepted_answer_id": 49223613, "answer_count": 2, "score": 5, "last_activity_date": 1520863781, "creation_date": 1520773293, "question_id": 49220261, "link": "https://stackoverflow.com/questions/49220261/is-there-a-more-idiomatic-way-to-initialize-this-map-in-kotlin", "title": "Is there a more idiomatic way to initialize this map in Kotlin?", "body": "<p>I am writing a small game, and part of that is to keep track of player's scores. For this, I have a map initialized as follows:</p>\n\n<pre><code>// given: players: List&lt;Player&gt;\nvar scores: MutableMap&lt;Player, Int&gt; = mutableMapOf(*players.map { it to 0 }.toTypedArray())\n</code></pre>\n\n<p><strong>What bothers me is that i need to use <code>.toTypedArray()</code></strong> on the result of the <code>map { it to 0 }</code> before I can apply the spread operator <code>*</code>. Is there a way to avoid this? The same problem also occurs when creating a map by zipping two arrays: </p>\n\n<pre><code>// does not compile:\nmapOf(*a1.zip(a2))\n\n// works but more verbose:\nmapOf(*a1.zip(a2).toTypedArray())\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "overriding"], "comments": [{"owner": {"reputation": 1491, "user_id": 7485785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UxwoW.jpg?s=128&g=1", "display_name": "Elsunhoty", "link": "https://stackoverflow.com/users/7485785/elsunhoty"}, "edited": false, "score": 2, "creation_date": 1520767596, "post_id": 49219439, "comment_id": 85442568, "body": "it<code>s variable Names  , does it</code>s Matter ?!"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1520768152, "post_id": 49219439, "comment_id": 85442695, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/48008103/inappropriate-names-of-parameter-in-implemented-overrided-methods\">this</a>"}, {"owner": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "reply_to_user": {"reputation": 1491, "user_id": 7485785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UxwoW.jpg?s=128&g=1", "display_name": "Elsunhoty", "link": "https://stackoverflow.com/users/7485785/elsunhoty"}, "edited": false, "score": 1, "creation_date": 1540250309, "post_id": 49219439, "comment_id": 92786889, "body": "@Elsunhoty it REALLY does matter.  If you take a good look at the example <code>onDateSet</code>, you can see that 3 integers mean <b>nothing</b> while meaningful names do tell you precisely what each parameter represents. I&#39;m very curios to find a solution for this, cause I&#39;ve had it bother me for a while! I know some methods used to have good parameter names, and they just tend to stop."}, {"owner": {"reputation": 1491, "user_id": 7485785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UxwoW.jpg?s=128&g=1", "display_name": "Elsunhoty", "link": "https://stackoverflow.com/users/7485785/elsunhoty"}, "edited": false, "score": 0, "creation_date": 1540298008, "post_id": 49219439, "comment_id": 92806219, "body": "Yes , Your are Right"}], "answers": [{"comments": [{"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1540183315, "post_id": 52874342, "comment_id": 92754248, "body": "Yes, the above example also works in my case but when i try to create <b>RecyclerView&#39;s Adapter</b> and override the <b>onCreateViewHolder(p0: ViewGroup, p1: Int)</b> method it still shows incorrect arguments variable names."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1540374560, "post_id": 52874342, "comment_id": 92838212, "body": "thanks for the update :) Hope Android dev team will notice and fix this"}, {"owner": {"reputation": 1061, "user_id": 3048424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rfgvi.jpg?s=128&g=1", "display_name": "MilaDroid", "link": "https://stackoverflow.com/users/3048424/miladroid"}, "edited": false, "score": 0, "creation_date": 1542442924, "post_id": 52874342, "comment_id": 93576978, "body": "Such a great answer!"}, {"owner": {"reputation": 3408, "user_id": 4405246, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-nmMv-nKmVsI/AAAAAAAAAAI/AAAAAAAAAM8/AH3o1QNdTo0/photo.jpg?sz=128", "display_name": "pratham kesarkar", "link": "https://stackoverflow.com/users/4405246/pratham-kesarkar"}, "edited": false, "score": 0, "creation_date": 1548751575, "post_id": 52874342, "comment_id": 95643755, "body": "Thank you for saving my time . I was trying to understand why my <code>FirebaseMessagingService</code> has such weird name on Overriding methods."}], "tags": [], "owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "is_accepted": false, "score": 22, "last_activity_date": 1540362514, "last_edit_date": 1540362514, "creation_date": 1539866615, "answer_id": 52874342, "question_id": 49219439, "link": "https://stackoverflow.com/questions/49219439/incorrect-variable-names-in-overridden-methods/52874342#52874342", "title": "Incorrect variable names in overridden methods", "body": "<p>It is related to the <code>compileSdkVersion</code> which is defined in your <code>build.gradle</code> file. You should install <code>Sources for Android SDK</code> for the API you used as <code>compileSdkVersion</code>. So try to install sources version equal to <code>compileSdkVersion</code> in SDK Manager.</p>\n\n<p>I've set the <code>compileSdkVersion 28</code> in <code>build.gradle</code> file. Here is the result before and after installing sources version 28 (Notice: You should restart AndroidStudio after that):</p>\n\n<p><strong>Before:</strong></p>\n\n<pre><code>val textWatcher = object: TextWatcher {\n\n    override fun afterTextChanged(p0: Editable?) {\n    }\n\n    override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n    }\n\n    override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n    }\n}\n</code></pre>\n\n<p><strong>After:</strong></p>\n\n<pre><code>val textWatcher = object: TextWatcher {\n\n    override fun afterTextChanged(s: Editable?) {\n    }\n\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n    }\n\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2><em>UPDATE: 10/23/2018</em></h2>\n\n<p>The problem about <strong>AppCompat-v28</strong> libraries such as <code>RecyclerView</code> class, comes from their <code>aar</code> artifacts. If you use version 27.1.1 libraries, the issue will gone. It doesn't matter what distribution of version 28 you are using (Such as 28.0.0, 28.0.0-alpha1, 28.0.0-alpha3, 28.0.0-rc1, 28.0.0-rc2, etc.) In all of version 28 distributions, the parameter names for abstract methods are obfuscated.</p>\n\n<pre><code>public abstract static class Adapter&lt;VH extends RecyclerView.ViewHolder&gt; {\n\n    public Adapter() {\n    }\n\n    @NonNull\n    public abstract VH onCreateViewHolder(@NonNull ViewGroup var1, int var2);\n\n    public abstract void onBindViewHolder(@NonNull VH var1, int var2);\n\n    ...\n}\n</code></pre>\n\n<p>So it seems that there is no way to solve, until it would be fixed in the next distributions.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 7429074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaXb4.jpg?s=128&g=1", "display_name": "Chirag Talaviya", "link": "https://stackoverflow.com/users/7429074/chirag-talaviya"}, "is_accepted": false, "score": 5, "last_activity_date": 1540439129, "creation_date": 1540439129, "answer_id": 52981038, "question_id": 49219439, "link": "https://stackoverflow.com/questions/49219439/incorrect-variable-names-in-overridden-methods/52981038#52981038", "title": "Incorrect variable names in overridden methods", "body": "<p>As aminography said, this is because you have not installed sources for <code>compileSdk</code> you are using.\nFor installing sources follow this steps:</p>\n\n<ol>\n<li><p>check your project's compileSdk version.(from app level <code>build.gradle</code> file). As you can see in below image my compileSdk version is 26. So, i have to install sources for platform 26.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/jV8Ni.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jV8Ni.png\" alt=\"enter image description here\"></a></p>\n\n<p>2.\nGo to sdk manager and in SDK Platforms tab check <code>show package details</code> option if not checked. Then install sources for your compileSdk version(In my case it's 26). That's it. Now, you will get appropriate parameters name.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wuUpg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wuUpg.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 340, "user_id": 9474934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fdb795da0f0e3b92cba27a516cab1c?s=128&d=identicon&r=PG&f=1", "display_name": "Saintan", "link": "https://stackoverflow.com/users/9474934/saintan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2326, "favorite_count": 5, "answer_count": 2, "score": 20, "last_activity_date": 1541335411, "creation_date": 1520767408, "last_edit_date": 1541335411, "question_id": 49219439, "link": "https://stackoverflow.com/questions/49219439/incorrect-variable-names-in-overridden-methods", "title": "Incorrect variable names in overridden methods", "body": "<p>When I let Android Studio generate override method it will generate the method with strange parameter names.</p>\n\n<p>For instance according to documentation onCheckedChanged should look like this:</p>\n\n<pre><code>public void onCheckedChanged(CompoundButton buttonView, boolean isChecked){}\n</code></pre>\n\n<p>but i got</p>\n\n<pre><code>public void onCheckedChanged(CompoundButton compoundButton, boolean b){}\n</code></pre>\n\n<p>or onDateSet in DatePickerDialog i got:</p>\n\n<pre><code>onDateSet(DatePicker datePicker, int i, int i1, int i2)\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>onDateSet(DatePicker view, int year, int month, int dayOfMonth)\n</code></pre>\n\n<p>I got Android SDK set up in a project and Sources for Android 27 installed.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1520772658, "post_id": 49219235, "comment_id": 85443930, "body": "Simple googling of the error log lead me to the solution at dagger&#39;s github page. Have tried googling before post a question?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1520865815, "post_id": 49219235, "comment_id": 85479247, "body": "<code>annotationProcessor &#39;com.google.dagger:dagger-compiler:2.14&#39; kapt &#39;com.google.dagger:dagger-compiler:2.14&#39;</code> O_O why both?"}], "answers": [{"tags": [], "owner": {"reputation": 4293, "user_id": 4069913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/100007329305829/picture?type=large", "display_name": "Orest Savchak", "link": "https://stackoverflow.com/users/4069913/orest-savchak"}, "is_accepted": false, "score": 0, "last_activity_date": 1520766204, "creation_date": 1520766204, "answer_id": 49219266, "question_id": 49219235, "link": "https://stackoverflow.com/questions/49219235/android-dagger-2-using-kotlin-weird-error/49219266#49219266", "title": "Android Dagger 2 using Kotlin, weird error", "body": "<p>That's <a href=\"https://github.com/google/dagger/issues/994\" rel=\"nofollow noreferrer\">a known issue</a>. Update to <code>2.14.1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 7, "last_activity_date": 1520766293, "creation_date": 1520766293, "answer_id": 49219279, "question_id": 49219235, "link": "https://stackoverflow.com/questions/49219235/android-dagger-2-using-kotlin-weird-error/49219279#49219279", "title": "Android Dagger 2 using Kotlin, weird error", "body": "<p>It's a <a href=\"https://github.com/google/dagger/issues/994\" rel=\"noreferrer\">known (and fixed) issue</a> in Dagger 2.14. It was fixed in 2.14.1, so that's the lowest version you should update to. The newest version is <a href=\"https://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.google.dagger%22%20AND%20a%3A%22dagger-android%22\" rel=\"noreferrer\">2.15</a>, so you should update to that one</p>\n"}], "owner": {"reputation": 443, "user_id": 6776492, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/67f6fd03cffb25183c64b13dae39d7f1?s=128&d=identicon&r=PG&f=1", "display_name": "trOnk12", "link": "https://stackoverflow.com/users/6776492/tronk12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1377, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1520767490, "creation_date": 1520765980, "question_id": 49219235, "link": "https://stackoverflow.com/questions/49219235/android-dagger-2-using-kotlin-weird-error", "title": "Android Dagger 2 using Kotlin, weird error", "body": "<p>It's me again I tried the suggestion from my previous post to use Kotlin for the whole project .</p>\n\n<p>When building with gradle I got no errors, but when I try to compile the project I got . I tried to search for some answers online but couldnt not find anything. Anyone has an idea what it could be ? </p>\n\n<pre><code>&gt; e: [kapt] An exception occurred: java.lang.NoClassDefFoundError:\n&gt; com/google/auto/common/MoreTypes  at\n&gt; dagger.model.Key$Builder.type(Key.java:111)   at\n&gt; dagger.model.Key.builder(Key.java:102)    at\n&gt; dagger.internal.codegen.KeyFactory.forInjectConstructorWithResolvedType(KeyFactory.java:253)\n&gt;   at\n&gt; dagger.internal.codegen.InjectBindingRegistryImpl.tryRegisterMembersInjectedType(InjectBindingRegistryImpl.java:266)\n&gt;   at\n&gt; dagger.internal.codegen.InjectBindingRegistryImpl.tryRegisterMembersInjectedType(InjectBindingRegistryImpl.java:257)\n&gt;   at\n&gt; dagger.internal.codegen.InjectProcessingStep$1.visitVariableAsField(InjectProcessingStep.java:69)\n&gt;   at\n&gt; dagger.internal.codegen.InjectProcessingStep$1.visitVariableAsField(InjectProcessingStep.java:59)\n&gt;   at\n&gt; javax.lang.model.util.ElementKindVisitor6.visitVariable(ElementKindVisitor6.java:229)\n&gt;   at com.sun.tools.javac.code.Symbol$VarSymbol.accept(Symbol.java:1237)\n&gt;   at\n&gt; dagger.internal.codegen.InjectProcessingStep.process(InjectProcessingStep.java:58)\n&gt;   at\n&gt; dagger.shaded.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:330)\n&gt;   at\n&gt; dagger.shaded.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:181)\n&gt;   at\n&gt; org.jetbrains.kotlin.kapt3.ProcessorWrapper.process(annotationProcessing.kt:133)\n&gt;   at\n&gt; com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n&gt;   at\n&gt; com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n&gt;   at\n&gt; com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n&gt;   at\n&gt; com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n&gt;   at\n&gt; com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n&gt;   at\n&gt; com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n&gt;   at\n&gt; com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n&gt;   at\n&gt; org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:89)\n&gt;   at\n&gt; org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:46)\n&gt;   at\n&gt; org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:226)\n&gt;   at\n&gt; org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:181)\n&gt;   at\n&gt; org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:93)   at\n&gt; org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:97)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:107)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:84)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:374)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:64)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:101)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:365)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:130)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:108)\n&gt;   at\n&gt; org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\n&gt;   at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)  at\n&gt; org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:395)\n&gt;   at\n&gt; org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:97)\n&gt;   at\n&gt; org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:909)\n&gt;   at\n&gt; org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:97)\n&gt;   at\n&gt; org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n&gt;   at\n&gt; org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:939)\n&gt;   at\n&gt; org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:908)\n&gt;   at\n&gt; org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:394)\n&gt;   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n&gt;   at\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n&gt;   at java.lang.reflect.Method.invoke(Method.java:498)     at\n&gt; sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n&gt;   at sun.rmi.transport.Transport$1.run(Transport.java:200)    at\n&gt; sun.rmi.transport.Transport$1.run(Transport.java:197)     at\n&gt; java.security.AccessController.doPrivileged(Native Method)    at\n&gt; sun.rmi.transport.Transport.serviceCall(Transport.java:196)   at\n&gt; sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n&gt;   at\n&gt; sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n&gt;   at\n&gt; sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n&gt;   at java.security.AccessController.doPrivileged(Native Method)   at\n&gt; sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n&gt;   at\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n&gt;   at\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n&gt;   at java.lang.Thread.run(Thread.java:745) Caused by:\n&gt; java.lang.ClassNotFoundException: com.google.auto.common.MoreTypes    at\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:381)    at\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:424)     at\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:357)     ... 63 mor\n</code></pre>\n\n<p>e</p>\n\n<p>Gradle :</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\n android {\ncompileSdkVersion 26\n  defaultConfig {\n    applicationId \"com.example.gebruiker.beertime1\"\n    minSdkVersion 15\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n   \"android.support.test.runner.AndroidJUnitRunner\"\n     }\n    buildTypes {\n       release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), \n'proguard-rules.pro'\n    }\n}\n\n\n     }\n\n   dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\n\nimplementation 'com.google.dagger:dagger-android:2.14'\nkapt 'com.google.dagger:dagger-android-processor:2.14'\n\n\n\nimplementation 'com.google.dagger:dagger:2.14'\nannotationProcessor 'com.google.dagger:dagger-compiler:2.14'\nkapt 'com.google.dagger:dagger-compiler:2.14'\n\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0'\nimplementation 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\n\nimplementation 'com.squareup.retrofit2:retrofit:2.3.0'\nimplementation 'io.reactivex.rxjava2:rxandroid:2.0.2'\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.9'\n\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-\ncore:3.0.1'\nimplementation 'com.android.support:recyclerview-v7:26.1.0'\n }\n</code></pre>\n\n<p>My repository component :</p>\n\n<pre><code>package com.example.gebruiker.beertime1.di;\n\n import com.example.gebruiker.beertime1.MainScreen.MainActivity;\n\n  import javax.inject.Singleton;\n\n  import dagger.Component;\n\n  @Component(modules = NetworkModule.class)\n  public interface RepositoryComponent {\n   void inject(MainActivity mainActivity);\n }\nMy mainactivity component :\n\n@Component(dependencies = RepositoryComponent.class ,modules = \n{AppModule.class,RepositoryModule.class,NetworkModule.class})\n interface MainActivityComponent{\n\nvoid inject(MainActivity mainActivity);\n\n }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1520769058, "creation_date": 1520769058, "answer_id": 49219678, "question_id": 49218747, "link": "https://stackoverflow.com/questions/49218747/getting-an-error-while-making-notesapp-using-kotlin-in-android-studio-error-and/49219678#49219678", "title": "Getting an error while making NotesApp using kotlin in Android Studio. Error and code is listed below", "body": "<p>You're getting the error because you can't create a <code>ComponentName</code> instance with the code <code>ComponentName()</code> - it doesn't have a constructor that takes no parameters. While it has some other constructors (see <a href=\"https://developer.android.com/reference/android/content/ComponentName.html\" rel=\"nofollow noreferrer\">here</a>), you probably want the <code>ComponentName</code> of the current <code>Activity</code> you're in, which you can get by calling its <a href=\"https://developer.android.com/reference/android/app/Activity.html#getComponentName()\" rel=\"nofollow noreferrer\"><code>getComponentName()</code></a> method, or, since you're writing Kotlin code, accessing its <code>componentName</code> property:</p>\n\n<pre><code>class MainActivity : AppCompatActivity {\n\n    ...\n\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        ...\n        sv.setSearchableInfo(sm.getSearchableInfo(componentName))\n        ...\n     }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 8297175, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M4yl53qRhg8/AAAAAAAAAAI/AAAAAAAAAcQ/yf1zGQTwyio/photo.jpg?sz=128", "display_name": "Ayush Khanna", "link": "https://stackoverflow.com/users/8297175/ayush-khanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 49219678, "answer_count": 1, "score": -4, "last_activity_date": 1520769058, "creation_date": 1520762245, "last_edit_date": 1520762913, "question_id": 49218747, "link": "https://stackoverflow.com/questions/49218747/getting-an-error-while-making-notesapp-using-kotlin-in-android-studio-error-and", "title": "Getting an error while making NotesApp using kotlin in Android Studio. Error and code is listed below", "body": "<p>Error:(44, 52) None of the following functions can be called with the arguments supplied:\npublic constructor ComponentName(p0: Context!, p1: Class&lt;*>!) defined in android.content.ComponentName\npublic constructor ComponentName(p0: Context!, p1: String!) defined in android.content.ComponentName\npublic constructor ComponentName(p0: Parcel!) defined in android.content.ComponentName\npublic constructor ComponentName(p0: String!, p1: String!) defined in android.content.ComponentName</p>\n\n<p>And here is my respective code file where i am getting error </p>\n\n<pre><code>package com.ayush.startup\n\nimport android.app.SearchManager\nimport android.content.ComponentName\nimport android.content.Context\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\nimport android.widget.SearchView\nimport android.widget.Toast\nimport com.ayush.NotesApp.AddNotes\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.ticket.view.*\n\nclass MainActivity : AppCompatActivity()\n{\n\n    var listNotes=ArrayList&lt;Note&gt;()\n    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //Add Dummy Data\n        listNotes.add(Note(1,\"Meet Mr White\",\"Yo Mr white you got some meth huh? why dont sell it and make profits to earn some real bucks and spend it on booze\"))\n        listNotes.add(Note(2,\"Meet Heisenberg\",\"Yo Mr white you got some meth huh? why dont sell it and make profits to earn some real bucks and spend it on booze\"))\n        listNotes.add(Note(3,\"Meet ASAC Shrader\",\"Yo Mr white you got some meth huh? why dont sell it and make profits to earn some real bucks and spend it on booze\"))\n\n        var myNotesAdapter=MyNotesAdapter(listNotes)\n        lvNotes.adapter=myNotesAdapter\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean\n    {\n        menuInflater.inflate(R.menu.main_menu,menu)\n        val sv=menu!!.findItem(R.id.app_bar_search).actionView as SearchView\n        val sm=getSystemService(Context.SEARCH_SERVICE) as SearchManager\n        sv.setSearchableInfo(sm.getSearchableInfo(ComponentName()))\n        sv.setOnQueryTextListener(object : SearchView.OnQueryTextListener\n        {\n            override fun onQueryTextSubmit(query: String): Boolean\n            {\n                Toast.makeText(applicationContext,query,Toast.LENGTH_LONG).show()\n                //TODO: Search database\n                return false\n            }\n            override fun onQueryTextChange(newText: String): Boolean\n            {\n                return false\n            }\n        })\n        return super.onCreateOptionsMenu(menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem?): Boolean\n    {\n        if(item!=null)\n        {\n        when(item.itemId)\n            {\n            R.id.addNote -&gt;\n                {\n                    //got to add page\n                    var intent=Intent(this,AddNotes::class.java)\n                    startActivity(intent)\n                }\n\n            }\n        }\n        return super.onOptionsItemSelected(item)\n    }\n\n    inner class MyNotesAdapter:BaseAdapter\n    {\n        var listNotesAdapter=ArrayList&lt;Note&gt;()\n        constructor(listNotesAdapter:ArrayList&lt;Note&gt;):super()\n        {\n            this.listNotesAdapter=listNotesAdapter\n        }\n\n        override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n            var myView=layoutInflater.inflate(R.layout.ticket,null)\n            var myNote=listNotesAdapter[p0]\n            myView.tvTitle.text=myNote.noteName\n            myView.tvDes.text=myNote.noteDes\n            return myView\n\n        }\n\n        override fun getItem(p0: Int): Any {\n            return listNotesAdapter[p0]\n        }\n\n        override fun getItemId(p0: Int): Long {\n            return p0.toLong()\n        }\noverride fun getCount(): Int {\n            return listNotesAdapter.size\n            //this method will be called first and count how many elements are there and then run getView that no of times\n}}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "flutter"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1520761980, "post_id": 49218395, "comment_id": 85441132, "body": "have you tried casting <code>call.arguments</code> to <code>Map</code>? I&#39;m not sure what&#39;s your question..."}, {"owner": {"reputation": 413, "user_id": 2548653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWadG.jpg?s=128&g=1", "display_name": "Kyoung-june Yi", "link": "https://stackoverflow.com/users/2548653/kyoung-june-yi"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1520765120, "post_id": 49218395, "comment_id": 85441912, "body": "@StefanGolubovi\u0107 Thanks <code>val arguments = call.arguments as java.util.HashMap&lt;String, String&gt;</code> works fine."}], "answers": [{"comments": [{"owner": {"reputation": 5575, "user_id": 1773155, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zVtCo.png?s=128&g=1", "display_name": "Shajeel Afzal", "link": "https://stackoverflow.com/users/1773155/shajeel-afzal"}, "edited": false, "score": 0, "creation_date": 1603929957, "post_id": 57933413, "comment_id": 114195195, "body": "Can you please show the Java Code as well? Any example?"}, {"owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "reply_to_user": {"reputation": 5575, "user_id": 1773155, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zVtCo.png?s=128&g=1", "display_name": "Shajeel Afzal", "link": "https://stackoverflow.com/users/1773155/shajeel-afzal"}, "edited": false, "score": 0, "creation_date": 1603943427, "post_id": 57933413, "comment_id": 114197982, "body": "I don&#39;t have the Java code but if anyone else does feel free to edit this answer or add another answer with it."}], "tags": [], "owner": {"reputation": 358195, "user_id": 3681880, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3b7ad8915f552cd4e23caf38eee10030?s=128&d=identicon&r=PG", "display_name": "Suragch", "link": "https://stackoverflow.com/users/3681880/suragch"}, "is_accepted": true, "score": 15, "last_activity_date": 1568446222, "last_edit_date": 1592644375, "creation_date": 1568446222, "answer_id": 57933413, "question_id": 49218395, "link": "https://stackoverflow.com/questions/49218395/how-to-pass-arguments-from-flutter-to-kotlin/57933413#57933413", "title": "How to pass arguments from Flutter to Kotlin?", "body": "<h3>Flutter</h3>\n<p>On the Flutter side, you can pass arguments by including them as a map in the <code>invokeMethod</code> call.</p>\n<pre><code>_channel.invokeMethod('showToast', {'text': 'hello world'});\n</code></pre>\n<h3>Kotlin</h3>\n<p>On the Kotlin side you can get the parameters by casting <code>call.arguments</code> as a Map or getting a particular argument from <code>call.argument()</code>.</p>\n<pre><code>override fun onMethodCall(call: MethodCall, result: Result) {\n  when (call.method) {\n    &quot;showToast&quot; -&gt; {\n      val text = call.argument&lt;String&gt;(&quot;text&quot;) // hello world\n      showToast(text)\n    }   \n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 2548653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWadG.jpg?s=128&g=1", "display_name": "Kyoung-june Yi", "link": "https://stackoverflow.com/users/2548653/kyoung-june-yi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5188, "favorite_count": 0, "accepted_answer_id": 57933413, "answer_count": 1, "score": 12, "last_activity_date": 1568446222, "creation_date": 1520759414, "last_edit_date": 1520765520, "question_id": 49218395, "link": "https://stackoverflow.com/questions/49218395/how-to-pass-arguments-from-flutter-to-kotlin", "title": "How to pass arguments from Flutter to Kotlin?", "body": "<p>i've got started studying Flutter. I'm trying to using MethodChannel and MethodCall to communicate with Android platform. I don't know how to pass arguments to the Android code. </p>\n\n<p>Below is my code.</p>\n\n<pre><code>// dart\nvoid _onClick() async {\n    var parameters = {'image':'starry night'};\n    await platform.invokeMethod('showToast', new Map.from(parameters));\n}\n\n\n// kotlin\nMethodChannel(flutterView, CHANNEL).setMethodCallHandler { call, result -&gt;\n    Log.d(\"MainActivity\", \"&gt;&gt; ${call.method}, ${call.arguments}\")\n    when (call.method) {\n        \"showToast\" -&gt; {\n        showToast(\"toast\")\n    }\n    else -&gt; {\n        Log.d(\"MainActivity\", \"fail\");\n    }\n}\n</code></pre>\n\n<p>I can check an arguement value what I passed by log message what I printed.\n<code>{image=starry night}</code>\nBut I don't know how to parse to a map object.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1822, "user_id": 2298357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f898eb5594944e5733a0881fd3d30342?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Kant Patel", "link": "https://stackoverflow.com/users/2298357/pankaj-kant-patel"}, "edited": false, "score": 0, "creation_date": 1520755674, "post_id": 49217893, "comment_id": 85439727, "body": "Please post activity class. can you apply theme to whole activity"}], "answers": [{"tags": [], "owner": {"reputation": 2466, "user_id": 3179389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf1Kf.jpg?s=128&g=1", "display_name": "godot", "link": "https://stackoverflow.com/users/3179389/godot"}, "is_accepted": false, "score": 0, "last_activity_date": 1520765913, "last_edit_date": 1520765913, "creation_date": 1520765231, "answer_id": 49219131, "question_id": 49217893, "link": "https://stackoverflow.com/questions/49217893/how-to-apply-button-style-on-runtime-in-android-kotlin/49219131#49219131", "title": "How to apply button style on runtime in android kotlin", "body": "<pre><code>btnOpt4 = rv.findViewById&lt;Button&gt;(R.id.btnOption4)\nbtnOpt4.setTextAppearance(R.style.RedButtonLightTheme)\n</code></pre>\n\n<p>also you can use <code>setBackgroundResource</code> method to change background style of button in runtime:</p>\n\n<pre><code>btnOpt4.setBackgroundResource(R.drawable.some_drawable)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1527060117, "post_id": 50481578, "comment_id": 87977268, "body": "Welcome to StackOverflow! Although this might answer the question, consider supporting your answer with references and links on why/how it will work."}], "tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": 2, "last_activity_date": 1527060231, "last_edit_date": 1527060231, "creation_date": 1527058123, "answer_id": 50481578, "question_id": 49217893, "link": "https://stackoverflow.com/questions/49217893/how-to-apply-button-style-on-runtime-in-android-kotlin/50481578#50481578", "title": "How to apply button style on runtime in android kotlin", "body": "<p>You can directly call by id to button\n <code>( by using apply plugin: 'kotlin-android-extensions')</code> </p>\n\n<p>in your activity and set style by this:</p>\n\n<pre><code> button.setTextAppearance(R.style.AlertDialog_AppCompat)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3393, "user_id": 214143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61025b3df4700620a5d9099293f23a5d?s=128&d=identicon&r=PG", "display_name": "Jason Aller", "link": "https://stackoverflow.com/users/214143/jason-aller"}, "edited": false, "score": 2, "creation_date": 1583337314, "post_id": 60525163, "comment_id": 107083571, "body": "Code only answers can almost always benefit from the addition of some explanation. In this case explain why you think this will fix the problem and where this code should be inserted."}], "tags": [], "owner": {"reputation": 113, "user_id": 6294571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cN1N8ez_kCw/AAAAAAAAAAI/AAAAAAAAAIw/rNVoYBKmmD8/photo.jpg?sz=128", "display_name": "rahul khurana", "link": "https://stackoverflow.com/users/6294571/rahul-khurana"}, "is_accepted": false, "score": 0, "last_activity_date": 1583321788, "creation_date": 1583321788, "answer_id": 60525163, "question_id": 49217893, "link": "https://stackoverflow.com/questions/49217893/how-to-apply-button-style-on-runtime-in-android-kotlin/60525163#60525163", "title": "How to apply button style on runtime in android kotlin", "body": "<p><strong>use below code</strong> </p>\n\n<pre><code>btn.setTextAppearance(this, android.R.style.TextAppearance_DeviceDefault_Medium);\n</code></pre>\n"}], "owner": {"reputation": 2792, "user_id": 2572546, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/Mr9G2.jpg?s=128&g=1", "display_name": "Bharat Chauhan", "link": "https://stackoverflow.com/users/2572546/bharat-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2931, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1583321788, "creation_date": 1520755160, "question_id": 49217893, "link": "https://stackoverflow.com/questions/49217893/how-to-apply-button-style-on-runtime-in-android-kotlin", "title": "How to apply button style on runtime in android kotlin", "body": "<p>How to apply runtime button style in android kotlin?</p>\n\n<p><strong>My Style (themes.xml):</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;style name=\"WhiteButtonLightTheme\" parent=\"ThemeOverlay.AppCompat.Light\"&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorWhite&lt;/item&gt;\n        &lt;item name=\"colorButtonNormal\"&gt;@color/colorWhite&lt;/item&gt;\n        &lt;item name=\"colorControlHighlight\"&gt;@color/colorGray&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"RedButtonLightTheme\" parent=\"ThemeOverlay.AppCompat.Light\"&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorRed&lt;/item&gt;\n        &lt;item name=\"colorButtonNormal\"&gt;@color/colorWhite&lt;/item&gt;\n        &lt;item name=\"colorControlHighlight\"&gt;@color/colorGray&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"GreenButtonLightTheme\" parent=\"ThemeOverlay.AppCompat.Light\"&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorGreen&lt;/item&gt;\n        &lt;item name=\"colorButtonNormal\"&gt;@color/colorWhite&lt;/item&gt;\n        &lt;item name=\"colorControlHighlight\"&gt;@color/colorGray&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p><strong>My Kotlin Code:</strong></p>\n\n<pre><code>var btnOpt4 = Button(con)\nbtnOpt4 = rv.findViewById(R.id.btnOption4) as Button\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 3, "last_activity_date": 1520842334, "creation_date": 1520842334, "answer_id": 49230686, "question_id": 49217668, "link": "https://stackoverflow.com/questions/49217668/shut-down-the-underlying-executor-of-executorcoroutinedispatcher/49230686#49230686", "title": "Shut down the underlying Executor of ExecutorCoroutineDispatcher", "body": "<p>At the moment this is no out-of-the box solution, but you can write your own <code>asCoroutineDispatcher</code> extension to provide such an experience:</p>\n\n<pre><code>abstract class CloseableCoroutineDispatcher : CoroutineDispatcher(), Closeable\n\nfun ExecutorService.asCoroutineDispatcher(): CloseableCoroutineDispatcher =\n    object : CloseableCoroutineDispatcher() {\n        val delegate = (this@asCoroutineDispatcher as Executor).asCoroutineDispatcher()\n        override fun isDispatchNeeded(context: CoroutineContext): Boolean = delegate.isDispatchNeeded(context)\n        override fun dispatch(context: CoroutineContext, block: Runnable) = delegate.dispatch(context, block)\n        override fun close() = shutdown()\n    }\n</code></pre>\n\n<p>This question had lead to the following change request: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/278\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/278</a></p>\n"}], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 753, "favorite_count": 0, "accepted_answer_id": 49230686, "answer_count": 1, "score": 2, "last_activity_date": 1520842334, "creation_date": 1520753113, "question_id": 49217668, "link": "https://stackoverflow.com/questions/49217668/shut-down-the-underlying-executor-of-executorcoroutinedispatcher", "title": "Shut down the underlying Executor of ExecutorCoroutineDispatcher", "body": "<p>I repeatedly find myself writing code as this:</p>\n\n<pre><code>val threadPoolExecutor = Executors.newCachedThreadPool()\nval threadPool = threadPool.asCoroutineDispatcher()\n</code></pre>\n\n<p>What I really need is just the coroutine dispatcher so I can write stuff like</p>\n\n<pre><code>launch(threadPool) { ... }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>withContext(threadPool) { ... }\n</code></pre>\n\n<p>and I need the <code>threadPoolExecutor</code> just to be able to shut it down on cleanup. Is there a way to use the coroutine dispatcher instance to shut it down instead?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 8793, "user_id": 664512, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bPMCs.jpg?s=128&g=1", "display_name": "Varundroid", "link": "https://stackoverflow.com/users/664512/varundroid"}, "edited": false, "score": 0, "creation_date": 1520751444, "post_id": 49217461, "comment_id": 85438858, "body": "Can you share your <code>ProductCodeContract.Model</code> class?"}, {"owner": {"reputation": 8793, "user_id": 664512, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bPMCs.jpg?s=128&g=1", "display_name": "Varundroid", "link": "https://stackoverflow.com/users/664512/varundroid"}, "edited": false, "score": 0, "creation_date": 1520751598, "post_id": 49217461, "comment_id": 85438885, "body": "I mean the code of ProductCodeContract.Model?"}, {"owner": {"reputation": 21, "user_id": 8753942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a347b00b5d1f57c9097f6b87e30ce98e?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Duong", "link": "https://stackoverflow.com/users/8753942/phat-duong"}, "reply_to_user": {"reputation": 8793, "user_id": 664512, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bPMCs.jpg?s=128&g=1", "display_name": "Varundroid", "link": "https://stackoverflow.com/users/664512/varundroid"}, "edited": false, "score": 0, "creation_date": 1520751766, "post_id": 49217461, "comment_id": 85438910, "body": "@Varundroid updated my question"}, {"owner": {"reputation": 8793, "user_id": 664512, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bPMCs.jpg?s=128&g=1", "display_name": "Varundroid", "link": "https://stackoverflow.com/users/664512/varundroid"}, "edited": false, "score": 0, "creation_date": 1520813272, "post_id": 49217461, "comment_id": 85456676, "body": "Can you make your model open and try again?"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1520823715, "post_id": 49217461, "comment_id": 85458794, "body": "What\u2019s the actual error/exception?"}, {"owner": {"reputation": 21, "user_id": 8753942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a347b00b5d1f57c9097f6b87e30ce98e?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Duong", "link": "https://stackoverflow.com/users/8753942/phat-duong"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1520824200, "post_id": 49217461, "comment_id": 85458876, "body": "@Strelok Actual error is <b>Constraint.mRetrofit</b> is <b>null</b> but I didn&#39;t see it"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1520824474, "post_id": 49217461, "comment_id": 85458926, "body": "Well, looks like you have your answer. Need to investigate why that property is null."}, {"owner": {"reputation": 21, "user_id": 8753942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a347b00b5d1f57c9097f6b87e30ce98e?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Duong", "link": "https://stackoverflow.com/users/8753942/phat-duong"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1520824557, "post_id": 49217461, "comment_id": 85458940, "body": "@Strelok thanks guy"}], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": 0, "last_activity_date": 1520842035, "creation_date": 1520842035, "answer_id": 49230607, "question_id": 49217461, "link": "https://stackoverflow.com/questions/49217461/cannot-access-a-method-in-other-class-but-other-one-can/49230607#49230607", "title": "Cannot access a method in other class, but other one can", "body": "<p>Try import nested interface method.</p>\n"}], "owner": {"reputation": 21, "user_id": 8753942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a347b00b5d1f57c9097f6b87e30ce98e?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Duong", "link": "https://stackoverflow.com/users/8753942/phat-duong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520842035, "creation_date": 1520751106, "last_edit_date": 1520752006, "question_id": 49217461, "link": "https://stackoverflow.com/questions/49217461/cannot-access-a-method-in-other-class-but-other-one-can", "title": "Cannot access a method in other class, but other one can", "body": "<p>I have a class with 2 methods, but when I'm debugging I can access  <code>showLog()</code>  method but cannot access <code>editProductCode()</code> method from other class.\nThis is my code:</p>\n\n<pre><code>class ProductCodeModel(private val mView: ProductCodeContract.View) : ProductCodeContract.Model {\n\nfun showLog(){\n    Log.e(\"====\", \"Can access this method\")\n}\n\noverride fun editProductCode(storeId: Int?, departmentId: Int?, name: String?, code: String?, unit: String?, isDynamicReference: Int?, minimumLimit: Float?, isActive: Int?, note: String?) {\n    Constraint.mRetrofit?.create(MaterialService::class.java)\n            ?.editProductCode(storeId, departmentId, name, code, unit, minimumLimit, isDynamicReference, isActive, note)\n            ?.subscribeOn(Schedulers.io())\n            ?.observeOn(AndroidSchedulers.mainThread())\n            ?.subscribeWith(object : DisposableObserver&lt;InventoryResponse&gt;() {\n                override fun onComplete() {\n\n                }\n\n                override fun onNext(response: InventoryResponse) {\n                    if (response.status == Constraint.STATUS_RIGHT)\n                        mView.editProductCodeSuccess(response.inventory)\n                    else {\n                        mView.editProductCodeFailed(response.error?.desc)\n                    }\n                }\n\n                override fun onError(e: Throwable) {\n                    val msg = Resources.getSystem().getString(android.R.string.unknownName)\n                    mView.editProductCodeFailed(msg)\n                }\n            })\n}\n</code></pre>\n\n<p>This is my declaration:</p>\n\n<pre><code>private val mModel = ProductCodeModel(this)\nmModel.showLog() //I can access this method\nmModel.editProductCode(storeId, departmentId, name, code, unit, isDynamicReference, minimumLimit, isActive, note) //I cannot access this method\n</code></pre>\n\n<p><strong>ProductCodeContract class</strong></p>\n\n<pre><code>interface ProductCodeContract {\n\ninterface View {\n    fun getInventoryListSuccess(inventoryList: List&lt;Inventory&gt;?)\n    fun getInventoryListFailed(msg: String?)\n\n    fun createProductCodeSuccess(inventory: Inventory?)\n    fun createProductCodeFailed(msg: String?)\n\n    fun editProductCodeSuccess(inventory: Inventory?)\n    fun editProductCodeFailed(msg: String?)\n}\n\ninterface Model {\n    fun getInventoryList(storeId: Int?, offset: Int?, limit: Int?)\n    fun createProductCode(storeId: Int?, departmentId: Int?, name: String?, code: String?, unit: String?, isDynamicReference: Int?,\n                          minimumLimit: Float?, isActive: Int?, note: String?)\n\n    fun editProductCode(storeId: Int?, departmentId: Int?, name: String?, code: String?, unit: String?, isDynamicReference: Int?,\n                        minimumLimit: Float?, isActive: Int?, note: String?)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Somebody help me...</p>\n"}, {"tags": ["android", "firebase-realtime-database", "android-recyclerview", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1520752642, "post_id": 49217302, "comment_id": 85439084, "body": "Is your <code>addSnapshotListener</code> when there is an update? E.g. if you add some logging in there or set a breakpoint, does it log/trigger when there is an update?"}, {"owner": {"reputation": 521, "user_id": 8209569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f583080cffc9be3d687f3262dcfd143?s=128&d=identicon&r=PG", "display_name": "Niyas", "link": "https://stackoverflow.com/users/8209569/niyas"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1520760377, "post_id": 49217302, "comment_id": 85440801, "body": "But it doesn&#39;t works,  The changes are showns only restarting the app"}, {"owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "edited": false, "score": 0, "creation_date": 1520779953, "post_id": 49217302, "comment_id": 85446119, "body": "@user8209569 that ist what Frank is trying to figure out. It may be that the Listener is not called, the list is not altered correctly or the changes may not be correctly reflected from the list to the view after an update."}, {"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1520835629, "post_id": 49217302, "comment_id": 85461777, "body": "Please post your adapter and the way you are setting the adapter in your <code>RecyclerView</code>."}, {"owner": {"reputation": 11742, "user_id": 5730321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6yX7D.jpg?s=128&g=1", "display_name": "Leo Droidcoder", "link": "https://stackoverflow.com/users/5730321/leo-droidcoder"}, "edited": false, "score": 0, "creation_date": 1610001603, "post_id": 49217302, "comment_id": 115996667, "body": "P.S. You are calling notifyDatasetChanged after each item adding. Move it out of the for loop"}], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "is_accepted": false, "score": 2, "last_activity_date": 1549227821, "last_edit_date": 1549227821, "creation_date": 1520779624, "answer_id": 49221273, "question_id": 49217302, "link": "https://stackoverflow.com/questions/49217302/firestore-realtime-update-is-not-working-on-recyclerview/49221273#49221273", "title": "Firestore realtime update is not working on recyclerview", "body": "<p>I assume that the changes to the Database you refer to are deletions:</p>\n\n<p>In your Code you add new items but don't remove possible deletions. So changing your code to the following should work:</p>\n\n<pre><code>nextQuery.addSnapshotListener({ documentSnapshots, e -&gt;\n    if (!documentSnapshots.isEmpty) {\n        shopList.clear()\n        lastVisible = documentSnapshots.documents[documentSnapshots.size() - 1]\n        for (doc in documentSnapshots) {\n                val shop = doc.toObject(Shop::class.java)\n                shopList.add(shop)\n                mAdapter.notifyDataSetChanged()\n            }\n        }\n})\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 8209569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f583080cffc9be3d687f3262dcfd143?s=128&d=identicon&r=PG", "display_name": "Niyas", "link": "https://stackoverflow.com/users/8209569/niyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2469, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1549227821, "creation_date": 1520749622, "last_edit_date": 1520762569, "question_id": 49217302, "link": "https://stackoverflow.com/questions/49217302/firestore-realtime-update-is-not-working-on-recyclerview", "title": "Firestore realtime update is not working on recyclerview", "body": "<p>I'm using cloud firestore to populate recyclerview.</p>\n\n<p>However, the realtime update is not working, changes are shown after I restarting the app. I also added pagination on recyclerview. Document addition and modification are only shows when restarting the app.</p>\n\n<p>To load my post:</p>\n\n<pre><code>private fun loadMorePost() {\n    val nextQuery = shopsCollection\n            .orderBy(\"timestamp\", Query.Direction.DESCENDING)\n            .startAfter(lastVisible)\n            .limit(3)\n\n    nextQuery.addSnapshotListener({ documentSnapshots, e -&gt;\n        if (!documentSnapshots.isEmpty) {\n\n            lastVisible = documentSnapshots.documents[documentSnapshots.size() - 1]\n            for (doc in documentSnapshots) {\n\n                    val shop = doc.toObject(Shop::class.java)\n                    shopList.add(shop)\n\n                    mAdapter.notifyDataSetChanged()\n\n                }\n            }\n    })\n}\n</code></pre>\n\n<p>onStart():</p>\n\n<pre><code>public override fun onStart() {\n    super.onStart()\n    val user = FirebaseAuth.getInstance().currentUser\n    val isUserFirstTime = java.lang.Boolean.valueOf(Utility.readSharedSetting(applicationContext, Utility.PREF_USER_FIRST_TIME, \"true\"))\n    val introIntent = Intent(this@MainActivity, OnBoardActivity::class.java)\n    introIntent.putExtra(Utility.PREF_USER_FIRST_TIME, isUserFirstTime)\n    if (isUserFirstTime) {\n        startActivity(introIntent)\n        finish()\n    } else if (user == null) {\n        startActivity(Intent(this@MainActivity, WelcomeActivity::class.java))\n        finish()\n    } else if (!isUserFirstTime) {\n        val firstQuery = shopsCollection.orderBy(\"timestamp\", Query.Direction.DESCENDING).limit(3)\n        firstQuery.addSnapshotListener({ documentSnapshots, e -&gt;\n            lastVisible = documentSnapshots.documents[documentSnapshots.size() - 1]\n\n            for (doc in documentSnapshots) {\n                showFabButton()\n                val blogPost = doc.toObject(Shop::class.java)\n                shopList.add(blogPost)\n\n                mAdapter.notifyDataSetChanged()\n              }\n          })\n       }\n    }\n }\n</code></pre>\n"}]