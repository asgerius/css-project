[{"tags": ["android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1550101862, "post_id": 54680713, "comment_id": 96151267, "body": "the article is from 2017 and uses RxJava, today you should be using RxKotlin. See my answer on how to do so. :)"}, {"owner": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 2, "creation_date": 1550157362, "post_id": 54680713, "comment_id": 96174716, "body": "Okay I will make the change as soon as I get home @WilliMentzel"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1550699147, "post_id": 54680713, "comment_id": 96369499, "body": "did it work? :)"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "edited": false, "score": 1, "creation_date": 1550100465, "post_id": 54680987, "comment_id": 96150897, "body": "If I try that, it won&#39;t work. In your example the two Observables are from the same type! Mines aren&#39;t and I think that is the problem, if open curly braces after a comma in the method, it will require me to return a BiFunction&lt;ArrayList&lt;Foo&gt;, ArrayList&lt;Bar&gt;&gt; which is what I don&#39;t know how to speciy"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "edited": false, "score": 1, "creation_date": 1550101069, "post_id": 54680987, "comment_id": 96151042, "body": "@MarcosStival pls use rxKotlin rather than rxJava: <a href=\"https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxkotlin/2.3.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/io.reactivex.rxjava2/rxkotlin/2.3&zwnj;&#8203;.0</a>"}, {"owner": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "edited": false, "score": 2, "creation_date": 1550157293, "post_id": 54680987, "comment_id": 96174674, "body": "Okay, when I get home I will make the change to RxKotlin"}, {"owner": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "edited": false, "score": 1, "creation_date": 1550157343, "post_id": 54680987, "comment_id": 96174704, "body": "Won&#39;t it be too much overhead? There should be an easier way to do what I want instead of using the zip method, right?"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "edited": false, "score": 0, "creation_date": 1550164876, "post_id": 54680987, "comment_id": 96179213, "body": "@MarcosStival it depends. If you want to do it with Rx ...zip would be the best way IMHO :)"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 3, "last_activity_date": 1550101572, "last_edit_date": 1550101572, "creation_date": 1550100229, "answer_id": 54680987, "question_id": 54680713, "link": "https://stackoverflow.com/questions/54680713/how-to-zip-two-observables-in-android/54680987#54680987", "title": "How to zip two Observables in Android?", "body": "<p>For Kotlin you should use <a href=\"https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxkotlin/2.3.0\" rel=\"nofollow noreferrer\">RxKotlin</a> rather than RxJava. <code>BiFunction</code>, <code>Function3</code> come from RxJava. With RxKotlin you can use lambdas instead.</p>\n\n<hr>\n\n<blockquote>\n  <p>As far as I understand how zip() works, I know I have to pass every Observable I want to \"zip\" and then I must specify a function that will compose my final Observable, right?</p>\n</blockquote>\n\n<p>Correct, and here is a minimal example, which demonstrates how to do it.</p>\n\n<p><strong>Example 1</strong></p>\n\n<pre><code>val observable1 = listOf(1, 2, 3).toObservable()\nval observable2 = listOf(4, 5, 6).toObservable()\nval zipped = Observables.zip(observable1, observable2) { o1, o2 -&gt; o1 * o2}\n</code></pre>\n\n<p>In this example you have two observables, each emitting integers. You pass them to <code>zip</code> and as third argument a lambda which defines a way to \"cobmine them\". In this case it multiplies them.</p>\n\n<p>The resulting observable <code>zipped</code> will emit: 4, 10 and 18.</p>\n\n<hr>\n\n<p><strong>Example 2</strong></p>\n\n<p>Here another example zipping three observables which are not all of the same type:</p>\n\n<pre><code>val obs1 = listOf(\"on\", \"tw\", \"thre\").toObservable()\nval obs2 = listOf(\"n\", \"o\", \"e\").toObservable()\nval obs3 = listOf(1, 2, 3).toObservable()\nval zipped = Observables.zip(obs1, obs2, obs3) { o1, o2, o3 -&gt; \n    \"$o1$o2 = $o3\"\n}\n</code></pre>\n\n<p>Here, each element of the resulting observable will be a string: \"one = 1\", \"two = 2\", \"three = 3\"</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "edited": false, "score": 2, "creation_date": 1550156863, "post_id": 54682815, "comment_id": 96174401, "body": "Thanks for your comment, it look like you had to do the exact same thing, as soon as I get home I&#39;ll give it a try. Thanks!"}, {"owner": {"reputation": 1010, "user_id": 4083142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWH3Y.jpg?s=128&g=1", "display_name": "Sharan", "link": "https://stackoverflow.com/users/4083142/sharan"}, "reply_to_user": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "edited": false, "score": 0, "creation_date": 1550216443, "post_id": 54682815, "comment_id": 96195041, "body": "Yes, had to the exact same thing, give it a try and if there something you need to know I&#39;ll help you out. It is MVP architecture. and I&#39;m doing it in the presenter."}], "tags": [], "owner": {"reputation": 1010, "user_id": 4083142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWH3Y.jpg?s=128&g=1", "display_name": "Sharan", "link": "https://stackoverflow.com/users/4083142/sharan"}, "is_accepted": false, "score": 1, "last_activity_date": 1550115077, "creation_date": 1550115077, "answer_id": 54682815, "question_id": 54680713, "link": "https://stackoverflow.com/questions/54680713/how-to-zip-two-observables-in-android/54682815#54682815", "title": "How to zip two Observables in Android?", "body": "<p><strong>Zipping two Observables of different types using BiFunction</strong></p>\n\n<pre><code>override fun getCommoditiesAndAddresses() {\n    view.showProgress()\n    view.hideViews()\n    Observable.zip(Commo24Retrofit.createAuthService(RateAPIService::class.java)\n            .getCommodities(),\n            Commo24Retrofit.createAuthService(RateAPIService::class.java)\n                    .getLocations(GetLocationsRequest(getOrgId())),\n            BiFunction { commodityResponse: GetCommoditiesResponse, locationsResponse: GetLocationsResponse -&gt;\n                handleCommoditiesAndAddresses(commodityResponse, locationsResponse)\n            })\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({\n                view.hideProgress()\n                view.showViews()\n                view.handleCommodities(it?.commodities)\n                view.handleLocations(it?.locations)\n            }, { throwable -&gt;\n                view.hideProgress()\n                view.handleFailure(throwable.getErrorMessage(context))\n            })\n}\n</code></pre>\n\n<p>Look, how I'm handling the response:</p>\n\n<pre><code>private fun handleCommoditiesAndAddresses(commodityResponse: GetCommoditiesResponse, locationsResponse: GetLocationsResponse): CommoditiesAddresses {\n        return CommoditiesAddresses(commodityResponse.commodityList, locationsResponse.addressList)\n    }\n</code></pre>\n\n<p>Here, check the API Service:</p>\n\n<pre><code>interface RateAPIService {\n\n    @POST(\"get-org-address\")\n    fun getLocations(@Body getLocationsRequest: GetLocationsRequest): Observable&lt;GetLocationsResponse&gt;\n\n    @POST(\"get-commodity-list\")\n    fun getCommodities(): Observable&lt;GetCommoditiesResponse&gt;\n    }\n</code></pre>\n\n<p>If you have any doubt you can comment it out.</p>\n"}], "owner": {"reputation": 21, "user_id": 7741936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6iCQo.jpg?s=128&g=1", "display_name": "Marcos Stival", "link": "https://stackoverflow.com/users/7741936/marcos-stival"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1550115077, "creation_date": 1550098568, "last_edit_date": 1550101744, "question_id": 54680713, "link": "https://stackoverflow.com/questions/54680713/how-to-zip-two-observables-in-android", "title": "How to zip two Observables in Android?", "body": "<p>In my app I have two services and both of them have a method that makes a requests and then returns an Observable of different type. </p>\n\n<p>I want to display in a RecyclerView a list composed of the result of combining these two Observables. I googled about this and found the zip() method that seems to do exactly what I want. I'm trying to implement it but I don't know how to do it correctly. </p>\n\n<p>While I was googling, I came up with this <a href=\"https://medium.com/mindorks/how-to-make-complex-requests-simple-with-rxjava-in-kotlin-ccec004c5d10\" rel=\"nofollow noreferrer\">this article</a> which seems to explain it clearly. Even though the author is using Singles while I am using Observables. </p>\n\n<p>As far as I understand how <code>zip()</code> works, I know  I have to pass every Observable I want to \"zip\" and then I must specify a function that will compose my final Observable, right?</p>\n\n<p>This is my code so far: </p>\n\n<pre><code>interface InvitationService {\n    @GET(\"foo/{userId}\")\n    fun getFooByUser(@Path(\"userId\") userId: String): Observable&lt;Response&lt;ArrayList&lt;Foo&gt;&gt;&gt;\n}\n\ninterface InvitationService {\n    @GET(\"bar/{userId}\")\n    fun getBarByUser(@Path(\"userId\") userId: String): Observable&lt;Response&lt;ArrayList&lt;Bar&gt;&gt;&gt;\n}\n\nclass FooRemoteDataSource : FooDataSource {\n    private var apiService: FooService\n\n    fun getFooByUser(userId:String) {\n        return apiService.getFooByUser(userId)\n    }\n}\n\nclass BarRemoteDataSource : BarDataSource {\n    private var apiService: BarService\n\n    fun getBarByUser(userId:String) {\n        return apiService.getBarByUser(userId)\n    }\n\n}\n\nclass FooRepository(private val remoteDataSource: InvitationRemoteDataSource) : FooDataSource {\n\n    override fun getFooByUser(userId: String): Observable&lt;Response&lt;ArrayList&lt;Foo&gt;&gt;&gt; {\n        return remoteDataSource.getFooByUser(userId)\n    }\n}\n\nclass BarRepository(private val remoteDataSource: BarRemoteDataSource) : BarDataSource {\n\n    override fun getBarByUser(userId: String): Observable&lt;Response&lt;ArrayList&lt;Bar&gt;&gt;&gt; {\n        return remoteDataSource.getBarByUser(userId)\n    }\n}\n</code></pre>\n\n<p>And here is where I'm actually stuck: </p>\n\n<pre><code>class ListPresenter(var listFragment: ListContract.View?, \n                        val fooRepository: FooRepository,\n                        val barRepository: BarRepository) : ListContract.Presenter {\n\n    fun start() {\n        loadList()\n    }\n\n    private fun loadLists() {\n        //HERE IS WHERE IM STUCK\n\n        Observable.zip(fooRepository.getFooByUser(userId).subscribeOn(Schedulers.io()),\n                barRepository.getBarByUser(userId).subscribeOn(Schedulers.io()),\n                )\n\n        // AFTER 'ZIPPING' THE OBSERVABLES \n        // I NEED TO UPDATE THE VIEW ACCORDINGLY\n    }\n}\n</code></pre>\n\n<p>I don't know how to call <code>zip()</code> properly, I know that I must pass a function but I don't get it because in the article linked above the author is using a <code>Function3</code> because he has 3 Observables. </p>\n\n<p>As I only have 2, I don't know how to do it. If open curly braces after a comma inside the method args, it requires me to return a <code>BiFunction&lt;ArrayList&lt;Foo&gt;, ArrayList&lt;Bar&gt;&gt;</code> which is what I don't know how to specify. </p>\n\n<p>Would someone explain it to me?</p>\n"}, {"tags": ["java", "android", "kotlin", "adb"], "comments": [{"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1550099711, "post_id": 54680553, "comment_id": 96150680, "body": "From where are you executing this code? From an emulator or from your device?"}, {"owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1550099764, "post_id": 54680553, "comment_id": 96150696, "body": "From my emulator"}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1550099959, "post_id": 54680553, "comment_id": 96150751, "body": "Have you put <code>adb root</code> and restart the emulator? And then <code>adb -e shell</code>?"}, {"owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1550141279, "post_id": 54680553, "comment_id": 96165031, "body": "Yep, it&#39;s not worked"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1550316441, "post_id": 54680553, "comment_id": 96229511, "body": "Do you have <code>x</code> permission on that <code>adb</code>?"}, {"owner": {"reputation": 298, "user_id": 3609059, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/lt1VL.jpg?s=128&g=1", "display_name": "Ashish Jain", "link": "https://stackoverflow.com/users/3609059/ashish-jain"}, "edited": false, "score": 0, "creation_date": 1555999909, "post_id": 54680553, "comment_id": 98278321, "body": "@Strangelove any solution? because I am also getting java.io.IOException: Cannot run program &quot;adb&quot;: error=13, Permission denied"}, {"owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "edited": false, "score": 0, "creation_date": 1556003834, "post_id": 54680553, "comment_id": 98279897, "body": "Still not. I&#39;ve threw it after several attempts"}], "answers": [{"comments": [{"owner": {"reputation": 1235, "user_id": 7184172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3885f009cdf1ed739cc4ccdff7ab0a?s=128&d=identicon&r=PG&f=1", "display_name": "Anubhav Pandey", "link": "https://stackoverflow.com/users/7184172/anubhav-pandey"}, "edited": false, "score": 2, "creation_date": 1578377942, "post_id": 58204195, "comment_id": 105408987, "body": "@ C&#233;dric LE MOING I followed your answer for the command <code>adb shell wm overscan&quot;, &quot;0,0,0,-220</code> but the only thing it did was stop the message of exception of error no 13 from coming, it didn&#39;t execute anything"}], "tags": [], "owner": {"reputation": 121, "user_id": 6538337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2b5a342f8ade17ac2a822f0151432ae?s=128&d=identicon&r=PG&f=1", "display_name": "C&#233;dric LE MOING", "link": "https://stackoverflow.com/users/6538337/c%c3%a9dric-le-moing"}, "is_accepted": false, "score": 12, "last_activity_date": 1570028499, "creation_date": 1570028499, "answer_id": 58204195, "question_id": 54680553, "link": "https://stackoverflow.com/questions/54680553/cannot-run-program-adb-error-13-permission-denied/58204195#58204195", "title": "Cannot run program &quot;adb&quot;: error=13, Permission denied", "body": "<p>adb is a tool you use on your computer, \"adb shell\" opens a shell on the device (or emulator), and \"adb shell command\" runs the command on it.</p>\n\n<p>So if you want to run the command programmatically on the device, just remove \"adb shell\":</p>\n\n<pre><code>Runtime.getRuntime().exec(\"input tap 0 0\")\n</code></pre>\n"}], "owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7058, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1570028499, "creation_date": 1550097529, "last_edit_date": 1550099736, "question_id": 54680553, "link": "https://stackoverflow.com/questions/54680553/cannot-run-program-adb-error-13-permission-denied", "title": "Cannot run program &quot;adb&quot;: error=13, Permission denied", "body": "<p>I have a program, which must execute only one command </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        Runtime.getRuntime().exec(\"adb shell input tap 0 0\")\n    }\n}\n</code></pre>\n\n<p>But I'm getting an error</p>\n\n<pre><code>Process: com.example.tomfo.pokerclicker, PID: 11578\njava.io.IOException: Cannot run program \"adb\": error=13, Permission denied\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1050)\n    at java.lang.Runtime.exec(Runtime.java:695)\n    at java.lang.Runtime.exec(Runtime.java:525)\n    at java.lang.Runtime.exec(Runtime.java:422)\n    at com.example.tomfo.pokerclicker.MainActivity$onCreate$1.run(MainActivity.kt:14)\n    at java.util.TimerThread.mainLoop(Timer.java:562)\n    at java.util.TimerThread.run(Timer.java:512)\n Caused by: java.io.IOException: error=13, Permission denied\n    at java.lang.UNIXProcess.forkAndExec(Native Method)\n    at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:133)\n    at java.lang.ProcessImpl.start(ProcessImpl.java:132)\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n    at java.lang.Runtime.exec(Runtime.java:695)\u00a0\n    at java.lang.Runtime.exec(Runtime.java:525)\u00a0\n    at java.lang.Runtime.exec(Runtime.java:422)\u00a0\n    at com.example.tomfo.pokerclicker.MainActivity$onCreate$1.run(MainActivity.kt:14)\u00a0\n    at java.util.TimerThread.mainLoop(Timer.java:562)\u00a0\n    at java.util.TimerThread.run(Timer.java:512)\u00a0\n</code></pre>\n\n<p>Although I've added adb to path into properties on Windows and can run abd commands throw Android Studio console (but in Android Studio console command is not green). How to solve this problem? This command is working throw Studio console command</p>\n"}, {"tags": ["kotlin", "callback", "vert.x"], "answers": [{"tags": [], "owner": {"reputation": 1678, "user_id": 2104921, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/72b24a8fe326631356faf49ea582010a?s=128&d=identicon&r=PG", "display_name": "u6f6o", "link": "https://stackoverflow.com/users/2104921/u6f6o"}, "is_accepted": true, "score": 0, "last_activity_date": 1550134356, "creation_date": 1550134356, "answer_id": 54686434, "question_id": 54680462, "link": "https://stackoverflow.com/questions/54680462/how-to-be-notified-when-all-futures-in-future-compose-chain-succeeded/54686434#54686434", "title": "How to be notified when all futures in Future.compose chain succeeded?", "body": "<p>The solution that worked for me looks like this: </p>\n\n<pre><code>override fun start(startFuture: Future&lt;Void&gt;) {\n    initializeApplicationConfig().compose {\n        logger.info(\"Application configuration initialized\")\n        initializeScheduledJobs()\n    }.compose {\n        logger.info(\"Scheduled jobs initialized\")\n        initializeRestEndpoints()\n    }.setHandler { ar -&gt;\n        if(ar.succeeded()) {\n            logger.info(\"Http server started\")\n            startFuture.complete()\n        } else {\n            startFuture.fail(ar.cause())\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1678, "user_id": 2104921, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/72b24a8fe326631356faf49ea582010a?s=128&d=identicon&r=PG", "display_name": "u6f6o", "link": "https://stackoverflow.com/users/2104921/u6f6o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 54686434, "answer_count": 1, "score": 0, "last_activity_date": 1550134356, "creation_date": 1550097069, "last_edit_date": 1550133621, "question_id": 54680462, "link": "https://stackoverflow.com/questions/54680462/how-to-be-notified-when-all-futures-in-future-compose-chain-succeeded", "title": "How to be notified when all futures in Future.compose chain succeeded?", "body": "<p>My application (typical REST server that calls other REST services internally) has two main classes to perform the bootstrapping procedure. </p>\n\n<p>There is the <strong>Application.kt class</strong> that is supposed to configure the vertx instance itself and to register certain modules (jackson kotlin integration for example): </p>\n\n<pre><code>class Application(\n    private val profileSetting: String? = System.getenv(\"ACTIVE_PROFILES\"),\n    private val logger: Logger = LoggerFactory.getLogger(Application::class.java)!!\n) {\n\n    fun bootstrap() {\n        val profiles = activeProfiles()\n        val meterRegistry = configureMeters()\n        val vertx = bootstrapVertx(meterRegistry)\n\n        vertx.deployVerticle(ApplicationBootstrapVerticle(profiles)) { startup -&gt;\n            if (startup.succeeded()) {\n                logger.info(\"Application startup finished\")\n            } else {\n                logger.error(\"Application startup failed\", startup.cause())\n                vertx.close()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In addition there is a <strong>ApplicationBootstrapVerticle.kt class</strong> that is supposed to deploy the different verticles in a defined order. Some of them in sequence, some of them in parallel: </p>\n\n<pre><code>class ApplicationBootstrapVerticle(\n    private val profiles: List&lt;String&gt;,\n    private val logger: Logger = LoggerFactory.getLogger(ApplicationBootstrapVerticle::class.java)\n) : AbstractVerticle() {\n\n    override fun start(startFuture: Future&lt;Void&gt;) {\n        initializeApplicationConfig().compose {\n            logger.info(\"Application configuration initialized\")\n            initializeScheduledJobs()\n        }.compose {\n            logger.info(\"Scheduled jobs initialized\")\n            initializeRestEndpoints()\n        }.compose {\n            logger.info(\"Http server started\")\n            startFuture\n        }.setHandler { ar -&gt;\n            if (ar.succeeded()) {\n                startFuture.complete()\n            } else {\n                startFuture.fail(ar.cause())\n            }\n        }\n    }\n\n    private fun initializeApplicationConfig(): Future&lt;String&gt; {\n        return Future.future&lt;String&gt;().also {\n            vertx.deployVerticle(\n                ApplicationConfigVerticle(profiles),\n                it.completer()\n            )\n        }\n    }\n\n    private fun initializeScheduledJobs(): CompositeFuture {\n        val stationsJob = Future.future&lt;String&gt;()\n        val capabilitiesJob = Future.future&lt;String&gt;()\n\n        return CompositeFuture.all(stationsJob, capabilitiesJob).also {\n            vertx.deployVerticle(\n                StationQualitiesVerticle(),\n                stationsJob.completer()\n            )\n            vertx.deployVerticle(\n                VideoCapabilitiesVerticle(),\n                capabilitiesJob.completer()\n            )\n        }\n    }\n\n    private fun initializeRestEndpoints(): Future&lt;String&gt; {\n        return Future.future&lt;String&gt;().also {\n            vertx.deployVerticle(\n                RestEndpointVerticle(dispatcherFactory = RouteDispatcherFactory(vertx)),\n                it.completer()\n            )\n        }\n    }\n}\n</code></pre>\n\n<p>I am not sure if this is the supposed way to bootstrap an application, if there is any. More important though, I am not sure if I understand the Future.compose mechanics correctly. </p>\n\n<p>The application starts up successfully and I see all desired log messages except the </p>\n\n<blockquote>\n  <p>Application startup finished</p>\n</blockquote>\n\n<p>message. Also the following code is never called <strong>in case of successs</strong>: </p>\n\n<pre><code>}.setHandler { ar -&gt;\n    if (ar.succeeded()) {\n       startFuture.complete()\n    } else {\n       startFuture.fail(ar.cause())\n    }\n}\n</code></pre>\n\n<p>In case of an failure though, for example when my application configuration files (yaml) cannot be parsed because there is an unknown field in the <em>destination</em> entity, the log message</p>\n\n<blockquote>\n  <p>Application startup failed</p>\n</blockquote>\n\n<p>appears in the logs and also the code above is invoked. </p>\n\n<p>I am curious what is wrong with my composed futures chain. I thought that the handler would be called after the previous futures succeeded or one of them failed but I think it's only called in case of success. </p>\n\n<p><strong>Update</strong></p>\n\n<p>I suppose that an invocation of <code>startFuture.complete()</code> was missing. By adapting the start method, it finally worked:</p>\n\n<pre><code>override fun start(startFuture: Future&lt;Void&gt;) {\n    initializeApplicationConfig().compose {\n        logger.info(\"Application configuration initialized\")\n        initializeScheduledJobs()\n    }.compose {\n        logger.info(\"Scheduled jobs initialized\")\n        initializeRestEndpoints()\n    }.compose {\n        logger.info(\"Http server started\")\n        startFuture.complete()\n        startFuture\n    }.setHandler(\n        startFuture.completer()\n    )\n}\n</code></pre>\n\n<p>I am not sure though, if this is the supposed way to handle this future chain. </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "edited": false, "score": 0, "creation_date": 1550107089, "post_id": 54680487, "comment_id": 96152632, "body": "I see that the plugin is used by the Kotlin JPA plugins and stuff, but I&#39;m using iBatis which does not have special entity annotations.  Thanks for this."}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1550097472, "last_edit_date": 1550097472, "creation_date": 1550097167, "answer_id": 54680487, "question_id": 54680134, "link": "https://stackoverflow.com/questions/54680134/in-kotlin-how-do-i-have-a-data-class-i-can-use-for-an-entity/54680487#54680487", "title": "In Kotlin, how do I have a data class I can use for an entity", "body": "<p>Use the the no-arg <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">compiler plug-in</a> which creates an empty constructor for you.</p>\n\n<p>In case you use Gradle, add this to your build.gradle file:</p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\"\n    }\n}\n\napply plugin: \"kotlin-noarg\"\n</code></pre>\n\n<hr>\n\n<p>If you don't want to use it, you can do it like this too: You could define a secondary constructor which initializes your properties with default values.</p>\n\n<pre><code>data class Somebody(\n        var id: String,\n        var created: Date\n        // ...\n) {\n    constructor() : this(\n            id = \"\", created = Date(), address1 = \"\" // ...\n    )\n}\n</code></pre>\n\n<p>I would not recommend this though, because if may force you to define arbitrary default values.</p>\n"}], "owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 54680487, "answer_count": 1, "score": 2, "last_activity_date": 1550097742, "creation_date": 1550095299, "question_id": 54680134, "link": "https://stackoverflow.com/questions/54680134/in-kotlin-how-do-i-have-a-data-class-i-can-use-for-an-entity", "title": "In Kotlin, how do I have a data class I can use for an entity", "body": "<p>I have a Kotlin data class:</p>\n\n<pre><code>data class Somebody(var id: String, var created: Date, var address1: String, var address2: String,\n                         var city: String, var county: String, var hitCount: Integer, var lat: Double,\n                         var lon: Double, var lookupSuccessful: Boolean, var name: String,\n                         var neghiborhood: String, var partialMatch: Boolean, var searchedAddress: String,\n                         var state: String, var zip4: String, var zip5: String, var active: Boolean,\n                         var instructions: String, var  maxValue: Integer) {\n\n}\n</code></pre>\n\n<p>Thing is, I need a 0 argument constructor for this class so I can have iBatis or JPA or Jackson or somebody create one.  How do I do this and still have not nullable fields?  </p>\n\n<p>Can I use not nullable fields with a data class and still have a default no-arg constructor?</p>\n"}, {"tags": ["java", "gradle", "kotlin", "gradle-kotlin-dsl", "spek"], "answers": [{"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": -1, "last_activity_date": 1550393650, "creation_date": 1550393650, "answer_id": 54731591, "question_id": 54680106, "link": "https://stackoverflow.com/questions/54680106/run-acceptance-tests-as-a-separate-gradle-task/54731591#54731591", "title": "Run Acceptance tests as a separate Gradle task", "body": "<p>Filter was unnecessary. I just had the <code>acceptanceTest</code> task in the wrong place... After moving to the <code>acceptance</code> module it works as expected.</p>\n"}], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 54731591, "answer_count": 1, "score": 2, "last_activity_date": 1550393650, "creation_date": 1550095193, "last_edit_date": 1550144522, "question_id": 54680106, "link": "https://stackoverflow.com/questions/54680106/run-acceptance-tests-as-a-separate-gradle-task", "title": "Run Acceptance tests as a separate Gradle task", "body": "<p>I am trying to configure <code>Gradle with Kotlin DSL</code> for my project. It consists of two modules. <strong>Module A</strong> is a simple <code>Java 11</code> application. <strong>Module B</strong> cotains the acceptance tests written in <code>Kotlin</code> using <code>Spek</code>.</p>\n\n<p>I would like to configure gradle so that <code>gradle test</code> does not run the acceptance tests and these tests are run only with task <code>gradle acceptanceTest</code>. I tried configuration below with other variations of filters, includes and excludes but with no luck. What am I missing?</p>\n\n<pre><code>tasks.withType&lt;Test&gt; {\n    println(\"always printed: configuration phase test\")\n\n    useJUnitPlatform()\n\n    filter {\n        exclude(\"acceptance.*\")\n    }\n\n    doLast {\n        println(\"only printed if executed: execution phase test\")\n    }\n\n}\n\nval acceptanceTest: Task by tasks.creating(Test::class) {\n    println(\"always printed: configuration phase ac\")\n\n    useJUnitPlatform {\n        includeEngines(\"spek2\")\n    }\n\n    filter {\n        include(\"acceptance.*\")\n    }\n\n    doLast {\n        println(\"only printed if executed: execution phase ac\")\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "ktor", "kotlin-multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 560, "user_id": 1872357, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/88e561feab67a8fe40e5022b38fba09d?s=128&d=identicon&r=PG", "display_name": "CVS", "link": "https://stackoverflow.com/users/1872357/cvs"}, "edited": false, "score": 0, "creation_date": 1599283212, "post_id": 54685123, "comment_id": 112732883, "body": "What is the idiomatic way to wrap this try-catch block? Maybe some kind of inline function?"}, {"owner": {"reputation": 1591, "user_id": 196486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KseKJ.jpg?s=128&g=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/196486/travis"}, "edited": false, "score": 0, "creation_date": 1613770270, "post_id": 54685123, "comment_id": 117188622, "body": "How do you differentiate between a network failure (which you can display to the user but otherwise ignore) vs. errors indicating something is broken (such as deserialization errors when using <code>KotlinxSerializer</code> for responses) and should be sent to crash reporting tool?"}], "tags": [], "owner": {"reputation": 1305, "user_id": 9775278, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hUz4-9mLcbk/AAAAAAAAAAI/AAAAAAAAAe0/DtiqUiPv0Ek/photo.jpg?sz=128", "display_name": "andylamax", "link": "https://stackoverflow.com/users/9775278/andylamax"}, "is_accepted": true, "score": 3, "last_activity_date": 1550129055, "last_edit_date": 1592644375, "creation_date": 1550129055, "answer_id": 54685123, "question_id": 54679592, "link": "https://stackoverflow.com/questions/54679592/handling-exception-in-httpclient-ktor/54685123#54685123", "title": "Handling Exception in HttpClient Ktor", "body": "<p>well after asking here and there, I got help from <a href=\"https://github.com/ktorio/ktor/issues/949\" rel=\"nofollow noreferrer\">github issues</a> and came to this work arround</p>\n<pre><code>try {\n    val response = client.post&lt;HttpResponse&gt;(url) {\n        body = TextContent(&quot;&quot;&quot;{&quot;a&quot;:1,&quot;b&quot;:2}&quot;&quot;&quot;, ContentType.Application.Json)\n    }\n    if (response.status != HttpStatusCode.OK) {\n        logger.error(&quot;Error, this one failed bad?&quot;)\n    }\n} catch (cause: Throwable) {\n    logger.error(&quot;Catch your error here&quot;)\n}\n</code></pre>\n<p>don't confuse to <code>catch (c: Throwable)</code> with <code>catch (e: Exception)</code></p>\n<p>hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 3066319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eIkPF.png?s=128&g=1", "display_name": "HJCee", "link": "https://stackoverflow.com/users/3066319/hjcee"}, "is_accepted": false, "score": 1, "last_activity_date": 1609851744, "last_edit_date": 1609851744, "creation_date": 1609851275, "answer_id": 65579343, "question_id": 54679592, "link": "https://stackoverflow.com/questions/54679592/handling-exception-in-httpclient-ktor/65579343#65579343", "title": "Handling Exception in HttpClient Ktor", "body": "<p>Not adding much to the current answer but in response to CVS's comment I've been using the following to add ktor client error handling in my applications. It makes use of the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-result/\" rel=\"nofollow noreferrer\">Result</a> API. <code>runCatching {}</code> catches all <code>Throwable</code>s and you can tweak the behaviour of the <code>getOrElse</code> block to capture the exceptions you're interested in.</p>\n<pre><code>suspend fun &lt;T&gt; HttpClient.requestAndCatch(\n    block: suspend HttpClient.() -&gt; T,\n    errorHandler: suspend ResponseException.() -&gt; T\n): T = runCatching { block() }\n    .getOrElse {\n        when (it) {\n            is ResponseException -&gt; it.errorHandler()\n            else -&gt; throw it\n        }\n    }\n\n// Example call\nclient.requestAndCatch(\n    { get&lt;String&gt;(&quot;/&quot;) },\n    {\n        when (response.status) {\n            HttpStatusCode.BadRequest -&gt; {} // Throw errors or transform to T \n            HttpStatusCode.Conflict -&gt; {}\n            else -&gt; throw this\n        }\n    }\n)\n</code></pre>\n<p>I'm sure it could be made tidier but it's the best I've come up with so far.</p>\n"}], "owner": {"reputation": 1305, "user_id": 9775278, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hUz4-9mLcbk/AAAAAAAAAAI/AAAAAAAAAe0/DtiqUiPv0Ek/photo.jpg?sz=128", "display_name": "andylamax", "link": "https://stackoverflow.com/users/9775278/andylamax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3499, "favorite_count": 0, "accepted_answer_id": 54685123, "answer_count": 2, "score": 1, "last_activity_date": 1609851744, "creation_date": 1550092808, "question_id": 54679592, "link": "https://stackoverflow.com/questions/54679592/handling-exception-in-httpclient-ktor", "title": "Handling Exception in HttpClient Ktor", "body": "<p>I have written a common code in a common module as below and tested in JS environment </p>\n\n<pre><code>val response = client.post&lt;HttpResponse&gt;(url) {\n    body = TextContent(\"\"\"{\"a\":1,\"b\":2}\"\"\", ContentType.Application.Json)\n}\nif (response.status != HttpStatusCode.OK) {\n    logger.error(\"Error, this one failed bad?\")\n}\n\n</code></pre>\n\n<p>But my code ends at client.post with a canceled corutineException on no network. How do I handle this and any other exception? If there is an internet connection. Nothing fails, I want to be able to handle the exceptions. How? </p>\n\n<p>Note: try, catch doesn't work</p>\n"}, {"tags": ["android", "intellij-idea", "kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6746956"}, "edited": false, "score": 0, "creation_date": 1550172158, "post_id": 54679360, "comment_id": 96261752, "body": "I found the Fix <a href=\"https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error\" title=\"updated to android studio 3 0 getting a kotlin not configured error\">stackoverflow.com/questions/47170118/&hellip;</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1552915911, "post_id": 54679360, "comment_id": 97179891, "body": "<code>jre7</code> should be replaced with <code>jdk7</code> i think"}], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": false, "score": 15, "last_activity_date": 1553534503, "creation_date": 1553534503, "answer_id": 55343312, "question_id": 54679360, "link": "https://stackoverflow.com/questions/54679360/cannot-start-android-on-intellij/55343312#55343312", "title": "cannot start android on intellij", "body": "<p>You need to replace <code>jre</code> by <code>jdk</code> as suggested by <a href=\"https://stackoverflow.com/users/2413303/epicpandaforce\">EpicPandaForce</a>:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 11373583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIWt2.jpg?s=128&g=1", "display_name": "revati raman", "link": "https://stackoverflow.com/users/11373583/revati-raman"}, "is_accepted": false, "score": 0, "last_activity_date": 1560325080, "last_edit_date": 1560325080, "creation_date": 1555769075, "answer_id": 55774273, "question_id": 54679360, "link": "https://stackoverflow.com/questions/54679360/cannot-start-android-on-intellij/55774273#55774273", "title": "cannot start android on intellij", "body": "<p>Replace jre by jdk. </p>\n\n<p>Previous:</p>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n</code></pre>\n\n<p>After Replace:</p>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 2765900, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a10de11c5a9cce90100e9d578134113d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdallah Ibrahim", "link": "https://stackoverflow.com/users/2765900/abdallah-ibrahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2906, "favorite_count": 0, "closed_date": 1604234665, "answer_count": 2, "score": 10, "last_activity_date": 1560325080, "creation_date": 1550091735, "last_edit_date": 1559117779, "question_id": 54679360, "link": "https://stackoverflow.com/questions/54679360/cannot-start-android-on-intellij", "closed_reason": "Duplicate", "title": "cannot start android on intellij", "body": "<p>I am new to android development. I am trying to start a <code>\"hello world\"</code> project for an android app following the google android fundamentals course.</p>\n\n<p>I believe i have the android plugin correctly installed. I keep getting the </p>\n\n<blockquote>\n  <p>error:  Failed to resolve:\n  org.jetbrains.kotlin:kotlin-stdlib-jre7:1.3.21</p>\n</blockquote>\n\n<p>The code in my hello world app is:</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.3.21'\nrepositories {\n    google()\n    jcenter()\n    }\n    dependencies {\n    classpath 'com.android.tools.build:gradle:3.1.0'\n    //classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.21\"\n    classpath \"org.jetbrains.kotlin:kotlin-stdlib:1.3.21\"\n    //classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n    google()\n    jcenter()\n    }\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1550091655, "post_id": 54679237, "comment_id": 96147552, "body": "In general, it lets you change the implementation later, whether it&#39;s to a new subtype or if you&#39;re restructuring the class&#39;s constructors later or whatever.  It also lets you define a more detailed <i>name</i> for constructing the object that way, that&#39;s more detailed than just the name of the type."}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 2, "creation_date": 1550091970, "post_id": 54679237, "comment_id": 96147684, "body": "Look up &quot;static factory method&quot;. For example, <a href=\"https://stackoverflow.com/questions/929021/what-are-static-factory-methods\" title=\"what are static factory methods\">stackoverflow.com/questions/929021/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1550091498, "creation_date": 1550091498, "answer_id": 54679312, "question_id": 54679237, "link": "https://stackoverflow.com/questions/54679237/what-is-the-benefit-of-having-a-private-constructor-and-a-use-a-method-inside-co/54679312#54679312", "title": "What is the benefit of having a private constructor and a use a method inside companion object to instantiate a class?", "body": "<p>If you want to change <code>Foo</code> into an interface in the future the code based on the method will keep working, since you can return a concrete class which still implements <code>Foo</code>, unlike the constructor which no longer exists.</p>\n"}, {"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1550092749, "creation_date": 1550092749, "answer_id": 54679580, "question_id": 54679237, "link": "https://stackoverflow.com/questions/54679237/what-is-the-benefit-of-having-a-private-constructor-and-a-use-a-method-inside-co/54679580#54679580", "title": "What is the benefit of having a private constructor and a use a method inside companion object to instantiate a class?", "body": "<p>An example specific to android is, that Fragments should be constructed with an empty constructed, and any data you'd like to pass through to them should be put in a bundle.</p>\n\n<p>We can create a static/companion function, which takes in the arguments we need for that fragment, and this method would construct the fragment using the empty constructor and pass in the data using a bundle. </p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1550097819, "creation_date": 1550097819, "answer_id": 54680605, "question_id": 54679237, "link": "https://stackoverflow.com/questions/54679237/what-is-the-benefit-of-having-a-private-constructor-and-a-use-a-method-inside-co/54680605#54680605", "title": "What is the benefit of having a private constructor and a use a method inside companion object to instantiate a class?", "body": "<p>There are many useful cases, for example what Kiskae described. Another good one would be to be able to \"give your constructors names\":</p>\n\n<pre><code>class Foo&lt;S: Any, T: Any&gt; private constructor(private val a: S, private val b: T) {\n    //more code here...\n    companion object {\n        fun &lt;S: Any&gt; createForPurposeX(a: S) = Foo(a = a, b = \"Default value\")\n        fun createForPurposeY() = Foo(a = 1, b = 2)\n    }\n}\n</code></pre>\n\n<p>Call site:</p>\n\n<pre><code>Foo.createForPurposeX(\"Hey\")\nFoo.createForPurposeY()\n</code></pre>\n\n<p>Note: You should use generic types instead of <code>Any</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "edited": false, "score": 0, "creation_date": 1550151320, "post_id": 54685728, "comment_id": 96170788, "body": "For readers that want to dig deeper: <a href=\"https://blog.kotlin-academy.com/effective-java-in-kotlin-item-1-consider-static-factory-methods-instead-of-constructors-8d0d7b5814b2\" rel=\"nofollow noreferrer\">Effective Java in Kotlin, item 1: Consider static factory methods instead of constructors</a>"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "edited": false, "score": 0, "creation_date": 1550163599, "post_id": 54685728, "comment_id": 96178546, "body": "@FrankNeblung Good reference \u2014 and far more authoritative than my own half-remembered ideas!  I&#39;ll add it in, thanks."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 2, "last_activity_date": 1550164087, "last_edit_date": 1550164087, "creation_date": 1550131731, "answer_id": 54685728, "question_id": 54679237, "link": "https://stackoverflow.com/questions/54679237/what-is-the-benefit-of-having-a-private-constructor-and-a-use-a-method-inside-co/54685728#54685728", "title": "What is the benefit of having a private constructor and a use a method inside companion object to instantiate a class?", "body": "<p>There are several benefits to providing a factory method instead of a public constructor, including:</p>\n\n<ul>\n<li><p>It can do lots of processing before calling the construstor.  (This can be important if the superclass constructor takes parameters that need to be calculated.)</p></li>\n<li><p>It can return cached values instead of new instances where appropriate.</p></li>\n<li><p>It can return a subclass.  (This allows you to make the top class an interface, as noted in another answer.)  The exact class can differ between calls, and can even be an anonymous type.</p></li>\n<li><p>It can have a name (as noted in another answer).  This is especially important if you need multiple methods taking the same parameters.  (E.g. a Point object which could be constructed from rectangular or polar co-ordinates.)  However, a factory method doesn't <em>need</em> a specific name; if you implement the <code>invoke()</code> method in the companion object, you can call it in exactly the same way as a constructor.</p></li>\n<li><p>It makes it easier to change the implementation of the class without affecting its public interface.</p></li>\n</ul>\n\n<p>It also has an important drawback:</p>\n\n<ul>\n<li>It can't be used by subclass constructors.</li>\n</ul>\n\n<p>Factory methods seem to be less used in Kotlin than Java, perhaps due to Kotlin's simpler syntax for primary constructors and properties.  But they're still worth considering \u2014\u00a0especially as Kotlin companion objects can inherit.</p>\n\n<p>For much deeper info, see <a href=\"https://blog.kotlin-academy.com/effective-java-in-kotlin-item-1-consider-static-factory-methods-instead-of-constructors-8d0d7b5814b2\" rel=\"nofollow noreferrer\">this article</a>, which looks at the recommendation in <em><a href=\"https://rads.stackoverflow.com/amzn/click/com/0134685997\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a></em> and how it applies to Kotlin.</p>\n"}], "owner": {"reputation": 103, "user_id": 3543610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTRo0.jpg?s=128&g=1", "display_name": "Thiago Saraiva", "link": "https://stackoverflow.com/users/3543610/thiago-saraiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 54685728, "answer_count": 4, "score": 2, "last_activity_date": 1550164087, "creation_date": 1550091175, "question_id": 54679237, "link": "https://stackoverflow.com/questions/54679237/what-is-the-benefit-of-having-a-private-constructor-and-a-use-a-method-inside-co", "title": "What is the benefit of having a private constructor and a use a method inside companion object to instantiate a class?", "body": "<p>I've bumped into this code and I'm not sure why would anyone do this. Basically the author decided for making the class constructor private so that it cannot be instantiated outside the file, and added a public method to a companion object in the class that creates a new instance of this class. What is the benefit of this approach?</p>\n\n<p>This is what I found:</p>\n\n<pre><code>class Foo private constructor(private val arg1: Any) {\n    //more code here..\n    companion object {\n        fun newFoo(arg1: Any) = Foo(arg1 = arg1)\n    }\n}\n</code></pre>\n\n<p>Why is it better than this?</p>\n\n<pre><code>class Foo(private val arg1: Any) {\n    //more code here..\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 1, "creation_date": 1550088748, "post_id": 54677807, "comment_id": 96146234, "body": "I strongly recommend looking into <code>sealed classes</code> here. You can define a <code>sealed class Result</code>, and then two implementations <code>data class Success(val employees: List&lt;SellersItem&gt;) : Result()</code>, <code>data class Failure(val message: String) : Result()</code>. Then your method can return <code>Result</code> rather than <code>Any</code>. The consumers can then do an exhaustive <code>when</code> statement with smart-casts on the result: <code>when (result) { is Success -&gt; println(result.employees); is Failure -&gt; println(result.message) }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "is_accepted": false, "score": 2, "last_activity_date": 1550086268, "last_edit_date": 1550086268, "creation_date": 1550085911, "answer_id": 54677919, "question_id": 54677807, "link": "https://stackoverflow.com/questions/54677807/how-to-return-a-variable-object-in-kotlin-function/54677919#54677919", "title": "How to return a variable object in kotlin function", "body": "<p>your problem is that you are handling the return after doing an asynchronous call,\nthis causes the return to be made before you get the response - So neither the error or sellersList is ever getting set and its just returning an empty list. Instead of returning something directly you may want to consider passing in a success and error callback or a listener as a parameter and then give the result to the callback.</p>\n\n<p>something like:</p>\n\n<pre><code>fun loadEmployeesFromApi (successCallback: (List&lt;SellersItem&gt;)-&gt;Unit, errorCallback: (String)-&gt;Unit) { \n\n     ...\n</code></pre>\n\n<p>and make the call when you load the data</p>\n\n<pre><code>when (code) {\n    200 -&gt; {\n        /** response.body().sellers retorna una sellers: list&lt;SellersItem&gt; con los registros de los vendedores que pueden acceder a la app\n        **Datos que contiene el objeto:\n        ** usuario\n        * id\n        * nombre\n        * contrasenia\n        **/\n        sellersList = response.body()?.sellers as List&lt;SellersItem&gt;\n        successCallback(sellersList)\n    } 0 -&gt; {\n        error = true\n        message = \"No se pudieron obtener los registros de vendedores, el servidor no retorn\u00f3 una respuesta\"\n        errorCallback(message)\n    } 404 -&gt; {\n        error = true\n        message = \"No hay registros de vendedores activos\"\n        errorCallback(message)\n    } else -&gt; {\n        error = true\n        message = \"Ocurri\u00f3 un error al obtener los registros de vendedores, el servidor retorn\u00f3 $code de respuesta\"\n        errorCallback(message)\n    }\n}\n</code></pre>\n\n<p>and you can make the call like this:</p>\n\n<pre><code>loadEmployeesFromApi({ sellerList -&gt;\n    // handle success\n}, { errorMessage -&gt;\n    // handle error\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "edited": false, "score": 0, "creation_date": 1550086915, "post_id": 54678098, "comment_id": 96145352, "body": "I don&#39;t think that&#39;s the case here, he is returning a string on failure and a list on success - the caller of the function wouldn&#39;t know to expect a failure when its making the call."}], "tags": [], "owner": {"reputation": 34, "user_id": 5140377, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MxeWUTEpr3w/AAAAAAAAAAI/AAAAAAAAAD4/8auKv-iK6TY/photo.jpg?sz=128", "display_name": "Vivek Garg", "link": "https://stackoverflow.com/users/5140377/vivek-garg"}, "is_accepted": false, "score": -1, "last_activity_date": 1550086617, "creation_date": 1550086617, "answer_id": 54678098, "question_id": 54677807, "link": "https://stackoverflow.com/questions/54677807/how-to-return-a-variable-object-in-kotlin-function/54678098#54678098", "title": "How to return a variable object in kotlin function", "body": "<p>You need to use a generic concept here.</p>\n\n<p>pass T and handle accordingly</p>\n"}], "owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1550086617, "creation_date": 1550085433, "question_id": 54677807, "link": "https://stackoverflow.com/questions/54677807/how-to-return-a-variable-object-in-kotlin-function", "title": "How to return a variable object in kotlin function", "body": "<p>I\u00b4m newbie in kotlin development, and I need to return a String or an a List var in one function with Any, but I can't get the expected result: </p>\n\n<pre><code>fun loadEmployeesFromApi ():Any {\n        var error = false\n        var message = \"\"\n        var sellersList:List&lt;SellersItem&gt; = emptyList()\n        retrofit?.let {\n            val service = it.create(ApiService::class.java)\n            val call = service.listEmployeesData(\"getSellers\")\n\n            call.enqueue(object: Callback&lt;ResponseSellers&gt; {\n                override fun onFailure(call: Call&lt;ResponseSellers&gt;, t: Throwable) {\n                    error = true\n                    message = \"No se pudieron obtener los registros de vendedores debido a un problema de conexi\u00f3n al servidor\"\n                }\n                override fun onResponse(call: Call&lt;ResponseSellers&gt;, response: Response&lt;ResponseSellers&gt;) {\n                    val code  = try {\n                        response.body()!!.code!!.toInt()\n                    } catch (e: NumberFormatException) {\n                        0\n                    }\n                    when (code) {\n                        200 -&gt; {\n                            /** response.body().sellers retorna una sellers: list&lt;SellersItem&gt; con los registros de los vendedores que pueden acceder a la app\n                             **Datos que contiene el objeto:\n                             ** usuario\n                             * id\n                             * nombre\n                             * contrasenia\n                             **/\n                            sellersList = response.body()?.sellers as List&lt;SellersItem&gt;\n                        } 0 -&gt; {\n                            error = true\n                            message = \"No se pudieron obtener los registros de vendedores, el servidor no retorn\u00f3 una respuesta\"\n                        } 404 -&gt; {\n                            error = true\n                            message = \"No hay registros de vendedores activos\"\n                        } else -&gt; {\n                            error = true\n                            message = \"Ocurri\u00f3 un error al obtener los registros de vendedores, el servidor retorn\u00f3 $code de respuesta\"\n                        }\n                    }\n                }\n            })\n        }\n        return if (error) {\n            message\n        } else {\n            sellersList\n        }\n    }\n</code></pre>\n\n<p>when I see the logs in logCat of Android Studio for see what my function returns only show '[]', any sugestion for my noob problem?</p>\n"}, {"tags": ["java", "generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1063, "user_id": 482947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59af12e055a7d1867a42158be4a33a2a?s=128&d=identicon&r=PG", "display_name": "Schenz", "link": "https://stackoverflow.com/users/482947/schenz"}, "edited": false, "score": 0, "creation_date": 1550156076, "post_id": 54679839, "comment_id": 96173837, "body": "this is a beautifully simple and elegant solution. Very easy to understand and implement. Thank you!"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 1, "last_activity_date": 1550130578, "last_edit_date": 1550130578, "creation_date": 1550093858, "answer_id": 54679839, "question_id": 54677565, "link": "https://stackoverflow.com/questions/54677565/how-to-reduce-code-with-generics-and-probably-reflection/54679839#54679839", "title": "How to reduce code with generics and probably reflection", "body": "<h3>Reflection</h3>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nfun &lt;T : Any&gt; KClass&lt;T&gt;.compareByProperty(propName: String, asc: Boolean = true): Comparator&lt;T&gt; {\n    val property = declaredMemberProperties.first { it.name == propName }\n    val getter = property::get as (T) -&gt; Comparable&lt;*&gt;\n\n    if (asc) {\n        return compareBy(getter)\n    }\n    return compareByDescending(getter)\n}\n</code></pre>\n\n<p>The first extension function <code>compareByProperty</code> uses reflection to lookup the property by name and then extract the getter of the property as a selector of <code>Conparable</code></p>\n\n<p>Then depending on the <code>asc</code> parameter the <code>getter</code> is transformed to a <code>Comparator</code> of the generic type with the standard function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/index.html\" rel=\"nofollow noreferrer\"><code>compareBy</code> and <code>compareByDescending</code></a>:</p>\n\n<h3>Helper to combine</h3>\n\n<pre><code>inline fun &lt;reified T : Any&gt; Comparator&lt;T&gt;.thenByProperty(propName: String, asc: Boolean = true) =\n    then(T::class.compareByProperty(propName, asc))\n</code></pre>\n\n<p>The second extension function allows to combine <code>Comparator</code>s: </p>\n\n<h3>Usage</h3>\n\n<pre><code>fun main() {\n    val typeObjects = listOf(...)\n    val comparator = TypeObject::class.compareByProperty(\"id\")\n        .thenByProperty(\"type\", asc = false)\n\n    val sortedTypes = typeObjects.sortedWith(comparator)\n}\n</code></pre>\n\n<p>The usage looks like in this example main function. Access the <code>KClass</code> object via <code>::</code>.\nThen call the first extension function and use the second extension function to combine <code>Comparable</code>s:</p>\n"}], "owner": {"reputation": 1063, "user_id": 482947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59af12e055a7d1867a42158be4a33a2a?s=128&d=identicon&r=PG", "display_name": "Schenz", "link": "https://stackoverflow.com/users/482947/schenz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 54679839, "answer_count": 1, "score": 0, "last_activity_date": 1550130578, "creation_date": 1550084511, "question_id": 54677565, "link": "https://stackoverflow.com/questions/54677565/how-to-reduce-code-with-generics-and-probably-reflection", "title": "How to reduce code with generics and probably reflection", "body": "<p>I have DTO objects, then I need to sort the collection of objects dynamically, kind of like a database ORDER BY, but I do not have a database to actually make the queries do the actual work (I know, but it is what I have today...). </p>\n\n<p>It seems to me that the StatusComparator and TypeComparator should be able to be re-written as fully generic and probably also make use of reflection so that I do not need to write one for each object in my API (I have three more for this service and it is getting really repetitive). </p>\n\n<p>Once I understand the correct way to write this, I plan on extracting the Comparators out into their own library so that I may share the pattern with other divisions in my company to make their code easier to write.</p>\n\n<p>This code is in Kotlin, so would really like to focus on that implementation as much as possible.</p>\n\n<p>DTOs:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Table(\"type\")\ndata class TypeObject(\n\n    @get:NotNull\n    @PrimaryKey\n    @JsonProperty(\"id\") val id: String,\n\n    @get:NotNull\n    @Column(\"type\")\n    @JsonProperty(\"type\") val type: String,\n\n    @Column(\"is_deleted\")\n    @JsonProperty(\"isDeleted\") val isDeleted: Boolean? = null\n)\n\n@Table(\"status\")\ndata class StatusObject(\n    @get:NotNull\n    @PrimaryKey\n    @JsonProperty(\"id\") val id: String,\n\n    @get:NotNull\n    @JsonProperty(\"status\") val status: String,\n\n    @Column(\"is_deleted\")\n    @JsonProperty(\"isDeleted\") val isDeleted: Boolean? = null\n)\n</code></pre>\n\n<p>Comparatoes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass StatusComparator&lt;T : StatusObject&gt; {\n    fun buildComparator(\n        field: String,\n        asc: Boolean\n    ): Comparator&lt;T&gt; {\n        return if (asc) {\n            compareBy {\n                getField(field, it)\n            }\n        } else {\n            compareByDescending {\n                getField(field, it)\n            }\n        }\n    }\n\n    private fun getField(\n        field: String,\n        it: StatusObject\n    ): Comparable&lt;*&gt;? {\n        return when (field.toLowerCase()) {\n            \"id\" -&gt; it.id\n            \"status\" -&gt; it.status\n            else -&gt; it.isDeleted\n        }\n    }\n}\n\n@Component\nclass TypeComparator&lt;T : TypeObject&gt; {\n    fun buildComparator(\n        field: String,\n        asc: Boolean\n    ): Comparator&lt;T&gt; {\n        return if (asc) {\n            compareBy {\n                getField(field, it)\n            }\n        } else {\n            compareByDescending {\n                getField(field, it)\n            }\n        }\n    }\n\n    private fun getField(\n        field: String,\n        it: TypeObject\n    ): Comparable&lt;*&gt;? {\n        return when (field.toLowerCase()) {\n            \"id\" -&gt; it.id\n            \"type\" -&gt; it.type\n            else -&gt; it.isDeleted\n        }\n    }\n}\n</code></pre>\n\n<p>Sample usage in my Type Service:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass TypeApiServiceImpl(\n    private val repo: TypeRepository,\n    private val sortListBuilder: SortListBuilder,\n    private val customComparator: TypeComparator&lt;TypeObject&gt;\n) : TypeApiService {\n\n    override fun get(\n        sort: String,\n        filterId: UUID,\n        filterType: String,\n        filterIsDeleted: Boolean\n    ): Mono&lt;DocumentTierModels&gt; {\n        return if (filterId != UUID.fromString(\"00000000-0000-0000-0000-000000000000\")) {\n            this.getTypeById(filterId)\n        } else {\n            val objects = this.getTypeByFilter(filterType, filterIsDeleted)\n\n            if (sort != \"null\") {\n                this.getSortedTypes(sort, objects)\n            } else {\n                TypesModels(objects, MetaModel(null, listOf())).toMono()\n            }\n        }\n    }\n\n    private fun sortObject(\n        objects: List&lt;TypeObject&gt;,\n        sortItems: List&lt;String&gt;\n    ): List&lt;TypeObject&gt; {\n        when (sortItems.count()) {\n            1 -&gt; {\n                val fieldAndDirection1 = sortItems[0].split(',')\n\n                return objects\n                    .sortedWith(customComparator.buildComparator(fieldAndDirection1[0], fieldAndDirection1[1] == \"asc\"))\n            }\n            2 -&gt; {\n                val fieldAndDirection1 = sortItems[0].split(',')\n                val fieldAndDirection2 = sortItems[1].split(',')\n\n                return objects\n                    .sortedWith(\n                        customComparator.buildComparator(fieldAndDirection1[0], fieldAndDirection1[1] == \"asc\")\n                            .then(customComparator.buildComparator(fieldAndDirection2[0], fieldAndDirection2[1] == \"asc\"))\n                    )\n            }\n            3 -&gt; {\n                val fieldAndDirection1 = sortItems[0].split(',')\n                val fieldAndDirection2 = sortItems[1].split(',')\n                val fieldAndDirection3 = sortItems[2].split(',')\n\n                return objects\n                    .sortedWith(\n                        customComparator.buildComparator(fieldAndDirection1[0], fieldAndDirection1[1] == \"asc\")\n                            .then(customComparator.buildComparator(fieldAndDirection2[0], fieldAndDirection2[1] == \"asc\"))\n                            .then(customComparator.buildComparator(fieldAndDirection3[0], fieldAndDirection3[1] == \"asc\"))\n                    )\n            }\n            else -&gt; {\n                return objects\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Sample usage in my Status Service:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass StatusesApiServiceImpl(\n    private val repo: StatusRepository,\n    private val sortListBuilder: SortListBuilder,\n    private val customComparator: StatusComparator&lt;StatusObject&gt;\n) : StatusesApiService {\n\n    override fun get(\n        sort: String,\n        filterId: UUID,\n        filterStatus: String,\n        filterIsDeleted: Boolean\n    ): Mono&lt;StatusModels&gt; {\n        return if (filterId != UUID.fromString(\"00000000-0000-0000-0000-000000000000\")) {\n            this.getStatusById(filterId)\n        } else {\n            val objects = this.getStatusByFilter(filterStatus, filterIsDeleted)\n\n            if (sort != \"null\") {\n                this.getSortedStatuses(sort, objects)\n            } else {\n                StatusModels(objects, MetaModel(null, listOf())).toMono()\n            }\n        }\n    }\n\n    private fun getSortedStatuses(\n        sort: String,\n        objects: List&lt;StatusObject&gt;\n    ): Mono&lt;StatusModels&gt; {\n        var objects1 = objects\n        var sortList: MutableList&lt;String&gt; = mutableListOf()\n        val sortItems = sortListBuilder.getSortItems(sort)\n\n        if (sortItems != null) {\n            sortList = sortListBuilder.buildSortList(sortItems)\n            objects1 = this.sortObject(objects1, sortItems)\n        }\n\n        val meta = MetaModel(null, sortList)\n\n        return StatusModels(objects1, meta).toMono()\n    }\n\n    private fun sortObject(\n        objects: List&lt;StatusObject&gt;,\n        sortItems: List&lt;String&gt;\n    ): List&lt;StatusObject&gt; {\n        when (sortItems.count()) {\n            1 -&gt; {\n                val fieldAndDirection1 = sortItems[0].split(',')\n\n                return objects\n                    .sortedWith(customComparator.buildComparator(fieldAndDirection1[0], fieldAndDirection1[1] == \"asc\"))\n            }\n            2 -&gt; {\n\n                val fieldAndDirection1 = sortItems[0].split(',')\n                val fieldAndDirection2 = sortItems[1].split(',')\n\n                return objects\n                    .sortedWith(customComparator.buildComparator(fieldAndDirection1[0], fieldAndDirection1[1] == \"asc\")\n                        .then(customComparator.buildComparator(fieldAndDirection2[0], fieldAndDirection2[1] == \"asc\")))\n            }\n            3 -&gt; {\n                val fieldAndDirection1 = sortItems[0].split(',')\n                val fieldAndDirection2 = sortItems[1].split(',')\n                val fieldAndDirection3 = sortItems[2].split(',')\n\n                return objects\n                    .sortedWith(customComparator.buildComparator(fieldAndDirection1[0], fieldAndDirection1[1] == \"asc\")\n                        .then(customComparator.buildComparator(fieldAndDirection2[0], fieldAndDirection2[1] == \"asc\"))\n                        .then(customComparator.buildComparator(fieldAndDirection3[0], fieldAndDirection3[1] == \"asc\")))\n            }\n            else -&gt; {\n                return objects\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I also now see in my question that I may also be able to apply this pattern to my actual services as well, but let's take this one step at a time.</p>\n"}, {"tags": ["gradle", "kotlin", "libgdx"], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 9382668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed343ac6b5c89e38e73ddf751877ffe?s=128&d=identicon&r=PG&f=1", "display_name": "lastpeony4", "link": "https://stackoverflow.com/users/9382668/lastpeony4"}, "edited": false, "score": 0, "creation_date": 1550337445, "post_id": 54685037, "comment_id": 96235315, "body": "added that still same"}], "tags": [], "owner": {"reputation": 1111, "user_id": 1249504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d398eff193d77e3891a184f0789806?s=128&d=identicon&r=PG", "display_name": "Zumbarlal Saindane", "link": "https://stackoverflow.com/users/1249504/zumbarlal-saindane"}, "is_accepted": false, "score": 1, "last_activity_date": 1550128752, "creation_date": 1550128752, "answer_id": 54685037, "question_id": 54677331, "link": "https://stackoverflow.com/questions/54677331/configuring-clean-libgdx-project-with-kotlin-sync-failed-invalid-type-code82/54685037#54685037", "title": "Configuring Clean LibGDX Project with Kotlin Sync Failed invalid type code:82", "body": "<p>Please try to add <br><br>\n<strong>sourceCompatibility = 1.8<br>\ntargetCompatibility = 1.8</strong><br><br>\nIn your build.gradle check it once</p>\n\n<pre><code>  project(\":core\") {\n            apply plugin: \"kotlin\"\n\n\n            dependencies {\n                sourceCompatibility = 1.8\n                targetCompatibility = 1.8\n\n                compile \"com.badlogicgames.gdx:gdx:$gdxVersion\"\n                compile \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n                compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\"\n                compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion\"\n\n\n\n            }\n}\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 9382668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed343ac6b5c89e38e73ddf751877ffe?s=128&d=identicon&r=PG&f=1", "display_name": "lastpeony4", "link": "https://stackoverflow.com/users/9382668/lastpeony4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550128752, "creation_date": 1550083615, "question_id": 54677331, "link": "https://stackoverflow.com/questions/54677331/configuring-clean-libgdx-project-with-kotlin-sync-failed-invalid-type-code82", "title": "Configuring Clean LibGDX Project with Kotlin Sync Failed invalid type code:82", "body": "<p>I am trying to configure clean libgdx project with kotlin.First i generated a clean project with libgdxs tool then even though i did everything in official documentation i am having sync failed \nCause: invalid type code: 82</p>\n\n<p>I did everything written here:\n<a href=\"https://github.com/libgdx/libgdx/wiki/Using-libGDX-with-Kotlin\" rel=\"nofollow noreferrer\">https://github.com/libgdx/libgdx/wiki/Using-libGDX-with-Kotlin</a>\nMain project directory build.gradle:</p>\n\n<pre><code>buildscript {\n\n    ext.kotlinVersion = '1.3.11'\n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        maven { url \"https://plugins.gradle.org/m2/\" }\n        maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n        jcenter()\n        google()\n    }\n    dependencies {\n\n        classpath 'com.android.tools.build:gradle:3.2.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n\n\n\n    }\n}\n\nallprojects {\n    apply plugin: \"eclipse\"\n    apply plugin: \"idea\"\n\n    version = '1.0'\n    ext {\n        appName = \"my-gdx-game\"\n        gdxVersion = '1.9.9'\n        roboVMVersion = '2.3.5'\n        box2DLightsVersion = '1.4'\n        ashleyVersion = '1.7.0'\n        aiVersion = '1.8.0'\n    }\n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        google()\n        maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n        maven { url \"https://oss.sonatype.org/content/repositories/releases/\" }\n    }\n}\n\nproject(\":desktop\") {\n    apply plugin: \"kotlin\"\n\n\n    dependencies {\n        compile project(\":core\")\n\n        compile \"com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop\"\n        compile \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop\"\n\n\n    }\n}\n\nproject(\":android\") {\n    apply plugin: \"android\"\n    apply plugin: \"kotlin-android\"\n\n    configurations { natives }\n\n    dependencies {\n        compile project(\":core\")\n        compile \"com.badlogicgames.gdx:gdx-backend-android:$gdxVersion\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64\"\n        compile \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86\"\n        natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64\"\n\n    }\n}\n\nproject(\":core\") {\n    apply plugin: \"kotlin\"\n\n\n    dependencies {\n        compile \"com.badlogicgames.gdx:gdx:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n        compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\"\n        compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion\"\n\n\n\n    }\n}\n\ntasks.eclipse.doLast {\n    delete \".project\"\n}\n</code></pre>\n\n<p>desktop folder build.gradle i only changed apply plugin java to apply plugin kotlin\ncore folder build.gradle i only changed apply plugin java to apply plugin kotlin</p>\n"}, {"tags": ["android", "json", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "edited": false, "score": 0, "creation_date": 1550083565, "post_id": 54676652, "comment_id": 96143800, "body": "Hi, If you print your response.body() what do you get?"}, {"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "edited": false, "score": 0, "creation_date": 1550083702, "post_id": 54676652, "comment_id": 96143884, "body": "If already getting the response you&#39;d need to parse it maybe using gson and then you would be able to get the elements of your pojo and probably not looping through the response.body() as you&#39;re doing."}, {"owner": {"reputation": 1, "user_id": 10349297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IOwqgh6d3Bw/AAAAAAAAAAI/AAAAAAAAEG4/7uppI-W4bCc/photo.jpg?sz=128", "display_name": "Android Coder", "link": "https://stackoverflow.com/users/10349297/android-coder"}, "reply_to_user": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "edited": false, "score": 0, "creation_date": 1550125206, "post_id": 54676652, "comment_id": 96156849, "body": "My bad I was writing code only yo get one item from list. and because of that I got JSON exception"}], "answers": [{"comments": [{"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "edited": false, "score": 0, "creation_date": 1550255759, "post_id": 54715217, "comment_id": 96216179, "body": "GetFAQs is the model class retrieved using the json2schema website."}], "tags": [], "owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "is_accepted": true, "score": 1, "last_activity_date": 1550255636, "creation_date": 1550255636, "answer_id": 54715217, "question_id": 54676652, "link": "https://stackoverflow.com/questions/54676652/parse-json-object-using-retrofit-in-kotlin/54715217#54715217", "title": "parse JSON object using retrofit in kotlin", "body": "<p>That's what we have on our app</p>\n\n<pre><code>object GetFAQsAPI {\n\nprivate val LOG_TAG = GetFAQsAPI.javaClass.simpleName\n\ninterface ThisCallback {\n\n    fun onSuccess(getFAQs: GetFAQs)\n\n    fun onFailure(failureMessage: String)\n\n    fun onError(errorMessage: String)\n}\n\n/* POST */\nfun postData(jo: JsonObject, callback: GetFAQsAPI.ThisCallback) {\n    val call = Service.getService().get_faqs(jo)\n    call.enqueue(object : Callback&lt;JsonObject&gt; {\n\n        override fun onResponse(call: Call&lt;JsonObject&gt;, response: Response&lt;JsonObject&gt;) {\n\n            //Log.e(LOG_TAG, response.body().toString());\n\n            try {\n                if (response.body()?.get(\"success\")!!.asBoolean) {\n\n                    val gson = GsonBuilder().setPrettyPrinting().create()\n                    val getFAQs = gson.fromJson(response.body(), GetFAQs::class.java)\n\n                    callback.onSuccess(getFAQs)\n\n                } else {\n                    Log.e(LOG_TAG, \"else\")\n\n                    val error = response.body()!!.get(\"err\").asString\n\n                    callback.onError(error)\n                }\n\n            } catch (e: Exception) {\n                Log.e(LOG_TAG, \"exception\" + e.localizedMessage)\n\n                callback.onFailure(e.message!!)\n            }\n\n        }\n\n        override fun onFailure(call: Call&lt;JsonObject&gt;, t: Throwable) {\n            Log.e(LOG_TAG, \"onFailure: \" + t.message)\n\n            callback.onFailure(t.message!!)\n\n        }\n    })\n\n}\n\n}\n</code></pre>\n\n<p>That's how we call it from our fragment - getFAQs is the object parsed.</p>\n\n<pre><code>private fun getFAQsAPI() {\n\n    showLoading(true)\n\n    val jo = JsonObject().apply {\n        addProperty(\"faq_category\", \"admin\")\n    }\n\n    GetFAQsAPI.postData(jo, object : GetFAQsAPI.ThisCallback {\n        override fun onSuccess(getFAQs: GetFAQs) {\n            Log.i(LOG_TAG, \"onSuccess\")\n\n            showLoading(false)\n\n            updateUI(getFAQs)\n        }\n\n        override fun onFailure(failureMessage: String) {\n            Log.e(LOG_TAG, failureMessage)\n        }\n\n        override fun onError(errorMessage: String) {\n            Log.e(LOG_TAG, errorMessage)\n        }\n    })\n}\n</code></pre>\n\n<p>Hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 8890160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76921e6fd9f2eb69d5c7f58a2bc89c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Ooguro", "link": "https://stackoverflow.com/users/8890160/ooguro"}, "is_accepted": false, "score": 2, "last_activity_date": 1569464793, "creation_date": 1569464793, "answer_id": 58108757, "question_id": 54676652, "link": "https://stackoverflow.com/questions/54676652/parse-json-object-using-retrofit-in-kotlin/58108757#58108757", "title": "parse JSON object using retrofit in kotlin", "body": "<p>This an app that I build in kotlin using retrofit and rxjava in the best way possible using a test API.</p>\n\n<p>Model</p>\n\n<pre><code>data class Post( val userID:Int, val title:String, val body: String)\n</code></pre>\n\n<p>Retrofit Package</p>\n\n<p>IMyApi interface </p>\n\n<pre><code>interface IMyApi {\n\n@get:GET(\"posts\")\nval posts: Observable&lt;List&lt;Post&gt;&gt;\n}\n</code></pre>\n\n<p>RetrofitClient Object class</p>\n\n<pre><code>object RetrofitClient {\n\n\nval instance: Retrofit by lazy {\n    Retrofit.Builder()\n        .baseUrl(\"https://jsonplaceholder.typicode.com/\")\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .addConverterFactory(GsonConverterFactory.create())\n        .build()\n }\n}\n</code></pre>\n\n<p>Adapter Package</p>\n\n<p>PostAdapter class</p>\n\n<pre><code>  class PostAdapter(private val context: Context, private val postList: List&lt;Post&gt;)\n                :RecyclerView.Adapter&lt;PostViewHolder&gt;()\n            {\n                override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): \n   PostViewHolder {\n                    val itemView = LayoutInflater.from(parent.context)\n                        .inflate(R.layout.post_item, parent, false)\n                    return PostViewHolder(itemView)\n                }\n\n                override fun getItemCount(): Int {\n                    return postList.size\n                }\n\n                   override fun onBindViewHolder(holder: PostViewHolder, position: Int) \n    {\n                    holder.userId.text = postList[position].userID.toString()\n                    holder.title.text = postList[position].title\n                    holder.body.text = StringBuilder(postList[position].body.substring(0,20))\n                        .append(\"...\").toString()\n                }\n            }\n</code></pre>\n\n<p>PostViewHolder class</p>\n\n<pre><code>class PostViewHolder(itemView: View):RecyclerView.ViewHolder(itemView) {\n\nvar userId = itemView.txtID\nvar title = itemView.txtTitle\nvar body = itemView.txtBody\n}\n</code></pre>\n\n<p>MainActivity</p>\n\n<pre><code>  class MainActivity : AppCompatActivity() {\n\n                    private lateinit var jsonApi: IMyApi\n                    private var compositeDisposable: CompositeDisposable = CompositeDisposable()\n\n                    override fun onCreate(savedInstanceState: Bundle?) {\n                        super.onCreate(savedInstanceState)\n                        setContentView(R.layout.activity_main)\n\n                        // Init api\n                        val retrofit = RetrofitClient.instance\n                        jsonApi = retrofit.create(IMyApi::class.java)\n\n\n                        // View\n                        recycler_posts.layoutManager = LinearLayoutManager(this)\n                        recycler_posts.setHasFixedSize(true)\n                        fetchData()\n                    }\n\n                    private fun fetchData() {\n                        compositeDisposable.add(jsonApi.posts\n                            .subscribeOn(Schedulers.io())\n                            .observeOn(AndroidSchedulers.mainThread())\n                            .subscribe { posts-&gt;displayData(posts)})\n                    }\n\n                    private fun displayData(posts: List&lt;Post&gt;?) {\n                        val adapter = PostAdapter(this, posts!!)\n                        recycler_posts.adapter = adapter\n                    }\n                }\n</code></pre>\n\n<p>Using this as displayed above should help you solve your issue hopefully. Also when in the code you come across \"recycler_posts\". This is a id to the recycler added in activity_main. If you need me to include that let me know </p>\n"}], "owner": {"reputation": 1, "user_id": 10349297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IOwqgh6d3Bw/AAAAAAAAAAI/AAAAAAAAEG4/7uppI-W4bCc/photo.jpg?sz=128", "display_name": "Android Coder", "link": "https://stackoverflow.com/users/10349297/android-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3907, "favorite_count": 0, "accepted_answer_id": 54715217, "answer_count": 2, "score": 0, "last_activity_date": 1569464793, "creation_date": 1550080938, "last_edit_date": 1550082146, "question_id": 54676652, "link": "https://stackoverflow.com/questions/54676652/parse-json-object-using-retrofit-in-kotlin", "title": "parse JSON object using retrofit in kotlin", "body": "<p>I am trying to show json data using retrofit library in kotlin</p>\n\n<p>This is my Json:</p>\n\n<pre><code>[\n  {\n    \"login\": \"mojombo\",\n    \"id\": 1,\n\n  },\n  {\n    \"login\": \"defunkt\",\n    \"id\": 2,\n    }\n]\n</code></pre>\n\n<p>My Main activity</p>\n\n<pre><code> call.enqueue(object : Callback&lt;UserResponse&gt; {\n        override fun onResponse(call: Call&lt;UserResponse&gt;, response: Response&lt;UserResponse&gt;) {\n            Log.e(\"list\",\"list\")\n            val countrylist = response.body()\n            for (size in response.body()) {\n                System.out.println(size.toString())\n            }\n\n            // var listOfMovies: List&lt;UserResponse&gt; = response.body()?.results!!\n           // myCustomAdapter = UserListAdapter(applicationContext, listOfMovies)\n          //  recyclerView.setAdapter(myCustomAdapter)\n            progressBar.visibility = View.GONE\n        }\n\n        override fun onFailure(call: Call&lt;UserResponse&gt;?, t: Throwable?) {\n            progressBar.visibility = View.GONE\n            Log.e(\"list\", t.toString())\n        }\n    })\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mockito", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1551426304, "post_id": 54675729, "comment_id": 96643208, "body": "Could you please also provide code for <code>RTResponse</code>, <code>Response</code>, <code>Result</code>, <code>User</code>, <code>viewModel</code> and whole code for test class. Also a stacktrace of Exception would be useful."}], "owner": {"reputation": 61, "user_id": 9492102, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Louis Gautier", "link": "https://stackoverflow.com/users/9492102/louis-gautier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1550131528, "creation_date": 1550077408, "last_edit_date": 1550131528, "question_id": 54675729, "link": "https://stackoverflow.com/questions/54675729/how-to-unit-test-a-httprequest-using-corouties", "title": "How to unit test a httprequest using corouties", "body": "<p>I would like to do some unit tests and mock a fake <code>httpresponse</code>.\nI've created an <code>httprequest</code></p>\n\n<p>But when i do <code>\"whenever(repository.search(any())).thenReturn(response)\"</code>, I've got a \"<code>NullPointerException</code> on <code>\"search()\"</code></p>\n\n<p>When I run the app on device / emulator, it's working well</p>\n\n<pre><code>@Test\nfun searchUser_success() {\n    val expectedUser = User(\"Louis\", 1, \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0.0)\n    val result = Result(1, false, listOf(expectedUser))\n    val response = RTResponse.Success(result)\n    whenever(runBlocking { repository.search(\"Louis\") }).thenReturn(response)\n    Assert.assertEquals(expectedUser, viewModel.users.value)\n}\n\nclass SearchRepository(private val searchInterface: SearchInterface) {\n    suspend fun search(user: String): RTResponse&lt;Result&gt; {\n        val response = searchInterface.searchAsync(query = user, page = 1, perPage = 10).await()\n        return try {\n            if (response.isSuccessful) RTResponse.Success(response.body()!!) else RTResponse.Error(IOException(\"\"))\n        } catch (e: java.lang.Exception) {\n            RTResponse.Error(IOException(\"Unable to fetch users\"))\n        }\n    }\n}\n\n\ninterface SearchInterface {\n    //http request\n    @GET(\"search/users\")\n    fun searchAsync(@Query(\"q\") query: String,\n                    @Query(\"page\") page: Int,\n                    @Query(\"per_page\") perPage: Int): Deferred&lt;Response&lt;Result&gt;&gt;\n\n    //singleton instance of Retrofit\n    companion object Factory { /* build retrofit instance */ }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "android-recyclerview", "android-room", "listadapter", "nestedrecyclerview"], "comments": [{"owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "edited": false, "score": 0, "creation_date": 1550109669, "post_id": 54675693, "comment_id": 96153208, "body": "put mAdapter.submitList(item.childList) in oberver."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 14999039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59b526422c921a44a89971ce73bc8493?s=128&d=identicon&r=PG&f=1", "display_name": "hbarn", "link": "https://stackoverflow.com/users/14999039/hbarn"}, "is_accepted": false, "score": 0, "last_activity_date": 1612413945, "creation_date": 1612413945, "answer_id": 66039488, "question_id": 54675693, "link": "https://stackoverflow.com/questions/54675693/how-to-update-data-in-nested-child-recyclerview-without-losing-animations-initia/66039488#66039488", "title": "How to update data in nested child RecyclerView without losing animations/initialising a new adapter?", "body": "<p>I know this is an old question but I have worked on a project that is exactly like that and this answer might help others.</p>\n<p>Basically we have a single RecyclerView approach where the main interface has a Parent RecyclerView that receives a list of Pair&lt;ViewType, BaseViewBinder&gt;.</p>\n<pre><code>class ParentAdapter: RecyclerView.Adapter&lt;BaseViewHolder&gt;() {\n\n    private var mList: List&lt;Pair&lt;Int, BaseViewBinder&gt;&gt; = listOf() //Int is the ViewType\n\n    fun updateData(mList: List&lt;Pair&lt;Int, BaseViewBinder&gt;&gt;) {\n        if (this.mList!= mList) {\n            this.mList = mList\n            this.notifySetDataChanged()\n...\n</code></pre>\n<p>We observe a MediatorLiveData that feeds a new list to the Parent RecyclerView every time there is new data.</p>\n<p>The problem is that this.notifySetDataChanged() will update everything in the parent recyclerview. So the solution for the issue where child RecyclerViews &quot;reset&quot; and scroll back to beggining when a new List is received was solved by sending one extra variable to the ParentAdapter &quot;updateData&quot; function informing which view type in the list have changed, so we can &quot;notifyItemChanged&quot; only that specific index of the list, therefore not refreshing the entire recyclerview ui.</p>\n<pre><code>fun updateData(mList: List&lt;Pair&lt;Int, BaseViewBinder&gt;&gt;, sectionUpdated: Int) {\n        if (this.mList!= mList) {\n            this.mList = mList\n            \n            when(sectionUpdated){\n               SECTION_A -&gt; this.notifyItemChanged(mList.indexOfFirst { it.first == VIEW_TYPE_A })\n               SECTION_B -&gt; this.notifyItemChanged(mList.indexOfFirst { it.first == VIEW_TYPE_B })\n               SECTION_C -&gt; this.notifyItemChanged(mList.indexOfFirst { it.first == VIEW_TYPE_C })\n            }\n</code></pre>\n<p>So basically you need to edit whatever function is generating your LiveData, check for differences in the new data, and return the list and an Int specifying that that specific child changed.\nEx:</p>\n<pre><code>    private var mListA: List&lt;X&gt;\n    \n    fun returnSomeLiveData(): LiveData&lt;Pair&lt;Int, List&lt;X&gt;&gt;&gt; {\n        var result = MutableLiveData&lt;Pair&lt;Int, List&lt;X&gt;&gt;&gt;()\n\n        if (mListA != someLiveData.value) { //could be DiffUtils\n            mListA = someLiveData.value\n\n            result.postValue(Pair(0, mListA))\n        }\n        return result\n    }\n\n    companion object {\n        val SECTION_A = 0\n        val SECTION_B = 1\n        val SECTION_C = 2\n    }    \n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 10923311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d1b0ea82f01c7841055416eb5c544c?s=128&d=identicon&r=PG&f=1", "display_name": "SQLol", "link": "https://stackoverflow.com/users/10923311/sqlol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 528, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1612413945, "creation_date": 1550077308, "question_id": 54675693, "link": "https://stackoverflow.com/questions/54675693/how-to-update-data-in-nested-child-recyclerview-without-losing-animations-initia", "title": "How to update data in nested child RecyclerView without losing animations/initialising a new adapter?", "body": "<p>I have a <code>ParentData</code> class structured as follows:</p>\n\n<pre><code>class ParentData(\n//parent data fields \nvar childList: List&lt;ChildData&gt;\n</code></pre>\n\n<p>I am populating a parent RecylerView with a list of <code>ParentData</code> and then populating each nested child RecyclerView with the embedded <code>List&lt;ChildData&gt;</code> in <code>onBindViewHolder</code> of the parent RecylerView Adapter (ListAdapter) like so:</p>\n\n<pre><code>val mAdapter = ChildAdapter()\n\nbinding.childRecyclerView.apply {\n    layoutManager = LinearLayoutManager(this.context)\n    adapter = mAdapter\n}\n\nmAdapter.submitList(item.childList)\n//item from getItem(position)\n</code></pre>\n\n<p>I observe a <code>LiveData&lt;List&lt;ParentData&gt;&gt;</code>, so every time the embedded <code>ChildData</code> changes, I submit the new <code>List&lt;ParentData&gt;</code> to my parent recycler, which in turn calls <code>OnBindViewHolder</code> and submits the new `childList' and updates the inner child RecyclerView.</p>\n\n<p>The issue is <code>val mAdapter = ChildAdapter()</code> is called every time the data is updated, resetting the entire child RecyclerView. This results in no item add animations being seen and scroll position being reset. </p>\n\n<p>Is there any way to avoid initialising a new Adapter every time or some other way I can avoid resetting the child RecyclerViews?  </p>\n"}, {"tags": ["android", "html", "kotlin", "jsoup"], "answers": [{"comments": [{"owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1550124474, "post_id": 54682361, "comment_id": 96156591, "body": "Sure I will try that. But, how can I select this table if it&#39;s second in the document ?"}, {"owner": {"reputation": 179, "user_id": 10925310, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tLdtCVpgKsw/AAAAAAAAAAI/AAAAAAAGlLg/9hX4tFedXAQ/photo.jpg?sz=128", "display_name": "Juan Franco", "link": "https://stackoverflow.com/users/10925310/juan-franco"}, "reply_to_user": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1550125144, "post_id": 54682361, "comment_id": 96156828, "body": "You can use <code>.get(index)</code> so you can select the &quot;index&quot; appearance of the tag &lt;table&gt; (the first is 0). I have modified my answer adding it in the right place. Hope it helps."}, {"owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1550125254, "post_id": 54682361, "comment_id": 96156868, "body": "Sure and one last thing, do I have to skip write also elements in which this tab is nested ?"}, {"owner": {"reputation": 179, "user_id": 10925310, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tLdtCVpgKsw/AAAAAAAAAAI/AAAAAAAGlLg/9hX4tFedXAQ/photo.jpg?sz=128", "display_name": "Juan Franco", "link": "https://stackoverflow.com/users/10925310/juan-franco"}, "reply_to_user": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1550125273, "post_id": 54682361, "comment_id": 96156877, "body": "Maybe your code is ok only changing the <code>eq(2)</code> for <code>eq(1)</code>"}, {"owner": {"reputation": 179, "user_id": 10925310, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tLdtCVpgKsw/AAAAAAAAAAI/AAAAAAAGlLg/9hX4tFedXAQ/photo.jpg?sz=128", "display_name": "Juan Franco", "link": "https://stackoverflow.com/users/10925310/juan-franco"}, "reply_to_user": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1550125651, "post_id": 54682361, "comment_id": 96157020, "body": "If you use the table selector you don&#39;t need to take into account any parent tag in which the table is included, as long as it is not another table. Usually, the HTML as id attributes that are unique for each of the elements, so they are useful for searching elements, as well (not in this case)."}, {"owner": {"reputation": 179, "user_id": 10925310, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tLdtCVpgKsw/AAAAAAAAAAI/AAAAAAAGlLg/9hX4tFedXAQ/photo.jpg?sz=128", "display_name": "Juan Franco", "link": "https://stackoverflow.com/users/10925310/juan-franco"}, "reply_to_user": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1550532099, "post_id": 54682361, "comment_id": 96295072, "body": "Did you get an error or it is not giving any result?"}], "tags": [], "owner": {"reputation": 179, "user_id": 10925310, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tLdtCVpgKsw/AAAAAAAAAAI/AAAAAAAGlLg/9hX4tFedXAQ/photo.jpg?sz=128", "display_name": "Juan Franco", "link": "https://stackoverflow.com/users/10925310/juan-franco"}, "is_accepted": false, "score": 0, "last_activity_date": 1550125026, "last_edit_date": 1550125026, "creation_date": 1550111225, "answer_id": 54682361, "question_id": 54675553, "link": "https://stackoverflow.com/questions/54675553/parse-specific-table-to-array-of-strings-jsoup/54682361#54682361", "title": "Parse specific table to array of strings Jsoup", "body": "<p>I think that you should select the \"tr\" elements as well and iterate over them as looks like you are iteratin over \"tbody\". This is a solution in Java, as I don't know Kotlin syntax, but maybe it helps:</p>\n\n<pre><code>Elements tableElements = doc.select(\"table\").get(1).select(\"tbody\").select(\"tr\");\nfor (Element element : tableElements) {\n    Elements data = element.select(\"td\");\n    System.out.println(data.select(\"small\").first().text() +\" : \"\n    + data.select(\"small\").last().text());  \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2026, "user_id": 6578434, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86597fd0dc7c0675f5d55c6b331f8a91?s=128&d=identicon&r=PG&f=1", "display_name": "Luk", "link": "https://stackoverflow.com/users/6578434/luk"}, "edited": false, "score": 0, "creation_date": 1550154138, "post_id": 54692497, "comment_id": 96172494, "body": "Elements are indexed starting from 0, so to select second table use table:eq(1)"}], "tags": [], "owner": {"reputation": 2026, "user_id": 6578434, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/86597fd0dc7c0675f5d55c6b331f8a91?s=128&d=identicon&r=PG&f=1", "display_name": "Luk", "link": "https://stackoverflow.com/users/6578434/luk"}, "is_accepted": false, "score": 0, "last_activity_date": 1550153733, "creation_date": 1550153733, "answer_id": 54692497, "question_id": 54675553, "link": "https://stackoverflow.com/questions/54675553/parse-specific-table-to-array-of-strings-jsoup/54692497#54692497", "title": "Parse specific table to array of strings Jsoup", "body": "<p>This is java code to do what you want. \nYou can apply selector on elements.     </p>\n\n<pre><code>@Test\npublic void selectSecondTable() {\n\n    String html = \"\" +\n            \"&lt;table&gt;&lt;/table&gt;\" +\n            \"&lt;table&gt;\\n\" +\n            \"  &lt;tbody&gt;\\n\" +\n            \"    &lt;tr class=\\\"\\\"&gt;\\n\" +\n            \"      &lt;td class=\\\"odsazena\\\" align=\\\"left\\\"&gt;&lt;small&gt;User's identification number: &lt;/small&gt;&lt;/td&gt;\\n\" +\n            \"      &lt;td class=\\\"odsazena\\\" align=\\\"left\\\"&gt;&lt;small&gt;34565&lt;/small&gt;&lt;/td&gt;\\n\" +\n            \"    &lt;/tr&gt;\\n\" +\n            \"  &lt;/tbody&gt;\\n\" +\n            \"&lt;/table&gt;\";\n\n    Document doc = Jsoup.parse(html);\n    //select tr from second table in document:\n    for (Element e : doc.select(\"table:eq(1) tr\")) {\n        //for each table row select text from small tag and print to console:\n        System.out.println(e.select(\"small\").text());\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1550153733, "creation_date": 1550076920, "last_edit_date": 1550084668, "question_id": 54675553, "link": "https://stackoverflow.com/questions/54675553/parse-specific-table-to-array-of-strings-jsoup", "title": "Parse specific table to array of strings Jsoup", "body": "<p>i have this, rather complex html I want to parse using JSoup. I have tried several things, but none is working. Basically, I wanted to get the second table, and read all rows and append it to string.</p>\n\n<p><strong>What I have tried</strong></p>\n\n<pre><code>val document = Jsoup.parse(it.data)\n\n                val tableElements = document.select(\"table:eq(2) &gt; tbody\")\n                for (element in tableElements) {\n                    val data = element.select(\"td\")\n                    try {\n                        Timber.i(\"${data[0].select(\"small\").text()} : ${data[1].select(\"small\").text()}\")\n                    } catch (e: Exception) {\n                    }\n                }\n</code></pre>\n\n<p><strong>What part I want to extract</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;User's identification number: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;34565&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Study programme: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Informatics&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Type of study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Bachelor&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Form of study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;full-time, attendance method&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Standard length of study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;3&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Number of credits required to complete your study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;180&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Number of credits enrolled for the whole study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;120&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Number of credits obtained during your whole course of study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;90&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Your prospective academic degree: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Bc.&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Beginning of study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;09/01/2017&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Resolution of admission: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Admitted without the entrance exam&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Progress of study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;enrolled&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Mode of completion: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;&lt;i&gt;not stated&lt;/i&gt;&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Current financing: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;study fully financed from ME SK&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Final thesis topic: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;&lt;i&gt;not stated&lt;/i&gt;&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Final thesis supervisor: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;&lt;i&gt;not stated&lt;/i&gt;&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Language of study: &lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Slovak&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr class=\"\"&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;Card number:&lt;/small&gt;&lt;/td&gt;\r\n      &lt;td class=\"odsazena\" align=\"left\"&gt;&lt;small&gt;123456&lt;/small&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And now, what is the problem exactly? Well from what I've tried, the code does not even let me print the stuff I want, and in the current state as it is it will just skip the for cycle. What I wanted to achieve is that I wanted to get to second table \"table:eq(2)\" and get elements inside \"tbody\"</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1550763445, "post_id": 54674889, "comment_id": 96398392, "body": "What are you doing in the MIGRATION_1_2 class?"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1550763499, "post_id": 54674889, "comment_id": 96398426, "body": "NOthing .. Cause i need wipe out the previous one and copy a new one ."}, {"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1550764493, "post_id": 54674889, "comment_id": 96399077, "body": "If you see the old data it seems that you don&#39;t replace the database. Do you see the logs you set up in the copyDatabaseFile() method? Any exceptions in Logcat?"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1550764612, "post_id": 54674889, "comment_id": 96399150, "body": "Yep .. I debugged the whole copying process . Old file is getting deleted and new file is getting copied .. This is why i am in dilemma  how the hell room is still pointing to old one . I used Sqlite with Asset db many times and i am putting the same logic here in room but its does not seems to work .."}, {"owner": {"reputation": 5215, "user_id": 19506, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20f5f56dfcaa0960a2868cf4b863ad48?s=128&d=identicon&r=PG", "display_name": "mm2001", "link": "https://stackoverflow.com/users/19506/mm2001"}, "edited": false, "score": 0, "creation_date": 1581641823, "post_id": 54674889, "comment_id": 106514663, "body": "If Room is using <code>SQLiteOpenHelper.getReadableDatabase()</code>, as this suggests <a href=\"https://stackoverflow.com/a/50383879/19506\">stackoverflow.com/a/50383879/19506</a>, then note that the copy is not done until the <code>getReadableDatabase()</code> call - NOT when the db file is first specified in <code>new</code>. I had a similar problem copying/updating a db after app install until I realised this and forced a <code>getReadableDatabase().close()</code> after <code>new</code> and before the rest of the app accessed it."}], "owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1551442595, "creation_date": 1550074914, "last_edit_date": 1551442595, "question_id": 54674889, "link": "https://stackoverflow.com/questions/54674889/android-room-copy-db-from-asset-not-upgrading-on-version-update", "title": "Android Room Copy db from asset not Upgrading on version update", "body": "<p>I am using Android Room in an app. I have a pre-build database in assets which I need to use. Each time i update the version i need to replace old db with new DB. For this I have copied the database with conventional file IO.</p>\n\n<pre><code>private fun copyDatabaseFile(context: Context) {\n    val dbPath = context.getDatabasePath(DB_NAME)\n    if (dbPath.exists() &amp;&amp; AppPrefs.getInstance().dataBaseVersion== DATABASE_VERSION) {\n        return\n    }\n    if(dbPath.delete())Log.e(\"datacopy\", \"file deleted\")\n\n    dbPath.parentFile.mkdirs()\n    try {\n        val inputStream = context.assets.open(\"databases/no_database.db\")\n        val output = FileOutputStream(dbPath)\n        val buffer = ByteArray(8192)\n        var length =0\n        while ({length = inputStream.read(buffer, 0, 8192); length}() &gt; 0) {\n            Log.e(\"datacopy\", \"Write\")\n            output.write(buffer, 0, length)\n        }\n        output.flush()\n        output.close()\n        inputStream.close()\n        AppPrefs.getInstance().dataBaseVersion= DATABASE_VERSION\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n}\n}\n</code></pre>\n\n<p>Here is the getter for Database instance :-</p>\n\n<pre><code> internal fun getDatabase(context: Context): MyDatabase? {\n        if (INSTANCE == null) {\n            synchronized(MyDatabase::class.java) {\n                if (INSTANCE == null) {\n                    copyDatabaseFile(context)\n                    INSTANCE = Room.databaseBuilder(\n                        context.applicationContext,\n                        MyDatabase::class.java, DB_NAME)\n                        .addMigrations(MyDatabase.MIGRATION_1_2)\n                        .build()\n                }\n            }\n\n        }\n        return INSTANCE\n    }\n</code></pre>\n\n<p>Migration is Empty for now cause i need to wipe out old one a copy new one. So i think migration is not required for this .</p>\n\n<pre><code>@JvmField\n    val MIGRATION_1_2: Migration = object : Migration(1, 2) {\n        override fun migrate(database: SupportSQLiteDatabase) {\n\n\n        }\n    }\n</code></pre>\n\n<p>First time all working fine. When I upgrade the version of database I am deleting the old file copy new file, but Room is returning the old data.\nI am not sure what's the problem.</p>\n\n<p>I even tried some older answer which suggests: <br></p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/44263891/how-to-use-room-persistence-\">How to use Room Persistence Library with pre-populated database?</a> library-with-pre-populated-database</p></li>\n<li><p><a href=\"https://github.com/humazed/RoomAsset\" rel=\"nofollow noreferrer\">https://github.com/humazed/RoomAsset</a></p></li>\n</ol>\n\n<p>Also tried some other stuff from Git, but none of it worked.\nWhat could be the issue? My need is replace old database with new one each time database version is upgrade.   </p>\n"}, {"tags": ["android", "api", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 9192925, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535842399832996/picture?type=large", "display_name": "Morgan Tartreau", "link": "https://stackoverflow.com/users/9192925/morgan-tartreau"}, "edited": false, "score": 0, "creation_date": 1550588074, "post_id": 54767925, "comment_id": 96318164, "body": "Is it possible to do it in local ArrayList ? (in the class only) ? I tried, but didn&#39;t worked."}, {"owner": {"reputation": 56, "user_id": 10657078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RGCfcv49Djg/AAAAAAAAAAI/AAAAAAAAAEg/LNmiTI1Do6s/photo.jpg?sz=128", "display_name": "Matteo Alberghini", "link": "https://stackoverflow.com/users/10657078/matteo-alberghini"}, "reply_to_user": {"reputation": 125, "user_id": 9192925, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535842399832996/picture?type=large", "display_name": "Morgan Tartreau", "link": "https://stackoverflow.com/users/9192925/morgan-tartreau"}, "edited": false, "score": 0, "creation_date": 1550591662, "post_id": 54767925, "comment_id": 96320449, "body": "@MorganTartreau I would save it in the local array like you are doing now, then run a local function that takes it out of the array and does whatever you need to do with it!"}, {"owner": {"reputation": 125, "user_id": 9192925, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535842399832996/picture?type=large", "display_name": "Morgan Tartreau", "link": "https://stackoverflow.com/users/9192925/morgan-tartreau"}, "edited": false, "score": 0, "creation_date": 1550592735, "post_id": 54767925, "comment_id": 96321119, "body": "That&#39;s what I&#39;ve ended up with, now I know that Fuel works in a background Thread, I missed that."}, {"owner": {"reputation": 56, "user_id": 10657078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RGCfcv49Djg/AAAAAAAAAAI/AAAAAAAAAEg/LNmiTI1Do6s/photo.jpg?sz=128", "display_name": "Matteo Alberghini", "link": "https://stackoverflow.com/users/10657078/matteo-alberghini"}, "reply_to_user": {"reputation": 125, "user_id": 9192925, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535842399832996/picture?type=large", "display_name": "Morgan Tartreau", "link": "https://stackoverflow.com/users/9192925/morgan-tartreau"}, "edited": false, "score": 0, "creation_date": 1550595585, "post_id": 54767925, "comment_id": 96322803, "body": "@MorganTartreau Glad I helped :)"}], "tags": [], "owner": {"reputation": 56, "user_id": 10657078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RGCfcv49Djg/AAAAAAAAAAI/AAAAAAAAAEg/LNmiTI1Do6s/photo.jpg?sz=128", "display_name": "Matteo Alberghini", "link": "https://stackoverflow.com/users/10657078/matteo-alberghini"}, "is_accepted": true, "score": 1, "last_activity_date": 1550584419, "creation_date": 1550584419, "answer_id": 54767925, "question_id": 54674273, "link": "https://stackoverflow.com/questions/54674273/how-to-get-fuel-result-outside-of-the-fuel-call/54767925#54767925", "title": "How to get Fuel result outside of the fuel call", "body": "<p>Fuel is working on a background thread, which means the function returns before your array is filled. </p>\n\n<p>Example: </p>\n\n<p>Function call: </p>\n\n<pre><code>fun sendToAPI(context: Context, data: someData, f: () -&gt; Unit)\n</code></pre>\n\n<p>as you can see, in the function call we pass a function as a parameter(f), this will be usefull later. </p>\n\n<pre><code>SomeURL.httpPost(formData)\n        .response { _, _, result -&gt; result.fold(\n            success = {\n                // Save data in the array\n                // Runs function\n                f()\n                context.showToast(\"success\")\n            },\n            failure = { error -&gt;\n                context.showToast(error.message!!)\n            }\n        ) }\n</code></pre>\n\n<p>Basically, in the success statement you want to save your array, You can do so in different methods, I personally like to have a singleton which stores all my data (you can create one with the object keyword in kotlin)</p>\n\n<p>Then we run the function passed as a parameter, where you want to get the data out of the singleton and do what you want with it. </p>\n"}, {"tags": [], "owner": {"reputation": 799, "user_id": 2980967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ecQ8D.jpg?s=128&g=1", "display_name": "dustinevan", "link": "https://stackoverflow.com/users/2980967/dustinevan"}, "is_accepted": false, "score": 0, "last_activity_date": 1580811140, "creation_date": 1580811140, "answer_id": 60055099, "question_id": 54674273, "link": "https://stackoverflow.com/questions/54674273/how-to-get-fuel-result-outside-of-the-fuel-call/60055099#60055099", "title": "How to get Fuel result outside of the fuel call", "body": "<p>By default Fuel makes the call asynchronously. Personally I like using fuel synchronously and handling async in a different part of my application. </p>\n\n<pre><code>val (request, response, result) = \"$yourUrl\".httpGet().response()\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 9192925, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535842399832996/picture?type=large", "display_name": "Morgan Tartreau", "link": "https://stackoverflow.com/users/9192925/morgan-tartreau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 54767925, "answer_count": 2, "score": 0, "last_activity_date": 1580811140, "creation_date": 1550073196, "last_edit_date": 1550134066, "question_id": 54674273, "link": "https://stackoverflow.com/questions/54674273/how-to-get-fuel-result-outside-of-the-fuel-call", "title": "How to get Fuel result outside of the fuel call", "body": "<p>I'm working on a <strong>kotlin</strong> app on Android and I'm using Fuel to get data from a REST API. </p>\n\n<p>I want to fill my <strong><em>ArrayList</em></strong> with the data from my API. </p>\n\n<p>But if I debug my code, after going inside the <em>Fuel</em> part, my ArrayList is still empty (but it's not empty if I print it inside Fuel). </p>\n\n<p>Why ? And how can I get the result outside the Fuel part ?</p>\n\n<pre><code>val receivedAlerts = ArrayList&lt;String&gt;()\nvar jsonArray : JSONArray\nval resultActus = Fuel.get(Constants.urlAlertes).responseJson { request, response, result -&gt;\n    Log.i(TAG, result.get().obj().toString())\n    result.fold({\n        json -&gt;\n        jsonArray = JSONArray(json.content)\n\n        if(jsonArray.length() &gt; 0){\n            (0 until jsonArray.length()).forEach {\n                val item = jsonArray.getJSONObject(it)\n                val id = item.getString(\"ID\")\n                receivedAlerts.add(id)\n            }\n        }\n    }, {\n        err -&gt;\n        Log.i(\"error\", err.toString())\n    })\n}\n    Log.i(TAG, \"from getReceivedAlerts $receivedAlerts\")\n</code></pre>\n\n<p>No one knows ?</p>\n"}, {"tags": ["kotlin", "jax-rs", "jersey-1.0"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1550073655, "post_id": 54674096, "comment_id": 96138369, "body": "5xx errors with JAX-RS represent some kind of exception being thrown.  Do you have that exception handy?"}, {"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 0, "creation_date": 1550073835, "post_id": 54674096, "comment_id": 96138469, "body": "It can possible be due to <code>createMessage</code> taking <code>String</code> but your POST body contains JSON that might likely be marshalled into POJO with one <code>test</code> field."}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1550093273, "post_id": 54674096, "comment_id": 96148241, "body": "Register <a href=\"https://stackoverflow.com/a/31289875/2587435\">this DebugExceptionMapper</a> with your application. Most likely you will see the exception that is being swallowed by the container. If after seeing the exception, you can&#39;t figure out how to fix it, post the exception/stacktrace here."}], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 10997589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd205da5c101d996111d97005f3e1e76?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/10997589/joe"}, "is_accepted": false, "score": 0, "last_activity_date": 1550074752, "creation_date": 1550074752, "answer_id": 54674842, "question_id": 54674096, "link": "https://stackoverflow.com/questions/54674096/why-post-endpoint-not-being-invoked-but-get-endpoint-is-being-invoked-jersey-c/54674842#54674842", "title": "Why POST endpoint not being invoked but GET endpoint is being invoked - jersey container grizzly2", "body": "<p>Without seeing the actual underlying exception, it's hard to say for sure, but likely you're running into similar issues as <a href=\"https://stackoverflow.com/questions/5392413/jersey-return-a-list-of-strings\">Jersey: Return a list of strings</a> with mismatches between a <code>String</code> type and a <code>MediaType.APPLICATION_JSON</code> produces/consumes declarations.  If you're dealing in raw strings, I'd suggest using MediaType.PLAIN_TEXT, or having your post body and return value be an entity that can be represented as a non-raw-string json object (ie, something enclosed in <code>{}</code>), and making sure a jackson provider is registered with jersey.</p>\n"}], "owner": {"reputation": 21, "user_id": 9506917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jay F.", "link": "https://stackoverflow.com/users/9506917/jay-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550074752, "creation_date": 1550072630, "last_edit_date": 1550073603, "question_id": 54674096, "link": "https://stackoverflow.com/questions/54674096/why-post-endpoint-not-being-invoked-but-get-endpoint-is-being-invoked-jersey-c", "title": "Why POST endpoint not being invoked but GET endpoint is being invoked - jersey container grizzly2", "body": "<p>I can't figure out why my GET endpoint gets called but my POST endpoint is not working. When I call <code>curl -v -X GET http://localhost:8080/myresource/test123</code> it succesfully returns <code>hello</code> </p>\n\n<p>But when I call </p>\n\n<pre><code>curl -v -X POST \\\n  http://localhost:8080/myresource \\\n  -H 'Content-Type: application/json' \\\n  -d '{\"test\": \"testvalue\"}'\n</code></pre>\n\n<p>I keep getting this response:</p>\n\n<pre><code>* Connected to localhost (::1) port 8080 (#0)\n\n&gt; POST /myresource HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.54.0\n&gt; Accept: */*\n&gt; Content-Type: application/json\n&gt; Content-Length: 21\n&gt; \n* upload completely sent off: 21 out of 21 bytes\n&lt; HTTP/1.1 500 Request failed.\n&lt; Content-Type: text/html;charset=ISO-8859-1\n&lt; Connection: close\n&lt; Content-Length: 1031\n&lt; \n* Closing connection 0\n&lt;html&gt;&lt;head&gt;&lt;title&gt;Grizzly 2.4.0&lt;/title&gt;&lt;style&gt;&lt;!--div.header {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#003300;font-size:22px;-moz-border-radius-topleft: 10px;border-top-left-radius: 10px;-moz-border-radius-topright: 10px;border-top-right-radius: 10px;padding-left: 5px}div.body {font-family:Tahoma,Arial,sans-serif;color:black;background-color:#FFFFCC;font-size:16px;padding-top:10px;padding-bottom:10px;padding-left:10px}div.footer {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#666633;font-size:14px;-moz-border-radius-bottomleft: 10px;border-bottom-left-radius: 10px;-moz-border-radius-bottomright: 10px;border-bottom-right-radius: 10px;padding-left: 5px}BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;}B {font-family:Tahoma,Arial,sans-serif;color:black;}A {color : black;}HR {color : #999966;}--&gt;&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;div class=\"header\"&gt;Request failed.&lt;/div&gt;&lt;div class=\"body\"&gt;Request failed.&lt;/div&gt;&lt;div class=\"footer\"&gt;Grizzly 2.4.0&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;%\n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>import javax.ws.rs.*\nimport javax.ws.rs.core.MediaType\nimport javax.ws.rs.core.Response\n\n\n@Path(\"myresource\")\nclass HelloWorldResource {\n\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    fun createMessage(testPost: String): Response {\n        return Response.status(200).entity(\"helllo post\").build()\n    }\n\n\n    @GET\n    @Path(\"{testGet}\")\n    @Produces(MediaType.APPLICATION_JSON)\n    fun getMessage(@PathParam(\"testGet\") testGet: String): Response {\n        return Response.status(200).entity(\"hello\").build()\n    }\n}\n\n\n\n</code></pre>\n"}, {"tags": ["android", "firebase-realtime-database", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 585, "user_id": 1767167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjQQf.jpg?s=128&g=1", "display_name": "zeenosaur", "link": "https://stackoverflow.com/users/1767167/zeenosaur"}, "edited": false, "score": 0, "creation_date": 1550117521, "post_id": 54677397, "comment_id": 96154845, "body": "Thanks. Your answer seems to work, except that Firebase calls are asynchronous. Reading from other sources, I can make each Firebase call to behave synchronously and that would work perfectly with what you provided. But I think it&#39;s not a good idea. So, I&#39;ll just rewrite my code so it could deal with the asynchronous nature of data synchronization in Firebase."}], "tags": [], "owner": {"reputation": 820, "user_id": 4072335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01e60f5fbc56b9ba59dde7a80bc59fc?s=128&d=identicon&r=PG&f=1", "display_name": "Can_of_awe", "link": "https://stackoverflow.com/users/4072335/can-of-awe"}, "is_accepted": false, "score": 0, "last_activity_date": 1550083846, "creation_date": 1550083846, "answer_id": 54677397, "question_id": 54673661, "link": "https://stackoverflow.com/questions/54673661/upload-list-of-files-to-firebase-and-return-a-singleliststring/54677397#54677397", "title": "Upload list of files to Firebase and return a Single&lt;List&lt;String&gt;&gt;", "body": "<p>Redesign you function look like this:</p>\n\n<pre><code>fun uploadAudioList(list: MutableList&lt;Audio&gt;, userId: String): Single&lt;List&lt;String&gt;&gt; =\n    Observable.create&lt;String&gt; { emitter -&gt;\n\n        // Call emitter.onNext(url) for each individual upload\n\n        // Call emitter.onComplete() after all elements have been emitted\n\n        // Call emitter.onError(exception) if you want to propagate any exceptions that occur\n\n\n    }.toList() // This function takes every element emitted by Observable&lt;String&gt;, waits for \n               // onComplete() to be called, and then puts them into a Single&lt;List&lt;String&gt;&gt;\n</code></pre>\n\n<p>Now when you want to call your function, use <code>subscribe</code> or <code>blockingGet</code> on <code>uploadAudioList</code> like this:</p>\n\n<pre><code>val urlList = uploadAudioList(...)\n    .subscribeOn(Schedulers.io()) // This specifies that the function should run in the background\n    .observeOn(AndroidSchedulers.mainThread()) // This specifies that the result should be available\n                                               // on this thread (presumably you want the main thread)\n    .blockingGet() // This is a blocking call that waits for the task to finish and return the result\n                   // Use subscribe(...) for more advanced asynchronous use cases\n</code></pre>\n"}], "owner": {"reputation": 585, "user_id": 1767167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjQQf.jpg?s=128&g=1", "display_name": "zeenosaur", "link": "https://stackoverflow.com/users/1767167/zeenosaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559097244, "creation_date": 1550071411, "last_edit_date": 1559097244, "question_id": 54673661, "link": "https://stackoverflow.com/questions/54673661/upload-list-of-files-to-firebase-and-return-a-singleliststring", "title": "Upload list of files to Firebase and return a Single&lt;List&lt;String&gt;&gt;", "body": "<p>I have a function that uploads a list of audio files to Firebase Realtime Database. Each successful file upload returns a <code>downloadUrl</code> and I stored this in a <code>list</code> until the recursion stops. Would it be possible to wrap this function around RxJava to return a <code>Single&lt;List&lt;String&gt;&gt;</code>?</p>\n\n<pre><code>fun uploadAudioList(list: MutableList&lt;Audio&gt;, userId: String){\n\n    val audio = list[index]\n\n    //userid/audio/filename\n    val fileRef = storageReference.child(String.format(FirebaseUtil.ADD_FIREBASE_AUDIO,\n            userId, \"audio\", audio.filename))\n\n    val metadata = StorageMetadata.Builder()\n            .setContentType(audio.mimeType).build()\n\n    fileRef.putFile(audio.uri, metadata)\n            .continueWithTask { task: Task&lt;UploadTask.TaskSnapshot&gt; -&gt;\n                if (!task.isSuccessful) {\n                    Log.e(TAG, \"Audio upload task error ${task.exception!!}\")\n                }\n                return@continueWithTask fileRef.downloadUrl\n            }.addOnCompleteListener { uri -&gt;\n                urlList.add(uri.result.toString()) //Return this as Single&lt;List&lt;String&gt;&gt;\n                if (index &lt; list.lastIndex) {\n                    index++\n                    uploadAudioList(list, userId) //Recursive until all Audio are uploaded\n                }\n            }.addOnFailureListener {\n                Log.e(TAG, \"Uploading audio failed ${it.message}\")\n            }\n}\n</code></pre>\n"}, {"tags": ["android", "testing", "junit", "kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 1, "last_activity_date": 1550073290, "creation_date": 1550073290, "answer_id": 54674308, "question_id": 54673354, "link": "https://stackoverflow.com/questions/54673354/kotlin-mockito-verify-method-calls/54674308#54674308", "title": "Kotlin - Mockito verify method calls", "body": "<p>So your issue here is that you don't actually want to use a mock. When you use a mock, you're required to define the behavior for any method that you call on that instance. So when you call <code>emp.setDetails(\"Henry\", 23)</code>, there is no implementation for that method so nothing happens. The behavior defined in the <code>Employee</code> class will not be used, as <code>emp</code> is just a fake instance of <code>Employee</code> that has not defined any behavior. </p>\n\n<p>For your test scenario, you should prefer to use a real instance, and validate the end result rather than the internal behavior. For instance:</p>\n\n<pre><code>@Test\nfun setDetails_adjustsAge() {\n  val employee = Employee()\n  employee.setDetails(\"Henry\", 23)\n\n  assertEquals(23, employee.age)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1800, "user_id": 1990572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f1dab24a73e53796a61ece1ea0b60747?s=128&d=identicon&r=PG", "display_name": "Anirudh", "link": "https://stackoverflow.com/users/1990572/anirudh"}, "edited": false, "score": 0, "creation_date": 1550640033, "post_id": 54674523, "comment_id": 96337528, "body": "You&#39;re right I had to use a spy for my usecase to work. I did use a spy earlier but didn&#39;t work for me. I figured out the problem in my kotlin code. Thanks for the tip!"}, {"owner": {"reputation": 4581, "user_id": 4138919, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/56c8424e58791f536490bbbd629d890d?s=128&d=identicon&r=PG&f=1", "display_name": "VIN", "link": "https://stackoverflow.com/users/4138919/vin"}, "reply_to_user": {"reputation": 1800, "user_id": 1990572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f1dab24a73e53796a61ece1ea0b60747?s=128&d=identicon&r=PG", "display_name": "Anirudh", "link": "https://stackoverflow.com/users/1990572/anirudh"}, "edited": false, "score": 0, "creation_date": 1550675510, "post_id": 54674523, "comment_id": 96357318, "body": "@Anirudh glad it worked for you! I&#39;d appreciate an upvote or an accepted answer if my answer helped you."}], "tags": [], "owner": {"reputation": 4581, "user_id": 4138919, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/56c8424e58791f536490bbbd629d890d?s=128&d=identicon&r=PG&f=1", "display_name": "VIN", "link": "https://stackoverflow.com/users/4138919/vin"}, "is_accepted": false, "score": 2, "last_activity_date": 1550074243, "last_edit_date": 1550074243, "creation_date": 1550073884, "answer_id": 54674523, "question_id": 54673354, "link": "https://stackoverflow.com/questions/54673354/kotlin-mockito-verify-method-calls/54674523#54674523", "title": "Kotlin - Mockito verify method calls", "body": "<p>As mentioned by @kcoppock, your question includes an improper use of a mock. You should be using mocks to stub out dependencies in order to control their behavior. </p>\n\n<p>In your case, the unit under test is the <code>Employee</code> class and its associated methods. In general, you do not want to mock out the unit under test because you want to know (from your unit test) if your class is behaving the way it should. To accomplish that, you'll want to use a real instance of an <code>Employee</code>, and not a mock.</p>\n\n<p>If you are insistent on using <code>verify</code> on the <code>Employee</code> instance, you can create a <code>spy</code>.</p>\n\n<pre><code>@Test\nfun setDetails_adjustsAge() {\n  val employee = spy(Employee())\n  employee.setDetails(\"Henry\", 23)\n\n  assertEquals(23, employee.age)\n  verify(emp, times(1)).setAge(23)\n}\n</code></pre>\n\n<p>Here are some references for further reading:</p>\n\n<ol>\n<li><p>Mockito official documentation on spies:\n<a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.24.0/org/mockito/Mockito.html#13\" rel=\"nofollow noreferrer\">http://static.javadoc.io/org.mockito/mockito-core/2.24.0/org/mockito/Mockito.html#13</a></p></li>\n<li><p>Tutorial on how to use <code>Mockito.spy</code>\n<a href=\"https://www.baeldung.com/mockito-spy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-spy</a></p></li>\n<li><p>Differences between mock and spy: <a href=\"https://www.toptal.com/java/a-guide-to-everyday-mockito\" rel=\"nofollow noreferrer\">https://www.toptal.com/java/a-guide-to-everyday-mockito</a></p></li>\n</ol>\n"}], "owner": {"reputation": 1800, "user_id": 1990572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f1dab24a73e53796a61ece1ea0b60747?s=128&d=identicon&r=PG", "display_name": "Anirudh", "link": "https://stackoverflow.com/users/1990572/anirudh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8816, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1550739313, "creation_date": 1550070503, "last_edit_date": 1550739313, "question_id": 54673354, "link": "https://stackoverflow.com/questions/54673354/kotlin-mockito-verify-method-calls", "title": "Kotlin - Mockito verify method calls", "body": "<p>I'm trying my hand with Mockito for writing unit test's. I have a class that needs to be tested like below-</p>\n\n<pre><code>open class Employee {\n  fun setDetails(name: String, age: Int) {\n    setName(name)\n    setAge(age)\n  }\n\n  fun setName(name: String) { }\n\n  fun setAge(age: Int) { }\n}\n</code></pre>\n\n<p>Below is my test class</p>\n\n<pre><code>class EmployeeTest {\n  @Mock\n  lateinit var emp: Employee\n\n  @Before\n  fun setup() {\n    MockitoAnnotations.initMocks(this)\n  }\n\n  @Test\n  fun testDetail() {\n    emp.setDetails(\"Henry\", 23)\n\n    verify(emp, times(1)).setAge(23)\n  }\n\n}\n</code></pre>\n\n<p>Here is my problem</p>\n\n<p>When I do -</p>\n\n<pre><code>verify(emp, times(1)).setAge(23)\n</code></pre>\n\n<p>This give's me a success, because setAge is called once in setDetails() of Employee.kt. So that works fine for me</p>\n\n<p>But, when I do- </p>\n\n<pre><code>verify(emp, never()).setAge(23)\n</code></pre>\n\n<p>This still gives me a success, even though the method is called in setDetails(). Shouldn't this test case fail?</p>\n\n<p>Please help me understand this. I haven't been able to figure out why this happens.</p>\n\n<p><strong>EDIT</strong>\nHere's what worked for me\nI used a spy instead of a mock. However, I had to also declare the methods as open in Kotlin.</p>\n"}, {"tags": ["kotlin", "slf4j"], "comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1550071656, "post_id": 54673250, "comment_id": 96137187, "body": "<code>this::class.java</code> is too long, just <code>javaClass</code> is the best"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1550072757, "post_id": 54673250, "comment_id": 96137842, "body": "@EugenePetrenko length is irrelevant. <code>javaClass</code> is also discouraged, and IntelliJ will complain about it."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1550072861, "post_id": 54673250, "comment_id": 96137899, "body": "Also, isn&#39;t this pretty much a repost of <a href=\"https://stackoverflow.com/q/54671346/6296561\">stackoverflow.com/q/54671346/6296561</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1550072340, "creation_date": 1550072340, "answer_id": 54673987, "question_id": 54673250, "link": "https://stackoverflow.com/questions/54673250/why-kotlins-loop-for-not-work-correct-with-org-slf4j-logger/54673987#54673987", "title": "Why Kotlin&#39;s loop (for) not work correct with org.slf4j.Logger?", "body": "<p>Try:</p>\n\n<pre><code>override fun run(configuration: AppConfig?, environment: Environment?) {\n        val logger = LoggerFactory.getLogger(this::class.java)\n        javaClass.getResourceAsStream(\"/pairs_ids.txt\").bufferedReader().use { reader -&gt; reader.readLines() }.forEach { line -&gt; logger.info(line) }\n    }\n</code></pre>\n\n<p>When playing with input/output streams, use Kotlin's <code>use</code> extension methods, and do all of your processing inside of the <code>use</code> block.</p>\n\n<p>This will handle all opening and closing of the streams so that there are no leaks, or forgetting to close/flush etc.</p>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1550075004, "creation_date": 1550070171, "last_edit_date": 1550075004, "question_id": 54673250, "link": "https://stackoverflow.com/questions/54673250/why-kotlins-loop-for-not-work-correct-with-org-slf4j-logger", "title": "Why Kotlin&#39;s loop (for) not work correct with org.slf4j.Logger?", "body": "<p>In my Kotlin project in folder src/resources/ I has file pairs_ids.txt.</p>\n\n<p>Here code:\nThis is a property file:</p>\n\n<pre><code>key=value\n</code></pre>\n\n<p>The count of all lines are <strong>1389</strong>.</p>\n\n<p>Here code that read content of this file line by line.</p>\n\n<pre><code>import org.slf4j.LoggerFactory\nprivate val logger = LoggerFactory.getLogger(\"Exchange\")\n\n private var allSymbolsIDsMap: Map&lt;String, String&gt; = mapOf()    \n val pairsIDs = getResourceAsText(\"/pairs_ids.txt\")\n allSymbolsIDsMap = pairsIDs.split(\",\").associate {\n val (left, right) = it.split(\"=\")\n          left to right.toString()\n }\n logger.info(\"allSymbolsIDsMap_size = \" + allSymbolsIDsMap.size)\n var countAllSymbolHandler = 0\n for ((key, value) in allSymbolsIDsMap) {\n   countAllSymbolHandler++\n   logger.info(\"countAllSymbolHandler = $countAllSymbolHandler\")\n}\n\nprivate fun getResourceAsText(path: String): String {\n    return object {}.javaClass.getResourceAsStream(path).bufferedReader().use { it.readText() }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p>Start project:</p>\n\n<pre><code>allSymbolsIDsMap_size = 1389\nStart project - \"countAllSymbolHandler =\" print 1113 times\n</code></pre>\n\n<p>Again start project:</p>\n\n<pre><code>allSymbolsIDsMap_size = 1389\n\"countAllSymbolHandler =\" print 242 times\n</code></pre>\n\n<p>If replace <code>logger.info</code> by simple <code>println</code> then success work. The count is always <strong>1389</strong>. </p>\n\n<p>Why loop (for) not work correct with <strong>logger</strong>?</p>\n"}, {"tags": ["android", "kotlin", "out-of-memory", "dialogfragment"], "comments": [{"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "edited": false, "score": 0, "creation_date": 1550071021, "post_id": 54673226, "comment_id": 96136774, "body": "Somethings not adding up here. I don&#39;t think you have supplied enough information. OutOfMemory typically comes from poor image handling or infinite circular calls of reserving memory. Confirm you are not attempting to launch this in a loop and confirm you are not using any images whatsoever. If you are using images, then what bucket did you put them in and what size are they."}], "answers": [{"tags": [], "owner": {"reputation": 6533, "user_id": 570168, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b212792627d3184a74a5c2a5ab23d73a?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/570168/tobias"}, "is_accepted": false, "score": 0, "last_activity_date": 1550071108, "creation_date": 1550071108, "answer_id": 54673564, "question_id": 54673226, "link": "https://stackoverflow.com/questions/54673226/android-getting-outofmemoryerror-when-instantiating-a-dialogfragment/54673564#54673564", "title": "Android getting OutOfMemoryError when instantiating a DialogFragment", "body": "<p>This sounds like loop.</p>\n\n<p>Try to remove <code>getDialog().cancel()</code> and just return null instead.</p>\n\n<p>You don't need to explicitely close <code>Dialog</code>es.</p>\n"}, {"tags": [], "owner": {"reputation": 852, "user_id": 963038, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jiLcX.jpg?s=128&g=1", "display_name": "Md. Tahmid Mozaffar", "link": "https://stackoverflow.com/users/963038/md-tahmid-mozaffar"}, "is_accepted": false, "score": 0, "last_activity_date": 1550071954, "creation_date": 1550071954, "answer_id": 54673841, "question_id": 54673226, "link": "https://stackoverflow.com/questions/54673226/android-getting-outofmemoryerror-when-instantiating-a-dialogfragment/54673841#54673841", "title": "Android getting OutOfMemoryError when instantiating a DialogFragment", "body": "<p>I think you are doing it wrong. You don't need to use AlertDialog.Builder as you are already extending from DialogFragment.</p>\n\n<p>You can follow this <a href=\"https://guides.codepath.com/android/using-dialogfragment\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>It is in Java, but in Kotlin it will be similar.</p>\n"}, {"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": true, "score": 1, "last_activity_date": 1550072274, "creation_date": 1550072274, "answer_id": 54673970, "question_id": 54673226, "link": "https://stackoverflow.com/questions/54673226/android-getting-outofmemoryerror-when-instantiating-a-dialogfragment/54673970#54673970", "title": "Android getting OutOfMemoryError when instantiating a DialogFragment", "body": "<p>Don't create your dialog using an alert builder.</p>\n\n<p>Remove your override of <code>onCreateDialog</code>.</p>\n\n<p>Inflate your view in <code>onCreateView</code>:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.dialog_layout, container, false)\n    }\n</code></pre>\n\n<p>Add some buttons to your layout yourself, and set your onClickListeners manually after inflating your view.</p>\n"}], "owner": {"reputation": 755, "user_id": 1286214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3800e55981ddc5f7a5b6766ec2a433e6?s=128&d=identicon&r=PG", "display_name": "OLee Csobert", "link": "https://stackoverflow.com/users/1286214/olee-csobert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 54673970, "answer_count": 3, "score": 0, "last_activity_date": 1550312138, "creation_date": 1550070109, "last_edit_date": 1550312138, "question_id": 54673226, "link": "https://stackoverflow.com/questions/54673226/android-getting-outofmemoryerror-when-instantiating-a-dialogfragment", "title": "Android getting OutOfMemoryError when instantiating a DialogFragment", "body": "<p>I am reading <a href=\"https://developer.android.com/guide/topics/ui/dialogs\" rel=\"nofollow noreferrer\">this</a> from Google about using <code>DialogFragment</code>. Everything works until the section <em>Creating a Custom Layout</em>: when the call is done to display a DialogFragment with a custom layout I get a <code>OutOfMemoryError</code> exception.</p>\n\n<p>I have just slighty modified the code from the article, and my app only contains the 3 elements below:</p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        fab.setOnClickListener { view -&gt;\n            showDialog()\n        }\n    }\n\n\n    fun showDialog() {\n        // Create an instance of the dialog fragment and show it\n        val dialog = FireMissilesDialogFragment()\n        dialog.show(supportFragmentManager, \"NoticeDialogFragment\")\n    }\n\n}\n</code></pre>\n\n<p><strong>FireMissilesDialogFragment.kt</strong></p>\n\n<pre><code>class FireMissilesDialogFragment : DialogFragment() {\n\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        return activity?.let {\n            val builder = AlertDialog.Builder(it)\n\n            // Inflate and set the layout for the dialog\n            // Pass null as the parent view because its going in the dialog layout\n            builder.setView(layoutInflater.inflate(R.layout.dialog_layout, null))\n                // Add action buttons\n                .setPositiveButton(R.string.ok) { dialog, id -&gt;\n                    Log.d(\"FireMissiles\", \"TEST\")\n                }\n                .setNegativeButton(R.string.cancel) { dialog, id -&gt;\n                    getDialog().cancel()\n                }\n            builder.create()\n        } ?: throw IllegalStateException(\"Activity cannot be null\")\n    }\n}\n</code></pre>\n\n<p><strong>dialog_layout.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:layout_width=\"wrap_content\"\n              android:layout_height=\"wrap_content\"&gt;\n\n    &lt;EditText\n            android:id=\"@+id/username\"\n            android:inputType=\"textEmailAddress\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"16dp\"\n            android:layout_marginLeft=\"4dp\"\n            android:layout_marginRight=\"4dp\"\n            android:layout_marginBottom=\"4dp\"\n            android:hint=\"@string/ok\" android:importantForAutofill=\"no\"/&gt;\n    &lt;EditText\n            android:id=\"@+id/password\"\n            android:inputType=\"textPassword\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"4dp\"\n            android:layout_marginLeft=\"4dp\"\n            android:layout_marginRight=\"4dp\"\n            android:layout_marginBottom=\"16dp\"\n            android:fontFamily=\"sans-serif\"\n            android:hint=\"@string/cancel\" android:importantForAutofill=\"no\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>My code has only these 3 elements above. I guess there is somewhere a memory leak but I cannot find it.</p>\n\n<p>Does someone have an idea?</p>\n\n<hr>\n\n<p><strong>Answers to comments and solution:</strong></p>\n\n<p>@Sam I do not use any image, this project is just a attempt to use DialogFragment, \nhence it is based on standard empty <code>Activity</code> project with fab, only thing I did not show is the <code>activity_main.xml</code> but it is the standard one.</p>\n\n<p>@Tobias, thanks for the hint but it did not solve the problem :(</p>\n\n<p>@user8159708, thank you!! that solved the problem. My code is now (and it is the only thing I changed):</p>\n\n<pre><code>class FireMissilesDialogFragment : DialogFragment() {\n\n    lateinit var mView: View\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        mView = inflater.inflate(R.layout.dialog_layout, container, false)\n\n        setDialog()\n\n        return mView\n    }\n\n    fun setDialog(){\n        activity?.let {\n            val builder = AlertDialog.Builder(it)\n\n            // Inflate and set the layout for the dialog\n            // Pass null as the parent view because its going in the dialog layout\n            builder.setView(mView)\n                // Add action buttons\n                .setPositiveButton(R.string.ok) { dialog, id -&gt;\n                    Log.d(\"FireMissiles\", \"TEST\")\n                }\n                .setNegativeButton(R.string.cancel) { dialog, id -&gt;\n                    Log.d(\"FireMissiles\", \"TEST\")\n                    //getDialog().cancel()\n                }\n            builder.create()\n        } ?: throw IllegalStateException(\"Activity cannot be null\")\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-adapter", "android-dialogfragment", "android-dialog"], "answers": [{"comments": [{"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550071752, "post_id": 54673710, "comment_id": 96137239, "body": "Where did you get <code>myActivity</code> from?"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550071881, "post_id": 54673710, "comment_id": 96137314, "body": "My first comment :). I said &quot;modify it slightly&quot; pass your activity into the recycler view. Here i will update to help you, I assumed you made the recycler view"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550071911, "post_id": 54673710, "comment_id": 96137331, "body": "Also please don&#39;t name it myActivity lol, that was for example purposes"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550072553, "post_id": 54673710, "comment_id": 96137720, "body": "The RecyclerView was alerdy made + I&#39;m using a <code>Fragment</code> (not <code>Activity</code>) to show my <code>RecyclerView</code>."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550072733, "post_id": 54673710, "comment_id": 96137828, "body": "What do I replace <code>mySavedActivity</code> with?"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550073172, "post_id": 54673710, "comment_id": 96138100, "body": "I still get this error: <code>Unresolved reference: getChildFragmentManager</code>"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550073613, "post_id": 54673710, "comment_id": 96138345, "body": "MacaronLover, what is your level of Android experience? I need to know so I don&#39;t over explain. Your error is because you are attempting to get something again from the wrong context. try myActivity.getChildFragmentManager() but also it matters if you are using support fragments and support activity or if you are using standard activity and fragment as you will need the get support child fragment manager call if you are working with support activity."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550074147, "post_id": 54673710, "comment_id": 96138672, "body": "My level is between beginner &amp; intermediate. I&#39;m not using support fragments, I&#39;m using AndroidX."}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550074481, "post_id": 54673710, "comment_id": 96138883, "body": "ok great, so you should understand context and fragment manager. If you are not getting a fragment manager that means you are not trying to get it from an inappropriate context, so use the activity like i showed you above and let me know if that resolves your issue."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550074644, "post_id": 54673710, "comment_id": 96138984, "body": "Isn&#39;t <code>mySavedActivity</code> supposed to be <code>myActivity</code>?"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550079495, "post_id": 54673710, "comment_id": 96141800, "body": "I think you need to update your shared code as now I have no idea what you are asking now lol. I wrote you an example adapter that has a variable called myActivity. If you renamed that to mySavedActivity that is fine."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550080773, "post_id": 54673710, "comment_id": 96142477, "body": "I didn&#39;t rename it to that"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550080802, "post_id": 54673710, "comment_id": 96142492, "body": "Great, so what are you asking then?"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550080954, "post_id": 54673710, "comment_id": 96142567, "body": "I applied your suggestions but the eroor still remains. See my latest screenshot"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1550171174, "post_id": 54673710, "comment_id": 96181942, "body": "Macaron what does your activity extend? Is it a FragmentActivity or an AppCompatActivity. If you are adding this dialog into a fragment then you can use getChildFragmentManager if you are in a correct type of Activity. Otherwise if you are adding to an activity then you should use getSupportFragmentManager or getFragmentManager depending on your activity type and dialog type."}], "tags": [], "owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1550080787, "last_edit_date": 1550080787, "creation_date": 1550071561, "answer_id": 54673710, "question_id": 54672716, "link": "https://stackoverflow.com/questions/54672716/custom-view-appears-blank-in-alertdialog/54673710#54673710", "title": "Custom view appears blank in AlertDialog", "body": "<p>I suspect it's based on the context inflating the view. Try modifying it just slightly. Pass your activity into the recyclerview and save an instance of it there. This is strictly for a test purposes.</p>\n\n<p>Like so:</p>\n\n<pre><code>class MyRVAdapter(private val myList: ArrayList&lt;Facility&gt;, val myActivity: Activity) : RecyclerView.Adapter&lt;RVAdapterFacilities.ViewHolder&gt;() {\n</code></pre>\n\n<p>I'm guessing your issue is here:</p>\n\n<pre><code>val builder = android.app.AlertDialog.Builder(holder.itemView.context)\n</code></pre>\n\n<p>Try doing this.</p>\n\n<pre><code>val builder = android.app.AlertDialog.Builder(myActivity)\nval view = myActivity.layoutInflater.inflate(R.layout.dialog_layout, null)\n</code></pre>\n\n<p>If that works for you, then it is your inflation process that needs the Activity context rather than your adapter context.</p>\n\n<p>Then it's up to you if you want to retain your activity context in the adapter or if you are ok handling the dialog inflation outside of the adapter.</p>\n\n<p>My personal preference is to make a callback for handling click events that passes out the item and/or index and allow the owning activity to do any inflating. That would be my recommendation, but for testing purposes you can do above and make the call yourself.</p>\n\n<p>Happy Coding.</p>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550080924, "creation_date": 1550068567, "last_edit_date": 1550080924, "question_id": 54672716, "link": "https://stackoverflow.com/questions/54672716/custom-view-appears-blank-in-alertdialog", "title": "Custom view appears blank in AlertDialog", "body": "<p>Why is that my custom view doesn't appear within my <code>AlertDialog</code> whenever I try to use it for my <code>RecyclerView</code> adapter? I created the necessary adapters and classes, but for some reason I'm not seeing any of my custom layout as expected.</p>\n\n<p><strong>expected result</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/3TDcH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3TDcH.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>current result</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/B27JQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B27JQ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>adapter</strong></p>\n\n<pre><code>class MyRVAdapter(private val myList: ArrayList&lt;Facility&gt;) : RecyclerView.Adapter&lt;RVAdapterFacilities.ViewHolder&gt;() {\n    override fun getItemCount(): Int {\n        return facilitiesList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        // Hide LinearLayout containing TextViews on fragment load\n        holder.mLLTextViews.visibility = View.GONE\n\n        val item = facilitiesList[position]\n\n        holder.myButton.setOnClickListener {\n            // Initialize a new instance of AlertDialog\n            val builder = android.app.AlertDialog.Builder(holder.itemView.context)\n\n            // Set the alert dialog title\n            builder.setTitle(\"Dialog title\")\n\n            // Set the alert dialog icon\n            builder.setIcon(R.drawable.ic_info_black_24dp)\n\n            // Set the alert dialog view\n            builder.setView(R.layout.fragment_dialog)\n\n            // Find TabLayout and ViewPager views\n            val tabLayout: TabLayout = holder.itemView.findViewById(R.id.m_dialog_tabs) as TabLayout\n            val viewPager: ViewPager = holder.itemView.findViewById(R.id.m_dialog_viewPager) as ViewPager\n\n            // Set classes per tab, set tab names\n            val adapter = CustomAdapter(getChildFragmentManager())\n            adapter.addFragment(\"Boy\",CustomFragment.createInstance(\"John\"));\n            adapter.addFragment(\"Girl\",CustomFragment.createInstance(\"Stacy\"));\n            adapter.addFragment(\"Robot\", CustomFragment.createInstance(\"Aeon\"));\n            viewPager.adapter = adapter\n            tabLayout.setupWithViewPager(viewPager)\n\n            // Set TabLayout text colour\n            // Set TabLayout indicator colour\n            tabLayout.setTabTextColors(holder.itemView.resources.getColor(R.color.piccadilly, null), holder.itemView.resources.getColor(R.color.grey, null))\n            tabLayout.setSelectedTabIndicatorColor(holder.itemView.resources.getColor(R.color.grey, null))\n\n\n            // Display a positive button on alert dialog\n            builder.setPositiveButton(R.string.ok){ dialog, _ -&gt; dialog.dismiss()}\n\n            // Finally, make the alert dialog using 'builder'\n            val dialog: android.app.AlertDialog = builder.create()\n\n            // Display the alert dialog on app interface\n            dialog.show()\n        }\n     }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.my_cv, parent, false)\n        return ViewHolder(v)\n    }\n\n    // button view holder\n    class ViewHolder (itemView : View):RecyclerView.ViewHolder(itemView) {\n        val myBtn = itemView.findViewById&lt;Button&gt;(R.id.my_btn)!!\n    }\n}\n</code></pre>\n\n<p><strong>CustomFragment class</strong></p>\n\n<pre><code>class CustomFragment : androidx.fragment.app.Fragment() {\n    private var mText = \"\"\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val v = inflater.inflate(R.layout.fragment_sample, container, false)\n        (v.findViewById(R.id.textView_sample) as TextView).text = mText\n        return v\n    }\n\n    companion object {\n        fun createInstance(txt: String): CustomFragment {\n            val fragment = CustomFragment()\n            fragment.mText = txt\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p><strong>CustomAdapter class</strong></p>\n\n<pre><code>class CustomAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n    private var mFragmentCollection: MutableList&lt;Fragment&gt; = ArrayList()\n    private var mTitleCollection: MutableList&lt;String&gt; = ArrayList()\n    fun addFragment(title: String, fragment: Fragment) {\n        mTitleCollection.add(title)\n        mFragmentCollection.add(fragment)\n    }\n\n    override fun getPageTitle(position: Int): CharSequence? {\n        return mTitleCollection[position]\n    }\n\n    override fun getItem(position: Int): Fragment {\n        return mFragmentCollection[position]\n    }\n\n    override fun getCount(): Int {\n        return mFragmentCollection.size\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5VZpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5VZpZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1918, "user_id": 3520299, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a102e18ea81e973678e73d37465328e5?s=128&d=identicon&r=PG&f=1", "display_name": "SamIAmHarris", "link": "https://stackoverflow.com/users/3520299/samiamharris"}, "edited": false, "score": 0, "creation_date": 1550164182, "post_id": 54675737, "comment_id": 96178885, "body": "I was able to accomplish it with Java. Currently planning on having interface/base abstract class setup in Java and then use Kotlin for all implementations.  I do need to read up on any risks this could cause, but it is currently working now and enforcing correct subclass/implementor type at compile time."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1550077421, "creation_date": 1550077421, "answer_id": 54675737, "question_id": 54672556, "link": "https://stackoverflow.com/questions/54672556/force-more-specific-subclass-type-with-generics-in-kotlin/54675737#54675737", "title": "Force More Specific Subclass Type with Generics in Kotlin", "body": "<p>I don't think there's a good way, I'm afraid.</p>\n\n<p>The traditional Java approach fudges it by using recursive type parameters.\u00a0 You could give your <code>WLWidget</code> interface a type parameter of the actual subclass, like <code>WLWidget&lt;T : WLWidget&lt;T&gt;&gt;</code>, and then make all the knock-on changes.\u00a0 But that's ugly and doesn't handle all cases.\u00a0 (<a href=\"https://stackoverflow.com/questions/54304896/recursive-type-parameters-in-kotlin\">See</a> <a href=\"https://stackoverflow.com/questions/44466716/is-it-possible-to-create-a-recursive-function-type-in-kotlin\">these</a> <a href=\"https://stackoverflow.com/questions/44408683/higher-order-or-recursive-generic-type-parameters-in-kotlin\">other</a> <a href=\"https://stackoverflow.com/questions/29565043/how-to-specify-own-type-as-return-type-in-kotlin\">questions</a> for more info.)</p>\n\n<p>There have been <a href=\"https://discuss.kotlinlang.org/t/self-types/371\" rel=\"nofollow noreferrer\">discussions</a> about adding self types to Kotlin, which would probably be a better match for your case, but they're not here yet.</p>\n"}], "owner": {"reputation": 1918, "user_id": 3520299, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a102e18ea81e973678e73d37465328e5?s=128&d=identicon&r=PG&f=1", "display_name": "SamIAmHarris", "link": "https://stackoverflow.com/users/3520299/samiamharris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550077421, "creation_date": 1550068047, "question_id": 54672556, "link": "https://stackoverflow.com/questions/54672556/force-more-specific-subclass-type-with-generics-in-kotlin", "title": "Force More Specific Subclass Type with Generics in Kotlin", "body": "<p>I am working on a library that has a few interfaces that are related to each other.</p>\n\n<p>Main example is <code>ViewModel&lt;M: Model, W: Widget&gt;</code>. Then we have an interface for Model and interface for Widget. </p>\n\n<p>The widget interface has a method that takes in a ViewModel object and then uses it to configure itself.</p>\n\n<p><code>abstract fun configure(viewModel: ViewModel&lt;M: Model, W: Widget&gt;)</code></p>\n\n<p>I am looking for a way to make that method require the subclass implementation of ViewModel, instead of just the interface.</p>\n\n<p>So a ContainerWidget would need this method: <code>fun configure(viewModel: ContainerViewModel)</code></p>\n\n<p>The library I am emulating is using Swift and does this with their associated type keyword, which says you can tell us the type later. </p>\n\n<p>Does anyone know an option like that for Kotlin? </p>\n\n<p>Thanks a lot for the help.</p>\n\n<pre><code>abstract class WLViewModel&lt;DataModel : WLDataModel, WidgetType : WLWidget&gt;(val dataModel: DataModel) {\n    abstract fun configure(view: WidgetType)\n}\n\ninterface WLWidget {\n    var viewModel: WLViewModel&lt;WLDataModel, WLWidget&gt; \n\n    fun &lt;M, O : WLDataModel, T : WLWidget&gt; configure(viewModel: M) where M : WLViewModel&lt;O, T&gt;\n}\n\ninterface WLDataModel\n\nfun WLWidget.create(viewModel: WLViewModel&lt;WLDataModel, WLWidget&gt;) {\n    configure(viewModel)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "sonarqube", "android-testing", "jacoco"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 5902660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c9b9be9cb0c1218d0e924128cdf0bb?s=128&d=identicon&r=PG&f=1", "display_name": "Alucara", "link": "https://stackoverflow.com/users/5902660/alucara"}, "is_accepted": false, "score": 1, "last_activity_date": 1565280024, "creation_date": 1565280024, "answer_id": 57416634, "question_id": 54672499, "link": "https://stackoverflow.com/questions/54672499/tests-coverage-not-displayed-in-sonarqube-report/57416634#57416634", "title": "Tests coverage not displayed in SonarQube report", "body": "<p>I had the same issue for a long time and the solution is to change your path in the build.gradle :</p>\n\n<pre><code>def debugTree = fileTree(dir: \"$project.buildDir/tmp/kotlin-classes/debug\", excludes: fileFilter)\n</code></pre>\n\n<p>To :</p>\n\n<pre><code>def debugTree = fileTree(dir: \"$project.buildDir/tmp/kotlin-classes/snapshot\", excludes: fileFilter)\n</code></pre>\n\n<p>Otherwise, the .xml generated won't include the coverage for your whole source code and sonarqube will display 0% coverage as a result</p>\n\n<p>Note : my target folder was called 'snapshot' but it might be different for you</p>\n"}], "owner": {"reputation": 167, "user_id": 3549067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfba6ecffae63c821099809cf7c5f2d3?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/3549067/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1100, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1565280024, "creation_date": 1550067897, "question_id": 54672499, "link": "https://stackoverflow.com/questions/54672499/tests-coverage-not-displayed-in-sonarqube-report", "title": "Tests coverage not displayed in SonarQube report", "body": "<p>I try to display the tests coverage in SonarQube of my Android Kotlin app of the code in my app module. I can generate the jacoco coverage results and display SonarQube qualymetrics but the problem is that <strong>the tests coverage is not displayed in SonarQube</strong> :</p>\n\n<p><a href=\"https://imgur.com/a/xOjxLl1\" rel=\"nofollow noreferrer\">https://imgur.com/a/xOjxLl1</a></p>\n\n<p>in my build.gradle of my project I have :</p>\n\n<pre><code>...\ndependencies {\n    classpath 'org.jacoco:org.jacoco.core:0.8.3'\n}\n...\n</code></pre>\n\n<p>in my build.gradle of my app module</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'org.sonarqube'\napply plugin: 'jacoco'\n\njacoco {\n    toolVersion = '0.8.3'\n}\n\ntasks.withType(Test) {\n    jacoco.includeNoLocationClasses = true\n}\nandroid {\n   ...\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            testCoverageEnabled true\n        }\n        debug {\n            testCoverageEnabled true\n        }\n     testOptions {\n        animationsDisabled true\n        unitTests {\n            returnDefaultValues = true\n            includeAndroidResources = true\n        }\n    }\ntask jacocoTestReport(type: JacocoReport, dependsOn: ['testDebugUnitTest', 'createDebugCoverageReport']) {\n\n    reports {\n        xml.enabled = true\n        html.enabled = true\n    }\n\n    def fileFilter = [ '**/R.class', '**/R$*.class', '**/BuildConfig.*', '**/Manifest*.*', '**/*Test*.*', 'android/**/*.*' ]\n    def debugTree = fileTree(dir: \"$project.buildDir/tmp/kotlin-classes/debug\", excludes: fileFilter)\n    def mainSrc = \"$project.projectDir/src/main/java\"\n\n    sourceDirectories = files([mainSrc])\n    classDirectories = files([debugTree])\n    executionData = fileTree(dir: project.buildDir, includes: [\n            'jacoco/testDebugUnitTest.exec', 'outputs/code-coverage/connected/*coverage.ec'\n    ])\n}\n\nsonarqube {\n    properties {\n        property 'sonar.projectKey', 'mySonarKey'\n        property 'sonar.projectName', 'myProjectName'\n        property \"sonar.host.url\", \"http://localhost:9000\" // local sonar address\n\n        property \"sonar.java.binaries\", 'target/classes,app/build/tmp/kotlin-classes'\n        property \"sonar.sources\", 'src/main/java'\n        property \"sonar.tests\", 'src/androidTest/java'\n\n        property \"sonar.java.coveragePlugin\", \"jacoco\"\n        property \"sonar.coverage.jacoco.xmlReportPaths\", \"./build/reports/jacoco/jacocoTestReport/jacocoTestReport.xml\" //link to xml file that generated by jacoco\n    }\n}\n...\n\n</code></pre>\n\n<p>I generate my jacoco report with :\n<code>gradlew clean jacocoTestReport</code></p>\n\n<p>And generate my sonarqube analysis with :\n<code>gradlew sonarqube</code></p>\n\n<p>the jacoco report is generated myAppName\\app\\build\\reports\\jacoco\\jacocoTestReport\\jacocoTestReport.xml</p>\n\n<p>I also have an html folder next to the report where I can see that my test coverage generated with the right coverage.</p>\n\n<p><strong>So the question is what can I change to display my generated jacoco coverage in SonarQube ?</strong> </p>\n\n<p>(I'm not sure about the sonarqube.properties that I add in my app module build.gradle)</p>\n"}, {"tags": ["android", "kotlin", "coroutine"], "answers": [{"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 25, "last_activity_date": 1550066107, "creation_date": 1550066107, "answer_id": 54671888, "question_id": 54671817, "link": "https://stackoverflow.com/questions/54671817/update-ui-async-call-with-coroutines/54671888#54671888", "title": "Update UI async call with coroutines", "body": "<p>You should fetch from Room using an IO Coroutine, and switch to a Main (UI) Coroutine to update the view.</p>\n\n<p>Try:</p>\n\n<pre><code>GlobalScope.launch(Dispatchers.IO) {\n            val products = ProductProvider.getAllProducts() as ArrayList&lt;Product&gt;\n            withContext(Dispatchers.Main) {\n                favoritesView.showFavorites(products)\n            }\n        }\n</code></pre>\n\n<p>Make sure to have the Android Coroutine library installed so that Main Dispatcher correctly recognises the Android Main Thread.</p>\n\n<pre><code>api \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.1\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3256, "user_id": 6074224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PQXv8.png?s=128&g=1", "display_name": "Biscuit", "link": "https://stackoverflow.com/users/6074224/biscuit"}, "edited": false, "score": 0, "creation_date": 1550067045, "post_id": 54672103, "comment_id": 96134082, "body": "Is there a difference in performance or speed with using GlobalScope and create your own context ?"}, {"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "reply_to_user": {"reputation": 3256, "user_id": 6074224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PQXv8.png?s=128&g=1", "display_name": "Biscuit", "link": "https://stackoverflow.com/users/6074224/biscuit"}, "edited": false, "score": 0, "creation_date": 1550067214, "post_id": 54672103, "comment_id": 96134187, "body": "<a href=\"https://medium.com/@elizarov/the-reason-to-avoid-globalscope-835337445abc\" rel=\"nofollow noreferrer\">medium.com/@elizarov/&hellip;</a>"}, {"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "reply_to_user": {"reputation": 3256, "user_id": 6074224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PQXv8.png?s=128&g=1", "display_name": "Biscuit", "link": "https://stackoverflow.com/users/6074224/biscuit"}, "edited": false, "score": 0, "creation_date": 1550068403, "post_id": 54672103, "comment_id": 96134983, "body": "For Android components you can finish all IO works just cancel job. It prevents memory leaks. See updated answer."}], "tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": false, "score": 7, "last_activity_date": 1550068272, "last_edit_date": 1550068272, "creation_date": 1550066821, "answer_id": 54672103, "question_id": 54671817, "link": "https://stackoverflow.com/questions/54671817/update-ui-async-call-with-coroutines/54672103#54672103", "title": "Update UI async call with coroutines", "body": "<p>It would be better not use GlobalScope, instead use your own CoroutineContext, for example: </p>\n\n<pre><code>class YourActivity : CoroutineScope {\n    private lateinit var job: Job\n\n    // context for io thread\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.IO + job\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    job = Job()\n  }\n\n    fun toDoSmth() {\n        launch {\n            // task, do smth in io thread\n            withContext(Dispatchers.Main) {\n              // do smth in main thread after task is finished\n            }                  \n        }\n    }\n\n   override fun onDestroy() {\n      job.cancel()\n      super.onDestroy()\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 9, "last_activity_date": 1550075455, "last_edit_date": 1550075455, "creation_date": 1550069705, "answer_id": 54673087, "question_id": 54671817, "link": "https://stackoverflow.com/questions/54671817/update-ui-async-call-with-coroutines/54673087#54673087", "title": "Update UI async call with coroutines", "body": "<p><strong>Room 2.1</strong> (currently in alpha) adds support for <strong>Kotlin coroutines</strong>. You can do the following:</p>\n\n<ol>\n<li><p>Mark functions in <code>ProductDao</code> and <code>ProductProvider</code> as <strong>suspend</strong>:</p>\n\n<pre><code>// ProductDao.kt\n@Query(\"SELECT * FROM product\")\nsuspend fun getAllProducts(): List&lt;Product&gt;\n\n// ProductProvider.kt\nsuspend fun getAllProducts(): List&lt;Product&gt; = dao.getAllProducts()\n</code></pre></li>\n<li><p>Create local scope for a coroutine in <code>FavoritesPresenter</code>:</p>\n\n<pre><code>class FavoritesPresenter {\n    private var favoritesView: FavoritesView? = null\n    private val provider: ProductProvider = ...// initialize it somehow\n    private var job: Job = Job()\n    private val scope = CoroutineScope(job + Dispatchers.Main)\n\n    fun getProducts() {\n        scope.launch {\n            favoritesView?.showFavorites(provider.getAllProducts())\n        }\n    }\n\n    fun attachView(view: FavoritesView) {\n        this.favoritesView = view\n    }\n\n    fun detachView() {\n        job.cancel() // cancel the job when Activity or Fragment is destroyed\n        favoritesView = null\n    }\n\n    interface FavoritesView {\n        fun showFavorites(products: List&lt;Product&gt;)\n    }\n}\n</code></pre></li>\n<li><p>Use <code>FavoritesPresenter</code> in <code>Activity</code> or <code>Fragment</code>:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), FavoritesPresenter.FavoritesView {\n    lateinit var presenter: FavoritesPresenter\n    override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       // ...\n       presenter = FavoritesPresenter()\n       presenter.attachView(this)\n       presenter.getProducts()\n\n    }\n\n    override fun onDestroy() {\n        presenter.detachView()\n        super.onDestroy()\n    }\n\n    override fun showFavorites(products: List&lt;Product&gt;) {\n        // use products to update UI\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>To use <strong>Dispatchers.Main</strong> import:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.1'\n</code></pre>\n"}], "owner": {"reputation": 3256, "user_id": 6074224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PQXv8.png?s=128&g=1", "display_name": "Biscuit", "link": "https://stackoverflow.com/users/6074224/biscuit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4993, "favorite_count": 0, "accepted_answer_id": 54673087, "answer_count": 3, "score": 8, "last_activity_date": 1550075455, "creation_date": 1550065956, "question_id": 54671817, "link": "https://stackoverflow.com/questions/54671817/update-ui-async-call-with-coroutines", "title": "Update UI async call with coroutines", "body": "<p>I've got to update the UI with an async call to the Room Database, but when I do I've got this error : android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</p>\n\n<p>// FavoritesPresenter.kt</p>\n\n<pre><code>GlobalScope.launch {\n    favoritesView.showFavorites(ProductProvider.getAllProducts() as ArrayList&lt;Product&gt;)\n}\n</code></pre>\n\n<p>// ProductProvider.kt</p>\n\n<pre><code>fun getAllProducts() : MutableList&lt;Product&gt; {\n    return dao.getAllProducts()\n}\n</code></pre>\n\n<p>// ProductDao.kt</p>\n\n<pre><code>@Query(\"SELECT * FROM product\")\nfun getAllProducts(): MutableList&lt;Product&gt;\n</code></pre>\n\n<p>What I need is to update my UI though my ProductProvider, as I'll use for all my entities I need a reliable solution.</p>\n"}, {"tags": ["android", "kotlin", "bluetooth-lowenergy"], "comments": [{"owner": {"reputation": 1056, "user_id": 1428752, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a829bb58435e3505a225f41641c190b1?s=128&d=identicon&r=PG", "display_name": "leojg", "link": "https://stackoverflow.com/users/1428752/leojg"}, "edited": false, "score": 0, "creation_date": 1550066191, "post_id": 54671632, "comment_id": 96133579, "body": "are you reading the correct characteristic? Check the characteristic uuid to see if you are reading the correct one."}, {"owner": {"reputation": 1, "user_id": 11056676, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AeYUe5fHiKc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPx18fgFRtCF6t9hK2xVOuYuAGYXg/mo/photo.jpg?sz=128", "display_name": "brdalsnes", "link": "https://stackoverflow.com/users/11056676/brdalsnes"}, "reply_to_user": {"reputation": 1056, "user_id": 1428752, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a829bb58435e3505a225f41641c190b1?s=128&d=identicon&r=PG", "display_name": "leojg", "link": "https://stackoverflow.com/users/1428752/leojg"}, "edited": false, "score": 0, "creation_date": 1550066969, "post_id": 54671632, "comment_id": 96134034, "body": "@leojg Thanks! My error was that I had placed .readCharacteristc() outside the if statement. The service should have only one characteristic, but apparently it still caused an error."}, {"owner": {"reputation": 1056, "user_id": 1428752, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a829bb58435e3505a225f41641c190b1?s=128&d=identicon&r=PG", "display_name": "leojg", "link": "https://stackoverflow.com/users/1428752/leojg"}, "edited": false, "score": 0, "creation_date": 1550067761, "post_id": 54671632, "comment_id": 96134525, "body": "no problem mate. IIRC the device will always return a 180A characteristic with the device info first"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11056676, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AeYUe5fHiKc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPx18fgFRtCF6t9hK2xVOuYuAGYXg/mo/photo.jpg?sz=128", "display_name": "brdalsnes", "link": "https://stackoverflow.com/users/11056676/brdalsnes"}, "is_accepted": true, "score": 0, "last_activity_date": 1550067388, "creation_date": 1550067388, "answer_id": 54672308, "question_id": 54671632, "link": "https://stackoverflow.com/questions/54671632/bluetoothgattcharacteristic-value-returns-device-name/54672308#54672308", "title": "BluetoothGattCharacteristic.value returns device name", "body": "<p>This change solved the problem:</p>\n\n<pre><code>override fun onServicesDiscovered(gatt: BluetoothGatt?, status: Int) {\n    if (status == BluetoothGatt.GATT_SUCCESS) {\n        for (service: BluetoothGattService in bluetoothGatt!!.services) {\n            for (characteristic: BluetoothGattCharacteristic in service.characteristics) {\n\n                if(characteristic.uuid == CHARACTERISTIC_UUID){\n                    //Read\n                    bluetoothGatt?.readCharacteristic(characteristic)\n\n                    //Notify\n                    Log.i(TAG, characteristic.getDescriptor(CLIENT_CHARACTERISTIC_CONFIG_UUID).uuid.toString())\n                    bluetoothGatt?.setCharacteristicNotification(characteristic, true)\n                    val descriptor = characteristic\n                        .getDescriptor(CLIENT_CHARACTERISTIC_CONFIG_UUID).apply {\n                            value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE\n                        }\n                    bluetoothGatt?.writeDescriptor(descriptor)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11056676, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AeYUe5fHiKc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPx18fgFRtCF6t9hK2xVOuYuAGYXg/mo/photo.jpg?sz=128", "display_name": "brdalsnes", "link": "https://stackoverflow.com/users/11056676/brdalsnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 54672308, "answer_count": 1, "score": 0, "last_activity_date": 1550067388, "creation_date": 1550065363, "question_id": 54671632, "link": "https://stackoverflow.com/questions/54671632/bluetoothgattcharacteristic-value-returns-device-name", "title": "BluetoothGattCharacteristic.value returns device name", "body": "<p>I am trying to get a sensor value over BLE. I can connect to the sensor and onCharacteristicRead is called, but calling BluetoothGattCharacteristc.value or .getStringValue(0) etc. always returns the sensor device name instead of the characteristic value.</p>\n\n<p>I can access the sensor value with a BLE app on my phone so I know that the sensor is sending the correct value.</p>\n\n<p>BluetoothGattCallback:</p>\n\n<pre><code>private val gattCallback = object : BluetoothGattCallback() {\n\n    override fun onConnectionStateChange(gatt: BluetoothGatt?, status: Int, newState: Int) {\n        if (newState == BluetoothProfile.STATE_CONNECTED) {\n            bluetoothGatt?.discoverServices()\n        }\n    }\n\n    override fun onServicesDiscovered(gatt: BluetoothGatt?, status: Int) {\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            for (service: BluetoothGattService in bluetoothGatt!!.services) {\n                Log.i(TAG, service.uuid.toString())\n                Log.i(TAG, service.characteristics.size.toString())\n                for (characteristic: BluetoothGattCharacteristic in service.characteristics) {\n\n                    //Read\n                    bluetoothGatt?.readCharacteristic(characteristic)\n\n                    if(characteristic.uuid == CHARACTERISTIC_UUID){\n                        //Notify\n                        Log.i(TAG, characteristic.getDescriptor(CLIENT_CHARACTERISTIC_CONFIG_UUID).uuid.toString())\n                        bluetoothGatt?.setCharacteristicNotification(characteristic, true)\n                        val descriptor = characteristic\n                            .getDescriptor(CLIENT_CHARACTERISTIC_CONFIG_UUID).apply {\n                                value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE\n                            }\n                        bluetoothGatt?.writeDescriptor(descriptor)\n                    }\n                }\n            }\n        }\n    }\n\n    override fun onCharacteristicRead(\n        gatt: BluetoothGatt?,\n        characteristic: BluetoothGattCharacteristic?,\n        status: Int\n    ) {\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            Log.i(TAG, characteristic!!.getStringValue(0)) // Returns device name\n            Log.i(TAG, String(characteristic.value))       // Returns device name\n        } else {\n            Log.w(TAG, \"GATT failure\")\n        }\n    }\n\n    override fun onCharacteristicChanged(gatt: BluetoothGatt?, characteristic: BluetoothGattCharacteristic?) {\n        Log.i(TAG, String(characteristic!!.value))\n    }\n}\n</code></pre>\n\n<p>onCharacteristicRead is called, but incorrect values are returned. onCharacteristicChanged is never called even though the sensor values are constantly updating. What have I done wrong?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "higher-order-functions", "android-binding-adapter"], "answers": [{"comments": [{"owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "reply_to_user": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1600114551, "post_id": 54673295, "comment_id": 112980637, "body": "@Andrew <code>app:onClick=&quot;@{(p) -&gt; vm.onAdsClicked(p)}&quot;</code>"}, {"owner": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1600114756, "post_id": 54673295, "comment_id": 112980721, "body": "And how exactly do you define the listener in viewmodel? Wouldn&#39;t you get a reference to the view and therefore break the whole intention of viewmodel? And what is &quot;p&quot;?"}, {"owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "reply_to_user": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1600240001, "post_id": 54673295, "comment_id": 113021029, "body": "@Andrew, no. if you see I&#39;m just passing position. not view. so the code in VM is just a function named <code>onAdsClicked</code> with one parameter: <code>position: Int</code>"}], "tags": [], "owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "is_accepted": true, "score": 3, "last_activity_date": 1550070329, "creation_date": 1550070329, "answer_id": 54673295, "question_id": 54671534, "link": "https://stackoverflow.com/questions/54671534/higher-order-function-in-bindingadapter/54673295#54673295", "title": "Higher order function in BindingAdapter", "body": "<p>Switching from hoc func to the the listener of this custom view worked for me:</p>\n\n<pre><code>import com.synnapps.carouselview.ImageClickListener\n\n@BindingAdapter(\"onClick\")\nfun setOnClick(carouselView: CarouselView, imageClickListener: ImageClickListener) {\n    carouselView.setImageClickListener(imageClickListener)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "edited": false, "score": 0, "creation_date": 1551796230, "post_id": 55001296, "comment_id": 96765313, "body": "but i don&#39;t see how to pass this parameter in xml?"}, {"owner": {"reputation": 5887, "user_id": 1720329, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/MbNQe.jpg?s=128&g=1", "display_name": "Bogdan Zurac", "link": "https://stackoverflow.com/users/1720329/bogdan-zurac"}, "reply_to_user": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "edited": false, "score": 0, "creation_date": 1551854435, "post_id": 55001296, "comment_id": 96787752, "body": "I&#39;m not completely sure I understand your question. If you mean passing the <code>position</code> parameter inside XML, you don&#39;t need to. It is automatically passed by the <code>BindingAdapter</code>. LE: Oh, my bad, I forgot to erase the <code>run()</code> call  on the lambda. Try now."}, {"owner": {"reputation": 5887, "user_id": 1720329, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/MbNQe.jpg?s=128&g=1", "display_name": "Bogdan Zurac", "link": "https://stackoverflow.com/users/1720329/bogdan-zurac"}, "reply_to_user": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "edited": false, "score": 1, "creation_date": 1556633308, "post_id": 55001296, "comment_id": 98499199, "body": "FYI, added an issue to track this in the DataBinding issue tracker over at <a href=\"https://issuetracker.google.com/issues/131663967\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/131663967</a>"}, {"owner": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1600111783, "post_id": 55001296, "comment_id": 112979560, "body": "I have a problem here, when I use this approach, my livedata values gets erased.."}], "tags": [], "owner": {"reputation": 5887, "user_id": 1720329, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/MbNQe.jpg?s=128&g=1", "display_name": "Bogdan Zurac", "link": "https://stackoverflow.com/users/1720329/bogdan-zurac"}, "is_accepted": false, "score": 8, "last_activity_date": 1551854533, "last_edit_date": 1551854533, "creation_date": 1551783652, "answer_id": 55001296, "question_id": 54671534, "link": "https://stackoverflow.com/questions/54671534/higher-order-function-in-bindingadapter/55001296#55001296", "title": "Higher order function in BindingAdapter", "body": "<p>If I may, I had the same issue (passing a param inside a HOF in a <code>BindingAdapter</code>) and came up with a more elegant solution. You <strong>can</strong> indeed make this work, you just need define the HOF as a variable first.</p>\n\n<p><strong>ViewModel:</strong></p>\n\n<pre><code>val onAdsClicked = fun(position: Int) {\n// Do stuff\n}\n</code></pre>\n\n<p><strong>XML:</strong></p>\n\n<pre><code>&lt;com.synnapps.carouselview.CarouselView\n            android:id=\"@+id/carouselView\"\n            ...\n            app:onClick=\"@{vm.onAdsClicked}\"/&gt;\n</code></pre>\n\n<p><strong>BindingAdapter:</strong></p>\n\n<pre><code>@BindingAdapter(\"onClick\")\nfun setOnClick(carouselView: CarouselView, onClick: (position: Int) -&gt; Unit) {\n    carouselView.setImageClickListener { position -&gt;\n        onClick(position)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1095, "favorite_count": 1, "accepted_answer_id": 54673295, "answer_count": 2, "score": 2, "last_activity_date": 1551854533, "creation_date": 1550064987, "question_id": 54671534, "link": "https://stackoverflow.com/questions/54671534/higher-order-function-in-bindingadapter", "title": "Higher order function in BindingAdapter", "body": "<p>I am using DataBinding in android and I have a custom view: <a href=\"https://github.com/sayyam/carouselview?utm_source=android-arsenal.com&amp;utm_medium=referral&amp;utm_campaign=3289\" rel=\"nofollow noreferrer\">CarouselView</a></p>\n\n<p>I wrote a binding adapter for that:</p>\n\n<pre><code>@BindingAdapter(\"onClick\")\nfun setOnClick(carouselView: CarouselView, onClick: (position: Int) -&gt; Unit) {\n    carouselView.setImageClickListener { position -&gt;\n        onClick.run(position)\n    }\n}\n</code></pre>\n\n<p>And in the xml:</p>\n\n<pre><code>&lt;com.synnapps.carouselview.CarouselView\n            android:id=\"@+id/carouselView\"\n            ...\n            app:onClick=\"@{(p) -&gt; vm.onAdsClicked(p)}\"/&gt;\n</code></pre>\n\n<p>But it does not compile. So I saw <a href=\"https://stackoverflow.com/questions/49784193/issue-with-higher-order-function-as-a-binding-adapter/49935889#49935889\">this</a> answer in the Stackoverflow. But my problem is that I cannot use Runnable instead of kotlin hoc function because I need to pas a parameter to function.</p>\n\n<p>How can I solve that?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1550066611, "post_id": 54671760, "comment_id": 96133829, "body": "I&#39;m not need to read whole text in ONE line. I need to read file line by line. Then I will pass every line as param for external method."}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1550067626, "post_id": 54671760, "comment_id": 96134437, "body": "I found the problem. If replace logger.info by println then success work. The count is always 1389. Why  for loop not work correct with logger?"}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1550074675, "post_id": 54671760, "comment_id": 96139002, "body": "Not help. See <a href=\"https://stackoverflow.com/questions/54673250/why-kotlins-loop-for-not-work-correct-with-org-slf4j-logger\" title=\"why kotlins loop for not work correct with org slf4j logger\">stackoverflow.com/questions/54673250/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1550072462, "last_edit_date": 1550072462, "creation_date": 1550065776, "answer_id": 54671760, "question_id": 54671346, "link": "https://stackoverflow.com/questions/54671346/why-not-read-all-lines-from-text-file/54671760#54671760", "title": "Why not read all lines from text file?", "body": "<p>Kotlin has some brilliant extension methods to easily deal with streams, reading lines and text and such.</p>\n\n<p>Try this:</p>\n\n<pre><code>open class AppStarter : Application&lt;AppConfig&gt;() {\n    override fun getName() = \"stats\"\n\n    override fun run(configuration: AppConfig?, environment: Environment?) {\n        val logger = LoggerFactory.getLogger(this::class.java)\n        javaClass.getResourceAsStream(\"/pairs_ids.txt\").bufferedReader().use { reader -&gt; reader.readLines() }.forEach { line -&gt; logger.info(line) }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    AppStarter().run(*args)\n}\n</code></pre>\n\n<p>When playing with input/output streams, use Kotlin's <code>use</code> extension methods, and do all of your processing inside of the <code>use</code> block.</p>\n\n<p>This will handle all opening and closing of the streams so that there are no leaks, or forgetting to close/flush etc.</p>\n"}, {"comments": [{"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1550133393, "post_id": 54680819, "comment_id": 96160480, "body": "Not help. See <a href=\"https://stackoverflow.com/questions/54673250/why-kotlins-loop-for-not-work-correct-with-org-slf4j-logger?noredirect=1#comment96137899_54673250\" title=\"why kotlins loop for not work correct with org slf4j logger\">stackoverflow.com/questions/54673250/&hellip;</a>"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1550099299, "creation_date": 1550099299, "answer_id": 54680819, "question_id": 54671346, "link": "https://stackoverflow.com/questions/54671346/why-not-read-all-lines-from-text-file/54680819#54680819", "title": "Why not read all lines from text file?", "body": "<p>Given an <code>InputStream</code>, you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-reader/for-each-line.html\" rel=\"nofollow noreferrer\"><code>forEachLine</code></a> to read each line separately:</p>\n\n<pre><code>inputStream.bufferedReader().use {\n    it.forEachLine {\n        println(it)\n    }\n}\n</code></pre>\n\n<p>Note: You should use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\"><code>use</code></a> which is a convenient way to make sure the stream is closed once the reading is done (as user8159708 already suggested).</p>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550099299, "creation_date": 1550064368, "question_id": 54671346, "link": "https://stackoverflow.com/questions/54671346/why-not-read-all-lines-from-text-file", "title": "Why not read all lines from text file?", "body": "<p>In my Kotlin project in folder <code>src/resources/</code> I has file <code>pairs_ids.txt</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6j6wB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6j6wB.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is a property file:</p>\n\n<pre><code>key=value\n</code></pre>\n\n<p>The count of all lines are <strong>1389</strong>.</p>\n\n<p>Here code that read content of this file line by line.</p>\n\n<pre><code>open class AppStarter : Application&lt;AppConfig&gt;() {\n    override fun getName() = \"stats\"\n\n    override fun run(configuration: AppConfig?, environment: Environment?) {\n        val logger = LoggerFactory.getLogger(this::class.java)\n\n        val inputStream = javaClass.getResourceAsStream(\"/pairs_ids.txt\")\n        val isr = InputStreamReader(inputStream)\n        val br = BufferedReader(isr)\n        for (line in br.lines()) {\n            logger.info(\"current_line = \" + line)\n        }\n        br.close()\n        isr.close()\n        inputStream.close()\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    AppStarter().run(*args)\n}\n</code></pre>\n\n<p>The problem is that count of <strong>current_line</strong> is every time different.</p>\n\n<p>Start project - the count of <strong>current_line</strong> is <strong>803</strong>.</p>\n\n<p>Start again project -  the count of <strong>current_line</strong> is <strong>1140</strong>.</p>\n\n<p>Why every time the count is different and not equal to <strong>1389</strong>?</p>\n"}, {"tags": ["kotlin", "freemarker", "capitalization"], "answers": [{"tags": [], "owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "is_accepted": true, "score": 1, "last_activity_date": 1550065423, "creation_date": 1550065423, "answer_id": 54671649, "question_id": 54671183, "link": "https://stackoverflow.com/questions/54671183/kotlin-extension-methods-in-freemarker-template/54671649#54671649", "title": "Kotlin Extension Methods in Freemarker Template", "body": "<p>Use Freemarker's <a href=\"https://freemarker.apache.org/docs/ref_builtins_string.html#ref_builtin_capitalize\" rel=\"nofollow noreferrer\">capitalize</a> built in:</p>\n\n<pre><code>class ${name?capitalize}\n</code></pre>\n\n<blockquote>\n  <p>The string with all words capitalized. </p>\n</blockquote>\n"}], "owner": {"reputation": 894, "user_id": 727687, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8c2b00022bfbb30a336c8922bde64a93?s=128&d=identicon&r=PG", "display_name": "Knack", "link": "https://stackoverflow.com/users/727687/knack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 54671649, "answer_count": 1, "score": 1, "last_activity_date": 1550211664, "creation_date": 1550063932, "last_edit_date": 1550211664, "question_id": 54671183, "link": "https://stackoverflow.com/questions/54671183/kotlin-extension-methods-in-freemarker-template", "title": "Kotlin Extension Methods in Freemarker Template", "body": "<p>Given the Freemarker template</p>\n\n<pre><code>class ${name.capitalize()}\n</code></pre>\n\n<p>and the data</p>\n\n<pre><code>val data = mapOf(\"name\" to \"test\")\n</code></pre>\n\n<p>I'd like to get the following result by applying the extension method <code>capitalize()</code> on <code>name</code>:</p>\n\n<pre><code>class Test\n</code></pre>\n\n<p>However, an error is thrown:</p>\n\n<pre><code>FreeMarker template error:\nFor \".\" left-hand operand: Expected a hash, but this has evaluated to a string (wrapper: f.t.SimpleScalar):\n==&gt; name  [in template \"table.ftl\" at line 1, column 24]\n\n----\nFTL stack trace (\"~\" means nesting-related):\n    - Failed at: ${name.capitalize()}  [in template \"table.ftl\" at line 1, column 22]\n----\n</code></pre>\n"}, {"tags": ["kotlin", "neo4j", "neo4j-ogm"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550062532, "post_id": 54670633, "comment_id": 96131188, "body": "Are you sure that all the campaigns you actually fetched have a client?"}, {"owner": {"reputation": 180, "user_id": 3914156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1aa9ddeefbde7ae57fc92555b31fa08?s=128&d=identicon&r=PG&f=1", "display_name": "mfkw1", "link": "https://stackoverflow.com/users/3914156/mfkw1"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550062701, "post_id": 54670633, "comment_id": 96131294, "body": "in my test case I call <code>campaignRepository.deleteAll()</code> just before inserting this"}, {"owner": {"reputation": 180, "user_id": 3914156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1aa9ddeefbde7ae57fc92555b31fa08?s=128&d=identicon&r=PG&f=1", "display_name": "mfkw1", "link": "https://stackoverflow.com/users/3914156/mfkw1"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550062744, "post_id": 54670633, "comment_id": 96131325, "body": "so, there&#39;s no chance that some other campaign is trying to map to non-null field"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550066661, "post_id": 54670633, "comment_id": 96133863, "body": "Since the <code>client</code> is a <code>var</code>, maybe you somehow can use <code>lateinit</code> to fix it?"}, {"owner": {"reputation": 180, "user_id": 3914156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1aa9ddeefbde7ae57fc92555b31fa08?s=128&d=identicon&r=PG&f=1", "display_name": "mfkw1", "link": "https://stackoverflow.com/users/3914156/mfkw1"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550067860, "post_id": 54670633, "comment_id": 96134612, "body": "in kotlin you cannot use <code>lateinit</code> on primary constructor parameters"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550067989, "post_id": 54670633, "comment_id": 96134704, "body": "No, you would have to remove it from the constructor. Maybe Spring Data Neo4J can set the property with a setter or something (ref the &quot;somehow&quot; in my last comment)?"}, {"owner": {"reputation": 180, "user_id": 3914156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1aa9ddeefbde7ae57fc92555b31fa08?s=128&d=identicon&r=PG&f=1", "display_name": "mfkw1", "link": "https://stackoverflow.com/users/3914156/mfkw1"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550068524, "post_id": 54670633, "comment_id": 96135062, "body": "but, how i can place non-nullable property without initializer? if it&#39;s non nullable I have to initialize it in primary constructor"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550068643, "post_id": 54670633, "comment_id": 96135138, "body": "@kubawar You don&#39;t have to in initialize it in the primary constructor if the property is <code>lateinit</code>."}, {"owner": {"reputation": 180, "user_id": 3914156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1aa9ddeefbde7ae57fc92555b31fa08?s=128&d=identicon&r=PG&f=1", "display_name": "mfkw1", "link": "https://stackoverflow.com/users/3914156/mfkw1"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1550071586, "post_id": 54670633, "comment_id": 96137140, "body": "i found a solution based on your suggestions but it&#39;s not very elegant. i&#39;ll post it as an answer but if you have any other ideas, please publish them"}], "answers": [{"comments": [{"owner": {"reputation": 1461, "user_id": 1337396, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ad03d8f041b3705744145d1226803713?s=128&d=identicon&r=PG", "display_name": "Niall", "link": "https://stackoverflow.com/users/1337396/niall"}, "edited": false, "score": 1, "creation_date": 1590255639, "post_id": 54673889, "comment_id": 109614935, "body": "There&#39;s an semi-official workaround to this issue available <a href=\"https://jira.spring.io/browse/DATAGRAPH-1148?focusedCommentId=182284&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-182284\" rel=\"nofollow noreferrer\">here</a>. Quite a lot of extra code but does do the job"}], "tags": [], "owner": {"reputation": 180, "user_id": 3914156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1aa9ddeefbde7ae57fc92555b31fa08?s=128&d=identicon&r=PG&f=1", "display_name": "mfkw1", "link": "https://stackoverflow.com/users/3914156/mfkw1"}, "is_accepted": true, "score": 0, "last_activity_date": 1550072065, "creation_date": 1550072065, "answer_id": 54673889, "question_id": 54670633, "link": "https://stackoverflow.com/questions/54670633/non-null-relationships-in-primary-constructor-of-entity/54673889#54673889", "title": "Non null relationships in primary constructor of entity", "body": "<p>I found a solution, but not very elegant:</p>\n\n<pre><code>@NodeEntity\nclass Campaign(\n    var name: String,\n    client: User?)\n{\n    @Id @GeneratedValue\n    var id: Long? = null\n\n    @Relationship(type = \"CLIENT\", direction = Relationship.OUTGOING)\n    lateinit var client: User\n\n    init\n    {\n        client?.let { this.client = it }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 3914156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1aa9ddeefbde7ae57fc92555b31fa08?s=128&d=identicon&r=PG&f=1", "display_name": "mfkw1", "link": "https://stackoverflow.com/users/3914156/mfkw1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 54673889, "answer_count": 1, "score": 0, "last_activity_date": 1550072065, "creation_date": 1550062214, "question_id": 54670633, "link": "https://stackoverflow.com/questions/54670633/non-null-relationships-in-primary-constructor-of-entity", "title": "Non null relationships in primary constructor of entity", "body": "<p>I'm creating application with Spring Data Neo4j and Kotlin. I use standard kotlin way to declare entities (class with primary constructor). Everything worked fine until I wanted to create simple, one-to-many and mandatory relationship between my entities. When I'm calling <code>.findAll()</code> on my repository I get <code>Parameter specified as non-null is null: method ...model.Campaign.&lt;init&gt;, parameter client</code>. </p>\n\n<p>I tried to call <code>.findAll(depth = 1)</code> to load related entities to my entity but that didn't help.</p>\n\n<pre><code>@NodeEntity\nclass User(var name: String)\n{\n    @Id @GeneratedValue\n    var id: Long? = null\n}\n\n@NodeEntity\nclass Campaign(\n    var name: String,\n    @Relationship(type = \"CLIENT\", direction = Relationship.OUTGOING)\n    var client: User)\n{\n    @Id @GeneratedValue\n    var id: Long? = null\n}\n\ninterface CampaignRepository : Neo4jRepository&lt;Campaign, Long&gt;\n\n//...\n\ncampaignRepository.save(Campaign(\"C1\", user))\n\ncampaignRespository.findAll()\n</code></pre>\n\n<p>Of course, I can just declare <code>var client: User?</code> as nullable and everything is fine. But, since in my model I will have both mandatory and optional relationships I want to know if there's a way to overcome this.</p>\n"}, {"tags": ["java", "spring-boot", "logging", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "is_accepted": true, "score": 0, "last_activity_date": 1550175545, "creation_date": 1550175545, "answer_id": 54698456, "question_id": 54670505, "link": "https://stackoverflow.com/questions/54670505/what-is-the-spring-boot-webflux-equivalent-of-the-morgan-js-library/54698456#54698456", "title": "What is the Spring Boot Webflux equivalent of the Morgan JS Library?", "body": "<p>This is what ended up working for me after having a look at this <a href=\"https://github.com/fbeaufume/webflux-filter-sample/blob/master/src/main/java/com/adeliosys/sample/LogFilter.java\" rel=\"nofollow noreferrer\">repo</a></p>\n\n<p>I have tried all night to get the request body as well, but kept getting errors re: single subscriber only per request. It's either impossible, pretty darn difficult, or not recommended in the case of requests with a large body (since it could block your server). So I would highly recommend you convert your <code>@RequestBody</code> objects to <code>@RequestParam</code> query params instead if you want to log variables in post requests.</p>\n\n<pre><code>package com.example.demo\n\nimport org.slf4j.LoggerFactory\nimport org.springframework.stereotype.Component\nimport org.springframework.web.server.ServerWebExchange\nimport org.springframework.web.server.WebFilter\nimport org.springframework.web.server.WebFilterChain\nimport reactor.core.publisher.Mono\n\n\n@Component\nclass LogFilter: WebFilter {\n\n    private val logger = LoggerFactory.getLogger(LogFilter::class.java)\n\n    override fun filter(exchange: ServerWebExchange, chain: WebFilterChain): Mono&lt;Void&gt; {\n        val startTime = System.currentTimeMillis()\n        val request = exchange.request\n        val path = request.uri.path\n\n        val requestPrintMap = mutableMapOf&lt;Any, Any&gt;()\n        requestPrintMap[\"headers\"] = request.headers\n        requestPrintMap[\"uri\"] = request.uri\n        requestPrintMap[\"params\"] = request.queryParams\n\n        return chain\n                .filter(exchange)\n                .doAfterTerminate {\n\n            logger.info(\"Served '{}' as {} in {} msec\",\n                    path,\n                    exchange.response.statusCode,\n                    System.currentTimeMillis() - startTime)\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 54698456, "answer_count": 1, "score": 0, "last_activity_date": 1550175545, "creation_date": 1550061813, "question_id": 54670505, "link": "https://stackoverflow.com/questions/54670505/what-is-the-spring-boot-webflux-equivalent-of-the-morgan-js-library", "title": "What is the Spring Boot Webflux equivalent of the Morgan JS Library?", "body": "<p>Javascript has an amazing library called <a href=\"https://www.npmjs.com/package/morgan\" rel=\"nofollow noreferrer\">morgan</a> that logs out all the incoming http requests. Wondering if there's an equivalent library in Java/Kotlin for logging spring boot webflux requests.</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1550061262, "post_id": 54670304, "comment_id": 96130441, "body": "Posting the actual part relating to the question instead of a link would be much more fitting."}], "tags": [], "owner": {"reputation": 524, "user_id": 10995239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218634293513962/picture?type=large", "display_name": "Taras Parshenko", "link": "https://stackoverflow.com/users/10995239/taras-parshenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1550062422, "last_edit_date": 1550062422, "creation_date": 1550061209, "answer_id": 54670304, "question_id": 54670037, "link": "https://stackoverflow.com/questions/54670037/is-there-way-to-get-data-model-in-onerror-branch/54670304#54670304", "title": "Is there way to get data model in onError branch?", "body": "<p>Yes, <code>onError</code> you get <code>Throwable</code> object and you can cast it to <code>HttpException</code></p>\n\n<pre><code>data class Data(\n    @SerializedName(\"content\") val content: String\n)\n\ndata class Error(\n    @SerializedName(\"code\") val code: Int,\n    @SerializedName(\"message\") val message: String,\n)\n\ndata class Response(\n    @SerializedName(\"data\") val data: List&lt;Data&gt;,\n    @SerializedName(\"errors\") val errors: List&lt;Error&gt;\n)\n\nfun onError(e: Throwable): List&lt;Error&gt;? {\n    return try {\n        val httpException = e as? HttpException\n        val errors = JSONObject(httpException?.response()?.errorBody()?.string()).get(\"errors\") as List&lt;Error&gt;\n    } catch (ignore: Exception) {\n        null\n    }\n}\n</code></pre>\n\n<p>Check this article:</p>\n\n<p><a href=\"https://medium.com/mindorks/rxjava2-and-retrofit2-error-handling-on-a-single-place-8daf720d42d6\" rel=\"nofollow noreferrer\">https://medium.com/mindorks/rxjava2-and-retrofit2-error-handling-on-a-single-place-8daf720d42d6</a></p>\n"}], "owner": {"reputation": 82, "user_id": 7690077, "user_type": "registered", "profile_image": "https://graph.facebook.com/811016882381869/picture?type=large", "display_name": "Vi\u0165a Mor&#225;vek", "link": "https://stackoverflow.com/users/7690077/vi%c5%a5a-mor%c3%a1vek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 54670304, "answer_count": 1, "score": 0, "last_activity_date": 1550062422, "creation_date": 1550060297, "question_id": 54670037, "link": "https://stackoverflow.com/questions/54670037/is-there-way-to-get-data-model-in-onerror-branch", "title": "Is there way to get data model in onError branch?", "body": "<p>I'm getting data model from API through Retrofit and RXJava. Model contains error string with custom message. </p>\n\n<p><code>{\"data\":[],\"errors\":[{\"code\":168,\"message\":\"Number is out of bounds\"}]}</code></p>\n\n<p>Subscribe function:</p>\n\n<pre><code>subscribe({\n       eventLiveData.value = SubmitFinished\n    }, { // it: Throwable!\n       eventLiveData.value = SubmitResponseError\n       // I want to have my object here!\n    })\n</code></pre>\n\n<p>Is there any way to have my object with error code in onError branch?\nThank you</p>\n"}, {"tags": ["android", "kotlin", "suppress-warnings"], "answers": [{"comments": [{"owner": {"reputation": 23322, "user_id": 1675568, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b40691ae252834b2792b6a838b80962?s=128&d=identicon&r=PG", "display_name": "tomrozb", "link": "https://stackoverflow.com/users/1675568/tomrozb"}, "edited": false, "score": 0, "creation_date": 1550058726, "post_id": 54669325, "comment_id": 96128974, "body": "Ok, the case was different. I&#39;ve updated the question, but the answer is still valid. Thanks"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 4, "last_activity_date": 1550058085, "creation_date": 1550058085, "answer_id": 54669325, "question_id": 54668913, "link": "https://stackoverflow.com/questions/54668913/how-to-suppress-warnings-for-a-single-line-in-kotlin/54669325#54669325", "title": "How to suppress warnings for a single line in Kotlin", "body": "<p>Without any problem. Just put annotation <code>Suppress</code> right before the scope you want to suppress warnings. For example:</p>\n\n<pre><code>fun main() {\n    @Deprecated(level = WARNING)\n    fun deprecatedFun() {}\n\n    if (BuildConfig.DEBUG) {\n        @Suppress(\"DEPRECATION\") val f = deprecatedFun()\n    }\n}\n</code></pre>\n\n<p>Also, Android Studio gives nice possibility to supress warning for specific scope - <code>alt + enter</code> ;)</p>\n\n<p><a href=\"https://i.stack.imgur.com/3i6tD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3i6tD.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23322, "user_id": 1675568, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b40691ae252834b2792b6a838b80962?s=128&d=identicon&r=PG", "display_name": "tomrozb", "link": "https://stackoverflow.com/users/1675568/tomrozb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1220, "favorite_count": 0, "accepted_answer_id": 54669325, "answer_count": 1, "score": 1, "last_activity_date": 1550058777, "creation_date": 1550056639, "last_edit_date": 1550058777, "question_id": 54668913, "link": "https://stackoverflow.com/questions/54668913/how-to-suppress-warnings-for-a-single-line-in-kotlin", "title": "How to suppress warnings for a single line in Kotlin", "body": "<p>I have Android app written in Kotlin. There's a warning in my code and I want to suppress it <strong>for a single line, not the entire function</strong>.</p>\n\n<p>Is is possible in Kotlin? Something like that</p>\n\n<pre><code>fun largeFun(canvas: Canvas) {\n    ...\n\n    if (BuildConfig.DEBUG) {\n        // Suppress allocation warning\n        canvas.drawText(Date().toString, x, y, p)\n    }\n}\n</code></pre>\n\n<p>PS I know that I can extract that code to a separate function and suppress the warning for that function, but still I want to know if single line warning suppressing is possible</p>\n\n<p>EDIT Edited the question code. The solution is to extract allocation to val and @Suppress works as expected</p>\n"}, {"tags": ["java", "android", "kotlin", "barcode-scanner"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1550056487, "post_id": 54668810, "comment_id": 96127691, "body": "Which Scanner you are using ?? Provide some overview and code . If this component does not send result back then you can not get it in <code>onActivityResult</code> . Barcode scanner is not a native feature of <code>Android</code> ."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6355272, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/31fb9deaa1d92352dd53b3bda58e7e8a?s=128&d=identicon&r=PG&f=1", "display_name": "Metti", "link": "https://stackoverflow.com/users/6355272/metti"}, "edited": false, "score": 0, "creation_date": 1550061276, "post_id": 54669265, "comment_id": 96130460, "body": "with the zxing libery i only can call the cam, but i dont want to call the cam. I have a Zebra T200J Device, that has a intigratet Barcodescanner"}, {"owner": {"reputation": 574, "user_id": 5547177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9505d1d80160b50dee207955251ce25?s=128&d=identicon&r=PG&f=1", "display_name": "3DPrintScanner", "link": "https://stackoverflow.com/users/5547177/3dprintscanner"}, "reply_to_user": {"reputation": 85, "user_id": 6355272, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/31fb9deaa1d92352dd53b3bda58e7e8a?s=128&d=identicon&r=PG&f=1", "display_name": "Metti", "link": "https://stackoverflow.com/users/6355272/metti"}, "edited": false, "score": 0, "creation_date": 1550071855, "post_id": 54669265, "comment_id": 96137298, "body": "<a href=\"http://techdocs.zebra.com/emdk-for-android/7-1/api/\" rel=\"nofollow noreferrer\">Zebra API Docs</a> Shows that you can access the scanner through the <code>BarcodeManager</code> and the <code>Scanner</code>instance methods."}], "tags": [], "owner": {"reputation": 574, "user_id": 5547177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9505d1d80160b50dee207955251ce25?s=128&d=identicon&r=PG&f=1", "display_name": "3DPrintScanner", "link": "https://stackoverflow.com/users/5547177/3dprintscanner"}, "is_accepted": false, "score": 0, "last_activity_date": 1550057863, "creation_date": 1550057863, "answer_id": 54669265, "question_id": 54668810, "link": "https://stackoverflow.com/questions/54668810/onactivityresult-with-embedded-scanner/54669265#54669265", "title": "OnActivityResult with embedded Scanner", "body": "<p>Using the <a href=\"https://github.com/zxing/zxing\" rel=\"nofollow noreferrer\">ZXIng library</a>, you can launch the scanner as an intent and parse the result.</p>\n\n<pre><code>import com.google.zxing.integration.android.IntentIntegrator;\nimport com.google.zxing.integration.android.IntentResult;\n\n\npublic void onActivityResult(int requestCode, int resultCode, Intent intent){\n\n    IntentResult scanResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, intent);\n    Context context = getApplicationContext();\n    if (scanResult != null){\n        String scanContent = scanResult.getContents();\n        Toast toast = Toast.makeText(context, scanContent, 5000);\n        toast.show();\n    }\n    else {\n        Toast toast = Toast.makeText(context, \"Error\", 5000);\n        toast.show();\n    }\n};\n</code></pre>\n\n<p>This intent launched through one of the <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">android lifecycle</a> methods, such as the   <code>onCreate()</code> override.</p>\n\n<pre><code>IntentIntegrator scanIntegrator = new IntentIntegrator(this);\nscanIntegrator.initiateScan();\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 6355272, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/31fb9deaa1d92352dd53b3bda58e7e8a?s=128&d=identicon&r=PG&f=1", "display_name": "Metti", "link": "https://stackoverflow.com/users/6355272/metti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1550060463, "creation_date": 1550056319, "last_edit_date": 1550060463, "question_id": 54668810, "link": "https://stackoverflow.com/questions/54668810/onactivityresult-with-embedded-scanner", "title": "OnActivityResult with embedded Scanner", "body": "<p>I have a Android Device with a embedded barcode Scanner.</p>\n\n<p>On pressing the \"Scan\" button on device, it scans the barcode and the data is displayed in the EditText only if the cursor is on EditText. i.e. The EditText is selected. </p>\n\n<p>I wish to get the scanned result without the EditText selected.</p>\n\n<p>I have tried it with onActivityResult</p>\n\n<p><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n}</code></p>\n\n<p>But I am not getting any results on this.\nWhat can I do ?</p>\n\n<p>I don't want to press a Button to activate the Scanner.</p>\n"}, {"tags": ["android", "kotlin", "singleton", "companion-object"], "comments": [{"owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "edited": false, "score": 0, "creation_date": 1550056515, "post_id": 54668675, "comment_id": 96127707, "body": "no.. isn&#39;t it an initial code for an object? like a constracture?"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1550061288, "post_id": 54668675, "comment_id": 96130464, "body": "<code>init</code> (I think it&#39;s compiled into static block for JVM) won&#39;t be executed until your class is loaded, so it&#39;s working as intended."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550067661, "post_id": 54668675, "comment_id": 96134464, "body": "So do you want &quot;to create a lazy singleton&quot;, or &quot;the init run would run immediately after startup&quot;? Those are opposite. You have the first. To do the second, just access the singleton in your application&#39;s/activity&#39;s <code>onCreate</code> method."}, {"owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "edited": false, "score": 0, "creation_date": 1550068109, "post_id": 54668675, "comment_id": 96134776, "body": "Yeah I fixed the question, it&#39;s not a lazy init. I ended up calling it in the Application class."}], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "is_accepted": false, "score": 2, "last_activity_date": 1550124595, "creation_date": 1550124595, "answer_id": 54684197, "question_id": 54668675, "link": "https://stackoverflow.com/questions/54668675/singleton-init-not-called/54684197#54684197", "title": "singleton - init not called", "body": "<p><code>init{}</code> block will be called when the class is loaded.</p>\n\n<p>So, you must access that class at least once after startup.</p>\n\n<p>And, There is more comfortable way to make Singleton in Kotlin, like below.</p>\n\n<pre><code>object MessageManager {}\n</code></pre>\n"}], "owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550124595, "creation_date": 1550055858, "last_edit_date": 1550068057, "question_id": 54668675, "link": "https://stackoverflow.com/questions/54668675/singleton-init-not-called", "title": "singleton - init not called", "body": "<p>I want to create a singleton in Kotlin so I made a companion object like this:</p>\n\n<pre><code>companion object { \n    val INSTANCE = MessagesManager()\n}\n</code></pre>\n\n<p>There is something I want to do in its constructor so I wrote some code in the init function but it never runs if I don't use the Singleton.\nI also tried to use the JVMField annotation but it doesn't work.\nI want the init run would run immediately after startup.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 1767, "user_id": 5607230, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-yxTaDUTQbFI/AAAAAAAAAAI/AAAAAAAAACk/PyBMKtiZFCE/photo.jpg?sz=128", "display_name": "Wackaloon", "link": "https://stackoverflow.com/users/5607230/wackaloon"}, "is_accepted": true, "score": 2, "last_activity_date": 1563195008, "last_edit_date": 1563195008, "creation_date": 1551361835, "answer_id": 54927273, "question_id": 54668668, "link": "https://stackoverflow.com/questions/54668668/kotlin-synthetic-view-in-activity-gets-null-when-a-custom-dialog-is-shown-and-di/54927273#54927273", "title": "Kotlin synthetic view in activity gets null when a custom dialog is shown and dismissed", "body": "<p>The variable you are trying to access is in another scope, try to add explicit scope to the view i.e.</p>\n\n<pre><code>this@YourActivity.tvContactNumber.text = number\n</code></pre>\n"}], "owner": {"reputation": 122, "user_id": 5713798, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82f6924b18652a695fe923fd135cba47?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/5713798/bee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 0, "accepted_answer_id": 54927273, "answer_count": 1, "score": 1, "last_activity_date": 1563195008, "creation_date": 1550055825, "last_edit_date": 1550056541, "question_id": 54668668, "link": "https://stackoverflow.com/questions/54668668/kotlin-synthetic-view-in-activity-gets-null-when-a-custom-dialog-is-shown-and-di", "title": "Kotlin synthetic view in activity gets null when a custom dialog is shown and dismissed", "body": "<p>I am updating a view in activity's onCreate method which is working fine using kotlin extension as stated below. </p>\n\n<blockquote>\n  <p>Activity's <strong>onCreate</strong></p>\n</blockquote>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_otpverification.*\n\n     override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_otpverification)\n            tvContactNumber.text = getString(R.string.dual_string_value_placeholder)\n        }\n</code></pre>\n\n<p>Then at a click of a <strong>button</strong> I am showing a <strong>custom dialog</strong> for performing some action. When the dialog is <strong>dismissed</strong> I update the same <strong>textView</strong> in activity with the data sent from dialog, but the view <strong>tvContact</strong> is throwing null exception.</p>\n\n<blockquote>\n  <p>Activity's <strong>onClick</strong></p>\n</blockquote>\n\n<pre><code>override fun onClick(p0: View?) {\n    when (p0?.id) {\n        R.id.ivEdit -&gt; {\n            object : ChangeNumberDialog(this) {\n                override fun onSubmitClicked(number: String) {\n                    tvContactNumber.text =number\n                }\n            }.show()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>onSubmitClicked</strong> is an abstract method in the dialog which is triggered when the dialog is dismissed.</p>\n\n<blockquote>\n  <p>Error from logcat :</p>\n</blockquote>\n\n<pre><code>    java.lang.IllegalStateException: tvContactNumber must not be null\n            at com.beat.em.ui.activities.OTPVerificationActivity$onClick$1.onSubmitClicked\n(OTPVerificationActivity.kt:211)\n</code></pre>\n\n<blockquote>\n  <p><strong>onCreate</strong> and <strong>onClick</strong> methods from the <strong><em>ChangeNumberDialog</em></strong>:</p>\n</blockquote>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val view = layoutInflater.inflate(R.layout.dialog_change_number, null, false)\n        setContentView(view)\n        setCanceledOnTouchOutside(false)\n        setCancelable(true)\n        tvSubmit.setOnClickListener(this)\n    }\n\n  override fun onClick(view: View) {\n    when (view.id) {\n        R.id.tvSubmit -&gt; {\n            onSubmitClicked(etNumber.text.toString().trim())\n            dismiss()\n          }\n       }\n  }\n</code></pre>\n\n<p>I have just started using kotlin extension and not able to understand the cause. Help appreciated.</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 142, "user_id": 754783, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/857bf2504ed5723976c4d9782d2d4130?s=128&d=identicon&r=PG", "display_name": "HoseinIT", "link": "https://stackoverflow.com/users/754783/hoseinit"}, "edited": false, "score": 0, "creation_date": 1550055997, "post_id": 54668552, "comment_id": 96127406, "body": "we may need more information from your logcat"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 0, "creation_date": 1550056252, "post_id": 54668552, "comment_id": 96127545, "body": "share your kotlin code"}, {"owner": {"reputation": 778, "user_id": 7148752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6602bea65c2ec8a3cb6dd2a1eb1eeee0?s=128&d=identicon&r=PG&f=1", "display_name": "Masum", "link": "https://stackoverflow.com/users/7148752/masum"}, "edited": false, "score": 0, "creation_date": 1550056321, "post_id": 54668552, "comment_id": 96127596, "body": "Check your background color."}], "answers": [{"comments": [{"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 365, "user_id": 8568537, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-89KYeRel5a0/AAAAAAAAAAI/AAAAAAAAAVA/mp7Ntq7G0rM/photo.jpg?sz=128", "display_name": "Pankaj Tungaria", "link": "https://stackoverflow.com/users/8568537/pankaj-tungaria"}, "edited": false, "score": 0, "creation_date": 1550062748, "post_id": 54670254, "comment_id": 96131329, "body": "@PankajTungaria did you type anything in EditTexts ?"}, {"owner": {"reputation": 365, "user_id": 8568537, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-89KYeRel5a0/AAAAAAAAAAI/AAAAAAAAAVA/mp7Ntq7G0rM/photo.jpg?sz=128", "display_name": "Pankaj Tungaria", "link": "https://stackoverflow.com/users/8568537/pankaj-tungaria"}, "edited": false, "score": 0, "creation_date": 1550063375, "post_id": 54670254, "comment_id": 96131729, "body": "it works.. thanks @Radesh and thanks all of you guys the problem was i made objects of textview outside of onclick method. but don&#39;t why that object matter because these textviews are static.. anyway thank you"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 365, "user_id": 8568537, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-89KYeRel5a0/AAAAAAAAAAI/AAAAAAAAAVA/mp7Ntq7G0rM/photo.jpg?sz=128", "display_name": "Pankaj Tungaria", "link": "https://stackoverflow.com/users/8568537/pankaj-tungaria"}, "edited": false, "score": 0, "creation_date": 1550063635, "post_id": 54670254, "comment_id": 96131897, "body": "@PankajTungaria when you call that in you get current text of EditText, so when call in onCreate() it&#39;s still null and when you call it in btn click it have some text"}], "tags": [], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1550061608, "last_edit_date": 1550061608, "creation_date": 1550061048, "answer_id": 54670254, "question_id": 54668552, "link": "https://stackoverflow.com/questions/54668552/why-is-my-android-studio-kotlin-showing-the-layout-of-an-android-phone-in-prev/54670254#54670254", "title": "Why is my Android Studio (Kotlin) showing the layout of an Android phone in Preview but not in the Build App?", "body": "<p>Instead of these lines </p>\n\n<pre><code>var email_user = textViewSendEmail.text\nvar password_user = textViewSendPassword.text\n</code></pre>\n\n<p>Use this </p>\n\n<pre><code>var email_user = textViewSendEmail.text.toString()\nvar password_user = textViewSendPassword.text.toString()\n</code></pre>\n\n<p>And also you must call these lines in onclick so your code must like this </p>\n\n<pre><code> sendButton.setOnClickListener {\n        var email_user = textViewSendEmail.text.toString()\n        var password_user = textViewSendPassword.text.toString()\n        intent = Intent(this, SecondActvity::class.java)\n        intent.putExtra(\"email\", email_user)\n        intent.putExtra(\"password\", password_user)\n        startActivity(intent)\n    }\n</code></pre>\n\n<p>And i suggest that use <code>wrap_content</code> instead of static size (<code>44dp</code>) for height </p>\n"}, {"comments": [{"owner": {"reputation": 365, "user_id": 8568537, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-89KYeRel5a0/AAAAAAAAAAI/AAAAAAAAAVA/mp7Ntq7G0rM/photo.jpg?sz=128", "display_name": "Pankaj Tungaria", "link": "https://stackoverflow.com/users/8568537/pankaj-tungaria"}, "edited": false, "score": 0, "creation_date": 1550062304, "post_id": 54670435, "comment_id": 96131047, "body": "I tried it but nothing has changed. Exactly problem is &quot;Xml textview not showing in build apk file i thing static layout and views always shows without making objects&quot;."}, {"owner": {"reputation": 502, "user_id": 4410330, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/05coL.png?s=128&g=1", "display_name": "Yamko", "link": "https://stackoverflow.com/users/4410330/yamko"}, "reply_to_user": {"reputation": 365, "user_id": 8568537, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-89KYeRel5a0/AAAAAAAAAAI/AAAAAAAAAVA/mp7Ntq7G0rM/photo.jpg?sz=128", "display_name": "Pankaj Tungaria", "link": "https://stackoverflow.com/users/8568537/pankaj-tungaria"}, "edited": false, "score": 0, "creation_date": 1550062605, "post_id": 54670435, "comment_id": 96131230, "body": "They should be visible. Try not to set text for them from activity, leave only text which you set in xml through <code>text</code> parameter."}], "tags": [], "owner": {"reputation": 502, "user_id": 4410330, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/05coL.png?s=128&g=1", "display_name": "Yamko", "link": "https://stackoverflow.com/users/4410330/yamko"}, "is_accepted": false, "score": 0, "last_activity_date": 1586781147, "last_edit_date": 1586781147, "creation_date": 1550061595, "answer_id": 54670435, "question_id": 54668552, "link": "https://stackoverflow.com/questions/54668552/why-is-my-android-studio-kotlin-showing-the-layout-of-an-android-phone-in-prev/54670435#54670435", "title": "Why is my Android Studio (Kotlin) showing the layout of an Android phone in Preview but not in the Build App?", "body": "<p>Your issue in the way how you put extras. In MainActivity you put your data as extras for intent. But in SecondActivity you try to get data from intent's bundle.</p>\n\n<p>Change this </p>\n\n<pre><code>var bundle : Bundle? = intent.extras\nvar emailData = bundle!!.getString(\"email\")\nvar passwordData = bundle.getString(\"password\")\n</code></pre>\n\n<p>for this </p>\n\n<pre><code>var emailData = intent.getStringExtra(\"email\")\nvar passwordData = intent.getStringExtra(\"password\")`\n</code></pre>\n\n<p>Or you can put data into Bundle in MainActivity, then put this Bundle into intent. And then get data, as you do with your current solution.</p>\n"}], "owner": {"reputation": 365, "user_id": 8568537, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-89KYeRel5a0/AAAAAAAAAAI/AAAAAAAAAVA/mp7Ntq7G0rM/photo.jpg?sz=128", "display_name": "Pankaj Tungaria", "link": "https://stackoverflow.com/users/8568537/pankaj-tungaria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 54670254, "answer_count": 2, "score": 2, "last_activity_date": 1586781147, "creation_date": 1550055494, "last_edit_date": 1551384594, "question_id": 54668552, "link": "https://stackoverflow.com/questions/54668552/why-is-my-android-studio-kotlin-showing-the-layout-of-an-android-phone-in-prev", "title": "Why is my Android Studio (Kotlin) showing the layout of an Android phone in Preview but not in the Build App?", "body": "<p>I made a simple app in the Android Studio. I took two TextViews and one Button in XML layout file. Both textview and Button are showing in the preview but in the Build Apk there is only Button Showing. It doesn't giving any error. I don't know what is the problem I tried all the possible ways to fix it but didn't get anything.</p>\n\n<p><em>activity_home XML code</em></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"&gt;\n\n    &lt;EditText android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:hint=\"mnail\"\n              android:id=\"@+id/editText\"/&gt;\n\n    &lt;EditText\n            android:id=\"@+id/textViewSendEmail\"\n            android:layout_width=\"344dp\"\n            android:layout_height=\"44dp\"\n            android:hint=\"Email\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_marginTop=\"40dp\"/&gt;\n    &lt;EditText\n            android:id=\"@+id/textViewSendPassword\"\n            android:layout_width=\"344dp\"\n            android:layout_height=\"44dp\"\n            android:hint=\"Password\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_marginTop=\"40dp\"\n            android:layout_below=\"@+id/textViewSendEmail\"/&gt;\n\n    &lt;Button\n            android:id=\"@+id/sendButton\"\n            android:layout_width=\"344dp\"\n            android:layout_height=\"44dp\"\n            android:text=\"send\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_marginTop=\"40dp\"\n            android:layout_below=\"@+id/textViewSendPassword\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><em>MainActivity code</em></p>\n\n<pre><code>package com.kotlinintent\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_home.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_home)\n\n        var email_user = textViewSendEmail.text\n        var password_user = textViewSendPassword.text\n\n        sendButton.setOnClickListener {\n            intent = Intent(this, SecondActvity::class.java)\n            intent.putExtra(\"email\", email_user)\n            intent.putExtra(\"password\", password_user)\n            startActivity(intent)\n        }\n    }\n}\n</code></pre>\n\n<p><em>SecondActivity</em></p>\n\n<pre><code>package com.kotlinintent\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_second.*\n\nclass SecondActvity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_second)\n\n\n        var bundle : Bundle? = intent.extras\n        var emailData = bundle!!.getString(\"email\")\n        var passwordData = bundle.getString(\"password\")\n\n        textViewEmail.text = emailData\n        textViewPassword.text = passwordData\n    }\n}\n</code></pre>\n\n<p><em>Second Activity XML</em></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:tools=\"http://schemas.android.com/tools\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".SecondActvity\"&gt;\n\n    &lt;TextView\n            android:id=\"@+id/textViewEmail\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"44dp\"\n            android:text=\"Email\"/&gt;\n    &lt;TextView\n            android:id=\"@+id/textViewPassword\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"44dp\"\n            android:text=\"Password\"\n            android:layout_marginTop=\"40dp\"\n            /&gt;\n\n    &lt;Button\n            android:id=\"@+id/getButton\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"44dp\"\n            android:text=\"get\"\n            android:layout_marginTop=\"40dp\"\n            /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 0, "creation_date": 1550055804, "post_id": 54668464, "comment_id": 96127294, "body": "Where are you including your ViewModelModule?"}, {"owner": {"reputation": 5, "user_id": 5478096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dilC9.jpg?s=128&g=1", "display_name": "PaijoRX", "link": "https://stackoverflow.com/users/5478096/paijorx"}, "reply_to_user": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 0, "creation_date": 1550056114, "post_id": 54668464, "comment_id": 96127468, "body": "I have try put it on ApplicationComponent. But the error still showing.  <code>@Singleton @Component(     modules = [         AndroidInjectionModule::class,         ApplicationModule::class,         DatabaseModule::class,         NetworkModule::class,         RepositoryModule::class,         ActivityModule::class,         ViewModelModule::class     ]) interface ApplicationComponent {</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5478096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dilC9.jpg?s=128&g=1", "display_name": "PaijoRX", "link": "https://stackoverflow.com/users/5478096/paijorx"}, "edited": false, "score": 0, "creation_date": 1550108819, "post_id": 54672201, "comment_id": 96153024, "body": "Still got same error after change <code>private val creators: Map&lt;Class&lt;out ViewModel&gt; to private val creators: MutableMap&lt;Class&lt;out ViewModel&gt;</code> with add <code>ViewModelModule</code> to <code>ApplicationComponent</code> or without add it to component."}], "tags": [], "owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "is_accepted": true, "score": 0, "last_activity_date": 1550154225, "last_edit_date": 1550154225, "creation_date": 1550067078, "answer_id": 54672201, "question_id": 54668464, "link": "https://stackoverflow.com/questions/54668464/error-dagger-missingbinding-cryptocurrencyviewmodelfactory-cannot-be-provided-w/54672201#54672201", "title": "error: Dagger/MissingBinding CryptoCurrencyViewModelFactory cannot be provided without an @Inject constructor or an @Provides-annotated method", "body": "<p>In your <code>CryptoCurrencyViewModelFactory</code> constructor, change <code>private val creators: Map&lt;Class&lt;out ViewModel&gt;</code> to <code>private val creators: MutableMap&lt;Class&lt;out ViewModel&gt;</code>. Kotlin's <code>Map</code> forces immutability, but internally Dagger needs the map to be mutable.</p>\n\n<p><strong>Edit:</strong>\nAfter checking your source code, I noticed that you're importing <code>kotlin.reflect.jvm.internal.impl.javax.inject.Inject</code> in your <code>CryptoCurrencyViewModelFactory</code> class. Change it to the correct import (<code>javax.inject.Inject</code>), or Dagger won't recognize the <code>@Inject</code> annotation.</p>\n"}], "owner": {"reputation": 5, "user_id": 5478096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dilC9.jpg?s=128&g=1", "display_name": "PaijoRX", "link": "https://stackoverflow.com/users/5478096/paijorx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "accepted_answer_id": 54672201, "answer_count": 1, "score": 0, "last_activity_date": 1550154225, "creation_date": 1550055200, "last_edit_date": 1550056807, "question_id": 54668464, "link": "https://stackoverflow.com/questions/54668464/error-dagger-missingbinding-cryptocurrencyviewmodelfactory-cannot-be-provided-w", "title": "error: Dagger/MissingBinding CryptoCurrencyViewModelFactory cannot be provided without an @Inject constructor or an @Provides-annotated method", "body": "<p>I don't understand why am I getting this error:</p>\n\n<pre><code>C:\\Users\\xxx\\Documents\\xxx\\workspace\\android\\hellomvvmdagger2kotlin\\app\\build\\tmp\\kapt3\\stubs\\debug\\com\\xxx\\hello_mvvm_dagger2_kotlin\\di\\component\\ApplicationComponent.java:8: error: [Dagger/MissingBinding] [dagger.android.AndroidInjector.inject(T)] com.xxx.hello_mvvm_dagger2_kotlin.viewmodel.CryptoCurrencyViewModelFactory cannot be provided without an @Inject constructor or an @Provides-annotated method.\npublic abstract interface ApplicationComponent {\n                ^\n      com.xxx.hello_mvvm_dagger2_kotlin.viewmodel.CryptoCurrencyViewModelFactory is injected at\n          com.xxx.hello_mvvm_dagger2_kotlin.di.module.ViewModelModule.bindViewModelFactory(factory)\n      androidx.lifecycle.ViewModelProvider.Factory is injected at\n          com.xxx.hello_mvvm_dagger2_kotlin.ui.CryptoCurrencyActivity.cryptoCurrencyViewModelFactory\n      com.xxx.hello_mvvm_dagger2_kotlin.ui.CryptoCurrencyActivity is injected at\n          dagger.android.AndroidInjector.inject(T)\n  component path: com.xxx.hello_mvvm_dagger2_kotlin.di.component.ApplicationComponent ? com.xxx.hello_mvvm_dagger2_kotlin.di.module.ActivityModule_ContributeCryptoCurrenciesActivity.CryptoCurrencyActivitySubcomponent\n\n</code></pre>\n\n<p>I'm try to following this <a href=\"https://medium.com/@cdmunoz/offline-first-android-app-with-mvvm-dagger2-rxjava-livedata-and-room-25de4e1ada14\" rel=\"nofollow noreferrer\">link</a> to implement MVVM-Dagger-Kotlin.</p>\n\n<p><strong>Gradle(module)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    defaultConfig {\n        applicationId \"com.xxx.hello_mvvm_dagger2_kotlin\"\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.compileSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [\"room.schemaLocation\": \"$projectDir/schemas\".toString()]\n            }\n        }\n    }\n    buildTypes {\n        debug {\n            buildConfigField 'String', 'URL', '\"https://api.coinmarketcap.com/v1/\"'\n        }\n        release {\n            buildConfigField 'String', 'URL', '\"https://api.coinmarketcap.com/v1/\"'\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    implementation \"androidx.appcompat:appcompat:${rootProject.ext.appcompatVersion}\"\n    implementation \"androidx.constraintlayout:constraintlayout:${rootProject.ext.constraintLayoutVersion}\"\n\n    // moshi\n    implementation \"com.squareup.moshi:moshi-kotlin:${rootProject.ext.moshiKotlinVersion}\"\n\n    // dagger2\n    implementation \"com.google.dagger:dagger:${rootProject.ext.dagger2Version}\"\n    implementation \"com.google.dagger:dagger-android:${rootProject.ext.dagger2Version}\"\n    implementation \"com.google.dagger:dagger-android-support:${rootProject.ext.dagger2Version}\"\n    kapt \"com.google.dagger:dagger-compiler:${rootProject.ext.dagger2Version}\"\n    kapt \"com.google.dagger:dagger-android-processor:${rootProject.ext.dagger2Version}\"\n\n    // room\n    implementation \"android.arch.persistence.room:runtime:${rootProject.ext.archRoomVersion}\"\n    implementation \"android.arch.persistence.room:rxjava2:${rootProject.ext.archRoomVersion}\"\n    kapt \"android.arch.persistence.room:compiler:${rootProject.ext.archRoomVersion}\"\n\n    // lifecycle\n    implementation \"android.arch.lifecycle:extensions:${rootProject.ext.archLifecycleVersion}\"\n    implementation \"android.arch.lifecycle:extensions:${rootProject.ext.archLifecycleVersion}\"\n    kapt \"android.arch.lifecycle:compiler:${rootProject.ext.archLifecycleVersion}\"\n\n    // retrofit\n    implementation \"com.squareup.retrofit2:retrofit:${rootProject.ext.retrofitVersion}\"\n    implementation \"com.squareup.retrofit2:converter-moshi:${rootProject.ext.moshiConverterVersion}\"\n    implementation \"com.squareup.retrofit2:adapter-rxjava2:${rootProject.ext.rxJavaAdapterVersion}\"\n\n    // rxJava rxAndroid\n    implementation \"io.reactivex.rxjava2:rxjava:${rootProject.ext.rxJava2Version}\"\n    implementation \"io.reactivex.rxjava2:rxandroid:${rootProject.ext.rxAndroidVersion}\"\n\n    // test\n    testImplementation \"junit:junit:${rootProject.ext.junitVersion}\"\n    androidTestImplementation \"androidx.test:runner:${rootProject.ext.testRunnerVersion}\"\n    androidTestImplementation \"androidx.test.espresso:espresso-core:${rootProject.ext.testEspressoVersion}\"\n}\n</code></pre>\n\n<p><strong>Gradle(Project)</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.20'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\next {\n    //app\n    compileSdkVersion = 28\n    minSdkVersion = 16\n    targetSdkVersion = 28\n    appcompatVersion = \"1.1.0-alpha01\"\n    constraintLayoutVersion = \"2.0.0-alpha3\"\n    moshiKotlinVersion = \"1.5.0\"\n    dagger2Version = \"2.16\"\n    archRoomVersion = \"1.0.0\"\n    archLifecycleVersion = \"1.1.0\"\n    retrofitVersion = \"2.3.0\"\n    moshiConverterVersion = \"2.3.0\"\n    rxJavaAdapterVersion = \"2.3.0\"\n    rxAndroidVersion = \"2.1.0\"\n    rxJava2Version = \"2.1.0\"\n\n    //test\n    junitVersion = \"4.12\"\n\n    //testImpl\n    testRunnerVersion = \"1.1.1\"\n    testEspressoVersion = \"3.1.1\"\n}\n\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>CryptoCurrencyApplication</strong></p>\n\n<pre><code>class CryptoCurrencyApplication: Application(), HasActivityInjector {\n\n    @Inject lateinit var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n        DaggerApplicationComponent.builder()\n            .application(this)\n            .build()\n            .injectLo(this)\n    }\n\n    override fun activityInjector() = activityInjector\n}\n</code></pre>\n\n<p><strong>ApplicationComponent</strong></p>\n\n<pre><code>@Singleton\n@Component(\n    modules = [\n        AndroidInjectionModule::class,\n        ApplicationModule::class,\n        DatabaseModule::class,\n        NetworkModule::class,\n        RepositoryModule::class,\n        ActivityModule::class\n    ])\ninterface ApplicationComponent {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: Application): Builder\n\n        fun build(): ApplicationComponent\n    }\n\n    fun injectLo(application: CryptoCurrencyApplication)\n}\n</code></pre>\n\n<p><strong>ViewModelModule</strong></p>\n\n<pre><code>@Module\nabstract class ViewModelModule {\n    @Binds\n    @IntoMap\n    @ViewModelKey(CryptoCurrencyViewModel::class)\n    abstract fun bindCryptoCurrencyViewModel(cryptoCurrencyViewModel: CryptoCurrencyViewModel): ViewModel\n\n    @Binds\n    abstract fun bindViewModelFactory(factory: CryptoCurrencyViewModelFactory) : ViewModelProvider.Factory\n}\n</code></pre>\n\n<p><strong>ViewModelKey</strong></p>\n\n<pre><code>@MustBeDocumented\n@Retention(AnnotationRetention.RUNTIME)\n@Target(\n    AnnotationTarget.FUNCTION,\n    AnnotationTarget.PROPERTY_GETTER,\n    AnnotationTarget.PROPERTY_SETTER)\n@MapKey\ninternal annotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\n</code></pre>\n\n<p><strong>CryptoCurrencyViewModel</strong></p>\n\n<pre><code>class CryptoCurrencyViewModel @Inject constructor(private val cryptoCurrencyRepository: CryptoCurrencyRepository): ViewModel() {\n\n    var result: MutableLiveData&lt;List&lt;CryptoCurrency&gt;&gt; = MutableLiveData()\n    var error: MutableLiveData&lt;String&gt; = MutableLiveData()\n    var loader: MutableLiveData&lt;Boolean&gt; = MutableLiveData()\n\n    private lateinit var disposableObserver: DisposableObserver&lt;List&lt;CryptoCurrency&gt;&gt;\n\n    fun getResult(): LiveData&lt;List&lt;CryptoCurrency&gt;&gt; = result\n\n    fun getError(): LiveData&lt;String&gt; = error\n\n    fun getLoader(): LiveData&lt;Boolean&gt; = loader\n\n    fun loadCryptoCurrencies(limit: Int, offset: Int) {\n        disposableObserver = object : DisposableObserver&lt;List&lt;CryptoCurrency&gt;&gt;() {\n            override fun onComplete() {\n\n            }\n\n            override fun onNext(cryptoCurrencies: List&lt;CryptoCurrency&gt;) {\n                result.postValue(cryptoCurrencies)\n                loader.postValue(false)\n            }\n\n            override fun onError(e: Throwable) {\n                error.postValue(e.message)\n                loader.postValue(false)\n            }\n\n        }\n\n        cryptoCurrencyRepository.getCryptoCurrencies(limit, offset)\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .debounce(400, TimeUnit.MILLISECONDS)\n            .subscribe(disposableObserver)\n    }\n\n    fun disposeElements() {\n        disposableObserver?.let {\n            if (it.isDisposed) disposableObserver.dispose()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>CryptoCurrencyViewModelFactory</strong></p>\n\n<pre><code>@Singleton\nclass CryptoCurrencyViewModelFactory @Inject constructor(\n    private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;)\n    : ViewModelProvider.Factory {\n\n    @Suppress(\"UNCHECKED_CAST\")\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\n        var creator: Provider&lt;out ViewModel&gt;? = creators[modelClass]\n        if (creator == null) {\n            for ((key, value) in creators) {\n                if (modelClass.isAssignableFrom(key)) {\n                    creator = value\n                    break\n                }\n            }\n        }\n        if (creator == null) {\n            throw IllegalArgumentException(\"unknown model class \" + modelClass)\n        }\n        try {\n            return creator.get() as T\n        } catch (e: Exception) {\n            throw RuntimeException(e)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>CryptoCurrencyActivity</strong></p>\n\n<pre><code>class CryptoCurrencyActivity: AppCompatActivity() {\n\n    @Inject lateinit var cryptoCurrencyViewModelFactory: CryptoCurrencyViewModelFactory\n    private var cryptoCurrencyAdapter = CryptoCurrencyAdapter(ArrayList())\n    private lateinit var cryptoCurrencyViewModel: CryptoCurrencyViewModel\n    private var currentPage = 0\n\n    companion object {\n        private val TAG = CryptoCurrencyActivity::class.simpleName\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_cryptocurrency)\n\n        cryptoCurrencyViewModel = ViewModelProviders.of(this, cryptoCurrencyViewModelFactory)\n            .get(CryptoCurrencyViewModel::class.java)\n    }\n} \n</code></pre>\n\n<p>I have already wasted much amount of time on finding error in my code, if someone can help me on this. I expect the <strong>ViewModelFactory</strong> is not null and injected.</p>\n\n<p><a href=\"https://github.com/PaijoRX/hello-mvvm-dagger-kotlin\" rel=\"nofollow noreferrer\">source code</a></p>\n"}, {"tags": ["maven", "file", "spring-boot", "kotlin", "jar"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1550062331, "post_id": 54668017, "comment_id": 96131066, "body": "normally whatever is there inside <code>src&#47;main&#47;resources&#47;</code> is copied by the build tool (e.g., Maven) to the output folder, which won&#39;t hence contain <code>src&#47;main&#47;resources&#47;</code> anymore. Example: file <code>src&#47;main&#47;resources&#47;foo.txt</code> will be copied to <code>&#47;foo.txt</code> within the generated JAR file"}, {"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1550063132, "post_id": 54668017, "comment_id": 96131580, "body": "That&#39;s what I though but when lauching, the application is unable to find my files... I don&#39;t get why."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1550063958, "post_id": 54668017, "comment_id": 96132117, "body": "Use <code>getResource</code> or <code>getResourceAsStream</code> (<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/lang/&hellip;</a> or just search for the names to find examples). This isn&#39;t specific to Kotlin."}, {"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1550064055, "post_id": 54668017, "comment_id": 96132192, "body": "So you think my application doesn&#39;t find the resource file because I didn&#39;t use one of these function?"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1550064202, "post_id": 54668017, "comment_id": 96132283, "body": "Why not open the output jarfile to determine the path?"}, {"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1550064370, "post_id": 54668017, "comment_id": 96132385, "body": "If I do that, my jar will work, but the application in my IDE will not work anymore. It&#39;s not a good solution..."}], "answers": [{"comments": [{"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1550135357, "post_id": 54675946, "comment_id": 96161456, "body": "Thank you for your answer. So, how should I do ? For now I&#39;m searching my file with the path &quot;src/main/resources/myFile.csv&quot;, should I change the path? It is counterintuitive to use a path which not exist yet in my IDE (but only in the jar). I guess there&#39;s another way to do it?"}, {"owner": {"reputation": 12923, "user_id": 944849, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af1b857e489439dc3c7b6cdc878562df?s=128&d=identicon&r=PG", "display_name": "user944849", "link": "https://stackoverflow.com/users/944849/user944849"}, "reply_to_user": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1550155697, "post_id": 54675946, "comment_id": 96173574, "body": "Yes, the jar will not include <code>src&#47;main&#47;resources</code>. View the jar contents with <code>jar tvf &lt;theJarName&gt;.jar</code> to find where myFile.csv is. Then try that path."}, {"owner": {"reputation": 12923, "user_id": 944849, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af1b857e489439dc3c7b6cdc878562df?s=128&d=identicon&r=PG", "display_name": "user944849", "link": "https://stackoverflow.com/users/944849/user944849"}, "reply_to_user": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1550159897, "post_id": 54675946, "comment_id": 96176297, "body": "Please run the <code>jar tvf</code> command I provided and add the output to the question. Then specifically indicate the file you&#39;re trying to open."}, {"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1550223837, "post_id": 54675946, "comment_id": 96198613, "body": "I edited my question. I try to access to one of the three files in the directory <code>BOOT-INF&#47;classes&#47;data&#47;</code> of my jar."}], "tags": [], "owner": {"reputation": 12923, "user_id": 944849, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af1b857e489439dc3c7b6cdc878562df?s=128&d=identicon&r=PG", "display_name": "user944849", "link": "https://stackoverflow.com/users/944849/user944849"}, "is_accepted": false, "score": 1, "last_activity_date": 1550232701, "last_edit_date": 1550232701, "creation_date": 1550078159, "answer_id": 54675946, "question_id": 54668017, "link": "https://stackoverflow.com/questions/54668017/how-should-i-load-resources-from-src-main-resources-in-kotlin/54675946#54675946", "title": "How should I load resources from src/main/resources in Kotlin?", "body": "<p>The production app will not run in your IDE, right? So that is of lesser importance than finding where the file exists on the classpath.</p>\n\n<p>Essentially, there is no <code>src/main/resources</code> dir in the jar file - that directory is just a Maven convention for holding resources in a project. If you crack the jar and find the files in question, you'll understand better where Maven puts those files at package time and how to access them. Also note, a Maven-aware IDE will put files in <code>src/main/resources</code> on the app classpath, so the app will likely run in the IDE as well once the correct solution is identified.</p>\n\n<p>To access the <code>application.properties</code> file in the example, use <code>getResource</code> or <code>getResourceAsStream</code> as suggested, with path <code>/BOOT-INF/classes/application.properties</code>. Note the first slash.</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "is_accepted": true, "score": 0, "last_activity_date": 1564395269, "last_edit_date": 1564395269, "creation_date": 1550660152, "answer_id": 54784636, "question_id": 54668017, "link": "https://stackoverflow.com/questions/54668017/how-should-i-load-resources-from-src-main-resources-in-kotlin/54784636#54784636", "title": "How should I load resources from src/main/resources in Kotlin?", "body": "<p>I finally solved the problem. I don't if know using the BufferedReader is still the best practice, but I decided to keep it in my code as everything was done with it already. So I dropped the use of File class, and I used the following to get a resource from <code>src/main/resources</code>:</p>\n\n<pre><code> var line: String?\n val bufferedReader = BufferedReader(InputStreamReader(Thread.currentThread().contextClassLoader.getResourceAsStream(csvLocation)))\n do {\n     line = bufferedReader.readLine()\n     if (line != null) {\n         //Do something with 'line'\n     }\n } while (line != null)\n</code></pre>\n\n<p>csvLocation value is <code>\"data/myFile.csv\"</code>. This file is located in <code>src/main/resources/data</code></p>\n\n<p>Finally this solution works in my IDE and in the generated jar. Problem solved.</p>\n"}], "owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2315, "favorite_count": 0, "accepted_answer_id": 54784636, "answer_count": 2, "score": 0, "last_activity_date": 1564395269, "creation_date": 1550053975, "last_edit_date": 1550223722, "question_id": 54668017, "link": "https://stackoverflow.com/questions/54668017/how-should-i-load-resources-from-src-main-resources-in-kotlin", "title": "How should I load resources from src/main/resources in Kotlin?", "body": "<p>I'm working on a Spring Boot application written in Kotlin (using Maven), and everything works fine but after generating the jar of my application, it throws an Exception because it can't find the folder src/main/resources:  </p>\n\n<pre><code>Caused by: java.io.FileNotFoundException: src\\main\\resources\\data\\circuits-arrets.json  \n</code></pre>\n\n<p>I read that could be because I use File class, and it doesn't work properly after generating the jar. Here's how I read my file:   </p>\n\n<pre><code>var line: String?\nval bufferedReader = BufferedReader(FileReader(File(csvLocation)))\ndo {\n    line = bufferedReader.readLine()\n    if (line != null) {\n        //Do something with 'line'\n    }\n} while (line != null)\n</code></pre>\n\n<p>I found some solutions using InputStream instead of File in the BufferedReader.<br>\nMy question is: Does it really change something for the jar? If yes, how should I do then?</p>\n\n<p>Thank you in advance.</p>\n\n<p><strong>EDIT:</strong> \nHere's the output of the command <code>jar tvf my-jar.jar</code> :  </p>\n\n<pre><code>     0 Fri Feb 15 10:34:14 CET 2019 META-INF/\n   552 Fri Feb 15 10:34:14 CET 2019 META-INF/MANIFEST.MF\n     0 Fri Feb 15 10:34:14 CET 2019 org/\n     0 Fri Feb 15 10:34:14 CET 2019 org/springframework/\n     0 Fri Feb 15 10:34:14 CET 2019 org/springframework/boot/\n     0 Fri Feb 15 10:34:14 CET 2019 org/springframework/boot/loader/\n     0 Fri Feb 15 10:34:14 CET 2019 org/springframework/boot/loader/data/\n  2688 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/data/RandomAccessDataFile$DataInputStream.class\n     0 Fri Feb 15 10:34:14 CET 2019 org/springframework/boot/loader/jar/\n  9736 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarURLConnection.class\n  1374 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarFile$JarFileType.class\n 14915 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarFile.class\n  3414 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarEntry.class\n   345 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/FileHeader.class\n  3172 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/StringSequence.class\n  4976 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/AsciiBytes.class\n  1593 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarFileEntries$1.class\n  1997 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarFileEntries$EntryIterator.class\n 10728 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarFileEntries.class\n   540 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/CentralDirectoryVisitor.class\n   299 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarEntryFilter.class\n  5267 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/CentralDirectoryFileHeader.class\n  3116 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/CentralDirectoryEndRecord.class\n  4624 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/CentralDirectoryParser.class\n  1693 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/ZipInflaterInputStream.class\n 11509 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/Handler.class\n     0 Fri Feb 15 10:34:14 CET 2019 org/springframework/boot/loader/archive/\n   302 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/Archive$Entry.class\n   437 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/Archive$EntryFilter.class\n   945 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/Archive.class\n  1487 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/ExplodedArchive$FileEntryIterator$EntryComparator.class\n  3837 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/ExplodedArchive$FileEntryIterator.class\n  5243 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/ExplodedArchive.class\n  1484 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/PropertiesLauncher$ArchiveEntryFilter.class\n 19737 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/PropertiesLauncher.class\n   282 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/data/RandomAccessDataFile$1.class\n  2062 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarFile$1.class\n  1233 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarFile$2.class\n  3263 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/data/RandomAccessDataFile$FileAccess.class\n  4015 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/data/RandomAccessDataFile.class\n  1102 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/ExplodedArchive$FileEntry.class\n  1081 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/JarFileArchive$JarFileEntry.class\n  7336 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/JarFileArchive.class\n  1502 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/MainMethodRunner.class\n  3608 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/ExecutableArchiveLauncher.class\n     0 Fri Feb 15 10:34:14 CET 2019 org/springframework/boot/loader/util/\n  5203 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/util/SystemPropertyUtils.class\n   485 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/data/RandomAccessData.class\n   273 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/ExplodedArchive$1.class\n  1779 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/archive/JarFileArchive$EntryIterator.class\n  1953 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/PropertiesLauncher$PrefixMatchingArchiveFilter.class\n   266 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/PropertiesLauncher$1.class\n  4684 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/Launcher.class\n  1721 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/WarLauncher.class\n  1585 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/JarLauncher.class\n  1527 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/LaunchedURLClassLoader$UseFastConnectionExceptionsEnumeration.class\n  5687 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/LaunchedURLClassLoader.class\n   616 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/Bytes.class\n   702 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarURLConnection$1.class\n  4306 Wed May 09 13:32:20 CEST 2018 org/springframework/boot/loader/jar/JarURLConnection$JarEntryName.class\n     0 Fri Feb 15 10:34:14 CET 2019 BOOT-INF/\n     0 Fri Feb 15 10:34:14 CET 2019 BOOT-INF/classes/\n     0 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/constants/\n     0 Fri Feb 15 10:33:50 CET 2019 BOOT-INF/classes/data/\n     0 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/\n     0 Fri Feb 15 10:34:10 CET 2019 BOOT-INF/classes/fr/asi/\n     0 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/\n     0 Fri Feb 15 10:34:10 CET 2019 BOOT-INF/classes/fr/asi/entities/\n     0 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/jsonEntities/\n     0 Fri Feb 15 10:34:10 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/\n     0 Fri Feb 15 10:34:10 CET 2019 BOOT-INF/classes/fr/asi/entities/viewModels/\n     0 Fri Feb 15 10:34:10 CET 2019 BOOT-INF/classes/fr/asi/repositories/\n     0 Fri Feb 15 10:34:10 CET 2019 BOOT-INF/classes/fr/asi/security/\n     0 Fri Feb 15 10:34:10 CET 2019 BOOT-INF/classes/fr/asi/services/\n     0 Fri Feb 15 10:34:10 CET 2019 BOOT-INF/classes/fr/asi/utils/\n     0 Fri Feb 15 10:34:12 CET 2019 META-INF/maven/\n     0 Fri Feb 15 10:34:12 CET 2019 META-INF/maven/com.auth0.samples/\n     0 Fri Feb 15 10:34:12 CET 2019 META-INF/maven/com.auth0.samples/kotlin-spring-boot/\n   584 Fri Feb 15 10:33:50 CET 2019 BOOT-INF/classes/application.properties\n 87499 Fri Feb 15 10:33:50 CET 2019 BOOT-INF/classes/data/circuits-arrets.json\n261015 Fri Feb 15 10:33:50 CET 2019 BOOT-INF/classes/data/tan-arrets.csv\n  1029 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/Configuration.class\n  3471 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/ApplicationUserController.class\n  6013 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/BaseController.class\n  1701 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/BikeStationController.class\n  1692 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/BusStationController.class\n   612 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/FavoriteController$WhenMappings.class\n  5385 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/FavoriteController.class\n  1778 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/LineController.class\n  7389 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/controllers/StationController.class\n  1868 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/entities/jsonEntities/Arret.class\n  1079 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/entities/jsonEntities/BusLineLibelle.class\n  3252 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/ApplicationUser.class\n  2977 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/BikeStation.class\n  2140 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/Favorite.class\n  2981 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/Station.class\n  1195 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/entities/viewModels/BaseVM.class\n  3691 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/entities/viewModels/StationVM.class\n  1663 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/KotlinSpringBootApplicationKt.class\n   812 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/repositories/BaseRepository.class\n   702 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/repositories/BusStationRepository.class\n   672 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/repositories/LineRepository.class\n  5530 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/security/JWTAuthenticationFilter.class\n  2578 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/security/UserDetailsServiceImpl.class\n  4617 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/services/BaseService.class\n  1186 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/services/LineService.class\n  5525 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/StartingDataInjector.class\n  7943 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/utils/ParsersKt.class\n   121 Fri Feb 15 10:34:08 CET 2019 META-INF/kotlin-spring-boot.kotlin_module\n  7216 Fri Feb 15 10:31:38 CET 2019 META-INF/maven/com.auth0.samples/kotlin-spring-boot/pom.xml\n  1693 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/constants/ConstantsKt.class\n  1805 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/AccessCondition.class\n  1065 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/BaseEntity.class\n  3506 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/BusStation.class\n  1434 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/FavoriteType.class\n  2945 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/Line.class\n  2056 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/entities/mainEntities/StationType.class\n  2081 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/entities/viewModels/LineVM.class\n   613 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/KotlinSpringBootApplication.class\n  1101 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/repositories/ApplicationUserRepository.class\n   707 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/repositories/BikeStationRepository.class\n   692 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/repositories/FavoriteRepository.class\n   687 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/repositories/StationRepository.class\n  4738 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/security/JWTAuthorizationFilter.class\n  6776 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/security/WebSecurity.class\n  1235 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/services/BikeStationService.class\n  1228 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/services/BusStationService.class\n  1207 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/services/StationService.class\n  2405 Fri Feb 15 10:34:06 CET 2019 BOOT-INF/classes/fr/asi/utils/FindersKt.class\n  5205 Fri Feb 15 10:34:08 CET 2019 BOOT-INF/classes/fr/asi/VMUtils.class\n   114 Fri Feb 15 10:34:12 CET 2019 META-INF/maven/com.auth0.samples/kotlin-spring-boot/pom.properties\n 29487 Fri Feb 15 10:33:50 CET 2019 BOOT-INF/classes/data/stations-velos-libre-service-nantes-metropole.csv\n     0 Fri Feb 15 10:34:14 CET 2019 BOOT-INF/lib/\n   628 Wed May 09 13:41:28 CEST 2018 BOOT-INF/lib/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar\n   593 Wed May 09 13:30:56 CEST 2018 BOOT-INF/lib/spring-boot-starter-2.0.2.RELEASE.jar\n927496 Wed May 09 13:19:02 CEST 2018 BOOT-INF/lib/spring-boot-2.0.2.RELEASE.jar\n1161361 Wed May 09 13:25:34 CEST 2018 BOOT-INF/lib/spring-boot-autoconfigure-2.0.2.RELEASE.jar\n   613 Wed May 09 13:30:56 CEST 2018 BOOT-INF/lib/spring-boot-starter-logging-2.0.2.RELEASE.jar\n290339 Fri Mar 31 21:27:54 CEST 2017 BOOT-INF/lib/logback-classic-1.2.3.jar\n471901 Fri Mar 31 21:27:16 CEST 2017 BOOT-INF/lib/logback-core-1.2.3.jar\n 17519 Sun Nov 19 01:08:44 CET 2017 BOOT-INF/lib/log4j-to-slf4j-2.10.0.jar\n255485 Sun Nov 19 00:48:58 CET 2017 BOOT-INF/lib/log4j-api-2.10.0.jar\n  4596 Thu Mar 16 17:37:48 CET 2017 BOOT-INF/lib/jul-to-slf4j-1.7.25.jar\n 26586 Wed Feb 21 15:54:16 CET 2018 BOOT-INF/lib/javax.annotation-api-1.3.2.jar\n297518 Sat Oct 14 11:44:44 CEST 2017 BOOT-INF/lib/snakeyaml-1.19.jar\n   600 Wed May 09 13:41:20 CEST 2018 BOOT-INF/lib/spring-boot-starter-aop-2.0.2.RELEASE.jar\n1930381 Wed Nov 15 11:26:54 CET 2017 BOOT-INF/lib/aspectjweaver-1.8.13.jar\n   598 Wed May 09 13:41:22 CEST 2018 BOOT-INF/lib/spring-boot-starter-jdbc-2.0.2.RELEASE.jar\n143471 Thu Apr 05 17:30:38 CEST 2018 BOOT-INF/lib/HikariCP-2.7.9.jar\n401279 Tue May 08 08:06:44 CEST 2018 BOOT-INF/lib/spring-jdbc-5.0.6.RELEASE.jar\n6739203 Thu Apr 26 11:06:04 CEST 2018 BOOT-INF/lib/hibernate-core-5.2.17.Final.jar\n 66469 Wed Feb 14 13:23:28 CET 2018 BOOT-INF/lib/jboss-logging-3.3.2.Final.jar\n113371 Fri Jul 26 12:01:34 CEST 2013 BOOT-INF/lib/hibernate-jpa-2.1-api-1.0.0.Final.jar\n739582 Tue Oct 10 18:04:58 CEST 2017 BOOT-INF/lib/javassist-3.22.0-GA.jar\n445288 Wed Sep 06 11:15:06 CEST 2006 BOOT-INF/lib/antlr-2.7.7.jar\n186741 Tue Aug 02 13:41:56 CEST 2016 BOOT-INF/lib/jandex-2.0.3.Final.jar\n 65100 Sat Sep 09 14:47:28 CEST 2017 BOOT-INF/lib/classmate-1.3.4.jar\n313898 Mon May 16 14:19:12 CEST 2005 BOOT-INF/lib/dom4j-1.6.1.jar\n 75288 Tue Nov 24 15:03:08 CET 2015 BOOT-INF/lib/hibernate-commons-annotations-5.0.1.Final.jar\n 30724 Mon May 13 15:11:34 CEST 2013 BOOT-INF/lib/javax.transaction-api-1.2.jar\n335660 Tue May 08 14:29:02 CEST 2018 BOOT-INF/lib/spring-data-jpa-2.0.7.RELEASE.jar\n1076871 Tue May 08 14:23:50 CEST 2018 BOOT-INF/lib/spring-data-commons-2.0.7.RELEASE.jar\n191789 Tue May 08 08:07:28 CEST 2018 BOOT-INF/lib/spring-orm-5.0.6.RELEASE.jar\n255201 Tue May 08 08:06:38 CEST 2018 BOOT-INF/lib/spring-tx-5.0.6.RELEASE.jar\n 41203 Thu Mar 16 17:36:32 CET 2017 BOOT-INF/lib/slf4j-api-1.7.25.jar\n 46745 Tue May 08 08:08:48 CEST 2018 BOOT-INF/lib/spring-aspects-5.0.6.RELEASE.jar\n   588 Wed May 09 13:41:32 CEST 2018 BOOT-INF/lib/spring-boot-starter-web-2.0.2.RELEASE.jar\n   645 Wed May 09 13:41:30 CEST 2018 BOOT-INF/lib/spring-boot-starter-json-2.0.2.RELEASE.jar\n 33392 Mon Mar 26 15:55:48 CEST 2018 BOOT-INF/lib/jackson-datatype-jdk8-2.9.5.jar\n 99630 Mon Mar 26 15:56:26 CEST 2018 BOOT-INF/lib/jackson-datatype-jsr310-2.9.5.jar\n  8646 Mon Mar 26 15:54:04 CEST 2018 BOOT-INF/lib/jackson-module-parameter-names-2.9.5.jar\n   591 Wed May 09 13:41:32 CEST 2018 BOOT-INF/lib/spring-boot-starter-tomcat-2.0.2.RELEASE.jar\n3115994 Fri Apr 27 21:24:52 CEST 2018 BOOT-INF/lib/tomcat-embed-core-8.5.31.jar\n240244 Fri Apr 27 21:24:54 CEST 2018 BOOT-INF/lib/tomcat-embed-el-8.5.31.jar\n256776 Fri Apr 27 21:24:54 CEST 2018 BOOT-INF/lib/tomcat-embed-websocket-8.5.31.jar\n1130724 Tue Mar 27 09:03:18 CEST 2018 BOOT-INF/lib/hibernate-validator-6.0.9.Final.jar\n 93107 Tue Dec 19 16:23:28 CET 2017 BOOT-INF/lib/validation-api-2.0.1.Final.jar\n1254097 Tue May 08 08:07:04 CEST 2018 BOOT-INF/lib/spring-web-5.0.6.RELEASE.jar\n789889 Tue May 08 08:07:52 CEST 2018 BOOT-INF/lib/spring-webmvc-5.0.6.RELEASE.jar\n   604 Wed May 09 13:41:42 CEST 2018 BOOT-INF/lib/spring-boot-starter-security-2.0.2.RELEASE.jar\n366299 Tue May 08 08:06:20 CEST 2018 BOOT-INF/lib/spring-aop-5.0.6.RELEASE.jar\n691611 Tue May 08 15:25:12 CEST 2018 BOOT-INF/lib/spring-security-config-5.0.5.RELEASE.jar\n494788 Tue May 08 15:24:48 CEST 2018 BOOT-INF/lib/spring-security-web-5.0.5.RELEASE.jar\n 72603 Thu Jan 10 22:41:24 CET 2019 BOOT-INF/lib/spring-security-crypto-5.1.3.RELEASE.jar\n433210 Thu Jan 10 22:41:26 CET 2019 BOOT-INF/lib/spring-security-core-5.1.3.RELEASE.jar\n660573 Tue May 08 08:06:02 CEST 2018 BOOT-INF/lib/spring-beans-5.0.6.RELEASE.jar\n1090735 Tue May 08 08:06:32 CEST 2018 BOOT-INF/lib/spring-context-5.0.6.RELEASE.jar\n1226584 Tue May 08 08:05:54 CEST 2018 BOOT-INF/lib/spring-core-5.0.6.RELEASE.jar\n 21704 Tue May 08 08:05:42 CEST 2018 BOOT-INF/lib/spring-jcl-5.0.6.RELEASE.jar\n279878 Tue May 08 08:06:20 CEST 2018 BOOT-INF/lib/spring-expression-5.0.6.RELEASE.jar\n 13769 Tue Nov 13 13:35:54 CET 2018 BOOT-INF/lib/kotlin-stdlib-jdk8-1.3.10.jar\n1181292 Tue Nov 13 13:25:52 CET 2018 BOOT-INF/lib/kotlin-stdlib-1.3.10.jar\n151024 Tue Nov 13 13:24:28 CET 2018 BOOT-INF/lib/kotlin-stdlib-common-1.3.10.jar\n 17536 Tue Dec 17 16:10:34 CET 2013 BOOT-INF/lib/annotations-13.0.jar\n  3137 Tue Nov 13 13:35:52 CET 2018 BOOT-INF/lib/kotlin-stdlib-jdk7-1.3.10.jar\n2645740 Tue Nov 13 13:33:06 CET 2018 BOOT-INF/lib/kotlin-reflect-1.3.10.jar\n501860 Wed Aug 15 21:36:52 CEST 2018 BOOT-INF/lib/commons-lang3-3.8.jar\n127509 Fri Aug 04 15:17:50 CEST 2017 BOOT-INF/lib/javax.ws.rs-api-2.1.jar\n164361 Sun Dec 23 12:30:54 CET 2018 BOOT-INF/lib/klaxon-5.0.1.jar\n 50732 Thu Jan 03 15:45:18 CET 2019 BOOT-INF/lib/java-jwt-3.5.0.jar\n1342410 Mon Mar 26 15:13:56 CEST 2018 BOOT-INF/lib/jackson-databind-2.9.5.jar\n 66519 Sat Jul 29 20:53:26 CEST 2017 BOOT-INF/lib/jackson-annotations-2.9.0.jar\n321590 Mon Mar 26 08:04:00 CEST 2018 BOOT-INF/lib/jackson-core-2.9.5.jar\n335042 Tue Oct 17 08:53:20 CEST 2017 BOOT-INF/lib/commons-codec-1.11.jar\n1007502 Tue Aug 07 08:59:10 CEST 2018 BOOT-INF/lib/mysql-connector-java-5.1.47.jar\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bluetooth-lowenergy", "rxandroidble"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550056697, "post_id": 54668393, "comment_id": 96127807, "body": "Okey, but I have another problem in <code>read()</code> have an exception <i>Already connected to device with MAC address FF:FF:C3:0A:62:F3</i>"}, {"owner": {"reputation": 122, "user_id": 4488209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpft2.jpg?s=128&g=1", "display_name": "Boris Kozyrev", "link": "https://stackoverflow.com/users/4488209/boris-kozyrev"}, "reply_to_user": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550057107, "post_id": 54668393, "comment_id": 96128045, "body": "Well, you make <code>establishConnection</code> call twice. Thats why you get your exception. You have to pass <code>RxBleConnection</code> to method <code>read</code> and not <code>RxBleDevice</code> since you already have a valid connection"}, {"owner": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550060413, "post_id": 54668393, "comment_id": 96129959, "body": "Have another exception <b>service.getCharacteristic(characteristicUuid) must not be null</b>"}, {"owner": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550060755, "post_id": 54668393, "comment_id": 96130141, "body": "or if I put characteristicUuid <b>Characteristic not found with UUID 00001800-0000-1000-8000-00805f9b34fb</b>"}, {"owner": {"reputation": 122, "user_id": 4488209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpft2.jpg?s=128&g=1", "display_name": "Boris Kozyrev", "link": "https://stackoverflow.com/users/4488209/boris-kozyrev"}, "reply_to_user": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550062989, "post_id": 54668393, "comment_id": 96131491, "body": "Are you sure, characteristic with this UUID exists in your device? Have you found it in manufacturer&#39;s info? I guess, I need more logs to make more detailed answer"}, {"owner": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550063318, "post_id": 54668393, "comment_id": 96131691, "body": "I think I solved this problem. I have next code to read, but when I push buttons on BLE device there is no result  <code>.subscribe({ characteristicValue -&gt;  characteristicValue     .observeOn(AndroidSchedulers.mainThread())     .subscribe { t1, t2 -&gt;        Log.i(&quot;BLE&quot;, &quot;READ T $t1&quot;)         if (t2 != null) {Log.i(&quot;BLE&quot;, &quot;READ T ${t2.localizedMessage}&quot;)}       }     },     { throwable -&gt;       Log.i(&quot;BLE&quot;, &quot;ERROR READ ${throwable.localizedMessage}&quot;) })</code>"}, {"owner": {"reputation": 122, "user_id": 4488209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpft2.jpg?s=128&g=1", "display_name": "Boris Kozyrev", "link": "https://stackoverflow.com/users/4488209/boris-kozyrev"}, "reply_to_user": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550063964, "post_id": 54668393, "comment_id": 96132123, "body": "If you want to be notified in code whenever you press a button, you have to set up notification via <code>rxBleConnection.setupNotification(characteristic)</code>"}, {"owner": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550068185, "post_id": 54668393, "comment_id": 96134834, "body": "I try, but no result"}, {"owner": {"reputation": 122, "user_id": 4488209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpft2.jpg?s=128&g=1", "display_name": "Boris Kozyrev", "link": "https://stackoverflow.com/users/4488209/boris-kozyrev"}, "reply_to_user": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550068583, "post_id": 54668393, "comment_id": 96135095, "body": "Have you tried to scan and connect to your device through other apps, for example, LightBlue, to make sure your device has accessible characteristics and permissions to read/write?"}, {"owner": {"reputation": 122, "user_id": 4488209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpft2.jpg?s=128&g=1", "display_name": "Boris Kozyrev", "link": "https://stackoverflow.com/users/4488209/boris-kozyrev"}, "reply_to_user": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550071965, "post_id": 54668393, "comment_id": 96137356, "body": "Well, I&#39;m a little bit confused. If you want, you can contact me, for instance, via Telegram for more detailed info"}, {"owner": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "edited": false, "score": 0, "creation_date": 1550072271, "post_id": 54668393, "comment_id": 96137558, "body": "Good, write me @dmeln"}, {"owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "edited": false, "score": 0, "creation_date": 1553725872, "post_id": 54668393, "comment_id": 97496764, "body": "Can you provide a Kotlin implementation, since the original question was written in Kotlin? Also, <code>rxBleDeviceServices </code> doesn&#39;t exist."}, {"owner": {"reputation": 122, "user_id": 4488209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpft2.jpg?s=128&g=1", "display_name": "Boris Kozyrev", "link": "https://stackoverflow.com/users/4488209/boris-kozyrev"}, "edited": false, "score": 0, "creation_date": 1553771205, "post_id": 54668393, "comment_id": 97512304, "body": "Looks very impolite to downvote my answer, as it completely solves Dmytro&#39;s question. Additionally, I cannot take into account the phrase &quot;rxBleDeviceServices doesn&#39;t exist&quot; without any proof."}], "tags": [], "owner": {"reputation": 122, "user_id": 4488209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpft2.jpg?s=128&g=1", "display_name": "Boris Kozyrev", "link": "https://stackoverflow.com/users/4488209/boris-kozyrev"}, "is_accepted": true, "score": -1, "last_activity_date": 1550056299, "last_edit_date": 1550056299, "creation_date": 1550054972, "answer_id": 54668393, "question_id": 54667781, "link": "https://stackoverflow.com/questions/54667781/how-to-get-characteristicuuid/54668393#54668393", "title": "How to get characteristicUuid?", "body": "<p>Characteristic's UUID probably should be mentioned in the manufacturer's manual/info about the bluetooth device you are using.\nFrom my experience, our team had an engeneer, who provided us with documentation about device's ble services&amp;characteristics and their UUIDs.</p>\n\n<p>You can get all the ble services, characteristics and their UUIDs in your device with below code</p>\n\n<pre><code>rxBleConnection.discoverServices()\n   .map(rxBleDeviceServices -&gt; {\n      List&lt;BluetoothGattService&gt; services = rxBleDeviceServices.getBluetoothGattServices();\n\n      for (BluetoothGattService service : services) {\n         // here you can work with service's uuid\n         String serviceUuid = service.getUuid().toString();\n\n         // or with all characteristics in service\n         List&lt;BluetoothGattCharacteristic&gt; characteristics = service.getCharacteristics();\n\n         for (BluetoothGattCharacteristic characteristic : characteristics) {\n            // here you have your characteristic's UUID\n            String characteristicUuid = characteristic.getUuid().toString();\n         }\n   });\n</code></pre>\n\n<p>Then you save one of the BluetoothGattCharacteristic or UUID you have found and pass it to <code>rxBleConnection.readCharacteristic(bluetoothGattCharacteristic)</code></p>\n"}], "owner": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 870, "favorite_count": 0, "accepted_answer_id": 54668393, "answer_count": 1, "score": 1, "last_activity_date": 1550056299, "creation_date": 1550053340, "question_id": 54667781, "link": "https://stackoverflow.com/questions/54667781/how-to-get-characteristicuuid", "title": "How to get characteristicUuid?", "body": "<p>I use <strong>RxAndroidBle</strong> <a href=\"https://github.com/Polidea/RxAndroidBle\" rel=\"nofollow noreferrer\">https://github.com/Polidea/RxAndroidBle</a> library to work with ble device. But I have a problem with finding <strong>characteristicUuid</strong>.</p>\n\n<p>I do all from README, but can't find characteristicUuid. In read() need to execute <code>.flatMapSingle { rxBleConnection -&gt; rxBleConnection.readCharacteristic(characteristicUuid) }</code>, but there is no <strong>characteristicUuid</strong>. Where I can get it?</p>\n\n<pre><code>private lateinit var rxBleClient: RxBleClient\n    private lateinit var bleDevice: RxBleDevice\n    private lateinit var characteristicUuid: UUID\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    getLocationPermission()\n\n    rxBleClient = RxBleClient.create(this)\n\n    val enableBtIntent = Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE)\n    startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT)\n\n    button.setOnClickListener { discover() }\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == REQUEST_ENABLE_BT &amp;&amp; resultCode == Activity.RESULT_OK) {\n    }\n}\n\nprivate lateinit var scanSubscription: Disposable\n\nprivate fun discover() {\n    Log.i(\"BLE\", \"start scan\")\n    scanSubscription = rxBleClient.scanBleDevices(\n        ScanSettings.Builder()\n            // .setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY) // change if needed\n            // .setCallbackType(ScanSettings.CALLBACK_TYPE_ALL_MATCHES) // change if needed\n            .build()\n        // add filters if needed\n    )\n        .subscribe(\n            { scanResult -&gt;\n                bleDevice = scanResult.bleDevice\n                Log.i(\"BLE\", \"SCAN ${bleDevice.name} ${bleDevice.macAddress}\")\n                connect()\n                scanSubscription.dispose()\n                // Process scan result here.\n            },\n            { throwable -&gt;\n                Log.i(\"BLE\", \"ERROR SCAN ${throwable.localizedMessage}\")\n                // Handle an error here.\n            }\n        )\n\n}\n\nprivate lateinit var connectDisposable: Disposable\n\nprivate fun connect() {\n    val device = bleDevice\n\n    connectDisposable = device.establishConnection(false) // &lt;-- autoConnect flag\n        .subscribe(\n            { rxBleConnection -&gt;\n                Log.i(\"BLE\", \"CONNECT ${rxBleConnection.mtu}\")\n                read(device)\n                connectDisposable.dispose()\n                // All GATT operations are done through the rxBleConnection.\n            },\n            { throwable -&gt;\n                Log.i(\"BLE\", \"ERROR CONNECT ${throwable.localizedMessage}\")\n                // Handle an error here.\n            }\n        )\n\n}\n\nprivate fun read(device: RxBleDevice) {\n    val dis = device.establishConnection(false)\n        .flatMapSingle { rxBleConnection -&gt; rxBleConnection.readCharacteristic(characteristicUuid) }\n        .subscribe(\n            { characteristicValue -&gt;\n                Log.i(\"BLE\", \"READ $characteristicValue\")\n                // Read characteristic value.\n            },\n            { throwable -&gt;\n                Log.i(\"BLE\", \"ERROR READ ${throwable.localizedMessage}\")\n                // Handle an error here.\n            }\n        )\n}\n</code></pre>\n"}, {"tags": ["android", "date", "kotlin", "datepicker", "simpledateformat"], "comments": [{"owner": {"reputation": 1513, "user_id": 2135639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bea46d0ded78478de397fc2b9b98bc13?s=128&d=identicon&r=PG", "display_name": "Keyang", "link": "https://stackoverflow.com/users/2135639/keyang"}, "edited": false, "score": 0, "creation_date": 1550053127, "post_id": 54667621, "comment_id": 96125596, "body": "What time zone your device is on?"}, {"owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "reply_to_user": {"reputation": 1513, "user_id": 2135639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bea46d0ded78478de397fc2b9b98bc13?s=128&d=identicon&r=PG", "display_name": "Keyang", "link": "https://stackoverflow.com/users/2135639/keyang"}, "edited": false, "score": 0, "creation_date": 1550053191, "post_id": 54667621, "comment_id": 96125632, "body": "Spanish, but I&#39;ve tried also with <code>Locale.ENGLISH</code>, <code>Locale(&quot;es&quot;, &quot;ES&quot;)</code> and with another device with the system language in English and the results are the same."}, {"owner": {"reputation": 1513, "user_id": 2135639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bea46d0ded78478de397fc2b9b98bc13?s=128&d=identicon&r=PG", "display_name": "Keyang", "link": "https://stackoverflow.com/users/2135639/keyang"}, "edited": false, "score": 1, "creation_date": 1550053467, "post_id": 54667621, "comment_id": 96125826, "body": "It is not todo with locale but to do with your device time zone. Spain is current in GMT+1 which is 1 hour ahead of UTC. Thus 13-02-2019 00:00:00 in Spain is 12-02-2019 23:00:00 in UTC."}, {"owner": {"reputation": 3412, "user_id": 3344236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003962689676/picture?type=large", "display_name": "ares777", "link": "https://stackoverflow.com/users/3344236/ares777"}, "edited": false, "score": 0, "creation_date": 1550053525, "post_id": 54667621, "comment_id": 96125862, "body": "By dd-MM-yyyy you loose the +0300 etc for example."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1550053669, "post_id": 54667621, "comment_id": 96125951, "body": "As an aside consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends, and adding <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project in order to use <code>java.time</code>, the modern Java date and time API. It is so much nicer to work with."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1550053729, "post_id": 54667621, "comment_id": 96125988, "body": "What is the expected timestamp value? The time at midnight (00:00) UTC??"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1550054813, "post_id": 54667621, "comment_id": 96126652, "body": "What does your date picker return? A <code>Date</code>? A <code>String</code>? Three <code>int</code>s for year, month and day? Or\u2026? Asking so that we can avoid doing more conversions than necessary."}, {"owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1550055516, "post_id": 54667621, "comment_id": 96127104, "body": "@OleV.V. I&#39;m trying to get the correct milliseconds of the <code>Date</code> I&#39;m introducing as parameter. But when I convert this milliseconds applying the Unix format, I obtain a <code>Date</code> corresponding to the previous day."}], "answers": [{"tags": [], "owner": {"reputation": 467, "user_id": 5471112, "user_type": "registered", "profile_image": "https://graph.facebook.com/972498849478859/picture?type=large", "display_name": "Firzan Shaikh", "link": "https://stackoverflow.com/users/5471112/firzan-shaikh"}, "is_accepted": false, "score": -1, "last_activity_date": 1550054431, "creation_date": 1550054431, "answer_id": 54668178, "question_id": 54667621, "link": "https://stackoverflow.com/questions/54667621/date-gettime-is-returning-the-previous-day/54668178#54668178", "title": "Date.getTime() is returning the previous day", "body": "<pre><code>//convert seconds to date try below function\npublic static String convertSecondsToDate(Long date) {\n    try {\n        long dateInMiliseconds = date *1000;\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(dateInMiliseconds);\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"dd-MM-yyyy\");\n        return simpleDateFormat.format(calendar.getTime());\n    } catch (Exception e) {\n        return \"\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "edited": false, "score": 0, "creation_date": 1550057136, "post_id": 54668576, "comment_id": 96128059, "body": "I&#39;m using this way (<code>AndroidThreeTen</code> library) adding <code>hh:mm:ss</code> and it works perfectly but when hours are from 13 to 23 I receive this exception: <code>DateTimeParseException: Text &#39;31-12-2019 23:59:59&#39; could not be parsed: Invalid value for ClockHourOfAmPm (valid values 1 - 12): 23</code>. How can I set PM or 24 hours format?"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "reply_to_user": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "edited": false, "score": 0, "creation_date": 1550057376, "post_id": 54668576, "comment_id": 96128201, "body": "You probably just need uppercase <code>HH</code> for hour of day from 00 through 23 (lowercase <code>hh</code> is for hour within AM or PM, from 01 through 12)."}, {"owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "edited": false, "score": 0, "creation_date": 1550058456, "post_id": 54668576, "comment_id": 96128815, "body": "Of course, what a mistake! Now it works perfect, thank you!"}], "tags": [], "owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "is_accepted": true, "score": 1, "last_activity_date": 1550055551, "creation_date": 1550055551, "answer_id": 54668576, "question_id": 54667621, "link": "https://stackoverflow.com/questions/54667621/date-gettime-is-returning-the-previous-day/54668576#54668576", "title": "Date.getTime() is returning the previous day", "body": "<h2>java.time and ThreeTenABP</h2>\n\n<p>In Java syntax:</p>\n\n<pre><code>private static final DateTimeFormatter dateFormatter\n        = DateTimeFormatter.ofPattern(\"dd-MM-uuuu\");\n\npublic static final String toTimestamp(String dateString) {\n    long epochSecond = LocalDate.parse(dateString, dateFormatter)\n            .atStartOfDay(ZoneOffset.UTC)\n            .toEpochSecond();\n    return String.valueOf(epochSecond);\n}\n</code></pre>\n\n<p>Let\u2019s try it out:</p>\n\n<pre><code>    System.out.println(toTimestamp(\"13-02-2019\"));\n</code></pre>\n\n<blockquote>\n  <p>1550016000</p>\n</blockquote>\n\n<p>Check this value on the <em>Epoch Unix Time Stamp Converter</em> that you linked to:</p>\n\n<blockquote>\n  <p>02/13/2019 @ 12:00am (UTC)</p>\n</blockquote>\n\n<p><code>SimpleDateFormat</code> is notoriously troublesome and along with <code>Date</code> long outdated. Instead I use java.time, the modern Java date and time API. This forces us to give time zone or offset explicitly. In this case as the predefined constant <code>ZoneOffset.UTC</code>. Which in turn makes sure we get the correct result and thus solves your problem. A further minor advantages is it gives us <em>seconds</em> since the epoch so we don\u2019t need the funny-looking division by 1000.</p>\n\n<p>Imports I used were:</p>\n\n<pre><code>import org.threeten.bp.LocalDate;\nimport org.threeten.bp.ZoneOffset;\nimport org.threeten.bp.format.DateTimeFormatter;\n</code></pre>\n\n<h2>Question: Can I use java.time on Android?</h2>\n\n<p>Yes, java.time works nicely on older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in. In this case import from the <code>java.time</code> package (not <code>org.threeten.bp</code>).</li>\n<li>In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It\u2019s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"}], "owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 54668576, "answer_count": 2, "score": 0, "last_activity_date": 1550055551, "creation_date": 1550052895, "last_edit_date": 1550053344, "question_id": 54667621, "link": "https://stackoverflow.com/questions/54667621/date-gettime-is-returning-the-previous-day", "title": "Date.getTime() is returning the previous day", "body": "<p>I'm parsing a date in with <code>dd-MM-yyyy</code> format and returning in seconds (dividing it by 1000). The problem comes when I convert it to Unix Time Stamp, because it converts this seconds to the previous day. I will explain with my code and an example:</p>\n\n<pre><code>private fun String.toTimestamp(): String {\n    val dateFormat = SimpleDateFormat(\"dd-MM-yyyy\", Locale.getDefault())\n    return (dateFormat.parse(this).time / 1000).toString\n}\n</code></pre>\n\n<p>If the date is <code>01/02/2019</code> (2nd February 2019), this method returns <code>1548975600</code>. If you convert it to a date (I'm using <a href=\"https://www.unixtimestamp.com/\" rel=\"nofollow noreferrer\">this</a> page) it returns <code>01/31/2019 @ 11:00pm (UTC)</code>. I've tried adding hour, minutes and seconds, even adding the time zone, but it always returns the day before.</p>\n\n<p>Another example:\n<code>13-02-2019</code> > <code>1550012400</code> > <code>02/12/2019 @ 11:00pm (UTC)</code></p>\n\n<p>The date comes from a <code>DatePicker</code>, but if I create it in the next way it returns the correct day:</p>\n\n<pre><code>(Date().time / 1000).toString()\n</code></pre>\n\n<p>I've tried with the system's language in Spanish and in English, and changing the <code>Locale</code> to <code>Locale.ENGLISH</code> and <code>Locale(\"es\", \"ES\")</code> and the results are the same.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["junit", "kotlin", "functional-programming", "either", "arrow-kt"], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "is_accepted": true, "score": 9, "last_activity_date": 1572253257, "last_edit_date": 1572253257, "creation_date": 1550051425, "answer_id": 54667128, "question_id": 54666162, "link": "https://stackoverflow.com/questions/54666162/how-to-test-either-from-arrow-in-functional-style/54667128#54667128", "title": "How to test Either from Arrow in functional style", "body": "<p><a href=\"https://github.com/kotlintest/kotlintest\" rel=\"nofollow noreferrer\">kotlintest</a> provides a <code>kotest-assertions-arrow</code> module which can be used to test Arrow types.</p>\n\n<p>It basically expose matchers for Either and other data type. Take a look at <a href=\"https://github.com/kotlintest/kotlintest/blob/master/kotest-assertions/kotest-assertions-arrow/src/jvmMain/kotlin/io/kotest/assertions/arrow/either/matchers.kt\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<pre><code>@Test\nfun `test arithmetic with either`() {\n    val result : Either&lt;Nothing, Int&gt; = (2 + 2).right()\n    result.shouldBeRight(4)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "is_accepted": false, "score": 5, "last_activity_date": 1550164257, "last_edit_date": 1550164257, "creation_date": 1550091820, "answer_id": 54679377, "question_id": 54666162, "link": "https://stackoverflow.com/questions/54666162/how-to-test-either-from-arrow-in-functional-style/54679377#54679377", "title": "How to test Either from Arrow in functional style", "body": "<p>The implementations of <code>Either</code> are data classes on both sides so you can do something like:</p>\n\n<pre><code>check(result == 4.right())\n</code></pre>\n\n<p>Or can use something similar with any other assertion library that uses <code>equals</code> to assert equality.</p>\n"}], "owner": {"reputation": 7918, "user_id": 5500224, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Cy4uM.jpg?s=128&g=1", "display_name": "Bukharov Sergey", "link": "https://stackoverflow.com/users/5500224/bukharov-sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "accepted_answer_id": 54667128, "answer_count": 2, "score": 5, "last_activity_date": 1572253257, "creation_date": 1550048497, "last_edit_date": 1550090124, "question_id": 54666162, "link": "https://stackoverflow.com/questions/54666162/how-to-test-either-from-arrow-in-functional-style", "title": "How to test Either from Arrow in functional style", "body": "<p>I would like to test the obtained result using Either. Let's assume I have a simple example without Either</p>\n\n<pre><code>@Test\nfun `test arithmetic`() {\n    val simpleResult = 2 + 2\n    Assertions.assertEquals(4, simpleResult)\n}\n</code></pre>\n\n<p>And now i have wrapped result:</p>\n\n<pre><code>@Test\nfun `test arithmetic with either`() {\n    val result : Either&lt;Nothing, Int&gt; = (2 + 2).right()\n    Assertions.assertTrue(result.isRight())\n    result.map { Assertions.assertEquals(4, it) }\n}\n</code></pre>\n\n<p>I suppose it looks a little bit ugly, because the last Assertions will not be executed if we got <code>Either.Left</code> instead of <code>Either.Right</code> \nHow can I test the result properly in functional style?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 954, "user_id": 4788501, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203945492863253/picture?type=large", "display_name": "Josef Korbel", "link": "https://stackoverflow.com/users/4788501/josef-korbel"}, "edited": false, "score": 1, "creation_date": 1550046988, "post_id": 54665670, "comment_id": 96121743, "body": "Font is not an HTML Tag, maybe you meant span?"}, {"owner": {"reputation": 20365, "user_id": 1759845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/RUTxR.jpg?s=128&g=1", "display_name": "BackSlash", "link": "https://stackoverflow.com/users/1759845/backslash"}, "reply_to_user": {"reputation": 954, "user_id": 4788501, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203945492863253/picture?type=large", "display_name": "Josef Korbel", "link": "https://stackoverflow.com/users/4788501/josef-korbel"}, "edited": false, "score": 0, "creation_date": 1550047120, "post_id": 54665670, "comment_id": 96121815, "body": "@JosefKorbel <code>&lt;font&gt;</code> is an HTML tag. I&#39;m not sure the object the OP uses supports it, but it is indeed an HTML tag."}, {"owner": {"reputation": 954, "user_id": 4788501, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203945492863253/picture?type=large", "display_name": "Josef Korbel", "link": "https://stackoverflow.com/users/4788501/josef-korbel"}, "edited": false, "score": 1, "creation_date": 1550047204, "post_id": 54665670, "comment_id": 96121858, "body": "You&#39;re right, it is an archaic tag, but not supported by HTML5"}], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 11032103, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_ewIs5sGwHQ/AAAAAAAAAAI/AAAAAAAAAJY/I_4T2mwaGl8/photo.jpg?sz=128", "display_name": "Bryan Nivarez", "link": "https://stackoverflow.com/users/11032103/bryan-nivarez"}, "is_accepted": false, "score": 0, "last_activity_date": 1550047186, "creation_date": 1550047186, "answer_id": 54665770, "question_id": 54665670, "link": "https://stackoverflow.com/questions/54665670/colored-text-from-html-is-just-white/54665770#54665770", "title": "Colored Text From Html Is Just White", "body": "<p>try to use this method because html.fromhtml method is deprecated </p>\n\n<pre><code>@SuppressWarnings(\"deprecation\")\npublic static Spanned fromHtml(String html){\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n   return Html.fromHtml(html, Html.FROM_HTML_MODE_LEGACY);\n} else {\n   return Html.fromHtml(html);\n}\n}\n\npublic static final int FROM_HTML_MODE_COMPACT = 63;\npublic static final int FROM_HTML_MODE_LEGACY = 0;\npublic static final int FROM_HTML_OPTION_USE_CSS_COLORS = 256;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_BLOCKQUOTE = 32;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_DIV = 16;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_HEADING = 2;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_LIST = 8;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_LIST_ITEM = 4;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_PARAGRAPH = 1;\npublic static final int TO_HTML_PARAGRAPH_LINES_CONSECUTIVE = 0;\npublic static final int TO_HTML_PARAGRAPH_LINES_INDIVIDUAL = 1;\n</code></pre>\n\n<p>try to read about the different flags on the Html class documentation\n<a href=\"https://developer.android.com/reference/android/text/Html#FROM_HTML_MODE_COMPACT\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/text/Html#FROM_HTML_MODE_COMPACT</a></p>\n"}], "owner": {"reputation": 917, "user_id": 7808468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c924a8fbf9f80bccb176fe9a60788bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Denom", "link": "https://stackoverflow.com/users/7808468/mark-denom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550047186, "creation_date": 1550046809, "question_id": 54665670, "link": "https://stackoverflow.com/questions/54665670/colored-text-from-html-is-just-white", "title": "Colored Text From Html Is Just White", "body": "<p>I am trying to color some text and then setting the text property of the control using <code>Html.fromHtml()</code> but it's just returning white and I am not sure why.</p>\n\n<pre><code>buyPrice.setText(\"BUY: \" + Html.fromHtml(getColoredSpanned(recommendeditem.getItemLowPrice(), \"#ff3c3c\")));\n\nprivate String getColoredSpanned(String text, String color) {\n    String input = \"&lt;font color=\" + color + \"&gt;\" + text + \"&lt;/font&gt;\";\n    return input;\n}\n</code></pre>\n\n<p>getItemLowPrice</p>\n\n<pre><code>public String getItemLowPrice() {\n    return String.format(NumberFormat.getInstance(Locale.US).format(Long.parseLong(mLowPrice)));\n}\n</code></pre>\n\n<p>This happens when I click a button there is nothing else but the button click and that</p>\n"}, {"tags": ["kotlin", "rx-java2", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1550048167, "post_id": 54665577, "comment_id": 96122428, "body": "See <a href=\"https://github.com/kotlin/kotlinx.coroutines/blob/master/reactive/coroutines-guide-reactive.md\" rel=\"nofollow noreferrer\">github.com/kotlin/kotlinx.coroutines/blob/master/reactive/&hellip;</a>."}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 0, "creation_date": 1550253124, "post_id": 54665577, "comment_id": 96214958, "body": "Your example is a simple matter for any streams implementation to handle, including basic Java Streams, Java Reactive Streams or co-routines. As such, it does not exemplify merging observable chains, divergent chains, feedback chains or cross-thread communication, which are the bread-and-butter of the RxJava world."}], "answers": [{"tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": true, "score": 1, "last_activity_date": 1551420526, "creation_date": 1551420526, "answer_id": 54938866, "question_id": 54665577, "link": "https://stackoverflow.com/questions/54665577/streams-of-data-with-only-kotlin-coroutines/54938866#54938866", "title": "Streams of data with only Kotlin Coroutines?", "body": "<p>You can use Kotlin Coroutines <code>Channel</code>s.</p>\n\n<p>If you only want your values to be emitted like a stream (so you can <code>for-each</code> off of it) you can use <code>produce</code> to create them (which returns a <code>ReceiveChannel</code>):</p>\n\n<pre><code>fun test(): ReceiveChannel&lt;Int&gt;{\n        return produce {\n            send(1)\n            send(5)\n            send(100)\n        }\n    }\n</code></pre>\n\n<p>You can use a for-each (or <code>consumeEach</code>) on the values of <code>test()</code> to receive its values.</p>\n\n<p>If you want your channel to be exactly like RxJava's PublishSubject, you can use ConflatedBroadCastChannel,  and emit values to it:</p>\n\n<pre><code>val broadCastChannel = ConflatedBroadcastChannel&lt;Int&gt;()\n</code></pre>\n\n<p>You can use <code>broadCastChannel.offer(value)</code> to send values to the channel.</p>\n\n<p>To receive values from the channel you can use a simple for-each loop:</p>\n\n<pre><code>for (i in broadCastChannel.openSubscription()) {\n       //your values\n}\n</code></pre>\n"}], "owner": {"reputation": 1933, "user_id": 2279862, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3YRDE.jpg?s=128&g=1", "display_name": "zoltish", "link": "https://stackoverflow.com/users/2279862/zoltish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "accepted_answer_id": 54938866, "answer_count": 1, "score": 2, "last_activity_date": 1551420526, "creation_date": 1550046470, "question_id": 54665577, "link": "https://stackoverflow.com/questions/54665577/streams-of-data-with-only-kotlin-coroutines", "title": "Streams of data with only Kotlin Coroutines?", "body": "<p>With RxJava Ive become accustomed to my repositories returning Observables of data which automatically update whenever theres an underlying change. I acheive this by simply having a subject in my repository that gets notified with the relevant change info, and observables like <code>getAll()</code> go off of that.</p>\n\n<p>As an example, take this psuedo code like snippet:</p>\n\n<pre><code>fun getAll(): Observable&lt;List&lt;Model&gt; {\n    subject\n        .filter { isChangeRelevant(it) }\n        .startWith(initialChangeEvent)\n        .map { queryAll() }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Ive been curious about how and if the same thing can be acheived using coroutines only?</strong></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-edittext", "android-textinputedittext"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1550045380, "post_id": 54665255, "comment_id": 96120984, "body": "Forgot Something ? Please add <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3043, "user_id": 10300673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17821ef80e645b03b63bc87a23152d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Hidalgo", "link": "https://stackoverflow.com/users/10300673/nikos-hidalgo"}, "edited": false, "score": 0, "creation_date": 1550047529, "post_id": 54665804, "comment_id": 96122067, "body": "I would probably bind the EditText on create and leave the request focus inside the onclicklistener, but other than that this should work just fine!"}, {"owner": {"reputation": 589, "user_id": 8674210, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-knAsNuTmFkE/AAAAAAAAAAI/AAAAAAAAGS8/CZOlUFrLsso/photo.jpg?sz=128", "display_name": "Sharone Lev", "link": "https://stackoverflow.com/users/8674210/sharone-lev"}, "reply_to_user": {"reputation": 3043, "user_id": 10300673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17821ef80e645b03b63bc87a23152d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Hidalgo", "link": "https://stackoverflow.com/users/10300673/nikos-hidalgo"}, "edited": false, "score": 0, "creation_date": 1550048319, "post_id": 54665804, "comment_id": 96122513, "body": "the View he gets here is the specific row in recyclerview so you won&#39;t be able to put this line in on create"}], "tags": [], "owner": {"reputation": 589, "user_id": 8674210, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-knAsNuTmFkE/AAAAAAAAAAI/AAAAAAAAGS8/CZOlUFrLsso/photo.jpg?sz=128", "display_name": "Sharone Lev", "link": "https://stackoverflow.com/users/8674210/sharone-lev"}, "is_accepted": false, "score": 0, "last_activity_date": 1550047294, "creation_date": 1550047294, "answer_id": 54665804, "question_id": 54665255, "link": "https://stackoverflow.com/questions/54665255/changing-edittext-focus-after-keyboard-open/54665804#54665804", "title": "Changing EditText focus after keyboard open", "body": "<p>You haven't shared code. Have you tried using request focus in your onClick method?</p>\n\n<pre><code>public void onClick(View v) {\nEditText ed = v.findViewById(R.id.yourEditText);\ned.requestFocus();\n}\n</code></pre>\n"}], "owner": {"reputation": 1847, "user_id": 343096, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/713fc2514efd6e9ab5d8a2e0b7776e14?s=128&d=identicon&r=PG", "display_name": "Grzegorz", "link": "https://stackoverflow.com/users/343096/grzegorz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1550050155, "creation_date": 1550045219, "last_edit_date": 1550046008, "question_id": 54665255, "link": "https://stackoverflow.com/questions/54665255/changing-edittext-focus-after-keyboard-open", "title": "Changing EditText focus after keyboard open", "body": "<p>I've noticed the problem with EditText focus when I tapped on it. Generally, I have NestedScroll with RecyclerView in which I have a few EditText controls. After tapping one of it is presenting keyboard, but after that my focus is set to first EditTest from the top, not exact this one which I tapped.</p>\n\n<p>Do you have any suggestion how can I resolve this problem?</p>\n\n<p>Below I put the example of my activity layout.</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:padding=\"@dimen/general_padding\"\nandroid:background=\"@color/window_color\"&gt;\n\n&lt;android.support.v4.widget.NestedScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:focusableInTouchMode=\"true\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/genericSection\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;!-- Title --&gt;\n            &lt;LinearLayout\n                android:id=\"@+id/titleContainer\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;include layout=\"@layout/item_formt_element_title\" /&gt;\n                &lt;include layout=\"@layout/item_formt_element_single_separator\" /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;!-- Tags --&gt;\n            &lt;LinearLayout\n                android:id=\"@+id/tagsContainer\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;include layout=\"@layout/item_formt_element_tags\" /&gt;\n                &lt;include layout=\"@layout/item_formt_element_single_separator\" /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;!-- Form elements --&gt;\n        &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/formRecyclerView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:focusableInTouchMode=\"true\"\n            app:layout_constraintTop_toBottomOf=\"@id/genericSection\"/&gt;\n\n        &lt;!-- Footer --&gt;\n        &lt;View\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"20dp\"\n            android:background=\"@drawable/rounded_bottom\"\n            android:layout_marginBottom=\"@dimen/general_padding_bottom\"\n            app:layout_constraintStart_toStartOf=\"@id/formtsRecyclerView\"\n            app:layout_constraintEnd_toEndOf=\"@id/formtsRecyclerView\"\n            app:layout_constraintTop_toBottomOf=\"@id/formtsRecyclerView\"/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "inheritance", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1550033965, "post_id": 54662741, "comment_id": 96116401, "body": "try importing <code>kotlinx.android.synthetic.main.fragment_my_quests.view.*</code>"}, {"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "edited": false, "score": 0, "creation_date": 1550039968, "post_id": 54662741, "comment_id": 96118484, "body": "Hi, maybe trying restarting android studio invalidating its caches and then resyncking the project with the gradle files again would remove the error?"}, {"owner": {"reputation": 569, "user_id": 1640919, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/gmd8b.jpg?s=128&g=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1640919/harsh"}, "edited": false, "score": 0, "creation_date": 1550052511, "post_id": 54662741, "comment_id": 96125209, "body": "Have tried restarting, invalidating cache, deleting gradle, rebuilding. Doesn&#39;t work"}, {"owner": {"reputation": 566, "user_id": 2256360, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/If0Qb.png?s=128&g=1", "display_name": "Renaissance", "link": "https://stackoverflow.com/users/2256360/renaissance"}, "edited": false, "score": 0, "creation_date": 1550525342, "post_id": 54662741, "comment_id": 96292779, "body": "<a href=\"https://youtrack.jetbrains.com/issue/KT-22430\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-22430</a>, it&#39;s still an issue. You may use ButterKnife extension to overcome Synthetic Imports Error."}], "answers": [{"tags": [], "owner": {"reputation": 1863, "user_id": 3838901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b60dd0d6855072619355ca3b9e09e1?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Haq", "link": "https://stackoverflow.com/users/3838901/farid-haq"}, "is_accepted": false, "score": 0, "last_activity_date": 1550034534, "creation_date": 1550034534, "answer_id": 54662920, "question_id": 54662741, "link": "https://stackoverflow.com/questions/54662741/kotlin-extensions-synthetic-imports-show-compilation-error-in-child-class/54662920#54662920", "title": "Kotlin Extensions - Synthetic imports show compilation error in child class", "body": "<p>Try as follows</p>\n\n<ul>\n<li>Menu > File > Invalidate Caches / Restart</li>\n<li>Build -> Clean Project</li>\n<li>Tools -> Android -> Sync Project with Gradle Files</li>\n</ul>\n\n<p>If not work then delete the ./gradle directory and import your project again\ntry above 3 steps. </p>\n"}], "owner": {"reputation": 569, "user_id": 1640919, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/gmd8b.jpg?s=128&g=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1640919/harsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550034534, "creation_date": 1550033478, "question_id": 54662741, "link": "https://stackoverflow.com/questions/54662741/kotlin-extensions-synthetic-imports-show-compilation-error-in-child-class", "title": "Kotlin Extensions - Synthetic imports show compilation error in child class", "body": "<p>I have a class A where my view fragment_my_quests is defined. Synthetic imports works fine in class A.\nNow I extend B with A and try to use Synthetic import and id's inside my child class B.\nIt shows red (compilation error). But when I run the app, it works fine. \nJust the compiler is not able to understand this. I am attaching  screenshots for the reference.</p>\n\n<p>Koltlin version : 1.3.20\nAnko version : 0.10.8\nGradle version : 3.3.0</p>\n\n<p><em>This is the screenshot for parent class. Synthetic imports works fine and do not show any compilation error.</em>\n<a href=\"https://i.stack.imgur.com/e1zlJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e1zlJ.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>This is the screenshot for child class. Synthetic imports and the id's used in child class shows red.</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/nuzfA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nuzfA.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "coding-style", "clean-architecture"], "comments": [{"owner": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1550029219, "post_id": 54661945, "comment_id": 96115306, "body": "there&#39;re some functions in itself, such as <code>hashCode()</code>, <code>toString()</code>, <code>copy()</code>.  reference: <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/data-classes.html</a>"}, {"owner": {"reputation": 801, "user_id": 8843528, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tsgB41k1IYg/AAAAAAAAAAI/AAAAAAAAAC8/y9awt3dCDmo/photo.jpg?sz=128", "display_name": "SuuSoJeat", "link": "https://stackoverflow.com/users/8843528/suusojeat"}, "reply_to_user": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1550029469, "post_id": 54661945, "comment_id": 96115349, "body": "I think that&#39;s different from what I&#39;m about to do. Those function won&#39;t change so It won&#39;t affect the clean code or clean architecture."}, {"owner": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1550031591, "post_id": 54661945, "comment_id": 96115814, "body": "not sure how &quot;clean&quot; is"}, {"owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "edited": false, "score": 3, "creation_date": 1550036079, "post_id": 54661945, "comment_id": 96116986, "body": "Just use a library like <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">jackson</a>, <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a> or <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">kotlinx.serialization</a>. Do not create <code>toJson</code> or <code>fromJson</code> methods in the data classes. If you are writing a small application which needs to transform objects to json sometimes, this should be enough. If you are writing a web application, then there should be support for json serialization in your framework and all serialization shall be done by the framework."}, {"owner": {"reputation": 509, "user_id": 480269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a2c845be73b509ea2978d86885b42c9?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/480269/alan"}, "edited": false, "score": 0, "creation_date": 1550047256, "post_id": 54661945, "comment_id": 96121893, "body": "FYI, <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">Moshi</a> is a better <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> and recommended by Gson authors if you want to go that route."}], "answers": [{"tags": [], "owner": {"reputation": 1827, "user_id": 9113457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e9gM9.jpg?s=128&g=1", "display_name": "plainionist", "link": "https://stackoverflow.com/users/9113457/plainionist"}, "is_accepted": false, "score": 1, "last_activity_date": 1550905027, "creation_date": 1550905027, "answer_id": 54839082, "question_id": 54661945, "link": "https://stackoverflow.com/questions/54661945/should-i-write-tojson-or-fromjson-method-in-kotlin-data-class/54839082#54839082", "title": "Should I write toJson or fromJson method in Kotlin data class?", "body": "<p>As you have tagged your query with clean architecture I assume you refer to <a href=\"https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"nofollow noreferrer\">https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html</a>.</p>\n\n<p>From this perspective a \"domain entity\" should be independent from any kind of serialization format, persistence aspects or other specific \"technology\" or \"framework\".</p>\n\n<p>A common pattern to handle \"persistence ignorance\" for domain objects is the repository pattern. An important aspect here to keep in mind in context of clean architecture is that the interface of the repository is defined in the \"use case layer\" (business logic) while the implementation is in the \"gateway layer\" or even \"framework layer\".</p>\n"}], "owner": {"reputation": 801, "user_id": 8843528, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tsgB41k1IYg/AAAAAAAAAAI/AAAAAAAAAC8/y9awt3dCDmo/photo.jpg?sz=128", "display_name": "SuuSoJeat", "link": "https://stackoverflow.com/users/8843528/suusojeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550905027, "creation_date": 1550027639, "question_id": 54661945, "link": "https://stackoverflow.com/questions/54661945/should-i-write-tojson-or-fromjson-method-in-kotlin-data-class", "title": "Should I write toJson or fromJson method in Kotlin data class?", "body": "<p>It's mentioned that a Kotlin data class is for storing data. It's equivalent to the data structure. As such, it shouldn't have any behaviour method. In clean code, implementing behaviour method in a data class would violate many principles namely, SRP, OCP, ...</p>\n\n<p>I was wondering if the <code>fromJson</code> and <code>toJson</code> methods are considered as behaviour method. If it is, then where should I implement those methods in my code?</p>\n\n<p>I'm using Kotlin data class to store User, Product, etc. In my supposedly clean architecture and clean code that I am learning, I restricted those data class to a corner for storing only domain data.</p>\n\n<p>I tried to find information about this but I can't seem to find anyone talking about data class and these methods.</p>\n\n<p>Here's the code I've imagined. It should be something like this.</p>\n\n<pre><code>data class User(val id: String, val name: String) {\n    fun toJson(): Json {}\n    fun fromJson(json: Json): User {}\n}\n</code></pre>\n\n<p>Or should I have other class responsible for toJson and fromJson implementation?</p>\n"}, {"tags": ["kotlin", "out-of-memory", "code-generation", "jooq"], "comments": [{"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1550045131, "post_id": 54661694, "comment_id": 96120858, "body": "From your question, it&#39;s hard to see what&#39;s going on. Does the code generator run out of memory? Or the Kotlin compiler? Can you provide more information that will help us help you? Here are some good guidelines on how to provide such information: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 115, "user_id": 6598366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QNomq.png?s=128&g=1", "display_name": "LouizFC", "link": "https://stackoverflow.com/users/6598366/louizfc"}, "reply_to_user": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1550055054, "post_id": 54661694, "comment_id": 96126813, "body": "@LukasEder Thank you for replying. Unfortunately I can&#39;t give a MCVE, I basically rewrote your code generator to meet with our specifications. The problem lies in the quantity of the classes generated, the compiler consumes far too much memory. Even classes like &quot;Keys&quot;, &quot;Indexes&quot; and &quot;Tables&quot; are in Kotlin now."}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1550063267, "post_id": 54661694, "comment_id": 96131661, "body": "Well, I can&#39;t tell you what the problem is from what I&#39;ve seen so far... I suspect you could wrap up your generated code in a zip file and provide that to the Kotlin compiler team as a bug report, though. Certainly, the compiler shouldn&#39;t OOM"}, {"owner": {"reputation": 115, "user_id": 6598366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QNomq.png?s=128&g=1", "display_name": "LouizFC", "link": "https://stackoverflow.com/users/6598366/louizfc"}, "reply_to_user": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1550065981, "post_id": 54661694, "comment_id": 96133437, "body": "Thank you again @LukasEder you helped me a lot. I will follow your instructions, I will keep this question open for a while, if things get resolved I will answer it myself"}], "owner": {"reputation": 115, "user_id": 6598366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QNomq.png?s=128&g=1", "display_name": "LouizFC", "link": "https://stackoverflow.com/users/6598366/louizfc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1550054530, "creation_date": 1550025837, "last_edit_date": 1550054530, "question_id": 54661694, "link": "https://stackoverflow.com/questions/54661694/is-there-a-way-to-decrease-the-memory-needed-for-the-kotlin-compiler", "title": "Is there a way to decrease the memory needed for the Kotlin compiler?", "body": "<p>I wrote a custom JOOQ generator to generate kotlin classes intead of Java classes.</p>\n\n<p>The problem is, the database that I am generating code for has more than 500 tables.</p>\n\n<p>I need to make some changes to this generator, so I will be compiling a lot of the code it produces for testing. Problem is: I keep getting \"OutOfMemory\" exceptions, even when allocating 2 or 3 GBs of memory.</p>\n\n<h3>The Problem</h3>\n\n<p>I know that allocating more memory to the compiler is an option, but I will be adding more features to this code generator, so I speculate that the memory needed to compile the code that it produces will also grow considerably, potentially making it unusable in low end machines.</p>\n\n<p>I would like to know if there is a more \"budget friendly\" alternative to this, if I can make the compiler consume less memory, even if the compile time increases.</p>\n\n<p>Edit: As asked in the comments, I will clarify some things:</p>\n\n<p>The code generation phase runs just fine and fast. The problem lies when compiling the code that was generated with the Kotlin compiler, after 3 to 4 minutes it will throw a OutOfMemoryError.</p>\n"}, {"tags": ["android", "kotlin", "android-mvvm", "sealed-class"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1550044327, "post_id": 54661454, "comment_id": 96120473, "body": "Is it intentional to not subclass the sealed class <code>LoginRoute</code> with <code>ToSignUp</code> etc?"}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1550047058, "post_id": 54661454, "comment_id": 96121781, "body": "I&#39;m not sure whether i understand your question or not. can you elaborate on that?"}, {"owner": {"reputation": 1028, "user_id": 3616253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ecdc62ac77c5d2c51747317bd31462ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jithish P N", "link": "https://stackoverflow.com/users/3616253/jithish-p-n"}, "edited": false, "score": 0, "creation_date": 1573456365, "post_id": 54661454, "comment_id": 103874738, "body": "@ArchieG.Qui&#241;ones is it works? what is Event  ?"}], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 5093646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2c055e6a966cfb9f815431f4a5a42ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dev_IL", "link": "https://stackoverflow.com/users/5093646/dev-il"}, "is_accepted": true, "score": 0, "last_activity_date": 1558031066, "creation_date": 1558031066, "answer_id": 56174552, "question_id": 54661454, "link": "https://stackoverflow.com/questions/54661454/using-kotlin-sealed-classes-for-routing-to-different-screens/56174552#56174552", "title": "Using Kotlin Sealed Classes for routing to different screens", "body": "<p>About <code>sealed class</code> - This is fine. I uploaded our <a href=\"https://github.com/SparingSoftware/Android-Router\" rel=\"nofollow noreferrer\">Simple-Router</a> approach which uses similar Routes. You can also benchmark with pretty interesting <a href=\"https://github.com/sellmair/kompass\" rel=\"nofollow noreferrer\">Kompass</a> router.</p>\n\n<p>Apart from implementation the difference here is in routing responsibility - in solutions I presented <code>Presenter/ViewModel</code> has access to <code>Router</code> and calls <code>navigate(..)</code> on it - in your approach you use <code>Rx/LiveData</code> and let your <code>View</code> handle it but this it's just another logic layer above it.</p>\n"}], "owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 1, "accepted_answer_id": 56174552, "answer_count": 1, "score": 0, "last_activity_date": 1558031066, "creation_date": 1550023925, "last_edit_date": 1556436660, "question_id": 54661454, "link": "https://stackoverflow.com/questions/54661454/using-kotlin-sealed-classes-for-routing-to-different-screens", "title": "Using Kotlin Sealed Classes for routing to different screens", "body": "<p>Is it a good idea to create sealed classes as such:</p>\n\n<pre><code>sealed class Route&lt;out T: Any&gt; {\n    data class ToRoute1&lt;out T : Any&gt;(val data: T) : Route&lt;T&gt;()\n    data class ToRoute2&lt;out T : Any&gt;(val data: T) : Route&lt;T&gt;()\n    data class ToRoute3&lt;out T : Any&gt;(val data: T) : Route&lt;T&gt;()\n}\n</code></pre>\n\n<p>So the <code>Route</code> seal class will define all the possible destination that current screen could \"route to\". So for example \"LoginScreen\" can have the following sealed class:</p>\n\n<pre><code>sealed class LoginRoute&lt;out T: Any&gt; {\n    data class ToSignUp&lt;out T : Any&gt;(val data: T) : LoginRoute&lt;T&gt;()\n    data class ToUserDetails&lt;out T : Any&gt;(val data: T) : LoginRoute&lt;T&gt;()\n    data class ToSomeOtherPossibleDestination&lt;out T : Any&gt;(val data: T) : LoginRoute&lt;T&gt;()\n}\n</code></pre>\n\n<p>Now on in <code>ViewModel</code> I can have:</p>\n\n<pre><code>val proceedToDestination = MutableLiveData&lt;Event&lt;LoginRoute&gt;&gt;()\n</code></pre>\n\n<p>then in the view, I could just observe <code>proceedToDestination</code> and do the following:</p>\n\n<pre><code>viewModel.proceedToDestination.observe(this, Observer { route -&gt;\n    route?.consume()?.run {\n        when (route) {\n            LoginRoute.ToSignUp -&gt; // TODO START SIGNUP\n            LoginRoute.ToUserDetails-&gt; // TODO GO TO USER DETAILS SCREEN\n            LoginRoute.ToSomeOtherPossibleDestination-&gt; // TODO GO TO OTHER POSSIBLE DESTINATIONS\n        }\n    }\n})\n</code></pre>\n\n<p>My question is whether this is a good idea or a good practice overall? Thanks in advance.</p>\n\n<p>Edit:</p>\n\n<p>Just really want to make this alive again and maybe find some answers.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1550041133, "creation_date": 1550041133, "answer_id": 54664301, "question_id": 54661138, "link": "https://stackoverflow.com/questions/54661138/how-to-get-current-coroutinecontext-from-a-non-suspend-function/54664301#54664301", "title": "How to get current `coroutineContext` from a non-suspend function?", "body": "<blockquote>\n  <p>Somehow figure out inside log if it is inside a coroutine and get\n  coroutineContext. Is this possible?</p>\n</blockquote>\n\n<p>I don't think there is a good solution for that.</p>\n\n<p>I would create two <code>log</code> functions, first for general purpose, second - an extension function on <code>CoroutineScope</code> for coroutines:</p>\n\n<pre><code>fun log(message: String) {...}\n\nfun CoroutineScope.log(message: String) {\n    //here you can access coroutineContext\n}\n</code></pre>\n\n<p>And if you call <code>log</code> function from the coroutine like this:</p>\n\n<pre><code>GlobalScope.launch {\n    log(\"CoroutineScope.log\")\n}\n</code></pre>\n\n<p>the extension function will be called and you will have access to <strong>coroutineContext</strong>.</p>\n\n<p><strong>Note:</strong> <strong>GlobalScope</strong> is not recommended to use, it is just for demonstration purposes.</p>\n"}], "owner": {"reputation": 1715, "user_id": 910095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04e96728ed86fffbb7960da7fe34cd47?s=128&d=identicon&r=PG", "display_name": "Nikola Mihajlovi\u0107", "link": "https://stackoverflow.com/users/910095/nikola-mihajlovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 888, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550041133, "creation_date": 1550021239, "question_id": 54661138, "link": "https://stackoverflow.com/questions/54661138/how-to-get-current-coroutinecontext-from-a-non-suspend-function", "title": "How to get current `coroutineContext` from a non-suspend function?", "body": "<p>Say I have a logging function:</p>\n\n<pre><code>fun log(message: String)\n</code></pre>\n\n<p>Unfortunately, this function will be called both from coroutines and outside of coroutines. In case of coroutines, I would like to log additional information coming from coroutine context (for example, coroutine's name).</p>\n\n<p>How can I achieve this?</p>\n\n<p>These are my thoughts but I don't have a solution:</p>\n\n<ul>\n<li>Somehow figure out inside <code>log</code> if it is inside a coroutine and get <code>coroutineContext</code>. Is this possible?</li>\n<li>I could have two versions of <code>log</code> e.g. <code>log</code> and <code>logSuspend</code>. But how do I ensure the right one gets called? If I'm inside <code>suspend</code>, nothing prevents me from calling <code>log</code> by accident. Additionally, I may have a regular helper function. Which one should it call?</li>\n<li>Maybe something with <code>ThreadLocal</code>, for example I could <code>coroutineContext</code> inside a <code>ThreadLocal</code> at some point, but how do I ensure it stays up to date?</li>\n</ul>\n"}, {"tags": ["java", "generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1550042197, "creation_date": 1550042197, "answer_id": 54664550, "question_id": 54660970, "link": "https://stackoverflow.com/questions/54660970/kotlin-extend-a-dynamically-given-supertype/54664550#54664550", "title": "Kotlin: extend a dynamically given supertype", "body": "<p>You can do the following:</p>\n\n<pre><code>open class SuperType {}\nopen class A(val obj: SuperType) : B() {}\nopen class B : SuperType() {}\nclass C : A(B())\n</code></pre>\n\n<p>or using generics:</p>\n\n<pre><code>open class SuperType {}\nopen class A&lt;T: SuperType&gt;(val obj: T) : B() {}\nopen class B : SuperType() {}\nclass C : A&lt;B&gt;(B())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1550043130, "creation_date": 1550043130, "answer_id": 54664777, "question_id": 54660970, "link": "https://stackoverflow.com/questions/54660970/kotlin-extend-a-dynamically-given-supertype/54664777#54664777", "title": "Kotlin: extend a dynamically given supertype", "body": "<blockquote>\n  <p>How can I make, on compile-time, A extend B() (or any child of SuperType()) instead of only SuperType()?</p>\n</blockquote>\n\n<p>You can't. Each class can only extend one fixed superclass.</p>\n\n<p>I think the closest you can get is </p>\n\n<pre><code>class A(x: SuperType): SuperType by x\n</code></pre>\n\n<p>(See <a href=\"https://kotlinlang.org/docs/reference/delegation.html#implementation-by-delegation\" rel=\"nofollow noreferrer\">documentation</a>) but this requires <code>SuperType</code> to be an interface instead of a class. </p>\n"}], "owner": {"reputation": 119, "user_id": 6334735, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aj-0Bs0bFMU/AAAAAAAAAAI/AAAAAAAAHzQ/Gt7rPlxb1hI/photo.jpg?sz=128", "display_name": "Patrick Steiger", "link": "https://stackoverflow.com/users/6334735/patrick-steiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550043130, "creation_date": 1550019559, "last_edit_date": 1550020766, "question_id": 54660970, "link": "https://stackoverflow.com/questions/54660970/kotlin-extend-a-dynamically-given-supertype", "title": "Kotlin: extend a dynamically given supertype", "body": "<p>Suppose I have the classes:</p>\n\n<pre><code>class A : SuperType() {}\n\nclass B : SuperType() {}\n\nclass C : B() {}\n</code></pre>\n\n<p>Suppose I don't want <code>C</code> to extend <code>B()</code> anymore: I want it to extend <code>A()</code>, but now I want <code>A</code> to extend <code>B()</code>. </p>\n\n<p>How can I make, on compile-time, <code>A</code> extend <code>B()</code> (or any child of <code>SuperType()</code>) instead of only <code>SuperType()</code>? In other words, how can I make class <code>A</code> declaration generic to accept any child of <code>SuperType()</code>?</p>\n\n<p>Hope it was clear. I'd like to do something like:</p>\n\n<pre><code>class B(whatever_it_receives_as_long_as_child_of_SuperType) : whatever_it_receives_as_long_as_child_of_SuperType()\n\nclass C : A(B())    // B is subtype of SuperType so it's ok\n</code></pre>\n"}, {"tags": ["android", "animation", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8814130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d846784706e2cc19ecf94d05932e2d?s=128&d=identicon&r=PG&f=1", "display_name": "Typ6uHa", "link": "https://stackoverflow.com/users/8814130/typ6uha"}, "is_accepted": true, "score": 0, "last_activity_date": 1550283649, "creation_date": 1550283649, "answer_id": 54719259, "question_id": 54660720, "link": "https://stackoverflow.com/questions/54660720/start-two-animation-together/54719259#54719259", "title": "Start two animation together", "body": "<p>I can solved it that       </p>\n\n<pre><code>seekBar.setLayerType(View.LAYER_TYPE_HARDWARE, null)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>val progressAnimator = ObjectAnimator.ofInt(seekBar, \"progress\", seekBar.progress, progressCount * 100)\n        progressAnimator.duration = 600\n        progressAnimator.interpolator = LinearInterpolator()\n        progressAnimator.addListener(object : AnimatorListenerAdapter() {\n            override fun onAnimationEnd(animation: Animator) {\n                seekBar.setLayerType(View.LAYER_TYPE_NONE, null)\n            }\n        })\n        progressAnimator.start()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8814130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d846784706e2cc19ecf94d05932e2d?s=128&d=identicon&r=PG&f=1", "display_name": "Typ6uHa", "link": "https://stackoverflow.com/users/8814130/typ6uha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 54719259, "answer_count": 1, "score": 0, "last_activity_date": 1550283649, "creation_date": 1550017671, "question_id": 54660720, "link": "https://stackoverflow.com/questions/54660720/start-two-animation-together", "title": "Start two animation together", "body": "<p>I want two start two animation together. </p>\n\n<p>First animation is transaction animation</p>\n\n<pre><code> val transaction = supportFragmentManager.beginTransaction()\n    transaction.setCustomAnimations(R.anim.slide_in_right, R.anim.slide_out_left, R.anim.slide_in_left, R.anim.slide_out_right)\n    transaction.replace(R.id.container, fragment, fragment::javaClass.name)\n    transaction.addToBackStack(fragment::javaClass.name)\n    transaction.commit()\n</code></pre>\n\n<p>And Second animation is seekbar animation in activity</p>\n\n<pre><code>abstract class BaseProgressFragment : BaseFragment() {\n\nabstract val progressCount: Int\n\nabstract val seekBar: NonEnabledSeekBar\n\nabstract val tvProgress: TextView\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    animateProgress()\n}\n\nprivate fun animateProgress() {\n    val progress = \"$progressCount%\"\n    val progressAnimator = ObjectAnimator.ofInt(seekBar, \"progress\", seekBar.progress, progressCount * 100)\n    progressAnimator.duration = 600\n    progressAnimator.interpolator = LinearInterpolator()\n    progressAnimator.start()\n    seekBar.progress = progressCount * 100\n    tvProgress.text = progress\n}}\n</code></pre>\n\n<p>In child fragment </p>\n\n<pre><code>override val seekBar: NonEnabledSeekBar\n    get() = (activity as CreateOrderActivity).sbCreatingOrder\n</code></pre>\n\n<p>When i start only 1 animation thats okay, but when i try start they together UI start freeze.</p>\n\n<p>Please tell me how I can solve this problem.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 7065, "user_id": 4017501, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Mk9ZAlByQdc/AAAAAAAAAAI/AAAAAAAAAD8/TKM32IE8Mxs/photo.jpg?sz=128", "display_name": "cutiko", "link": "https://stackoverflow.com/users/4017501/cutiko"}, "edited": false, "score": 0, "creation_date": 1550016134, "post_id": 54660392, "comment_id": 96112359, "body": "Is the previous activity the parent on the manifest?"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1550018017, "post_id": 54660392, "comment_id": 96112788, "body": "Well i believe you should save you data from the Intent in onSaveIntance and restore it in onRestoreInstance and not rely on the intent to persist your extra then in onCreate you check is the intent is null if null then this is probably a saved state so you restore it from the bundle."}, {"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "edited": false, "score": 0, "creation_date": 1550036333, "post_id": 54660392, "comment_id": 96117086, "body": "Hi @Josh M, welcome to SO. As a suggestion it may be worth to clear up a bit on your post, removing parts that aren&#39;t relevant to the specific issue such as the methods to do with uploading the image for instance as it will then make it a bit easier for people who&#39;re trying to identify the issue and help you fix it to read your code. :)"}, {"owner": {"reputation": 21, "user_id": 7718413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae513af10b0c2bfbbb7b7e988203eefa?s=128&d=identicon&r=PG&f=1", "display_name": "J May", "link": "https://stackoverflow.com/users/7718413/j-may"}, "reply_to_user": {"reputation": 7065, "user_id": 4017501, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Mk9ZAlByQdc/AAAAAAAAAAI/AAAAAAAAAD8/TKM32IE8Mxs/photo.jpg?sz=128", "display_name": "cutiko", "link": "https://stackoverflow.com/users/4017501/cutiko"}, "edited": false, "score": 0, "creation_date": 1550075733, "post_id": 54660392, "comment_id": 96139705, "body": "@cutiko ...the previous activity is in fact named as the parent in the manifest. I really appreciate all the suggestions. I was trying to limit the amount of information I provided to only that which was necessary. However, admittedly, I am new to Kotlin and mobile development so I may have missed something or provided too much. Nonetheless I was leading with the Android dev reference which states that you can override the onBackPressed function &quot;to do whatever you want&quot; <a href=\"https://developer.android.com/reference/android/app/Activity#onBackPressed()\" rel=\"nofollow noreferrer\">Android Dev Reference</a>."}, {"owner": {"reputation": 21, "user_id": 7718413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae513af10b0c2bfbbb7b7e988203eefa?s=128&d=identicon&r=PG&f=1", "display_name": "J May", "link": "https://stackoverflow.com/users/7718413/j-may"}, "reply_to_user": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1550077191, "post_id": 54660392, "comment_id": 96140539, "body": "Thank you @Mihai I&#39;m going to look into your suggested implementation."}, {"owner": {"reputation": 21, "user_id": 7718413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae513af10b0c2bfbbb7b7e988203eefa?s=128&d=identicon&r=PG&f=1", "display_name": "J May", "link": "https://stackoverflow.com/users/7718413/j-may"}, "edited": false, "score": 0, "creation_date": 1550081941, "post_id": 54660392, "comment_id": 96143048, "body": "For now I&#39;m just going to use an &quot;if&quot; statement to check for null extras. If null, I&#39;m skipping over getStringExtra(). No crash on back button pressed using this check. I sure would like to know why the overridden onBackPressed never gets called though."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7718413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae513af10b0c2bfbbb7b7e988203eefa?s=128&d=identicon&r=PG&f=1", "display_name": "J May", "link": "https://stackoverflow.com/users/7718413/j-may"}, "edited": false, "score": 0, "creation_date": 1550077137, "post_id": 54662356, "comment_id": 96140508, "body": "Thank you...the problem is the overridden function isn&#39;t even getting called. I went ahead and made the change to move my code above the _ super.onBackPressed()_ function within the overridden function but it still crashes when I hit the back button because the parent activity isn&#39;t receiving the extra from the current activity."}], "tags": [], "owner": {"reputation": 383, "user_id": 4985040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0SoJ.jpg?s=128&g=1", "display_name": "JingJoeh", "link": "https://stackoverflow.com/users/4985040/jingjoeh"}, "is_accepted": false, "score": -1, "last_activity_date": 1550030930, "creation_date": 1550030930, "answer_id": 54662356, "question_id": 54660392, "link": "https://stackoverflow.com/questions/54660392/kotlin-overridden-onbackpressed-function-is-never-called-when-action-bar-back/54662356#54662356", "title": "Kotlin overridden onBackPressed() function is never called when Action Bar back button is pressed", "body": "<p><em>super.onBackPressed()</em>\nWill finish the current activity. If you want to do some action after user press back button, You must to past your code to top of <em>super.onBackPressed()</em>.</p>\n"}], "owner": {"reputation": 21, "user_id": 7718413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae513af10b0c2bfbbb7b7e988203eefa?s=128&d=identicon&r=PG&f=1", "display_name": "J May", "link": "https://stackoverflow.com/users/7718413/j-may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2695, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550076322, "creation_date": 1550015002, "last_edit_date": 1550076322, "question_id": 54660392, "link": "https://stackoverflow.com/questions/54660392/kotlin-overridden-onbackpressed-function-is-never-called-when-action-bar-back", "title": "Kotlin overridden onBackPressed() function is never called when Action Bar back button is pressed", "body": "<p>I've seen this question posed all over the place but I have not seen where anyone has been able to answer why the function doesn't get called.</p>\n\n<p>I've run the app in debug mode with a break point set at the onBackPressed function and it completely ignores it. The compiler even recognizes and changes my red break point into a circle with a line through it.</p>\n\n<p>I have a ContractSelectAdapter with a setOnClickListener passing a selected contract to ContractMenuActivity using putExtra(). Once in the ContractMenuActivity there is a button to open the activity below, UploadImageActivity and while in the activity I want a user to be able to hit the back button to reopen the ContractMenuActivity but within the onCreate function of ContractMenuActivity is a getStringExtra call that causing it to crash because there is no \"extra\". Which is why I'm trying to use the onBackPressed. In theory it should work perfectly.</p>\n\n<p>I've tried putting a call to the onBackPressed function manually in the onCreate function of UploadImageActivity just to make sure it works and it does. It immediately opens ContractMenuActivity. So the function works it just never gets called for some reason. Extremely frustrating.</p>\n\n<p>the onBackPressed function is at the very end of the UploadImageActivity class (first code excerpt)</p>\n\n<p>Any help would be GREATLY appreciated.</p>\n\n<pre><code>class UploadImageActivity : AppCompatActivity() {    \n\n    var prefs: Prefs? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_upload_image)\n        prefs = Prefs(this)    \n    }\n\n    override fun onBackPressed()\n    {\n        super.onBackPressed()\n        val returnIntent = Intent(this, ContractMenuActivity::class.java)\n        returnIntent.putExtra(SELECTED_CONTRACT, prefs!!.rmsAppContractID)\n        startActivity(returnIntent)\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>class ContractMenuActivity : AppCompatActivity()\n{\n    var selectedContract: String = \"\"\n    var prefs: Prefs? = null\n\n\n    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_contract_menu)\n        prefs = Prefs(this)\n\n        val btnUploadImage = findViewById&lt;Button&gt;(R.id.btnUploadImage)\n\n        selectedContract = intent.getStringExtra(SELECTED_CONTRACT)\n        prefs!!.rmsAppContractID = this.selectedContract\n\n\n        var contractSelectMsg = \"Contract ${prefs!!.rmsAppContractID} selected\"\n        val duration = Toast.LENGTH_SHORT\n        Toast.makeText(this, contractSelectMsg, duration).show()\n\n        btnUploadImage.setOnClickListener {this.openUploadImage()}\n\n    }\n\n    public fun openUploadImage()\n    {\n\n        val registered =  prefs!!.rmsAppRegistered\n        var message: String\n\n        if(registered)\n        {\n            val intent = Intent(this, UploadImageActivity::class.java)\n            startActivity(intent);\n        }\n        else\n        {\n            message = \"You must Pair this device before you can upload an image.\"\n            val intent = Intent(this, PostResponseMessageActivity::class.java).apply {\n                putExtra(POST_RESPONSE_MESSAGE, message)\n            }\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>Parent name in manifest:</p>\n\n<pre><code>    &lt;activity\n            android:name=\".ContractMenuActivity\"\n            android:label=\"@string/contractMenuLabel\"\n            android:parentActivityName=\".ContractSelectActivity\"&gt;\n\n    &lt;/activity&gt;\n    &lt;activity\n            android:name=\".UploadImageActivity\"\n            android:label=\"@string/uploadImageLabel\"\n            android:parentActivityName=\".ContractMenuActivity\"&gt;\n    &lt;/activity&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550014212, "post_id": 54660224, "comment_id": 96111906, "body": "After reformatting your code it is evident that you need a <code>context</code> which is typically <code>Activity</code> in this case."}, {"owner": {"reputation": 33, "user_id": 8703846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd69bb67a751b6fc00e3e9a510addff4?s=128&d=identicon&r=PG&f=1", "display_name": "K Town Mods", "link": "https://stackoverflow.com/users/8703846/k-town-mods"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550014275, "post_id": 54660224, "comment_id": 96111925, "body": "Ok, so openNewTabWindows(&quot;<a href=\"https://Google.com/\" rel=\"nofollow noreferrer\">Google.com</a>&quot;, Activity) ?"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1550014314, "post_id": 54660224, "comment_id": 96111936, "body": "Well since your method signature has 2 variables you need to pass them both"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1550014369, "post_id": 54660224, "comment_id": 96111954, "body": "If you call this from un activity then yes."}, {"owner": {"reputation": 33, "user_id": 8703846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd69bb67a751b6fc00e3e9a510addff4?s=128&d=identicon&r=PG&f=1", "display_name": "K Town Mods", "link": "https://stackoverflow.com/users/8703846/k-town-mods"}, "edited": false, "score": 0, "creation_date": 1550014435, "post_id": 54660224, "comment_id": 96111975, "body": "Ok, thanks i try it tomorrow"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 2, "creation_date": 1550014448, "post_id": 54660224, "comment_id": 96111978, "body": "It is probably (&quot;Google.com/&quot;, this) since you are inside the activity and this refers to the current instance"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8703846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd69bb67a751b6fc00e3e9a510addff4?s=128&d=identicon&r=PG&f=1", "display_name": "K Town Mods", "link": "https://stackoverflow.com/users/8703846/k-town-mods"}, "edited": false, "score": 0, "creation_date": 1550057646, "post_id": 54661381, "comment_id": 96128354, "body": "Both not work, at openNewTabWindow(&quot;<a href=\"https://example.de/\" rel=\"nofollow noreferrer\">example.de</a>&quot;, this@MainActivity) it means unresolved reference @MainActivity"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "reply_to_user": {"reputation": 33, "user_id": 8703846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd69bb67a751b6fc00e3e9a510addff4?s=128&d=identicon&r=PG&f=1", "display_name": "K Town Mods", "link": "https://stackoverflow.com/users/8703846/k-town-mods"}, "edited": false, "score": 0, "creation_date": 1550063809, "post_id": 54661381, "comment_id": 96132012, "body": "@KTownMods Change <code>MainActivity</code> to your ACTUAL activity name."}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "reply_to_user": {"reputation": 33, "user_id": 8703846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd69bb67a751b6fc00e3e9a510addff4?s=128&d=identicon&r=PG&f=1", "display_name": "K Town Mods", "link": "https://stackoverflow.com/users/8703846/k-town-mods"}, "edited": false, "score": 0, "creation_date": 1550073961, "post_id": 54661381, "comment_id": 96138549, "body": "@KTownMods Wait, what is your context? Please provide more code context."}], "tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": false, "score": 2, "last_activity_date": 1550023267, "creation_date": 1550023267, "answer_id": 54661381, "question_id": 54660224, "link": "https://stackoverflow.com/questions/54660224/android-kotlin-open-link-with-button/54661381#54661381", "title": "Android Kotlin open Link with button", "body": "<p><code>openNewTabWindow(urls: String, context: Context)</code> function needs 2 paramters, a <code>String</code> and a <a href=\"https://developer.android.com/reference/android/content/Context\" rel=\"nofollow noreferrer\"><code>Context</code></a>.</p>\n\n<blockquote>\n  <p>And in my button i use\n  <code>openNewTabWindows(\"https://Google.com/\")</code></p>\n</blockquote>\n\n<p>You just called this function with 1 parameter, then of course </p>\n\n<blockquote>\n  <p>It say it need context After url.</p>\n</blockquote>\n\n<p>You need to pass a <code>Context</code> as the second parameter. Since you say you are implementing the action of clicking a button (which is, inside <code>@Override public void onClick(View v) {}</code> in Java, or a Lambda with type <code>(View) -&gt; Unit</code> in Kotlin), which is probably inside an <code>Activity</code>, and the reference of <code>this</code> may be changed, you can pass <code>getContext()</code> or for example <code>MainActivity.this</code> as the context needed for program, or</p>\n\n<pre><code>openNewTabWindows(\"https://Google.com/\", context) // Kotlin version of getContext()\nopenNewTabWindows(\"https://Google.com/\", this@MainActivity) // Kotlin version of MainActivity.this\n</code></pre>\n\n<p>May both OK.</p>\n"}], "owner": {"reputation": 33, "user_id": 8703846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd69bb67a751b6fc00e3e9a510addff4?s=128&d=identicon&r=PG&f=1", "display_name": "K Town Mods", "link": "https://stackoverflow.com/users/8703846/k-town-mods"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1792, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550023267, "creation_date": 1550013962, "last_edit_date": 1550014372, "question_id": 54660224, "link": "https://stackoverflow.com/questions/54660224/android-kotlin-open-link-with-button", "title": "Android Kotlin open Link with button", "body": "<p>i try to open an link with a button in Kotlin, but if i use this code</p>\n\n<pre><code>fun openNewTabWindow(urls: String, context: Context) { \n    val uris = Uri.parse(urls) \n    val intents = Intent(Intent.ACTION_VIEW, uris) \n    val b = Bundle() \n    b.putBoolean(\"new_window\", true) \n    intents.putExtras(b)\n    context.startActivity(intents)\n}\n</code></pre>\n\n<p>And in my button i use</p>\n\n<pre><code>openNewTabWindows(\"https://Google.com/\")\n</code></pre>\n\n<p>It say it need context After url?</p>\n\n<p>What does that mean?</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1550015520, "post_id": 54659988, "comment_id": 96112211, "body": "Since your navigation view seems to be inside a Constraint layout you should constraint it&#39;s sides to the parent. Also did you add your activity to the manifest file?"}, {"owner": {"reputation": 21, "user_id": 5765211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c_Kmm_R_E8E/AAAAAAAAAAI/AAAAAAAAQKo/gnZw95It9kA/photo.jpg?sz=128", "display_name": "Mike De La Rosa", "link": "https://stackoverflow.com/users/5765211/mike-de-la-rosa"}, "reply_to_user": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1550016827, "post_id": 54659988, "comment_id": 96112538, "body": "I did add it, however it is without any intent filters right now"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1550018233, "post_id": 54659988, "comment_id": 96112833, "body": "Well you need to set them so that the framework knows which class to call and how."}], "owner": {"reputation": 21, "user_id": 5765211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c_Kmm_R_E8E/AAAAAAAAAAI/AAAAAAAAQKo/gnZw95It9kA/photo.jpg?sz=128", "display_name": "Mike De La Rosa", "link": "https://stackoverflow.com/users/5765211/mike-de-la-rosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550012596, "creation_date": 1550012596, "question_id": 54659988, "link": "https://stackoverflow.com/questions/54659988/unable-to-get-menu-to-show-in-bottom-navigation-view", "title": "Unable to get menu to show in Bottom Navigation View", "body": "<p>I am attempting to create a bottom navigation however I am unsure what I need to do with my activity.kt code in order to make it appear.  I tried to follow the Google Codelab information and I got my menu and navigation bar set up correctly, however when attempting to add the Kotlin code nothing happens.</p>\n\n<p>Here is my activity.xml code:</p>\n\n<pre><code>&lt;android.support.design.widget.BottomNavigationView\n    android:id=\"@+id/navigationView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"#021F61\"\n    app:itemIconTint=\"@android:color/white\"\n    app:itemTextColor=\"@android:color/white\"\n    app:menu=\"@menu/navigation\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    tools:layout_editor_absoluteX=\"0dp\"/&gt;\n</code></pre>\n\n<p>Here is my menu.xml code:</p>\n\n<pre><code>&lt;item\n        android:id=\"@+id/navigation_uni\"\n        android:icon=\"@drawable/uni\"\n        android:title=\"@string/university\"/&gt;\n\n&lt;item\n        android:id=\"@+id/navigation_events\"\n        android:icon=\"@drawable/events\"\n        android:title=\"@string/events\"/&gt;\n\n&lt;item\n        android:id=\"@+id/navigation_social\"\n        android:icon=\"@drawable/social\"\n        android:title=\"@string/social\"/&gt;\n\n&lt;item\n        android:id=\"@+id/navigation_contact\"\n        android:icon=\"@drawable/contact\"\n        android:title=\"@string/contact\"/&gt;\n</code></pre>\n\n<p>And here is my (now empty) activity.kt code:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nclass Home : AppCompatActivity() {\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_home)\n\n\n}\n</code></pre>\n\n<p>Please let me know if this is something I can fix easily or if I should start with a fresh activity.  Thanks!</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6075678, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NgEgCU9GbXQ/AAAAAAAAAAI/AAAAAAAAAyI/UNSoy7Oarzc/photo.jpg?sz=128", "display_name": "George Soteriou", "link": "https://stackoverflow.com/users/6075678/george-soteriou"}, "edited": false, "score": 0, "creation_date": 1550012177, "post_id": 54659871, "comment_id": 96111311, "body": "I am able to get an exit code then using intelij run. That&#39;s not the problem here. I also want to get the the same exit code using gradle run"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 23, "user_id": 6075678, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NgEgCU9GbXQ/AAAAAAAAAAI/AAAAAAAAAyI/UNSoy7Oarzc/photo.jpg?sz=128", "display_name": "George Soteriou", "link": "https://stackoverflow.com/users/6075678/george-soteriou"}, "edited": false, "score": 0, "creation_date": 1550012314, "post_id": 54659871, "comment_id": 96111352, "body": "Gradle <code>run</code> task is <code>JavaExec</code> task. It is not transparently turned into Gradle process exitcode. <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 23, "user_id": 6075678, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NgEgCU9GbXQ/AAAAAAAAAAI/AAAAAAAAAyI/UNSoy7Oarzc/photo.jpg?sz=128", "display_name": "George Soteriou", "link": "https://stackoverflow.com/users/6075678/george-soteriou"}, "edited": false, "score": 0, "creation_date": 1550013125, "post_id": 54659871, "comment_id": 96111589, "body": "How can I change it to do so?"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1550011963, "creation_date": 1550011963, "answer_id": 54659871, "question_id": 54659567, "link": "https://stackoverflow.com/questions/54659567/gradle-run-using-application-plugin-kotlin-main-function-and-get-exit-code-of/54659871#54659871", "title": "Gradle run (using application plugin) Kotlin main function and get exit code of function", "body": "<p>The standard way to return an exit code is to use the <code>System.exit</code> function from Java\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/System.html</a></p>\n\n<p>You may probably need to set the <code>mainClassName</code> to the <code>packageName.KotlinFileNameKt</code> to make it work. Global declarations from a Kotlin file are compiled into the JVM class called the same as the file, capitalized, with <code>Kt</code> suffix.</p>\n"}], "owner": {"reputation": 23, "user_id": 6075678, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NgEgCU9GbXQ/AAAAAAAAAAI/AAAAAAAAAyI/UNSoy7Oarzc/photo.jpg?sz=128", "display_name": "George Soteriou", "link": "https://stackoverflow.com/users/6075678/george-soteriou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550011963, "creation_date": 1550010153, "question_id": 54659567, "link": "https://stackoverflow.com/questions/54659567/gradle-run-using-application-plugin-kotlin-main-function-and-get-exit-code-of", "title": "Gradle run (using application plugin) Kotlin main function and get exit code of function", "body": "<p>What is the correct way to return the exit code of a kotlin main function when running it using gradle run and the gradle application plugin?</p>\n\n<p>When run fails i get:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command '/usr/lib/jvm/oracle-java10-jdk-amd64/bin/java'' finished with non-zero exit value 100\n\nBUILD FAILED in 35s\n4 actionable tasks: 4 executed\n</code></pre>\n\n<p>With an exit code of 1. I want to get an exit code 100, just like the exit value of the task run.</p>\n\n<p>My <code>gradle.build</code> only includes the the following retaliated to running:</p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\nmainClassName = '{{PATH TO MY MAIN.kt}}'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "spinner"], "comments": [{"owner": {"reputation": 869, "user_id": 6623703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snmWE.jpg?s=128&g=1", "display_name": "houman.sanati", "link": "https://stackoverflow.com/users/6623703/houman-sanati"}, "edited": false, "score": 0, "creation_date": 1550009537, "post_id": 54659287, "comment_id": 96110411, "body": "post the error from logcat"}, {"owner": {"reputation": 189, "user_id": 6949429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-MD20oseIF18/AAAAAAAAAAI/AAAAAAAAAPA/4ukhzpg1fiU/photo.jpg?sz=128", "display_name": "Edwin Martin", "link": "https://stackoverflow.com/users/6949429/edwin-martin"}, "reply_to_user": {"reputation": 869, "user_id": 6623703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snmWE.jpg?s=128&g=1", "display_name": "houman.sanati", "link": "https://stackoverflow.com/users/6623703/houman-sanati"}, "edited": false, "score": 0, "creation_date": 1550011864, "post_id": 54659287, "comment_id": 96111216, "body": "I get the error, Caused by: java.lang.IllegalStateException: spinner must not be null"}, {"owner": {"reputation": 869, "user_id": 6623703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snmWE.jpg?s=128&g=1", "display_name": "houman.sanati", "link": "https://stackoverflow.com/users/6623703/houman-sanati"}, "edited": false, "score": 0, "creation_date": 1550012435, "post_id": 54659287, "comment_id": 96111388, "body": "the last onCreate method is related to which activity? are you overriding it in SpinnerActivity?"}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 6949429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-MD20oseIF18/AAAAAAAAAAI/AAAAAAAAAPA/4ukhzpg1fiU/photo.jpg?sz=128", "display_name": "Edwin Martin", "link": "https://stackoverflow.com/users/6949429/edwin-martin"}, "edited": false, "score": 0, "creation_date": 1550011618, "post_id": 54659426, "comment_id": 96111145, "body": "I get the error, Caused by: java.lang.IllegalStateException: spinner must not be null"}, {"owner": {"reputation": 189, "user_id": 6949429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-MD20oseIF18/AAAAAAAAAAI/AAAAAAAAAPA/4ukhzpg1fiU/photo.jpg?sz=128", "display_name": "Edwin Martin", "link": "https://stackoverflow.com/users/6949429/edwin-martin"}, "edited": false, "score": 0, "creation_date": 1550012132, "post_id": 54659426, "comment_id": 96111297, "body": "I can&#39;t use findViewById in onViewCreated, onCreateView in my fragmented view so i tried it in my onCreate but i get the same error being null spinner?"}], "tags": [], "owner": {"reputation": 76, "user_id": 10280153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vawZs.jpg?s=128&g=1", "display_name": "palatin", "link": "https://stackoverflow.com/users/10280153/palatin"}, "is_accepted": false, "score": 1, "last_activity_date": 1550010535, "last_edit_date": 1550010535, "creation_date": 1550009467, "answer_id": 54659426, "question_id": 54659287, "link": "https://stackoverflow.com/questions/54659287/kotlin-android-spinner-crashes-app-on-load/54659426#54659426", "title": "Kotlin Android Spinner crashes app on load", "body": "<p><code>R.id.modeSpinner</code> is an integer ID, you can't cast it to <code>Spinner</code>.</p>\n\n<p>Use <code>val spinner = findViewById&lt;Spinner&gt;(R.id.modeSpinner)</code></p>\n\n<p>Remember to set your layout <em>before</em> accessing views.</p>\n\n<pre><code>setContentView(R.layout.main)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 6949429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-MD20oseIF18/AAAAAAAAAAI/AAAAAAAAAPA/4ukhzpg1fiU/photo.jpg?sz=128", "display_name": "Edwin Martin", "link": "https://stackoverflow.com/users/6949429/edwin-martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1550012623, "creation_date": 1550012623, "answer_id": 54659993, "question_id": 54659287, "link": "https://stackoverflow.com/questions/54659287/kotlin-android-spinner-crashes-app-on-load/54659993#54659993", "title": "Kotlin Android Spinner crashes app on load", "body": "<p>It seems the fix was to remove <strong>val spinner = R.id.modeSpinner as Spinner</strong>\nincluding <strong>val spinner = findViewById(R.id.modeSpinner)</strong>, instead just referred directly as modeSpinner.</p>\n\n<p>so the code is now</p>\n\n<pre><code>val arrayAdapter = ArrayAdapter.createFromResource(activity, R.array.rgb_mode_options, \nandroid.R.layout.simple_spinner_dropdown_item)\n\narrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\nmodeSpinner.adapter = arrayAdapter\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1010, "user_id": 4083142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWH3Y.jpg?s=128&g=1", "display_name": "Sharan", "link": "https://stackoverflow.com/users/4083142/sharan"}, "is_accepted": false, "score": -1, "last_activity_date": 1550114467, "creation_date": 1550114467, "answer_id": 54682721, "question_id": 54659287, "link": "https://stackoverflow.com/questions/54659287/kotlin-android-spinner-crashes-app-on-load/54682721#54682721", "title": "Kotlin Android Spinner crashes app on load", "body": "<p><strong>Spinner in Android with Kotlin</strong></p>\n\n<p>I've migrated to Android X.</p>\n\n<pre><code>        &lt;androidx.appcompat.widget.AppCompatSpinner\n                android:id=\"@+id/spn_test\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>I have written two extension functions takes an <code>int</code> for initial selection, and \n<code>Enumeration</code> or <code>ArrayList</code> respectively and returns a <code>String</code> which is the name of the selected item.</p>\n\n<p><strong>Extension for Enumeration:</strong></p>\n\n<pre><code>fun &lt;T&gt; AppCompatSpinner.spinnerAdapterEnumeration(position: Int, array: Array&lt;T&gt;): String {\n    var selectedItem: String = \"\"\n    val adapter = ArrayAdapter(context, R.layout.simple_spinner_item, array)\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    this.adapter = adapter\n    this.setSelection(position)\n    this.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n        }\n\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            selectedItem = (array[position] as Enum&lt;*&gt;).name\n        }\n    }\n    return selectedItem\n}\n</code></pre>\n\n<p><strong>Extension for ArrayList:</strong>           </p>\n\n<pre><code>fun AppCompatSpinner.spinnerAdapterArray(position: Int, array: ArrayList&lt;String&gt;): String {\n    var selectedItem: String = \"\"\n    val adapter = ArrayAdapter(context, R.layout.simple_spinner_item, array)\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    this.adapter = adapter\n    this.setSelection(position)\n    this.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n        }\n\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            selectedItem = array[position]\n        }\n    }\n    return selectedItem\n\n}\n</code></pre>\n\n<p><strong>Usage:</strong> </p>\n\n<pre><code>enum class Test(type: String) {\n    Existing(\"EXISTING\"),\n    New(\"NEW\")\n}\n</code></pre>\n\n<p>In your <code>View</code> of your <em>architecture</em>.</p>\n\n<pre><code>val selectedItem: String = spn_test.spinnerAdapter(1, Test.values())\n</code></pre>\n\n<p><strong>NOTE:</strong> Also, If you are using any views(TextView, Spinner etc.. in your <code>Fragment</code> by using Kotlin synthetic, As the context of the Fragment, could be <code>null</code> for security you can use it like this </p>\n\n<pre><code>spn_test?.spinnerAdapter(1, Test.values())\ntxt_test?.text = \"Kotlin is awesome!\"\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 6949429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-MD20oseIF18/AAAAAAAAAAI/AAAAAAAAAPA/4ukhzpg1fiU/photo.jpg?sz=128", "display_name": "Edwin Martin", "link": "https://stackoverflow.com/users/6949429/edwin-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1550114467, "creation_date": 1550008782, "last_edit_date": 1550011809, "question_id": 54659287, "link": "https://stackoverflow.com/questions/54659287/kotlin-android-spinner-crashes-app-on-load", "title": "Kotlin Android Spinner crashes app on load", "body": "<p>Hello i have been modifying an App and i have been following the examples given by Android to create a Spinner but my App crashes once it loads, the exact part that crashes it is <strong>spinner.adapter = adapter</strong>. The app uses a fragmented view and i have tried placing the following code into the onCreate and onViewCreated but both crash the app? What am i doing wrong, I have read the 4 matching posts to mine but they use Java and had issues getting null values but my code is to load a static array already created in the strings.xml.</p>\n\n<p>below i have listed all the code i have implemented for this Spinner box have i missed something?</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val spinner = R.id.modeSpinner as Spinner\n    val arrayAdapter = ArrayAdapter.createFromResource(activity, R.array.rgb_mode_options, android.R.layout.simple_spinner_dropdown_item)\n    arrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.adapter = arrayAdapter\n}\n</code></pre>\n\n<p>and in my strings.xml</p>\n\n<pre><code>&lt;string-array name=\"rgb_mode_options\"&gt;\n    &lt;item&gt;Steady On&lt;/item&gt;\n    &lt;item&gt;Pulse&lt;/item&gt;\n    &lt;item&gt;Chase&lt;/item&gt;\n    &lt;item&gt;Rainbow&lt;/item&gt;\n    &lt;item&gt;Comet&lt;/item&gt;\n    &lt;item&gt;Candle&lt;/item&gt;\n    &lt;item&gt;Warm White&lt;/item&gt;\n    &lt;item&gt;Cool White&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p>and main.xml</p>\n\n<pre><code>&lt;Spinner\n    android:id=\"@+id/modeSpinner\"\n    android:layout_width=\"182dp\"\n    android:layout_height=\"31dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginLeft=\"16dp\"\n    android:layout_marginTop=\"312dp\"\n    android:spinnerMode=\"dropdown\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p>and finally the SpinnerActivity which is in its own tab named SpinnerActivity.kt</p>\n\n<pre><code>package com.thanksmister.iot.esp8266.vo\n\nimport android.app.Activity\nimport android.view.View\nimport android.widget.AdapterView\nimport android.widget.Toast\n\nclass SpinnerActivity : Activity(), AdapterView.OnItemSelectedListener {\n\n    override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, pos: Int, id: Long) {\n        // An item was selected. You can retrieve the selected item using\n        // parent.getItemAtPosition(pos)\n        Toast.makeText(applicationContext, pos, Toast.LENGTH_LONG).show()\n    }\n\n    override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n        // Another interface callback\n    }\n}\n</code></pre>\n\n<p><a href=\"https://developer.android.com/guide/topics/ui/controls/spinner\" rel=\"nofollow noreferrer\">Spinner tutorial</a></p>\n\n<p>EDIT:\nI have tried </p>\n\n<pre><code>super.onCreate(savedInstanceState)\n    setContentView(getLayoutId())\n    setSupportActionBar(toolbar)\n\nval spinner = findViewById&lt;Spinner&gt;(R.id.modeSpinner)\nval arrayAdapter = ArrayAdapter.createFromResource(this, \nR.array.rgb_mode_options, android.R.layout.simple_spinner_dropdown_item)\narrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\nspinner.adapter = arrayAdapter\n</code></pre>\n\n<p>But i looking at the logcat i see </p>\n\n<p>Caused by: java.lang.IllegalStateException: spinner must not be null</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "transparent"], "answers": [{"comments": [{"owner": {"reputation": 650, "user_id": 5076153, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced3aecfb433928ab4ae9a73365be71e?s=128&d=identicon&r=PG&f=1", "display_name": "Barcode", "link": "https://stackoverflow.com/users/5076153/barcode"}, "edited": false, "score": 0, "creation_date": 1550020005, "post_id": 54658991, "comment_id": 96113284, "body": "thanks, i just hide the button whenever the <code>backstackEntryCount != 0</code>"}], "tags": [], "owner": {"reputation": 2759, "user_id": 10044798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lyXyT.jpg?s=128&g=1", "display_name": "Jackey", "link": "https://stackoverflow.com/users/10044798/jackey"}, "is_accepted": true, "score": 3, "last_activity_date": 1550007230, "creation_date": 1550007230, "answer_id": 54658991, "question_id": 54658740, "link": "https://stackoverflow.com/questions/54658740/clicking-on-fragment-goes-through-in-activity/54658991#54658991", "title": "Clicking on Fragment goes through in Activity", "body": "<p>This is happening because you placed your <code>Button</code> inside of the <code>ConstraintLayout</code> you're using as the container of your Fragment. </p>\n\n<p>When you <code>add</code> a fragment into a container like what you're doing, it's simply adding it in the same manner as if it was a <code>View</code>. </p>\n\n<p>Therefore, if you add a Fragment into a <code>ConstraintLayout</code> that already possesses a <code>Button</code> as a child, the Fragment will be shown alongside the <code>Button</code> due to <code>ConstraintLayout</code> allowing for overlapping Views. </p>\n\n<p><em>This is also why, if your container was a <code>LinearLayout</code>, then adding a Fragment will place the fragment underneath your <code>Button</code> instead.</em></p>\n\n<p>So, with that in mind, the solution would be to handle it as if they were Views. </p>\n\n<p>If you added a View into a layout and you have another View overlapping, how would you get rid of it? </p>\n\n<p>The most common solution would be to set the Button's visibility to INVISIBLE or GONE when the Fragment is added.  </p>\n\n<p>Another solution might be to raise the elevation of the Fragment, so it's now higher than your <code>Button</code>. </p>\n\n<p>Of course, you may also remove the button from the Container and place it inside a Fragment too. </p>\n\n<p>This way, you can use the <code>replace()</code> method in a <code>FragmentManager</code> to replace the Fragment containing your <code>Button</code> with the <code>Fragment</code> you want to show. </p>\n"}], "owner": {"reputation": 650, "user_id": 5076153, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced3aecfb433928ab4ae9a73365be71e?s=128&d=identicon&r=PG&f=1", "display_name": "Barcode", "link": "https://stackoverflow.com/users/5076153/barcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 0, "accepted_answer_id": 54658991, "answer_count": 1, "score": 0, "last_activity_date": 1550007230, "creation_date": 1550005834, "last_edit_date": 1550006174, "question_id": 54658740, "link": "https://stackoverflow.com/questions/54658740/clicking-on-fragment-goes-through-in-activity", "title": "Clicking on Fragment goes through in Activity", "body": "<p>I have a button in my <code>MainActivity</code> that opens <code>FragmentA</code>. <code>FragmentA</code> covers the whole screen, but I still see the button from <code>MainActivity</code>, and I can still click on it.</p>\n\n<p>I've tried using <code>clickable</code> in my fragment layout but it's not working</p>\n\n<p><strong>MainActivty</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        button.setOnClickListener {\n            val fragmentManager = this@MainActivity.supportFragmentManager\n            fragmentManager.beginTransaction()\n                .add(R.id.fragment_container, AFragment())\n                .addToBackStack(null)\n                .commit()\n        }\n    }\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"\n        android:id=\"@+id/fragment_container\"&gt;\n\n    &lt;Button\n            android:text=\"Button Main\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/button\" app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>fragment_a.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"\n              android:clickable=\"true\"\n              android:focusable=\"true\"&gt;\n              android:background=\"@color/colorPrimary\"\n    &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:text=\"A\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "edited": false, "score": 0, "creation_date": 1550005810, "post_id": 54658649, "comment_id": 96108901, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14333449/passing-data-through-intent-using-serializable\">Passing data through intent using Serializable</a>"}, {"owner": {"reputation": 1685, "user_id": 10512612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-54XhkqmYEIo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDZmaNhR610yi-CtiuzNW3HEqCCDA/mo/photo.jpg?sz=128", "display_name": "Mickael Belhassen", "link": "https://stackoverflow.com/users/10512612/mickael-belhassen"}, "reply_to_user": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "edited": false, "score": 0, "creation_date": 1550006154, "post_id": 54658649, "comment_id": 96109073, "body": "No, because I want to pass my object, and all the objects that are in it"}], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "is_accepted": false, "score": 0, "last_activity_date": 1550025812, "creation_date": 1550025812, "answer_id": 54661690, "question_id": 54658649, "link": "https://stackoverflow.com/questions/54658649/android-pass-serialisable-object-data-to-another-activity/54661690#54661690", "title": "Android: Pass serialisable object data to another activity", "body": "<p><code>List</code> doesn't implement <code>Serializable</code>.</p>\n\n<p>How about try to use <code>Arraylist</code>.</p>\n"}], "owner": {"reputation": 1685, "user_id": 10512612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-54XhkqmYEIo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDZmaNhR610yi-CtiuzNW3HEqCCDA/mo/photo.jpg?sz=128", "display_name": "Mickael Belhassen", "link": "https://stackoverflow.com/users/10512612/mickael-belhassen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550025812, "creation_date": 1550005402, "question_id": 54658649, "link": "https://stackoverflow.com/questions/54658649/android-pass-serialisable-object-data-to-another-activity", "title": "Android: Pass serialisable object data to another activity", "body": "<p>I have a class, which contains an array list of another object, when I try to pass the data to another activity, it does not pass other objects like my array list Appointment, how to do? Here are my classes:</p>\n\n<pre><code>open class Customer(var name: String = \"\") : Serializable{\n    var appointments: List&lt;Appointment&gt;? = null\n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>class Appointment(val id: String?, val title: String?, val date: Date) : Serializable { \n}\n</code></pre>\n\n<p>To pass data:</p>\n\n<pre><code>putExtra(\"customer\", customer)\n</code></pre>\n\n<p>To get data:</p>\n\n<pre><code>intent.getSerializableExtra(\"customer\") as Customer?\n</code></pre>\n\n<p>It works, but the list of appointments is not sent, only the customer, why?</p>\n\n<p>The list is not null before doing the startActivity, but when I do the getIntent I get the null list, it was not sent</p>\n"}, {"tags": ["http", "kotlin", "retrofit", "postman", "http-status-code-403"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1550011827, "post_id": 54658578, "comment_id": 96111202, "body": "Try logging the full request you&#39;re sending via Retrofit from a new network interceptor and compare it with what you get from Postman by clicking on the &quot;code&quot; button in the top right corner. If there&#39;s any difference that may explain why you&#39;re getting a different response"}, {"owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1550012278, "post_id": 54658578, "comment_id": 96111341, "body": "I&#39;ve already tried that. Also tried to import code from postman to app and it did not work at all."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1550059523, "post_id": 54658578, "comment_id": 96129461, "body": "Then it could be related to redirects: by default Postman is configured to follow redirects and to store cookies, while OkHttp follows redirect but doesn&#39;t store/send any cookies unless you configure it to do so. Did you check if Postman has any cookies saved?"}, {"owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1550063668, "post_id": 54658578, "comment_id": 96131923, "body": "I did it to primarily get a specific cookie. But I came around this issue with my specific solution with webView and Javascript"}], "owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1011, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1600197229, "creation_date": 1550005018, "question_id": 54658578, "link": "https://stackoverflow.com/questions/54658578/post-request-works-on-postman-but-gets-403-when-requested-by-retrofit", "title": "POST request works on Postman but gets 403 when requested by Retrofit", "body": "<p>I am trying to login to server using POST request.</p>\n\n<p>The problem is, that when I request it using Postman, everything works, but when requested using retrofit, I get 403 forbidden.</p>\n\n<p>Here is my request using postman<a href=\"https://i.stack.imgur.com/iqlrb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iqlrb.png\" alt=\"postman\"></a> As expected, I replaced my name and password with dummy strings as this is a private server. And here is my retrofit code:</p>\n\n<pre><code>@FormUrlEncoded\n@POST(\"system/login.pl\")\nfun login(@Header(\"cache-control\") cacheControl: String = \"no-cache\",\n          @Field(\"login_hidden\", encoded = true) loginHidden: String = \"1\",\n          @Field(\"destination\", encoded = true) destination: String = \"/auth\",\n          @Field(\"credential_0\", encoded = true) username: String = \"\",\n          @Field(\"credential_1\", encoded = true) password: String = \"\"\n): Flowable&lt;Response&lt;String&gt;&gt;\n</code></pre>\n\n<p>Also here is my definition for OKHTTP client if someone needed that:</p>\n\n<pre><code>private fun makeOkHttpClient(httpLoggingInterceptor: HttpLoggingInterceptor): OkHttpClient {\n    return OkHttpClient.Builder()\n            .addInterceptor(httpLoggingInterceptor)\n            .addNetworkInterceptor { chain -&gt;\n                chain.proceed(\n                        chain.request()\n                                .newBuilder()\n                                .header(\"User-Agent\", \"Mozilla/5.0 (X11; Linux i686; rv:10.0) Gecko/20100101 Firefox/10.0\")\n                                .build()\n                )\n            }\n            .connectTimeout(120, TimeUnit.SECONDS)\n            .readTimeout(120, TimeUnit.SECONDS)\n            .build()\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1550002539, "post_id": 54657978, "comment_id": 96107399, "body": "Looks like the Advanced Java Folding plugin, see here: <a href=\"https://stackoverflow.com/a/42975239/4465208\">stackoverflow.com/a/42975239/4465208</a>"}], "owner": {"reputation": 623, "user_id": 587605, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc161b96a08144cd1da0c74d23dec94e?s=128&d=identicon&r=PG", "display_name": "Mohammad Abu Hmead", "link": "https://stackoverflow.com/users/587605/mohammad-abu-hmead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1550007856, "answer_count": 0, "score": 1, "last_activity_date": 1550002181, "creation_date": 1550002181, "question_id": 54657978, "link": "https://stackoverflow.com/questions/54657978/why-my-java-code-looks-like-kotlin-in-android-studio-3-3", "closed_reason": "Duplicate", "title": "Why my java code looks like Kotlin in Android Studio 3.3", "body": "<p>I create a new android project in android studio 3.3 in JAVA \nwhen I open a java file, all the code collapsed like the Kotlin code,\nit is expanded when I click on each line \nHot prevent that \nsee the screenshot bellow </p>\n\n<p><a href=\"https://i.stack.imgur.com/Mdvcu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mdvcu.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "locale"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11052657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0sie.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/11052657/george"}, "edited": false, "score": 0, "creation_date": 1550002719, "post_id": 54657908, "comment_id": 96107483, "body": "tried without success, give&#39;s same error  java.lang.NumberFormatException: Invalid double: &quot;1,145&quot;"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 23, "user_id": 11052657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0sie.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/11052657/george"}, "edited": false, "score": 0, "creation_date": 1550003775, "post_id": 54657908, "comment_id": 96108002, "body": "@George yes, what Kars meant is to try <code>1.145</code>."}, {"owner": {"reputation": 23, "user_id": 11052657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0sie.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/11052657/george"}, "edited": false, "score": 0, "creation_date": 1550004130, "post_id": 54657908, "comment_id": 96108168, "body": "You are 100%, removed the string format    // val dpredGazda:Double = String.format(&quot;%.3f&quot;, predGazda).toDouble(), and working but i have now to many decimals, how to add decimals in correct way?   P.S: Apologies for my lack of knoledge"}, {"owner": {"reputation": 23, "user_id": 11052657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0sie.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/11052657/george"}, "edited": false, "score": 0, "creation_date": 1550009839, "post_id": 54657908, "comment_id": 96110510, "body": "Thank you for assistance,  founded solution by replacing  (&quot;%.3f&quot;, predGazda).toDouble() With DecimalFormat(&quot;#.##&quot;).format(number) and everithing works just fine."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 23, "user_id": 11052657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0sie.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/11052657/george"}, "edited": false, "score": 0, "creation_date": 1550010852, "post_id": 54657908, "comment_id": 96110868, "body": "@George you should post your solution as your own answer and accept it."}, {"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "reply_to_user": {"reputation": 23, "user_id": 11052657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0sie.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/11052657/george"}, "edited": false, "score": 1, "creation_date": 1550010927, "post_id": 54657908, "comment_id": 96110899, "body": "@George Why don&#39;t you just replace it with <code>val dpredGazda:Double = predGazda</code> or just keep using <code>predGazda</code>? <code>predGazda</code> is already a Double - you&#39;re just doing a very expensive and error-prone identity conversion (from Double to Double)"}], "tags": [], "owner": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "is_accepted": true, "score": 1, "last_activity_date": 1550001911, "creation_date": 1550001911, "answer_id": 54657908, "question_id": 54657538, "link": "https://stackoverflow.com/questions/54657538/kotlin-crashes-when-locale-is-not-english/54657908#54657908", "title": "Kotlin crashes when locale is not English", "body": "<p>By the looks of this</p>\n\n<pre><code>Invalid double: \"1,145\"\n</code></pre>\n\n<p>You defined a double somewhere using a comma instead of a period.</p>\n\n<p>Check your translations. The Romanian and Spanish variants are using <code>1,145</code> instead of <code>1.145</code></p>\n"}], "owner": {"reputation": 23, "user_id": 11052657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z0sie.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/11052657/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 54657908, "answer_count": 1, "score": 2, "last_activity_date": 1550010700, "creation_date": 1550000424, "last_edit_date": 1550010700, "question_id": 54657538, "link": "https://stackoverflow.com/questions/54657538/kotlin-crashes-when-locale-is-not-english", "title": "Kotlin crashes when locale is not English", "body": "<p>First of all I am new  in programming, I read other posts but none solved my issue.</p>\n\n<p>I have an app with locals in three languages: Romanian,English, Spanish\nThe app have 2 activities: Main is with data filling the other with result of calculation.<br>\nWhen  i test app on  other locales than English, crushes.</p>\n\n<p>The problem is that in English app acts very good, in other locales on debugging  i get Fatal Exception:</p>\n\n<pre><code>  package com.example.sportbetodds\nimport android.content.Context\nimport android.content.Intent\nimport android.content.res.Configuration\nimport android.os.Build\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.annotation.RequiresApi\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\nclass MainActivity : AppCompatActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        var ntm = etntm.text\n        var gda= etntGDA.text\n        var gdd = etntGDD.text\n        var ntmM = etntmM.text\n        var gdaMG = etMGDA.text\n        var gdaMO = edMGDD.text\n        var gpaMG = edMGPA.text\n        var gpaMO =etMGPD.text\n            try {\n            btCalT.setOnClickListener {\n /** Statistici din liga **/\n val intent = Intent(this@MainActivity, Rezultate::class.java)\n//acasa date\n var ntmA = ntm.toString().toBigDecimal().toDouble()\n        var gdaA = gda.toString().toBigDecimal().toDouble()\n        var goluriDA = (gdaA/ntmA).toString().toDouble()\n //Debug Exception.kt:45----&gt;       val dgoluriDA:Double = String.format(\"%.3f\", goluriDA).toDouble()\nvar goluriDAa = dgoluriDA.toString()\n                intent.putExtra(\"tvRgda\",goluriDAa)\n        //deplasare date\n        var gdda = gdd.toString().toBigDecimal().toDouble()\n        var goluridd = (gdda/ntmA).toString().toDouble()\n        val dgoluridd:Double = String.format(\"%.3f\", goluridd).toDouble()\n        var goluridda = dgoluridd.toString()\n        intent.putExtra(\"tvgdd\",goluridda)\n\n\n        /** Calcularea medie goluri selectie **/\n        //inscrise acasa gazde\n        var ntmMA = ntmM.toString().toBigDecimal().toDouble()\n        var gdaMgA = gdaMG.toString().toBigDecimal().toDouble()\n        var gdaMgaA: Double =  (gdaMgA/ntmMA).toString().toDouble()\n        var goluriMG = gdaMgaA.toString()\n        //  inscrise deplasare oaspeti\n        var gdMO = gdaMO.toString().toBigDecimal().toDouble()\n        var gdMOd = (gdMO/ntmMA).toString().toDouble()\n      //  var gdMOda = gdMOd.toString()\n        //primite  acasa gazda\n        var gpMGa = gpaMG.toString().toBigDecimal().toDouble()\n        var gpMGaA = (gpMGa/ntmMA).toString().toDouble()\n    //    var gpMGaAa = gpMGaA.toString()\n//primite acasa oaspete\n        var gpMOa = gpaMO.toString().toBigDecimal().toDouble()\n        var gpMOaa = (gpMOa/ntmMA).toString().toDouble()\n    //    var gpMOA = gpMOaa.toString()\n /** Calculare forta de atac **/\n        //forta atac gazda\n var fortaAG = gdaMgaA/goluriDA\n        var fortaAO =  gdMOd/goluridd\n        var fortaDG = gpMGaA/goluridd\n        var fortaDO = gpMOaa/goluriDA\n /** Calculare numarului de goluri estimat  sa fie inscris **/\n        // cate goluri ar trebuii sa inscrie gazda\n var predGazda = fortaAG*fortaDO*goluriDA\n        val dpredGazda:Double = String.format(\"%.3f\", predGazda).toDouble()\n        var gazdaGol = dpredGazda.toString()\n        intent.putExtra(\"gazdeG\", gazdaGol)\nvar predOaspeti = fortaAO*fortaDG*goluridd\n        val dpredOaspeti:Double = String.format(\"%.3f\", predOaspeti).toDouble()\n        var oaspetiGol=  dpredOaspeti.toString()\n        intent.putExtra(\"oaspetiG\", oaspetiGol)\nstartActivity(intent)\n\n    }\n}catch (ex: Exception){\n    println(\"Exception $ex\")\n }\n\n    }\n\n    }\n@RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR1)\nfun fixUpLocale(ctx: Context, newLocale: Locale) {\n    val res = ctx.resources\n    val config = res.configuration\n    val curLocale = getLocale(config)\n    if (curLocale != newLocale) {\n        Locale.setDefault(newLocale)\n        val conf = Configuration(config)\n        conf.setLocale(newLocale)\n        res.updateConfiguration(conf, res.displayMetrics);\n    }\n}\n\nfun getLocale(config: Configuration): Locale {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        return config.locales[0]\n    } else {\n        //noinspection deprecation\n        return config.locale;\n    }\n</code></pre>\n\n<p>When i debug on English locale everything works fine no error appear.\nThe Main activity  gets  translated well, on the Intent for the second activity the app crushes\nPlease help, I cannot find solution on this issue</p>\n\n<pre><code> E/AndroidRuntime: [ERB] Update app failure countmain\n        [ERB] Update app failure - ActivityThread.currentProcessName : com.example.sportbetodds\n        [ERB] Update app failure - Process.myPid : 10552\n    E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.example.sportbetodds, PID: 10552\n        java.lang.NumberFormatException: Invalid double: \"1,145\"\n            at java.lang.StringToReal.invalidReal(StringToReal.java:63)\n            at java.lang.StringToReal.initialParse(StringToReal.java:164)\n            at java.lang.StringToReal.parseDouble(StringToReal.java:282)\n            at java.lang.Double.parseDouble(Double.java:301)\n            at com.example.sportbetodds.MainActivity$onCreate$1.onClick(MainActivity.kt:45)\n            at android.view.View.performClick(View.java:5205)\n            at android.view.View$PerformClick.run(View.java:21164)\n            at android.os.Handler.handleCallback(Handler.java:739)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:148)\n            at android.app.ActivityThread.main(ActivityThread.java:5417)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n\n<p>as the Exception says i try to  check what is the problem with the input specified in exception but all looks fine </p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 2, "last_activity_date": 1550011083, "last_edit_date": 1550011083, "creation_date": 1550002816, "answer_id": 54658130, "question_id": 54657392, "link": "https://stackoverflow.com/questions/54657392/getting-kotlin-kotlinnullpointerexception-arraylistalbum-in-homeadapter/54658130#54658130", "title": "Getting kotlin.KotlinNullPointerException ArrayList&lt;Album&gt; in HomeAdapter", "body": "<p>The issue is that <code>fun HomeAdapter()</code> <strong>is not</strong> the constructor, hence <code>albumList</code> is never correctly assigned to a non-null value. </p>\n\n<p>In general that code looks like an attempt to translate from Java to Kotlin and is quite misleading, being far from idiomatic Kotlin. In order to have a better idea of what it should look like, I'd suggest you to read the official documentation (<a href=\"https://kotlinlang.org/docs/reference/\" rel=\"nofollow noreferrer\">here</a>) and to use the automatic Java to Kotlin conversion offered by IntelliJ Idea, for instance.</p>\n\n<p>To give you an idea, that's the equivalent Java code for the <code>Album</code> class above:</p>\n\n<pre><code>public final class Album {\n    private String name;\n    private int thumbnail;\n\n    public Album(String s, int i) {\n        super();\n        // Note you're not using \"s\" and \"i\" here\n    }\n\n    public final void Album(String name, int thumbnail) {\n        this.name = name;\n        this.thumbnail = thumbnail;\n        // note this is an instance method, not the constructor\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "is_accepted": false, "score": 0, "last_activity_date": 1550013822, "creation_date": 1550013822, "answer_id": 54660199, "question_id": 54657392, "link": "https://stackoverflow.com/questions/54657392/getting-kotlin-kotlinnullpointerexception-arraylistalbum-in-homeadapter/54660199#54660199", "title": "Getting kotlin.KotlinNullPointerException ArrayList&lt;Album&gt; in HomeAdapter", "body": "<p>I would suggest you have another look at the documentation. But to fix your code this is how your adapter should look and you pass the values in the constructor and you don't have to worry about nulls since you don't pass any nulls</p>\n\n<pre><code>class HomeAdapter(val context: Context, val albumList: ArrayList&lt;Album&gt;): RecyclerView.Adapter&lt;HomeAdapter.MyViewHolder&gt;(){\n\n    override fun getItemCount(): Int {\n        return albumList.size\n    }\n}\n</code></pre>\n\n<p>and this is your Album Pojo if you want to be able to reasign the variables then you declare them as var because you use data you get automatically toString, equals and hashCode</p>\n\n<pre><code>data class Album(val name: String, val thumbnailID: Int) \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7680042, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AWqZ-cDbMV0/AAAAAAAAAAI/AAAAAAAAAJI/H95deSnvKuo/photo.jpg?sz=128", "display_name": "Rupak Sarkar", "link": "https://stackoverflow.com/users/7680042/rupak-sarkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550013822, "creation_date": 1549999723, "question_id": 54657392, "link": "https://stackoverflow.com/questions/54657392/getting-kotlin-kotlinnullpointerexception-arraylistalbum-in-homeadapter", "title": "Getting kotlin.KotlinNullPointerException ArrayList&lt;Album&gt; in HomeAdapter", "body": "<p>Getting kotlin.KotlinNullPointerException in getItemCount(). albumList return null. Maybe I am not declaring albumList properly. I am new to Kotlin. But I have did in Java successfully.</p>\n\n<h2>This is my Home Class</h2>\n\n<pre><code>    private var adapter: HomeAdapter? = null\n    private var albumList: ArrayList&lt;Album&gt;? = null\n\n    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        albumList = ArrayList&lt;Album&gt;()\n\n        adapter = HomeAdapter(albumList)\n        recyclerView!!.adapter = adapter\n     }\n</code></pre>\n\n<h2>This is Adapter</h2>\n\n<pre><code>class HomeAdapter(albumList: ArrayList&lt;Album&gt;?) : RecyclerView.Adapter&lt;HomeAdapter.MyViewHolder&gt;()\n{\n    private var HomeContext: Context? = null\n    private var albumList: ArrayList&lt;Album&gt;? = null\n\n    fun HomeAdapter(albumList: ArrayList&lt;Album&gt;)\n    {\n        this.HomeContext = HomeContext\n        this.albumList = albumList\n    }\n    override fun getItemCount(): Int {\n        return albumList!!.size!!\n    }\n}\n</code></pre>\n\n<h2>This my Album</h2>\n\n<pre><code>class Album(s: String, i: Int)\n{\n    private var name: String? = null\n    private var thumbnail: Int = 0\n\n    fun Album(name: String, thumbnail: Int)\n    {\n        this.name = name\n        this.thumbnail = thumbnail\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "performance", "android-layout", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549997844, "post_id": 54656909, "comment_id": 96105127, "body": "Layout looks fine. The delay is probably because of however you collect, build and assign data."}, {"owner": {"reputation": 137, "user_id": 4040373, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bb41VBHBCm0/AAAAAAAAAAI/AAAAAAAABs4/wc9mnj_N8A0/photo.jpg?sz=128", "display_name": "spentag", "link": "https://stackoverflow.com/users/4040373/spentag"}, "edited": false, "score": 0, "creation_date": 1549998775, "post_id": 54656909, "comment_id": 96105587, "body": "Can you post the associated Java?"}, {"owner": {"reputation": 156, "user_id": 7140884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arzx4.jpg?s=128&g=1", "display_name": "Hasanuzzaman Mamun", "link": "https://stackoverflow.com/users/7140884/hasanuzzaman-mamun"}, "edited": false, "score": 0, "creation_date": 1549999144, "post_id": 54656909, "comment_id": 96105769, "body": "The layout seems all right. Nested weight in linear layout makes layouts slow. But you haven&#39;t used nested weight. Please add the Java code"}, {"owner": {"reputation": 294, "user_id": 5112812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b66c1bafeabe5d49923c568e63e0d3?s=128&d=identicon&r=PG&f=1", "display_name": "engmms", "link": "https://stackoverflow.com/users/5112812/engmms"}, "edited": false, "score": 0, "creation_date": 1550004755, "post_id": 54656909, "comment_id": 96108473, "body": "if you need more speed try to use <code>Anko</code> <a href=\"https://android.jlelse.eu/400-faster-layouts-with-anko-da17f32c45dd\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "edited": false, "score": 0, "creation_date": 1550246077, "post_id": 54656909, "comment_id": 96211367, "body": "I&#39;ve added the code, it&#39;s in Kotlin."}], "owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550010636, "creation_date": 1549997784, "last_edit_date": 1550010636, "question_id": 54656909, "link": "https://stackoverflow.com/questions/54656909/why-does-this-layout-take-2-7-seconds-to-render-in-the-ui", "title": "why does this layout take 2-7 seconds to render in the UI?", "body": "<p>So I have a layout with a RecyclerView That is taking between 2 and 7 seconds to load 7 items and show them in the list.  </p>\n\n<p>I ran the Android Studio profiler on the CPU using Sample Java methods and it appears that the bulk of the wait time is happening in the drawing and measuring of the views.  60% inRun() from FrameDisplayEventReceiver and nested under that call 53% by the first onMeasure() call.  </p>\n\n<p>Correct me if I'm wrong, but it appears that the cause of the slowness is a poorly designed xml layout.  </p>\n\n<p>Can any one show my what I've done in this layout that makes it run slowly and how I can make it more efficient?</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/white\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=\"@+id/id_1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"?attr/colorPrimary\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" &gt;\n        &lt;ProgressBar\n            android:id=\"@+id/id_3\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:indeterminateTint=\"#795548\"\n            android:indeterminateTintMode=\"src_in\"\n            android:layout_gravity=\"end\"\n            /&gt;\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/id_2\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        app:layout_constraintTop_toBottomOf=\"@id/id_1\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        tools:ignore=\"UseCompoundDrawables\"&gt;\n\n        &lt;ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center\"\n            app:srcCompat=\"@drawable/image_1\"\n            android:contentDescription=\"@string/description\" /&gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center\"\n            android:gravity=\"center\"\n            android:text=\"@string/text_1\" /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/id_4\"\n        android:name=\"com.company.MyFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:background=\"@color/white\"\n\n        app:layoutManager=\"LinearLayoutManager\"\n        app:layout_constraintTop_toBottomOf=\"@id/id_1\"\n        tools:context=\"MyFragment\"\n        tools:listitem=\"@layout/fragment_routeitem\"\n        android:visibility=\"gone\"/&gt;\n\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=\"@+id/id_5\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"@dimen/fab_margin\"\n        android:background=\"?attr/colorPrimary\"\n        android:tint=\"@color/white\"\n        app:backgroundTint=\"?attr/colorPrimary\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:rippleColor=\"?attr/colorPrimary\"\n        app:srcCompat=\"@drawable/ic_add_white_24dp\" /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Here is the Code as Request (Kotlin)</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.fragment_routeitem_list, container, false)\n    val toolbar: Toolbar = view.findViewById(R.id.toolbar)\n    toolbar.title = resources.getString(R.string.my_route_title)\n    progressBar = view.findViewById(R.id.my_routes_loading)\n    emptyStateView = view.findViewById(R.id.empty_state)\n    recyclerView = view.findViewById(R.id.my_routs_list)\n    dataAdapter = MyRouteItemRecyclerViewAdapter(mutableListOf(), this)\n    recyclerView.layoutManager = LinearLayoutManager(context)\n    recyclerView.adapter = dataAdapter\n    startLoadData()\n\n    val newRouteFab: FloatingActionButton = view.findViewById(R.id.new_route_fab)\n    newRouteFab.setOnClickListener {\n        createNewRoute()\n    }\n\n\n    return view\n}\n\n\n\nfun startLoadData() {\n    launch{\n        val routeList: List&lt;Route&gt; = withContext(Dispatchers.IO){\n            Application.getDaoSession()\n                    .routeDao\n                    .queryBuilder()\n                    .where(RouteDao.Properties.Id.isNotNull)\n                    .orderDesc(RouteDao.Properties.VisibleModified)\n                    .build().list()\n        }\n        setData(routeList.toMutableList())\n        progressBar.visibility = View.GONE\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "location-services"], "comments": [{"owner": {"reputation": 8500, "user_id": 5108735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNWHM.jpg?s=128&g=1", "display_name": "Jon Goodwin", "link": "https://stackoverflow.com/users/5108735/jon-goodwin"}, "edited": false, "score": 0, "creation_date": 1550091317, "post_id": 54656837, "comment_id": 96147410, "body": "On first glance looks a good question Darnold14, well done."}, {"owner": {"reputation": 39, "user_id": 10756423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e4a98be65e803c965fdb289106784f?s=128&d=identicon&r=PG&f=1", "display_name": "Darnold14", "link": "https://stackoverflow.com/users/10756423/darnold14"}, "reply_to_user": {"reputation": 8500, "user_id": 5108735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNWHM.jpg?s=128&g=1", "display_name": "Jon Goodwin", "link": "https://stackoverflow.com/users/5108735/jon-goodwin"}, "edited": false, "score": 0, "creation_date": 1550092095, "post_id": 54656837, "comment_id": 96147730, "body": "Is this sarcasm? Sorry, I am not great at this site."}, {"owner": {"reputation": 39, "user_id": 10756423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e4a98be65e803c965fdb289106784f?s=128&d=identicon&r=PG&f=1", "display_name": "Darnold14", "link": "https://stackoverflow.com/users/10756423/darnold14"}, "reply_to_user": {"reputation": 8500, "user_id": 5108735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNWHM.jpg?s=128&g=1", "display_name": "Jon Goodwin", "link": "https://stackoverflow.com/users/5108735/jon-goodwin"}, "edited": false, "score": 0, "creation_date": 1550093035, "post_id": 54656837, "comment_id": 96148141, "body": "The reason I need to do the Listener is that getLastLocation always returns null if I reinstall the APK."}, {"owner": {"reputation": 8500, "user_id": 5108735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNWHM.jpg?s=128&g=1", "display_name": "Jon Goodwin", "link": "https://stackoverflow.com/users/5108735/jon-goodwin"}, "edited": false, "score": 0, "creation_date": 1550095556, "post_id": 54656837, "comment_id": 96149245, "body": "No I don&#39;t do sarcasm, new user&#39;s are hard work, I&#39;m nice and try my best to make people welcome (you may see some changes), I pushed hard to be nice to new users. I ranted and raved on the meta-stack...They did something...I cannot take credit. But i.c. where your coming from, hard nut to crack."}, {"owner": {"reputation": 39, "user_id": 10756423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e4a98be65e803c965fdb289106784f?s=128&d=identicon&r=PG&f=1", "display_name": "Darnold14", "link": "https://stackoverflow.com/users/10756423/darnold14"}, "reply_to_user": {"reputation": 8500, "user_id": 5108735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNWHM.jpg?s=128&g=1", "display_name": "Jon Goodwin", "link": "https://stackoverflow.com/users/5108735/jon-goodwin"}, "edited": false, "score": 0, "creation_date": 1550096390, "post_id": 54656837, "comment_id": 96149546, "body": "Do you happen to know how to solve my issue? Basically I just need a callback to my Location."}, {"owner": {"reputation": 8500, "user_id": 5108735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNWHM.jpg?s=128&g=1", "display_name": "Jon Goodwin", "link": "https://stackoverflow.com/users/5108735/jon-goodwin"}, "edited": false, "score": 0, "creation_date": 1550096711, "post_id": 54656837, "comment_id": 96149675, "body": "I&#39;m a busy boy, but will help soon....see the star, your on my list..."}, {"owner": {"reputation": 39, "user_id": 10756423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e4a98be65e803c965fdb289106784f?s=128&d=identicon&r=PG&f=1", "display_name": "Darnold14", "link": "https://stackoverflow.com/users/10756423/darnold14"}, "reply_to_user": {"reputation": 8500, "user_id": 5108735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNWHM.jpg?s=128&g=1", "display_name": "Jon Goodwin", "link": "https://stackoverflow.com/users/5108735/jon-goodwin"}, "edited": false, "score": 0, "creation_date": 1550096971, "post_id": 54656837, "comment_id": 96149773, "body": "Sorry, thanks for the help. It\u2019s appreciated."}, {"owner": {"reputation": 486, "user_id": 1262316, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/84528bcd5acec1915985c2ea4a578c7c?s=128&d=identicon&r=PG", "display_name": "TomD", "link": "https://stackoverflow.com/users/1262316/tomd"}, "edited": false, "score": 0, "creation_date": 1590103750, "post_id": 54656837, "comment_id": 109561875, "body": "@Darnold14 what permissions have you added to the manifest file?"}], "owner": {"reputation": 39, "user_id": 10756423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e4a98be65e803c965fdb289106784f?s=128&d=identicon&r=PG&f=1", "display_name": "Darnold14", "link": "https://stackoverflow.com/users/10756423/darnold14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1550103380, "creation_date": 1549997559, "last_edit_date": 1550103380, "question_id": 54656837, "link": "https://stackoverflow.com/questions/54656837/how-to-get-the-location-in-android", "title": "How to get the Location in Android?", "body": "<p>I am trying to use a <code>MVVM</code> design pattern and use a callback method to get the current Location into my View Model but I am not able to pass-back the Location value.</p>\n\n<p>I have a pretty standard Interface that implements a <code>LocationListene</code>are here:</p>\n\n<pre><code>public interface MLBGameLocationListener extends LocationListener { }\n</code></pre>\n\n<p>In my Fragment, I am implementing the <code>MLBGameLocationListener</code> interface here:</p>\n\n<pre><code>public class MLBGameFragment implements MLBGameLocationListener {\n    @Override\n    public void onLocationChanged(Location location) {\n        myViewModel.getGameLocation().set(location.getLatitude() + \" \" + location.getLongitude())\n    }\n}\n</code></pre>\n\n<p>I am setting the <code>gameLocation field in my</code>GameViewModel<code>, which is an</code>ObservableField``</p>\n\n<p>I have a button in my Fragment that acts as a way to <code>getGameLocation()</code> the button is linked through my Fragment with this binding in my Text:</p>\n\n<pre><code>android:onClick=\"@{() -&gt; viewModel.getGameLocation()}\"\n</code></pre>\n\n<p>I would like to access my <code>mViewModel.gameLocation</code> variable in my <code>getGameLocation</code> method and I would think it would be accessible because I am using implementing <code>onLocationChanged()</code></p>\n\n<p>I apologise for the novice question, I am just trying to understand the <code>MVVM</code> design and callbacks within Android.</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "android-nested-fragment"], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 4040373, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bb41VBHBCm0/AAAAAAAAAAI/AAAAAAAABs4/wc9mnj_N8A0/photo.jpg?sz=128", "display_name": "spentag", "link": "https://stackoverflow.com/users/4040373/spentag"}, "is_accepted": false, "score": 0, "last_activity_date": 1549999078, "creation_date": 1549999078, "answer_id": 54657221, "question_id": 54656697, "link": "https://stackoverflow.com/questions/54656697/multiple-fragments-where-to-commit-them/54657221#54657221", "title": "multiple fragments - where to commit them?", "body": "<p>If you're near the beginning of your project, this is a great time to look into using a navigation controller from google's new architecture components.</p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/navigation/\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/navigation/</a></p>\n\n<p>This will let you abstract the management of these individual stacks of fragments. I know this is a bit of a tangential response, but if you are worried about nesting, maybe take a step back and see if you can put together the higher level scaffolding of your navigation first.</p>\n"}], "owner": {"reputation": 650, "user_id": 5076153, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ced3aecfb433928ab4ae9a73365be71e?s=128&d=identicon&r=PG&f=1", "display_name": "Barcode", "link": "https://stackoverflow.com/users/5076153/barcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549999078, "creation_date": 1549996996, "question_id": 54656697, "link": "https://stackoverflow.com/questions/54656697/multiple-fragments-where-to-commit-them", "title": "multiple fragments - where to commit them?", "body": "<p>I'm trying to wrap my head around how and where i should be setting up my fragments.</p>\n\n<p><strong>Use case senario i'm trying to implement</strong></p>\n\n<ul>\n<li>I have a mainActivity that has a <code>bottomNigationView</code> widget that will open different fragments (fragment A, B and C)</li>\n<li>In <strong>FragmentB</strong> i ask the user to input some information, then they click the <code>next</code> button which should should load another fragment lets say called <strong>FragmentB2</strong></li>\n<li><strong>FragmentB2</strong> should carry over some information that the user imputed from <strong>FragmentB</strong></li>\n</ul>\n\n<hr>\n\n<p>My question is, should i be making the fragment transactions of both fragments B and B2 in the mainActivity? Since i read online that it's not good practice to have nested fragments. </p>\n\n<p>Currently, what i have is inside of FragmentB, i start a fragment transactions when the <code>next</code> button is clicked, so that it creates and goes to FragmentB2. I think this is whats called a <em>nested Fragment</em>, correct?</p>\n"}, {"tags": ["string", "list", "kotlin", "method-chaining"], "answers": [{"comments": [{"owner": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "edited": false, "score": 0, "creation_date": 1550046278, "post_id": 54654421, "comment_id": 96121413, "body": "Thanks for the answer :) Quick question. This removes the surrounding quotes when there is just on item in the list. When there are multiple items, it doesn&#39;t remove the surrounding double quotes. Any idea why?"}, {"owner": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "edited": false, "score": 0, "creation_date": 1550047110, "post_id": 54654421, "comment_id": 96121809, "body": "Using it.replace(&quot;\\&quot;&quot;,&quot;&quot;) worked out for me, any idea why removeSurrounding didn&#39;t do it?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "edited": false, "score": 0, "creation_date": 1550059848, "post_id": 54654421, "comment_id": 96129658, "body": "Did you have the quotes around the entire list, such as <code>&quot;Country1, Country2, Country3&quot;</code>? In that case, you&#39;d have to <code>removeSurrounding</code> first, and then split &amp; map."}, {"owner": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "edited": false, "score": 0, "creation_date": 1550070903, "post_id": 54654421, "comment_id": 96136688, "body": "How I have them is, &quot;&quot;country1&quot;&quot;, &quot;&quot;country2&quot;&quot; etc. in the list"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "edited": false, "score": 0, "creation_date": 1550073557, "post_id": 54654421, "comment_id": 96138312, "body": "If you have a space in there between the items, that would be the issue. <code>removeSurrounding</code> will only remove characters if it finds the same one both at the very beginning and very end of the string. So you&#39;d have to get rid of the spaces first, for example with a <code>trim</code>: <code>it.trim().removeSurrounding(&quot;\\&quot;&quot;)</code>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1549988352, "creation_date": 1549988352, "answer_id": 54654421, "question_id": 54654267, "link": "https://stackoverflow.com/questions/54654267/kotlin-method-chaining-to-process-strings-in-a-list/54654421#54654421", "title": "Kotlin method chaining to process strings in a list", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"noreferrer\"><code>forEach</code></a> doesn't return the value you generate in it, it's really just a replacement for a <code>for</code> loop that performs the given action. What you need here is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"noreferrer\"><code>map</code></a>:</p>\n\n<pre><code>val splitCountries: List&lt;String&gt; = countries.split(\",\").map { it.removeSurrounding(\"\\\"\") }\n</code></pre>\n\n<p>Also, a single parameter in a lambda is implicitly named <code>it</code>, you only have to name it explicitly if you wish to change that.</p>\n"}], "owner": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 54654421, "answer_count": 1, "score": 1, "last_activity_date": 1549988352, "creation_date": 1549987815, "question_id": 54654267, "link": "https://stackoverflow.com/questions/54654267/kotlin-method-chaining-to-process-strings-in-a-list", "title": "Kotlin method chaining to process strings in a list", "body": "<p>I have a list of strings I get as a result of splitting a string. I need to remove the surrounding quotes from the strings in the list. Using method chaining how can I achieve this? I tried the below, but doesn't work.Says type interference failed.</p>\n\n<pre><code>val splitCountries: List&lt;String&gt; = countries.split(\",\").forEach{it -&gt; it.removeSurrounding(\"\\\"\")}\n</code></pre>\n"}, {"tags": ["kotlin", "operator-keyword"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 2, "creation_date": 1550013891, "post_id": 54654080, "comment_id": 96111809, "body": "As a matter of design, I&#39;d suggest adding a constructor that takes a pair of <code>BigInteger</code>s.  You can then do the GCD calculation there, instead of in <code>toString()</code>.  Avoiding all the conversion of <code>BigInteger</code>s to <code>Strings</code>s and back again should save memory and time, as well as simplifying the code a bit.  You&#39;ll probably also want to override <code>equals()</code> and <code>hashCode()</code>, along with operators <code>inc()</code>, and <code>dec()</code>.  If you override <code>toByte()</code> &amp;c, you can implement <code>Number</code> too.  And why define <code>compareTo()</code> without implementing <code>Comparable</code>? \u2014 Yes, I&#39;ve implemented a <code>Rational</code> class too :-)"}], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1549989323, "post_id": 54654455, "comment_id": 96101053, "body": "<code>rangeTo</code> should most definitely not return a <code>Rational</code>, it makes no sense to then check if a <code>Rational</code> contains another."}, {"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1549989975, "post_id": 54654455, "comment_id": 96101421, "body": "@Eugene, thanks a lot. Makes more sense know. I have indeed defined infix functions but I forgot to cut &amp; paste them, going  to update the question"}, {"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1550047244, "post_id": 54654455, "comment_id": 96121884, "body": "Thanks for all your help :) everything works fine now!"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1549989657, "last_edit_date": 1549989657, "creation_date": 1549988463, "answer_id": 54654455, "question_id": 54654080, "link": "https://stackoverflow.com/questions/54654080/operator-overloading-kotlin/54654455#54654455", "title": "Operator overloading Kotlin", "body": "<p>The <code>in</code> operator is declared inverse. You need an extension function on the right side that takes the left side.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#in\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/operator-overloading.html#in</a></p>\n\n<p>You miss an infix function <code>divBy</code> to allow turing <code>Int</code> into <code>Rational</code>, e.g.</p>\n\n<pre><code>infix fun Int.divBy(i: Int) = Rational(\"$this/$i\")\n</code></pre>\n\n<p>Not the code like <code>val half = 1 divBy 2</code> will work. Theoretically, it may make sense to add a constructor for <code>Rational</code> from <code>Int</code>s to avoid parsing.</p>\n\n<p>There is an incorrect return type in <code>rangeTo</code> method in the <code>Rational</code> class, it should not be <code>Any</code>. It should be declared as</p>\n\n<pre><code>data class RationalRange(val left: Rational, val right: Rational) {\n  operator fun contains(r: Rational) = left &lt;= r &amp;&amp; r &lt;= right\n}\n\noperator fun rangeTo(end: Rational): RationalRange(this, end) \n</code></pre>\n\n<p>Now the example with <code>x in a..b</code> should work.</p>\n\n<p>UPD: added the RationalRange. I missed the point, sorry. You do not need <code>contains</code> function implemented for the <code>Rational</code> class at all.</p>\n\n<p>The <code>compareTo</code> function of <code>Rational</code> is unlikely to use <code>.toFloat()</code> instead, you may implement that directly with integer numbers</p>\n"}, {"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1550014021, "post_id": 54654625, "comment_id": 96111843, "body": "<code>compareTo()</code> doesn&#39;t need to do any division or conversions at all: you could just do e.g. <code>(numerator * other.denominator - denominator * other.numerator).sign</code>."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1550036867, "post_id": 54654625, "comment_id": 96117260, "body": "Oops, of course! I&#39;ll add this to the answer itself as well, thank you!"}, {"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 1, "creation_date": 1550047239, "post_id": 54654625, "comment_id": 96121881, "body": "Thanks for all your help :) everything works fine now!"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 6, "last_activity_date": 1550037089, "last_edit_date": 1550037089, "creation_date": 1549989000, "answer_id": 54654625, "question_id": 54654080, "link": "https://stackoverflow.com/questions/54654080/operator-overloading-kotlin/54654625#54654625", "title": "Operator overloading Kotlin", "body": "<p>The way to make <code>in</code> work is for the <code>third..twoThirds</code> call to return <em>something</em> that has a <code>contains(Rational)</code> method, which is what the <code>in</code> call translates to.</p>\n\n<p>One way to do this is to return a <code>ClosedRange&lt;Rational&gt;</code> here, like so:</p>\n\n<pre><code>operator fun rangeTo(end: Rational): ClosedRange&lt;Rational&gt; {\n    return object : ClosedRange&lt;Rational&gt; {\n        override val endInclusive: Rational = end\n        override val start: Rational = this@Rational\n    }\n}\n</code></pre>\n\n<p>This puts a type constraint on <code>Rational</code>, as a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/-closed-range/index.html\" rel=\"nofollow noreferrer\"><code>ClosedRange</code></a> needs a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-comparable/index.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> implementation to be able to determine whether a value belongs in it. You can do this by implementing the <code>Comparable</code> interface, and then adding <code>operator</code> to your existing <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-comparable/compare-to.html\" rel=\"nofollow noreferrer\"><code>compareTo</code></a> operator (plus it's a good practice to rename the parameter to match the interface):</p>\n\n<pre><code>data class Rational(val rational: String) : Comparable&lt;Rational&gt; {\n\n    ...\n\n    override operator fun compareTo(other: Rational): Int {\n        val ratio = this.numerator.toFloat() / this.denominator.toFloat()\n        val numberRatio = other.numerator.toFloat() / other.denominator.toFloat()\n        if (ratio &gt; numberRatio) {\n            return 1\n        } else if (ratio == numberRatio) {\n            return 0\n        }\n        return -1\n    }\n\n}\n</code></pre>\n\n<p>You could also avoid the conversion to floats entirely by using this implementation instead, as suggested in the comment below by @gidds:</p>\n\n<pre><code>override operator fun compareTo(other: Rational): Int {\n    return (numerator * other.denominator - denominator * other.numerator).signum()\n}\n</code></pre>\n\n<p>Also, your current <code>contains</code> implementation could <em>probably</em> be discarded, as you no longer need it, and it functions rather oddly.</p>\n\n<hr>\n\n<p>To add something other than the direct answer here: as @Eugene Petrenko suggested in their answer, it would be practical to add a couple constructors other than the one that uses a <code>String</code>, for example one that takes two <code>Int</code>s, and one that takes two <code>BigIntegers</code>s.</p>\n"}, {"comments": [{"owner": {"reputation": 3568, "user_id": 14072498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbfb76dd382341cd18e03f4a064d705?s=128&d=identicon&r=PG&f=1", "display_name": "Roar S.", "link": "https://stackoverflow.com/users/14072498/roar-s"}, "edited": false, "score": 0, "creation_date": 1603372749, "post_id": 62078829, "comment_id": 114021005, "body": "Use can simplify this:       <code>override fun compareTo(other: Rational): Int {         val thisNumerator = numerator * other.denominator         val otherNumerator = other.numerator * denominator         return thisNumerator.compareTo(otherNumerator)     } </code>"}], "tags": [], "owner": {"reputation": 1, "user_id": 8618631, "user_type": "registered", "profile_image": "https://graph.facebook.com/1636951743003019/picture?type=large", "display_name": "Dimeji Sebiotimo", "link": "https://stackoverflow.com/users/8618631/dimeji-sebiotimo"}, "is_accepted": false, "score": 0, "last_activity_date": 1590727022, "creation_date": 1590727022, "answer_id": 62078829, "question_id": 54654080, "link": "https://stackoverflow.com/questions/54654080/operator-overloading-kotlin/62078829#62078829", "title": "Operator overloading Kotlin", "body": "<p>A straightforward solution is to implement the Comparable Interface in your class.</p>\n\n<p><code>data class Rational(val rational: String) : Comparable&lt;Rational&gt;</code></p>\n\n<p>Then implement the compareTo() function, with your comparison logic.</p>\n\n<pre><code>override fun compareTo(other: Rational): Int {\n    //Normalize the numerators of each rational\n    val thisNumerator = this.numerator * other.denominator\n    val otherNumerator = other.numerator * this.denominator\n    //Then compare them\n    return when{\n        thisNumerator &gt; otherNumerator -&gt; 1\n        thisNumerator &lt; otherNumerator -&gt; -1\n        else -&gt; 0\n    }\n}\n</code></pre>\n\n<p>This will resolve the compile error without you needing to override the rangeTo() function with custom logic.</p>\n"}], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1588, "favorite_count": 0, "accepted_answer_id": 54654625, "answer_count": 3, "score": 0, "last_activity_date": 1603371658, "creation_date": 1549987210, "last_edit_date": 1549995876, "question_id": 54654080, "link": "https://stackoverflow.com/questions/54654080/operator-overloading-kotlin", "title": "Operator overloading Kotlin", "body": "<p>I'm new to kotlin and I'm working on operators overloading for a custom class I defined. The class is called \"Rational\" and represents a rational number, like for example 117/1098. Class is defined as below and I have overloaded a bunch of operators, like plus, minus, times and so on. However I'm uncertain about what I have to do to overload \"in\" operator.</p>\n\n<p>Here is my class:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Rational(val rational: String) {\n    private val numerator: BigInteger\n    private val denominator: BigInteger\n\n    init {\n        val splitted = rational.split(\"/\")\n        numerator = splitted[0].toBigInteger()\n        denominator = when (splitted[1]) {\n            \"0\" -&gt; throw Exception(\"not allowed\")\n            else -&gt; splitted[1].toBigInteger()\n        }\n    }\n\n    operator fun plus(number: Rational): Rational {\n        val gcm = denominator * number.denominator\n        val numerator = (gcm / denominator) * numerator + (gcm / number.denominator) * number.numerator\n        return Rational(\"$numerator/$gcm\")\n    }\n\n    operator fun minus(number: Rational): Rational {\n        val gcm = denominator * number.denominator\n        val numerator = (gcm / denominator) * numerator - (gcm / number.denominator) * number.numerator\n        return Rational(\"$numerator/$gcm\")\n    }\n\n    operator fun times(number: Rational): Rational {\n        val numerator = numerator * number.numerator\n        val denominator = denominator * number.denominator\n        return Rational(\"$numerator/$denominator\")\n    }\n\n    operator fun div(number: Rational): Rational {\n        val numerator = numerator * number.denominator\n        val denominator = denominator * number.numerator\n        return Rational(\"$numerator/$denominator\")\n    }\n\n    operator fun compareTo(number: Rational): Int {\n        val ratio = this.numerator.toFloat() / this.denominator.toFloat()\n        val numberRatio = number.numerator.toFloat() / number.denominator.toFloat()\n        if (ratio &gt; numberRatio) {\n            return 1\n        } else if (ratio == numberRatio) {\n            return 0\n        }\n        return -1\n    }\n\n    operator fun unaryMinus(): Rational {\n        val inverseNumerator = -numerator\n        return Rational(\"$inverseNumerator/$denominator\")\n    }\n\n    operator fun unaryPlus(): Rational {\n        return Rational(\"$numerator/$denominator\")\n    }\n\n    operator fun rangeTo(end: Rational): Any {\n        var range: MutableList&lt;Rational&gt; = arrayListOf()\n        val startNumerator = this.numerator.toInt()\n        val endNumerator = end.numerator.toInt()\n        var index = 0\n        if (this.denominator == end.denominator) {\n            for (i in startNumerator..endNumerator) {\n                range.add(index, Rational(\"$i/$denominator\"))\n            }\n        }\n        return range\n    }\n\n    operator fun contains(number: Rational): Boolean {\n        if (this.denominator % number.denominator == 0.toBigInteger()\n                &amp;&amp; this.numerator &lt;= number.numerator) {\n            return true\n        }\n        return false\n    }\n\n    override fun toString(): String {\n        val gcd = numerator.gcd(denominator)\n        return if (gcd != null) {\n            val newNumerator = numerator / gcd\n            val newDenominator = denominator / gcd\n            \"$newNumerator/$newDenominator\"\n        } else {\n            \"$numerator/$denominator\"\n        }\n    }\n}\n</code></pre>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>infix fun Int.divBy(denominator: Int): Rational {\n    if (denominator == 0) {\n        throw Exception(\"denominator 0 not allowed\")\n    }\n\n    return Rational(\"$this/$denominator\")\n}\n\ninfix fun Long.divBy(denominator: Long): Rational {\n    if (denominator == 0L) {\n        throw Exception(\"denominator 0 not allowed\")\n    }\n    return Rational(\"$this/$denominator\")\n}\n\ninfix fun BigInteger.divBy(denominator: BigInteger): Rational {\n    if (denominator == 0.toBigInteger()) {\n        throw Exception(\"denominator 0 not allowed\")\n    }\n    return Rational(\"$this/$denominator\")\n}\n\nfun String.toRational(): Rational {\n    return Rational(this)\n}\n</code></pre>\n\n<p>And here is my main body that obviously still doesn't compile:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val half = 1 divBy 2\n    val third = 1 divBy 3\n    val twoThirds = 2 divBy 3\n\n    println(half in third..twoThirds) // this line does not compile beacause in operator is not defined for the class\n}\n</code></pre>\n\n<p>I guess I have to override \"rangeTo\" operator but I'm uncertain about the operator prototype. I there somebody that can please help me to get to the right track? </p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "edited": false, "score": 2, "creation_date": 1549986510, "post_id": 54653753, "comment_id": 96099341, "body": "it should be working without any problem!"}, {"owner": {"reputation": 2032, "user_id": 1889574, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rm7Th.png?s=128&g=1", "display_name": "Nikhil Sahu", "link": "https://stackoverflow.com/users/1889574/nikhil-sahu"}, "edited": false, "score": 0, "creation_date": 1549986655, "post_id": 54653753, "comment_id": 96099429, "body": "The first function is a subset of second, when size of list b is zero. So second will always get called. You should call first inside of second for this special case (b.length == 0)."}, {"owner": {"reputation": 41, "user_id": 8067254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f53d115475cb00c344b1416983d218?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Morozov", "link": "https://stackoverflow.com/users/8067254/pavel-morozov"}, "edited": false, "score": 0, "creation_date": 1549995008, "post_id": 54653753, "comment_id": 96103887, "body": "This methods have a fully different implementation, so it doesn&#39;t suit me"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1549998297, "post_id": 54653753, "comment_id": 96105327, "body": "Addition to the question: <a href=\"https://ideone.com/YDLdM1\" rel=\"nofollow noreferrer\">proof</a> that this works fine in Java."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1550006078, "post_id": 54653753, "comment_id": 96109028, "body": "I cannot reproduce it.. :("}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1550042533, "creation_date": 1550042533, "answer_id": 54664638, "question_id": 54653753, "link": "https://stackoverflow.com/questions/54653753/kotlin-invokes-wrong-overloaded-java-method-with-variable-number-of-arguments/54664638#54664638", "title": "Kotlin invokes wrong overloaded java method with variable number of arguments", "body": "<p>First of all, this doesn't happen when methods are defined in Kotlin:</p>\n\n<pre><code>class A\nclass B\n\nfun f(a: A) { println(\"one\") }\nfun f(a: A, vararg rest: B) { println(\"many\") }\n\nfun main(args: Array&lt;String&gt;) {\n    f(A())\n}\n</code></pre>\n\n<p>prints <code>one</code>. Searching on <a href=\"https://youtrack.jetbrains.com/issues?q=kotlin%20vararg%20java\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issues?q=kotlin%20vararg%20java</a> I can't find this exact issue (<a href=\"https://youtrack.jetbrains.com/issue/KT-11150\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-11150</a> is close, but it has <code>get(Object a)</code> as the non-vararg overload). So I suggest you post it there if you can reproduce it.</p>\n\n<p>Two possible workarounds: </p>\n\n<ol>\n<li><p>trying to adapt a trick from <a href=\"https://stackoverflow.com/questions/49486877/kotlin-function-overloading-varargs-vs-single-parameter\">Kotlin function overloading (varargs vs single parameter)</a>: </p>\n\n<pre><code>val a: A = ...\na.let(::get)\n</code></pre></li>\n<li><p>define a wrapper in Java:</p>\n\n<pre><code>Object getNonVararg(A a) { return get(a); } \n</code></pre></li>\n</ol>\n\n<p>and call it from Kotlin.</p>\n"}], "owner": {"reputation": 41, "user_id": 8067254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f53d115475cb00c344b1416983d218?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Morozov", "link": "https://stackoverflow.com/users/8067254/pavel-morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1550042533, "creation_date": 1549986128, "question_id": 54653753, "link": "https://stackoverflow.com/questions/54653753/kotlin-invokes-wrong-overloaded-java-method-with-variable-number-of-arguments", "title": "Kotlin invokes wrong overloaded java method with variable number of arguments", "body": "<p>I have two method in java:</p>\n\n<pre><code>Object get(A a)\nObject get(A a, B... b)\n</code></pre>\n\n<p>and when I'm trying to invoke first method in Kotlin</p>\n\n<pre><code>get(someInstance)\n</code></pre>\n\n<p>It always invokes second method with empty second parameter.</p>\n\n<p>How could I call first method from Kotlin in this case?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 0, "creation_date": 1549985872, "post_id": 54653638, "comment_id": 96098927, "body": "Unless this is actual production code, what you probably should be doing is just throwing the exception without trying to catch it at all.  The exception and the stack trace are excellent tools for debugging your program."}, {"owner": {"reputation": 11970, "user_id": 2837741, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AEHnE.png?s=128&g=1", "display_name": "daniu", "link": "https://stackoverflow.com/users/2837741/daniu"}, "edited": false, "score": 0, "creation_date": 1549985877, "post_id": 54653638, "comment_id": 96098933, "body": "It really, really depends on the circumstances. If you only have two classes being called, this might be overkill. If they are part of different architectural layers, it might be called for to guard each against exceptions."}], "answers": [{"tags": [], "owner": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "is_accepted": false, "score": 0, "last_activity_date": 1549986159, "creation_date": 1549986159, "answer_id": 54653764, "question_id": 54653638, "link": "https://stackoverflow.com/questions/54653638/exception-handling-in-java-programs/54653764#54653764", "title": "Exception handling in Java Programs", "body": "<p>Return values should NOT be used for signaling errors to the caller. In JAVA you would just throw an exception.This is a core feature.</p>\n\n<p>What you are actually interested in is how to signal an error state to the command line. So, for class A and class B, use standard exception throwing. However, within the main method you might exit abnormally for some exceptions or maybe even all exceptions. Please check <a href=\"https://stackoverflow.com/questions/28738307/how-exactly-works-the-java-application-exit-code-of-the-main-method\">How exactly works the Java application exit code of the main() method?</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "is_accepted": false, "score": 0, "last_activity_date": 1549986716, "creation_date": 1549986716, "answer_id": 54653933, "question_id": 54653638, "link": "https://stackoverflow.com/questions/54653638/exception-handling-in-java-programs/54653933#54653933", "title": "Exception handling in Java Programs", "body": "<p>IMHO either use exceptions or error code as return value and be consistent with that approach.</p>\n\n<p>In kotlin you can use powerful libraries as <a href=\"https://arrow-kt.io/\" rel=\"nofollow noreferrer\">Arrow-kt</a> which offers you some sofisticated types to handle errors like <a href=\"https://arrow-kt.io/docs/arrow/core/try/\" rel=\"nofollow noreferrer\">Try</a> or <a href=\"https://arrow-kt.io/docs/arrow/core/either/\" rel=\"nofollow noreferrer\">Either</a> to handle respectively exceptions and error codes or states.</p>\n\n<blockquote>\n  <p><strong>Disclaimer</strong>: I am not affiliated with Arrow team</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4556418, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y-1UPE679OU/AAAAAAAAAAI/AAAAAAAAABc/rc9xxxpx6kQ/photo.jpg?sz=128", "display_name": "Ali Khan", "link": "https://stackoverflow.com/users/4556418/ali-khan"}, "edited": false, "score": 0, "creation_date": 1550076341, "post_id": 54654066, "comment_id": 96140090, "body": "Thx Roland, I will try out your approach."}], "tags": [], "owner": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "is_accepted": true, "score": 1, "last_activity_date": 1549987150, "creation_date": 1549987150, "answer_id": 54654066, "question_id": 54653638, "link": "https://stackoverflow.com/questions/54653638/exception-handling-in-java-programs/54654066#54654066", "title": "Exception handling in Java Programs", "body": "<p>The basic idea you should follow is to have a <code>main</code> method like this:</p>\n\n<pre><code>public static void main(String... args) {\n    try {\n        new A().run();\n    } catch (ExitProgramException e) {\n        System.exit(e.getCode());\n    }\n}\n</code></pre>\n\n<p>There is no predefined <code>ExitProgramException</code> yet. This is good, since otherwise some other class could already throw it. In this case though, you want to define all the places where this exception can be thrown. The exception class should be defined as follows:</p>\n\n<pre><code>public final class ExitProgramException extends RuntimeException {\n\n    private final int code;\n\n    public ExitProgramException(int code) { this.code = code; }\n\n    public int getCode() { return code; }\n}\n</code></pre>\n\n<p>Now, in classes A and B, you can <code>throw new ExitProgramException(1)</code>, and everything will work as intended.</p>\n\n<p>Because of the <code>extends RuntimeException</code>, the intermediate code does not have to know about this exception and will happily let it bubble through, from class B over class A back into the <code>main</code> method, where it is finally caught and converted into the exit code.</p>\n"}, {"tags": [], "owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "is_accepted": false, "score": 1, "last_activity_date": 1549988108, "creation_date": 1549988108, "answer_id": 54654354, "question_id": 54653638, "link": "https://stackoverflow.com/questions/54653638/exception-handling-in-java-programs/54654354#54654354", "title": "Exception handling in Java Programs", "body": "<p>The thing about Exceptions in Java is that they do a lot of different things, semantically</p>\n\n<ol>\n<li><p>Errors in code: Exceptions like NullPointerException or SQLExceptions where your SQL isn't right. These (IMO) shouldn't be caught, or should be rethrown as Errors and caught in the uncaughtExceptionHandler (which you can define in Thread)</p></li>\n<li><p>User errors: Exceptions like NumberFormatException and exceptions on bad form data, where the user has entered invalid values. This (IMO) should be handled in place with a message near where they should correct the value</p></li>\n<li><p>Normal, expected exceptions: Exceptions like IOException / SocketException. InterruptedException is in this family too. These Exceptions are your friends(!), as they unlock the threads that are waiting on something that they should be waiting on anymore. They are part of the normal cycle of connecting to IO resources. So if a socket closes, you could log the exception somewhere (sometimes even that isn't necessary), and possibly ask the user if they want to reopen the connection.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1550014961, "creation_date": 1550014961, "answer_id": 54660385, "question_id": 54653638, "link": "https://stackoverflow.com/questions/54653638/exception-handling-in-java-programs/54660385#54660385", "title": "Exception handling in Java Programs", "body": "<p>Generally speaking, it's only worth catching and re-throwing an exception if:</p>\n\n<ul>\n<li>you're going to throw a <em>different type</em> of exception (one that better fits the abstraction the method is providing, often wrapping the original exception), and/or</li>\n<li>you want some side-effect (e.g. logging the error somewhere, or some clean-up that doesn't fit in a <code>finally { }</code> block).</li>\n</ul>\n\n<p>If you're not doing any of those, then go for the easy way out and don't catch the exception.\u00a0 But do mention it in the method's JavaDoc, even if it's unchecked.</p>\n\n<p>And as others have said, returning a dedicated error code is rarely a good idea in Java; they're wordy, easy to forget, and don't propagate to the caller.\u00a0 And returning a special value (e.g. <code>null</code>) in place of a normal return value is even worse!\u00a0 Exceptions are the standard way, and that's what everyone will be expecting.</p>\n"}], "owner": {"reputation": 59, "user_id": 4556418, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y-1UPE679OU/AAAAAAAAAAI/AAAAAAAAABc/rc9xxxpx6kQ/photo.jpg?sz=128", "display_name": "Ali Khan", "link": "https://stackoverflow.com/users/4556418/ali-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 54654066, "answer_count": 5, "score": 0, "last_activity_date": 1550014961, "creation_date": 1549985708, "question_id": 54653638, "link": "https://stackoverflow.com/questions/54653638/exception-handling-in-java-programs", "title": "Exception handling in Java Programs", "body": "<p>This is my program structure:</p>\n\n<p>main function -> call Class A obj -> Class A calls Class B obj</p>\n\n<p>when it comes to exception handling, I want to exit the program with error code if exception is encountered either in main, class A or class B.</p>\n\n<p>Currently, I am doing what I feel is a cumbersome process (and likely a foolish way):</p>\n\n<p>-> Have exception handling within the functions of Class A and Class B.</p>\n\n<p>-> Have the function exit with a value deemed 'error' (such as specific value or boolean false) if exception occurred in function.</p>\n\n<p>-> main has its own try/catch but also for each function call of class A and class B, if it return is 'error', it throws exception and then exits with error code.</p>\n\n<p>My contention with this approach is (a) I am throwing and handling exception potentially multiple times (at the class level and then at main level). (b) If a function in class is suppose to return a value, than I have to set aside a specific value that when received, should be interpreted as error.</p>\n\n<p>any cleaner suggestions? This is for programs which will be compiled to run as executable JAR from command line and won't be a micro service (or web server based -- for those, I reckon, instead of exiting the program, you would report the error in log and continue on).</p>\n"}, {"tags": ["android", "kotlin", "koin"], "answers": [{"tags": [], "owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "is_accepted": false, "score": 1, "last_activity_date": 1563191644, "creation_date": 1563191644, "answer_id": 57039204, "question_id": 54653557, "link": "https://stackoverflow.com/questions/54653557/get-org-koin-error-beanoverrideexception-error-on-reopen-the-app/57039204#57039204", "title": "Get &quot;org.koin.error.BeanOverrideException&quot; error on reopen the app", "body": "<p>Try this:</p>\n\n<pre><code>val myModule = module(override = true) {\n    factory { MyClass(androidContext()) }\n}\n</code></pre>\n"}], "owner": {"reputation": 508, "user_id": 1928062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AK01w.jpg?s=128&g=1", "display_name": "Alireza MH", "link": "https://stackoverflow.com/users/1928062/alireza-mh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563191644, "creation_date": 1549985455, "last_edit_date": 1592644375, "question_id": 54653557, "link": "https://stackoverflow.com/questions/54653557/get-org-koin-error-beanoverrideexception-error-on-reopen-the-app", "title": "Get &quot;org.koin.error.BeanOverrideException&quot; error on reopen the app", "body": "<p>I'm using Koin on a <a href=\"https://medium.com/google-developer-experts/modularizing-android-applications-9e2d18f244a0\" rel=\"nofollow noreferrer\">modular application</a> by following <a href=\"https://insert-koin.io/docs/1.0/getting-started/android/\" rel=\"nofollow noreferrer\">documentation</a> of that.\nI call <code>startKoin</code> on my <code>BaseApplication</code> on the Core-Module:</p>\n<h3>Application</h3>\n<pre><code>val myModule = module {\n    factory { MyClass(androidContext()) }\n}\n\noverride fun onCreate() {\n    super.onCreate()\n    startKoin(this, listOf(myModule))\n}\n</code></pre>\n<p>And load some other modules in other modules by <code>loadKoinModules</code>:</p>\n<pre><code>loadKoinModules(otherModules)\n</code></pre>\n<p>All things are ok on first run, but when I reopen the application, I'm getting this error:</p>\n<pre><code>com.example.app E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.app, PID: 8252\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.app/com.example.app.MainActivity}: org.koin.error.BeanOverrideException: Try to override definition with Factory [name='MyClass',class='com.example.module.MyClass'], but override is not allowed. Use 'override' option in your definition or module.\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2957)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6944)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n</code></pre>\n<p>Is there any way to destroy Koin or any other way to solving this problem?</p>\n"}, {"tags": ["loops", "kotlin", "continue"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1549981291, "post_id": 54652121, "comment_id": 96095754, "body": "I think you&#39;d be better off with a while loop. But depends on what you&#39;re actually doing"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549981489, "post_id": 54652121, "comment_id": 96095908, "body": "You very rarely have to use a standard <code>for</code> or <code>while</code> loop in Kotlin. Kotlin has many advanced tools to solve most common problems. What exactly are you trying to acheive with that loop?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1549983943, "post_id": 54652121, "comment_id": 96097597, "body": "<i>This is the function giving me trouble</i> - be clear. What are you trying to do and what issue do you have"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549984037, "post_id": 54652121, "comment_id": 96097653, "body": "I understand you want to substract two strings and return an array of ints. That makes no sense to me, can you please explain what are the parameters and the return value?"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549985012, "post_id": 54652121, "comment_id": 96098348, "body": "Isn&#39;t it easier to convert the strings to Int/Long and then operate? As simple as <code>String#toInt()</code>"}, {"owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549985268, "post_id": 54652121, "comment_id": 96098529, "body": "@m0skit0 it would be harder to do pure binary calculations in base10. The goal of the application is for me to learn to calculate in binary, therefore i treat it like a real binary calculation"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549985477, "post_id": 54652121, "comment_id": 96098667, "body": "Ok then. You should use a <code>while</code> if you want to modify the value of the counter inside the loop. Note that this is considered bad practice, maybe you want to consider another algorithm (also note that substraction in computers is actually implemented as an addition with two&#39;s complement)."}], "answers": [{"comments": [{"owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "edited": false, "score": 0, "creation_date": 1603476756, "post_id": 64505286, "comment_id": 114059826, "body": "why this didn&#39;t get suggested immediately baffles me. Considering this question has 600 views, I thank you for your answer even though I am not working with kotlin anymore"}, {"owner": {"reputation": 518, "user_id": 11703772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb33d38021d5afcc67be5ef4a0b496e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11703772/john-doe"}, "reply_to_user": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "edited": false, "score": 1, "creation_date": 1603482483, "post_id": 64505286, "comment_id": 114061822, "body": "No problem :) Hopefully it will be helpful for somebody else."}], "tags": [], "owner": {"reputation": 518, "user_id": 11703772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb33d38021d5afcc67be5ef4a0b496e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/11703772/john-doe"}, "is_accepted": true, "score": 5, "last_activity_date": 1603476664, "creation_date": 1603476664, "answer_id": 64505286, "question_id": 54652121, "link": "https://stackoverflow.com/questions/54652121/continue-n-times-in-kotlin-loop/64505286#64505286", "title": "continue n times in kotlin loop", "body": "<pre><code>repeat(n){\n    blah()\n}\n</code></pre>\n<p>Will execute <code>blah()</code> <code>n</code> times.</p>\n"}], "owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1269, "favorite_count": 0, "accepted_answer_id": 64505286, "answer_count": 1, "score": 2, "last_activity_date": 1603482554, "creation_date": 1549981196, "last_edit_date": 1603482554, "question_id": 54652121, "link": "https://stackoverflow.com/questions/54652121/continue-n-times-in-kotlin-loop", "title": "continue n times in kotlin loop", "body": "<p>Is it possible to continue n times in a kotlin loop?</p>\n<pre><code>for(i in 0..n){\n    doSomething()\n    if(condition){\n       //manipulate n\n    }\n}\n</code></pre>\n<p>Since <code>i</code> for some reason is a val I cannot seem to reinitialize it in the loop.</p>\n"}, {"tags": ["spring-boot", "kotlin", "project-reactor"], "answers": [{"tags": [], "owner": {"reputation": 33963, "user_id": 1915448, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/51afb9344f8a44e60916753d37186513?s=128&d=identicon&r=PG", "display_name": "g00glen00b", "link": "https://stackoverflow.com/users/1915448/g00glen00b"}, "is_accepted": true, "score": 2, "last_activity_date": 1549983933, "last_edit_date": 1549983933, "creation_date": 1549983616, "answer_id": 54652953, "question_id": 54651394, "link": "https://stackoverflow.com/questions/54651394/how-can-i-apply-flux-all-to-a-predicate-that-returns-monoboolean/54652953#54652953", "title": "How can I apply Flux all to a predicate that returns Mono&lt;Boolean&gt;?", "body": "<p>You could use a <code>filterWhen()</code> statement in combination with <code>all()</code>, for example (in Java code):</p>\n\n<pre><code>.filterWhen(userDetails -&gt; Flux\n    .fromIterable(securityFilters)\n    .flatMap(securityFilter -&gt; securityFilter.doFilter(userDetails))\n    .all(result -&gt; result))\n</code></pre>\n\n<p>I don't think there's an <code>all()</code> statement that accepts a <code>Mono&lt;Boolean&gt;</code> though, only a <code>Predicate&lt;Boolean&gt;</code>, so that means you have to write a \"weird\" statement at the end that does <code>result -&gt; result</code>.</p>\n"}], "owner": {"reputation": 2136, "user_id": 3852459, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1cdf8ba8129fe63c6f87bbcb76d75b39?s=128&d=identicon&r=PG&f=1", "display_name": "Carmine", "link": "https://stackoverflow.com/users/3852459/carmine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2362, "favorite_count": 0, "accepted_answer_id": 54652953, "answer_count": 1, "score": 1, "last_activity_date": 1549983933, "creation_date": 1549978753, "question_id": 54651394, "link": "https://stackoverflow.com/questions/54651394/how-can-i-apply-flux-all-to-a-predicate-that-returns-monoboolean", "title": "How can I apply Flux all to a predicate that returns Mono&lt;Boolean&gt;?", "body": "<p>I have a list of filters for my Spring Boot application that check whether my logged in user should be enabled or not, and the filters return <code>Mono&lt;Boolean&gt;</code></p>\n\n<p>Now what I want is to to pass my object to all of them, and chain the filters. But the point is, I need to stop filtering if any of the filters returns <code>false</code></p>\n\n<p>Here's my <code>Filter</code> interface</p>\n\n<pre><code>interface Filter {\n    fun doFilter(obj: UserDetails): Mono&lt;Boolean&gt;\n}\n</code></pre>\n\n<p>And here's my code for login method</p>\n\n<pre><code>private fun login(serverRequest: ServerRequest, securityFilters: List&lt;SecurityFilter&gt;): Mono&lt;ServerResponse&gt; {\n    return serverRequest\n            .bodyToMono(LoginPayload::class.java)\n            .flatMap {\n                userDetailsService.findByUsername(it.username)\n                        .filter { userDetails -&gt; passwordEncoder.matches(it.password, userDetails.password) }\n            }\n            ./////////////////////////TODO///////////////////////\n            .flatMap {\n                val jwt = jwtService.generateJwtToken(it)\n\n                ServerResponse\n                        .ok()\n                        .cookie(ResponseCookie.from(\"jwt-access-token\", jwt).build())\n                        .build()\n            }\n            .switchIfEmpty(ServerResponse.status(HttpStatus.UNAUTHORIZED).build())\n}\n</code></pre>\n\n<p>What I want is to filter my object by all the filters at <code>TODO</code> part, and \ndo the final <code>flatMap</code> only if all the filters return true, and stop filtering and emit <code>empty</code> if one of the filters fails</p>\n"}, {"tags": ["spring", "kotlin", "kotlintest"], "comments": [{"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 1, "creation_date": 1549982185, "post_id": 54650832, "comment_id": 96096361, "body": "What&#39;s <code>WithGebruiker</code>?"}, {"owner": {"reputation": 3755, "user_id": 1940850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zqElV.png?s=128&g=1", "display_name": "karel", "link": "https://stackoverflow.com/users/1940850/karel"}, "edited": false, "score": 0, "creation_date": 1550034109, "post_id": 54650832, "comment_id": 96116447, "body": "<code>WithGebruiker</code> is WithUser."}, {"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "edited": false, "score": 0, "creation_date": 1550361563, "post_id": 54650832, "comment_id": 96241315, "body": "KotlinTest has no knowledge of arbitrary mocking annotations."}], "owner": {"reputation": 161, "user_id": 2969329, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ab66d875c68faac144cfa2bae3338046?s=128&d=identicon&r=PG&f=1", "display_name": "user2969329", "link": "https://stackoverflow.com/users/2969329/user2969329"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550034026, "creation_date": 1549976901, "last_edit_date": 1550034026, "question_id": 54650832, "link": "https://stackoverflow.com/questions/54650832/can-i-use-withmockuser-with-kotlintest", "title": "Can I use @WithMockUser with KotlinTest?", "body": "<p>I am trying to use an annotation similar to <code>@WithMockUser</code> in KotlinTest. I have added the annotation to my spec, but it does not seem to work. I'm trying to write my own listener as well, but it does not seem to work, as I cannot get any annotation information from the Spec class. Is it possible to use a construct like <code>@WithMockUser</code>? The reason I'm not using the pre-existing annotation is that my user needs additional information that comes from the token.</p>\n\n<p><strong>Example</strong></p>\n\n\n\n<pre><code>@WithGebruiker\n    \"GraphQL\" should {\n        \"return data with valid query\" {\n            // test here\n        }\n    }\n</code></pre>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549974911, "post_id": 54650207, "comment_id": 96091630, "body": "Related <a href=\"https://stackoverflow.com/q/54648917/97777\">stackoverflow.com/q/54648917/97777</a>"}], "answers": [{"comments": [{"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549978064, "post_id": 54650477, "comment_id": 96093557, "body": "I think that f0 is a callable reference here, and so does not have a <code>name</code> unfortunately."}], "tags": [], "owner": {"reputation": 9650, "user_id": 4129726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WazJd14JT_U/AAAAAAAAAAI/AAAAAAAAAEU/O0_ba1QyAos/photo.jpg?sz=128", "display_name": "Sergii Lagutin", "link": "https://stackoverflow.com/users/4129726/sergii-lagutin"}, "is_accepted": false, "score": 1, "last_activity_date": 1549975661, "creation_date": 1549975661, "answer_id": 54650477, "question_id": 54650207, "link": "https://stackoverflow.com/questions/54650207/can-i-convert-a-kotlin-kfunction1-to-a-kfunction0-by-applying-the-argument/54650477#54650477", "title": "Can I convert a Kotlin KFunction1 to a KFunction0 by applying the argument?", "body": "<p>hope it helps you:</p>\n\n<pre><code>fun foo(x: Int) = 2 * x\nval f1 = ::foo\nval f0 = { -&gt; f1(42) }\nf0() //84\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1549976614, "creation_date": 1549976614, "answer_id": 54650753, "question_id": 54650207, "link": "https://stackoverflow.com/questions/54650207/can-i-convert-a-kotlin-kfunction1-to-a-kfunction0-by-applying-the-argument/54650753#54650753", "title": "Can I convert a Kotlin KFunction1 to a KFunction0 by applying the argument?", "body": "<p>Partial application is possible. </p>\n\n<p>You may just declare a function for partial application and use it for the <code>::</code> reference. </p>\n\n<p>Hence, the name would not be the original function. Another approach - create your own classes/interfaces </p>\n\n<pre><code>data class MyFunction1&lt;T, R&gt;(val name: String, val f: (T) -&gt; R) { \n  operator fun invoke(t: T) = f(t) \n} \n\ndata class MyFunction0&lt;R&gt;(val name: String, val f: () -&gt; R) { \n  operator fun invoke() = f() \n} \n</code></pre>\n\n<p>Now define the curring: </p>\n\n<pre><code>fun MyFunction1&lt;T, R&gt;.curry(t: T) = MyFunction0(name){ f(t) } \n</code></pre>\n\n<p>(it can be a member function too)</p>\n"}, {"comments": [{"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549977400, "post_id": 54650907, "comment_id": 96093156, "body": "I had actually tried your first (and clever) solution, but it doesn&#39;t work because of <a href=\"https://stackoverflow.com/questions/54648917/how-can-i-implement-kfunctionn-in-kotlin\" title=\"how can i implement kfunctionn in kotlin\">stackoverflow.com/questions/54648917/&hellip;</a>"}, {"owner": {"reputation": 420, "user_id": 7356258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cc7e61c70358689771acd1a5325e237?s=128&d=identicon&r=PG&f=1", "display_name": "Haim", "link": "https://stackoverflow.com/users/7356258/haim"}, "reply_to_user": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549978867, "post_id": 54650907, "comment_id": 96094137, "body": "You right. I have just tried to run it and it failed at run time. But it can be fixed like this: ``` fun &lt;T, R&gt; KFunction1&lt;T, R&gt;.applyArgument(value: T): KFunction0&lt;R&gt; { return object : KFunction&lt;R&gt; by this, kotlin.jvm.functions.Function0&lt;R&gt; { override fun invoke(): R { return this@applyArgument(value) } } as KFunction0&lt;R&gt; } ``"}], "tags": [], "owner": {"reputation": 420, "user_id": 7356258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cc7e61c70358689771acd1a5325e237?s=128&d=identicon&r=PG&f=1", "display_name": "Haim", "link": "https://stackoverflow.com/users/7356258/haim"}, "is_accepted": false, "score": 1, "last_activity_date": 1549977463, "last_edit_date": 1549977463, "creation_date": 1549977148, "answer_id": 54650907, "question_id": 54650207, "link": "https://stackoverflow.com/questions/54650207/can-i-convert-a-kotlin-kfunction1-to-a-kfunction0-by-applying-the-argument/54650907#54650907", "title": "Can I convert a Kotlin KFunction1 to a KFunction0 by applying the argument?", "body": "<p><code>KFunction</code>s are intented to represent functions that are explicitly decleared in Kotlin code, but <code>f2</code> is not declared anywhere in the code. In addition <code>KFunction</code> has lot of reflection properties and functions which are not relevant to the applied function <code>f2</code>. Therefore even if it is possible it is not recommended. </p>\n\n<p>If you want to do it anyway you can simply write an <code>applyArgument</code> function in this way:</p>\n\n<pre><code>fun &lt;T, R&gt; KFunction1&lt;T, R&gt;.applyArgument(value: T): KFunction0&lt;R&gt; {\n    return object : KFunction&lt;R&gt; by this, KFunction0&lt;R&gt; {\n        override fun invoke(): R {\n            return this@applyArgument(value)\n        }\n    }\n}\n</code></pre>\n\n<p>But, if what you need is to preserve the name, I would do it in a safe way. One way could be: </p>\n\n<pre><code>data class Named&lt;out T&gt;(val name: String, val value: T)\n\nfun &lt;T, R&gt; Named&lt;T&gt;.map(transform: (T) -&gt; R): Named&lt;R&gt; = Named(name, transform(value))\n\nval &lt;F : KFunction&lt;*&gt;&gt; F.named: Named&lt;F&gt;\n    get() = Named(name, this)\n</code></pre>\n\n<p>Then use it:</p>\n\n<pre><code>fun foo(x: Int) = 2 * x\nval f: Named&lt;(Int) -&gt; Int&gt; = ::foo.named\n\nval f2: Named&lt;() -&gt; Int&gt; = f.map { fValue -&gt; { fValue(42) } }\nassertEquals(\"foo\", f2.name)\nassertEquals(84, f2.value())\n</code></pre>\n"}], "owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1549977463, "creation_date": 1549974742, "question_id": 54650207, "link": "https://stackoverflow.com/questions/54650207/can-i-convert-a-kotlin-kfunction1-to-a-kfunction0-by-applying-the-argument", "title": "Can I convert a Kotlin KFunction1 to a KFunction0 by applying the argument?", "body": "<p>I have a reference to a functionthat needs a parameter.</p>\n\n<pre><code>fun foo(x: Int) = 2 * x\nval f: KFunction1&lt;Int, Int&gt; = ::foo\n</code></pre>\n\n<p>Is there any way to write <code>applyArgument</code> where</p>\n\n<pre><code>val f2: KFunction0&lt;Int&gt; = f1.applyArgument(42) \nassertEquals(\"foo\", f2.name)\nassertEquals(84, f2())\n</code></pre>\n\n<p>I don't want to use a callable reference, as I need access to the <code>name</code> property.</p>\n"}, {"tags": ["android", "kotlin", "koin"], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 1, "last_activity_date": 1549978498, "creation_date": 1549978498, "answer_id": 54651309, "question_id": 54650165, "link": "https://stackoverflow.com/questions/54650165/koin-scope-with-multiple-declarations/54651309#54651309", "title": "Koin scope with multiple declarations?", "body": "<p>When you're adding your declarations to the <code>module { ... }</code> using the <code>single</code>, <code>factory</code> or <code>scope</code> definitions, internally they create so-called <code>BeanDefinition</code> object. This bean definition object will provide instances of declared objects. Each <code>BeanDefinition</code> object will handle one declaration. That means that you should change</p>\n\n<pre><code>scope(\"session\") {  \n   Something() \n   AnotherThing()\n}\n</code></pre>\n\n<p>into</p>\n\n<pre><code>scope(\"session\") { Something() }\nscope(\"session\") { AnotherThing() }\n</code></pre>\n\n<p>in order to make it work.</p>\n"}], "owner": {"reputation": 3504, "user_id": 1348423, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0707614048bf14d83a2e9cc01b36d6d6?s=128&d=identicon&r=PG", "display_name": "Muhammad Ahmed AbuTalib", "link": "https://stackoverflow.com/users/1348423/muhammad-ahmed-abutalib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549978498, "creation_date": 1549974625, "question_id": 54650165, "link": "https://stackoverflow.com/questions/54650165/koin-scope-with-multiple-declarations", "title": "Koin scope with multiple declarations?", "body": "<p>As per this article <a href=\"https://insert-koin.io/docs/1.0/getting-started/android-scope/\" rel=\"nofollow noreferrer\">https://insert-koin.io/docs/1.0/getting-started/android-scope/</a> we can create scopes for our objects. This is an example given there.</p>\n\n<pre><code>scope(\"session\") { MyScopePresenter(get())}\n</code></pre>\n\n<p>My question is that are we allowed to put in multiple definitions per scope? I feel we are not. There is no examples anywhere showing such.</p>\n\n<pre><code>    scope(\"session\") {  \n       Something() \n     AnotherThing()}\n</code></pre>\n\n<p>This doesn't work . I can only inject AnotherThing() while as something is not injected. </p>\n\n<p>Why does Koin just allow one definition per scope?</p>\n"}, {"tags": ["data-structures", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549971882, "post_id": 54649232, "comment_id": 96089772, "body": "To create an array you need to pass the initial values of the array. <code>Array(group.size) { LongArray(0) }</code> should work, but you will also overwrite all the values later. Consider using a <code>MutableList</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 1303, "user_id": 9799857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8oP52iS7o/AAAAAAAAAAI/AAAAAAAAAGI/MLCSiItmk5E/photo.jpg?sz=128", "display_name": "Firu", "link": "https://stackoverflow.com/users/9799857/firu"}, "edited": false, "score": 0, "creation_date": 1549972586, "post_id": 54649359, "comment_id": 96090228, "body": "Generally you should avoid arrays and use lists whenever possible ;)"}], "tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": true, "score": 2, "last_activity_date": 1549972499, "last_edit_date": 1549972499, "creation_date": 1549971671, "answer_id": 54649359, "question_id": 54649232, "link": "https://stackoverflow.com/questions/54649232/initialize-array-of-longarray-in-kotlin/54649359#54649359", "title": "Initialize Array of LongArray in Kotlin", "body": "<p>If you use an array, you have no choice but to initialize the initial values of each element</p>\n\n<pre><code>optionalGroup = Array(group.size) { LongArray(0) }\n</code></pre>\n\n<p>I suggest you use a mutable list instead to avoid having to initialize the elements:</p>\n\n<pre><code>private lateinit var optionalGroup: MutableList&lt;LongArray&gt;\noptionalGroup = mutableListOf()\n</code></pre>\n\n<p>If this is not an option, you can still use a temporary mutable list and convert it back to a typed array:</p>\n\n<pre><code>val tempList = mutableListOf&lt;LongArray&gt;()\ngroup.forEach { (key, value) -&gt; tempList[key - 1] = LongArray(value) }\noptionalGroup = tempList.toTypedArray()\n</code></pre>\n"}], "owner": {"reputation": 1303, "user_id": 9799857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8oP52iS7o/AAAAAAAAAAI/AAAAAAAAAGI/MLCSiItmk5E/photo.jpg?sz=128", "display_name": "Firu", "link": "https://stackoverflow.com/users/9799857/firu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 54649359, "answer_count": 1, "score": 1, "last_activity_date": 1549978948, "creation_date": 1549971257, "last_edit_date": 1549978948, "question_id": 54649232, "link": "https://stackoverflow.com/questions/54649232/initialize-array-of-longarray-in-kotlin", "title": "Initialize Array of LongArray in Kotlin", "body": "<p>I basically wanted to create 2D array whose size is known to me on <strong>runtime</strong> </p>\n\n<p>I have declare and array of <code>LongArray</code> as below</p>\n\n<pre><code>private lateinit var optionalGroup: Array&lt;LongArray&gt;\n</code></pre>\n\n<p>And I can assign value to it as below where <strong>group</strong> is my <code>Mutable Map</code></p>\n\n<pre><code> group.forEach { (key, value) -&gt; optionalGroup[key - 1] = LongArray(value) }\n</code></pre>\n\n<p>My question is how can I initialize optionalGroup with size as of group ? I tried </p>\n\n<pre><code>`optionalGroup = Array(group.size)\n</code></pre>\n\n<blockquote>\n  <p>thows error No value passed for parameter 'init'`</p>\n</blockquote>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1549970961, "post_id": 54648917, "comment_id": 96089198, "body": "whitch kotlin version do you use?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1549976458, "post_id": 54648917, "comment_id": 96092580, "body": "According to <a href=\"https://github.com/JetBrains/kotlin/blob/master/spec-docs/function-types.md\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/master/spec-docs/&hellip;</a> both <code>kotlin.FunctionN</code> and <code>kotlin.reflect.KFunctionN</code> are &quot;fictitious, which means they have no sources and no runtime representation&quot;. I&#39;d expect your use case needs that missing runtime representation."}], "answers": [{"comments": [{"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549971507, "post_id": 54649264, "comment_id": 96089541, "body": "You need to add the kotlin-reflection jar to see the KFunctionN&#39;s I believe. Your example works, but uses <code>call</code> rather than <code>invoke</code>"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1549971575, "post_id": 54649264, "comment_id": 96089573, "body": "It is definitely not the best idea to implement that interface in your code explicitly. You may either create your own interface, or use callable references to force the compiler to do that for you"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549971646, "post_id": 54649264, "comment_id": 96089614, "body": "Nope, KFunction0 shows in Kotlin 1.3. @DuncanMcGregor I updated my answer. <code>KFunction0</code> exists and has method <code>invoke</code> ;)"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1549971843, "post_id": 54649264, "comment_id": 96089741, "body": "An yep, I don&#39;t think it&#39;s the best idea to create code like this too, but I&#39;m just answering the question :P"}, {"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549972593, "post_id": 54649264, "comment_id": 96090233, "body": "Have you tried running the final line (after making it <code>println</code> ;-)"}, {"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549972769, "post_id": 54649264, "comment_id": 96090355, "body": "Ah, more information. If you specify the type of kf - <code>val kf: KFunction0&lt;Int&gt; = MyKF()</code> it fails with a ClassCastException when you call <code>invoke</code>, but not when you invoice <code>call</code>"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1549972798, "post_id": 54649264, "comment_id": 96090375, "body": "What do you mean by <code>final line</code>? You mean those assertions? Yep, I&#39;ve tried and they didn&#39;t throw exception. Also, I tried make assertion like <code>assertEquals(0, kf())</code> (passed) and <code>assertEquals(1, kf())</code> (failed)."}, {"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549973941, "post_id": 54649264, "comment_id": 96091092, "body": "I figured that you could never have run the <code>pritnln</code> - so it might still ClassCastException. Now I see that it is the declared type of the reference that makes the difference."}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 1, "last_activity_date": 1549972616, "last_edit_date": 1549972616, "creation_date": 1549971365, "answer_id": 54649264, "question_id": 54648917, "link": "https://stackoverflow.com/questions/54648917/how-can-i-implement-kfunctionn-in-kotlin/54649264#54649264", "title": "How can I implement KFunctionN in Kotlin?", "body": "<p>In Kotlin 1.2 I haven't found <code>KFunction0&lt;T&gt;</code> but only <code>KFunction&lt;T&gt;</code> and I was able to do what you wanted:</p>\n\n<pre><code>import kotlin.reflect.*\nimport kotlin.test.assertEquals\n\nclass MyKF : KFunction&lt;Int&gt;{ // In Kotlin 1.3 you can extend KFunction0&lt;Int&gt;\n\n    override val annotations: List&lt;Annotation&gt;\n        get() = listOf()\n    override val isAbstract: Boolean\n        get() = false\n    override val isExternal: Boolean\n        get() = false\n    override val isFinal: Boolean\n        get() = true\n    override val isInfix: Boolean\n        get() = false\n    override val isInline: Boolean\n        get() = false\n    override val isOpen: Boolean\n        get() = false\n    override val isOperator: Boolean\n        get() = false\n    override val isSuspend: Boolean\n        get() = false\n    override val parameters: List&lt;KParameter&gt;\n        get() = listOf()\n    override val typeParameters: List&lt;KTypeParameter&gt;\n        get() = listOf()\n\n    /**\n     * I am not sure how get proper return type. So... This KFunction will return kotlin.Number.\n     */\n    override val returnType: KType\n        get() = Int::class.supertypes[0]\n    override val visibility: KVisibility?\n        get() = KVisibility.PUBLIC\n\n    override fun call(vararg args: Any?): Int {\n        return 0\n    }\n\n    override fun callBy(args: Map&lt;KParameter, Any?&gt;): Int {\n        return 0\n    }\n\n    override val name: String\n        get() = \"f\"\n\n    // Sience Kotlin 1.3\n    override fun invoke(): Int {\n        return 0\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val kf = MyKF()\n    assertEquals(\"f\", kf.name)\n    assertEquals(0, kf.call())\n\n    println(kf.returnType)\n    println(kf.name)\n    println(kf.call())\n    pritnln(kf.invoke())\n}\n</code></pre>\n\n<p>I will update Kotlin to 1.3 later and I'll complete my answer (if it works in Kotlin 1.3).</p>\n\n<p><strong>So where can be your problem? Maybe (just lucky guess) check type based on overriden methods like <code>returnType</code>?</strong></p>\n\n<p>Edit:</p>\n\n<p>After migrating to Kotlin 1.3 I was able to extend <code>KFunction0&lt;Int&gt;</code> instead of <code>KFunction&lt;Int&gt;</code>. The only changes - my class has to also override <code>invoke(): Int</code>. Still works!</p>\n\n<p>Edit2:</p>\n\n<p>I'm not sure if I just didn't saw KFunction0 in my IDE or is not present in Kotlin below 1.3.</p>\n"}, {"comments": [{"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549971878, "post_id": 54649303, "comment_id": 96089767, "body": "But the type of <code>kFunction</code> in your example is <code>KFunction0&lt;Int&gt;</code>. I can assign it to <code>() -&gt; Int</code>, but then I loose the <code>.name</code> property, which is unfortunately necessary to my use case."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549973159, "post_id": 54649303, "comment_id": 96090614, "body": "It is fine to use the type, yes it is <code>KFunction0&lt;Int&gt;</code>. The good is you do not need to implement the type manually in your code"}, {"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549974025, "post_id": 54649303, "comment_id": 96091131, "body": "I have a use-case where I want to convert a KFunction1 to a KFunction0 by applying the parameter. I&#39;m coming to the conclusion that isn&#39;t a thing that I can do!"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1549976306, "post_id": 54649303, "comment_id": 96092485, "body": "Partial application is possible. You may just declare a function for partial application and use it for the :: reference. Hence, the name would not be the original function.  Another approach - create your own classes/interfaces ``` data class MyFunction1&lt;T, R&gt;(val name: String, val f: (T) -&gt; R) {   operator fun invoke(t: T) = f(t) } data class MyFunction0&lt;R&gt;(val name: String, val f: () -&gt; R) {   operator fun invoke() = f() } ``` Now define the curring:  ``` fun MyFunction1&lt;T, R&gt;.curry(t: T) = MyFunction0(name){ f(t) } (it can be a member function too) ```"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 4, "last_activity_date": 1549971501, "creation_date": 1549971501, "answer_id": 54649303, "question_id": 54648917, "link": "https://stackoverflow.com/questions/54648917/how-can-i-implement-kfunctionn-in-kotlin/54649303#54649303", "title": "How can I implement KFunctionN in Kotlin?", "body": "<p>It is definitely not a good idea to explicitly implement an internal class from Kotlin JVM. You do not have code completion for that classes in IntelliJ or Android Studio for a reason</p>\n\n<p>You may use callable references instead, to make Kotlin compiler generate all necessary classes for you.\n<a href=\"https://kotlinlang.org/docs/reference/reflection.html#callable-references\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html#callable-references</a></p>\n\n<pre><code>    fun myfun() = 42\n    val kFunction = ::myfun\n\n\n    println(kFunction.name)\n    println(kFunction())\n</code></pre>\n\n<p>The benefit - future version of Kotlin will unlikely to break that code (and may break you inheritor class)</p>\n\n<p>Should you need a longer name for the function, you may declare it like that</p>\n\n<pre><code>fun `my function with long name`() = 43\n</code></pre>\n"}], "owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1549974808, "creation_date": 1549970229, "last_edit_date": 1549974808, "question_id": 54648917, "link": "https://stackoverflow.com/questions/54648917/how-can-i-implement-kfunctionn-in-kotlin", "title": "How can I implement KFunctionN in Kotlin?", "body": "<p>If I define </p>\n\n<pre><code>class MyF : KFunction0&lt;Int&gt; {\n    override val name: String = \"f\"\n    override fun invoke() = 42\n\n    override val annotations: List&lt;Annotation&gt;\n        get() = TODO()\n    ....\n}\n</code></pre>\n\n<p>I can write </p>\n\n<pre><code>val f0: KFunction0&lt;Int&gt; = MyF()\nassertEquals(\"f\", f0.name)\n</code></pre>\n\n<p>but if I try </p>\n\n<pre><code>assertEquals(42, f0())\n</code></pre>\n\n<p>I get <code>java.lang.ClassCastException: MyF cannot be cast to kotlin.jvm.functions.Function0</code></p>\n\n<p>How can I define my own implementation of <code>KFunction0</code>?</p>\n\n<p>I can't work with <code>() -&gt; Int</code> because I need the <code>name</code> property.</p>\n\n<p>I'm using Kotlin 1.3.21.</p>\n\n<p>Additionally - it seems that I can run</p>\n\n<pre><code>val f02 = MyF()\nassertEquals(42, f02())\n</code></pre>\n\n<p>My actual use case is <a href=\"https://stackoverflow.com/questions/54650207/can-i-convert-a-kotlin-kfunction1-to-a-kfunction0-by-applying-the-argument\">Can I convert a Kotlin KFunction1 to a KFunction0 by applying the argument?</a></p>\n"}, {"tags": ["android", "kotlin", "android-print-framework"], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 5473567, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-juc4gb6Awsk/AAAAAAAAAAI/AAAAAAAAACE/5kzJdsHLRFU/photo.jpg?sz=128", "display_name": "David Kneys", "link": "https://stackoverflow.com/users/5473567/david-kneys"}, "is_accepted": false, "score": 1, "last_activity_date": 1551277162, "creation_date": 1551277162, "answer_id": 54907535, "question_id": 54648474, "link": "https://stackoverflow.com/questions/54648474/printmanager-print-and-changed-locale-in-attachbasecontext/54907535#54907535", "title": "PrintManager.print() and changed locale in attachBaseContext", "body": "<p>You can save the original context from <code>fun attachBaseContext(newBase: Context?)</code> to some <code>MainActivity</code> variable and then in your <code>PrintFragment</code> use this variable for printing. </p>\n\n<p>Same as here: <a href=\"https://stackoverflow.com/questions/43680909/android-n-printmanager-print-results-in-java-lang-illegalstateexception-can/43680994\">Android N: PrintManager.print() results in java.lang.IllegalStateException: Can print only from an activity</a></p>\n"}], "owner": {"reputation": 433, "user_id": 2113042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/068470cd06daf9e361b59fe72faa450a?s=128&d=identicon&r=PG", "display_name": "TeKo", "link": "https://stackoverflow.com/users/2113042/teko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551277162, "creation_date": 1549968878, "last_edit_date": 1550131487, "question_id": 54648474, "link": "https://stackoverflow.com/questions/54648474/printmanager-print-and-changed-locale-in-attachbasecontext", "title": "PrintManager.print() and changed locale in attachBaseContext", "body": "<p>Im using this extension to change the locale of my app:</p>\n\n<pre><code>fun Context.changeLanguage(language: String): ContextWrapper {\n    var context = this\n    val config = context.resources.configuration\n\n    if (language.isNotBlank()) {\n        val locale = Locale(language)\n        Locale.setDefault(locale)\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            config.setLocale(locale)\n        } else {\n            config.locale = locale\n        }\n        context = context.createConfigurationContext(config)\n    }\n    return ContextWrapper(context)\n}\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>override fun attachBaseContext(newBase: Context?) {\n        super.attachBaseContext(newBase?.changeLanguage(prefs.language))\n}\n</code></pre>\n\n<p>This works fine for everything but printing. \nWhen I try to print I get <code>java.lang.IllegalStateException: Can print only from an activity</code></p>\n\n<p>PrintFragment in another module:</p>\n\n<pre><code>activity?.also { context -&gt;\n    val printManager = context.getSystemService(Context.PRINT_SERVICE) as PrintManager\n    val jobName = getString(R.string.print_document)\n    printManager.print(jobName, PrintPdfAdapter(context, printList), null)\n}\n</code></pre>\n\n<p>Any ideas how I can get around this problem?</p>\n\n<p>I switched back to <code>context.resources.updateConfiguration(config, context.resources.displayMetrics)</code> for now. Hoping they don't remove it too soon.</p>\n"}, {"tags": ["android", "kotlin", "constructor", "parcelable"], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549968313, "post_id": 54648222, "comment_id": 96087695, "body": "Nice one, I didn&#39;t know about this annotation."}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1549968965, "post_id": 54648222, "comment_id": 96088059, "body": "What if i don&#39;t want to update the version of Kotlin ?"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1549969155, "post_id": 54648222, "comment_id": 96088151, "body": "@keshavAggarwal This is available since 1.1.4 and Kotlin is already on 1.3. Are you still using Windows 98?"}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1549969934, "post_id": 54648222, "comment_id": 96088620, "body": "Haha, missed that, basically i want to do that by implementing Parcelable interface."}], "tags": [], "owner": {"reputation": 524, "user_id": 10995239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218634293513962/picture?type=large", "display_name": "Taras Parshenko", "link": "https://stackoverflow.com/users/10995239/taras-parshenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1549968201, "creation_date": 1549968201, "answer_id": 54648222, "question_id": 54647897, "link": "https://stackoverflow.com/questions/54647897/read-list-of-list-from-parcelable-in-kotlin-constructor-android/54648222#54648222", "title": "Read List of List from Parcelable in Kotlin constructor android", "body": "<p>In Kotlin 1.1.4 was added Parcelable support with <code>@Parcelize</code> annotation</p>\n\n<p>It's more convenient way to deal with it</p>\n\n<p>Check it out:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#parcelable\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html#parcelable</a></p>\n"}], "owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1171, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1549968201, "creation_date": 1549967151, "last_edit_date": 1549967612, "question_id": 54647897, "link": "https://stackoverflow.com/questions/54647897/read-list-of-list-from-parcelable-in-kotlin-constructor-android", "title": "Read List of List from Parcelable in Kotlin constructor android", "body": "<p>I want to basically read the List of List from the Parcel in Kotlin constructor, I have my class structured like this:</p>\n\n<pre><code>data class Sports(\n    var media: List&lt;List&lt;MediaObject&gt;&gt;?,\n    var likes: Int) : Parcelable {\nconstructor(parcel: Parcel) : this(\n        TODO(\"media\"),\n        parcel.readInt(),\n)\n\noverride fun writeToParcel(parcel: Parcel, flags: Int) {\n    if (media == null || media!!.isEmpty()) {\n        parcel.writeInt(0)\n    } else {\n        parcel.writeInt(media!!.size)\n        for (mediaObjects in media!!) {\n            parcel.writeTypedList(mediaObjects)\n        }\n    }\n    parcel.writeInt(likes)\n}\n\noverride fun describeContents(): Int {\n    return 0\n}\n\ncompanion object CREATOR : Parcelable.Creator&lt;Sports&gt; {\n    override fun createFromParcel(parcel: Parcel): Sports {\n        return Sports(parcel)\n    }\n\n    override fun newArray(size: Int): Array&lt;Sports?&gt; {\n        return arrayOfNulls(size)\n    }\n}}\n</code></pre>\n\n<p>I have a <code>List&lt;List&lt;MediaObject&gt;&gt;</code> which i want to read from the parcel, how can we achieve this, i guess we can have some inline functions but not sure how we'll do this ? </p>\n\n<p>Kotlin automatically adds TODO if its <code>List&lt;List&lt;&gt;&gt;</code> type object.</p>\n"}, {"tags": ["android", "xml", "android-fragments", "kotlin", "navigationbar"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550754139, "post_id": 54647790, "comment_id": 96391830, "body": "Is there any particular reason why you like to type so many <code>!!</code>s? I mean, you could retrieve the variable to a <code>val</code> first, then set it to the field, and then you wouldn&#39;t need any of these <code>!!</code>s."}, {"owner": {"reputation": 31, "user_id": 10661387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1754b6e2eda1dc1dc804829b8d0731a0?s=128&d=identicon&r=PG&f=1", "display_name": "Intellij P", "link": "https://stackoverflow.com/users/10661387/intellij-p"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550755368, "post_id": 54647790, "comment_id": 96392633, "body": "yes there is a reason for that"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550755527, "post_id": 54647790, "comment_id": 96392766, "body": "It was a trick question, as not really, you&#39;re just not using smartcasting."}, {"owner": {"reputation": 31, "user_id": 10661387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1754b6e2eda1dc1dc804829b8d0731a0?s=128&d=identicon&r=PG&f=1", "display_name": "Intellij P", "link": "https://stackoverflow.com/users/10661387/intellij-p"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550756913, "post_id": 54647790, "comment_id": 96393678, "body": "Can you make this work in kotlin? as i&#39;m beginner in kotlin and not getting what&#39;s wrong i&#39;m doing."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551450459, "post_id": 54647790, "comment_id": 96656106, "body": "If you assign a nullable variable to a <code>val</code>, then after the first null-check (either use of <code>!!</code> or <code>if(x != null) {</code>), it&#39;ll be smart-cast to non-null type. So you won&#39;t need the <code>!!</code>s below it anymore. But a common practice is to use <code>?: return</code> instead of <code>!!</code>, assuming that is what you need."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10661387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1754b6e2eda1dc1dc804829b8d0731a0?s=128&d=identicon&r=PG&f=1", "display_name": "Intellij P", "link": "https://stackoverflow.com/users/10661387/intellij-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1550753809, "creation_date": 1550753809, "answer_id": 54807644, "question_id": 54647790, "link": "https://stackoverflow.com/questions/54647790/how-to-implement-custom-navigationbar-fragment-in-kotlin/54807644#54807644", "title": "How to implement custom navigationBar Fragment in kotlin", "body": "<p>Some How i solve this but in java not in kotlin. This is for left button for right apply same as left button.If any one find solution in kotlin let me know i will accept his answer. </p>\n\n<p>below is my NavigationBar  code:</p>\n\n<pre><code>    public class NewNavigationBarFragment extends Fragment implements View.OnClickListener {\n\n    public TextView leftButton;\n    public TextView titleTextView;\n    public RelativeLayout navigationBarBaseLayout;\n    private ButtonImageChangeListener buttonChangeListener;\n\n\n    public interface ButtonImageChangeListener {\n\n        void changeMenuButtonImage();\n    }\n\n    public interface navigationButtonListener {\n\n        void leftButtonPressed();\n\n\n    }\n\n    private navigationButtonListener listener;\n\n    public navigationButtonListener getListener() {\n        return listener;\n    }\n\n    public void setListener(navigationButtonListener listener) {\n        this.listener = listener;\n    }\n\n    public ButtonImageChangeListener getButtonChangeListener() {\n        return buttonChangeListener;\n    }\n\n    public void setButtonChangeListener(ButtonImageChangeListener buttonChangeListener) {\n        this.buttonChangeListener = buttonChangeListener;\n    }\n\n    public NewNavigationBarFragment() {\n        // Required empty public constructor\n    }\n\n    public static NewNavigationBarFragment newInstance(String title, boolean isLeft) {\n        NewNavigationBarFragment navigationBarFragment = new NewNavigationBarFragment();\n\n        Bundle bundle = new Bundle();\n        bundle.putString(\"title\", title);\n        bundle.putBoolean(\"isLeft\", isLeft);\n\n\n        navigationBarFragment.setArguments(bundle);\n        return navigationBarFragment;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n\n        View view = inflater.inflate(R.layout.fragment_navigation_bar, container, false);\n\n        leftButton = view.findViewById(R.id.leftButton);\n        titleTextView = view.findViewById(R.id.title);\n        navigationBarBaseLayout = (RelativeLayout) view.findViewById(R.id.navigationBarBaseLayout);\n\n\n        if (getArguments().getBoolean(\"isLeft\")) {\n            leftButton.setVisibility(View.VISIBLE);\n            leftButton.setOnClickListener(this);\n        } else {\n            leftButton.setVisibility(View.GONE);\n        }\n\n        if (buttonChangeListener != null) {\n            buttonChangeListener.changeMenuButtonImage();\n        }\n\n        return view;\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        if (v.getId() == R.id.title) {\n\n        } else if (v.getId() == R.id.leftButton) {\n            if (this.listener != null) {\n                this.listener.leftButtonPressed();\n            }\n\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>Call below code in activity and don't forget to <code>implement</code> navigationbar <code>listener</code> and declare <code>navigationBar</code> globally </p>\n\n<p>private fun loadNavigationbar() {\n    navigationBar = NewNavigationBarFragment.newInstance(\"\", true)</p>\n\n<pre><code>navigationBar!!.setListener(this)\nnavigationBar!!.setButtonChangeListener(object : NewNavigationBarFragment.ButtonImageChangeListener {\n    override fun changeMenuButtonImage() {\n        //title\n        navigationBar!!.titleTextView.setText(\"Reports\")\n        // navigationBar!!.titleTextView.setTypeface(Application.HelveticaNeue_Medium)\n        navigationBar!!.navigationBarBaseLayout.setBackgroundColor(getResources().getColor(R.color.colorPrimary));\n        navigationBar!!.titleTextView.setTextColor(resources.getColor(R.color.white))\n\n        val ssbProfile = SpannableStringBuilder(\" \")\n        ssbProfile.setSpan(ImageSpan(this@ReportActivity, R.drawable.ic_navigate_back), 0, 1, Spannable.SPAN_INCLUSIVE_INCLUSIVE)\n        navigationBar!!.leftButton.setText(ssbProfile, TextView.BufferType.SPANNABLE)\n        navigationBar!!.leftButton.setTextSize(32F)\n        navigationBar!!.leftButton.setTextColor(resources.getColor(R.color.colorPrimary))\n        navigationBar!!.leftButton.setPadding(15, 5, 15, 5)\n        navigationBar!!.leftButton.setVisibility(View.VISIBLE);\n    }\n})\n\nval fragmentTransaction = supportFragmentManager.beginTransaction()\nfragmentTransaction.add(R.id.navigationBar, navigationBar!!)\nfragmentTransaction.commit()\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 31, "user_id": 10661387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1754b6e2eda1dc1dc804829b8d0731a0?s=128&d=identicon&r=PG&f=1", "display_name": "Intellij P", "link": "https://stackoverflow.com/users/10661387/intellij-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 1, "accepted_answer_id": 54807644, "answer_count": 1, "score": 0, "last_activity_date": 1550753809, "creation_date": 1549966870, "question_id": 54647790, "link": "https://stackoverflow.com/questions/54647790/how-to-implement-custom-navigationbar-fragment-in-kotlin", "title": "How to implement custom navigationBar Fragment in kotlin", "body": "<p>I'm trying to implement custom navigationbar fragment in my project but i'm not able set title and left button. In this fragment i'm using textview to set icon and title. I know i can use custom toolbar but i don't want to use custom toolbar so using navigation bar fragment and i can use this navigation fragment as toolbar wherever i need and set left button, right button and all\nbelow is my NavigationBarFragment:-</p>\n\n<pre><code>    class NavigationBarFragment : Fragment(), View.OnClickListener {\n\n    lateinit var leftButton: TextView\n    lateinit var titleTextView: TextView\n    private var buttonChangeListener: ButtonImageChangeListener? = null\n\n    interface ButtonImageChangeListener {\n\n        fun changeMenuButtonImage()\n    }\n\n\n\n    fun newInstance(title: String, isLeft: Boolean): NavigationBarFragment {\n\n        val navigationBarFragment = NavigationBarFragment()\n\n        val bundle = Bundle()\n        bundle.putString(\"title\", title)\n        bundle.putBoolean(\"isLeft\", isLeft)\n\n        navigationBarFragment.arguments = bundle\n        return navigationBarFragment\n    }\n\n\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_navigation_bar, container, false)\n\n        leftButton = view!!.findViewById(R.id.leftButton)\n        titleTextView = view!!.findViewById(R.id.title)\n        titleTextView.setText(arguments!!.getString(\"title\"))\n\n        if (arguments!!.getBoolean(\"isLeft\")) {\n\n            leftButton.visibility = View.VISIBLE\n            leftButton.setOnClickListener(this)\n        } else {\n            leftButton.visibility = View.GONE\n        }\n\n\n    }\n\n    interface navigationButtonListener {\n\n        fun leftButtonPressed()\n    }\n\n\n    private var listener: navigationButtonListener? = null\n\n    fun getListener(): navigationButtonListener? {\n        return listener\n    }\n\n    fun setListener(listener: navigationButtonListener) {\n        this.listener = listener\n    }\n\n    fun getButtonChangeListener(): ButtonImageChangeListener? {\n        return buttonChangeListener\n    }\n\n    fun setButtonChangeListener(buttonChangeListener: ButtonImageChangeListener) {\n        this.buttonChangeListener = buttonChangeListener\n    }\n\n    override fun onClick(v: View?) {\n\n        if (v != null) {\n            if (v.getId() == R.id.title) run {\n\n            } else if (v!!.getId() == R.id.leftButton) {\n                if (this.listener != null) {\n                    this.listener!!.leftButtonPressed()\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>below is method which i'm implementing in Activity:</p>\n\n<pre><code>private var navigationBar: NavigationBarFragment? = null\n    private fun loadNavigationbar() {\n    navigationBar = NavigationBarFragment().newInstance(\"Report\",true)\n\n\n\n    navigationBar?.setListener(this)\n    navigationBar?.setButtonChangeListener(object : NavigationBarFragment.ButtonImageChangeListener {\n        override fun changeMenuButtonImage() {\n\n            //title\n            navigationBar!!.titleTextView.setTextColor(resources.getColor(R.color.colorPrimary))\n            //navigationBar!!.titleTextView.setTypeface(Application.HelveticaNeue_Medium)\n            var aa= navigationBar!!.titleTextView.text\n            navigationBar!!.titleTextView.setText(\"Report Activity\")\n\n            //Menu Button\n            navigationBar!!.leftButton.setText(resources.getResourceName(R.drawable.ic_navigate_back))\n            // navigationBar.leftButton.setTypeface(Application.FONT_AWESOME)\n            navigationBar!!.leftButton.setTextSize(24F)\n            navigationBar!!.leftButton.setTextColor(resources.getColor(R.color.colorPrimary))\n            navigationBar!!.leftButton.setPadding(15, 5, 15, 5)\n\n            navigationBar!!.leftButton.setVisibility(View.VISIBLE)\n\n\n            navigationBar!!.navigationBarBaseLayout.setBackgroundColor(resources.getColor(R.color.white))\n\n            val ssbProfile = SpannableStringBuilder(\" \")\n            ssbProfile.setSpan(ImageSpan(this@ReportActivity, R.drawable.ic_navigate_back), 0, 1, Spannable.SPAN_INCLUSIVE_INCLUSIVE)\n            navigationBar!!.leftButton.setText(ssbProfile, TextView.BufferType.SPANNABLE)\n            navigationBar!!.leftButton.setTextSize(32F)\n            navigationBar!!.leftButton.setTextColor(resources.getColor(R.color.colorPrimary))\n            navigationBar!!.leftButton.setPadding(15, 5, 15, 5)\n\n        }\n    })\n    val fragmentTransaction = supportFragmentManager.beginTransaction()\n    fragmentTransaction.add(R.id.navigationBar, this!!.navigationBar!!)\n    fragmentTransaction.commit()\n\n}\n</code></pre>\n\n<p>Below is My xml code:-</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/navigationBarBaseLayout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/colorPrimary\"&gt;\n\n&lt;TextView\n    android:id=\"@+id/leftButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_centerVertical=\"true\"\n    android:layout_marginLeft=\"20dp\"\n    android:text=\"C\"\n    android:textColor=\"#FFFFFF\"\n    android:textSize=\"48dp\" /&gt;\n\n&lt;TextView\n    android:id=\"@id/title\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_centerInParent=\"true\"\n    android:ellipsize=\"end\"\n    android:maxLength=\"30\"\n    android:singleLine=\"true\"\n    android:text=\"CATELOGUE\"\n    android:textColor=\"#FFFFFF\"\n    android:textSize=\"20sp\"  /&gt;\n\n&lt;TextView\n    android:id=\"@+id/rightFirstButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_centerVertical=\"true\"\n    android:layout_marginRight=\"10dp\"\n    android:layout_toLeftOf=\"@+id/rightSecondButton\"\n    android:text=\"c\"\n    android:textColor=\"#FFFFFF\"\n    android:textSize=\"20sp\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/rightSecondButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_centerVertical=\"true\"\n    android:layout_marginRight=\"10dp\"\n    android:layout_toLeftOf=\"@+id/rightThirdButton\"\n    android:text=\"c\"\n    android:textColor=\"#FFFFFF\"\n    android:textSize=\"20sp\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/rightThirdButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentRight=\"true\"\n    android:layout_centerVertical=\"true\"\n    android:layout_marginRight=\"10dp\"\n    android:text=\"c\"\n    android:textColor=\"#FFFFFF\"\n    android:textSize=\"20dp\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "firebase", "dictionary", "arraylist", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1549966193, "post_id": 54647028, "comment_id": 96086326, "body": "Please add your database structure to see your <code>questionsList</code> property and please responde with @AlexMamo"}, {"owner": {"reputation": 83, "user_id": 6994975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LWdP4.jpg?s=128&g=1", "display_name": "huda Olayan", "link": "https://stackoverflow.com/users/6994975/huda-olayan"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1549967011, "post_id": 54647028, "comment_id": 96086900, "body": "@AlexMamo I added it"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1549967162, "post_id": 54647028, "comment_id": 96087000, "body": "Please also add the content of your <code>Question</code> class."}, {"owner": {"reputation": 83, "user_id": 6994975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LWdP4.jpg?s=128&g=1", "display_name": "huda Olayan", "link": "https://stackoverflow.com/users/6994975/huda-olayan"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1549968827, "post_id": 54647028, "comment_id": 96087976, "body": "@AlexMamo it is above"}], "answers": [{"tags": [], "owner": {"reputation": 2061, "user_id": 335363, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XUNr2.jpg?s=128&g=1", "display_name": "Ricardo Smania", "link": "https://stackoverflow.com/users/335363/ricardo-smania"}, "is_accepted": true, "score": 2, "last_activity_date": 1549966904, "creation_date": 1549966904, "answer_id": 54647802, "question_id": 54647028, "link": "https://stackoverflow.com/questions/54647028/get-array-of-object-from-firestore/54647802#54647802", "title": "Get Array of object From Firestore", "body": "<p>You can use <code>document.toObject</code> to cast your Firestore result to a Kotlin class. If you just use <code>get</code> on the field you will get a HashMap. In your case you could create a class that has a <code>questionsList</code> property and then cast it to your class. I haven't used Kotlin in a few months, but I believe it would be something like this:</p>\n\n<pre><code>data class MyQuestionList(\n    var questionsList: ArrayList&lt;Question&gt;\n)\n\nval myQuestionList = document.toObject(MyQuestionList::class.java)\n\nToast.makeText(context, myQuestionList.questionsList!![0].question, Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>Also, be careful with <code>!!</code> as it will cause a runtime exception if the object is null.</p>\n"}], "owner": {"reputation": 83, "user_id": 6994975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LWdP4.jpg?s=128&g=1", "display_name": "huda Olayan", "link": "https://stackoverflow.com/users/6994975/huda-olayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1325, "favorite_count": 0, "accepted_answer_id": 54647802, "answer_count": 1, "score": 0, "last_activity_date": 1549968800, "creation_date": 1549964668, "last_edit_date": 1549968800, "question_id": 54647028, "link": "https://stackoverflow.com/questions/54647028/get-array-of-object-from-firestore", "title": "Get Array of object From Firestore", "body": "<p><strong>I getting data from firestore put it in to ArrayList</strong></p>\n\n<pre><code>arraylist=document.get(\"questionsList\") as ArrayList&lt;Question&gt;\nToast.makeText(context, arraylist.size, Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>and its ok when I print the size of Array \nput when I need to get Question Item from Arraylist</p>\n\n<pre><code>Toast.makeText(context, arraylist!![0].question, Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>the result is \n<strong><em>java.util.HashMap cannot be cast to Question</em></strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/OxIye.png\" rel=\"nofollow noreferrer\">document in firestore image here</a></p>\n\n<p>Question class</p>\n\n<pre><code>class Question (var question:String,var choices:ArrayList&lt;String&gt;,var correctAnswer:String\n                ,private var userAnswer:String): Parcelable {\n    constructor(parcel: Parcel) : this(\n        parcel.readString()!!, arrayListOf&lt;String&gt;().apply {\n            parcel.readString()\n        },\n        parcel.readString()!!,\n        parcel.readString()!!\n    )\n    constructor():this(question=\"\",choices = ArrayList&lt;String&gt;(),correctAnswer = \"\",userAnswer = \"\")\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeString(question)\n        parcel.writeString(correctAnswer)\n        parcel.writeString(userAnswer)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;Question&gt; {\n        override fun createFromParcel(parcel: Parcel): Question {\n            return Question(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;Question?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1549965642, "creation_date": 1549965642, "answer_id": 54647364, "question_id": 54647016, "link": "https://stackoverflow.com/questions/54647016/is-there-any-way-to-use-the-annotation-binds-instead-of-provides-with-a-return/54647364#54647364", "title": "Is there Any way to use the annotation @Binds instead of @Provides with a return type that require parameter", "body": "<p>If your <code>Utils</code> class has an <code>@Inject</code> constructor, e.g.</p>\n\n<pre><code>class Utils @Inject constructor(private val context: Context) {\n    // ...\n}\n</code></pre>\n\n<p>... then you can bind it like so, and Dagger should be able to figure out how to create it (given that you're providing a <code>Context</code> somewhere):</p>\n\n<pre><code>@Singleton\n@Binds\nfun bindUtils(utils: Utils): Utils\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": false, "score": 0, "last_activity_date": 1549972703, "creation_date": 1549972703, "answer_id": 54649646, "question_id": 54647016, "link": "https://stackoverflow.com/questions/54647016/is-there-any-way-to-use-the-annotation-binds-instead-of-provides-with-a-return/54649646#54649646", "title": "Is there Any way to use the annotation @Binds instead of @Provides with a return type that require parameter", "body": "<p>You should use constructor injection here. You <strong>don't need <code>@Provides</code> <em>or</em> <code>@Binds</code></strong> if you use constructor injection.</p>\n\n<pre><code>@Singleton // scope on the class\nclass Utils @Inject constructor(private val context: Context)\n</code></pre>\n\n<p>That's all.</p>\n"}], "owner": {"reputation": 11, "user_id": 7627807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8dfb06106cbc7c906b363f86829e909?s=128&d=identicon&r=PG&f=1", "display_name": "Subrat", "link": "https://stackoverflow.com/users/7627807/subrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1549972703, "creation_date": 1549964621, "question_id": 54647016, "link": "https://stackoverflow.com/questions/54647016/is-there-any-way-to-use-the-annotation-binds-instead-of-provides-with-a-return", "title": "Is there Any way to use the annotation @Binds instead of @Provides with a return type that require parameter", "body": "<p>any possible way to use provide this using bind annotation?</p>\n\n<pre><code>@Singleton\n@Provides\nfun provideUtils(context: Context): Utils {\n    return Utils(context)\n}\n</code></pre>\n"}, {"tags": ["android", "list", "kotlin", "mutable"], "comments": [{"owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "edited": false, "score": 0, "creation_date": 1549962692, "post_id": 54646320, "comment_id": 96084079, "body": "I would say a list. That way with kotlin it&#39;s following the &#39;val&#39; immutability principle. If you want to mutate it, call .toMutableList() and assign it to a different variable. :)"}, {"owner": {"reputation": 2445, "user_id": 2389923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9332842a945234c71e89f9b9780447?s=128&d=identicon&r=PG", "display_name": "beigirad", "link": "https://stackoverflow.com/users/2389923/beigirad"}, "edited": false, "score": 0, "creation_date": 1549963142, "post_id": 54646320, "comment_id": 96084353, "body": "check here <a href=\"https://stackoverflow.com/a/46445970/2389923\">stackoverflow.com/a/46445970/2389923</a>"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549969586, "post_id": 54646320, "comment_id": 96088399, "body": "Go immutable whenever you can get away with it. <a href=\"https://softwareengineering.stackexchange.com/questions/151733/if-immutable-objects-are-good-why-do-people-keep-creating-mutable-objects\">Discussion mutable vs immutable</a>."}, {"owner": {"reputation": 115, "user_id": 10263845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--_FoYt2bfAc/AAAAAAAAAAI/AAAAAAAADdg/gfkmQlrv7Gs/photo.jpg?sz=128", "display_name": "MrGyovka", "link": "https://stackoverflow.com/users/10263845/mrgyovka"}, "edited": false, "score": 0, "creation_date": 1550055189, "post_id": 54646320, "comment_id": 96126899, "body": "Thank you guys!"}], "answers": [{"comments": [{"owner": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 1, "creation_date": 1549967566, "post_id": 54646406, "comment_id": 96087272, "body": "@MrGyovka Consider voting and accepting the answer if it helped you."}, {"owner": {"reputation": 115, "user_id": 10263845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--_FoYt2bfAc/AAAAAAAAAAI/AAAAAAAADdg/gfkmQlrv7Gs/photo.jpg?sz=128", "display_name": "MrGyovka", "link": "https://stackoverflow.com/users/10263845/mrgyovka"}, "edited": false, "score": 1, "creation_date": 1550055317, "post_id": 54646406, "comment_id": 96126983, "body": "Ok! Thank you! It&#39;s a solid answer."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1549962671, "creation_date": 1549962671, "answer_id": 54646406, "question_id": 54646320, "link": "https://stackoverflow.com/questions/54646320/android-room-list-or-mutable-list-return-type/54646406#54646406", "title": "Android Room List or mutable list return type", "body": "<p>Room will create a <code>java.util.ArrayList</code> for the results (you can check this by jumping into the implementation of your Dao after building your project), so you can use either return type in this case, as an <code>ArrayList</code> implements both interfaces. In general, the best practice in Kotlin is to use a read-only <code>List</code> as long as you can get away with it, so I'd suggest going with that.</p>\n"}], "owner": {"reputation": 115, "user_id": 10263845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--_FoYt2bfAc/AAAAAAAAAAI/AAAAAAAADdg/gfkmQlrv7Gs/photo.jpg?sz=128", "display_name": "MrGyovka", "link": "https://stackoverflow.com/users/10263845/mrgyovka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 652, "favorite_count": 1, "accepted_answer_id": 54646406, "answer_count": 1, "score": 2, "last_activity_date": 1549969097, "creation_date": 1549962389, "last_edit_date": 1549969097, "question_id": 54646320, "link": "https://stackoverflow.com/questions/54646320/android-room-list-or-mutable-list-return-type", "title": "Android Room List or mutable list return type", "body": "<p>I was just wondering is there any convention about room queries return type? It is better to return with List or MutableList?\nIt's very easy to convert in Kotlin by .toList() and .toMutableList(). I'm just want to create an eye handy code that is why I'm asking about the best practice.</p>\n\n<p>To See clear, I'm talking about these queries:</p>\n\n<pre><code>@Query(\"SELECT * FROM measured_attribute WHERE deliveryStatus = :status LIMIT 1000\")\nfun getAttributeEntityListByStatus(status: DeliveryStatus): List&lt;MeasuredAttributeEntity&gt;\n\n@Query(\"SELECT * FROM measured_attribute WHERE \n  name = :speific AND \n  fk_patient = :id AND \n  creationTime&gt;:beginTime ORDER BY creationTime\")\n\nfun getSpecificAttributeEntity(\n   speific: String, \n   id: Long, \n   beginTime: Long\n   ): MutableList&lt;MeasuredAttributeEntity&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1549962568, "post_id": 54646058, "comment_id": 96084009, "body": "Is state an instance of the class Enum?"}], "answers": [{"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1549962159, "creation_date": 1549962159, "answer_id": 54646260, "question_id": 54646058, "link": "https://stackoverflow.com/questions/54646058/kotlin-enum-companion-function/54646260#54646260", "title": "Kotlin: Enum companion function", "body": "<p>You don't want to create an extension on the static class (companion object)\nYou want to create an extension on an instance of the enum.</p>\n\n<p>Try:</p>\n\n<pre><code>fun Enum.myFun() = 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "edited": false, "score": 0, "creation_date": 1549972767, "post_id": 54646960, "comment_id": 96090354, "body": "That is very sad :/"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 4, "last_activity_date": 1549964418, "creation_date": 1549964418, "answer_id": 54646960, "question_id": 54646058, "link": "https://stackoverflow.com/questions/54646058/kotlin-enum-companion-function/54646960#54646960", "title": "Kotlin: Enum companion function", "body": "<p>This is sadly not possible. You'd have to declare a companion for <code>State</code> and any other subclass separately.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/extensions.html#extensions-are-resolved-statically\" rel=\"nofollow noreferrer\">Extensions are resolved <strong>statically</strong></a></p>\n\n<blockquote>\n  <p>We would like to emphasize that extension functions are dispatched <strong>statically</strong>, i.e. they are not virtual by receiver type. This means that the extension function being called is determined by the type of the expression on which the function is invoked, not by the type of the result of evaluating that expression at runtime.</p>\n</blockquote>\n\n<p>Additionally <code>companion object</code> are not virtual either. A subclass won't ever be able to access the companion of the super class.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">Companion Objects</a></p>\n\n<blockquote>\n  <p>The name of a class used by itself (not as a qualifier to another name) acts as a reference to the companion object of the class (whether named or not).</p>\n</blockquote>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "accepted_answer_id": 54646960, "answer_count": 2, "score": 0, "last_activity_date": 1549964418, "creation_date": 1549961465, "question_id": 54646058, "link": "https://stackoverflow.com/questions/54646058/kotlin-enum-companion-function", "title": "Kotlin: Enum companion function", "body": "<p>I am trying to extend the Enum companion object with a simple function as follows:</p>\n\n<pre><code>fun Enum.Companion.myFun() = 1\n</code></pre>\n\n<p>However when I try to call it on an Enum <code>State</code>, it is unknown to Kotlin.</p>\n\n<pre><code>State.myFun()\n</code></pre>\n\n<p>I can see it works for <code>Enum.myFun()</code>, but that is not what I need.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "edited": false, "score": 0, "creation_date": 1549961329, "post_id": 54645936, "comment_id": 96083315, "body": "Maybe with a Fabric&#39;s version downgrading? It&#39;s possible its libraries use Kotlin."}, {"owner": {"reputation": 165, "user_id": 9772035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8278169920cb13b3efb69f7aaeacd5a2?s=128&d=identicon&r=PG&f=1", "display_name": "P. Vera", "link": "https://stackoverflow.com/users/9772035/p-vera"}, "reply_to_user": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "edited": false, "score": 0, "creation_date": 1549961610, "post_id": 54645936, "comment_id": 96083454, "body": "Yesterday the app was running without problems in this version, that&#39;s why I didn&#39;t try to downgrade it"}, {"owner": {"reputation": 165, "user_id": 9772035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8278169920cb13b3efb69f7aaeacd5a2?s=128&d=identicon&r=PG&f=1", "display_name": "P. Vera", "link": "https://stackoverflow.com/users/9772035/p-vera"}, "reply_to_user": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "edited": false, "score": 1, "creation_date": 1549961927, "post_id": 54645936, "comment_id": 96083636, "body": "I downgraded the version and the same error still appears, but i edited my question, I found a possible solution."}], "answers": [{"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 2, "last_activity_date": 1549962518, "creation_date": 1549962518, "answer_id": 54646356, "question_id": 54645936, "link": "https://stackoverflow.com/questions/54645936/android-studio-could-not-find-org-jetbrains-kotlinkotlin-stdlib1-1-3-2/54646356#54646356", "title": "Android Studio - Could not find org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2", "body": "<p>Remove the <code>buildscript</code> block from your app module <code>build.gradle</code>. It overrides whatever the top-level <code>build.gradle</code> provided and it's missing <code>jcenter</code> repo where Kotlin is.</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 9772035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8278169920cb13b3efb69f7aaeacd5a2?s=128&d=identicon&r=PG&f=1", "display_name": "P. Vera", "link": "https://stackoverflow.com/users/9772035/p-vera"}, "edited": false, "score": 0, "creation_date": 1549962750, "post_id": 54646367, "comment_id": 96084119, "body": "The solution provided by him <a href=\"https://stackoverflow.com/a/54646356/9772035\">stackoverflow.com/a/54646356/9772035</a> works for me."}], "tags": [], "owner": {"reputation": 165, "user_id": 9772035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8278169920cb13b3efb69f7aaeacd5a2?s=128&d=identicon&r=PG&f=1", "display_name": "P. Vera", "link": "https://stackoverflow.com/users/9772035/p-vera"}, "is_accepted": false, "score": 0, "last_activity_date": 1549962556, "creation_date": 1549962556, "answer_id": 54646367, "question_id": 54645936, "link": "https://stackoverflow.com/questions/54645936/android-studio-could-not-find-org-jetbrains-kotlinkotlin-stdlib1-1-3-2/54646367#54646367", "title": "Android Studio - Could not find org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2", "body": "<p>So, I found the solution. \nI was still doing some research and I found this question: <a href=\"https://stackoverflow.com/questions/49534872/after-update-to-android-studio-3-1-im-facing-this-erorr-could-not-find-org-jetb?noredirect=1&amp;lq=1\">possible solution</a></p>\n\n<p>People said jcenter() must be included in the project-level build.gradle, and since I already had it, I tried to add it to build.gradle (app).</p>\n\n<p>It worked. </p>\n\n<p>If someone could explain why, it would be awesome. </p>\n"}], "owner": {"reputation": 165, "user_id": 9772035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8278169920cb13b3efb69f7aaeacd5a2?s=128&d=identicon&r=PG&f=1", "display_name": "P. Vera", "link": "https://stackoverflow.com/users/9772035/p-vera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2932, "favorite_count": 0, "accepted_answer_id": 54646356, "answer_count": 2, "score": 1, "last_activity_date": 1549962846, "creation_date": 1549960906, "last_edit_date": 1549962846, "question_id": 54645936, "link": "https://stackoverflow.com/questions/54645936/android-studio-could-not-find-org-jetbrains-kotlinkotlin-stdlib1-1-3-2", "title": "Android Studio - Could not find org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2", "body": "<p>I was tring to compile my project in Android Studio (using Java) and the following error appeared: </p>\n\n<pre><code>Could not find org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2.\nSearched in the following locations:\n  - https://maven.fabric.io/public/org/jetbrains/kotlin/kotlin-stdlib/1.1.3-2/kotlin-stdlib-1.1.3-2.pom\n  - https://maven.fabric.io/public/org/jetbrains/kotlin/kotlin-stdlib/1.1.3-2/kotlin-stdlib-1.1.3-2.jar\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlin/kotlin-stdlib/1.1.3-2/kotlin-stdlib-1.1.3-2.pom\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlin/kotlin-stdlib/1.1.3-2/kotlin-stdlib-1.1.3-2.jar\n</code></pre>\n\n<p>Since I am not using kotlin I do not understand why is it being requested to compile my project. </p>\n\n<p>The rest of questions I've seen about it here are about Kotlin projects or missing SDK but it is not my case.</p>\n\n<p><strong>build.gradle (app):</strong></p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n        google()\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.27.1'\n        classpath 'com.android.tools.build:gradle:3.0.0'\n    }\n}\napply plugin: 'com.android.application'\napply plugin: 'io.fabric'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n}\n\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.project.test\"\n        minSdkVersion 22\n        targetSdkVersion 27\n        versionCode 10\n        versionName \"0.19\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'),     'proguard-rules.pro'\n        }\n    }\n    dataBinding.enabled = true\n    testOptions {\n        unitTests.all {\n            jvmArgs '-XX:MaxPermSize=256m'\n        }\n        unitTests.returnDefaultValues = true\n    }\n    packagingOptions {\n        exclude 'META-INF/proguard/androidx-annotations.pro'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.json:json:20180130'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.squareup.okhttp3:okhttp:3.10.0'\n    implementation 'com.github.paolorotolo:expandableheightlistview:1.0.0'\n    implementation 'com.google.code.gson:gson:2.8.5'\n    def room_version = \"1.1.1\"\n\n    implementation \"android.arch.persistence.room:runtime:$room_version\"\n    annotationProcessor \"android.arch.persistence.room:compiler:$room_version\"\n    // optional - RxJava support for Room\n    implementation \"android.arch.persistence.room:rxjava2:$room_version\"\n    // optional - Guava support for Room, including Optional and ListenableFuture\n    //implementation \"android.arch.persistence.room:guava:$room_version\"\n\n    // Converter\n    implementation \"android.arch.persistence.room:runtime:1.1.1\"\n    annotationProcessor \"android.arch.persistence.room:compiler:1.1.1\"\n    implementation 'com.google.code.gson:gson:2.8.5'\n\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.0.2'\n\n    testImplementation \"org.powermock:powermock-module-junit4:1.7.4\"\n    testImplementation \"org.powermock:powermock-api-mockito2:1.7.4\"\n\n    // WorkManager\n    implementation \"android.arch.work:work-runtime:1.0.0-beta02\"\n\n    // Power menu\n    implementation \"com.github.skydoves:powermenu:2.0.5\"\n\n    // Crashlytics\n    implementation('com.crashlytics.sdk.android:crashlytics:2.9.5@aar') {\n        transitive = true\n    }\n}\n</code></pre>\n\n<p><strong>build.gradle (project):</strong></p>\n\n<pre><code>buildscript {\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url \"https://jitpack.io\" }\n    }\n}\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\ndependencies {\n}\n</code></pre>\n\n<p>Thank you in advance. </p>\n"}, {"tags": ["spring", "kotlin", "thymeleaf", "reactive"], "comments": [{"owner": {"reputation": 787, "user_id": 4076291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fd43e38fc9fd9b6512109a95aa2c53c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet", "link": "https://stackoverflow.com/users/4076291/ahmet"}, "edited": false, "score": 0, "creation_date": 1549963022, "post_id": 54645640, "comment_id": 96084277, "body": "Your usage seems correct but as far as i know <code>ReactiveDataDriverContextVariable</code> is available from Thymeleaf 3.0. Please post your pom file."}, {"owner": {"reputation": 41, "user_id": 9711618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3ac92cb6b1b7dfacfd97a1c81ea744?s=128&d=identicon&r=PG", "display_name": "Cyberdev", "link": "https://stackoverflow.com/users/9711618/cyberdev"}, "reply_to_user": {"reputation": 787, "user_id": 4076291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fd43e38fc9fd9b6512109a95aa2c53c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet", "link": "https://stackoverflow.com/users/4076291/ahmet"}, "edited": false, "score": 0, "creation_date": 1549964088, "post_id": 54645640, "comment_id": 96084997, "body": "Hi @Ahmet i&#39;m using Gradle so i post you a dependencyInsight: <code>org.thymeleaf:thymeleaf:3.0.11.RELEASE (selected by rule)</code>  Thank you"}, {"owner": {"reputation": 787, "user_id": 4076291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fd43e38fc9fd9b6512109a95aa2c53c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet", "link": "https://stackoverflow.com/users/4076291/ahmet"}, "edited": false, "score": 0, "creation_date": 1549970299, "post_id": 54645640, "comment_id": 96088819, "body": "I am suspicous about the <code>ReactiveDataDriverContextVariable(data,1)</code>. Especially the second element of the constructor. Try increasing the buffer size like <code>ReactiveDataDriverContextVariable(data,5)</code>"}, {"owner": {"reputation": 41, "user_id": 9711618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3ac92cb6b1b7dfacfd97a1c81ea744?s=128&d=identicon&r=PG", "display_name": "Cyberdev", "link": "https://stackoverflow.com/users/9711618/cyberdev"}, "reply_to_user": {"reputation": 787, "user_id": 4076291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fd43e38fc9fd9b6512109a95aa2c53c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet", "link": "https://stackoverflow.com/users/4076291/ahmet"}, "edited": false, "score": 0, "creation_date": 1549971038, "post_id": 54645640, "comment_id": 96089242, "body": "Tried before, and had the same result just a context variable when it should be 4 strings.  Maybe i&#39;m missing some configuration?"}, {"owner": {"reputation": 787, "user_id": 4076291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fd43e38fc9fd9b6512109a95aa2c53c0?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet", "link": "https://stackoverflow.com/users/4076291/ahmet"}, "edited": false, "score": 1, "creation_date": 1549973662, "post_id": 54645640, "comment_id": 96090931, "body": "As far as thymeleaf part is concerned; everything is fine there. It might be of a config or dependency issue. Another thing might be the initialization and the assignment of <code>data</code> variable. I am not into kotlin so i can not say anything about that part."}, {"owner": {"reputation": 2421, "user_id": 3631743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Y1ASY.jpg?s=128&g=1", "display_name": "BSeitkazin", "link": "https://stackoverflow.com/users/3631743/bseitkazin"}, "edited": false, "score": 1, "creation_date": 1550053962, "post_id": 54645640, "comment_id": 96126128, "body": "I just copy-pasted your code, and run using Java, and all works just fine. It looks like, some issue with Kotlin"}, {"owner": {"reputation": 41, "user_id": 9711618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3ac92cb6b1b7dfacfd97a1c81ea744?s=128&d=identicon&r=PG", "display_name": "Cyberdev", "link": "https://stackoverflow.com/users/9711618/cyberdev"}, "edited": false, "score": 0, "creation_date": 1550054173, "post_id": 54645640, "comment_id": 96126272, "body": "It seams to be a miss configuration with Spring security, i&#39;ll post the answer when i figure it out how to make it work"}, {"owner": {"reputation": 148, "user_id": 2135317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b587ebc2260f62f446581a70eee89e1?s=128&d=identicon&r=PG", "display_name": "Peter Borbas", "link": "https://stackoverflow.com/users/2135317/peter-borbas"}, "edited": false, "score": 1, "creation_date": 1575314138, "post_id": 54645640, "comment_id": 104516630, "body": "I also have the same issue with Kotlin. I also removed the security dependecy and it&#39;s the same."}], "answers": [{"tags": [], "owner": {"reputation": 148, "user_id": 2135317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b587ebc2260f62f446581a70eee89e1?s=128&d=identicon&r=PG", "display_name": "Peter Borbas", "link": "https://stackoverflow.com/users/2135317/peter-borbas"}, "is_accepted": false, "score": 1, "last_activity_date": 1575320274, "last_edit_date": 1575320274, "creation_date": 1575317120, "answer_id": 59145920, "question_id": 54645640, "link": "https://stackoverflow.com/questions/54645640/flux-not-showing-in-thymeleaf-if-spring-web-security-is-enabled/59145920#59145920", "title": "Flux Not showing in Thymeleaf if Spring Web Security is enabled", "body": "<p>I had the same issue. My problem was that for other reasons I also had org.springframework.boot:spring-boot-starter-web as dependency, so thymeleaf did not enable its reactive mode. </p>\n\n<p>After I removed it, it started to work, but it only accepted a Flux and I couldn't render a single value. Looks like they only support iteration (th:each)  on a stream, but I couldn't find a proper documentation only hello world examples. </p>\n\n<p>My use case was different. I just did not want to block until I have my singe data object, so I came up with a workaround that also works with -web. I deferred the view name until I receive the data from the server. This way I don't need to block before I return the view name to start the rendering. (This method only works If you don't want to stream a long list)\nFor -webflux you don't need this workaround, just simply put your Monos and Fluxes into the model. Webflux will automatically wait for them before calling thymeleaf. </p>\n\n<p>WebMVC workaround:</p>\n\n<p><code>@GetMapping(\"/article/{articleId}/{friendlyUrl}\")\nfun article(@PathVariable articleId: String, @PathVariable friendlyUrl: String, model: Model): Mono&lt;String&gt; {\n    return gwDispatcher.dispatch(GetArticleGwCommand(articleId)).map { it.article }.map {\n                model.addAttribute(\"article\", it)\n                model.addAttribute(\"name\", \"Josh Smith\");\n        \"article\"\n    }\n}</code></p>\n"}], "owner": {"reputation": 41, "user_id": 9711618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3ac92cb6b1b7dfacfd97a1c81ea744?s=128&d=identicon&r=PG", "display_name": "Cyberdev", "link": "https://stackoverflow.com/users/9711618/cyberdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 4, "answer_count": 1, "score": 4, "last_activity_date": 1575320274, "creation_date": 1549959681, "last_edit_date": 1550153995, "question_id": 54645640, "link": "https://stackoverflow.com/questions/54645640/flux-not-showing-in-thymeleaf-if-spring-web-security-is-enabled", "title": "Flux Not showing in Thymeleaf if Spring Web Security is enabled", "body": "<p>I'm trying to show a Flux of Strings from my Controller to a view in Thymeleaf but i'm getting just a <code>ReactiveDataDriverContextVariable</code> on the view</p>\n\n<p>I'm using Spring boot 2</p>\n\n<p>This is my controller code</p>\n\n<pre><code>@GetMapping(\"/demo\")\nfun demo(model: Model): String{\n    val data = Flux.just(\"ONE\", \"TWO\", \"THREE\", \"FOUR\")\n    model.addAttribute(\"data\", ReactiveDataDriverContextVariable(data,1))\n    return \"demo\"\n}\n</code></pre>\n\n<p>And this is my Thymeleaf template code</p>\n\n<pre><code>    &lt;table class=\"table table-striped table-responsive\"&gt;\n        &lt;tr th:each=\"c: ${data}\"&gt;\n            &lt;td th:text=\"${c}\"&gt;...&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n</code></pre>\n\n<p>As far as i know <code>ReactiveDataDriverContextVariable</code> should put thymeleaf in a data-driven mode and show a list of the four Strings but i'm just getting this output:</p>\n\n<pre><code>org.thymeleaf.spring5.context.webflux.ReactiveDataDriverContextVariable@30ece48\n</code></pre>\n\n<p>I'm sure there is something i'm missing\nThank you in advance</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>Seems to be a problem with Spring Security </p>\n\n<p>I have this configuration enabled</p>\n\n<pre><code>@EnableWebSecurity\nclass SecurityConfig : WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http.authorizeRequests()\n                .antMatchers(\"/demo\")\n                .permitAll()\n    }\n\n}\n</code></pre>\n\n<p>When i delete Spring Security configuration and dependency everything works just fine but i would like to secure the webapp</p>\n\n<p>any ideas?</p>\n"}, {"tags": ["spring", "spring-boot", "docker", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1102, "user_id": 5088796, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/19f4fd38736f571b96696b615af97266?s=128&d=identicon&r=PG&f=1", "display_name": "Yanick Salzmann", "link": "https://stackoverflow.com/users/5088796/yanick-salzmann"}, "edited": false, "score": 1, "creation_date": 1549959409, "post_id": 54645538, "comment_id": 96082242, "body": "You should include the exceptions messages, and have a look at the stack traces, especially for the <code>java.io.IOException</code>. Apparently some I/O is not working and you need to figure out which one."}, {"owner": {"reputation": 2128, "user_id": 4213803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dY6k0.png?s=128&g=1", "display_name": "Vusal", "link": "https://stackoverflow.com/users/4213803/vusal"}, "edited": false, "score": 1, "creation_date": 1549959427, "post_id": 54645538, "comment_id": 96082247, "body": "Probably on your <code>@PostConstruct</code>, or in constructor you are doing some IO stuff, that&#39;s why <code>java.io.IOException</code> gets thrown on bean creation. Add code of your <code>AuthenticationControllerTest</code> to the question"}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "edited": false, "score": 0, "creation_date": 1549959993, "post_id": 54645538, "comment_id": 96082562, "body": "I have an embedded monogo dependency that&#39;s used for integration testing. But it used to be wired up just fine. Will look into it further."}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 2128, "user_id": 4213803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dY6k0.png?s=128&g=1", "display_name": "Vusal", "link": "https://stackoverflow.com/users/4213803/vusal"}, "edited": false, "score": 0, "creation_date": 1549960224, "post_id": 54645538, "comment_id": 96082684, "body": "@Vusal added test code :)"}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 1102, "user_id": 5088796, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/19f4fd38736f571b96696b615af97266?s=128&d=identicon&r=PG&f=1", "display_name": "Yanick Salzmann", "link": "https://stackoverflow.com/users/5088796/yanick-salzmann"}, "edited": false, "score": 0, "creation_date": 1549966046, "post_id": 54645538, "comment_id": 96086233, "body": "@YanickSalzmann found the IO error and updated the question."}], "answers": [{"tags": [], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "is_accepted": true, "score": 0, "last_activity_date": 1550003012, "creation_date": 1550003012, "answer_id": 54658174, "question_id": 54645538, "link": "https://stackoverflow.com/questions/54645538/org-springframework-beans-factory-unsatisfieddependencyexception-when-running-em/54658174#54658174", "title": "org.springframework.beans.factory.UnsatisfiedDependencyException when running embedded mongo in Docker", "body": "<p>Simple fix was to not use an alpine based image. So using <code>openjdk:8</code> instead of <code>openjdk:8-alpine</code> or <code>clementoh/circleci-openjdk:jdk8-gradle-5.2.1</code> fixed the issue for me.</p>\n"}], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 54658174, "answer_count": 1, "score": 0, "last_activity_date": 1550003012, "creation_date": 1549959244, "last_edit_date": 1549972118, "question_id": 54645538, "link": "https://stackoverflow.com/questions/54645538/org-springframework-beans-factory-unsatisfieddependencyexception-when-running-em", "title": "org.springframework.beans.factory.UnsatisfiedDependencyException when running embedded mongo in Docker", "body": "<p>When I run <code>./gradlew build</code> or <code>./gradlew test</code> in locally it works perfectly fine. However, when I run those commands inside a docker container, I get the error <code>org.springframework.beans.factory.UnsatisfiedDependencyException</code>. </p>\n\n<pre><code>Starting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :compileKotlin\n&gt; Task :compileJava NO-SOURCE\n&gt; Task :processResources\n&gt; Task :classes\n&gt; Task :compileTestKotlin\n&gt; Task :compileTestJava NO-SOURCE\n&gt; Task :processTestResources\n&gt; Task :testClasses\n\n&gt; Task :test\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; ifInvalidEmailOnRegistrationReturnInvalidEmailError FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; whenNoUserFoundReturnUserNotFoundError FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; acceptsUserRegistrationDetails FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; userCanLoginWithUsernameAndPassword FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; newUserMustHaveValidEmail FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; verifyNewTokenSavedWithReferenceToUser FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; authenticationFailedErrorReturnedIfIncorrectPassword FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; registrationFailsWhenUsernameExists FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; registrationReturnsUserRegistrationResponse FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; verifyPasswordIsEncryptedWhenNewUserCreated FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; ifInvalidPasswordOnRegistrationReturnInvalidPasswordError FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; onLogoutErrorNotifyConsumerLogoutFailed FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; verifyUserAuthenticationDetailsIsSavedToDatabaseWhenNewUserCreated FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; registrationFailsWhenInvalidPasswordProvided FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\napp.example.core.controllers.v1.AuthenticationControllerTest &gt; userCanLogout FAILED\n    java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException\n                        Caused by: org.springframework.beans.factory.BeanCreationException\n                            Caused by: java.io.IOException\n                                Caused by: java.io.IOException\n\n18 tests completed, 15 failed\n\n&gt; Task :test FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///app/build/junitHtml/index.html\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':test'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.accept(ExecuteActionsTaskExecuter.java:121)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.accept(ExecuteActionsTaskExecuter.java:117)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:184)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ResolveIncrementalChangesTaskExecuter.execute(ResolveIncrementalChangesTaskExecuter.java:84)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionStateTaskExecuter.execute(ResolveBeforeExecutionStateTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionOutputsTaskExecuter.execute(ResolveBeforeExecutionOutputsTaskExecuter.java:67)\n    at org.gradle.api.internal.tasks.execution.ResolveAfterPreviousExecutionStateTaskExecuter.execute(ResolveAfterPreviousExecutionStateTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:94)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:63)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:46)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.GradleException: There were failing tests. See the report at: file:///app/build/junitHtml/index.html\n    at org.gradle.api.tasks.testing.AbstractTestTask.handleTestFailures(AbstractTestTask.java:626)\n    at org.gradle.api.tasks.testing.AbstractTestTask.executeTests(AbstractTestTask.java:498)\n    at org.gradle.api.tasks.testing.Test.executeTests(Test.java:587)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:48)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:41)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:705)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:672)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$4.run(ExecuteActionsTaskExecuter.java:338)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:327)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:312)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:75)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:158)\n    at org.gradle.internal.execution.impl.steps.ExecuteStep.execute(ExecuteStep.java:46)\n    at org.gradle.internal.execution.impl.steps.CancelExecutionStep.execute(CancelExecutionStep.java:34)\n    at org.gradle.internal.execution.impl.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:69)\n    at org.gradle.internal.execution.impl.steps.TimeoutStep.execute(TimeoutStep.java:49)\n    at org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:34)\n    at org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:49)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:42)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:28)\n    at org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:133)\n    at org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$5(CacheStep.java:83)\n    at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:82)\n    at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:37)\n    at org.gradle.internal.execution.impl.steps.PrepareCachingStep.execute(PrepareCachingStep.java:33)\n    at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:38)\n    at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:23)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:95)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:88)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:109)\n    ... 37 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1m 29s\n\n</code></pre>\n\n<p><strong>Dockerfile</strong></p>\n\n<pre><code>FROM clementoh/circleci-openjdk:jdk8-gradle-5.2.1\nWORKDIR /app\nCOPY . /app\nRUN ./gradlew test\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>After running <code>gradle</code> with the <code>--debug</code> flag, found this directory missing error.</p>\n\n<p>The directory <code>/tmp/extract-f09acc66-9722-46f3-8645-c7dc9d53f60dextractmongod</code> doesn't exist for some reason. Never had this error before.</p>\n\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'embeddedMongoServer' defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Invocation of init method failed; nested exception is java.io.IOException: Cannot run program \"/tmp/extract-f09acc66-9722-46f3-8645-c7dc9d53f60dextractmongod\": error=2, No such file or directory\n</code></pre>\n\n<p><strong>build.kts</strong></p>\n\n<pre><code>@file:Suppress(\"SpellCheckingInspection\")\n\nimport org.gradle.internal.impldep.org.apache.maven.model.Build\nimport org.jetbrains.kotlin.gradle.dsl.KotlinCommonOptions\nimport org.jetbrains.kotlin.gradle.dsl.KotlinCommonToolOptions\nimport org.jetbrains.kotlin.gradle.dsl.KotlinCompile\nimport org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptions\nimport org.springframework.boot.gradle.tasks.bundling.BootJar\n\ngroup = \"app.example\"\nversion = \"0.0.1-SNAPSHOT\"\n\nbuildscript {\n    val kotlinVersion = \"1.3.0\"\n    val springBootVersion = \"2.1.2.RELEASE\"\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:$kotlinVersion\")\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nplugins {\n    java\n    jacoco\n    eclipse\n    id(\"org.jetbrains.kotlin.jvm\") version \"1.3.20\"\n}\n\napply(plugin = \"kotlin\")\napply(plugin = \"kotlin-spring\")\napply(plugin = \"eclipse\")\napply(plugin = \"org.springframework.boot\")\napply(plugin = \"io.spring.dependency-management\")\n\n\ntasks {\n    withType&lt;KotlinCompile&lt;KotlinJvmOptions&gt;&gt; {\n        kotlinOptions.freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n        kotlinOptions.jvmTarget = \"1.8\"\n    }\n\n    withType&lt;JacocoReport&gt; {\n        reports {\n            xml.isEnabled = false\n            csv.isEnabled = false\n            html.destination = file(\"$buildDir/jacocoHtml\")\n        }\n\n        afterEvaluate {\n            val filesToAvoidForCoverage = listOf(\n                \"/dto\",\n                \"/config\",\n                \"AuthenticationMicroServiceKt.class\"\n            )\n            val filesToCover = mutableListOf&lt;String&gt;()\n            File(\"build/classes/kotlin/main/app/example/core/\")\n                .walkTopDown()\n                .mapNotNull { file -&gt;\n                    var match = false\n                    filesToAvoidForCoverage.forEach {\n                        if (file.absolutePath.contains(it)) {\n                            match = true\n                        }\n                    }\n                    return@mapNotNull if (!match) {\n                        file.absolutePath\n                    } else {\n                        null\n                    }\n                }\n                .filter { it.contains(\".class\") }\n                .toCollection(filesToCover)\n\n            classDirectories.setFrom(files(filesToCover))\n        }\n    }\n\n    getByName&lt;BootJar&gt;(\"bootJar\") {\n        @Suppress(\"DEPRECATION\")\n        classifier = \"boot\"\n        mainClassName = \"app.example.core.AuthenticationMicroServiceKt\"\n    }\n\n    getByName&lt;Test&gt;(\"test\") {\n        reports {\n            html.destination = file(\"$buildDir/junitHtml\")\n        }\n    }\n\n    register(\"installGitHooks\", Copy::class) {\n        from(\"${rootProject.rootDir}/githooks\")\n        into(\"${rootProject.rootDir}/.git/hooks\")\n    }\n\n    getByName(\"build\") {\n        dependsOn(\"installGitHooks\")\n    }\n}\n\ndependencies {\n    implementation(\"org.springframework.boot:spring-boot-starter-actuator\")\n    implementation(\"org.springframework.boot:spring-boot-starter-data-mongodb-reactive\")\n    implementation(\"org.springframework.boot:spring-boot-starter-security\")\n    implementation(\"org.springframework.boot:spring-boot-starter-webflux\")\n    implementation(\"com.fasterxml.jackson.module:jackson-module-kotlin\")\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    implementation(\"org.jetbrains.kotlin:kotlin-reflect\")\n    implementation(\"io.jsonwebtoken:jjwt:0.9.1\")\n    runtimeOnly(\"org.springframework.boot:spring-boot-devtools\")\n\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine:5.3.1\")\n    testImplementation(\"org.springframework.boot:spring-boot-starter-test\")\n    testImplementation(\"de.flapdoodle.embed:de.flapdoodle.embed.mongo\")\n    testImplementation(\"io.projectreactor:reactor-test\")\n    testImplementation(\"org.springframework.security:spring-security-test\")\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.3.1\")\n}\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin", "android-contentprovider"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 10585648, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p3cFiSBMHnU/AAAAAAAAAAI/AAAAAAAAE1w/eNrc5Wql0Os/photo.jpg?sz=128", "display_name": "Subin T", "link": "https://stackoverflow.com/users/10585648/subin-t"}, "edited": false, "score": 0, "creation_date": 1549964272, "post_id": 54644930, "comment_id": 96085109, "body": "I did that,but now I got error like: Failed to find provider info for com.wsample.moblity.auth. Is it necessary to specify the path upto the table name?"}], "tags": [], "owner": {"reputation": 87, "user_id": 7644873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2d517b4ce4c3b8020cb74c3b3945aef?s=128&d=identicon&r=PG&f=1", "display_name": "DivideBy0", "link": "https://stackoverflow.com/users/7644873/divideby0"}, "is_accepted": false, "score": 2, "last_activity_date": 1549956914, "creation_date": 1549956914, "answer_id": 54644930, "question_id": 54644870, "link": "https://stackoverflow.com/questions/54644870/how-to-check-if-there-is-any-data-in-content-provider/54644930#54644930", "title": "How to check if there is any data in content provider", "body": "<p>move this line into onCreate function</p>\n\n<p>var c:Cursor? = contentResolver.query(CONTENT_URI, null, null, null, null)</p>\n"}], "owner": {"reputation": 107, "user_id": 10585648, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p3cFiSBMHnU/AAAAAAAAAAI/AAAAAAAAE1w/eNrc5Wql0Os/photo.jpg?sz=128", "display_name": "Subin T", "link": "https://stackoverflow.com/users/10585648/subin-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1549956914, "creation_date": 1549956664, "question_id": 54644870, "link": "https://stackoverflow.com/questions/54644870/how-to-check-if-there-is-any-data-in-content-provider", "title": "How to check if there is any data in content provider", "body": "<p>Hi I am new to Android Development. Im working with Android Kotlin. I want to check whether there is any data in the content provider. This is the sample code that I tried in mainactivity</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    companion object {\n        val AUTHORITY = \"com.wsample.moblity.auth\"\n        val CONTENT_URI = Uri.parse(\"content://$AUTHORITY\")\n    }\n    var c:Cursor? = contentResolver.query(CONTENT_URI, null, null, null, null)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        if (c!!.count != 0) {\n            Log.d(\"COUNT\", \"NOT ZERO\")\n        } else {\n            Log.d(\"COUNT 1\", \"ZERO\")\n        }\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n}\n</code></pre>\n\n<p>But I'm geting an exception like,</p>\n\n<pre><code>java.lang.RuntimeException: Unable to instantiate activity ComponentInfo: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.ContentResolver android.content.Context.getContentResolver()' on a null object reference\n</code></pre>\n\n<p>Please help me with this.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1549950419, "post_id": 54643522, "comment_id": 96078435, "body": "Simple just make method for taking url and imageview as parameter and call that method."}, {"owner": {"reputation": 378, "user_id": 7216511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d93c0377ea33c50eb96c151759dedc32?s=128&d=identicon&r=PG&f=1", "display_name": "PJain", "link": "https://stackoverflow.com/users/7216511/pjain"}, "edited": false, "score": 0, "creation_date": 1549950614, "post_id": 54643522, "comment_id": 96079193, "body": "Here <a href=\"https://android.jlelse.eu/loading-images-with-data-binding-and-picasso-555dad683fdc\" rel=\"nofollow noreferrer\">Binding image using bindAdapter</a> is the example for the same, instead of Picasso use glide for your work"}, {"owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "reply_to_user": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1549950642, "post_id": 54643522, "comment_id": 96078498, "body": "@AbhayKoradiya I already have a method to load image to image view. If i do the same for background image, no background image shows up"}, {"owner": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1549950824, "post_id": 54643522, "comment_id": 96078552, "body": "Check @PJain &#39;s Answer."}, {"owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "edited": false, "score": 0, "creation_date": 1549951074, "post_id": 54643522, "comment_id": 96079194, "body": "Here is the binding adapter that I used to load the image coming from url to image view          @BindingAdapter(&quot;ImageUrl&quot;) fun loadImage(view: ImageView, imageUrl:String?) {     Glide.with(view.context)             .load(imageUrl)             .into(view) }"}, {"owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "edited": false, "score": 0, "creation_date": 1549951229, "post_id": 54643522, "comment_id": 96079195, "body": "Now, I need to load background image url as background and when I used similar binding adapter, the background image won&#39;t load. I am not sure but I guess there is difference as image is android:src and background is android:background..can someone help me out?"}, {"owner": {"reputation": 378, "user_id": 7216511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d93c0377ea33c50eb96c151759dedc32?s=128&d=identicon&r=PG&f=1", "display_name": "PJain", "link": "https://stackoverflow.com/users/7216511/pjain"}, "edited": false, "score": 0, "creation_date": 1549951417, "post_id": 54643522, "comment_id": 96079196, "body": "what are you using in imageView?"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1549951730, "post_id": 54643522, "comment_id": 96078871, "body": "You can make a trick to use another imageView as a background of your current imageView. And load image from URL as current image loading functionality. In this way another imageView will be created but its a simple solution."}, {"owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "edited": false, "score": 0, "creation_date": 1549952799, "post_id": 54643522, "comment_id": 96079271, "body": "Could you show me how to do that?"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1549955526, "post_id": 54643522, "comment_id": 96080386, "body": "@humbleDev please check my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "edited": false, "score": 0, "creation_date": 1549964107, "post_id": 54644547, "comment_id": 96085008, "body": "Can you help me using glide and then converting it into bitmap?"}], "tags": [], "owner": {"reputation": 1863, "user_id": 3838901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b60dd0d6855072619355ca3b9e09e1?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Haq", "link": "https://stackoverflow.com/users/3838901/farid-haq"}, "is_accepted": false, "score": 0, "last_activity_date": 1549955264, "creation_date": 1549955264, "answer_id": 54644547, "question_id": 54643522, "link": "https://stackoverflow.com/questions/54643522/how-to-set-image-url-as-background-of-an-imageview-using-data-binding/54644547#54644547", "title": "How to set image url as background of an ImageView using data binding?", "body": "<p>You can try as follows </p>\n\n<pre><code>    try {\n        ImageView i = (ImageView)findViewById(R.id.image);\n        Bitmap bitmap = BitmapFactory.decodeStream((InputStream)new URL(imageUrl).getContent());\n        i.setImageBitmap(bitmap);\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "edited": false, "score": 0, "creation_date": 1549963143, "post_id": 54644598, "comment_id": 96084355, "body": "I liked the idea but it still didn&#39;t work for me. Do you know how I can convert images that are loaded from glide into bitmap in the binding adapter? That will work I guess"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "reply_to_user": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "edited": false, "score": 0, "creation_date": 1549963630, "post_id": 54644598, "comment_id": 96084687, "body": "Why you need to get the image bitmap?"}, {"owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "edited": false, "score": 0, "creation_date": 1549963817, "post_id": 54644598, "comment_id": 96084817, "body": "The solution that you mentioned affects layout performance as we are creating a separate image view just to set background image. Most of the solutions that I saw were converting the glide loaded images into a bitmap object to set background. I am not getting how to write the code for it"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "reply_to_user": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "edited": false, "score": 0, "creation_date": 1549968810, "post_id": 54644598, "comment_id": 96087967, "body": "Basically, the bitmap things work to download the image from URL by data streaming. And then set that bitmap to the image view. That&#39;s it."}], "tags": [], "owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "is_accepted": true, "score": 0, "last_activity_date": 1549955495, "creation_date": 1549955495, "answer_id": 54644598, "question_id": 54643522, "link": "https://stackoverflow.com/questions/54643522/how-to-set-image-url-as-background-of-an-imageview-using-data-binding/54644598#54644598", "title": "How to set image url as background of an ImageView using data binding?", "body": "<p>Try this XML:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/image_view_background\"\n        android:layout_width=\"250dp\"\n        android:layout_height=\"250dp\"\n        android:background=\"@color/colorPrimary\"\n        android:alpha=\"0.4\"\n        app:mainImageUrl=\"@{item.backgroundImageUrl}\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/image_view_main\"\n        android:layout_width=\"230dp\"\n        android:layout_height=\"230dp\"\n        app:mainImageUrl=\"@{item.mainImageUrl}\"\n        android:background=\"@color/colorPrimaryDark\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>For checking purpose I just set the alpha for the background image. </p>\n\n<p>Hope this trick will help you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rZ7nM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rZ7nM.png\" alt=\"enter image description here\"></a> </p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "is_accepted": false, "score": 1, "last_activity_date": 1550058893, "creation_date": 1550058893, "answer_id": 54669612, "question_id": 54643522, "link": "https://stackoverflow.com/questions/54643522/how-to-set-image-url-as-background-of-an-imageview-using-data-binding/54669612#54669612", "title": "How to set image url as background of an ImageView using data binding?", "body": "<p>I used the following Binding Adapter and it's working fine.</p>\n\n<pre><code>@BindingAdapter(\"backgroundImageUrl\")\n fun loadBackgroundImage(view: ImageView, imageUrl:String?)\n{\nGlide.with(view.context).load(imageUrl).into(object:SimpleTarget&lt;Drawable&gt;()\n{\noverride fun onResourceReady(resource: Drawable, transition: Transition&lt;in \nDrawable&gt;?) \n{\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN)\n{\n view.background = resource}\n }\n })\n }\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 10640081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029dd3022f25202cc4cf00a0e0475a40?s=128&d=identicon&r=PG&f=1", "display_name": "krai29", "link": "https://stackoverflow.com/users/10640081/krai29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1861, "favorite_count": 0, "accepted_answer_id": 54644598, "answer_count": 3, "score": 3, "last_activity_date": 1550058893, "creation_date": 1549950183, "last_edit_date": 1549955567, "question_id": 54643522, "link": "https://stackoverflow.com/questions/54643522/how-to-set-image-url-as-background-of-an-imageview-using-data-binding", "title": "How to set image url as background of an ImageView using data binding?", "body": "<p>I am already having a binding adapter to load the image in the ImageView coming from the URL. Now, I need to load background image URL as the background of the Image View and I am using data binding, glide to load images and writing it in Kotlin. </p>\n\n<p>How can I write a binding adapter for the same?</p>\n\n<p>Here is my XML</p>\n\n<pre><code>&lt;androidx.appcompat.widget.AppCompatImageView\n\n        android:id=\"@+id/ImageView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:adjustViewBounds=\"true\"\n        android:scaleType=\"centerInside\"\n        app:backgroundImageUrl=\"@{item.backgroundImageUrl}\"\n        app:mainImageUrl=\"@{item.mainImageUrl}\"/&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "imageview"], "comments": [{"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1549948366, "post_id": 54643205, "comment_id": 96077833, "body": "why dnt you create a xml file for image view and add it to your Linear layout .?"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1549948452, "post_id": 54643205, "comment_id": 96077855, "body": "@AtifAbbAsi For real scenario, the number of images should not be fixed. I just writing a small example for this."}, {"owner": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "edited": false, "score": 0, "creation_date": 1549948934, "post_id": 54643205, "comment_id": 96077980, "body": "Create image instance in for loop and remove that removeView from for loop."}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "reply_to_user": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "edited": false, "score": 0, "creation_date": 1549949127, "post_id": 54643205, "comment_id": 96078024, "body": "@Chirag done,but the images still not showing."}, {"owner": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "edited": false, "score": 0, "creation_date": 1549949189, "post_id": 54643205, "comment_id": 96078046, "body": "What is the orientation of the Linearlayout?"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "reply_to_user": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "edited": false, "score": 0, "creation_date": 1549949333, "post_id": 54643205, "comment_id": 96078086, "body": "@Chirag horizontal"}, {"owner": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "edited": false, "score": 0, "creation_date": 1549949528, "post_id": 54643205, "comment_id": 96078158, "body": "Show me your xml file."}, {"owner": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1549949636, "post_id": 54643205, "comment_id": 96078198, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/188248/discussion-between-chirag-and-john-joe\">continue this discussion in chat</a>."}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1549950416, "post_id": 54643205, "comment_id": 96078433, "body": "@JohnJoe like RecycleView you can use a single layout(for different values) to add as many images as  you want by inflating that layout in your linear layout.?"}], "answers": [{"comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1549950981, "post_id": 54643482, "comment_id": 96078608, "body": "How to increase the image size ?"}, {"owner": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "edited": false, "score": 0, "creation_date": 1549952562, "post_id": 54643482, "comment_id": 96079159, "body": "LinearLayout.LayoutParams(120, 120)"}], "tags": [], "owner": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "is_accepted": true, "score": 0, "last_activity_date": 1549949897, "creation_date": 1549949897, "answer_id": 54643482, "question_id": 54643205, "link": "https://stackoverflow.com/questions/54643205/add-image-dynamically/54643482#54643482", "title": "Add image dynamically", "body": "<p>Please try below code, it is working for me.</p>\n\n<pre><code>for (i in 1..5){\n   val imageView = ImageView(this)\n   imageView.layoutParams = LinearLayout.LayoutParams(80, 60) // value is in pixels\n   imageView.setImageResource(R.mipmap.ic_launcher)\n   linearForImage.addView(imageView)\n}\n</code></pre>\n\n<p>Here is the xml file.</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n\n\n    &lt;LinearLayout\n        android:id=\"@+id/linearForImage\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;&lt;/LinearLayout&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pgYbU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pgYbU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1863, "user_id": 3838901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b60dd0d6855072619355ca3b9e09e1?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Haq", "link": "https://stackoverflow.com/users/3838901/farid-haq"}, "is_accepted": false, "score": 1, "last_activity_date": 1549949921, "creation_date": 1549949921, "answer_id": 54643487, "question_id": 54643205, "link": "https://stackoverflow.com/questions/54643205/add-image-dynamically/54643487#54643487", "title": "Add image dynamically", "body": "<p>You can modify the layout , as follows ...</p>\n\n<p>Example : ( In Java ) </p>\n\n<pre><code>LinearLayout linearForImage = (LinearLayout)findViewById(R.id.imageLayout);\n  for(int i=1;i&lt;6;i++)\n    {\n      ImageView image = new ImageView(this);\n      image.setLayoutParams(new android.view.ViewGroup.LayoutParams(80,60));\n      image.setMaxHeight(20);\n      image.setMaxWidth(20);\n\n      // Adds the view to the layout\n       linearForImage.addView(image);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1847, "user_id": 3568782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/MdYeK.jpg?s=128&g=1", "display_name": "Fer", "link": "https://stackoverflow.com/users/3568782/fer"}, "edited": false, "score": 0, "creation_date": 1588835133, "post_id": 61650980, "comment_id": 109053547, "body": "There is no imageView object in the question."}], "tags": [], "owner": {"reputation": 271, "user_id": 13488408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gLAwF.jpg?s=128&g=1", "display_name": "Sanjib Suna", "link": "https://stackoverflow.com/users/13488408/sanjib-suna"}, "is_accepted": false, "score": 0, "last_activity_date": 1588831505, "creation_date": 1588831505, "answer_id": 61650980, "question_id": 54643205, "link": "https://stackoverflow.com/questions/54643205/add-image-dynamically/61650980#61650980", "title": "Add image dynamically", "body": "<p>set In Image view\nimageView.setImageResource(R.drawable.image)</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user13784482"}, "is_accepted": false, "score": 1, "last_activity_date": 1593926691, "creation_date": 1593926691, "answer_id": 62737148, "question_id": 54643205, "link": "https://stackoverflow.com/questions/54643205/add-image-dynamically/62737148#62737148", "title": "Add image dynamically", "body": "<p>set in view of image</p>\n<pre><code>ivImage.setImageResource(your drawable image)\n</code></pre>\n"}], "owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1246, "favorite_count": 0, "accepted_answer_id": 54643482, "answer_count": 4, "score": 2, "last_activity_date": 1593926691, "creation_date": 1549948288, "question_id": 54643205, "link": "https://stackoverflow.com/questions/54643205/add-image-dynamically", "title": "Add image dynamically", "body": "<p>I trying to add image into <code>LinearLayout</code> (linearForImage) dynamically, but it doesn't work.</p>\n\n<pre><code>val image = ImageView(activity)\n        image.setLayoutParams(LinearLayout.LayoutParams(80, 60))\n\n        for (i in 1..5){\n            linearForImage.removeView(image)\n            image.setImageResource(R.drawable.ic_add)\n            linearForImage.addView(image)\n        }\n</code></pre>\n\n<p>I expect I will get 4 or 5 images in the <code>LinearLayout</code>, but there are no image is set. </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 8429032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd5ef48f9533c75bb570a6173f7ce4e?s=128&d=identicon&r=PG&f=1", "display_name": "androidnewbielearner", "link": "https://stackoverflow.com/users/8429032/androidnewbielearner"}, "edited": false, "score": 0, "creation_date": 1549949528, "post_id": 54643069, "comment_id": 96078159, "body": "added <code>dialogInterface.dismiss()</code> still same"}], "tags": [], "owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1549947458, "creation_date": 1549947458, "answer_id": 54643069, "question_id": 54643011, "link": "https://stackoverflow.com/questions/54643011/android-alertdialog-how-do-i-prevent-the-negative-button-confirm-the-action-once/54643069#54643069", "title": "Android alertdialog how do I prevent the negative button confirm the action once I selected an item from the single choice items", "body": "<p>You are not performing any action on the negative button click.</p>\n\n<p>Please do as below.</p>\n\n<pre><code>.setNegativeButton(getString(R.string.button_no)) { dialogInterface, i-&gt;   \n dialogInterface.dismiss(); \n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22254, "user_id": 4758255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBvf3.jpg?s=128&g=1", "display_name": "\u05d9\u05e9\u05d5 \u05d0\u05d5\u05d4\u05d1 \u05d0\u05d5\u05ea\u05da", "link": "https://stackoverflow.com/users/4758255/%d7%99%d7%a9%d7%95-%d7%90%d7%95%d7%94%d7%91-%d7%90%d7%95%d7%aa%d7%9a"}, "is_accepted": true, "score": 0, "last_activity_date": 1549951022, "creation_date": 1549951022, "answer_id": 54643660, "question_id": 54643011, "link": "https://stackoverflow.com/questions/54643011/android-alertdialog-how-do-i-prevent-the-negative-button-confirm-the-action-once/54643660#54643660", "title": "Android alertdialog how do I prevent the negative button confirm the action once I selected an item from the single choice items", "body": "<p>This is because you always set the language when selecting each item in the following code:</p>\n\n<pre><code>mBuilder.setSingleChoiceItems(listItems, -1) { dialogInterface, i -&gt;\n\n    when (i) {\n        0 -&gt; {\n            setLocale(\"en\")\n        }\n        1 -&gt; {\n            setLocale(\"zh\")\n        }\n\n    }}\n</code></pre>\n\n<p>So, you need to set the locale only when you click the positive button. This can be achieved by using a temporary variable for your locale. Something like this:</p>\n\n<pre><code>private fun showChangeLanguageDialog() {\n    ...\n\n    val temporaryLocale = \"\"\n\n    mBuilder.setSingleChoiceItems(listItems, -1) { dialogInterface, i -&gt;\n\n        when (i) {\n            0 -&gt; {\n                temporaryLocale = \"en\"\n            }\n            1 -&gt; {\n                temporaryLocale = \"zh\"\n            }\n\n        }}.setPositiveButton(getString(R.string.button_ok)) { dialogInterface, i -&gt;\n\n            setLocale(temporaryLocale)\n            recreate()\n            dialogInterface.dismiss()\n\n        }.setNegativeButton(getString(R.string.button_no)) { dialogInterface, i -&gt; }\n\n    val mDialog = mBuilder.create()\n    mDialog.show()\n}\n</code></pre>\n\n<p><strong>Note</strong>: code not yet tested.</p>\n"}], "owner": {"reputation": 121, "user_id": 8429032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd5ef48f9533c75bb570a6173f7ce4e?s=128&d=identicon&r=PG&f=1", "display_name": "androidnewbielearner", "link": "https://stackoverflow.com/users/8429032/androidnewbielearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 54643660, "answer_count": 2, "score": 3, "last_activity_date": 1549956093, "creation_date": 1549947173, "last_edit_date": 1549956093, "question_id": 54643011, "link": "https://stackoverflow.com/questions/54643011/android-alertdialog-how-do-i-prevent-the-negative-button-confirm-the-action-once", "title": "Android alertdialog how do I prevent the negative button confirm the action once I selected an item from the single choice items", "body": "<p>Currently I have created the change language inside the alert dialog with <code>setSingleChoiceItems</code>, <code>setPositiveButton</code> and <code>setNegativeButton</code>. How do I prevent the language change if clicked <code>setNegativeButton</code>?</p>\n\n<pre><code>private fun showChangeLanguageDialog() {\n\n    val listItems = arrayOf(getString(R.string.english), getString(R.string.chinese))\n    val mBuilder = AlertDialog.Builder(this@LoginActivity)\n    mBuilder.setTitle(getString(R.string.choose_language))\n    mBuilder.setCancelable(false)\n    mBuilder.setSingleChoiceItems(listItems, -1) { dialogInterface, i -&gt;\n\n        when (i) {\n            0 -&gt; {\n                setLocale(\"en\")\n            }\n            1 -&gt; {\n                setLocale(\"zh\")\n            }\n\n        }}.setPositiveButton(getString(R.string.button_ok)) { dialogInterface, i -&gt;\n\n            recreate()\n            dialogInterface.dismiss()\n\n        }.setNegativeButton(getString(R.string.button_no)) { dialogInterface, i -&gt; }\n\n    val mDialog = mBuilder.create()\n    mDialog.show()\n}\n</code></pre>\n\n<p>Right now the <code>setPositiveButton</code> is working correctly and I have <code>setCancelable</code> to false, so how do I able to achieve the <code>setNegativeButton</code>? Thanks</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1549956532, "post_id": 54643018, "comment_id": 96080810, "body": "Java or Kotlin? <code>buttons.forEach { it.setBackgroundColor(Color.RED) }</code> and <code>val buttons = listOf(recipeOneButton, recipeTwoFragment, ...)</code>"}, {"owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "reply_to_user": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1549957019, "post_id": 54643018, "comment_id": 96081040, "body": "@ErwinBolwidt i&#39;ve just demonstrated a way .i don&#39;t think java or kotlin would be matter that much .he can easily converted to kotlin as well"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1550045429, "post_id": 54643018, "comment_id": 96121013, "body": "Yes changing it to kotlin wasn&#39;t too hard. Thank you!"}], "tags": [], "owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "is_accepted": true, "score": 1, "last_activity_date": 1549947511, "last_edit_date": 1549947511, "creation_date": 1549947196, "answer_id": 54643018, "question_id": 54642788, "link": "https://stackoverflow.com/questions/54642788/how-do-i-call-more-than-one-function-for-each-case-when-using-a-when-statement/54643018#54643018", "title": "How do I call more than one function for each case when using a &quot;when&quot; statement in Kotlin?", "body": "<p>you can do something like this in <code>when</code> to change background of that button </p>\n\n<pre><code>when (v?.id){\n            R.id.recipeOneButton -&gt; {\n              createRecipeOne() \n              changebackground(id)\n              }\n            R.id.recipeTwoButton -&gt; {\n              createRecipeTwo()\n              changebackground(id)\n               }\n  }\n</code></pre>\n\n<p>in <code>changebackground(id)</code> pass the id of that button for you want to change background .</p>\n\n<p>For changing other buttons background . if you want to reduce the code . you have to do something like this . </p>\n\n<pre><code>private void changeColor(Button[] buttons){\n  for(int x=0; x &lt; buttons.length; x++){\n\n     buttons[x].setBackgroundColor(Color.RED);\n   }\n}\n</code></pre>\n\n<p>but for that , you have to initialise button like this </p>\n\n<pre><code>btns[0] = (Button) findViewById(R.id.recipeOneButton );\nbtns[1] = (Button) findViewById(R.id.recipeTwoButton );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1550007974, "last_edit_date": 1550007974, "creation_date": 1550007657, "answer_id": 54659073, "question_id": 54642788, "link": "https://stackoverflow.com/questions/54642788/how-do-i-call-more-than-one-function-for-each-case-when-using-a-when-statement/54659073#54659073", "title": "How do I call more than one function for each case when using a &quot;when&quot; statement in Kotlin?", "body": "<p>Basically, you need to map button ids to Fragments.</p>\n\n<p>To avoid the redundancy in your functions <code>createRecipeX</code>, you should let your <code>when</code> expression return the proper fragment, rather than calling a function:</p>\n\n<pre><code>override fun onClick(v: View) {\n\n    val fragment = when (v.id) {\n        R.id.recipeOneButton -&gt; RecipeOne()\n        R.id.recipeTwoButton -&gt; RecipeTwo()\n        // ...\n        else -&gt; throw IllegalStateException()\n    }\n\n    val transaction = manager.beginTransaction()\n    transaction.replace(R.id.fragmentHolder, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n\n    // change button background\n}\n</code></pre>\n\n<p>Then you can move all the code that they have in common below the when expression.</p>\n\n<p>If the button background is unique for each button you would do it like this:</p>\n\n<pre><code>val fragment = when (v.id) {\n    R.id.recipeOneButton -&gt; {\n        // change button background to specific color 1\n        RecipeOne()\n    }\n    R.id.recipeTwoButton -&gt; {\n        // change button background to specific color 2\n        RecipeTwo()\n    }\n    // ...\n    else -&gt; throw IllegalStateException()\n}\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 54643018, "answer_count": 2, "score": 2, "last_activity_date": 1550007974, "creation_date": 1549945415, "last_edit_date": 1549956419, "question_id": 54642788, "link": "https://stackoverflow.com/questions/54642788/how-do-i-call-more-than-one-function-for-each-case-when-using-a-when-statement", "title": "How do I call more than one function for each case when using a &quot;when&quot; statement in Kotlin?", "body": "<p>I have a chain of 8 buttons I've positioned as a side menu, where on their right there is a fragment container. Clicking on each button opens a different fragment.</p>\n\n<p>This is done with an onClick listener and a when statement.</p>\n\n<p>What I want to do is that other than changing the fragment in the box, I want the background for each button to change when it is clicked, and return to default when another one is clicked. What is the best way to go around doing that?</p>\n\n<p>Can I call multiple actions for each case in the when statement? Do I need for each button clicked to set its background and the background for the other 7? It seems like too much code.</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), View.OnClickListener {\n    override fun onClick(v: View?) {\n\n            when (v?.id){\n                R.id.recipeOneButton -&gt; createRecipeOne() \n                R.id.recipeTwoButton -&gt; createRecipeTwo()\n                R.id.recipeThreeButton -&gt; createRecipeThree()\n                R.id.recipeFourButton -&gt; createRecipeFour()\n                R.id.recipeFiveButton -&gt; createRecipeFive()\n                R.id.recipeSixButton -&gt; createRecipeSix()\n                R.id.recipeSevenButton -&gt; createRecipeSeven()\n                R.id.recipeEightButton -&gt; createRecipeEight()\n\n        }\n\n    }\n\n    private val manager = this.supportFragmentManager!!\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        createRecipeOne()\n\n        val recipeOneButton : Button = findViewById(R.id.recipeOneButton)\n        val recipeTwoFragment : Button = findViewById(R.id.recipeTwoButton)\n        val recipeThreeButton : Button = findViewById(R.id.recipeThreeButton)\n        val recipeFourButton : Button = findViewById(R.id.recipeFourButton)\n        val recipeFiveButton : Button = findViewById(R.id.recipeFiveButton)\n        val recipeSixButton : Button = findViewById(R.id.recipeSixButton)\n        val recipeSevenButton: Button = findViewById(R.id.recipeSevenButton)\n        val recipeEightButton : Button = findViewById(R.id.recipeEightButton)\n\n        recipeOneButton.setOnClickListener(this)\n        recipeTwoFragment.setOnClickListener(this)\n        recipeThreeButton.setOnClickListener(this)\n        recipeFourButton.setOnClickListener(this)\n        recipeFiveButton.setOnClickListener(this)\n        recipeSixButton.setOnClickListener(this)\n        recipeSevenButton.setOnClickListener(this)\n        recipeEightButton.setOnClickListener(this)\n\n    }\n\n\n    fun createRecipeOne(){\n        val transaction = manager.beginTransaction()\n        val fragment = RecipeOne()\n        transaction.replace(R.id.fragmentHolder, fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createRecipeTwo(){\n        val transaction = manager.beginTransaction()\n        val fragment = RecipeTwo()\n        transaction.replace(R.id.fragmentHolder, fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createRecipeThree(){\n        val transaction = manager.beginTransaction()\n        val fragment = RecipeThree()\n        transaction.replace(R.id.fragmentHolder, fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createRecipeFour(){\n        val transaction = manager.beginTransaction()\n        val fragment = RecipeFour()\n        transaction.replace(R.id.fragmentHolder, fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createRecipeFive(){\n        val transaction = manager.beginTransaction()\n        val fragment = RecipeFive()\n        transaction.replace(R.id.fragmentHolder, fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createRecipeSix(){\n        val transaction = manager.beginTransaction()\n        val fragment = RecipeSix()\n        transaction.replace(R.id.fragmentHolder, fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createRecipeSeven(){\n        val transaction = manager.beginTransaction()\n        val fragment = RecipeSeven()\n        transaction.replace(R.id.fragmentHolder, fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createRecipeEight(){\n        val transaction = manager.beginTransaction()\n        val fragment = RecipeEight()\n        transaction.replace(R.id.fragmentHolder, fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bottom-sheet"], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 10923311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d1b0ea82f01c7841055416eb5c544c?s=128&d=identicon&r=PG&f=1", "display_name": "SQLol", "link": "https://stackoverflow.com/users/10923311/sqlol"}, "edited": false, "score": 2, "creation_date": 1549969438, "post_id": 54643203, "comment_id": 96088306, "body": "Perfect, thank you! Just had to change the findViewbyId argument to com.google.android.material.R.id.design_bottom_sheet as I&#39;m using Androidx"}, {"owner": {"reputation": 488, "user_id": 3298158, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7f316863f75cf8e466ab7e4de3a36360?s=128&d=identicon&r=PG&f=1", "display_name": "Ofcourse", "link": "https://stackoverflow.com/users/3298158/ofcourse"}, "edited": false, "score": 0, "creation_date": 1581083599, "post_id": 54643203, "comment_id": 106321799, "body": "Works for me, just had to give the dialog <code>.xml</code> layout file some minimum height, as I don&#39;t have much content."}, {"owner": {"reputation": 343, "user_id": 3518548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c8c5df3eaca629ee7a889eb5a53ea279?s=128&d=identicon&r=PG", "display_name": "Simon Gomes", "link": "https://stackoverflow.com/users/3518548/simon-gomes"}, "reply_to_user": {"reputation": 187, "user_id": 10923311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d1b0ea82f01c7841055416eb5c544c?s=128&d=identicon&r=PG&f=1", "display_name": "SQLol", "link": "https://stackoverflow.com/users/10923311/sqlol"}, "edited": false, "score": 1, "creation_date": 1583314680, "post_id": 54643203, "comment_id": 107070764, "body": "Worked like a charm, likewise @SQLol had to change it from &quot;R.id.design_bottom_sheet&quot; to &quot;com.google.android.material.R.id.design_bottom_sheet&quot; thanks"}, {"owner": {"reputation": 185, "user_id": 7113477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6c83062d1ed76fba42257e8cb369d1?s=128&d=identicon&r=PG", "display_name": "Jocelin", "link": "https://stackoverflow.com/users/7113477/jocelin"}, "edited": false, "score": 0, "creation_date": 1616489333, "post_id": 54643203, "comment_id": 118011038, "body": "not able to show bottom sheet.             bottomSheetDialogFragment.show(fragmentManager!!, &quot;BottomSheet&quot;) showing error in this line"}], "tags": [], "owner": {"reputation": 737, "user_id": 10715642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QRLDtnm1-IE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ipSlUb1x7ARbIjnOaLC_Y9VX2jNQ/mo/photo.jpg?sz=128", "display_name": "Damon Baker", "link": "https://stackoverflow.com/users/10715642/damon-baker"}, "is_accepted": true, "score": 28, "last_activity_date": 1549948283, "creation_date": 1549948283, "answer_id": 54643203, "question_id": 54641907, "link": "https://stackoverflow.com/questions/54641907/how-to-open-bottomsheetdialogfragment-fully-expanded-in-kotlin/54643203#54643203", "title": "How to open BottomSheetDialogFragment fully expanded in Kotlin?", "body": "<p>You can set the <code>BottomSheetBehavior</code> state by placing this inside \n<code>onViewCreated</code> of your <code>BottomSheetDialogFragment</code>.</p>\n\n<pre><code>dialog.setOnShowListener { dialog -&gt;\n    val d = dialog as BottomSheetDialog\n    val bottomSheet = d.findViewById&lt;View&gt;(R.id.design_bottom_sheet) as FrameLayout\n    val bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet)\n    bottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED\n}\n</code></pre>\n\n<p>You may also want to set the peek height to the height of your dialog to prevent the dialog getting stuck half way when attempting to dismiss it.</p>\n\n<pre><code>bottomSheetBehavior.peekHeight = bottomSheet.height\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 10923311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d1b0ea82f01c7841055416eb5c544c?s=128&d=identicon&r=PG&f=1", "display_name": "SQLol", "link": "https://stackoverflow.com/users/10923311/sqlol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6685, "favorite_count": 0, "accepted_answer_id": 54643203, "answer_count": 1, "score": 9, "last_activity_date": 1549948283, "creation_date": 1549937688, "question_id": 54641907, "link": "https://stackoverflow.com/questions/54641907/how-to-open-bottomsheetdialogfragment-fully-expanded-in-kotlin", "title": "How to open BottomSheetDialogFragment fully expanded in Kotlin?", "body": "<p>I am able to open my BottomSheetDialogFragment with</p>\n\n<pre><code>val bottomSheet = BottomSheetFragment()\nbottomSheet.show(fragmentManager!!, \"BottomSheet\")\n</code></pre>\n\n<p>but it only opens to show half of its content - I would like it to expand on opening to the full height of the screen without having to drag it up.</p>\n\n<p>I have looked around and it seems one way is to set the BottomSheetBehavior state to STATE_EXPANDED, but I have not been able to find a solution on how to do this in Kotlin.</p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 3122596, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002679187840/picture?type=large", "display_name": "Imran khan", "link": "https://stackoverflow.com/users/3122596/imran-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1549944952, "creation_date": 1549944952, "answer_id": 54642729, "question_id": 54641531, "link": "https://stackoverflow.com/questions/54641531/dialog-not-filling-the-whole-window-on-some-devices/54642729#54642729", "title": "Dialog not filling the whole window on some devices", "body": "<p>try this it's will work for you</p>\n\n<pre><code>    WindowManager manager = (WindowManager) \n    getActivity().getSystemService(Activity.WINDOW_SERVICE);\n    int width;\n    width = manager.getDefaultDisplay().getWidth();\n    pauseDialog.getWindow().setBackgroundDrawable(null);\n    WindowManager.LayoutParams lp = new WindowManager.LayoutParams();\n    lp.copyFrom(pauseDialog.getWindow().getAttributes());\n    lp.width = width;\n    lp.gravity = Gravity.CENTER;\n    pauseDialog.getWindow().setAttributes(lp);\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10015729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d56792367f781098f78a2df4a502c2e9?s=128&d=identicon&r=PG&f=1", "display_name": "Jared Bts.", "link": "https://stackoverflow.com/users/10015729/jared-bts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1549953868, "creation_date": 1549934543, "last_edit_date": 1549953868, "question_id": 54641531, "link": "https://stackoverflow.com/questions/54641531/dialog-not-filling-the-whole-window-on-some-devices", "title": "Dialog not filling the whole window on some devices", "body": "<p>While I was fiddling with the <a href=\"https://github.com/google/iosched\" rel=\"nofollow noreferrer\">Google I/O 2018 Android App</a>, I've noticed that on my device (Xiaomi Mi5, Android 7.0) their dialogs dims the whole screen except the (<strong>white</strong>)  statusbar, as shown on screenshot:</p>\n\n<p><img src=\"https://i.imgur.com/m9ILWio.png\" alt=\"screen1\"></p>\n\n<p>It doesn't occur on emulators (tested on 6.0, 7.0, 8.0).</p>\n\n<p>I took a look at view hierarchy and I've noticed that children of the DecorView has his top padding set to 60, while on emulators it was set to 0.</p>\n\n<p><img src=\"https://i.imgur.com/8UZArWc.png\" alt=\"screen2\"> - bounds of this FrameLayout</p>\n\n<p>Here is their implementation of the Dialog:\n<a href=\"https://github.com/google/iosched/blob/master/mobile/src/main/java/com/google/samples/apps/iosched/widget/CustomDimDialog.kt\" rel=\"nofollow noreferrer\">https://github.com/google/iosched/blob/master/mobile/src/main/java/com/google/samples/apps/iosched/widget/CustomDimDialog.kt</a></p>\n\n<pre><code>class CustomDimDialog(context: Context?) : AppCompatDialog(context, R.style.Theme_IOSched_Dialog) {\n\ninit {\n    supportRequestWindowFeature(Window.FEATURE_NO_TITLE)\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    window?.run {\n        // Spread the dialog as large as the screen.\n        clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)\n        addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n        setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT)\n    }\n}\n\noverride fun setContentView(view: View?) {\n    if (view != null) {\n        super.setContentView(wrap(view))\n    }\n}\n\nprivate fun wrap(content: View): View {\n    val res = context.resources\n    val verticalMargin = res.getDimensionPixelSize(R.dimen.dialog_vertical_margin)\n    val horizontalMargin = res.getDimensionPixelSize(R.dimen.dialog_horizontal_margin)\n    return FrameLayout(context).apply {\n        addView(content, FrameLayout.LayoutParams(\n            FrameLayout.LayoutParams.WRAP_CONTENT,\n            FrameLayout.LayoutParams.WRAP_CONTENT\n        ).apply {\n            setMargins(horizontalMargin, verticalMargin, horizontalMargin, verticalMargin)\n            gravity = Gravity.CENTER\n        })\n        val rect = Rect()\n        setOnTouchListener { _, event -&gt;\n            when (event.action) {\n            // The FrameLayout is technically inside the dialog, but we treat it as outside.\n                MotionEvent.ACTION_DOWN -&gt; {\n                    content.getGlobalVisibleRect(rect)\n                    if (!rect.contains(event.x.toInt(), event.y.toInt())) {\n                        cancel()\n                        true\n                    } else {\n                        false\n                    }\n                }\n                else -&gt; {\n                    false\n                }\n            }\n        }\n        background = ColorDrawable(ResourcesCompat.getColor(res, R.color.scrim, context.theme))\n    }\n}\n</code></pre>\n\n<p>Does anyone know how to fix it?</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "resources"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549936804, "post_id": 54641335, "comment_id": 96075240, "body": "What do you mean by programmatically? Both are programmatic. You can&#39;t use the second method for any random filename or path. If there&#39;s a file that isn&#39;t inside your app&#39;s raw folder, you need to use the DocumentsProvider."}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549939818, "post_id": 54641335, "comment_id": 96075824, "body": "I meant in the working case I must set a long list of if statements so that if a string contains the wanted file (all of them are into /Res/raw) then it triggers the right statement with the filename made explicit."}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549939893, "post_id": 54641335, "comment_id": 96075845, "body": "But what I need is to store the chosen filename into a var, getting the identifier then create a media player object that points at the file I need."}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549940016, "post_id": 54641335, "comment_id": 96075872, "body": "I don&#39;t know why the same file is correctly addressed if I call it by its filename (see the main post), but it gives me a IOException of file not found if I try to call it using a variable."}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549940672, "post_id": 54641335, "comment_id": 96076017, "body": "I updated the question trying to make it clearer"}], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 0, "last_activity_date": 1549999244, "creation_date": 1549999244, "answer_id": 54657258, "question_id": 54641335, "link": "https://stackoverflow.com/questions/54641335/why-can-i-getidentifier-of-mp3-file-in-raw-but-not-programmatically-and-how-to-f/54657258#54657258", "title": "Why can I getIdentifier of mp3 file in raw but not programmatically and how to fix it?", "body": "<p>Assuming there is a file <strong>filename.mp3</strong> in the <strong>raw</strong> folder, this is working for me:</p>\n\n<pre><code>var myVarWithFilenameInside = \"filename\"\nvar myFileInt: Int = resources.getIdentifier(myVarWithFilenameInside, \"raw\", this.packageName)\nvar myPlayer: MediaPlayer = MediaPlayer.create(this@YourActivity, myFileInt)\nmyPlayer.start()\n</code></pre>\n"}], "owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 54657258, "answer_count": 1, "score": 0, "last_activity_date": 1549999244, "creation_date": 1549933128, "last_edit_date": 1549940506, "question_id": 54641335, "link": "https://stackoverflow.com/questions/54641335/why-can-i-getidentifier-of-mp3-file-in-raw-but-not-programmatically-and-how-to-f", "title": "Why can I getIdentifier of mp3 file in raw but not programmatically and how to fix it?", "body": "<p>I've started to develop an Android app and I'm very new about this.\nMy app has to read some QR code and at the moment I'm using the zxing library.\nNow I've got some issue into a part of the application that involves playing sounds stored into the /res/raw:</p>\n\n<p>my code sometimes runs.. but most of times it doesn't</p>\n\n<p>I can access some sound files in raw folder with this code:</p>\n\n<pre><code>var myPlayer = MediaPlayer.create(this, R.raw.filename)\n</code></pre>\n\n<p>but not calling the file I need through a variable:</p>\n\n<pre><code>var myVarWithFilenameInside: String = \"filename\"        \nvar myFileInt: Int = resources.getIdentifier(\"$myVarWithFilenameInside\", \"raw\", this.getPackageName())\nvar myPlayer = MediaPlayer.create(this, myFileInt)\n</code></pre>\n\n<p>(even if apparently at \"random\" this seems to occasionally work; it's pretty strange indeed..)</p>\n\n<p>I tried already to not specify the type of variable and also to insert packageName (as suggested by the IDE) instead of this.getPackageName()... However nothing seems to work</p>\n\n<p>PS.\nalso this instruction works perfectly, but again I have to obtain the identifier without using a variable but putting it inside the method manually</p>\n\n<pre><code>var myFileInt: Int = resources.getIdentifier(\"filename\", \"raw\", this.getPackageName())\nvar myPlayer = MediaPlayer.create(this, myFileInt)\n</code></pre>\n\n<p>I've got very stuck with this... So any kind of help will be appreciated\nThanks in advance</p>\n"}, {"tags": ["java", "rest", "http", "kotlin", "unirest"], "comments": [{"owner": {"reputation": 179, "user_id": 10288761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a95925afd69c010789f5f1d50a9d3dd?s=128&d=identicon&r=PG&f=1", "display_name": "Raghav", "link": "https://stackoverflow.com/users/10288761/raghav"}, "edited": false, "score": 1, "creation_date": 1549929746, "post_id": 54640395, "comment_id": 96073726, "body": "Have you explored the following? <code>Unirest.setAsyncHttpClient(asyncHttpClient);</code> and <code>Unirest.setConcurrency(int maxTotal, int maxPerRoute);</code> (where <code>asyncHttpClient</code> is <code>HttpAsyncClient </code>)"}, {"owner": {"reputation": 179, "user_id": 10288761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a95925afd69c010789f5f1d50a9d3dd?s=128&d=identicon&r=PG&f=1", "display_name": "Raghav", "link": "https://stackoverflow.com/users/10288761/raghav"}, "edited": false, "score": 1, "creation_date": 1549930603, "post_id": 54640395, "comment_id": 96073952, "body": "It appears you can also use this: <code>Unirest.post(...).someMethod(...).asJsonAsync(new Callback&lt;JsonNode&gt;() { &#47;&#47;anonymous class });</code>"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1549925850, "creation_date": 1549925850, "question_id": 54640395, "link": "https://stackoverflow.com/questions/54640395/is-there-a-lightweight-rest-client-frameworks-that-allows-parallel-construction", "title": "Is there a lightweight REST client frameworks that allows parallel construction of requests?", "body": "<p>I love <a href=\"http://unirest.io/java.html\" rel=\"nofollow noreferrer\">Unirest</a>, I really do...</p>\n\n<p>Unfortunately, it seems like it isn't very thread-safe.</p>\n\n<p>I tried to parallelize my requests:</p>\n\n<pre><code>runBlocking {\n    for (a in 0..9) async{\n        for (b in 0..9) async{\n            for (c in 0..9) async{\n                if (!found) Unirest.post(targetURL)\n                    .body(String.format(requestTemplate, a, b, c))\n                    .asStringAsync(object : Callback&lt;String&gt; {...})\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and all I achieved was</p>\n\n<pre><code>Feb 11, 2019 11:44:51 PM org.apache.http.impl.nio.client.InternalHttpAsyncClient run\nSEVERE: I/O reactor terminated abnormally\ncom.mashape.unirest.http.exceptions.UnirestException: java.net.ConnectException\n    at com.mashape.unirest.http.HttpClientHelper$1.failed(HttpClientHelper.java:86)\n    at org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:134)\n    at org.apache.http.impl.nio.client.AbstractClientExchangeHandler.failed(AbstractClientExchangeHandler.java:419)\n    at org.apache.http.impl.nio.client.AbstractClientExchangeHandler.connectionRequestFailed(AbstractClientExchangeHandler.java:335)\n    at org.apache.http.impl.nio.client.AbstractClientExchangeHandler.access$100(AbstractClientExchangeHandler.java:62)\n    at org.apache.http.impl.nio.client.AbstractClientExchangeHandler$1.failed(AbstractClientExchangeHandler.java:378)\n    at org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:134)\n    at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager$InternalPoolEntryCallback.failed(PoolingNHttpClientConnectionManager.java:503)\n    at org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:134)\n    at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:170)\n    at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:560)\n    at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:821)\n    at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:182)\n    at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:212)\n    at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:157)\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:350)\n    at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:191)\n    at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.ConnectException\n    ... 10 more\n</code></pre>\n\n<p>The code runs fine without the <code>async</code>s, so I will blame the error on concurrent accesses to resources that are not meant to be concurrently accessed. (If I'm wrong about that, pray do tell.)</p>\n\n<p>Are there client frameworks that are lightweight yet allow for this kind of parallelisation?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 10716457, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4UFjma_n8A/AAAAAAAAAAI/AAAAAAAABOo/HJy0NDrme4w/photo.jpg?sz=128", "display_name": "Martichou", "link": "https://stackoverflow.com/users/10716457/martichou"}, "edited": false, "score": 0, "creation_date": 1549959155, "post_id": 54642861, "comment_id": 96082095, "body": "This &quot;solution&quot; doesn&#39;t fix my issue. Thanks anyway for trying."}], "tags": [], "owner": {"reputation": 200, "user_id": 10202842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b9d358c430a384d2bbd036b168885e?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Haroon", "link": "https://stackoverflow.com/users/10202842/muhammad-haroon"}, "is_accepted": false, "score": 0, "last_activity_date": 1549945979, "creation_date": 1549945979, "answer_id": 54642861, "question_id": 54640305, "link": "https://stackoverflow.com/questions/54640305/recyclerview-dont-retain-my-scrolling-position/54642861#54642861", "title": "Recyclerview don&#39;t retain my scrolling position", "body": "<p>Hi please try this when your are setting your adapater to recyclerview .</p>\n\n<pre><code>val lastFirstVisiblePositon= recyclerview.layoutmanager.findFirstCompletelyVisibleItemPosition();\nrecyclerview.layoutmanager.scrollToPositionWithOffset(lastFirstVisiblePosition, 0);\nlistdapter.notifyDataSetChanged();\nhRecyclerView_OpenOrderListing.setAdapter(listdapter);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 10716457, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4UFjma_n8A/AAAAAAAAAAI/AAAAAAAABOo/HJy0NDrme4w/photo.jpg?sz=128", "display_name": "Martichou", "link": "https://stackoverflow.com/users/10716457/martichou"}, "is_accepted": true, "score": 1, "last_activity_date": 1550179310, "creation_date": 1550179310, "answer_id": 54699233, "question_id": 54640305, "link": "https://stackoverflow.com/questions/54640305/recyclerview-dont-retain-my-scrolling-position/54699233#54699233", "title": "Recyclerview don&#39;t retain my scrolling position", "body": "<p>I fixed it by using ConstraintLayout in my recyclerview item's.\nJust set the aspect ratio to a default of 1:1 and then programatically update this aspect ratio with the aspect ratio of you app in the onBindViewHolder.</p>\n\n<p>Like this:</p>\n\n<h1>XML of the item's RV</h1>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=\"@+id/parentContsraint\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatImageView\n        android:id=\"@+id/show_image_note\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:scaleType=\"centerCrop\"\n        android:contentDescription=\"@string/image_of_your_dedicated_note\"\n        android:transitionName=\"@{String.valueOf(note.id)}\"\n        app:imageFromFile=\"@{note.image}\"\n        app:srcCompat=\"@drawable/pool\"\n        app:layout_constraintDimensionRatio=\"1:1\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n</code></pre>\n\n<h1>And in your Adapter</h1>\n\n<pre><code>with(set) {\n    val posterRatio = String.format(\"%d:%d\", resource.width, resource.height)\n    clone(binding.parentContsraint)\n    setDimensionRatio(binding.showImageNote.id, posterRatio)\n    applyTo(binding.parentContsraint)\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10716457, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4UFjma_n8A/AAAAAAAAAAI/AAAAAAAABOo/HJy0NDrme4w/photo.jpg?sz=128", "display_name": "Martichou", "link": "https://stackoverflow.com/users/10716457/martichou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 54699233, "answer_count": 2, "score": 1, "last_activity_date": 1550179310, "creation_date": 1549925223, "last_edit_date": 1549946125, "question_id": 54640305, "link": "https://stackoverflow.com/questions/54640305/recyclerview-dont-retain-my-scrolling-position", "title": "Recyclerview don&#39;t retain my scrolling position", "body": "<p>I'm building an app with a StaggeredGridLayout.\nBut once I open a details fragment (handled by Navigation Library) and then come back to the main fragment, my scrolled position is lost.</p>\n\n<p>I've already tried to save instance of the recyclerview to apply it back once we reach onResume, but this technique break my sharedelement transition. </p>\n\n<h1>XML of the recyclerview</h1>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\nandroid:id=\"@+id/linear_main\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\napp:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=\"@+id/recentNotesList\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingStart=\"20dp\"\n    android:paddingEnd=\"20dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n&lt;ProgressBar\n    android:id=\"@+id/loading_ui\"\n    android:layout_width=\"75dp\"\n    android:layout_height=\"75dp\"\n    app:bindIsGone=\"@{thisVm.hasNotes}\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;androidx.appcompat.widget.AppCompatImageView\n    android:id=\"@+id/nonethinking\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"0dp\"\n    android:paddingStart=\"20dp\"\n    android:paddingEnd=\"20dp\"\n    android:scaleType=\"fitCenter\"\n    android:src=\"@drawable/thinking\"\n    android:visibility=\"gone\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<h1>HomeMainFragment</h1>\n\n<pre><code>val lm = StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL)\nlm.gapStrategy = StaggeredGridLayoutManager.GAP_HANDLING_NONE\nbinding.recentNotesList.layoutManager = lm\n</code></pre>\n\n<p>Expected results: \nWhen opening an item -> sharedelement transition (this one work)\nWhen closing the opened item -> sharedelement transition</p>\n\n<p>Actual results:\nWhen closing the opened item -> sharedelement transition work only if the image visible when the user hadn't scrolled the recyclerview yet.</p>\n\n<p>I think it has something to do with the scrolled position retaining process. But I wasn't able to make this thing working.</p>\n"}, {"tags": ["java", "gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 1062, "user_id": 5082913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2643625611a7dda0fe37cf1dc9513f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Shreck Ye", "link": "https://stackoverflow.com/users/5082913/shreck-ye"}, "edited": false, "score": 0, "creation_date": 1569689416, "post_id": 54639351, "comment_id": 102680989, "body": "I had the same problem that I couldn&#39;t find the right setting in IntelliJ IDEA to change the target JVM version for Kotlin scripts using pure IDEA project file structure (not Gradle). It seems that it&#39;s 1.6 by default and can&#39;t be changed by now.  However, If you just want the scripts to run normally, you can bring down all such settings to 6 or 1.6, since the bytecode version doesn&#39;t actually affect the program logic or what Kotlin APIs you use. This works for me."}], "answers": [{"comments": [{"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 1, "creation_date": 1549923304, "post_id": 54639936, "comment_id": 96071861, "body": "Afraid that doesn&#39;t change anything."}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "reply_to_user": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1549923669, "post_id": 54639936, "comment_id": 96071978, "body": "Did you try this answer <a href=\"https://stackoverflow.com/a/48607469/9060113\">stackoverflow.com/a/48607469/9060113</a>? (also see to comments)"}, {"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1549923762, "post_id": 54639936, "comment_id": 96072011, "body": "Yes ...tried everything I mentioned in the post above."}], "tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": false, "score": 5, "last_activity_date": 1549923106, "creation_date": 1549923106, "answer_id": 54639936, "question_id": 54639351, "link": "https://stackoverflow.com/questions/54639351/intellij-refuses-to-set-the-kotlin-target-jvm-to-1-8/54639936#54639936", "title": "Intellij refuses to set the Kotlin target jvm to 1.8?", "body": "<p>Add <code>sourceCompatibility</code> and <code>targetCompatibility</code> for Java 1.8:</p>\n\n<pre><code>plugins {\n  id 'org.jetbrains.kotlin.jvm' version '1.3.0'\n}\n\ngroup 'foo'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n  mavenCentral()\n}\n\n// Add compatibility\nsourceCompatibility = JavaVersion.VERSION_1_8\ntargetCompatibility = JavaVersion.VERSION_1_8\n\n\ndependencies {\n  //kotlin\n  implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n  implementation \"org.jetbrains.kotlin:kotlin-script-runtime:1.3.0\"\n\n  //networking\n  implementation 'com.mashape.unirest:unirest-java:1.4.9'\n}\n\ncompileKotlin {\n  kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n  kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1549952991, "post_id": 54640594, "comment_id": 96079329, "body": "Did try ... no change. :( Thanks, though."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1549927262, "creation_date": 1549927262, "answer_id": 54640594, "question_id": 54639351, "link": "https://stackoverflow.com/questions/54639351/intellij-refuses-to-set-the-kotlin-target-jvm-to-1-8/54640594#54640594", "title": "Intellij refuses to set the Kotlin target jvm to 1.8?", "body": "<p>Since compilation tasks are generated for all relevant configurations it is likely that just changing <code>compileKotlin</code> and <code>compileTestKotlin</code> isn't enough.</p>\n\n<p>Try using task filtering to configure all <code>KotlinCompile</code> task instances:</p>\n\n<pre><code>tasks.withType(KotlinCompile) {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2035, "user_id": 2114786, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/PmucQ.png?s=128&g=1", "display_name": "O.Badr", "link": "https://stackoverflow.com/users/2114786/o-badr"}, "edited": false, "score": 1, "creation_date": 1597360841, "post_id": 56055847, "comment_id": 112115410, "body": "Don&#39;t forget to <code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile</code>"}], "tags": [], "owner": {"reputation": 31, "user_id": 11474623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ee030b39e152d1d881f5a7eefa60423?s=128&d=identicon&r=PG&f=1", "display_name": "Golvanig", "link": "https://stackoverflow.com/users/11474623/golvanig"}, "is_accepted": false, "score": 3, "last_activity_date": 1557393322, "last_edit_date": 1557393322, "creation_date": 1557392483, "answer_id": 56055847, "question_id": 54639351, "link": "https://stackoverflow.com/questions/54639351/intellij-refuses-to-set-the-kotlin-target-jvm-to-1-8/56055847#56055847", "title": "Intellij refuses to set the Kotlin target jvm to 1.8?", "body": "<p>With <code>.kts</code> just use this:  </p>\n\n<pre><code>tasks {\n    withType&lt;KotlinCompile&gt; {\n        kotlinOptions.jvmTarget = \"1.8\"\n    }\n}\n\n// I am using latest dsl and gradle \nval kotlinVersion = \"1.3.30\"\nval gradleVersion = \"5.4+\"\n</code></pre>\n"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5569, "favorite_count": 3, "answer_count": 3, "score": 12, "last_activity_date": 1557393322, "creation_date": 1549920159, "question_id": 54639351, "link": "https://stackoverflow.com/questions/54639351/intellij-refuses-to-set-the-kotlin-target-jvm-to-1-8", "title": "Intellij refuses to set the Kotlin target jvm to 1.8?", "body": "<pre><code>ParallelStreams.kts:41:15: error: calls to static methods in Java interfaces are prohibited in JVM target 1.6. Recompile with '-jvm-target 1.8'\nIntStream.range(0,10).parallel().forEach{a -&gt;\n         ^\n</code></pre>\n\n<p>Ok ... I'm  not trying to compile for 1.6.</p>\n\n<p><code>File &gt; Project Structure &gt; Project</code> has project sdk <code>1.8</code> and language level <code>8</code>.</p>\n\n<p><code>File &gt; Project Structure &gt; Modules &gt; Kotlin</code> has target platform: <code>JVM 1.8</code>.</p>\n\n<p><code>File &gt; Project Structure &gt; Facets &gt; Kotlin</code> has target platform: <code>JVM 1.8</code>.</p>\n\n<p><code>File &gt; Settings &gt; Compiler &gt; Kotlin Compiler</code> has target jvm version <code>1.8</code>.</p>\n\n<p>My gradle build file ...</p>\n\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.3.0'\n}\n\ngroup 'foo'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    //kotlin\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    implementation \"org.jetbrains.kotlin:kotlin-script-runtime:1.3.0\"\n\n    //networking\n    implementation 'com.mashape.unirest:unirest-java:1.4.9'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>I'm running out of places to check for <code>1.8</code>.</p>\n\n<p>And yes, I <strong><em>have</em></strong> tried invalidating the cache and restarting Intellij. It does nothing to resolve this issue.</p>\n"}]