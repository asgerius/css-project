[{"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "edited": false, "score": 0, "creation_date": 1563407227, "post_id": 57085320, "comment_id": 100693640, "body": "Can&#39;t you just do <code>var fos: FileOutputStream? = null</code>? Or am I missing something here?"}, {"owner": {"reputation": 9, "user_id": 11800067, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219835329013589/picture?type=large", "display_name": "Shibin Fan", "link": "https://stackoverflow.com/users/11800067/shibin-fan"}, "reply_to_user": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "edited": false, "score": 0, "creation_date": 1563407542, "post_id": 57085320, "comment_id": 100693697, "body": "Yes, it works :-), together with &quot;fos?.write(something)&quot;, without &quot;?&quot; the compiler complains. Thank you."}, {"owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "edited": false, "score": 0, "creation_date": 1563407773, "post_id": 57085320, "comment_id": 100693748, "body": "ok, great. In that case I&#39;ve turned it into an answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1563408087, "post_id": 57085320, "comment_id": 100693805, "body": "Depending on what happens after the code, you may also consider <code>lateinit var fos: FileOutputStream</code>"}, {"owner": {"reputation": 306, "user_id": 3868994, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2e39f23899364e3fc9d620d3b7c9b977?s=128&d=identicon&r=PG&f=1", "display_name": "JsonSong", "link": "https://stackoverflow.com/users/3868994/jsonsong"}, "edited": false, "score": 0, "creation_date": 1563429313, "post_id": 57085320, "comment_id": 100698228, "body": "most of the time,this&#39;s bad smell to use var  in kotlin. maybe you can use val fos = list.find{condition}?.also{FileOutputStream(it.filename)}"}], "answers": [{"tags": [], "owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "is_accepted": false, "score": 2, "last_activity_date": 1563407789, "creation_date": 1563407789, "answer_id": 57085395, "question_id": 57085320, "link": "https://stackoverflow.com/questions/57085320/how-to-convert-this-java-code-with-null-condition-check-into-kotlin/57085395#57085395", "title": "How to convert this java code with null condition check into Kotlin", "body": "<p>The problem with:</p>\n\n<pre><code>var fos: FileOutputStream?;\n</code></pre>\n\n<p>...is that you're not initialising it to anything. (Java would complain about an uninitialised type in the same way.)</p>\n\n<p>You can trivially initialise it to null:</p>\n\n<pre><code>var fos: FileOutputStream? = null\n</code></pre>\n\n<p>As you discovered in the comment, you'll need to make sure you use <code>fos?.write()</code> rather than <code>fos.write()</code> to satisfy <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Kotlin's null safety features</a>.</p>\n"}], "owner": {"reputation": 9, "user_id": 11800067, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219835329013589/picture?type=large", "display_name": "Shibin Fan", "link": "https://stackoverflow.com/users/11800067/shibin-fan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563408029, "creation_date": 1563407046, "last_edit_date": 1563408029, "question_id": 57085320, "link": "https://stackoverflow.com/questions/57085320/how-to-convert-this-java-code-with-null-condition-check-into-kotlin", "title": "How to convert this java code with null condition check into Kotlin", "body": "<p>Recently I'm trying to convert a Java code snippet into Kotlin. I have a special need in this code to only initialize an object when some condition is met, and I don't what to get the side-effect of this initialization (getting an empty new file) if there is no need to initialize it. \nHowever Kotlin doesn't allow for no initialization. \nAnyone has any idea to solve this? Thanks</p>\n\n<h1>Java code</h1>\n\n<pre><code>FileOutputStream fos = null;\nfor (...) {\n    if (condition met) {\n        if (fos == null) {\n            fos = new FileOutputStream(filename);\n        }\n        fos.write(something);\n    }\n}\n</code></pre>\n\n<h1>Kotlin code I've tried:</h1>\n\n<pre><code>var fos: FileOutputStream?;\nfor (...) {\n    if (condition met) {\n        if (fos == null) { // compiler error: not initialized\n            fos = FileOutputStream(filename);\n        }\n    }\n    fos.write(something)\n}  \n</code></pre>\n\n<h1>Also this</h1>\n\n<pre><code>var fosCreated: Boolean = false;\nvar fos: FileOutputStream?;\nfor (...) {\n    if (condition met) {\n        if (!fosCreated) { // compiler error: not initialized\n        fos = FileOutputStream(filename);\n        fosCreated = true;\n    }\n    fos.write(something)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-paging", "android-paging-library"], "comments": [{"owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "edited": false, "score": 0, "creation_date": 1568393966, "post_id": 57084871, "comment_id": 102272894, "body": "Did you ever figure this out?"}, {"owner": {"reputation": 1048, "user_id": 629981, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8045a03a60156e2c276d14caef09b7ea?s=128&d=identicon&r=PG", "display_name": "Droidme", "link": "https://stackoverflow.com/users/629981/droidme"}, "reply_to_user": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "edited": false, "score": 0, "creation_date": 1572328943, "post_id": 57084871, "comment_id": 103515949, "body": "Yes. I had some typo in my factory which was not firing the data source"}], "owner": {"reputation": 1048, "user_id": 629981, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8045a03a60156e2c276d14caef09b7ea?s=128&d=identicon&r=PG", "display_name": "Droidme", "link": "https://stackoverflow.com/users/629981/droidme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563403328, "creation_date": 1563403328, "question_id": 57084871, "link": "https://stackoverflow.com/questions/57084871/android-pagekeyed-datasource-not-getting-called", "title": "Android pageKeyed datasource not getting called", "body": "<p>I am trying to achieve paging in my app using android paging library.But I am stuck in one place. The dataSource is not getting created from the factory. Snippet below. </p>\n\n<pre><code>private fun getLivePagedListBuilder(queryString: String): LivePagedListBuilder&lt;Int, News&gt; {\n\n        val dataSourceFactory = object : DataSource.Factory&lt;Int, News&gt;() {\n            override fun create(): DataSource&lt;Int, News&gt; {\n                return NewsDataSource(queryString)\n            }\n        }\n        return LivePagedListBuilder(dataSourceFactory, config)\n    }\n</code></pre>\n\n<p>1. The create method is not getting called. So the return inside tht method not firing.</p>\n\n<p>My DataSource</p>\n\n<pre><code>class NewsDataSource(val searchQuery: String) : PageKeyedDataSource&lt;Int, News&gt;() {\n        override fun loadInitial(params: LoadInitialParams&lt;Int&gt;, callback: LoadInitialCallback&lt;Int, News&gt;) {\n            api.searchNews(searchQuery, Constants.perPageLimit, 1)\n                .enqueue(object : Callback&lt;NewsResponse&gt; {\n                    override fun onFailure(call: Call&lt;NewsResponse&gt;, t: Throwable) {\n                        Log.d(\"TAG1\", \"Failure\")\n                    }\n\n                    override fun onResponse(call: Call&lt;NewsResponse&gt;, response: Response&lt;NewsResponse&gt;) {\n                        callback.onResult(response.body()?.news, response.body()?.page - 1, response.body()?.page + 1)\n                    }\n                })\n        }\n    }\n</code></pre>\n\n<p>The API returns the page number and I am planning to load the next page when the scroll ends</p>\n\n<ol start=\"2\">\n<li>What determines the datatype of the Key in <code>DataSource.Factory&lt;Int, News&gt;()</code></li>\n</ol>\n\n<p>I am really stuck on this :(</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 2436089, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9ce5bd6cc30a86908f09ab70b8e47eb?s=128&d=identicon&r=PG", "display_name": "Anas Reza", "link": "https://stackoverflow.com/users/2436089/anas-reza"}, "edited": false, "score": 0, "creation_date": 1563443434, "post_id": 57084766, "comment_id": 100705143, "body": "It giving me an error at the line @Query that is  A type annotation is required on a value parameter"}, {"owner": {"reputation": 474, "user_id": 2436089, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9ce5bd6cc30a86908f09ab70b8e47eb?s=128&d=identicon&r=PG", "display_name": "Anas Reza", "link": "https://stackoverflow.com/users/2436089/anas-reza"}, "edited": false, "score": 0, "creation_date": 1563443852, "post_id": 57084766, "comment_id": 100705420, "body": "Thanks, it&#39;s working but I got an error somewhere else I will show you      uniService.viewEvent().enqueue(object : Callback&lt;List&lt;UniResponse&gt;&gt;  This is the part where I am waiting for response but at viewEvent() it showing error that NO VALUE PASSED FOR PARAMETER &#39;country&#39;"}, {"owner": {"reputation": 642, "user_id": 11797134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c82bcfc911c38beab6429e500499860?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/11797134/alex"}, "reply_to_user": {"reputation": 474, "user_id": 2436089, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9ce5bd6cc30a86908f09ab70b8e47eb?s=128&d=identicon&r=PG", "display_name": "Anas Reza", "link": "https://stackoverflow.com/users/2436089/anas-reza"}, "edited": false, "score": 0, "creation_date": 1563444297, "post_id": 57084766, "comment_id": 100705705, "body": "Well you need to set a country (String) in viewEvent function."}, {"owner": {"reputation": 474, "user_id": 2436089, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9ce5bd6cc30a86908f09ab70b8e47eb?s=128&d=identicon&r=PG", "display_name": "Anas Reza", "link": "https://stackoverflow.com/users/2436089/anas-reza"}, "edited": false, "score": 0, "creation_date": 1563444671, "post_id": 57084766, "comment_id": 100705909, "body": "Thanks that is fixed but I got one more problem, can you help me in that please.  Now I am getting an error from retrofit that is Expected BEGIN_ARRAY but was NUMBER at path $ even though I have changed my response data structure to INT but it is giving me same error."}, {"owner": {"reputation": 642, "user_id": 11797134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c82bcfc911c38beab6429e500499860?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/11797134/alex"}, "reply_to_user": {"reputation": 474, "user_id": 2436089, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9ce5bd6cc30a86908f09ab70b8e47eb?s=128&d=identicon&r=PG", "display_name": "Anas Reza", "link": "https://stackoverflow.com/users/2436089/anas-reza"}, "edited": false, "score": 0, "creation_date": 1563445185, "post_id": 57084766, "comment_id": 100706177, "body": "I think you have a parsing error. Try getting an example response and use some online tool to make a data class for your response."}, {"owner": {"reputation": 474, "user_id": 2436089, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9ce5bd6cc30a86908f09ab70b8e47eb?s=128&d=identicon&r=PG", "display_name": "Anas Reza", "link": "https://stackoverflow.com/users/2436089/anas-reza"}, "edited": false, "score": 0, "creation_date": 1563446094, "post_id": 57084766, "comment_id": 100706630, "body": "Before using this way ou just suggested me I was using hardcoded url, so it was working fine but after changing now it is giving this error."}, {"owner": {"reputation": 642, "user_id": 11797134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c82bcfc911c38beab6429e500499860?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/11797134/alex"}, "reply_to_user": {"reputation": 474, "user_id": 2436089, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9ce5bd6cc30a86908f09ab70b8e47eb?s=128&d=identicon&r=PG", "display_name": "Anas Reza", "link": "https://stackoverflow.com/users/2436089/anas-reza"}, "edited": false, "score": 0, "creation_date": 1563453176, "post_id": 57084766, "comment_id": 100710478, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/196629/discussion-between-alex-and-anas-reza\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 642, "user_id": 11797134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c82bcfc911c38beab6429e500499860?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/11797134/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1563450185, "last_edit_date": 1563450185, "creation_date": 1563402446, "answer_id": 57084766, "question_id": 57084667, "link": "https://stackoverflow.com/questions/57084667/retrofit2-get-annotations-dynamic-url/57084766#57084766", "title": "Retrofit2 GET annotations dynamic url", "body": "<p>You have to add a special @Query annotation.</p>\n\n<p>So you should do it like this:</p>\n\n<pre><code>class UniSearchModel(private val country:String) {\n\n  interface UniServices {\n\n     @GET(\"get_uni_of_country.php\")\n\n     fun viewEvent(@Query(\"country\")  country: String): Call&lt;List&lt;UniResponse&gt;&gt;\n\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 474, "user_id": 2436089, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9ce5bd6cc30a86908f09ab70b8e47eb?s=128&d=identicon&r=PG", "display_name": "Anas Reza", "link": "https://stackoverflow.com/users/2436089/anas-reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563450185, "creation_date": 1563401747, "question_id": 57084667, "link": "https://stackoverflow.com/questions/57084667/retrofit2-get-annotations-dynamic-url", "title": "Retrofit2 GET annotations dynamic url", "body": "<p>I need help as I have experience in Android Development with Java language and I have a little bit of experience in Kotlin. I am stuck on a code where I am using the retrofit library and for communication with the server and I want to add the variable in the GET annotation of the retrofit from the constructor of the class but I couldn't do it, so please help me in this.</p>\n\n<p>I will show my code below:</p>\n\n<pre><code>class UniSearchModel(private val country:String) {\n\ninterface UniServices {\n    @GET(\"get_uni_of_country.php?country=$country\")\n    fun viewEvent(): Call&lt;List&lt;UniResponse&gt;&gt;\n\n  }\n}\n</code></pre>\n\n<p>Now what I want to do is that I want to add this country variable from the constructor into this annotation to make it dynamic URL but it gives me two error:</p>\n\n<ol>\n<li>An annotation argument must be compile-time constant.</li>\n<li>Unresolved reference: country</li>\n</ol>\n"}, {"tags": ["android", "kotlin", "android-permissions", "android-alertdialog"], "comments": [{"owner": {"reputation": 1655, "user_id": 10589041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gdQW.png?s=128&g=1", "display_name": "Ishaan Javali", "link": "https://stackoverflow.com/users/10589041/ishaan-javali"}, "edited": false, "score": 0, "creation_date": 1563396946, "post_id": 57083901, "comment_id": 100690966, "body": "So when do you want the <code>Dialog</code> to appear?"}, {"owner": {"reputation": 47, "user_id": 11799644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f02cedb08d63a88562b12be2f07e38?s=128&d=identicon&r=PG&f=1", "display_name": "blankpage", "link": "https://stackoverflow.com/users/11799644/blankpage"}, "reply_to_user": {"reputation": 1655, "user_id": 10589041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gdQW.png?s=128&g=1", "display_name": "Ishaan Javali", "link": "https://stackoverflow.com/users/10589041/ishaan-javali"}, "edited": false, "score": 0, "creation_date": 1563397044, "post_id": 57083901, "comment_id": 100690995, "body": "I want it to appear if the permission request was denied."}, {"owner": {"reputation": 1655, "user_id": 10589041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gdQW.png?s=128&g=1", "display_name": "Ishaan Javali", "link": "https://stackoverflow.com/users/10589041/ishaan-javali"}, "edited": false, "score": 0, "creation_date": 1563397116, "post_id": 57083901, "comment_id": 100691017, "body": "So you don&#39;t want it to appear immediately if they haven&#39;t given permission. You want the Permission box to appear. Then if they click deny in the Permission box, you make the <code>Dialog</code>? Is that right?"}, {"owner": {"reputation": 47, "user_id": 11799644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f02cedb08d63a88562b12be2f07e38?s=128&d=identicon&r=PG&f=1", "display_name": "blankpage", "link": "https://stackoverflow.com/users/11799644/blankpage"}, "reply_to_user": {"reputation": 1655, "user_id": 10589041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gdQW.png?s=128&g=1", "display_name": "Ishaan Javali", "link": "https://stackoverflow.com/users/10589041/ishaan-javali"}, "edited": false, "score": 0, "creation_date": 1563397241, "post_id": 57083901, "comment_id": 100691069, "body": "Yes that is exactly what I want."}, {"owner": {"reputation": 1655, "user_id": 10589041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gdQW.png?s=128&g=1", "display_name": "Ishaan Javali", "link": "https://stackoverflow.com/users/10589041/ishaan-javali"}, "edited": false, "score": 0, "creation_date": 1563397421, "post_id": 57083901, "comment_id": 100691116, "body": "Ok so what you have to do is take out your code for making the <code>Dialog</code> and have that code run when the user clicks <b>DENY</b>. In order to do that, you would have to detect whether or not they have accepted or granted the permission after showing them the permission box."}, {"owner": {"reputation": 47, "user_id": 11799644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f02cedb08d63a88562b12be2f07e38?s=128&d=identicon&r=PG&f=1", "display_name": "blankpage", "link": "https://stackoverflow.com/users/11799644/blankpage"}, "reply_to_user": {"reputation": 1655, "user_id": 10589041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gdQW.png?s=128&g=1", "display_name": "Ishaan Javali", "link": "https://stackoverflow.com/users/10589041/ishaan-javali"}, "edited": false, "score": 0, "creation_date": 1563397529, "post_id": 57083901, "comment_id": 100691159, "body": "But that&#39;s what the second <code>if(!checkpermission())</code> is supposed to do"}, {"owner": {"reputation": 1655, "user_id": 10589041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gdQW.png?s=128&g=1", "display_name": "Ishaan Javali", "link": "https://stackoverflow.com/users/10589041/ishaan-javali"}, "edited": false, "score": 0, "creation_date": 1563397551, "post_id": 57083901, "comment_id": 100691166, "body": "I&#39;m currently writing an answer to your question."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 11799644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f02cedb08d63a88562b12be2f07e38?s=128&d=identicon&r=PG&f=1", "display_name": "blankpage", "link": "https://stackoverflow.com/users/11799644/blankpage"}, "edited": false, "score": 0, "creation_date": 1563400008, "post_id": 57084101, "comment_id": 100692014, "body": "Thank you! This worked for me, with a few modifications: <a href=\"https://pastebin.com/raw/bGH1Xw6N\" rel=\"nofollow noreferrer\">pastebin.com/raw/bGH1Xw6N</a>"}], "tags": [], "owner": {"reputation": 1655, "user_id": 10589041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gdQW.png?s=128&g=1", "display_name": "Ishaan Javali", "link": "https://stackoverflow.com/users/10589041/ishaan-javali"}, "is_accepted": true, "score": 0, "last_activity_date": 1563400637, "last_edit_date": 1563400637, "creation_date": 1563397830, "answer_id": 57084101, "question_id": 57083901, "link": "https://stackoverflow.com/questions/57083901/alertdialogbox-showing-even-though-never-called-kotlin-android/57084101#57084101", "title": "AlertDialogBox showing even though never called kotlin android", "body": "<p>The reason that the <code>Dialog</code> appears immediately is because you are checking whether to create it or not after requesting the permission.</p>\n\n<p>The second <code>if (!checkPermission())</code> doesn't make a difference because the permission change does not happen instantaneously. You can try the following steps:</p>\n\n<ol>\n<li><strong>Remove the code to make your <code>Dialog</code> in <code>setUpPermissions()</code>.</strong></li>\n<li><p><strong>Copy and paste the code below:</strong></p>\n\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (!checkPermission()) {\n        toast(\"Permissions not granted\")\n\n        val builder = AlertDialog.Builder(this@MainActivity)\n        builder.setTitle(\"Permissions were denied.\")\n        builder.setMessage(\"You must allow MyApp access to your files to continue.\\n\\nNote: If you clicked \\\"Don't ask again,\\\" you'll have to enable the permission in settings\")\n        builder.setPositiveButton(\"OK\") { dialog, which -&gt;\n            setupPermissions()\n        }\n        builder.setNeutralButton(\"EXIT\") { _, _ -&gt;\n            Toast.makeText(applicationContext, \"You cancelled the dialog.\", Toast.LENGTH_SHORT).show()\n        }\n        val dialog: AlertDialog = builder.create()\n        dialog.show()\n    }\n    else{\n        toast(\"Permissions granted\")\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>What this should do is after the result of the <code>requestPermission()</code> has taken place, it should check the permission. Then, if it was not granted, it will make the <code>Dialog</code>.</p>\n\n<p>Let me know if this works or if you run into any errors since I didn't get to test it myself.</p>\n"}], "owner": {"reputation": 47, "user_id": 11799644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f02cedb08d63a88562b12be2f07e38?s=128&d=identicon&r=PG&f=1", "display_name": "blankpage", "link": "https://stackoverflow.com/users/11799644/blankpage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 57084101, "answer_count": 1, "score": 0, "last_activity_date": 1563400637, "creation_date": 1563396649, "question_id": 57083901, "link": "https://stackoverflow.com/questions/57083901/alertdialogbox-showing-even-though-never-called-kotlin-android", "title": "AlertDialogBox showing even though never called kotlin android", "body": "<p>I'm making an android app, and requesting permission to read storage. </p>\n\n<p>Here is the code to request the permission:</p>\n\n<pre><code>private fun checkPermission():Boolean {\n        return checkSelfPermission(this, READ_EXTERNAL_STORAGE) == PERMISSION_GRANTED\n}\n\nprivate fun toast(text: String){\n    Toast.makeText(applicationContext, text, Toast.LENGTH_LONG).show()\n\n}\nprivate fun setupPermissions() {\n    if (!checkPermission()) {\n        var requestCode = 7\n        requestPermissions(this, arrayOf(READ_EXTERNAL_STORAGE), requestCode)\n        if (!checkPermission()) {\n            toast(\"Permissions not granted\")\n\n            val builder = AlertDialog.Builder(this@MainActivity)\n            builder.setTitle(\"Permissions were denied.\")\n            builder.setMessage(\"You must allow MyApp access to your files to continue.\\n\\nNote: If you clicked \\\"Don't ask again,\\\" you'll have to enable the permission in settings\")\n            builder.setPositiveButton(\"OK\") { dialog, which -&gt;\n                setupPermissions()\n            }\n            builder.setNeutralButton(\"EXIT\") { _, _ -&gt;\n                Toast.makeText(applicationContext, \"You cancelled the dialog.\", Toast.LENGTH_SHORT).show()\n            }\n            val dialog: AlertDialog = builder.create()\n            dialog.show()\n        }\n        else{\n            toast(\"Permissions granted\")\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>The problem is that it requests the permissions, but you can see the AlertDialog box under it, even though it shouldn't have been called yet:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4CM52.jpg\" rel=\"nofollow noreferrer\">Screenshot of app when it launches</a>\n(It says \"Don't ask again\" because I've tried it multiple times)</p>\n\n<p>It seems like it's running <code>requestPermissions(this, arrayOf(READ_EXTERNAL_STORAGE), requestCode)</code>, and without waiting for the user to select Allow or Deny, it shows the dialog box.</p>\n\n<p>Why is this happening? Any help is appreciated, as I am new to kotlin</p>\n"}, {"tags": ["spring", "spring-boot", "google-app-engine", "kotlin", "oauth-2.0"], "answers": [{"tags": [], "owner": {"reputation": 19277, "user_id": 383087, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/J4W5G.jpg?s=128&g=1", "display_name": "Evgeni Dimitrov", "link": "https://stackoverflow.com/users/383087/evgeni-dimitrov"}, "is_accepted": false, "score": 0, "last_activity_date": 1563532174, "creation_date": 1563532174, "answer_id": 57110502, "question_id": 57083231, "link": "https://stackoverflow.com/questions/57083231/spring-boot-oauth-client-does-not-work-on-google-app-engine/57110502#57110502", "title": "Spring Boot Oauth client does not work on Google App Engine", "body": "<p>The problem turned out to be in the multiple instances created by the App Engine and the fact that my application does not work properly with multiple instances. With the current setup the login information is stored in the session of the server, so with multiple instances the load-balancer can send you to an instance that does not have an active session.</p>\n\n<p>I've added:</p>\n\n<pre><code>manual_scaling:\n  instances: 1\n</code></pre>\n\n<p>to the <code>app.yaml</code> and it works OK.</p>\n\n<p>Obviously the proper fix is to make the application stateless. Update on this is pending... </p>\n"}], "owner": {"reputation": 19277, "user_id": 383087, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/J4W5G.jpg?s=128&g=1", "display_name": "Evgeni Dimitrov", "link": "https://stackoverflow.com/users/383087/evgeni-dimitrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563532174, "creation_date": 1563393223, "last_edit_date": 1563393557, "question_id": 57083231, "link": "https://stackoverflow.com/questions/57083231/spring-boot-oauth-client-does-not-work-on-google-app-engine", "title": "Spring Boot Oauth client does not work on Google App Engine", "body": "<p>I have the minimal working example of <code>spring-boot-starter-oauth2-client</code></p>\n\n<ol>\n<li>pom.xml</li>\n</ol>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>SecurityConfig</li>\n</ol>\n\n<pre><code>@Configuration\nclass SecurityConfig : WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http.authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2Login()\n    }\n\n    override fun configure(web: WebSecurity?) {\n        web?.ignoring()?.mvcMatchers(\"/actuator/health\")\n    }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>UserController</li>\n</ol>\n\n<pre><code>@RestController\n@RequestMapping(\"/user\")\nclass UserController {\n    @GetMapping\n    fun user(principal: Principal) : Principal {\n        return principal\n    }\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>application.properties</li>\n</ol>\n\n<pre><code>spring.security.oauth2.client.registration.google.client-id=&lt;client id&gt;\nspring.security.oauth2.client.registration.google.client-secret=&lt;client secret&gt;\n</code></pre>\n\n<ol start=\"5\">\n<li>Google Cloud Platform configuration</li>\n</ol>\n\n<p><code>APIs &amp; Services -&gt; Credentials -&gt; Oauth consent screen -&gt; Authorized domains</code> - has the dmain on my application (<code>&lt;service&gt;-dot-&lt;project&gt;.appspot.com</code>)</p>\n\n<p><code>APIs &amp; Services -&gt; Credentials -&gt; OAuth 2.0 client IDs</code> - I have a Client id with:</p>\n\n<p><code>Authorized redirect URIs</code></p>\n\n<ul>\n<li><code>http://localhost:8080/login/oauth2/code/google</code></li>\n<li><p><code>http://&lt;service&gt;-dot-&lt;project&gt;.appspot.com/login/oauth2/code/google</code></p>\n\n<ol start=\"6\">\n<li>App Engine config</li>\n</ol></li>\n</ul>\n\n<p>app.yaml</p>\n\n<pre><code>runtime: custom\nenv: flex\nservice: &lt;my-service-name&gt;\nreadiness_check:\n  path: \"/actuator/health\"\n  check_interval_sec: 5\n  timeout_sec: 4\n  failure_threshold: 4\n  success_threshold: 2\n  app_start_timeout_sec: 300\nliveness_check:\n  path: \"/actuator/health\"\n  check_interval_sec: 30\n  timeout_sec: 4\n  failure_threshold: 2\n  success_threshold: 2\nresources:\n  cpu: 1\n  memory_gb: 2\n  disk_size_gb: 10\n</code></pre>\n\n<p>and a Dockerfile</p>\n\n<pre><code>FROM gcr.io/google-appengine/openjdk:8\nCOPY target/oauth-0.0.1-SNAPSHOT.jar $APP_DESTINATION\n</code></pre>\n\n<p>When I run the application on <code>localhost</code> everything works! No drama! I'm prompted to login with my google email and password and can access the /user endpoint.\nBut when I try to deploy the same app on the Google App Engine and access the /user endpoint the behavior is inconsistent:\nSometimes I get the Spring Security generated login page with error:</p>\n\n<p><code>authorization_request_not_found</code> or <code>Invalid Credentials</code> (After I click the Google button to login) </p>\n\n<p><a href=\"https://i.stack.imgur.com/ti25S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ti25S.png\" alt=\"Auth Request Not Found\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/blKJI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blKJI.png\" alt=\"Invalid Credentials\"></a></p>\n\n<p>What could be the reason for the different behavior?</p>\n"}, {"tags": ["firebase", "kotlin", "firebase-storage"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13361546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14c9105425e463c81a572e183f8342b?s=128&d=identicon&r=PG&f=1", "display_name": "Yohan Chathuranga", "link": "https://stackoverflow.com/users/13361546/yohan-chathuranga"}, "is_accepted": false, "score": 0, "last_activity_date": 1593661337, "creation_date": 1593661337, "answer_id": 62688626, "question_id": 57081204, "link": "https://stackoverflow.com/questions/57081204/putfile-is-not-working-in-kotlin-when-i-try-to-upload-image-to-firebase-storage/62688626#62688626", "title": "putFile is not working in kotlin when I try to upload image to firebase storage", "body": "<p><code>ref</code> is <a href=\"https://firebase.google.com/docs/reference/js/firebase.storage.Reference\" rel=\"nofollow noreferrer\">reference</a> type of object.In firebase documentation, it has no method called <code>putFile()</code>.I think that was the case. If you want to upload a photo you can use <code>put()</code> instead of  <code>putFile()</code>. <code>selectedPhotoUri!!</code> parameter should be blob or file type.</p>\n<pre><code>ref.put(selectedPhotoUri!!) //selectedPhotoUri blob or file\n          .addOnSuccessListener {\n            Log.d(TAG, &quot;Successfully uploaded image: ${it.metadata?.path}&quot;)\n            progressDialog.hide()\n            ref.downloadUrl.addOnSuccessListener {\n              Log.d(TAG, &quot;File Location: $it&quot;)\n\n              saveUserToFirebaseDatabase(it.toString())\n            }\n          }\n</code></pre>\n<p><a href=\"https://firebase.google.com/docs/storage/web/upload-files#upload_files\" rel=\"nofollow noreferrer\">more details</a></p>\n"}], "owner": {"reputation": 115, "user_id": 10864285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHuKs.jpg?s=128&g=1", "display_name": "omar", "link": "https://stackoverflow.com/users/10864285/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1593661337, "creation_date": 1563383976, "question_id": 57081204, "link": "https://stackoverflow.com/questions/57081204/putfile-is-not-working-in-kotlin-when-i-try-to-upload-image-to-firebase-storage", "title": "putFile is not working in kotlin when I try to upload image to firebase storage", "body": "<p>Trying to place an image in firebase storage but it does not seem to work.</p>\n\n<p>I have tried to change the rules and make sure that the dependencies are on and also applied the storage permission needed but it doesnt seem to work.</p>\n\n<p>The following is the code that is used to authenticate a user and upload their profile image, the authentication works however the uploading does not.</p>\n\n<pre><code>var selectedPhotoUri: Uri? = null\n\n  override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == 0 &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != null &amp;&amp; data.data != null) {\n      // proceed and check what the selected image was....\n      Log.d(TAG, \"Photo was selected\")\n\n      selectedPhotoUri = data.data\n\n      val bitmap = MediaStore.Images.Media.getBitmap(contentResolver, selectedPhotoUri)\n\n      selectphoto_imageview_register.setImageBitmap(bitmap)\n\n      selectphoto_button_register.alpha = 0f\n    }\n  }\n\n private fun performRegister() {\n    val email = email_edittext_register.text.toString()\n    val password = password_edittext_register.text.toString()\n\n    if (email.isEmpty() || password.isEmpty()) {\n      Toast.makeText(this, \"Please enter text in email/pw\", Toast.LENGTH_SHORT).show()\n      return\n    }\n\n    Log.d(TAG, \"Attempting to create user with email: $email\")\n\n    // Firebase Authentication to create a user with email and password\n    FirebaseAuth.getInstance().createUserWithEmailAndPassword(email, password)\n        .addOnCompleteListener {\n          if (!it.isSuccessful) return@addOnCompleteListener\n\n          // else if successful\n          Log.d(TAG, \"Successfully created user with uid: ${it.result!!.user.uid}\")\n\n          uploadImageToFirebaseStorage()\n        }\n        .addOnFailureListener{\n          Log.d(TAG, \"Failed to create user: ${it.message}\")\n          Toast.makeText(this, \"Failed to create user: ${it.message}\", Toast.LENGTH_SHORT).show()\n        }\n  }\n\n private fun uploadImageToFirebaseStorage() {\n    if (selectedPhotoUri != null){\n\n      val progressDialog = ProgressDialog(this)\n      progressDialog.setTitle(\"Uploading...\")\n      progressDialog.show()\n\n      val filename = UUID.randomUUID().toString()\n      val ref = FirebaseStorage.getInstance().getReference(\"/images/$filename\")\n      Log.d(TAG, \"this is the data $selectedPhotoUri\")\n\n\n\n      ref.putFile(selectedPhotoUri!!)\n              .addOnSuccessListener {\n                Log.d(TAG, \"Successfully uploaded image: ${it.metadata?.path}\")\n                progressDialog.hide()\n                ref.downloadUrl.addOnSuccessListener {\n                  Log.d(TAG, \"File Location: $it\")\n\n                  saveUserToFirebaseDatabase(it.toString())\n                }\n              }\n\n              .addOnFailureListener {\n                Log.d(TAG, \"Failed to upload image to storage: ${it.message}\")\n              }\n\n              .addOnProgressListener {taskSnapshot -&gt;\n                val progress = 100.0 * taskSnapshot.bytesTransferred/taskSnapshot.totalByteCount\n                progressDialog.setMessage(\"Uploaded \" +progress.toInt())\n\n              }\n    }\n</code></pre>\n\n<p>all I am left of when I press the register button is the progress Dialog screen that doesn't end. the performRegister function is executed in the onCreate function. There is no error code that comes out and I am not sure what is causing the issue. The storage rules are public so I dont think that is the problem either.</p>\n"}, {"tags": ["android", "kotlin", "android-billing"], "answers": [{"comments": [{"owner": {"reputation": 1971, "user_id": 5779142, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/de564acdbdd073a0e9e920f185286b59?s=128&d=identicon&r=PG&f=1", "display_name": "VLeonovs", "link": "https://stackoverflow.com/users/5779142/vleonovs"}, "edited": false, "score": 0, "creation_date": 1563431212, "post_id": 57082557, "comment_id": 100698881, "body": "How much time takes when subscriptions will be removed from list after I cancel it ? I have purchased a weekly subscription and removed it after, waiting for 1.5 hours and it is still in response"}, {"owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "reply_to_user": {"reputation": 1971, "user_id": 5779142, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/de564acdbdd073a0e9e920f185286b59?s=128&d=identicon&r=PG&f=1", "display_name": "VLeonovs", "link": "https://stackoverflow.com/users/5779142/vleonovs"}, "edited": false, "score": 0, "creation_date": 1563447561, "post_id": 57082557, "comment_id": 100707400, "body": "Try clearing your play store cache and check again."}, {"owner": {"reputation": 1971, "user_id": 5779142, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/de564acdbdd073a0e9e920f185286b59?s=128&d=identicon&r=PG&f=1", "display_name": "VLeonovs", "link": "https://stackoverflow.com/users/5779142/vleonovs"}, "edited": false, "score": 3, "creation_date": 1563448461, "post_id": 57082557, "comment_id": 100707856, "body": "Buuuut, how can I use it in production?"}, {"owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "reply_to_user": {"reputation": 1971, "user_id": 5779142, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/de564acdbdd073a0e9e920f185286b59?s=128&d=identicon&r=PG&f=1", "display_name": "VLeonovs", "link": "https://stackoverflow.com/users/5779142/vleonovs"}, "edited": false, "score": 0, "creation_date": 1563450866, "post_id": 57082557, "comment_id": 100709123, "body": "The issue you are facing is regarding this is actually right now open at google&#39;s end, you can read this thread for more details                                                     <a href=\"https://github.com/googlesamples/android-play-billing/issues/122\" rel=\"nofollow noreferrer\">link</a>, and to the latest solution provided in this thread is                                                                 <a href=\"https://stackoverflow.com/questions/56594713/refund-customer-in-app-purchase-but-billingclient-still-indicate-user-has-purcha/56726021#56726021\">link</a>"}, {"owner": {"reputation": 1549, "user_id": 14899369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/683e59068deaf514932d9799586fbfaa?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/14899369/abhi"}, "edited": false, "score": 0, "creation_date": 1586833551, "post_id": 57082557, "comment_id": 108266967, "body": "Hi Rajat, thank for the answer! Just a quick question. If a user subscribes to my app in 2018, cancelled it in 2019 and then subscribe again in 2020, can I get details about 2018 subscription as well when the user clicks restore?"}, {"owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "edited": false, "score": 0, "creation_date": 1586877022, "post_id": 57082557, "comment_id": 108286591, "body": "<b>queryPurchaseHistoryAsync()</b> will give you the details of 2018 subscription but I am not sure about the restore click. Abhi"}, {"owner": {"reputation": 1130, "user_id": 580257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/eILl9.png?s=128&g=1", "display_name": "justdan0227", "link": "https://stackoverflow.com/users/580257/justdan0227"}, "edited": false, "score": 0, "creation_date": 1590160346, "post_id": 57082557, "comment_id": 109583873, "body": "@RajatBeck so at the end of your comment you state &quot; So you can use queryPurchase() to get all active purchases.&quot;  Do you do this on the objects returned in the Async query?  My queryPurchases used to work while testing, however, my monthly subscription is still showing up when I call queryPurchases even after an hour later and it should have expired."}, {"owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "edited": false, "score": 0, "creation_date": 1590165988, "post_id": 57082557, "comment_id": 109587182, "body": "try clearing your cache google play cache and then try again..@justdan0227"}], "tags": [], "owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "is_accepted": false, "score": 11, "last_activity_date": 1563389923, "creation_date": 1563389923, "answer_id": 57082557, "question_id": 57081146, "link": "https://stackoverflow.com/questions/57081146/android-how-to-check-if-user-have-active-subscription-or-not/57082557#57082557", "title": "Android: How to check if user have active subscription or not", "body": "<p>As the documentation of Google play billing clearly suggest's that there are two function to get Purchases List</p>\n\n<pre><code>val purchasesResult: PurchasesResult =\n        billingClient.queryPurchases(SkuType.INAPP)\n</code></pre>\n\n<p>When you do a query purchase <strong>only active subscriptions appear on this list. As long as the in-app product is on this list, the user should have access to it</strong>.</p>\n\n<p><strong>This means that if the purchase is expired then you will not get that purchase item in the response for queryPurchase.</strong>\nHowever you have to keep in mind that it returns the local cached result of google play store.</p>\n\n<p>So in order to get the purchase request from network call you need to use an asynchronous method, which is <strong>queryPurchaseHistoryAsync()</strong></p>\n\n<pre><code>billingClient.queryPurchaseHistoryAsync(SkuType.INAPP, { billingResult, purchasesList -&gt;\n   if (billingResult.responseCode == BillingResponse.OK &amp;&amp; purchasesList != null) {\n       for (purchase in purchasesList) {\n           // Process the result.\n       }\n   }\n})\n</code></pre>\n\n<p>However there is a catch in <strong>object that contains info about the most recent purchase made by the user for each product ID, even if that purchase is expired, cancelled, or consumed.</strong></p>\n\n<p>So you can use <strong>queryPurchase()</strong> to get all active purchases.</p>\n"}, {"tags": [], "owner": {"reputation": 417, "user_id": 9910265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1844580472273274/picture?type=large", "display_name": "Mohamed Ben Romdhane", "link": "https://stackoverflow.com/users/9910265/mohamed-ben-romdhane"}, "is_accepted": false, "score": 0, "last_activity_date": 1597658278, "creation_date": 1597658278, "answer_id": 63448552, "question_id": 57081146, "link": "https://stackoverflow.com/questions/57081146/android-how-to-check-if-user-have-active-subscription-or-not/63448552#63448552", "title": "Android: How to check if user have active subscription or not", "body": "<p>Here is the code that I use to check for active subscription :</p>\n<pre><code>private void isUserHasSubscription(Context context) {\n        billingClient = BillingClient.newBuilder(context).enablePendingPurchases().setListener(this).build();\n        billingClient.startConnection(new BillingClientStateListener() {\n            @Override\n            public void onBillingSetupFinished(BillingResult billingResult) {\n                Purchase.PurchasesResult purchasesResult=billingClient.queryPurchases(BillingClient.SkuType.SUBS);\n\n                billingClient.queryPurchaseHistoryAsync(BillingClient.SkuType.SUBS,(billingResult1, list) -&gt; {\n                    \n                    Log.d(&quot;billingprocess&quot;,&quot;purchasesResult.getPurchasesList():&quot;+purchasesResult.getPurchasesList());\n                    \n                    if (billingResult1.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp;\n                            !Objects.requireNonNull(purchasesResult.getPurchasesList()).isEmpty()) {\n\n                            //here you can pass the user to use the app because he has an active subscription  \n                            Intent myIntent=new Intent(context,MainActivity.class);\n                            startActivity(myIntent);\n                    }\n                });\n            }\n            @Override\n            public void onBillingServiceDisconnected() {\n                // Try to restart the connection on the next request to\n                // Google Play by calling the startConnection() method.\n                Log.d(&quot;billingprocess&quot;,&quot;onBillingServiceDisconnected&quot;);\n            }\n        });\n    }\n</code></pre>\n"}], "owner": {"reputation": 1971, "user_id": 5779142, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/de564acdbdd073a0e9e920f185286b59?s=128&d=identicon&r=PG&f=1", "display_name": "VLeonovs", "link": "https://stackoverflow.com/users/5779142/vleonovs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4310, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1609430753, "creation_date": 1563383764, "question_id": 57081146, "link": "https://stackoverflow.com/questions/57081146/android-how-to-check-if-user-have-active-subscription-or-not", "title": "Android: How to check if user have active subscription or not", "body": "<p>I'm using <code>Google Billing</code> and trying to understand if subscription is expired or not with two solutions:</p>\n\n<ol>\n<li><p><code>billingClient.queryPurchaseHistoryAsync(BillingClient.SkuType.SUBS) { billingResult, purchasesList -&gt; }</code></p></li>\n<li><p><code>val purchasesList = billingClient.queryPurchases(BillingClient.SkuType.SUBS).purchasesList</code></p></li>\n</ol>\n\n<p>And they returns something like that:</p>\n\n<pre><code>{\n  \"productId\": \"weekly_with_trial\",\n  \"purchaseToken\": \"someToken\",\n  \"purchaseTime\": 1563305764597,\n  \"developerPayload\": null\n}\n</code></pre>\n\n<pre><code>{\n  \"orderId\": \"GPA.3380-7704-5235-01361\",\n  \"packageName\": \"com.myapp\",\n  \"productId\": \"weekly_trial_trial\",\n  \"purchaseTime\": 1563305764597,\n  \"purchaseState\": 0,\n  \"purchaseToken\": \"someToken\",\n  \"autoRenewing\": false,\n  \"acknowledged\": false\n}\n</code></pre>\n\n<p>Both of them return me a list of purchases without any info about if it expired or not. How to check it ?</p>\n"}, {"tags": ["android", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 3891, "user_id": 3166846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoxDC.jpg?s=128&g=1", "display_name": "Dan Harms", "link": "https://stackoverflow.com/users/3166846/dan-harms"}, "edited": false, "score": 0, "creation_date": 1563377664, "post_id": 57079297, "comment_id": 100682063, "body": "You are missing <code>import org.mockito.junit.MockitoJUnitRunner</code>. It could be because of other errors in the file that the auto-resolve isn&#39;t working. Or your gradle dependencies may be missing something."}, {"owner": {"reputation": 2202, "user_id": 4196475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c503780a3af66d4c9f0e25837b0dddd?s=128&d=identicon&r=PG&f=1", "display_name": "Dimas Mendes", "link": "https://stackoverflow.com/users/4196475/dimas-mendes"}, "reply_to_user": {"reputation": 3891, "user_id": 3166846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoxDC.jpg?s=128&g=1", "display_name": "Dan Harms", "link": "https://stackoverflow.com/users/3166846/dan-harms"}, "edited": false, "score": 0, "creation_date": 1563378663, "post_id": 57079297, "comment_id": 100682656, "body": "@dharms I&#39;ve imported it but it doesn&#39;t recognize but mockito is red in import org.mockito.junit.MockitoJUnitRunner"}, {"owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 0, "creation_date": 1563393097, "post_id": 57079297, "comment_id": 100689367, "body": "Do you use JUnit 4 or 5 - seems your imports are a mix of both? If its 5 you might want to try the extension instead."}, {"owner": {"reputation": 2202, "user_id": 4196475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c503780a3af66d4c9f0e25837b0dddd?s=128&d=identicon&r=PG&f=1", "display_name": "Dimas Mendes", "link": "https://stackoverflow.com/users/4196475/dimas-mendes"}, "reply_to_user": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 0, "creation_date": 1563396475, "post_id": 57079297, "comment_id": 100690811, "body": "@second I use JUnit 5, JUnit 4 import was only to test a few things. When I setup Jacoco, it asked me for a TestEngine to run coverage tests, so I imported JUnit 5 one. But I think there&#39;s no problem at all. I can either remove it or use JUnit Vintage (which allows retrocompatibility on JUnit 4 and 3) meanwhile."}], "answers": [{"comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 1, "creation_date": 1563399952, "post_id": 57083886, "comment_id": 100691993, "body": "this link merely repeats what I&#39;ve wrote... when not working with Android DSL, but defaulting to Java."}, {"owner": {"reputation": 2202, "user_id": 4196475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c503780a3af66d4c9f0e25837b0dddd?s=128&d=identicon&r=PG&f=1", "display_name": "Dimas Mendes", "link": "https://stackoverflow.com/users/4196475/dimas-mendes"}, "edited": false, "score": 0, "creation_date": 1563454523, "post_id": 57083886, "comment_id": 100711282, "body": "@second I added both <code>testImplementation (&quot;org.mockito:mockito-junit-jupiter:3.0.0&quot;)</code>  and <code>@ExtendWith(MockitoExtension::class)</code> and removed dependency for JUnit 4. But now it tells me <code>Unsolved reference: MockitoExtension::class</code>"}, {"owner": {"reputation": 2202, "user_id": 4196475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c503780a3af66d4c9f0e25837b0dddd?s=128&d=identicon&r=PG&f=1", "display_name": "Dimas Mendes", "link": "https://stackoverflow.com/users/4196475/dimas-mendes"}, "edited": false, "score": 0, "creation_date": 1563458609, "post_id": 57083886, "comment_id": 100714046, "body": "@second I finally got it!!! on my plugins section, I had &#39;maven&#39; added (I don&#39;t know why), and that was causing the error. I will add details to the end of my answer"}, {"owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 1, "creation_date": 1563458709, "post_id": 57083886, "comment_id": 100714110, "body": "Actually I just figured out that maven&#39;s <code>runtime</code> does not translate to gradle&#39;s <code>runtimeOnly</code> but instead <code>compile</code>. So <code>Martin Zeitler</code> might have been correct about that part."}, {"owner": {"reputation": 2202, "user_id": 4196475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c503780a3af66d4c9f0e25837b0dddd?s=128&d=identicon&r=PG&f=1", "display_name": "Dimas Mendes", "link": "https://stackoverflow.com/users/4196475/dimas-mendes"}, "edited": false, "score": 0, "creation_date": 1563458949, "post_id": 57083886, "comment_id": 100714280, "body": "Yes I had this insight because all of you and your comments. Thank you guys!"}, {"owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 0, "creation_date": 1563459579, "post_id": 57083886, "comment_id": 100714683, "body": "I cleaned up my answer, no point leaving the tries &amp; errors there ;)"}], "tags": [], "owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "is_accepted": false, "score": -1, "last_activity_date": 1563460119, "last_edit_date": 1563460119, "creation_date": 1563396577, "answer_id": 57083886, "question_id": 57079297, "link": "https://stackoverflow.com/questions/57079297/mockito-is-not-recognized-by-android-kotlin/57083886#57083886", "title": "Mockito is not recognized by Android (Kotlin)", "body": "<p><strong>Edit</strong>: Cleaned up the answer</p>\n\n<hr>\n\n<p>For JUnit5 and mockito use the following dependencies (or newer) and scopes:</p>\n\n<pre><code>    testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.4.2\")\n    compile(\"org.junit.jupiter:junit-jupiter-engine:5.4.2\")\n    testImplementation(\"org.mockito:mockito-core:3.0.0\")\n    testImplementation(\"org.mockito:mockito-junit-jupiter:3.0.0\")\n    testImplementation(\"org.mockito:mockito-inline:3.0.0\")\n</code></pre>\n\n<p>In your test use the Extension instead of the Runner (which is for JUnit 4).</p>\n\n<p><code>@ExtendWith(MockitoExtension::class)</code></p>\n\n<hr>\n\n<p>When running with the JUnit 5 dependencies of 5.0.3, I got the following error, so consider upgrading to a newer version (as shown in the dependencies above).</p>\n\n<pre><code>java.lang.NoSuchMethodError: \norg.junit.platform.commons.support.AnnotationSupport.findAnnotation(Ljava/util/Optional;Ljava/lang/Class;)Ljava/util/Optional;\n...\nSuppressed: java.lang.NullPointerException\nat org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:214)\n</code></pre>\n\n<hr>\n\n<p>For the maven to gradle conversion I used this site\n<a href=\"https://sagioto.github.io/maven2gradle/\" rel=\"nofollow noreferrer\">https://sagioto.github.io/maven2gradle/</a></p>\n"}, {"comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 1, "creation_date": 1563399589, "post_id": 57083981, "comment_id": 100691878, "body": "@second <code>@RunWith</code> is the annotation and <code>MockitoJUnitRunner</code> the argument; for some reason not both are available at compile time, as it is supposed to be."}, {"owner": {"reputation": 2202, "user_id": 4196475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c503780a3af66d4c9f0e25837b0dddd?s=128&d=identicon&r=PG&f=1", "display_name": "Dimas Mendes", "link": "https://stackoverflow.com/users/4196475/dimas-mendes"}, "edited": false, "score": 0, "creation_date": 1563459337, "post_id": 57083981, "comment_id": 100714532, "body": "@MartinZeitler that was the problem! I figured it out looking into the plugins with help from you guys"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 2202, "user_id": 4196475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c503780a3af66d4c9f0e25837b0dddd?s=128&d=identicon&r=PG&f=1", "display_name": "Dimas Mendes", "link": "https://stackoverflow.com/users/4196475/dimas-mendes"}, "edited": false, "score": 1, "creation_date": 1577988038, "post_id": 57083981, "comment_id": 105303665, "body": "@DimasMendes Found out that only <code>debugImplementation</code> works, after finding my own answer again."}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": true, "score": 1, "last_activity_date": 1577991834, "last_edit_date": 1577991834, "creation_date": 1563397068, "answer_id": 57083981, "question_id": 57079297, "link": "https://stackoverflow.com/questions/57079297/mockito-is-not-recognized-by-android-kotlin/57083981#57083981", "title": "Mockito is not recognized by Android (Kotlin)", "body": "<p>The error message is pretty clear: <code>an annotation argument must be a compile time argument</code>.</p>\n\n<p>Replace <code>testImplementation</code> with:</p>\n\n<pre><code>debugImplementation \"org.mockito:mockito-android:3.2.4\"\ndebugImplementation \"org.mockito:mockito-inline:3.2.4\"\n</code></pre>\n"}], "owner": {"reputation": 2202, "user_id": 4196475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c503780a3af66d4c9f0e25837b0dddd?s=128&d=identicon&r=PG&f=1", "display_name": "Dimas Mendes", "link": "https://stackoverflow.com/users/4196475/dimas-mendes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 0, "accepted_answer_id": 57083981, "answer_count": 2, "score": 1, "last_activity_date": 1577991834, "creation_date": 1563376905, "last_edit_date": 1563459390, "question_id": 57079297, "link": "https://stackoverflow.com/questions/57079297/mockito-is-not-recognized-by-android-kotlin", "title": "Mockito is not recognized by Android (Kotlin)", "body": "<p>Here is my class test:</p>\n\n<pre><code>private const val FAKE_STRING = \"APP NAME\"\n\n@RunWith(MockitoJUnitRunner::class)\nclass UnitTestSample {\n    @Mock\n    private lateinit var mockContext: Context\n\n    @Test\n    fun readStringFromContext_LocalizedString() {\n        // Given a mocked Context injected into the object under test...\n        `when`(mockContext.getString(R.string.app_name))\n            .thenReturn(FAKE_STRING)\n        val myObjectUnderTest = ClassUnderTest(mockContext)\n\n        // ...when the string is returned from the object under test...\n        val result: String = myObjectUnderTest.getHelloWorldString()\n\n        // ...then the result should be the expected one.\n        assertThat(result, `is`(FAKE_STRING))\n    }\n}\n</code></pre>\n\n<p>Here is a piece of my gradle.build.kt (Kotlin DSL):</p>\n\n<pre><code>plugins {\n    id(\"com.android.application\")\n    kotlin(\"android\")\n    kotlin(\"kapt\")\n    kotlin(\"android.extensions\")\n    id(\"com.onesignal.androidsdk.onesignal-gradle-plugin\")\n    jacoco\n    maven\n}\n\ndependencies {\n        ...\n        //Test base\n        testImplementation(\"junit:junit:4.12\")\n        testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.0.3\")\n        testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine:5.0.3\")\n        androidTestImplementation(\"androidx.test:runner:1.2.0\")\n        androidTestImplementation(\"androidx.test.espresso:espresso-core:3.2.0\")\n\n        //Unit Tests\n        testImplementation(\"org.mockito:mockito-core:3.0.0\")\n        testImplementation(\"org.mockito:mockito-inline:3.0.0\") //support for kotlin final classes\n\n        //Android UI Test\n        androidTestImplementation(\"org.robolectric:robolectric:3.7.1\")\n}\n</code></pre>\n\n<p>As you can see, Android Studio doesn't reognize Mockito. I've already imported <code>org.mockito.junit.MockitoJUnitRunner</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/LRoxs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LRoxs.png\" alt=\"mockito not recognized\"></a></p>\n\n<p>I'm running this sample unit test under</p>\n\n<pre><code>src/test/java/.../UnitTestSample.kt\n</code></pre>\n\n<p>Do you have any idea on how to make it work?</p>\n\n<p><strong>Edit (Solution):</strong></p>\n\n<p>I finally made it work with some help of the comments section. The problem was <strong>caused by \"maven\" plugin import</strong> on plugins section, and I didn't see that because the base project I downloaded to convert my Gradle to DSL Kotlin had those plugins working. Somehow this was causing Mockito not to be available at compile time, as @MartinZeitler stated. According to @second, \"Maven's runtime does not translate to gradle's runtimeOnly but instead compile\".</p>\n"}, {"tags": ["android", "kotlin", "text-to-speech"], "comments": [{"owner": {"reputation": 3548, "user_id": 5717640, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/D9X3M.png?s=128&g=1", "display_name": "Nerdy Bunz", "link": "https://stackoverflow.com/users/5717640/nerdy-bunz"}, "edited": false, "score": 0, "creation_date": 1563527393, "post_id": 57079171, "comment_id": 100737935, "body": "but the code runs fine, correct?"}], "answers": [{"comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1563552323, "post_id": 57109261, "comment_id": 100750796, "body": "It clearly says in the document that the <code>.speak()</code> using <code>HashMap</code> is deprecated. On what basis can you say that it is just a &quot;false warning in the IDE&quot; ?"}, {"owner": {"reputation": 3548, "user_id": 5717640, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/D9X3M.png?s=128&g=1", "display_name": "Nerdy Bunz", "link": "https://stackoverflow.com/users/5717640/nerdy-bunz"}, "reply_to_user": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1563568972, "post_id": 57109261, "comment_id": 100757172, "body": "It&#39;s deprecated <i>as of API 21</i>.  In case of API &lt; 21, the old method must still be used.  So if the project target API is &lt; 21, then the code is correct."}, {"owner": {"reputation": 23, "user_id": 8963143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2b72bebcd0c88279a4b82c85413fad2?s=128&d=identicon&r=PG&f=1", "display_name": "didi_o", "link": "https://stackoverflow.com/users/8963143/didi-o"}, "edited": false, "score": 0, "creation_date": 1563871868, "post_id": 57109261, "comment_id": 100834585, "body": "@BooberBunz is right. For Lollipop or older, the <code>speak()</code> function using <code>HashMap</code> must be used. There was also an error in another class where I called the TTS function. Now it&#39;s working, so the correct answer is, that it doesn&#39;t affect my code. Thank you anyways"}], "tags": [], "owner": {"reputation": 3548, "user_id": 5717640, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/D9X3M.png?s=128&g=1", "display_name": "Nerdy Bunz", "link": "https://stackoverflow.com/users/5717640/nerdy-bunz"}, "is_accepted": false, "score": 0, "last_activity_date": 1563527707, "creation_date": 1563527707, "answer_id": 57109261, "question_id": 57079171, "link": "https://stackoverflow.com/questions/57079171/android-texttospeech-speak-function-not-working-int-is-deprecated/57109261#57109261", "title": "Android TextToSpeech - Speak function not working. Int is deprecated", "body": "<p>It's just a false warning in the IDE that shouldn't be there.  For some reason it doesn't see that you did the code correctly as far as checking the API and applying the correct method signature.</p>\n"}], "owner": {"reputation": 23, "user_id": 8963143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2b72bebcd0c88279a4b82c85413fad2?s=128&d=identicon&r=PG&f=1", "display_name": "didi_o", "link": "https://stackoverflow.com/users/8963143/didi-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563700876, "creation_date": 1563376547, "last_edit_date": 1563700876, "question_id": 57079171, "link": "https://stackoverflow.com/questions/57079171/android-texttospeech-speak-function-not-working-int-is-deprecated", "title": "Android TextToSpeech - Speak function not working. Int is deprecated", "body": "<p>I'm trying to implement TextToSpeech in my Android Application:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            TTS.speak(toSpeak, TextToSpeech.QUEUE_FLUSH, null, null)\n        }\n        else {\n            TTS.speak(toSpeak, TextToSpeech.QUEUE_FLUSH, null)\n        }\n</code></pre>\n\n<p>I'm already providing an if clause for the case it's Lollipop or older, but I'm getting the following error:</p>\n\n<p><code>speak(String!, Int, HashMap&lt;String!, String!&gt;!: Int' is deprecated. Deprecated in Java</code>. </p>\n\n<p>I don't know what I should use instead of TextToSpeech.QUEUE_FLUSH.</p>\n"}, {"tags": ["java", "kotlin", "sealed-class"], "answers": [{"tags": [], "owner": {"reputation": 1652, "user_id": 3663635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ioKp.jpg?s=128&g=1", "display_name": "jaychang0917", "link": "https://stackoverflow.com/users/3663635/jaychang0917"}, "is_accepted": true, "score": 6, "last_activity_date": 1563376941, "creation_date": 1563376941, "answer_id": 57079308, "question_id": 57078908, "link": "https://stackoverflow.com/questions/57078908/calling-kotlin-function-with-parameter-as-sealed-class-from-java/57079308#57079308", "title": "Calling Kotlin function with parameter as sealed class from java", "body": "<p>You should invoke the function as following:</p>\n\n<pre><code>obj.setTimeOut(TimeUtils.TimeUnit.Minute.INSTANCE);\n</code></pre>\n\n<p>It's because <code>object Minute</code> will be compiled to the following Java code:</p>\n\n<pre><code>public final class Minute {\n   public static final Minute INSTANCE;\n\n   private Minute() {\n   }\n\n   static {\n      Minute var0 = new Minute();\n      INSTANCE = var0;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 6630, "user_id": 1994950, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5f16e6eff1f8a47146a95c3234218946?s=128&d=identicon&r=PG&f=1", "display_name": "Kushal", "link": "https://stackoverflow.com/users/1994950/kushal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 57079308, "answer_count": 1, "score": 2, "last_activity_date": 1563386710, "creation_date": 1563375646, "last_edit_date": 1563386710, "question_id": 57078908, "link": "https://stackoverflow.com/questions/57078908/calling-kotlin-function-with-parameter-as-sealed-class-from-java", "title": "Calling Kotlin function with parameter as sealed class from java", "body": "<p>My Kotlin class <code>TimeUtils</code> has a sealed class declared as: </p>\n\n<pre><code>sealed class TimeUnit {\n    object Second : TimeUnit()\n    object Minute : TimeUnit()\n\nfun setTimeOut(timeout : TimeUnit) {\n    // TODO something\n}\n</code></pre>\n\n<p>My Java class is calling <code>setTimeOut</code> method like: </p>\n\n<pre><code>TimeUtils obj = new TimeUtils();\nif (some condition) {\n    obj.setTimeOut(TimeUtils.TimeUnit.Minute);   // ERROR\n} else if (some other condition) {\n    obj.setTimeOut(TimeUtils.TimeUnit.Second);   // ERROR\n}\n</code></pre>\n\n<p>I am getting error at above 2 lines stating <code>expression required</code>. \nCan anyone help how can I solve it?</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "okhttp3"], "answers": [{"comments": [{"owner": {"reputation": 284, "user_id": 5366108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIcrU.png?s=128&g=1", "display_name": "Praveen Rawat", "link": "https://stackoverflow.com/users/5366108/praveen-rawat"}, "edited": false, "score": 0, "creation_date": 1563427646, "post_id": 57078656, "comment_id": 100697690, "body": "I have saved token in shared preference ,  Pref.setString(MyApplication.mInstance, Pref.TOKEN, &quot;${refreshTokenResponse.tokenType} ${refreshTokenResponse?.token}&quot;)"}], "tags": [], "owner": {"reputation": 642, "user_id": 11797134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c82bcfc911c38beab6429e500499860?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/11797134/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1563374946, "creation_date": 1563374946, "answer_id": 57078656, "question_id": 57078344, "link": "https://stackoverflow.com/questions/57078344/call-api-again-after-token-refresh/57078656#57078656", "title": "Call Api Again After Token Refresh", "body": "<p>Couple of things i see wrong with this. </p>\n\n<p>First is that even if you \"restart\" the request with the new token, if you happen to make another request while the \"new token\" is not saved, that request is also going to fail.</p>\n\n<p>Second is that i don't see that you save the new token anywhere (in SharedPrefs for example for later use).</p>\n\n<p>This is how i would have do it: (preferenceHelper is SharedPrefs)</p>\n\n<pre><code>override fun authenticate(route: Route?, response: Response): Request? {\n    val HEADER_AUTHORIZATION = \"Authorization\"\n    // We need to have a token in order to refresh it.\n    val token = preferenceHelper.getAccessToken() ?: return null\n\n    synchronized(this) {\n        val newToken = preferenceHelper.getAccessToken() ?: return null\n\n        // Check if the request made was previously made as an authenticated request.\n        if (response.request().header(HEADER_AUTHORIZATION) != null) {\n\n            // If the token has changed since the request was made, use the new token.\n            if (newToken != token) {\n                return response.request()\n                    .newBuilder()\n                    .removeHeader(HEADER_AUTHORIZATION)\n                    .addHeader(HEADER_AUTHORIZATION, \"Bearer \" + newToken)\n                    .build()\n            }\n            val tokenResponse = ApiServiceClient.createToken().getTokenWithoutObserver().execute()\n\n            if (tokenResponse.isSuccessful) {\n\n                val userToken = tokenResponse.body() ?: return null\n\n                preferenceHelper.saveAccessToken(userToken.token)\n                preferenceHelper.saveRefreshToken(userToken.refreshToken)\n\n                // Retry the request with the new token.\n                return response.request()\n                    .newBuilder()\n                    .removeHeader(HEADER_AUTHORIZATION)\n                    .addHeader(HEADER_AUTHORIZATION, \"Bearer \" + userToken.token)\n                    .build()\n            } else {\n                logoutUser()\n            }\n        }\n    }\n    return null\n}\n</code></pre>\n"}], "owner": {"reputation": 284, "user_id": 5366108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIcrU.png?s=128&g=1", "display_name": "Praveen Rawat", "link": "https://stackoverflow.com/users/5366108/praveen-rawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563384885, "creation_date": 1563373960, "last_edit_date": 1563384885, "question_id": 57078344, "link": "https://stackoverflow.com/questions/57078344/call-api-again-after-token-refresh", "title": "Call Api Again After Token Refresh", "body": "<p>I am using <strong>Authenticator</strong> instead of <strong>Interceptor</strong> to refresh the token. I am able to detect the 401 exception and easily refresh the new token. Everything is working perfectly but the issue is following:</p>\n\n<p>I am unable to call the request again, I do not want the user to hit again to call the offer.</p>\n\n<p>So after execution of the code below I get a new token, it gives me a 401 error message.\n<strong>My Question is: How can I call the request chain again?</strong>\nAny advice on the implementation is welcome.</p>\n\n<p><strong>class OffersViewModel</strong></p>\n\n<pre><code>    val observable = ApiServiceClient.createApiUsingToken(context).getOffers(\n                                Pref.getString(getApplication(), Pref.CUSTOMER_CODE, \"\")!!,\n                                Pref.getString(getApplication(), Pref.TOKEN, \"\")!!\n                        )\n                        compositeDisposable.add(observable.subscribeOn(Schedulers.io())\n                                .observeOn(AndroidSchedulers.mainThread())\n                                .doOnSubscribe {\n                                    responseModel.statusCode = StatusCode.START\n                                    offersRegisteredUserResponseLiveData.postValue(responseModel)\n                                }\n                                .subscribe({ success -&gt;\n                                    if (success.errors.isNullOrEmpty()) {\n                                        success.statusCode = StatusCode.SUCCESS\n                                    } else {\n                                        success.statusCode = StatusCode.ERROR\n                                    }\n                                    offersRegisteredUserResponseLiveData.value = success\n                                }, {\n//HERE I GOT 401\n                                    Log.d(\"debug\",it.message.toString())\n                                    responseModel.statusCode = StatusCode.ERROR\n                                    offersRegisteredUserResponseLiveData.value = responseModel\n                                }, { })\n                        )\n</code></pre>\n\n<p><strong>API Service Class</strong></p>\n\n<pre><code>/*.....Offer Screen...........*/\n    @GET(\"offers/xyz/{abc}\")\n    fun getOffers(\n            @Path(\"abc\") customerCode: String,\n            @Header(\"Authorization\") authorization: String,\n            @Header(\"Content-Type\") contentType: String = CONTENT_TYPE\n    ):\n            Observable&lt;OfferRegisteredUserResponseModel&gt;\n</code></pre>\n\n<p><strong>ApiClient Class</strong></p>\n\n<pre><code>fun createApiUsingToken(context: Context?): ApiService {\n            val interceptor = HttpLoggingInterceptor()\n            interceptor.level = HttpLoggingInterceptor.Level.BODY\n            val client = OkHttpClient.Builder().addInterceptor(interceptor).connectTimeout(20, TimeUnit.SECONDS)\n                    .writeTimeout(20, TimeUnit.SECONDS)\n                    .readTimeout(60, TimeUnit.SECONDS)\n                    .authenticator(TokenInterceptor(context)).build()\n\n\n            val retrofit = Retrofit.Builder()\n                    .client(client)\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .baseUrl(Constants.BASE_URL)\n                    .build()\n            var ApiServiceClient=retrofit.create(ApiService::class.java)\n            return retrofit.create(ApiService::class.java)\n        }\n</code></pre>\n\n<p><strong>class TokenInterceptor</strong></p>\n\n<pre><code>var requestAvailable: Request? = null\n        if (response!!.code() === 401) {\n            var retrofitResponse = ApiServiceClient.createToken().getTokenWithoutObserver().execute()\n            if (retrofitResponse != null) {\n                val refreshTokenResponse = retrofitResponse!!.body()\n                val newAccessToken = refreshTokenResponse!!.token\n                if (newAccessToken != null)\n                {\n                    Pref.setString(MyApplication.mInstance, Pref.TOKEN, \"${refreshTokenResponse.tokenType} ${refreshTokenResponse?.token}\")\n                    Pref.setString(MyApplication.mInstance, Pref.TOKEN_EXPIRES_IN, refreshTokenResponse.tokenExpirationTime.toString())\n                    Utils.addTokenExpirationTimeToCurrentTime(MyApplication.mInstance, refreshTokenResponse.tokenExpirationTime?.toInt()!!)\n\n                    try {\n                        requestAvailable = response?.request()?.newBuilder()\n                                ?.addHeader(\"Content-Type\", \"application/json\")\n                                ?.addHeader(\"Authorization\", \"Bearer \" + newAccessToken)\n                                ?.build()\n                        return requestAvailable\n                    } catch (ex: Exception) {\n                    }\n            }\n            } else\n                return null\n        }\n        return requestAvailable\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bluetooth-lowenergy", "samsung-mobile"], "owner": {"reputation": 324, "user_id": 4861642, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee22f32bb82aefdd7f80b456080d038e?s=128&d=identicon&r=PG&f=1", "display_name": "yozzy", "link": "https://stackoverflow.com/users/4861642/yozzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1563373882, "creation_date": 1563373882, "question_id": 57078318, "link": "https://stackoverflow.com/questions/57078318/scan-filter-with-ble-scan", "title": "Scan filter with BLE scan", "body": "<p>I worked on an application which use a BLE scan into a foreground service. \nI used the library RxBle Android to perform the scan.\u2028\u2028</p>\n\n<pre><code>private fun scanBleDevices(): Observable&lt;ScanResult&gt;? {\n    val rxBleClient = RxBleClient.create(this)\n    val scanSettings = ScanSettings.Builder()\n        .setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY)\n        .setCallbackType(ScanSettings.CALLBACK_TYPE_ALL_MATCHES)\n        .build()\n\n    val scanFilter = ScanFilter.Builder()\n        //.setServiceData(ParcelUuid.fromString(\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"), ByteArray(1))\n        //.setDeviceAddress(\"XX:XX:XX:XX:XX:XX\")\n        .build()\n\n    return rxBleClient.scanBleDevices(scanSettings, scanFilter)\n}\n\nprivate fun startScan(){\n    Timber.e(\"Start SCAN\")\n    scanBleDevices()?.let {\n        it.observeOn(AndroidSchedulers.mainThread())\n            .subscribe({ scanResult -&gt;\n                //Handle scan result\n            }, {\n                Timber.e(\"Scan failed\")\n            })\n    }\n}\n</code></pre>\n\n<p>I used ScanFilter in order to get scan results when the screen of my phone is locked.\u2028\u2028 </p>\n\n<p>\u2028\u2028When I used ScanFilter with mac address it worked great but it\u2019s not a real solution because I don\u2019t want to specify all the mac adress for all of my beacons.\u2028</p>\n\n<p>So I try to use ScanFilter with service data id, it worked except when the screen of my phone is locked.\u2028\u2028\nThe problem is only when I use my app with a Samsung device because I have a Pixel 3 and I don\u2019t have the problem.</p>\n\n<p>Do you have an explanation or a solution ?\u2028\u2028</p>\n\n<p>Thank you !</p>\n"}, {"tags": ["android", "kotlin", "dependency-injection", "koin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 3, "creation_date": 1563372395, "post_id": 57077784, "comment_id": 100678802, "body": "That is not supported by <code>ViewModel</code>."}, {"owner": {"reputation": 387, "user_id": 4748485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TDMBe.jpg?s=128&g=1", "display_name": "Sahil Arora", "link": "https://stackoverflow.com/users/4748485/sahil-arora"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1563428700, "post_id": 57077784, "comment_id": 100698024, "body": "This is possible by ViewModel Factory, but i didn&#39;t find any way to provide custom factory class in koin."}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 4748485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TDMBe.jpg?s=128&g=1", "display_name": "Sahil Arora", "link": "https://stackoverflow.com/users/4748485/sahil-arora"}, "edited": false, "score": 0, "creation_date": 1566381567, "post_id": 57362862, "comment_id": 101635611, "body": "i know about ViewModel Pattern but  using ViewModel Custom Factory we can share Single viewmodel instance  with different activities so my question is there any way in koin to provide  custom ViewModel Factory See here <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider.Factory\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/lifecycle/&hellip;</a>"}, {"owner": {"reputation": 2040, "user_id": 898018, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2b11453115f1e1ac9105c596642b7d34?s=128&d=identicon&r=PG", "display_name": "Hayk Melkonyan", "link": "https://stackoverflow.com/users/898018/hayk-melkonyan"}, "reply_to_user": {"reputation": 387, "user_id": 4748485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TDMBe.jpg?s=128&g=1", "display_name": "Sahil Arora", "link": "https://stackoverflow.com/users/4748485/sahil-arora"}, "edited": false, "score": 0, "creation_date": 1566477423, "post_id": 57362862, "comment_id": 101674294, "body": "@SahilArora ok . if you share some data between your activities , no matter how  you will do it, you will have following problems 1. it must be static 2. you will have memory leaks . 3. android created Intents, and any cases if you want to do customize data providing between activities you will meet static(global) and of course memory leaks."}], "tags": [], "owner": {"reputation": 2040, "user_id": 898018, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2b11453115f1e1ac9105c596642b7d34?s=128&d=identicon&r=PG", "display_name": "Hayk Melkonyan", "link": "https://stackoverflow.com/users/898018/hayk-melkonyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1565023690, "creation_date": 1565023690, "answer_id": 57362862, "question_id": 57077784, "link": "https://stackoverflow.com/questions/57077784/how-to-share-same-instance-of-viewmodel-between-activities-using-koin-di/57362862#57362862", "title": "How to share same instance of ViewModel between Activities using Koin DI?", "body": "<p>you need to read more about <code>ViewModel</code> to understand it better.\n<a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/viewmodel</a></p>\n\n<p><code>ViewModel</code> is connected to your <code>Activity</code></p>\n\n<p>so you can share your Activities <code>ViewModel</code> only between his <code>Fragments</code> ,</p>\n\n<p>that is what mean <code>sharedViewModel</code> in <code>koin</code></p>\n\n<p><code>sharedViewModel</code> is the same if you use <code>ViewModel Factory</code> with same <code>context</code> .</p>\n\n<p>sharing any data between <code>Activities</code> can be done via <code>Intent</code> , there is no another way in Android,</p>\n\n<p>or you can keep some <code>static / global</code> data and share it between <code>Activities</code> </p>\n"}, {"tags": [], "owner": {"reputation": 387, "user_id": 4748485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TDMBe.jpg?s=128&g=1", "display_name": "Sahil Arora", "link": "https://stackoverflow.com/users/4748485/sahil-arora"}, "is_accepted": true, "score": 4, "last_activity_date": 1566911136, "last_edit_date": 1566911136, "creation_date": 1566909771, "answer_id": 57674983, "question_id": 57077784, "link": "https://stackoverflow.com/questions/57077784/how-to-share-same-instance-of-viewmodel-between-activities-using-koin-di/57674983#57674983", "title": "How to share same instance of ViewModel between Activities using Koin DI?", "body": "<p>After some research or discussion on architecture level and also report and issue github Koin,i found solution for this \nIn this scenario,We should save that state/data into Repository which we need to share between multiple activities  not in the viewModel and   two or more different ViewModels  can access same state/data that are saved in single instance of repository   </p>\n\n<p><a href=\"https://i.stack.imgur.com/HSj7i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HSj7i.png\" alt=\"see here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 960, "user_id": 4457630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9KTaN.jpg?s=128&g=1", "display_name": "Yamashiro Rion", "link": "https://stackoverflow.com/users/4457630/yamashiro-rion"}, "edited": false, "score": 4, "creation_date": 1590305519, "post_id": 61041127, "comment_id": 109626474, "body": "I don&#39;t think it&#39;s a good idea, because <code>ViewModel</code> should be bound to a <code>LifecycleOwner</code> (<code>ViewModelProvider</code> makes it for us, that&#39;s why we obtain <code>ViewModel</code> instances via it), so when the <code>LifecycleOwner</code> is destroyed, its <code>ViewModel</code> will be destroyed, too. As for <code>single { ViewModel() }</code>, it will create a singleton <code>ViewModel</code>, which is not bound to any <code>LifecycleOwner</code>, so it can&#39;t be destroyed properly. Also singleton <code>ViewModel</code> breaks the concept of <code>ViewModel</code>.  Repositories can be used instead to share data between two <code>ViewModel</code>s."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1603474781, "post_id": 61041127, "comment_id": 114059051, "body": "If you do this, onCleared will never be called"}], "tags": [], "owner": {"reputation": 1019, "user_id": 1741923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wsZvS.png?s=128&g=1", "display_name": "&#214;zer &#214;zcan", "link": "https://stackoverflow.com/users/1741923/%c3%96zer-%c3%96zcan"}, "is_accepted": false, "score": 3, "last_activity_date": 1603574950, "last_edit_date": 1603574950, "creation_date": 1586082160, "answer_id": 61041127, "question_id": 57077784, "link": "https://stackoverflow.com/questions/57077784/how-to-share-same-instance-of-viewmodel-between-activities-using-koin-di/61041127#61041127", "title": "How to share same instance of ViewModel between Activities using Koin DI?", "body": "<p>you must use <code>single{}</code> instead of <code>viewModel{}</code> in module declaration.</p>\n<pre><code>single { SharedViewModel() }\n</code></pre>\n<p>And, you can use viewModel() in your views.</p>\n<p>View1</p>\n<pre><code>private val viewModel: SharedViewModel by viewModel()\n</code></pre>\n<p>View2</p>\n<pre><code>private val viewModel: SharedViewModel by viewModel()\n</code></pre>\n<p>But you must load modules when view start by</p>\n<pre><code>loadKoinModules(module1)\n</code></pre>\n<p><strong>The important point is that you must unload module in when destroy view.</strong></p>\n<pre><code>unloadKoinModules(mainModule)\n</code></pre>\n<p>So, when unload modules your singleton ViewModel will be destroyed.</p>\n"}, {"comments": [{"owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 1, "creation_date": 1603333326, "post_id": 64371364, "comment_id": 114006314, "body": "how to override getViewModelStore() ?"}, {"owner": {"reputation": 79, "user_id": 7465577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6fXx.jpg?s=128&g=1", "display_name": "Catalin", "link": "https://stackoverflow.com/users/7465577/catalin"}, "reply_to_user": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1603474620, "post_id": 64371364, "comment_id": 114058996, "body": "Sorry about that. I added the missing override for <code>getViewModelStore()</code> in the answer."}, {"owner": {"reputation": 4377, "user_id": 529977, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b1abfa24121c2fbc67f54e047574372e?s=128&d=identicon&r=PG", "display_name": "childno\u0361.de", "link": "https://stackoverflow.com/users/529977/childno%cd%a1-de"}, "edited": false, "score": 0, "creation_date": 1612445632, "post_id": 64371364, "comment_id": 116772936, "body": "<code>Overriding this method is no longer supported and this method will be made &lt;code&gt;final&lt;&#47;code&gt; in a future version of ComponentActivity.</code> :shrug:"}], "tags": [], "owner": {"reputation": 79, "user_id": 7465577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6fXx.jpg?s=128&g=1", "display_name": "Catalin", "link": "https://stackoverflow.com/users/7465577/catalin"}, "is_accepted": false, "score": 0, "last_activity_date": 1603474591, "last_edit_date": 1603474591, "creation_date": 1602764093, "answer_id": 64371364, "question_id": 57077784, "link": "https://stackoverflow.com/questions/57077784/how-to-share-same-instance-of-viewmodel-between-activities-using-koin-di/64371364#64371364", "title": "How to share same instance of ViewModel between Activities using Koin DI?", "body": "<p>I would suggest making the app a <code>ViewModelStoreOwner</code> and injecting the viewModels using as owner the app.\nThe code required would look like this</p>\n<pre><code>class App : Application(), ViewModelStoreOwner {\n    private val mViewModelStore = ViewModelStore()\n\n    override fun getViewModelStore(): ViewModelStore {\n        return mViewModelStore\n    }\n}\n</code></pre>\n<p>You can define some extensions to easily inject the viewModels</p>\n<pre><code>\nval Context.app: App\n    get() = applicationContext as App\n\ninline fun &lt;reified T : ViewModel&gt; Context.appViewModel(\n    qualifier: Qualifier? = null,\n    noinline state: BundleDefinition? = null,\n    noinline parameters: ParametersDefinition? = null\n): Lazy&lt;T&gt; {\n    return lazy(LazyThreadSafetyMode.NONE) {\n        GlobalContext.get().getViewModel(qualifier, state, { ViewModelOwner.from(app, null) }, T::class, parameters)\n    }\n}\n\ninline fun &lt;reified T : ViewModel&gt; Fragment.appViewModel(\n    qualifier: Qualifier? = null,\n    noinline state: BundleDefinition? = null,\n    noinline parameters: ParametersDefinition? = null\n): Lazy&lt;T&gt; {\n    return lazy(LazyThreadSafetyMode.NONE) {\n        GlobalContext.get().getViewModel(qualifier, state, { ViewModelOwner.from(requireContext().app, null) }, T::class, parameters)\n    }\n}\n\n</code></pre>\n<p>You can then inject your viewModel like this</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private val mAppViewModel: AppViewModel by appViewModel()\n}\n</code></pre>\n<p>The advantage of this solution is that you don't need to recreate the view model and if you decide to save the state between app restarts, you can easily make the app an <code>SavedStateRegistryOwner</code> as well and using the <code>SavedStateHandle</code> save/restore your state from inside the viewModel, being now bound to the process lifecycle.</p>\n"}], "owner": {"reputation": 387, "user_id": 4748485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TDMBe.jpg?s=128&g=1", "display_name": "Sahil Arora", "link": "https://stackoverflow.com/users/4748485/sahil-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5652, "favorite_count": 1, "accepted_answer_id": 57674983, "answer_count": 4, "score": 11, "last_activity_date": 1603574950, "creation_date": 1563372228, "last_edit_date": 1563428875, "question_id": 57077784, "link": "https://stackoverflow.com/questions/57077784/how-to-share-same-instance-of-viewmodel-between-activities-using-koin-di", "title": "How to share same instance of ViewModel between Activities using Koin DI?", "body": "<p>I am using <code>Koin</code> library in Kotlin for DI </p>\n\n<p>Koin providing  <code>by viewmodel()</code> for get instance of ViewModel <code>by sharedViewModel()</code> to get same instance in fragments. </p>\n\n<p>How can I get same instance of the ViewModel in  activities ? I didn't find any way to achieve this.</p>\n"}, {"tags": ["android", "ssl", "kotlin", "retrofit", "retrofit2"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1563371406, "post_id": 57077447, "comment_id": 100678121, "body": "&quot;How can I ask Retrofit to ignore SSL errors ?&quot; -- you don&#39;t, unless you want your app to be banned from the Play Store. What is unusual about your Web server&#39;s setup that is causing Android to not recognize the source of your SSL certificate?"}, {"owner": {"reputation": 8086, "user_id": 1076026, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/zoHLk.jpg?s=128&g=1", "display_name": "wawanopoulos", "link": "https://stackoverflow.com/users/1076026/wawanopoulos"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1563371545, "post_id": 57077447, "comment_id": 100678232, "body": "I have the &quot;pem&quot; certificate of my backend server. How can I integrate this certificate with retrofit ?"}], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": -1, "last_activity_date": 1563371860, "creation_date": 1563371860, "answer_id": 57077649, "question_id": 57077447, "link": "https://stackoverflow.com/questions/57077447/android-retrofit-java-security-cert-certpathvalidatorexception-trust-anchor/57077649#57077649", "title": "Android - Retrofit : java.security.cert.CertPathValidatorException: Trust anchor for certification path not found", "body": "<blockquote>\n  <p>I have the \"pem\" certificate of my backend server. How can I integrate this certificate with retrofit ? </p>\n</blockquote>\n\n<p>You already have a custom <code>OkHttpClient</code>. Add logic to it to teach it <a href=\"https://square.github.io/okhttp/https/#customizing-trusted-certificates\" rel=\"nofollow noreferrer\">about your custom SSL certificate</a>. Then, since Retrofit is using your <code>OkHttpClient</code>, Retrofit will know about that SSL certificate and should work with your server.</p>\n\n<p>Or, switch your server to use an SSL certificate from a recognized root authority (e.g., Let's Encrypt).</p>\n"}], "owner": {"reputation": 8086, "user_id": 1076026, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/zoHLk.jpg?s=128&g=1", "display_name": "wawanopoulos", "link": "https://stackoverflow.com/users/1076026/wawanopoulos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2360, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563371860, "creation_date": 1563371246, "question_id": 57077447, "link": "https://stackoverflow.com/questions/57077447/android-retrofit-java-security-cert-certpathvalidatorexception-trust-anchor", "title": "Android - Retrofit : java.security.cert.CertPathValidatorException: Trust anchor for certification path not found", "body": "<p>I'm trying to call an API on my personal Backend server and I get this SSL error in response.</p>\n\n<p>How can I ask Retrofit to ignore SSL errors ?</p>\n\n<p>Thanks,</p>\n\n<pre><code>2019-07-17 15:43:33.385 31394-31394/com.test E/com.test.site.ui.SiteFragment: getSitesList() - onFailure() Could not load sites list: \n    javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\n        at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:229)\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:351)\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:310)\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:178)\n        at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:236)\n        at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:109)\n</code></pre>\n\n<p>App.kt:</p>\n\n<pre><code>package com.test\n\nimport android.app.Application\nimport com.test.site.service.SiteService\nimport okhttp3.OkHttpClient\nimport okhttp3.logging.HttpLoggingInterceptor\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\n\n\nclass App : Application() {\n\n    companion object {\n\n        lateinit var instance: App\n\n        // Create interceptor to get HTTP logs\n        private val httpClient = OkHttpClient.Builder()\n            .addInterceptor(HttpLoggingInterceptor())\n            .build();\n\n        // Create retrofit instance for whole application\n        private val retrofit = Retrofit.Builder()\n            .client(httpClient)\n            .baseUrl(\"https://api.mydomain.com/\")\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n\n        // Create siteService\n        val siteService: SiteService = retrofit.create(SiteService::class.java)\n\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        instance = this\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "fragment", "illegalstateexception"], "comments": [{"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 1, "creation_date": 1563370957, "post_id": 57077301, "comment_id": 100677811, "body": "Before there something there&#39;s a fragment transaction being made, attempting to add a fragment that is already added. <code>super.onResume()</code> is just executing your pending fragment transactions."}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1563371111, "post_id": 57077301, "comment_id": 100677924, "body": "@laalto is there a problem with the method of adding a fragment or replacing it?"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1563371812, "post_id": 57077301, "comment_id": 100678412, "body": "@laalto not clear where does activity. And the problem in General."}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1563372084, "post_id": 57077301, "comment_id": 100678593, "body": "There can be many reasons for this, some quite hard to reproduce. Anyway all I say with the info here is that &quot;fragment already added&quot;. Try to reproduce this crash yourself, and see what fragment transactions were involved before it."}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 404, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563370857, "creation_date": 1563370857, "question_id": 57077301, "link": "https://stackoverflow.com/questions/57077301/get-illegalstateexception-fragment-already-added", "title": "Get IllegalStateException: Fragment already added", "body": "<p>Got the following error:</p>\n\n<pre><code>Caused by java.lang.IllegalStateException: Fragment already added: f{83e932d #2 f}\n       at androidx.fragment.app.FragmentManagerImpl.addFragment + 1916(FragmentManagerImpl.java:1916)\n       at androidx.fragment.app.BackStackRecord.executeOps + 765(BackStackRecord.java:765)\n       at androidx.fragment.app.FragmentManagerImpl.executeOps + 2625(FragmentManagerImpl.java:2625)\n       at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether + 2411(FragmentManagerImpl.java:2411)\n       at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute + 2366(FragmentManagerImpl.java:2366)\n       at androidx.fragment.app.FragmentManagerImpl.execPendingActions + 2273(FragmentManagerImpl.java:2273)\n       at androidx.fragment.app.FragmentController.execPendingActions + 391(FragmentController.java:391)\n       at androidx.fragment.app.FragmentActivity.onResume + 517(FragmentActivity.java:517)\n       at com.mandarine.sai.features.main.MainActivity.onResume + 73(MainActivity.java:73)\n       at android.app.Instrumentation.callActivityOnResume + 1259(Instrumentation.java:1259)\n       at android.app.Activity.performResume + 6408(Activity.java:6408)\n       at android.app.ActivityThread.performResumeActivity + 3116(ActivityThread.java:3116)\n       at android.app.ActivityThread.handleResumeActivity + 3158(ActivityThread.java:3158)\n       at android.app.ActivityThread$H.handleMessage + 1404(ActivityThread.java:1404)\n       at android.os.Handler.dispatchMessage + 102(Handler.java:102)\n       at android.os.Looper.loop + 148(Looper.java:148)\n       at android.app.ActivityThread.main + 5458(ActivityThread.java:5458)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run + 738(ZygoteInit.java:738)\n       at com.android.internal.os.ZygoteInit.main + 628(ZygoteInit.java:628)\n</code></pre>\n\n<p>And here is my code in <code>MainActivity</code> :</p>\n\n<pre><code> override fun onResume() {\n        super.onResume()\n        this.applyPreferenceLocale()\n    }\n</code></pre>\n\n<p>Line 73: super.onResume()</p>\n"}, {"tags": ["android", "kotlin", "android-location", "android-fusedlocation"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 10991118, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SFo3Pi0npcM/AAAAAAAAAAI/AAAAAAAADJM/5KKCRETMz54/photo.jpg?sz=128", "display_name": "Chase Farmer", "link": "https://stackoverflow.com/users/10991118/chase-farmer"}, "edited": false, "score": 0, "creation_date": 1563383138, "post_id": 57077719, "comment_id": 100684937, "body": "Hi Bradleycorn.  Could you explain the &quot;remove the callback when you are done&quot; part of your answer?  I&#39;ve tried calling the <code>requestLocationUpdates()</code> as you suggested, but the <code>onLocationResult</code> callback never gets hit."}, {"owner": {"reputation": 229, "user_id": 1956112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45acbdcf5518ecec9a40f28711671c19?s=128&d=identicon&r=PG", "display_name": "Bradleycorn", "link": "https://stackoverflow.com/users/1956112/bradleycorn"}, "reply_to_user": {"reputation": 113, "user_id": 10991118, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SFo3Pi0npcM/AAAAAAAAAAI/AAAAAAAADJM/5KKCRETMz54/photo.jpg?sz=128", "display_name": "Chase Farmer", "link": "https://stackoverflow.com/users/10991118/chase-farmer"}, "edited": false, "score": 0, "creation_date": 1563389901, "post_id": 57077719, "comment_id": 100687992, "body": "@ChaseFarmer, I edited my answer to add some sample code. Does that help?"}, {"owner": {"reputation": 113, "user_id": 10991118, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SFo3Pi0npcM/AAAAAAAAAAI/AAAAAAAADJM/5KKCRETMz54/photo.jpg?sz=128", "display_name": "Chase Farmer", "link": "https://stackoverflow.com/users/10991118/chase-farmer"}, "edited": false, "score": 0, "creation_date": 1563458720, "post_id": 57077719, "comment_id": 100714119, "body": "This works very well!  Thank you for spelling it out for me \ud83d\ude03.  I think my problem before was I wasn&#39;t initializing the <code>LocationRequest</code> properly.  Also still trying to understand delegates in Kotlin."}], "tags": [], "owner": {"reputation": 229, "user_id": 1956112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45acbdcf5518ecec9a40f28711671c19?s=128&d=identicon&r=PG", "display_name": "Bradleycorn", "link": "https://stackoverflow.com/users/1956112/bradleycorn"}, "is_accepted": true, "score": 1, "last_activity_date": 1563389867, "last_edit_date": 1563389867, "creation_date": 1563372052, "answer_id": 57077719, "question_id": 57076920, "link": "https://stackoverflow.com/questions/57076920/how-to-properly-handle-location-service-toggling/57077719#57077719", "title": "How to properly handle location service toggling", "body": "<p>I haven't done a lot with the FusedLocationProviderClient, but as I understand it (and the docs seem to agree), using <code>lastLocation</code> (getLastLocation() for Java folks) doesn't really go out and \"fetch\" the current device location, but simply returns the last location that was fetched by the device. Typically, any number of services on the device are requesting location, so there is always a reasonably accurate value in the cache for <code>lastLocation</code> to use. But if you toggle Location Services off and back on and then immediately call <code>lastLocation</code>, you very well could get <code>null</code> returned. Note also that the docs for <code>lastLocation</code> state: </p>\n\n<blockquote>\n  <p>It is particularly well suited for applications that do not require an accurate location</p>\n</blockquote>\n\n<p>And from the docs for the <code>getLocationAvailability()</code> call:</p>\n\n<blockquote>\n  <p>Note it's always possible for getLastLocation() to return null even when this method returns true (e.g. location settings were disabled between calls).</p>\n</blockquote>\n\n<p>These also lend credence to the idea that the method doesn't actually do a location lookup and instead just returns the most recent lookup from cache, and when you toggle services off/on, the cache is empty. </p>\n\n<p>If you need to be sure to get the device's current location and be sure that it's fairly accurate, you probably need to use <code>requestLocationUpdates()</code> to get the location client to actually figure out the device's current location and return it in the callback you provide, and then remove the callback when you are done. </p>\n\n<p>It's been awhile since I worked with the location provider, but I think you could do something like this, assuming you only need a single location:</p>\n\n<pre><code>    private val locationRequest: LocationRequest by lazy {\n        LocationRequest.create().apply {\n            interval = (LOCATION_UPDATE_INTERVAL_SECONDS * 1000).toLong()\n            fastestInterval = (LOCATION_FAST_INTERVAL_SECONDS * 1000).toLong()\n            priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n            smallestDisplacement =\n                MINIMUM_DISPLACEMENT_METERS\n        }\n    }\n\n    private fun isValidLocation(location: Location): Boolean {\n        /* TODO: validate that the location meets all of your\n                 requirements for accuracy, etc, and return the\n                 appropriate true/false value\n         */\n        return true  // or false, for example if the location accuracy is not good enough.    \n    }    \n\n\n    private val locationCallback = object: LocationCallback() {\n        override fun onLocationResult(locationResult: LocationResult) {\n\n            Log.d(TAG, \"Location Received: $locationResult\")\n\n            val location = locationResult.lastLocation\n\n            if (isValidLocation(location)) {\n                Log.d(TAG, \"Valid Location dectected: $location\")\n\n                // we have a valid location, so stop receiving further location updates.\n                mFusedLocationClient.removeLocationUpdates(this)\n\n                //TODO: we have a valid location! Use it as you wish to update the\n                //      view, or emit it via a LiveData, etc.\n            } else {\n                // nothing to do, wait for more results.\n                Log.d(TAG, \"Location received was not valid: $location\")\n            }\n\n        }\n    }    \n\n    private fun watchLocation() {\n\n        // Check Location Permissions\n        // Check Google Play Services Version\n        // Check Location Settings\n        // If all three are good, then:\n\n        mFusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.myLooper())\n    } \n</code></pre>\n\n<p>The above snippet sets up a <code>LocationCallback</code>  that gets called when a location is received. It checks the location (via the <code>isValidLocation</code> method) and if it's valid, it removes itself from the provider so that you don't get additional location updates. Right after the line where it removes itself (<code>mFusedLocationClient.removeLocationUpdates(this)</code>), you can do whatever work you need to do with the <code>location</code> object. If the location received is NOT valid, it'll keep getting additional callbacks as locations are received, until you get one that is valid. To start it all off, just call <code>watchLocation()</code>  </p>\n"}], "owner": {"reputation": 113, "user_id": 10991118, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SFo3Pi0npcM/AAAAAAAAAAI/AAAAAAAADJM/5KKCRETMz54/photo.jpg?sz=128", "display_name": "Chase Farmer", "link": "https://stackoverflow.com/users/10991118/chase-farmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 1, "accepted_answer_id": 57077719, "answer_count": 1, "score": 0, "last_activity_date": 1563389867, "creation_date": 1563369752, "question_id": 57076920, "link": "https://stackoverflow.com/questions/57076920/how-to-properly-handle-location-service-toggling", "title": "How to properly handle location service toggling", "body": "<p>In my app, I have a button that gets the user's current location using the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient\" rel=\"nofollow noreferrer\">FusedLocationProviderClient</a>.  This works correctly until location services are turned off and then back on on the device.  When this occurs, <code>FusedLocationProviderClient.getLastLocation()</code> <strong>always returns null</strong>.  How should I handle this situation?  Do I need to reinitialize the <code>FusedLocationProviderClient</code> in some way?</p>\n\n<p>I understand from the <a href=\"https://developer.android.com/training/location/retrieve-current\" rel=\"nofollow noreferrer\">documentation</a> that when location services are turned off, the last cached location is flushed.  This tells me that I need to force a location request so the cache gets refreshed.  However, I'm unsure of how to do this.  I've also followed <a href=\"https://medium.com/@droidbyme/get-current-location-using-fusedlocationproviderclient-in-android-cb7ebf5ab88e\" rel=\"nofollow noreferrer\">this Medium article</a> for setting up the <code>FusedLocationProviderClient</code>, but all it does is check if the location result is null, and does not do anything to handle when it is.</p>\n\n<p>I am writing the app in Kotlin.  Here is how I initialize the <code>FusedLocationProviderClient</code> and get the user's current location in my fragment:</p>\n\n<pre><code>class LocationFragment : Fragment() {\n\n    private lateinit var mFusedLocationProviderClient: FusedLocationProiderClient\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        mFusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(activity)\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        // Initialize button on-click callback.\n    }\n\n    private fun getCurrentLocation() {\n        // Check that the location service is enabled.\n        // Check coarse and fine location permissions.\n\n        mFusedLocationProviderClient.lastLocation.addOnSuccessListener {\n            if (it != null) { // Always false if location services are toggled.\n                print(it.latitude, it.longitude)\n            }\n        }\n    }\n}   \n</code></pre>\n"}, {"tags": ["android", "list", "kotlin", "companion-object"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1563381014, "creation_date": 1563381014, "answer_id": 57080518, "question_id": 57076703, "link": "https://stackoverflow.com/questions/57076703/copying-elemets-from-another-list-saved-in-companion-object-and-modfying-them/57080518#57080518", "title": "Copying elemets from another list (saved in companion object) and modfying them also reflecting modifications to the original companion object", "body": "<p>You'll need to define a method which makes a copy of <code>Person</code> (and probably of any of its fields recursively or you'll run into a similar problem). If it's a <code>data class</code>, there is already a <code>copy()</code> method, but note it won't copy the fields. And on JVM you can use <code>Cloneable</code> to get a default implementation for non-data classes as described in <a href=\"https://discuss.kotlinlang.org/t/how-to-use-cloneable/2364\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/how-to-use-cloneable/2364</a>, but it's generally not recommended. </p>\n\n<p>Anyway, after you have it,</p>\n\n<pre><code>var copyList: MutableList&lt;Person&gt; = ActivityA.list.mapTo(mutableListOf&lt;Person&gt;()) { it.copy() }\n</code></pre>\n\n<p>But this is part of why you should prefer immutability in the first place.</p>\n"}], "owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 57080518, "answer_count": 1, "score": 0, "last_activity_date": 1563381014, "creation_date": 1563369102, "question_id": 57076703, "link": "https://stackoverflow.com/questions/57076703/copying-elemets-from-another-list-saved-in-companion-object-and-modfying-them", "title": "Copying elemets from another list (saved in companion object) and modfying them also reflecting modifications to the original companion object", "body": "<p>I have an <code>Activity A</code> which has: </p>\n\n<pre><code>class ActivityA {\n   companion object {\n        var list: MutableList&lt;Person&gt; = //objects are acquired here. \n   }\n}\n</code></pre>\n\n<p>In <code>ActivityB</code>, I copy this list to a variable. </p>\n\n<pre><code>class ActivityB {\n\n    var copyList: MutableList&lt;Person&gt; = ActivityA.list.toMutableList() \n}\n</code></pre>\n\n<p>After that I am changing some data of the <code>copyList</code>. For example, let's change name of any element. Let's say original <code>list</code> has <code>list.get(0).name = \"Bruno\"</code>. Now, change to something else. </p>\n\n<pre><code> copyList.get(0).name = \"Alex\" \n</code></pre>\n\n<p>Problem is this is also causing the element at index 0 to be also changed in <code>list</code>. Which means <code>list.get(0).name</code> and <code>copyList.get(0).name</code> has the same names \"Alex\" now. </p>\n\n<p>How can I make sure that original <code>list</code> elements are not changed even though <code>copyList</code> elements are changed? </p>\n"}, {"tags": ["kotlin", "flutter", "unsigned"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1563381456, "post_id": 57076692, "comment_id": 100684178, "body": "Are you trying to use them from Dart or from Kotlin?"}, {"owner": {"reputation": 2924, "user_id": 6348097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jhnqP.png?s=128&g=1", "display_name": "nbloqs", "link": "https://stackoverflow.com/users/6348097/nbloqs"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1563382308, "post_id": 57076692, "comment_id": 100684590, "body": "I&#39;m trying to use them from Kotlin, but then I send them to Dart. But intermediate results &quot;inside&quot; Kotlin are also of my interest."}], "owner": {"reputation": 2924, "user_id": 6348097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jhnqP.png?s=128&g=1", "display_name": "nbloqs", "link": "https://stackoverflow.com/users/6348097/nbloqs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563376715, "creation_date": 1563369076, "last_edit_date": 1563376715, "question_id": 57076692, "link": "https://stackoverflow.com/questions/57076692/kotlins-new-unsigned-types-not-compiling", "title": "Kotlin&#39;s new unsigned types not compiling", "body": "<p>I'm trying to use the new experimental UByte and UShort Koltin data types, but when trying to compile, there is an <code>Unresolved reference: UByte</code> error.</p>\n\n<p>I'm using Kotlin as part of a Flutter plugin package, which targets a native Android app.</p>\n\n<p>Tried to import <code>koltin.*</code> explicitly, but nothing works.</p>\n\n<p><strong>UPDATE:</strong>\nThis seems to be the Kotlin compiler version that Flutter is using:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zREWy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zREWy.png\" alt=\"enter image description here\"></a> </p>\n"}, {"tags": ["java", "android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 463, "user_id": 11480792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kd6mg.jpg?s=128&g=1", "display_name": "IncipientInfo", "link": "https://stackoverflow.com/users/11480792/incipientinfo"}, "edited": false, "score": 0, "creation_date": 1563370094, "post_id": 57076501, "comment_id": 100677278, "body": "put your code inside the if condition. At the end of condition."}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "reply_to_user": {"reputation": 463, "user_id": 11480792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kd6mg.jpg?s=128&g=1", "display_name": "IncipientInfo", "link": "https://stackoverflow.com/users/11480792/incipientinfo"}, "edited": false, "score": 0, "creation_date": 1563370537, "post_id": 57076501, "comment_id": 100677542, "body": "It still crashes the app when the code is inside the if block"}, {"owner": {"reputation": 463, "user_id": 11480792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kd6mg.jpg?s=128&g=1", "display_name": "IncipientInfo", "link": "https://stackoverflow.com/users/11480792/incipientinfo"}, "edited": false, "score": 0, "creation_date": 1563372134, "post_id": 57076501, "comment_id": 100678621, "body": "may be you are getting the values but you haven&#39;t initialized your text view barcode_field_value3"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 2237678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBECi.jpg?s=128&g=1", "display_name": "feranf", "link": "https://stackoverflow.com/users/2237678/feranf"}, "is_accepted": false, "score": 1, "last_activity_date": 1563369243, "creation_date": 1563369243, "answer_id": 57076753, "question_id": 57076501, "link": "https://stackoverflow.com/questions/57076501/java-lang-illegalstateexception-textview-must-not-be-null/57076753#57076753", "title": "java.lang.IllegalStateException: [TextView] must not be null", "body": "<p>The error says \"barcode_field_value3 must not be null\".\nVerify the code is running only after you've initialized the barcode_field_value3 member</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563371678, "post_id": 57076864, "comment_id": 100678323, "body": "I added the BarcodeResultFragment above. Even when I try to set the barcode_field_value3.text is still gives me the (cannot be null) error."}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563433525, "post_id": 57076864, "comment_id": 100699897, "body": "I think your fragment&#39;s show method called before initializing, Please let me know exact flow like why are you switching from activity to fragment?"}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563433600, "post_id": 57076864, "comment_id": 100699938, "body": "barcode_field_value3 this field belongs to activity or fragment?"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563450871, "post_id": 57076864, "comment_id": 100709130, "body": "barcode_field_Value3 is on a bottom sheet, that will slide in when a barcode has been scanned with the values. So from the main activity when a button is pressed we go to the scanner activity that looks for a barcode and scans it. Then a slide in pops up to display results (im assuming that is the fragment?) The barcode fields are on that slide in. Then it will be dismissed and we can go to scan another barcode."}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563452635, "post_id": 57076864, "comment_id": 100710149, "body": "Is it possible to initialize the barcode_field_values from the companion object inside the fragment class?"}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563454599, "post_id": 57076864, "comment_id": 100711328, "body": "can we finish scanner activity and pass scanned value to main activity and in onActivityResult we can display it&#39;s value? if you understand i will send you code"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563454722, "post_id": 57076864, "comment_id": 100711402, "body": "I believe we can. In my barcodeProcessor file after retrieving the values from the sql query I send them to the main in a object where I can display the correct results to the console."}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563455207, "post_id": 57076864, "comment_id": 100711710, "body": "try my new answer , revert me if there is any problem. Please try once"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563455602, "post_id": 57076864, "comment_id": 100711970, "body": "I will try and let you know, Thank you"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563458016, "post_id": 57076864, "comment_id": 100713626, "body": "I keep getting an error (barcode_field_value3 must not be null)"}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563458128, "post_id": 57076864, "comment_id": 100713701, "body": "barcode_field_value3  this field is in mainactivity right?"}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563458200, "post_id": 57076864, "comment_id": 100713769, "body": "Have you added this line apply plugin: &#39;kotlin-android-extensions&#39; in build.gradle app level?"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563458407, "post_id": 57076864, "comment_id": 100713918, "body": "I have added that plugin yes. The barcode_field_vvalue3 is in the fragment I believe. Its its own .xml that will be called"}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563514913, "post_id": 57076864, "comment_id": 100732442, "body": "but I think you don&#39;t need fragment!  barcode_field_vvalue3 must be in activity"}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563514977, "post_id": 57076864, "comment_id": 100732457, "body": "As per my understanding you have 2 activities main and barcodeScanner. correct?"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563802194, "post_id": 57076864, "comment_id": 100809359, "body": "Yes I was able to solve the issue with the code you had provided"}], "tags": [], "owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "is_accepted": false, "score": 1, "last_activity_date": 1563369623, "creation_date": 1563369623, "answer_id": 57076864, "question_id": 57076501, "link": "https://stackoverflow.com/questions/57076501/java-lang-illegalstateexception-textview-must-not-be-null/57076864#57076864", "title": "java.lang.IllegalStateException: [TextView] must not be null", "body": "<p>In fragment you have to use widget like this</p>\n\n<pre><code>view.barcode_field_value3.text=\nview.barcode_field_value2.text=\n</code></pre>\n\n<p>Here view is the main layout and declare it in onCreateView like this</p>\n\n<pre><code>view = inflater.inflate(R.layout.fragment_dashboard, container, false)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "is_accepted": true, "score": 1, "last_activity_date": 1563455172, "creation_date": 1563455172, "answer_id": 57095197, "question_id": 57076501, "link": "https://stackoverflow.com/questions/57076501/java-lang-illegalstateexception-textview-must-not-be-null/57095197#57095197", "title": "java.lang.IllegalStateException: [TextView] must not be null", "body": "<p>Please try this</p>\n\n<pre><code>val requestCode=100\n\n\nstartActivityForResult(Intent(context,MainActivity::class.java),requestCode)\n</code></pre>\n\n<p>and In barcode scanner activity</p>\n\n<pre><code> val data =  Intent();\n    val text = \"Result to be returned....\"\n//---set the data to pass back---\n    data.setData(\"Your Data\");\n    setResult(RESULT_OK, data);\n//---close the activity---\n    finish()\n</code></pre>\n\n<p>and get in main activity like this</p>\n\n<pre><code>override fun onActivityResult(requestCode:Int, resultCode:Int, data:Intent):Void {\nif (requestCode == requestCode) {\n    if (resultCode == RESULT_OK) {\n\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2105, "favorite_count": 0, "accepted_answer_id": 57095197, "answer_count": 3, "score": 1, "last_activity_date": 1563463049, "creation_date": 1563368526, "last_edit_date": 1563463049, "question_id": 57076501, "link": "https://stackoverflow.com/questions/57076501/java-lang-illegalstateexception-textview-must-not-be-null", "title": "java.lang.IllegalStateException: [TextView] must not be null", "body": "<p>I am trying to display two values that are obtained from a SQL query and present the values inside the TextViews.</p>\n\n<pre><code>   barcode_field_value3.text = BarcodeProcessor.data.value1\n   barcode_field_value2?.text = BarcodeProcessor.data.value2\n</code></pre>\n\n<p>I know value1 &amp; value2 have the correct values because I print them to the console and they are correct each time. </p>\n\n<p>In my LiveBarcodeScanningActivity I tried putting the above statements inside the onCreate() but it crashes right when the app launches the activity. </p>\n\n<p>I have another section below where I tried to change the text values:</p>\n\n<pre><code>    workflowModel?.detectedBarcode?.observe(this, Observer { barcode -&gt;\n\n            if (barcode != null) {\n                val barcodeFieldList = ArrayList&lt;BarcodeField&gt;()\n                barcodeFieldList.add(BarcodeField(\"Module Serial #\",   barcode.rawValue ?: \"\"))\n                BarcodeResultFragment.show(supportFragmentManager, barcodeFieldList)\n\n    //This prints the values to the console as a test\n                println(\"This is the RESULTS ---- \" + BarcodeProcessor.data.value1)\n                println(\"This is the RESULTS ---- \" + BarcodeProcessor.data.value2)\n\n            }\n            barcode_field_value3.text = BarcodeProcessor.data.value1\n            barcode_field_value2?.text = BarcodeProcessor.data.value2\n        })\n</code></pre>\n\n<p>I tried making the values nullable but nothing ever changes when they are.</p>\n\n<h3>BarcodeResultFragment</h3>\n\n<pre><code>/** Displays the bottom sheet to present barcode fields contained in the detected barcode.  */\n/**\n * Controls the bottom slide in (barcode_field.xml)\n */\nclass BarcodeResultFragment : BottomSheetDialogFragment() {\n\n    override fun onCreateView(\n        layoutInflater: LayoutInflater,\n        viewGroup: ViewGroup?,\n        bundle: Bundle?\n    ): View {\n        val view = layoutInflater.inflate(R.layout.barcode_bottom_sheet, viewGroup)\n\n        val arguments = arguments\n        val barcodeFieldList: ArrayList&lt;BarcodeField&gt; =\n            if (arguments?.containsKey(ARG_BARCODE_FIELD_LIST) == true) {\n                arguments.getParcelableArrayList(ARG_BARCODE_FIELD_LIST) ?: ArrayList()\n            } else {\n                Log.e(TAG, \"No barcode field list passed in!\")\n                ArrayList()\n            }\n\n        view.findViewById&lt;RecyclerView&gt;(R.id.barcode_field_recycler_view).apply {\n            setHasFixedSize(true)\n            layoutManager = LinearLayoutManager(activity)\n            adapter = BarcodeFieldAdapter(barcodeFieldList)\n        }\n\n        return view\n    }\n\n    override fun onDismiss(dialogInterface: DialogInterface) {\n        activity?.let {\n            // Back to working state after the bottom sheet is dismissed.\n            ViewModelProviders.of(it).get&lt;WorkflowModel&gt;(WorkflowModel::class.java)\n                .setWorkflowState(WorkflowState.DETECTING)\n        }\n        super.onDismiss(dialogInterface)\n    }\n\n    companion object {\n\n        private const val TAG = \"BarcodeResultFragment\"\n        private const val ARG_BARCODE_FIELD_LIST = \"arg_barcode_field_list\"\n\n        fun show(fragmentManager: FragmentManager, barcodeFieldArrayList: ArrayList&lt;BarcodeField&gt;) {\n            val barcodeResultFragment = BarcodeResultFragment()\n            barcodeResultFragment.arguments = Bundle().apply {\n                putParcelableArrayList(ARG_BARCODE_FIELD_LIST, barcodeFieldArrayList)\n            }\n\n\n            barcodeResultFragment.show(fragmentManager, TAG)\n        }\n\n        fun dismiss(fragmentManager: FragmentManager) {\n            (fragmentManager.findFragmentByTag(TAG) as BarcodeResultFragment?)?.dismiss()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "service", "initialization", "singleton"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1563367755, "post_id": 57076148, "comment_id": 100675614, "body": "We cannot help you with Kotlin code that does not appear in your question."}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1563367861, "post_id": 57076148, "comment_id": 100675687, "body": "looks like context in your <code>SIPManager.onCreate</code> isn&#39;t initialized"}, {"owner": {"reputation": 5080, "user_id": 1307987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4bbce19ea91ac93a7fdb9a25b4ad0a4?s=128&d=identicon&r=PG", "display_name": "rosu alin", "link": "https://stackoverflow.com/users/1307987/rosu-alin"}, "edited": false, "score": 0, "creation_date": 1563367969, "post_id": 57076148, "comment_id": 100675762, "body": "I am in my App.kt onCreate calling SIPManager.onCreate() and that is where it crashes. Do I need to add something in the init {}?"}, {"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1563367997, "post_id": 57076148, "comment_id": 100675783, "body": "That singleton code looks more java than kotlin to me"}, {"owner": {"reputation": 5080, "user_id": 1307987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4bbce19ea91ac93a7fdb9a25b4ad0a4?s=128&d=identicon&r=PG", "display_name": "rosu alin", "link": "https://stackoverflow.com/users/1307987/rosu-alin"}, "edited": false, "score": 0, "creation_date": 1563368090, "post_id": 57076148, "comment_id": 100675855, "body": "I am adding the translation now. Just 1 second"}, {"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1563368116, "post_id": 57076148, "comment_id": 100675876, "body": "you can wrap it inside a companion object and do it by lazy to have a singleton of your class"}, {"owner": {"reputation": 5080, "user_id": 1307987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4bbce19ea91ac93a7fdb9a25b4ad0a4?s=128&d=identicon&r=PG", "display_name": "rosu alin", "link": "https://stackoverflow.com/users/1307987/rosu-alin"}, "edited": false, "score": 0, "creation_date": 1563368185, "post_id": 57076148, "comment_id": 100675924, "body": "I want to use open cause that makes it automatically a singleton, and not use a companion object"}, {"owner": {"reputation": 5080, "user_id": 1307987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4bbce19ea91ac93a7fdb9a25b4ad0a4?s=128&d=identicon&r=PG", "display_name": "rosu alin", "link": "https://stackoverflow.com/users/1307987/rosu-alin"}, "reply_to_user": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1563368692, "post_id": 57076148, "comment_id": 100676269, "body": "@Gast&#243;nSaill&#233;n I modified my response, sorry would have done it before, but did a reset and had to redo"}], "answers": [{"comments": [{"owner": {"reputation": 5080, "user_id": 1307987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4bbce19ea91ac93a7fdb9a25b4ad0a4?s=128&d=identicon&r=PG", "display_name": "rosu alin", "link": "https://stackoverflow.com/users/1307987/rosu-alin"}, "edited": false, "score": 0, "creation_date": 1563369903, "post_id": 57076914, "comment_id": 100677151, "body": "Thanks. I&#39;ll leave it as a class then, and use a companion"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 1, "last_activity_date": 1563369740, "creation_date": 1563369740, "answer_id": 57076914, "question_id": 57076148, "link": "https://stackoverflow.com/questions/57076148/converting-singleton-service-into-object-in-kotlin-crashes-my-app/57076914#57076914", "title": "Converting Singleton Service into object in Kotlin crashes my app", "body": "<blockquote>\n  <p>MY Singleton now looks like this</p>\n</blockquote>\n\n<p>You cannot make an <code>Android</code> service be a Kotlin <code>object</code>. Kotlin cannot create the <code>Service</code> instance; only the Android framework can.</p>\n\n<p>Change <code>object</code> to <code>class</code> in your <code>SIPManager</code>. Then, restore the <code>startService()</code> call that you must have had in your Java code, to start the <code>SIPManager</code> at some point before you need it.</p>\n"}], "owner": {"reputation": 5080, "user_id": 1307987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4bbce19ea91ac93a7fdb9a25b4ad0a4?s=128&d=identicon&r=PG", "display_name": "rosu alin", "link": "https://stackoverflow.com/users/1307987/rosu-alin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 57076914, "answer_count": 1, "score": 1, "last_activity_date": 1563369740, "creation_date": 1563367420, "last_edit_date": 1563368667, "question_id": 57076148, "link": "https://stackoverflow.com/questions/57076148/converting-singleton-service-into-object-in-kotlin-crashes-my-app", "title": "Converting Singleton Service into object in Kotlin crashes my app", "body": "<p>I had an object I would initiate as:</p>\n\n<pre><code>public class SIPManager\n    extends Service\n    implements OnPortSIPEvent\n{\n\nprivate static SIPManager instance;\n\npublic static SIPManager getInstance()\n    {\n        return instance;\n    }\n}\n</code></pre>\n\n<p>And I would start in my APP I would do this:</p>\n\n<pre><code>if (SIPManager.getInstance() != null &amp;&amp; callStrategy != null &amp;&amp; callStrategy == CallStrategy.SIP) {\n    if (SIPManager.getInstance().isSipRegistered &amp;&amp; (SIPManager.getInstance().isLoginInProgress || SIPManager.getInstance()\n                                    .inActiveCall()!! || SIPManager.getInstance().isRegistrationRefreshValid!!)) {\n                       ..... do stuff\n    }\n}\n</code></pre>\n\n<p>But after converting to Kotlin I get this:</p>\n\n<pre><code>2019-07-17 14:39:51.517 21173-21173/com.xelion.android.debug E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.xelion.android.debug, PID: 21173\njava.lang.ExceptionInInitializerError\n    at com.xelion.android.App$Companion.initServices(App.kt:103)\n    at com.xelion.android.App.onCreate(App.kt:41)\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1154)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5920)\n    at android.app.ActivityThread.access$1100(ActivityThread.java:200)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1656)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6718)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object android.content.Context.getSystemService(java.lang.String)' on a null object reference\n    at android.content.ContextWrapper.getSystemService(ContextWrapper.java:728)\n    at com.xelion.android.sip.SIPManager.onCreate(SIPManager.kt:316)\n    at com.xelion.android.sip.SIPManager.&lt;clinit&gt;(SIPManager.kt:126)\n    at com.xelion.android.App$Companion.initServices(App.kt:103)\u00a0\n    at com.xelion.android.App.onCreate(App.kt:41)\u00a0\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1154)\u00a0\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5920)\u00a0\n    at android.app.ActivityThread.access$1100(ActivityThread.java:200)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1656)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:106)\u00a0\n    at android.os.Looper.loop(Looper.java:193)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6718)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\u00a0\n2019-07-17 14:39:55.561 21173-21173/com.xelion.android.debug \nE/CrashlyticsCore: Failed to execute task.\njava.util.concurrent.TimeoutException\n    at java.util.concurrent.FutureTask.get(FutureTask.java:206)\n    at com.crashlytics.android.core.CrashlyticsBackgroundWorker.submitAndWait(CrashlyticsBackgroundWorker.java:41)\n    at com.crashlytics.android.core.CrashlyticsController.handleUncaughtException(CrashlyticsController.java:321)\n    at com.crashlytics.android.core.CrashlyticsController$6.onUncaughtException(CrashlyticsController.java:301)\n    at com.crashlytics.android.core.CrashlyticsUncaughtExceptionHandler.uncaughtException(CrashlyticsUncaughtExceptionHandler.java:42)\n    at java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1068)\n    at java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1063)\n    at java.lang.Thread.dispatchUncaughtException(Thread.java:1955)\n</code></pre>\n\n<p>MY Singleton now looks like this:</p>\n\n<pre><code>object SIPManager : Service(), OnPortSIPEvent {\n       override fun onCreate() {\n\n    super.onCreate()\n\n    portSipSdk = PortSipSdk()\n    incomingCallToneGenerator = IncomingCallToneGenerator()\n\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n        val notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        val channel = NotificationChannel(channelID, \"Xelion\", NotificationManager.IMPORTANCE_DEFAULT)\n        channel.enableLights(true)\n        notificationManager.createNotificationChannel(channel)\n    }\n    showServiceNotifiCation()\n\n    subscribeToCallsNotifications()\n    }\n}\n</code></pre>\n\n<p>I have no init. should I create for my singleton?</p>\n\n<p>I tried calling from my App.kt class the first thing. SIPManager.onCreate() but still just crashes</p>\n"}, {"tags": ["android", "kotlin", "android-service", "android-workmanager"], "comments": [{"owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "edited": false, "score": 0, "creation_date": 1563364993, "post_id": 57075329, "comment_id": 100673948, "body": "Worker manager is far better than service, as you know it will guarantee you to execute and you can add your constraints as well"}, {"owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "edited": false, "score": 0, "creation_date": 1563364999, "post_id": 57075329, "comment_id": 100673953, "body": "<a href=\"https://stackoverflow.com/questions/56734905/websockets-on-android-and-ios/56735744#56735744\" title=\"websockets on android and ios\">stackoverflow.com/questions/56734905/&hellip;</a> check this"}], "answers": [{"comments": [{"owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "edited": false, "score": 0, "creation_date": 1563368892, "post_id": 57075428, "comment_id": 100676410, "body": "While it is downloading or restoring data, i will need to update a progress tracker in the notification. Is Service still a better choice ? Or Loaders ?"}], "tags": [], "owner": {"reputation": 3230, "user_id": 6071729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpjDR.jpg?s=128&g=1", "display_name": "A Farmanbar", "link": "https://stackoverflow.com/users/6071729/a-farmanbar"}, "is_accepted": true, "score": 3, "last_activity_date": 1563712352, "last_edit_date": 1563712352, "creation_date": 1563365157, "answer_id": 57075428, "question_id": 57075329, "link": "https://stackoverflow.com/questions/57075329/android-which-background-service-to-use/57075428#57075428", "title": "Android: Which Background Service to use?", "body": "<p>I recommend you to use <code>ForegroundService</code> as of the goal of using these services are Long Running Processes that Users should be informed and interact with it .</p>\n\n<p>Consider when you try to backup when you Use <code>ForegroundService</code> then you can show to user </p>\n\n<ul>\n<li>The process left to end</li>\n<li>Cancel Backup</li>\n<li>Pause</li>\n<li>and etc</li>\n</ul>\n\n<p>So I recommend you to use this approach .</p>\n"}], "owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 57075428, "answer_count": 1, "score": 1, "last_activity_date": 1563712352, "creation_date": 1563364811, "question_id": 57075329, "link": "https://stackoverflow.com/questions/57075329/android-which-background-service-to-use", "title": "Android: Which Background Service to use?", "body": "<p>I have an app where a user can perform a backup (offline) and restore (offline) on a button click. However, i don't know which background service is appropriate to use. Can someone advise me whether to use <strong>WorkerManager</strong> or <strong>Service</strong> in this case?</p>\n"}, {"tags": ["kotlin", "import"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1563362927, "post_id": 57074505, "comment_id": 100672879, "body": "Good question!  I don&#39;t think the <code>import</code> <i>is</i> necessary, if all that is going into one file.  I suspect it actually came from multiple <code>.kt</code> files (in which case the <code>import</code> <i>would</i> be needed), and the author pasted them all together without change."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1563372052, "post_id": 57074505, "comment_id": 100678574, "body": "@gidds That would be correct for <code>import TimeInterval</code>. But for <code>import TimeInterval.*</code> as in the question Andrei&#39;s answer gives the explanation."}], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 2, "last_activity_date": 1563366415, "creation_date": 1563366415, "answer_id": 57075840, "question_id": 57074505, "link": "https://stackoverflow.com/questions/57074505/tutorial-on-operator-overloading-in-kotlin-why-import-timeinterval/57075840#57075840", "title": "Tutorial on operator overloading in Kotlin- why `import TimeInterval.*`", "body": "<p>Otherwise, you have to write <code>TimeInterval.YEAR + TimeInterval.WEEK</code> and so on instead of <code>YEAR + WEEK</code></p>\n"}], "owner": {"reputation": 27, "user_id": 8076894, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NipmOuOypcg/AAAAAAAAAAI/AAAAAAAAOpk/6RCGfImXpQk/photo.jpg?sz=128", "display_name": "Krishnan Trikkadeeri", "link": "https://stackoverflow.com/users/8076894/krishnan-trikkadeeri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57075840, "answer_count": 1, "score": 0, "last_activity_date": 1563366415, "creation_date": 1563361803, "question_id": 57074505, "link": "https://stackoverflow.com/questions/57074505/tutorial-on-operator-overloading-in-kotlin-why-import-timeinterval", "title": "Tutorial on operator overloading in Kotlin- why `import TimeInterval.*`", "body": "<p>I am totally new to Kotlin. I was trying to understand the question and answer at <a href=\"https://stackoverflow.com/questions/50858489/operator-overloading-in-kotlin-and-how-does-this-code-work\">Operator overloading in Kotlin and how does this code work?</a>. I could not understand the line <code>import TimeInterval.*</code>. I tried googling for such a package/class, but could not find any.\nThe code goes on to declare <code>enum class TimeInterval{DAY, WEEK, YEAR}</code> three lines later, and the subsequent code appears to refer to this class. So why is the <code>import</code> necessary?</p>\n"}, {"tags": ["java", "android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1563360836, "post_id": 57074183, "comment_id": 100671804, "body": "Have u check this <a href=\"https://stackoverflow.com/q/34562950/7666442\">stackoverflow.com/q/34562950/7666442</a> &amp;&amp; <a href=\"https://stackoverflow.com/a/35698175/7666442\">stackoverflow.com/a/35698175/7666442</a>"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1563360892, "post_id": 57074183, "comment_id": 100671834, "body": "@NileshRathod yes I have already checked it."}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1563361017, "post_id": 57074183, "comment_id": 100671889, "body": "Multipart working fine but I have stuck in image array with their data"}, {"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "edited": false, "score": 1, "creation_date": 1563361057, "post_id": 57074183, "comment_id": 100671909, "body": "This should suffice <a href=\"https://stackoverflow.com/a/56707784/4377954\">stackoverflow.com/a/56707784/4377954</a>. <code>MultipartBody.Part</code> is loaded in the loop for multiple images. You can put your format-data inside the same loop and increment the key."}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "edited": false, "score": 0, "creation_date": 1563361303, "post_id": 57074183, "comment_id": 100672045, "body": "@De\u02e3 yes I have already done it but I have ArrayList of type &lt;T&gt;  <a href=\"https://stackoverflow.com/questions/38718439/passing-arrays-in-multipart-post-using-okhttp\">here</a> and <a href=\"https://stackoverflow.com/questions/40607862/retrofit-throwing-an-exception-java-lang-illegalargumentexception-only-one-en\">here</a>"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "edited": false, "score": 0, "creation_date": 1563361453, "post_id": 57074183, "comment_id": 100672116, "body": "@De\u02e3 I have already loaded the mulitple image with Multipart but how can I send id,exp_date along with the image that&#39;s why I made custom type but also failed to do it then i change to form type."}, {"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "edited": false, "score": 0, "creation_date": 1563362039, "post_id": 57074183, "comment_id": 100672420, "body": "@Farhana I have added an answer for you. Try similar approach."}], "answers": [{"comments": [{"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563362956, "post_id": 57074553, "comment_id": 100672900, "body": "@Farhana I have updated the answer with an easy approach for you."}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563365490, "post_id": 57074553, "comment_id": 100674203, "body": "Showing exception <code>java.lang.IllegalArgumentException: @PartMap values cannot be MultipartBody.Part. Use @Part List&lt;Part&gt; or a different value type instead</code>"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563366320, "post_id": 57074553, "comment_id": 100674718, "body": "I have already done it, see exact same as your edited code, but I was confused in what parameter is to be sent in ApiInterface."}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563367182, "post_id": 57074553, "comment_id": 100675267, "body": "The data will be sent in the form  [ 0[],1[],2[]]"}, {"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563367183, "post_id": 57074553, "comment_id": 100675268, "body": "@Farhana for the edited part its same what you have right now."}, {"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563367615, "post_id": 57074553, "comment_id": 100675533, "body": "@Farhana I have already updated the answer. The interface method is <code>fun signUp2(@Body builder: RequestBody ): Observable&lt;Registration&gt;</code>"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563367697, "post_id": 57074553, "comment_id": 100675577, "body": "when i was using ` @Multipart` with it, it was thowing exception"}, {"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563367749, "post_id": 57074553, "comment_id": 100675610, "body": "What exception?"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563367997, "post_id": 57074553, "comment_id": 100675781, "body": "``java.lang.IllegalArgumentException: @Body parameters cannot be used with form or multi-part encoding.`  showing this error later  i removed <code>multipart</code> but still unable to doi it"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563368576, "post_id": 57074553, "comment_id": 100676208, "body": "@Part was asking for key that time"}, {"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563369849, "post_id": 57074553, "comment_id": 100677114, "body": "@Farhana annotation is <code>@Part</code> and the body is <code>MultipartBody</code>. I checked its working. Try it once again."}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563370260, "post_id": 57074553, "comment_id": 100677360, "body": "<code>java.lang.IllegalArgumentException: @Part annotation must supply a name or use MultipartBody.Part parameter type</code> showing error"}, {"owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563371277, "post_id": 57074553, "comment_id": 100678037, "body": "@Farhana Can you try the rollbacked answer? I have updated some of the code. I hope this works for you."}], "tags": [], "owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "is_accepted": false, "score": 1, "last_activity_date": 1563371414, "last_edit_date": 1563371414, "creation_date": 1563362025, "answer_id": 57074553, "question_id": 57074183, "link": "https://stackoverflow.com/questions/57074183/send-form-data-to-server-in-retrofit/57074553#57074553", "title": "Send Form data to server in Retrofit", "body": "<p><strong>Dummy api interface.</strong></p>\n\n<pre><code> public interface ApiInterface {\n        @Multipart\n        @POST(URLHelper.register)\n        Call&lt;ModelProp&gt; signUp2(@Part List&lt;MultipartBody.Part&gt; photos,\n                          @PartMap Map&lt;String, RequestBody&gt; map;\n    }\n</code></pre>\n\n<p>Now create data to post like this.</p>\n\n<pre><code>Map&lt;String, RequestBody&gt; partMap = new HashMap&lt;&gt;();\nList&lt;MultipartBody.Part&gt; images = new ArrayList&lt;&gt;();\npartMap.put(\"device_id\", createPartFromString(deviceId)); // add data which are common for all images like device_id, device_token, device_type etc.\n..\n..\n\nfor (int i=0; i &lt; upFileList.size(); i++){\n   images.add(prepareFilePart(\"provider_documents[\"+i+\"][document]\", imageFile));\n   partMap.add(\"provider_documents[\"+i+\"][expires_at]\", createPartFromString(expiry)); // add image specific data. \n ...\n ..\n}\n...\n..\nobservable = apiInterface.signUp2(images, partMap).\n</code></pre>\n\n<p><strong>createPartFromString</strong> method</p>\n\n<pre><code>public RequestBody createPartFromString(String string) {\n        return RequestBody.create(MultipartBody.FORM, string);\n}\n</code></pre>\n\n<p><strong>prepareFilePart</strong> method</p>\n\n<pre><code>private MultipartBody.Part prepareFilePart(String partName, File file){\n    RequestBody requestBody = RequestBody.create(MediaType.parse(\"image/*\"), file);\n\n    return MultipartBody.Part.createFormData(partName, file.getName(),requestBody);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 299, "user_id": 7455793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec0ec8ec5dfa2d5d59ce47d85ccf8c4?s=128&d=identicon&r=PG&f=1", "display_name": "ChandraShekhar Kaushik", "link": "https://stackoverflow.com/users/7455793/chandrashekhar-kaushik"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1563369354, "post_id": 57076466, "comment_id": 100676769, "body": "@Farhana check updated code, you can implement it this way easily."}], "tags": [], "owner": {"reputation": 299, "user_id": 7455793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec0ec8ec5dfa2d5d59ce47d85ccf8c4?s=128&d=identicon&r=PG&f=1", "display_name": "ChandraShekhar Kaushik", "link": "https://stackoverflow.com/users/7455793/chandrashekhar-kaushik"}, "is_accepted": false, "score": 0, "last_activity_date": 1563369020, "last_edit_date": 1563369020, "creation_date": 1563368423, "answer_id": 57076466, "question_id": 57074183, "link": "https://stackoverflow.com/questions/57074183/send-form-data-to-server-in-retrofit/57076466#57076466", "title": "Send Form data to server in Retrofit", "body": "<p>Use it Like this:-</p>\n\n<pre><code>// @Multipart\n@POST(URLHelper.register)\nfun signUp2(@Part builder: MultipartBody ): Observable&lt;Registration&gt;\n</code></pre>\n\n<p>Updated :-</p>\n\n<pre><code>  private void uploadToServer(String filePath) {\n        showProgressDialog();\n        Retrofit retrofit = RetrofitClient.getRetrofitClient(this);\n        ApiInterface uploadAPIs = retrofit.create(ApiInterface.class);\n        File file = new File(filePath);\n        //compressor.setDestinationDirectoryPath()\n        RequestBody fileReqBody = RequestBody.create(MediaType.parse(\"image/*\"), file);\n        MultipartBody.Part part = MultipartBody.Part.createFormData(\"fileUpload\", file.getName(), fileReqBody);\n        //RequestBody description = RequestBody.create(MediaType.parse(\"text/plain\"), \"image-type\");\n        RequestBody imgNameReqBody = RequestBody.create(MediaType.parse(\"multipart/form-data\"), \"B2B_\" + System.nanoTime());\n\n        uploadAPIs.uploadImage(imgNameReqBody, part).enqueue(new Callback&lt;UploadImageRespose&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;UploadImageRespose&gt; call, @NonNull retrofit2.Response&lt;UploadImageRespose&gt; response) {\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\n                    if (response.body().getCODE().equalsIgnoreCase(\"SUCCESS\")) {\n                        Toast.makeText(Activity.this, \"Profile Image Upload Succesfully\", Toast.LENGTH_SHORT).show();\n                    } else {\n                        hideProgressDialog();\n                        Toast.makeText(Activity.this, \"Some Error  occurred, try again\", Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    hideProgressDialog();\n                }\n\n            }\n\n            @Override\n            public void onFailure(@NonNull Call&lt;UploadImageRespose&gt; call, @NonNull Throwable t) {\n                Timber.d(TAG, t.getMessage());\n                hideProgressDialog();\n                Toast.makeText(Activity.this, \"Some Error  occurred, try again\", Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n\n<p>add below method in your interface:-</p>\n\n<pre><code>    @Multipart\n    @POST(\"Your Path Here\")\n    Call&lt;UploadImageRespose&gt; uploadImage(@Part(\"img_name\") RequestBody img_name,\n                                         @Part MultipartBody.Part file);\n</code></pre>\n"}], "owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1125, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1563371414, "creation_date": 1563360688, "last_edit_date": 1563367445, "question_id": 57074183, "link": "https://stackoverflow.com/questions/57074183/send-form-data-to-server-in-retrofit", "title": "Send Form data to server in Retrofit", "body": "<p>Trying to send form data to the server via Retrofit but unable to request to the server. I want to post an image array with their data.</p>\n\n<pre><code> val builder: MultipartBody.Builder  =  MultipartBody.Builder().setType(MultipartBody.FORM);\n            builder.addFormDataPart(\"device_id\",device_UDID)\n            builder.addFormDataPart(\"device_token\",device_token)\n            builder.addFormDataPart(\"device_type\",\"android\")\n            builder.addFormDataPart(\"country_code\",Constant.COUNTRY_CODE)\n            builder.addFormDataPart(\"email\",signUpBean.email)\n            builder.addFormDataPart(\"mobile\",signUpBean.phoneNumber)\n            builder.addFormDataPart(\"first_name\",signUpBean.firstName)\n            builder.addFormDataPart(\"last_name\",signUpBean.lastName)\n            builder.addFormDataPart(\"gender\",signUpBean.gender)\n            builder.addFormDataPart(\"dob\",signUpBean.dob)\n            builder.addFormDataPart(\"city\",signUpBean.city)\n            builder.addFormDataPart(\"bike_type_id\",\"1\")\n            builder.addFormDataPart(\"bike_model\",signUpBean.mfg)\n            builder.addFormDataPart(\"bike_manufacturer\",signUpBean.mfg)\n            builder.addFormDataPart(\"reg_year\",signUpBean.mfgYear)\n            builder.addFormDataPart(\"liecense_plate\",signUpBean.licencePlateNo)\n            builder.addFormDataPart(\"bank_ac_name\",signUpBean.bnkHolderName)\n            builder.addFormDataPart(\"bank_ac_number\",signUpBean.bnkAccountNumber)\n            builder.addFormDataPart(\"bank_name\",signUpBean.bnkName)\n            builder.addFormDataPart(\"bank_ifsc_code\",signUpBean.ifscCode)\n            builder.addFormDataPart(\"profile_pic\",\"profile\" + \".jpg\", RequestBody.create(MediaType.parse(\"image/*\"), file_profile!!))\n            builder.addFormDataPart(\"provider_documents[0][document]\",\"1\" + \".jpg\", RequestBody.create(MediaType.parse(\"image/*\"), file_profile!!))\n            builder.addFormDataPart(\"provider_documents[0][document_id]\",\"1\")\n            builder.addFormDataPart(\"provider_documents[0][unique_id]\",\"1\")\n            builder.addFormDataPart(\"provider_documents[0][exprice_at]\",\"2010-12-12\")\n            val requestBody = builder.build()\n                 observable = apiInterface.signUp2(requestBody)\n</code></pre>\n\n<p>I have tried many solutions but unable to post an image array with their data.\nWhen i remove <code>provider_documents</code> from <code>addFormDataPart</code> it works fine.</p>\n\n<pre><code>// @Multipart\n    @POST(URLHelper.register)\n    fun signUp2(@Body builder: RequestBody ): Observable&lt;Registration&gt;\n</code></pre>\n\n<p>How can I send <code>Providers_document</code> array and it is working fine on <code>Postman</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fJlOp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fJlOp.png\" alt=\"enter image description here\"></a> post this type of data from retrofit</p>\n\n<pre><code>   val partMap = HashMap&lt;String, RequestBody&gt;()\n            partMap.put(\"device_id\", createPartFromString(device_UDID));\n            partMap.put(\"device_token\",createPartFromString(device_token))\n            partMap.put(\"device_type\",createPartFromString(\"android\"))\n            partMap.put(\"country_code\",createPartFromString(Constant.COUNTRY_CODE))\n            partMap.put(\"email\",createPartFromString(signUpBean.email))\n            partMap.put(\"mobile\",createPartFromString(signUpBean.phoneNumber))\n            partMap.put(\"first_name\",createPartFromString(signUpBean.firstName))\n            partMap.put(\"last_name\",createPartFromString(signUpBean.lastName))\n            partMap.put(\"gender\",createPartFromString(signUpBean.gender))\n            partMap.put(\"dob\",createPartFromString(signUpBean.dob))\n            partMap.put(\"city\",createPartFromString(signUpBean.city))\n            partMap.put(\"bike_type_id\",createPartFromString(\"1\"))\n            partMap.put(\"bike_model\",createPartFromString(signUpBean.mfg))\n            partMap.put(\"bike_manufacturer\",createPartFromString(signUpBean.mfg))\n            partMap.put(\"reg_year\",createPartFromString(signUpBean.mfgYear))\n            partMap.put(\"liecense_plate\",createPartFromString(signUpBean.licencePlateNo))\n            partMap.put(\"bank_ac_name\",createPartFromString(signUpBean.bnkHolderName))\n            partMap.put(\"bank_ac_number\",createPartFromString(signUpBean.bnkAccountNumber))\n            partMap.put(\"bank_name\",createPartFromString(signUpBean.bnkName))\n            partMap.put(\"bank_ifsc_code\",createPartFromString(signUpBean.ifscCode))\n\n            partMap.put(\"provider_documents[\"+0+\"][document_id]\",createPartFromString(signUpBean.ifscCode))\n            partMap.put(\"provider_documents[\"+0+\"][unique_id]\",createPartFromString(signUpBean.ifscCode))\n            partMap.put(\"provider_documents[\"+0+\"][exprice_at]\",createPartFromString(signUpBean.dob))\n\n            val ImageMap = HashMap&lt;String, MultipartBody.Part&gt;()\n            ImageMap.put(\"profile_pic\", prepareFilePart(\"12\", file_profile!!));\n            ImageMap.put(\"provider_documents[\"+0+\"][document]\", prepareFilePart(\"1\", file_profile!!));\n</code></pre>\n\n<p>Request Api</p>\n\n<pre><code>   @Multipart\n    @POST(URLHelper.register)\n    fun signUp3(@PartMap photo: HashMap&lt;String, RequestBody&gt;,\n                @PartMap ImageMap:HashMap&lt;MultipartBody.Part&gt;,\n\n     ): Observable&lt;Registration&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1563357133, "post_id": 57072979, "comment_id": 100669859, "body": "I guess it has something to do with launch modes"}, {"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1563360008, "post_id": 57072979, "comment_id": 100671365, "body": "for activity there is &quot;override fun onNewIntent(intent: Intent){}&quot; function. and use pending intent in push &quot;PendingIntent.FLAG_UPDATE_CURRENT&quot;."}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563356655, "creation_date": 1563356655, "question_id": 57072979, "link": "https://stackoverflow.com/questions/57072979/re-opening-an-activity-fragment-from-a-push-notification-all-previous-data-is", "title": "Re-opening an activity/fragment from a push notification - all previous data is forgotten?", "body": "<p>I've implemented a push notification which, when clicked on, takes me to my \"home\" page (which is a fragment). </p>\n\n<p>However, when the fragment is opened from this push notification, all variables that were assigned on fragment start-up are forgotten.</p>\n\n<p>For example, my <code>user1</code> String variable is initially set to <code>\"\"</code> as a global variable but changes to a name while the user is in the fragment.</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    Log.d(TAG, \"user1: $user1\")\n</code></pre>\n\n<p>However when I open the app from the push notification, <code>user1</code> is reset to <code>\"\"</code> again, along with all of my other global variables which changed some time after the app was initially opened. </p>\n\n<p>If a user opens an app from a push notification, is the previous state lost?</p>\n\n<p>I presumed it would be the same behaviour as when the user leaves the app and comes back - the data is always remembered - but that is not the case.</p>\n"}, {"tags": ["java", "spring-boot", "kotlin", "amazon-dynamodb"], "comments": [{"owner": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "edited": false, "score": 0, "creation_date": 1563387918, "post_id": 57072884, "comment_id": 100687065, "body": "You cannot choose a time zone or a time offset. It always uses UTC."}, {"owner": {"reputation": 101, "user_id": 9956025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d221c0ee6d242947d7d5d8b6c76b9b6a?s=128&d=identicon&r=PG&f=1", "display_name": "Hrithik Manchanda", "link": "https://stackoverflow.com/users/9956025/hrithik-manchanda"}, "reply_to_user": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "edited": false, "score": 0, "creation_date": 1563430152, "post_id": 57072884, "comment_id": 100698484, "body": "But is there any way out for this to have an offset of +05:30?"}, {"owner": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "edited": false, "score": 0, "creation_date": 1563433411, "post_id": 57072884, "comment_id": 100699833, "body": "Like I said, you cannot choose a time zone or <b>time offset</b>. Why do you need to use an offset in your database?"}, {"owner": {"reputation": 101, "user_id": 9956025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d221c0ee6d242947d7d5d8b6c76b9b6a?s=128&d=identicon&r=PG&f=1", "display_name": "Hrithik Manchanda", "link": "https://stackoverflow.com/users/9956025/hrithik-manchanda"}, "reply_to_user": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "edited": false, "score": 0, "creation_date": 1563434166, "post_id": 57072884, "comment_id": 100700184, "body": "it is a zone only database and this may lead to incorrect information or else i have to do manual offset for this to store correct information according to our timezone"}], "answers": [{"tags": [], "owner": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "is_accepted": true, "score": 1, "last_activity_date": 1563463023, "creation_date": 1563463023, "answer_id": 57097799, "question_id": 57072884, "link": "https://stackoverflow.com/questions/57072884/how-to-set-timezone-for-dynamodbautogenerated-timestamp-in-spring-data/57097799#57097799", "title": "How to set Timezone for DynamoDBAutogenerated timestamp in spring data", "body": "<p>It is not possible to set a zone offset for <code>@DynamoDBAutoGeneratedTimestamp</code>, but it is possible to create your own implementation of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAutoGenerator.html\" rel=\"nofollow noreferrer\">@DynamoDBAutoGenerator</a> along with a <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAutoGenerated.html\" rel=\"nofollow noreferrer\">corresponding annotation</a>.</p>\n\n<p>Here's how you would accomplish it in Java. (It looks like you're using Kotlin, but it should be straightforward for you to convert this.)</p>\n\n<pre><code>@DynamoDBAutoGenerated(generator=AutoGeneratedTimestampWithOffset.Generator.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD})\npublic @interface AutoGeneratedTimestampWithOffset {\n\n    /**\n     * See {@link ZoneOffset#of(String)} for valid values.\n     */\n    String offset();\n    DynamoDBAutoGenerateStrategy strategy() default DynamoDBAutoGenerateStrategy.ALWAYS;\n\n    public class Generator implements DynamoDBAutoGenerator&lt;String&gt; {\n        private final String offset;\n        private final DynamoDBAutoGenerateStrategy strategy;\n\n        public Generator(final Class&lt;String&gt; targetType, final AutoGeneratedTimestampWithOffset annotation) {\n            this.offset = annotation.offset();\n            this.strategy = annotation.strategy();\n        }\n\n        @Override\n        public DynamoDBAutoGenerateStrategy getGenerateStrategy() {\n            return strategy;\n        }\n\n        @Override\n        public final String generate(final String currentValue) {\n            return OffsetDateTime.ofInstant(Instant.now(), ZoneOffset.of(offset)).toString();\n        }\n    }\n}\n</code></pre>\n\n<p>In your <code>@DynamoDBTable</code> class, you would use this annotation like this:</p>\n\n<pre><code>@get:AutoGeneratedTimestampWithOffset(offset=\"+05:30\", strategy=DynamoDBAutoGenerateStrategy.CREATE)\nvar createdAt: String? = null\n\n@get:AutoGeneratedTimestampWithOffset(offset=\"+05:30\", strategy=DynamoDBAutoGenerateStrategy.ALWAYS)\nvar updateAt: String? = null\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 9956025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d221c0ee6d242947d7d5d8b6c76b9b6a?s=128&d=identicon&r=PG&f=1", "display_name": "Hrithik Manchanda", "link": "https://stackoverflow.com/users/9956025/hrithik-manchanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 57097799, "answer_count": 1, "score": 2, "last_activity_date": 1563463023, "creation_date": 1563356376, "question_id": 57072884, "link": "https://stackoverflow.com/questions/57072884/how-to-set-timezone-for-dynamodbautogenerated-timestamp-in-spring-data", "title": "How to set Timezone for DynamoDBAutogenerated timestamp in spring data", "body": "<p>I am trying to add time attributes in dynamoDb table. I have added @DynamoDBAutoGeneratedTimestamp annotation on my date containers but it seems to pick the 00:00 as the default timezone. </p>\n\n<pre><code>@get:DynamoDBAutoGeneratedTimestamp(strategy=DynamoDBAutoGenerateStrategy.CREATE)\n    var createdAt: String? = null\n\n    @get:DynamoDBAutoGeneratedTimestamp(strategy=DynamoDBAutoGenerateStrategy.ALWAYS)\n    var updateAt: String? = null\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-livedata"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1563359730, "post_id": 57072855, "comment_id": 100671238, "body": "why specifically do you want to use transformations ?"}, {"owner": {"reputation": 1724, "user_id": 2139684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e2b2687af1d05c9c72a2490763f6e6d?s=128&d=identicon&r=PG&f=1", "display_name": "hamid", "link": "https://stackoverflow.com/users/2139684/hamid"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1563361673, "post_id": 57072855, "comment_id": 100672221, "body": "Because I don&#39;t want to call LiveData.observe multiple times in my fragment (namely, match, team x 2, player x 2) or nest them if I need to use one in another."}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1563361910, "post_id": 57072855, "comment_id": 100672351, "body": "even though this might not solve your question, have you consider changing your dao to keep info of a match with a list of team and player info ?"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1563361939, "post_id": 57072855, "comment_id": 100672363, "body": "basically, keep info on an entire match in one object instead of 3"}, {"owner": {"reputation": 1724, "user_id": 2139684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e2b2687af1d05c9c72a2490763f6e6d?s=128&d=identicon&r=PG&f=1", "display_name": "hamid", "link": "https://stackoverflow.com/users/2139684/hamid"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1563362830, "post_id": 57072855, "comment_id": 100672838, "body": "I need to store players and teams in different tables because I need them for upcoming matches."}], "owner": {"reputation": 1724, "user_id": 2139684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e2b2687af1d05c9c72a2490763f6e6d?s=128&d=identicon&r=PG&f=1", "display_name": "hamid", "link": "https://stackoverflow.com/users/2139684/hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563356276, "creation_date": 1563356276, "question_id": 57072855, "link": "https://stackoverflow.com/questions/57072855/how-to-use-transformations-to-set-multiple-properties-for-a-livedata-object", "title": "How to use Transformations to set multiple properties for a LiveData object?", "body": "<p>I have these types:</p>\n\n<pre><code>data class Match(\n    @PrimaryKey var uid: Long? = null,\n    @ColumnInfo var homeTeamId: Long? = null,\n    @ColumnInfo var awayTeamId: Long? = null,\n    @Ignore var homeTeam: Team? = null,\n    @Ignore var awayTeam: Team? = null\n)\n\ndata class Team(\n    @PrimaryKey var uid: Long? = null,\n    @ColumnInfo var captainId: Long? = null,\n    @Ignore var captain: Player? = null\n)\n\ndata class Player(\n    @PrimaryKey var uid: Long? = null,\n    @ColumnInfo var name: String? = null,\n    var number: Int? = null\n)\n</code></pre>\n\n<p>and I'm getting match as a LiveData:</p>\n\n<pre><code>// inside fragment\nmatchDao.getLive(matchId).observe(this, Observer {})\n</code></pre>\n\n<p>I want to set homeTeam on match using the homeTeamId property. How can I use transformations to set the values for homeTeam, awayTeam and captain?</p>\n\n<p>This is how far I have gotten:</p>\n\n<pre><code>fun getMatchLive(id: Long): LiveData&lt;Match&gt; {\n    return Transformations.switchMap(matchDao.getLive(id)) { inputMatch -&gt;\n        val output1: LiveData&lt;Match&gt;? = inputMatch.homeTeamId?.run {\n            Transformations.switchMap(teamDao.getLive(this)) { team -&gt;\n                team.captainId?.run {\n                    Transformations.map(playerDao.getLive(this)) { player -&gt;\n                        team.apply {\n                            captain = player\n                            inputMatch.homeTeam = team\n                        }\n                        inputMatch\n                    }\n                }\n            }\n        }\n\n        output1?.run {\n            Transformations.switchMap(this) { inputMatch1 -&gt;\n                inputMatch1.awayTeamId?.run {\n                    Transformations.switchMap(teamDao.getLive(this)) { team -&gt;\n                        team.captainId?.run {\n                            Transformations.map(playerDao.getLive(this)) { player -&gt;\n                                team.apply {\n                                    captain = player\n                                    inputMatch1.awayTeam = team\n                                }\n                                inputMatch1\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>but I'm almost certain that's neither the right way to do it nor is it maintainable. For example, if I want to add a new property to the match variable, I have to transform the result of <code>output1.run</code>.</p>\n"}, {"tags": ["java", "android", "react-native", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 18553, "user_id": 5508175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXjHS.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5508175/andrew"}, "is_accepted": true, "score": 59, "last_activity_date": 1563358698, "last_edit_date": 1592644375, "creation_date": 1563358698, "answer_id": 57073604, "question_id": 57072558, "link": "https://stackoverflow.com/questions/57072558/whats-the-difference-between-gradlewassemblerelease-gradlewinstallrelease-and/57073604#57073604", "title": "What&#39;s the difference between gradlewAssembleRelease, gradlewInstallRelease, and gradlew bundleRelease and when to use it?", "body": "<p>Most of the answers that you are looking for can be found <a href=\"https://developer.android.com/studio/build/building-cmdline\" rel=\"noreferrer\">here</a></p>\n<h1><code>assembleDebug</code></h1>\n<p>This builds an <em>apk</em> for your project using the debug variant.</p>\n<blockquote>\n<p>This creates an APK named module_name-debug.apk in project_name/module_name/build/outputs/apk/. The file is already signed with the debug key and aligned with zipalign, so you can immediately install it on a device.</p>\n</blockquote>\n<h1><code>installDebug</code></h1>\n<p>This builds an <em>apk</em> for your project using the debug variant and then installs it on a connected device</p>\n<blockquote>\n<p>Or to build the APK and immediately install it on a running emulator or connected device, instead invoke <code>installDebug</code></p>\n</blockquote>\n<h1><code>assembleRelease</code></h1>\n<p>This creates a release <em>apk</em> of your app. You would then need to sign it using the command line or by setting the signing details in your <code>build.gradle</code> (see below) and then you can install it on your device using <code>adb</code>.</p>\n<p>The steps involved for signing an <em>apk</em> by the command line are fairly long and it can depend on how your project is set up. Steps for signing can be found <a href=\"https://developer.android.com/studio/build/building-cmdline#sign_cmdline\" rel=\"noreferrer\">here</a></p>\n<h1><code>bundleRelease</code></h1>\n<p>This creates a release <em>aab</em>, this is Google's preferred format for uploading to the Play Store.</p>\n<blockquote>\n<p>Android App Bundles include all your app\u2019s compiled code and resources, but defer APK generation and signing to Google Play. Unlike an APK, you can't deploy an app bundle directly to a device. So, if you want to quickly test or share an APK with someone else, you should instead build an APK.</p>\n</blockquote>\n<h1>Signing your apk/aab</h1>\n<p>You can configure your <code>app/build.gradle</code> so that signing will be done after your build has been completed.</p>\n<p>In your <code>app/build.gradle</code></p>\n<pre><code>android {\n    ...\n    defaultConfig { ... }\n    signingConfigs {\n        release {\n            // You need to specify either an absolute path or include the\n            // keystore file in the same directory as the build.gradle file.\n            storeFile file(&quot;my-release-key.jks&quot;)\n            storePassword &quot;password&quot;\n            keyAlias &quot;my-alias&quot;\n            keyPassword &quot;password&quot;\n        }\n    }\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n            ...\n        }\n    }\n}\n</code></pre>\n<p>You can read more about signing your app <a href=\"https://developer.android.com/studio/build/building-cmdline#gradle_signing\" rel=\"noreferrer\">here</a></p>\n<blockquote>\n<p>Now, when you build your app by invoking a Gradle task, Gradle signs your app (and runs zipalign) for you.</p>\n<p>Additionally, because you've configured the release build with your signing key, the &quot;install&quot; task is available for that build type. So you can build, align, sign, and install the release APK on an emulator or device all with the installRelease task.</p>\n</blockquote>\n<h1><code>installRelease</code></h1>\n<p>You will have to have set up the signing above for this to work for a release build. It is the same as the <code>installDebug</code> but it creates a signed release variant and installs it on a connected device.</p>\n<h1>Usage</h1>\n<ul>\n<li>I use <code>assembleRelease</code> to build an <em>apk</em> that I want to share with other people.</li>\n<li>I use <code>installRelease</code> when I want to test a release build on a connected device.</li>\n<li>I use <code>bundleRelease</code> when I am uploading my app to the Play Store.</li>\n</ul>\n"}], "owner": {"reputation": 782, "user_id": 10301357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jOy.png?s=128&g=1", "display_name": "zidniryi", "link": "https://stackoverflow.com/users/10301357/zidniryi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8773, "favorite_count": 4, "accepted_answer_id": 57073604, "answer_count": 1, "score": 25, "last_activity_date": 1563358698, "creation_date": 1563355296, "question_id": 57072558, "link": "https://stackoverflow.com/questions/57072558/whats-the-difference-between-gradlewassemblerelease-gradlewinstallrelease-and", "title": "What&#39;s the difference between gradlewAssembleRelease, gradlewInstallRelease, and gradlew bundleRelease and when to use it?", "body": "<p>When do I want to upload an android application to the Playstore if I use which one?</p>\n\n<p>I have tried the above but I am still confused about which one is the most effective?</p>\n\n<pre><code>./gradlew assembleRelease\n./gradlew installRelease\n./gradlew bundleeRelease\n</code></pre>\n\n<p>I expect the best way to do the above.</p>\n"}, {"tags": ["android", "kotlin", "try-catch"], "comments": [{"owner": {"reputation": 9286, "user_id": 469080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33d6ef3db3ec7b1f7bb10541dca965ef?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Dodd", "link": "https://stackoverflow.com/users/469080/michael-dodd"}, "edited": false, "score": 1, "creation_date": 1563354894, "post_id": 57072354, "comment_id": 100668555, "body": "Can you post the logcat from the crash?"}, {"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "reply_to_user": {"reputation": 9286, "user_id": 469080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33d6ef3db3ec7b1f7bb10541dca965ef?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Dodd", "link": "https://stackoverflow.com/users/469080/michael-dodd"}, "edited": false, "score": 0, "creation_date": 1563356615, "post_id": 57072354, "comment_id": 100669593, "body": "hey @MichaelDodd what is the kotlin shortcut for making a variable global.. like in java its Ctrl+Alt+F"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1563368949, "post_id": 57072354, "comment_id": 100676452, "body": "<code>class MyApplication : Application() {var globalVar = &quot;I am Global Variable&quot;}</code> this way you can specify it global"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 9286, "user_id": 469080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33d6ef3db3ec7b1f7bb10541dca965ef?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Dodd", "link": "https://stackoverflow.com/users/469080/michael-dodd"}, "edited": false, "score": 0, "creation_date": 1563383154, "post_id": 57072354, "comment_id": 100684945, "body": "@MichaelDodd ok i will post it"}], "answers": [{"comments": [{"owner": {"reputation": 67968, "user_id": 584192, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YBSIc.png?s=128&g=1", "display_name": "Samuel Liew", "link": "https://stackoverflow.com/users/584192/samuel-liew"}, "edited": false, "score": 0, "creation_date": 1563499093, "post_id": 57088191, "comment_id": 100729476, "body": "Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/196675/discussion-on-answer-by-a-local-nobody-how-to-add-try-catch-in-kotlin-code-using\">moved to chat</a>."}], "tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": true, "score": 5, "last_activity_date": 1563469364, "last_edit_date": 1563469364, "creation_date": 1563430858, "answer_id": 57088191, "question_id": 57072354, "link": "https://stackoverflow.com/questions/57072354/how-to-add-try-catch-in-kotlin-code-using-android-studio/57088191#57088191", "title": "How to add try/catch in kotlin code using android studio?", "body": "<pre><code>try {\n    if(extras != null){\n\n        val sms: Array&lt;Any&gt; = extras.getString(\"pdus\") as Array&lt;Any&gt;\n\n        for(i in sms.indices){\n            val format = extras.getString(\"format\")\n\n            var smsMessage = if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\n                SmsMessage.createFromPdu(sms[i] as ByteArray,format)\n            }else{\n                SmsMessage.createFromPdu(sms[i] as ByteArray)\n            }\n\n            var phoneNumber = smsMessage.originatingAddress\n            val messageText = smsMessage.messageBody.toString()\n\n            Toast.makeText(context,\"$phoneNumber:(Private)\\n\" + \"messageText: $messageText\",Toast.LENGTH_SHORT).show()\n        }\n    }\n}catch (ex:Exception){\n   //your error handling code here\n   //here, consider adding Log.e(\"SmsReceiver\", ex.localizedMessage)\n   //this log statement simply prints errors to your android studio terminal and will help with debugging, alternatively leave it out \n        if (context != null){\n            Toast.makeText(context!!,ex.localizedMessage, Toast.LENGTH_SHORT).show()  \n           }\n}\n</code></pre>\n\n<p>you should be applying the try catch over code which can throw exceptions. for the code you posted, there are a few places where it could potentially crash, such as index out of bounds (<code>sms[i]</code>) or if (<code>extras.getString(\"pdus\"</code>) fails to find this key, hence my solution wraps both of these in the same try catch, what you then do with the exception is up to you.</p>\n\n<p>if you want to handle more specific exceptions, you can also do this:</p>\n\n<pre><code>try {\n            if(extras != null){\n\n                val sms: Array&lt;Any&gt; = extras.getString(\"pdus\") as Array&lt;Any&gt;\n\n                for(i in sms.indices){\n                    val format = extras.getString(\"format\")\n\n                    var smsMessage = if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\n                        SmsMessage.createFromPdu(sms[i] as ByteArray,format)\n                    }else{\n                        SmsMessage.createFromPdu(sms[i] as ByteArray)\n                    }\n\n                    var phoneNumber = smsMessage.originatingAddress\n                    val messageText = smsMessage.messageBody.toString()\n\n                    Toast.makeText(context,\"$phoneNumber:(Private)\\n\" + \"messageText: $messageText\",Toast.LENGTH_SHORT).show()\n                }\n            }\n        }catch (indexOutOfBoundsException:IndexOutOfBoundsException){\n           //your error handling code here\n        } catch (nullpointer : NullPointerException){\n          //your error handling code here\n        }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2294, "favorite_count": 0, "accepted_answer_id": 57088191, "answer_count": 1, "score": 3, "last_activity_date": 1563469364, "creation_date": 1563354610, "last_edit_date": 1563354873, "question_id": 57072354, "link": "https://stackoverflow.com/questions/57072354/how-to-add-try-catch-in-kotlin-code-using-android-studio", "title": "How to add try/catch in kotlin code using android studio?", "body": "<p>I have to add try/catch in my kotlin code while using android studio,but do not understand how to add this. Below are the codes where I have to add try/catch.</p>\n\n<p>I did not try anything yet because I am totally confused where to apply try/catch.</p>\n\n<p>1.</p>\n\n<pre><code>class SmsReceiver : BroadcastReceiver(){\n    override fun onReceive(context: Context?, intent: Intent) {\n\n        val extras = intent.extras\n\n        if(extras != null){\n\n            val sms: Array&lt;Any&gt; = extras.getString(\"pdus\") as Array&lt;Any&gt;\n\n            for(i in sms.indices){\n                val format = extras.getString(\"format\")\n\n                var smsMessage = if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\n                    SmsMessage.createFromPdu(sms[i] as ByteArray,format)\n                }else{\n                    SmsMessage.createFromPdu(sms[i] as ByteArray)\n                }\n\n                var phoneNumber = smsMessage.originatingAddress\n                val messageText = smsMessage.messageBody.toString()\n\n                Toast.makeText(context,\"$phoneNumber:(Private)\\n\" + \"messageText: $messageText\",Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>class MainActivity :AppCompatActivity(){\n\n    private val requestReceiveSms: Int = 3\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        if(ActivityCompat.checkSelfPermission(this,android.Manifest.permission.RECEIVE_SMS) !=\n            PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(this, arrayOf(android.Manifest.permission.RECEIVE_SMS),\n                requestReceiveSms)\n        }\n\n    }\n}\n</code></pre>\n\n<p>I expected \"SMS received Toast message\", but I get \"Unfortunately,Application is stopped\" and crashes..</p>\n"}, {"tags": ["android", "gradle", "kotlin", "lint"], "owner": {"reputation": 31, "user_id": 10995052, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z-RZxiF-6-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP6KXq5ljpalqYE5idt7vfu2xg-wQ/mo/photo.jpg?sz=128", "display_name": "wu haoxuan", "link": "https://stackoverflow.com/users/10995052/wu-haoxuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563353980, "creation_date": 1563353848, "last_edit_date": 1563353980, "question_id": 57072135, "link": "https://stackoverflow.com/questions/57072135/nosuchmethodorg-jetbrains-kotlin-resolve-diagnostics-diagnosticsuppressorcompa", "title": "Nosuchmethod:org.jetbrains.kotlin.resolve.diagnostics.DiagnosticSuppressor$Companion.getEP_NAME() from kotlin-compiler-embeddable.jar", "body": "<p>I wrote a custom lint plugin,when run the custom lint task,i found class <code>DiagnosticSuppressor$Companion</code> is from <code>kotlin-compiler-embeddable-1.2.60.jar</code>,then it will report <code>NoSuchMethodError</code>,but gradle plugin lint task <code>class DiagnosticSuppressor$Companion</code> is from <code>kotlin-compiler-1.2.60.jar</code>.</p>\n\n<pre><code> Caused by: java.lang.NoSuchMethodError: org.jetbrains.kotlin.resolve.diagnostics.DiagnosticSuppressor$Companion.getEP_NAME()Lcom/intellij/openapi/extensions/ExtensionPointName;\n        at com.android.tools.lint.LintCoreApplicationEnvironment.registerAppExtensionPoints(LintCoreApplicationEnvironment.java:145)\n        at com.android.tools.lint.LintCoreApplicationEnvironment.createApplicationEnvironment(LintCoreApplicationEnvironment.java:94)\n        at com.android.tools.lint.LintCoreApplicationEnvironment.get(LintCoreApplicationEnvironment.java:71)\n        at com.android.tools.lint.LintCliClient.initializeProjects(LintCliClient.java:971)\n        at com.android.tools.lint.client.api.LintClient.performInitializeProjects$lint_api(LintClient.kt:774)\n        at com.android.tools.lint.client.api.LintDriver.analyze(LintDriver.kt:306)\n        at com.android.tools.lint.LintCliClient.run(LintCliClient.java:179)\n        at com.android.tools.lint.gradle.LintGradleClient.run(LintGradleClient.java:254)\n        at com.skateboard.hecatoncheires.checktools.IncrementLintGradleExecution.runLint(IncrementLintGradleExecution.java:250)\n        at com.skateboard.hecatoncheires.checktools.IncrementLintGradleExecution.lintAllVariants(IncrementLintGradleExecution.java:391)\n        at com.skateboard.hecatoncheires.checktools.IncrementLintGradleExecution.analyze(IncrementLintGradleExecution.java:85)\n        ... 59 more\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "java-platform-module-system"], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563353797, "creation_date": 1563353619, "last_edit_date": 1563353797, "question_id": 57072057, "link": "https://stackoverflow.com/questions/57072057/moving-to-jdk11-gradle-multi-project-build-problem-modules-are-not-supported-i", "title": "Moving to jdk11, gradle multi-project build problem: modules are not supported in -source8", "body": "<p>I'm moving some libs to openjdk11 using the third approach described <a href=\"https://blog.joda.org/2018/03/jpms-negative-benefits.html\" rel=\"nofollow noreferrer\">here</a>.\nThe whole project is being compiled into 8, while only <code>module-info.class</code> to 11.</p>\n\n<p>In the process of doing this, I found out that writing an empty <code>main</code> somewhere and running it, is the quickest way to check if there are any missing dependencies, the <code>module-info.java</code> has been properly detected and configured (because apparently <code>gradle build</code> is not that reliable).</p>\n\n<p>I already did this for <a href=\"https://github.com/kotlin-graphics/glm\" rel=\"nofollow noreferrer\">glm</a>, which has two modules, decleared in the same <a href=\"https://github.com/kotlin-graphics/glm/blob/master/build.gradle#L103\" rel=\"nofollow noreferrer\"><code>build.gradle</code></a></p>\n\n<p>Now I'm testing <a href=\"https://github.com/kotlin-graphics/uno-sdk\" rel=\"nofollow noreferrer\"><code>uno</code></a>, but unfortunately I keep getting this error</p>\n\n<pre><code>Error:(1, 1) java: modules are not supported in -source 8\n  (use -source 9 or higher to enable modules)\n</code></pre>\n\n<p>My question is, why do I keep this error, when <code>glm</code> works fine?</p>\n"}, {"tags": ["android", "kotlin", "android-edittext"], "comments": [{"owner": {"reputation": 273, "user_id": 3989630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqWz7.png?s=128&g=1", "display_name": "APP", "link": "https://stackoverflow.com/users/3989630/app"}, "edited": false, "score": 0, "creation_date": 1563351956, "post_id": 57071490, "comment_id": 100666945, "body": "try this editText.setSelectAllOnFocus(true);"}], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "edited": false, "score": 0, "creation_date": 1563353569, "post_id": 57071632, "comment_id": 100667793, "body": "Thanks for anwsering! However, that sends my app into a continous loop of triggering it&#39;s own onFocusChangeListener"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "edited": false, "score": 0, "creation_date": 1563353902, "post_id": 57071632, "comment_id": 100667973, "body": "it might do continuous loop because of &quot;I put v.selectAll() in its onFocusChangedListener, as well as android:selectAllOnFocus=&quot;true&quot; in the res file&quot;"}, {"owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "edited": false, "score": 0, "creation_date": 1563354365, "post_id": 57071632, "comment_id": 100668234, "body": "No, it just triggers both parts of the onFocusChangedListener (clearFocus() will clear focus, which is what triggers it, then requestfocus() will request it, which will trrigger it again)"}, {"owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "edited": false, "score": 0, "creation_date": 1563354678, "post_id": 57071632, "comment_id": 100668438, "body": "yaaay it works! (I did add <code>val listener = flighttOutStringField?.onFocusChangeListener</code> in front of it, just in case somebody else wants to replicate) Thanks! Any idea why this works and the other way didn&#39;t?"}, {"owner": {"reputation": 109, "user_id": 11763120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g4QinF2awfI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf5tJ-wREmbiaHoqp5neuba-NDMQA/photo.jpg?sz=128", "display_name": "igarasi", "link": "https://stackoverflow.com/users/11763120/igarasi"}, "edited": false, "score": 0, "creation_date": 1563355192, "post_id": 57071632, "comment_id": 100668734, "body": "If the cursor is displayed, the width of the selection () is 0, you need to hide the cursor first.and call seleteAll() will activate your registered &quot;setOnFocusChangeListener&quot; event."}, {"owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "edited": false, "score": 0, "creation_date": 1563355245, "post_id": 57071632, "comment_id": 100668773, "body": "Actually, it was something else that worked -_-, it now also works without those lines. I added <code>if (currentText != previousText) </code> around everything below <code>val currentText = this.text.toString()</code> and for somereason that fixed it (even though that shouldn&#39;t be running as long as it has focus - might be something with a overly enthousiastic password manager)"}], "tags": [], "owner": {"reputation": 109, "user_id": 11763120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g4QinF2awfI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf5tJ-wREmbiaHoqp5neuba-NDMQA/photo.jpg?sz=128", "display_name": "igarasi", "link": "https://stackoverflow.com/users/11763120/igarasi"}, "is_accepted": false, "score": 0, "last_activity_date": 1563354310, "last_edit_date": 1563354310, "creation_date": 1563351997, "answer_id": 57071632, "question_id": 57071490, "link": "https://stackoverflow.com/questions/57071490/edittext-selectall-doesnt-select-text/57071632#57071632", "title": "EditText.selectAll() doesnt select text", "body": "<p>Try this</p>\n\n<pre><code>v.setOnFocusChangeListener(null) \nv.clearFocus();\nv.requestFocus();\nv.selectAll()\nv.setOnFocusChangeListener(listener) \n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563361540, "creation_date": 1563351477, "last_edit_date": 1563361540, "question_id": 57071490, "link": "https://stackoverflow.com/questions/57071490/edittext-selectall-doesnt-select-text", "title": "EditText.selectAll() doesnt select text", "body": "<p>First of all, if anything can be better in my question, please let me know, it's my first one here.</p>\n\n<p>I am building an app for android.</p>\n\n<p>I want my users to be able to  enter a time in an <code>edittext</code> field quickly. There usually already is a time in there, which should be selected so any input from keyboard will result in it being overwritten, while just hitting \"next\" (or enter on keyboard\" will leave it the way it is and jump to the next field.</p>\n\n<p>For all my fields this works nicely, but for some reason I cannot grasp, the text in this specific field (and its twin) won't get selected no matter what I tried.</p>\n\n<p>I put<code>android:selectAllOnFocus=\"true\"</code> in the <code>res</code> file, and when that didn't work I also put <code>v.selectAll()</code> in its <code>onFocusChangedListener</code>.</p>\n\n<pre><code>        flighttOutStringField?.onFocusChangeListener = View.OnFocusChangeListener { v, hasFocus -&gt;\n            if (hasFocus) {\n                with(v as TextInputEditText) {\n                    previousText = this.text.toString()\n                    v.selectAll()\n                }\n            } else {\n                with(v as TextInputEditText) {\n                    val currentText = this.text.toString()\n                    if (!((\"([01]\\\\d|2[0-3]):[0-5]\\\\d\".toRegex().containsMatchIn(currentText) &amp;&amp; currentText.length == 5)\n                                || (\"([01]\\\\d|2[0-3])[0-5]\\\\d\".toRegex().containsMatchIn(\n                            currentText.padStart(\n                                4,\n                                '0'\n                            )\n                        ) &amp;&amp; currentText.length &lt;= 4))\n                        || (currentText == \"\")\n                    )\n                        this.setText(previousText) // not a valid new entry, so no update on flight\n                    else {\n                        this.setText(\n                            if (currentText.length &lt; 5) \"${currentText.padStart(\n                                4,\n                                '0')\n                                .slice(0..1)}:${currentText.padStart(4, '0').slice(2..3)}\" else currentText)\n                        flight = flight.copy (tOutString = \"${date?.format(DateTimeFormatter.ISO_DATE)}T${this.text}:00\", changed = 1)\n                    }\n                }\n\n            }\n</code></pre>\n\n<p>updating the \"flight\" var will refill all fields through its setter.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>                    &lt;android.support.design.widget.TextInputLayout\n                            android:layout_width=\"0dp\"\n                            android:layout_height=\"wrap_content\"\n                            android:id=\"@+id/flighttOutStringWrapper\"\n\n                            app:layout_constraintStart_toEndOf=\"@+id/flighttOutSelector\" android:layout_marginTop=\"4dp\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/flightOrigWrapper\"\n                            app:layout_constraintHorizontal_bias=\"0.5\"\n                            app:layout_constraintEnd_toStartOf=\"@+id/flighttInStringWrapper\"&gt;\n                        &lt;android.support.design.widget.TextInputEditText\n                                android:layout_width=\"match_parent\"\n                                android:layout_height=\"wrap_content\"\n                                android:inputType=\"time\"\n                                android:ems=\"10\"\n                                android:id=\"@+id/flighttOutStringField\"\n                                android:textAlignment=\"center\"\n                                android:includeFontPadding=\"false\"\n                                android:hint=\"@string/timeOut\"\n                                android:nextFocusForward=\"@id/flighttInStringField\" android:imeOptions=\"actionNext\"\n                                android:selectAllOnFocus=\"true\"/&gt;\n                    &lt;/android.support.design.widget.TextInputLayout&gt;\n</code></pre>\n\n<p>I would think that upon selecting the <code>TextInputEditText</code>, all text would be selected, but it isn't.\nThen, I thought the <code>v.selectAll()</code> would do that for me, but it also doesn't.</p>\n"}, {"tags": ["android", "list", "arraylist", "kotlin", "companion-object"], "comments": [{"owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "edited": false, "score": 1, "creation_date": 1563351114, "post_id": 57071036, "comment_id": 100666514, "body": "When you try to copy it using the <code>=</code> it will only copy the reference to the original list and not the value of the list. Use <code>var tempList: MutableList&lt;MyObject&gt; = list.toMutableList()</code>"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1563354422, "post_id": 57071036, "comment_id": 100668269, "body": "Are you looking for &quot;deep&quot; or &quot;shallow&quot; copy? Check out <a href=\"https://stackoverflow.com/questions/184710/what-is-the-difference-between-a-deep-copy-and-a-shallow-copy\" title=\"what is the difference between a deep copy and a shallow copy\">stackoverflow.com/questions/184710/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "edited": false, "score": 0, "creation_date": 1563355130, "post_id": 57071651, "comment_id": 100668692, "body": "Thanks a lot! I did not know that i am saving the reference to the original list."}], "tags": [], "owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "is_accepted": true, "score": 1, "last_activity_date": 1563354115, "last_edit_date": 1563354115, "creation_date": 1563352039, "answer_id": 57071651, "question_id": 57071036, "link": "https://stackoverflow.com/questions/57071036/how-to-copy-companion-object-and-make-changes-without-reflecting-these-changes-t/57071651#57071651", "title": "How to copy companion object and make changes without reflecting these changes to the original object?", "body": "<p>You are giving <code>tempList</code> the reference of the list of <code>Companion object</code>. Any changes made are also reflected in the list. What you could do is to create a new <code>MutableList&lt;MyOjbect)</code> and <code>.addAll()</code> all objects of <code>list</code> to your new <code>MutableList</code> object</p>\n\n<h2>Example</h2>\n\n<pre><code>val firstList = mutableListOf(1,2,3,4,5)  //0x543DE (Dummy memory address)\n\nval secondList = firstList  //Giving reference of firstList to the secondList  //0x543DE\n</code></pre>\n\n<p>As you can see,  <code>secondList = firstList</code>, we are giving reference of <code>firstList</code> to the <code>secondList</code>. Think it like this, your <code>firstList</code> val <strong>holds a reference</strong> to the original list object. And when we wrote <code>secondList = firstList</code>, we are giving <code>secondList</code> with the reference of the list that <code>firstList</code> val was pointing to. Now both of these <code>val</code> point to the same object in the memory.</p>\n\n<p>Now changes made in <code>secondList</code> are also reflected to the 'original' list. But why? You guessed it, since both of them point to the same object. </p>\n\n<p>As for the solution, you could:</p>\n\n<pre><code>companion object{\n    var list: MutableList&lt;MyObject&gt; = \"...here objects are aquired...\"\n} \nvar tempList: MutableList&lt;MyObject&gt; = mutableListOf()\ntempList.addAll(list) //This will iteratively copy list items to tempList\ntempList.removeAt(0)\nprintln(list.size)\n</code></pre>\n"}], "owner": {"reputation": 590, "user_id": 7152281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dba528a99b17399c7a9ee60c52e82e?s=128&d=identicon&r=PG&f=1", "display_name": "Azizjon Kholmatov", "link": "https://stackoverflow.com/users/7152281/azizjon-kholmatov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 57071651, "answer_count": 1, "score": 0, "last_activity_date": 1563354115, "creation_date": 1563350019, "question_id": 57071036, "link": "https://stackoverflow.com/questions/57071036/how-to-copy-companion-object-and-make-changes-without-reflecting-these-changes-t", "title": "How to copy companion object and make changes without reflecting these changes to the original object?", "body": "<p>I am using companion object to temprorarily save some data. </p>\n\n<p>I might want to change this data and also i want to make sure that original object is not changed when i make changes. </p>\n\n<p>I tried this. </p>\n\n<pre><code>companion object{\n        var position: Int = 0\n    } \nvar copyPosition = positon\ncopyPosition--\nprintln(copyPosition)\n</code></pre>\n\n<p>This works perfectly fine and prints -1. Original <code>position</code> is not changed. (value 0 is not changed.)</p>\n\n<p><strong>However</strong>, the same operations with <code>List&lt;MyObject&gt;</code> is not working. </p>\n\n<pre><code>companion object{\n        var list: MutableList&lt;MyObject&gt; = \"...here objects are aquired...\"\n    } \nvar tempList: MutableList&lt;MyObject&gt; = list\ntempList.removeAt(0)\nprintln(list.size)\n</code></pre>\n\n<p>Here, if i remove item from <code>tempList</code>, the original list also loses this item. How can i stop this? How can the changes be only made to <code>tempList</code> but not original <code>list</code>? </p>\n"}, {"tags": ["database", "mongodb", "spring-boot", "kotlin", "reactor"], "answers": [{"tags": [], "owner": {"reputation": 33963, "user_id": 1915448, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/51afb9344f8a44e60916753d37186513?s=128&d=identicon&r=PG", "display_name": "g00glen00b", "link": "https://stackoverflow.com/users/1915448/g00glen00b"}, "is_accepted": true, "score": 12, "last_activity_date": 1563350728, "last_edit_date": 1592644375, "creation_date": 1563350728, "answer_id": 57071257, "question_id": 57070561, "link": "https://stackoverflow.com/questions/57070561/reactivemongorepository-not-saving-my-data/57071257#57071257", "title": "ReactiveMongoRepository not saving my data", "body": "<p>If you use reactive streams, you should be aware that <a href=\"https://projectreactor.io/docs/core/release/reference/#reactive.subscribe\" rel=\"noreferrer\">nothing happens until you subscribe</a>:</p>\n<blockquote>\n<p>In Reactor, when you write a <code>Publisher</code> chain, data does not start pumping into it by default. Instead, you create an abstract description of your asynchronous process (which can help with reusability and composition).</p>\n<p>By the act of <strong>subscribing</strong>, you tie the <code>Publisher</code> to a <code>Subscriber</code>, which triggers the flow of data in the whole chain. This is achieved internally by a single request signal from the <code>Subscriber</code> that is propagated upstream, all the way back to the source <code>Publisher</code>.</p>\n</blockquote>\n<p>That means that if you use <code>ReactiveMongoRepository</code>, somewhere along the line you have to subscribe to your reactive stream. This can be done by using the <code>subscribe()</code> method on any <code>Publisher</code>. For example, using Java, that would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>reactiveRepository\n    .save(myEntity)\n    .subscribe(result =&gt; log.info(&quot;Entity has been saved: {}&quot;, result));\n</code></pre>\n<p>Additionally, frameworks like Webflux will handle the subscription for you if you write reactive controllers. Using Java that means you could write something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic Mono&lt;MyEntity&gt; save() {\n    return reactiveRepository.save(myEntity); // subscribe() is done by the Webflux framework\n}\n</code></pre>\n<p>Obviously, there's a lot more to reactive programming than just that, and you should be aware that you cannot simply swap <code>MongoRepository</code> to <code>ReactiveMongoRepository</code> without adapting to the reactive ecosystem and using reactive programming.</p>\n<p>There's an <a href=\"https://projectreactor.io/docs/core/release/reference/#intro-reactive\" rel=\"noreferrer\">Introduction to Reactive Programming</a> chapter within the Reactor reference guide that might be interesting to read. The earlier quoted documentation also comes from this chapter of the reference guide.</p>\n"}], "owner": {"reputation": 77, "user_id": 11032246, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2Gr-PwljKpY/AAAAAAAAAAI/AAAAAAAAABY/9N6sTwZIxak/photo.jpg?sz=128", "display_name": "KyooSik Lee", "link": "https://stackoverflow.com/users/11032246/kyoosik-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2128, "favorite_count": 1, "accepted_answer_id": 57071257, "answer_count": 1, "score": 5, "last_activity_date": 1563350728, "creation_date": 1563348174, "question_id": 57070561, "link": "https://stackoverflow.com/questions/57070561/reactivemongorepository-not-saving-my-data", "title": "ReactiveMongoRepository not saving my data", "body": "<p>I am noob in <code>spring</code> and <code>mongo</code> and <code>noSQL</code>.</p>\n\n<p>I have connected to my mongoDB on local. </p>\n\n<p>However my attempts to save my entity keeps failing.</p>\n\n<pre><code>val a0 = myEntity(name = \"my Entity\")\nrepository.save(a0)\n</code></pre>\n\n<p>My repository extends <code>ReactiveMongoRepository&lt;MyEntity, Long&gt;</code>.</p>\n\n<p>But when I change it to extend <code>MongoRepository&lt;MyEntity, Long&gt;</code>, then it works.</p>\n\n<p>What possibly could be the problem?</p>\n\n<p>My database instance is running and working fine.\nI am guessing that it has to do something with reactive things.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1563349277, "post_id": 57070465, "comment_id": 100665581, "body": "Your permission might be wrong. Make sure you&#39;re using <code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;&#47;&gt; </code>. WARNING: this permission will be deprecated in Android Q"}], "answers": [{"tags": [], "owner": {"reputation": 1557, "user_id": 6819340, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/aytfN.jpg?s=128&g=1", "display_name": "DarShan", "link": "https://stackoverflow.com/users/6819340/darshan"}, "is_accepted": true, "score": 0, "last_activity_date": 1563350652, "creation_date": 1563350652, "answer_id": 57071234, "question_id": 57070465, "link": "https://stackoverflow.com/questions/57070465/display-over-other-apps/57071234#57071234", "title": "Display over other apps", "body": "<p>You have either misspelled the permission or haven\u2019t added in the Manifest,\n<br/>Add this - <code>&lt;uses-permission android:name=\"android.permission.SYSTEM_ALERT_WINDOW\"/&gt;</code></p>\n"}], "owner": {"reputation": 29, "user_id": 10389423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5516848faf20abe0885590f194e29a36?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Thakkar", "link": "https://stackoverflow.com/users/10389423/parth-thakkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 57071234, "answer_count": 1, "score": 0, "last_activity_date": 1563361191, "creation_date": 1563347791, "last_edit_date": 1563361191, "question_id": 57070465, "link": "https://stackoverflow.com/questions/57070465/display-over-other-apps", "title": "Display over other apps", "body": "<p><a href=\"https://i.stack.imgur.com/wKfgP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wKfgP.png\" alt=\"enter image description here\"></a>I am facing issue while open image picker in android getting error is -> Display over the apps .\nI am trying to enable it but my phone is not allowed to toggle .\nI am using one plus 6 and android version is 9(Pie) .\ncan you please help me solve this error . \nIs there any code required to do for this .\nhere is an image to shows an error.</p>\n"}, {"tags": ["java", "android", "kotlin", "augmented-reality", "arcore"], "comments": [{"owner": {"reputation": 2292, "user_id": 4502035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38a1b21c3e83f9d10aaa56c93f6150a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4502035/andreas"}, "edited": false, "score": 0, "creation_date": 1563346447, "post_id": 57069797, "comment_id": 100664032, "body": "StackOverflow is not a code-writing service. Please read through the <a href=\"https://stackoverflow.com/help\">Help Center</a>, in particular <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> If you run into a specific problem, research it thoroughly, search thoroughly here, and if you&#39;re still stuck post your code and a description of the problem. Also, remember to include <a href=\"https://stackoverflow.com/help/mcve\">Minimum, Complete, Verifiable Example</a>. People will be glad to help"}], "answers": [{"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1581010855, "creation_date": 1581010855, "answer_id": 60100742, "question_id": 57069797, "link": "https://stackoverflow.com/questions/57069797/arcore-android-sdk-how-to-make-a-scaling-animation-on-transformable-node/60100742#60100742", "title": "ARCore Android SDK \u2013 How to make a scaling animation on Transformable node?", "body": "<p>You can add a scaling animation to Transformable Node using the following code:</p>\n\n<pre><code>Anchor yourAnchor = hitResult.createAnchor();\nAnchorNode anchoringNode = new AnchorNode(yourAnchor);\n\nmodelNode.getScaleController().setMinScale(1.50f);\nmodelNode.getScaleController().setMaxScale(2.00f);\nmodelNode.setLocalScale(new Vector3(1.75f, 1.75f, 1.75f));\nmodelNode.setParent(anchoringNode);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6748339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874cd72d6579c5609203e390a4589a28?s=128&d=identicon&r=PG&f=1", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/6748339/abdul-rehman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1581010855, "creation_date": 1563345151, "last_edit_date": 1581009405, "question_id": 57069797, "link": "https://stackoverflow.com/questions/57069797/arcore-android-sdk-how-to-make-a-scaling-animation-on-transformable-node", "title": "ARCore Android SDK \u2013 How to make a scaling animation on Transformable node?", "body": "<p>I am trying to add scaling animation to Transformable Node (3D model) when I tap on it. </p>\n\n<p>Can anyone help me with it?</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "retrofit2", "multipartform-data"], "comments": [{"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1563344177, "post_id": 57069328, "comment_id": 100663065, "body": "can you add your web service interface class with your question?"}, {"owner": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1563344504, "post_id": 57069328, "comment_id": 100663182, "body": "I havent actually created it, but the problem here is how shall i add @Part for &quot;departments&quot;"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1563344567, "post_id": 57069328, "comment_id": 100663206, "body": "you have to convert the jsonarray to string then add to your body"}, {"owner": {"reputation": 32, "user_id": 12630878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHKl6.jpg?s=128&g=1", "display_name": "Priyanka Singh", "link": "https://stackoverflow.com/users/12630878/priyanka-singh"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1594193805, "post_id": 57069328, "comment_id": 111037087, "body": "@RajasekaranM Can you help? <a href=\"https://stackoverflow.com/questions/62783444/why-does-multipart-pdf-is-not-able-to-upload-in-api-using-retrofit-2-in-android?noredirect=1#comment111031344_62783444\" title=\"why does multipart pdf is not able to upload in api using retrofit 2 in android\">stackoverflow.com/questions/62783444/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "edited": false, "score": 0, "creation_date": 1563345307, "post_id": 57069695, "comment_id": 100663486, "body": "This works for name, latitude, longitude. But the problem is how shall I write @Part for &quot;departments&quot; ?"}, {"owner": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "edited": false, "score": 0, "creation_date": 1563345431, "post_id": 57069695, "comment_id": 100663532, "body": "&quot;departments&quot; cannot be just posted as String. We can convert array of objects to string and just post it. But that isn&#39;t correct method right ?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "edited": false, "score": 0, "creation_date": 1563346862, "post_id": 57069695, "comment_id": 100664233, "body": "If I understand correct then you need to make a data model Department and send List&lt;Department&gt; as multi part"}, {"owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "edited": false, "score": 0, "creation_date": 1563350125, "post_id": 57069695, "comment_id": 100666002, "body": "Just remember, if you want to send arrays of Strings, Integers etc you have the solution here <a href=\"https://stackoverflow.com/a/53832681/3809653\">stackoverflow.com/a/53832681/3809653</a>"}, {"owner": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "edited": false, "score": 0, "creation_date": 1563351138, "post_id": 57069695, "comment_id": 100666532, "body": "What about Array of custom objects as in the JSON! How to solve it"}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": false, "score": 0, "last_activity_date": 1563344771, "creation_date": 1563344771, "answer_id": 57069695, "question_id": 57069328, "link": "https://stackoverflow.com/questions/57069328/how-to-post-complex-datas-as-multipart-using-retrofit-in-android/57069695#57069695", "title": "How to Post complex datas as MultiPart using Retrofit in Android?", "body": "<p>You have to make models of data parts and it should look something like this:</p>\n\n<pre><code>\n @Multipart\n    @POST(\"request\")\n    Call&lt;ResponseBody&gt; upload(\n        @Part(\"item1\") RequestBody item1,\n        @Part(\"item2\") RequestBody item2,\n        @Part(\"item3\") RequestBody item3\n    );\n</code></pre>\n\n<p>Also there is <code>@PartMap Map&lt;String, RequestBody&gt; map</code></p>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "edited": false, "score": 0, "creation_date": 1563349737, "post_id": 57070891, "comment_id": 100665805, "body": "Since the registerUser method is not annotated with @Multipart, can this be used with multipart form data ?"}, {"owner": {"reputation": 41, "user_id": 10856125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WBnlN5-GrDQ/AAAAAAAAAAI/AAAAAAAA-fc/c5O6Xz6Zif8/photo.jpg?sz=128", "display_name": "Hally Tr\u1ea7n", "link": "https://stackoverflow.com/users/10856125/hally-tr%e1%ba%a7n"}, "reply_to_user": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "edited": false, "score": 0, "creation_date": 1563350771, "post_id": 57070891, "comment_id": 100666331, "body": "should you use retrofit 2"}, {"owner": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "edited": false, "score": 0, "creation_date": 1563351082, "post_id": 57070891, "comment_id": 100666494, "body": "Yes. I&#39;m actually using it! Can you share me a tutorial on how to solve this"}], "tags": [], "owner": {"reputation": 41, "user_id": 10856125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WBnlN5-GrDQ/AAAAAAAAAAI/AAAAAAAA-fc/c5O6Xz6Zif8/photo.jpg?sz=128", "display_name": "Hally Tr\u1ea7n", "link": "https://stackoverflow.com/users/10856125/hally-tr%e1%ba%a7n"}, "is_accepted": false, "score": 0, "last_activity_date": 1563349448, "creation_date": 1563349448, "answer_id": 57070891, "question_id": 57069328, "link": "https://stackoverflow.com/questions/57069328/how-to-post-complex-datas-as-multipart-using-retrofit-in-android/57070891#57070891", "title": "How to Post complex datas as MultiPart using Retrofit in Android?", "body": "<pre><code>    -----------------------------------com.example.Department.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Department {\n\n@SerializedName(\"id\")\n@Expose\npublic Integer id;\n@SerializedName(\"is_sunday\")\n@Expose\npublic Integer isSunday;\n\n}\n-----------------------------------com.example.ResponseContracts.java-----------------------------------\n\npackage com.example;\n\nimport java.util.List;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class ResponseContracts {\n\n@SerializedName(\"name\")\n@Expose\npublic String name;\n@SerializedName(\"latitude\")\n@Expose\npublic String latitude;\n@SerializedName(\"longitude\")\n@Expose\npublic String longitude;\n@SerializedName(\"state\")\n@Expose\npublic String state;\n@SerializedName(\"district\")\n@Expose\npublic String district;\n@SerializedName(\"city\")\n@Expose\npublic String city;\n@SerializedName(\"landmark\")\n@Expose\npublic String landmark;\n@SerializedName(\"phone\")\n@Expose\npublic String phone;\n@SerializedName(\"email\")\n@Expose\npublic String email;\n@SerializedName(\"admin_name\")\n@Expose\npublic String adminName;\n@SerializedName(\"admin_phone\")\n@Expose\npublic String adminPhone;\n@SerializedName(\"admin_email\")\n@Expose\npublic String adminEmail;\n@SerializedName(\"departments\")\n@Expose\npublic List&lt;Department&gt; departments = null;\n@SerializedName(\"all_day_service\")\n@Expose\npublic List&lt;Integer&gt; allDayService = null;\n@SerializedName(\"emergency_services\")\n@Expose\npublic List&lt;Integer&gt; emergencyServices = null;\n@SerializedName(\"special_services\")\n@Expose\npublic List&lt;String&gt; specialServices = null;\n@SerializedName(\"accreditations\")\n@Expose\npublic List&lt;Integer&gt; accreditations = null;\n\n}\n</code></pre>\n\n<p><a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">http://www.jsonschema2pojo.org/</a>\nFrom here, you make a model, send request by @body</p>\n\n<pre><code>@POST(\"/api/v1/post url here\")\nCall&lt;Response&gt; registerUser(@Body ResponseContracts body);\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 10151907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hh5kOLRYQ8o/AAAAAAAAAAI/AAAAAAAANxk/ZrjjO1rBOmA/photo.jpg?sz=128", "display_name": "Aswin .A.S", "link": "https://stackoverflow.com/users/10151907/aswin-a-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 701, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1563349448, "creation_date": 1563342907, "question_id": 57069328, "link": "https://stackoverflow.com/questions/57069328/how-to-post-complex-datas-as-multipart-using-retrofit-in-android", "title": "How to Post complex datas as MultiPart using Retrofit in Android?", "body": "<p>I have data which is Array of Json Objects, I need to pass this as MultiPart Form Data. The data which i need to post is below :</p>\n\n<pre><code>{\n    \"name\": \"KIMS EKM\",\n    \"latitude\": \"8.5605418\",\n    \"longitude\": \"76.8810471\",\n    \"state\": \"Kerala\",\n    \"district\": \"Thiruvananthapuram\",\n    \"city\": \"Leela Infopark\",\n    \"landmark\": \"Kazhakuttom\",\n    \"phone\": \"7293318484\",\n    \"email\": \"aswin.as@velosit.in\",\n    \"admin_name\": \"Aswin\",\n    \"admin_phone\": \"7293318484\",\n    \"admin_email\": \"aswin.a.s@velosit.in\",\n    \"departments\": [{\n        \"id\": 1,\n        \"is_sunday\": 1\n    }, {\n        \"id\": 2,\n        \"is_sunday\": 1\n    }, {\n        \"id\": 3,\n        \"is_sunday\": 1\n    }, {\n        \"id\": 4,\n        \"is_sunday\": 1\n    }, {\n        \"id\": 5,\n        \"is_sunday\": 1\n    }, {\n        \"id\": 6,\n        \"is_sunday\": 1\n    }, {\n        \"id\": 7,\n        \"is_sunday\": 1\n    }, {\n        \"id\": 8,\n        \"is_sunday\": 1\n    }, {\n        \"id\": 9,\n        \"is_sunday\": 0\n    }, {\n        \"id\": 10,\n        \"is_sunday\": 0\n    }, {\n        \"id\": 11,\n        \"is_sunday\": 0\n    }],\n    \"all_day_service\": [3, 4, 5],\n    \"emergency_services\": [5],\n    \"special_services\": [\"BPD\", \"HCDX\"],\n    \"accreditations\": [2, 3]\n}\n</code></pre>\n\n<p>Here the exact keys are used as params for multipart form Data.\nThere are image needed to be posted, But the real problem is described below.</p>\n\n<p>I have posted MultiPart form datas, but posting array of json objects is what i find tough. \nHow can the \"departments\" &amp; \"all_day_service\" field can be posted ?</p>\n"}, {"tags": ["android", "ios", "swift", "kotlin", "protocol-buffers"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1563341349, "post_id": 57068823, "comment_id": 100662058, "body": "I don&#39;t think that there is an embedded way in swift. You can try writing all the fields of the object into the bytearray."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1563342281, "post_id": 57068823, "comment_id": 100662398, "body": "Why downvote my question? It is a legitimate question where I ask around some iOS folks, and search on the web, not finding answer."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1563346138, "post_id": 57068823, "comment_id": 100663854, "body": "what are you trying to achieve by doing this?"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1563346721, "post_id": 57068823, "comment_id": 100664146, "body": "I&#39;m sending a Protobuf Object from client to the server. Looks like the <code>toByteArray()</code> is the protobuf model api. Apparently the Java generated code does have it (<a href=\"https://developers.google.com/protocol-buffers/docs/javatutorial\" rel=\"nofollow noreferrer\">developers.google.com/protocol-buffers/docs/javatutorial</a>), but not the swift generated protobuf code :("}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1563424652, "post_id": 57068823, "comment_id": 100696859, "body": "@VladyslavMatviienko, I found the answer and posted it. It&#39;s a very tricky condition in the protobuf model swift code that embed this undocumented public API one could access. And the name is totally different as well."}], "answers": [{"tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": false, "score": 0, "last_activity_date": 1563420554, "creation_date": 1563420554, "answer_id": 57086709, "question_id": 57068823, "link": "https://stackoverflow.com/questions/57068823/to-how-convert-protobuf-object-to-bytearray-and-the-encode-with-base64-url-safe/57086709#57086709", "title": "To how convert protobuf object to ByteArray and the encode with Base64 URL_SAFE in Swift?", "body": "<p>Found the answer.</p>\n\n<pre><code>do {\n    let protobufSerialized = try protobufObject.serializedData()\n    let protobufEncoded = protobufSerialized.base64EncodedString()\n\n    // Do whatever need to be done with the protobufEncoded\n} catch {  }\n</code></pre>\n\n<p>The main hidden function that is hard to find is <code>serializedData()</code> that exist on <code>SwiftProtobuf.Message</code></p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563420554, "creation_date": 1563339923, "last_edit_date": 1563420386, "question_id": 57068823, "link": "https://stackoverflow.com/questions/57068823/to-how-convert-protobuf-object-to-bytearray-and-the-encode-with-base64-url-safe", "title": "To how convert protobuf object to ByteArray and the encode with Base64 URL_SAFE in Swift?", "body": "<p>In Android, I could convert an object to ByteArray and then encode it to Base64 (URL_SAFE) as per code below</p>\n\n<pre><code>    val myByteArrayObject = protobufObject.toByteArray()\n    val meEncodedObject = android.util.Base64.encodeToString.encodeToString(\n          myByteArrayObject, android.util.Base64.DEFAULT).trim()\n</code></pre>\n\n<p>How could I achieve that in Swift?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1563354152, "post_id": 57068762, "comment_id": 100668109, "body": "I don&#39;t fully understand your sentences. If you have a main method and an asynchronous sequence like that background error handling, the program quits before doing anything as RxJava uses daemon threads. Could you turn your cases into unit tests so it becomes clear what your expectations are?"}, {"owner": {"reputation": 1526, "user_id": 1920670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e4c44d78b9654baf65100088deafc04?s=128&d=identicon&r=PG&f=1", "display_name": "MainActivity", "link": "https://stackoverflow.com/users/1920670/mainactivity"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1563357783, "post_id": 57068762, "comment_id": 100670264, "body": "OK, Java case can be not usable because of early finishing daemons. Then such fun can be called from Android and I expect that handler&#39;s <code>doOnError</code> runs every launch, but it does not, and depends on schedulers are set."}], "owner": {"reputation": 1526, "user_id": 1920670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e4c44d78b9654baf65100088deafc04?s=128&d=identicon&r=PG&f=1", "display_name": "MainActivity", "link": "https://stackoverflow.com/users/1920670/mainactivity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563339527, "creation_date": 1563339527, "question_id": 57068762, "link": "https://stackoverflow.com/questions/57068762/why-retrywhen-hides-errors-from-handler-if-subscribed-in-background", "title": "Why retryWhen hides errors from handler if subscribed in background?", "body": "<p>I got <code>retryWhen</code> usage which is needed to do some request in case of server error. This is simplified by such synthetic code:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Single.error&lt;Int&gt;(Exception(\"Source\"))\n            .retryWhen {\n                it.flatMapSingle {\n                    Single\n                            .error&lt;Unit&gt;(Exception(\"Handler\"))\n                            .subscribeOn(Schedulers.computation())\n                            //.observeOn(AndroidSchedulers.mainThread())\n                            .doOnError { handlerError -&gt; handlerError.printStackTrace() }\n                }\n            }\n            .subscribe({ println(\"success\") }, \n            { \n               println(\"source error\")\n               it.printStackTrace() \n            })\n}\n</code></pre>\n\n<p>Here source produces error then it should be re-subscribed using <code>retryWhen</code> when handler's request is complete.</p>\n\n<p>But handler occurs an error! Then <code>retryWhen</code> is designed not to throw out to source chain and handle error state as \"no retry\". But no matter of <code>retryWhen</code> handler expected to output in <code>doOnError</code> and there is nothing, handler error is hidden.</p>\n\n<p>On Java: </p>\n\n<ul>\n<li>error is <em>put out to source chain</em> if not changing schedulers - no <code>subscribeOn</code>.</li>\n<li>error is <em>hidden</em> - no <code>doOnError</code> call if subscribed on computation.</li>\n</ul>\n\n<p>On Android:</p>\n\n<ul>\n<li>also error is <em>put out to source chain</em> if not changing schedulers - no <code>subscribeOn</code>.</li>\n<li><em>hidden</em> if subscribed on computation, no matter observed on main or not</li>\n</ul>\n\n<p>Why <code>doOnError</code> is not processed when running on background?</p>\n\n<p>Why <code>retryWhen</code> does not swallow errors if not changing schedulers?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 4, "last_activity_date": 1563331815, "last_edit_date": 1563331815, "creation_date": 1563331426, "answer_id": 57067857, "question_id": 57067443, "link": "https://stackoverflow.com/questions/57067443/why-am-i-getting-error-variable-expect-in-kotlin/57067857#57067857", "title": "why am I getting Error: Variable expect in kotlin?", "body": "<p>Basically the problem is in this part:</p>\n\n<pre><code>map[key]?.let { ... } ?: map[key] = 1\n</code></pre>\n\n<p>Here the expression is parsed not the way you might expect. <code>map[key]?.let { ... } ?: map[key]</code> becomes an l-value of the assignment operator and <code>1</code> becomes an r-value.</p>\n\n<p>The l-value of an assignment must be something that you can assign a value to, i.e. a variable, a property, an indexer, like <code>map[key] =</code>, but here it is a complex expression \n <code>map[key]?.let { ... } ?: map[key]</code>.</p>\n\n<p>If you want to execute assignment only when <code>map[key]</code> is null, you can wrap that statement in <code>run</code> function: </p>\n\n<pre><code>map[key]?.let { ... } ?: run { map[key] = 1 }\n</code></pre>\n\n<p>Perhaps it would be more clear to rewrite this block the following way:</p>\n\n<pre><code>// get value associated with key or 0 if there is none.\nmap[key] = map.getOrElse(key, { 0 }) + 1\n</code></pre>\n\n<p>Looking from a higher perspective, it seems that you need to count the occurrences of numbers in an array of ints. For that case a more high-level approach with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/each-count.html\" rel=\"nofollow noreferrer\"><code>groupingBy</code> and <code>eachCount</code></a> functions can be used:</p>\n\n<pre><code>val map = nums.asList().groupingBy { it }.eachCount()\n\n// then find the majority in this map\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4040394, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-Kxd7lzKzNTM/AAAAAAAAAAI/AAAAAAAAEes/ORTQJ1IPG3Q/photo.jpg?sz=128", "display_name": "OkDroid", "link": "https://stackoverflow.com/users/4040394/okdroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1525, "favorite_count": 0, "accepted_answer_id": 57067857, "answer_count": 1, "score": 1, "last_activity_date": 1563331815, "creation_date": 1563327768, "question_id": 57067443, "link": "https://stackoverflow.com/questions/57067443/why-am-i-getting-error-variable-expect-in-kotlin", "title": "why am I getting Error: Variable expect in kotlin?", "body": "<p>I am trying to write a function to find the majority element in kotlin but when I compile the code I get variable expected error on the following line</p>\n\n<pre><code>                   map[key]?.let{ value-&gt;\n</code></pre>\n\n<p>Below is the function which I am trying to run. I am new to Kotlin and not sure why I am getting this error.</p>\n\n<pre><code>fun majorityElement(nums: IntArray): Int {\n        HashMap&lt;Int,Int&gt;().let{ map -&gt;\n                nums.forEach{ key-&gt;        \n                   map[key]?.let{ value-&gt;\n                        map[key]=value+1\n                    }?:map[key]=1\n\n                }\n                map.forEach{entry-&gt;\n                    if(entry.value&gt;nums.size/2){\n                        return entry.key\n                    }\n                }\n        }\n        return -1\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 1, "creation_date": 1563329368, "post_id": 57067432, "comment_id": 100659724, "body": "You can&#39;t, without explicitly writing the log statements."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1563348398, "post_id": 57067432, "comment_id": 100665092, "body": "Technically, you can, using a compiler plugin, but they are very little documented and complex to write."}], "answers": [{"comments": [{"owner": {"reputation": 373, "user_id": 1210191, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/3Y4ww.jpg?s=128&g=1", "display_name": "avillagomez", "link": "https://stackoverflow.com/users/1210191/avillagomez"}, "edited": false, "score": 0, "creation_date": 1563401647, "post_id": 57071324, "comment_id": 100692394, "body": "Thanks I&#39;ll check those out"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1563350933, "creation_date": 1563350933, "answer_id": 57071324, "question_id": 57067432, "link": "https://stackoverflow.com/questions/57067432/how-to-auto-call-function-in-kotlin-for-every-function-call-within-a-class/57071324#57071324", "title": "How to auto call function in Kotlin for every function call within a class", "body": "<p>You can't do it in plain Kotlin.\u00a0 But this is exactly the sort of thing <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow noreferrer\">Aspect-Oriented Programming</a> was intended for.</p>\n\n<p>I haven't used it myself, but if you want to do it in Kotlin, you might look at <a href=\"https://docs.spring.io/spring/docs/2.5.x/reference/aop.html\" rel=\"nofollow noreferrer\">Spring AOP</a>.\u00a0 See also discussions <a href=\"https://discuss.kotlinlang.org/t/aop-and-kotlin/685\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/44364633/aspectj-doesnt-work-with-kotlin\">this</a> question.</p>\n"}, {"tags": [], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "is_accepted": false, "score": 1, "last_activity_date": 1563402803, "creation_date": 1563402803, "answer_id": 57084808, "question_id": 57067432, "link": "https://stackoverflow.com/questions/57067432/how-to-auto-call-function-in-kotlin-for-every-function-call-within-a-class/57084808#57084808", "title": "How to auto call function in Kotlin for every function call within a class", "body": "<p>In Java I would write an IvocationHandler to create a dynamic proxy. See <a href=\"https://stackoverflow.com/questions/54327143/how-to-create-a-dynamic-proxy-in-kotlin-common-code\">this question</a></p>\n"}], "owner": {"reputation": 373, "user_id": 1210191, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/3Y4ww.jpg?s=128&g=1", "display_name": "avillagomez", "link": "https://stackoverflow.com/users/1210191/avillagomez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1563402803, "creation_date": 1563327640, "question_id": 57067432, "link": "https://stackoverflow.com/questions/57067432/how-to-auto-call-function-in-kotlin-for-every-function-call-within-a-class", "title": "How to auto call function in Kotlin for every function call within a class", "body": "<p>I have a class with multiple functions</p>\n\n<pre><code>class Foo() {\n    fun one() {\n        //do something\n    }\n\n    fun two() {\n        // do something\n    }\n\n    fun three() {\n        // do something\n    }\n}\n</code></pre>\n\n<p>How can I trigger a call to a Logger object that I have, so that in the logs I can see all functions accessed or called, without explicitly placing the log call on every function to keep the code clean. I'm trying to keep a full log trace of all functions called within a service api call, but I don't want to have something like this</p>\n\n<pre><code>class Foo() {\n    fun one() {\n        log.call()\n        //do something\n    }\n\n    fun two() {\n        log.call()\n        // do something\n    }\n\n    fun three() {\n        log.call()\n        // do something\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11216, "user_id": 2692688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/woiEs.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2692688/tushar"}, "edited": false, "score": 0, "creation_date": 1563326292, "post_id": 57067285, "comment_id": 100659200, "body": "the sum of <code>n</code> natural numbers?"}, {"owner": {"reputation": 1449, "user_id": 11032188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wZJmp.jpg?s=128&g=1", "display_name": "Mark Melgo", "link": "https://stackoverflow.com/users/11032188/mark-melgo"}, "edited": false, "score": 0, "creation_date": 1563326795, "post_id": 57067285, "comment_id": 100659300, "body": "The function solves for the sum of the numbers from 0 to n."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10762593"}, "edited": false, "score": 0, "creation_date": 1563328199, "post_id": 57067285, "comment_id": 100659520, "body": "A small comment on the title - it&#39;s a while-loop, not a for-loop (for-loops start with the word &quot;for&quot;). I submitted an edit for the title,"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10762593"}, "edited": false, "score": 0, "creation_date": 1563834832, "post_id": 57067285, "comment_id": 100824187, "body": "Why was the hyphen removed from &quot;while-loop&quot;?  That&#39;s a perfectly respectable compound noun. There&#39;s no such word as &quot;whileloop&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 1077, "user_id": 11193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41eea96add6cb6141b372485c58f21b?s=128&d=identicon&r=PG&f=1", "display_name": "JamieT", "link": "https://stackoverflow.com/users/11193926/jamiet"}, "is_accepted": true, "score": 0, "last_activity_date": 1563326520, "creation_date": 1563326520, "answer_id": 57067322, "question_id": 57067285, "link": "https://stackoverflow.com/questions/57067285/can-someone-explain-this-whileloop-code-trying-to-learn-and-not-getting-it/57067322#57067322", "title": "can someone explain this whileloop code trying to learn and not getting it", "body": "<p><code>sum(10)</code> here is returning the value of 0 + 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10 = 55</p>\n\n<p>The <code>sum += i</code> means the same as <code>sum = sum + i</code>. <code>i++</code> is incrementing the integer value of <code>i</code> by 1. Same thing as <code>i+=1</code> or <code>i = i + 1</code>. I am assuming this is what you were confused about because you did not include much else of an explanation.</p>\n"}], "owner": {"reputation": 9, "user_id": 10935486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-516mWr-5pqU/AAAAAAAAAAI/AAAAAAAAPqM/fBOJguxo0M4/photo.jpg?sz=128", "display_name": "Paul King", "link": "https://stackoverflow.com/users/10935486/paul-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 57067322, "answer_count": 1, "score": -3, "last_activity_date": 1563328300, "creation_date": 1563326198, "last_edit_date": 1563328300, "question_id": 57067285, "link": "https://stackoverflow.com/questions/57067285/can-someone-explain-this-whileloop-code-trying-to-learn-and-not-getting-it", "title": "can someone explain this whileloop code trying to learn and not getting it", "body": "<pre><code>fun sum(number: Int) : Int {\n\n    var sum = 0\n    var i = 0\n    while (i &lt;= number) {\n        sum += i\n        i++\n    }\n    return sum\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(sum(10))  // 55\n</code></pre>\n\n<p>the answer is 55</p>\n\n<p>none</p>\n"}, {"tags": ["android", "inheritance", "kotlin", "constructor", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "edited": false, "score": 0, "creation_date": 1563365693, "post_id": 57069317, "comment_id": 100674316, "body": "I tried this but the only valid constructor arguments did not include the fields in Syncable."}], "tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": false, "score": 0, "last_activity_date": 1563345325, "last_edit_date": 1563345325, "creation_date": 1563342855, "answer_id": 57069317, "question_id": 57067200, "link": "https://stackoverflow.com/questions/57067200/how-to-properly-construct-room-entities-with-inheritance/57069317#57069317", "title": "How to properly construct Room Entities with Inheritance", "body": "<p>Could you not maybe do something like this:</p>\n\n<pre><code>open class Syncable(\n    @ColumnInfo(name = \"id\")\n    var oid: String? = null,\n    @ColumnInfo(name = \"created\")\n    var created_on: Long = System.currentTimeMillis(),\n    @ColumnInfo(name = \"updated\")\n    var updated_on: Long = System.currentTimeMillis())\n\n@Entity(tableName = ProfileContract.TABLE_NAME, indices = [Index(value = [\"id\"], unique = true)])\ndata class Profile(ColumnInfo(name = \"first_name\")\n     var firstName: String,\n     @ColumnInfo(name = \"last_name\")\n     var lastName: String,          \n     @ColumnInfo(name = \"email\")\n     var email: String? = null,\n     @PrimaryKey(autoGenerate = true) @ColumnInfo(name = \"row_id\")\n     var id: Long? = null) : Syncable(){\n    constructor(profile: Account) : this(profile.firstName, profile.lastName, profile.email, profile.id,profile.oid, profile.created_on, profile.updated_on)\n}\n</code></pre>\n\n<p>Basically, try looking at calling super method constructors for kotlin</p>\n\n<p>I tried to base my answer off of this post here, have a look, hope it helps : <a href=\"https://stackoverflow.com/questions/44481268/call-super-class-constructor-in-kotlin-super-is-not-an-expression\">Call super class constructor in Kotlin, Super is not an expression</a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11566289"}, "edited": false, "score": 0, "creation_date": 1563405299, "post_id": 57080001, "comment_id": 100693244, "body": "Out of curiosity, how does updating compare to using <code>@Embedded</code>?"}, {"owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "edited": false, "score": 0, "creation_date": 1563473107, "post_id": 57080001, "comment_id": 100721781, "body": "With inheritance you update the field like it was in the child object, with simple dot notation, you do not need to construct an inner object first. <code>@Embedded</code> collapses the object into the db table, but it still exists in the data object as it&#39;s own inner class."}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 1, "creation_date": 1563695363, "post_id": 57080001, "comment_id": 100778755, "body": "damn, that&#39;s what i was trying to achieve :P i&#39;ll upvote your answer though, good job for finding it, glad i could kinda help :)"}], "tags": [], "owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "is_accepted": true, "score": 2, "last_activity_date": 1563379067, "creation_date": 1563379067, "answer_id": 57080001, "question_id": 57067200, "link": "https://stackoverflow.com/questions/57067200/how-to-properly-construct-room-entities-with-inheritance/57080001#57080001", "title": "How to properly construct Room Entities with Inheritance", "body": "<p>@a_local_nobody was on the right track, but the answer is more complex.</p>\n\n<p>I need to create a custom constructor on the child class that will set the fields of the parent class    </p>\n\n<pre><code> @Entity(tableName = ProfileContract.TABLE_NAME, indices = [Index(value = [\"id\"], unique = true)])\n data class Profile(ColumnInfo(name = \"first_name\")\n var firstName: String,\n @ColumnInfo(name = \"last_name\")\n var lastName: String,          \n @ColumnInfo(name = \"email\")\n var email: String? = null,\n @PrimaryKey(autoGenerate = true) @ColumnInfo(name = \"row_id\")\n var id: Long? = null) : Syncable() {\n @Ignore constructor(\n   firstName: String,\n   lastName: String,\n   email: String,\n   id: String,\n   created: Long,\n   updated:Long) : this(firstName, lastName, email) {\n     this.id = id\n     this.created = created\n     this.updated = updated\n   }\n }\n</code></pre>\n\n<p>Now to external creators it looks like one big constructor</p>\n"}], "owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "accepted_answer_id": 57080001, "answer_count": 2, "score": 1, "last_activity_date": 1563379067, "creation_date": 1563325357, "last_edit_date": 1563379054, "question_id": 57067200, "link": "https://stackoverflow.com/questions/57067200/how-to-properly-construct-room-entities-with-inheritance", "title": "How to properly construct Room Entities with Inheritance", "body": "<p>I have a list of fields I would like every entity to have, so I've created a Base Entity.</p>\n\n<pre><code>open class Syncable(\n    @ColumnInfo(name = \"id\")\n    var oid: String? = null,\n    @ColumnInfo(name = \"created\")\n    var created: Long = System.currentTimeMillis(),\n    @ColumnInfo(name = \"updated\")\n    var updated: Long = System.currentTimeMillis())\n</code></pre>\n\n<p>Then I have a number of entities inheriting from this one, like:</p>\n\n<pre><code>@Entity(tableName = ProfileContract.TABLE_NAME, indices = [Index(value = [\"id\"], unique = true)])\ndata class Profile(ColumnInfo(name = \"first_name\")\n     var firstName: String,\n     @ColumnInfo(name = \"last_name\")\n     var lastName: String,          \n     @ColumnInfo(name = \"email\")\n     var email: String? = null,\n     @PrimaryKey(autoGenerate = true) @ColumnInfo(name = \"row_id\")\n     var id: Long? = null) : Syncable()\n</code></pre>\n\n<p>Now when I want to construct one of these entities. How do I do it?</p>\n\n<p>Currently I do:</p>\n\n<pre><code>val newProfile = Profile(\n                    \"Bob\",\n                    \"Shoruncle\",\n                    \"bobshoruncle@test.com)\nnewProfile.id = \"bob1\"\nnewProfile.created = 1233L\nnewProfile.updated = 1233L\n</code></pre>\n\n<p>Is there a way to do it as:</p>\n\n<pre><code>val newProfile = Profile(\"Bob\", \"Shoruncle\", \"bobshoruncle@test.com\",\"bob1\",1233L,1233L)\n</code></pre>\n"}, {"tags": ["generics", "inheritance", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 88, "user_id": 10733344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vidarfGCofE/AAAAAAAAAAI/AAAAAAAAAAc/WxSoLDbe9n8/photo.jpg?sz=128", "display_name": "Daniel Taghaddos", "link": "https://stackoverflow.com/users/10733344/daniel-taghaddos"}, "edited": false, "score": 0, "creation_date": 1563450353, "post_id": 57088512, "comment_id": 100708853, "body": "Actually I read that documentation and it didn&#39;t help with this case. The issue is the methods cannot have the same signature. Covariant types cannot be used here because they&#39;re specified by &quot;out&quot; keyword which means they can be the output of the method (return value), while the listener type is an input."}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "reply_to_user": {"reputation": 88, "user_id": 10733344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vidarfGCofE/AAAAAAAAAAI/AAAAAAAAAAc/WxSoLDbe9n8/photo.jpg?sz=128", "display_name": "Daniel Taghaddos", "link": "https://stackoverflow.com/users/10733344/daniel-taghaddos"}, "edited": false, "score": 0, "creation_date": 1563484988, "post_id": 57088512, "comment_id": 100726556, "body": "Then you have requirements to the interface that contradict the limitations you want to impose on the usage. Could you elaborate about the reason in is required?"}], "tags": [], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "is_accepted": false, "score": 0, "last_activity_date": 1563432294, "creation_date": 1563432294, "answer_id": 57088512, "question_id": 57067195, "link": "https://stackoverflow.com/questions/57067195/how-to-inherit-generic-types-in-implementations-without-having-generic-interface/57088512#57088512", "title": "How to inherit generic types in implementations without having generic interfaces in Kotlin?", "body": "<p>I think you need covariance instead of contravariance to get SpecialType to be used. The kotlin page is pretty helpful I think. <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 10733344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vidarfGCofE/AAAAAAAAAAI/AAAAAAAAAAc/WxSoLDbe9n8/photo.jpg?sz=128", "display_name": "Daniel Taghaddos", "link": "https://stackoverflow.com/users/10733344/daniel-taghaddos"}, "is_accepted": true, "score": 0, "last_activity_date": 1589365666, "creation_date": 1589365666, "answer_id": 61772225, "question_id": 57067195, "link": "https://stackoverflow.com/questions/57067195/how-to-inherit-generic-types-in-implementations-without-having-generic-interface/61772225#61772225", "title": "How to inherit generic types in implementations without having generic interfaces in Kotlin?", "body": "<p>In the end, I had to use generic common interfaces in this form:</p>\n\n<pre><code>interface CommonEndPoint&lt;TYPE1 : CommonType&gt; {\n    fun doSomething(listener: IListener&lt;TYPE1&gt;)\n}\n</code></pre>\n\n<p>And inherit in the specialised endpoint like this:</p>\n\n<pre><code>interface SpecialEndpoint : CommonEndpoint&lt;SpecialType&gt; {\n    fun doSomething(listener: IListener&lt;SpecialType&gt;)\n}\n</code></pre>\n\n<p>Which works perfectly for Java/Kotlin code. And drop Listeners and switch to closures for iOS/Objective-C which translates to blocks.</p>\n"}], "owner": {"reputation": 88, "user_id": 10733344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vidarfGCofE/AAAAAAAAAAI/AAAAAAAAAAc/WxSoLDbe9n8/photo.jpg?sz=128", "display_name": "Daniel Taghaddos", "link": "https://stackoverflow.com/users/10733344/daniel-taghaddos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 61772225, "answer_count": 2, "score": 2, "last_activity_date": 1589365666, "creation_date": 1563325281, "last_edit_date": 1563325782, "question_id": 57067195, "link": "https://stackoverflow.com/questions/57067195/how-to-inherit-generic-types-in-implementations-without-having-generic-interface", "title": "How to inherit generic types in implementations without having generic interfaces in Kotlin?", "body": "<p>I'm writing this SDK where I need to define functionality in publicly accessible interfaces as:</p>\n\n<pre><code>interface CommonEndPoint {\n   fun doSomething(listener: IListener&lt;CommonType&gt;)\n}\n</code></pre>\n\n<p>and then implement the common interface in the sub-project as:</p>\n\n<pre><code>interface SpecialEndpoint : CommonEndpoint {\n  fun doSomething(listener: IListener&lt;SpecialType&gt;)\n}\n</code></pre>\n\n<p>where SpecialType extends CommonType.</p>\n\n<p>I have defined the contra-variant generic listener as:</p>\n\n<pre><code>interface IListener&lt;in T&gt; {\n   receiveResult(result: T)\n}\n</code></pre>\n\n<p>The problem is:</p>\n\n<ol>\n<li>I need the SDK user to work with the SpecialType, not the CommonType</li>\n<li>I need to override the method names as they are</li>\n</ol>\n\n<p>Here are the things I've tried so far:</p>\n\n<ul>\n<li>I have tried generic functions, they didn't work either as they need to specify the type.</li>\n<li>I cannot use @JvmName because these methods are open/override</li>\n<li>At the moment I use abstract classes with protected/internal constructors to define the methods that need to be defined and implemented</li>\n</ul>\n\n<p><strong>Why not generic interfaces?</strong> The interfaces are not meant to be generics because the types are only used in one function, but the listeners should be generic as they are used everywhere in the project. Plus, the same implementation is supposed to be done for iOS with Objective-C compatibility, which means I have to support light-weight generics there and if I make the interfaces generic, I have to write my code three times for iOS.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1563348634, "post_id": 57067169, "comment_id": 100665215, "body": "&quot;If you can provide a backing field, you need not initialize the field.&quot; It&#39;s the opposite. If a property has a backing field, it needs to be initialized; if it doesn&#39;t, there&#39;s nothing to initialize."}, {"owner": {"reputation": 53, "user_id": 1706007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756ddc1419d9b172ee97c5d505ba2be8?s=128&d=identicon&r=PG", "display_name": "Watu", "link": "https://stackoverflow.com/users/1706007/watu"}, "edited": false, "score": 0, "creation_date": 1563362026, "post_id": 57067169, "comment_id": 100672416, "body": "I don&#39;t think it is about backing fields. I added a second example which is pretty much identical to the problematic code, yet it works."}], "tags": [], "owner": {"reputation": 455, "user_id": 5160759, "user_type": "registered", "profile_image": "https://graph.facebook.com/1146214052059186/picture?type=large", "display_name": "Arpan Kanthal", "link": "https://stackoverflow.com/users/5160759/arpan-kanthal"}, "is_accepted": false, "score": 1, "last_activity_date": 1563324888, "creation_date": 1563324888, "answer_id": 57067169, "question_id": 57067014, "link": "https://stackoverflow.com/questions/57067014/property-must-be-initialized-or-be-abstract-in-init-block-when-throwing-an-exc/57067169#57067169", "title": "&quot;Property must be initialized or be abstract&quot; in init block when throwing an exception", "body": "<p>The question is very well answered in the below link.<br>\n<a href=\"https://stackoverflow.com/questions/41440750/kotlin-why-do-i-need-to-initialize-a-var-with-custom-getter\">Kotlin: why do I need to initialize a var with custom getter?</a></p>\n\n<p>Essentially it boils down to having a backing field for every \"val\" (property) . If you can provide a backing field, you need not initialize the field. Below is a small example of it.  </p>\n\n<pre><code>class Foo {\n    private val a: Int\n    get() = getValue()\n\n}\n\nfun getValue():Int {\n    throw Exception()\n}\n\nfun main() {\n    Foo()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 1706007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756ddc1419d9b172ee97c5d505ba2be8?s=128&d=identicon&r=PG", "display_name": "Watu", "link": "https://stackoverflow.com/users/1706007/watu"}, "edited": false, "score": 0, "creation_date": 1563362349, "post_id": 57070754, "comment_id": 100672588, "body": "Java requires fields to be initialized, just as Kotlin does. However the value before initialization may be different, but I don&#39;t see how it relates to this case."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 53, "user_id": 1706007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756ddc1419d9b172ee97c5d505ba2be8?s=128&d=identicon&r=PG", "display_name": "Watu", "link": "https://stackoverflow.com/users/1706007/watu"}, "edited": false, "score": 1, "creation_date": 1563363322, "post_id": 57070754, "comment_id": 100673096, "body": "@Watu Yes, since the example in <a href=\"https://pl.kotl.in/sC6MP3Xq8\" rel=\"nofollow noreferrer\">pl.kotl.in/sC6MP3Xq8</a> compiles (and so does <code>if (true) { throw Exception() }</code>), this isn&#39;t the problem. May just be a compiler bug."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1563349370, "last_edit_date": 1563349370, "creation_date": 1563348935, "answer_id": 57070754, "question_id": 57067014, "link": "https://stackoverflow.com/questions/57067014/property-must-be-initialized-or-be-abstract-in-init-block-when-throwing-an-exc/57070754#57070754", "title": "&quot;Property must be initialized or be abstract&quot; in init block when throwing an exception", "body": "<blockquote>\n  <p>Similar java code works as expected:</p>\n</blockquote>\n\n<p>Java initializes fields to 0 (or <code>null</code>/<code>false</code> depending on type) by default. You can see it e.g. by printing <code>a</code>'s value before the <code>a = 42</code> line.</p>\n\n<p>Kotlin doesn't, because this implicit initialization makes it too easy to forget to initialize a property and doesn't provide much benefit. So it requires you to initialize all properties which have backing fields. </p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 1706007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756ddc1419d9b172ee97c5d505ba2be8?s=128&d=identicon&r=PG", "display_name": "Watu", "link": "https://stackoverflow.com/users/1706007/watu"}, "is_accepted": true, "score": 0, "last_activity_date": 1563681617, "creation_date": 1563681617, "answer_id": 57130226, "question_id": 57067014, "link": "https://stackoverflow.com/questions/57067014/property-must-be-initialized-or-be-abstract-in-init-block-when-throwing-an-exc/57130226#57130226", "title": "&quot;Property must be initialized or be abstract&quot; in init block when throwing an exception", "body": "<p>It seems to be a compiler bug as Alexey suggested<br>\nThere is <a href=\"https://youtrack.jetbrains.com/issue/KT-30085\" rel=\"nofollow noreferrer\">similar issue</a> posted on Kotlin bug tracer.</p>\n"}], "owner": {"reputation": 53, "user_id": 1706007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756ddc1419d9b172ee97c5d505ba2be8?s=128&d=identicon&r=PG", "display_name": "Watu", "link": "https://stackoverflow.com/users/1706007/watu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1102, "favorite_count": 0, "accepted_answer_id": 57130226, "answer_count": 3, "score": 3, "last_activity_date": 1563681617, "creation_date": 1563323192, "last_edit_date": 1563361805, "question_id": 57067014, "link": "https://stackoverflow.com/questions/57067014/property-must-be-initialized-or-be-abstract-in-init-block-when-throwing-an-exc", "title": "&quot;Property must be initialized or be abstract&quot; in init block when throwing an exception", "body": "<p>Why does kotlin report <code>Property must be initialized or be abstract</code>. The object construction is never finished, so it should not matter whether <code>a</code> is initialized or not. Could a case be demonstrated where this would be a problem?  </p>\n\n<pre><code>class Foo {\n    private val a: Int\n\n    init {\n        a = 42\n        throw Exception()\n    }\n}\n\nfun main() {\n    Foo()\n}\n</code></pre>\n\n<p><a href=\"https://pl.kotl.in/svJbpfD6A\" rel=\"nofollow noreferrer\">kotlin playground</a></p>\n\n<hr>\n\n<p>However these work just fine  </p>\n\n<pre><code>fun bar() {\n    throw Exception()\n}\n\nclass Foo {\n    private val a: Int\n\n    init {\n        a = 42\n        bar()\n    }\n}\n\nfun main() {\n    Foo()\n}\n</code></pre>\n\n<p><a href=\"https://pl.kotl.in/sC6MP3Xq8\" rel=\"nofollow noreferrer\">kotlin playground</a></p>\n\n<pre><code>class Foo {\n    private val a: Int = throw Exception()\n}\n\nfun main() {\n    Foo()\n}\n</code></pre>\n\n<p><a href=\"https://pl.kotl.in/RLBeoEZjX\" rel=\"nofollow noreferrer\">kotlin playground</a></p>\n\n<hr>\n\n<p>Similar java code works as expected:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    private static class Foo {\n        private final int a;\n\n        public Foo() throws Exception {\n            a = 42;\n            throw new Exception();\n        }\n    }\n\n     public static void main(String []args) throws Exception {\n         new Foo();\n     }\n}\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "interface", "parameter-passing", "retrofit"], "comments": [{"owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1563517276, "post_id": 57066336, "comment_id": 100733173, "body": "What is <code>intent</code> in <code>intent.getStringExtra(&quot;Username&quot;)</code> this line."}], "owner": {"reputation": 45, "user_id": 11781114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32194239253c3458502ef79300317fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike994", "link": "https://stackoverflow.com/users/11781114/mike994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563360421, "creation_date": 1563316873, "last_edit_date": 1563360421, "question_id": 57066336, "link": "https://stackoverflow.com/questions/57066336/android-studio-passing-a-value-from-edittext-to-the-url-for-calling-the-server", "title": "Android Studio: Passing a value from editText to the URL for calling the server", "body": "<p>I need to pass a value that I obtain from an editText in the URL that I use to call the server. If my localhost is \"x.x.x.x:xxxx/\", the value that I need to pass is \"id\"(from the editText) so, building them together, I will obtain this URL \"x.x.x.x:xxxx/id\".\nIn conclusion, I need to modify the link that I call by adding the id that is inserted into the editText, for having different data based on the id.(\"x.x.x.x:xxxx/0876\", \"x.x.x.x:xxxx/8907\", \"x.x.x.x:xxxx/3456\", etc...)\nPlease I need help.</p>\n\n<p>I'm using retrofit2 for json and i will show to you what I have managed to do with my code</p>\n\n<pre><code>    //this is the class \n    private val retrofit = \n    Retrofit.Builder().baseUrl(\"http://x.x.x.x:xxxx/\")\n       .addConverterFactory(GsonConverterFactory.create())\n       .build()\n    private val postApi=retrofit.create(RequestApi::class.java)\n    private val response = \n    postApi.getAllPosts(intent.getStringExtra(\"Username\")) // this is the \n                                               //  value from the editText\n                                               //(ex: 0907)\n\n\n     //this is the interface\n    interface RequestApi {\n\n\n     @GET(\"statistiche/{id}\")\n      fun getAllPosts(@Query(\"id\") id: String ): Call&lt;ExchangeResponse&gt;\n       //this is where I say that the value from editText, passed by \n       //getAllposts, is build with the URL\n       //(ex: \"statistiche/0907\")\n\n\n\n     }\n\n\n     //this is where I prepared the value from editText to be passed to \n     //other activities and interfaces\n        val intent = Intent(this@MainActivity,Home::class.java)\n            intent.putExtra(\"Username\" , editText.text.toString())\n            startActivity(intent)\n</code></pre>\n\n<p>When I run this code i receive this error</p>\n\n<pre><code> 2019-07-17 00:39:36.763 21395-21395/com.example.adamo3 E/AndroidRuntime: \n FATAL EXCEPTION: main\n  Process: com.example.adamo3, PID: 21395\n  java.lang.RuntimeException: Unable to instantiate activity \n ComponentInfo{com.example.adamo3/com.example.adamo3.Risk_Stat}: \n java.lang.NullPointerException: Attempt to invoke virtual method \n 'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' \n  on a null object reference\n    at \n android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2548)\n    at \n android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run\n    (ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method \n  'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' \n   on a null object reference\n    at com.example.adamo3.Risk_Stat.&lt;init&gt;(Risk_Stat.kt:30)\n    at java.lang.Class.newInstance(Native Method)\n    at android.app.Instrumentation.newActivity(Instrumentation.java:1078)\n    at android.app.ActivityThread.performLaunchActivity\n    (ActivityThread.java:2538)\n    at \n   android.app.ActivityThread.handleLaunchActivity\n   (ActivityThread.java:2707)\u00a0\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:154)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run\n    (ZygoteInit.java:866)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n\n<p>The line where there is the error is this\n         postApi.getAllPosts(intent.getStringExtra(\"Username\")) </p>\n"}, {"tags": ["android", "animation", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 168, "user_id": 10998081, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fLRCU0VBtgE/AAAAAAAAAAI/AAAAAAAAABE/uKSnoN2AHsw/photo.jpg?sz=128", "display_name": "yazan sayed", "link": "https://stackoverflow.com/users/10998081/yazan-sayed"}, "edited": false, "score": 0, "creation_date": 1563385187, "post_id": 57066713, "comment_id": 100685854, "body": "for some reason using the index in  <code>child.translationY = if(index == 0) -h else h</code> makes the animation very sluggish , I used <code>itemView.y</code> to decide if the itemView is in the lower or upper half of the screen, and apply the animation accordingly. I tried <code>child.y</code> in the layoutManager but the values of <code>child.y</code> are very weird to me,  sometimes when scrolling up it&#39;s negative and other times positive,, I will learn about layoutManager later"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 2, "last_activity_date": 1563320127, "creation_date": 1563320127, "answer_id": 57066713, "question_id": 57066234, "link": "https://stackoverflow.com/questions/57066234/animating-recyclerview-items/57066713#57066713", "title": "Animating recyclerView items", "body": "<p>I don't know why everyone is fascinated about putting everything into <code>RecyclerView.Adapter</code>.</p>\n\n<p>You can inject this animation into <code>RecyclerView.LayoutManager</code> instead as it is aware of exact moment and position where views are added:</p>\n\n<pre><code>open class FadeInLinearLayoutManager : LinearLayoutManager {\n    constructor(context: Context?) : super(context)\n    constructor(context: Context?, orientation: Int, reverseLayout: Boolean) : super(context, orientation, reverseLayout)\n    constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int, defStyleRes: Int) : super(context, attrs, defStyleAttr, defStyleRes)\n\n    private val enterInterpolator = AnticipateOvershootInterpolator(2f)\n\n    override fun addView(child: View, index: Int) {\n        super.addView(child, index)\n        val h = 400f\n        // if index == 0 item is added on top if -1 it's on the bottom\n        child.translationY = if(index == 0) -h else h\n        // begin animation when view is laid out\n        child.alpha = 0.3f\n        child.animate().translationY(0f).alpha(1f)\n                .setInterpolator(enterInterpolator)\n                .setDuration(1000L)\n    }\n}\n</code></pre>\n\n<p>Then use it as your layout manager:</p>\n\n<pre><code>recyclerView.layoutManager = FadeInLinearLayoutManager(context)\n</code></pre>\n"}], "owner": {"reputation": 168, "user_id": 10998081, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fLRCU0VBtgE/AAAAAAAAAAI/AAAAAAAAABE/uKSnoN2AHsw/photo.jpg?sz=128", "display_name": "yazan sayed", "link": "https://stackoverflow.com/users/10998081/yazan-sayed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1219, "favorite_count": 1, "accepted_answer_id": 57066713, "answer_count": 1, "score": 0, "last_activity_date": 1563320127, "creation_date": 1563316008, "last_edit_date": 1563316317, "question_id": 57066234, "link": "https://stackoverflow.com/questions/57066234/animating-recyclerview-items", "title": "Animating recyclerView items", "body": "<p>I'm applying some AnimatorSet to the items of a recyclerView,</p>\n\n<p>recyclerView adapter:</p>\n\n<pre><code>class MyAdapter(...) : \nandroidx.recyclerview.widget.RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, p1: Int): ViewHolder {\n    return ViewHolder(...)\n    }\n\noverride fun onBindViewHolder(p0: ViewHolder, p1: Int) {\n    p0.bind(...)\n    }\n\n\ninner class ViewHolder(itemView: View,...) : \nandroidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\n\nfun bind(...) {\n        ...\n        animateItemView(itemView)\n        ...\n}\n}\n}\n</code></pre>\n\n<p>animateItemView function</p>\n\n<pre><code>        fun animateItemView(itemView: View) {\n        //hide the itemView\n        itemView.alpha = 0f\n\n        //moving the itemView down 400f\n        ObjectAnimator.ofFloat(itemView, \"translationY\", 0f, 400f)\n            .apply { duration = 1L }.start()\n\n        //show\n        //itemView.alpha = 1f\n\n        //moving the itemView up 400f\n        val translateUp = ObjectAnimator.ofFloat(itemView, \"translationY\", 400f, 0f)\n            .apply {\n                duration = 1000L\n                interpolator = AnticipateOvershootInterpolator(2f)\n            }\n\n        //animating alpha\n        val fade = ValueAnimator.ofFloat(0f, 1f)\n            .apply {\n                addUpdateListener {\n                    itemView.alpha = this.animatedValue as Float\n                }\n                duration = 400L\n            }\n\n        //applying\n        AnimatorSet().apply { playTogether(translateUp, fade) }.start()\n\n\n    }\n</code></pre>\n\n<p>result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9ce64.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ce64.gif\" alt=\"enter image description here\"></a></p>\n\n<p>surly when scrolling upwards the <code>itemView</code> still slides up, is there a way to apply different animation for scrolling up/down ,, or what is a better approach ?</p>\n"}, {"tags": ["generics", "kotlin", "interface"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1563313040, "post_id": 57065603, "comment_id": 100656562, "body": "<a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-7770</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4190, "user_id": 1566588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2070e800356da57315d427aa2343f4?s=128&d=identicon&r=PG", "display_name": "Teovald", "link": "https://stackoverflow.com/users/1566588/teovald"}, "is_accepted": false, "score": 4, "last_activity_date": 1563318326, "creation_date": 1563318326, "answer_id": 57066517, "question_id": 57065603, "link": "https://stackoverflow.com/questions/57065603/sam-conversion-with-generics/57066517#57066517", "title": "SAM Conversion with Generics", "body": "<p>Sadly, Kotlin does not support this syntax out of the box for kotlin interfaces, only java one (whether you use generics or not).  </p>\n\n<p>What you can do though is this : </p>\n\n<pre><code>\ninterface OnItemClickDelegate&lt;T : Entity&gt; {\n    fun onItemClick(entity: T?)\n\n    companion object {\n        inline operator fun &lt;T : Entity&gt; invoke(crossinline op: (entity: T?) -&gt; Unit) =\n            object : OnItemClickDelegate&lt;T&gt; {\n                override fun onItemClick(entity: T?) = op(entity)\n            }\n    }\n}\n</code></pre>\n\n<p>This way you can instantiate a listener like this : </p>\n\n<pre><code>  val delegate = OnItemClickDelegate&lt;Entity&gt; {\n                    //todo -&gt; insert your callback code here\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8604629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w1lq9.jpg?s=128&g=1", "display_name": "Ricardo Carvalho", "link": "https://stackoverflow.com/users/8604629/ricardo-carvalho"}, "is_accepted": false, "score": 0, "last_activity_date": 1614543447, "creation_date": 1614543447, "answer_id": 66413463, "question_id": 57065603, "link": "https://stackoverflow.com/questions/57065603/sam-conversion-with-generics/66413463#66413463", "title": "SAM Conversion with Generics", "body": "<p>From Kotlin 1.4 onwards, just add <code>fun</code> before the interface declaration and you're good to go, like so:</p>\n<pre><code>fun interface OnItemClickDelegate&lt;T : Entity&gt; {\n    fun onItemClick(entity: T?)\n}\n</code></pre>\n<p><a href=\"https://kotlinlang.org/docs/whatsnew14.html#sam-conversions-for-kotlin-interfaces\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/whatsnew14.html#sam-conversions-for-kotlin-interfaces</a></p>\n"}], "owner": {"reputation": 656, "user_id": 5721702, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WDGk4.png?s=128&g=1", "display_name": "Huy-Anh Hoang", "link": "https://stackoverflow.com/users/5721702/huy-anh-hoang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1614543447, "creation_date": 1563312137, "question_id": 57065603, "link": "https://stackoverflow.com/questions/57065603/sam-conversion-with-generics", "title": "SAM Conversion with Generics", "body": "<p>I have my interfaced defined like so:</p>\n\n<pre><code>interface OnItemClickDelegate&lt;T: Entity&gt; {\n    fun onItemClick(entity: T?)\n}\n</code></pre>\n\n<p>Right now I have my interfaced defined anonymously in a different class:</p>\n\n<pre><code>var itemClickDelegate = object : OnItemClickDelegate&lt;Derived&gt; {\n        override fun onItemClick(entity: Derived?) {\n            doSomethingWith(entity)\n        }\n    }\n</code></pre>\n\n<p>This compiles fine, but when I switch it to:</p>\n\n<pre><code>var itemClickDelegate = OnItemClickDelegate&lt;Derived&gt; { entity -&gt; doSomethingWith(entity) }\n</code></pre>\n\n<p>I get a compiler error saying:</p>\n\n<pre><code>Interface OnItemClickDelegate does not have constructors\n</code></pre>\n\n<p>How do I write my declaration in short notation?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 883, "user_id": 4171350, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/374c3f0e48a68ba94fb8bc7463cf8b87?s=128&d=identicon&r=PG&f=1", "display_name": "Prethia", "link": "https://stackoverflow.com/users/4171350/prethia"}, "is_accepted": true, "score": 1, "last_activity_date": 1563315655, "creation_date": 1563315655, "answer_id": 57066185, "question_id": 57065531, "link": "https://stackoverflow.com/questions/57065531/i-dont-undertsand-how-these-two-line-of-kotlin-code-work/57066185#57066185", "title": "i don&#39;t undertsand how these two line of kotlin code work", "body": "<p>Bindings are generated in runtime from your xml file, in this case </p>\n\n<pre><code>R.layout.activity_main\n</code></pre>\n\n<p>First things first, if your layout had different name then the name of generated binding would also be different. </p>\n\n<pre><code>R.layout.activity_test // ActivityTestBinding\n</code></pre>\n\n<p>Now in your layout you have a view with identifier <code>myName</code>. Thats why your generated class <code>ActivityMainBinding</code> can find myName. So <code>binding.myName</code> refers to an element in your xml while <code>myName</code> refers to the object you created. This is more related to using databinding, you should do the identical thing when writing with Java as well.</p>\n\n<p><code>?</code> is just an operator you can use with nullable objects. In java, you can write this </p>\n\n<pre><code>if(myName != null){ \n    myName.nickName = nickName_edit.text.toString() \n}\n</code></pre>\n"}], "owner": {"reputation": 791, "user_id": 10047954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhq2U.png?s=128&g=1", "display_name": "hewa jalal", "link": "https://stackoverflow.com/users/10047954/hewa-jalal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 57066185, "answer_count": 1, "score": 0, "last_activity_date": 1563362517, "creation_date": 1563311624, "last_edit_date": 1563362517, "question_id": 57065531, "link": "https://stackoverflow.com/questions/57065531/i-dont-undertsand-how-these-two-line-of-kotlin-code-work", "title": "i don&#39;t undertsand how these two line of kotlin code work", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n    private val myName:MyName = MyName(\"Kotlin noob\")\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n        binding.myName = myName //line 1\n        binding.doneButton.setOnClickListener {\n            addName(it)\n        }\n    }\n\n\n    fun addName(view: View) {\n\n        myName?.nickName = nickName_edit.text.toString() //line 2\n        binding.showNameTextView.text = \"hello ${binding.enterNameEditText.text}\"\n        binding.showNameTextView.visibility = View.VISIBLE\n        binding.enterNameEditText.visibility = View.GONE\n        view.visibility = View.GONE\n    }\n\n//this is the class used for data \ndata class MyName(var name:String=\"\", var nickName:String=\"\")\n}\n</code></pre>\n\n<p>how the commented code work ? i mean in line 1 how are we assigning myName to myName they are the same thing, and how we can assign reference variables to each ?\nand in line 2 what is that ? after myName</p>\n\n<ul>\n<li>i came from a Java background so it be nice if you can explain it with Java example/syntax</li>\n</ul>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 2, "last_activity_date": 1563342531, "creation_date": 1563342531, "answer_id": 57069252, "question_id": 57064983, "link": "https://stackoverflow.com/questions/57064983/kotlin-coroutines-unlimited-stream-to-fan-out-batches/57069252#57069252", "title": "Kotlin Coroutines - unlimited stream to fan out batches", "body": "<p>I don't see a reason to have two channels. You could directly iterate over the list of records. And you should use <code>async</code> instead of <code>launch</code>. Then you can use <code>await</code> or even better <code>awaitAll</code> for the list of results.</p>\n\n<pre><code>val infinite: ReceiveChannel&lt;List&lt;Record&gt;&gt; = produce { ... }\n\nwhile(true) {\n    val resultsDeferred = infinite.receive().map {\n        async {\n            process(it)\n        }\n    }\n\n    val results = resultsDeferred.awaitAll()\n\n    logBatchStats()\n}\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 481767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf0d649f070b386c3c3a31d89f4a888?s=128&d=identicon&r=PG", "display_name": "Enrico", "link": "https://stackoverflow.com/users/481767/enrico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 1, "accepted_answer_id": 57069252, "answer_count": 1, "score": 1, "last_activity_date": 1563342531, "creation_date": 1563308976, "question_id": 57064983, "link": "https://stackoverflow.com/questions/57064983/kotlin-coroutines-unlimited-stream-to-fan-out-batches", "title": "Kotlin Coroutines - unlimited stream to fan out batches", "body": "<p>I'm looking to implement a pipeline for processing an infinite stream of messages. I'm new to coroutines and trying to follow along with the docs but I'm not confident I'm doing the right thing.</p>\n\n<p>My infinite stream is of batches of records and I'd like to fan out the processing of each record to a coroutine, wait for a batch to finish (to log stats and stuff) before continuing to the next batch.</p>\n\n<pre><code>                    -&gt; process [record] \\   \nsource -&gt; [records] -&gt; process [record]  -&gt; [log batch stats]\n                    -&gt; process [record] /   \n\n         |------------------- while(true) -------------------|\n</code></pre>\n\n<p>What I had planned is to have 2 <code>Channel</code>s, one for the infinite stream, and one for the intermediate records that will fill up and empty on each batch.</p>\n\n<pre><code>runBlocking {\n  val infinite: Channel&lt;List&lt;Record&gt;&gt; = produce { send(source.getBatch()) }\n  val records = Channel&lt;Record&gt;(Channel.Factory.UNLIMITED)\n\n  while(true) {\n    infinite.receive().forEach { records.send(it) }\n    while(!records.isEmpty()) {\n      launch { process(records.receive()) }\n    }\n\n    // ??? Wait for jobs?\n\n    logBatchStats()\n  }\n\n}\n</code></pre>\n\n<p>From googling, it seems that waiting for jobs is discouraged, plus I wasn't sure if calling <code>.map</code> on a channel will actually receive messages to convert them to jobs:</p>\n\n<pre><code>records.map { record -&gt; launch { process(record) } }\n</code></pre>\n\n<p>yields a <code>Channel&lt;Job&gt;</code>. It seems I can call <code>.toList()</code> on it to collapse it, but then I need to join the jobs? Again, google suggested to do that by having a parent job, but I'm not really sure how to do that with <code>launch</code>.</p>\n\n<p>Anyway, very much a n00b to this.</p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["arrays", "kotlin", "hashmap"], "answers": [{"comments": [{"owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "edited": false, "score": 0, "creation_date": 1563305828, "post_id": 57064323, "comment_id": 100653767, "body": "I had tried this earlier. I was and am still seeing the error &quot;Property getter or setter expected&quot;"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "edited": false, "score": 0, "creation_date": 1563305907, "post_id": 57064323, "comment_id": 100653794, "body": "Maybe a problem with <code>MyClass</code>, then? When I use <code>String</code>, the following compiles just fine: <code>val test = ArrayList&lt;HashMap&lt;String, ArrayList&lt;String&gt;&gt;&gt;()</code>"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "edited": false, "score": 0, "creation_date": 1563306000, "post_id": 57064323, "comment_id": 100653834, "body": "Also, regardless of whether or not there is a problem with <code>MyClass</code>, the parentheses <i>must</i> be outside the third <code>&gt;</code>"}, {"owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "edited": false, "score": 0, "creation_date": 1563306408, "post_id": 57064323, "comment_id": 100654025, "body": "Even with String instead of MyClass I am getting the same error during compile time. MyClass is a data class. However since I am seeing the error with String too, I don&#39;t think it&#39;s anything with MyClass."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "edited": false, "score": 0, "creation_date": 1563306515, "post_id": 57064323, "comment_id": 100654066, "body": "The error must then be somewhere else in the program (perhaps on the line above, or maybe you have other unbalanced brackets somewhere messing up scope, or maybe you&#39;re importing the wrong <code>ArrayList</code>, etc). The line in my answer and the line in my comment compile just fine for me in a project with no other errors."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "reply_to_user": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "edited": false, "score": 1, "creation_date": 1563308849, "post_id": 57064323, "comment_id": 100655014, "body": "@tech_human If this answer, which is syntactically valid, doesn&#39;t solve your problem then you need to edit your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1563305763, "creation_date": 1563305763, "answer_id": 57064323, "question_id": 57064267, "link": "https://stackoverflow.com/questions/57064267/kotlin-declaring-a-variable-which-is-an-array-list-of-hash-maps-where-key-is-s/57064323#57064323", "title": "Kotlin - Declaring a variable which is an array list of hash maps where key is string and value is another array list", "body": "<p>I think this is a simple typo: your parentheses are inside the third closing angle bracket, and should be outside:</p>\n\n<pre><code>var testVar = ArrayList&lt;HashMap&lt;String, ArrayList&lt;MyClass&gt;&gt;&gt;()\n</code></pre>\n"}], "owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 57064323, "answer_count": 1, "score": 0, "last_activity_date": 1563305763, "creation_date": 1563305554, "question_id": 57064267, "link": "https://stackoverflow.com/questions/57064267/kotlin-declaring-a-variable-which-is-an-array-list-of-hash-maps-where-key-is-s", "title": "Kotlin - Declaring a variable which is an array list of hash maps where key is string and value is another array list", "body": "<p>as the title says, I wish to create a variable which is an array list of hash maps where key is a string and value is another array list of objects of custom class.</p>\n\n<p>In Swift or other languages it will look something like this:</p>\n\n<pre><code>[String: [MyClass]]\n</code></pre>\n\n<p>In Kotlin I tried:</p>\n\n<pre><code>var testVar = ArrayList&lt;HashMap&lt;String, ArrayList&lt;MyClass&gt;&gt;()&gt;\n</code></pre>\n\n<p>I am seeing error like \"Expecting a '>', Property getter or setter expected\".</p>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["kotlin", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 30326, "user_id": 384306, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZED8P.jpg?s=128&g=1", "display_name": "Nathan Schwermann", "link": "https://stackoverflow.com/users/384306/nathan-schwermann"}, "is_accepted": true, "score": 1, "last_activity_date": 1568400930, "creation_date": 1568400930, "answer_id": 57928983, "question_id": 57063614, "link": "https://stackoverflow.com/questions/57063614/rxkotlin-withlatestfrom-compile-error-not-enough-information-to-infer-ty/57928983#57928983", "title": "RxKotlin &quot;withLatestFrom(...)&quot; compile error: not enough information to infer type variable R", "body": "<p>You have to specifically tell the compiler what classes you are working with.</p>\n\n<pre><code>        val o1 = Observable.just(1)\n        val o2 = Observable.just(2)\n\n        o1.withLatestFrom(o2, BiFunction { t1 : Int, t2 : Int -&gt;  t1 to t2})\n            .subscribe { (one, two) -&gt; }\n</code></pre>\n\n<p>Alternatively, RxKotlin extension function library handles this for you. \n<a href=\"https://github.com/ReactiveX/RxKotlin\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/RxKotlin</a></p>\n"}], "owner": {"reputation": 2311, "user_id": 133309, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/4afb5408b11fd0e816ed66538ffc9263?s=128&d=identicon&r=PG", "display_name": "Frank Harper", "link": "https://stackoverflow.com/users/133309/frank-harper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 57928983, "answer_count": 1, "score": 1, "last_activity_date": 1568400930, "creation_date": 1563302516, "question_id": 57063614, "link": "https://stackoverflow.com/questions/57063614/rxkotlin-withlatestfrom-compile-error-not-enough-information-to-infer-ty", "title": "RxKotlin &quot;withLatestFrom(...)&quot; compile error: not enough information to infer type variable R", "body": "<p>1) The code below fails to compile with an error: \"not enough information to infer type variable R\"</p>\n\n<pre><code>keywordChanges\n  .withLatestFrom(searchParamsSubject)\n  .subscribe { (keyword, searchParams) -&gt;\n     ...\n  }\n</code></pre>\n\n<p>2) The code below compiles and works, but I would prefer not to have an empty <code>subscribe()</code> and not to put side effects into the combiner function.</p>\n\n<pre><code>keywordChanges\n  .withLatestFrom(searchParamsSubject) { keyword, searchParams -&gt;\n    searchParamsSubject.onNext(searchParams.copy(keyword = keyword))\n  }\n  .subscribe()\n</code></pre>\n\n<p>3) Below is the code from the RxKotlin library, that I am trying to call in 1)</p>\n\n<pre><code>/**\n * Emits a `Pair`\n */\ninline fun &lt;T, U, R&gt; Observable&lt;T&gt;.withLatestFrom(other: ObservableSource&lt;U&gt;): Observable&lt;Pair&lt;T,U&gt;&gt;\n        = withLatestFrom(other, BiFunction{ t, u -&gt; Pair(t,u)  }\n</code></pre>\n\n<h3>How could I modify the code in 1) to make it work?</h3>\n"}, {"tags": ["android", "kotlin", "mvvm", "viewmodel"], "answers": [{"comments": [{"owner": {"reputation": 217, "user_id": 6029786, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P7PrKfwpSXc/AAAAAAAAAAI/AAAAAAAAAQ8/8_ntEyLKVAY/photo.jpg?sz=128", "display_name": "Gauri Gadkari", "link": "https://stackoverflow.com/users/6029786/gauri-gadkari"}, "edited": false, "score": 0, "creation_date": 1563301807, "post_id": 57063297, "comment_id": 100652069, "body": "I agree, ViewModel should not be in companion object"}, {"owner": {"reputation": 25, "user_id": 10802836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c0dcfd7fb6f2cc4b9ceebd0d339a2f?s=128&d=identicon&r=PG&f=1", "display_name": "Rejfi", "link": "https://stackoverflow.com/users/10802836/rejfi"}, "edited": false, "score": 0, "creation_date": 1563301959, "post_id": 57063297, "comment_id": 100652128, "body": "Thanks for the answer. My fears have been confirmed regarding this method. Thank you again"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 0, "last_activity_date": 1563301178, "creation_date": 1563301178, "answer_id": 57063297, "question_id": 57063221, "link": "https://stackoverflow.com/questions/57063221/can-i-share-viewmodel-inside-companion-object/57063297#57063297", "title": "Can I share ViewModel inside companion object?", "body": "<blockquote>\n  <p>Is it safe?</p>\n</blockquote>\n\n<p>I feel fairly confident it goes against what the developers of <code>ViewModel</code> have in mind. In particular, bear in mind that a <code>ViewModel</code> is cleared when its <code>LifecycleOwner</code> is destroyed, and so you may run into problems with shared <code>ViewModel</code> objects getting cleared when you would prefer that they not.</p>\n\n<p>Personally, I would not use this approach.</p>\n\n<blockquote>\n  <p>Is exists another recommended way?</p>\n</blockquote>\n\n<p>Here are three:</p>\n\n<ul>\n<li><p>Have one activity and two fragments, with a shared <code>ViewModel</code> between the fragments. Sharing a <code>ViewModel</code> between fragments is just a matter of using <code>ViewModelProviders.of(requireActivity())</code> instead of <code>ViewModelProviders.of(this)</code>. Or, if you are using the Navigation component, you might use a <code>ViewModel</code> scoped to a particular nav graph.</p></li>\n<li><p>Pass the data between the activities via <code>Intent</code> extras.</p></li>\n<li><p>Have the common data be managed by a repository, passing identifiers between the activities via <code>Intent</code> extras to look up that data in the repository.</p></li>\n</ul>\n"}], "owner": {"reputation": 25, "user_id": 10802836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c0dcfd7fb6f2cc4b9ceebd0d339a2f?s=128&d=identicon&r=PG&f=1", "display_name": "Rejfi", "link": "https://stackoverflow.com/users/10802836/rejfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 57063297, "answer_count": 1, "score": 1, "last_activity_date": 1563301178, "creation_date": 1563300789, "question_id": 57063221, "link": "https://stackoverflow.com/questions/57063221/can-i-share-viewmodel-inside-companion-object", "title": "Can I share ViewModel inside companion object?", "body": "<p>I have a problem with MVVM on Android. I want to share data between the two activities. In one of them, I created ViewModel (MainActivity) and next in a companion object share ViewModel to another activity (SecondActivity). Is it safe? Is exists another recommended way?</p>\n\n<p>Thanks for any help and explanation</p>\n\n<pre><code>    class SecondActivity : AppCompatActivity() {    \n\n    lateinit var viewModelTwo: ViewModelForActivities\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_second)\n\n    }\n\n\n    override fun onStart() {\n        super.onStart()\n        viewModelTwo = MainActivity.viewModel\n        textViewTwo.setText(viewModelTwo.licznik.toString())\n\n    }\n}\n\n</code></pre>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    companion object{\n        lateinit var viewModel: ViewModelForActivities\n    }\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        viewModel = ViewModelProviders.of(this).get(ViewModelForActivities::class.java)\n\n        textViewOne.setOnClickListener {\n            val intent = Intent(applicationContext, SecondActivity::class.java)\n            viewModel.licznik++\n            startActivity(intent)\n\n        }\n\n    }\n}    \n</code></pre>\n\n<p>The application works correctly but I'm afraid of safeness. Is it the correct way?</p>\n"}, {"tags": ["android-studio", "kotlin", "parameter-passing", "retrofit"], "comments": [{"owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "edited": false, "score": 0, "creation_date": 1563301046, "post_id": 57063105, "comment_id": 100651752, "body": "Mark the answer as correct if it works for you!"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 11781114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32194239253c3458502ef79300317fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike994", "link": "https://stackoverflow.com/users/11781114/mike994"}, "edited": false, "score": 0, "creation_date": 1563303289, "post_id": 57063189, "comment_id": 100652679, "body": "Thanks for your reply Birju. When I add this code I receive error when I call getAllPosts and I didn&#39;t understand where I need to insert the parameter that I receive from the other class. I will update my question to add the code for explaining these 2 problems."}, {"owner": {"reputation": 45, "user_id": 11781114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32194239253c3458502ef79300317fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike994", "link": "https://stackoverflow.com/users/11781114/mike994"}, "edited": false, "score": 0, "creation_date": 1563304690, "post_id": 57063189, "comment_id": 100653277, "body": "Thanks for helping me. I continue to receive errors, i will update my question for a better understanding"}, {"owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "reply_to_user": {"reputation": 45, "user_id": 11781114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32194239253c3458502ef79300317fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike994", "link": "https://stackoverflow.com/users/11781114/mike994"}, "edited": false, "score": 0, "creation_date": 1563304775, "post_id": 57063189, "comment_id": 100653315, "body": "Yeah...you can mark it correct it solves what you had asked."}, {"owner": {"reputation": 45, "user_id": 11781114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32194239253c3458502ef79300317fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike994", "link": "https://stackoverflow.com/users/11781114/mike994"}, "edited": false, "score": 0, "creation_date": 1563305137, "post_id": 57063189, "comment_id": 100653471, "body": "Sorry but I&#39;m not able to running it yet, I still need your help please"}], "tags": [], "owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "is_accepted": true, "score": 1, "last_activity_date": 1563336680, "last_edit_date": 1563336680, "creation_date": 1563300670, "answer_id": 57063189, "question_id": 57063105, "link": "https://stackoverflow.com/questions/57063105/passing-data-from-activity-to-interface/57063189#57063189", "title": "Passing data from activity to interface", "body": "<p>Try this:</p>\n\n<pre><code>interface RequestApi {\n    @GET(\"statistiche/{id}\")\n     fun getAllPosts(@Query(\"id\") id:String): Call&lt;ExchangeResponse&gt;\n }\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// receiving class\nString id = intent.getStringExtra(\"Username\")\n\nprivate val retrofit = \n Retrofit.Builder().baseUrl(\"http://x.x.x.x:xxxx/\")\n    .addConverterFactory(GsonConverterFactory.create())\n    .build()\n private val postApi=retrofit.create(RequestApi::class.java)\n private val response = postApi.getAllPosts(id) // pass id here\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 11781114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32194239253c3458502ef79300317fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike994", "link": "https://stackoverflow.com/users/11781114/mike994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 57063189, "answer_count": 1, "score": 0, "last_activity_date": 1563336680, "creation_date": 1563300371, "last_edit_date": 1563305039, "question_id": 57063105, "link": "https://stackoverflow.com/questions/57063105/passing-data-from-activity-to-interface", "title": "Passing data from activity to interface", "body": "<p>I'm trying to pass my data from one activity to an interface in kotlin. This value have to compose an url for getting a request json. Is it possible? How can I do it? </p>\n\n<p>I'm new in app development and I never used interfaces before.</p>\n\n<pre><code>package com.example.adamo3.Request\n\nimport com.example.adamo3.Response.ExchangeResponse\nimport retrofit2.Call\nimport retrofit2.http.GET\n\ninterface RequestApi {\n    @GET(\"statistiche/09050905\")\n     fun getAllPosts(): Call&lt;ExchangeResponse&gt;\n }\n</code></pre>\n\n<p>My target is to modify this url \"statistiche/09050905\", by changing the \"09050905\" to a parameter that I created in one activity. In this way, i will change the url to call from my server.</p>\n\n<p>UPDATE\n1) I have tried to insert </p>\n\n<pre><code>interface RequestApi {\n@GET(\"statistiche/{id}\")\nfun getAllPosts(@Query(\"id\") id: String ): Call&lt;ExchangeResponse&gt;\n}\n</code></pre>\n\n<p>but when i do this, i receive error when i call the getAllPosts from a class(this one)</p>\n\n<pre><code> private val retrofit = \n Retrofit.Builder().baseUrl(\"http://x.x.x.x:xxxx/\")\n    .addConverterFactory(GsonConverterFactory.create())\n    .build()\n private val postApi=retrofit.create(RequestApi::class.java)\n private val response = postApi.getAllPosts()// i receive error here\n</code></pre>\n\n<p>2) For retrieving the value that I need, in other classes I use </p>\n\n<pre><code>// receiving class\ntextView.text = intent.getStringExtra(\"Username\")\n\n// sending class\nval intent = Intent(this@MainActivity,Home::class.java)\n            intent.putExtra(\"Username\" ,\"ID  \" + editText.text.toString())\n            startActivity(intent)\n</code></pre>\n\n<p>Where I need to define this part into the interface code suggested me?I need the value inside the editText arriving in the interface</p>\n\n<p>3)\nwhere I need to define the string with the intent? If I do it in the interface, \"Property initializers are not allowed in interfaces\"</p>\n\n<pre><code>interface RequestApi {\n@GET(\"statistiche/{id}\")\nfun getAllPosts(@Query(\"id\") id: String ): Call&lt;ExchangeResponse&gt;\n\nString id = intent.getStringExtra(\"Username\")//these two ways are errors\nvar id = intent.getStringExtra(\"Username\")//same error\n\n}\n</code></pre>\n\n<p>I want to receive values inside the interface</p>\n\n<p>4) if I add the id here, it remains red as an error</p>\n\n<pre><code>private val response = postApi.getAllPosts(id)//id is red\n</code></pre>\n"}, {"tags": ["spring", "maven", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 170, "user_id": 830283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8664ae5fc774250c09637d208c2bf60?s=128&d=identicon&r=PG", "display_name": "KarolisL", "link": "https://stackoverflow.com/users/830283/karolisl"}, "edited": false, "score": 0, "creation_date": 1563300715, "post_id": 57063023, "comment_id": 100651578, "body": "It would be easier to help you if you posted your <code>pom.xml</code>."}, {"owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "reply_to_user": {"reputation": 170, "user_id": 830283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8664ae5fc774250c09637d208c2bf60?s=128&d=identicon&r=PG", "display_name": "KarolisL", "link": "https://stackoverflow.com/users/830283/karolisl"}, "edited": false, "score": 0, "creation_date": 1563301516, "post_id": 57063023, "comment_id": 100651942, "body": "@KarolisL i modified the question, please find the pom fille in the attachment."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1563302317, "post_id": 57063023, "comment_id": 100652272, "body": "Do you have src/main/asciidoc directory and .adoc files there?"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 687, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563301463, "creation_date": 1563299952, "last_edit_date": 1563301463, "question_id": 57063023, "link": "https://stackoverflow.com/questions/57063023/how-to-fix-error-due-to-org-asciidoctorasciidoctor-maven", "title": "How to fix error due to org.asciidoctor:asciidoctor-maven", "body": "<p>I created a new project in IntellJ, to create a simple webservice with Spring boot and kotlin. The POM.xml is well generated however when I execute MAVEN goal, i received the \nerror posted belwo.</p>\n\n<p>please let me know how to fix it.</p>\n\n<p><strong>code</strong>:</p>\n\n<pre><code>[INFO] \n[INFO] \n[INFO] --- asciidoctor-maven-plugin:1.5.3:process-asciidoc (generate-docs) @ restfulwebserviceexamplev1 ---\nio/console not supported; tty will not be manipulated\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 15.138 s\n[INFO] Finished at: 2019-07-16T19:53:15+02:00\n[INFO] Final Memory: 68M/1006M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.asciidoctor:asciidoctor-maven-plugin:1.5.3:process-asciidoc (generate-docs) on project restfulwebserviceexamplev1: Error copying resources: Source 'D:\\springboot-workspace\\RestfulWebserviceExampleV1\\src\\main\\asciidoc' does not exist -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p><strong>pom.xml</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;restfulwebserviceexamplev1&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;restfulwebserviceexamplev1&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;kotlin.version&gt;1.2.71&lt;/kotlin.version&gt;\n    &lt;vaadin.version&gt;13.0.11&lt;/vaadin.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n        &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n            &lt;version&gt;${vaadin.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n            &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-docs&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;backend&gt;html&lt;/backend&gt;\n                        &lt;doctype&gt;book&lt;/doctype&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\n                    &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;compilerPlugins&gt;\n                    &lt;plugin&gt;spring&lt;/plugin&gt;\n                &lt;/compilerPlugins&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "edited": false, "score": 0, "creation_date": 1563303832, "post_id": 57063748, "comment_id": 100652920, "body": "Thanks a lot Teovald, this is brilliant - it works perfectly!"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1563350062, "post_id": 57063748, "comment_id": 100665965, "body": "A bit better style is to use composition instead of inheritance: <code>class ObservableList&lt;Element&gt;(private val base: MutableList&lt;Element&gt;, private val observer : () -&gt; Unit): MutableList&lt;Element&gt; by base { override fun add(element: Element): Boolean = base.add(element).also { if (it) observer() } ...</code>"}], "tags": [], "owner": {"reputation": 4190, "user_id": 1566588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2070e800356da57315d427aa2343f4?s=128&d=identicon&r=PG", "display_name": "Teovald", "link": "https://stackoverflow.com/users/1566588/teovald"}, "is_accepted": true, "score": 4, "last_activity_date": 1563303178, "creation_date": 1563303178, "answer_id": 57063748, "question_id": 57062977, "link": "https://stackoverflow.com/questions/57062977/property-observers-in-kotlin-while-adding-elements-to-arraylist/57063748#57063748", "title": "Property Observers In Kotlin (While Adding Elements to ArrayList)", "body": "<p>The <code>Delegates</code> you wrote works correctly, except that it observes the ArrayList object, not its content.  </p>\n\n<p>So <code>foo = listOf(\"foo\")</code> will trigger <code>someFunction</code> but not <code>foo.add()</code></p>\n\n<p>What you can do though is </p>\n\n<pre><code>class observableList&lt;Element&gt;(\n       private val observer : () -&gt; Unit\n    ):ArrayList&lt;Element&gt;() {\n\n        override fun add(element: Element): Boolean = super.add(element).also { if (it) observer() }\n        // etc, override the other method similarly\n    }\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 57063748, "answer_count": 1, "score": 0, "last_activity_date": 1563303178, "creation_date": 1563299721, "last_edit_date": 1563302511, "question_id": 57062977, "link": "https://stackoverflow.com/questions/57062977/property-observers-in-kotlin-while-adding-elements-to-arraylist", "title": "Property Observers In Kotlin (While Adding Elements to ArrayList)", "body": "<p>In Swift, there are <em>property observers</em> such as:</p>\n\n<pre><code>var foo: [String] = [String]() {\n    didSet {\n        someFunction()\n    }\n}\n</code></pre>\n\n<p>What happens here is whenever foo array is assigned a new value (e.g., foo = [\"Ally\", \"Billy\"] ) or a new element is appended or removed from array (e.g., foo.append(\"Willy\") ); someFunction is run. </p>\n\n<p>I write a similar logic in Kotlin such as:</p>\n\n<pre><code>var foo: ArrayList&lt;String&gt; by Delegates.observable(ArrayList&lt;String&gt;()){\n    d, old, new -&gt;\n    someFunction()\n}\n</code></pre>\n\n<p>So when I try to assign a new value to foo ArrayList (e.g., foo = ArrayListOf(\"Billy\", Willy\") ), someFunction is run.</p>\n\n<p>The problem is when I add a new value to the array (or remove) by</p>\n\n<pre><code>foo.add(\"Ally\")\n</code></pre>\n\n<p>then someFunction isn't called. Is there a way in Kotlin to call it? In other words, what I want to do is call someFunction whenever an element is added to or removed from foo array...</p>\n\n<p>Thanks! </p>\n"}, {"tags": ["kotlin", "arcore", "sceneform"], "answers": [{"tags": [], "owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1573689451, "creation_date": 1573689451, "answer_id": 58847406, "question_id": 57062481, "link": "https://stackoverflow.com/questions/57062481/change-ar-session-config-after-fragment-created/58847406#58847406", "title": "Change AR session config after fragment created", "body": "<p>I make changes to my config on the fly. You can accomplish this by extending ARFragment and having access to the config or simply be accessing the ARFragment from your xml within your activity. Here is an example.</p>\n\n<pre><code>arSceneView.session?.apply {\n     val changedConfig = config\n     changedConfig.planeFindingMode = Config.PlaneFindingMode.HORIZONTAL_AND_VERTICAL\n     configure(changedConfig)\n}\n</code></pre>\n\n<p>That's it, just call configure(myNewConfig) and it will update it for you.\nOf course in this example, I get the current config, modify it and put it back, but you could replace it if preferred.</p>\n"}], "owner": {"reputation": 148, "user_id": 3087615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577a856f702cc392d7d9c4f87639a7aa?s=128&d=identicon&r=PG&f=1", "display_name": "user3087615", "link": "https://stackoverflow.com/users/3087615/user3087615"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573689451, "creation_date": 1563297572, "question_id": 57062481, "link": "https://stackoverflow.com/questions/57062481/change-ar-session-config-after-fragment-created", "title": "Change AR session config after fragment created", "body": "<p>I want to re-configure AR session after session has been running. I want to change Augmented Images database.</p>\n\n<p>I don't seem to find a way to set the reset the session configuration.</p>\n\n<pre><code>getSessionConfiguration(Session session)\n</code></pre>\n\n<p>This function only seems to be called once at the beginning.</p>\n\n<p>Is there a way to re-configure? Should I not be using the fragment?</p>\n"}, {"tags": ["java", "kotlin", "jackson"], "answers": [{"comments": [{"owner": {"reputation": 952, "user_id": 2057706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjG7c.jpg?s=128&g=1", "display_name": "davidmerrick", "link": "https://stackoverflow.com/users/2057706/davidmerrick"}, "edited": false, "score": 0, "creation_date": 1563307080, "post_id": 57064425, "comment_id": 100654298, "body": "Thanks Arpan. I see that there&#39;s not an interface being used here, though? I&#39;m able to deserialize if I don&#39;t use an interface. As far as the repo goes, it&#39;s an internal company repo so I&#39;m not able to share it."}, {"owner": {"reputation": 455, "user_id": 5160759, "user_type": "registered", "profile_image": "https://graph.facebook.com/1146214052059186/picture?type=large", "display_name": "Arpan Kanthal", "link": "https://stackoverflow.com/users/5160759/arpan-kanthal"}, "reply_to_user": {"reputation": 952, "user_id": 2057706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjG7c.jpg?s=128&g=1", "display_name": "davidmerrick", "link": "https://stackoverflow.com/users/2057706/davidmerrick"}, "edited": false, "score": 0, "creation_date": 1563319406, "post_id": 57064425, "comment_id": 100658024, "body": "I used an interface and i still dont get the error.. Below is the code.. Sorry about the formatting"}, {"owner": {"reputation": 455, "user_id": 5160759, "user_type": "registered", "profile_image": "https://graph.facebook.com/1146214052059186/picture?type=large", "display_name": "Arpan Kanthal", "link": "https://stackoverflow.com/users/5160759/arpan-kanthal"}, "reply_to_user": {"reputation": 952, "user_id": 2057706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjG7c.jpg?s=128&g=1", "display_name": "davidmerrick", "link": "https://stackoverflow.com/users/2057706/davidmerrick"}, "edited": false, "score": 0, "creation_date": 1563319442, "post_id": 57064425, "comment_id": 100658032, "body": "fun main(args: Array&lt;String&gt;) {     val m: ObjectMapper =  ObjectMapper() //    m.readValue(&quot;\\&quot;5abc\\&quot;&quot;, abc::class.java)     val user = m.readValue(&quot;\\&quot;5abc\\&quot;&quot;, UserId::class.java)     println(user.getValue()) }   interface TypeAlias&lt;T&gt; {      @JsonValue     fun getValue(): T }  data class UserId(private val value: EntityId) : TypeAlias&lt;EntityId&gt; {     @JsonCreator(mode = JsonCreator.Mode.DELEGATING)     constructor(value: String) : this(EntityId(value)) {         println(value)     }      override fun getValue() = value }  data class EntityId(val value: String)"}, {"owner": {"reputation": 952, "user_id": 2057706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjG7c.jpg?s=128&g=1", "display_name": "davidmerrick", "link": "https://stackoverflow.com/users/2057706/davidmerrick"}, "edited": false, "score": 0, "creation_date": 1563320463, "post_id": 57064425, "comment_id": 100658201, "body": "Thanks. You&#39;re right, it works with an interface. After digging in with a couple coworkers, we realized that the problem had to do with registering a module after the Kotlin module that tampered with the config. When we bound the Kotlin module afterwards, everything worked again."}, {"owner": {"reputation": 952, "user_id": 2057706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjG7c.jpg?s=128&g=1", "display_name": "davidmerrick", "link": "https://stackoverflow.com/users/2057706/davidmerrick"}, "edited": false, "score": 0, "creation_date": 1563320471, "post_id": 57064425, "comment_id": 100658202, "body": "Thanks again for your help!"}], "tags": [], "owner": {"reputation": 455, "user_id": 5160759, "user_type": "registered", "profile_image": "https://graph.facebook.com/1146214052059186/picture?type=large", "display_name": "Arpan Kanthal", "link": "https://stackoverflow.com/users/5160759/arpan-kanthal"}, "is_accepted": false, "score": 0, "last_activity_date": 1563306255, "creation_date": 1563306255, "answer_id": 57064425, "question_id": 57061435, "link": "https://stackoverflow.com/questions/57061435/invaliddefinitionexception-when-deserializing-kotlin-class-with-interface/57064425#57064425", "title": "InvalidDefinitionException when deserializing Kotlin class with interface", "body": "<p>I used 2.9.9 with the below code and i was able to deserialize. (Sorry about putting this in the answer block, couldnt format it right in the comments section)</p>\n\n<pre><code>data class abc( private val value: def?)  {\n\n    @JsonCreator(mode =JsonCreator.Mode.DELEGATING)\n    constructor( s: String) : this(def(s)) {\n        println(s)\n    }\n\n}\n\ndata class def(val data: String)\n\nfun main(args: Array&lt;String&gt;) {\n    println(\"Hello World!\")\n    val m: ObjectMapper =  ObjectMapper()\n    m.readValue(\"\\\"5abc\\\"\", abc::class.java)\n}\n</code></pre>\n\n<p>could you post a git link to a simple repo where we could reproduce the issue?</p>\n"}, {"comments": [{"owner": {"reputation": 1823, "user_id": 2050087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/81emK.jpg?s=128&g=1", "display_name": "makerj", "link": "https://stackoverflow.com/users/2050087/makerj"}, "edited": false, "score": 1, "creation_date": 1611586111, "post_id": 57066764, "comment_id": 116492461, "body": "It works like a charm (no need to add annotations for all classes). I had exactly same issues. thanks!"}, {"owner": {"reputation": 952, "user_id": 2057706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjG7c.jpg?s=128&g=1", "display_name": "davidmerrick", "link": "https://stackoverflow.com/users/2057706/davidmerrick"}, "reply_to_user": {"reputation": 1823, "user_id": 2050087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/81emK.jpg?s=128&g=1", "display_name": "makerj", "link": "https://stackoverflow.com/users/2050087/makerj"}, "edited": false, "score": 0, "creation_date": 1611611854, "post_id": 57066764, "comment_id": 116503615, "body": "Glad to hear it was helpful!"}], "tags": [], "owner": {"reputation": 952, "user_id": 2057706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjG7c.jpg?s=128&g=1", "display_name": "davidmerrick", "link": "https://stackoverflow.com/users/2057706/davidmerrick"}, "is_accepted": true, "score": 1, "last_activity_date": 1563320539, "creation_date": 1563320539, "answer_id": 57066764, "question_id": 57061435, "link": "https://stackoverflow.com/questions/57061435/invaliddefinitionexception-when-deserializing-kotlin-class-with-interface/57066764#57066764", "title": "InvalidDefinitionException when deserializing Kotlin class with interface", "body": "<p>After digging in with a couple coworkers, we realized that the problem had to do with the order in which modules were being registered on the ObjectMapper. We were registering a module after the Kotlin module that tampered with the config. When we instead registered the Kotlin module after the offending module, everything worked again.</p>\n"}, {"tags": [], "owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "is_accepted": false, "score": 0, "last_activity_date": 1579097867, "creation_date": 1579097867, "answer_id": 59753278, "question_id": 57061435, "link": "https://stackoverflow.com/questions/57061435/invaliddefinitionexception-when-deserializing-kotlin-class-with-interface/59753278#59753278", "title": "InvalidDefinitionException when deserializing Kotlin class with interface", "body": "<p>You need a valid Jackson config. Take a look at this example</p>\n\n<pre><code>@Configuration\nclass JacksonConfig {    \n    @Bean\n    fun objectMapper(): ObjectMapper {\n        val objectMapper = ObjectMapper()    \n        val jdk8Module = Jdk8Module().configureAbsentsAsNulls(true)\n        objectMapper.registerModule(jdk8Module)\n        objectMapper.registerModule(JavaTimeModule())\n        // ... your customizations\n        objectMapper.registerKotlinModule()\n        return objectMapper\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 952, "user_id": 2057706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjG7c.jpg?s=128&g=1", "display_name": "davidmerrick", "link": "https://stackoverflow.com/users/2057706/davidmerrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1324, "favorite_count": 0, "accepted_answer_id": 57066764, "answer_count": 3, "score": 2, "last_activity_date": 1579097867, "creation_date": 1563293225, "last_edit_date": 1563301027, "question_id": 57061435, "link": "https://stackoverflow.com/questions/57061435/invaliddefinitionexception-when-deserializing-kotlin-class-with-interface", "title": "InvalidDefinitionException when deserializing Kotlin class with interface", "body": "<p>I have several Kotlin data classes that implement this TypeAlias interface:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonValue;\n\npublic interface TypeAlias&lt;T&gt; {\n    @JsonValue\n    T getValue();\n}\n</code></pre>\n\n<p>Previously, I'd been using an earlier version of Jackson and they deserialized fine. But now I'm using 2.9.9.</p>\n\n<p>One class that fails to deserialize:</p>\n\n<pre><code>data class UserId(@NotNull private val value: EntityId) : TypeAlias&lt;EntityId&gt; {\n    @JsonCreator(mode = JsonCreator.Mode.DELEGATING)\n    constructor(value: String) : this(EntityId(value))\n\n    override fun getValue() = value\n}\n</code></pre>\n\n<p>Test for it:</p>\n\n<pre><code>@Test\n    fun `Deserialization test`() {\n        val userIdString = \"\\\"aaaaaaaaaaaaaaaaaaaaaa\\\"\"\n        mapper.readValue(userIdString, UserId::class.java)\n    } \n</code></pre>\n\n<p>This test blows up with: </p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `UserId` (no Creators, like default construct, exist): no String-argument constructor/factory method to deserialize from String value ('aaaaaaaaaaaaaaaaaaaaaa')\n</code></pre>\n\n<p>My mapper does have the KotlinModule registered.</p>\n\n<p>Note that UserId does have a JsonCreator on its secondary String constructor. The behavior makes me think that the interface is causing Jackson to not see the @JsonCreator annotation. What am I missing here?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "onclicklistener"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 2751783, "user_type": "registered", "profile_image": "https://graph.facebook.com/576068325/picture?type=large", "display_name": "R&#243;bert Polovitzer", "link": "https://stackoverflow.com/users/2751783/r%c3%b3bert-polovitzer"}, "is_accepted": false, "score": 1, "last_activity_date": 1563289776, "creation_date": 1563289776, "answer_id": 57060401, "question_id": 57060068, "link": "https://stackoverflow.com/questions/57060068/kotlin-position-of-recyclerview-returns-1-when-trying-to-click-on-an-item/57060401#57060401", "title": "(Kotlin) Position of RecyclerView returns -1 when trying to click on an item", "body": "<p>I would reorganize the adapter like this:</p>\n\n<pre><code>class PNHLePlayerAdapter : androidx.recyclerview.widget.RecyclerView.Adapter&lt;Adapter.ViewHolder&gt;() {\n\ninterface AdapterListener {\n    fun onItemSelected(position: Int?)\n}\n\nvar players: List&lt;Player&gt; = listOf()\n    set(value) {\n        field = value\n        this.notifyDataSetChanged()\n    }\nvar listener: AdapterListener? = null\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val view = LayoutInflater.from(parent.context)\n        .inflate(R.layout.item_car_selector, parent, false)\n    return ViewHolder(view)\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.bind(position)\n}\n\noverride fun getItemCount(): Int {\n    return brands.size\n}\n\ninner class ViewHolder(view: View): androidx.recyclerview.widget.RecyclerView.ViewHolder(view) {\n    private var position: Int? = null\n    private val baseView: LinearLayout? = view.findViewById(R.id.baseView) as LinearLayout?\n    ...\n\n    init {\n        baseView?.setOnClickListener {\n            listener?.onManufacturerSelected(position)\n        }\n    }\n\n    fun bind(position: Int) {\n        this.position = position\n\n        ...\n    }\n  }\n}\n</code></pre>\n\n<p>And from your activity/fragment set the listener as <code>adapter.listener = this</code>, and implement the onItemSelected(position: Int?)</p>\n\n<pre><code>override fun onItemSelected(position: Int?) {\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 6121320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518a1d076360c810686cf385eb7f5c38?s=128&d=identicon&r=PG&f=1", "display_name": "Mason Black", "link": "https://stackoverflow.com/users/6121320/mason-black"}, "edited": false, "score": 1, "creation_date": 1563292137, "post_id": 57060443, "comment_id": 100647689, "body": "Thank you. That was a bonehead mistake, but I appreciate you catching that for me Fartab"}], "tags": [], "owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "is_accepted": true, "score": 2, "last_activity_date": 1563289933, "creation_date": 1563289933, "answer_id": 57060443, "question_id": 57060068, "link": "https://stackoverflow.com/questions/57060068/kotlin-position-of-recyclerview-returns-1-when-trying-to-click-on-an-item/57060443#57060443", "title": "(Kotlin) Position of RecyclerView returns -1 when trying to click on an item", "body": "<p>I found the issue.</p>\n\n<p>Change this line in <code>onCreateViewHolder</code>:</p>\n\n<pre><code>return ViewHolder(itemView)\n</code></pre>\n\n<p>to this one:</p>\n\n<pre><code>return viewHolder\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 6121320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518a1d076360c810686cf385eb7f5c38?s=128&d=identicon&r=PG&f=1", "display_name": "Mason Black", "link": "https://stackoverflow.com/users/6121320/mason-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "accepted_answer_id": 57060443, "answer_count": 2, "score": 0, "last_activity_date": 1563363936, "creation_date": 1563288710, "last_edit_date": 1563363936, "question_id": 57060068, "link": "https://stackoverflow.com/questions/57060068/kotlin-position-of-recyclerview-returns-1-when-trying-to-click-on-an-item", "title": "(Kotlin) Position of RecyclerView returns -1 when trying to click on an item", "body": "<p>I'm new to Android development (and Kotlin).\nI'm trying to implement a RecyclerView (which works fine) and when I click on a specific row it opens a new activity (Intent).\nHowever, whenever I've press/click on one of the rows, I'm only able to get the value \"-1\" returned. </p>\n\n<p>I've tried a number of different approaches (you should see the number of tabs in my browser).\nThis seems like it should be a fairly straightforward occurrence for something as common as a RecyclerView, but for whatever reason I'm unable to get it working.</p>\n\n<p>Here is my RecyclerView Adapter file:</p>\n\n<pre><code>class PNHLePlayerAdapter (val players : ArrayList&lt;PNHLePlayer&gt;, val context: Context) : RecyclerView.Adapter&lt;ViewHolder&gt;() {\n\nvar onItemClick: ((Int)-&gt;Unit) = {}\n\n// Gets the number of items in the list\noverride fun getItemCount(): Int {\n    return players.size\n}\n\n// Inflates the item views\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n\n    val itemView = LayoutInflater.from(context).inflate(\n        R.layout.pnhle_list_item,\n        parent,\n        false\n    )\n\n    val viewHolder = ViewHolder(itemView)\n\n    itemView.setOnClickListener {\n        onItemClick(viewHolder.adapterPosition)\n    }\n\n    return ViewHolder(itemView)\n}\n\n// Binds each item in the ArrayList to a view\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n    holder.tvPlayerName?.text = players[position].Name\n    holder.tvPlayerRank?.text = position.toString()\n    holder.tvPNHLe?.text = players[position].PNHLe.toString()\n    holder.tvTeam?.text = players[position].Team\n    holder.ivLeague?.setImageResource(leagueImageID)\n\n}\n\n\n}\n\nclass ViewHolder (view: View) : RecyclerView.ViewHolder(view)  {\n\nval linLayout = view.hor1LinearLayout\nval ivTeam = view.teamImageView\nval tvPlayerName = view.playerNameTextView\nval tvPlayerRank = view.rankNumTextView\nval tvPNHLe = view.pnhleTextView\nval tvTeam = view.teamTextView\nval ivLeague = view.leagueImageView\n}\n</code></pre>\n\n<p>As you can see, there is a class property \"onItemClick\" which uses a lambda as the click callback.\nI  setOnClickListener in the onCreateViewHolder method after the view is inflated.</p>\n\n<p>Next, in my Activity I add the list to my Adapter and set the call back. \nHowever, every time I 'Toast' the position it is displayed as '-1'. </p>\n\n<pre><code>val adapter = PNHLePlayerAdapter(list, this)\n    adapter.onItemClick = { position -&gt;\n        Toast.makeText(this, position.toString(),Toast.LENGTH_SHORT).show()\n        var intent = Intent(this, PlayerCardActivity::class.java)\n        //startActivity(intent)   \n    }\n    rv_player_list.adapter = adapter\n</code></pre>\n\n<p>Perhaps I'm not thinking about this properly, but shouldn't the position represent the row number of the item out of the RecyclerView???\nIdeally, I need to use the position so that I can obtain the correct item from the 'list' (ArrayList) so that I can pass information to my next Activity using the Intent</p>\n"}, {"tags": ["android", "kotlin", "android-camera2", "android-10.0"], "comments": [{"owner": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 1, "creation_date": 1563289331, "post_id": 57060011, "comment_id": 100646044, "body": "can you please add your code where you are getting null pointer.."}, {"owner": {"reputation": 95, "user_id": 4829219, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ivoy7.png?s=128&g=1", "display_name": "AngryCubeDev", "link": "https://stackoverflow.com/users/4829219/angrycubedev"}, "reply_to_user": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1563289771, "post_id": 57060011, "comment_id": 100646320, "body": "@AbdulWaheed The null pointer is when we are trying to get the cameraID but this code works as explained above in Android P to Android O. These are the versions we are targeting"}, {"owner": {"reputation": 3043, "user_id": 10300673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17821ef80e645b03b63bc87a23152d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Hidalgo", "link": "https://stackoverflow.com/users/10300673/nikos-hidalgo"}, "edited": false, "score": 0, "creation_date": 1563289950, "post_id": 57060011, "comment_id": 100646412, "body": "Describing your logcat doesn&#39;t help. Adding the code of your logcat will lead to better answers."}, {"owner": {"reputation": 95, "user_id": 4829219, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ivoy7.png?s=128&g=1", "display_name": "AngryCubeDev", "link": "https://stackoverflow.com/users/4829219/angrycubedev"}, "edited": false, "score": 0, "creation_date": 1563290631, "post_id": 57060011, "comment_id": 100646799, "body": "<code>kotlin.KotlinNullPointerException         at com.securebroadcast.sbandroidclient.screens.record.CameraPre&zwnj;&#8203;view.startPreview(Ca&zwnj;&#8203;meraPreview.kt:58)         at com.securebroadcast.sbandroidclient.screens.record.Camera.st&zwnj;&#8203;artPreview(Camera.kt&zwnj;&#8203;:131)         at com.securebroadcast.sbandroidclient.screens.record.CameraFra&zwnj;&#8203;gment.onCameraOpened&zwnj;&#8203;(CameraFragment.kt:2&zwnj;&#8203;19)         at com.securebroadcast.sbandroidclient.screens.record.Camera.on&zwnj;&#8203;Opened(Camera.kt:142&zwnj;&#8203;)         at android.hardware.camera2.impl.CameraDeviceImpl$1.run(CameraD&zwnj;&#8203;eviceImpl.java:145)</code>"}], "owner": {"reputation": 95, "user_id": 4829219, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ivoy7.png?s=128&g=1", "display_name": "AngryCubeDev", "link": "https://stackoverflow.com/users/4829219/angrycubedev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563288520, "creation_date": 1563288520, "question_id": 57060011, "link": "https://stackoverflow.com/questions/57060011/android-q-camera-2-permissions-crashing-app", "title": "Android Q Camera 2 Permissions Crashing App", "body": "<p>Our app will be targeting Android Q once it's released. I've updated my Pixel 3 XL to test our existing app and have found an issue with the camera screen. The app has never had an issue here before and only crashes when my phone is running Android Q. </p>\n\n<p>If I go into the settings and deny the camera permission our app asks for it to be granted again. Once the permission is granted the camera screen works fine and doesn't crash until I leave and go back into it. Is this just a bug with Android Q or are they handling camera permissions differently?</p>\n\n<p>I've looked through the documentation and see that there are permission changes but them seem to only affect the app if you're wanting to record the screen of a users device. </p>\n\n<p>The crash it gives is a KotlinNullPointerException when we're building the preview screen after we go back into the record screen. As stated above this works fine in Android P and when the camera permission has been reset.</p>\n"}, {"tags": ["android", "kotlin", "google-play-services", "google-places-api"], "comments": [{"owner": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1563473944, "post_id": 57058975, "comment_id": 100722108, "body": "Are you certain you haven&#39;t added findCurrentPlace() anywhere in your app and that you&#39;ve fully migrated to the new Places SDK? Are you using any other libraries that could be automatically requesting this permission? Please post your manifest and build.gradle."}, {"owner": {"reputation": 329, "user_id": 7683855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b759b984ca80a67602fd2e489f38c7f1?s=128&d=identicon&r=PG&f=1", "display_name": "9spl", "link": "https://stackoverflow.com/users/7683855/9spl"}, "reply_to_user": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1563517432, "post_id": 57058975, "comment_id": 100733231, "body": "Yes , i haven&#39;t add findCurrentPlace() anywhere. if i upload APK with older version of Place Api it does not give me any warnings and i also don&#39;t have any functionality which ask for Location permission."}, {"owner": {"reputation": 329, "user_id": 7683855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b759b984ca80a67602fd2e489f38c7f1?s=128&d=identicon&r=PG&f=1", "display_name": "9spl", "link": "https://stackoverflow.com/users/7683855/9spl"}, "reply_to_user": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1563517552, "post_id": 57058975, "comment_id": 100733265, "body": "i have also added permission used in menifest and gradle."}, {"owner": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1563775784, "post_id": 57058975, "comment_id": 100795433, "body": "I see. What&#39;s the version of your device?"}, {"owner": {"reputation": 329, "user_id": 7683855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b759b984ca80a67602fd2e489f38c7f1?s=128&d=identicon&r=PG&f=1", "display_name": "9spl", "link": "https://stackoverflow.com/users/7683855/9spl"}, "reply_to_user": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1563786562, "post_id": 57058975, "comment_id": 100800362, "body": "I have Marsh-mellow, Nogut and Orio device."}, {"owner": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1563889856, "post_id": 57058975, "comment_id": 100845112, "body": "I see, thanks a lot for your quick answers. I&#39;m investigating this on my end, will get back to you next week!"}], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 1500233, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f3fd474873ed080e8f9cb7dfcfeabf0?s=128&d=identicon&r=PG", "display_name": "Mihai", "link": "https://stackoverflow.com/users/1500233/mihai"}, "is_accepted": false, "score": 1, "last_activity_date": 1563991221, "creation_date": 1563991221, "answer_id": 57188790, "question_id": 57058975, "link": "https://stackoverflow.com/questions/57058975/migrating-to-the-new-places-sdk-client-ask-for-access-fine-location-permission-o/57188790#57188790", "title": "Migrating to the New Places SDK Client ask for ACCESS_FINE_LOCATION permission on Play Store", "body": "<p>The Places SDK adds all the permissions it needs to its manifest, which gets merged in with yours when your app is built.  You can explicitly remove any permissions you don't want.  <a href=\"http://stackoverflow.com/q/31616334\">This</a> other answer shows how:</p>\n\n<pre><code>&lt;manifest ... xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    ...\n    &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" tools:node=\"remove\"/&gt;\n    ...\n&lt;/manifest&gt;\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 7683855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b759b984ca80a67602fd2e489f38c7f1?s=128&d=identicon&r=PG&f=1", "display_name": "9spl", "link": "https://stackoverflow.com/users/7683855/9spl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1563991221, "creation_date": 1563285372, "last_edit_date": 1563517526, "question_id": 57058975, "link": "https://stackoverflow.com/questions/57058975/migrating-to-the-new-places-sdk-client-ask-for-access-fine-location-permission-o", "title": "Migrating to the New Places SDK Client ask for ACCESS_FINE_LOCATION permission on Play Store", "body": "<p>I have done Migration for Google place api to </p>\n\n<pre><code>implementation 'com.google.android.libraries.places:places:1.1.0'\n</code></pre>\n\n<p>I am using methods.\n<code>fetchPlace()</code>\n<code>findAutocompletePredictions()</code></p>\n\n<p>But not <code>findCurrentPlace()</code>\nAnd I also not gave permission <code>ACCESS_FINE_LOCATION</code> in manifest or anywhere else.</p>\n\n<p>But while i am trying to update app on Play Store. it gives me warning message.</p>\n\n<p>New permissions added\nWarning:\nUsers that have the APK with version code 17 may need to accept the <code>android.permission.ACCESS_FINE_LOCATION</code> permission, which may result in them not upgrading to this version of the app.</p>\n\n<p>Why it will ask for the permission to user, i have't add any feature which will ask user for <code>ACCESS_FINE_LOCATION</code> permission.</p>\n\n<p>Please guide me in case i am doing or understanding anything wrong. </p>\n\n<p>Here are the permission which is added in menifest</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.CAMERA\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_CONTACTS\"/&gt;\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>dependencies {\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n//    implementation \"com.android.support:appcompat-v7:$rootProject.supportVersion\"\n//    implementation \"com.android.support:support-v4:$rootProject.supportVersion\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-alpha1'\n    implementation \"com.google.android.material:material:1.0.0-rc01\"\n\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n    implementation project(':cardlib')\n\n\n    implementation 'com.shawnlin:number-picker:2.4.7'\n    implementation 'de.hdodenhof:circleimageview:3.0.0'\n\n    //Google Liabrary\n//    implementation 'com.google.android.gms:play-services-places:16.0.0'\n    //New Place integration\n        implementation 'com.google.android.libraries.places:places:1.1.0'\n\n\n    implementation 'com.google.firebase:firebase-messaging:17.3.4'\n    implementation 'com.github.bumptech.glide:glide:4.9.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.9.0'\n\n    implementation 'com.android.support:multidex:1.0.3'\n\n    //Lottie\n    implementation 'com.airbnb.android:lottie:3.0.0-beta1'\n\n    //Retrofit and Json Parsing\n    implementation 'com.squareup.retrofit2:retrofit:2.5.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.5.0'\n    implementation 'com.squareup.okhttp3:okhttp:3.11.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.11.0'\n\n    //Chunk Interpretor (For Debug only)\n    debugImplementation 'com.readystatesoftware.chuck:library:1.1.0'\n    releaseImplementation 'com.readystatesoftware.chuck:library-no-op:1.1.0'\n\n    //Room components\n    implementation \"android.arch.lifecycle:extensions:$rootProject.roomVersion\"\n    implementation \"android.arch.persistence.room:runtime:$rootProject.roomVersion\"\n    annotationProcessor \"android.arch.lifecycle:compiler:$rootProject.roomVersion\"\n    annotationProcessor \"android.arch.persistence.room:compiler:$rootProject.roomVersion\"\n    androidTestImplementation \"android.arch.persistence.room:testing:$rootProject.roomVersion\"\n\n    //FABRIC\n    implementation('com.crashlytics.sdk.android:crashlytics:2.9.9@aar') {\n        transitive = true;\n    }\n\n    //Mix Panel\n    implementation 'com.mixpanel.android:mixpanel-android:5.+'\n\n    //Branch IO\n    implementation 'io.branch.sdk.android:library:2.+'\n\n    // Paytm\n    implementation('com.paytm:pgplussdk:1.3.1') {\n        transitive = true;\n    }\n\n    implementation 'com.akexorcist:RoundCornerProgressBar:2.0.3'\n    implementation 'com.google.android.gms:play-services-auth:16.0.0'\n    implementation 'com.github.takusemba:spotlight:1.8.0'\n    implementation 'com.facebook.android:facebook-android-sdk:4.39.0'\n    implementation 'com.facebook.android:facebook-core:4.39.0'\n    implementation 'com.facebook.android:facebook-marketing:4.39.0'\n    implementation 'com.bitly:bitlysdk:+'\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation 'com.google.android:flexbox:1.1.0'\n    implementation 'com.razorpay:checkout:1.5.5'\n    implementation 'com.razorpay:razorpay-java:1.3.8'\n    implementation project(':StackLayoutManager')\n\n\n\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 1, "creation_date": 1563284641, "post_id": 57058569, "comment_id": 100642971, "body": "Your code does not provide <code>SessionFetcher</code> in the <code>AppModule</code>. Just the <code>IServerTimeFetcher</code>. Does it extend/implement <code>SessionFetcher</code>? or is your code incomplete?"}, {"owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "reply_to_user": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 1, "creation_date": 1563284827, "post_id": 57058569, "comment_id": 100643086, "body": "@BartekLipinski I have updated"}, {"owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "reply_to_user": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1563285407, "post_id": 57058569, "comment_id": 100643458, "body": "I understand the issue  is connected  with interfaces but how should I fix it ?"}], "answers": [{"tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 1, "last_activity_date": 1563286486, "last_edit_date": 1563286486, "creation_date": 1563286073, "answer_id": 57059212, "question_id": 57058569, "link": "https://stackoverflow.com/questions/57058569/why-dagger-could-not-recognize-provides-in-appmodule/57059212#57059212", "title": "why Dagger could not recognize @Provides in AppModule?", "body": "<p>You're providing <code>ISessionFetcher</code> inside your graph, but you're trying to <code>inject</code> an instance of <code>SessionFetcher</code>.</p>\n\n<p>What you're providing to the graph is the type you can inject. Dagger does not analyze bodies of <code>@Providing</code> functions (or types for the eventual implementing class).</p>\n\n<hr>\n\n<p>Just inject the interface instead of the implementing class.</p>\n\n<pre><code>class AccountViewModel @Inject constructor(sessionFetcher: ISessionFetcher) :\n    SessionViewModel(sessionFetcher), AppComponent.Injectable {\n    //...\n}\n</code></pre>\n\n<p>if you need to use methods of <code>SessionFetcher</code> that are not exposed by the <code>ISessionFetcher</code>, then your <code>ISessionFetcher</code> is <strong>probably</strong> incomplete.</p>\n"}], "owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57059212, "answer_count": 1, "score": 1, "last_activity_date": 1563286486, "creation_date": 1563284262, "last_edit_date": 1563285740, "question_id": 57058569, "link": "https://stackoverflow.com/questions/57058569/why-dagger-could-not-recognize-provides-in-appmodule", "title": "why Dagger could not recognize @Provides in AppModule?", "body": "<p>I am getting this error: </p>\n\n<blockquote>\n  <p>[Dagger/MissingBinding]  SessionFetcher cannot be provided without an\n  @Inject constructor or an @Provides-annotated method. while you can\n  see I have defined SessionFetcher</p>\n</blockquote>\n\n<p>in AppModule class </p>\n\n<pre><code>\n@Suppress(\"unused\")\n@Module\nabstract class ViewModelModule {\n  @Binds\n  @IntoMap\n  @ViewModelKey(AccountViewModel::class)\n  abstract fun bindAccountViewModel(accountViewModel: AccountViewModel): ViewModel\n\n  @Binds\n  abstract fun bindViewModelFactory(factory: ViewModelProviderFactory): ViewModelProvider.Factory\n}\n\n@Module(includes = [ViewModelModule::class])\nclass AppModule(private val applicationContext: Context) {\n\n  @Provides\n  fun sessionFetcher(@Named(\"UserPreferences\") userPreferences: SharedPreferences): ISessionFetcher {\n    return SessionFetcher(userPreferences)\n  }\n\n  @Singleton\n  @Provides\n  @Named(\"UserPreferences\")\n  fun userPreferences(context: Context): SharedPreferences {\n    return context.getSharedPreferences(USER_CONFIG_NAME, Context.MODE_PRIVATE)\n  }\n\n\n\nclass AccountViewModel @Inject constructor(sessionFetcher: SessionFetcher) :\n    SessionViewModel(sessionFetcher), AppComponent.Injectable {\n</code></pre>\n"}, {"tags": ["java", "regex", "validation", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1563284678, "post_id": 57058545, "comment_id": 100642993, "body": "Use <code>&quot;(?!(id|name|description)$)[a-zA-Z_][a-zA-Z0-9_]*&quot;</code>"}, {"owner": {"reputation": 1452, "user_id": 7804595, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667139386646497/picture?type=large", "display_name": "Valeriy K.", "link": "https://stackoverflow.com/users/7804595/valeriy-k"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1563285386, "post_id": 57058545, "comment_id": 100643442, "body": "Thanks a lot! It works."}], "owner": {"reputation": 1452, "user_id": 7804595, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667139386646497/picture?type=large", "display_name": "Valeriy K.", "link": "https://stackoverflow.com/users/7804595/valeriy-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1563284834, "answer_count": 0, "score": 0, "last_activity_date": 1563286144, "creation_date": 1563284192, "last_edit_date": 1563286144, "question_id": 57058545, "link": "https://stackoverflow.com/questions/57058545/pattern-to-exclude-reserved-words-in-java-kotlin", "closed_reason": "Duplicate", "title": "Pattern to exclude reserved words in Java / Kotlin", "body": "<p>I have a field with validation in my class. I need to exclude reserved words in the name:</p>\n\n<pre><code>data class SomeData (\n@field:Size(min = 1, max = 128)\n@field:Pattern(regexp = \"(?!(id|name|description))[a-zA-Z_][a-zA-Z0-9_]*\")\nval name: String,\n\nval description: String\n)\n</code></pre>\n\n<p>when I'm trying to save entity with name 'id' I get an error. All works as I expect. But when I use the name 'idp' I get an error again. But It is a normal name. All should work without error. When the reserved word is not at the beginning all works fine (for example 'pid', 'hidkk'). I need to get errors only when I'm using exactly reserved words. How to fix it?</p>\n\n<p>UPDATED: Such question is already asked <a href=\"https://stackoverflow.com/questions/3479324/regular-expression-to-match-string-exactly\">here</a> but from that question regular expression, I don't understand how it related to my situation, and also the answer doesn't suitable for my case and doesn't work. @Wiktor Stribi\u017cew gave the correct answer.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8931418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f259ab48629edee4fca43b446c26e5b3?s=128&d=identicon&r=PG&f=1", "display_name": "Job Kilonzo", "link": "https://stackoverflow.com/users/8931418/job-kilonzo"}, "edited": false, "score": 0, "creation_date": 1563285190, "post_id": 57058605, "comment_id": 100643319, "body": "wvArticle.webViewClient = WebViewClient() wvArticle should be there or typing mistake"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 3, "user_id": 8931418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f259ab48629edee4fca43b446c26e5b3?s=128&d=identicon&r=PG&f=1", "display_name": "Job Kilonzo", "link": "https://stackoverflow.com/users/8931418/job-kilonzo"}, "edited": false, "score": 0, "creation_date": 1563286481, "post_id": 57058605, "comment_id": 100644200, "body": "im sorry, i fixed that"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 3, "user_id": 8931418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f259ab48629edee4fca43b446c26e5b3?s=128&d=identicon&r=PG&f=1", "display_name": "Job Kilonzo", "link": "https://stackoverflow.com/users/8931418/job-kilonzo"}, "edited": false, "score": 0, "creation_date": 1563287419, "post_id": 57058605, "comment_id": 100644856, "body": "If the you are satisfied with the answer please mark it as resolved so that others can profit too"}, {"owner": {"reputation": 3, "user_id": 8931418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f259ab48629edee4fca43b446c26e5b3?s=128&d=identicon&r=PG&f=1", "display_name": "Job Kilonzo", "link": "https://stackoverflow.com/users/8931418/job-kilonzo"}, "edited": false, "score": 0, "creation_date": 1563288590, "post_id": 57058605, "comment_id": 100645562, "body": "Could be there another problem because is not working"}, {"owner": {"reputation": 3, "user_id": 8931418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f259ab48629edee4fca43b446c26e5b3?s=128&d=identicon&r=PG&f=1", "display_name": "Job Kilonzo", "link": "https://stackoverflow.com/users/8931418/job-kilonzo"}, "edited": false, "score": 0, "creation_date": 1563364651, "post_id": 57058605, "comment_id": 100673771, "body": "2019-07-17 14:57:01.105 5391-5429/com.example.alc4 E/eglCodecCommon: glUtilsParamSize: unknow param 0x000085b5"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1563286469, "last_edit_date": 1563286469, "creation_date": 1563284369, "answer_id": 57058605, "question_id": 57058525, "link": "https://stackoverflow.com/questions/57058525/not-loading-url-using-webview/57058605#57058605", "title": "Not loading url using webview", "body": "<p>You need a <code>WebViewClient</code> before using it: </p>\n\n<pre><code> webView.webViewClient = WebViewClient()\n</code></pre>\n\n<p>After that go with your code: </p>\n\n<pre><code>webView.loadUrl(\"https://andela.com/alc/\")\n</code></pre>\n\n<p>The <code>WebViewClient</code> is from <code>android.webkit.WebViewClient</code> but you can use others too. Example: <code>WebChromeClient</code></p>\n"}], "owner": {"reputation": 3, "user_id": 8931418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f259ab48629edee4fca43b446c26e5b3?s=128&d=identicon&r=PG&f=1", "display_name": "Job Kilonzo", "link": "https://stackoverflow.com/users/8931418/job-kilonzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563286469, "creation_date": 1563284106, "question_id": 57058525, "link": "https://stackoverflow.com/questions/57058525/not-loading-url-using-webview", "title": "Not loading url using webview", "body": "<p>Am trying to run this code but it's not working. When I use \n    different \n   URL its working</p>\n\n<pre><code>// Initializing webview\n    val webView: WebView = findViewById(R.id.webview)\n        // URL to be loaded\n        webView.loadUrl(\"https://andela.com/alc/\")\n        //enabling javascript\n        webView.settings.javaScriptEnabled = true\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "edited": false, "score": 0, "creation_date": 1563285779, "post_id": 57057722, "comment_id": 100643698, "body": "are you using <code>LiveData</code> in your app?"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "reply_to_user": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "edited": false, "score": 0, "creation_date": 1563286234, "post_id": 57057722, "comment_id": 100644022, "body": "@Fartab yes. When a barcode is scanned it takes the raw value and does a MSSQL query on it and sends back two values. Those values will be displayed inside two TextViews."}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "edited": false, "score": 0, "creation_date": 1563287032, "post_id": 57057722, "comment_id": 100644553, "body": "show the code where these two values were retrieved then I can help"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "reply_to_user": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "edited": false, "score": 0, "creation_date": 1563287506, "post_id": 57057722, "comment_id": 100644922, "body": "I added the contents of the entire file, but you want to look inside the function onSuccess()"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563288711, "post_id": 57059907, "comment_id": 100645646, "body": "So inside my main &quot;LiveBarcodeScanningActivity.kt&quot; There is a workflow model.         workflowModel?.detectedBarcode?.observe(this, Observer { barcode -&gt;              if (barcode != null) {                 val barcodeFieldList = ArrayList&lt;BarcodeField&gt;()                 barcodeFieldList.add(BarcodeField(&quot;Module Serial Number&quot;, barcode.rawValue ?: &quot;&quot;))                 BarcodeResultFragment.show(supportFragmentManager, barcodeFieldList)              }         })     can I add the observer under this and change it to my variables holding the query data?"}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563288825, "post_id": 57059907, "comment_id": 100645723, "body": "yeah.. add the answer code to <code>onCreate</code> of <code>LiveBarcodeScanningActivity</code> below calling <code>setUpWorkflowModel()</code>"}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563288941, "post_id": 57059907, "comment_id": 100645798, "body": "It seems that you already observe <code>detectedBarcode</code> live data. you can add your code in the existing observer or creating a new observer."}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563289317, "post_id": 57059907, "comment_id": 100646035, "body": "I added my observer code above. The main portion is at the bottom. For the line <code>myTextView.text = it</code> would myTextView be the name of the textView in the xml layout? and do I set it equal to the value from the BarcodeProcessor file?"}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563289413, "post_id": 57059907, "comment_id": 100646088, "body": "yes.. this is the same text view in your xml. name it accordingly."}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563289939, "post_id": 57059907, "comment_id": 100646406, "body": "Sorry, to clarify. the <code>it</code> should that be a value from the BarcodeProcessor file? It comes comes up as a type mismatch leaving it as it."}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563290126, "post_id": 57059907, "comment_id": 100646510, "body": "I see you named <code>it</code> as <code>barcode</code>. so do this: <code>myTextView.text = barcode </code>"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563297394, "post_id": 57059907, "comment_id": 100650109, "body": "After a while of experimenting I&#39;m still not able to pass the values through"}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563297464, "post_id": 57059907, "comment_id": 100650130, "body": "what is your problem now? do you have a compile error?"}, {"owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "edited": false, "score": 0, "creation_date": 1563297773, "post_id": 57059907, "comment_id": 100650250, "body": "I just couldn&#39;t implement it. I tried the above and then making a new class inside the file to act like a get/set and made them observable but nothing happened with it. Or I would receive <code>java.lang.IllegalStateException: barcode_field_value3 must not be null</code>"}], "tags": [], "owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "is_accepted": false, "score": 0, "last_activity_date": 1563288196, "creation_date": 1563288196, "answer_id": 57059907, "question_id": 57057722, "link": "https://stackoverflow.com/questions/57057722/how-to-access-a-textview-from-a-non-parent-file-android/57059907#57059907", "title": "How to access a TextView from a non-parent file [Android]", "body": "<p>You are setting <code>workflowModel.detectedBarcode</code> live data in <code>BarcodeProcessor</code>. So you can find where you are passing this <code>workflowModel</code> to <code>BarcodeProcessor</code> constructor and add such a code to observe this live data in your activtiy:</p>\n\n<pre><code>workflowModel.detectedBarcode.observe(this, Observer { \n    myTextView.text = it\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "is_accepted": true, "score": 0, "last_activity_date": 1563803028, "creation_date": 1563803028, "answer_id": 57147398, "question_id": 57057722, "link": "https://stackoverflow.com/questions/57057722/how-to-access-a-textview-from-a-non-parent-file-android/57147398#57147398", "title": "How to access a TextView from a non-parent file [Android]", "body": "<p>This answer pertains directly to displaying results in the Google <a href=\"https://github.com/firebase/mlkit-material-android\" rel=\"nofollow noreferrer\">ML-Kit Showcase</a> sample project. So if your working on that with barcode scanning this is related.</p>\n\n<p>In order to display the results on successful scan you need to add the fields into the </p>\n\n<h3>BarcodeFieldAdapter file</h3>\n\n<pre><code>    internal class BarcodeFieldViewHolder private constructor(view: View) : RecyclerView.ViewHolder(view) {\n\n        private val labelView: TextView = view.findViewById(R.id.barcode_field_label)\n        private val valueView: TextView = view.findViewById(R.id.barcode_field_value)\n        private val moduleSize: TextView = view.findViewById(R.id.textViewModuleSize)\n        private val finalDisposition: TextView = view.findViewById(R.id.textViewFinalDisp)\n        private val NCRNotes: TextView = view.findViewById(R.id.textViewNCR)\n        private val OverlapLengthText: TextView = view.findViewById((R.id.textViewOverlapLength))\n\n        fun bindBarcodeField(barcodeField: BarcodeField) {\n            //These are the original values that display in the Barcode_field.xml\n            labelView.text = barcodeField.label\n            valueView.text = barcodeField.value\n\n            //These are the new values I passed in\n            moduleSize.text = BarcodeProcessor.data.moduleSize\n            finalDisposition.text = BarcodeProcessor.data.finalDisposition\n            NCRNotes.text = BarcodeProcessor.data.NCRNotes\n            OverlapLengthText.text = BarcodeProcessor.data.OverlapLength\n        }\n</code></pre>\n\n<p>Inside</p>\n\n<h3>BarcodeProcessor</h3>\n\n<p>declare a data object</p>\n\n<pre><code>    object data {\n        var finalDisposition = \"init\"\n        var moduleSize = \"init\"\n        var barcodeValue: String = \"\"\n        var NCRNotes = \"\"\n        var OverlapLength = \"\"\n    }\n</code></pre>\n\n<p>These variables will be passed into the BarcodeFieldAdapter file above then displayed in the barcode_field.xml on success.</p>\n\n<p>Inside the query function - That is in the BarcodeProcessor file</p>\n\n<pre><code>//Selects the values from the columns in the table where the query is taking place\n                    strData = cursor.getString(\"Column Name 1\")\n                    strData2 = cursor.getString(\"Column Name 2\")\n                    strData4 = cursor.getString(\"Column Name 3\")\n\n                    //Assigns the values to the variables inside the object data\n\n                    data.finalDisposition = strData\n                    data.moduleSize = strData2\n                    data.OverlapLength = strData4\n                    data.NCRNotes = \"\"\n</code></pre>\n\n<p>Finally, inside the barcode_field.xml file, create TextViews with the (R.id.TextViewNAMES) that are shown above in the BarcodeFieldAdapter file. Now on successful scanning the new values from the query will be displayed.</p>\n"}], "owner": {"reputation": 27, "user_id": 11771012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d2828f9d8eb7c0b1104ada9c356a2a?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidBuild", "link": "https://stackoverflow.com/users/11771012/androidbuild"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 57147398, "answer_count": 2, "score": 0, "last_activity_date": 1563803028, "creation_date": 1563281548, "last_edit_date": 1563364609, "question_id": 57057722, "link": "https://stackoverflow.com/questions/57057722/how-to-access-a-textview-from-a-non-parent-file-android", "title": "How to access a TextView from a non-parent file [Android]", "body": "<p>I want to access and change the text of a TextView from a non parent file. </p>\n\n<p>This is the class I would like to make the edits from</p>\n\n<pre><code>class BarcodeProcessor(graphicOverlay: GraphicOverlay, private val workflowModel: WorkflowModel) :\n    FrameProcessorBase&lt;List&lt;FirebaseVisionBarcode&gt;&gt;() {\n</code></pre>\n\n<p>In this class there is no onCreat()</p>\n\n<p>Do I need to have AppCompatActivity() in order to gain access to the xml layout files?</p>\n\n<p>Inside this file is where the barcode is processed and I can display the results along with a SQL query to the console, but I want to update the interface to reflect those values. Can I pass them through the companion oject to the parent class?</p>\n\n<p>Is there any way I can make the layout updates from the BarcodeProcessor file?</p>\n\n<p>I've tried including imports </p>\n\n<pre><code>import kotlinx.android.synthetic.main.barcode_field.*\n</code></pre>\n\n<pre><code>    @MainThread\n    override fun onSuccess(\n        image: FirebaseVisionImage,\n        results: List&lt;FirebaseVisionBarcode&gt;,\n        graphicOverlay: GraphicOverlay\n    ) {\n\n        var z = \"\"\n        var isSuccess: Boolean? = false\n        //Variables used in the SQL query\n        var strData = \"\"\n        var strData2 = \"\"\n\n        try {\n            con = dbConn()      // Connect to database\n            if (con == null) {\n                z = \"Check Your Internet Access!\"\n            } else {\n                val query = \"select [ValueOne], [ValueTwo] from [TableName] where [ValueOne] = '$barcodeValue'\"\n                val stmt = con!!.createStatement()\n                val cursor = stmt.executeQuery(query)\n                barcodeValue = results[0].getRawValue()!!\n                println(barcodeValue)\n                if (cursor.next()) {\n                    //Selects the values from the columns in the table where the query is taking place\n                    strData = cursor.getString(\"[ValueOne]\")\n                    strData2 = cursor.getString(\"[ValueTwo]\")\n                    var finalDispositionID = strData\n                    var moduleSizeID = strData2\n                    println(finalDispositionID)\n                    println(moduleSizeID)\n\n                    //barcode_field_value3 is the name of the textview\n                    //barcode_field_value2 is the name of the other textview\n\n                    //barcode_field_value3.text = strData\n\n                    z = \"Login successful\"\n                    isSuccess = true\n                    con!!.close()\n                } else {\n                    z = \"Invalid Credentials!\"\n                    isSuccess = false\n                }\n            }\n        } catch (ex: java.lang.Exception) {\n            isSuccess = false\n            z = ex.message!!\n        }\n</code></pre>\n\n<p>The query happens in the function onSuccess(). I included the entire file for reference though.</p>\n\n<h3>LiveBarcodeScanningActivity</h3>\n\n<pre><code>    private fun setUpWorkflowModel() {\n        workflowModel = ViewModelProviders.of(this).get(WorkflowModel::class.java)\n\n        // Observes the workflow state changes, if happens, update the overlay view indicators and\n        // camera preview state.\n        workflowModel!!.workflowState.observe(this, Observer { workflowState -&gt;\n            if (workflowState == null || Objects.equal(currentWorkflowState, workflowState)) {\n                return@Observer\n            }\n\n            currentWorkflowState = workflowState\n            Log.d(TAG, \"Current workflow state: ${currentWorkflowState!!.name}\")\n\n            val wasPromptChipGone = promptChip?.visibility == View.GONE\n\n            when (workflowState) {\n                WorkflowState.DETECTING -&gt; {\n                    promptChip?.visibility = View.VISIBLE\n                    promptChip?.setText(R.string.prompt_point_at_a_barcode)\n                    startCameraPreview()\n                }\n                WorkflowState.CONFIRMING -&gt; {\n                    promptChip?.visibility = View.VISIBLE\n                    promptChip?.setText(R.string.prompt_move_camera_closer)\n                    startCameraPreview()\n                }\n                WorkflowState.SEARCHING -&gt; {\n                    promptChip?.visibility = View.VISIBLE\n                    promptChip?.setText(R.string.prompt_searching)\n                    stopCameraPreview()\n                }\n                WorkflowState.DETECTED, WorkflowState.SEARCHED -&gt; {\n                    promptChip?.visibility = View.GONE\n                    stopCameraPreview()\n                }\n                else -&gt; promptChip?.visibility = View.GONE\n            }\n\n            val shouldPlayPromptChipEnteringAnimation = wasPromptChipGone &amp;&amp; promptChip?.visibility == View.VISIBLE\n            promptChipAnimator?.let {\n                if (shouldPlayPromptChipEnteringAnimation &amp;&amp; !it.isRunning) it.start()\n            }\n        })\n\n\n        workflowModel?.detectedBarcode?.observe(this, Observer { barcode -&gt;\n\n            if (barcode != null) {\n                val barcodeFieldList = ArrayList&lt;BarcodeField&gt;()\n                barcodeFieldList.add(BarcodeField(\"Module Serial Number\", barcode.rawValue ?: \"\"))\n                BarcodeResultFragment.show(supportFragmentManager, barcodeFieldList)\n\n            }\n        })\n\n    }```\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2886, "user_id": 2960034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2155e960e7c2119d24d00cffcfa03368?s=128&d=identicon&r=PG&f=1", "display_name": "y.bedrov", "link": "https://stackoverflow.com/users/2960034/y-bedrov"}, "is_accepted": true, "score": 1, "last_activity_date": 1563282603, "creation_date": 1563282603, "answer_id": 57058051, "question_id": 57057712, "link": "https://stackoverflow.com/questions/57057712/intellij-gives-error-about-reference-in-kotlin/57058051#57058051", "title": "IntelliJ gives error about reference in Kotlin", "body": "<p>\"greeting:\" is a parameter name hint. Code should look like this:</p>\n\n<pre><code>sayHello(\"Hi\", \"Kotlin\", \"Programming\", \"Comic Books\")\n</code></pre>\n\n<p>See how hints will be shown automatically.</p>\n"}], "owner": {"reputation": 35, "user_id": 3382722, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/12f53a01fc4674935654a1e4885ba0cc?s=128&d=identicon&r=PG&f=1", "display_name": "user3382722", "link": "https://stackoverflow.com/users/3382722/user3382722"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 57058051, "answer_count": 1, "score": 0, "last_activity_date": 1563282603, "creation_date": 1563281524, "question_id": 57057712, "link": "https://stackoverflow.com/questions/57057712/intellij-gives-error-about-reference-in-kotlin", "title": "IntelliJ gives error about reference in Kotlin", "body": "<p>I'm trying to go though the Kotlin tutorial from <a href=\"https://www.youtube.com/watch?v=F9UC9DY-vIU\" rel=\"nofollow noreferrer\">Freecode camp</a>, but have this issue with references.</p>\n\n<p>IntelliJ complained that</p>\n\n<ol>\n<li>Unresolved reference: greeting in sayHello() in main()</li>\n<li>Unexpected\ntokens (use ';' to separate expressions on the same line), after\n\"Hi\"</li>\n</ol>\n\n<pre><code>fun sayHello(greeting:String, vararg itemsToGreet: String) {\n    itemsToGreet.forEach { itemToGreet -&gt;\n        println(\"$greeting $itemToGreet\")\n    }\n}\n\nfun main() {\n    val interestingThings = listOf(\"Kotlin\", \"Programming\", \"Comic Books\")\n    sayHello(greeting:\"Hi\", itemsToGreet:\"Kotlin\", \"Programming\", \"Comic Books\")\n}\n</code></pre>\n\n<p>It seems that assigning values to params can be done only by \"=\", not \":\"</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "is_accepted": true, "score": 3, "last_activity_date": 1563281756, "creation_date": 1563281756, "answer_id": 57057786, "question_id": 57057660, "link": "https://stackoverflow.com/questions/57057660/kotlin-set-focus-to-other-edittext-field-when-13-numbers-are-entered/57057786#57057786", "title": "Kotlin: set focus to other edittext field when 13 numbers are entered", "body": "<p>What you could do is to watch the text which is entered in the first field. </p>\n\n<p>You could use <code>TextWatcher</code> for example:</p>\n\n<pre><code>        etbc.addTextChangedListener(object : TextWatcher {\n            override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {}\n\n            override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n\n            override fun afterTextChanged(s: Editable) {\n                if(etbc.text.length &gt; 12) {\n                    etqty.requestFocus()\n                }\n            }\n        })\n</code></pre>\n\n<p>Give it a try. \nBtw. you could also set <code>android:maxLength=\"13\"</code> in the xml</p>\n"}], "owner": {"reputation": 3, "user_id": 11791943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2145af63ea95b2e25c2b2f57b9ce7904?s=128&d=identicon&r=PG&f=1", "display_name": "bjoeres", "link": "https://stackoverflow.com/users/11791943/bjoeres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 57057786, "answer_count": 1, "score": 0, "last_activity_date": 1563282049, "creation_date": 1563281330, "question_id": 57057660, "link": "https://stackoverflow.com/questions/57057660/kotlin-set-focus-to-other-edittext-field-when-13-numbers-are-entered", "title": "Kotlin: set focus to other edittext field when 13 numbers are entered", "body": "<p>First, I want to say I am completely new at programming and Kotlin, I'm trying it for just 3 days now, and have no experience at all, just reading a bit about it.</p>\n\n<p>I have an android device with a barcode scanner. I have made an activity with 2 edittext fields and a button. In the first edittextfield (etbc), I scan the barcode with the device, so there comes a 13 digit number in it. Next to this field I have another field, etqty, where I enter the quantity.</p>\n\n<p>I'm trying to get the program to automatically set the focus to etqty, when the 13 digit number is entered in the first field.</p>\n\n<p>I already tried with length, but I don't really get any result. How can I accomplish this, or do I have to use another method?</p>\n\n<p>This is the code I have for now (keep in mind I'm absolutely new to this, so my code can be a bit weird and messy, but for now it does what I want it to do :-))</p>\n\n<pre><code>    package com.example.project016\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\nimport java.io.BufferedReader\nimport java.io.IOException\nimport java.io .InputStreamReader\nimport android.widget.Toast\nimport android.app.Activity\nimport java.io.OutputStreamWriter\nimport java.nio.file.StandardOpenOption\n\nclass MainActivity: AppCompatActivity () {\n\n    override fun onCreate (savedInstanceState: Bundle?) {\n        super.onCreate (savedInstanceState)\n        setContentView (R.layout.activity_main)\n        val etbc = findViewById (R.id.etbc) as EditText\n        val et1 = findViewById (R.id.et1) as EditText\n        val etqty = findViewById (R.id.etqty) as EditText\n\n        etbc.requestFocus()\n        if(fileList().contains(\"notes.txt\")) {\n            try {\n                val file = InputStreamReader(openFileInput(\"notes.txt\"))\n                val br = BufferedReader(file)\n                var line = br.readLine()\n                val all = StringBuilder()\n                while (line != null) {\n                    all.append(line + \"\\n\")\n                    line = br.readLine()\n                }\n                br.close()\n                file.close()\n                et1.setText(all)\n            }\n            catch (e:IOException) {\n            }\n        }\n\n        val button1 = findViewById (R.id.button1) as Button\n        button1.setOnClickListener {\n            try {\n                val file = OutputStreamWriter(openFileOutput(\"notes.txt\", Activity.MODE_APPEND))\n\n                file.write (etbc.text.toString() + \";\" + etqty.text.toString() + \"\\n\")\n                file.flush ()\n                file.close ()\n            } catch (e : IOException) {\n            }\n            Toast.makeText(this, \"data were recorded\", Toast.LENGTH_SHORT).show()\n           // finish ()\n            etbc.getText().clear()\n            etqty.getText().clear()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1563281679, "post_id": 57057533, "comment_id": 100641097, "body": "Where did you put those <code>onErrorResumeNext</code>? I don&#39;t see it in the code provided. Put it on the inner source which can fail and not into the main sequence."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1563282209, "post_id": 57057533, "comment_id": 100641434, "body": "I&#39;m using onExceptionResumeNext, so the code above doesn&#39;t show onErrorResumeNext. But as mentioned, it doesn&#39;t matter - the problem still occurs if I use onErrorResumeNext. The main stream and nested stream need their own error handling. I&#39;m just not entirely convinced that this is possible. Also keep in mind that it is entirely possible to use a third party library that contains a nested observable, so it should be possible to support nested error handling."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1563282446, "post_id": 57057533, "comment_id": 100641575, "body": "I think you run into one of the ambiguities of Kotlin again. You see, in<code>onExceptionResumeNext { }</code>, the curly braces create an <code>ObservableSource.subscribe(Observer)</code> body that does nothing and is hidden from you as <code>it</code> is optional. Replace the curly braces with regular braces and see if that helps for <code>onExceptionResumeNext</code>."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1563282861, "post_id": 57057533, "comment_id": 100641817, "body": "Replacing the curly braces with rounded braces results in onExceptionResumeNext being called all the time. My assumption is that the rounded braces force a call on the method whereas the curly braces provide an anonymous callback."}], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1563285382, "post_id": 57058325, "comment_id": 100643440, "body": "That helped. Thank you."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1563285866, "post_id": 57058325, "comment_id": 100643754, "body": "It should be pointed out that although your solution solves the problem with onExceptionResumeNext hanging the code, the other problem I noted about onExceptionResumeNext terminating the stream is still there. the onComplete will still get called. This is bad since the impression is that the stream would normally continue on as though nothing happened. That apparently is not true."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 1, "creation_date": 1563285979, "post_id": 57058325, "comment_id": 100643833, "body": "Please provide the code you have problems with without leaving out important parts. The best would be to have an unit test that demonstrates your problem."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1563286688, "post_id": 57058325, "comment_id": 100644332, "body": ".onExceptionResumeNext { observer -&gt;                 Observable.just(messageToSend).subscribe(observer)             } This works without the defer. Kind of what I was looking for."}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 2, "last_activity_date": 1563283470, "creation_date": 1563283470, "answer_id": 57058325, "question_id": 57057533, "link": "https://stackoverflow.com/questions/57057533/observable-stops-emitting-when-nested-error-handler-calls-onexceptionresumenext/57058325#57058325", "title": "Observable stops emitting when nested error handler calls onExceptionResumeNext", "body": "<p>You may want to use <code>defer</code> to defer execution of function calls that result in side-effects upon call:</p>\n\n<pre><code>Observable&lt;Integer&gt; createFallback() {\n    System.out.println(\"Why is this executing now?!\");\n    return Observable.empty();\n}\n\nObservable.&lt;Integer&gt;error(new Exception())\n.onExceptionResumeNext(createFallback())\n.subscribe();\n</code></pre>\n\n<p>The <code>createFallback</code> runs because you specified it to run by invoking it. If the sequence is rewritten, it should become more apparent why:</p>\n\n<pre><code>Observable&lt;Integer&gt; fallback = createFallback();\n\nObservable.&lt;Integer&gt;error(new Exception())\n.onExceptionResumeNext(fallback)\n.subscribe();\n</code></pre>\n\n<p>Now if you comment out the error-observable part, does it still execute <code>createFallback()</code>? Yes and RxJava is not even involved at that point yet.</p>\n\n<p>If you want the side-effects to not happen to <code>createFallback</code> this way, you have to defer the execution of the entire method, there is an operator for that purpose: <code>defer</code>:</p>\n\n<pre><code>Observable.&lt;Integer&gt;error(new Exception())\n.onExceptionResumeNext(Observable.defer(() -&gt; createFallback()))\n.subscribe();\n</code></pre>\n\n<p>I presume this looks something like this in Kotlin:</p>\n\n<pre><code>Observable.error(new Exception())\n.onExceptionResumeNext(Observable.defer { createFallback() })\n.subscribe()\n</code></pre>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 57058325, "answer_count": 1, "score": 0, "last_activity_date": 1563283720, "creation_date": 1563280900, "last_edit_date": 1563283720, "question_id": 57057533, "link": "https://stackoverflow.com/questions/57057533/observable-stops-emitting-when-nested-error-handler-calls-onexceptionresumenext", "title": "Observable stops emitting when nested error handler calls onExceptionResumeNext", "body": "<p>In the following code, I have a nested observable. The sendMessage in the flatMap calls the sendMessage function which is also an observable. If an exception occurs in this nested observable, the onExceptionResumeNext is suppose to catch the exception, process the exception and then continue on as though nothing happened. The exception does get caught but once the processing on the exception completes, no further emissions are made in the stream. Not even the doOnComplete is called. In essence, the onExceptionResume next just hangs.</p>\n\n<p>I have tried onErrorReturnItem but have the same result. I have not found a single example in Stackoverflow or elsewhere for that matter that even shows onExceptionResumeNext or onErrorResumeNext or onErrorReturnItem inside a nested observable and after a day of working on it, I suspect that it may not be possible to support a nested error handler.</p>\n\n<p>NOTE: In the onExceptionResumeNext I am currently just returning </p>\n\n<pre><code>Observable.empty&lt;MessageToSend&gt;()\n</code></pre>\n\n<p>In my actual code, I have code to process the exception and I tried returning an observable as well as just returning the data. Doesn't matter what I do - it always hangs.</p>\n\n<pre><code>fun postMessages() {\n    val msgToSendPublisher = BehaviorSubject.createDefault(MessageToSend())\n\n    msgToSendPublisher\n        .flatMap { _ -&gt;\n            App.context.repository.getMessageToSend().toObservable()\n        }\n        .doOnError { error -&gt;\n            if (error is EmptyResultSetException)\n                App.context.repository.setSendStatusToNotSendingForAllMessages()\n        }\n        .doOnNext { messageToSend -&gt;\n            App.context.repository.updateMessage(messageToSend)\n        }\n        .flatMap { messageToSend -&gt;\n            App.context.repository.sendMessage(messageToSend)\n        }\n        .doOnNext { messageToSend -&gt;\n            messageToSend.dateSent = Date()\n            App.context.repository.updateDateLastMessageSent(messageToSend)\n        }\n        .doOnNext { messageToSend -&gt;\n            if (messageToSend.totalMessagesToSend == 1)\n                App.context.repository.updateSendStatus(messageToSend, MessageSendStates.NOT_SENDING)\n            else\n                Observable.just(messageToSend)\n        }\n        .doOnNext {\n            msgToSendPublisher.onNext(it)\n        }\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(\n            { messageToSend -&gt;\n\n            },\n            { ex -&gt;\n                onMessagesSent()\n            },\n            {\n                onMessagesSent()\n            }\n        )\n}\n\n\nfun sendMessage(messageToSend: MessageToSend): Observable&lt;MessageToSend&gt; {\n    val obs = Observable.fromCallable {\n            if (messageToSend.totalMessagesToSend == 3)\n                throw Exception(\"Couldn't send to recipient.\")\n\n            messageToSend\n        }.map {\n            storeMessageSent(messageToSend)\n        }.onExceptionResumeNext {\n            Observable.empty&lt;MessageToSend&gt;() // Hangs here.\n        ).doOnComplete {\n            addNewMessageIfRequired(messageToSend, newMessage)\n        }\n\n        return obs\n}\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>I decided to test out a sample code I found that uses onExceptionResumeNext. It looks like this:</p>\n\n<pre><code>    Observable.fromArray(1, 2, 3)\n        .doOnNext {\n            if (it == 2) {\n                throw (RuntimeException(\"Exception on 2\"))\n            }\n        }\n        .onExceptionResumeNext(\n            Observable.just(10)\n        )\n        .subscribe(\n            {\n                var x = it\n            },\n            {\n                var x = it\n            },\n            {\n                var x = 0\n                x++\n            }\n        )\n</code></pre>\n\n<p>If you put a breakpoint on the line inside of the onExceptionResumeNext, it will get called every single time you run the observable for the first time and not just when the exception is thrown. This is clearly a behavior that is not identified in the RxJava documentation. Any developer will be under the impression that it will only get called when an exception is thrown. In the example above, setting the value to 10 is not really an issue. It's effectively just setting up the return value for the case when an exception occurs. However, if this was more elaborate code that stores stuff in the database (which my app does), it will get called when the observable is initialized - which is really bad. In spite of this discovery, it still does not solve my problem in that no further items are emitted. What I did discover in the sample code is that when onExceptionResumeNext is called, the onComplete is also called. Too bad the documentation doesn't mention that either.</p>\n"}, {"tags": ["android", "kotlin", "pdfbox"], "comments": [{"owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1563281576, "post_id": 57057301, "comment_id": 100641027, "body": "Here is one sample app available, Might be useful for you. <a href=\"https://github.com/TomRoush/PdfBox-Android/blob/master/sample/src/main/java/com/tom_roush/pdfbox/sample/MainActivity.java\" rel=\"nofollow noreferrer\">github.com/TomRoush/PdfBox-Android/blob/master/sample/src/ma&zwnj;&#8203;in/&hellip;</a>"}, {"owner": {"reputation": 1536, "user_id": 9470099, "user_type": "registered", "profile_image": "https://graph.facebook.com/1794157777557736/picture?type=large", "display_name": "ZeroErr0r", "link": "https://stackoverflow.com/users/9470099/zeroerr0r"}, "reply_to_user": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1563281955, "post_id": 57057301, "comment_id": 100641268, "body": "this code sample contains only to create a pdf file, not to read a pdf file. Do you have any other example snippet that shows how to read a pdf file?"}, {"owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 1, "creation_date": 1563282157, "post_id": 57057301, "comment_id": 100641401, "body": "This sample contain below functions (1)createPdf (2)renderFile (3)fillPFDForm (4)stripTextInPDF (5)createEncryptedPdf  Please go through entire example there are different methods for that."}, {"owner": {"reputation": 1536, "user_id": 9470099, "user_type": "registered", "profile_image": "https://graph.facebook.com/1794157777557736/picture?type=large", "display_name": "ZeroErr0r", "link": "https://stackoverflow.com/users/9470099/zeroerr0r"}, "reply_to_user": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1563282878, "post_id": 57057301, "comment_id": 100641829, "body": "Sorry I was thinking like someone will give me a code snippet, so I can just copy-paste. that was so stupid. Even though that code snippet doesn&#39;t have a straight answer it clearly explains how to use the PDFBox, thanks. I found the answer, I will post it now."}], "answers": [{"tags": [], "owner": {"reputation": 1536, "user_id": 9470099, "user_type": "registered", "profile_image": "https://graph.facebook.com/1794157777557736/picture?type=large", "display_name": "ZeroErr0r", "link": "https://stackoverflow.com/users/9470099/zeroerr0r"}, "is_accepted": false, "score": 0, "last_activity_date": 1563282978, "creation_date": 1563282978, "answer_id": 57058167, "question_id": 57057301, "link": "https://stackoverflow.com/questions/57057301/read-pdf-content-in-android-using-apache-pdfbox/57058167#57058167", "title": "Read PDF content in Android using Apache PDFBox", "body": "<p>I believe there is no need an explanation for this because you can clearly understand it from this code snippet.</p>\n\n<pre><code>PDFBoxResourceLoader.init(applicationContext)\n\nthread {\n    val ins = resources.openRawResource(\n        resources.getIdentifier(\"file\",\n            \"raw\", packageName))\n    debug(TAG, \"Loading PDF...\")\n    val document = PDDocument.load(ins)\n    debug(TAG, \"PDF Loaded.\")\n\n    val reader = PDFTextStripper()\n\n    for (i in 0 until document.numberOfPages) {\n        reader.startPage = i\n        reader.endPage = i\n        val content = reader.getText(document)\n\n        debug(TAG, content)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1536, "user_id": 9470099, "user_type": "registered", "profile_image": "https://graph.facebook.com/1794157777557736/picture?type=large", "display_name": "ZeroErr0r", "link": "https://stackoverflow.com/users/9470099/zeroerr0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563282978, "creation_date": 1563280092, "question_id": 57057301, "link": "https://stackoverflow.com/questions/57057301/read-pdf-content-in-android-using-apache-pdfbox", "title": "Read PDF content in Android using Apache PDFBox", "body": "<p>I am trying to read the pdf content text page by page, but I never used PDFBox before, I wrote the following code just using Autocomplete and Google. Now I want to get the page content. This is an Android application.</p>\n\n<pre><code>PDFBoxResourceLoader.init(applicationContext)\n\nthread {\n    val ins = resources.openRawResource(\n        resources.getIdentifier(\"file\",\n            \"raw\", packageName))\n    debug(TAG, \"Loading PDF...\")\n    val document = PDDocument.load(ins)\n    debug(TAG, \"PDF Loaded.\")\n\n    for (i in 0 until document.numberOfPages) {\n        val page = document.getPage(i)\n        debug(TAG, page.hasContents())\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "android", "react-native", "kotlin"], "comments": [{"owner": {"reputation": 540, "user_id": 1348387, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/13d4cedc099912ab2877b34a9bd1855b?s=128&d=identicon&r=PG", "display_name": "JustTrying", "link": "https://stackoverflow.com/users/1348387/justtrying"}, "edited": false, "score": 1, "creation_date": 1563280482, "post_id": 57057273, "comment_id": 100640389, "body": "Did you try a clean of the project?"}, {"owner": {"reputation": 13, "user_id": 10063782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CXjInbgA1QI/AAAAAAAAAAI/AAAAAAAAiZk/ZST9CAmCnFE/photo.jpg?sz=128", "display_name": "Sarath Natesan", "link": "https://stackoverflow.com/users/10063782/sarath-natesan"}, "reply_to_user": {"reputation": 540, "user_id": 1348387, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/13d4cedc099912ab2877b34a9bd1855b?s=128&d=identicon&r=PG", "display_name": "JustTrying", "link": "https://stackoverflow.com/users/1348387/justtrying"}, "edited": false, "score": 0, "creation_date": 1563335684, "post_id": 57057273, "comment_id": 100660765, "body": "Yes, I did. No luck"}], "answers": [{"tags": [], "owner": {"reputation": 3674, "user_id": 1259118, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4BaMs.jpg?s=128&g=1", "display_name": "c4k", "link": "https://stackoverflow.com/users/1259118/c4k"}, "is_accepted": true, "score": 4, "last_activity_date": 1563294863, "creation_date": 1563294863, "answer_id": 57061840, "question_id": 57057273, "link": "https://stackoverflow.com/questions/57057273/how-to-customise-the-default-activity-in-react-native-apart-from-the-default-nam/57061840#57061840", "title": "How to customise the default Activity in React Native apart from the default name &quot;MainActivity&quot;?", "body": "<p>By default React Native executes the <code>MainActivity</code> if you don't tell it to do something different. Try to launch your app with :</p>\n\n<pre><code>react-native run-android --main-activity AuthActivity\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10063782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CXjInbgA1QI/AAAAAAAAAAI/AAAAAAAAiZk/ZST9CAmCnFE/photo.jpg?sz=128", "display_name": "Sarath Natesan", "link": "https://stackoverflow.com/users/10063782/sarath-natesan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 57061840, "answer_count": 1, "score": 1, "last_activity_date": 1563294863, "creation_date": 1563279999, "last_edit_date": 1563285929, "question_id": 57057273, "link": "https://stackoverflow.com/questions/57057273/how-to-customise-the-default-activity-in-react-native-apart-from-the-default-nam", "title": "How to customise the default Activity in React Native apart from the default name &quot;MainActivity&quot;?", "body": "<p>I tried to configure a different Default Launcher activity say <code>AuthActivity</code>, which is different from the default <code>MainActivity</code>. But it always launches the <code>MainActivity</code>.\nI tried to set <code>AuthActivity</code> as default activity in Manifest and renamed <code>MainActivity</code> as <code>HomeActivity</code>. But I get the following error :</p>\n\n<blockquote>\n  <p>Error type 3 Error: Activity class\n  {/.MainActivity} does not exist.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>&lt;activity android:name=\".AuthActivity\"\n          android:label=\"@string/app_name\"\n          android:screenOrientation=\"portrait\"\n          android:windowSoftInputMode=\"adjustResize\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>&lt;activity android:name=\".HomeActivity\"\n          android:label=\"@string/app_name\"\n          android:screenOrientation=\"portrait\"\n          android:windowSoftInputMode=\"adjustResize\" /&gt;\n</code></pre>\n\n<p>How do I configure a Native activity to be the Launcher Activity and then launch the Activity to load the Javascript files?</p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "coroutinescope"], "comments": [{"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1563279822, "post_id": 57057131, "comment_id": 100639980, "body": "you must be doing something related with context, that&#39;s causing the issue, but that context is not alive anymore"}, {"owner": {"reputation": 4218, "user_id": 298539, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3b05247da11662644fc23205a779e94a?s=128&d=identicon&r=PG", "display_name": "png", "link": "https://stackoverflow.com/users/298539/png"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1563280569, "post_id": 57057131, "comment_id": 100640443, "body": "yeah, I am doing getResources but what I want to be sure that using coroutines with viewmodelscope will take care of this. If scope is ended onDetach then these task will not be executed."}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1563281078, "post_id": 57057131, "comment_id": 100640724, "body": "No you should check whether context is still null or not"}], "answers": [{"tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": 0, "last_activity_date": 1563281305, "creation_date": 1563281305, "answer_id": 57057651, "question_id": 57057131, "link": "https://stackoverflow.com/questions/57057131/android-does-viewmodelscope-cancel-all-jobs-on-detach-from-window-of-fragment/57057651#57057651", "title": "Android : Does viewmodelscope cancel all jobs on detach from window of fragment", "body": "<p>If any <code>Context</code> or UI related logic has to be executed on the result of any asynchronous or API calls, can result in this issue even if <code>onDetach</code> is called. You should make safe calls like null checking to get rid of that exception.</p>\n"}, {"comments": [{"owner": {"reputation": 4218, "user_id": 298539, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3b05247da11662644fc23205a779e94a?s=128&d=identicon&r=PG", "display_name": "png", "link": "https://stackoverflow.com/users/298539/png"}, "edited": false, "score": 0, "creation_date": 1563285002, "post_id": 57057994, "comment_id": 100643207, "body": "If u use viewModelScope, all the jobs will be cancelled whenever onCleared is called."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 4218, "user_id": 298539, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3b05247da11662644fc23205a779e94a?s=128&d=identicon&r=PG", "display_name": "png", "link": "https://stackoverflow.com/users/298539/png"}, "edited": false, "score": 0, "creation_date": 1563286532, "post_id": 57057994, "comment_id": 100644241, "body": "Yes, but I was answering your question, I know about the <code>ViewModelScope</code>"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 1, "last_activity_date": 1563282459, "creation_date": 1563282459, "answer_id": 57057994, "question_id": 57057131, "link": "https://stackoverflow.com/questions/57057131/android-does-viewmodelscope-cancel-all-jobs-on-detach-from-window-of-fragment/57057994#57057994", "title": "Android : Does viewmodelscope cancel all jobs on detach from window of fragment", "body": "<p>As Google notes on the <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">official documentation</a>: </p>\n\n<blockquote>\n  <p>Figure 1 illustrates the various lifecycle states of an activity as it\n  undergoes a rotation and then is finished. The illustration also shows\n  the lifetime of the ViewModel next to the associated activity\n  lifecycle. This particular diagram illustrates the states of an\n  activity. <strong>The same basic states apply to the lifecycle of a fragment.</strong></p>\n</blockquote>\n\n<p>And this is the image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oXTja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oXTja.png\" alt=\"enter image description here\"></a></p>\n\n<p>So the answer is: ViewModel's <code>onCleared</code> is called when <code>onDestroy</code> is called from <code>Activity</code>/<code>Fragment</code> .</p>\n\n<p>As for your coroutines, you should <code>cancel()</code> the job on the <code>onCleared()</code></p>\n"}], "owner": {"reputation": 4218, "user_id": 298539, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3b05247da11662644fc23205a779e94a?s=128&d=identicon&r=PG", "display_name": "png", "link": "https://stackoverflow.com/users/298539/png"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1014, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1563282459, "creation_date": 1563279560, "question_id": 57057131, "link": "https://stackoverflow.com/questions/57057131/android-does-viewmodelscope-cancel-all-jobs-on-detach-from-window-of-fragment", "title": "Android : Does viewmodelscope cancel all jobs on detach from window of fragment", "body": "<p>I want to know if oncleared of viewmodel is called when onDetach of a fragment is called. This is to make sure that all coroutines will be cancelled. I was getting a IllegalStateException: Fragment not attached to a context before refactoring to kotlin and coroutines. Now I am using viemodelscope to do these tasks. </p>\n"}, {"tags": ["android", "kotlin", "casting", "long-integer"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1563281773, "post_id": 57056846, "comment_id": 100641155, "body": "Converting a long <code>Long</code> to <code>Int</code> can result in an overflow of bits an <code>Int</code> can hold. Which explains why you are getting different outputs."}], "answers": [{"tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": true, "score": 9, "last_activity_date": 1563279290, "creation_date": 1563279290, "answer_id": 57057032, "question_id": 57056846, "link": "https://stackoverflow.com/questions/57056846/how-kotlin-converts-long-to-int-getting-different-outputs-for-out-of-range-valu/57057032#57057032", "title": "How Kotlin converts Long to Int? Getting different outputs for out of range values", "body": "<p>Kotlin indeed truncates your number, but in its binary form:</p>\n\n<p><code>5453448989999998988</code> is <code>0100101110101110100010101111011001111001101010011010100000001100</code> in binary.</p>\n\n<p>It then takes its lower 32 bits: <code>01111001101010011010100000001100</code> and that is your <code>Int</code>, i.e. 2041161740.</p>\n"}], "owner": {"reputation": 1384, "user_id": 3999642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bFPYs.jpg?s=128&g=1", "display_name": "Rajat Mehra", "link": "https://stackoverflow.com/users/3999642/rajat-mehra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 57057032, "answer_count": 1, "score": 1, "last_activity_date": 1563279290, "creation_date": 1563278633, "question_id": 57056846, "link": "https://stackoverflow.com/questions/57056846/how-kotlin-converts-long-to-int-getting-different-outputs-for-out-of-range-valu", "title": "How Kotlin converts Long to Int? Getting different outputs for out of range values", "body": "<p>I have lines of code which converts <code>Long</code> value to <code>Int</code>. As I know if <code>Long</code> value is greater then <code>Int.MAX_VALUE</code> i.e. <code>2147483647</code>, it will truncate the <code>Long</code> value to give the result in <code>Int</code>. I tried different examples:</p>\n\n<pre><code>val num1: Long = 5453448989999998988\nval num2: Int = num1.toInt()\n</code></pre>\n\n<p>gives </p>\n\n<blockquote>\n  <p>num2 = 2041161740</p>\n</blockquote>\n\n<pre><code>val num1: Long = 5453448989999998\nval num2: Int = num1.toInt()\n</code></pre>\n\n<p>gives</p>\n\n<blockquote>\n  <p>num2 = 165249918</p>\n</blockquote>\n\n<p>Both inputs are out of range. But my question is <strong>why I am getting different outputs</strong> as I was expecting truncated output.</p>\n"}, {"tags": ["kotlin", "nullable", "simplify", "simplification"], "answers": [{"comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 1, "creation_date": 1563280696, "post_id": 57057367, "comment_id": 100640517, "body": "Would this maybe be simpler as <code>payments?.retailAmount?.baseCharges.takeIf { it != null &amp;&amp; areChargesPayableByX(personX) } ?: 0.0</code> ?"}, {"owner": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "reply_to_user": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1563281490, "post_id": 57057367, "comment_id": 100640971, "body": "@YoniGibbs Anything that works for you. These are just different ways of writing the same thing. It does not actually optimize your code."}, {"owner": {"reputation": 592, "user_id": 4067774, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Sbf94.jpg?s=128&g=1", "display_name": "Devenom", "link": "https://stackoverflow.com/users/4067774/devenom"}, "edited": false, "score": 0, "creation_date": 1563374373, "post_id": 57057367, "comment_id": 100680167, "body": "@SaeedEntezari and Yoni Gibbs Thanks to your replies I just learned about the takeIf operator"}], "tags": [], "owner": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "is_accepted": true, "score": 1, "last_activity_date": 1563280310, "creation_date": 1563280310, "answer_id": 57057367, "question_id": 57056550, "link": "https://stackoverflow.com/questions/57056550/can-i-combine-boolean-and-null-checks-somehow-i-would-like-to-know-if-this-kotl/57057367#57057367", "title": "Can I combine boolean and null checks somehow? I would like to know if this kotlin method can be simplied further", "body": "<p>You can do something like:</p>\n\n<pre><code>fun getChargesPayableByX(personX: String): Double = \n    areChargesPayableByX(personX).takeIf{it == true}?.let{ payments?.retailAmount?.baseCharges } ?: 0.0\n</code></pre>\n"}], "owner": {"reputation": 592, "user_id": 4067774, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Sbf94.jpg?s=128&g=1", "display_name": "Devenom", "link": "https://stackoverflow.com/users/4067774/devenom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 57057367, "answer_count": 1, "score": 0, "last_activity_date": 1563280310, "creation_date": 1563277724, "question_id": 57056550, "link": "https://stackoverflow.com/questions/57056550/can-i-combine-boolean-and-null-checks-somehow-i-would-like-to-know-if-this-kotl", "title": "Can I combine boolean and null checks somehow? I would like to know if this kotlin method can be simplied further", "body": "<p>I am new to Kotlin and I would like to know the most optimized way in which I can simplify the following method.</p>\n\n<p>If the amount is payable by person X then I need to return the amount payable, else I need to return 0.</p>\n\n<p>In the code below <em><strong>payments</strong></em> is an object that is nullable. It contains <em><strong>retailAmount</strong></em> which is also an object that's nullable. <em><strong>retailAmount</strong></em> contains <em><strong>baseCharges</strong></em> which is a Double. (Also if <em><strong>payments</strong></em> or <em><strong>retailAmount</strong></em> is null I need to return 0)</p>\n\n<pre><code>// get charges payable by X(Retailer/Shopkeeper/Customer)\nfun getChargesPayableByX(personX: String): Double {\n    // are charges payable by X(Retailer/Shopkeeper/Customer)?\n    if (areChargesPayableByX(personX)) {  \n        return payments?.retailAmount?.baseCharges ?: 0.0\n    }\n    return 0.0\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 462, "user_id": 10480684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831be3899b243c8b7d680bbbea7c1fea?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Cavalheiro Becker", "link": "https://stackoverflow.com/users/10480684/alexander-cavalheiro-becker"}, "edited": false, "score": 0, "creation_date": 1563277648, "post_id": 57056445, "comment_id": 100638765, "body": "It&#39;s basically the same, but .setText() is the java syntax."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1563277689, "post_id": 57056445, "comment_id": 100638785, "body": "First one is conventional  setters for java and second one is a property setter used in kotlin .. <a href=\"https://stackoverflow.com/questions/37906607/getters-and-setters-in-kotlin\">Read this</a>. Basically both are same ."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1563277852, "post_id": 57056445, "comment_id": 100638874, "body": "This: <code>textView.text = $str</code> does not even compile. Did you mean: <code>textView.text = &quot;$str&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1669, "user_id": 9987309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUtsn.jpg?s=128&g=1", "display_name": "iCantC", "link": "https://stackoverflow.com/users/9987309/icantc"}, "is_accepted": false, "score": 0, "last_activity_date": 1563277825, "creation_date": 1563277825, "answer_id": 57056582, "question_id": 57056445, "link": "https://stackoverflow.com/questions/57056445/what-is-the-difference-between-textview-settextstring-and-textview-text-str/57056582#57056582", "title": "What is the difference between textView.setText(string) and textView.text = $string", "body": "<p><code>textView.setText(str)</code> and <code>textView.text = $str</code>, does the same job of setting the specified <code>str</code> to <code>TextView</code>. The only difference I can come up with is,</p>\n\n<p><code>textView.setText(str)  // old Java way of setting Text</code> where <strong>method</strong> setText(str) was being called.</p>\n\n<p><code>textView.text = $str //new Kotlin way of setting Text</code> where instead of a method, a <strong>synthetic property</strong> is being called. </p>\n"}, {"tags": [], "owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1563277850, "creation_date": 1563277850, "answer_id": 57056591, "question_id": 57056445, "link": "https://stackoverflow.com/questions/57056445/what-is-the-difference-between-textview-settextstring-and-textview-text-str/57056591#57056591", "title": "What is the difference between textView.setText(string) and textView.text = $string", "body": "<p>As in the Kotlin, you are not using <code>findViewById</code> </p>\n\n<p>so to access your textView, import statement must be like  this</p>\n\n<pre><code>import kotlinx.android.synthetic.main.&lt;layout&gt;.*\n</code></pre>\n\n<p>And <code>textView.text = $str</code> is the Synthetic Property access provided by Kotlin Plugin for android</p>\n\n<p>You can use both, not much difference in the usability, but for the easier code writing\nthis would be better</p>\n\n<p>For more information, read this <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 1058, "user_id": 3448943, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/139e890b8359de71ffc7dc8599240e0b?s=128&d=identicon&r=PG&f=1", "display_name": "NarenderNishad", "link": "https://stackoverflow.com/users/3448943/narendernishad"}, "is_accepted": false, "score": 0, "last_activity_date": 1563278708, "last_edit_date": 1563278708, "creation_date": 1563277856, "answer_id": 57056592, "question_id": 57056445, "link": "https://stackoverflow.com/questions/57056445/what-is-the-difference-between-textview-settextstring-and-textview-text-str/57056592#57056592", "title": "What is the difference between textView.setText(string) and textView.text = $string", "body": "<p>Both works the same way. </p>\n\n<p>Java Convention</p>\n\n<pre><code>textView.setText(\u201c\u2026\u201d)\n</code></pre>\n\n<p>Kotlin Convention</p>\n\n<pre><code>textView.text=\u201d\u2026\u201d\n</code></pre>\n\n<p>\u201cMethods that follow the Java conventions for getters and setters (no-argument methods with names starting with get and single-argument methods with names starting with set) are represented as properties in Kotlin.\u201d- <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<p>thus <code>textView.text=\u201d\u2026\u201d</code> instead of <code>textView.setText(\u201c\u2026\u201d)</code> if you are using Kotlin to follow Kotlin Conventions.</p>\n\n<p>Ref - <a href=\"https://medium.com/@gitudrebel94/begin-kotlin-from-an-activity-a-button-and-a-textview-50e0394aecc2\" rel=\"nofollow noreferrer\">Begin Kotlin; from an Activity, a Button and a TextView</a></p>\n"}, {"tags": [], "owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "is_accepted": true, "score": 4, "last_activity_date": 1563278275, "last_edit_date": 1592644375, "creation_date": 1563277925, "answer_id": 57056608, "question_id": 57056445, "link": "https://stackoverflow.com/questions/57056445/what-is-the-difference-between-textview-settextstring-and-textview-text-str/57056608#57056608", "title": "What is the difference between textView.setText(string) and textView.text = $string", "body": "<p>They're the same <strong>in most cases</strong>, basically Kotlin generates a synthetic property for the class attributes based on their getter, which you can use to assign values to and get values from.</p>\n<pre><code>//So, for most cases\ntextView.setText(&quot;some value&quot;);\n//Is the same as\ntextView.text = &quot;some value&quot;\n//The second is simply shorter and is the 'kotlin way' of assigning values\n</code></pre>\n<h3>Now, here's the catch -</h3>\n<p>In most cases, this works fine. But, as mentioned, the synthetic property is generated from the getter, if there is a setter as well, then issues arise. The reason is that the getter and the setter <strong>may</strong> have different types. For example, <code>EditText</code> has <code>Editable</code> getter, now, kotlin creates a synthetic property <code>text</code> of the type <code>Editable</code>.</p>\n<pre><code>editText.setText(&quot;some value&quot;); //Works\neditText.text = &quot;some value&quot; //Won't work, will show an error stating that expected type is Editable\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 791, "user_id": 9636642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8196e73f73d285bc2244f796b7a5f082?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/9636642/vivek-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1563280112, "last_edit_date": 1563280112, "creation_date": 1563278678, "answer_id": 57056861, "question_id": 57056445, "link": "https://stackoverflow.com/questions/57056445/what-is-the-difference-between-textview-settextstring-and-textview-text-str/57056861#57056861", "title": "What is the difference between textView.setText(string) and textView.text = $string", "body": "<p>The method <code>setText()</code> and <code>getText()</code> are called setters and getters, they are automatically generated in kotlin. </p>\n\n<pre><code>class ClassName{\n    var name: String= \"some_value\"\n}\n</code></pre>\n\n<p>You can use the <code>name</code> property directly with the object of the class or you can also use the auto-generated <code>setter</code> method.  </p>\n\n<pre><code>class Another{\n    var c = ClassName()\n\n    c.name = \"value\"\n    c.setName(\"value\")\n}\n</code></pre>\n\n<p>But if a property starts with a <code>val</code> instead of <code>var</code> then it  is immutable and does not allow a <code>setter</code>.<br>\nIn case you want to read further:-\n<a href=\"https://www.programiz.com/kotlin-programming/getters-setters\" rel=\"nofollow noreferrer\">Setters and getters in kotlin</a></p>\n"}], "owner": {"reputation": 95, "user_id": 11791758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3a55a7e828b8d741d562e75995f5a5?s=128&d=identicon&r=PG&f=1", "display_name": "JaVirang", "link": "https://stackoverflow.com/users/11791758/javirang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1355, "favorite_count": 0, "accepted_answer_id": 57056608, "answer_count": 5, "score": 5, "last_activity_date": 1563280112, "creation_date": 1563277326, "last_edit_date": 1563277529, "question_id": 57056445, "link": "https://stackoverflow.com/questions/57056445/what-is-the-difference-between-textview-settextstring-and-textview-text-str", "title": "What is the difference between textView.setText(string) and textView.text = $string", "body": "<p>Hi I am making a app with <strong>Kotlin</strong> and I found that I can both use</p>\n\n<pre><code>textView.setText(str)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>textView.text = $str\n</code></pre>\n\n<p>I wanna know what I should use and the differences between them.\nThank you.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "adapter"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 2, "creation_date": 1563277855, "post_id": 57056380, "comment_id": 100638877, "body": "Yes you can .. even without <code>adapter</code> object if your viewHolder is an Inner class and <code>update()</code> is getting called on some action . Whats the issue you are facing ?"}, {"owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1563278221, "post_id": 57056380, "comment_id": 100639088, "body": "@ADM I don&#39;t like pass adapter to inner view holder."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1563278273, "post_id": 57056380, "comment_id": 100639114, "body": "You don&#39;t Have to .. Just let <code>ItemViewHolder</code> be a Inner Class of Adapter class."}], "answers": [{"tags": [], "owner": {"reputation": 1572, "user_id": 445877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93efa37f5b47aad32eb35984eb5cfe04?s=128&d=identicon&r=PG", "display_name": "Alex Hart", "link": "https://stackoverflow.com/users/445877/alex-hart"}, "is_accepted": false, "score": 5, "last_activity_date": 1563281540, "creation_date": 1563281540, "answer_id": 57057719, "question_id": 57056380, "link": "https://stackoverflow.com/questions/57056380/notifydatasetchanged-in-viewholder-class/57057719#57057719", "title": "notifyDataSetChanged in viewHolder class", "body": "<p>Turning your <code>class</code> into an <code>inner class</code> is certainly one approach.  I would also consider handing your <code>ViewHolder</code> a reference to a <code>Listener</code> or <code>Callback</code> interface that you come up with (or a set of functions) as well.  This would make refactoring easier, if you ever decided to move your ViewHolder to a different file or outside of your adapter otherwise.  It also better respects the Single Responsibility Principle, as we remove data-management from our ViewHolder and let that happen elsewhere.</p>\n\n<p>For example:</p>\n\n<pre><code>class ViewHolder(\n    private itemView: View\n    private val onDataSetChanged: () -&gt; Unit\n) : RecyclerView.ViewHolder(itemView) {\n\n    fun onUpdate() {\n        // Perform changes...\n        onDataSetChanged()\n    }\n\n}\n</code></pre>\n\n<p>It is a bit strange to me though that a ViewHolder would be manipulating data items like this.  Generally, these only hold onto the item's positional information and view-state, not the item itself.  Another approach might be to pass positional information to the update lambda:</p>\n\n<pre><code>class ViewHolder(\n    private itemView: View\n    private val onDataSetChanged: (Int) -&gt; Unit\n) : RecyclerView.ViewHolder(itemView) {\n\n    fun onShouldUpdate() {\n        if (adapterPosition == RecyclerView.NO_POSITION) return\n        onDataSetChanged(adapterPosition)\n    }\n\n}\n</code></pre>\n\n<p>And then handle that update elsewhere.  For example, in either the Adapter, or the ViewModel logic:</p>\n\n<pre><code>fun onCreateViewHolder(...) {\n    val viewHolder = ViewHolder(...) { /* do update */ }\n}\n</code></pre>\n\n<p>This leaves us at a point where now the Adapter is responsible for both mapping data to views as well as managing that data's state... and that's not very clean.</p>\n\n<p>Here's how I like to do it:</p>\n\n<pre><code>class Adapter(private val updateItem: (Item) -&gt; Unit) {\n    fun onCreateViewHolder(...) {\n        return ViewHolder(...) { updateItem(items[it]) }\n    }\n}\n</code></pre>\n\n<p>Where we handle data manipulations in a more reasonable place. Here:</p>\n\n<ol>\n<li>The ViewHolder maps a click or update event to the position of the item it is holding</li>\n<li>The Adapter maps a position to an actual data item</li>\n<li>The Presentation object (such as an Architecture Components ViewModel) (whomever provides the lambda to the adapter) performs the manipulation. (More on this coming below)</li>\n</ol>\n\n<p>In this case, your notifyDataSetChanged would be handled instead by the presenter then feeding back into the Adapter.  Perhaps, for example, you have a method on Adapter called <code>setData(items: List&lt;Item&gt;)</code>.  When a new list of items is available, the presenter notifies the adapter, which sets the items:</p>\n\n<pre><code>// In your adapter\nfun setData(newItems: List&lt;Item&gt;) {\n    val oldItems = items\n    items = newItems\n    notifyDataSetChanged()\n    // Alternatively, utilize DiffUtil\n}\n</code></pre>\n\n<p>Your ViewModel could then expose an observable field, perhaps utilizing <code>LiveData</code>.</p>\n\n<pre><code>class MyViewModel : ViewModel() {\n    val items: LiveData&lt;List&lt;Item&gt;&gt;\n    fun updateItem(item: Item) { ... }\n}\n</code></pre>\n\n<p>Your Activity, where you set up your adapter, could then observe changes to this:</p>\n\n<pre><code>val adapter = Adapter(viewModel::updateItem)\n\n// Note you could probably use a method reference instead of a lambda.\nviewModel.items.observe(this) { adapter.setItems(it) }\n</code></pre>\n\n<p>I hope that sort of helps to outline the approach.  I could talk all day about this, so feel free to ask any questions about this.  The idea here is that we're clearly separating our concerns (SRP), removing the need to hand the entire adapter to the ViewHolder (ISP), and leveraging lambdas to make sure we're not directly depending on things we don't need to be (DIP).</p>\n"}], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1393, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563281540, "creation_date": 1563277061, "last_edit_date": 1563277922, "question_id": 57056380, "link": "https://stackoverflow.com/questions/57056380/notifydatasetchanged-in-viewholder-class", "title": "notifyDataSetChanged in viewHolder class", "body": "<p>Can I use notifyDataSetChanged() in view Holder?</p>\n\n<pre><code>class ItemViewHolder(context: Context?, view: View) : RecyclerView.ViewHolder(view) {\n\n       func update(){\n           // ...\n           // i need to update adapter for example\n           adapter.notifyDataSetChanged()\n       }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "edited": false, "score": 0, "creation_date": 1563277644, "post_id": 57056193, "comment_id": 100638761, "body": "Did you try calling it without parenthesis? like <code>response.errorResponse</code>"}, {"owner": {"reputation": 1227, "user_id": 8164968, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/c76845207f72226c13e5546f8ddff26c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8164968/alex"}, "reply_to_user": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "edited": false, "score": 0, "creation_date": 1563277791, "post_id": 57056193, "comment_id": 100638837, "body": "@SaeedEntezari Yes, but get same error"}], "answers": [{"tags": [], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "is_accepted": true, "score": 2, "last_activity_date": 1563277190, "creation_date": 1563277190, "answer_id": 57056410, "question_id": 57056193, "link": "https://stackoverflow.com/questions/57056193/cant-call-kotlins-extension-property-from-java/57056410#57056410", "title": "Can&#39;t call Kotlin&#39;s extension property from java", "body": "<p>Kotlin compiles extension properties into static methods. Here's an example extending the <code>String</code> class in a file called <code>StringUtils.kt</code>:</p>\n\n<pre><code>val String.greeting\n  get() = \"hello $this\"\n</code></pre>\n\n<p>So a very simple method that when called in kotlin like <code>\"fred\".greeting</code> will return <code>hello fred</code>.</p>\n\n<p>If you check the kotlin byte code and decompile it in the IDE, you can see that the result is something similar to:</p>\n\n<pre><code>public final class StringUtilsKt {\n @NotNull\n public static final String getGreeting(@NotNull String $this$greeting) {\n  Intrinsics.checkParameterIsNotNull($this$greeting, \"$this$greeting\");\n  return \"hello \" + $this$greeting;\n }\n}\n</code></pre>\n\n<p>A static method in a class <code>StringUtilsKt</code>. This means you can simply call this from java like <code>StringUtilsKt.getGreeting(\"fred\")</code> and it will result in the same output.</p>\n\n<p>PS: This is very similar to extension functions. They are also compiled into static methods, but the name usually doesn't change.</p>\n"}, {"tags": [], "owner": {"reputation": 1227, "user_id": 8164968, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/c76845207f72226c13e5546f8ddff26c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8164968/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1563278045, "creation_date": 1563278045, "answer_id": 57056650, "question_id": 57056193, "link": "https://stackoverflow.com/questions/57056193/cant-call-kotlins-extension-property-from-java/57056650#57056650", "title": "Can&#39;t call Kotlin&#39;s extension property from java", "body": "<p>After decompile Kotlin's byte code I get this:</p>\n\n<pre><code>   @NotNull\n   public final ErrorResponse getErrorResponse(@NotNull Response $this$errorResponse) {\n      Intrinsics.checkParameterIsNotNull($this$errorResponse, \"$this$errorResponse\");\n      ErrorResponse var10000 = ErrorUtils.parseError($this$errorResponse);\n      Intrinsics.checkExpressionValueIsNotNull(var10000, \"ErrorUtils.parseError(this)\");\n      return var10000;\n   }\n</code></pre>\n\n<p>so from Java I can call like this:</p>\n\n<pre><code>@Override\n    public void onTangoResponse(@NotNull Response&lt;?&gt; response) {\n        boolean isSuccessful = response.isSuccessful();\n        if (isSuccessful) { // code &gt;= 200 &amp;&amp; code &lt; 300;\n        } else {\n            ErrorResponse errorResponse = getErrorResponse(response);\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 1227, "user_id": 8164968, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/c76845207f72226c13e5546f8ddff26c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8164968/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 57056410, "answer_count": 2, "score": 0, "last_activity_date": 1563278045, "creation_date": 1563276393, "question_id": 57056193, "link": "https://stackoverflow.com/questions/57056193/cant-call-kotlins-extension-property-from-java", "title": "Can&#39;t call Kotlin&#39;s extension property from java", "body": "<p>Android Studio 3.4</p>\n\n<p>Here my kotlin class:</p>\n\n<pre><code>open class DefaultRestClientCallback&lt;T&gt; : Callback&lt;T&gt; {\n\n    val Response&lt;*&gt;.errorResponse: ErrorResponse\n        get() = ErrorUtils.parseError(this)\n\n\n\n    override fun onResponse(call: Call&lt;T&gt;, response: Response&lt;T&gt;) {\n</code></pre>\n\n<p>as you can see here I has property extension:</p>\n\n<pre><code>errorResponse\n</code></pre>\n\n<p>From another Kotlin class (Test.kt) I call this like this:</p>\n\n<pre><code>class Test {\n\n\n    fun test() {\n        TransportService.login(\"email\",\n            \"pass\", object : DefaultRestClientCallback&lt;JsonElement&gt;() {\n\n                override fun onTangoResponse(response: Response&lt;*&gt;) {\n                    val isSuccessful = response.isSuccessful\n                    if (isSuccessful) { // code &gt;= 200 &amp;&amp; code &lt; 300;\n                    } else {\n                        val errorResponse = response.errorResponse\n                    }\n                }\n            })\n    }\n}\n</code></pre>\n\n<p>Nice it's work fine.</p>\n\n<p>Now I need to call extension property from java file (<strong>which I'm not able to convert to Kotlin for now</strong>).\nI try this:</p>\n\n<pre><code>TransportService.login(\"email\", \"pass\", new DefaultRestClientCallback&lt;JsonElement&gt;() {\n\n    @Override\n    public void onTangoResponse(@NotNull Response&lt;?&gt; response) {\n        boolean isSuccessful = response.isSuccessful();\n        if (isSuccessful) { // code &gt;= 200 &amp;&amp; code &lt; 300;\n        } else {\n            ErrorResponse errorResponse = response.errorResponse();\n        }\n    }\n});\n</code></pre>\n\n<p>}</p>\n\n<p>But I get compile error in this line:</p>\n\n<pre><code> ErrorResponse errorResponse = response.errorResponse();\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>Cannot resolve method 'errorResponse()'\n</code></pre>\n"}, {"tags": ["android", "url", "kotlin", "android-asynctask", "android-drawable"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1563276514, "post_id": 57056072, "comment_id": 100638198, "body": "Why don&#39;t you use <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\"><code>Glide</code></a>?"}, {"owner": {"reputation": 1207, "user_id": 6671004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bueJ3.jpg?s=128&g=1", "display_name": "Shrey Garg", "link": "https://stackoverflow.com/users/6671004/shrey-garg"}, "edited": false, "score": 0, "creation_date": 1563277686, "post_id": 57056072, "comment_id": 100638784, "body": "You would surely have to use <code>executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, url)</code> instead of <code>execute(url)</code> for your expected result."}, {"owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "reply_to_user": {"reputation": 1207, "user_id": 6671004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bueJ3.jpg?s=128&g=1", "display_name": "Shrey Garg", "link": "https://stackoverflow.com/users/6671004/shrey-garg"}, "edited": false, "score": 0, "creation_date": 1563278021, "post_id": 57056072, "comment_id": 100638977, "body": "@ShreyGarg You mean as I have stated at the end of my question? ;) Sadly this didn&#39;t work either"}, {"owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1563278080, "post_id": 57056072, "comment_id": 100639015, "body": "@NileshRathod Well, Im currently looking for alternatives like that, so thanks for the suggestion, but Id still like to know why what I did didn&#39;t work."}, {"owner": {"reputation": 1207, "user_id": 6671004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bueJ3.jpg?s=128&g=1", "display_name": "Shrey Garg", "link": "https://stackoverflow.com/users/6671004/shrey-garg"}, "edited": false, "score": 0, "creation_date": 1563278279, "post_id": 57056072, "comment_id": 100639118, "body": "I did read that line in the question, but still mentioned so that you don&#39;t waste time trying to use <code>execute(url)</code>. I suspect the images are small and are getting downloaded rapidly before the next call. Try adding delay in <code>doInBackground()</code> for testing."}], "owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1597837215, "creation_date": 1563275943, "last_edit_date": 1597837215, "question_id": 57056072, "link": "https://stackoverflow.com/questions/57056072/how-to-get-drawable-from-url-async", "title": "How to get Drawable from URL Async", "body": "<p>I have the following function and AsyncTask:</p>\n<pre><code>fun downloadBitmapTask(url: String, postExecute: (Drawable) -&gt; Unit) {\n    DownloadBitmapTask(0, postExecute).execute(url)\n}\n\nclass DownloadBitmapTask(private val triesCount: Int, private val postExecute: (Drawable) -&gt; Unit) : AsyncTask&lt;String, Unit, Drawable?&gt;() {\n    override fun doInBackground(vararg urls: String): Drawable? {\n        val url = urls[0].replaceFirst(Regex(&quot;http[^s]&quot;), &quot;https:&quot;)\n        Log.d(&quot;DownloadBitmapTask&quot;, &quot;StartedDownload #$triesCount - $url&quot;)\n\n        return try {\n            val inputStream = URL(url).content as InputStream\n            Drawable.createFromStream(inputStream, url)\n        } catch (e: Exception) {\n            Log.d(&quot;DownloadBitmapTask&quot;, &quot;${e.message} - $url&quot;)\n            if(triesCount != 3) {\n                Thread.sleep(1000)\n                DownloadBitmapTask(triesCount + 1, postExecute ).execute(url)\n            }\n            null\n        } finally {\n            Log.d(&quot;DownloadBitmapTask&quot;, &quot;finished - $url&quot;)\n        }\n    }\n\n    override fun onPostExecute(result: Drawable?) {\n        if(result == null)\n            Log.d(&quot;DownloadBitmapTask&quot;, &quot;RESULT NULL&quot;)\n        result?.let{postExecute.invoke(it)}\n    }\n}\n</code></pre>\n<p>I would expect my output to look like this:</p>\n<pre><code>D/DownloadBitmapTask: StartedDownload #0 - https://www.hotflick.net/flicks/2007_Rush_Hour_3/tn300/007RH3_Oanh_Nguyen_001.jpg\nD/DownloadBitmapTask: StartedDownload #0 - https://robocup-mediterranean-open.org/img/276511.png\nD/DownloadBitmapTask: StartedDownload #0 - https://i.imgur.com/Te2KxTM.jpg\nD/DownloadBitmapTask: StartedDownload #0 - https://vignette.wikia.nocookie.net/spongebob/images/f/f0/Smitty.jpg/revision/latest?cb=20160213220608\nD/DownloadBitmapTask: StartedDownload #0 - https://www.dccomics.com/sites/default/files/styles/comics320x485/public/Char_Thumb_Batman_20190116_5c3fc4b40fae42.85141247.jpg?itok=_Or1JrO2\nD/DownloadBitmapTask: finished - https://www.hotflick.net/flicks/2007_Rush_Hour_3/tn300/007RH3_Oanh_Nguyen_001.jpg\nD/DownloadBitmapTask: finished - https://robocup-mediterranean-open.org/img/276511.png\nD/DownloadBitmapTask: finished - https://i.imgur.com/Te2KxTM.jpg\nD/DownloadBitmapTask: finished - https://vignette.wikia.nocookie.net/spongebob/images/f/f0/Smitty.jpg/revision/latest?cb=20160213220608\nD/DownloadBitmapTask: finished - https://www.dccomics.com/sites/default/files/styles/comics320x485/public/Char_Thumb_Batman_20190116_5c3fc4b40fae42.85141247.jpg?itok=_Or1JrO2\n</code></pre>\n<p>But instead it looks like this:</p>\n<pre><code>D/DownloadBitmapTask: StartedDownload #0 - https://www.hotflick.net/flicks/2007_Rush_Hour_3/tn300/007RH3_Oanh_Nguyen_001.jpg\nD/DownloadBitmapTask: finished - https://www.hotflick.net/flicks/2007_Rush_Hour_3/tn300/007RH3_Oanh_Nguyen_001.jpg\nD/DownloadBitmapTask: StartedDownload #0 - https://robocup-mediterranean-open.org/img/276511.png\nD/DownloadBitmapTask: finished - https://robocup-mediterranean-open.org/img/276511.png\nD/DownloadBitmapTask: StartedDownload #0 - https://i.imgur.com/Te2KxTM.jpg\nD/DownloadBitmapTask: finished - https://i.imgur.com/Te2KxTM.jpg\nD/DownloadBitmapTask: StartedDownload #0 - https://vignette.wikia.nocookie.net/spongebob/images/f/f0/Smitty.jpg/revision/latest?cb=20160213220608\nD/DownloadBitmapTask: finished - https://vignette.wikia.nocookie.net/spongebob/images/f/f0/Smitty.jpg/revision/latest?cb=20160213220608\nD/DownloadBitmapTask: StartedDownload #0 - https://www.dccomics.com/sites/default/files/styles/comics320x485/public/Char_Thumb_Batman_20190116_5c3fc4b40fae42.85141247.jpg?itok=_Or1JrO2\nD/DownloadBitmapTask: finished - https://www.dccomics.com/sites/default/files/styles/comics320x485/public/Char_Thumb_Batman_20190116_5c3fc4b40fae42.85141247.jpg?itok=_Or1JrO2\n</code></pre>\n<p>It seems to me like, for some reason, AsyncTasks are not really called Async here, but I don't understand why.\nNote, he same happens when I use <code>executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, url)</code> instead of <code>execute(url)</code>.</p>\n<p>Note also: this only happens when I use the Pixel 3a. When I use the Samsung Galaxy S7, it seems to work as expected.</p>\n<p>Any idea as to why this happens and how to avoid it?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "dagger-2"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1563274912, "post_id": 57055484, "comment_id": 100637263, "body": "remove <code>.java</code>  , that should work i guess"}, {"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "reply_to_user": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1563275015, "post_id": 57055484, "comment_id": 100637314, "body": "If i remove <code>.java</code> we will get error  Type mismatch.` <code>Required: Class&lt;TypeVariable(T)!&gt; Found: KClass&lt;KtMoviesAppDatabase&gt;</code>"}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1563275283, "post_id": 57055484, "comment_id": 100637475, "body": "What is <code>MoviesAppDatabase</code> ? , also  sorry <code>.java</code> is needed there"}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1563275443, "post_id": 57055484, "comment_id": 100637577, "body": "Your return statement should return a <code>KtMoviesAppDatabase</code> but you are taking it as <code>MoviesAppDatabase</code>"}, {"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "reply_to_user": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1563276017, "post_id": 57055484, "comment_id": 100637901, "body": "@ManoharReddy ... I made some changes ....Please check the edit"}, {"owner": {"reputation": 468, "user_id": 907404, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c7e5635f552972fbb6a7c18655418864?s=128&d=identicon&r=PG", "display_name": "SadClown", "link": "https://stackoverflow.com/users/907404/sadclown"}, "edited": false, "score": 0, "creation_date": 1563276296, "post_id": 57055484, "comment_id": 100638065, "body": "Wild guess, but try removing &quot;&lt;KtMoviesAppDatabase&gt;&quot; part from &quot;Room.databaseBuilder&lt;KtMoviesAppDatabase&gt;&quot;. It should work without it, since compiler sees from method&#39;s return type what should be got there."}, {"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "reply_to_user": {"reputation": 468, "user_id": 907404, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c7e5635f552972fbb6a7c18655418864?s=128&d=identicon&r=PG", "display_name": "SadClown", "link": "https://stackoverflow.com/users/907404/sadclown"}, "edited": false, "score": 0, "creation_date": 1563276559, "post_id": 57055484, "comment_id": 100638224, "body": "@SadClown ...would get the error as <code>Type expected</code>"}], "answers": [{"tags": [], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "is_accepted": false, "score": 1, "last_activity_date": 1563277809, "creation_date": 1563277809, "answer_id": 57056577, "question_id": 57055484, "link": "https://stackoverflow.com/questions/57055484/unresolved-reference-displaying-in-kotlin-android/57056577#57056577", "title": "Unresolved reference displaying in kotlin android", "body": "<p>Very Silly mistake since I had not added proper dependencies</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.core:core-ktx:1.0.2'\n</code></pre>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1563277809, "creation_date": 1563273925, "last_edit_date": 1563275990, "question_id": 57055484, "link": "https://stackoverflow.com/questions/57055484/unresolved-reference-displaying-in-kotlin-android", "title": "Unresolved reference displaying in kotlin android", "body": "<p>I am using <code>room persistence library</code> and <code>dagger</code> </p>\n\n<p><strong>RoomModule.kt</strong></p>\n\n<pre><code>@Module\nclass RoomModule {\n\n    @Provides\n    @Singleton\n    internal fun provideMoviesAppDatabase(application: Application): MoviesAppDatabase {\n        return Room.databaseBuilder&lt;MoviesAppDatabase&gt;(application, KtMoviesAppDatabase::class.java, Keys.DATABASE_NAME)\n                .addCallback(object : RoomDatabase.Callback() {\n                    override fun onCreate(db: SupportSQLiteDatabase) {}\n                    override fun onOpen(db: SupportSQLiteDatabase) {}\n                })\n                .build()\n    }\n\n}\n</code></pre>\n\n<p><strong>KtMoviesAppDatabase.kt</strong></p>\n\n<pre><code>@Database(entities = [Movie::class], version = 1)\nabstract class KtMoviesAppDatabase : RoomDatabase() {\n    abstract fun getMovieDAO(): MovieDAO\n}\n</code></pre>\n\n<p><strong>Error I am getting:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Bgu91.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bgu91.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h2>{EDIT}</h2>\n\n<p>I made some changes </p>\n\n<pre><code>@Module\nclass RoomModule {\n\n    @Provides\n    @Singleton\n    internal fun provideMoviesAppDatabase(application: Application): KtMoviesAppDatabase {\n        return Room.databaseBuilder&lt;KtMoviesAppDatabase&gt;(application, KtMoviesAppDatabase::class.java, Keys.DATABASE_NAME)\n                .addCallback(object : RoomDatabase.Callback() {\n                    override fun onCreate(db: SupportSQLiteDatabase) {}\n                    override fun onOpen(db: SupportSQLiteDatabase) {}\n                })\n                .build()\n    }\n\n}\n</code></pre>\n\n<p><strong>Still I have the error :</strong></p>\n\n<pre><code>Unresolved reference: java\n</code></pre>\n"}, {"tags": ["android", "kotlin", "floating-action-button"], "comments": [{"owner": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "edited": false, "score": 0, "creation_date": 1563274032, "post_id": 57055437, "comment_id": 100636814, "body": "Why use floating button at all? Also try setting elevation to 0."}, {"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 1, "creation_date": 1563274176, "post_id": 57055437, "comment_id": 100636887, "body": "<code>Why use floating button at all?</code> this doesn&#39;t help with the question. <code>Also try setting elevation to 0</code> this doesn&#39;t help either"}, {"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1563274225, "post_id": 57055437, "comment_id": 100636919, "body": "As for why FloatingButton, it&#39;s simply a subclass of <code>ImageButton</code> which provides additional functionality and looks which OP is looking for."}, {"owner": {"reputation": 31, "user_id": 11577141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uge_lETocXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdPIMwpXQBd-ISBOIhEZEKildf0gQ/mo/photo.jpg?sz=128", "display_name": "MimiSoft", "link": "https://stackoverflow.com/users/11577141/mimisoft"}, "edited": false, "score": 0, "creation_date": 1563274433, "post_id": 57055437, "comment_id": 100637027, "body": "should i change it to ImageButton as you propose ?"}, {"owner": {"reputation": 76, "user_id": 11728590, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fKp_Gltn258/AAAAAAAAAAI/AAAAAAAAAIE/czEjbNnD45I/photo.jpg?sz=128", "display_name": "Arun Jose", "link": "https://stackoverflow.com/users/11728590/arun-jose"}, "edited": false, "score": 0, "creation_date": 1563274493, "post_id": 57055437, "comment_id": 100637057, "body": "if you want just a square icon,  use <code>ImageView</code>."}, {"owner": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "reply_to_user": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1563274502, "post_id": 57055437, "comment_id": 100637065, "body": "@Zun It was part of his question before edit, the &quot;why use FB&quot; part."}, {"owner": {"reputation": 31, "user_id": 11577141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uge_lETocXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdPIMwpXQBd-ISBOIhEZEKildf0gQ/mo/photo.jpg?sz=128", "display_name": "MimiSoft", "link": "https://stackoverflow.com/users/11577141/mimisoft"}, "reply_to_user": {"reputation": 76, "user_id": 11728590, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fKp_Gltn258/AAAAAAAAAAI/AAAAAAAAAIE/czEjbNnD45I/photo.jpg?sz=128", "display_name": "Arun Jose", "link": "https://stackoverflow.com/users/11728590/arun-jose"}, "edited": false, "score": 0, "creation_date": 1563274665, "post_id": 57055437, "comment_id": 100637140, "body": "@Arun Jose how to change it to image view  and how to make it in this position like the picture"}, {"owner": {"reputation": 76, "user_id": 11728590, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fKp_Gltn258/AAAAAAAAAAI/AAAAAAAAAIE/czEjbNnD45I/photo.jpg?sz=128", "display_name": "Arun Jose", "link": "https://stackoverflow.com/users/11728590/arun-jose"}, "edited": false, "score": 0, "creation_date": 1563278236, "post_id": 57055437, "comment_id": 100639096, "body": "check the answer given below"}], "answers": [{"tags": [], "owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "is_accepted": false, "score": 0, "last_activity_date": 1563275297, "creation_date": 1563275297, "answer_id": 57055866, "question_id": 57055437, "link": "https://stackoverflow.com/questions/57055437/how-to-set-an-imageview-in-the-corner-of-card-view/57055866#57055866", "title": "How to set an imageview in the corner of card view", "body": "<p>Below is solution</p>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;android.support.design.widget.FloatingActionButton\n        android:layout_width=\"64dp\"\n        android:layout_height=\"64dp\"\n        android:layout_margin=\"16dp\"\n        android:background=\"@null\"\n        android:src=\"@drawable/square\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>square.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shape=\"rectangle\"&gt;\n\n    &lt;solid android:color=\"@color/colorPrimary\" /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n\n<p>As you see above code you just try to add android:background=\"@null\" in your floating action button to remove background.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 11577141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uge_lETocXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdPIMwpXQBd-ISBOIhEZEKildf0gQ/mo/photo.jpg?sz=128", "display_name": "MimiSoft", "link": "https://stackoverflow.com/users/11577141/mimisoft"}, "edited": false, "score": 0, "creation_date": 1563278761, "post_id": 57056694, "comment_id": 100639359, "body": "It&#39;s a very good response, but i want to put the image view in the corner of cardview., not all the imageview inside the cardview. Like the image above."}, {"owner": {"reputation": 31, "user_id": 11577141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uge_lETocXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdPIMwpXQBd-ISBOIhEZEKildf0gQ/mo/photo.jpg?sz=128", "display_name": "MimiSoft", "link": "https://stackoverflow.com/users/11577141/mimisoft"}, "edited": false, "score": 0, "creation_date": 1563282537, "post_id": 57056694, "comment_id": 100641626, "body": "i change my code as yours, and i put the image above which contains the position of image view.Could you please help me"}, {"owner": {"reputation": 76, "user_id": 11728590, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fKp_Gltn258/AAAAAAAAAAI/AAAAAAAAAIE/czEjbNnD45I/photo.jpg?sz=128", "display_name": "Arun Jose", "link": "https://stackoverflow.com/users/11728590/arun-jose"}, "reply_to_user": {"reputation": 31, "user_id": 11577141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uge_lETocXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdPIMwpXQBd-ISBOIhEZEKildf0gQ/mo/photo.jpg?sz=128", "display_name": "MimiSoft", "link": "https://stackoverflow.com/users/11577141/mimisoft"}, "edited": false, "score": 0, "creation_date": 1563282935, "post_id": 57056694, "comment_id": 100641870, "body": "give some <code>marginTop</code> as some negative value. <code>marginTop = -30dp</code>"}], "tags": [], "owner": {"reputation": 76, "user_id": 11728590, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fKp_Gltn258/AAAAAAAAAAI/AAAAAAAAAIE/czEjbNnD45I/photo.jpg?sz=128", "display_name": "Arun Jose", "link": "https://stackoverflow.com/users/11728590/arun-jose"}, "is_accepted": false, "score": 0, "last_activity_date": 1563281740, "last_edit_date": 1563281740, "creation_date": 1563278176, "answer_id": 57056694, "question_id": 57055437, "link": "https://stackoverflow.com/questions/57055437/how-to-set-an-imageview-in-the-corner-of-card-view/57056694#57056694", "title": "How to set an imageview in the corner of card view", "body": "<pre><code>try to add a constraint layout inside cardView.\n\n    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;android.support.constraint.ConstraintLayout\n            xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n        &lt;androidx.cardview.widget.CardView\n                xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                android:id=\"@+id/card_view\"\n                android:layout_width=\"170dp\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"visible\"\n                android:background=\"@color/grey\"\n                android:layout_margin=\"@dimen/spacing_small\"\n                app:cardCornerRadius=\"2dp\"\n                app:cardElevation=\"2dp\"&gt;\n\n            &lt;LinearLayout\n                    android:id=\"@+id/layoutImageProduct\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:orientation=\"vertical\"&gt;\n                &lt;ImageView\n                        android:id=\"@+id/productImage\"\n                        android:layout_width=\"fill_parent\"\n                        android:layout_height=\"100dp\"\n                        android:scaleType=\"fitXY\"\n                        android:adjustViewBounds=\"true\"\n                        android:layout_gravity=\"center\"/&gt;\n                &lt;TextView\n                        android:id=\"@+id/productName\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"left\"\n                        android:textStyle=\"bold\"\n                        android:layout_marginLeft=\"@dimen/spacing_medium\"\n                        android:fontFamily=\"@font/lato_regular\"\n                        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n                        android:textColor=\"@color/black\"/&gt;\n                &lt;TextView\n                        android:id=\"@+id/productDescription\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"left\"\n                        android:layout_marginLeft=\"@dimen/spacing_medium\"\n                        android:fontFamily=\"@font/lato_regular\"\n                        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n                        android:textColor=\"@color/black\"/&gt;\n                &lt;TextView\n                        android:id=\"@+id/productPrice\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"left\"\n                        android:layout_marginLeft=\"@dimen/spacing_medium\"\n                        android:fontFamily=\"@font/lato_regular\"\n                        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n                        android:textColor=\"@color/grey_60\"/&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n            &lt;ImageView\n                android:layout_width=\"24dp\"\n                android:layout_height=\"24dp\"\n                android:src=\"@drawable/ic_basket\"\n                android:tint=\"@color/black\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"parent\"/&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11577141, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uge_lETocXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdPIMwpXQBd-ISBOIhEZEKildf0gQ/mo/photo.jpg?sz=128", "display_name": "MimiSoft", "link": "https://stackoverflow.com/users/11577141/mimisoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 547, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1563281740, "creation_date": 1563273774, "last_edit_date": 1563281028, "question_id": 57055437, "link": "https://stackoverflow.com/questions/57055437/how-to-set-an-imageview-in-the-corner-of-card-view", "title": "How to set an imageview in the corner of card view", "body": "<p>In my android app with kotin, in one of my interface, a recyclerview that contains a grid of cardview. In evrey items in the grid, i want to make an imageview in he corner of the cardview . \nThe following code is belong to the item : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n    &lt;androidx.cardview.widget.CardView\n            xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:id=\"@+id/card_view\"\n            android:layout_width=\"170dp\"\n            android:layout_height=\"wrap_content\"\n            android:visibility=\"visible\"\n            android:background=\"@color/grey\"\n            android:layout_margin=\"@dimen/spacing_small\"\n            app:cardCornerRadius=\"2dp\"\n            app:cardElevation=\"2dp\"&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"&gt;\n\n            &lt;LinearLayout\n                    android:id=\"@+id/layoutImageProduct\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:orientation=\"vertical\"\n                    tools:ignore=\"MissingConstraints\"&gt;\n                &lt;ImageView\n                        android:id=\"@+id/productImage\"\n                        android:layout_width=\"fill_parent\"\n                        android:layout_height=\"100dp\"\n                        android:scaleType=\"fitXY\"\n                        android:adjustViewBounds=\"true\"\n                        android:layout_gravity=\"center\"/&gt;\n                &lt;TextView\n                        android:id=\"@+id/productName\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"left\"\n                        android:textStyle=\"bold\"\n                        android:layout_marginLeft=\"@dimen/spacing_medium\"\n                        android:fontFamily=\"@font/lato_regular\"\n                        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n                        android:textColor=\"@color/black\"/&gt;\n                &lt;TextView\n                        android:id=\"@+id/productDescription\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"left\"\n                        android:layout_marginLeft=\"@dimen/spacing_medium\"\n                        android:fontFamily=\"@font/lato_regular\"\n                        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n                        android:textColor=\"@color/black\"/&gt;\n                &lt;TextView\n                        android:id=\"@+id/productPrice\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"left\"\n                        android:layout_marginLeft=\"@dimen/spacing_medium\"\n                        android:fontFamily=\"@font/lato_regular\"\n                        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n                        android:textColor=\"@color/grey_60\"/&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;ImageView\n                    android:layout_width=\"24dp\"\n                    android:layout_height=\"24dp\"\n                    android:src=\"@drawable/basket_ic\"\n                    app:layout_constraintRight_toRightOf=\"parent\"\n                    app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>I want to put my imageview as the following image, what should i change in my code to get this result\n<a href=\"https://i.stack.imgur.com/NpsZ1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["kotlin", "rx-java", "kotlin-coroutines", "kotlinx.coroutines.channels"], "answers": [{"comments": [{"owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "edited": false, "score": 0, "creation_date": 1563351778, "post_id": 57060030, "comment_id": 100666860, "body": "Thank you for the answer but I&#39;m afraid I&#39;m referring to dispose(), not doOnDispose(). I can&#39;t find documentation, but you can see it being overridden here: <a href=\"https://github.com/JakeWharton/RxBinding/blob/master/rxbinding/src/main/java/com/jakewharton/rxbinding3/view/ViewClickObservable.kt#L54\" rel=\"nofollow noreferrer\">github.com/JakeWharton/RxBinding/blob/master/rxbinding/src/m&zwnj;&#8203;ain/&hellip;</a>  That link also shows a use-case similar to mine."}, {"owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "edited": false, "score": 0, "creation_date": 1563354258, "post_id": 57060030, "comment_id": 100668174, "body": "I missed the invokeOnClose() comment below. That seems to operate in a similar way, but not in the way I&#39;m expecting. Once I have reproducible code I&#39;ll probably log a new question"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 2, "last_activity_date": 1563288594, "creation_date": 1563288594, "answer_id": 57060030, "question_id": 57055005, "link": "https://stackoverflow.com/questions/57055005/is-there-a-kotlin-coroutines-channel-equivalent-of-rxjavas-ondispose/57060030#57060030", "title": "Is there a Kotlin Coroutines Channel equivalent of RxJava&#39;s onDispose?", "body": "<p>I assume you talking about <code>doOnDispose</code> in RxJava. In this case you are sending elements to the channel and would like to know when the downstream had <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.channels/-receive-channel/cancel.html\" rel=\"nofollow noreferrer\">cancelled</a> the channel. If you structure your producing code in a single function, then you can simply use <code>try/finally</code>:</p>\n\n<pre><code>val channel = produce { \n    // channel producing code is here\n    try {\n        // this example is sending 10 ints, but it can be any other code\n        repeat(10) { send(it) }\n    } finally {\n        // doOnDispose here!\n    }\n}\n</code></pre>\n\n<p>If your sending code is spread-out and you'd like to receive a cancellation <em>callback</em> then you can use <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.channels/-send-channel/invoke-on-close.html\" rel=\"nofollow noreferrer\">SendChannel.invokeOnClose</a></p>\n"}], "owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563288594, "creation_date": 1563272167, "question_id": 57055005, "link": "https://stackoverflow.com/questions/57055005/is-there-a-kotlin-coroutines-channel-equivalent-of-rxjavas-ondispose", "title": "Is there a Kotlin Coroutines Channel equivalent of RxJava&#39;s onDispose?", "body": "<p>If I extend an <code>Observable&lt;&gt;</code> in RxJava, I can override <code>OnDispose()</code>, and perform cleaning up such as clearing things for the Garbage Collector.</p>\n\n<p><code>OnDispose()</code> is called whenever any subscription to this <code>Observable&lt;&gt;</code> is disposed of.</p>\n\n<p>However, I can't seem to find anything equivalent for Coroutine Channels.</p>\n\n<p>I am aware of channel.close(), but that is not the same.</p>\n\n<p>Is there some way to propagate either</p>\n\n<ul>\n<li>suspended coroutine cancellation to the Channel; or</li>\n<li>subscription disposal/cancellation to the Channel?</li>\n</ul>\n"}, {"tags": ["android", "kotlin", "android-edittext", "focus", "android-nestedscrollview"], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1563271727, "creation_date": 1563271252, "last_edit_date": 1563271727, "question_id": 57054714, "link": "https://stackoverflow.com/questions/57054714/kotlin-nestedscrollview-gets-stuck-when-an-edittext-is-focused", "title": "Kotlin - NestedScrollView gets stuck when an editText is focused", "body": "<p>I have a <code>NestedScrollView</code> with multiple <code>editTexts</code>. When I have an <code>editText</code> focused, it just doesn't let make scroll around the activity, because the <code>editText</code> just gets stuck on the limit of the frame (top or bottom, depending on the direction I'd make scroll). I get a solution for it, but it gets me on a new problem: sometimes <code>editTexts</code> gets unfocused because android automatically scrolls to them whenever I touched. So I have to click again to recover the focus. Here's the code for this semi-solution:</p>\n\n<pre><code>private fun scrollChangeListener() {\n     editText16.clearFocus()\n}\n</code></pre>\n\n<p>I don't think it matters, but here is the code of <code>nesteScrollView</code> and one of the <code>editTexts</code>:</p>\n\n<p>NestedScrollView:</p>\n\n<pre><code>&lt;androidx.core.widget.NestedScrollView\n        android:id=\"@+id/scroll\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n</code></pre>\n\n<p>EditText:</p>\n\n<pre><code>&lt;EditText\n      android:id=\"@+id/editText16\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"40dp\"\n      android:inputType=\"numberDecimal|textNoSuggestions\"\n      android:maxLength=\"4\"\n      android:imeOptions=\"actionNext\"\n    /&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "edited": false, "score": 0, "creation_date": 1563270201, "post_id": 57054245, "comment_id": 100634850, "body": "cant understant your question . does this  <code>I need to show the message from response</code>  means. <code>login.MESSAGE</code> ? what it has to do with <code>IllegalStateException</code>"}, {"owner": {"reputation": 55, "user_id": 6927118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6803f7b6cff1815556de7767f5f982a0?s=128&d=identicon&r=PG&f=1", "display_name": "Iganov", "link": "https://stackoverflow.com/users/6927118/iganov"}, "reply_to_user": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "edited": false, "score": 0, "creation_date": 1563270434, "post_id": 57054245, "comment_id": 100634950, "body": "yes, that&#39;s true I need to show login. message whether JSON response is complete or not. But retrofit assume it as an error then it throws IllegalStateException and I can&#39;t get anything from JSON response except the error"}, {"owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "edited": false, "score": 0, "creation_date": 1563270629, "post_id": 57054245, "comment_id": 100635053, "body": "I think your issue is  <code>JSONObject</code>  and <code>JSONArray</code>  . when you receive error your parsing failed because of empty <code>JSONArray</code>"}, {"owner": {"reputation": 55, "user_id": 6927118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6803f7b6cff1815556de7767f5f982a0?s=128&d=identicon&r=PG&f=1", "display_name": "Iganov", "link": "https://stackoverflow.com/users/6927118/iganov"}, "reply_to_user": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "edited": false, "score": 0, "creation_date": 1563272638, "post_id": 57054245, "comment_id": 100636124, "body": "yes I know it, I just need how to keep show login. message whether the response is an error or not. but I can&#39;t show it because of error"}], "owner": {"reputation": 55, "user_id": 6927118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6803f7b6cff1815556de7767f5f982a0?s=128&d=identicon&r=PG&f=1", "display_name": "Iganov", "link": "https://stackoverflow.com/users/6927118/iganov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563543776, "creation_date": 1563269716, "last_edit_date": 1563543776, "question_id": 57054245, "link": "https://stackoverflow.com/questions/57054245/how-to-handling-illegalstateexception-in-rxjava-and-kotlin", "title": "How to handling IllegalStateException in rxjava and kotlin?", "body": "<p>I'm making an application using rxjava and kotlin. I understand how it works but I have a problem with the handling error problem. I need to handle IllegalStateException in case the response is failed. The complete JSON response is like this :\n<a href=\"https://i.stack.imgur.com/Jlkgy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jlkgy.png\" alt=\"enter image description here\"></a></p>\n\n<p>but if I input a wrong phone number or wrong password the response is like this :\n<a href=\"https://i.stack.imgur.com/9v3Of.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9v3Of.png\" alt=\"enter image description here\"></a></p>\n\n<p>I alreay made a class ErrorHandler to get an error and process it. this is how i call the response :</p>\n\n<pre><code> disposables.add(endPointServices.login(map)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe({\n                login -&gt;\n            if(!login.sTATUS.toString().equals(AppConstant.FAILED))\n            {\n                status200(login)\n                view?.moveActivity()\n            }\n            else\n            {\n                view?.setMessage(login.mESSAGE.toString())\n            }\n        }, {t: Throwable? -&gt;\n                ErrorHandler.handlerErrorPresenter(getView(),t!!)\n        }\n        )\n    )\n</code></pre>\n\n<p>But I need to show the message from response just in case user type a wrong password or wrong phone number. Anyone can help me? Thank you.</p>\n"}, {"tags": ["kotlin", "junit5", "parametrized-testing"], "answers": [{"comments": [{"owner": {"reputation": 2142, "user_id": 1907924, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00445f02d792570282d6d41a51ff0ec8?s=128&d=identicon&r=PG", "display_name": "Dcortez", "link": "https://stackoverflow.com/users/1907924/dcortez"}, "edited": false, "score": 0, "creation_date": 1563276251, "post_id": 57054976, "comment_id": 100638043, "body": "I knew that you could reference function from another class that way, but didn&#39;t think it works the same with functions outside of a class."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 6, "last_activity_date": 1563275279, "last_edit_date": 1563275279, "creation_date": 1563272081, "answer_id": 57054976, "question_id": 57054115, "link": "https://stackoverflow.com/questions/57054115/use-pure-kotlin-function-as-junit5-methodsource/57054976#57054976", "title": "Use pure Kotlin function as Junit5 methodsource", "body": "<p><a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-MethodSource\" rel=\"noreferrer\">JUnit documentation</a> says </p>\n\n<blockquote>\n  <p>An external, static factory method can be referenced by providing its fully qualified method name as demonstrated in the following example.</p>\n</blockquote>\n\n<p>And <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#package-level-functions\" rel=\"noreferrer\">Kotlin documentation</a> says</p>\n\n<blockquote>\n  <p>All the functions and properties declared in a file app.kt inside a package org.example, including extension functions, are compiled into static methods of a Java class named org.example.AppKt.</p>\n</blockquote>\n\n<p>So if the package name is <code>com.test.enums</code> (from the error message), and your file name is <code>GenerationStatusTest.kt</code>, then the generated class containing <code>provideStatusesToTest</code> is <code>com.test.GenerationStatusTestKt</code>, so the annotation you need is</p>\n\n<pre><code>@MethodSource(\"com.test.enums.GenerationStatusTestKt#provideStatusesToTest\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 782, "user_id": 9657183, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OUKg8fgUlSM/AAAAAAAAAAI/AAAAAAAAAN0/LjmhQvBoUsU/photo.jpg?sz=128", "display_name": "Cafer Mert Ceyhan", "link": "https://stackoverflow.com/users/9657183/cafer-mert-ceyhan"}, "is_accepted": false, "score": 5, "last_activity_date": 1600092778, "creation_date": 1600092778, "answer_id": 63886088, "question_id": 57054115, "link": "https://stackoverflow.com/questions/57054115/use-pure-kotlin-function-as-junit5-methodsource/63886088#63886088", "title": "Use pure Kotlin function as Junit5 methodsource", "body": "<p>The best solution is adding <code>@JvmStatic</code> annotation to your provider function.</p>\n<pre><code>class SumTest {\n\n    @ParameterizedTest(name = &quot;{0} + {1} = {2}&quot;)\n    @MethodSource(&quot;sumProvider&quot;)\n    fun sum(a: Int, b: Int, expected: Int) {\n        Truth.assertThat((a + b)).isEqualTo(expected)\n    }\n\n    companion object {\n        @JvmStatic\n        fun sumProvider(): Stream&lt;Arguments&gt; {\n            return Stream.of(\n                    Arguments.of(1, 2, 3),\n                    Arguments.of(5, 10, 15)\n            )\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 11376145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d97d36cb4e8033d1f4a89faa0f8bb3?s=128&d=identicon&r=PG&f=1", "display_name": "Failed", "link": "https://stackoverflow.com/users/11376145/failed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1584, "favorite_count": 1, "accepted_answer_id": 57054976, "answer_count": 2, "score": 3, "last_activity_date": 1600092778, "creation_date": 1563269252, "last_edit_date": 1563272697, "question_id": 57054115, "link": "https://stackoverflow.com/questions/57054115/use-pure-kotlin-function-as-junit5-methodsource", "title": "Use pure Kotlin function as Junit5 methodsource", "body": "<p>I am curious if in the Kotlin, in the parameterized tests in Junit5, i can use the method outside the class as the @MethodSource.</p>\n\n<p>I know about 2 ways to use @MethodSource in Kotlin - companion object and @TestInstance(TestInstance.Lifecycle.PER_CLASS). I wonder if it can be done in a different way, for example by declaring a method outside the class and using some annotation? I tried to do it this way, but it does not work, I wonder if something similar can be done.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class GenerationStatusTest {\n\n    @ParameterizedTest\n    @MethodSource(\"provideStatusesToTest\")\n    internal fun shouldStatusesHaveExpectedAbilities(generationStatus: GenerationStatus, assertions:(GenerationStatus)-&gt;Unit) {\n        assertions(generationStatus)\n    }\n}\n\nfun provideStatusesToTest(): Stream&lt;Arguments&gt; {\n    return Stream.of(\n            Arguments.of(WAITING, canDoNothing),\n            Arguments.of(PROCESSING, canDoNothing)\n    )\n}\n</code></pre>\n\n<pre><code>org.junit.platform.commons.JUnitException: Could not find factory method [provideStatusesToTest] in class [com.test.enums.GenerationStatusTest]\n    at org.junit.jupiter.params.provider.MethodArgumentsProvider.lambda$getMethod$4(MethodArgumentsProvider.java:83)\n</code></pre>\n"}, {"tags": ["kotlin", "constructor", "visibility", "access-modifiers"], "answers": [{"tags": [], "owner": {"reputation": 661, "user_id": 4932065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PWJhM.jpg?s=128&g=1", "display_name": "digiwizkid", "link": "https://stackoverflow.com/users/4932065/digiwizkid"}, "is_accepted": false, "score": 1, "last_activity_date": 1563261731, "creation_date": 1563261731, "answer_id": 57051992, "question_id": 57051932, "link": "https://stackoverflow.com/questions/57051932/what-is-an-usage-of-these-things-in-kotlin/57051992#57051992", "title": "What is an usage of these things in Kotlin?", "body": "<p>This is same as Java private constructor, you can instantiate the class by using companion object methods.</p>\n\n<pre><code>class Foo private constructor(val someData: Data) {\n    companion object {\n        fun constructorA(): Foo {\n            // do stuff\n\n            return Foo(someData)\n        }\n    }\n\n    // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": true, "score": 2, "last_activity_date": 1563262812, "creation_date": 1563262812, "answer_id": 57052306, "question_id": 57051932, "link": "https://stackoverflow.com/questions/57051932/what-is-an-usage-of-these-things-in-kotlin/57052306#57052306", "title": "What is an usage of these things in Kotlin?", "body": "<p><strong>Private constructors</strong></p>\n\n<p>It's similar to <code>java</code>. You can forbid creation of class instances if a class has only private constructors. Or you can allow to this class to be responsible of creation of its instances (like it is done in the Singleton pattern).</p>\n\n<pre><code>class Singleton private constructor(val name: String) {\n    companion object {\n        fun getInstance(): Singleton {\n            return Singleton()   // Simplified\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Constructor private parameters</strong></p>\n\n<p>If a constructor of a class <code>C</code> has a <code>val s: String</code> parameter it becomes an instance public property property and can be accessed like <code>C.s</code>. If we will declare such parameters as a <code>private</code> it will become an instance private property.</p>\n\n<pre><code>class Holder(private val pri: String, val pub: String) {\n}\n\nval holder = Holder(\"private\", \"public\")\nholder.pub    // contains \"public\"\nholder.pri    // not accessible\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11284853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f041b7bca7a962bf068b5ee8950b4d19?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/11284853/john-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 57052306, "answer_count": 2, "score": 0, "last_activity_date": 1563304813, "creation_date": 1563261451, "last_edit_date": 1563304813, "question_id": 57051932, "link": "https://stackoverflow.com/questions/57051932/what-is-an-usage-of-these-things-in-kotlin", "title": "What is an usage of these things in Kotlin?", "body": "<p>I've been learning Kotlin and I'm currently faced with two problems. </p>\n\n<blockquote>\n  <p>What's the usage of private constructors?<br>\n  What's the usage of private\n  parameters in constructors?</p>\n</blockquote>\n\n<ol>\n<li><p>We cannot even create an instance of a class that has a private constructor</p></li>\n<li><p>Private parameters in constructors...</p></li>\n</ol>\n\n<p>Thus, they will be visible only in that class? But, they do it and without the <code>private</code> modifier in constructor.</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["android", "kotlin", "mvvm", "kotlin-coroutines", "kodein"], "comments": [{"owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "edited": false, "score": 1, "creation_date": 1563262911, "post_id": 57051450, "comment_id": 100630958, "body": "Can you be more specific? Waht exactly is not working ?"}, {"owner": {"reputation": 1, "user_id": 6303409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJ2Mu.jpg?s=128&g=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/6303409/faizan"}, "reply_to_user": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "edited": false, "score": 0, "creation_date": 1563268822, "post_id": 57051450, "comment_id": 100634140, "body": "This is not working. Below is the link to the AppExecutors file used in the mentioned open source project. And to use the object of it, I want to use dependency injection and code shared above is not working.  <a href=\"https://github.com/baruckis/Kriptofolio/blob/Part-5/app/src/main/java/com/baruckis/mycryptocoins/repository/AppExecutors.kt\" rel=\"nofollow noreferrer\">github.com/baruckis/Kriptofolio/blob/Part-5/app/src/main/jav&zwnj;&#8203;a/&hellip;</a>"}, {"owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "edited": false, "score": 0, "creation_date": 1563374174, "post_id": 57051450, "comment_id": 100680034, "body": "What exactly is not working ? The code you&#39;re showing is correct. What is the expected behaviour ? What is the actual behaviour ?"}], "owner": {"reputation": 1, "user_id": 6303409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJ2Mu.jpg?s=128&g=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/6303409/faizan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563268614, "creation_date": 1563259457, "last_edit_date": 1563268614, "question_id": 57051450, "link": "https://stackoverflow.com/questions/57051450/what-would-be-the-proper-way-for-dependency-injection-of-app-executor-class-usin", "title": "What would be the proper way for dependency injection of App Executor class using Kodein in android coroutines Network Bound Resouce class?", "body": "<p>I am looking for the right way to inject dependency of App Executors class using Kodein in Repository in Android MVVM pattern. I am following this guy </p>\n\n<p><a href=\"https://www.baruckis.com/android/kriptofolio-app-series-part-5/\" rel=\"nofollow noreferrer\">https://www.baruckis.com/android/kriptofolio-app-series-part-5/</a> \nFor the rest of app I have used Kodein and for consistency want to follow the same pattern.</p>\n\n<p>I have used this in My Application class but it is not working.</p>\n\n<pre><code>bind() from singleton { AppExecutors() }\n</code></pre>\n"}, {"tags": ["java", "kotlin", "blockchain", "corda"], "answers": [{"comments": [{"owner": {"reputation": 448, "user_id": 11473160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c44ac99f2a9ef94d376a03f51c6b551?s=128&d=identicon&r=PG&f=1", "display_name": "kaiilim", "link": "https://stackoverflow.com/users/11473160/kaiilim"}, "edited": false, "score": 1, "creation_date": 1563329377, "post_id": 57052613, "comment_id": 100659726, "body": "I have tried removing them but the same error occurred again. What could be the problem??"}, {"owner": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "reply_to_user": {"reputation": 448, "user_id": 11473160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c44ac99f2a9ef94d376a03f51c6b551?s=128&d=identicon&r=PG&f=1", "display_name": "kaiilim", "link": "https://stackoverflow.com/users/11473160/kaiilim"}, "edited": false, "score": 1, "creation_date": 1563364261, "post_id": 57052613, "comment_id": 100673565, "body": "does it work if you use <code>startFlow</code> instead of <code>startFlowDynamic</code>?"}], "tags": [], "owner": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "is_accepted": false, "score": 1, "last_activity_date": 1563263906, "creation_date": 1563263906, "answer_id": 57052613, "question_id": 57051035, "link": "https://stackoverflow.com/questions/57051035/a-flowlogicref-cannot-be-constructed-for-flowlogic-of-type-com-r3-corda-finance/57052613#57052613", "title": "A FlowLogicRef cannot be constructed for FlowLogic of type com.r3.corda.finance.obligation.flows.CreateObligation$Initiator", "body": "<p>If I remember correctly, you cant have default parameters in your flow constructors. I believe we have an issue open for this to fix it at some point.</p>\n"}], "owner": {"reputation": 448, "user_id": 11473160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c44ac99f2a9ef94d376a03f51c6b551?s=128&d=identicon&r=PG&f=1", "display_name": "kaiilim", "link": "https://stackoverflow.com/users/11473160/kaiilim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1563270362, "creation_date": 1563257561, "last_edit_date": 1563270362, "question_id": 57051035, "link": "https://stackoverflow.com/questions/57051035/a-flowlogicref-cannot-be-constructed-for-flowlogic-of-type-com-r3-corda-finance", "title": "A FlowLogicRef cannot be constructed for FlowLogic of type com.r3.corda.finance.obligation.flows.CreateObligation$Initiator", "body": "<p>In my Corda, I'm trying to call a flow using CordaRPCOps's startFlowDynamic but I'm getting this error while making the call to initiate the flow:</p>\n\n<blockquote>\n  <p>A FlowLogicRef cannot be constructed for FlowLogic of type\n  com.r3.corda.finance.obligation.flows.CreateObligation$Initiator: due\n  to missing constructor for arguments: [class\n  net.corda.core.contracts.Amount, class\n  com.r3.corda.finance.obligation.flows.CreateObligation$InitiatorRole,\n  class net.corda.core.identity.Party, class java.lang.Integer, class\n  java.lang.Boolean]</p>\n</blockquote>\n\n<p>I've seen this <a href=\"https://stackoverflow.com/questions/52054813/illegalflowlogicexception-a-flowlogicref-cannot-be-constructed-for-flowlogic\">thread of the same exception</a> but it doesn't solve my problem. I think that the parameters I passed to the flow are correct but am not sure why am I still encountering this exception.</p>\n\n<p>Here's my <code>ObligationApi.kt</code> which takes my form inputs and then triggers the <code>issue-obligation</code> then triggers <code>CreateObligation</code> flow:</p>\n\n<pre><code>package com.r3.corda.finance.obligation\n\nimport com.r3.corda.finance.obligation.flows.CreateObligation\nimport com.r3.corda.finance.obligation.states.Obligation\nimport net.corda.core.contracts.Amount\nimport net.corda.core.messaging.CordaRPCOps\nimport net.corda.core.utilities.getOrThrow\nimport java.util.*\nimport javax.ws.rs.GET\nimport javax.ws.rs.Path\nimport javax.ws.rs.Produces\nimport javax.ws.rs.QueryParam\nimport javax.ws.rs.core.MediaType\nimport javax.ws.rs.core.Response\n\n@Path(\"obligation\")\nclass ObligationApi(val rpcOps: CordaRPCOps) {\n\n    private val myIdentity = rpcOps.nodeInfo().legalIdentities.first()\n    private val notaryIdentity = rpcOps.notaryIdentities().first()\n\n    @GET\n    @Path(\"me\")\n    @Produces(MediaType.APPLICATION_JSON)\n    fun me() = mapOf(\"me\" to myIdentity)\n\n    @GET\n    @Path(\"peers\")\n    @Produces(MediaType.APPLICATION_JSON)\n    fun peers() = mapOf(\"peers\" to rpcOps.networkMapSnapshot()\n            .filter { nodeInfo -&gt;\n                nodeInfo.legalIdentities.first() != myIdentity\n                        &amp;&amp; nodeInfo.legalIdentities.first() != notaryIdentity\n                        &amp;&amp; nodeInfo.legalIdentities.first().name.organisation != \"Oracle\"\n            }\n            .map { it.legalIdentities.first().name.organisation })\n\n    @GET\n    @Path(\"all-nodes\")\n    @Produces(MediaType.APPLICATION_JSON)\n    fun allNodes() = mapOf(\"allNodes\" to rpcOps.networkMapSnapshot()\n            .filter { nodeInfo -&gt;\n                nodeInfo.legalIdentities.first() != myIdentity\n            }\n            .map { it.legalIdentities.first().name.organisation })\n\n    @GET\n    @Path(\"issue-obligation\")\n    fun issueObligation(@QueryParam(value = \"role\") role: String,\n                        @QueryParam(value = \"party\") party: String,\n                        @QueryParam(value = \"currency\") currency: String,\n                        @QueryParam(value = \"amount\") amount: Int,\n                        @QueryParam(value = \"duedate\") duedate: Int\n    ): Response {\n        println(\"!! TESTING - ObligationApi.kt 1.0\")\n        println(myIdentity)\n\n        // 1. Get party objects for the counterparty.\n        val obligorIdentity = rpcOps.partiesFromName(party, exactMatch = false).singleOrNull()\n                ?: throw IllegalStateException(\"Couldn't lookup node identity for $party.\")\n        // 2. Create an amount object.\n        val issueAmount = Amount(amount.toLong() * 100, Currency.getInstance(currency))\n\n        // 3. Get role class\n        val roleClass: CreateObligation.InitiatorRole\n        if (role == \"OBLIGEE\") {\n            roleClass = CreateObligation.InitiatorRole.OBLIGEE\n        } else {\n            roleClass = CreateObligation.InitiatorRole.OBLIGOR\n        }\n\n        // 4. Start the IssueObligation flow. We block and wait for the flow to return.\n        val (status, message) = try {\n            println(\"!! TESTING - ObligationApi.kt 1.1\")\n\n            val flowHandle = rpcOps.startFlowDynamic(\n                    CreateObligation.Initiator::class.java,\n                    issueAmount,\n                    roleClass,\n                    obligorIdentity,\n                    duedate,\n                    true\n            )\n            println(\"!! TESTING - ObligationApi.kt 1.2\")\n\n            val result = flowHandle.returnValue.getOrThrow()\n            flowHandle.close()\n            Response.Status.CREATED to \"Transaction id ${result.id} committed to ledger.\\n${result.outputs}\"\n        } catch (e: Exception) {\n            Response.Status.BAD_REQUEST to e.message\n        }\n\n        // 4. Return the result.\n        return Response.status(status).entity(message).build()\n    }\n\n    @GET\n    @Path(\"obligations\")\n    @Produces(MediaType.APPLICATION_JSON)\n    fun obligations(): List&lt;Obligation&lt;*&gt;&gt; {\n        println(\"!! TESTING - ObligationApi.kt 2.0\")\n\n        val statesAndRefs = rpcOps.vaultQuery(Obligation::class.java).states\n\n        return statesAndRefs\n                .map { stateAndRef -&gt; stateAndRef.state.data }\n                .map { state -&gt;\n                    // We map the anonymous lender and borrower to well-known identities if possible.\n                    val possiblyWellKnownLender = rpcOps.wellKnownPartyFromAnonymous(state.obligee) ?: state.obligee\n                    val possiblyWellKnownBorrower = rpcOps.wellKnownPartyFromAnonymous(state.obligor) ?: state.obligor\n                    println(\"!! TESTING - ObligationApi.kt 2.1\")\n\n                    Obligation(state.faceAmount,\n                            possiblyWellKnownBorrower,\n                            possiblyWellKnownLender,\n                            state.dueBy,\n                            state.createdAt,\n                            state.settlementMethod,\n                            state.payments,\n                            state.linearId)\n                }\n    }\n}\n</code></pre>\n\n<p>My <code>CreateObligation.kt</code> flow:</p>\n\n<pre><code>package com.r3.corda.finance.obligation.flows\n\nimport co.paralleluniverse.fibers.Suspendable\nimport com.r3.corda.finance.obligation.commands.ObligationCommands\nimport com.r3.corda.finance.obligation.contracts.ObligationContract\nimport com.r3.corda.finance.obligation.states.Obligation\nimport com.r3.corda.finance.obligation.types.Money\nimport net.corda.confidential.SwapIdentitiesFlow\nimport net.corda.core.contracts.Amount\nimport net.corda.core.flows.*\nimport net.corda.core.identity.AbstractParty\nimport net.corda.core.identity.Party\nimport net.corda.core.serialization.CordaSerializable\nimport net.corda.core.transactions.SignedTransaction\nimport net.corda.core.transactions.TransactionBuilder\nimport net.corda.core.transactions.WireTransaction\nimport net.corda.core.utilities.ProgressTracker\nimport net.corda.core.utilities.seconds\nimport java.security.PublicKey\nimport java.time.Instant\nimport java.time.LocalDate\nimport java.time.ZoneOffset\n\nobject CreateObligation {\n\n    @CordaSerializable\n    enum class InitiatorRole {\n        OBLIGOR,\n        OBLIGEE\n    }\n\n    @InitiatingFlow\n    @StartableByRPC\n    class Initiator&lt;T : Money&gt;(\n            private val amount: Amount&lt;T&gt;,\n            private val role: InitiatorRole,\n            private val counterparty: Party,\n            private val dueBy: Instant? = null,\n            private val anonymous: Boolean = true\n    ) : FlowLogic&lt;WireTransaction&gt;() {\n\n        companion object {\n            object INITIALISING : ProgressTracker.Step(\"Performing initial steps.\")\n            object BUILDING : ProgressTracker.Step(\"Building and verifying transaction. @@@@@ Testing In  CorDapp CreateObligation.kt @@@@@\")\n            object SIGNING : ProgressTracker.Step(\"signing transaction.\")\n            object COLLECTING : ProgressTracker.Step(\"Collecting counterparty signature.\") {\n                override fun childProgressTracker() = CollectSignaturesFlow.tracker()\n            }\n\n            object FINALISING : ProgressTracker.Step(\"Finalising transaction.\") {\n                override fun childProgressTracker() = FinalityFlow.tracker()\n            }\n\n            fun tracker() = ProgressTracker(INITIALISING, BUILDING, SIGNING, COLLECTING, FINALISING)\n        }\n\n        override val progressTracker: ProgressTracker = tracker()\n\n        @Suspendable\n        private fun createAnonymousObligation(): Pair&lt;Obligation&lt;T&gt;, PublicKey&gt; {\n            val txKeys = subFlow(SwapIdentitiesFlow(counterparty))\n            // SwapIdentityFlow should return two keys.\n            check(txKeys.size == 2) { \"Something went wrong when generating confidential identities.\" }\n            val anonymousMe = txKeys[ourIdentity] ?: throw FlowException(\"Couldn't create our conf. identity.\")\n            val anonymousObligor = txKeys[counterparty]\n                    ?: throw FlowException(\"Couldn't create lender's conf. identity.\")\n            return createObligation(us = anonymousMe, them = anonymousObligor)\n        }\n\n        private fun createObligation(us: AbstractParty, them: AbstractParty): Pair&lt;Obligation&lt;T&gt;, PublicKey&gt; {\n            check(us != them) { \"You cannot create an obligation to yourself\" }\n            val obligation = when (role) {\n                InitiatorRole.OBLIGEE -&gt; Obligation(amount, them, us, dueBy)\n                InitiatorRole.OBLIGOR -&gt; Obligation(amount, us, them, dueBy)\n            }\n            return Pair(obligation, us.owningKey)\n        }\n\n        @Suspendable\n        override fun call(): WireTransaction {\n            println(\"!! TESTING - CreateObligation.kt 1.0\")\n\n            // Step 1. Initialisation.\n            progressTracker.currentStep = INITIALISING\n            val (obligation, signingKey) = if (anonymous) {\n                createAnonymousObligation()\n            } else {\n                createObligation(us = ourIdentity, them = counterparty)\n            }\n\n            // Step 2. Check parameters.\n            if (dueBy != null) {\n                val todayUTC = LocalDate.now().atStartOfDay().toInstant(ZoneOffset.UTC)\n                require(dueBy &gt; todayUTC) {\n                    \"Due by date must be in the future.\"\n                }\n            }\n\n            // Step 3. Building.\n            progressTracker.currentStep = BUILDING\n            val notary = serviceHub.networkMapCache.notaryIdentities.firstOrNull()\n                    ?: throw FlowException(\"No available notary.\")\n            val utx = TransactionBuilder(notary = notary).apply {\n                addOutputState(obligation, ObligationContract.CONTRACT_REF)\n                val signers = obligation.participants.map { it.owningKey }\n                addCommand(ObligationCommands.Create(), signers)\n                setTimeWindow(serviceHub.clock.instant(), 30.seconds)\n            }\n\n            // Step 4. Sign the transaction.\n            progressTracker.currentStep = SIGNING\n            val ptx = serviceHub.signInitialTransaction(utx, signingKey)\n\n            // Step 5. Get the counterparty signature.\n            progressTracker.currentStep = COLLECTING\n            val lenderFlow = initiateFlow(counterparty)\n            val stx = subFlow(CollectSignaturesFlow(\n                    partiallySignedTx = ptx,\n                    sessionsToCollectFrom = setOf(lenderFlow),\n                    myOptionalKeys = listOf(signingKey),\n                    progressTracker = COLLECTING.childProgressTracker())\n            )\n\n            // Step 6. Finalise and return the transaction.\n            progressTracker.currentStep = FINALISING\n            val ntx = subFlow(FinalityFlow(stx, FINALISING.childProgressTracker()))\n            return ntx.tx\n        }\n    }\n\n    @InitiatedBy(Initiator::class)\n    class Responder(val otherFlow: FlowSession) : FlowLogic&lt;WireTransaction&gt;() {\n        @Suspendable\n        override fun call(): WireTransaction {\n            val flow = object : SignTransactionFlow(otherFlow) {\n                @Suspendable\n                override fun checkTransaction(stx: SignedTransaction) {\n                    // TODO: Do some basic checking here.\n                    // Reach out to human operator when HCI is available.\n                }\n            }\n            val stx = subFlow(flow)\n            // Suspend this flow until the transaction is committed.\n            return waitForLedgerCommit(stx.id).tx\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["testing", "gradle", "kotlin", "integration-testing", "visibility"], "comments": [{"owner": {"reputation": 8502, "user_id": 484293, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/70tBc.jpg?s=128&g=1", "display_name": "blubb", "link": "https://stackoverflow.com/users/484293/blubb"}, "edited": false, "score": 0, "creation_date": 1582320337, "post_id": 57050889, "comment_id": 106750369, "body": "This <a href=\"https://stackoverflow.com/q/60346360/484293\">related question</a> discusses some failed attempts. Did you happen to find a solution to your problem?"}], "answers": [{"comments": [{"owner": {"reputation": 2190, "user_id": 628318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dcab77e699e7017e0c5665158d4b1e5?s=128&d=identicon&r=PG", "display_name": "drekbour", "link": "https://stackoverflow.com/users/628318/drekbour"}, "edited": false, "score": 0, "creation_date": 1575988565, "post_id": 59260030, "comment_id": 104746328, "body": "That&#39;s a useful pointer but I cannot manage to translate this into anything in the Groovy DSL (though I am trying with MPP in the mix too): <code>kotlin { ... targets.jvm.compilations.test.associateWith targets.jvm.compilations.main }</code>. Seems <code>associateWith</code> is not exposed for users."}, {"owner": {"reputation": 1787, "user_id": 2933744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/578a01e194f0d44f63bc5bfdbeed03d5?s=128&d=identicon&r=PG", "display_name": "gaiazov", "link": "https://stackoverflow.com/users/2933744/gaiazov"}, "reply_to_user": {"reputation": 2190, "user_id": 628318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dcab77e699e7017e0c5665158d4b1e5?s=128&d=identicon&r=PG", "display_name": "drekbour", "link": "https://stackoverflow.com/users/628318/drekbour"}, "edited": false, "score": 0, "creation_date": 1575991619, "post_id": 59260030, "comment_id": 104748231, "body": "In MPP I think you need to add a dependency on <code>compileMain</code> kotlin source set. There are several references to the <code>compileMain</code> and <code>compileTest</code> sources sets. For example, <a href=\"https://github.com/JetBrains/kotlin/blob/ece7a3e70e7c04cb2f599512284ed840e00936c6/libraries/tools/kotlin-gradle-plugin/src/main/kotlin/org/jetbrains/kotlin/gradle/targets/metadata/KotlinMetadataTargetConfigurator.kt#L51-L57\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/&hellip;</a>"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1577386776, "post_id": 59260030, "comment_id": 105159061, "body": "This answer talks about making IDEA happy: <a href=\"https://stackoverflow.com/a/35690003/2740621\">stackoverflow.com/a/35690003/2740621</a>"}], "tags": [], "owner": {"reputation": 1787, "user_id": 2933744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/578a01e194f0d44f63bc5bfdbeed03d5?s=128&d=identicon&r=PG", "display_name": "gaiazov", "link": "https://stackoverflow.com/users/2933744/gaiazov"}, "is_accepted": false, "score": 1, "last_activity_date": 1575950500, "creation_date": 1575950500, "answer_id": 59260030, "question_id": 57050889, "link": "https://stackoverflow.com/questions/57050889/kotlin-internal-members-not-accessible-from-alternative-test-source-set-in-gradl/59260030#59260030", "title": "Kotlin internal members not accessible from alternative test source set in Gradle", "body": "<p>I was able to get a custom test sourceSet to access <code>internal</code> classes by adding the following code to my custom Gradle plugin.</p>\n\n<pre><code>NamedDomainObjectContainer&lt;KotlinWithJavaCompilation&lt;KotlinJvmOptions&gt;&gt; compilations = project\n  .getExtensions()\n  .getByType(KotlinJvmProjectExtension.class)\n  .target.getCompilations();\n\ncompilations.getByName(sourceSet.getName())\n  .associateWith(compilations.getByName(SourceSet.MAIN_SOURCE_SET_NAME));\n</code></pre>\n\n<p>I looked at the <code>kotlin-gradle-plugin</code> source code and found the following:\n<a href=\"https://github.com/JetBrains/kotlin/blob/v1.3.61/libraries/tools/kotlin-gradle-plugin/src/main/kotlin/org/jetbrains/kotlin/gradle/plugin/KotlinPlugin.kt#L488-L490\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/v1.3.61/libraries/tools/kotlin-gradle-plugin/src/main/kotlin/org/jetbrains/kotlin/gradle/plugin/KotlinPlugin.kt#L488-L490</a></p>\n\n<p>With change, the tests in my custom source set run just fine, but IntellIJ still shows compilation errors. I'll look further to see if I can make IntelliJ happy as well</p>\n"}], "owner": {"reputation": 2987, "user_id": 1081036, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/56f18958bdd659c3b4c2d960b835e40f?s=128&d=identicon&r=PG&f=1", "display_name": "Kousalik", "link": "https://stackoverflow.com/users/1081036/kousalik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 2, "answer_count": 1, "score": 10, "last_activity_date": 1575950500, "creation_date": 1563256765, "question_id": 57050889, "link": "https://stackoverflow.com/questions/57050889/kotlin-internal-members-not-accessible-from-alternative-test-source-set-in-gradl", "title": "Kotlin internal members not accessible from alternative test source set in Gradle", "body": "<p>Following <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests</a> and <a href=\"https://www.michael-bull.com/blog/2016/06/04/separating-integration-and-unit-tests-with-gradle\" rel=\"noreferrer\">https://www.michael-bull.com/blog/2016/06/04/separating-integration-and-unit-tests-with-gradle</a> we are attempting to separate our integration tests from plain unit tests.</p>\n\n<p>The problem we have is <code>internal</code> members in Kotlin are not accessible from such tests. As per <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#modules\" rel=\"noreferrer\">Kotlin doco</a> there is a visibility exception for test source sets.</p>\n\n<blockquote>\n  <p>The internal visibility modifier means that the member is visible\n  within the same module. More specifically, a module is a set of Kotlin\n  files compiled together:</p>\n  \n  <ol>\n  <li>an IntelliJ IDEA module;</li>\n  <li>a Maven project;</li>\n  <li>a Gradle source set (with the exception that the test source set can access the internal declarations of main);</li>\n  <li>a set of files compiled with one invocation of the  Ant task.</li>\n  </ol>\n</blockquote>\n\n<p>Is there a way around it other than not trying to access them? That would call for a major refactoring of hundreds of tests and potentialy the whole codebase.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563255875, "post_id": 57050711, "comment_id": 100628015, "body": "so, you want 112 / 50 to return 3, or do I understand this wrong? Why would you expect that result?"}, {"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "reply_to_user": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563255986, "post_id": 57050711, "comment_id": 100628052, "body": "yes, you are right, the result of division is the number of pages with info"}, {"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563256238, "post_id": 57050711, "comment_id": 100628136, "body": "ok ... but just to be clear: 112/50 does not, (and for obvious reasons) will never return 3."}, {"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "reply_to_user": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563256277, "post_id": 57050711, "comment_id": 100628153, "body": "yes I understand it, but maybe we have some method how to do it? I don&#39;t know :("}, {"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563256344, "post_id": 57050711, "comment_id": 100628173, "body": "you can round your result up to the nearest (bigger) integer"}, {"owner": {"reputation": 221, "user_id": 4093964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVJDq.jpg?s=128&g=1", "display_name": "Subhash Prajapati", "link": "https://stackoverflow.com/users/4093964/subhash-prajapati"}, "edited": false, "score": 0, "creation_date": 1563256448, "post_id": 57050711, "comment_id": 100628208, "body": "@AndrewGoroshko have you ever use Math.ceil() method ?"}, {"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "reply_to_user": {"reputation": 221, "user_id": 4093964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVJDq.jpg?s=128&g=1", "display_name": "Subhash Prajapati", "link": "https://stackoverflow.com/users/4093964/subhash-prajapati"}, "edited": false, "score": 0, "creation_date": 1563256477, "post_id": 57050711, "comment_id": 100628220, "body": "@SubhashPrajapati, no I have never used it, what does it do?"}, {"owner": {"reputation": 221, "user_id": 4093964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVJDq.jpg?s=128&g=1", "display_name": "Subhash Prajapati", "link": "https://stackoverflow.com/users/4093964/subhash-prajapati"}, "edited": false, "score": 0, "creation_date": 1563256521, "post_id": 57050711, "comment_id": 100628236, "body": "@AndrewGoroshko please check this link <a href=\"https://www.guru99.com/math-java.html\" rel=\"nofollow noreferrer\">guru99.com/math-java.html</a>"}, {"owner": {"reputation": 221, "user_id": 4093964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVJDq.jpg?s=128&g=1", "display_name": "Subhash Prajapati", "link": "https://stackoverflow.com/users/4093964/subhash-prajapati"}, "edited": false, "score": 0, "creation_date": 1563256539, "post_id": 57050711, "comment_id": 100628241, "body": "this one is giving exact what you want."}, {"owner": {"reputation": 221, "user_id": 4093964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVJDq.jpg?s=128&g=1", "display_name": "Subhash Prajapati", "link": "https://stackoverflow.com/users/4093964/subhash-prajapati"}, "edited": false, "score": 0, "creation_date": 1563256742, "post_id": 57050711, "comment_id": 100628321, "body": "@AndrewGoroshko Solve your problem or not ?"}, {"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "reply_to_user": {"reputation": 221, "user_id": 4093964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVJDq.jpg?s=128&g=1", "display_name": "Subhash Prajapati", "link": "https://stackoverflow.com/users/4093964/subhash-prajapati"}, "edited": false, "score": 0, "creation_date": 1563256786, "post_id": 57050711, "comment_id": 100628332, "body": "@SubhashPrajapati, can you add the example, because this - ceil((count/50).toDouble()) doesn&#39;t help me and after division 112/50 it gave 2.0"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1563258899, "post_id": 57050711, "comment_id": 100629120, "body": "Could you just use <code>(count + 49) &#47; 50</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563257500, "post_id": 57050829, "comment_id": 100628578, "body": "by adding 1, the result would be 3.24."}, {"owner": {"reputation": 217, "user_id": 6096922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzKVE.jpg?s=128&g=1", "display_name": "Kuldeep Rathee", "link": "https://stackoverflow.com/users/6096922/kuldeep-rathee"}, "reply_to_user": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563258633, "post_id": 57050829, "comment_id": 100629014, "body": "use the main count as integer variable then it will be 3, not 3.24 . or typeCast the main count to Integer in the end."}, {"owner": {"reputation": 217, "user_id": 6096922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzKVE.jpg?s=128&g=1", "display_name": "Kuldeep Rathee", "link": "https://stackoverflow.com/users/6096922/kuldeep-rathee"}, "reply_to_user": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563258752, "post_id": 57050829, "comment_id": 100629063, "body": "you have declared mainCount: Double.  instead of Double declare it as Integer"}], "tags": [], "owner": {"reputation": 217, "user_id": 6096922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzKVE.jpg?s=128&g=1", "display_name": "Kuldeep Rathee", "link": "https://stackoverflow.com/users/6096922/kuldeep-rathee"}, "is_accepted": false, "score": 1, "last_activity_date": 1563256396, "creation_date": 1563256396, "answer_id": 57050829, "question_id": 57050711, "link": "https://stackoverflow.com/questions/57050711/how-to-increment-the-result-of-division-when-it-contains-remainder-of-the-divisi/57050829#57050829", "title": "How to increment the result of division when it contains remainder of the division?", "body": "<p>just add +1 in the main court if the remainder is greater then 0 and less then 50.\nlike if(reminder >0 &amp;&amp; reminder &lt;50) mainCount++;</p>\n"}, {"comments": [{"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1563257473, "post_id": 57050915, "comment_id": 100628566, "body": "It would be better if you also explained your changes"}], "tags": [], "owner": {"reputation": 2990, "user_id": 6944758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMedv.jpg?s=128&g=1", "display_name": "Firoz Memon", "link": "https://stackoverflow.com/users/6944758/firoz-memon"}, "is_accepted": true, "score": 1, "last_activity_date": 1563256927, "creation_date": 1563256927, "answer_id": 57050915, "question_id": 57050711, "link": "https://stackoverflow.com/questions/57050711/how-to-increment-the-result-of-division-when-it-contains-remainder-of-the-divisi/57050915#57050915", "title": "How to increment the result of division when it contains remainder of the division?", "body": "<p>I have updated your code snippet. Hope it helps.</p>\n\n<pre><code>    val mainCount: Double\n    val remainder = count % 50\n\n    mainCount = count.toDouble() / 50\n    val finalMainCount = if (remainder &gt; 0) {\n        mainCount.toInt() + 1\n    } else {\n        mainCount.toInt()\n    }\n\n    println(finalMainCount)\n\n    return finalMainCount\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": false, "score": 3, "last_activity_date": 1563259156, "creation_date": 1563259156, "answer_id": 57051377, "question_id": 57050711, "link": "https://stackoverflow.com/questions/57050711/how-to-increment-the-result-of-division-when-it-contains-remainder-of-the-divisi/57051377#57051377", "title": "How to increment the result of division when it contains remainder of the division?", "body": "<p>As far as I can see, you are simply trying to round the result up.</p>\n\n<p>The simplest way to do this is to add <code>(denominator - 1)</code> to the numerator. So (in Java), the entire method could be reduced to:</p>\n\n<pre><code>return (count + 49) / 50;\n</code></pre>\n"}], "owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 57050915, "answer_count": 3, "score": 0, "last_activity_date": 1563259156, "creation_date": 1563255774, "question_id": 57050711, "link": "https://stackoverflow.com/questions/57050711/how-to-increment-the-result-of-division-when-it-contains-remainder-of-the-divisi", "title": "How to increment the result of division when it contains remainder of the division?", "body": "<p>Maybe this question was asked previously but I didn't find a solution of my problem. So, I have one number like <code>general count</code> and I have to get the result of division. But, I have to increment the result if it contains remainder. I tried to create own function:</p>\n\n<pre><code> private fun mod(count: Int): Double {\n        val mainCount: Double\n        val remainder = count % 50\n\n        mainCount = if (remainder &gt; 0) {\n            count.toDouble() / 50+1\n        } else {\n            count.toDouble() / 50\n        }\n\n        return mainCount\n    }\n</code></pre>\n\n<p>but it didn't help, then I used this function:</p>\n\n<pre><code>val df = DecimalFormat(\"0\")\ndf.roundingMode = RoundingMode.HALF_EVEN\nLog.i(\"m\", df.format(count/50).toString())\n</code></pre>\n\n<p>but in logs I get the main number without remainder. For example I have smth like that:</p>\n\n<pre><code>main count - 112\nresult of division - 2.24\nwhat I want to get - 3\n</code></pre>\n\n<p>Maybe I did smth wrong?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 1019454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e21a597ecfa2c7a4795fd86aa0beeac?s=128&d=identicon&r=PG", "display_name": "Gaga", "link": "https://stackoverflow.com/users/1019454/gaga"}, "edited": false, "score": 0, "creation_date": 1563279915, "post_id": 57050223, "comment_id": 100640038, "body": "Well, i already figured that during debugging. I am new to Kotlin, hence i asked what am i missing. Anyway i have rewritten the adapter with the help of a guide online. I will post the solution. Although I need to test and understand the code since the base functions are written differently."}], "tags": [], "owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "is_accepted": false, "score": 1, "last_activity_date": 1563252563, "creation_date": 1563252563, "answer_id": 57050223, "question_id": 57049988, "link": "https://stackoverflow.com/questions/57049988/recyclerview-not-updated-with-filteredlist/57050223#57050223", "title": "RecyclerView not updated with filteredList", "body": "<p>You are using <code>itemList</code> for binding the data </p>\n\n<pre><code> override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    (holder as ItemViewHolder).bind(itemList[position], clickListener)\n  }\n</code></pre>\n\n<p>However, you update <code>searchList</code> which does not touch any part of your data in the adapter. You need to update <code>itemList</code> in <code>publishResults</code></p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 1019454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e21a597ecfa2c7a4795fd86aa0beeac?s=128&d=identicon&r=PG", "display_name": "Gaga", "link": "https://stackoverflow.com/users/1019454/gaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1563977954, "creation_date": 1563977954, "answer_id": 57185119, "question_id": 57049988, "link": "https://stackoverflow.com/questions/57049988/recyclerview-not-updated-with-filteredlist/57185119#57185119", "title": "RecyclerView not updated with filteredList", "body": "<p>Updated my adapter code and it works now. I am still not sure why it wasn't working earlier even though i changed to manipulate searchList</p>\n\n<pre><code>  private var searchList: List&lt;Items&gt;? = null\n\n  inner class RecyclerViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    var itemTitle: TextView? = null\n\n    init {\n      itemTitle = view.findViewById(R.id.list_item_title)\n      view.setTag(this);\n      view.setOnClickListener {\n        clickListener.onItemClicked(searchList!![adapterPosition], itemList.indexOf(searchList!![adapterPosition]))\n      }\n    }\n  }\n\n\n  init {\n    this.searchList = itemList\n  }\n\n  override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerViewHolder {\n    val inflater = LayoutInflater.from(parent.context)\n    // Inflate XML. Last parameter: don't immediately attach new view to the parent view group\n    val itemView = inflater.inflate(R.layout.activity_display_item_text, parent, false)\n\n    return RecyclerViewHolder(itemView)\n  }\n\n  override fun onBindViewHolder(holder: RecyclerViewHolder, position: Int) {\n    val item = searchList!![position]\n    holder.itemTitle!!.text = item.itemName\n  }\n\n  override fun getItemCount(): Int {\n    return searchList!!.size\n  }\n</code></pre>\n\n<p>Updated my activity to match the adapter code as well and position of item is also passed using setTag in adapter.</p>\n\n<pre><code>{\n    val stringArray = resources.getStringArray(R.array.list_sample)\n    val itemList = ArrayList&lt;Items&gt;()\n    for (items in stringArray) {\n        itemList.add(Items(items))\n    }\n    rAdapter = RecyclerAdapter(itemList, this)\n\n    main_recyclerview.layoutManager = LinearLayoutManager(this)\n    main_recyclerview.setHasFixedSize(true)\n    main_recyclerview.addItemDecoration(DividerItemDecoration(this, DividerItemDecoration.VERTICAL))\n    main_recyclerview.itemAnimator = DefaultItemAnimator()\n    main_recyclerview.adapter = rAdapter\n}\n\noverride fun onItemClicked(item: Items, position: Int) {\n    val intent = Intent(this, LocalActivity::class.java)\n    val stringBuilder = StringBuilder()\n    stringBuilder.append(\"file:///android_asset/samples/\")\n    stringBuilder.append(position)\n    stringBuilder.append(\".html\")\n    intent.putExtra(\"WEBSITE_URL\", stringBuilder.toString())\n    startActivity(intent)\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 1019454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e21a597ecfa2c7a4795fd86aa0beeac?s=128&d=identicon&r=PG", "display_name": "Gaga", "link": "https://stackoverflow.com/users/1019454/gaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563977954, "creation_date": 1563250789, "question_id": 57049988, "link": "https://stackoverflow.com/questions/57049988/recyclerview-not-updated-with-filteredlist", "title": "RecyclerView not updated with filteredList", "body": "<p>I am migrating my code to Kotlin and one of my activities has a ListView with a custom SearchListAdapter.\nI have written a new RecyclerViewAdapter that also performs search filtering.</p>\n\n<p>While debugging i found the list to be filtered but the view does not get updated. What am i missing?</p>\n\n<p>I also cannot access the item position in handleItemClick() but only item attributes.</p>\n\n<p>RecyclerAdapter.kt</p>\n\n<pre><code>package com.example.ui\n\nimport androidx.recyclerview.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Filter\nimport android.widget.Filterable\nimport kotlinx.android.synthetic.main.activity_display_list_item_r.view.*\nimport com.example.items.Items_r\nimport com.example.R\n\nclass RecyclerAdapter(private val itemList: MutableList&lt;Items_r&gt;, private val clickListener: (Items_r) -&gt; Unit) :\n  RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;(), Filterable {\n\n  private var searchList: List&lt;Items_r&gt;? = null\n\n  class ItemViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    fun bind(item: Items_r, clickListener: (Items_r) -&gt; Unit) {\n      itemView.list_item_title.text = item.itemName\n      itemView.setOnClickListener { clickListener(item)}\n    }\n  }\n\n  override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    val inflater = LayoutInflater.from(parent.context)\n    val view = inflater.inflate(R.layout.activity_display_list_item_r, parent, false)\n    return ItemViewHolder(view)\n  }\n\n  override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    (holder as ItemViewHolder).bind(itemList[position], clickListener)\n  }\n\n  override fun getItemCount() = itemList.size\n\n  override fun getFilter(): Filter {\n    return object : Filter() {\n      override fun performFiltering(charSequence: CharSequence): FilterResults {\n        val charString = charSequence.toString()\n        if (charString.isEmpty()) {\n          searchList = itemList\n        } else {\n          val filteredList = ArrayList&lt;Items_r&gt;()\n          for (row in itemList) {\n\n            if (row.itemName.toLowerCase().contains(charString.toLowerCase())) {\n              filteredList.add(row)\n            }\n          }\n\n          searchList = filteredList\n        }\n\n        val filterResults = FilterResults()\n        filterResults.values = searchList\n        return filterResults\n      }\n\n      override fun publishResults(charSequence: CharSequence, filterResults: FilterResults) {\n        searchList = filterResults.values as ArrayList&lt;Items_r&gt;\n        notifyDataSetChanged()\n      }\n    }\n  }\n\n}\n</code></pre>\n\n<p>SampleActivity.kt</p>\n\n<pre><code>package com.example.ui\n\nimport android.app.Activity\nimport android.app.SearchManager\nimport android.content.Context\nimport android.content.Intent\nimport android.os.Bundle\nimport androidx.appcompat.widget.SearchView\nimport androidx.core.app.NavUtils\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport android.view.Menu\nimport android.view.MenuItem\nimport androidx.recyclerview.widget.DividerItemDecoration\nimport butterknife.ButterKnife\nimport com.example.items.Items_r\nimport com.example.R\nimport com.example.ui.base.BaseActivity\nimport kotlinx.android.synthetic.main.activity_display_list_r.*\n\nclass SampleActivity : BaseActivity() {\n    private var caller = \"\"\n    private var callerClass: Class&lt;*&gt;? = null\n\n    private var rAdapter: RecyclerAdapter? = null\n    private var searchView: SearchView? = null\n\n    /* Access modifiers changed, original: protected */\n    override val selfNavDrawerItem: Int\n        get() = R.id.title_activity_sample\n\n    override fun providesActivityToolbar(): Boolean {\n        return true\n    }\n\n    /* Access modifiers changed, original: protected */\n    public override fun onCreate(bundle: Bundle?) {\n        super.onCreate(bundle)\n        setContentView(R.layout.activity_display_list_r)\n        ButterKnife.bind(this as Activity)\n        setupToolbar()\n\n        val stringArray = resources.getStringArray(R.array.list_sample)\n        val searchList = ArrayList&lt;Items_r&gt;()\n        for (items in stringArray) {\n            searchList.add(Items_r(items))\n        }\n\n        rAdapter = RecyclerAdapter(searchList, { i : Items_r -&gt; handleItemClick(i) })\n        main_recyclerview.layoutManager = LinearLayoutManager(this)\n        main_recyclerview.setHasFixedSize(true)\n        main_recyclerview.addItemDecoration(DividerItemDecoration(this, DividerItemDecoration.VERTICAL))\n        main_recyclerview.adapter = rAdapter\n\n    }\n\n    private fun handleItemClick(i: Items_r) {\n        val intent = Intent(this, LocalActivity::class.java)\n        val stringBuilder = StringBuilder()\n        stringBuilder.append(\"file:///android_asset/samples/\")\n        stringBuilder.append(i.itemName)\n        stringBuilder.append(\".html\")\n        intent.putExtra(\"WEBSITE_URL\", stringBuilder.toString())\n        startActivity(intent)\n    }\n\n    private fun setupToolbar() {\n        val actionBarToolbar = getActionBarToolbar()\n        actionBarToolbar!!.setHomeAsUpIndicator(R.mipmap.ic_menu)\n        actionBarToolbar.setDisplayHomeAsUpEnabled(true)\n    }\n\n    override fun onOptionsItemSelected(menuItem: MenuItem): Boolean {\n        if (menuItem.itemId != R.id.title_home) {\n            return super.onOptionsItemSelected(menuItem)\n        }\n        openDrawer()\n        return true\n    }\n\n    override fun onBackPressed() {\n        this.caller = \"com.example.ui.MainActivity\"\n        try {\n            this.callerClass = Class.forName(this.caller)\n        } catch (e: ClassNotFoundException) {\n            e.printStackTrace()\n        }\n\n        NavUtils.navigateUpTo(this, Intent(this, this.callerClass))\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.search_menu, menu)\n        val searchManager = getSystemService(Context.SEARCH_SERVICE) as SearchManager\n        searchView = menu.findItem(R.id.menu_item_search).actionView as SearchView\n        searchView!!.setSearchableInfo(searchManager.getSearchableInfo(componentName))\n        //searchView!!.setSubmitButtonEnabled(true)\n\n        searchView!!.setOnQueryTextListener(object: SearchView.OnQueryTextListener {\n\n            override fun onQueryTextSubmit(query: String): Boolean {\n                rAdapter!!.filter.filter(query)\n                return false\n            }\n\n            override fun onQueryTextChange(query: String): Boolean {\n                rAdapter!!.filter.filter(query)\n                return false\n            }\n\n        })\n\n        return super.onCreateOptionsMenu(menu)\n    }\n}\n</code></pre>\n\n<p>Items_r.kt Model</p>\n\n<pre><code>package com.example.items\n\ndata class Items_r ( val itemName: String)\n</code></pre>\n\n<p>String Array</p>\n\n<pre><code>    &lt;string-array name=\"list_sample\"&gt;\n        &lt;item&gt;Alpha&lt;/item&gt;\n        &lt;item&gt;Beta&lt;/item&gt;\n        &lt;item&gt;Charlie&lt;/item&gt;\n        &lt;item&gt;Delta&lt;/item&gt;\n        &lt;item&gt;Alpha Romeo&lt;/item&gt;\n        &lt;item&gt;Beta Gamma&lt;/item&gt;\n    &lt;/string-array&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1563247209, "post_id": 57049455, "comment_id": 100626191, "body": "When I create a toy example <code>class C: A(), B { override fun f() { super&lt;A&gt;.f() } }</code>, it compiles. I guess the problem is related to the fact that <code>ArrayList</code> is a Java class. But honestly, I don&#39;t understand the reason (you are right that it&#39;s because <code>ArrayList</code> has its own <code>size()</code>, but my toy example too). A workaround for <code>jvm name clash</code> is to specify Jvm name explicitly, but Kotlin seems to not allow this attribute for interface methods."}], "answers": [{"comments": [{"owner": {"reputation": 3635, "user_id": 429430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/PGfzR.png?s=128&g=1", "display_name": "momo", "link": "https://stackoverflow.com/users/429430/momo"}, "edited": false, "score": 0, "creation_date": 1563287760, "post_id": 57050924, "comment_id": 100645065, "body": "not only did the answer work, your short clear explanation was easily digestible.  thanks a ton"}], "tags": [], "owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "is_accepted": true, "score": 1, "last_activity_date": 1563638063, "last_edit_date": 1563638063, "creation_date": 1563256973, "answer_id": 57050924, "question_id": 57049455, "link": "https://stackoverflow.com/questions/57049455/kotlin-implement-a-method-from-an-interface-thats-already-present-in-super-clas/57050924#57050924", "title": "Kotlin implement a method from an interface that&#39;s already present in super class", "body": "<p>The problem is because kotlin have extension val property for List: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/size.html\" rel=\"nofollow noreferrer\">size</a>.</p>\n\n<p>The first error says that you have two different kotlin \"things\" (method and property) which in jvm are the same. And the second error is because you have <strong>val</strong> implementation in <code>ArrayList</code> and <strong>var</strong> field in interface so your class <code>Cars</code> needs to implement both setter and getter but implements only getter (from <code>List val size</code>).</p>\n\n<p>The solution is simple: just change your interface property to <code>val size: Int</code></p>\n"}], "owner": {"reputation": 3635, "user_id": 429430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/PGfzR.png?s=128&g=1", "display_name": "momo", "link": "https://stackoverflow.com/users/429430/momo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 57050924, "answer_count": 1, "score": 1, "last_activity_date": 1563638063, "creation_date": 1563245803, "question_id": 57049455, "link": "https://stackoverflow.com/questions/57049455/kotlin-implement-a-method-from-an-interface-thats-already-present-in-super-clas", "title": "Kotlin implement a method from an interface that&#39;s already present in super class", "body": "<p>Let's say I have this interface:</p>\n\n<pre><code>interface Things {\n  fun size(): Int\n}\n</code></pre>\n\n<p>And I want to subclass a <code>List</code> and implement this interface.</p>\n\n<pre><code>class Cars : ArrayList&lt;String&gt;, Things {}\n</code></pre>\n\n<p>I get a compilation error:</p>\n\n<blockquote>\n  <p>Inherited platform declarations clash: The following declarations have\n  the same JVM signature (size()I): fun (): Int defined in\n  Things fun size(): Int defined in Things</p>\n</blockquote>\n\n<p>I can get around the compilation error by changing the <code>size</code> contract to a <code>var</code> implicit getter:</p>\n\n<pre><code>interface Things {\n    var size: Int\n}\n</code></pre>\n\n<p>But then I get a long and complicated error that looks like a runtime error (<code>IllegalStateException</code>) but seems to happen when Kotlin is compiling :shrug:</p>\n\n<p>I suspect I know why this is happening - <code>ArrayList</code> already has <code>int size()</code> and Kotlin now tries to add another of the same signature, but even if I'm right (10% chance?) it doesn't help much.  </p>\n\n<p>I'll also mention that it allows me to have <code>get</code> as part of the <code>Things</code> interface, which is satisfied by the list.  I'm guessing the <code>operator</code> operator let's this be just different enough to slide?</p>\n\n<p>So anyway, no IDE errors, but when I build I get this:</p>\n\n<pre><code>java.lang.IllegalStateException: Backend Internal error: Exception during code generation\nCause: Concrete fake override public open fun &lt;set-size&gt;(&lt;set-?&gt;: kotlin.Int): kotlin.Unit defined in org.blah.Stuff[PropertySetterDescriptorImpl@673f2280] should have exactly one concrete super-declaration: []\nFile being compiled at position: file:///blah/Stuff.kt\nThe root cause was thrown at: bridges.kt:122\n    at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:76)\n    at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:96)\n    at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:67)\n    at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)\n    at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:476)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:164)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:166)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:56)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:84)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:42)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:104)\n    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:349)\n    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:105)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:237)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:37)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:79)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:91)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:579)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:455)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1005)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:138)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1047)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1004)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:454)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalStateException: Concrete fake override public open fun &lt;set-size&gt;(&lt;set-?&gt;: kotlin.Int): kotlin.Unit defined in org.blah.Stuff[PropertySetterDescriptorImpl@673f2280] should have exactly one concrete super-declaration: []\n    at org.jetbrains.kotlin.backend.common.bridges.BridgesKt.findConcreteSuperDeclaration(bridges.kt:122)\n    at org.jetbrains.kotlin.backend.common.bridges.BridgesKt.generateBridges(bridges.kt:59)\n    at org.jetbrains.kotlin.codegen.JvmBridgesImplKt.generateBridgesForFunctionDescriptorForJvm(JvmBridgesImpl.kt:92)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateBridges(FunctionCodegen.java:1041)\n    at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBridges(ClassBodyCodegen.java:138)\n    at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:116)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:129)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:302)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:286)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:118)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:137)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:68)\n    ... 44 more\n\n\n&gt; Task :app:buildInfoGeneratorDebug \n</code></pre>\n\n<p>Anything I'm missing.  I've spent most of my life in Java and am late to the Kotlin party.  Any workarounds, alternatives...  or is this a known thing?</p>\n\n<p>TYIA</p>\n"}, {"tags": ["gradle", "kotlin", "groovy"], "answers": [{"tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": true, "score": 0, "last_activity_date": 1563284162, "last_edit_date": 1563284162, "creation_date": 1563283787, "answer_id": 57058428, "question_id": 57049250, "link": "https://stackoverflow.com/questions/57049250/how-do-i-apply-the-kotlin-jvm-plugin-from-another-custom-plugin/57058428#57058428", "title": "How do I apply the Kotlin jvm plugin from another custom plugin?", "body": "<p><code>org.jetbrains.kotlin.gradle.plugin.KotlinPlatformJvmPlugin</code> is the class you're looking for. <a href=\"https://github.com/nebula-plugins/nebula-kotlin-plugin/blob/master/src/main/kotlin/netflix/nebula/NebulaKotlinPlugin.kt#L31\" rel=\"nofollow noreferrer\">Here is the example</a> where they do a similar thing.</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.plugin.KotlinPlatformJvmPlugin\n\nclass OurKotlinPlugin implements Plugin&lt;Project&gt; {\n    @Override\n    void apply(Project project) {\n        project.plugins.apply KotlinPlatformJvmPlugin\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11789431, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VmIP4GFfKfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re3uWwelClQIvOiOfy11tOabRddKg/photo.jpg?sz=128", "display_name": "Creg Bradley", "link": "https://stackoverflow.com/users/11789431/creg-bradley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 57058428, "answer_count": 1, "score": 1, "last_activity_date": 1563284162, "creation_date": 1563243566, "question_id": 57049250, "link": "https://stackoverflow.com/questions/57049250/how-do-i-apply-the-kotlin-jvm-plugin-from-another-custom-plugin", "title": "How do I apply the Kotlin jvm plugin from another custom plugin?", "body": "<p>I'm trying to integrate Kotlin into our build system, which uses custom plugins to encapsulate the set of plugins needed for a particular build archetype. Example: </p>\n\n<pre><code>import org.gradle.api.plugins.GroovyPlugin\nimport org.gradle.api.plugins.JavaPlugin\nimport {our internal Java path}.OurBasePlugin\n\nclass OurJavaPlugin implements Plugin&lt;Project&gt; {\n\n    @Override\n    void apply(Project project) {\n        project.plugins.apply OurBasePlugin\n\n        project.plugins.apply JavaPlugin\n        project.plugins.apply GroovyPlugin\n    }\n}\n\n</code></pre>\n\n<p>I need need to do the same this for Kotlin, but I am stumped as to what plugin to import and apply:</p>\n\n<pre><code>import org.gradle.api.plugins.GroovyPlugin\nimport org.jetbrains.kotlin.[what goes here?]\nimport {our internal Java path}.OurBasePlugin\n\nclass OurKotlinPlugin implements Plugin&lt;Project&gt; {\n\n    @Override\n    void apply(Project project) {\n        project.plugins.apply OurBasePlugin\n\n        project.plugins.apply [what goes here?]\n        project.plugins.apply GroovyPlugin\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1563275733, "post_id": 57048993, "comment_id": 100637746, "body": "Instead of exposing the processor instance, expose some object where you can intercept the call to <code>onNext</code> before it goes into the processor&#39;s onNext."}, {"owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1563275811, "post_id": 57048993, "comment_id": 100637799, "body": "Then I would have to modify all those calls, which I can just add logs to all those calls as well... I was seeking an easier way"}], "answers": [{"comments": [{"owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 0, "creation_date": 1563243903, "post_id": 57049103, "comment_id": 100625585, "body": "Hm this would work if it doesn&#39;t involve thread change (which is probably OK for my case). But I have really a lot of calls on them, do you have any idea how to log it without using debugger?"}, {"owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "reply_to_user": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 0, "creation_date": 1563244391, "post_id": 57049103, "comment_id": 100625672, "body": "Sorry, for log, currently I don&#39;t know any solution. I just search and see that <a href=\"https://www.google.com/search?q=rxjava+logging&amp;rlz=1C1CHBD_enMY807MY807&amp;oq=rxjava+logging&amp;aqs=chrome..69i57j33.4715j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>. Maybe you can try it. If you  found a solution, please post the answer. It may help lot of people"}], "tags": [], "owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "is_accepted": false, "score": 1, "last_activity_date": 1563242042, "creation_date": 1563242042, "answer_id": 57049103, "question_id": 57048993, "link": "https://stackoverflow.com/questions/57048993/is-there-a-way-to-trace-who-invoked-onnext-on-a-subject-in-rxjava2/57049103#57049103", "title": "Is there a way to trace who invoked onNext() on a Subject, in RxJava(2)?", "body": "<p>I think you can use <code>Frames</code> tab in <code>Debug</code> menu.<br>\nFor example, in this case, <code>MainActivity</code> line 18 trigger <code>onNext</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/JYFYw.png\"></p>\n"}, {"comments": [{"owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 0, "creation_date": 1563257805, "post_id": 57049400, "comment_id": 100628704, "body": "This help use trace the thread which invoked <code>onNext</code> not able to trace which line in code invoked right?"}, {"owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "reply_to_user": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 1, "creation_date": 1563257868, "post_id": 57049400, "comment_id": 100628730, "body": "@PhanVanLinh you can get line number from the StackTrace object"}], "tags": [], "owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "is_accepted": true, "score": 2, "last_activity_date": 1563245162, "creation_date": 1563245162, "answer_id": 57049400, "question_id": 57048993, "link": "https://stackoverflow.com/questions/57048993/is-there-a-way-to-trace-who-invoked-onnext-on-a-subject-in-rxjava2/57049400#57049400", "title": "Is there a way to trace who invoked onNext() on a Subject, in RxJava(2)?", "body": "<p>Ah, thanks to @PhanVanLinh, I found a solution that worked for me.</p>\n\n<p>(Actually it has pretty much nothing to do with RxJava...)</p>\n\n<p>You just need to print the stacktrace using <code>Thread.currentThread.stackTrace</code> and print it to your own string inside <code>doOnNext()</code>, but remember to do it <strong>before</strong> <code>.observeOn()</code> so that the thread won't switch, it must stay at the original thread that called <code>.onNext()</code>, otherwise you won't get meaningful information.</p>\n\n<p>Then you will know which line that called <code>.onNext()</code>.</p>\n"}], "owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 57049400, "answer_count": 2, "score": 2, "last_activity_date": 1563245162, "creation_date": 1563240785, "question_id": 57048993, "link": "https://stackoverflow.com/questions/57048993/is-there-a-way-to-trace-who-invoked-onnext-on-a-subject-in-rxjava2", "title": "Is there a way to trace who invoked onNext() on a Subject, in RxJava(2)?", "body": "<p>I am developing an Android app (It doesn't matter though) using RxJava2, and in some singleton there are some <code>PublishProcessor</code>s.</p>\n\n<p>And there are a lot of <code>.onNext()</code> calls on these <code>PublishProcessor</code>s all over the project.</p>\n\n<p>Now in order to debug, I need to know, on every <code>.onNext()</code> called, which line in my project invoked this <code>.onNext()</code>.</p>\n\n<p>Is there a way in RxJava(2) that I can achieve this?</p>\n"}, {"tags": ["android", "kotlin", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "edited": false, "score": 0, "creation_date": 1563263934, "post_id": 57051409, "comment_id": 100631510, "body": "I have configLiveData and I want to fetch settings and observe settingsData(mutableData) in fragment ,  should I use switchMap?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "edited": false, "score": 0, "creation_date": 1563265472, "post_id": 57051409, "comment_id": 100632303, "body": "I would just create <code>mutableData</code> outside (like you presumably do with <code>errorMessageMutableData</code>) and <code>post</code> to it in an observer on <code>configLiveData</code>. <code>switchMap</code> can be used too."}, {"owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "edited": false, "score": 0, "creation_date": 1563265695, "post_id": 57051409, "comment_id": 100632401, "body": "Thanks will do it. and concerning  switchMap in cases when I need to do another request during transformation I do switchMap but in this simple cases map. do you agree?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "edited": false, "score": 0, "creation_date": 1563266926, "post_id": 57051409, "comment_id": 100633092, "body": "@ArturA Just looking at the types should tell you. Again: 1. if you don&#39;t use the result it should likely be just <code>addObserver</code>. Both <code>map</code> and <code>switchMap</code> return results which should be used. 2. Here <code>map</code> gives you <code>LiveData&lt;MutableLiveData&lt;Settings&gt;&gt;</code>. Is that what you want?"}, {"owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "edited": false, "score": 0, "creation_date": 1563275140, "post_id": 57051409, "comment_id": 100637382, "body": "``` fun loadTheme(): LiveData&lt;Response&lt;Theme?&gt;&gt; {     return configLiveData.map { configFile -&gt;        when (configFile) {         is Response.Success&lt;ConfigFile&gt; -&gt; {           Response.Success(configFile.data.config?.theme)         }         is Response.Failure -&gt; {           Response.Failure(configFile.message)         }       }     }   } ``` I see thanks Iearnt something new ."}, {"owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "edited": false, "score": 0, "creation_date": 1563275376, "post_id": 57051409, "comment_id": 100637538, "body": "@Alexsey Romanov  I have edited my question and you can see how it looks like but what I  am thinking is there any way to avoid returning Result.Failure case? and when you mentioned addObserve but in that case I need to have lifecycleOwner yes? but I am in ViewModel"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1563267217, "last_edit_date": 1563267217, "creation_date": 1563259281, "answer_id": 57051409, "question_id": 57048041, "link": "https://stackoverflow.com/questions/57048041/how-to-make-this-nicer-in-kotlin/57051409#57051409", "title": "How to make this nicer in Kotlin?", "body": "<blockquote>\n  <p>can I have anonymous in map {}</p>\n</blockquote>\n\n<p>Yes, of course. You already do: <code>{ configFile -&gt; return@map convert(configFile) }</code> is a lambda (which could equally be written <code>{ configFile -&gt; convert(configFile) }</code> or <code>{ convert(it) }</code>, or even <code>::convert</code>). If you don't want to make <code>convert</code> a separate function, just inline it into the lambda:</p>\n\n<pre><code>configLiveData.map { configFile -&gt;\n    val mutableData = MutableLiveData&lt;Setting&gt;()\n    when (configFile) {\n        is Response.Success&lt;ConfigFile&gt; -&gt; {\n            mutableData.postValue(configFile.data.config?.settings)\n        }\n        is Response.Failure -&gt; {\n            errorMessageMutableData.postValue(it.message)\n        }\n    }\n    mutableData // no need for return@map\n}\n</code></pre>\n\n<p>But the problem is that if that's your real code, it probably doesn't actually do what you want, because </p>\n\n<ol>\n<li><p>you create a <code>LiveData&lt;MutableLiveData&lt;Settings&gt;&gt;</code> (did you want <a href=\"https://developer.android.com/reference/android/arch/lifecycle/Transformations.html#switchMap(android.arch.lifecycle.LiveData%3CX%3E,%20android.arch.core.util.Function%3CX,%20android.arch.lifecycle.LiveData%3CY%3E%3E)\" rel=\"nofollow noreferrer\"><code>switchMap</code></a> instead of <code>map</code>?); </p></li>\n<li><p>you then throw it away; </p></li>\n<li><p>if you get a <code>Response.Success</code>, it's effectively ignored (because you just <code>post</code> data from it into an unobserved <code>LiveData</code>).</p></li>\n</ol>\n"}], "owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57051409, "answer_count": 1, "score": 0, "last_activity_date": 1563275236, "creation_date": 1563230972, "last_edit_date": 1563275236, "question_id": 57048041, "link": "https://stackoverflow.com/questions/57048041/how-to-make-this-nicer-in-kotlin", "title": "How to make this nicer in Kotlin?", "body": "<p>I this piece of code I would like to know instead of having convert() separate can I have anonymous in map {}</p>\n\n<pre><code>fun &lt;A, B&gt; LiveData&lt;A&gt;.map(function: (A) -&gt; B): LiveData&lt;B&gt; = Transformations.map(this, function)\n\nfun loadSettings() {\n    configLiveData.map { configFile -&gt;\n      return@map convert(configFile)\n    }\n  }\n\n  fun convert(configFile: Response&lt;ConfigFile&gt;): MutableLiveData&lt;Settings&gt; {\n    val mutableData = MutableLiveData&lt;Setting&gt;()\n    when (configFile) {\n      is Response.Success&lt;ConfigFile&gt; -&gt; {\n        mutableData.postValue(configFile.data.config?.settings)\n      }\n      is Response.Failure -&gt; {\n        errorMessageMutableData.postValue(it.message)\n      }\n    }\n    return mutableData\n}\n</code></pre>\n\n<p>final result I have</p>\n\n<pre><code>fun loadTheme(): LiveData&lt;Response&lt;Theme?&gt;&gt; {\n    return configLiveData.map { configFile -&gt;\n\n      when (configFile) {\n        is Response.Success&lt;ConfigFile&gt; -&gt; {\n          Response.Success(configFile.data.config?.theme)\n        }\n        is Response.Failure -&gt; {\n          Response.Failure(configFile.message)\n        }\n      }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1571655659, "post_id": 57046987, "comment_id": 103300688, "body": "I have also faced the same issue, maybe  UTF 8 conversion issue and try to relocate your project."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 8078393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977ef9b8ab35f489734af431c9b5dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "BluRe.CN", "link": "https://stackoverflow.com/users/8078393/blure-cn"}, "edited": false, "score": 0, "creation_date": 1571655919, "post_id": 58484830, "comment_id": 103300810, "body": "I experienced this sometime ago, mine got mixed up each time my laptop shuts down in the middle of build or syncing due to power failure, courtesy of a faulty battery. After replacing, I&#39;m yet to experience it again."}], "tags": [], "owner": {"reputation": 31, "user_id": 9188955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d587bce91b824fcc4a0e7743e775852b?s=128&d=identicon&r=PG&f=1", "display_name": "yahelck", "link": "https://stackoverflow.com/users/9188955/yahelck"}, "is_accepted": false, "score": 0, "last_activity_date": 1571655341, "creation_date": 1571655341, "answer_id": 58484830, "question_id": 57046987, "link": "https://stackoverflow.com/questions/57046987/my-code-in-kotlin-classes-is-automatically-replaced-by-some-xml-code-in-android/58484830#58484830", "title": "My code in kotlin classes is automatically replaced by some XML code in Android Studio", "body": "<p>There's a known bug in Android Studio where sometimes your project files will get randomly mixed with one another and just ruin your entire project.</p>\n\n<p>I'm not sure if this is the case here, but to solve this I'd suggest you try deleting the contents of this folder:</p>\n\n<p><code>C:\\Users\\[your-username]\\.AndroidStudio3.5\\system\\caches</code></p>\n\n<p>The <code>.AndroidStudio3.5</code> folder might have a different version number.</p>\n\n<p>After you're cleared the folder, restart Android Studio.</p>\n\n<p>If this doesn't fix your project files, your other options is to restore them using your VCS, if you're used one.</p>\n"}], "owner": {"reputation": 1, "user_id": 11788493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba5c92102abe4baba9f031c5e3675d74?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/11788493/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571655341, "creation_date": 1563223658, "question_id": 57046987, "link": "https://stackoverflow.com/questions/57046987/my-code-in-kotlin-classes-is-automatically-replaced-by-some-xml-code-in-android", "title": "My code in kotlin classes is automatically replaced by some XML code in Android Studio", "body": "<p>I have a project for Android, in Android Studio. For some reason, code in my kotlin files is automatically replaced by some strange xml code.</p>\n\n<p>I don't have any idea why this is happening</p>\n\n<p>For example code below:</p>\n\n<pre><code>package com.alex.willtrip.objectbox.helpers\n\nimport com.alex.willtrip.objectbox.ObjectBox\nimport com.alex.willtrip.objectbox.converters.LocalDateConverter\nimport io.objectbox.Box\nimport io.objectbox.annotation.Convert\nimport io.objectbox.annotation.Entity\nimport io.objectbox.annotation.Id\nimport io.objectbox.annotation.Index\nimport org.threeten.bp.LocalDate\n\n@Entity\nclass DateEntity (@Id var id: Long = 0, @Index val link: Long,\n                 @Convert(converter = LocalDateConverter::class, dbType = Long::class)\n                 val date: LocalDate)\n\nclass DateSaver {\n\n    private fun getBox (): Box&lt;DateEntity&gt; {\n        return ObjectBox.boxStore.boxFor(DateEntity::class.java)\n    }\n\n    fun getDate (link: Long): LocalDate? {\n        return getBox().query().equal(DateEntity_.link, link).build().findUnique()?.date\n    }\n\n    fun saveDate (link: Long, date: LocalDate) {\n        val id = getBox().query().equal(DateEntity_.link, link).build().findUnique()?.id ?: 0\n        getBox().put(DateEntity(id, link, date))\n    }\n}\n</code></pre>\n\n<p>is replaced by code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project version=\"4\"&gt;\n  &lt;component name=\"CMakeSettings\"&gt;\n    &lt;configurations&gt;\n      &lt;configuration PROFILE_NAME=\"Debug\" CONFIG_NAME=\"Debug\" /&gt;\n    &lt;/configurations&gt;\n  &lt;/component&gt;\n  &lt;component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_7\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\"&gt;\n    &lt;output url=\"file://$PROJECT_DIR$/build/classes\" /&gt;\n  &lt;/component&gt;\n  &lt;component name=\"ProjectType\"&gt;\n    &lt;option name=\"id\" value=\"Android\" /&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "datepicker", "android-edittext", "android-datepicker"], "comments": [{"owner": {"reputation": 361, "user_id": 10452701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuD4B.jpg?s=128&g=1", "display_name": "Nurbol", "link": "https://stackoverflow.com/users/10452701/nurbol"}, "edited": false, "score": 0, "creation_date": 1563221282, "post_id": 57046174, "comment_id": 100620469, "body": "Try to use <code>findViewById()</code>."}, {"owner": {"reputation": 444, "user_id": 9582313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d1aa6d1903fdf58e9351c3aa0100864?s=128&d=identicon&r=PG&f=1", "display_name": "sinan", "link": "https://stackoverflow.com/users/9582313/sinan"}, "reply_to_user": {"reputation": 361, "user_id": 10452701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuD4B.jpg?s=128&g=1", "display_name": "Nurbol", "link": "https://stackoverflow.com/users/10452701/nurbol"}, "edited": false, "score": 0, "creation_date": 1563221459, "post_id": 57046174, "comment_id": 100620543, "body": "Thanks for suggestion but in Kotlin you dont need findViewById() and it is tested already in previous lines by directly calling the ID"}], "answers": [{"tags": [], "owner": {"reputation": 482, "user_id": 1568148, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbd40be6fef48b11c08489d924b01970?s=128&d=identicon&r=PG", "display_name": "Turvy", "link": "https://stackoverflow.com/users/1568148/turvy"}, "is_accepted": true, "score": 2, "last_activity_date": 1563221222, "creation_date": 1563221222, "answer_id": 57046512, "question_id": 57046174, "link": "https://stackoverflow.com/questions/57046174/how-to-set-text-for-edittext-with-date-picker-in-kotlin/57046512#57046512", "title": "How to set Text for EditText with Date Picker in Kotlin", "body": "<p>for me calendarEditText is null because you call it in a DatePickerFragment, so you are in a different context.</p>\n\n<p>In your onDataSet, update edittext like that :</p>\n\n<pre><code>((MyActivity) activity).setEdt(date);\n</code></pre>\n\n<p>and in your activity, something like that : </p>\n\n<pre><code>public setEdt(date: String): void {\ncalendarEditText.setText(date)\n}\n</code></pre>\n\n<p>or follow this <a href=\"https://www.tutorialkart.com/kotlin-android/android-datepicker-kotlin-example/\" rel=\"nofollow noreferrer\">tuto</a> to avoid fragment</p>\n"}], "owner": {"reputation": 444, "user_id": 9582313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d1aa6d1903fdf58e9351c3aa0100864?s=128&d=identicon&r=PG&f=1", "display_name": "sinan", "link": "https://stackoverflow.com/users/9582313/sinan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1826, "favorite_count": 0, "accepted_answer_id": 57046512, "answer_count": 1, "score": 0, "last_activity_date": 1563221222, "creation_date": 1563219372, "question_id": 57046174, "link": "https://stackoverflow.com/questions/57046174/how-to-set-text-for-edittext-with-date-picker-in-kotlin", "title": "How to set Text for EditText with Date Picker in Kotlin", "body": "<p>I am new to Kotlin and android app development. </p>\n\n<p>I am following a online course and one of the exercises is picking date to remind a to do item at certain time. </p>\n\n<p>What i did is created EditText and implemented DatePicker. When user clicks date picker is opened and after I select the date, I can not set to text of EditText.</p>\n\n<p>BTW I already checked other related questions and it says check your id to make sure you are referring to non null widget in correct layout file. I double checked it and it is not the problem</p>\n\n<p>Here is the error.</p>\n\n<blockquote>\n  <p>Attempt to invoke virtual method 'void android.widget.EditText.setText(java.lang.CharSequence)' on a null object reference</p>\n</blockquote>\n\n<pre><code>//EditText on layout file\n&lt;EditText\n    android:id=\"@+id/calendarEditText\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_weight=\"1\"\n    android:hint=\"Select your date\"\n    android:focusable=\"false\"\n/&gt;\n\n//My Kotlin code\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_add)\n\n    //DatePicker is called inside onCreate function\n    calendarEditText.setOnClickListener {\n        val newFragment = DatePickerFragment()\n        newFragment.show(supportFragmentManager, \"datePicker\")\n    }\n}\n// DateSet part of my DatePickerFragment\noverride fun onDateSet(view: DatePicker, year: Int, month: Int, dayOfMonth: Int) {\n\n    //selected date converted into one string\n    val date = \"$year/$month/$dayOfMonth\"\n\n    //this is where I got the error\n    calendarEditText.setText(date)\n}\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-annotations"], "comments": [{"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1563212537, "post_id": 57044638, "comment_id": 100617228, "body": "Try <code>@GetMapping(&quot;&#47;sayHi&quot;)fun sayHi() : String {</code>"}, {"owner": {"reputation": 1152, "user_id": 2028671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2781ec52ddc4850e42925cf4ec46486?s=128&d=identicon&r=PG&f=1", "display_name": "Sachith Dickwella", "link": "https://stackoverflow.com/users/2028671/sachith-dickwella"}, "edited": false, "score": 0, "creation_date": 1563245821, "post_id": 57044638, "comment_id": 100625943, "body": "<code>@RequestMapping</code> should be like this <code>@RequestMapping(path = &quot;&#47;sayHi&quot;, method = arrayOf(RequestMethod.GET))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4039, "user_id": 7887516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4570de3bf004dca0f8497882cd311a59?s=128&d=identicon&r=PG&f=1", "display_name": "Ananthapadmanabhan", "link": "https://stackoverflow.com/users/7887516/ananthapadmanabhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1563256318, "creation_date": 1563256318, "answer_id": 57050814, "question_id": 57044638, "link": "https://stackoverflow.com/questions/57044638/requestmapping-does-not-work-with-get-request/57050814#57050814", "title": "@RequestMapping does not work with GET request", "body": "<p>Can you try separating the main class from the controller class. Spring boot follows the MVC architecture and it's better to keep the logic separate from the main class. The <code>@Controller</code> annotation etc might not work was expected when used in the main class itself.</p>\n\n<pre><code>@SpringBootApplication\nclass Demo2Application {\n  fun main(args: Array&lt;String&gt;) {\n   runApplication&lt;Demo2Application&gt;(*args)\n  }   \n}\n\n@RestController\n@RequestMapping(\"/root\")\nclass HelloRestController {\n\n  @GetMapping(\"/sayHi\") // or @RequestMapping(value= \"/sayHi\", method = RequestMethod.GET)\n  fun sayHi() : String {\n   return \"..hi\"\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "is_accepted": false, "score": 0, "last_activity_date": 1563300663, "creation_date": 1563300663, "answer_id": 57063186, "question_id": 57044638, "link": "https://stackoverflow.com/questions/57044638/requestmapping-does-not-work-with-get-request/57063186#57063186", "title": "@RequestMapping does not work with GET request", "body": "<p><code>@RequestMapping</code> methods needs to be in <code>@RestController</code> class - spring scan for <code>@Controller</code> classes, then it is looking for all <code>@RequestMapping</code> methods of that class. But your class ends in the same line that it starts (because there is lack of braces {} telling where is a class body).</p>\n\n<p>To fix your problem, you need to move your <code>@RequestMapping</code> function before main function and open class body before <code>fun sayHi</code> and close right after that:</p>\n\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(\"/root\")\nclass Demo2Application { // ******* this opens class body ********\n\n    @RequestMapping(\"/sayHi\", method = arrayOf(RequestMethod.GET))\n    @ResponseBody\n    fun sayHi() : String {\n        return \"..hi\"\n    }\n} // ******* this closes class body *********\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;Demo2Application&gt;(*args)\n}\n</code></pre>\n\n<p>When you put function in class body in kotlin - its the same as java method inside class body. But when you put function directly in file (outside of class body) - its like static method in java. Additionally these static methods from kotlin - in JVM will appear in different class: <code>FileNameKt</code> (for example for file <code>demo.kt</code> your function <code>sayHi()</code> will appear in JVM as static method <code>DemoKt.sayHi()</code>, not as the member of <code>Demo2Application</code> instance method</p>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1563300663, "creation_date": 1563212004, "last_edit_date": 1563238850, "question_id": 57044638, "link": "https://stackoverflow.com/questions/57044638/requestmapping-does-not-work-with-get-request", "title": "@RequestMapping does not work with GET request", "body": "<p>I am trying get a simple spring boot app working on Mac.<br>\nI am using the following \nport:8080 also tried 8085, 8081</p>\n\n<p>in postman:<a href=\"http://localhost:8080/root/sayHi\" rel=\"nofollow noreferrer\">http://localhost:8080/root/sayHi</a> GET-Request</p>\n\n<p>but the result I am getting in error..I have done the same example on windows but it was working</p>\n\n<p>please let me know how to fix this error</p>\n\n<p><strong>code</strong></p>\n\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(\"/root\")\nclass Demo2Application\n\n\nfun main(args: Array&lt;String&gt;) {\nrunApplication&lt;Demo2Application&gt;(*args)\n}\n\n@RequestMapping(\"/sayHi\", method = arrayOf(RequestMethod.GET))\n@ResponseBody\nfun sayHi() : String {\nreturn \"..hi\"\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1563211224, "post_id": 57044447, "comment_id": 100616692, "body": "Most Android devices have capacitive touchscreens. They do not work well when touched by non-conductive surfaces, such as a bottle or book."}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1563216494, "post_id": 57044447, "comment_id": 100618689, "body": "i agree with the great android sensei @CommonsWare with this one, most phones are just not able to do that as they are specifically designed to detect specific touch input"}], "answers": [{"comments": [{"owner": {"reputation": 945, "user_id": 394842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f635789c47f734898a6e8dd16052dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Genevieve", "link": "https://stackoverflow.com/users/394842/genevieve"}, "edited": false, "score": 0, "creation_date": 1563286187, "post_id": 57050600, "comment_id": 100643994, "body": "Ah. That explains a lot. Thanks"}], "tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": true, "score": 1, "last_activity_date": 1563255237, "creation_date": 1563255237, "answer_id": 57050600, "question_id": 57044447, "link": "https://stackoverflow.com/questions/57044447/detect-pressure-on-screen-without-finger-like-object/57050600#57050600", "title": "Detect pressure on screen without finger-like object", "body": "<p>To give you a complete answer :</p>\n\n<p>\"A capacitive touch screen is a control display that uses the conductive touch of a human finger or a specialized device for input.</p>\n\n<p>Unlike resistive and surface wave panels, which can sense input from either fingers or simple styluses, capacitive touch screen panels must be touched with a finger or a special capacitive pen or glove. The panel is coated with a material that can store electrical charges and the location of touch to the screen is signaled by the change in capacitance in that location.\"</p>\n\n<p>Most devices these days use capacitive screens and therefore you probably wont be able to achieve what you want to achieve. taken from : <a href=\"https://whatis.techtarget.com/definition/capacitive-touch-screen\" rel=\"nofollow noreferrer\">https://whatis.techtarget.com/definition/capacitive-touch-screen</a></p>\n"}], "owner": {"reputation": 945, "user_id": 394842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f635789c47f734898a6e8dd16052dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Genevieve", "link": "https://stackoverflow.com/users/394842/genevieve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57050600, "answer_count": 1, "score": 0, "last_activity_date": 1563255237, "creation_date": 1563211015, "question_id": 57044447, "link": "https://stackoverflow.com/questions/57044447/detect-pressure-on-screen-without-finger-like-object", "title": "Detect pressure on screen without finger-like object", "body": "<p>I'm trying to measure the pressure of something on an android screen, however it can't be detected using an onTouch method because it isn't anything like a finger (something like a bottle, book, etc..).  Is there a way to bypass this, or can the touch screen not read these kinds of objects? </p>\n\n<p>I don't need a specific pressure measurement, just either 0 or 1, but nothing I've found ever addresses this.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 753, "user_id": 2607144, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1pRES.jpg?s=128&g=1", "display_name": "Azhar92", "link": "https://stackoverflow.com/users/2607144/azhar92"}, "edited": false, "score": 0, "creation_date": 1563206597, "post_id": 57043372, "comment_id": 100614640, "body": "Use SwipeRefreshLayout and then use this : <a href=\"https://stackoverflow.com/questions/23341735/swiperefreshlayout-swipe-down-to-refresh-but-not-move-the-view-pull-down\" title=\"swiperefreshlayout swipe down to refresh but not move the view pull down\">stackoverflow.com/questions/23341735/&hellip;</a>.  You&#39;ll get the callback without the pull down animation"}, {"owner": {"reputation": 45, "user_id": 10597274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d59f7193d1b798805ecac10adba8a78?s=128&d=identicon&r=PG&f=1", "display_name": "Lyam.D", "link": "https://stackoverflow.com/users/10597274/lyam-d"}, "reply_to_user": {"reputation": 753, "user_id": 2607144, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1pRES.jpg?s=128&g=1", "display_name": "Azhar92", "link": "https://stackoverflow.com/users/2607144/azhar92"}, "edited": false, "score": 0, "creation_date": 1563206860, "post_id": 57043372, "comment_id": 100614758, "body": "I&#39;ve just leave work, I&#39;ll try that tomorrow and keep it updated, thanks"}], "owner": {"reputation": 45, "user_id": 10597274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d59f7193d1b798805ecac10adba8a78?s=128&d=identicon&r=PG&f=1", "display_name": "Lyam.D", "link": "https://stackoverflow.com/users/10597274/lyam-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563206214, "creation_date": 1563206214, "question_id": 57043372, "link": "https://stackoverflow.com/questions/57043372/recyclerview-callback-when-pulling-top", "title": "RecyclerView callback when pulling top", "body": "<p>I've implement an <code>OnScrollListener</code> that hide some other <code>Views</code> when  my <code>recyclerView</code> is scrolled down.\nNow I just want a way to show again these <code>Views</code> when the user reach the top of the <code>RecyclerView</code> and pull it.</p>\n\n<p><strong>I do not want to use the <code>SwipeRefreshLayout</code></strong>, I don't have anything to refresh and I don't want the bounce effect.\nI just need a callback when the user pull at the top set my views visibility to <code>View.VISIBLE</code>. <strong>Also I need it to work even if my recyclerView does not contain enough data to fill the screen</strong>.</p>\n\n<p>Didn't find anything on the web that allowed me to do that whitout implementing x useless function, or worked whitout a full recyclerView</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1563204542, "post_id": 57042863, "comment_id": 100613518, "body": "Please post the preview of image and what you want."}, {"owner": {"reputation": 53, "user_id": 11266036, "user_type": "registered", "profile_image": "https://graph.facebook.com/577543622750534/picture?type=large", "display_name": "Wijdan Ramadan", "link": "https://stackoverflow.com/users/11266036/wijdan-ramadan"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1563204976, "post_id": 57042863, "comment_id": 100613810, "body": "@Ashish I have added the image and the result  I want the original image to be shown"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 11777290, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157378126262520/picture?type=large", "display_name": "Henry Peregrino", "link": "https://stackoverflow.com/users/11777290/henry-peregrino"}, "is_accepted": false, "score": 0, "last_activity_date": 1563204925, "creation_date": 1563204925, "answer_id": 57042991, "question_id": 57042863, "link": "https://stackoverflow.com/questions/57042863/how-to-make-an-imageview-fits-the-screen-in-fragment-layout-constraint-or-fram/57042991#57042991", "title": "how to make an imageview fits the screen in fragment layout / constraint or frame layout /", "body": "<p>You can try with two android attributes for an ImageView:</p>\n\n<pre><code>android:scaleType=\"fitCenter\"\nandroid:adjustViewBounds=\"true\"\n</code></pre>\n\n<p>The option fitCenter tells the image to always center itself to the size of its layout container.\nThe option adjustViewBounds tells the image to fit in its layout.</p>\n"}], "owner": {"reputation": 53, "user_id": 11266036, "user_type": "registered", "profile_image": "https://graph.facebook.com/577543622750534/picture?type=large", "display_name": "Wijdan Ramadan", "link": "https://stackoverflow.com/users/11266036/wijdan-ramadan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563204925, "creation_date": 1563204412, "last_edit_date": 1563204905, "question_id": 57042863, "link": "https://stackoverflow.com/questions/57042863/how-to-make-an-imageview-fits-the-screen-in-fragment-layout-constraint-or-fram", "title": "how to make an imageview fits the screen in fragment layout / constraint or frame layout /", "body": "<p>I am trying to make an imageView fits the constraintlayout of a fragment \nwhen I run the code I get part of the image fitting the screen not the full image \nthis is the xml of my fragment </p>\n\n<p>today_fragment.xml</p>\n\n<pre><code>\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n\n    &lt;ImageView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:src=\"@drawable/prague\"\n            android:scaleType=\"fitXY\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"&gt;\n    &lt;/ImageView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>and this is</p>\n\n<p>TodayFragment.kt</p>\n\n<pre><code>class TodayFragment : Fragment() {\n\n    lateinit var info :CardviewWeatherInfo\n    lateinit var prague :ImageView\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.today_fragment, container , false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n    }\n\n\n}\n</code></pre>\n\n<p>this is the original image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/l61bZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l61bZ.jpg\" alt=\"this is the original image \"></a></p>\n\n<p>and this is what I get when I run the code</p>\n\n<p><a href=\"https://i.stack.imgur.com/GVKPl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GVKPl.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1563204878, "post_id": 57042306, "comment_id": 100613738, "body": "How do you get the response? What is the type of the response?"}, {"owner": {"reputation": 21, "user_id": 11672592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g6zi4R_U4bg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdMg_qcKVzv10PnGKppccwFDvKpbQ/mo/photo.jpg?sz=128", "display_name": "Dawhn", "link": "https://stackoverflow.com/users/11672592/dawhn"}, "reply_to_user": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1563205027, "post_id": 57042306, "comment_id": 100613843, "body": "The response is here <code>Response{protocol=http&#47;1.1, code=200, message=OK</code> I used print ln for that. But i want to have that print to a textview"}, {"owner": {"reputation": 927, "user_id": 2015751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29d0313be56df012c70064c768046964?s=128&d=identicon&r=PG", "display_name": "daemontus", "link": "https://stackoverflow.com/users/2015751/daemontus"}, "edited": false, "score": 0, "creation_date": 1563205790, "post_id": 57042306, "comment_id": 100614266, "body": "Then you probably just want to call <code>textView.setText(response.toString())</code> (println does that for you automatically)"}, {"owner": {"reputation": 21, "user_id": 11672592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g6zi4R_U4bg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdMg_qcKVzv10PnGKppccwFDvKpbQ/mo/photo.jpg?sz=128", "display_name": "Dawhn", "link": "https://stackoverflow.com/users/11672592/dawhn"}, "edited": false, "score": 0, "creation_date": 1563208596, "post_id": 57042306, "comment_id": 100615539, "body": "when doing that the application crashed Why is that? this is the error <code>android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11672592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g6zi4R_U4bg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdMg_qcKVzv10PnGKppccwFDvKpbQ/mo/photo.jpg?sz=128", "display_name": "Dawhn", "link": "https://stackoverflow.com/users/11672592/dawhn"}, "edited": false, "score": 0, "creation_date": 1563285947, "post_id": 57049565, "comment_id": 100643811, "body": "I did this ```        val textView: TextView = findViewById(R.id.textView) as TextView         textView.setOnClickListener {              textView.setText(response.toString()) ```"}], "tags": [], "owner": {"reputation": 129, "user_id": 11732119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a70d8e97a64e658df0ffd61c72309d?s=128&d=identicon&r=PG&f=1", "display_name": "lazy", "link": "https://stackoverflow.com/users/11732119/lazy"}, "is_accepted": true, "score": 0, "last_activity_date": 1563247109, "creation_date": 1563247109, "answer_id": 57049565, "question_id": 57042306, "link": "https://stackoverflow.com/questions/57042306/change-textview-to-println-output/57049565#57049565", "title": "Change textview to println output", "body": "<p>You can't update UI directly in non-main thread.</p>\n\n<p>try to use handler or runOnUiThread().</p>\n\n<pre><code>runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    // update TextView here\n                    textView.setText(response)\n                }\n            });\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11672592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g6zi4R_U4bg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdMg_qcKVzv10PnGKppccwFDvKpbQ/mo/photo.jpg?sz=128", "display_name": "Dawhn", "link": "https://stackoverflow.com/users/11672592/dawhn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57049565, "answer_count": 1, "score": 0, "last_activity_date": 1563247219, "creation_date": 1563202298, "last_edit_date": 1563247219, "question_id": 57042306, "link": "https://stackoverflow.com/questions/57042306/change-textview-to-println-output", "title": "Change textview to println output", "body": "<p>I have a response from an api but I can't seem to print it to a textview\nI tried to do what people said on the forum but nothing works</p>\n\n<p>I tried using </p>\n\n<pre><code>TextView textView = (TextView)findViewById(R.id.textView)\ntextView.setText(response)\n</code></pre>\n\n<p>but that dosent work\nhere is some code</p>\n\n<pre><code>val response = client.newCall(request).execute()\nprintln(request)\nprintln(response)\nTextView textView = (TextView)findViewById(R.id.textView)\ntextView.setText(response)\n</code></pre>\n\n<p>I just want to know how i could print the response from the api.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 2015751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29d0313be56df012c70064c768046964?s=128&d=identicon&r=PG", "display_name": "daemontus", "link": "https://stackoverflow.com/users/2015751/daemontus"}, "is_accepted": true, "score": 1, "last_activity_date": 1563794357, "last_edit_date": 1563794357, "creation_date": 1563205549, "answer_id": 57043183, "question_id": 57042091, "link": "https://stackoverflow.com/questions/57042091/how-to-convert-java-map-to-read-it-in-kotlin/57043183#57043183", "title": "how to convert Java Map to read it in Kotlin?", "body": "<p>Well, this is a typical problem with JVM generics. <code>Class&lt;LinkedHashMap&gt;</code> carries no info on what are the actual types of its keys and values, so the <code>keyValues</code> variable always ends up with the type <code>LinkedHashMap&lt;*, *&gt;</code> simply because it can't be checked at compile time. There are two ways around this:</p>\n\n<h3>Unsafe Cast</h3>\n\n<p>This is how you would deal with the problem in standard Java: just cast the <code>LinkedHashMap&lt;*, *&gt;</code> to <code>LinkedHashMap&lt;String, Any&gt;</code> (or whatever is the actual expected type). This produces a warning because the compiler can't verify the cast is safe, but it is also generally known such situations are often unavoidable when dealing with JVM generics and serialisation.</p>\n\n<pre><code>YamlConfigurationFactory(LinkedHashMap::class.java, ...) as LinkedHashMap&lt;String, Any&gt;\n</code></pre>\n\n<h3>Type Inference Magic</h3>\n\n<p>When using Kotlin, you can avoid the cast by actually creating instance of <code>Class&lt;LinkedHashMap&lt;String, Any&gt;&gt;</code> explicitly. Of course, since this is still JVM, you lose all the type info at runtime, but it should be enough to tell the type inference engine what your result should be. However, you'll need a special helper method for this (or at least I haven't found a simpler solution yet), but that method needs to be declared just once somewhere in your project:</p>\n\n<pre><code>inline fun &lt;reified T&gt; classOf(): Class&lt;T&gt; = T::class.java\n...\nval factory = YamlConfigurationFactory(classOf&lt;LinkedHashMap&lt;String, Any&gt;&gt;(), ...)\n</code></pre>\n\n<p>Using this \"hack\", you'll get an instance of LinkedHashMap directly, however, always remember that this is just extra info for the type inference engine but effectively it just hides the unsafe cast. Also, you can't use this if the type is not known at compile type (<code>reified</code>).</p>\n"}], "owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 57043183, "answer_count": 1, "score": 1, "last_activity_date": 1563794357, "creation_date": 1563201573, "question_id": 57042091, "link": "https://stackoverflow.com/questions/57042091/how-to-convert-java-map-to-read-it-in-kotlin", "title": "how to convert Java Map to read it in Kotlin?", "body": "<p>I am facing some very basic problem (that never faced in java before) and might be due my lack of knowledge in Kotlin.</p>\n\n<p>I am currently trying to read a YML file. So Im doing it in this way:</p>\n\n<pre><code>private val factory = YamlConfigurationFactory(LinkedHashMap::class.java, validator, objectMapper, \"dw\")\n</code></pre>\n\n<p>Best on Dropwizard guide for configurations.</p>\n\n<p><a href=\"https://www.dropwizard.io/1.3.12/docs/manual/testing.html\" rel=\"nofollow noreferrer\">https://www.dropwizard.io/1.3.12/docs/manual/testing.html</a></p>\n\n<p>So later in my function I do this\"</p>\n\n<pre><code> val yml = File(Paths.get(\"config.yml\").toUri())\n var keyValues =  factory.build(yml)\n</code></pre>\n\n<p>When using my debugger I can see there is a Map with key->values, just as it should be.</p>\n\n<p>now when I do keyValues.get(\"my-key\")</p>\n\n<pre><code>type inference failed. the value of the type parameter k should be mentioned in input types\n</code></pre>\n\n<p>Tried this but no luck</p>\n\n<pre><code>var keyValues =  LinkedHashMap&lt;String, Any&gt;()\nkeyValues =  factory.build(yml)\n</code></pre>\n\n<p>The YamlConfigurationFactory requires a class to map to, but I dont know if there is a more direct way to specify a Kotlin class than with the current solution +.kotlin, like</p>\n\n<pre><code>LinkedHashMap::class.java.kotlin\n</code></pre>\n\n<p>Here it also throws an error.</p>\n\n<p>Ideas?</p>\n"}]