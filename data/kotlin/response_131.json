[{"tags": ["kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "edited": false, "score": 0, "creation_date": 1592881572, "post_id": 45069337, "comment_id": 110576378, "body": "Check this blog: <a href=\"https://www.android4dev.com/how-to-use-data-class-in-kotlin/\" rel=\"nofollow noreferrer\">android4dev.com/how-to-use-data-class-in-kotlin</a> or You can also watch this video <a href=\"https://www.youtube.com/watch?v=knZ8Vk_Hkcs\" rel=\"nofollow noreferrer\">youtube.com/watch?v=knZ8Vk_Hkcs</a>"}, {"owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 0, "creation_date": 1600971274, "post_id": 45069337, "comment_id": 113265373, "body": "@josedlujan, I have added an answer to your question."}], "answers": [{"comments": [{"owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499905223, "post_id": 45069492, "comment_id": 77112121, "body": "The most important is the difference between definition 1 and definition 2, without the data i have the same result ? i try and is the same."}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "reply_to_user": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499905852, "post_id": 45069492, "comment_id": 77112267, "body": "the most important difference between definition 1 and definition 2 is that the <code>equals</code>, <code>hashcode</code> and <code>tostring</code> methods are generated for you in definition 1. i have edited the answer to show an example of how they differ"}, {"owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499906240, "post_id": 45069492, "comment_id": 77112347, "body": "I saw the hascode, equals and tostring in the definition 1 and definition 2."}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "reply_to_user": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499906407, "post_id": 45069492, "comment_id": 77112380, "body": "oh yes, that&#39;s true. It is how they behave that is different. for example, if I use definition 1 to create two objects that have the same <code>name</code> and <code>age</code>, the statement <code>person1 == person2</code> will equal to <code>true</code>. but, if i used definition 2, the same statement would be <code>false</code>. this is because the equals method for data classes tests for structural equality. (that all members in both objects are the same)"}, {"owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499906934, "post_id": 45069492, "comment_id": 77112513, "body": "Thanks a lot for your patient, why is false?"}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "reply_to_user": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499907453, "post_id": 45069492, "comment_id": 77112617, "body": "my pleasure :). the default <code>equals</code> method for normal classes test if two references are aliases, but not structural equality. for example, if i do <code>val person1 = Person1(&quot;alice&quot;,22); val person2 = person1</code>, then <code>person1 == person2</code> will be <code>true</code>...  in the last example in my older comment, it was <code>false</code> because <code>person1</code> and <code>person2</code> were pointing to different objects. I have updated my answer. please take a look if you have not seen already."}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "reply_to_user": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499924664, "post_id": 45069492, "comment_id": 77117056, "body": "sorry, i meant to write <code>val person1 = Person2(&quot;alice&quot;,22); val person2 = person1;</code> in my last comment...(using <code>Person2</code> instead of <code>Person1</code>)"}, {"owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499975217, "post_id": 45069492, "comment_id": 77151890, "body": "Thanks a lot Eric."}], "tags": [], "owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "is_accepted": true, "score": 19, "last_activity_date": 1508021130, "last_edit_date": 1508021130, "creation_date": 1499904972, "answer_id": 45069492, "question_id": 45069337, "link": "https://stackoverflow.com/questions/45069337/data-classes-in-kotlin/45069492#45069492", "title": "Data classes in Kotlin", "body": "<h1>Difference in <code>equals</code>, <code>hashCode</code>, &amp; <code>toString</code></h1>\n\n<p>the most important difference between <strong>definition 1</strong> and <strong>definitions 2 &amp; 3</strong> is that in <strong>definition 1</strong>, the <code>equals</code>, <code>hashcode</code> and <code>toString</code> methods are overridden for you:</p>\n\n<ul>\n<li><code>equals</code> and <code>hashCode</code> methods test for <em>structural equality</em></li>\n<li><code>toString</code> method returns a nice, human-friendly string</li>\n</ul>\n\n<p>Code example:</p>\n\n<p><em>NOTE: in Kotlin, the <code>==</code> operator calls an object's <code>.equals()</code> method. see <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"noreferrer\">operator overloading on kotlinlang.org for more info</a>.</em></p>\n\n<pre><code>data class Person1 (var name:String, var age:Int)\nclass Person2 (var name:String, var age:Int)\n\n@Test fun test1()\n{\n    val alice1 = Person1(\"Alice\", 22)\n    val alice2 = Person1(\"Alice\", 22)\n    val bob = Person1(\"bob\", 23)\n\n    // alice1 and alice2 are structurally equal, so this returns true.\n    println(alice1 == alice2)   // true\n\n    // alice1 and bob are NOT structurally equal, so this returns false.\n    println(alice1 == bob)      // false\n\n    // the toString method for data classes are generated for you.\n    println(alice1)     // Person1(name=Alice, age=22)\n}\n\n@Test fun test2()\n{\n    val alice1 = Person2(\"Alice\", 22)\n    val alice2 = Person2(\"Alice\", 22)\n    val bob = Person2(\"bob\", 23)\n\n    // even though alice1 and alice2 are structurally equal, this returns false.\n    println(alice1 == alice2) // false\n    println(alice1 == bob)    // false\n\n    // the toString method for normal classes are NOT generated for you.\n    println(alice1)  // Person2@1ed6993a\n}\n</code></pre>\n\n<hr>\n\n<h1>Difference in constructors</h1>\n\n<p>another difference between <strong>definitions 1 &amp; 2</strong> and <strong>definition 3</strong> is that:</p>\n\n<ul>\n<li><strong>definitions 1 &amp; 2</strong> both have a constructor that takes 2 parameters</li>\n<li><strong>definition 3</strong> only has a no argument constructor that assigns default values to the class members.</li>\n</ul>\n\n<p>Code example:</p>\n\n<pre><code>data class Person1 (var name:String, var age:Int)\nclass Person2 (var name:String, var age:Int)\nclass Person3 ()\n{\n    var name:String = \"\"\n    var age:Int = 1\n}\n\n@Test fun test3()\n{\n    Person1(\"alice\",22)     // OK\n    Person2(\"bob\",23)       // OK\n    Person3(\"charlie\",22)   // error\n\n    Person1()   // error\n    Person2()   // error\n    Person3()   // OK\n}\n</code></pre>\n\n<hr>\n\n<h1>The <code>copy</code> method</h1>\n\n<p>Finally, another difference between <strong>definition 1</strong> and <strong>definitions 2 &amp; 3</strong> is that in <strong>definition 1</strong>, a <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#copying\" rel=\"noreferrer\"><code>copy</code> method</a> is generated for it. Here's an example of how it can be used:</p>\n\n<pre><code>val jack = Person1(\"Jack\", 1)\nval olderJack = jack.copy(age = 2)\n\n// jack.age = 1\n// olderJack.age = 2\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/data-classes.html#data-classes\" rel=\"noreferrer\">Check out the official documentation for data classes on kotlinlang.org!</a></p>\n"}, {"comments": [{"owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499906397, "post_id": 45069620, "comment_id": 77112375, "body": "Why I saw the hashcode, equals and tostring in the definition 1 and definition 2 ?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499906549, "post_id": 45069620, "comment_id": 77112412, "body": "@josedlujan What do you mean? <code>hashCode</code>, <code>equals</code> and <code>toString</code> are automatically generated for classes with <code>data</code> modifier"}, {"owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499906761, "post_id": 45069620, "comment_id": 77112470, "body": "The picture in my question show the same when i use definition 1 and definition 2,  both answers has hascode, equals and toString  with or without data modifier."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "edited": false, "score": 0, "creation_date": 1499906978, "post_id": 45069620, "comment_id": 77112525, "body": "@josedlujan Yeah they do because every class has it but when you don&#39;t override it then it won&#39;t do what you expect it to do. Try running this: <code>val p1 = Person(&quot;&quot;, 0); val p2 = Person(&quot;&quot;, 0); fun main(args: Array&lt;String&gt;) {     println(p1 == p2) }</code>. This will print <code>false</code> even though these two persons are equal, right? That&#39;s the problem and that&#39;s why you need to override <code>equals</code>"}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 0, "last_activity_date": 1499907492, "last_edit_date": 1499907492, "creation_date": 1499905850, "answer_id": 45069620, "question_id": 45069337, "link": "https://stackoverflow.com/questions/45069337/data-classes-in-kotlin/45069620#45069620", "title": "Data classes in Kotlin", "body": "<p>Definition 1 (<code>data class Person(var name: String, var age: Int</code>) is the equivalent of</p>\n\n<pre><code>/* every class by default in kotlin is final but a data class CAN'T be open */\nfinal class Person(var name: String, var age: Int) {\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (other?.javaClass != javaClass) return false\n\n        other as Person\n\n        if (name != other.name) return false\n        if (age != other.age) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = name.hashCode()\n        result = 31 * result + age\n        return result\n    }\n}\n\nval person = Person(\"Name\", 123)\n</code></pre>\n\n<p>Definition 2 (<code>class Person(var name: String, var age: Int</code> [no <code>data</code> modifier]) is the equivalent of</p>\n\n<pre><code>class Person(var name: String, var age: Int) {\n}\n\nval person = Person(\"Name\", 123)\n</code></pre>\n\n<p>Definition 3 is the equivalent of</p>\n\n<pre><code>class Person() {\n    var name: String = \"\"\n    var age: Int = 1\n}\n\nval person = Person() // name = \"\", age = 1 (by default)\nperson.name = \"Name\"\nperson.age = 123\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "is_accepted": false, "score": 1, "last_activity_date": 1600954500, "last_edit_date": 1600954500, "creation_date": 1600952768, "answer_id": 64047117, "question_id": 45069337, "link": "https://stackoverflow.com/questions/45069337/data-classes-in-kotlin/64047117#64047117", "title": "Data classes in Kotlin", "body": "<p><em>Briefly speaking:</em></p>\n<ul>\n<li><strong>Definition 1:</strong> this is a data class which primary constructor takes two parameters <code>name</code> and <code>age</code></li>\n<li><strong>Definition 2:</strong> this is just a class which primary constructor takes two parameters <code>name</code> and <code>age</code></li>\n<li><strong>Definition 3:</strong> this is a class which constructor has no arguments and assigns default values <code>&quot;&quot;</code> and <code>1</code> to the properties <code>name</code> and <code>age</code> respectively</li>\n</ul>\n<p><strong>Detailed answered</strong></p>\n<p>What is important to understand here is the concept of <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">data class</a>.</p>\n<h3>Data Class</h3>\n<p>It is very common to create classes whose main purpose is to hold data. If you want your class to be convenient holder for your data you need to override the <em>universal object methods</em>:</p>\n<ul>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-string.html\" rel=\"nofollow noreferrer\"><code>toString()</code></a> - string representation</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/equals.html\" rel=\"nofollow noreferrer\"><code>equals()</code></a> - object equality</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/hash-code.html\" rel=\"nofollow noreferrer\"><code>hashCode()</code></a> - hash containers</li>\n</ul>\n<p>Note: <code>equals()</code> is used for <a href=\"https://kotlinlang.org/docs/reference/equality.html#structural-equality\" rel=\"nofollow noreferrer\">structural equality</a> and it is often implemented with <code>hashCode()</code>.</p>\n<p>Usually, the implementation of these methods is straightforward, and your IDE can help you to generate them automatically.</p>\n<p>However, in Kotlin, you don't have to general all of these boilerplate code. If you add the modifier <code>data</code> to your class, the necessary methods are automatically added for you. The <code>equals()</code> and <code>hashCode()</code> methods take into account all the properties declared in the primary constructor. <code>toString()</code> will have the following format <code>ClassName(parm1=value1, param2=value2, ...)</code>.</p>\n<p>In addition, when you mark a class as a <em>data class</em>, the method <code>copy()</code> is also automatically generated which allows you to make copies of an existing instance. This feature is very handy when you are using your instances as keys for a <code>HashMap</code> or if you are dealing with multithreaded code.</p>\n<p>Going back to your question:</p>\n<ul>\n<li><strong>Definition 1:</strong> you do not need to implement the universal object methods and you have also the <code>copy()</code> method ready to use</li>\n<li><strong>Definition 2:</strong> you will have to implement the universal object methods and the <code>copy()</code> method if you need them</li>\n<li><strong>Definition 3:</strong> you will have to implement the universal object methods and the <code>copy()</code> method if you need them, and there is no point in implementing the <code>copy()</code> method since your primary constructor has no parameters</li>\n</ul>\n<p>Even though the properties of a data class are not required to be <code>val</code>, i.e., you can use <code>var</code> as your are doing in your code, it is strongly recommended that you use read-only properties, so that you make the instances immutable.</p>\n<p>Finally, <code>componentN()</code> functions corresponding to the properties in their order of declaration are also generated by the compiler when you mark a class as a <em>data class</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 3610, "user_id": 7237884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RX3iW.png?s=128&g=1", "display_name": "Boug", "link": "https://stackoverflow.com/users/7237884/boug"}, "is_accepted": false, "score": 0, "last_activity_date": 1614337954, "last_edit_date": 1614337954, "creation_date": 1614337197, "answer_id": 66384598, "question_id": 45069337, "link": "https://stackoverflow.com/questions/45069337/data-classes-in-kotlin/66384598#66384598", "title": "Data classes in Kotlin", "body": "<p>Just to add one more difference that Eric's accepted answer doesn't mention.</p>\n<p><strong>Data Classes can participate in destructuring declarations</strong>.</p>\n<p>So if we have</p>\n<pre><code>class Person(val name: String, val age: Int) \n\ndata class Person2(val name: String, val age: Int)\n</code></pre>\n<p>And then</p>\n<pre><code>fun main() {\n    \n    val person = Person(&quot;Kal&quot;, 34);  //normal class instance\n    val person2 = Person2(&quot;Kal&quot;, 34);  //data class instance\n\n    val (name, age) = person; //This does not compile and shows error\n    //Destructuring declaration initializer of type Employee must have a 'component1()' function\n    //Destructuring declaration initializer of type Employee must have a 'component2()' function\n\n    val (name2, age2) = person2; //no problem here\n\n}\n</code></pre>\n"}], "owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2640, "favorite_count": 2, "accepted_answer_id": 45069492, "answer_count": 4, "score": 10, "last_activity_date": 1614337954, "creation_date": 1499903881, "last_edit_date": 1600954285, "question_id": 45069337, "link": "https://stackoverflow.com/questions/45069337/data-classes-in-kotlin", "title": "Data classes in Kotlin", "body": "<p>What is the difference between:</p>\n<p>Definition 1</p>\n<pre><code>data class Person (var name:String, var age:Int)\n</code></pre>\n<p>Definition 2</p>\n<pre><code>class Person (var name:String, var age:Int)\n</code></pre>\n<p>Definition 3</p>\n<pre><code>class Person (){\n    var name:String = &quot;&quot;\n    var age:Int = 1\n}\n</code></pre>\n<p>In the 3 cases when I use the autocomplete, I saw the same methods available like a POJO... is this the same but in 3 different ways?</p>\n<p><a href=\"https://i.stack.imgur.com/xCHbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xCHbA.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["android", "android-studio", "data-binding", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 2445, "user_id": 436417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8db0v.png?s=128&g=1", "display_name": "Uli", "link": "https://stackoverflow.com/users/436417/uli"}, "edited": false, "score": 1, "creation_date": 1499894231, "post_id": 45066354, "comment_id": 77108594, "body": "You might get better answers if you state your problem more clearly, I found it a little cumbersome to understand what&#39;s actually broken for you. Unfortunately I don&#39;t know the answer."}, {"owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "reply_to_user": {"reputation": 2445, "user_id": 436417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8db0v.png?s=128&g=1", "display_name": "Uli", "link": "https://stackoverflow.com/users/436417/uli"}, "edited": false, "score": 0, "creation_date": 1499895487, "post_id": 45066354, "comment_id": 77109190, "body": "Android Studio -&gt; Settings -&gt; Editor -&gt; Data Binding -&gt; here you can find two options.   @Uli First, Reference code generated by android studio should update file that extends ViewDataBinding generated by data binding library every time when User change layout.xml file. Unfortunatly while using kotlin with data binding it&#39;s not working.  In order to update file generated by data binding i&#39;m forced to rebuild project every time to &quot;get&quot; changes."}, {"owner": {"reputation": 2445, "user_id": 436417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8db0v.png?s=128&g=1", "display_name": "Uli", "link": "https://stackoverflow.com/users/436417/uli"}, "edited": false, "score": 1, "creation_date": 1499908458, "post_id": 45066354, "comment_id": 77112833, "body": "I&#39;d put something like this in the first paragraph, preferably the first sentence - it provides the context of your question and describes your core problem right away: When I use Android Databinding in combination with Kotlin, the code that is auto-generated from the layout file fails to automatically update when I change the layout file."}, {"owner": {"reputation": 2445, "user_id": 436417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8db0v.png?s=128&g=1", "display_name": "Uli", "link": "https://stackoverflow.com/users/436417/uli"}, "edited": false, "score": 1, "creation_date": 1499908679, "post_id": 45066354, "comment_id": 77112881, "body": "You could consider creating an issue on the Google issue tracker, unless one exists already."}, {"owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "reply_to_user": {"reputation": 2445, "user_id": 436417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8db0v.png?s=128&g=1", "display_name": "Uli", "link": "https://stackoverflow.com/users/436417/uli"}, "edited": false, "score": 0, "creation_date": 1499924558, "post_id": 45066354, "comment_id": 77117003, "body": "I have searched Google issue tracker and there it is: <a href=\"https://issuetracker.google.com/issues/62330894\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/62330894</a>  Someone else reported it, issue is still present. Unfortunately I dont have permissions in issue tracker and I am unable to comment it.  Thank for your advice."}, {"owner": {"reputation": 2065, "user_id": 1761406, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af51e73ece8533b21d5c151159874031?s=128&d=identicon&r=PG", "display_name": "Shirane85", "link": "https://stackoverflow.com/users/1761406/shirane85"}, "edited": false, "score": 0, "creation_date": 1510819669, "post_id": 45066354, "comment_id": 81599526, "body": "Have you find a solution for this?"}, {"owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "edited": false, "score": 0, "creation_date": 1510825956, "post_id": 45066354, "comment_id": 81603588, "body": "Unfortunately no. I stopped using databinding cause of this bug in my project. I was wasting too much time for this. If you&#39;ll go to this issue in issuetracker you can see that no one answered till now."}], "answers": [{"comments": [{"owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "edited": false, "score": 1, "creation_date": 1527869605, "post_id": 50627866, "comment_id": 88305386, "body": "I have already tried that, it did not helped me. It&#39;s worth to add that generateStubs is an option that existed in the old kapt implementation and is decrepated now."}], "tags": [], "owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "is_accepted": false, "score": -1, "last_activity_date": 1527780491, "creation_date": 1527780491, "answer_id": 50627866, "question_id": 45066354, "link": "https://stackoverflow.com/questions/45066354/android-studio-3-0-databinding-reference-code-not-genereted-by-android-studio/50627866#50627866", "title": "Android Studio 3.0 Databinding reference code not genereted by android studio", "body": "<p>Add following in you <code>app build.gradle</code></p>\n\n<p><code>android {\n    /// Existing Code\n    kapt {\n        generateStubs = true\n    }\n}</code></p>\n\n<p>This may help.</p>\n"}], "owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1197, "favorite_count": 4, "answer_count": 1, "score": 8, "last_activity_date": 1527780491, "creation_date": 1499888897, "last_edit_date": 1499893156, "question_id": 45066354, "link": "https://stackoverflow.com/questions/45066354/android-studio-3-0-databinding-reference-code-not-genereted-by-android-studio", "title": "Android Studio 3.0 Databinding reference code not genereted by android studio", "body": "<p>I'm having problem with Android Studio 3.0 and combination of kotlin and data binding. I'm not sure why, but option Settings -> Editor -> Data Binding -> Reference code generated by android studio is not working as it should be.</p>\n\n<p>I've tried it on different AS 3.0 versions (Canary 3, Canary 5, Canary 6) with different kotlin (1.1.2-3, 1.1.3, 1.1.3-2) and databinding compiler ver. To be sure I have even created clean project and the same problem occurs. I'm sure that the problem lies in kotlin and databinding combination because in the same project databinding in java class is working just fine, files generated by databinding are updated with every change in .xml file.</p>\n\n<p>I'm not going to paste my every gradle content file here because I have tried a lot of combination versions of kotlin and data binding. Below is one of them.</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.dawidj.myapplication\"\n        minSdkVersion 21\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:25.4.0'\n    testImplementation 'junit:junit:4.12'\n\n    // Databinding\n    kapt \"com.android.databinding:compiler:$android_plugin_version\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\n\nbuildscript {\n    ext.android_plugin_version = '2.4.0-alpha7'\n    ext.kotlin_version = '1.1.3'\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>I've noticed that while i'm in java file after click (ctrl + click) on file generated by Data binding ex.:activity_main.xml -> ActivityMainBinding.java my screen is being moved directly to activity_main.xml file. After the same action in Kotlin class screen is being moved to ActivityMainBinding.java file.</p>\n\n<p>It's very annoying problem becasue with every change in .xml file I'm forced to rebuild project in order to use data binding. </p>\n\n<p>Any kind of help or information will be appreciated</p>\n\n<p>EDIT: Invalidate caches / restart helps only to first project build. If I create new .xml layout it's working fine until project build.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 5255581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XmUZ.jpg?s=128&g=1", "display_name": "mleafer", "link": "https://stackoverflow.com/users/5255581/mleafer"}, "edited": false, "score": 0, "creation_date": 1499891148, "post_id": 45066205, "comment_id": 77107086, "body": "Oh, so it&#39;s an escape kotlin&lt;-&gt;java interoperability thing?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 625, "user_id": 5255581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XmUZ.jpg?s=128&g=1", "display_name": "mleafer", "link": "https://stackoverflow.com/users/5255581/mleafer"}, "edited": false, "score": 0, "creation_date": 1499891180, "post_id": 45066205, "comment_id": 77107095, "body": "Yeah, that&#39;s basically it"}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 13, "last_activity_date": 1510584157, "last_edit_date": 1510584157, "creation_date": 1499888288, "answer_id": 45066205, "question_id": 45066128, "link": "https://stackoverflow.com/questions/45066128/what-do-grave-accents-do-mean-in-kotlin/45066205#45066205", "title": "What do grave accents do/mean in Kotlin?", "body": "<p>You want to use them when something is a Kotlin keyword (like Java's <code>System.in</code>) but you need to call it. Then you can do </p>\n\n<pre><code>System.`in` \n</code></pre>\n\n<p>instead to make it work. </p>\n\n<p>You can also use this in variables, functions, classes and any other identifiers. There is a small paragraph on this topic on <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#escaping-for-java-identifiers-that-are-keywords-in-kotlin\" rel=\"noreferrer\">Kotlin's documentation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 7, "last_activity_date": 1499914266, "last_edit_date": 1499914266, "creation_date": 1499913851, "answer_id": 45070594, "question_id": 45066128, "link": "https://stackoverflow.com/questions/45066128/what-do-grave-accents-do-mean-in-kotlin/45070594#45070594", "title": "What do grave accents do/mean in Kotlin?", "body": "<p>Actually, it is more than that.</p>\n\n<p>You can use any class, function, variable, or <strong>identifier</strong> whose name contains spaces or symbols with grave accents.</p>\n\n<pre><code>class `Class name with spaces` {\n    fun `method name with spaces, +, -`(`a parameter`: Int) {\n        val `variable?!` = `a parameter` + 1\n        println(`variable?!`.toString())\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val instance = `Class name with spaces`()\n    instance.`method name with spaces, +, -`(100)\n}\n</code></pre>\n\n<p>This is a compilable and working code:\n<a href=\"https://i.stack.imgur.com/6y3dj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6y3dj.png\" alt=\"Result\"></a></p>\n\n<p>This is often used in testing, in order to make the test method names self-explanatory.</p>\n\n<pre><code>class OperationsUnitTest {\n    @Test\n    fun `addition should be commutative`() {\n        ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 625, "user_id": 5255581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XmUZ.jpg?s=128&g=1", "display_name": "mleafer", "link": "https://stackoverflow.com/users/5255581/mleafer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 1, "accepted_answer_id": 45066205, "answer_count": 2, "score": 5, "last_activity_date": 1510584157, "creation_date": 1499887998, "last_edit_date": 1499888028, "question_id": 45066128, "link": "https://stackoverflow.com/questions/45066128/what-do-grave-accents-do-mean-in-kotlin", "title": "What do grave accents do/mean in Kotlin?", "body": "<p>In as many expressions/definitions as possible please.</p>\n\n<p>I'm writing a test function, where after the call fails, the function returns:</p>\n\n<pre><code>`this `fails with` \"the state is propagated\"`\n</code></pre>\n\n<p>(with the grave accents surrounding fails with ^ i don't know how to escape, sorry)</p>\n"}, {"tags": ["java", "android", "kotlin", "junit4", "android-espresso"], "comments": [{"owner": {"reputation": 463, "user_id": 4334905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26edfd0d88744d0600b3219200291882?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Forbis", "link": "https://stackoverflow.com/users/4334905/adam-forbis"}, "edited": false, "score": 0, "creation_date": 1499884606, "post_id": 45065123, "comment_id": 77103734, "body": "Have you added in kapt? <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/kapt.html</a>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1499884944, "post_id": 45065123, "comment_id": 77103924, "body": "have you tested that the <code>@Before</code> is never be called or your <code>logOut</code> method with wrong logic? adding this code <code>fail()</code> at the first line in <code>setUp</code> method to prove your <code>setUp</code> is never be called."}, {"owner": {"reputation": 35, "user_id": 3277616, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rOp3z.jpg?s=128&g=1", "display_name": "Jean Corzo", "link": "https://stackoverflow.com/users/3277616/jean-corzo"}, "edited": false, "score": 0, "creation_date": 1499889777, "post_id": 45065123, "comment_id": 77106426, "body": "The @Before is never called. If I put the logOut() inside each test it runs properly. I continued searching and the reason apparently is that the variant that I&#39;m using has minifiedEnabled true. Setting it to false fixed the problem but I&#39;d like it to be enabled for this version though."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499898692, "post_id": 45065123, "comment_id": 77110341, "body": "maybe you imported another <code>@Before</code> annotation in your test, make sure your annotation is <code>@org.junit.Before</code>."}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 3277616, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rOp3z.jpg?s=128&g=1", "display_name": "Jean Corzo", "link": "https://stackoverflow.com/users/3277616/jean-corzo"}, "is_accepted": true, "score": 0, "last_activity_date": 1499968298, "creation_date": 1499968298, "answer_id": 45087812, "question_id": 45065123, "link": "https://stackoverflow.com/questions/45065123/before-annotation-being-ignored-by-kotlin-in-espresso-test/45087812#45087812", "title": "@Before annotation being ignored by kotlin in espresso test?", "body": "<p>The problem was due to code obfuscation. In this case, as we wanted the variant for automation to be as close as possible to release, the obfuscation was added to the build variant used for automated tests. The solution was adding a proguard-test-rules.pro file for tests with the following lines: </p>\n\n<pre><code>-ignorewarnings\n-keepattributes *Annotation*\n-dontnote junit.framework.**\n-dontnote junit.runner.**\n-dontwarn android.test.**\n-dontwarn android.support.test.**\n-dontwarn org.junit.**\n-dontwarn org.hamcrest.**\n-dontwarn com.squareup.javawriter.JavaWriter\n-keep class path.to.tests.*\n</code></pre>\n\n<p>and add to the build variant in build.gradle:</p>\n\n<pre><code>testProguardFile 'proguard-test-rules.pro'\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 3277616, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rOp3z.jpg?s=128&g=1", "display_name": "Jean Corzo", "link": "https://stackoverflow.com/users/3277616/jean-corzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 45087812, "answer_count": 1, "score": 2, "last_activity_date": 1499968298, "creation_date": 1499884121, "question_id": 45065123, "link": "https://stackoverflow.com/questions/45065123/before-annotation-being-ignored-by-kotlin-in-espresso-test", "title": "@Before annotation being ignored by kotlin in espresso test?", "body": "<p>I have this instrumented test class written in kotlin and uses espresso to execute the tests. When I run it though, the function annotated with @Before is being completely ignored. Even when debugging the test and placing a breakpoint in it, it wouldn't pass through that point. Do you have any idea why this happens? I've been searching in google but most examples don't use @Before or simply don't mention any problem with it.\nI also added the logOut() function for more information.</p>\n\n<p>PD: writing the same code in java works perfectly.</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\n\nclass LoginTest {\n\n    @get: Rule val activityTestRule = ActivityTestRule(SplashActivity_::class.java)\n\n    private lateinit var user: User\n\n    @Before fun setUp() {\n        logOut()\n    }\n\n    @Test fun newUserWasLoggedIn() {\n        givenAnUser(UserFactory.randomUser)\n        itCanBeLoggedAsNewUser()\n    }\n\n    @Test fun oldUserWasLoggedIn() {\n        givenAnUser(UserFactory.oldUser)\n        itCanBeLoggedAsOldUser()\n    }\n\n    private fun itCanBeLoggedAsOldUser() {\n        oldUserLogin(user)\n    }\n\n    private fun itCanBeLoggedAsNewUser() {\n        newUserLogin(user)\n    }\n\n    private fun givenAnUser(user: User) {\n        this.user = user\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>fun logOut() {\n    goToSettingsView()\n    settingsView {\n        swipe(SwipeDirection.UP)\n        logOutButton.click()\n        if (isPasswordRequired()) {\n            createNewPasswordInDialog()\n            logOutButton.click()\n        }\n        buttonAccept.click()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1499887335, "post_id": 45064794, "comment_id": 77105195, "body": "From what I understand your <code>view</code> (the one in <code>anzeigen</code> function) is visible. But did you check if <code>dumpster.cont</code> is visible?"}, {"owner": {"reputation": 620, "user_id": 7879896, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/r7KcY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7879896/max"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1499887669, "post_id": 45064794, "comment_id": 77105377, "body": "cont (container) is needed for the View to inflate"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1499887813, "post_id": 45064794, "comment_id": 77105450, "body": "Yea I get that but did you check if it&#39;s visible? Check <code>dumpster.cont!!.visibility == Visibility.VISIBLE</code>"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1499921700, "post_id": 45064794, "comment_id": 77115901, "body": "i cant see invocation of <code>anzeigen() </code> method."}, {"owner": {"reputation": 620, "user_id": 7879896, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/r7KcY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7879896/max"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1499967423, "post_id": 45064794, "comment_id": 77147429, "body": "@Mibac tried it, doesn&#39;t work"}], "answers": [{"tags": [], "owner": {"reputation": 416, "user_id": 7051875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1d447e29cc41ce81809d7156c05de5?s=128&d=identicon&r=PG&f=1", "display_name": "tango24", "link": "https://stackoverflow.com/users/7051875/tango24"}, "is_accepted": true, "score": 1, "last_activity_date": 1500027917, "creation_date": 1500027917, "answer_id": 45100663, "question_id": 45064794, "link": "https://stackoverflow.com/questions/45064794/fragment-change-visibility-in-function/45100663#45100663", "title": "Fragment: Change Visibility in function", "body": "<p>In <code>anzeigen</code> you are inflating a view, but this view is not attached as a child to your <code>container</code>. To attach the new view to your container, you either have to call <code>container.addChild(view)</code> or inflate the view with <code>inflater!!.inflate(R.layout.fragment_bots, container, **true**)</code></p>\n"}], "owner": {"reputation": 620, "user_id": 7879896, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/r7KcY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7879896/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 45100663, "answer_count": 1, "score": 0, "last_activity_date": 1500027917, "creation_date": 1499882982, "question_id": 45064794, "link": "https://stackoverflow.com/questions/45064794/fragment-change-visibility-in-function", "title": "Fragment: Change Visibility in function", "body": "<p>I tried to use \n<a href=\"https://stackoverflow.com/questions/45060675/fragment-relativelayout-visibility-not-changeable-in-oncreateview\">this method</a>\nto change the visibility of a RelativeLayout. That worked fine in the <code>OnCreateView</code> function, but i tried to add it into another function:</p>\n\n<pre><code>fun anzeigen(wert: Int){\n        val inflater = dumpster.infl\n        val container = dumpster.cont\n        val view: View = inflater!!.inflate(R.layout.fragment_bots, container, false)\n        if (wert == 1){\n            view.BotDiv1.visibility = View.VISIBLE\n        }\n    }\n</code></pre>\n\n<p>To grab the inflater and the container I created this object to store them \"globaly\":</p>\n\n<pre><code>object dumpster {\n    var infl: LayoutInflater? = null\n    var cont: ViewGroup? = null\n}\n</code></pre>\n\n<p>And here the OncreateView:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view: View = inflater!!.inflate(R.layout.fragment_bots, container, false)\n        dumpster.infl = inflater\n        dumpster.cont = container\n\n        //Test, workes fine view.BotDiv1.visibility = View.VISIBLE\n        return view\n    }\n</code></pre>\n\n<p>Now it doesn't work. I Logged everything and the code executes, but the RelativeLayout just stayed invisible. (The function is obviously called from outside.)\nNo Crashes or anything</p>\n"}, {"tags": ["java", "regex", "split", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 24, "last_activity_date": 1499890831, "last_edit_date": 1499890831, "creation_date": 1499883379, "answer_id": 45064905, "question_id": 45064788, "link": "https://stackoverflow.com/questions/45064788/why-is-kotlin-string-split-with-a-regex-string-not-the-same-as-java/45064905#45064905", "title": "Why is Kotlin String.split with a regex string not the same as Java?", "body": "<p>you should using <code>String#split(Regex)</code> instead, for example:</p>\n\n<pre><code>val str = \"12+20*/2-4\";\nval arr = str.split(\"\\\\p{Punct}\".toRegex());\n//  ^--- but the result is [\"12\",\"20\",\"\",\"2\",\"4\"]\n\nval arr2 = arr.filter{ !it.isBlank() };\n//  ^--- you can filter it as further, and result is: [\"12\",\"20\",\"2\",\"4\"]\n</code></pre>\n\n<p><strong>OR</strong> you can split more <em>Punctuation</em>s by using <code>\\\\p{Punct}+</code> , for example:</p>\n\n<pre><code>val arr = str.split(\"\\\\p{Punct}+\".toRegex())\n//  ^--- result is: [\"12\",\"20\",\"2\",\"4\"]\n</code></pre>\n\n<p><strong>OR</strong> <em>invert</em> the regex and using <code>Regex#findAll</code> instead, and you can find out the negative numbers in this way. for example:</p>\n\n<pre><code>val str =\"12+20*/2+(-4)\";\n\nval arr =\"(?&lt;!\\\\d)-?[^\\\\p{Punct}]+\".toRegex().findAll(str).map{ it.value }.toList()\n//  ^--- result is [\"12\",\"20\",\"2\",\"-4\"]\n//   negative number is found   ---^\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 416, "user_id": 7051875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1d447e29cc41ce81809d7156c05de5?s=128&d=identicon&r=PG&f=1", "display_name": "tango24", "link": "https://stackoverflow.com/users/7051875/tango24"}, "is_accepted": false, "score": 2, "last_activity_date": 1499883513, "creation_date": 1499883513, "answer_id": 45064944, "question_id": 45064788, "link": "https://stackoverflow.com/questions/45064788/why-is-kotlin-string-split-with-a-regex-string-not-the-same-as-java/45064944#45064944", "title": "Why is Kotlin String.split with a regex string not the same as Java?", "body": "<p>You can call </p>\n\n<pre><code>str.split(Regex(\"{\\\\p{Punct}\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7442, "user_id": 3745896, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ptFQe.jpg?s=128&g=1", "display_name": "River", "link": "https://stackoverflow.com/users/3745896/river"}, "is_accepted": false, "score": 3, "last_activity_date": 1541829649, "last_edit_date": 1541829649, "creation_date": 1499883564, "answer_id": 45064960, "question_id": 45064788, "link": "https://stackoverflow.com/questions/45064788/why-is-kotlin-string-split-with-a-regex-string-not-the-same-as-java/45064960#45064960", "title": "Why is Kotlin String.split with a regex string not the same as Java?", "body": "<p>For regex behavior, your argument <strong>must</strong> be of type <code>Regex</code>, not merely a <code>String</code> containing special regex characters.  </p>\n\n<p>Most string manipulation methods in Kotlin (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\" rel=\"nofollow noreferrer\"><code>replace</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a>, etc.) can take both <code>String</code> and <code>Regex</code> arguments, but you must convert your <code>String</code> to <code>Regex</code> if you want regex-specific matching.</p>\n\n<p>This conversion can be done using <code>String.toRegex()</code> or <code>Regex(String)</code>:</p>\n\n<pre><code>val str = \"12+20*/2-4\";\nstr.split(\"\\\\p{Punct}\".toRegex()) //this\nstr.split(Regex(\"\\\\p{Punct}\")) //or this\n</code></pre>\n\n<p>Currently <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> is treating that first backslash as an escape character instead of recognizing it as a special regex sequence.</p>\n\n<hr>\n\n<p>as mentioned by @holi-java in <a href=\"https://stackoverflow.com/a/45064905/3745896\">their answer</a> this will match an empty string between <code>*</code> and <code>/</code> giving <code>[\"12\",\"20\",\"\",\"2\",\"4\"]</code>. You can use <code>\"\\\\p{Punct}+\"</code> as your regex to avoid this. (Though note that Java gives the output <em>with</em> this empty string unless a <code>+</code> is included there as well.)</p>\n"}], "owner": {"reputation": 237, "user_id": 7450104, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1336054023120579/picture?type=large", "display_name": "Ilya Fedoseev", "link": "https://stackoverflow.com/users/7450104/ilya-fedoseev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10319, "favorite_count": 1, "accepted_answer_id": 45064905, "answer_count": 3, "score": 20, "last_activity_date": 1541829649, "creation_date": 1499882960, "last_edit_date": 1540346406, "question_id": 45064788, "link": "https://stackoverflow.com/questions/45064788/why-is-kotlin-string-split-with-a-regex-string-not-the-same-as-java", "title": "Why is Kotlin String.split with a regex string not the same as Java?", "body": "<p>I have the following Java code:</p>\n\n<pre><code>String str = \"12+20*/2-4\";\nList&lt;String&gt; arr = new ArrayList&lt;&gt;();\n\narr = str.split(\"\\\\p{Punct}\");\n\n//expected: arr = {12,20,2,4}\n</code></pre>\n\n<p>I want the equivalent Kotlin code, but <code>.split(\"\\\\p{Punct}\")</code> doesn't work. I don't understand the documentation here: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html</a></p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 1, "creation_date": 1499870406, "post_id": 45060675, "comment_id": 77094839, "body": "cause your id is <code>android:id=&quot;@+id&#47;BotDiv1&quot;</code> not <code>BotDiv2</code>"}, {"owner": {"reputation": 513, "user_id": 4632482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcf9b25891575e11815e02ba7880b00e?s=128&d=identicon&r=PG", "display_name": "Peter Bruins", "link": "https://stackoverflow.com/users/4632482/peter-bruins"}, "edited": false, "score": 0, "creation_date": 1499871235, "post_id": 45060675, "comment_id": 77095515, "body": "You need to intitialize BitDiv2 using findViewById(), BotDiv2 doesn&#39;t get magically initialized, like in wpf."}, {"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "reply_to_user": {"reputation": 513, "user_id": 4632482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcf9b25891575e11815e02ba7880b00e?s=128&d=identicon&r=PG", "display_name": "Peter Bruins", "link": "https://stackoverflow.com/users/4632482/peter-bruins"}, "edited": false, "score": 0, "creation_date": 1499871701, "post_id": 45060675, "comment_id": 77095883, "body": "@Peter Bruins using <code>kotlin-android-extensions</code> no need to <code>findViewById</code>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1499871524, "creation_date": 1499871524, "answer_id": 45061254, "question_id": 45060675, "link": "https://stackoverflow.com/questions/45060675/fragment-relativelayout-visibility-not-changeable-in-oncreateview/45061254#45061254", "title": "Fragment: RelativeLayout Visibility not changeable in OnCreateView", "body": "<p>Other than the ID seemingly not being right, as mentioned in a comment above...</p>\n\n<p>Since at this stage your <code>View</code> is not set for your <code>Fragment</code> yet (you haven't returned it to the framework), you can't call <code>findViewById</code> on the <code>Fragment</code> itself, but you can make a <code>findViewById</code> call on the newly inflated <code>View</code> instead:</p>\n\n<pre><code>val view: View = inflater!!.inflate(R.layout.fragment_bots, container, false)\nval bd2 = view.findViewById(R.id.BotDiv2)\nbd2.visibility = View.VISIBLE\n</code></pre>\n\n<p>If you're using Kotlin Android Extensions, you can do the same with this syntax:</p>\n\n<pre><code>val view: View = inflater!!.inflate(R.layout.fragment_bots, container, false)\nview.BotDiv2.visibility = View.VISIBLE\n</code></pre>\n"}], "owner": {"reputation": 620, "user_id": 7879896, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/r7KcY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7879896/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 45061254, "answer_count": 1, "score": 0, "last_activity_date": 1499876364, "creation_date": 1499870114, "last_edit_date": 1499876364, "question_id": 45060675, "link": "https://stackoverflow.com/questions/45060675/fragment-relativelayout-visibility-not-changeable-in-oncreateview", "title": "Fragment: RelativeLayout Visibility not changeable in OnCreateView", "body": "<p>(Im using Kotlin)\nSo here is my OnCreateView in the Fragment.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view: View = inflater!!.inflate(R.layout.fragment_bots, container, false)\n\n        BotDiv2.visibility = View.VISIBLE\n        startUp()\n        return view\n    }\n</code></pre>\n\n<p>and here is the xml of the relativelayout:</p>\n\n<pre><code>&lt;RelativeLayout\n                android:id=\"@+id/BotDiv2\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"33.3\"\n                android:visibility=\"invisible\"&gt;\n\n                &lt;ImageButton\n                    android:id=\"@+id/BotBtn1\"\n                    android:layout_width=\"90dp\"\n                    android:layout_height=\"90dp\"\n                    android:layout_centerHorizontal=\"true\"\n                    android:layout_centerVertical=\"true\"\n                    android:background=\"@null\"\n                    android:scaleType=\"fitCenter\"\n                    android:src=\"@android:drawable/btn_star_big_on\" /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/uselessLevel1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_above=\"@+id/BotBtn1\"\n                    android:layout_alignStart=\"@+id/BotBtn1\"\n                    android:text=\"Level:\" /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/BotWorth1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/BotBtn1\"\n                    android:layout_centerHorizontal=\"true\"\n                    android:text=\"$500\"\n                    android:textAppearance=\"@style/TextAppearance.AppCompat.Large\" /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/levelBot1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_above=\"@+id/BotBtn1\"\n                    android:layout_alignEnd=\"@+id/BotBtn1\"\n                    android:text=\"1\" /&gt;\n\n            &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>In want to use it in another Function, but this:</p>\n\n<pre><code>BotDiv2.visibility = View.VISIBLE\n</code></pre>\n\n<p>causes NPEs I also tried to use findViewById, but that causes an NPE as well (or not affecting, cuz of Kotlin's \"?\").</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 2, "creation_date": 1499869925, "post_id": 45059254, "comment_id": 77094480, "body": "first, up-vote. there is another way that you can using  a variable ref a function.e.g: <code>val plus = ::plus100</code>"}, {"owner": {"reputation": 808, "user_id": 1644036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4782c0e06aabcfa6b262698b0e4fa3bd?s=128&d=identicon&r=PG", "display_name": "Inego", "link": "https://stackoverflow.com/users/1644036/inego"}, "edited": false, "score": 0, "creation_date": 1568371719, "post_id": 45059254, "comment_id": 102262015, "body": "I suspect the first approach is not applicable if the package is global (empty)?"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1499866906, "last_edit_date": 1499866906, "creation_date": 1499866549, "answer_id": 45059254, "question_id": 45059018, "link": "https://stackoverflow.com/questions/45059018/how-to-call-a-toplevel-function-from-a-method-or-an-extension-function-of-the-sa/45059254#45059254", "title": "How to call a toplevel function from a method or an extension function of the same signature?", "body": "<p>You can use the package the function is in to refer to it:</p>\n\n<pre><code>package pckg\n\nfun plus100(v: Int): Int = v + 100\n\nclass Mul2 {\n    fun plus100(v: Int): Int = pckg.plus100(2 * v)\n}\n</code></pre>\n\n<p>You can also rename the function with an <code>import as</code> - this makes more sense if it's coming from another file or package, but works within a single file too:</p>\n\n<pre><code>package pckg\n\nimport pckg.plus100 as p100\n\nfun plus100(v: Int): Int = v + 100\n\nclass Mul2 {\n    fun plus100(v: Int): Int = p100(2 * v)\n}\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 5546006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62f45b4ae19e76aea4911e9cb5d7d92e?s=128&d=identicon&r=PG&f=1", "display_name": "letrec", "link": "https://stackoverflow.com/users/5546006/letrec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 0, "accepted_answer_id": 45059254, "answer_count": 1, "score": 6, "last_activity_date": 1499866906, "creation_date": 1499866012, "question_id": 45059018, "link": "https://stackoverflow.com/questions/45059018/how-to-call-a-toplevel-function-from-a-method-or-an-extension-function-of-the-sa", "title": "How to call a toplevel function from a method or an extension function of the same signature?", "body": "<p>I use kotlin 1.1.2-2</p>\n\n<p>I want to call top-level function <code>plus100(Int):Int</code> from method <code>Mul2.plus100(Int):Int</code>. I tried to do this in the following code but actually <code>Mul2.plus100</code> itself is called.</p>\n\n<pre><code>class Mul2 {\n    fun plus100(v: Int): Int = plus100(2 * v)\n}\n\nfun plus100(v: Int): Int = v + 100\n\nfun main(args: Array&lt;String&gt;) {\n    val v = Mul2()\n    println(v.plus100(10)) // expected: \"120\", actual: StackOverflowError\n}\n</code></pre>\n\n<p>Is there anyway to access <code>plus100</code> from <code>Mul2.plus100</code>?</p>\n"}, {"tags": ["android", "kotlin", "google-vision", "android-vision"], "answers": [{"comments": [{"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1499960902, "post_id": 45083847, "comment_id": 77143407, "body": "yeah, basically I just found out I was totally wrong about what&#39;s going on in my code, so I need to restate the question. Perhaps tomorrow, lots of work right now, unfortunately. Still that was what I ended up using."}], "tags": [], "owner": {"reputation": 2802, "user_id": 5231007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2094f6c4fdd7c06b86d73a9a90e812a?s=128&d=identicon&r=PG&f=1", "display_name": "pm0733464", "link": "https://stackoverflow.com/users/5231007/pm0733464"}, "is_accepted": true, "score": 1, "last_activity_date": 1499956622, "creation_date": 1499956622, "answer_id": 45083847, "question_id": 45056867, "link": "https://stackoverflow.com/questions/45056867/divide-google-vision-frame-into-two/45083847#45083847", "title": "Divide google-vision frame into two", "body": "<p>grayscaleImageData from CameraSource also includes color, but is prefixed with the grayscale channel.  That is, it formatted as YUV rather than just being the Y channel (grayscale).</p>\n\n<p>So rather than using imageArray.size, use frame.width * frame.height as the size.</p>\n"}], "owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 45083847, "answer_count": 1, "score": 0, "last_activity_date": 1499956622, "creation_date": 1499860082, "last_edit_date": 1499865259, "question_id": 45056867, "link": "https://stackoverflow.com/questions/45056867/divide-google-vision-frame-into-two", "title": "Divide google-vision frame into two", "body": "<p>In my custom detector I want to divide image from frame into halves, to process them separately.\nThis is what I got so far in my custom <code>Detector</code>:</p>\n\n<pre><code>val imageArray = frame?.grayscaleImageData?.array()\n    val upperImageBuffer = ByteBuffer\n                               .allocate(imageArray?.size ?: 0)\n                               .put(imageArray, 0, imageArray?.size?.div(2) ?: 0)\nval upperFrame = Frame.Builder().\n            setImageData(upperImageBuffer, \n                frame?.metadata?.width ?: 0, \n                frame?.metadata?.height?.div(2) ?: 0, \n                frame?.metadata?.format ?: 16).\n            setRotation(frame?.metadata?.rotation ?: 0).\n            build()\n\nval lowerFrame... etc\n\nval upperDetections = delegateDetector.detect(upperFrame)\nupperDetections.forEach { key, barcode -&gt; \n   if (barcode is Barcode) results.append(key, barcode) \n}\n\nval lowerDetections = delegateDetector.detect(lowerFrame) etc.\n</code></pre>\n\n<p>So far, I am using the same detector on both (this is actually to check if I'm going to recognise more results than in whole frame - as stupid as it sounds, but I leave the question as is, because perhaps someone in the future would need to take one part of image to be processed by one detector, and another one by another).</p>\n\n<p>Still, the problem is: I get the same results for both halves and actually the same as from the original frame. What do I do wrong?</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11707, "user_id": 4393565, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19ab0903bafafe65cabf872f3ef5cff6?s=128&d=identicon&r=PG", "display_name": "P.J.Meisch", "link": "https://stackoverflow.com/users/4393565/p-j-meisch"}, "edited": false, "score": 0, "creation_date": 1499861769, "post_id": 45056920, "comment_id": 77088046, "body": "I go with <code>obj::class.companionObjectInstance</code> as in my real code I do not know what the real class is."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 4, "last_activity_date": 1499861820, "last_edit_date": 1499861820, "creation_date": 1499860193, "answer_id": 45056920, "question_id": 45056702, "link": "https://stackoverflow.com/questions/45056702/how-can-i-set-a-property-of-a-companion-object-in-kotlin-via-reflection/45056920#45056920", "title": "How can I set a property of a companion object in Kotlin via reflection?", "body": "<blockquote>\n  <p>object is not an instance of declaring class</p>\n</blockquote>\n\n<p>Just as in Java, you need to pass the object itself as the first parameter when calling reflective methods.</p>\n\n<p>The first parameter to <code>call</code> should be the companion object, as that is the object whose property you are trying to modify.</p>\n\n<p>You are passing the companion's <em>class object</em> instead of the companion object itself.</p>\n\n<p>A companion object is accessible either via <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\"><code>ClassName.Companion</code></a>, or when using further reflection, through <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/companion-object-instance.html\" rel=\"nofollow noreferrer\"><code>KClass#companionObjectInstance</code></a>.</p>\n\n<pre><code>companionProp.setter.call(WithProperty.Companion, \"hello\")\ncompanionProp.setter.call(obj::class.companionObjectInstance, \"hello\")\ncompanionProp.setter.call(WithProperty::class.companionObjectInstance, \"hello\")\n</code></pre>\n\n<p>When run, both variants print <code>hello world</code> as intended.</p>\n\n<p>Keep in mind that <code>Foo.Companion</code> will result in a compile error if the companion object does not exist while the reflective variant will return <code>null</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1499861191, "creation_date": 1499861191, "answer_id": 45057276, "question_id": 45056702, "link": "https://stackoverflow.com/questions/45056702/how-can-i-set-a-property-of-a-companion-object-in-kotlin-via-reflection/45057276#45057276", "title": "How can I set a property of a companion object in Kotlin via reflection?", "body": "<p>the first argument is the instance of the declaring class.</p>\n\n<p>you pass a <code>KProperty</code> instance <code>companionProp</code> rather than a companion object instance. However, you can using <code>KClass.companionObjectInstance</code> to obtain the compantion instance. for example:</p>\n\n<pre><code>//a non-static property having a receiver, so it should be a KMutableProperty1 here\n//                   v \nif (companionProp is KMutableProperty1&lt;*, *&gt;) {\n//  get the companion object instance ---v\n    companionProp.setter.call(obj::class.companionObjectInstance, \"hello\") \n}\n</code></pre>\n"}], "owner": {"reputation": 11707, "user_id": 4393565, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19ab0903bafafe65cabf872f3ef5cff6?s=128&d=identicon&r=PG", "display_name": "P.J.Meisch", "link": "https://stackoverflow.com/users/4393565/p-j-meisch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3817, "favorite_count": 1, "accepted_answer_id": 45056920, "answer_count": 2, "score": 3, "last_activity_date": 1499861820, "creation_date": 1499859672, "last_edit_date": 1499861715, "question_id": 45056702, "link": "https://stackoverflow.com/questions/45056702/how-can-i-set-a-property-of-a-companion-object-in-kotlin-via-reflection", "title": "How can I set a property of a companion object in Kotlin via reflection?", "body": "<p>When I have a class that has a companion object, is it possible to set  a property in this companion object using reflection? I can do it with normal properties, but fail on companion objects:</p>\n\n<pre><code>import kotlin.reflect.KMutableProperty\nimport kotlin.reflect.full.companionObject\nimport kotlin.reflect.full.memberProperties\n\nclass WithProperty {\n    lateinit var prop: String\n\n    companion object {\n        lateinit var companionProp: String\n    }\n\n    fun test() = \"$companionProp $prop\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val obj = WithProperty()\n\n    val prop = obj::class.memberProperties.filter { it.name == \"prop\" }.first()\n    if (prop is KMutableProperty&lt;*&gt;) {\n        prop.setter.call(obj, \"world\")\n    }\n\n    val companion = obj::class.companionObject\n    if (companion != null) {\n        val companionProp = companion.memberProperties.filter { it.name == \"companionProp\" }.first()\n        if (companionProp is KMutableProperty&lt;*&gt;) {\n            companionProp.setter.call(companionProp, \"hello\") // &lt;-- what must go here as first argument?\n        }\n    }\n\n    println(obj.test())\n}\n</code></pre>\n\n<p>Calling the setter for the <em>normal</em> property works as it should, but when I call <code>companionProp.setter.call(companionProp, \"hello\")</code> I get </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalArgumentException: object is not an instance of declaring class</p>\n</blockquote>\n\n<p>What do I have to pass as first argument to <code>call()</code> to succeed?</p>\n\n<p><strong>Edit:</strong> I wrote <code>companionProp</code>as first argument, but that definitely is wrong, I actually tried with the <code>companion</code> object, but that is not working as well.</p>\n"}, {"tags": ["android", "mockito", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 2, "creation_date": 1499858387, "post_id": 45056191, "comment_id": 77085486, "body": "What is the signature of the <code>hasInternet()</code> function? If it is not <code>open</code>, then the call <code>internetProvider.hasInternert()</code> will be executed, since Mockito cannot stub a final method."}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1499858823, "post_id": 45056191, "comment_id": 77085770, "body": "Genius, should have been pretty obvious I guess. So stubbed methods need to be open... Not sure I like this. Please submit this as an answer and I&#39;ll accept."}], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1499865193, "post_id": 45056557, "comment_id": 77090748, "body": "<a href=\"https://stackoverflow.com/a/43310572/4465208\">Here&#39;s</a> an easy way to start using the inline version of Mockito."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 19, "last_activity_date": 1499859254, "creation_date": 1499859254, "answer_id": 45056557, "question_id": 45056191, "link": "https://stackoverflow.com/questions/45056191/mocked-object-with-mockito-kotlin-not-stubbing-method/45056557#45056557", "title": "Mocked Object with Mockito Kotlin Not Stubbing Method", "body": "<p>Mockito cannot stub final methods. If you try to execute a final method from a mocked instance, the real code will be executed. Since Kotlin's functions are <code>final</code> by default, you'd have to add the <code>open</code> modifier to the function.</p>\n\n<p>There is also an <a href=\"https://github.com/mockito/mockito/wiki/What&#39;s-new-in-Mockito-2#unmockable\" rel=\"noreferrer\">incubating feature</a> in Mockito that <em>does</em> allow mocking of final classes and methods, which may be worth a look.</p>\n"}], "owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2214, "favorite_count": 1, "accepted_answer_id": 45056557, "answer_count": 1, "score": 5, "last_activity_date": 1499859254, "creation_date": 1499858227, "question_id": 45056191, "link": "https://stackoverflow.com/questions/45056191/mocked-object-with-mockito-kotlin-not-stubbing-method", "title": "Mocked Object with Mockito Kotlin Not Stubbing Method", "body": "<p>I have the following code:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner::class)\nclass OnboardingViewModelTest {\n\n    @Mock lateinit var authService : AuthService\n    lateinit var internetProvider: InternetStatusProvider\n    private lateinit var viewModel: OnboardingViewModel\n\n    @Before\n    fun setup() {\n        internetProvider = mock()\n        whenever(internetProvider.hasInternet()).thenReturn(true)\n    }\n</code></pre>\n\n<p>The constructor of <code>InternetStatusProvider</code> looks like so:</p>\n\n<p><code>InternetStatusProvider(context:Context)</code></p>\n\n<p>I am getting a <code>NullPointerException</code> when stubbing the <code>internetProvider.hasInternet()</code> method because that method's implementation uses the <code>context</code> passed in the constructor and the real method is being called?</p>\n\n<p>What am I missing here? the whole point is to stub the real implementation of this method?</p>\n"}, {"tags": ["list", "arraylist", "collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1499858653, "post_id": 45055817, "comment_id": 77085647, "body": "My I ask why do you use run and not let there?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1499858764, "post_id": 45055817, "comment_id": 77085723, "body": "@ligi hi, <code>run</code> take a <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"nofollow noreferrer\">receiver</a>, <code>let</code> take the receiver  as a parameter. so if you use <code>let</code>, you must change the code as <code>?.let{it.y + 100}</code>. the <code>it</code> is an implicit variable for the parameter. you can choose which one you like."}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1499859118, "post_id": 45055817, "comment_id": 77085955, "body": "Thanks - so many options for similar cases ;-) run/let/with/apply - still struggling when to use which - just think let reads a bit nicer/more natural - thanks for your feedback"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1499859299, "post_id": 45055817, "comment_id": 77086088, "body": "@ligi yeah. but they are for different situation. <code>apply</code> will return the <code>receiver</code> rather than the result in lambda body. <code>with</code> is not suitable here."}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1499860098, "post_id": 45055817, "comment_id": 77086696, "body": "Yea sure - here the question is only really between run and let - I think I still prefer let - just as it reads more natural &quot;let it be this&quot; - run does not really speak to me here - but still trying to figure out best practices"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 6, "last_activity_date": 1499858171, "last_edit_date": 1499858171, "creation_date": 1499857229, "answer_id": 45055817, "question_id": 45055677, "link": "https://stackoverflow.com/questions/45055677/kotlin-replace-isemptylast-with-lastornull-within-a-collection/45055817#45055817", "title": "Kotlin replace isEmpty()&amp;last() with lastOrNull() within a Collection", "body": "<p>you can using Kotlin <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\">elvis operator</a> <code>?:</code>, for example:</p>\n\n<pre><code>//   if the expression `entries.lastOrNull()?.y` is null then return `0f` \n//                                  v              \nval lastY = entries.lastOrNull()?.y ?: 0f\n</code></pre>\n\n<p>for the expression in your code above, you can using <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\">safe-call</a> <code>?.let</code>/<code>?.run</code> to make your code more clearly, for example:</p>\n\n<pre><code>//val foo = if (entries.isEmpty()) 0f else entries.last().y + 100f else 100f\n\n//             if no Entry in List return `0F`  ---v\nval foo = entries.lastOrNull()?.run { y + 100 } ?: 0F \n//                            ^--- otherwise make the last.y + 100  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499859552, "post_id": 45055888, "comment_id": 77086292, "body": "the <code>entries.isEmpty()</code> expression is unnecessary. if it is not empty it always return <code>last.y + 100</code> otherwise return <code>0f</code>. and the <code>List</code> contains <code>Entry</code> rather than <code>Entry?</code>, there is no need to using <code>last?.y</code> here."}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499860098, "post_id": 45055888, "comment_id": 77086697, "body": "Nice remark. I&#39;ve missed the fact that the list contains non-nullable entries. Thank&#39;s."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499862739, "post_id": 45055888, "comment_id": 77088803, "body": "I&#39;m sorry I&#39;m late, my bad network. Not at all. I only want you know that."}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1499858264, "last_edit_date": 1499858264, "creation_date": 1499857411, "answer_id": 45055888, "question_id": 45055677, "link": "https://stackoverflow.com/questions/45055677/kotlin-replace-isemptylast-with-lastornull-within-a-collection/45055888#45055888", "title": "Kotlin replace isEmpty()&amp;last() with lastOrNull() within a Collection", "body": "<p>If I've managed to understand you correctly, this will do the job:</p>\n\n<pre><code>val foo = if (entries.isEmpty()) 0f else entries.lastOrNull()?.y ?: 0f + 100f\n</code></pre>\n"}], "owner": {"reputation": 5114, "user_id": 4024146, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6kHBYaTT2sw/AAAAAAAAAAI/AAAAAAAAPZ0/AZk9LqXdwR4/photo.jpg?sz=128", "display_name": "mtrakal", "link": "https://stackoverflow.com/users/4024146/mtrakal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 45055817, "answer_count": 2, "score": 3, "last_activity_date": 1500325160, "creation_date": 1499856854, "last_edit_date": 1500325160, "question_id": 45055677, "link": "https://stackoverflow.com/questions/45055677/kotlin-replace-isemptylast-with-lastornull-within-a-collection", "title": "Kotlin replace isEmpty()&amp;last() with lastOrNull() within a Collection", "body": "<p>I would like to use something like (code below), but I think that there must be a nicer solution with usage <code>lastOrNull()</code> instead of using <code>isEmpty</code> and <code>last()</code></p>\n\n<pre><code>data class Entry(val x: Float, val y: Float)\n</code></pre>\n\n<hr>\n\n<pre><code>var entries: MutableList&lt;Entry&gt; = ArrayList()\nif(some) {\n  entries.add(Entry(100f, 200f)\n}\nval foo = (if (entries.isEmpty()) 0f else entries.last().y) + 100f\n</code></pre>\n\n<p>Is there some better way like <code>entries.lastOrNull()?.y if null 0f</code>?</p>\n"}, {"tags": ["android", "android-animation", "kotlin"], "comments": [{"owner": {"reputation": 438, "user_id": 3200294, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/w2dy4.jpg?s=128&g=1", "display_name": "antonis_st", "link": "https://stackoverflow.com/users/3200294/antonis-st"}, "edited": false, "score": 0, "creation_date": 1518517146, "post_id": 45055624, "comment_id": 84529166, "body": "Your twist was exactly what I needed. Thanks"}], "owner": {"reputation": 3290, "user_id": 4400065, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kbo7S.gif?s=128&g=1", "display_name": "Siegmeyer", "link": "https://stackoverflow.com/users/4400065/siegmeyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1499857094, "creation_date": 1499856687, "last_edit_date": 1499857094, "question_id": 45055624, "link": "https://stackoverflow.com/questions/45055624/animating-scrolling-one-viewgroup-blocks-unrelated-views-from-animation-until", "title": "Animating (scrolling) one ViewGroup blocks unrelated Views from animation until finished", "body": "<h3>View hierarchy:</h3>\n\n<pre><code>[0/6] View (first view in layout)\n...\n[2/6] RecyclerView\n... \nRecyclerView's children views\n...\n[6/6] View (point of interest, on top)\n</code></pre>\n\n<h3>Goal:</h3>\n\n<p>I need to slide in (using fast-out-slow-in interpolator)\nlast View (which happens to be custom toolbar) in my hierarchy when <code>RecyclerView</code> is scrolled suffiently high and slide it out when <code>RecyclerView</code> is suffiently low. Effect similar to \nsliding title header at <a href=\"https://material.io/\" rel=\"nofollow noreferrer\">https://material.io/</a>.</p>\n\n<h3>Problem:</h3>\n\n<p>Toolbar's animations - (view is initially hidden) to show:</p>\n\n<pre><code>title_bar.animate()\n         .setInterpolator(FastOutSlowInInterpolator())\n         .setDuration(500)\n         .setStartDelay(0)\n         .translationY(0f)\n         .start()\n</code></pre>\n\n<p>and hide it:</p>\n\n<pre><code>title_bar.animate()\n         .setInterpolator(FastOutSlowInInterpolator())\n         .setDuration(500)\n         .setStartDelay(0)\n         .translationY(someValue)\n         .start()\n</code></pre>\n\n<p>The problem is that animations won't run until <code>RecyclerView</code>'s scrolling stops (key-up).</p>\n\n<p>I suspect animations are queued in FIFO somehow and pending until scrolling stops. I don't understand why that may be the case since two views are completely independent and <code>RecyclerView</code> is below my Toolbar.</p>\n\n<h3>The Twist</h3>\n\n<p>This works perfectly fine:</p>\n\n<pre><code>title_bar.animate()\n         .setInterpolator(FastOutSlowInInterpolator())\n         .setDuration(0) // &lt;-- duration is zero\n         .setStartDelay(0)\n         .translationY(someValue)\n         .start()\n</code></pre>\n\n<p>i.e. animation is fired right away (maybe it's equivalent to <code>title_bar.translationY = someValue</code>?)</p>\n\n<p>So, what is happening here exactly?</p>\n"}, {"tags": ["android", "testing", "kotlin", "robolectric", "android-livedata"], "comments": [{"owner": {"reputation": 12544, "user_id": 2029566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c100cdc7aa47f4a04db9f2a7575e271a?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/2029566/emmanuel"}, "edited": false, "score": 0, "creation_date": 1501616349, "post_id": 45054972, "comment_id": 77853746, "body": "We are having the same problem. Were you able to figure it out?"}], "answers": [{"comments": [{"owner": {"reputation": 3086, "user_id": 177790, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f6c09ec3441a92e531ffd0b393ee313?s=128&d=identicon&r=PG", "display_name": "slott", "link": "https://stackoverflow.com/users/177790/slott"}, "edited": false, "score": 1, "creation_date": 1560547951, "post_id": 45448554, "comment_id": 99786873, "body": "This is no longer possible with the latest version of Robolectric"}, {"owner": {"reputation": 624, "user_id": 3943340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10156028803550459/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/3943340/shawn"}, "reply_to_user": {"reputation": 3086, "user_id": 177790, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f6c09ec3441a92e531ffd0b393ee313?s=128&d=identicon&r=PG", "display_name": "slott", "link": "https://stackoverflow.com/users/177790/slott"}, "edited": false, "score": 0, "creation_date": 1618368732, "post_id": 45448554, "comment_id": 118578234, "body": "@slott do you have an alternative solution?"}, {"owner": {"reputation": 3086, "user_id": 177790, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f6c09ec3441a92e531ffd0b393ee313?s=128&d=identicon&r=PG", "display_name": "slott", "link": "https://stackoverflow.com/users/177790/slott"}, "reply_to_user": {"reputation": 624, "user_id": 3943340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10156028803550459/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/3943340/shawn"}, "edited": false, "score": 0, "creation_date": 1618495067, "post_id": 45448554, "comment_id": 118622455, "body": "@Shawn I&#39;m currently looking into using this 3rd party lib: <a href=\"https://github.com/jraska/livedata-testing\" rel=\"nofollow noreferrer\">github.com/jraska/livedata-testing</a>"}, {"owner": {"reputation": 3086, "user_id": 177790, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f6c09ec3441a92e531ffd0b393ee313?s=128&d=identicon&r=PG", "display_name": "slott", "link": "https://stackoverflow.com/users/177790/slott"}, "reply_to_user": {"reputation": 624, "user_id": 3943340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10156028803550459/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/3943340/shawn"}, "edited": false, "score": 0, "creation_date": 1618565057, "post_id": 45448554, "comment_id": 118645000, "body": "Actually @Shawn I found something much better. This LiveDataTestUtil from Google works like a charm and is much easier to implement. <a href=\"https://gist.github.com/JoseAlcerreca/1e9ee05dcdd6a6a6fa1cbfc125559bba\" rel=\"nofollow noreferrer\">gist.github.com/JoseAlcerreca/1e9ee05dcdd6a6a6fa1cbfc125559b&zwnj;&#8203;ba</a>"}], "tags": [], "owner": {"reputation": 24, "user_id": 4735854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMw6T.jpg?s=128&g=1", "display_name": "garmstro", "link": "https://stackoverflow.com/users/4735854/garmstro"}, "is_accepted": true, "score": 0, "last_activity_date": 1501626011, "creation_date": 1501626011, "answer_id": 45448554, "question_id": 45054972, "link": "https://stackoverflow.com/questions/45054972/robolectric-test-and-livedata/45448554#45448554", "title": "Robolectric test and LiveData", "body": "<p>It looks like Robolectric is not triggering the Android Lifecycle methods, so LiveData will not update observers. I was able to fix this by manually triggering the \"ON_START\" Lifecycle event after the activity was created by Robolectric:</p>\n\n<pre><code>activity.lifecycle.handleLifecycleEvent(Lifecycle.Event.ON_START)\n</code></pre>\n"}], "owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1668, "favorite_count": 0, "accepted_answer_id": 45448554, "answer_count": 1, "score": 3, "last_activity_date": 1501626011, "creation_date": 1499854880, "question_id": 45054972, "link": "https://stackoverflow.com/questions/45054972/robolectric-test-and-livedata", "title": "Robolectric test and LiveData", "body": "<p>To get a hang of Kotlin, LiveData and Robolectric alltogether, I got a simple splash screen activity.</p>\n\n<p>It works properly when running the application, but it fails to work in the test. It is like the live data's callback is never triggered or like if no oberver is registered for it.</p>\n\n<p>Here is the test:</p>\n\n<pre><code>@Test\nfun should_redirect_to_login_when_time_is_up_after_onStart() {\n    val timeUp = MutableLiveData&lt;Boolean&gt;()\n\n    kodein.addConfig {\n        bind&lt;SplashViewModel&gt;(overrides = true) with factory {\n            _: BaseActivity -&gt; mock&lt;SplashViewModel&gt; { on { isTimeUp() } doReturn timeUp }\n        }\n    }\n\n    val activity = Robolectric.buildActivity(SplashActivity::class.java).create().start().resume().get()\n    timeUp.value = true\n\n    val startedIntent = shadowOf(activity).nextStartedActivity\n    assertThat(startedIntent).isNotNull\n    assertThat(startedIntent).hasComponent(application.packageName, LoginActivity::class.java)\n}\n</code></pre>\n\n<p>The activity:</p>\n\n<pre><code>class SplashActivity : JapetActivity() {\n\n    lateinit var viewModel: SplashViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_splash)\n\n        viewModel = kodein.with(this).instance()\n        viewModel.isTimeUp().observe(this, Observer&lt;Boolean?&gt; { b -&gt; transitionIfTimeUp(b ?: false) })\n\n        transitionIfTimeUp(viewModel.isTimeUp().value ?: false)\n    }\n\n    private fun transitionIfTimeUp(isTimeUp: Boolean) {\n        if (isTimeUp) {\n            startActivity(Intent(this, LoginActivity::class.java))\n            finish()\n        }\n    }\n}\n</code></pre>\n\n<p>The view model (which gets mocked anyway, so implementation is not used):</p>\n\n<pre><code>/**\n * ViewModel for data of the splash screen\n */\ninterface SplashViewModel {\n\n    /** Have we shown the splash screen long enough? */\n    fun isTimeUp(): LiveData&lt;Boolean&gt;\n}\n\n/**\n * Default implementation of the view model\n */\nclass SplashViewModelImpl : ViewModel(), SplashViewModel {\n\n    companion object {\n        private const val SPLASH_DURATION_MS = 2000L\n    }\n\n    private val isTimeUp = MutableLiveData&lt;Boolean&gt;()\n\n    init {\n        isTimeUp.value = false\n\n        Observable.timer(SplashViewModelImpl.SPLASH_DURATION_MS, TimeUnit.MILLISECONDS)\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(AndroidSchedulers.mainThread())\n                .subscribe { isTimeUp.value = true }\n    }\n\n    override fun isTimeUp(): LiveData&lt;Boolean&gt; = isTimeUp\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1499857255, "post_id": 45054582, "comment_id": 77084751, "body": "Activities do not have constructors."}, {"owner": {"reputation": 1130, "user_id": 6425584, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e7107ee43920c0a542d85f9a2fe45192?s=128&d=identicon&r=PG&f=1", "display_name": "Pritish", "link": "https://stackoverflow.com/users/6425584/pritish"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1499857389, "post_id": 45054582, "comment_id": 77084827, "body": "Yeah , got the mistake :) Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 3, "creation_date": 1499854219, "post_id": 45054679, "comment_id": 77082604, "body": "3. Don&#39;t create constructors for Activity classes because they are created by the framework and not by you."}, {"owner": {"reputation": 1130, "user_id": 6425584, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e7107ee43920c0a542d85f9a2fe45192?s=128&d=identicon&r=PG&f=1", "display_name": "Pritish", "link": "https://stackoverflow.com/users/6425584/pritish"}, "reply_to_user": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1499854606, "post_id": 45054679, "comment_id": 77082853, "body": "@RobCo (Y) thanks. Basically I am trying to understand how to use constructors work in kotlin. So I was trying to figure out exactly how to use them . Anyways so I will try it in a non activity class. but I don&#39;t get the error it is giving me now after change &quot; Required int,found String&quot;"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1499855548, "last_edit_date": 1592644375, "creation_date": 1499854093, "answer_id": 45054679, "question_id": 45054582, "link": "https://stackoverflow.com/questions/45054582/cannot-write-primary-constructor-for-activity-class-in-kotlin-in-android/45054679#45054679", "title": "Cannot write primary constructor for Activity class in Kotlin in Android", "body": "<p>Two points:</p>\n<ol>\n<li>Use <code>this</code> keyword instead of <code>super</code></li>\n<li>Pass a string parameter to your primary constructor</li>\n</ol>\n<hr />\n<pre><code>class Main2Activity(val name: String) {\n    var a: Int = 0\n\n    constructor(a: Int) : this(&quot;myString&quot;) {\n        this.a = a\n    }\n}\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>val first = Main2Activity(&quot;Kotlin&quot;)\nprint(&quot;${first.name} ${first.a}&quot;)   // &gt;&gt;&gt; Kotlin, 0\n\nval second = Main2Activity(11)\nprint(&quot;${second.name} ${second.a}&quot;) // &gt;&gt;&gt; myString, 11\n</code></pre>\n<hr />\n<p>Very nice <strong>explanation</strong> by <a href=\"https://stackoverflow.com/a/44844229/7637657\">@Oliver Charlesworth</a>:</p>\n<blockquote>\n<p>There are various syntactic differences <em>[between primary and secondary constructors]</em>, clearly. But a major conceptual difference is that all secondary constructors ultimately delegate to the primary constructor.</p>\n<p>The way I think about this is that the primary constructor is the canonical interface for creating an object, and secondary constructors are like static helpers for transforming other argument sets to comply with this interface.</p>\n</blockquote>\n<p><em>For more info: <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">Constructors</a></em></p>\n"}], "owner": {"reputation": 1130, "user_id": 6425584, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e7107ee43920c0a542d85f9a2fe45192?s=128&d=identicon&r=PG&f=1", "display_name": "Pritish", "link": "https://stackoverflow.com/users/6425584/pritish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1341, "favorite_count": 0, "accepted_answer_id": 45054679, "answer_count": 1, "score": 0, "last_activity_date": 1499855548, "creation_date": 1499853817, "last_edit_date": 1499854827, "question_id": 45054582, "link": "https://stackoverflow.com/questions/45054582/cannot-write-primary-constructor-for-activity-class-in-kotlin-in-android", "title": "Cannot write primary constructor for Activity class in Kotlin in Android", "body": "<p>From the documentation I am trying to do something like this </p>\n\n<pre><code>//Primary:\nclass Main2Activity(val name: String) {\n\n}\n\n//Secondary:\nconstructor(a: Int) : super() {\n   this.a = a\n}\n</code></pre>\n\n<p>So the android studio gives me the option to create this secondary constructor . But it doesn't recognize the primary constructor which I wrote above. I also tried it in few other ways like init and all. It gives me error that secondary constructor not allowed without defining primary one . So how to write primary constructor.</p>\n"}, {"tags": ["java", "lambda", "kotlin", "higher-order-functions", "kotlin-interop"], "answers": [{"tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1499853359, "last_edit_date": 1499853359, "creation_date": 1499850145, "answer_id": 45053118, "question_id": 45052782, "link": "https://stackoverflow.com/questions/45052782/using-functional-interfaces-with-function-types-in-kotlin/45053118#45053118", "title": "Using functional interfaces with function types in Kotlin", "body": "<p>Well, something like this:</p>\n\n<pre><code>// declare a variable of nullable function type:\nvar onSomeActionListener: ((Int, String) -&gt; Unit)? = null\n\n// declare higher-order function:\nfun setOnSomeActionListener(listener: (Int, String) -&gt; Unit) {\n    onSomeActionListener = listener\n}\n\n// set listener:\nval listener: (Int, String) -&gt; Unit = { p1, p2 -&gt; { /* some stuff */ } }\nsetOnSomeActionListener(listener)\n\n// or in one line:\nsetOnSomeActionListener { p1, p2 -&gt; { /* some stuff */ } }\n</code></pre>\n\n<p><em>For more info: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">Higher-Order Functions and Lambdas</a></em></p>\n"}, {"comments": [{"owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "edited": false, "score": 0, "creation_date": 1499878890, "post_id": 45053904, "comment_id": 77100508, "body": "Thanks for the answer. I thought the content divided into clear sections and written like a step-by-step guide was very helpful."}], "tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": true, "score": 14, "last_activity_date": 1511040586, "last_edit_date": 1511040586, "creation_date": 1499852104, "answer_id": 45053904, "question_id": 45052782, "link": "https://stackoverflow.com/questions/45052782/using-functional-interfaces-with-function-types-in-kotlin/45053904#45053904", "title": "Using functional interfaces with function types in Kotlin", "body": "<p>A function type looks like this:</p>\n\n<pre><code>(Parameters) -&gt; ReturnType\n</code></pre>\n\n<p>In your case, instead of using the interface type, you could use <code>(View, Int) -&gt; Unit</code>. It would look something like this:</p>\n\n<pre><code>private var onSomeActionListener: ((View, Int) -&gt; Unit)? = null\n\nfun setOnSomeActionListener(listener: (View, Int) -&gt; Unit) {\n    onSomeActionListener = listener\n}\n\nprivate fun callSomeActionListener(view: View, position: Int) {\n    onSomeActionListener?.invoke(view, position)\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Add names</strong></p>\n\n<p>In functional types you can also specify names for the parameters. This doesn't change much under the hood but they can add some clarity here and in the calling code, which is nice.</p>\n\n<pre><code>(view: View, position: Int) -&gt; Unit\n</code></pre>\n\n<hr>\n\n<p><strong>Using a type alias</strong>  </p>\n\n<p>To avoid having to type <code>(View, Int) -&gt; Unit</code> every time, you can define a typealias:</p>\n\n<pre><code>typealias OnSomeActionListener = (view: View, position: Int) -&gt; Unit\n</code></pre>\n\n<p>So that your code now looks like this again:</p>\n\n<pre><code>private var onSomeActionListener: OnSomeActionListener? = null\n\nfun setOnSomeActionListener(listener: OnSomeActionListener?) {\n    onSomeActionListener = listener\n}   \n</code></pre>\n\n<p>And to call it:</p>\n\n<pre><code>val thing = SomeClass()\n\nthing.setOnSomeActionListener { view, position -&gt;\n    // Do stuff here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 5546006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62f45b4ae19e76aea4911e9cb5d7d92e?s=128&d=identicon&r=PG&f=1", "display_name": "letrec", "link": "https://stackoverflow.com/users/5546006/letrec"}, "is_accepted": false, "score": 0, "last_activity_date": 1499868268, "last_edit_date": 1499868268, "creation_date": 1499867229, "answer_id": 45059519, "question_id": 45052782, "link": "https://stackoverflow.com/questions/45052782/using-functional-interfaces-with-function-types-in-kotlin/45059519#45059519", "title": "Using functional interfaces with function types in Kotlin", "body": "<p>How about defining function that accepts a function and returns an interface?</p>\n\n<pre><code>fun makeOnSomeActionListener(f: (Int,String) -&gt; Unit) = object : OnSomeActionListener {\n    override fun onSomeAction(parameter1: Int, parameter2: String) = f(parameter1, parameter2)\n}\n</code></pre>\n\n<p>The interface delegates its work to <code>f</code>.</p>\n\n<p>Then you can write</p>\n\n<pre><code>val thing = SomeClass()\n\nthing.setOnSomeActionListener(makeOnSomeActionLisener { parameter1, parameter2 -&gt;\n  // Do stuff here\n})\n</code></pre>\n"}], "owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2141, "favorite_count": 0, "accepted_answer_id": 45053904, "answer_count": 3, "score": 7, "last_activity_date": 1511040586, "creation_date": 1499849258, "question_id": 45052782, "link": "https://stackoverflow.com/questions/45052782/using-functional-interfaces-with-function-types-in-kotlin", "title": "Using functional interfaces with function types in Kotlin", "body": "<p>When calling Java code from Kotlin, there is <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"noreferrer\">SAM conversion</a> so that Java code like this:</p>\n\n<pre><code>adapter.setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View view, int position) {\n        // Do stuff here\n    }\n});\n</code></pre>\n\n<p>Can look like this:</p>\n\n<pre><code>adapter.setOnClickListener { view, position -&gt;\n    // Do stuff\n}\n</code></pre>\n\n<p>Now, I'm working on a Kotlin project and I want to define a functional interface as an event listener:</p>\n\n<pre><code>interface OnSomeActionListener {\n\n    fun onSomeAction(parameter1: Int, parameter2: String)\n\n}\n</code></pre>\n\n<p>In <code>SomeClass</code> I have a function to set the listener:</p>\n\n<pre><code>    ...\n\n    private var onSomeActionListener: OnSomeActionListener? = null\n\n    fun setOnSomeActionListener(listener: OnSomeActionListener) {\n        onSomeActionListener = listener\n    }\n\n    ...\n</code></pre>\n\n<p>And when I create an instance of this class and try to invoke the setter function, I do it like so:</p>\n\n<pre><code>val thing = SomeClass()\n\nthing.setOnSomeActionListener(object : OnSomeActionListener {\n    override fun onSomeAction(parameter1: Int, parameter2: String) {\n        // Do stuff here\n    }\n})\n</code></pre>\n\n<p>I'm aware that Kotlin has function types therefore doesn't support SAM conversion from various sites such as <a href=\"https://discuss.kotlinlang.org/t/kotlin-sam-traits-as-lambda-functions/279\" rel=\"noreferrer\">this one</a>.</p>\n\n<p>I've read a little about function types but I have not used them before.</p>\n\n<p><strong>How would I rewrite my code so that I can invoke the setter function like this?</strong></p>\n\n<pre><code>val thing = SomeClass()\n\nthing.setOnSomeActionListener { parameter1, parameter2 -&gt;\n    // Do stuff here\n}\n</code></pre>\n\n<p>.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-logging", "anko"], "comments": [{"owner": {"reputation": 26217, "user_id": 321354, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/af8280741145a2c2d58390fe7ef5c04d?s=128&d=identicon&r=PG&f=1", "display_name": "rciovati", "link": "https://stackoverflow.com/users/321354/rciovati"}, "edited": false, "score": 0, "creation_date": 1499879280, "post_id": 45051525, "comment_id": 77100688, "body": "Your message will be logged only if the logging level for the given tag is explicitly set to DEBUG, regardless the build is a debug or signed one, but consider that your users won&#39;t have that setting turned on. I suggest you to check what <code>Log.isLoggable</code> does."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 26217, "user_id": 321354, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/af8280741145a2c2d58390fe7ef5c04d?s=128&d=identicon&r=PG&f=1", "display_name": "rciovati", "link": "https://stackoverflow.com/users/321354/rciovati"}, "edited": false, "score": 0, "creation_date": 1500018446, "post_id": 45051525, "comment_id": 77166878, "body": "@rciovati Thanks. Can you please make it answer so I can accept it"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 439, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499845686, "creation_date": 1499845686, "question_id": 45051525, "link": "https://stackoverflow.com/questions/45051525/does-anko-logger-library-log-message-in-debug-build-or-signed-build-also", "title": "Does anko logger library log message in debug build or signed build also", "body": "<p>I am trying to use <code>anko</code> commons library for logging debug message on logcat. I want to display logging message in debug build not in signed build. I know I can remove logging in signed builds using <code>Proguard</code> also.</p>\n\n<p>I want to know if <code>anko</code> library itself log messages only in case of debug build ? OR it does in signed build also ?</p>\n\n<p>Here is the <code>Logger</code> utility of <code>anko</code> library <a href=\"https://github.com/Kotlin/anko/blob/d5a526512b48c5cd2e3b8f6ff14b153c2337aa22/anko/library/static/commons/src/Logging.kt\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/blob/d5a526512b48c5cd2e3b8f6ff14b153c2337aa22/anko/library/static/commons/src/Logging.kt</a> </p>\n\n<pre><code>/**\n * Send a log message with the [Log.DEBUG] severity.\n * Note that the log message will not be written if the current log level is above [Log.DEBUG].\n * The default log level is [Log.INFO].\n *\n * @param message the function that returns message text to log.\n *   `null` value will be represent as \"null\", for any other value the [Any.toString] will be invoked.\n *\n * @see [Log.d].\n */\ninline fun AnkoLogger.debug(message: () -&gt; Any?) {\n    val tag = loggerTag\n    if (Log.isLoggable(tag, Log.DEBUG)) {\n        Log.d(tag, message()?.toString() ?: \"null\")\n    }\n}\n</code></pre>\n\n<p>Do I need to remove logging using proguard ? or using some <code>BuildConfig.kt</code> or <code>anko</code> library manages itself ?</p>\n"}, {"tags": ["eclipse", "tomcat", "kotlin", "eclipse-wtp"], "comments": [{"owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "edited": false, "score": 0, "creation_date": 1570064435, "post_id": 45046169, "comment_id": 102799491, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54846569/how-to-add-kotlin-to-an-existing-java-project-in-eclipse\">How to add Kotlin to an existing Java project in Eclipse?</a>"}, {"owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "edited": false, "score": 0, "creation_date": 1570349624, "post_id": 45046169, "comment_id": 102880123, "body": "All the linked questions are newer than this one, so at best they are a duplicate of this question."}], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 286285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amYa5.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/286285/neil"}, "is_accepted": false, "score": 0, "last_activity_date": 1499818847, "creation_date": 1499818847, "answer_id": 45046391, "question_id": 45046169, "link": "https://stackoverflow.com/questions/45046169/eclipse-how-to-add-kotlin-to-a-tomcat-project-compile-kotlin-and-java-files/45046391#45046391", "title": "Eclipse - How to add Kotlin to a Tomcat Project - Compile Kotlin AND Java Files", "body": "<p>OK - To get all the Kotlin menus - turns out you need to be on PACKAGE EXPLORER tab not PROJECT EXPLORER .  arggh just found that by fluke.</p>\n\n<p>The creation of a .kt file will automatically add the runtime and libs for Kotlin to your project. </p>\n\n<p>Now on the the issue of the build / compile now.  Still outstanding.</p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 286285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amYa5.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/286285/neil"}, "is_accepted": false, "score": 1, "last_activity_date": 1499819326, "creation_date": 1499819326, "answer_id": 45046442, "question_id": 45046169, "link": "https://stackoverflow.com/questions/45046169/eclipse-how-to-add-kotlin-to-a-tomcat-project-compile-kotlin-and-java-files/45046442#45046442", "title": "Eclipse - How to add Kotlin to a Tomcat Project - Compile Kotlin AND Java Files", "body": "<p>OK I am narrowing in on this.   I found that the kotlin classes are being compiled to this location under runtime lib? Maybe this will be something I can figure to build to my normal classes folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/buyGF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/buyGF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 286285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amYa5.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/286285/neil"}, "is_accepted": false, "score": 0, "last_activity_date": 1499840053, "creation_date": 1499840053, "answer_id": 45049750, "question_id": 45046169, "link": "https://stackoverflow.com/questions/45046169/eclipse-how-to-add-kotlin-to-a-tomcat-project-compile-kotlin-and-java-files/45049750#45049750", "title": "Eclipse - How to add Kotlin to a Tomcat Project - Compile Kotlin AND Java Files", "body": "<p>OK Update - Downloaded IntelliJ, and \"IT\" works out of the box, in 15 min I had a Hybrid Java/Kotlin Tomcat Project running.</p>\n\n<p>Still Interested in the Eclipse solution but I am probably just going to shell out the cash for IntelliJ.  Time is money.</p>\n"}, {"comments": [{"owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "edited": false, "score": 0, "creation_date": 1570063290, "post_id": 45708234, "comment_id": 102799280, "body": "This is the best answer but please note there are still some issues with Kotlin in Eclipse, for example workspace resolution of Kotlin dependencies is broken: <a href=\"https://stackoverflow.com/questions/57968100/eclipse-maven-tomcat-context-initialization-failed-and-noclassdeferror-with-ko\" title=\"eclipse maven tomcat context initialization failed and noclassdeferror with ko\">stackoverflow.com/questions/57968100/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5591, "user_id": 5728095, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eef72e89aff5e243c30384af15ed51c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sergii", "link": "https://stackoverflow.com/users/5728095/sergii"}, "is_accepted": false, "score": 2, "last_activity_date": 1502870663, "creation_date": 1502870663, "answer_id": 45708234, "question_id": 45046169, "link": "https://stackoverflow.com/questions/45046169/eclipse-how-to-add-kotlin-to-a-tomcat-project-compile-kotlin-and-java-files/45708234#45708234", "title": "Eclipse - How to add Kotlin to a Tomcat Project - Compile Kotlin AND Java Files", "body": "<p>You need add correspond dependencies. The easiest way to manage project dependencies is to use build tools (<strong>maven</strong>, <strong>gradle</strong>, <strong>Ant+Ivy</strong>...). In maven example you need:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;!-- your properties... and define version fir kotlin --&gt;\n    &lt;kotlin.version&gt;1.1.4&lt;/kotlin.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- your project dependencies... and add one for kotlin --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n    &lt;!-- your project plugins... and add one for kotlin --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>If you use IDE you need to install <code>kotlin</code> language support plugin to make <code>kotlin</code> <code>compile</code> or <code>test run</code> more user friendly.</p>\n"}], "owner": {"reputation": 333, "user_id": 286285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amYa5.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/286285/neil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1602, "favorite_count": 2, "answer_count": 4, "score": 5, "last_activity_date": 1502870663, "creation_date": 1499816942, "question_id": 45046169, "link": "https://stackoverflow.com/questions/45046169/eclipse-how-to-add-kotlin-to-a-tomcat-project-compile-kotlin-and-java-files", "title": "Eclipse - How to add Kotlin to a Tomcat Project - Compile Kotlin AND Java Files", "body": "<p>I need help adding Kotlin compiling to an existing eclipse java tomcat project.</p>\n\n<p>For the record I am on Eclipse Oxygen 4.7, and have installed the Kotlin plugin.  I have successfully created and ran gradle based spring boot Kotlin rest api demo and can compile and run \"Kotlin Only Projects\" and use my other java libs - AWESOME.</p>\n\n<p>However now that I have Kotlin I want to use it in work for my other 'legacy' Tomcat 8 projects that are Java J2EE - Dynamic WTP ... new servlets I want to write in Kotlin.</p>\n\n<p>I want to be able to add a Kotlin class in the java src folder in any of my previous packages so when I build a war it all logically together.</p>\n\n<p>The IDE seems ok with this - I created a Kotlin class in a package (in a tomcat project java src package folder)  and it have no issues on resolving, imports, or dependency...</p>\n\n<p>I was thinking WOW!,  Ok now to restart the Tomcat server in WTP and I'll be able to execute my Kotlin Servlet. No - 404 404 404.</p>\n\n<p>I inspected the WEB-INF/classes build folder and along all the Java class files... guess what I saw?!  A file called KotlinServlet.kt ( thats the name of my test servlet, the source version not a compile class version)</p>\n\n<p>So for some reason the build /package/ deployment did not bother to compile the *.kt file and just copied it over (maybe that is the default for general WTP deploy).</p>\n\n<p>I wonder if this would be solved by \"Add Kotlin Nature\" , the strange part is that none of the eclipse Kotlin menu functions are available to me.  If I right click my project I get no Kotlin menu options.</p>\n\n<p>Eclipse states the plugin is installed.  </p>\n\n<p>So my question is:  </p>\n\n<p><strong>Given an existing conventional WTP Tomcat servlet project,  HOW can we get it to identify and a compile *.kt files?  How and why do I not have the Kotlin menu functions?   (I downloaded and tested both the Oxygen Java and J2EE version - installed the Kotlin plugin - and no menus there either to add a Kotlin Nature.  I also then tried the nightly build of the plugin. No menus appeared.   Obviously the puglin is installed compiling other Kotlin projects and works in the editor.</strong></p>\n\n<p>From my research -  \"Add Kotlin Nature\" is supposed to do the trick for joint Java / Kotlin compiling but that menu function is not available anywhere??? </p>\n\n<p>If this is a \"Kotlin Project\" eclipse compiles Kotlin fine.</p>\n\n<p>Any Ideas?   Seems like an IntelliJ conspiracy.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["unit-testing", "mockito", "kotlin", "rx-java"], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 1, "last_activity_date": 1499839888, "creation_date": 1499839888, "answer_id": 45049714, "question_id": 45045610, "link": "https://stackoverflow.com/questions/45045610/how-to-test-observer/45049714#45049714", "title": "How to test observer?", "body": "<p>Usually there are not many cases where it is absolutely not possible to test. As far as I see it, you have a few options:</p>\n\n<ul>\n<li>Put the observer into the constructor with a default value (but this might have some downsides with your dependency injection)</li>\n<li>Put the observer into the function with a default value. This would work, but you have to choose if your API should contain this</li>\n<li>Use the observer as property. In the test you can override this one.</li>\n</ul>\n\n<p>All this variants would work and are listed here:</p>\n\n<pre><code>// observer in constructor\nclass MostPopularPresenter @Inject constructor(val mostPopularUseCase: MostPopularUseCase, val observer: DisposableSingleObserver&lt;MostPopularModel&gt; = MostPopularObserver())\n    : Presenter&lt;MostPopularView&gt;() {\n\n    // observer as property\n    internal var observer: DisposableSingleObserver&lt;MostPopularModel&gt; = MostPopularObserver() \n\n    // observer in function\n    fun requestMostPopular(page: Int, update: Boolean, observer: DisposableSingleObserver&lt;MostPopularModel&gt; = MostPopularObserver()) {\n        if (page &lt;= 6)\n            mostPopularUseCase.execute(observer, MostPopularUseCase.Params.createQuery(page, 15, update))\n    }\n}\n\ninternal class MostPopularObserver : DisposableSingleObserver&lt;MostPopularModel&gt;() { ... }\n</code></pre>\n\n<p>It would be even nicer, if you us a <code>DisposableSingleObserverFactory</code> and create the observer when it's needed.</p>\n\n<pre><code>class MostPopularPresenter @Inject constructor(val mostPopularUseCase: MostPopularUseCase, val observerFactory: DisposableSingleObserverFactory&lt;MostPopularModel&gt; = MostPopularObserverFactorty())\n    : Presenter&lt;MostPopularView&gt;() {\n\n    internal var observerFactory: DisposableSingleObserverFactory&lt;MostPopularModel&gt; = MostPopularObserverFactory()\n\n    fun requestMostPopular(page: Int, update: Boolean, observerFactory: DisposableSingleObserverFactory&lt;MostPopularModel&gt; = MostPopularObserver()) {\n        if (page &lt;= 6)\n            mostPopularUseCase.execute(observerFactory.create(), MostPopularUseCase.Params.createQuery(page, 15, update))\n    }\n}\n\ninternal class MostPopularObserver : DisposableSingleObserver&lt;MostPopularModel&gt;() {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 955, "user_id": 6114462, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/udUpw.png?s=128&g=1", "display_name": "Hype", "link": "https://stackoverflow.com/users/6114462/hype"}, "edited": false, "score": 0, "creation_date": 1499865993, "post_id": 45050084, "comment_id": 77091399, "body": "I really like &quot;thenAnswer&quot; mechanism. I wrote test like you said and I it works very well. Thank you!"}, {"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "reply_to_user": {"reputation": 955, "user_id": 6114462, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/udUpw.png?s=128&g=1", "display_name": "Hype", "link": "https://stackoverflow.com/users/6114462/hype"}, "edited": false, "score": 0, "creation_date": 1499867751, "post_id": 45050084, "comment_id": 77092782, "body": "I don&#39;t think this is the intended way to use <code>thenAnswer</code> or it&#39;s just a little hack. If that helps you I&#39;ll update my answer with another way of doing that"}], "tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": true, "score": 2, "last_activity_date": 1499867746, "last_edit_date": 1499867746, "creation_date": 1499841185, "answer_id": 45050084, "question_id": 45045610, "link": "https://stackoverflow.com/questions/45045610/how-to-test-observer/45050084#45050084", "title": "How to test observer?", "body": "<p>An <code>observer</code> is an object that shouldn't be really tested. It has been already tested when it has been developed by a third developer, although there are some people that say, with a part of reason, that you should also test a third party library in order to ensure that it doesn't break your code between versions.</p>\n\n<p>So, if you don't test the <code>observer</code>... how do you test your code? Simply, what you really need to test is the <strong>presenter</strong> itself. The code running inside the <code>observer</code> is part of the presenter. So instead of mocking the <code>observer</code> <strong>mock the <code>useCase</code></strong>:</p>\n\n<pre><code>test useCaseFails() {\n    val usecase = // mock use case\n    when(usecase.execute(...))\n        .thenAnswer(/* receive the observer as first parameter\n                       and make it emit an error */)\n    val presenter = ...\n    presenter.requestMostPopular(...)\n    // assert that presenter.view?.showError has been called\n}\n</code></pre>\n\n<p>Another way of doing this (at least this is the way I usually code) is to make the <code>useCase</code> return an <code>observable</code> and subscribe it in the <code>presenter</code>:</p>\n\n<pre><code>class MostPopularPresenter @Inject constructor(val mostPopularUseCase: MostPopularUseCase) \n    : Presenter&lt;MostPopularView&gt;() {\n\n    private var lateinit observer : Disposable\n\n    fun requestMostPopular(page: Int, update: Boolean) {\n        if (page &lt;= 6)\n            disposable = mostPopularUseCase.execute(MostPopularUseCase.Params.createQuery(page, 15, update))\n                .subscribe(t -&gt; view?.populateRecyclerList(t),\n                           e -&gt; view?.showError())\n    }\n}\n</code></pre>\n\n<p>This way you can easily mock your <code>useCase</code> so it returns a <code>Subject</code> you can control:</p>\n\n<pre><code>test useCaseFails() {\n    val usecase = // mock use case\n    val subject = PublishSubject()\n    when(usecase.execute(...))\n        .thenReturn(subject)\n    val presenter = ...\n    presenter.requestMostPopular(...)\n    subject.emitError(...) // &lt;- pseudocode\n    // assert that presenter.view?.showError has been called\n}\n</code></pre>\n"}], "owner": {"reputation": 955, "user_id": 6114462, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/udUpw.png?s=128&g=1", "display_name": "Hype", "link": "https://stackoverflow.com/users/6114462/hype"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3261, "favorite_count": 0, "accepted_answer_id": 45050084, "answer_count": 2, "score": 1, "last_activity_date": 1499867746, "creation_date": 1499813004, "last_edit_date": 1499841537, "question_id": 45045610, "link": "https://stackoverflow.com/questions/45045610/how-to-test-observer", "title": "How to test observer?", "body": "<p>I would test presenter like this:</p>\n\n<pre><code>class MostPopularPresenter @Inject constructor(val mostPopularUseCase: MostPopularUseCase) \n: Presenter&lt;MostPopularView&gt;() {\n\n    fun requestMostPopular(page: Int, update: Boolean) {\n        if (page &lt;= 6)\n            mostPopularUseCase.execute(MostPopularObserver(), MostPopularUseCase.Params.createQuery(page, 15, update))\n    }\n\n    inner class MostPopularObserver : DisposableSingleObserver&lt;MostPopularModel&gt;() {\n\n        override fun onSuccess(t: MostPopularModel) {\n            this@MostPopularPresenter.view?.populateRecyclerList(t)\n        }\n\n        override fun onError(e: Throwable) {\n            this@MostPopularPresenter.view?.showError()\n        }\n    }\n}\n</code></pre>\n\n<p>I have problem how to mock observer and force it to throw error or return value on success. I'm using mockito/junit. Can someone point me how to achieve it? Maybe my code is untestable?</p>\n"}, {"tags": ["java", "android", "generics", "parameters", "kotlin"], "comments": [{"owner": {"reputation": 296034, "user_id": 829571, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zflGZ.png?s=128&g=1", "display_name": "assylias", "link": "https://stackoverflow.com/users/829571/assylias"}, "edited": false, "score": 3, "creation_date": 1499808750, "post_id": 45044748, "comment_id": 77064053, "body": "Changing the signature of the Java method to take a <code>List&lt;? extends CountrySupportDto&gt;</code> will probably fix the error."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499837514, "post_id": 45044748, "comment_id": 77071926, "body": "I tried your code and it seems to work perfectly fine. I use gradle 4 and IntelliJ. Do you have the same problem when you build it with gradle <code>.&#47;gradlew clean build --info</code>?"}], "owner": {"reputation": 205, "user_id": 5010978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf382f9e81ba403a0f3256596315be4f?s=128&d=identicon&r=PG&f=1", "display_name": "AndrzejZ", "link": "https://stackoverflow.com/users/5010978/andrzejz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1499808415, "creation_date": 1499808415, "question_id": 45044748, "link": "https://stackoverflow.com/questions/45044748/kotlin-generic-param-in-list-java-and-kotlin-mix", "title": "Kotlin - generic param in List - Java and Kotlin mix", "body": "<p>I have the following problem. I have interface written in Kotlin that has a Listener in it:</p>\n\n<pre><code>interface Listener {\n\n    fun onCountriesSuccess(countries: List&lt;CountrySupportDto&gt;)\n\n    fun onCountriesFailure(t: Throwable)\n\n}\n</code></pre>\n\n<p>and I have a class in Java that uses this interface as anonymous instance:</p>\n\n<pre><code>private InteractorCountriesNetwork.Listener getCountriesInteractorListener() {\nreturn new InteractorCountriesNetwork.Listener() {\n  @Override\n  public void onCountriesSuccess(List&lt;CountrySupportDto&gt; countryRealmList) {\n    if (view != null) {\n      view.updateCountriesList(countryRealmList);\n      view.hideProgress();\n    }\n  }\n\n  @Override\n  public void onCountriesFailure(Throwable t) {\n    if (view != null) {\n      view.showFailure(t);\n    }\n  }\n};\n}\n</code></pre>\n\n<p>And Android studio complains about this method signature:</p>\n\n<pre><code>@Override\npublic void onCountriesSuccess(List&lt;CountrySupportDto&gt; countryRealmList) {\n  ...\n}\n</code></pre>\n\n<p>The complaint is as following:</p>\n\n<blockquote>\n  <p>'onCountiresSuccess(List&lt; CountrySupportDto >)' in 'Anonymous class derived from (...).Listener' clashes with 'onCountriesSuccess(List&lt; ? extends CountrySupportDto >)' in (...).Listener'; both methods have same erasure, yet neither overrides the other.</p>\n</blockquote>\n\n<p>Can you please tell me what's wrong with this code? Also, the class must be implemented in Java, unfortunately.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2605, "user_id": 2316926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2854f6c3cf49dc326e4d999233851fcc?s=128&d=identicon&r=PG", "display_name": "VizGhar", "link": "https://stackoverflow.com/users/2316926/vizghar"}, "edited": false, "score": 0, "creation_date": 1499804325, "post_id": 45043583, "comment_id": 77061923, "body": "Sorry for your time, only problem was usage of incorrect kotlin version. Studio sill freezes and nullable parameters are not problem."}], "tags": [], "owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "is_accepted": false, "score": 2, "last_activity_date": 1499803702, "last_edit_date": 1499803702, "creation_date": 1499803394, "answer_id": 45043583, "question_id": 45043391, "link": "https://stackoverflow.com/questions/45043391/kotlin-and-android-textwatcher-with-charsequence-string-replace-functions/45043583#45043583", "title": "Kotlin and Android TextWatcher with CharSequence/String replace functions", "body": "<p>I've just tried to convert your code to Kotlin in Android Studio and it hanged as well. I assume it's problem with nullable parameters in TextWatcher interface methods.</p>\n\n<p>Anyway, this piece of code must be what you are looking for:</p>\n\n<pre><code>private val editor = object : TextWatcher {\n\n    var newMicro: Long = 0\n\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n    }\n\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n        val text = s.toString().replace(\".\", \"\")\n                .replace(\",\", \"\")\n                .replace(\"$\", \"\")\n\n        try {\n            newMicro = java.lang.Long.parseLong(text)\n        } catch (e: Exception) {\n            newMicro = 0\n        }\n    }\n\n    override fun afterTextChanged(s: Editable?) {\n        removeTextChangedListener(this)\n        setMicroUnits(newMicro)\n        addTextChangedListener(this)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2605, "user_id": 2316926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2854f6c3cf49dc326e4d999233851fcc?s=128&d=identicon&r=PG", "display_name": "VizGhar", "link": "https://stackoverflow.com/users/2316926/vizghar"}, "is_accepted": true, "score": 3, "last_activity_date": 1499804251, "creation_date": 1499804251, "answer_id": 45043772, "question_id": 45043391, "link": "https://stackoverflow.com/questions/45043391/kotlin-and-android-textwatcher-with-charsequence-string-replace-functions/45043772#45043772", "title": "Kotlin and Android TextWatcher with CharSequence/String replace functions", "body": "<p>So it looks like it's not only my problem, that <code>TextWatcher</code> hangs while converting. It stops responding every time. My problem was, that I was unable to use Kotlins <code>String.replace()</code></p>\n\n<p>Solution was just to use proper versions of Kotlin\nAndroidStudio 3.0 preview 6 with <code>kotlin_version = '1.1.3-2'</code></p>\n"}], "owner": {"reputation": 2605, "user_id": 2316926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2854f6c3cf49dc326e4d999233851fcc?s=128&d=identicon&r=PG", "display_name": "VizGhar", "link": "https://stackoverflow.com/users/2316926/vizghar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5876, "favorite_count": 0, "accepted_answer_id": 45043772, "answer_count": 2, "score": 3, "last_activity_date": 1499804422, "creation_date": 1499802677, "last_edit_date": 1499804422, "question_id": 45043391, "link": "https://stackoverflow.com/questions/45043391/kotlin-and-android-textwatcher-with-charsequence-string-replace-functions", "title": "Kotlin and Android TextWatcher with CharSequence/String replace functions", "body": "<p>I'm just playing around with Kotlin on my project and I came to strange problem... When trying to convert custom <code>EditText</code> Android studio stops responding. When I tried to convert it part by part, it stops responding when converting this piece of code:</p>\n\n<pre><code>private TextWatcher editor = new TextWatcher() {\n\n    long newMicro = 0;\n\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n    }\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n        s = s.toString().replace(\".\", \"\")\n                .replace(\",\", \"\")\n                .replace(\"$\", \"\");\n\n        try {\n            newMicro = Long.parseLong(s.toString());\n        } catch (Exception e) {\n            newMicro = 0;\n        }\n    }\n\n    @Override\n    public void afterTextChanged(Editable editable) {\n        removeTextChangedListener(editor);\n        setMicroUnits(newMicro);\n        addTextChangedListener(editor);\n    }\n};\n</code></pre>\n\n<p>Have you experienced such a behavior? I'm unable to reimplement this <code>TextWatcher</code> in Kotlin since I cannot perform neither</p>\n\n<p><code>CharSequence.toString().replace()</code></p>\n\n<p>nor</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\" rel=\"nofollow noreferrer\"><code>CharSequence.replace()</code></a></p>\n\n<p><strong>Any idea how to implement custom TextWatcher in Kotlin?</strong> This is code I've prepared:</p>\n\n<pre><code>val editor = object : TextWatcher {\n    override fun afterTextChanged(p0: Editable?) {\n\n    }\n\n    override fun beforeTextChanged(p0: CharSequence, p1: Int, p2: Int, p3: Int) {\n\n    }\n\n    override fun onTextChanged(p0: CharSequence, p1: Int, p2: Int, p3: Int) {\n    }\n\n}\n</code></pre>\n\n<p><strong>Edit:</strong> Problem occurs while working with kotlin version <code>1.1.2-4</code> on Android Studio 3 Preview 6</p>\n"}, {"tags": ["google-app-engine", "kotlin", "rx-java", "spring-social"], "comments": [{"owner": {"reputation": 26217, "user_id": 321354, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/af8280741145a2c2d58390fe7ef5c04d?s=128&d=identicon&r=PG&f=1", "display_name": "rciovati", "link": "https://stackoverflow.com/users/321354/rciovati"}, "edited": false, "score": 1, "creation_date": 1499845246, "post_id": 45043008, "comment_id": 77076145, "body": "RxJava doesn&#39;t work out-of-box on GAE due to thread restrictions. You need to customize the default schedulers so that they use the GAE api. See: <a href=\"https://stackoverflow.com/questions/23701504/google-appengine-and-rx-java\" title=\"google appengine and rx java\">stackoverflow.com/questions/23701504/&hellip;</a>"}, {"owner": {"reputation": 3145, "user_id": 3425744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1192a0ea645623baafabe93da6ca038?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Betous", "link": "https://stackoverflow.com/users/3425744/thomas-betous"}, "reply_to_user": {"reputation": 26217, "user_id": 321354, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/af8280741145a2c2d58390fe7ef5c04d?s=128&d=identicon&r=PG&f=1", "display_name": "rciovati", "link": "https://stackoverflow.com/users/321354/rciovati"}, "edited": false, "score": 0, "creation_date": 1499846086, "post_id": 45043008, "comment_id": 77076714, "body": "I have found my solution, thank you ! I will post it later."}], "answers": [{"tags": [], "owner": {"reputation": 3145, "user_id": 3425744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1192a0ea645623baafabe93da6ca038?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Betous", "link": "https://stackoverflow.com/users/3425744/thomas-betous"}, "is_accepted": true, "score": 0, "last_activity_date": 1499938921, "creation_date": 1499938921, "answer_id": 45076927, "question_id": 45043008, "link": "https://stackoverflow.com/questions/45043008/cant-make-api-call-urlfetch-fetch-in-a-thread-that-is-neither-the-original-requ/45076927#45076927", "title": "Can&#39;t make API call urlfetch.Fetch in a thread that is neither the original request thread nor a thread created by ThreadManager", "body": "<p>I found my solution. Thanks to this <a href=\"https://stackoverflow.com/questions/23701504/google-appengine-and-rx-java\">link</a>. GAE does not work with RxJava beacause It does not respect thred restriction of Google standard environnent. I had to specify how RxJava have to create thread.</p>\n\n<p>Here is my code :</p>\n\n<pre><code>val scheduler : Scheduler = Schedulers.from(ScheduledThreadPoolExecutor(3, ThreadManager.backgroundThreadFactory()))\nRxJavaPlugins.setComputationSchedulerHandler { scheduler }\n</code></pre>\n\n<p>After that I can use RxJava :</p>\n\n<pre><code>subscriber = Observable.interval(1, TimeUnit.SECONDS)\n                    .map { twitter.userOperations().getUserProfile(\"azeazeaz\").followersCount }\n                    .subscribe {it -&gt; println(it)}\n</code></pre>\n"}], "owner": {"reputation": 3145, "user_id": 3425744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1192a0ea645623baafabe93da6ca038?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Betous", "link": "https://stackoverflow.com/users/3425744/thomas-betous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1644, "favorite_count": 2, "accepted_answer_id": 45076927, "answer_count": 1, "score": 0, "last_activity_date": 1499938921, "creation_date": 1499801235, "last_edit_date": 1499801548, "question_id": 45043008, "link": "https://stackoverflow.com/questions/45043008/cant-make-api-call-urlfetch-fetch-in-a-thread-that-is-neither-the-original-requ", "title": "Can&#39;t make API call urlfetch.Fetch in a thread that is neither the original request thread nor a thread created by ThreadManager", "body": "<p>I am currently playing with kotlin, Spring social and Google app engine. I am trying to get back a number of followers every second.</p>\n\n<p>Here is my code :</p>\n\n<pre><code>@Service\nclass SubscribeService {\n    var subscriber : Disposable? = null\n    var twitter : Twitter = TwitterTemplate(\n            \"XXXAUTHXXX\",\n            \"XXXAUTHXXX\",\n            \"XXXAUTHXXX\",\n            \"XXXAUTHXXX\")\n\n    fun subscribe() {\n        subscriber = Observable.interval(1, TimeUnit.SECONDS).subscribe {println(twitter.userOperations().getUserProfile(\"azeaze\").followersCount)}\n    }\n\n    fun unsubscribe() {\n        subscriber?.dispose()\n    }\n}    \n</code></pre>\n\n<p>I get this exception when I execute subscribe function : </p>\n\n<pre><code>[INFO] io.reactivex.exceptions.OnErrorNotImplementedException: Can't make API call urlfetch.Fetch in a thread that is neither the original request thread nor a thread created by ThreadManager\n[INFO]  at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\n[INFO]  at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\n[INFO]  at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:74)\n[INFO]  at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:64)\n[INFO]  at io.reactivex.internal.operators.observable.ObservableInterval$IntervalObserver.run(ObservableInterval.java:83)\n[INFO]  at io.reactivex.internal.schedulers.ScheduledDirectPeriodicTask.run(ScheduledDirectPeriodicTask.java:39)\n[INFO]  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n[INFO]  at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n[INFO]  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n[INFO]  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n[INFO]  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n[INFO]  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n[INFO]  at java.lang.Thread.run(Thread.java:748)\n[INFO] Caused by: com.google.apphosting.api.ApiProxy$CallNotFoundException: Can't make API call urlfetch.Fetch in a thread that is neither the original request thread nor a thread created by ThreadManager\n[INFO]  at com.google.apphosting.api.ApiProxy$CallNotFoundException.foreignThread(ApiProxy.java:844)\n[INFO]  at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:116)\n[INFO]  at com.google.appengine.api.urlfetch.URLFetchServiceImpl.fetch(URLFetchServiceImpl.java:40)\n[INFO]  at com.google.apphosting.utils.security.urlfetch.URLFetchServiceStreamHandler$Connection.fetchResponse(URLFetchServiceStreamHandler.java:543)\n[INFO]  at com.google.apphosting.utils.security.urlfetch.URLFetchServiceStreamHandler$Connection.getInputStream(URLFetchServiceStreamHandler.java:422)\n[INFO]  at com.google.apphosting.utils.security.urlfetch.URLFetchServiceStreamHandler$Connection.getResponseCode(URLFetchServiceStreamHandler.java:275)\n[INFO]  at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:84)\n[INFO]  at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n[INFO]  at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n[INFO]  at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:99)\n[INFO]  at org.springframework.social.oauth1.OAuth1RequestInterceptor.intercept(OAuth1RequestInterceptor.java:48)\n[INFO]  at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:86)\n[INFO]  at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:70)\n[INFO]  at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n[INFO]  at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n[INFO]  at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:652)\n[INFO]  at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:628)\n[INFO]  at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:303)\n[INFO]  at org.springframework.social.twitter.api.impl.UserTemplate.getUserProfile(UserTemplate.java:60)\n[INFO]  at tbetous.SubscribeService$test$1.accept(SubscribeService.kt:20)\n[INFO]  at tbetous.SubscribeService$test$1.accept(SubscribeService.kt:11)\n[INFO]  at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:60)\n[INFO]  ... 9 more\n[INFO] Exception in thread \"RxComputationThreadPool-1\" io.reactivex.exceptions.OnErrorNotImplementedException: Can't make API call urlfetch.Fetch in a thread that is neither the original request thread nor a thread created by ThreadManager\n[INFO]  at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\n[INFO]  at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\n[INFO]  at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:74)\n[INFO]  at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:64)\n[INFO]  at io.reactivex.internal.operators.observable.ObservableInterval$IntervalObserver.run(ObservableInterval.java:83)\n[INFO]  at io.reactivex.internal.schedulers.ScheduledDirectPeriodicTask.run(ScheduledDirectPeriodicTask.java:39)\n[INFO]  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n[INFO]  at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n[INFO]  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n[INFO]  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n[INFO]  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n[INFO]  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n[INFO]  at java.lang.Thread.run(Thread.java:748)\n[INFO] Caused by: com.google.apphosting.api.ApiProxy$CallNotFoundException: Can't make API call urlfetch.Fetch in a thread that is neither the original request thread nor a thread created by ThreadManager\n[INFO]  at com.google.apphosting.api.ApiProxy$CallNotFoundException.foreignThread(ApiProxy.java:844)\n[INFO]  at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:116)\n[INFO]  at com.google.appengine.api.urlfetch.URLFetchServiceImpl.fetch(URLFetchServiceImpl.java:40)\n[INFO]  at com.google.apphosting.utils.security.urlfetch.URLFetchServiceStreamHandler$Connection.fetchResponse(URLFetchServiceStreamHandler.java:543)\n[INFO]  at com.google.apphosting.utils.security.urlfetch.URLFetchServiceStreamHandler$Connection.getInputStream(URLFetchServiceStreamHandler.java:422)\n[INFO]  at com.google.apphosting.utils.security.urlfetch.URLFetchServiceStreamHandler$Connection.getResponseCode(URLFetchServiceStreamHandler.java:275)\n[INFO]  at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:84)\n[INFO]  at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n[INFO]  at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n[INFO]  at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:99)\n[INFO]  at org.springframework.social.oauth1.OAuth1RequestInterceptor.intercept(OAuth1RequestInterceptor.java:48)\n[INFO]  at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:86)\n[INFO]  at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:70)\n[INFO]  at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n[INFO]  at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n[INFO]  at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:652)\n[INFO]  at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:628)\n[INFO]  at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:303)\n[INFO]  at org.springframework.social.twitter.api.impl.UserTemplate.getUserProfile(UserTemplate.java:60)\n[INFO]  at tbetous.SubscribeService$test$1.accept(SubscribeService.kt:20)\n[INFO]  at tbetous.SubscribeService$test$1.accept(SubscribeService.kt:11)\n[INFO]  at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:60)\n[INFO]  ... 9 more\n</code></pre>\n\n<p>I am pretty sure it is something about google app engine. When I run my application I use <code>mvn appengine:devserver</code>. Can anyone help me ?</p>\n"}, {"tags": ["ant", "annotations", "kotlin", "kotlinc"], "comments": [{"owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "edited": false, "score": 0, "creation_date": 1499878073, "post_id": 45042787, "comment_id": 77100069, "body": "It seems everything I ask on SO these days gets a downvote. Can the person who voted me down explain the defect in the question?"}], "answers": [{"comments": [{"owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "edited": false, "score": 0, "creation_date": 1499879391, "post_id": 45060750, "comment_id": 77100744, "body": "Not working for me (on Windows, either via <code>cmd.exe</code> or Cygwin&#39;s bash shell). I&#39;m also using Kotlin 1.1.3-2. I&#39;ve checked and double-checked the JAR path at least a zillion times. I&#39;ll try it on a pure Linux VM later today."}, {"owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "edited": false, "score": 0, "creation_date": 1499882487, "post_id": 45060750, "comment_id": 77102567, "body": "As an update, I&#39;m able to make it work on Linux just by downloading the <a href=\"https://github.com/JetBrains/kotlin/releases/tag/v1.1.3-2\" rel=\"nofollow noreferrer\">Kotlin 1.1.3-2 release</a> and running the same command that I provided in my question and you provided in your answer. So something is broken w Windows. Once I figure this out, I&#39;ll accept your answer and amend my question to provide the details about Windows-y-ness."}], "tags": [], "owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "is_accepted": true, "score": 1, "last_activity_date": 1499870294, "creation_date": 1499870294, "answer_id": 45060750, "question_id": 45042787, "link": "https://stackoverflow.com/questions/45042787/can-i-invoke-the-kotlin-noargs-plugin-from-the-command-line-or-from-ant/45060750#45060750", "title": "Can I invoke the Kotlin noargs plugin from the command line or from Ant?", "body": "<p>Please check the path to the <code>noarg-compiler-plugin.jar</code> file.\nThis works for me (Kotlin 1.1.3-2 from <a href=\"https://brew.sh\" rel=\"nofollow noreferrer\">Homebrew</a>):</p>\n\n<p><code>kotlinc-jvm -Xplugin=$KOTLIN_HOME/libexec/lib/noarg-compiler-plugin.jar -P plugin:org.jetbrains.kotlin.noarg:annotation=test.NoArgs NoArgs.kt</code></p>\n\n<pre><code>Compiled from \"NoArgs.kt\"\npublic final class test.Test {\n  public final java.lang.String getX();\n  public final java.lang.String getY();\n  public test.Test(java.lang.String, java.lang.String);\n  public final java.lang.String component1();\n  public final java.lang.String component2();\n  public final test.Test copy(java.lang.String, java.lang.String);\n  public static test.Test copy$default(test.Test, java.lang.String, java.lang.String, int, java.lang.Object);\n  public java.lang.String toString();\n  public int hashCode();\n  public boolean equals(java.lang.Object);\n  public test.Test();\n}\n</code></pre>\n"}], "owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 45060750, "answer_count": 1, "score": 0, "last_activity_date": 1499870294, "creation_date": 1499800311, "last_edit_date": 1499802543, "question_id": 45042787, "link": "https://stackoverflow.com/questions/45042787/can-i-invoke-the-kotlin-noargs-plugin-from-the-command-line-or-from-ant", "title": "Can I invoke the Kotlin noargs plugin from the command line or from Ant?", "body": "<p>Kotlin has a <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">noarg compiler plugin</a> which can be used to generate synthetic no-argument constructors for specially-annotated classes. The documentation page clearly explains how to use it with Maven and Gradle, but it is not clear whether it can be used, or how to use it, either from Ant or using <code>kotlinc</code> on the command line.</p>\n\n<p>So far I've been unable to make it work. Here's my <code>NoArgs.kt</code> source file:</p>\n\n<pre><code>package test\n\nannotation class NoArgs\n\n@NoArgs data class Test(val x: String, val y: String)\n</code></pre>\n\n<p>And here are some command lines I've tried, which have no effect at all:</p>\n\n<pre><code>$ kotlinc -verbose \"-Xplugin:$KOTLIN_HOME/lib/noarg-compiler-plugin.jar -P plugin:org.jetbrains.kotlin.noarg:annotation=test.NoArgs NoArgs.kt\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>$ kotlinc -verbose \"-Xplugin=$KOTLIN_HOME/lib/kotlin-annotation-processing.jar;$KOTLIN_HOME/lib/noarg-compiler-plugin.jar;$JRE_HOME/lib/tools.jar\" -P plugin:org.jetbrains.kotlin.noarg:annotation=test.NoArgs NoArgs.kt\n</code></pre>\n\n<p>When I run <code>$ javap test.Test</code> there is no evidence of a generated no-args constructor. There's some side-evidence that the plugin isn't running at all, as well, in the fact that if I put garbage instead of the word <em>annotation</em> for the <strong>-P</strong> option, there's no error message or change in behaviour.</p>\n\n<p>If you can tell me how to get it to run using <code>kotlinc</code> or from Ant, I'd really appreciate it!</p>\n"}, {"tags": ["kotlin", "tostring"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1499804739, "post_id": 45042076, "comment_id": 77062130, "body": "Why would you want to do this?"}], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 2787886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5a5d159905fc98892b01ce0bde811ace?s=128&d=identicon&r=PG&f=1", "display_name": "spyro", "link": "https://stackoverflow.com/users/2787886/spyro"}, "edited": false, "score": 0, "creation_date": 1532440280, "post_id": 45042158, "comment_id": 89968979, "body": "Hmm, that&#39;s a shame because calculated properties (like age from a birthdate etc.) are omitted then. I just don&#39;t see, why they are not printed, as long as they are declared as public properties."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1499797949, "creation_date": 1499797949, "answer_id": 45042158, "question_id": 45042076, "link": "https://stackoverflow.com/questions/45042076/include-property-declared-in-body-of-data-class-in-tostring-in-kotlin/45042158#45042158", "title": "Include property declared in body of data class in toString() in Kotlin", "body": "<p>Not in the generated <code>toString</code>, that will only have the properties declared in the primary constructor (as described in the <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#data-classes\" rel=\"noreferrer\">docs</a>). However, you can always override <code>toString</code> yourself if you want to:</p>\n\n<pre><code>data class A(val b:Int = 0) {\n    val c: Int = 0\n\n    override fun toString(): String {\n        return \"A(b=$b, c=$c)\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 45042158, "answer_count": 1, "score": 3, "last_activity_date": 1499797949, "creation_date": 1499797669, "question_id": 45042076, "link": "https://stackoverflow.com/questions/45042076/include-property-declared-in-body-of-data-class-in-tostring-in-kotlin", "title": "Include property declared in body of data class in toString() in Kotlin", "body": "<p>In Kotlin, is it possible to have a property, that's declared in the body of a data class, be included in the default <code>toString()</code> result?</p>\n\n<pre><code>data class A(val b:Int = 0) {\n    val c: Int = 0\n}\nprintln(A())\n</code></pre>\n\n<p>Prints: <code>A(b=0)</code><br>\nDesired: <code>A(b=0, c=0)</code></p>\n"}, {"tags": ["kotlin", "stack-overflow", "intrinsics"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 4, "creation_date": 1499796906, "post_id": 45041834, "comment_id": 77057864, "body": "Interesting, can you show the classes and the code that throws the error?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499797879, "post_id": 45041834, "comment_id": 77058400, "body": "this is because the <code>Category</code> and <code>Destination</code> maybe have cycle dependent."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499812519, "post_id": 45041834, "comment_id": 77065349, "body": "@holi-java Ahh, this is true in a sense.  <code>Category</code> has a <code>MutableList&lt;Destination&gt;</code> while <code>Destination</code> has a <code>Category</code>"}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1499812644, "post_id": 45041834, "comment_id": 77065387, "body": "@zsmb13 Added simplified examples."}], "answers": [{"tags": [], "owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "is_accepted": true, "score": 4, "last_activity_date": 1499817184, "creation_date": 1499817184, "answer_id": 45046206, "question_id": 45041834, "link": "https://stackoverflow.com/questions/45041834/kotlin-intrinsics-areequal-infinite-loop-stack-overflow/45046206#45046206", "title": "Kotlin: Intrinsics.areEqual infinite loop (stack overflow)", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">Data classes in Kotlin are just syntactic sugar for Java POJOs.</a></p>\n\n<p>The main culprit in your example is this cycle:</p>\n\n<p><code>val destinations: MutableList&lt;Destination&gt;</code> in <code>Category</code> &amp;<br>\n<code>val category: Category</code> in <code>Destination</code></p>\n\n<p>You must remove this cycle by moving either of the two variables out of the primary data class constructor.</p>\n\n<p>However, there is also a <em>much</em> bigger sideeffect: <code>data class Category(..)</code> is <strong>mutable</strong>, which will cause for it (and any other data class using categories in it's primary constructor!) to be unsafe to use as keys in any hash-based collection. For more information, see: <a href=\"https://stackoverflow.com/q/7842049/7079453\">Are mutable hashmap keys a dangerous practice?</a></p>\n\n<p>Given that data classes are meant for pure data, I recommend removing <code>val category: Category</code> in <code>data class Destination(..)</code>, and change type of <code>val destinations: MutableList&lt;Destination&gt;</code> in <code>data class Category(..)</code> to read-only <code>List&lt;Destination&gt;</code>. In order to break immutable state after said changes, you will have to either perform unsafe casts from Kotlin or create an instance of the class from Java.</p>\n\n<p>If you however absolutely require a backreference to categories in destinations (and aren't using your classes in hashmaps/-sets/etc.), you could either make Destination a regular class and implement equals/hashCode yourself, or move the category out of the primary constructor. This is a bit tricky, but can be done with a secondary constructor:</p>\n\n<pre><code>data class Destination private constructor(val name: String) {\n    private lateinit var _category: Category\n    val category get() = _category\n    constructor(category: Category, name: String) : this(name) {\n        _category = category\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "is_accepted": false, "score": 4, "last_activity_date": 1560323305, "last_edit_date": 1560323305, "creation_date": 1560319193, "answer_id": 56555536, "question_id": 45041834, "link": "https://stackoverflow.com/questions/45041834/kotlin-intrinsics-areequal-infinite-loop-stack-overflow/56555536#56555536", "title": "Kotlin: Intrinsics.areEqual infinite loop (stack overflow)", "body": "<p>Well in my case I was overriding equals method like:</p>\n\n<pre><code>override fun equals(other: Any?): Boolean {\n        // some code here\n        if (other==this)\n            return true\n       // some code here\n    }\n</code></pre>\n\n<p><strong>equals and == in java</strong></p>\n\n<p>In java when we use equals(for ex: <code>str1.equals(str2)</code>) it checks the content of two object(for custom objects you must have to override equals and check all the values of objects otherwise Object class's <code>equals</code> method just compare reference, which is same as ==), but if we use ==(for ex: <code>str1==str2</code>) operator, it checks the reference of both objects. </p>\n\n<hr>\n\n<p><strong>== in kotlin</strong></p>\n\n<p>But in case of kotlin when we use == operator, it checks the content(data or variable) of objects only if they are object of data class. And == operator checks reference for normal class.</p>\n\n<p>when we use == it will call the <code>equals</code> method.</p>\n\n<hr>\n\n<p>So in my overridden equals method when <code>other==this</code> will execute it will call <code>eaquals</code> method again, and that will call <code>eaquals</code> method again and make an infinite loop.</p>\n\n<p><strong>So to make it work we need to change == to ===(this will check the reference of both operator)</strong>, like:</p>\n\n<pre><code> if (other===this)\n     return true\n</code></pre>\n\n<blockquote>\n  <p>Note: <code>.equals</code> and <code>==</code> are same until we use them with Float or\n  Double. <code>.equals</code> disagrees with the IEEE 754 Standard for\n  Floating-Point Arithmetic, it returns a false when -0.0 was compared\n  with 0.0 whereas == and === returns true</p>\n  \n  <p>You can check reference <a href=\"https://medium.com/@agrawalsuneet/equality-in-kotlin-and-equals-d8373ef529f1\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 45046206, "answer_count": 2, "score": 3, "last_activity_date": 1560323305, "creation_date": 1499796826, "last_edit_date": 1499812631, "question_id": 45041834, "link": "https://stackoverflow.com/questions/45041834/kotlin-intrinsics-areequal-infinite-loop-stack-overflow", "title": "Kotlin: Intrinsics.areEqual infinite loop (stack overflow)", "body": "<pre><code>java.lang.StackOverflowError\n    at kotlin.jvm.internal.Intrinsics.areEqual(Intrinsics.java:164)\n    at plugin.interaction.inter.teleports.Category.equals(Category.kt)\n    at kotlin.jvm.internal.Intrinsics.areEqual(Intrinsics.java:164)\n    at plugin.interaction.inter.teleports.Destination.equals(Destination.kt)\n</code></pre>\n\n<p>Happens from a <code>.equals</code> comparison between two non-relationship data classes.</p>\n\n<p>Major bug.</p>\n\n<pre><code>data class Category(val name: String, val destinations: MutableList&lt;Destination&gt;)\n\ndata class Destination(val category: Category, val name: String)\n</code></pre>\n"}, {"tags": ["android", "android-studio", "junit", "kotlin", "spock"], "comments": [{"owner": {"reputation": 1533, "user_id": 1350902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fSSXZ.jpg?s=128&g=1", "display_name": "dipdipdip", "link": "https://stackoverflow.com/users/1350902/dipdipdip"}, "edited": false, "score": 0, "creation_date": 1499784510, "post_id": 45037602, "comment_id": 77049697, "body": "Try to run the tests on the whole package rather than only one file. That solved this problem for me once."}, {"owner": {"reputation": 955, "user_id": 6114462, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/udUpw.png?s=128&g=1", "display_name": "Hype", "link": "https://stackoverflow.com/users/6114462/hype"}, "reply_to_user": {"reputation": 1533, "user_id": 1350902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fSSXZ.jpg?s=128&g=1", "display_name": "dipdipdip", "link": "https://stackoverflow.com/users/1350902/dipdipdip"}, "edited": false, "score": 0, "creation_date": 1499784898, "post_id": 45037602, "comment_id": 77050032, "body": "@dipdipdip Do you mean &quot;Run all tests&quot; (CTRL + SHIFT + F10) or changing test kind in Edit Configurations? Both option throws error about empty test, but if I delete spock test all tests(java classes) they running well."}, {"owner": {"reputation": 9495, "user_id": 2145769, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CIiA2.png?s=128&g=1", "display_name": "Leonard Br&#252;nings", "link": "https://stackoverflow.com/users/2145769/leonard-br%c3%bcnings"}, "edited": false, "score": 0, "creation_date": 1499801174, "post_id": 45037602, "comment_id": 77060258, "body": "Looking at your config one difference is that the working projects us groovy-/kotlin-android plugins while the failing projects use the plain plugin variants. Maybe the android plugins do something that is missing in the plain ones? Furthermore, does your edit comment mean, that the spock tests work when run with gradle but not when run within intellij?"}, {"owner": {"reputation": 955, "user_id": 6114462, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/udUpw.png?s=128&g=1", "display_name": "Hype", "link": "https://stackoverflow.com/users/6114462/hype"}, "reply_to_user": {"reputation": 9495, "user_id": 2145769, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CIiA2.png?s=128&g=1", "display_name": "Leonard Br&#252;nings", "link": "https://stackoverflow.com/users/2145769/leonard-br%c3%bcnings"}, "edited": false, "score": 0, "creation_date": 1499803643, "post_id": 45037602, "comment_id": 77061562, "body": "@LeonardBr&#252;nings I think plugins are fine. Exactly, spock test works from command line using gradlew test. Only with InteliJ Android Studio is something wrong."}, {"owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "edited": false, "score": 1, "creation_date": 1505081600, "post_id": 45037602, "comment_id": 79253898, "body": "exact same problem here... Looks like something&#39;s wrong with AS"}, {"owner": {"reputation": 1232, "user_id": 5446845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b76d68d066d4f3cf0dd711287606242?s=128&d=identicon&r=PG&f=1", "display_name": "Poweranimal", "link": "https://stackoverflow.com/users/5446845/poweranimal"}, "edited": false, "score": 0, "creation_date": 1505333870, "post_id": 45037602, "comment_id": 79375657, "body": "same here... multiple modules and the pure kotlin modules can&#39;t run tests ..."}, {"owner": {"reputation": 1486, "user_id": 1809913, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d94c8d36544b0666f5819c0e2ff641f1?s=128&d=identicon&r=PG&f=1", "display_name": "user1809913", "link": "https://stackoverflow.com/users/1809913/user1809913"}, "edited": false, "score": 0, "creation_date": 1509059087, "post_id": 45037602, "comment_id": 80877980, "body": "Has anyone found a solution to this or reported a bug?"}, {"owner": {"reputation": 1903, "user_id": 417006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4981cdace7bd78353de53b964c60c296?s=128&d=identicon&r=PG", "display_name": "St&#233;phane P&#233;chard", "link": "https://stackoverflow.com/users/417006/st%c3%a9phane-p%c3%a9chard"}, "edited": false, "score": 0, "creation_date": 1510906254, "post_id": 45037602, "comment_id": 81643688, "body": "I have a weird situation, with two test classes, one in Java and one in Kotlin (but of course, I&#39;d rather write my tests with the latter). Running <code>.&#47;gradlew test</code> generates a report only containing the Java class test result, not the Kotlin one. Similarly, Android Studio runs the Java class well, but not the Kotlin one, with the same <code>Empty test suite</code> error message. Any help would be appreciated on this topic."}, {"owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "edited": false, "score": 0, "creation_date": 1520867051, "post_id": 45037602, "comment_id": 85480130, "body": "<a href=\"https://issuetracker.google.com/issues/38454212\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/38454212</a>"}], "answers": [{"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 2, "last_activity_date": 1520517842, "creation_date": 1520517842, "answer_id": 49175009, "question_id": 45037602, "link": "https://stackoverflow.com/questions/45037602/empty-test-suite-in-pure-kotlin-module-spock-android/49175009#49175009", "title": "&quot;Empty test suite.&quot; in pure kotlin module. (Spock/Android)", "body": "<p>Open context menu on parent package of your test and select item \"Run tests in ...\"</p>\n"}], "owner": {"reputation": 955, "user_id": 6114462, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/udUpw.png?s=128&g=1", "display_name": "Hype", "link": "https://stackoverflow.com/users/6114462/hype"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 5, "answer_count": 1, "score": 11, "last_activity_date": 1520517842, "creation_date": 1499783722, "last_edit_date": 1499791268, "question_id": 45037602, "link": "https://stackoverflow.com/questions/45037602/empty-test-suite-in-pure-kotlin-module-spock-android", "title": "&quot;Empty test suite.&quot; in pure kotlin module. (Spock/Android)", "body": "<p>My android app is multi module project:</p>\n\n<pre><code>include (android-app/kotlin-android)':application', (pure kotlin)':presentation', (pure kotlin)':domain', (android-library/kotin-android)':dataproviders'\n</code></pre>\n\n<p>Modules :application and :dataproviders working fine with Spock, test running and completing without problems. But :presentation and :domain which are pure kotlin modules have problem with spock framework. There are my simple examples:</p>\n\n<p><strong>MostPopularPresenterTest.groovy</strong></p>\n\n<pre><code>class MostPopularPresenterTest extends Specification {\n\n    def \"exampleTest\"(){\n        when:\n        int i = 1\n        then:\n        i == 1\n    }\n}\n</code></pre>\n\n<p>This test end with error: </p>\n\n<blockquote>\n  <p>Class not found: \"pl.hypeapp.presentation.mostpopular.MostPopularPresenterTest\"Empty test suite.</p>\n</blockquote>\n\n<p>But, test written in Java/Junit4 passing well and did not throw any error:</p>\n\n<p><strong>MostPopularPresenterTest2.java</strong></p>\n\n<pre><code>public class MostPopularPresenterTest2 {\n\n    @Test\n    public void test(){\n        assertEquals(1, 1);\n    }\n}\n</code></pre>\n\n<p>I'm using Android Studio 3.0 Canary 5 \nYou can look at my build.gradle files at github:</p>\n\n<p><a href=\"https://github.com/hypeapps/episodie/blob/master/build.gradle\" rel=\"noreferrer\">build.gradle</a></p>\n\n<p><a href=\"https://github.com/hypeapps/episodie/blob/master/dependencies.gradle\" rel=\"noreferrer\">dependencies.gradle</a></p>\n\n<p><a href=\"https://github.com/hypeapps/episodie/blob/master/application/build.gradle\" rel=\"noreferrer\">application.build.gradle</a></p>\n\n<p><a href=\"https://github.com/hypeapps/episodie/blob/master/presentation/build.gradle\" rel=\"noreferrer\">presentation.build.gradle</a></p>\n\n<p>Can someone help me with my problem?</p>\n\n<p><strong>EDIT:</strong> while ran /.gradlew test test are running.</p>\n"}, {"tags": ["kotlin", "spek"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499783132, "post_id": 45037238, "comment_id": 77048536, "body": "Please run gradle with the options <code>.&#47;gradlew build --info --stacktrace</code> to it and post the output."}, {"owner": {"reputation": 885, "user_id": 5477388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/834fd4bc3204193f94bfe9664b87747c?s=128&d=identicon&r=PG&f=1", "display_name": "Geert Olaerts", "link": "https://stackoverflow.com/users/5477388/geert-olaerts"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499784368, "post_id": 45037238, "comment_id": 77049563, "body": "I am using maven sadly. Updated to show what more i know"}], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 5477388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/834fd4bc3204193f94bfe9664b87747c?s=128&d=identicon&r=PG&f=1", "display_name": "Geert Olaerts", "link": "https://stackoverflow.com/users/5477388/geert-olaerts"}, "edited": false, "score": 0, "creation_date": 1499842166, "post_id": 45040231, "comment_id": 77074185, "body": "Pretty sure i have those, see my maven file"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 885, "user_id": 5477388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/834fd4bc3204193f94bfe9664b87747c?s=128&d=identicon&r=PG&f=1", "display_name": "Geert Olaerts", "link": "https://stackoverflow.com/users/5477388/geert-olaerts"}, "edited": false, "score": 0, "creation_date": 1499843628, "post_id": 45040231, "comment_id": 77075098, "body": "Please lower the versions of <code>junit-platform-runner</code> and <code>junit-jupiter-api</code> from <code>...-M5</code> to <code>...-M4</code> (displayed in the snippet of this answer). This will fix your problem. Reason is that there are some breaking changes in the milestones which are not longer compatible. I&#39;m sure, that this will be fixed in future releases, but for now, avoid using the <code>M5</code> milestone."}, {"owner": {"reputation": 885, "user_id": 5477388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/834fd4bc3204193f94bfe9664b87747c?s=128&d=identicon&r=PG&f=1", "display_name": "Geert Olaerts", "link": "https://stackoverflow.com/users/5477388/geert-olaerts"}, "edited": false, "score": 0, "creation_date": 1499846177, "post_id": 45040231, "comment_id": 77076775, "body": "Thanks, i figured latest version is always the best. Now to get surefire maven to pick up my specs. Thanks for the help"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 885, "user_id": 5477388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/834fd4bc3204193f94bfe9664b87747c?s=128&d=identicon&r=PG&f=1", "display_name": "Geert Olaerts", "link": "https://stackoverflow.com/users/5477388/geert-olaerts"}, "edited": false, "score": 0, "creation_date": 1499857322, "post_id": 45040231, "comment_id": 77084787, "body": "If this solves your problem, just mark it as solved pls. So others know that this one is done."}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 1, "last_activity_date": 1499791269, "creation_date": 1499791269, "answer_id": 45040231, "question_id": 45037238, "link": "https://stackoverflow.com/questions/45037238/running-tests-with-kotlin-spek-and-kluent/45040231#45040231", "title": "Running tests with kotlin spek and kluent", "body": "<p>It seems that you have a missing dependency (<a href=\"http://spekframework.org/docs/latest/#setting-up-legacy\" rel=\"nofollow noreferrer\">http://spekframework.org/docs/latest/#setting-up-legacy</a>). Check that you have those:</p>\n\n<pre><code>org.jetbrains.spek:spek-api:1.1.2\norg.jetbrains.spek:spek-junit-platform-engine:1.1.2\norg.junit.platform:junit-platform-runner:1.0.0-M4\n\n// this one too if you use IntelliJ\ntestImplementation 'org.junit.jupiter:junit-jupiter-api:5.0.0-M4'\n</code></pre>\n"}], "owner": {"reputation": 885, "user_id": 5477388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/834fd4bc3204193f94bfe9664b87747c?s=128&d=identicon&r=PG&f=1", "display_name": "Geert Olaerts", "link": "https://stackoverflow.com/users/5477388/geert-olaerts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "accepted_answer_id": 45040231, "answer_count": 1, "score": 1, "last_activity_date": 1499841323, "creation_date": 1499782931, "last_edit_date": 1499841323, "question_id": 45037238, "link": "https://stackoverflow.com/questions/45037238/running-tests-with-kotlin-spek-and-kluent", "title": "Running tests with kotlin spek and kluent", "body": "<p>Trying to get spek working with kotlin but running into some problems. I have the simplest test:</p>\n\n<pre><code>object TestSpec : Spek({\n    describe(\"A greeter\") {\n            it(\"should fail\") {\n                \"hello\" shouldEqual \"somethingelse\"\n            }\n    }\n})\n</code></pre>\n\n<p>And it doesn't work. I have tried the following variations:</p>\n\n<pre><code>object TestSpec : Spek({\n    describe(\"A greeter\") {\n            it(\"should fail\") {\n                \"hello\" shouldEqual \"somethingelse\"\n            }\n    }\n})\n</code></pre>\n\n<p>This test is green, it clearly should not be.</p>\n\n<pre><code>object TestSpec : Spek({\n    describe(\"A greeter\") {\n        on(\"something\") {\n            it(\"should fail\") {\n                \"hello\" shouldEqual \"hellosdf\"\n            }\n        }\n    }\n})\n</code></pre>\n\n<p>This test doesn't even run. When i execute it i just get </p>\n\n<blockquote>\n  <p>Test framework quit unexpectedly</p>\n</blockquote>\n\n<p>Same for the following variation:</p>\n\n<pre><code>object TestSpec : Spek({\n    given(\"A greeter\") {\n        on(\"something\") {\n            it(\"should fail\") {\n                \"hello\" shouldEqual \"hellosdf\"\n            }\n        }\n    } \n})\n</code></pre>\n\n<p>My maven dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.spek&lt;/groupId&gt;\n        &lt;artifactId&gt;spek-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.spek&lt;/groupId&gt;\n        &lt;artifactId&gt;spek-junit-platform-engine&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.amshove.kluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kluent&lt;/artifactId&gt;\n        &lt;version&gt;1.24&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-M5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0-M5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>If i run the test now i just get <code>Test framework quit unexpectedly</code> without any other information.</p>\n\n<p>Also put the code on github, might be easier if somebody wants to check <a href=\"https://github.com/triberraar/spektest\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"tags": ["java", "constructor", "kotlin", "kotlinpoet"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499780538, "post_id": 45035885, "comment_id": 77046429, "body": "Can you post your Poet generation code?"}, {"owner": {"reputation": 497, "user_id": 926192, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7873252c526edad173aaa8e496b99ded?s=128&d=identicon&r=PG", "display_name": "hhg", "link": "https://stackoverflow.com/users/926192/hhg"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499781425, "post_id": 45035885, "comment_id": 77047208, "body": "sure  <code>PACKAGE_NAME = resolvePackageName(classModel)         val className = resolveDataModelClassName(classModel.className)         val builder = KotlinFile.builder(PACKAGE_NAME, className)         builder.addType(TypeSpec.classBuilder(className).addModifier&zwnj;&#8203;s(KModifier.OPEN).pr&zwnj;&#8203;imaryConstructor(Fun&zwnj;&#8203;Spec.constructorBuil&zwnj;&#8203;der().build())                 .superclass(resolveSuperClass(classModel)).build())</code>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1499782748, "creation_date": 1499782748, "answer_id": 45037170, "question_id": 45035885, "link": "https://stackoverflow.com/questions/45035885/kotlin-poet-empty-constructor-generation-inheritance/45037170#45037170", "title": "Kotlin Poet empty constructor generation - inheritance", "body": "<p>This is a bug. <a href=\"https://github.com/square/kotlinpoet/issues/120\" rel=\"nofollow noreferrer\">Here's</a> the issue for it and <a href=\"https://github.com/square/kotlinpoet/commit/aa3cd39c237cc99885972656eb53e2843c2202a0\" rel=\"nofollow noreferrer\">here</a> is the commit that fixes it.</p>\n\n<p>There hasn't been a new release since this commit (16 of June), the last stable version is <code>0.3.0</code> (11th of June). Hopefully a new release is coming soon - there's been lots of work done since the previous one.</p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 926192, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7873252c526edad173aaa8e496b99ded?s=128&d=identicon&r=PG", "display_name": "hhg", "link": "https://stackoverflow.com/users/926192/hhg"}, "is_accepted": true, "score": 0, "last_activity_date": 1504023796, "creation_date": 1504023796, "answer_id": 45944011, "question_id": 45035885, "link": "https://stackoverflow.com/questions/45035885/kotlin-poet-empty-constructor-generation-inheritance/45944011#45944011", "title": "Kotlin Poet empty constructor generation - inheritance", "body": "<p>indeed in Kotlin Poet the problem is solved in v.0.4.0</p>\n"}], "owner": {"reputation": 497, "user_id": 926192, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7873252c526edad173aaa8e496b99ded?s=128&d=identicon&r=PG", "display_name": "hhg", "link": "https://stackoverflow.com/users/926192/hhg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 45944011, "answer_count": 2, "score": 0, "last_activity_date": 1509422524, "creation_date": 1499779526, "last_edit_date": 1509422524, "question_id": 45035885, "link": "https://stackoverflow.com/questions/45035885/kotlin-poet-empty-constructor-generation-inheritance", "title": "Kotlin Poet empty constructor generation - inheritance", "body": "<p>I'm trying to print a call to superclass' constructor using KotlinPoet. My current (not compiling) output is:</p>\n\n<pre><code>open class NameOfASubclass : NameOfSuperclass {\n}\n</code></pre>\n\n<p>In order to make my code compile I need to (somehow) either print</p>\n\n<pre><code>open class NameOfASubclass : NameOfSuperclass() {\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>open class NameOfASubclass : NameOfSuperclass {\nconstructor()\n}\n</code></pre>\n\n<p>I cannot achieve it using KotlinPoet. Any ideas?</p>\n"}, {"tags": ["regex", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 5, "last_activity_date": 1499779538, "creation_date": 1499779538, "answer_id": 45035889, "question_id": 45035672, "link": "https://stackoverflow.com/questions/45035672/what-exactly-does-a-regex-created-with-regex-fromliteral-match/45035889#45035889", "title": "What exactly does a Regex created with Regex.fromLiteral() match?", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/from-literal.html\" rel=\"noreferrer\"><code>Regex.fromLiteral()</code></a> instantiates a regex object while escaping the special regex metacharacters. The pattern you get is actually <code>\\.\\*</code>, and since you used <code>matches()</code> that requires a full string match, you can only match a <code>.*</code> string with it (with <code>find()</code> you could match it anywhere inside a string).</p>\n\n<p>See the <a href=\"https://github.com/JetBrains/kotlin/blob/6e8f227121470cb7c2709b7b053240d0a6c203c1/js/js.libraries/src/core/regex.kt#L159\" rel=\"noreferrer\">source code</a>:</p>\n\n<blockquote>\n  <p><code>public fun fromLiteral(literal: String): Regex = Regex(escape(literal))</code></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 27685, "user_id": 610979, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ku5ga.png?s=128&g=1", "display_name": "Frank Schmitt", "link": "https://stackoverflow.com/users/610979/frank-schmitt"}, "edited": false, "score": 1, "creation_date": 1499780235, "post_id": 45036052, "comment_id": 77046179, "body": "&quot;Sometimes you need a Regex instance as a parameter&quot; - true, hadn&#39;t thought of that scenario. Thanks!"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 6, "last_activity_date": 1499779951, "creation_date": 1499779951, "answer_id": 45036052, "question_id": 45035672, "link": "https://stackoverflow.com/questions/45035672/what-exactly-does-a-regex-created-with-regex-fromliteral-match/45036052#45036052", "title": "What exactly does a Regex created with Regex.fromLiteral() match?", "body": "<p>Yes, it does indeed create a regex that matches the literal characters in the <code>String</code>. This is handy when you're trying to match symbols that would be interpreted in a regex - you don't have to escape them this way.</p>\n\n<p>For example, if you're looking for strings that contain <code>.*[](1)?[2]</code>, you could do the following:</p>\n\n<pre><code>val regex = Regex.fromLiteral(\".*[](1)?[2]\")\n\nregex.containsMatchIn(\"foo\")                  // false\nregex.containsMatchIn(\"abc.*[](1)?[2]abc\")    // true\n</code></pre>\n\n<p>Of course you can do almost anything you can do with a <code>Regex</code> with just regular <code>String</code> methods too.</p>\n\n<pre><code>val literal = \".*[](1)?[2]\"\nliteral == \"foo\"                       // equality checks\nliteral in \"abc.*[](1)?[2]abc\"         // containment checks\n\"some string\".replace(literal, \"new\")  // replacements\n</code></pre>\n\n<p>But sometimes you need a <code>Regex</code> instance as a parameter, so the <code>fromLiteral</code> method can be used in those cases. Performance of these different operations for different inputs could also be interesting for some use cases.</p>\n"}], "owner": {"reputation": 27685, "user_id": 610979, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ku5ga.png?s=128&g=1", "display_name": "Frank Schmitt", "link": "https://stackoverflow.com/users/610979/frank-schmitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1783, "favorite_count": 0, "accepted_answer_id": 45036052, "answer_count": 2, "score": 5, "last_activity_date": 1499779951, "creation_date": 1499778866, "question_id": 45035672, "link": "https://stackoverflow.com/questions/45035672/what-exactly-does-a-regex-created-with-regex-fromliteral-match", "title": "What exactly does a Regex created with Regex.fromLiteral() match?", "body": "<p>I've created a very simple match-all Regex with <code>Regex.fromLiteral(\".*\")</code>. </p>\n\n<p>According to the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/from-literal.html#kotlin.text.Regex.Companion$fromLiteral(kotlin.String)/literal\" rel=\"noreferrer\">documentation</a>: \"Returns a literal regex for the specified literal string.\"</p>\n\n<p>But I don't really get what \"for the specified literal string\" is supposed to mean.</p>\n\n<p>Consider this example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val regex1 = \".*\".toRegex()\n    val regex2 = Regex.fromLiteral(\".*\")\n    println(\"regex1 matches abc: \" + regex1.matches(\"abc\"))\n    println(\"regex2 matches abc: \" + regex2.matches(\"abc\"))\n    println(\"regex2 matches .* : \" + regex2.matches(\".*\"))  \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>regex1 matches abc: true\nregex2 matches abc: false\nregex2 matches .* : true\n</code></pre>\n\n<p>so apparently (and contrary to my expectations), <code>Regex.fromLiteral()</code> and <code>String.toRegex()</code> behave completely different (I've tried dozens of different arguments to <code>regex2.matches()</code> - the only one that returned true was <code>.*</code>)</p>\n\n<p>Does this mean that a Regex created with <code>Regex.fromLiteral()</code> always matches only the <em>exact string</em> it was created with? </p>\n\n<p>If yes, what are possible use cases for such a Regex? (I can't think of any scenario where that would be useful)</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 4, "last_activity_date": 1499776750, "last_edit_date": 1499776750, "creation_date": 1499775822, "answer_id": 45034551, "question_id": 45034465, "link": "https://stackoverflow.com/questions/45034465/inherit-from-abstract-class-with-multiply-vars-in-kotlin/45034551#45034551", "title": "Inherit from abstract class with multiply vars in Kotlin", "body": "<p>You could specify your Animal class without a construtor and define the constructor(s) only in the subtype.</p>\n\n<pre><code>abstract class Animal {\n    var name = \"\"\n    var age = 0\n    lateinit var mother: Animal\n    lateinit var father: Animal\n    lateinit var friends: ArrayList&lt;Animal&gt;\n}\n\nclass Cat: Animal {\n\n    // only initialize the fields you need for this specific type\n    constructor(n: String) {\n        name = n\n    }\n\n    // define a second constructor for your second question\n    constructor(m: Animal, f: Animal) {\n        mother = m\n        father = f\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3569, "user_id": 5130239, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-SBQtBatMvsI/AAAAAAAAAAI/AAAAAAAAAJg/XIJujiNa7y8/photo.jpg?sz=128", "display_name": "Dus", "link": "https://stackoverflow.com/users/5130239/dus"}, "edited": false, "score": 0, "creation_date": 1499776816, "post_id": 45034571, "comment_id": 77043303, "body": "Thanks, without vars it compiles : class Cat(name: String, age: Int, mother: Animal,           father: Animal, friends: ArrayList&lt;Animal&gt;)     : Animal(name, age, mother, father, friends)"}, {"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "reply_to_user": {"reputation": 3569, "user_id": 5130239, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-SBQtBatMvsI/AAAAAAAAAAI/AAAAAAAAAJg/XIJujiNa7y8/photo.jpg?sz=128", "display_name": "Dus", "link": "https://stackoverflow.com/users/5130239/dus"}, "edited": false, "score": 0, "creation_date": 1499776893, "post_id": 45034571, "comment_id": 77043378, "body": "True, since it&#39;s not defining a new property but just receiving it at the constructor var is not necessary. I&#39;ll update my answer"}], "tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": true, "score": 6, "last_activity_date": 1499776917, "last_edit_date": 1499776917, "creation_date": 1499775868, "answer_id": 45034571, "question_id": 45034465, "link": "https://stackoverflow.com/questions/45034465/inherit-from-abstract-class-with-multiply-vars-in-kotlin/45034571#45034571", "title": "Inherit from abstract class with multiply vars in Kotlin", "body": "<p>Check the documentation about <a href=\"https://kotlinlang.org/docs/reference/classes.html#inheritance\" rel=\"nofollow noreferrer\">inheritance</a></p>\n\n<p>Since you have a primary constructor you will have to pass the parameters to <code>super</code>:</p>\n\n<pre><code>abstract class Animal(var name: String, var age: Int, var mother: Animal, \n                      var father: Animal, var friends: ArrayList&lt;Animal&gt;)\n\nclass Cat(name: String, age: Int, mother: Animal, \n          father: Animal, friends: ArrayList&lt;Animal&gt;) \n          : Animal(name, age, mother, father, friends)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 0, "last_activity_date": 1499789526, "creation_date": 1499789526, "answer_id": 45039717, "question_id": 45034465, "link": "https://stackoverflow.com/questions/45034465/inherit-from-abstract-class-with-multiply-vars-in-kotlin/45039717#45039717", "title": "Inherit from abstract class with multiply vars in Kotlin", "body": "<p>As a side note, you can use generics to help with scope</p>\n\n<p>e.g.</p>\n\n<pre><code>abstract class Animal&lt;T : Animal&lt;T&gt;&gt;(\n    var name: String,\n    var age: Int,\n    var mother: T, \n    var father: T,\n    var friends: MutableList&lt;Animal&gt;\n)\n\nclass Cat(\n    name: String,\n    age: Int,\n    mother: Cat,\n    father: Cat,\n    friends: MutableList&lt;Animal&gt;\n) : Animal&lt;Cat&gt;(name, age, mother, father, friends)\n</code></pre>\n"}], "owner": {"reputation": 3569, "user_id": 5130239, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-SBQtBatMvsI/AAAAAAAAAAI/AAAAAAAAAJg/XIJujiNa7y8/photo.jpg?sz=128", "display_name": "Dus", "link": "https://stackoverflow.com/users/5130239/dus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 45034571, "answer_count": 3, "score": 0, "last_activity_date": 1499800573, "creation_date": 1499775605, "last_edit_date": 1499800573, "question_id": 45034465, "link": "https://stackoverflow.com/questions/45034465/inherit-from-abstract-class-with-multiply-vars-in-kotlin", "title": "Inherit from abstract class with multiply vars in Kotlin", "body": "<p>I have an abstract class with multiply vars :  </p>\n\n<pre><code>abstract class Animal(var name: String, var age: Int, var mother: Animal, \n                      var father: Animal, var friends: ArrayList&lt;Animal&gt;)\n</code></pre>\n\n<p>Now, as you probably guessed, I want to create 'Cat', 'Dog', 'Parrot', etc classes deriving from Animal.</p>\n\n<p>However, when I define Cat class, I don't know whats the name, age, ... fields, so the code doesn't compile.</p>\n\n<pre><code>class Cat : Animal()\n</code></pre>\n\n<p>Doesn't compile, since we need to pass here variables we don't know yet.</p>\n\n<p>Another question would be:\nHow to initiate an inner class within a class? A cat has both mother and father who are cats as well. </p>\n"}, {"tags": ["android", "data-binding", "kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499775081, "post_id": 45034153, "comment_id": 77041878, "body": "Can you post, how you change the value?"}, {"owner": {"reputation": 1294, "user_id": 5389530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-42h7dBNPxpw/AAAAAAAAAAI/AAAAAAAAADk/SFfnBZBIK5A/photo.jpg?sz=128", "display_name": "Timo B&#228;hr", "link": "https://stackoverflow.com/users/5389530/timo-b%c3%a4hr"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499775460, "post_id": 45034153, "comment_id": 77042176, "body": "The value can only be changed using the setter. In my app the value is implicitely changed whenever the getter is called. This is working fine so far. The value changes."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499775567, "post_id": 45034153, "comment_id": 77042245, "body": "So whats the problem then?"}, {"owner": {"reputation": 1294, "user_id": 5389530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-42h7dBNPxpw/AAAAAAAAAAI/AAAAAAAAADk/SFfnBZBIK5A/photo.jpg?sz=128", "display_name": "Timo B&#228;hr", "link": "https://stackoverflow.com/users/5389530/timo-b%c3%a4hr"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499775775, "post_id": 45034153, "comment_id": 77042432, "body": "The code inside the setter is not executed. Hence for data binding I cannot register my <code>Observable.OnPropertyChangedCallback</code>. <a href=\"https://medium.com/google-developers/android-data-binding-observability-9de4ff3fe038\" rel=\"nofollow noreferrer\">This</a> explains how to set a PropertyChangedCallback for Java."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1499775890, "post_id": 45034153, "comment_id": 77042524, "body": "wait, you set the value for <code>helloWorldText</code> but yet the code in setter is not executed?"}, {"owner": {"reputation": 1294, "user_id": 5389530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-42h7dBNPxpw/AAAAAAAAAAI/AAAAAAAAADk/SFfnBZBIK5A/photo.jpg?sz=128", "display_name": "Timo B&#228;hr", "link": "https://stackoverflow.com/users/5389530/timo-b%c3%a4hr"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1499775950, "post_id": 45034153, "comment_id": 77042580, "body": "@pskink Yes, that&#39;s correct."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499776040, "post_id": 45034153, "comment_id": 77042657, "body": "I doubt that. So please provide the problematic code, where you set the value and the code is not executed."}, {"owner": {"reputation": 14914, "user_id": 1217087, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4190f29b0630968bd964485175551851?s=128&d=identicon&r=PG", "display_name": "Adam S", "link": "https://stackoverflow.com/users/1217087/adam-s"}, "edited": false, "score": 0, "creation_date": 1499776103, "post_id": 45034153, "comment_id": 77042715, "body": "If we could see the setter code indeed. This runs as expected (that is, the &quot;Set value to&quot; line prints as expected when the setter is called) - you can try it yourself at try.kotlin.org."}, {"owner": {"reputation": 1294, "user_id": 5389530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-42h7dBNPxpw/AAAAAAAAAAI/AAAAAAAAADk/SFfnBZBIK5A/photo.jpg?sz=128", "display_name": "Timo B&#228;hr", "link": "https://stackoverflow.com/users/5389530/timo-b%c3%a4hr"}, "edited": false, "score": 0, "creation_date": 1499776630, "post_id": 45034153, "comment_id": 77043159, "body": "I tried <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a>. <code>Set value to</code> is not shown in console. I will update the question and post the code that I exactly have executed there."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 2, "creation_date": 1499776916, "post_id": 45034153, "comment_id": 77043397, "body": "Your updated code should not show that string, because there is no assignment. So the value is never set."}, {"owner": {"reputation": 1294, "user_id": 5389530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-42h7dBNPxpw/AAAAAAAAAAI/AAAAAAAAADk/SFfnBZBIK5A/photo.jpg?sz=128", "display_name": "Timo B&#228;hr", "link": "https://stackoverflow.com/users/5389530/timo-b%c3%a4hr"}, "edited": false, "score": 0, "creation_date": 1499777218, "post_id": 45034153, "comment_id": 77043690, "body": "So catch the reputation, this answer is correct."}], "answers": [{"tags": [], "owner": {"reputation": 1294, "user_id": 5389530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-42h7dBNPxpw/AAAAAAAAAAI/AAAAAAAAADk/SFfnBZBIK5A/photo.jpg?sz=128", "display_name": "Timo B&#228;hr", "link": "https://stackoverflow.com/users/5389530/timo-b%c3%a4hr"}, "is_accepted": false, "score": 0, "last_activity_date": 1499778576, "last_edit_date": 1499778576, "creation_date": 1499777864, "answer_id": 45035288, "question_id": 45034153, "link": "https://stackoverflow.com/questions/45034153/setter-not-called-for-kotlin-pojo/45035288#45035288", "title": "Setter not called for Kotlin POJO", "body": "<p>The code never called the setter, only the getter.</p>\n\n<p>Thank you for the comments that helped to solve the issue. This code is running as expected:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var myData = MyData()\n    println(myData.helloWorldText)\n\n    myData.nextValuePlease()        \n    println(myData.helloWorldText)\n}\n\nclass MyData {\n\n    private val values = listOf&lt;String&gt;(\"Oh...\", \"Oh captain...\", \"Oh captain, my ...\", \"Oh captain, my captain...\")\n\n    private var i = 0\n\n    fun nextValuePlease() {\n        i = ++i % values.size\n        helloWorldText = helloWorldText\n    }\n\n    var helloWorldText: String\n        get() = values[i]\n        set(value) {\n            println(\"Set value to \\\"\" + value+\"\\\"\")\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 1294, "user_id": 5389530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-42h7dBNPxpw/AAAAAAAAAAI/AAAAAAAAADk/SFfnBZBIK5A/photo.jpg?sz=128", "display_name": "Timo B&#228;hr", "link": "https://stackoverflow.com/users/5389530/timo-b%c3%a4hr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499778576, "creation_date": 1499774761, "last_edit_date": 1499776788, "question_id": 45034153, "link": "https://stackoverflow.com/questions/45034153/setter-not-called-for-kotlin-pojo", "title": "Setter not called for Kotlin POJO", "body": "<p>I have written a simple POJO (or POKO) and want to use it for data binding inside an Android application written in Kotlin. My problem, the code inside the setter is not called. I expected to see <code>Set value to &lt;&gt;</code> in Console. Any idea why this is not happening?</p>\n\n<p>This is the code I posted in <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a>:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var myData = MyData()\n    println(myData.helloWorldText)\n    println(myData.helloWorldText)\n    println(myData.helloWorldText)\n    println(myData.helloWorldText)\n}\n\nclass MyData {\n\n    private val values = listOf&lt;String&gt;(\"Oh...\", \"Oh captain...\", \"Oh captain, my ...\", \"Oh captain, my captain...\")\n\n    private var i = -1\n\n    var helloWorldText: String = \"\"\n        get() = values[++i % values.size]\n        set(value) {\n            println(\"Set value to \" + field)\n        }\n}\n</code></pre>\n\n<p><em>Background information:</em> Later on I want make my POJO implement <code>android.databinding.Observable</code> and call <code>registry.notifyChange(this, BR.helloWorldText)</code> inside the setter.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "edited": false, "score": 0, "creation_date": 1561653662, "post_id": 45032436, "comment_id": 100145463, "body": "Years later and I am still confused on the property vs param argument."}], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 14, "last_activity_date": 1499770649, "creation_date": 1499770649, "answer_id": 45032598, "question_id": 45032436, "link": "https://stackoverflow.com/questions/45032436/what-is-the-difference-between-properties-and-parameters-in-kotlin/45032598#45032598", "title": "What is the difference between properties and parameters in Kotlin?", "body": "<p>You pass <em>parameters</em> to functions and constructors, and <em>classes</em> have <em>properties</em>.</p>\n\n<p>The constructor of the <code>Person</code> class in your example has a single parameter, and so does the <code>double</code> function. In this case, the <code>firstName</code> parameter is <em>not</em> a property!</p>\n\n<p>To make it a property, you have to declare it so:</p>\n\n<pre><code>class Person(firstName: String) {\n\n  val firstName : String = firstName\n}\n</code></pre>\n\n<p>Kotlin allows this to be shorter, which makes the <code>firstName</code> parameter serve as a property:</p>\n\n<pre><code>class Person(val firstName: String)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5252, "user_id": 1189800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQHkY.jpg?s=128&g=1", "display_name": "Chetan Joshi", "link": "https://stackoverflow.com/users/1189800/chetan-joshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1499770823, "creation_date": 1499770823, "answer_id": 45032657, "question_id": 45032436, "link": "https://stackoverflow.com/questions/45032436/what-is-the-difference-between-properties-and-parameters-in-kotlin/45032657#45032657", "title": "What is the difference between properties and parameters in Kotlin?", "body": "<p>properties and parameters  are different thinks:</p>\n\n<p><em>parameters</em>  : when we declare any function :</p>\n\n<pre><code>fun sum(a: Int, b: Int): Int {\n    return a + b\n}\n</code></pre>\n\n<p>Function having two Int parameters with Int return type:</p>\n\n<p><em>Properties and Fields:</em></p>\n\n<p>Declaring Properties</p>\n\n<p>Classes in <code>Kotlin</code> can have properties. These can be declared as mutable, using the <code>var</code> keyword or read-only using the <code>val</code> keyword.</p>\n\n<pre><code>class Address {\n    var name: String = ...\n    var street: String = ...\n    var city: String = ...\n    var state: String? = ...\n    var zip: String = ...\n}\n</code></pre>\n\n<p>To use a property, we simply refer to it by name, as if it were a field in Java:</p>\n\n<pre><code>fun copyAddress(address: Address): Address {\n    val result = Address() // there's no 'new' keyword in Kotlin\n    result.name = address.name // accessors are called\n    result.street = address.street\n    // ...\n    return result\n}\n</code></pre>\n\n<p>The full syntax for declaring a property is:</p>\n\n<pre><code>var &lt;propertyName&gt;[: &lt;PropertyType&gt;] [= &lt;property_initializer&gt;]\n    [&lt;getter&gt;]\n    [&lt;setter&gt;]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 0, "last_activity_date": 1499774156, "last_edit_date": 1499774156, "creation_date": 1499770976, "answer_id": 45032712, "question_id": 45032436, "link": "https://stackoverflow.com/questions/45032436/what-is-the-difference-between-properties-and-parameters-in-kotlin/45032712#45032712", "title": "What is the difference between properties and parameters in Kotlin?", "body": "<p>First, your <code>firstName</code> also is a <a href=\"https://kotlinlang.org/docs/reference/functions.html#parameters\" rel=\"nofollow noreferrer\">parameter</a> rather than a <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">property</a> in <code>Person</code> class.</p>\n\n<pre><code>//           v-- a parameter declared on primary constructor\nclass Person(firstName: String)\n</code></pre>\n\n<p>you can access a parameter declared on <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">primary constructor</a> in <code>init</code> block or property/field declaration, for example:</p>\n\n<pre><code>class Person(firstName: String){\n   val first:String\n   init{ first=firstName }\n}\n\nclass Person(firstName: String){\n   val first:String = firstName\n}\n\nclass Person(firstName: String){\n   @JvmField val first:String = firstName\n}\n</code></pre>\n\n<p>to make the <code>firstName</code> to a property you can using keyword <code>val</code> or <code>var</code>, for example:</p>\n\n<pre><code>//            v--- immutable property\nclass Person(val firstName: String)\n\n//            v--- mutable property\nclass Person(var firstName: String)\n</code></pre>\n\n<p>a Kotlin property will generate getter/setter(?) and a <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">backing field(?)</a> to java byte code. Take an example of a mutable property to java byte code as below:</p>\n\n<pre><code>public final class Person{\n   private String firstName; // backing field\n\n   //                   v--- parameter\n   public Person(String firstName){ this.firstName = firstName; }\n\n   //getter\n   public final String getFirstName(){ return firstName; }\n\n   //setter\n   public final String setFirstName(String firstName){ this.firstName= firstName; }\n}\n</code></pre>\n\n<p>a parameter only visible in function scope/constructor scope except parameter declared on primary constructor. </p>\n\n<p><em>Note</em>: a parameter is <strong>immutable</strong> like as java <strong>effective-final</strong> variables/parameters, so you can't reassign a parameter at all in Kotlin, for example:</p>\n\n<pre><code>fun foo(bar:String){\n   bar = \"baz\"\n// ^--- compile error  \n}\n</code></pre>\n"}], "owner": {"reputation": 1435, "user_id": 8084935, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10211908509644982/picture?type=large", "display_name": "J Adonai Dagdag", "link": "https://stackoverflow.com/users/8084935/j-adonai-dagdag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3381, "favorite_count": 1, "accepted_answer_id": 45032598, "answer_count": 3, "score": 6, "last_activity_date": 1499774156, "creation_date": 1499770172, "question_id": 45032436, "link": "https://stackoverflow.com/questions/45032436/what-is-the-difference-between-properties-and-parameters-in-kotlin", "title": "What is the difference between properties and parameters in Kotlin?", "body": "<p>Here is a simple example of a class with some code (properties) inside the bracket</p>\n\n<pre><code>class Person(firstName: String) {\n....\n}\n</code></pre>\n\n<p>Now here is an example of a function with some code (parameters) inside the bracket</p>\n\n<pre><code>fun double(x: Int) {\n...\n}\n</code></pre>\n\n<p>I know this is a fundamental question but I am quite confused as a beginner.</p>\n"}, {"tags": ["android", "image", "kotlin", "overlay", "fresco"], "answers": [{"tags": [], "owner": {"reputation": 844, "user_id": 7041761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93el7.jpg?s=128&g=1", "display_name": "Max Zonov", "link": "https://stackoverflow.com/users/7041761/max-zonov"}, "is_accepted": true, "score": 1, "last_activity_date": 1499798524, "creation_date": 1499798524, "answer_id": 45042324, "question_id": 45032045, "link": "https://stackoverflow.com/questions/45032045/fresco-close-overlay-view/45042324#45042324", "title": "Fresco close overlay view", "body": "<p>The solution i've found:</p>\n\n<pre><code>var imageViewer: ImageViewer? = null\n\nimageViewer = ImageViewer.Builder(context, urls)\n                .setBackgroundColor(Color.BLACK)\n                .setStartPosition(0)\n                .allowSwipeToDismiss(false)\n                .hideStatusBar(false)\n                .setOverlayView(WorkerPhotoOverlayView(context))\n                .setOverlayView(WorkerPhotoOverlayView(context)\n                        .apply {\n                            this.close_btn.setOnClickListener {\n                                imageViewer?.onDismiss()\n                            }\n                        })\n                .show()\n</code></pre>\n"}], "owner": {"reputation": 844, "user_id": 7041761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93el7.jpg?s=128&g=1", "display_name": "Max Zonov", "link": "https://stackoverflow.com/users/7041761/max-zonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 2, "accepted_answer_id": 45042324, "answer_count": 1, "score": 0, "last_activity_date": 1520576647, "creation_date": 1499769189, "last_edit_date": 1520576647, "question_id": 45032045, "link": "https://stackoverflow.com/questions/45032045/fresco-close-overlay-view", "title": "Fresco close overlay view", "body": "<p>I have a profile class with a photo. When I click on photo it shows overlay. I need to close this overlay by clickink on close image. So, I can't realize it. </p>\n\n<p>There are classes when I tried do this:</p>\n\n<p><strong>ProfileClass.kt</strong></p>\n\n<pre><code>class WorkerProfileFragment : BaseFragment() {\ncompanion object {\n    fun createWorkerPhotoFragment() = WorkerProfileFragment()\n}\n\noverride val layoutId: Int?\n    get() = R.layout.fragment_profile_worker\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    var imageViewer: ImageViewer? = null\n    val imageOverlayView = ImageOverlayView(context)\n\n    val url = \"myURL\"\n    val urls: List&lt;String&gt; = listOf(url)\n\n    imageOverlayView.close_btn.setOnClickListener {\n        imageViewer?.onDismiss()\n    }\n    sdv_photo_worker.setImageURI(url)\n    sdv_photo_worker.setOnClickListener {\n        imageViewer = ImageViewer.Builder(context, urls)\n                .setBackgroundColor(Color.BLACK)\n                .setStartPosition(0)\n                .allowSwipeToDismiss(false)\n                .hideStatusBar(false)\n                .setOverlayView(ImageOverlayView(context))\n                .show()\n    }\n\n}\n</code></pre>\n\n<p><strong>ImageOverlayView.kt</strong></p>\n\n<pre><code>class ImageOverlayView(context: Context?) : RelativeLayout(context) {\n\ninit {\n    val view = View.inflate(context, R.layout.view_worker_photo_overlay, this)\n    view.findViewById(R.id.close_btn)?.setOnClickListener(closePhotoView(context))\n}\n\nfun closePhotoView(context: Context?): OnClickListener? {\n    return null\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>View</strong></p>\n\n<pre><code>&lt;merge xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/close_btn\"\n    android:clickable=\"true\"\n    android:layout_marginLeft=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    android:src=\"@drawable/ic_close\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>Please, help..</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "edited": false, "score": 0, "creation_date": 1499765259, "post_id": 45030436, "comment_id": 77034764, "body": "Post full stacktrace, please."}], "answers": [{"tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": false, "score": 0, "last_activity_date": 1499765437, "creation_date": 1499765437, "answer_id": 45030608, "question_id": 45030436, "link": "https://stackoverflow.com/questions/45030436/none-of-the-following-candidates-is-responsible-because-of-the-receiver-type-mis/45030608#45030608", "title": "None of the following candidates is responsible because of the receiver type mismatch", "body": "<p>Just inflate your view using <code>LayoutInflater</code> instead of inflate from <code>View</code>.</p>\n\n<p>Replace this line:</p>\n\n<pre><code>val myView = View.inflate(con, R.layout.item, null)\n</code></pre>\n\n<p>By:</p>\n\n<pre><code>val myView = LayoutInflater.from(con).inflate(R.layout.item, null)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "edited": false, "score": 0, "creation_date": 1503327112, "post_id": 45032512, "comment_id": 78558115, "body": "I was fighting this minor omission for a while now. Something so simple can cause lots of grief. (and I think you should mark this answer as correct)"}], "tags": [], "owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "is_accepted": true, "score": 1, "last_activity_date": 1499770413, "creation_date": 1499770413, "answer_id": 45032512, "question_id": 45030436, "link": "https://stackoverflow.com/questions/45030436/none-of-the-following-candidates-is-responsible-because-of-the-receiver-type-mis/45032512#45032512", "title": "None of the following candidates is responsible because of the receiver type mismatch", "body": "<p>Thanks guys.\nHave solve the issue.\nI added .view to the extension.</p>\n\n<p><strong>Wrong</strong></p>\n\n<pre><code>import kotlinx.android.synthetic.main.item.*\n</code></pre>\n\n<p><strong>Correct</strong></p>\n\n<pre><code>   import kotlinx.android.synthetic.main.item.view.*\n</code></pre>\n"}], "owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3546, "favorite_count": 0, "accepted_answer_id": 45032512, "answer_count": 2, "score": 2, "last_activity_date": 1499770413, "creation_date": 1499764975, "question_id": 45030436, "link": "https://stackoverflow.com/questions/45030436/none-of-the-following-candidates-is-responsible-because-of-the-receiver-type-mis", "title": "None of the following candidates is responsible because of the receiver type mismatch", "body": "<p>Working on an android project everything  is working  fine until now.\nGetting this error </p>\n\n<p><strong><em>None of the following candidates is responsible because of the receiver type mismatch</em></strong>.\nIt occurs on the id of my views.</p>\n\n<p>The below is the code</p>\n\n<pre><code>override fun getView(postion: Int, p1: View?, p2: ViewGroup?): View {\n        val myView = View.inflate(con, R.layout.item, null)\n        val Tanamo = this.lis[postion]\n        myView.txt1.text = Tanamo.Title\n        myView.txt2.text = Tanamo.Author\n\n\n        myView.but!!.setBackgroundResource(android.R.drawable.ic_media_play)\n\n        myView.but.setOnClickListener({\n\n            if (playRadio) {\n                playRadio = false\n                medi!!.stop()\n                myView.but!!.setBackgroundResource(android.R.drawable.ic_media_play)\n            } else {\n                playRadio = true\n                medi = MediaPlayer()\n\n                try {\n                    medi!!.setDataSource(Tanamo.Url)\n                    medi!!.prepare()\n                    medi!!.start()\n                    myView.but!!.setBackgroundResource(android.R.drawable.ic_media_pause)\n                } catch (ex: Exception) {\n                }\n            }\n\n\n        })\n\n        return myView\n\n    }\n</code></pre>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1499757834, "post_id": 45027901, "comment_id": 77029891, "body": "A <code>^</code> anchor will make the usual regex <code>find()</code> method only look for a match at the start of a string (if a multiline option is used, at the start of a line). To only match at the start of the string, use <code>\\A</code>."}, {"owner": {"reputation": 2282, "user_id": 818716, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rgrL.jpg?s=128&g=1", "display_name": "orelzion", "link": "https://stackoverflow.com/users/818716/orelzion"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1499759896, "post_id": 45027901, "comment_id": 77031169, "body": "@WiktorStribi\u017cew Thanks! That worked"}], "owner": {"reputation": 2282, "user_id": 818716, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rgrL.jpg?s=128&g=1", "display_name": "orelzion", "link": "https://stackoverflow.com/users/818716/orelzion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "closed_date": 1499757773, "answer_count": 0, "score": 2, "last_activity_date": 1499757607, "creation_date": 1499757607, "question_id": 45027901, "link": "https://stackoverflow.com/questions/45027901/startwith-with-regex-kotlin", "closed_reason": "Duplicate", "title": "startWith with regex kotlin", "body": "<p>I see that start with in Kotlin is only accepting CharSequence and no regex</p>\n\n<p>How do I match regex with start with in Kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "edited": false, "score": 1, "creation_date": 1499750088, "post_id": 45025883, "comment_id": 77025873, "body": "This is crt answer"}], "tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": false, "score": 9, "last_activity_date": 1499750247, "last_edit_date": 1499750247, "creation_date": 1499749998, "answer_id": 45025883, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/45025883#45025883", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>Yes you can mix Java and Kotlin in one project.</p>\n\n<p>From Android <a href=\"https://developer.android.com/kotlin/index.html\" rel=\"noreferrer\">doc</a> :</p>\n\n<blockquote>\n  <p>If you're interested in using Kotlin, it's easy to get started because\n  it works side by side with Java and C++ on Android. So you can keep\n  your existing code, continue to use the various Android libraries, and\n  incrementally add Kotlin code to your project. Unlike almost any other\n  language, Kotlin is a drop-in replacement you can use\n  bi-directionally\u2014you can call into the Java language from Kotlin, and\n  you can call into Kotlin from the Java language.</p>\n</blockquote>\n\n<p>Also you should take a view of kotlin official <a href=\"https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html\" rel=\"noreferrer\">doc</a></p>\n\n<hr>\n\n<p>You can also convert Java code to Kotlin with IntelliJIDEA.</p>\n"}, {"tags": [], "owner": {"reputation": 1188, "user_id": 5908465, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/206b8c09c5e9baa0428b2977fa238cc2?s=128&d=identicon&r=PG&f=1", "display_name": "Android Player_Shree", "link": "https://stackoverflow.com/users/5908465/android-player-shree"}, "is_accepted": false, "score": 4, "last_activity_date": 1499751232, "last_edit_date": 1499751232, "creation_date": 1499750604, "answer_id": 45026002, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/45026002#45026002", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>First of all you have to download Kotlin Plugin and integrate that into android studio, after that using double shift write <strong>convert java file to kotlin file</strong> or you can use short cut <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd></p>\n\n<p><a href=\"https://i.stack.imgur.com/fehtX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fehtX.png\" alt=\"Image shows how to convert java file to kotlin file\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 3551, "user_id": 1441732, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/64426f0b07f2d12157f75f79afbd5fdd?s=128&d=identicon&r=PG", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/1441732/swapnil"}, "is_accepted": false, "score": 8, "last_activity_date": 1529215128, "creation_date": 1529215128, "answer_id": 50894105, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/50894105#50894105", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>simplest way to do this is :</p>\n\n<ol>\n<li>right click on app folder</li>\n<li>select new</li>\n<li>kotlin file/class</li>\n<li>any directory with any name \"KotlinTest\"</li>\n<li>it will prompt you to configure</li>\n<li>select appropriate module or all modules(if you are using wear also in your project)</li>\n<li>this will start automatic installation</li>\n<li>delete KotlinTest class</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7869830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c22390836faf14bcccf657ee2415f?s=128&d=identicon&r=PG", "display_name": "Vikas Pachar", "link": "https://stackoverflow.com/users/7869830/vikas-pachar"}, "is_accepted": false, "score": 0, "last_activity_date": 1532073166, "creation_date": 1532073166, "answer_id": 51437702, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/51437702#51437702", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>Just create a new Activity and set Source Language as Kotlin while creating activity <a href=\"https://i.stack.imgur.com/0gyyg.png\" rel=\"nofollow noreferrer\">Image</a></p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 11436362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IWmeUqsFlLI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfNVnbDKIwJx9fj9h8a0D6sI41ODw/mo/photo.jpg?sz=128", "display_name": "Shivam Singh", "link": "https://stackoverflow.com/users/11436362/shivam-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1556727717, "creation_date": 1556727717, "answer_id": 55939330, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/55939330#55939330", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>Just click ctrl+alt+shift+k to convert your whole app from java to kotlin. And remember to keep your system connected to active internet while you do so because it needs to download the required plugins. I think you'll be good to go after doing this. </p>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 9674343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gal", "link": "https://stackoverflow.com/users/9674343/gal"}, "is_accepted": false, "score": 1, "last_activity_date": 1556741469, "creation_date": 1556741469, "answer_id": 55942131, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/55942131#55942131", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>It is possible to use Java and Kotlin side by side.\nIf it is a small project I would recommend you converting your existing java files into Kotlin, this can be easily done using the ctrl+alt+shift_k shortcut.\nif the project is pretty large you can keep your java classes while creating new activities in Kotlin.\nI have an app that many of my model classes are written in java yet the activity and the UI itself is written in Kotlin. \nSince Kotlin is based on Java there is no problem having both languages in the same project as long as your java files are created in different classes than your Kotlin classes</p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 6682320, "user_type": "registered", "profile_image": "https://graph.facebook.com/1044982558922867/picture?type=large", "display_name": "Shyak Das", "link": "https://stackoverflow.com/users/6682320/shyak-das"}, "is_accepted": false, "score": 1, "last_activity_date": 1596162999, "last_edit_date": 1596162999, "creation_date": 1573642909, "answer_id": 58835679, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/58835679#58835679", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>To enable Kotlin into your existing Android project. Follow these steps:-</p>\n<ol>\n<li><p>Application-level build file:- Add</p>\n<p><code>apply plugin: 'kotlin-android'</code></p>\n<p><code>apply plugin: 'kotlin-android-extensions'</code></p>\n<p>Add In dependency:-\n<code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;</code></p>\n</li>\n<li><p>Project Level build File:-</p>\n<pre><code>dependencies {\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 9747826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b01b20348370933f485f4c75aef82f3?s=128&d=identicon&r=PG&f=1", "display_name": "Damanpreet Singh", "link": "https://stackoverflow.com/users/9747826/damanpreet-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1593755877, "creation_date": 1593755877, "answer_id": 62709320, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/62709320#62709320", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>To enable Kotlin support for your existing Java-only project follow the steps and Android Studio will automatically set-up everything for you :-</p>\n<ol>\n<li>Go to Tools -&gt; Kotlin -&gt; Configure Kotlin in Project</li>\n<li>Choose Single Module and select the spefiic module or All modules if you want to add kotlin support for all of your modules.</li>\n</ol>\n<p>You're done and good to go!</p>\n<p><strong>NOTE :-</strong> Android Studio will <strong>automatically</strong> add the following lines of code for you in the respective files -</p>\n<p>In Application-level Gradle file :-</p>\n<pre><code>apply plugin: 'kotlin-android'\n......\ndependencies{\n......\nimplementation &quot;androidx.core:core-ktx:+&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.1.0&quot;\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n......\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n<p>In Project-level Gradle file</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.72'\n    ......\n    dependencies {\n        ......\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "is_accepted": false, "score": 1, "last_activity_date": 1605886536, "creation_date": 1605886536, "answer_id": 64932323, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app/64932323#64932323", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>In Android Studio 4, there is no need to manually configure Kotlin for a Java project.</p>\n<p>When adding Kotlin files to a Java project, Android Studio will automatically setup Kotlin.</p>\n<p>Here is the full procedure:</p>\n<ol>\n<li>Add any new Android component (<code>Activity</code> for example)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/hIv6P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hIv6P.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Choose <code>Kotlin</code> as the language</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/HR4gG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HR4gG.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Android Studio downloads Kotlin</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/9P5zf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9P5zf.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: When it finished, it could not resolve the R file in the Kotlin Activity. To fix this, I just hit hovered over the red <code>R</code> in the editor and hit <code>alt-enter</code>.</p>\n<p>Finally, in my MainActivity.java:</p>\n<pre><code>Intent launchNewIntent = new Intent(this, KotlinActivity.class);\nstartActivityForResult(launchNewIntent, 0);\n</code></pre>\n<p>This code opens the KotlinActivity from the MainActivity in Java.</p>\n"}], "owner": {"reputation": 321, "user_id": 4988636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0991bfc4eebe4a9e355b05f46190a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Gawai", "link": "https://stackoverflow.com/users/4988636/sachin-gawai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7474, "favorite_count": 2, "answer_count": 9, "score": 10, "last_activity_date": 1605886536, "creation_date": 1499749184, "last_edit_date": 1499750136, "question_id": 45025758, "link": "https://stackoverflow.com/questions/45025758/how-to-use-kotlin-in-an-existing-android-app", "title": "How to Use Kotlin in an Existing Android App?", "body": "<p>I have an Android App developed using Java.  I now want to start using Kotlin for the same app.  Is it possible to use Kotlin and Java side-by-side in an existing app?</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2558, "user_id": 1226095, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/9jYCt.jpg?s=128&g=1", "display_name": "jesses.co.tt", "link": "https://stackoverflow.com/users/1226095/jesses-co-tt"}, "edited": false, "score": 0, "creation_date": 1510188508, "post_id": 45026077, "comment_id": 81333637, "body": "This DOES make sense - Instant Run uses Partial Dex, and if you follow the stack trace a little farther than what was posted in the OP, you can see that there are dex failures for the flavour."}], "tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 14, "last_activity_date": 1499751047, "creation_date": 1499751047, "answer_id": 45026077, "question_id": 45025120, "link": "https://stackoverflow.com/questions/45025120/uncaught-translation-error-com-android-dx-cf-code-simexception-local-0007-inv/45026077#45026077", "title": "Uncaught translation error: com.android.dx.cf.code.SimException: local 0007: invalid", "body": "<p>Similar <a href=\"https://issuetracker.google.com/issues/37117031\" rel=\"noreferrer\">issue</a> in google issue tracker.</p>\n\n<p>Try to disable Instant Run in Android Studio</p>\n\n<p>To disable Instant Run: </p>\n\n<ol>\n<li><p>Open the Settings or Preferences dialog. </p></li>\n<li><p>Navigate to Build, Execution, Deployment > Instant Run. </p></li>\n<li><p>Uncheck the box next to Enable Instant Run. </p></li>\n</ol>\n"}], "owner": {"reputation": 1653, "user_id": 4755017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/JXnt4.jpg?s=128&g=1", "display_name": "Dennis Zinkovski", "link": "https://stackoverflow.com/users/4755017/dennis-zinkovski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4057, "favorite_count": 1, "accepted_answer_id": 45026077, "answer_count": 1, "score": 2, "last_activity_date": 1514980514, "creation_date": 1499745441, "last_edit_date": 1514980514, "question_id": 45025120, "link": "https://stackoverflow.com/questions/45025120/uncaught-translation-error-com-android-dx-cf-code-simexception-local-0007-inv", "title": "Uncaught translation error: com.android.dx.cf.code.SimException: local 0007: invalid", "body": "<p><strong>I don't use Proguard.</strong> The project is building successfully but when I try to run on the device it shows this error. I was working in Android Studio 3.0 with a Kotlin project and it was really bad experience. I decided to switch back to 2.3 AS but the problem is still the same. The log is smaller but the exception text is the same.</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\ntasks.withType(JavaCompile) {\n    options.fork = true\n    options.incremental = true\n}\n\nandroid {\n    def rootProject = rootProject.ext\n\n    compileSdkVersion rootProject.compileSdkVersion\n    buildToolsVersion rootProject.buildToolsVersion\n    defaultConfig {\n        minSdkVersion rootProject.minSdkVersion\n        targetSdkVersion rootProject.targetSdkVersion\n        versionCode rootProject.versionCode\n        versionName rootProject.versionName\n        testInstrumentationRunner rootProject.testInstrumentationRunner\n        vectorDrawables.useSupportLibrary = true\n       // multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n        //flavorDimensions \"content\"\n        production {\n          //  dimension \"content\"\n        }\n        staging {\n            //dimension \"content\"\n        }\n    }\n\n    // Remove productionDebug and stagingRelease as it's not needed.\n    android.variantFilter { variant -&gt;\n        if (variant.buildType.name == 'release'\n                &amp;&amp; variant.getFlavors().get(0).name == 'staging') {\n            variant.setIgnore(true)\n        } else if (variant.buildType.name == 'debug' &amp;&amp; variant.getFlavors().get(0).name == 'production') {\n            variant.setIgnore(true)\n        }\n    }\n\n    packagingOptions {\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n    }\n}\n// Required for annotation processing plugins like Dagger\nkapt {\n    generateStubs = true\n}\n\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:26.0.0-beta2'\n    compile 'com.android.support:design:26.0.0-beta2'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    //firebase\n    compile \"com.google.firebase:firebase-auth:$firebaseVersion\"\n    compile \"com.google.firebase:firebase-database:$firebaseVersion\"\n    compile \"com.google.firebase:firebase-core:$firebaseVersion\"\n    compile \"com.google.firebase:firebase-storage:$firebaseVersion\"\n\n    //rx\n    compile \"io.reactivex.rxjava2:rxjava:$rxVersion\"\n    compile \"io.reactivex.rxjava2:rxandroid:$rxAndroidVersion\"\n\n    //mvp\n    compile \"com.hannesdorfmann.mosby3:mvp:$mosbyVersion\"\n    compile 'com.hannesdorfmann.mosby3:mvp-conductor:3.0.0'\n\n    //dagger\n    compile \"com.google.dagger:dagger:$daggerVersion\"\n    kapt \"com.google.dagger:dagger-compiler:$daggerVersion\"\n\n    //image loader\n    compile 'com.github.bumptech.glide:glide:4.0.0-RC1'\n    kapt 'com.github.bumptech.glide:compiler:4.0.0-RC1'\n\n    //to work with dates\n    compile 'net.danlew:android.joda:2.9.9'\n\n    //bottom-bar\n    compile 'com.aurelhubert:ahbottomnavigation:2.0.6'\n    compile 'com.bluelinelabs:conductor:2.1.4'\n\n    //leak canary\n    debugCompile \"com.squareup.leakcanary:leakcanary-android:$leakcanaryVersion\"\n    releaseCompile \"com.squareup.leakcanary:leakcanary-android-no-op:$leakcanaryVersion\"\n   // testcompile \"com.squareup.leakcanary:leakcanary-android-no-op:$leakcanaryVersion\"\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 1, "creation_date": 1499739175, "post_id": 45024247, "comment_id": 77022833, "body": "It would be very helpful if you post what OS, Android Studio Version, KotlinVersion, etc. you tried to use. Also what \u201chave no effect\u201d means exactly\u2026 what did you try? what error message did you get? etc."}, {"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1499751655, "post_id": 45024247, "comment_id": 77026418, "body": "Try to follow <a href=\"https://developer.android.com/kotlin/get-started.html\" rel=\"nofollow noreferrer\">this</a> setup"}], "answers": [{"tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1499748554, "creation_date": 1499748554, "answer_id": 45025626, "question_id": 45024247, "link": "https://stackoverflow.com/questions/45024247/how-to-setup-kotlin-on-android-studio/45025626#45025626", "title": "How to setup Kotlin on Android Studio?", "body": "<p>Simply  add in your gradle file</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>its will automatically ask syn gradle after that its showing to update kotlin setup then click   update its will automatically downloaded setup files from internet and updated automatically in android studio.</p>\n\n<p>like build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\ncompileSdkVersion 26\nbuildToolsVersion \"26.0.0\"\ndefaultConfig {\n    applicationId \"com.example.cricut.androidkotlin\"\n    minSdkVersion 15\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n    \"android.support.test.runner.AndroidJUnitRunner\"\n   }\n   buildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 640, "user_id": 7966313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXcL5.jpg?s=128&g=1", "display_name": "Enzo Lizama", "link": "https://stackoverflow.com/users/7966313/enzo-lizama"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 1, "closed_date": 1499751661, "accepted_answer_id": 45025626, "answer_count": 1, "score": -4, "last_activity_date": 1499748554, "creation_date": 1499739033, "question_id": 45024247, "link": "https://stackoverflow.com/questions/45024247/how-to-setup-kotlin-on-android-studio", "closed_reason": "Not suitable for this site", "title": "How to setup Kotlin on Android Studio?", "body": "<p>I have some troubles with the settings in Android Studio with Kotlin plugin? Someone can help me?\nI follow the documentation guide on the official page <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/</a> , but have not effect.</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499737666, "post_id": 45023954, "comment_id": 77022480, "body": "The function that call getData() expect a non-null item. So we need to ensure it is not null. I don&#39;t want to propagate the ? all the way to the caller. Nor I want to use &quot;!!&quot;."}, {"owner": {"reputation": 578, "user_id": 3861783, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/bvMVQ.png?s=128&g=1", "display_name": "ganjeii", "link": "https://stackoverflow.com/users/3861783/ganjeii"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499738008, "post_id": 45023954, "comment_id": 77022572, "body": "Ahh I see I missed that sorry on my mobile"}], "tags": [], "owner": {"reputation": 578, "user_id": 3861783, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/bvMVQ.png?s=128&g=1", "display_name": "ganjeii", "link": "https://stackoverflow.com/users/3861783/ganjeii"}, "is_accepted": false, "score": 0, "last_activity_date": 1499736580, "creation_date": 1499736580, "answer_id": 45023954, "question_id": 45023876, "link": "https://stackoverflow.com/questions/45023876/can-a-field-be-cast-to-non-null-version-of-itself/45023954#45023954", "title": "Can a field be cast to non null version of itself?", "body": "<p>It doesn't necessarily mean that the MyData class is null if you cast it like <code>MyData?</code> </p>\n\n<p>The '<strong>?</strong>' Just allows the object to be null in the instance that it actually becomes null to avoid an exception at runtime.</p>\n\n<p>You can make your class nullable and it can still contain your data.</p>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499737723, "post_id": 45023962, "comment_id": 77022500, "body": "For a normal variable, that&#39;s possible. For field, try &quot;field as String&quot;, that is not helping. Do test out as a class variable custom getter, you&#39;ll see what I meant."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499742179, "post_id": 45023962, "comment_id": 77023492, "body": "Hi @Vince, that&#39;s not <code>field</code>. That&#39;s just casting from another variable to it. But that&#39;s a nice trick as well. Upvote for you as well :)"}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499742589, "post_id": 45023962, "comment_id": 77023583, "body": "@Elye Then it wouldn&#39;t be possible, since the type of the getter must match the type of the property. If the property is defined (or in your case, inferred) as <code>String?</code>, it&#39;s getter cannot be of type <code>String</code>. May I ask why you require this? It&#39;s seems unsafe, somewhat of a code smell. This could be a case of the <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1499788624, "post_id": 45023962, "comment_id": 77052867, "body": "Also note, if you want to throw a custom error, you can use something like <code>val data get() = _data ?: throw MyException()</code>"}], "tags": [], "owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "is_accepted": true, "score": 2, "last_activity_date": 1499743952, "last_edit_date": 1499743952, "creation_date": 1499736635, "answer_id": 45023962, "question_id": 45023876, "link": "https://stackoverflow.com/questions/45023876/can-a-field-be-cast-to-non-null-version-of-itself/45023962#45023962", "title": "Can a field be cast to non null version of itself?", "body": "<p>If your goal is to declare a getter for a <code>Any?</code> property that returns a <code>Any</code>, it's not possible. You'll get the following error:</p>\n\n<blockquote>\n  <p>Getter return type must be equal to the type of the property</p>\n</blockquote>\n\n<p>So attempting to do something like</p>\n\n<pre><code>val test : String?\n    get() : String = \"hi\"\n</code></pre>\n\n<p>Wouldn't work.</p>\n\n<hr>\n\n<p>However, you could hide the nullable property and expose a non-nullable property which references the nullable value via casting:</p>\n\n<pre><code>private val test : String? = \"hi\"\nval testNotNull : String = test as String\n</code></pre>\n\n<p>If <code>test</code> referenced <code>null</code>, an exception will be thrown. </p>\n\n<p>For example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = print(Demo().testNotNull)\n\nclass Demo(private var test: String? = \"hi\") {\n    val testNotNull : String\n.       get() = test as String\n}\n</code></pre>\n\n<p>You can test this snippit out at <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlin.org</a></p>\n\n<p>Although this is not safe. You should rethink your design. If you're not interoping with Java, you shouldn't punish yourself with nullable types.</p>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 1, "creation_date": 1499740686, "post_id": 45024234, "comment_id": 77023139, "body": "Nice trick. But even by just <code>val t=Test(null)</code>, it will crash. Perhaps in such case, just get back to basic using <code>fun getData()</code> approach as I listed above. Give you an upvote though :)"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499740859, "post_id": 45024234, "comment_id": 77023171, "body": "Well, the problem is that you\u2019re trying to hide the fact that a field is null. That breaks the promise of it being <code>?</code> to begin with, which, in turn, opens the door to the crash you mention. If you want \u201ccustom logic\u201d in a <code>data</code> class, you\u2019d have to add it (your <code>getData()</code> function is a good example), otherwise you\u2019re trying to override the compiler\u2019s check mechanisms and that\u2019s what the <code>!</code> is for\u2026 (again, I wouldn\u2019t) ;)"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499741009, "post_id": 45024234, "comment_id": 77023199, "body": "I don&#39;t plan to hide the &quot;?&quot;, but just crash it if it is null when accessing it, i.e. <code>checkNotNull(field) { &quot;data shouldn&#39;t be null&quot; }</code>. If it is not access, then it&#39;s alright, don&#39;t crash it."}], "tags": [], "owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "is_accepted": false, "score": 1, "last_activity_date": 1499738925, "creation_date": 1499738925, "answer_id": 45024234, "question_id": 45023876, "link": "https://stackoverflow.com/questions/45023876/can-a-field-be-cast-to-non-null-version-of-itself/45024234#45024234", "title": "Can a field be cast to non null version of itself?", "body": "<p>I don\u2019t think you can. What you did with the <code>fun getData()</code> is a valid approach IMO. Or you could just not use a data class and create a normal class, obviously. </p>\n\n<p>What I think it may work is with something like this: </p>\n\n<pre><code>typealias notNullType = MyData\n\ndata class Test(private val _value: MyData? = null) {\n    val v: notNullType = _value as notNullType\n    get() { return field }\n}\n</code></pre>\n\n<p>This would totally allow you to do:</p>\n\n<pre><code>fun play() {\n    val t = Test(null)\n    print(t.v) //see what I did? :-)\n}\n</code></pre>\n\n<p><strong>THAT BEING SAID</strong>\u2026 I don\u2019t think \u201chiding\u201d the <code>?</code> optional is necessarily a good idea. </p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 45023962, "answer_count": 3, "score": 3, "last_activity_date": 1502617139, "creation_date": 1499735885, "last_edit_date": 1502617139, "question_id": 45023876, "link": "https://stackoverflow.com/questions/45023876/can-a-field-be-cast-to-non-null-version-of-itself", "title": "Can a field be cast to non null version of itself?", "body": "<p>I have a data class</p>\n\n<pre><code>data class MyModel(private val _data: MyData? = null)\n</code></pre>\n\n<p>And I want to ensure my data is only accessible when it is not null, else throw.\nI use the below which is good.</p>\n\n<pre><code>    fun getData(): MyData {\n        return checkNotNull(_data) { \"data shouldn't be null\" }\n    }\n</code></pre>\n\n<p>However, if I follow the guide as per <a href=\"https://stackoverflow.com/questions/38492103/override-getter-for-kotlin-data-class\">Override getter for Kotlin data class</a>, the below complaints I need to return <code>MyData?</code> instead of <code>MyData</code></p>\n\n<pre><code>val data = _data\n    get(): MyData {\n        return checkNotNull(field) { \"data shouldn't be null\" }\n    }\n</code></pre>\n\n<p>Is it true that <code>field</code> can't be cast to the Non-null version of it when return?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 551, "user_id": 4993283, "user_type": "registered", "profile_image": "https://graph.facebook.com/480708548753383/picture?type=large", "display_name": "\ubc30\uc900\ubaa8", "link": "https://stackoverflow.com/users/4993283/%eb%b0%b0%ec%a4%80%eb%aa%a8"}, "is_accepted": false, "score": 0, "last_activity_date": 1499735601, "creation_date": 1499735601, "answer_id": 45023842, "question_id": 45023787, "link": "https://stackoverflow.com/questions/45023787/i-get-type-mismatch-error-when-i-use-a-function-as-parameter-in-kotlin/45023842#45023842", "title": "I get &quot;Type mismatch&quot; error when I use a function as parameter in Kotlin?", "body": "<p>try this.</p>\n\n<pre><code>fun AA(aa: Int): Int {\n        return aa + 10\n    }\n\n    fun BB(bb: Int, cc: Int) {\n        val dd: Int = cc\n        Toast.makeText(getApplicationContext(), bb + dd, Toast.LENGTH_LONG).show()\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1499817695, "post_id": 45023856, "comment_id": 77066675, "body": "Thank you very much"}], "tags": [], "owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "is_accepted": true, "score": 2, "last_activity_date": 1499736813, "last_edit_date": 1499736813, "creation_date": 1499735718, "answer_id": 45023856, "question_id": 45023787, "link": "https://stackoverflow.com/questions/45023787/i-get-type-mismatch-error-when-i-use-a-function-as-parameter-in-kotlin/45023856#45023856", "title": "I get &quot;Type mismatch&quot; error when I use a function as parameter in Kotlin?", "body": "<p>Your Kotlin syntax is wrong.</p>\n\n<p>How you have it written, the BB method would be: </p>\n\n<p><code>fun BB(bb: Int, cc: Int) {</code></p>\n\n<p>What you\u2019re passing BB is the <strong>RESULT</strong> of the AA function (aka: an <code>Int</code>).</p>\n\n<p>In other words, why are you receiving a function (AA) inside (BB) if you are already invoking the function when you\u2019re calling \u201cBB\u201d. Since <code>AA</code> takes an Int and returns an Int, the signature for the BB function expects just two ints. The Call to <code>AA(Int)</code> happened on your <code>ERROR 2</code> line. </p>\n\n<p>It\u2019s not clear what you\u2019re trying to do (given the code of your Toast), but you can use TypeAlias &amp; Bound references like this:</p>\n\n<pre><code>typealias SomeType = (Int) -&gt; Int\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val a = this::AA // Save a Bound Reference to the function.\n\n        BB(1, a) // Call BB and pass a value and a function\n    }\n\n    fun AA(aa: Int): Int {\n        return aa + 10\n    }\n\n    fun BB(bb: Int, cc: SomeType) {\n        val dd = cc(bb) // call `cc` which is really `AA(Int) -&gt; Int`\n        Toast.makeText(getApplicationContext(), dd, Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 45023856, "answer_count": 2, "score": 0, "last_activity_date": 1499736813, "creation_date": 1499735052, "question_id": 45023787, "link": "https://stackoverflow.com/questions/45023787/i-get-type-mismatch-error-when-i-use-a-function-as-parameter-in-kotlin", "title": "I get &quot;Type mismatch&quot; error when I use a function as parameter in Kotlin?", "body": "<p>I hope use the function AA as the parameter of the function BB in the following code, but I get the two errors.</p>\n\n<p>Error 1: I hope to assign the result of function cc to dd, but I failed.</p>\n\n<p>Error 2: I hope to invoke the function BB, but the parameter AA(3) is incorrect.</p>\n\n<p>How can I fix the errors? Thanks!</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        BB(1,AA(3)); //Error 2\n    }\n\n\n\n    fun AA(aa:Int): Int{\n       return aa+10\n    }\n\n    fun BB(bb:Int, cc:(Int) -&gt; Int){\n        val dd:Int=cc(Int); //Error 1\n        Toast.makeText(getApplicationContext(), bb+dd, Toast.LENGTH_LONG).show();\n    }\n\n}\n</code></pre>\n"}, {"tags": ["compiler-errors", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1499724145, "post_id": 45022292, "comment_id": 77018905, "body": "I think the bug is talking about a related warning and not the error itself which looks deliberate."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1499724217, "post_id": 45022292, "comment_id": 77018941, "body": "@oshai No. the reporter described it exactly a compilation error reported as: <b>&quot;EQUALITY_NOT_APPLICABLE&quot;</b>. and the reporter want such an error turn into a warning instead."}, {"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1499725131, "post_id": 45022292, "comment_id": 77019338, "body": "probably you are right. but, the bug was created on 12 Oct 2013 so I suspect JB do not intend to change how it behaves."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1499725224, "post_id": 45022292, "comment_id": 77019375, "body": "@oshai maybe, or maybe the priority was changed recently and consider to fix it in later version."}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 1, "creation_date": 1499739201, "post_id": 45022292, "comment_id": 77022840, "body": "I think this is intended. Their types are different, and you know that they must be not equal in the compilation time (both already not null). If you know that they are different before running, why do you even compare them? It is always false. It only increases the chance of missing appending a method (like <code>.toString()</code>) or so."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 4, "creation_date": 1499758582, "post_id": 45022292, "comment_id": 77030418, "body": "At this time we have no plans to change the behavior of == with regard to types."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 0, "last_activity_date": 1499723845, "creation_date": 1499723845, "answer_id": 45022292, "question_id": 45021985, "link": "https://stackoverflow.com/questions/45021985/why-does-creates-compilation-error-on-different-types-in-kotlin/45022292#45022292", "title": "why does == creates compilation error on different types in Kotlin", "body": "<p>this is a Kotlin bug reported as <a href=\"https://youtrack.jetbrains.com/issue/KT-4071\" rel=\"nofollow noreferrer\">KT-4071</a> in youtrack, and the priority is <code>Major</code>, so I think it will be fixed quickly. for example:</p>\n\n<pre><code>val ok = \"2\".equals(3) // works fine\nval error = \"2\" == 3 // compilation error\n</code></pre>\n"}], "owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1499723845, "creation_date": 1499722439, "question_id": 45021985, "link": "https://stackoverflow.com/questions/45021985/why-does-creates-compilation-error-on-different-types-in-kotlin", "title": "why does == creates compilation error on different types in Kotlin", "body": "<p>The following code cannot be compiled:  </p>\n\n<pre><code>if (\"2\" == 3) {\n  //do something\n}\n</code></pre>\n\n<p><code>Error: Kotlin: Operator '==' cannot be applied to 'String' and 'Int'</code>  </p>\n\n<p>However, Kotlin docs say this is structural equality and is translated to <code>a?.equals(b) ?: (b === null)</code>: <a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/equality.html</a> .  </p>\n\n<p>So what is really going on here? How does it work?</p>\n"}, {"tags": ["android", "json", "gson", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2895, "user_id": 1392452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VWPq2.jpg?s=128&g=1", "display_name": "Nicola Giancecchi", "link": "https://stackoverflow.com/users/1392452/nicola-giancecchi"}, "edited": false, "score": 0, "creation_date": 1499722603, "post_id": 45021968, "comment_id": 77018296, "body": "This solved the issue. Thank you so much! I&#39;ll accept your answer :)"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2895, "user_id": 1392452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VWPq2.jpg?s=128&g=1", "display_name": "Nicola Giancecchi", "link": "https://stackoverflow.com/users/1392452/nicola-giancecchi"}, "edited": false, "score": 0, "creation_date": 1499724036, "post_id": 45021968, "comment_id": 77018866, "body": "@NicolaGiancecchi Not at all. It is my pleasure, :)"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 9, "last_activity_date": 1499722375, "creation_date": 1499722375, "answer_id": 45021968, "question_id": 45021939, "link": "https://stackoverflow.com/questions/45021939/gson-cant-parse-a-string-json-format-data-in-kotlin/45021968#45021968", "title": "Gson can&#39;t parse a string json format data in Kotlin", "body": "<p>you should pass a <code>java.lang.Class</code> rather than a <code>kotlin.reflect.KClass</code>, for example:</p>\n\n<pre><code>val friends = gson.fromJson(response.rawResponse, JsonElement::class.java)\n</code></pre>\n"}], "owner": {"reputation": 2895, "user_id": 1392452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VWPq2.jpg?s=128&g=1", "display_name": "Nicola Giancecchi", "link": "https://stackoverflow.com/users/1392452/nicola-giancecchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 1, "accepted_answer_id": 45021968, "answer_count": 1, "score": 6, "last_activity_date": 1500324781, "creation_date": 1499722249, "last_edit_date": 1500324781, "question_id": 45021939, "link": "https://stackoverflow.com/questions/45021939/gson-cant-parse-a-string-json-format-data-in-kotlin", "title": "Gson can&#39;t parse a string json format data in Kotlin", "body": "<p>I'm writing an app in Kotlin. I have a raw JSON string coming from a webservice and I need to use it with Gson. </p>\n\n<p>I'm doing this:</p>\n\n<pre><code>val gson = Gson()\nval friends = gson.fromJson(response.rawResponse, JsonElement::class)\n</code></pre>\n\n<p>but the compiler can't find the correct <code>fromJson</code> method overload, which is currently available instead (<code>fromJson(json: String!, typeOfT: Type!)</code>).</p>\n\n<p>That's the error:</p>\n\n<pre><code>Error:(65, 50) None of the following functions can be called with the arguments supplied:\npublic open fun &lt;T : Any!&gt; fromJson(json: JsonElement!, classOfT: Class&lt;JsonElement!&gt;!): JsonElement! defined in com.google.gson.Gson\npublic open fun &lt;T : Any!&gt; fromJson(json: JsonElement!, typeOfT: Type!): JsonElement! defined in com.google.gson.Gson\npublic open fun &lt;T : Any!&gt; fromJson(reader: JsonReader!, typeOfT: Type!): JsonElement! defined in com.google.gson.Gson\npublic open fun &lt;T : Any!&gt; fromJson(json: Reader!, classOfT: Class&lt;JsonElement!&gt;!): JsonElement! defined in com.google.gson.Gson\npublic open fun &lt;T : Any!&gt; fromJson(json: Reader!, typeOfT: Type!): JsonElement! defined in com.google.gson.Gson\npublic open fun &lt;T : Any!&gt; fromJson(json: String!, classOfT: Class&lt;JsonElement!&gt;!): JsonElement! defined in com.google.gson.Gson\npublic open fun &lt;T : Any!&gt; fromJson(json: String!, typeOfT: Type!): JsonElement! defined in com.google.gson.Gson\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["unit-testing", "kotlin", "spek"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1499718912, "post_id": 45020938, "comment_id": 77016539, "body": "With Gradle 4.0, the classes from different language compilers are placed in separate directories: <a href=\"https://docs.gradle.org/current/release-notes.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/release-notes.html</a> Seemingly, Spek expects the Kotlin classes to be located in the Java output directory, as with earlier versions. All the tools that use the classes directories should be updated to support this feature. Alternatively, try to use an earlier Gradle version."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 2, "creation_date": 1499720821, "post_id": 45020938, "comment_id": 77017470, "body": "Try with junit platform version 1.0.0.M4 (as listed in the Spek docs <a href=\"http://spekframework.org/docs/latest/\" rel=\"nofollow noreferrer\">spekframework.org/docs/latest</a>) - the new milestone versions of Junit platform sometimes introduce breaking API changes."}, {"owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1499733934, "post_id": 45020938, "comment_id": 77021623, "body": "@JKLy . you nailed it.  just had to follow the directions lol.  Post that up as an answer and I will accepted."}], "answers": [{"tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": true, "score": 7, "last_activity_date": 1499764410, "last_edit_date": 1499764410, "creation_date": 1499757463, "answer_id": 45027859, "question_id": 45020938, "link": "https://stackoverflow.com/questions/45020938/kolin-spek-framework-crashes-w-gradle/45027859#45027859", "title": "Kolin Spek Framework crashes w/ Gradle", "body": "<p>With Spek 1.1.2 you have to use JUnit platform version 1.0.0-M4 as M5 has breaking API changes which makes them incompatible.</p>\n\n<p>See this: <a href=\"https://github.com/JetBrains/spek/issues/225\" rel=\"noreferrer\">https://github.com/JetBrains/spek/issues/225</a></p>\n"}], "owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 45027859, "answer_count": 1, "score": 3, "last_activity_date": 1499764410, "creation_date": 1499718107, "last_edit_date": 1499718983, "question_id": 45020938, "link": "https://stackoverflow.com/questions/45020938/kolin-spek-framework-crashes-w-gradle", "title": "Kolin Spek Framework crashes w/ Gradle", "body": "<p>I'm getting a crash while <code>spek</code> is trying to find tests.  I've tried many different versions and sample configs.  I am running from the command line.  Gradle 4.0, mac osx. Any help would be appreciated!</p>\n\n<p>Here is the error:</p>\n\n<pre><code>WARNING: TestEngine with ID 'spek' failed to discover tests\njava.lang.NoSuchMethodError: org.junit.platform.commons.util.ReflectionUtils.findAllClassesInClasspathRoot(Ljava/nio/file/Path;Ljava/util/function/Predicate;Ljava/util/function/Predicate;)Ljava/util/List;\n        at org.jetbrains.spek.engine.SpekTestEngine.resolveSpecs(SpekTestEngine.kt:66)\n        at org.jetbrains.spek.engine.SpekTestEngine.discover(SpekTestEngine.kt:50)\n        at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:130)\n        at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:117)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n        at org.junit.platform.launcher.Launcher.execute(Launcher.java:96)\n        at org.junit.platform.console.tasks.ConsoleTestExecutor.executeTests(ConsoleTestExecutor.java:65)\n        at org.junit.platform.console.tasks.ConsoleTestExecutor.lambda$execute$0(ConsoleTestExecutor.java:57)\n        at org.junit.platform.console.tasks.CustomContextClassLoaderExecutor.invoke(CustomContextClassLoaderExecutor.java:33)\n        at org.junit.platform.console.tasks.ConsoleTestExecutor.execute(ConsoleTestExecutor.java:57)\n        at org.junit.platform.console.ConsoleLauncher.executeTests(ConsoleLauncher.java:85)\n        at org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:75)\n        at org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:48)\n        at org.junit.platform.console.ConsoleLauncher.main(ConsoleLauncher.java:40)\n</code></pre>\n\n<p>And here is my current build.gradle:</p>\n\n<pre><code>buildscript {\n\nrepositories {\n    jcenter()\n    maven { url \"https://plugins.gradle.org/m2/\" }\n}\ndependencies {\n    classpath 'org.junit.platform:junit-platform-gradle-plugin:1.0.0-M5'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$project.ext.kotlinVersion\"\n}\n}\n\napply plugin: 'org.junit.platform.gradle.plugin'\napply plugin: 'idea'\napply plugin: 'kotlin'\napply plugin: 'java'\n\njunitPlatform {\n    filters {\n        engines {\n            include 'spek', 'junit-jupiter', 'junit-vintage'\n        }\n    }\n}\n\ndependencies {\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jre8:$project.ext.kotlinVersion\")\n\n\n//    testCompile 'junit:junit:4.12'\n    testCompile 'org.jetbrains.spek:spek-api:1.1.2'\n    testRuntime 'org.jetbrains.spek:spek-junit-platform-engine:1.1.2'\n    testCompile 'org.junit.platform:junit-platform-runner:1.0.0-M5'\n    testCompile 'org.junit.jupiter:junit-jupiter-api:5.0.0-M5'\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n    testRuntime \"org.junit.vintage:junit-vintage-engine:4.12.0-M5\"\n    testRuntime \"org.junit.jupiter:junit-jupiter-engine:5.0.0-M5\"\n    testRuntime \"org.junit.platform:junit-platform-console:1.0.0-M5\"\n\n    testCompile \"com.google.code.gson:gson:$project.ext.gsonVersion\"\n}\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "dagger-2", "android-room"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1499718641, "post_id": 45020811, "comment_id": 77016421, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32600931/varargs-kotlin-java-interop-not-working-properly\">Varargs Kotlin Java interop not working properly</a>"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1499756131, "post_id": 45020811, "comment_id": 77028779, "body": "What is your actual question?"}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499718147, "post_id": 45020813, "comment_id": 77016150, "body": "the documentation already mentioned spread operator <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#java-varargs\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">here</a>. so publish it here is unnecessary."}, {"owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499718661, "post_id": 45020813, "comment_id": 77016434, "body": "I saw the second link. What I was looking for, and didn&#39;t see originally, was an explanation like <a href=\"https://stackoverflow.com/documentation/kotlin/5835/vararg-parameters-in-functions#t=201707102023489184168\">stackoverflow.com/documentation/kotlin/5835/&hellip;</a> this, explaining what the spread is doing rather than just saying &quot;stick an asterisk before your&quot; argument. I also wanted to find out if there is a particular reason for having the operator, rather than automatically spreading any array passed to a vararg method."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499718780, "post_id": 45020813, "comment_id": 77016481, "body": "Hi, there is a demo about <code>asList</code> at the bottom in the second link. :)"}, {"owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1499719127, "post_id": 45020813, "comment_id": 77016663, "body": "I did see it. Thinking about the reason for the operator, I suppose if I have <code>vararg things: Any</code> and pass an array to it, it is not clear whether the array is a single argument, or the array contents are individual arguments, which is why an explicit <code>*</code> operator is required. Thanks for the help."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499719459, "post_id": 45020813, "comment_id": 77016829, "body": "Hi, the <code>asList</code> function signature is already tell you that will spreads all array elements into the parameters one-by-one. in short: <code>arrayOf(1,*arrayOf(2),3)</code> is equivalent to <code>arrayOf(1,2,3)</code>."}], "tags": [], "owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "is_accepted": false, "score": 3, "last_activity_date": 1499717622, "creation_date": 1499717622, "answer_id": 45020813, "question_id": 45020811, "link": "https://stackoverflow.com/questions/45020811/kotlin-pass-array-to-varargs-method-with-spread-operator/45020813#45020813", "title": "Kotlin: pass array to varargs method with spread operator", "body": "<p>In order to pass the array to the function. The array just needs to be prefixed with an asterisk <code>*</code>.</p>\n\n<pre><code>val migrations: Array&lt;Migration&gt;\nRoom.databaseBuilder(context, Database::class.java, dbName)\n                .addMigrations(*migrations)\n                .build()\n</code></pre>\n\n<p>In general if we have </p>\n\n<pre><code>fun foo(vararg things: Type) {\n    //Do something with the things\n}\n</code></pre>\n\n<p>We can call <code>foo</code> with <code>arrayOf</code>, or with an <code>Array</code>.</p>\n\n<pre><code>foo(*Array(n, { it.toType()}))\nfoo(*arrayOf(instance1, instance2, instance3))\nval array = Array&lt;Type&gt;(n, {it.toType()})\nfoo(*array)\n</code></pre>\n"}], "owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1955, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499717622, "creation_date": 1499717622, "question_id": 45020811, "link": "https://stackoverflow.com/questions/45020811/kotlin-pass-array-to-varargs-method-with-spread-operator", "title": "Kotlin: pass array to varargs method with spread operator", "body": "<p>I spent far too long trying to work out how to pass a number of <code>Migration</code> instances to a <code>Room</code> database builder for a Dagger2 module.</p>\n\n<p>The Room database builder requires context and the database name.</p>\n\n<pre><code>Room.databaseBuilder(context, Database::class.java, dbName)\n                .build()\n</code></pre>\n\n<p>Migrations can be added to the builder with the <code>addMigrations</code> method which takes <code>vararg migrations: Migration!</code></p>\n\n<p>One option is to create the builder.</p>\n\n<pre><code>val builder = Room.databaseBuilder(context, Database::class.java, dbName)\n</code></pre>\n\n<p>And then forEach through the migrations</p>\n\n<pre><code>migrations.forEach { builder.addMigrations(it) }\n</code></pre>\n\n<p>however this is messy and unnecessary, and the spread operator should be used instead.</p>\n\n<p>I managed to miss this as the only documentation I found for the spread operator was a single sentence in the docs.</p>\n\n<blockquote>\n  <p>When we call a vararg-function, we can pass arguments one-by-one, e.g. asList(1, 2, 3), or, if we already have an array and want to pass its contents to the function, we use the spread operator (prefix the array with *)</p>\n</blockquote>\n"}, {"tags": ["android", "rx-java", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 831, "user_id": 3423932, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003219973793/picture?type=large", "display_name": "muthuraj", "link": "https://stackoverflow.com/users/3423932/muthuraj"}, "edited": false, "score": 0, "creation_date": 1499712238, "post_id": 45017661, "comment_id": 77012892, "body": "You should learn about synchronous and asynchronous. <a href=\"https://stackoverflow.com/questions/748175/asynchronous-vs-synchronous-execution-what-does-it-really-mean\" title=\"asynchronous vs synchronous execution what does it really mean\">stackoverflow.com/questions/748175/&hellip;</a>"}, {"owner": {"reputation": 77, "user_id": 4753221, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/954274001251079/picture?type=large", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4753221/david-parks"}, "reply_to_user": {"reputation": 831, "user_id": 3423932, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003219973793/picture?type=large", "display_name": "muthuraj", "link": "https://stackoverflow.com/users/3423932/muthuraj"}, "edited": false, "score": 0, "creation_date": 1499712924, "post_id": 45017661, "comment_id": 77013292, "body": "@muthuraj I&#39;m somewhat familiar. In my current implementation does that mean I don&#39;t actually access the resulting values? How can I assign my asynchronously obtained values to the groups object?"}], "answers": [{"comments": [{"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "edited": false, "score": 0, "creation_date": 1499720014, "post_id": 45021373, "comment_id": 77017105, "body": "Yes this is because you&#39;re calling <code>System.out.println(GROUPS[0])</code> before your <code>Observable</code> has actually called <code>onNext</code>. As you guessed, its because your disposable is asynchronous."}], "tags": [], "owner": {"reputation": 77, "user_id": 4753221, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/954274001251079/picture?type=large", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4753221/david-parks"}, "is_accepted": false, "score": 0, "last_activity_date": 1499719815, "creation_date": 1499719815, "answer_id": 45021373, "question_id": 45017661, "link": "https://stackoverflow.com/questions/45017661/trouble-parsing-data-with-rxjava-kotlin/45021373#45021373", "title": "Trouble parsing data with RxJava + Kotlin", "body": "<p>Moving the instantiation of my view inside the async response resulted in the correct data displaying. </p>\n"}], "owner": {"reputation": 77, "user_id": 4753221, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/954274001251079/picture?type=large", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4753221/david-parks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499719815, "creation_date": 1499705509, "last_edit_date": 1499705897, "question_id": 45017661, "link": "https://stackoverflow.com/questions/45017661/trouble-parsing-data-with-rxjava-kotlin", "title": "Trouble parsing data with RxJava + Kotlin", "body": "<p>So I'm attempting to parse a JSON response that returns the groups of a specific user. Everything is returned correctly and I try to add it to a mutable list which should be persistent across my whole file. </p>\n\n<pre><code>private var GROUPS: MutableList&lt;GroupObject&gt; = ArrayList()\n</code></pre>\n\n<p>And my RxJava call here</p>\n\n<pre><code>val getUserGroups = ApiProvider.getUserGroups()\n    compositeDisposable.add(\n            getUserGroups.getUserGroups(prefs!!.accessToken)\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeOn(Schedulers.io())\n                    .subscribe ({\n                        result -&gt;\n                        result.groups.mapTo(GROUPS) {\n                            GroupObject (\n                                    it.id, it.groupName\n                            )\n                        }\n                    }, { error -&gt;\n                        error.printStackTrace()\n                    })\n    )\n</code></pre>\n\n<p>Everything looks good when I print out result.groups and even printing out GROUPS[0] gives me the coprrect information. However, anywhere outside of this compositeDisposable when I try to print out GROUPS[0] the app crashes and says its null. And I dealing with a blatant scope issue here? Does this compositeDisposable only save my data within the subscribe method itself? Any help here would be much appreciated. </p>\n\n<p>Edit: To add further, the following code, in the first system.out the information is shown, in the second it is null.</p>\n\n<pre><code>val getUserGroups = ApiProvider.getUserGroups()\n    compositeDisposable.add(\n            getUserGroups.getUserGroups(prefs!!.accessToken)\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeOn(Schedulers.io())\n                    .subscribe ({\n                        result -&gt;\n                        result.groups.mapTo(GROUPS) {\n                            GroupObject (\n                                    it.id, it.groupName\n                            )\n                        }\n                        System.out.println(GROUPS[0])\n                    }, { error -&gt;\n                        error.printStackTrace()\n                    })\n    )\n    System.out.println(GROUPS[0])\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 15567, "user_id": 3656904, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8dbd58d3b477ad0e5889bc60625e7e8?s=128&d=identicon&r=PG&f=1", "display_name": "talex", "link": "https://stackoverflow.com/users/3656904/talex"}, "edited": false, "score": 0, "creation_date": 1499703454, "post_id": 45016990, "comment_id": 77007843, "body": "What did you tried?"}, {"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1499703551, "post_id": 45016990, "comment_id": 77007903, "body": "What does your Kotlin code look like?"}, {"owner": {"reputation": 2775, "user_id": 3100757, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/5vpCo.jpg?s=128&g=1", "display_name": "Nosakhare Belvi", "link": "https://stackoverflow.com/users/3100757/nosakhare-belvi"}, "reply_to_user": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1499703749, "post_id": 45016990, "comment_id": 77008038, "body": "@Makoto I just updated the question"}], "answers": [{"comments": [{"owner": {"reputation": 2775, "user_id": 3100757, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/5vpCo.jpg?s=128&g=1", "display_name": "Nosakhare Belvi", "link": "https://stackoverflow.com/users/3100757/nosakhare-belvi"}, "edited": false, "score": 0, "creation_date": 1499703882, "post_id": 45017128, "comment_id": 77008121, "body": "thanks. This works ! Will accept the answer in 5 mins"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2775, "user_id": 3100757, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/5vpCo.jpg?s=128&g=1", "display_name": "Nosakhare Belvi", "link": "https://stackoverflow.com/users/3100757/nosakhare-belvi"}, "edited": false, "score": 0, "creation_date": 1499703922, "post_id": 45017128, "comment_id": 77008146, "body": "@belvi Not at all."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 8, "last_activity_date": 1499704139, "last_edit_date": 1499704139, "creation_date": 1499703755, "answer_id": 45017128, "question_id": 45016990, "link": "https://stackoverflow.com/questions/45016990/implementing-java-interface-kotlin/45017128#45017128", "title": "Implementing Java Interface - Kotlin", "body": "<p>Since your java interface is not a SAM <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html\" rel=\"noreferrer\">Functional Interface</a>, so you can't using lambda expression <code>{}</code> in Kotlin directly.</p>\n\n<p>You can <a href=\"https://kotlinlang.org/docs/reference/interfaces.html#implementing-interfaces\" rel=\"noreferrer\">implement a Java interface</a> in Kotlin, for example:</p>\n\n<pre><code>class KotlinResultCallBack : ResultCallBack {\n    override fun detailsRetrieved(var1: Obj?, var2: AnotherInterface?) = TODO()\n\n    override fun anotherDataRetrieved(var1: Int, var2: AnotherInterface?) = TODO()\n}\n</code></pre>\n\n<p>Then you can call the <code>startLibActivity</code> method as below:</p>\n\n<pre><code>startLibActivity(context, KotlinResultCallBack())\n</code></pre>\n\n<p>You can also use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"noreferrer\">object expression</a> to create an anonymous class instance which implements a Java interface, for example:</p>\n\n<pre><code>startLibActivity(context, object : ResultCallBack {\n    override fun detailsRetrieved(var1: Obj?, var2: AnotherInterface?) = TODO()\n\n    override fun anotherDataRetrieved(var1: Int, var2: AnotherInterface?) = TODO()\n})\n</code></pre>\n"}], "owner": {"reputation": 2775, "user_id": 3100757, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/5vpCo.jpg?s=128&g=1", "display_name": "Nosakhare Belvi", "link": "https://stackoverflow.com/users/3100757/nosakhare-belvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1820, "favorite_count": 0, "accepted_answer_id": 45017128, "answer_count": 1, "score": 3, "last_activity_date": 1499704139, "creation_date": 1499703325, "last_edit_date": 1499703717, "question_id": 45016990, "link": "https://stackoverflow.com/questions/45016990/implementing-java-interface-kotlin", "title": "Implementing Java Interface - Kotlin", "body": "<p>Just getting started with Kotlin and and I have read the official documentation, I am having issues implementing an interface from a library in kotlin.</p>\n\n<p>Here is the interface in java :</p>\n\n<pre><code>public interface ResultCallBack {\n    void detailsRetrieved(Obj var1, AnotherInterface var2);\n\n    void anotherDataRetrieved(int var1, AnotherInterface var2);\n}\n</code></pre>\n\n<p>the method I am calling from kotlin is like this :</p>\n\n<pre><code> public static void startLibActivity(Context context, ResultCallBack callback) {\n        sLuhnCallback = callback;\n        context.startActivity(new Intent(context, Library.class));\n    }\n</code></pre>\n\n<p>how do i call <code>startLibActivity</code> from kotlin and implement <code>ResultCallBack</code> as well</p>\n\n<p>I think I am stuck with this trial :</p>\n\n<p><code>Library.startLibActivity(activity, {})</code></p>\n\n<p>I have tried many possibilities within <code>{}</code> , still having issues with the right implementation.</p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 924, "user_id": 2939453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feCOq.jpg?s=128&g=1", "display_name": "Adam Kis", "link": "https://stackoverflow.com/users/2939453/adam-kis"}, "edited": false, "score": 0, "creation_date": 1557761023, "post_id": 45016102, "comment_id": 98864311, "body": "hey @elect check my answer: <a href=\"https://stackoverflow.com/a/56115232/2939453\">stackoverflow.com/a/56115232/2939453</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2826, "user_id": 1900169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wqxtO.jpg?s=128&g=1", "display_name": "Frank Wilson", "link": "https://stackoverflow.com/users/1900169/frank-wilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1499701847, "creation_date": 1499701847, "answer_id": 45016516, "question_id": 45016102, "link": "https://stackoverflow.com/questions/45016102/kotlin-how-to-retrieve-field-value-via-reflection/45016516#45016516", "title": "Kotlin, how to retrieve field value via reflection", "body": "<p>It seems that you are passing the <code>Field</code> variable <code>it</code> as a parameter <code>getInt</code> whereas the parameter should be the object the field belongs to <code>this</code>:</p>\n\n<p>From the Javadoc for <code>Field.getInt(Object obj)</code>:</p>\n\n<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html#getInt-java.lang.Object-\" rel=\"nofollow noreferrer\">obj - the object to extract the int value from</a></p>\n</blockquote>\n\n<p>Perhaps this is what you meant to do:</p>\n\n<pre><code>class Reflector {\n    @JvmField val Foo = 1;\n\n    fun printFields() {\n        this.javaClass.fields.forEach {\n            println(it.isAccessible)\n            println(it.getInt(this))\n        }\n    }\n}\n\nfun main(args : Array&lt;String&gt;) {\n    Reflector().printFields()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1499757689, "post_id": 45018799, "comment_id": 77029784, "body": "I guess this is more appropriate"}, {"owner": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "edited": false, "score": 0, "creation_date": 1521256180, "post_id": 45018799, "comment_id": 85666223, "body": "How about java class?"}, {"owner": {"reputation": 924, "user_id": 2939453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feCOq.jpg?s=128&g=1", "display_name": "Adam Kis", "link": "https://stackoverflow.com/users/2939453/adam-kis"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1557761051, "post_id": 45018799, "comment_id": 98864328, "body": "hey @elect Please check my solution: <a href=\"https://stackoverflow.com/a/56115232/2939453\">stackoverflow.com/a/56115232/2939453</a>"}], "tags": [], "owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "is_accepted": true, "score": 35, "last_activity_date": 1499709612, "creation_date": 1499709612, "answer_id": 45018799, "question_id": 45016102, "link": "https://stackoverflow.com/questions/45016102/kotlin-how-to-retrieve-field-value-via-reflection/45018799#45018799", "title": "Kotlin, how to retrieve field value via reflection", "body": "<p>Instead of using Java fields and Java reflection code, you can also use Kotlin properties and Kotlin reflection classes:</p>\n\n<pre><code>class Reflector {\n    val Foo = 1;\n\n    fun printFields() {\n        this::class.memberProperties.forEach {\n            if (it.visibility == KVisibility.PUBLIC) {\n                println(it.name)\n                println(it.getter.call(this))\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13881, "favorite_count": 5, "accepted_answer_id": 45018799, "answer_count": 2, "score": 12, "last_activity_date": 1499709612, "creation_date": 1499700756, "last_edit_date": 1499702134, "question_id": 45016102, "link": "https://stackoverflow.com/questions/45016102/kotlin-how-to-retrieve-field-value-via-reflection", "title": "Kotlin, how to retrieve field value via reflection", "body": "<p>So I have hundreds of fields in a couple of <a href=\"https://github.com/kotlin-graphics/uno-sdk/blob/master/src/main/kotlin/uno/caps/caps.kt\" rel=\"noreferrer\">classes</a> and I'd like to write some methods on them where they automatically <code>println</code> each field and its corresponding value</p>\n\n<p>At the moment I have this:</p>\n\n<pre><code>inner class Version(val profile: Profile) {\n\n    @JvmField val MINOR_VERSION = glGetInteger(GL_MINOR_VERSION)\n\n    fun write(file: File? = null) {\n        //file.printWriter().use { out -&gt; out.pri }\n        this::class.java.fields.forEach {\n            println(it.isAccessible)\n            println(it.getInt(it)) }\n    }\n}\n</code></pre>\n\n<p>But this is what I get:</p>\n\n<pre><code>false\nException in thread \"main\" java.lang.IllegalArgumentException: Can not set final int field uno.caps.Caps$Version.MINOR_VERSION to java.lang.reflect.Field\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\n    at sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:58)\n    at sun.reflect.UnsafeQualifiedIntegerFieldAccessorImpl.getInt(UnsafeQualifiedIntegerFieldAccessorImpl.java:58)\n</code></pre>\n\n<p>Any idea?</p>\n"}, {"tags": ["java", "rx-java", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499731099, "post_id": 45016025, "comment_id": 77020930, "body": "Thanks @Kiskae. that helps!"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 5, "last_activity_date": 1499794939, "last_edit_date": 1499794939, "creation_date": 1499700508, "answer_id": 45016025, "question_id": 45015104, "link": "https://stackoverflow.com/questions/45015104/fatal-exception-rxcachedthreadscheduler-1-when-trigger-dispose-why/45016025#45016025", "title": "FATAL EXCEPTION: RxCachedThreadScheduler-1 when trigger dispose. Why?", "body": "<p>There is a combination of factors here:</p>\n\n<ol>\n<li><code>dispose</code> of a stream that uses <code>subscribeOn</code> also disposes of the thread used. This also involves calling <code>Thread.interrupt()</code> when using <code>Schedulers.io()</code>. This causes the exception in your case.</li>\n<li><code>InterruptedException</code> is an <code>Exception</code> thrown by <code>Thread.sleep</code>, so it is caught by your code and passed to <code>onError</code> like any other exception.</li>\n<li><p>Calling <code>onError</code> after <code>dispose</code> redirects the error to the global error handler due to RxJava2's policy of NEVER throwing away errors. To work around this check <code>subscriber.isDisposed()</code> before calling <code>onError</code> or use RxJava 2.1.1's new <code>subscriber.tryOnError</code>.</p>\n\n<pre><code>if (!subscriber.isDisposed()) {\n  subscriber.onError(exception)\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 352, "user_id": 5269256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f330cde82d28ac5bd4d64ff2a6f9b155?s=128&d=identicon&r=PG&f=1", "display_name": "Ramdane Oualitsen", "link": "https://stackoverflow.com/users/5269256/ramdane-oualitsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1549404586, "creation_date": 1549404586, "answer_id": 54543830, "question_id": 45015104, "link": "https://stackoverflow.com/questions/45015104/fatal-exception-rxcachedthreadscheduler-1-when-trigger-dispose-why/54543830#54543830", "title": "FATAL EXCEPTION: RxCachedThreadScheduler-1 when trigger dispose. Why?", "body": "<p>If you are using rxjava2, please add this in your initialisation code</p>\n\n<pre><code>RxJavaPlugins.setErrorHandler(t -&gt; {\n        logger.log(Level.SEVERE,null, t);\n    });\n</code></pre>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3314, "favorite_count": 0, "accepted_answer_id": 45016025, "answer_count": 2, "score": 2, "last_activity_date": 1549404586, "creation_date": 1499697955, "last_edit_date": 1499728378, "question_id": 45015104, "link": "https://stackoverflow.com/questions/45015104/fatal-exception-rxcachedthreadscheduler-1-when-trigger-dispose-why", "title": "FATAL EXCEPTION: RxCachedThreadScheduler-1 when trigger dispose. Why?", "body": "<p>I have the following RxJava 2 code (in Kotlin), which have an Observable that</p>\n\n<pre><code>disposable = Observable.create&lt;String&gt;({\n    subscriber -&gt;\n            try {\n                Thread.sleep(2000)\n                subscriber.onNext(\"Test\")\n                subscriber.onComplete()\n            } catch (exception: Exception) {\n                subscriber.onError(exception)\n            }\n}).subscribeOn(Schedulers.io())\n  .observeOn(AndroidSchedulers.mainThread())\n  .subscribe({ result -&gt; Log.d(\"Test\", \"Completed $result\") },\n             { error -&gt; Log.e(\"Test\", \"Completed ${error.message}\") })\n</code></pre>\n\n<p>While it is still <code>Thread.sleep(2000)</code>, I perform <code>disposable?.dispose()</code> call, it will error out</p>\n\n<pre><code>FATAL EXCEPTION: RxCachedThreadScheduler-1\nProcess: com.elyeproj.rxstate, PID: 10202\njava.lang.InterruptedException \n    at java.lang.Thread.sleep(Native Method)\n    at java.lang.Thread.sleep(Thread.java:371)\n    at java.lang.Thread.sleep(Thread.java:313)\n    at presenter.MainPresenter$loadData$1.subscribe(MainPresenter.kt:41)\n    at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)\n</code></pre>\n\n<p>I expect the <code>dispose</code> would help to cancel the operation silently, or at most, have the error catch with with the <code>Log.e</code> on the subscribe. However, it just crash as per the error message above.</p>\n\n<p>Why did the Exception escape? Isn't <code>dispose</code> suppose to cancel the entire operation silently without crashing?</p>\n"}, {"tags": ["java", "intellij-idea", "junit", "kotlin"], "comments": [{"owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "edited": false, "score": 0, "creation_date": 1499697602, "post_id": 45014941, "comment_id": 77003674, "body": "Have you imported JUnit in your kotlin file? It&#39;d help if we could see the file too."}, {"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1499697662, "post_id": 45014941, "comment_id": 77003736, "body": "Are you using Maven, Gradle or any other project/resources/dependencies management tool? You are basically missing a library (JAR file). If you put JUnit (and this is the only one missing) you should be good to go. On the other hand, it can be the <code>import</code>s..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4696837"}, "edited": false, "score": 0, "creation_date": 1499698030, "post_id": 45014941, "comment_id": 77004028, "body": "When I press Commend + Shift + T then it shows a dialog. Where it require create test class for that. I follow that and create class MyFirstKotlinClassTest  with import org.junit.Assert*. That&#39;s all."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4696837"}, "edited": false, "score": 0, "creation_date": 1499698127, "post_id": 45014941, "comment_id": 77004106, "body": "No I am not using maven or Gradle or any other project management tools. It&#39;s a simple java project with Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 2826, "user_id": 1900169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wqxtO.jpg?s=128&g=1", "display_name": "Frank Wilson", "link": "https://stackoverflow.com/users/1900169/frank-wilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1499703654, "creation_date": 1499703654, "answer_id": 45017106, "question_id": 45014941, "link": "https://stackoverflow.com/questions/45014941/kotlin-class-file-can-not-run-in-intellij-for-junit/45017106#45017106", "title": "Kotlin class file can not run in IntelliJ for JUnit", "body": "<p>You probably chose the wrong testing library version in the create test dialog.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wIG1y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wIG1y.png\" alt=\"enter image description here\"></a></p>\n\n<p>It seems you are trying to use JUnit5, but you must have selected JUnit3. The import for the former starts <code>org.junit.jupiter</code> whereas the latter starts with <code>junit</code>, which you see in the error that you gave in the question. </p>\n\n<blockquote>\n  <p><code>Unresolved reference: junit</code></p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4696837"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1698, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499703654, "creation_date": 1499697473, "last_edit_date": 1499698743, "question_id": 45014941, "link": "https://stackoverflow.com/questions/45014941/kotlin-class-file-can-not-run-in-intellij-for-junit", "title": "Kotlin class file can not run in IntelliJ for JUnit", "body": "<p>I am an Android and iOS developer. I am new in Kotlin Programming language with IntelliJ. Java class run well with but kotlin class showing err on run time. First it was showing err related JUnit version. I googled and found solution that need to config unit test. </p>\n\n<p>I am using mac so I press Command + Shift + T to configure unit test.</p>\n\n<p>After that when I run the MySecondClass.kt it's showing err like this</p>\n\n<pre><code>Information:Kotlin: kotlinc-jvm 1.1.3-2 (JRE 1.8.0_111-b14)\nInformation:7/10/17, 8:24 PM - Compilation completed with 2 errors and 0 warnings in 2s 85ms\n/Users/ehaque/IdeaProjects/My First Kotlin Project/src/MySecondClassTest.kt\nError:(1, 12) Kotlin: Unresolved reference: junit\nError:(7, 10) Kotlin: Unresolved reference: junit\n</code></pre>\n\n<p>My Project Structure is like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2Pud6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Pud6.png\" alt=\"enter image description here\"></a></p>\n\n<p>What should I do?</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "edited": false, "score": 0, "creation_date": 1499691085, "post_id": 45012465, "comment_id": 76998664, "body": "No, This code is in the linear layout, I want it in Grid layout. I am trying to Convert it but not working. Thank you for the response though"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "edited": false, "score": 0, "creation_date": 1499695727, "post_id": 45012465, "comment_id": 77002209, "body": "Thank you So much for the answer"}], "tags": [], "owner": {"reputation": 161, "user_id": 5588557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4307853adf125123a13c20ee798cabc5?s=128&d=identicon&r=PG&f=1", "display_name": "Ephraim Kigamba", "link": "https://stackoverflow.com/users/5588557/ephraim-kigamba"}, "is_accepted": true, "score": 2, "last_activity_date": 1499694985, "last_edit_date": 1499694985, "creation_date": 1499690746, "answer_id": 45012465, "question_id": 45012349, "link": "https://stackoverflow.com/questions/45012349/converting-linear-to-grid-layout/45012465#45012465", "title": "Converting Linear to Grid Layout", "body": "<p>Create another xml file with the grid layout.</p>\n\n<p>Whenever the user clicks on GridLayout or when you want to change it, just load the new xml, add the children views to the GridLayout xml.</p>\n\n<p>Is this what you wanted?</p>\n\n<p><strong>EDIT:\nACTUAL CODE ADDED (In Plain Java)</strong></p>\n\n<p>Kotlin and Java can be used together. If a problem, just change <strong>variable statement, for loop, try catch exception &amp; method calling as in Kotlin + Your other implementation for</strong> <code>button.onClick</code></p>\n\n<pre><code>    GridLayout gridLayout = new GridLayout(this);\n    gridLayout.setOrientation(GridLayout.HORIZONTAL);\n    gridLayout.setColumnCount(4);\n    File file = new File(\"/sdcard/MedProRecordings/\").getAbsoluteFile();\n    if (file.isDirectory() == false) {\n        Toast.makeText(this, \"ERROR\", Toast.LENGTH_SHORT).show();\n    } \n    File[] files = file.listFiles();\n\n    int i = 1;\n    for (File f: files) {\n        if (f.isDirectory()) {\n            if(f.list().length &gt; 0 ){\n                try {\n                    /*val layout = LinearLayout(this)\n                    layout.id = i*/\n\n                    ImageButton btnGreen = new ImageButton(this);\n                    btnGreen.setImageResource(R.mipmap.ic_launcher);\n\n                    btnGreen.setBackgroundColor(Color.TRANSPARENT);\n                    Log.d(\"GRID LAYOUT TRY\", f.getName());\n\n                    gridLayout.addView(btnGreen);\n                    /*root.addView(layout)*/\n\n                    btnGreen.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            //Intent intent = Intent(this, Play::class.java)\n                            //intent.putExtra(\"file\",f).toString()\n                            //startActivity(intent)\n                            Toast.makeText(MainActivity.this, \"Button Clicked\", Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                    /*; {\n                        intent = Intent(this, Play::class.java)\n                        intent.putExtra(\"file\",f).toString()\n                        startActivity(intent)\n                    }*/\n                }\n                catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        } \n    }\n</code></pre>\n\n<p><strong>Remaining:</strong> Add the grid layout to the scroll layout. In case you are switching between both, just remove the LinearLayout from the scroll Layout and add this</p>\n\n<p><strong>TESTED ON MY PHONE &amp; IT WORKS</strong></p>\n"}], "owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 45012465, "answer_count": 1, "score": 0, "last_activity_date": 1499694985, "creation_date": 1499690417, "last_edit_date": 1499690629, "question_id": 45012349, "link": "https://stackoverflow.com/questions/45012349/converting-linear-to-grid-layout", "title": "Converting Linear to Grid Layout", "body": "<p>The given code creates a layout with a Linear Layout showing all the folders. It shows all the folders in the horizontal view. I want to convert it into Grid Layout, so that I can accommodate many folders in one screen.</p>\n\n<pre><code>val root = LinearLayout(this)\n    val file = File(\"/sdcard/MedProRecordings/\").absoluteFile\n    if (file.isDirectory == false) {\n        Toast.makeText(this, \"ERROR\", Toast.LENGTH_SHORT).show()\n    }\n    val files = file.listFiles()\n    var i = 1\n    for (f in files!!) {\n        if (f.isDirectory) {\n            if(f.list().isNotEmpty()){\n                try {\n                    val layout = LinearLayout(this)\n                    layout.id = i\n\n                    val btnGreen = ImageButton(this)\n                    btnGreen.setImageResource(R.drawable.play)\n\n                    btnGreen.setBackgroundColor(Color.TRANSPARENT)\n\n                    layout.addView(btnGreen)\n                    root.addView(layout)\n\n                    btnGreen.setOnClickListener {\n                        intent = Intent(this, Play::class.java)\n                        intent.putExtra(\"file\",f).toString()\n                        startActivity(intent)\n                    }\n                } \n                catch (e: Exception) {}\n            }\n        }\n    }\n    val layout = LinearLayout(this)\n    val scroll = HorizontalScrollView(this)\n    scroll.addView(root)\n    layout.addView(scroll)\n    setContentView(layout)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499686908, "post_id": 45010419, "comment_id": 76995539, "body": "do you generally want to know how vars are defined or just for this one case?"}], "answers": [{"comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 1, "creation_date": 1499685284, "post_id": 45010573, "comment_id": 76994447, "body": "<code>firstName</code> should be public."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1499685347, "post_id": 45010573, "comment_id": 76994481, "body": "@Naetmul yeah. I just copy the OP&#39;s code. and forget to change the visibility modifier. thanks very much."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 6, "last_activity_date": 1499685307, "last_edit_date": 1499685307, "creation_date": 1499685256, "answer_id": 45010573, "question_id": 45010419, "link": "https://stackoverflow.com/questions/45010419/what-is-the-correct-way-to-declare-variable-type-in-android-with-kotlin/45010573#45010573", "title": "What is the correct way to declare variable type in android with Kotlin?", "body": "<p>the cleanest way is just define it as a <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"noreferrer\">property</a> in kotlin, if you don't do additional work on <em>getter</em>/<em>setter</em> . for example:</p>\n\n<pre><code>var firstName: String? = null\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "is_accepted": false, "score": 0, "last_activity_date": 1499856928, "creation_date": 1499856928, "answer_id": 45055699, "question_id": 45010419, "link": "https://stackoverflow.com/questions/45010419/what-is-the-correct-way-to-declare-variable-type-in-android-with-kotlin/45055699#45055699", "title": "What is the correct way to declare variable type in android with Kotlin?", "body": "<p>try following </p>\n\n<p>Synetx:</p>\n\n<pre><code> var &lt;propertyName&gt;[: &lt;PropertyType&gt;] [= &lt;property_initializer&gt;]\n        [&lt;getter&gt;]\n        [&lt;setter&gt;]\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>var allByDefault: Int? // error: explicit initializer required, default getter and setter implied\nvar initialized = 1 // has type Int, default getter and setter\n</code></pre>\n\n<p>The full syntax of a read-only property declaration differs from a mutable one in two ways: it starts with <code>val</code> instead of var and does not allow a setter:</p>\n\n<pre><code>val simple: Int? // has type Int, default getter, must be initialized in constructor\nval inferredType = 1 // has type Int and a default getter\n</code></pre>\n"}], "owner": {"reputation": 1394, "user_id": 5967703, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/r1HsG.jpg?s=128&g=1", "display_name": "Jigar Patel", "link": "https://stackoverflow.com/users/5967703/jigar-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1499856928, "creation_date": 1499684775, "last_edit_date": 1499687663, "question_id": 45010419, "link": "https://stackoverflow.com/questions/45010419/what-is-the-correct-way-to-declare-variable-type-in-android-with-kotlin", "title": "What is the correct way to declare variable type in android with Kotlin?", "body": "<p>I want to declare on some Variable type for gatter and setter model.</p>\n\n<p>Can i declare in simple and clean code like in java?</p>\n\n<pre><code>private String firstName;\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n</code></pre>\n\n<p>Because when converting it to Kotlin it look like:</p>\n\n<pre><code>private var firstName: String? = null\n\nfun getfirstName(): String {\n    return firstName\n}\n\nfun setfirstName(firstName: String) {\n    this.firstName = firstName\n}\n</code></pre>\n\n<p>What is the right and cleanest way? </p>\n"}, {"tags": ["spring-data-jpa", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1499757908, "post_id": 45010230, "comment_id": 77029929, "body": "Not possible with data classes, if you want to keep all the nice things that data classes give you."}], "answers": [{"comments": [{"owner": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "edited": false, "score": 1, "creation_date": 1499685547, "post_id": 45010494, "comment_id": 76994599, "body": "thanks; so we discard all completedness guarantees. but this is a big compromise: we significantly change our completedness contract, solely to support QBE. I was thinking maybe there&#39;s another way \u2014 using mocks or proxies, for example \u2014 to produce a <code>Product</code> instance. Mocks/proxies would fulfil the Example API&#39;s requirement, and would <i>not</i> have the constructor constraints of the Product class."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "edited": false, "score": 0, "creation_date": 1499685699, "post_id": 45010494, "comment_id": 76994692, "body": "@Birchlabs Hi, if your column in database can&#39;t be nullable. the column should be has a default value. you can using a default value to initializing the property on primary constructor.e.g: <code>val id:Int, val city:String=&quot;unknown&quot;</code> and go on. the <code>id</code> is <b>required</b> and the <code>city</code> is <b>optional</b>. and my answer just is an opinion, let you know there is a feature in kotlin."}, {"owner": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "edited": false, "score": 0, "creation_date": 1499686007, "post_id": 45010494, "comment_id": 76994890, "body": "I&#39;m not worried about database constraints. If I want to enforce &quot;never persist null&quot;, I can do that with <code>@NotNull</code> persistence annotation. The bigger problem is that I want to prevent developers of my application from constructing invalid instances. The constructor used to give me a guarantee that every <code>Product</code> instance in my application had all of its fields initialized in a valid way. Whereas this constructor removes that guarantee, in order to support QBE."}, {"owner": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "edited": false, "score": 0, "creation_date": 1499686207, "post_id": 45010494, "comment_id": 76995026, "body": "Expressing the constraint <code>id</code> is <b>required</b> is complex; it can be required at construction-time, at API boundary, at persistence boundary. In particular: <code>id</code> is <b>required</b> at persistence boundary, but <b>optional</b> in a query. Ideally, QBE should have a different set of constraints to other use-cases."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "edited": false, "score": 0, "creation_date": 1499686332, "post_id": 45010494, "comment_id": 76995122, "body": "@Birchlabs well. if you want to make sure every properties is not null. the QBE don&#39;t appropriate for you in this case, sir. since you must be provide all properties. let&#39;s see you can set properties via setter. but unset properties is <code>null</code>."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "edited": false, "score": 0, "creation_date": 1499686467, "post_id": 45010494, "comment_id": 76995214, "body": "@Birchlabs sir, as you said you keep the constraints via <code>@NotNull</code> rather than kotlin non-nullable properties. so I think there is no problem. and every reference type can be nullable  in java. if you mark all properties non-nullable on primary constructor, you can&#39;t instantiate without given all of the properties. in short, you shouldn&#39;t adding database constraints on language level. instead, you should using <code>@NotNull</code> , <code>@Unique</code> and .etc."}, {"owner": {"reputation": 3768, "user_id": 5057350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431fc82cc35eb6741c6fa8324e01f8d5?s=128&d=identicon&r=PG", "display_name": "Pete", "link": "https://stackoverflow.com/users/5057350/pete"}, "reply_to_user": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "edited": false, "score": 5, "creation_date": 1499698404, "post_id": 45010494, "comment_id": 77004337, "body": "While it <i>is</i> a solution, it does not answer the question. @Birchlabs explicitly says it should &quot;generally require that all args are instantiated on construction&quot; and even recognizes this solution in his question, deeming it undesirable."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 3768, "user_id": 5057350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431fc82cc35eb6741c6fa8324e01f8d5?s=128&d=identicon&r=PG", "display_name": "Pete", "link": "https://stackoverflow.com/users/5057350/pete"}, "edited": false, "score": 0, "creation_date": 1499699805, "post_id": 45010494, "comment_id": 77005346, "body": "@Pete hi, sir. but I think he can&#39;t  instantiate the <code>Product</code> without give all non-nullable properties in kotlin. it can be done in java since the reference type can be nullable."}, {"owner": {"reputation": 3768, "user_id": 5057350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431fc82cc35eb6741c6fa8324e01f8d5?s=128&d=identicon&r=PG", "display_name": "Pete", "link": "https://stackoverflow.com/users/5057350/pete"}, "edited": false, "score": 0, "creation_date": 1499699950, "post_id": 45010494, "comment_id": 77005435, "body": "@holi-java Yes, that is true, but that does not make that your answer actually <i>answers the question</i>. &quot;It is not possible&quot; is a perfectly valid answer, though."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 3768, "user_id": 5057350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431fc82cc35eb6741c6fa8324e01f8d5?s=128&d=identicon&r=PG", "display_name": "Pete", "link": "https://stackoverflow.com/users/5057350/pete"}, "edited": false, "score": 0, "creation_date": 1499709758, "post_id": 45010494, "comment_id": 77011566, "body": "@Pete I agree with you. and I admit my answer is not a perfect one, but I think it is the only one solution for the OP operating QBE feature in spring-data module. since you can&#39;t pass <code>null</code> values into the primary constructor.  and as I mentioned preceding, if you want to using QBE you should separate database constraints from language level, and using jpa validation annotation instead."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": -1, "last_activity_date": 1499684996, "creation_date": 1499684996, "answer_id": 45010494, "question_id": 45010230, "link": "https://stackoverflow.com/questions/45010230/kotlinic-pattern-for-using-spring-data-jpas-query-by-example/45010494#45010494", "title": "Kotlinic pattern for using Spring Data JPA&#39;s &quot;query by example&quot;", "body": "<p>because the parameters on the primary constructor is not optional and not nullable. you can makes parameters nullable and set a default value <code>null</code> for each, for example:</p>\n\n<pre><code>@Entity\n@Table(name = \"product\")\ndata class Product(\n        @Id val id: String? = null,\n        val city: String? = null,\n        val shopName: String? = null,\n        val productName: String? = null,\n        val productVersion: Short? = null\n)\n</code></pre>\n\n<p>However, you must operates <code>Product</code> properties with safe-call <code>?.</code>, for example:</p>\n\n<pre><code>val product = Product()\n\n//                   safe-call ---v\nval cityToLowerCase = product.city?.toLowerCase()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 12042788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b1c82dc1f41df82df1676a44aa028de?s=128&d=identicon&r=PG&f=1", "display_name": "kdev", "link": "https://stackoverflow.com/users/12042788/kdev"}, "is_accepted": false, "score": 4, "last_activity_date": 1568050029, "creation_date": 1568050029, "answer_id": 57858628, "question_id": 45010230, "link": "https://stackoverflow.com/questions/45010230/kotlinic-pattern-for-using-spring-data-jpas-query-by-example/57858628#57858628", "title": "Kotlinic pattern for using Spring Data JPA&#39;s &quot;query by example&quot;", "body": "<p>You can query by example using kotlin data classes with non-null fields, however it will not look as good as java code.</p>\n\n<pre><code>val matcher = ExampleMatcher.matching()\n    .withMatcher(\"city\", ExampleMatcher.GenericPropertyMatcher().exact())\n    .withMatcher(\"shopName\", ExampleMatcher.GenericPropertyMatcher().exact())\n    .withIgnorePaths(\"id\", \"productName\", \"productVersion\")\n\nval product = Product(\n    id = \"\",\n    city = \"London\",\n    shopName = \"OkayTea\",\n    productName = \"\",\n    productVersion = 0\n)\n\nproductRepository.findAll(Example.of(product, matcher))\n</code></pre>\n\n<p>If you are using it for integration tests and you don't want to pollute your <code>Repository</code> interface with methods which are only used in said tests and also \nyou have a lot of fields in the database entity class, you can create an extension function that extracts fields which will be ignored in the query.</p>\n\n<pre><code>private fun &lt;T : Any&gt; KClass&lt;T&gt;.ignoredProperties(vararg exclusions: String): Array&lt;String&gt; {\n    return declaredMemberProperties\n        .filterNot { exclusions.contains(it.name) }\n        .map { it.name }\n        .toTypedArray()\n}\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>val ignoredFields = Product::class.ignoredProperties(\"city\", \"shopName\")\n\nval matcher = ExampleMatcher.matching()\n    .withMatcher(\"city\", ExampleMatcher.GenericPropertyMatcher().exact())\n    .withMatcher(\"shopName\", ExampleMatcher.GenericPropertyMatcher().exact())\n    .withIgnorePaths(*ignoredFields)\n\n</code></pre>\n"}], "owner": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1943, "favorite_count": 5, "answer_count": 2, "score": 13, "last_activity_date": 1568050029, "creation_date": 1499684180, "last_edit_date": 1499704279, "question_id": 45010230, "link": "https://stackoverflow.com/questions/45010230/kotlinic-pattern-for-using-spring-data-jpas-query-by-example", "title": "Kotlinic pattern for using Spring Data JPA&#39;s &quot;query by example&quot;", "body": "<p>Spring Data JPA introduces a nice feature, <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\" rel=\"noreferrer\">\"query by example\" (QBE)</a>. You express your search criteria by <em>constructing an instance of the entity</em>.</p>\n\n<p>You do not have to write JPQL. It uses less \"magic\" than does <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"noreferrer\">repository query derivation</a>. The syntax is nice. It prevents explosions of trivial repository code. It survives refactors very well.</p>\n\n<p>There's a problem though: QBE only works if you can <em>partially construct</em> an object.</p>\n\n<p>Here's my entity:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name=\"product\")\ndata class Product(\n        @Id val id: String,\n        val city: String,\n        val shopName: String,\n        val productName: String,\n        val productVersion: Short\n)\n</code></pre>\n\n<p>Here's my repository (empty! this is a nice thing about QBE):</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Repository\ninterface ProductRepository : JpaRepository&lt;Product, String&gt;\n</code></pre>\n\n<p>And here's how you would fetch a <code>List&lt;Product&gt;</code> \u2014 all the products that are sold in some shop, in some city:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>productRepository.findAll(Example.of(Product(city = \"London\", shopName=\"OkayTea\")))\n</code></pre>\n\n<p>Or at least, that's what I <em>want</em> to do. There's a problem. It's <strong>not possible</strong> to construct this object:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>Product(city = \"London\", shopName=\"OkayTea\")\n</code></pre>\n\n<p>This is because <code>Product</code>'s constructor requires that <em>all</em> its fields be defined. And indeed: that's what I want most of the time.</p>\n\n<p>The usual compromise in Java would be: construct entities using no-args constructor, make everything mutable, have no guarantees about completedness.</p>\n\n<p>Is there a nice Kotlin pattern to solve this problem:</p>\n\n<ul>\n<li><em>generally</em> require that all args are instantiated on construction</li>\n<li>provide <strong>also</strong> some mechanism to produce partially-constructed instances for use with Example API</li>\n</ul>\n\n<p>Admittedly these look like totally conflicting goals. But maybe there's another way to approach this?</p>\n\n<p>For example: maybe we can make a mock/proxy object, which appears to be a Product, but doesn't have the same construction constraints?</p>\n"}, {"tags": ["unit-testing", "constructor", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499682908, "post_id": 45007979, "comment_id": 76992860, "body": "where your 2 classes live?"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499683478, "post_id": 45007979, "comment_id": 76993233, "body": "<a href=\"https://stackoverflow.com/questions/35683991/kotlin-make-an-internal-function-visible-for-unit-tests\" title=\"kotlin make an internal function visible for unit tests\">stackoverflow.com/questions/35683991/&hellip;</a>"}, {"owner": {"reputation": 713, "user_id": 7279625, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IGq5Y.jpg?s=128&g=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/7279625/marcin"}, "edited": false, "score": 0, "creation_date": 1499685494, "post_id": 45007979, "comment_id": 76994576, "body": "Project stucture is like:  <code>-root&#47;module&#47;src&#47;main&#47;kotlin&#47;foo&#47;Bar -root&#47;module&#47;src&#47;test&#47;kotlin&#47;foo&#47;TestBar</code>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499689766, "post_id": 45007979, "comment_id": 76997681, "body": "Hi, could you check the thinest example on github. due to there is no android environment in  my machine ."}], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 2, "last_activity_date": 1499690596, "creation_date": 1499690596, "answer_id": 45012406, "question_id": 45007979, "link": "https://stackoverflow.com/questions/45007979/kapt-generatestubs-cannot-initialize-object-with-internal-constructor-from-uni/45012406#45012406", "title": "Kapt generatestubs - Cannot initialize object with internal constructor from unit-test", "body": "<p><code>internal</code> visibility means that the class is visible only in the same module. <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#modules\" rel=\"nofollow noreferrer\">Kotlin's definition of a module is</a>:</p>\n\n<blockquote>\n  <p>More specifically, a module is a set of Kotlin files compiled together:</p>\n  \n  <ul>\n  <li>an IntelliJ IDEA module;</li>\n  <li>a Maven project;</li>\n  <li>a Gradle source set;</li>\n  <li>a set of files compiled with one invocation of the Ant task.</li>\n  </ul>\n</blockquote>\n\n<p>As far as I know you <code>main</code> and <code>test</code> are 2 separate source sets and that's the reason why it's not working.</p>\n\n<pre><code>main.java.srcDirs += 'src/main/kotlin'\ntest.java.srcDirs += 'src/test/kotlin'\n</code></pre>\n"}], "owner": {"reputation": 713, "user_id": 7279625, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IGq5Y.jpg?s=128&g=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/7279625/marcin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1500019743, "creation_date": 1499677774, "last_edit_date": 1500019743, "question_id": 45007979, "link": "https://stackoverflow.com/questions/45007979/kapt-generatestubs-cannot-initialize-object-with-internal-constructor-from-uni", "title": "Kapt generatestubs - Cannot initialize object with internal constructor from unit-test", "body": "<p>Let say we have a kotlin class defined as:</p>\n\n<pre><code>package foo\n\nclass Bar internal constructor() {\n//...\n}\n</code></pre>\n\n<p>When I try to init that object from a test method like:</p>\n\n<pre><code>package foo\n\n\nclass TestBar {\n    @Test\n    fun testingBar() {\n        Bar()  //&lt;----- error\n    }\n}\n</code></pre>\n\n<p>I get a following error:</p>\n\n<pre><code>Cannot access '&lt;init&gt;': it is internal in 'Bar'\n</code></pre>\n\n<p>Both Bar and TestBar are in the same AndroidStudio module (android library)\nBoth paths to sources were defined in a gradle:</p>\n\n<pre><code>...\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n    test.java.srcDirs += 'src/test/kotlin'\n}\n...\n</code></pre>\n\n<p>Tests seem to work fine in general, but I'm unable to create any object with a internal constructor.</p>\n\n<p>I'm using:</p>\n\n<pre><code>ext.kotlin_version = '1.1.3-2'\n</code></pre>\n\n<hr>\n\n<h2>EDIT</h2>\n\n<p>Thanks for the feedback.\nI've decided to make simple android multi-module application from scratch and it worked just fine.</p>\n\n<p>Then I tried to get rid of my module dependencies one by one and it turns out that problem is caused by dagger2 gradle dependency.</p>\n\n<pre><code>dependencies {\n    ...\n\n    //dagger 2\n    implementation 'com.google.dagger:dagger:2.8'\n    kapt 'com.google.dagger:dagger-compiler:2.8'\n}\n</code></pre>\n\n<p>When I remove the dependency I am able to access internal constructor from tests without a problem.\nIs that an indication of a bug or my dependency is not defined properly?</p>\n\n<hr>\n\n<h2>EDIT 2 (Solution)</h2>\n\n<p>It turns out that problem was caused by kapt's <code>generatestubs = true</code> option.\nIn order to make tests see internal classes just switch to a new kapt implementation:</p>\n\n<p><a href=\"http://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">http://kotlinlang.org/docs/reference/kapt.html</a></p>\n\n<p>which in my case came down to getting rid of </p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>and adding </p>\n\n<p><code>apply plugin: kotlin-kapt'</code></p>\n\n<p>at the beginning of gradle file.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "edited": false, "score": 0, "creation_date": 1499677641, "post_id": 45007851, "comment_id": 76989242, "body": "The same happenned to me. Try building your project again. Also which Android Studio version are you using? Cause it is fixed in Android Studio 3.0 Canary 5"}, {"owner": {"reputation": 4900, "user_id": 2037846, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d845eabfae27fddeab72524c1292384?s=128&d=identicon&r=PG", "display_name": "MichelReap", "link": "https://stackoverflow.com/users/2037846/michelreap"}, "reply_to_user": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "edited": false, "score": 0, "creation_date": 1499677814, "post_id": 45007851, "comment_id": 76989394, "body": "Well im using Canary 4.... Ill update then."}, {"owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "edited": false, "score": 0, "creation_date": 1499677906, "post_id": 45007851, "comment_id": 76989460, "body": "I&#39;ll post it as an answer"}, {"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "edited": false, "score": 0, "creation_date": 1499682176, "post_id": 45007851, "comment_id": 76992434, "body": "Not sure if that&#39;s actually any different, but are you able to access the views if you import all of them via <code>kotlinx.android.synthetic.main.item_event.view.*</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "reply_to_user": {"reputation": 4900, "user_id": 2037846, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d845eabfae27fddeab72524c1292384?s=128&d=identicon&r=PG", "display_name": "MichelReap", "link": "https://stackoverflow.com/users/2037846/michelreap"}, "edited": false, "score": 0, "creation_date": 1499767528, "post_id": 45008034, "comment_id": 77036513, "body": "Try updating the Kotlin compiler. I am using <code>1.1.3</code>"}], "tags": [], "owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1499677912, "creation_date": 1499677912, "answer_id": 45008034, "question_id": 45007851, "link": "https://stackoverflow.com/questions/45007851/kotlin-not-picking-up-resource-ids/45008034#45008034", "title": "Kotlin not picking up resource ids", "body": "<p>This issue has been fixed in Android Studio 3.0 Canary 5. If your using older version then building your project again should help.</p>\n"}], "owner": {"reputation": 4900, "user_id": 2037846, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d845eabfae27fddeab72524c1292384?s=128&d=identicon&r=PG", "display_name": "MichelReap", "link": "https://stackoverflow.com/users/2037846/michelreap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 717, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499677912, "creation_date": 1499677420, "question_id": 45007851, "link": "https://stackoverflow.com/questions/45007851/kotlin-not-picking-up-resource-ids", "title": "Kotlin not picking up resource ids", "body": "<p>I am trying to develop an app using Kotlin. I read about the possibility of not using findViewById again by just referencing the ids directly using Kotlin extensions. I have applied the plugin properly with:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>On my build.gradle</p>\n\n<p>However, when I try to reference with:</p>\n\n<pre><code>kotlinx.android.synthetic.main.item_event.view.event_cover\n</code></pre>\n\n<p>Android Studio recognizes only until the view part, that is</p>\n\n<pre><code>kotlinx.android.synthetic.main.item_event.view\n</code></pre>\n\n<p>meaning that I can work my way to this point using Ctrl + Space. But after \"view\" I get no suggestion and if I put the id then it says unrecognized reference.</p>\n\n<p>What am I doing wrong? </p>\n\n<p>To add to this, this used to work until I refactored my class and moved it to another package.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1499672074, "creation_date": 1499672074, "answer_id": 45006197, "question_id": 45006104, "link": "https://stackoverflow.com/questions/45006104/how-to-use-textinputlayout-textinputedittext-in-kotlin-anko/45006197#45006197", "title": "How to use TextInputLayout &amp; TextInputEditText in Kotlin anko", "body": "<p><code>TextInputLayout</code> is in the Design Support Library, so you need an additional Anko dependency that gives you bindings for that library (you can find a list of all the different Anko packages <a href=\"https://github.com/Kotlin/anko#gradle-based-project\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>compile \"org.jetbrains.anko:anko-design:$anko_version\"\n</code></pre>\n\n<p>You'll also need the <a href=\"https://developer.android.com/topic/libraries/support-library/packages.html#design\" rel=\"nofollow noreferrer\">Design Support Library</a> itself if you don't have it yet:</p>\n\n<pre><code>compile 'com.android.support:design:25.4.0'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2545, "user_id": 3230218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qaS1J.png?s=128&g=1", "display_name": "Reinstate Monica", "link": "https://stackoverflow.com/users/3230218/reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1499697630, "post_id": 45006997, "comment_id": 77003702, "body": "Could you please elaborate? Why does this work? Please note that code-only answers are not generally considered very helpful."}], "tags": [], "owner": {"reputation": 457, "user_id": 8182960, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f2d11d0f72f8c9057b4462a6186e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8182960/rahul"}, "is_accepted": true, "score": 4, "last_activity_date": 1499699954, "last_edit_date": 1499699954, "creation_date": 1499674653, "answer_id": 45006997, "question_id": 45006104, "link": "https://stackoverflow.com/questions/45006104/how-to-use-textinputlayout-textinputedittext-in-kotlin-anko/45006997#45006997", "title": "How to use TextInputLayout &amp; TextInputEditText in Kotlin anko", "body": "<p>Create a kotlin code file anywhere you wish. Put below code without any class declaration.  </p>\n\n<pre><code>inline fun ViewManager.textInputEditText() = textInputEditText {}\ninline fun ViewManager.textInputEditText(theme: Int = 0, init: TextInputEditText.() -&gt; Unit) = ankoView({ TextInputEditText(it) }, theme, init)\n\ninline fun ViewManager.textInputLayout() = textInputLayout {}\ninline fun ViewManager.textInputLayout(theme: Int = 0, init: TextInputLayout.() -&gt; Unit) = ankoView({ TextInputLayout(it) }, theme, init)  \n</code></pre>\n\n<p>Hope this helps</p>\n\n<p>EDIT : based on the comment of @A Boschman, anko is very new and there is almost no documentation. When I had the same problem and I search a lot all over internet but didn't find any documentation.<br>\nMy Solution is based on below mention thread on GitHub -  (there also no theoritical explanation)</p>\n\n<p><a href=\"https://github.com/Kotlin/anko/issues/205\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/issues/205</a><br>\n<a href=\"https://github.com/Kotlin/anko/issues/264\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/issues/264</a></p>\n"}], "owner": {"reputation": 35, "user_id": 8278472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a17f90d7ac674e1bd9daf2a7fdb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Rachika", "link": "https://stackoverflow.com/users/8278472/rachika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2129, "favorite_count": 0, "accepted_answer_id": 45006997, "answer_count": 2, "score": 2, "last_activity_date": 1499699954, "creation_date": 1499671746, "question_id": 45006104, "link": "https://stackoverflow.com/questions/45006104/how-to-use-textinputlayout-textinputedittext-in-kotlin-anko", "title": "How to use TextInputLayout &amp; TextInputEditText in Kotlin anko", "body": "<pre><code>Error:(63, 13) Unresolved reference: textInputLayout\nError:(64, 17) Unresolved reference: textInputEditText  \n</code></pre>\n\n<p>I'm getting above error message when trying to add textInputLayout &amp; textInputEditText  in kotlin anko.<br>\nBelow is my code -  </p>\n\n<pre><code>private fun test(context: Context): View{\n    return with(context){\n        verticalLayout {\n            textInputLayout {\n                textInputEditText{}\n            }\n        }\n   }\n}\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 8073, "user_id": 1893164, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f058499cabc6e56e7622015b4db79304?s=128&d=identicon&r=PG", "display_name": "Al Sweigart", "link": "https://stackoverflow.com/users/1893164/al-sweigart"}, "edited": false, "score": 0, "creation_date": 1499668234, "post_id": 45003163, "comment_id": 76983828, "body": "It seems that Canary 4 does have the &quot;Include Kotlin support&quot; checkbox though."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1509283035, "post_id": 45003163, "comment_id": 80947778, "body": "As mentioned on an answer that is currently deleted, you might have to resize that window, as those options appear below the horizontal rule under the &quot;Package name&quot; setting, and might be covered by some useless blank element that fills a good chunk of the lower portion."}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1509709098, "post_id": 45003163, "comment_id": 81139013, "body": "update to the stable version. It will fix it"}], "answers": [{"comments": [{"owner": {"reputation": 8073, "user_id": 1893164, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f058499cabc6e56e7622015b4db79304?s=128&d=identicon&r=PG", "display_name": "Al Sweigart", "link": "https://stackoverflow.com/users/1893164/al-sweigart"}, "edited": false, "score": 0, "creation_date": 1499666032, "post_id": 45003778, "comment_id": 76982915, "body": "I&#39;ve tried this as well and it doesn&#39;t work when I update the Kotlin plugin."}, {"owner": {"reputation": 1321, "user_id": 2191999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ypbVL.jpg?s=128&g=1", "display_name": "CoderP", "link": "https://stackoverflow.com/users/2191999/coderp"}, "reply_to_user": {"reputation": 8073, "user_id": 1893164, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f058499cabc6e56e7622015b4db79304?s=128&d=identicon&r=PG", "display_name": "Al Sweigart", "link": "https://stackoverflow.com/users/1893164/al-sweigart"}, "edited": false, "score": 0, "creation_date": 1499670842, "post_id": 45003778, "comment_id": 76985171, "body": "That&#39;s weird. With the plugin I was able to get that tool in my Studio 2.3 also. Can you check Kotlin version that you have installed. May be that is incompatible with Canary 5."}], "tags": [], "owner": {"reputation": 1321, "user_id": 2191999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ypbVL.jpg?s=128&g=1", "display_name": "CoderP", "link": "https://stackoverflow.com/users/2191999/coderp"}, "is_accepted": false, "score": 1, "last_activity_date": 1499660901, "creation_date": 1499660901, "answer_id": 45003778, "question_id": 45003163, "link": "https://stackoverflow.com/questions/45003163/include-kotlin-support-checkbox-not-in-android-studio-3-0-canary-5/45003778#45003778", "title": "&quot;Include Kotlin support&quot; checkbox not in Android Studio 3.0 Canary 5", "body": "<p>You could try manually to install Kotlin plugin. Go to Preferences - Plugins and search for 'Kotlin'. </p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 8073, "user_id": 1893164, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f058499cabc6e56e7622015b4db79304?s=128&d=identicon&r=PG", "display_name": "Al Sweigart", "link": "https://stackoverflow.com/users/1893164/al-sweigart"}, "edited": false, "score": 3, "creation_date": 1509394471, "post_id": 47017845, "comment_id": 80993938, "body": "This was the solution. There was no scrollbar to indicate there was more content on that window, I just had to make it bigger so I could see the checkbox."}, {"owner": {"reputation": 1076, "user_id": 132510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db3fd6925bf6cea972323a3d2f98afe?s=128&d=identicon&r=PG", "display_name": "A. L. Flanagan", "link": "https://stackoverflow.com/users/132510/a-l-flanagan"}, "edited": false, "score": 0, "creation_date": 1520461976, "post_id": 47017845, "comment_id": 85330342, "body": "I was using Studio on a laptop with a small screen, couldn&#39;t enlarge the window. So I went to Settings/Appearance &amp; Behavior/Appearance and used &quot;override default fonts&quot; to choose a smaller font size. And there it was... I love Java UIs."}], "tags": [], "owner": {"reputation": 198, "user_id": 5571001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc2d86b499eeccb03502607083bd096?s=128&d=identicon&r=PG", "display_name": "Mexen", "link": "https://stackoverflow.com/users/5571001/mexen"}, "is_accepted": true, "score": 16, "last_activity_date": 1509374010, "creation_date": 1509374010, "answer_id": 47017845, "question_id": 45003163, "link": "https://stackoverflow.com/questions/45003163/include-kotlin-support-checkbox-not-in-android-studio-3-0-canary-5/47017845#47017845", "title": "&quot;Include Kotlin support&quot; checkbox not in Android Studio 3.0 Canary 5", "body": "<p>If you are satisfied that you have Kotlin support, either by switching to Android Studio 3 or installing the plugin, then do the following when you open Android Studio:</p>\n\n<ul>\n<li>Resize the window by dragging down.</li>\n</ul>\n\n<p>I hope this will help you.</p>\n"}, {"tags": [], "owner": {"reputation": 488, "user_id": 8635148, "user_type": "registered", "profile_image": "https://graph.facebook.com/1854663324862976/picture?type=large", "display_name": "Satyajit Das", "link": "https://stackoverflow.com/users/8635148/satyajit-das"}, "is_accepted": false, "score": 5, "last_activity_date": 1509708870, "last_edit_date": 1509708870, "creation_date": 1509707431, "answer_id": 47094370, "question_id": 45003163, "link": "https://stackoverflow.com/questions/45003163/include-kotlin-support-checkbox-not-in-android-studio-3-0-canary-5/47094370#47094370", "title": "&quot;Include Kotlin support&quot; checkbox not in Android Studio 3.0 Canary 5", "body": "<p><a href=\"https://i.stack.imgur.com/Ltk4a.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ltk4a.png\" alt=\"Android studio 3.o\"></a></p>\n\n<p>Just resize the screen and extend it a bit. The kotlin support check box is hidden, just check out the image.</p>\n"}], "owner": {"reputation": 8073, "user_id": 1893164, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f058499cabc6e56e7622015b4db79304?s=128&d=identicon&r=PG", "display_name": "Al Sweigart", "link": "https://stackoverflow.com/users/1893164/al-sweigart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2417, "favorite_count": 1, "accepted_answer_id": 47017845, "answer_count": 3, "score": 2, "last_activity_date": 1509708870, "creation_date": 1499655342, "last_edit_date": 1499695166, "question_id": 45003163, "link": "https://stackoverflow.com/questions/45003163/include-kotlin-support-checkbox-not-in-android-studio-3-0-canary-5", "title": "&quot;Include Kotlin support&quot; checkbox not in Android Studio 3.0 Canary 5", "body": "<p>I want to create a Kotlin project in Android Studio 3.0 Canary 5 (171.4141229) on my Windows 7 64-bit machine. However, when I start a new project, the first window of the wizard doesn't show the \"Include Kotlin support\" checkbox (neither does it show the \"Include C++ support\" checkbox).</p>\n\n<p>It looks like this: <a href=\"https://i.stack.imgur.com/fX1cR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fX1cR.png\" alt=\"enter image description here\"></a></p>\n\n<p>What can I do to create a Kotlin project in Android Studio 3.0 Canary 5? All the tutorials (which use Canary 1) say that this checkbox should be there.</p>\n"}, {"tags": ["java", "interface", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1499644492, "post_id": 45002129, "comment_id": 76978269, "body": "It&#39;s a variant of this issue, I think: <a href=\"https://stackoverflow.com/questions/44324821/why-do-lambda-expressions-behave-differently-for-kotlin-and-java-classes\" title=\"why do lambda expressions behave differently for kotlin and java classes\">stackoverflow.com/questions/44324821/&hellip;</a>"}, {"owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1499645071, "post_id": 45002129, "comment_id": 76978363, "body": "@OliverCharlesworth yes sir that seems like it."}], "answers": [{"comments": [{"owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "edited": false, "score": 0, "creation_date": 1499645753, "post_id": 45002155, "comment_id": 76978496, "body": "I accept the fact that it is not supported. But I can&#39;t understand why such feature is unnecessary in Kotlin? It is such a convenient way to create an instance of SAM interfaces."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "edited": false, "score": 0, "creation_date": 1499645848, "post_id": 45002155, "comment_id": 76978515, "body": "@HendraAnggrian Andrey Breslav (kotlin project lead) said: SAM-conversions only work for Java methods, not supported for Kotlin functions, because Kotlin has nice functional types, and there&#39;s no need for SAM conversion"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "edited": false, "score": 0, "creation_date": 1499646028, "post_id": 45002155, "comment_id": 76978547, "body": "Have a look at this link for some more info <a href=\"https://discuss.kotlinlang.org/t/kotlin-and-sam-interface-with-two-parameters/293/2\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}, {"owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "edited": false, "score": 0, "creation_date": 1499647243, "post_id": 45002155, "comment_id": 76978766, "body": "I think I might have know why now. Interfaces are easily replaced with Unit in Kotlin. Thanks for helpful links!"}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 1, "last_activity_date": 1499644587, "creation_date": 1499644587, "answer_id": 45002155, "question_id": 45002129, "link": "https://stackoverflow.com/questions/45002129/java-vs-kotlin-interface-declaration/45002155#45002155", "title": "Java vs Kotlin interface declaration", "body": "<p>That's because Kotlin has SAM (\"single abstract method\") only for Java interfaces. It's this way by <a href=\"https://discuss.kotlinlang.org/t/kotlin-and-sam-interface-with-two-parameters/293/2\" rel=\"nofollow noreferrer\">design</a>. There is some info on this on the <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">docs</a> as well:</p>\n\n<blockquote>\n  <p>Also note that this feature works only for Java interop; since Kotlin has proper function types, automatic conversion of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported.</p>\n</blockquote>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">Related issue</a></p>\n"}], "owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 0, "closed_date": 1499644754, "accepted_answer_id": 45002155, "answer_count": 1, "score": 1, "last_activity_date": 1499644587, "creation_date": 1499644330, "question_id": 45002129, "link": "https://stackoverflow.com/questions/45002129/java-vs-kotlin-interface-declaration", "closed_reason": "Duplicate", "title": "Java vs Kotlin interface declaration", "body": "<p>Say I have this Java and Kotlin interfaces:</p>\n\n<pre><code>public interface JavaInterface {\n\n    void onTest();\n}\n\ninterface KotlinInterface {\n\n    fun onTest()\n}\n</code></pre>\n\n<p>Why can't I create an instance of Kotlin interface without constructor?</p>\n\n<pre><code>// this is okay\nval javaInterface: JavaInterface = JavaInterface {\n\n}\n\n// compile-time exception: interface does not have constructor\nval kotlinInterface1: KotlinInterface = KotlinInterface {\n\n}\n\n// this is okay\nval kotlinInterface2: KotlinInterface = object : KotlinInterface {\n    override fun onTest() {\n\n    }\n}\n</code></pre>\n\n<p>Why can't I create an instance of <code>KotlinInterface</code> the way I did with <code>JavaExample</code> just like the first example?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1499640093, "post_id": 45001374, "comment_id": 76977490, "body": "You&#39;re missing the file extension. On top of that Typeface.create doesn&#39;t support caching, so it&#39;s wasteful if repeated. Use a library: <a href=\"https://github.com/Drivemode/TypefaceHelper\" rel=\"nofollow noreferrer\">github.com/Drivemode/TypefaceHelper</a>, <a href=\"https://github.com/chrisjenx/Calligraphy\" rel=\"nofollow noreferrer\">github.com/chrisjenx/Calligraphy</a> etc."}, {"owner": {"reputation": 93, "user_id": 6271638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b95b9947e31d88ad48d256e779e89904?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Coyle", "link": "https://stackoverflow.com/users/6271638/christopher-coyle"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1499641006, "post_id": 45001374, "comment_id": 76977676, "body": "Thank you so much for that!"}], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 5714327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ed0646f61949ca0dee6874996eed24?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/5714327/vikas"}, "edited": false, "score": 0, "creation_date": 1585639952, "post_id": 45002537, "comment_id": 107824066, "body": "When we are using a Custom font in a lot of places. This is the best way to do it !"}], "tags": [], "owner": {"reputation": 217, "user_id": 3505542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfddb45af24af49d50d95a8aebdbd4cb?s=128&d=identicon&r=PG&f=1", "display_name": "andri_sasuke", "link": "https://stackoverflow.com/users/3505542/andri-sasuke"}, "is_accepted": false, "score": 3, "last_activity_date": 1499649390, "creation_date": 1499649390, "answer_id": 45002537, "question_id": 45001374, "link": "https://stackoverflow.com/questions/45001374/how-to-set-a-custom-font-for-android-application/45002537#45002537", "title": "How to set a custom font for android application?", "body": "<p>We can create class for custom textView. for example we need textview with roboto font</p>\n\n<pre><code>class RobotoTextView(context: Context?, attrs: AttributeSet?) : AppCompatTextView(context, attrs) {\n    init {\n        val typeface = Typeface.createFromAsset(getContext().assets, \"font/roboto.ttf\")\n        if (android.os.Build.VERSION.SDK_INT &lt; android.os.Build.VERSION_CODES.HONEYCOMB ||\n                android.os.Build.VERSION.SDK_INT &gt; android.os.Build.VERSION_CODES.HONEYCOMB_MR2) {\n            setTypeface(typeface)\n        }\n    }\n}\n</code></pre>\n\n<p>then we can use it on every xml layout </p>\n\n<pre><code>&lt;com.packagename.RobotoTextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 359, "user_id": 5120346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eqcqi.jpg?s=128&g=1", "display_name": "sednanre", "link": "https://stackoverflow.com/users/5120346/sednanre"}, "is_accepted": false, "score": 3, "last_activity_date": 1505679443, "creation_date": 1505679443, "answer_id": 46268477, "question_id": 45001374, "link": "https://stackoverflow.com/questions/45001374/how-to-set-a-custom-font-for-android-application/46268477#46268477", "title": "How to set a custom font for android application?", "body": "<p>Try this, from <a href=\"https://segunfamisa.com/posts/custom-fonts-with-android-support-library\" rel=\"nofollow noreferrer\">this tutorial from SEGUN</a>:</p>\n\n<pre><code>val myCustomFont : Typeface? = ResourcesCompat.getFont(this, R.font.my_font)\nmyView.typeface = myCustomFont\n</code></pre>\n\n<p><strong>Note:</strong> you'll need to have the <code>.ttf</code> font downloaded in your project to do so - not just the <code>.xml</code> for the downloadable font.</p>\n"}, {"comments": [{"owner": {"reputation": 616, "user_id": 8243100, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/84d30757333ae6b0652256fed914c848?s=128&d=identicon&r=PG&f=1", "display_name": "marco", "link": "https://stackoverflow.com/users/8243100/marco"}, "edited": false, "score": 0, "creation_date": 1527304432, "post_id": 47040158, "comment_id": 88089826, "body": "how would I specify a font size for the variable?"}, {"owner": {"reputation": 126, "user_id": 2266761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLwzo.jpg?s=128&g=1", "display_name": "Zunayed Hassan", "link": "https://stackoverflow.com/users/2266761/zunayed-hassan"}, "reply_to_user": {"reputation": 616, "user_id": 8243100, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/84d30757333ae6b0652256fed914c848?s=128&d=identicon&r=PG&f=1", "display_name": "marco", "link": "https://stackoverflow.com/users/8243100/marco"}, "edited": false, "score": 0, "creation_date": 1527304627, "post_id": 47040158, "comment_id": 88089853, "body": "I have set font on textview here and I am sure you know how to set font size on textview, right?"}, {"owner": {"reputation": 616, "user_id": 8243100, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/84d30757333ae6b0652256fed914c848?s=128&d=identicon&r=PG&f=1", "display_name": "marco", "link": "https://stackoverflow.com/users/8243100/marco"}, "edited": false, "score": 0, "creation_date": 1527347999, "post_id": 47040158, "comment_id": 88099496, "body": "I mean is there one method that we can declare the font type and size?"}], "tags": [], "owner": {"reputation": 126, "user_id": 2266761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLwzo.jpg?s=128&g=1", "display_name": "Zunayed Hassan", "link": "https://stackoverflow.com/users/2266761/zunayed-hassan"}, "is_accepted": true, "score": 8, "last_activity_date": 1509467265, "creation_date": 1509467265, "answer_id": 47040158, "question_id": 45001374, "link": "https://stackoverflow.com/questions/45001374/how-to-set-a-custom-font-for-android-application/47040158#47040158", "title": "How to set a custom font for android application?", "body": "<p>I had the same problem on Android Studio 3.1 Canary with Kotlin</p>\n\n<p>Here is the solution: for <strong>font/lobster_regular.ttf</strong> file</p>\n\n<pre><code>var typeFace: Typeface? = ResourcesCompat.getFont(this.applicationContext, R.font.lobster_regular)\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/L9FmU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/L9FmU.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>private var _customFontTextView: TextView? = null\nprivate var _typeFace:           Typeface? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    this.setContentView(R.layout.activity_main)\n\n    this._initializeResources()\n    this._initializeGUI()\n}\n\nprivate fun _initializeResources() {\n    this._customFontTextView = this.findViewById(R.id.custom_font_text_view)\n    this._typeFace           = ResourcesCompat.getFont(this.applicationContext, R.font.lobster_regular)\n}\n\nprivate fun _initializeGUI() {\n    this._customFontTextView!!.setTypeface(this._typeFace, Typeface.NORMAL)\n}\n</code></pre>\n\n<p>Also you can do more with downloadable fonts, here is the article from Google: <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/downloadable-fonts.html\" rel=\"noreferrer\">https://developer.android.com/guide/topics/ui/look-and-feel/downloadable-fonts.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 364, "user_id": 12155745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2fcaca86e618bee6e760815674a4a74?s=128&d=identicon&r=PG&f=1", "display_name": "Jwala Kumar", "link": "https://stackoverflow.com/users/12155745/jwala-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1587183610, "last_edit_date": 1587183610, "creation_date": 1587183277, "answer_id": 61284150, "question_id": 45001374, "link": "https://stackoverflow.com/questions/45001374/how-to-set-a-custom-font-for-android-application/61284150#61284150", "title": "How to set a custom font for android application?", "body": "<p>You can try this one, from my working code ( In Kotlin )</p>\n\n<p>if you are in some other Class file, then use this one</p>\n\n<pre><code>var typeFaceBold: Typeface? =\n    this.getApplicationContext()?.let { ResourcesCompat.getFont(it, R.font.sans_serif_bold) }\n    tvAnonymousText.typeface = typeFaceBold\n</code></pre>\n\n<p>If you are using it in Activity, then you can write like this</p>\n\n<pre><code>var typeFaceBold: Typeface? = ResourcesCompat.getFont(this.applicationContext, R.font.sans_serif_bold) }\ntvAnonymousText.typeface = typeFaceBold\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1399, "user_id": 10338175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwAHZ.jpg?s=128&g=1", "display_name": "Ramin eghbalian", "link": "https://stackoverflow.com/users/10338175/ramin-eghbalian"}, "is_accepted": false, "score": 2, "last_activity_date": 1599550101, "creation_date": 1599550101, "answer_id": 63789061, "question_id": 45001374, "link": "https://stackoverflow.com/questions/45001374/how-to-set-a-custom-font-for-android-application/63789061#63789061", "title": "How to set a custom font for android application?", "body": "<p><strong>this is a great and short way for do it :</strong><br />\n1- create a folder named <strong><code>font</code></strong> in the <strong><code>res</code></strong> folder.\n2- then put your font file in the <strong><code>font</code></strong> folder that you created. (we suppose your font file name is <strong><code>sample_font.ttf</code></strong>)<br />\n3- so now create a <strong>xml</strong> file in the font folder named <strong><code>sample.xml</code></strong> and put the following code in it</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;font-family xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;font\n        android:font=&quot;@font/sample_font&quot;\n        android:fontStyle=&quot;normal&quot;\n        android:fontWeight=&quot;500&quot; /&gt;\n&lt;/font-family&gt;\n</code></pre>\n<p>4- now go to and open the <strong><code>res/values/styles.xml</code></strong> and then add following line code to the main style (common name  is <strong><code>AppTheme</code></strong>)</p>\n<pre><code>&lt;item name=&quot;fontFamily&quot;&gt;@font/sample&lt;/item&gt;  //put name of xml file in the font folder\n</code></pre>\n<p>now run the your app and you'll see your application font changed.</p>\n"}], "owner": {"reputation": 93, "user_id": 6271638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b95b9947e31d88ad48d256e779e89904?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Coyle", "link": "https://stackoverflow.com/users/6271638/christopher-coyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9614, "favorite_count": 1, "accepted_answer_id": 47040158, "answer_count": 5, "score": 3, "last_activity_date": 1599550101, "creation_date": 1499637114, "last_edit_date": 1499638175, "question_id": 45001374, "link": "https://stackoverflow.com/questions/45001374/how-to-set-a-custom-font-for-android-application", "title": "How to set a custom font for android application?", "body": "<p>I can't seem to be able to change the standard android font to another in my application. I'm writing my app in Kotlin and I'm using Anko to lay it out. I've tried:</p>\n\n<pre><code>typeface = Typeface.create()\ntypeface = Typface.createFromAsset(assets, \"font/font_name\")\nsetTypeface(Typeface.createFromAsset(assets, \"font/font_name\"))\n</code></pre>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["kotlin", "rx-android"], "answers": [{"comments": [{"owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "edited": false, "score": 0, "creation_date": 1499637207, "post_id": 45001225, "comment_id": 76976838, "body": "Got a problem when trying to adapt code : with the line 11 <code>import static com.jakewharton.rxbinding2.internal.Preconditions.checkMainT&zwnj;&#8203;hread;</code> Indeed it&#39;s internal to the Jake Wharton implementation."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "edited": false, "score": 1, "creation_date": 1499637487, "post_id": 45001225, "comment_id": 76976919, "body": "You could inline it or try to ignore the <code>RestrictTo</code> part."}, {"owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "edited": false, "score": 0, "creation_date": 1499637541, "post_id": 45001225, "comment_id": 76976929, "body": "Thanks. Going on implementing your solution."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1499635929, "creation_date": 1499635929, "answer_id": 45001225, "question_id": 45000060, "link": "https://stackoverflow.com/questions/45000060/rxandroid-using-rxview-touches-clears-other-handlers/45001225#45001225", "title": "RxAndroid - using RxView.touches clears other handlers", "body": "<p><code>RxView.touches()</code> returns you a <a href=\"https://github.com/JakeWharton/RxBinding/blob/master/rxbinding/src/main/java/com/jakewharton/rxbinding2/view/ViewTouchObservable.java\" rel=\"nofollow noreferrer\"><code>ViewTouchObservable</code></a> which calls <code>view.setOnTouchListener(listener)</code> on subscription to observe the touch events.</p>\n\n<blockquote>\n  <p><strong>Warning:</strong> The created observable uses <code>View.setOnTouchListener()</code> to observe touches. Only one observable can be used for a view at a time.</p>\n</blockquote>\n\n<p>Like this your binding the touch events absolutely to this observable. It returns <code>true</code> and therefore <code>onTouchEvent()</code> won't be called. To use both behaviors you might need to rewrite <code>ViewTouchObservable</code> a little and return <code>false</code> instead.</p>\n"}], "owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "accepted_answer_id": 45001225, "answer_count": 1, "score": 2, "last_activity_date": 1499635929, "creation_date": 1499627548, "question_id": 45000060, "link": "https://stackoverflow.com/questions/45000060/rxandroid-using-rxview-touches-clears-other-handlers", "title": "RxAndroid - using RxView.touches clears other handlers", "body": "<p>I am trying to add touch handler to <a href=\"https://github.com/antwankakki/FabricView\" rel=\"nofollow noreferrer\">FabricView</a>, but it seems that doing so I am not able to sketch any more. Indeed, the FabricView itself defines a Touch handler, but it seems that my attempt - using RxAndroid2 - clears the predefined handler, instead of chaining to it. </p>\n\n<p>What I would like is to be able to use my handler, without clearing the existing one.</p>\n\n<p>This is a portion of my main activity (sketchview is an instance of FabricView)</p>\n\n<pre><code>sketchView.backgroundMode = FabricView.BACKGROUND_STYLE_NOTEBOOK_PAPER\n    RxView.touches(sketchView, {_ -&gt; true}).subscribe { // setting to false let me sketch, but I don't get any toast\n        event -&gt; when(event.action){\n            MotionEvent.ACTION_DOWN -&gt; {\n                toast(\"Starting\")\n            }\n            MotionEvent.ACTION_UP -&gt; {\n                toast(\"Stopping\")\n            }\n            else -&gt; {}\n        }\n    }\n</code></pre>\n\n<p>This is an extract from my app.gradle :</p>\n\n<pre><code>compile 'com.github.antwankakki:FabricView:latest'\ncompile 'com.rmtheis:tess-two:7.0.0'\ncompile \"io.reactivex.rxjava2:rxjava:2.1.0\"\ncompile 'io.reactivex.rxjava2:rxandroid:2.0.1'\ncompile 'com.jakewharton.rxbinding2:rxbinding:2.0.0'\ncompile \"org.jetbrains.anko:anko-commons:$anko_version\"\n</code></pre>\n\n<p>And in order to use FabricView, we must include JitPack in the allProjects part of the root gradle build.</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.google.com' }\n        mavenCentral()\n        maven { url \"https://jitpack.io\" }\n    }\n}\n</code></pre>\n\n<p>This is <a href=\"https://github.com/antwankakki/FabricView/blob/master/src/main/java/com/agsw/FabricView/FabricView.java\" rel=\"nofollow noreferrer\">the page of the FabricView source code</a>.</p>\n"}, {"tags": ["javascript", "postgresql", "kotlin"], "comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1499619708, "post_id": 44998707, "comment_id": 76971638, "body": "Not sure why this is tagged as node.js or express, given the example is in Kotlin."}, {"owner": {"reputation": 148, "user_id": 6383207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17e11c1245c44ba400410299c31f0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/6383207/sebastian"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1499695871, "post_id": 44998707, "comment_id": 77002334, "body": "You&#39;re right, I should rather tag it Javascript instead of node and express since the problem with the asynchronous function lays in the ways of javascript."}, {"owner": {"reputation": 2826, "user_id": 1900169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wqxtO.jpg?s=128&g=1", "display_name": "Frank Wilson", "link": "https://stackoverflow.com/users/1900169/frank-wilson"}, "edited": false, "score": 0, "creation_date": 1499704546, "post_id": 44998707, "comment_id": 77008519, "body": "node.js might actually be the right tag if you are compiling kotlin to javascript and then running the compiled code in node,js . It would be even better if the question spelled this out."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1499728109, "post_id": 44998707, "comment_id": 77020242, "body": "Shocked me at first to hear for the first time about Kotlin, but then I looked at the NPM statistics - <a href=\"https://www.npmjs.com/package/kotlin\" rel=\"nofollow noreferrer\">npmjs.com/package/kotlin</a>, and no surprise there, nobody is really using it."}, {"owner": {"reputation": 2826, "user_id": 1900169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wqxtO.jpg?s=128&g=1", "display_name": "Frank Wilson", "link": "https://stackoverflow.com/users/1900169/frank-wilson"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1499788898, "post_id": 44998707, "comment_id": 77053051, "body": "@vitaly-t it&#39;s still &#39;experimental&#39; at least according to the intelli-j UI. And some useful features such as coroutines (which might apply to this question) are still being ironed out."}], "answers": [{"tags": [], "owner": {"reputation": 2826, "user_id": 1900169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wqxtO.jpg?s=128&g=1", "display_name": "Frank Wilson", "link": "https://stackoverflow.com/users/1900169/frank-wilson"}, "is_accepted": true, "score": 2, "last_activity_date": 1500142880, "last_edit_date": 1500142880, "creation_date": 1499714164, "answer_id": 45019992, "question_id": 44998707, "link": "https://stackoverflow.com/questions/44998707/return-postgresql-query-result-in-a-function/45019992#45019992", "title": "Return postgresql query result in a function", "body": "<p>Assuming you are using nodejs and the <a href=\"https://node-postgres.com/\" rel=\"nofollow noreferrer\">pg</a> module.</p>\n\n<p>As you said since query function is async you cannot return the result to the caller directly. Traditionally in nodejs the caller passes a callback function to handle the result or the error if there is one.</p>\n\n<p>In Kotlin this would look like:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>    client.query(MY_QUERY_TEMPLATE, params) { err, result -&gt;\n        if (err != null) {\n            // do something with the error\n        } else {\n            // do something with the result\n        }\n    }\n</code></pre>\n\n<p>To make this a bit neater you could put your result handler in its own function</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun handleResult(err: dynamic, result: dynamic) {\n    // put your code here\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>client.query(MY_QUERY_TEMPLATE, params, ::handleResult)\n</code></pre>\n\n<p>If you don't like this you have another option. The <code>pg</code> library can return <code>Promise</code>. This abstraction allows you to use method chaining like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>app.get(\"/promiseStyle\") { req, res -&gt;\n    val params = arrayOf(42) // or something...\n\n    fun handleSuccess(result: dynamic) {\n        for (row in result.rows) {\n            res.write(row.someField)\n        }\n        res.end()\n    }\n\n    fun handleError(error: dynamic) {\n        res.status(500).send(\"Something went wrong\");\n    }\n\n    client.query(MY_QUERY_TEMPLATE, params)\n        .then(::handleSuccess)\n        .catch(::handleError)\n}\n</code></pre>\n\n<p>You may find the following declaration useful for accessing the various pg client functionality:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsModule(\"pg\")\nexternal object pg {\n    class Client {\n        fun query(query: String, params: Array&lt;Any&gt;): dynamic\n\n        fun query(\n            query: String, params: Array&lt;Any&gt;, cb: (dynamic, dynamic) -&gt; Unit\n        )\n\n        fun connect()\n    }\n}\n</code></pre>\n\n<p>The postgres client can then be initialized as follows:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val client = pg.Client()\nclient.connect()\n</code></pre>\n"}], "owner": {"reputation": 148, "user_id": 6383207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17e11c1245c44ba400410299c31f0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/6383207/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 853, "favorite_count": 0, "accepted_answer_id": 45019992, "answer_count": 1, "score": 1, "last_activity_date": 1500142880, "creation_date": 1499618433, "last_edit_date": 1499695889, "question_id": 44998707, "link": "https://stackoverflow.com/questions/44998707/return-postgresql-query-result-in-a-function", "title": "Return postgresql query result in a function", "body": "<p>I'm right now working on a web API with expressjs, kotlin and PostgreSQL. I organized my project in an object oriented way. I also created a class for the database that makes all frequently called queries available as a function. Example: </p>\n\n<pre><code>fun addUser(firstName: String, lastName: String, password: String, classId: Int){\nclient.query(\"INSERT INTO users(first_name, last_name, password, class_id) values($1, $2, $3, $4)\", arrayOf(firstName, lastName, password, classId));\n}\n</code></pre>\n\n<p>This doesn't work however when I'm trying to issue a SELECT query and return the dataset to the function caller since queries are asynchronous. I already tried assigning the result to an attribute of the database object and using it as soon as the value is assigned, but it seems that the value can't be assigned when I'm checking its value permanently. Does anyone know how I could return the value to the function caller?</p>\n\n<p>Thanks in advance for your answers.</p>\n"}, {"tags": ["java", "jvm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1499614555, "post_id": 44998062, "comment_id": 76970068, "body": "Thanks, man! That is pretty obvious, but I could not imagine that because an instance in code gets created by creating the class, which was not the case here."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 6, "last_activity_date": 1499614276, "creation_date": 1499614276, "answer_id": 44998062, "question_id": 44998000, "link": "https://stackoverflow.com/questions/44998000/how-do-i-cast-to-an-interface-class-from-kotlin-class-from-string/44998062#44998062", "title": "How do I cast to an Interface / Class from Kotlin Class from String?", "body": "<p>The problem you have is that <code>Class.forName(\"...\").kotlin</code> returns a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/\" rel=\"noreferrer\"><code>KClass</code></a>, which only <em>represents</em> a class, and isn't an instance of the class that you've referenced. To create an instance of that class, you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/create-instance.html\" rel=\"noreferrer\"><code>createInstance()</code></a>:</p>\n\n<pre><code>val kclass = Class.forName(\"classname\").kotlin\nval instance = kclass.createInstance() as Runner\n\nprintln(instance.run())\n</code></pre>\n\n<p>Note that for <code>createInstance</code> to work, the class needs a constructor that can be called with no arguments (so one that has no parameters, or one that has default values for all of its parameters).</p>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3157, "favorite_count": 0, "accepted_answer_id": 44998062, "answer_count": 1, "score": 3, "last_activity_date": 1499614276, "creation_date": 1499613918, "question_id": 44998000, "link": "https://stackoverflow.com/questions/44998000/how-do-i-cast-to-an-interface-class-from-kotlin-class-from-string", "title": "How do I cast to an Interface / Class from Kotlin Class from String?", "body": "<p>I get a class with <code>Class.forName(\"classname\").kotlin</code>.</p>\n\n<p>I know that the class implements an <code>Interface</code>, which is extremly simple (if you have a solution that is different from what I think, it would work great too)</p>\n\n<pre><code>interface Runner {\n    fun run(): String\n}\n</code></pre>\n\n<p>When I try to cast my class, to use the function, like this</p>\n\n<pre><code>val result = (Class.forName(\"classname\").kotlin as Runner).run()\n</code></pre>\n\n<p>I get the following error: </p>\n\n<pre><code>kotlin.reflect.jvm.internal.KClassImpl cannot be cast to Runner\n</code></pre>\n\n<p>Is there even a way to make this work? I also tried it with <code>Class.forName(\"classname\").kotlin.functions</code> and then tried to execute the function from there, but I did not have success with that.</p>\n\n<p>If you know the <em>Java solution</em> to this problem (calling a function from the class name) it may be nice to hear that too.</p>\n"}, {"tags": ["android", "rx-java", "kotlin", "rx-java2", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5042, "user_id": 4173071, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/a1E2G.jpg?s=128&g=1", "display_name": "priyankvex", "link": "https://stackoverflow.com/users/4173071/priyankvex"}, "is_accepted": true, "score": 1, "last_activity_date": 1499609495, "creation_date": 1499609495, "answer_id": 44997285, "question_id": 44997284, "link": "https://stackoverflow.com/questions/44997284/how-to-specify-the-version-of-rxjava-when-using-rxkotlin/44997285#44997285", "title": "How to specify the version of RxJava when using RxKotlin?", "body": "<p>You can override the version of RxJava in your projects <code>build.gradle</code>.</p>\n\n<p>The specified version of RxJava will be chosen (and override RxKotlin's) if you just explicitly specify it like this in Gradle/Maven:</p>\n\n<pre><code>dependencies {\n    compile 'io.reactivex.rxjava2:rxjava:2.1.1'\n    compile 'io.reactivex.rxjava2:rxkotlin:2.1.0'\n}\n</code></pre>\n\n<p>This is also stated in the RxAndroid readme file.\nI had a little chat with one of the contributors of the RxKotlin and he said that just like RxAndroid, they also internally use the same policy.</p>\n"}, {"comments": [{"owner": {"reputation": 5042, "user_id": 4173071, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/a1E2G.jpg?s=128&g=1", "display_name": "priyankvex", "link": "https://stackoverflow.com/users/4173071/priyankvex"}, "edited": false, "score": 0, "creation_date": 1499664455, "post_id": 45004280, "comment_id": 76982363, "body": "I think it is better to use the frozen version numbers of libraries. :)"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 5042, "user_id": 4173071, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/a1E2G.jpg?s=128&g=1", "display_name": "priyankvex", "link": "https://stackoverflow.com/users/4173071/priyankvex"}, "edited": false, "score": 0, "creation_date": 1499664611, "post_id": 45004280, "comment_id": 76982415, "body": "Yes, i agree. Just mentioned to give you all possibilities."}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 0, "last_activity_date": 1499664186, "creation_date": 1499664186, "answer_id": 45004280, "question_id": 44997284, "link": "https://stackoverflow.com/questions/44997284/how-to-specify-the-version-of-rxjava-when-using-rxkotlin/45004280#45004280", "title": "How to specify the version of RxJava when using RxKotlin?", "body": "<p>If you define the <code>rxjava</code> version in your <code>build.gradle</code>, gradle will take the latest one defined (yours or the one of the library, depending which is the latest version).</p>\n\n<p>So you can</p>\n\n<pre><code>dependencies {\n    compile 'io.reactivex.rxjava2:rxjava:2.1.1'\n}\n</code></pre>\n\n<p>or if you always want to have the most recent version</p>\n\n<pre><code>dependencies {\n    compile 'io.reactivex.rxjava2:rxjava:+'\n}\n</code></pre>\n\n<p>But be aware of problems in the <code>rxkotlin</code> library if the version are not longer compatible (e.g. you stay on <code>rxkotlin:2.x</code> and <code>rxjava 3.x</code>. So it is a good way to update <code>rxkotlin</code> as well if possible.</p>\n"}], "owner": {"reputation": 5042, "user_id": 4173071, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/a1E2G.jpg?s=128&g=1", "display_name": "priyankvex", "link": "https://stackoverflow.com/users/4173071/priyankvex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "accepted_answer_id": 44997285, "answer_count": 2, "score": 0, "last_activity_date": 1499664186, "creation_date": 1499609495, "question_id": 44997284, "link": "https://stackoverflow.com/questions/44997284/how-to-specify-the-version-of-rxjava-when-using-rxkotlin", "title": "How to specify the version of RxJava when using RxKotlin?", "body": "<p>Docs in the RxKotlin repository on GitHub doesn't specify a way to explicitly depend on the latest RxJava versionn.</p>\n\n<p>If we see the <code>build.gradle</code> file of the library, it as of now uses <code>compile 'io.reactivex.rxjava2:rxjava:2.1.0'</code></p>\n\n<p>But what if we want to keep up with the latest RxJava releases and not the one present in the library.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1499609146, "post_id": 44997227, "comment_id": 76968421, "body": "I&#39;m not sure what you&#39;re trying to achieve here. Are you trying to wait 3 seconds before returning the <code>DataModel</code> from the <code>loadData</code> method? Do you want to block the current thread while doing so? How do you plan to actually call this function?"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1499609503, "post_id": 44997227, "comment_id": 76968517, "body": "Ya, trying to wait 3 second, then return the DataModel from the loadData. It&#39;s okay to block the running thread."}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499609757, "post_id": 44997294, "comment_id": 76968584, "body": "That solve my problem, thanks! Just realize that Runnable is not possible to return something. Would be curious if there&#39;s a way to make it do so?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1499610439, "post_id": 44997294, "comment_id": 76968802, "body": "I&#39;ve added some examples for using <code>Handler</code> and <code>Runnable</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1499610437, "last_edit_date": 1499610437, "creation_date": 1499609566, "answer_id": 44997294, "question_id": 44997227, "link": "https://stackoverflow.com/questions/44997227/handlerpostdelay-is-unreachable-for-this-kotlin-code-how-to-fix-it/44997294#44997294", "title": "Handler()postDelay is unreachable for this Kotlin code, how to fix it?", "body": "<p>If you just want to block the current thread, you can use <code>Thread.sleep</code>:</p>\n\n<pre><code>private fun loadData(): DataModel? {\n    Thread.sleep(3000);\n    return when (fetchStyle) {\n        FetchStyle.FETCH_SUCCESS -&gt; DataModel(\"Data Loaded\")\n        FetchStyle.FETCH_EMPTY -&gt; DataModel(\"\")\n        FetchStyle.FETCH_ERROR -&gt; throw IllegalStateException(\"Error Fetching\")\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>An example for using <code>Handler</code> and <code>Runnable</code> instead, with a separate callback function:</p>\n\n<pre><code>private fun loadData(): DataModel? {\n    Handler(Looper.getMainLooper()).postDelayed({\n        val result = when (fetchStyle) {\n            FetchStyle.FETCH_SUCCESS -&gt; DataModel(\"Data Loaded\")\n            FetchStyle.FETCH_EMPTY -&gt; DataModel(\"\")\n            FetchStyle.FETCH_ERROR -&gt; throw IllegalStateException(\"Error Fetching\")\n        }\n        loadDataCallback(result)\n    }, 3000)\n}\n\nfun useLoadData() {\n    loadData()\n}\n\nprivate fun loadDataCallback(dataModel: DataModel?) {\n    // use result here\n}\n</code></pre>\n\n<p>A more Kotlin-like approach, passing a function as the callback:</p>\n\n<pre><code>private fun loadData(callback: (DataModel?) -&gt; Unit): DataModel? {\n    Handler(Looper.getMainLooper()).postDelayed({\n        val result = when (fetchStyle) {\n            FetchStyle.FETCH_SUCCESS -&gt; DataModel(\"Data Loaded\")\n            FetchStyle.FETCH_EMPTY -&gt; DataModel(\"\")\n            FetchStyle.FETCH_ERROR -&gt; throw IllegalStateException(\"Error Fetching\")\n        }\n        callback(result)\n    }, 3000)\n}\n\nfun useLoadData() {\n    loadData { dataModel -&gt;\n        // use result here\n    }\n}\n</code></pre>\n\n<p>Note that these examples don't block any threads, and the <code>Handler(Looper.getMainLooper())</code> part of your original example code (that I kept for these examples) will place the execution of the <code>when</code> statement as well as the callbacks after that back on the main thread.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 44997294, "answer_count": 1, "score": 1, "last_activity_date": 1499610437, "creation_date": 1499609042, "last_edit_date": 1499609305, "question_id": 44997227, "link": "https://stackoverflow.com/questions/44997227/handlerpostdelay-is-unreachable-for-this-kotlin-code-how-to-fix-it", "title": "Handler()postDelay is unreachable for this Kotlin code, how to fix it?", "body": "<p>I have a function, where I just explicitly want to delay the return value</p>\n\n<pre><code>private fun loadData(): DataModel? {\n    Handler(Looper.getMainLooper()).postDelayed(\n    when (fetchStyle) {\n        FetchStyle.FETCH_SUCCESS -&gt; return DataModel(\"Data Loaded\")\n        FetchStyle.FETCH_EMPTY -&gt; return DataModel(\"\")\n        FetchStyle.FETCH_ERROR -&gt; throw IllegalStateException(\"Error Fetching\")\n    }, 3000)\n}\n</code></pre>\n\n<p>However there's a warning state that <code>postDelayed</code> is unreachable, hence the 3s delay is not triggered.</p>\n\n<p>To make it reachable, I have to add the extra parenthesis around</p>\n\n<pre><code>private fun loadData(): DataModel? {\n    Handler(Looper.getMainLooper()).postDelayed({\n    when (fetchStyle) {\n        FetchStyle.FETCH_SUCCESS -&gt; DataModel(\"Data Loaded\")\n        FetchStyle.FETCH_EMPTY -&gt; DataModel(\"\")\n        FetchStyle.FETCH_ERROR -&gt; throw IllegalStateException(\"Error Fetching\")\n    }}, 3000)\n}\n</code></pre>\n\n<p>But then, I can't return the DataModel value anymore. How could I fix this to have the delay of 3s, while I could still return the respective DataModel or throw the exception?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "is_accepted": false, "score": 0, "last_activity_date": 1499591521, "creation_date": 1499591521, "answer_id": 44994796, "question_id": 44994691, "link": "https://stackoverflow.com/questions/44994691/endless-recyclerview-data-loading-logic-is-not-consistent-on-all-devices/44994796#44994796", "title": "Endless RecyclerView data loading logic is not consistent on all devices", "body": "<p>I have written a <a href=\"https://github.com/Ufkoku/AndroidMVPHelper/blob/master/mvp_list/src/main/kotlin/com/ufkoku/mvp/list/util/RecyclerViewOnScrollUpdater.kt\" rel=\"nofollow noreferrer\">class</a>, that works with all types of LayoutManagers. It was tested on emulators and real devices.</p>\n\n<p>It has blockers for preventing double loading of next page. When <code>Listener.onListEndReached()</code> returns true, it won't be called again, untill <code>RecyclerViewOnScrollUpdater.loading</code> will be set to false.</p>\n\n<p>Also you can set <code>visibleThreshold</code> and enable/disable page loading via setting <code>enabled</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1499592780, "creation_date": 1499592780, "answer_id": 44994952, "question_id": 44994691, "link": "https://stackoverflow.com/questions/44994691/endless-recyclerview-data-loading-logic-is-not-consistent-on-all-devices/44994952#44994952", "title": "Endless RecyclerView data loading logic is not consistent on all devices", "body": "<p>What i use to scroll more is : </p>\n\n<pre><code>        mRecyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n           if (!recyclerView.canScrollVertically(1)){\n             //Load more data here. It will only trigger when you reach the end of your list and cannot scroll further\n           }\n        }\n    });\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 457, "user_id": 8182960, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f2d11d0f72f8c9057b4462a6186e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8182960/rahul"}, "is_accepted": true, "score": 1, "last_activity_date": 1499656475, "creation_date": 1499656475, "answer_id": 45003297, "question_id": 44994691, "link": "https://stackoverflow.com/questions/44994691/endless-recyclerview-data-loading-logic-is-not-consistent-on-all-devices/45003297#45003297", "title": "Endless RecyclerView data loading logic is not consistent on all devices", "body": "<p>I had the same problem. Try this</p>\n\n<pre><code>if (limit &lt; returnedRowCount_fromDatabase) {\n    if((dy &gt; 0) &amp;&amp; (linearLayoutManager.findLastCompletelyVisibleItemPosition() == rowList.size() - 1)){\n        limit += 25;\n        load_Data();\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8278472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a17f90d7ac674e1bd9daf2a7fdb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Rachika", "link": "https://stackoverflow.com/users/8278472/rachika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 45003297, "answer_count": 3, "score": 1, "last_activity_date": 1499656475, "creation_date": 1499590757, "question_id": 44994691, "link": "https://stackoverflow.com/questions/44994691/endless-recyclerview-data-loading-logic-is-not-consistent-on-all-devices", "title": "Endless RecyclerView data loading logic is not consistent on all devices", "body": "<p>I'm loading data from SQLite database in RecyclerView in batch of 25 records per load cycle. I figure out every thing but having problem with logic of calling data loading method in RecyclerView scroll listener.<br>\nProblem is list is loading nicely on scroll of recyclerView in emulator but when i tested in physical device, on Lenovo Phab 2 it worked fine but in Mi note 3, list doesn't load consistenly (sometime it loads, sometime not) more records on reaching bottom of scroll. </p>\n\n<p>Below is the code I'm using in RecyclerView scrolle listener  </p>\n\n<pre><code>private val RecyclerView_ScrollListener = object : RecyclerView.OnScrollListener(){\n    override fun onScrolled(recyclerView1: RecyclerView?, dx: Int, dy: Int) {\n        super.onScrolled(recyclerView1, dx, dy)\n\n        if (dy &gt; 0) {\n            if (limit &lt; rowCount_fromDatabase) {\n                visibleItemCount = layoutManager_MemberList.childCount\n                totalItemCount = layoutManager_MemberList.itemCount\n                firstVisibleItemPosition = layoutManager_MemberList.findFirstVisibleItemPosition()\n\n                if (visibleItemCount + firstVisibleItemPosition &gt;= totalItemCount) {\n                    limit += 25\n                    load_Data()\n                }\n            }\n        }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1499585490, "post_id": 44994074, "comment_id": 76962435, "body": "What does your {dialog, which -&gt; ...} map to? I mean the one for &quot;Cancel&quot;"}, {"owner": {"reputation": 39, "user_id": 6203405, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/S5J12.png?s=128&g=1", "display_name": "rotten_flesh", "link": "https://stackoverflow.com/users/6203405/rotten-flesh"}, "reply_to_user": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1499585580, "post_id": 44994074, "comment_id": 76962457, "body": "Nothing, it quits the dialog alert"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1499586511, "last_edit_date": 1499586511, "creation_date": 1499585769, "answer_id": 44994131, "question_id": 44994074, "link": "https://stackoverflow.com/questions/44994074/android-kotlin-error-return-type-is-unit-which-is-not-a-subtype-of-overridd/44994131#44994131", "title": "Android Kotlin error : &quot;return type is &#39;unit&#39; which is not a subtype of overridden&quot;", "body": "<p>The signatures of <a href=\"https://developer.android.com/reference/android/widget/AdapterView.OnItemClickListener.html#onItemClick(android.widget.AdapterView%3C?%3E%2C%20android.view.View%2C%20int%2C%20long)\" rel=\"nofollow noreferrer\"><code>onItemClick</code></a> and <a href=\"https://developer.android.com/reference/android/widget/AdapterView.OnItemLongClickListener.html#onItemLongClick(android.widget.AdapterView%3C?%3E%2C%20android.view.View%2C%20int%2C%20long)\" rel=\"nofollow noreferrer\"><code>onItemLongClick</code></a> differ (which, granted, is an odd inconsistency in the API):</p>\n\n<pre><code>void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id)\n\nboolean onItemLongClick(AdapterView&lt;?&gt; parent, View view, int position, long id)\n</code></pre>\n\n<p>The latter returns a <code>boolean</code> value indicating whether the event has been consumed by the listener. If this is <code>true</code>, other listeners won't get called for this event.</p>\n\n<p>So what you want to do is something like this:</p>\n\n<pre><code>override fun onItemLongClick(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long): Boolean {\n    // alert dialog code\n    return true\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6203405, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/S5J12.png?s=128&g=1", "display_name": "rotten_flesh", "link": "https://stackoverflow.com/users/6203405/rotten-flesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3339, "favorite_count": 0, "accepted_answer_id": 44994131, "answer_count": 1, "score": 0, "last_activity_date": 1499842420, "creation_date": 1499585321, "last_edit_date": 1499842420, "question_id": 44994074, "link": "https://stackoverflow.com/questions/44994074/android-kotlin-error-return-type-is-unit-which-is-not-a-subtype-of-overridd", "title": "Android Kotlin error : &quot;return type is &#39;unit&#39; which is not a subtype of overridden&quot;", "body": "<p>I'm trying to pop out an alert box which asks the user if he wants to delete a value from an ArrayList which is displayed in a ListView whenever he attemps to make a long click on one of them</p>\n\n<pre><code>mainListView.setLongClickable(true)\nmainListView.setOnItemLongClickListener(object: AdapterView.OnItemLongClickListener {\n        override fun onItemLongClick(parent: AdapterView&lt;*&gt;, view: View, position:Int, id:Long) {\n           val alertDialog = AlertDialog.Builder(this@listV)\n           alertDialog.setTitle(\"Would you like to delete this ?\")\n           alertDialog.setPositiveButton(\"Yes\") { dialog, whichButton -&gt; mobileArray.removeAt(position);listAdapter.notifyDataSetChanged() }\n           alertDialog.setNegativeButton(\"Cancel\", { dialog, which -&gt;  })\n           alertDialog.create()\n           alertDialog.show()}})\n</code></pre>\n\n<p>but there's an error on the OnItemLongClick function which is </p>\n\n<blockquote>\n  <p>return type is 'unit' which is not a subtype of overridden<br>\n  public abstract fun onItemLongClick(...): Boolean defined in android.widget.adapterView.OnItemLongClickListener</p>\n</blockquote>\n\n<p>I'm very confused since I used pretty much the same code for a simple \"onItemClick\" and it worked fine</p>\n"}, {"tags": ["android", "encryption", "cryptography", "kotlin"], "comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 1, "creation_date": 1499602760, "post_id": 44993005, "comment_id": 76966583, "body": "Using <code>input.available()</code> is a bad idea, because it might not reach the end of the stream at which point you would produce incomplete plaintexts. Just keep the contents of the <code>else</code>-block and remove the <code>if else</code>"}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1499611867, "post_id": 44993005, "comment_id": 76969269, "body": "Updated my implementation"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1499655887, "post_id": 44993005, "comment_id": 76980427, "body": "You did not show your encryption code. AES decryption is usually a tad bit slower than encryption. Its also not clear what &quot;much slower&quot; means. <i>&quot;... decrypting <code>cipherInputStream.read(buffer)</code> reads only 512 bytes ... instead of the full buffer size ... Why is that?&quot;</i> - Devices are resources constrained, and its not uncommon to &quot;chunk&quot; or &quot;block&quot; data to the size of a disk sector. Using a disk sector allows efficient processing of both memory and file streams. 8192-bytes is not bad, but avoid large allocations. It avoids memory pressures and OS messages like <code>onLowMemory()</code>."}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1499719445, "post_id": 44993005, "comment_id": 77016821, "body": "@jww I added encryption code too. I tried to debug the encryption and decryption process and found that while encrypting, <code>read</code> is 8192 that is full buffer size but while decrypting, <code>read</code> is 512 only in-spite of  the actual buffer size which is 8192. Why such difference?"}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 8065223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68cc6ce4878065209d340cdb51b151e4?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin Adamczewski", "link": "https://stackoverflow.com/users/8065223/marcin-adamczewski"}, "is_accepted": false, "score": 3, "last_activity_date": 1524325056, "creation_date": 1524325056, "answer_id": 49957428, "question_id": 44993005, "link": "https://stackoverflow.com/questions/44993005/decryption-much-slower-compared-to-encryption-on-android/49957428#49957428", "title": "Decryption much slower compared to encryption on Android", "body": "<p>Recently I had a similar issue.</p>\n\n<p>The problem was internal buffer of CipherInputStream class which is defined as follows</p>\n\n<pre><code>private byte[] ibuffer = new byte[512];\n</code></pre>\n\n<p>What significantly improved decryption speed was increasing this buffer size to 8192. So I've just copy pasted original CipherInputStream class to my own class and modified buffer size.</p>\n\n<p>What is funny is the comment above this ibuffer field.</p>\n\n<blockquote>\n  <p>the size 512 bytes is somewhat randomly chosen */</p>\n</blockquote>\n\n<p>Hope it helped</p>\n"}], "owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1524325056, "creation_date": 1499574742, "last_edit_date": 1499719236, "question_id": 44993005, "link": "https://stackoverflow.com/questions/44993005/decryption-much-slower-compared-to-encryption-on-android", "title": "Decryption much slower compared to encryption on Android", "body": "<p>I have an implementation of 'AES' encryption and decryption with 'CBC' mode and 'PKCS5Padding' padding in Kotlin. I noticed that while decrypting <code>cipherInputStream.read(buffer)</code> reads only 512 bytes at a time instead of the full buffer size which is 8192 bytes. Why is that? While encrypting it uses whole buffer.</p>\n\n<p><strong>These are the constants that I am using,</strong></p>\n\n<pre><code>private val TRANSFORMATION = \"AES/CBC/PKCS5Padding\"\nprivate var SECRET_KEY_FAC_ALGORITHM = \"PBKDF2WithHmacSHA1\"\nprivate val SECRET_KEY_SPEC_ALGORITHM = \"AES\"\n\nprivate val cipher = Cipher.getInstance(TRANSFORMATION)\nprivate val random = SecureRandom()\n\nprivate val KEY_BITS_LENGTH = 256\nprivate val IV_BYTES_LENGTH = cipher.blockSize\nprivate val SALT_BYTES_LENGTH = KEY_BITS_LENGTH / 8\nprivate val ITERATIONS = 10000\n</code></pre>\n\n<p><strong>Decryption code</strong></p>\n\n<pre><code>cis = CipherInputStream(input, cipher)\nval buffer = ByteArray(8192)\n\nvar read = cis.read(buffer)\nwhile (read &gt; -1) {\n    fos.write(buffer, 0, read)\n    read = cis.read(buffer)\n}\n</code></pre>\n\n<p><strong>Encryption code</strong></p>\n\n<pre><code>fos.write(iv)\nfos.write(salt)\n\ncos = CipherOutputStream(fos, cipher)\nval buffer = ByteArray(8192)\n\nvar read = input.read(buffer)\nwhile (read &gt; -1) {\n    cos.write(buffer, 0, read)\n    read = input.read(buffer)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "type-mismatch"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 15, "last_activity_date": 1499556367, "creation_date": 1499556367, "answer_id": 44991638, "question_id": 44991554, "link": "https://stackoverflow.com/questions/44991554/how-to-avoiding-types-with-same-name-conflict-in-kotlin/44991638#44991638", "title": "How to avoiding types with same name conflict in Kotlin?", "body": "<p>you should remove the <code>import statement</code> from the first page, which is use the <code>domain.Forecast</code> in the second page rather your own <code>Forecast</code>.</p>\n\n<pre><code>import com.example.zacharymcdaniel.weatherkot.domain.Forecast\n// ^--- remove it from your source code\n</code></pre>\n\n<p><strong>OR</strong> using <code>typealias</code> to rename it, for example:</p>\n\n<pre><code>typealias DomainForecast = com.example.zacharymcdaniel.weatherkot.domain.Forecast\n</code></pre>\n\n<p><strong>OR</strong> using <code>alias import statement</code> to rename it, for example:</p>\n\n<pre><code>import com.example.zacharymcdaniel.weatherkot.domain.Forecast as DomainForecast \n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2017, "favorite_count": 2, "accepted_answer_id": 44991638, "answer_count": 1, "score": 5, "last_activity_date": 1500325687, "creation_date": 1499555380, "last_edit_date": 1500325687, "question_id": 44991554, "link": "https://stackoverflow.com/questions/44991554/how-to-avoiding-types-with-same-name-conflict-in-kotlin", "title": "How to avoiding types with same name conflict in Kotlin?", "body": "<p>i am very new to kotlin, and i am having some trouble with an application i am building from a book. i have two classes in separate packages named Forecast and i am trying to define some functions in one that package that uses the class of same name inside it. the book said to import the Forecast class as ModelForecast and i did but now i am having a problem tracking down the source of this type mismatch error. it seems my convertForecastListToDomain() method is expecting something the other? please help me find the mistake that i am making. i would not be surprised if it is something very simple, but i still can not find it.</p>\n\n<p>MainActivity.kt:</p>\n\n<pre><code>package com.example.zacharymcdaniel.weatherkot\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.v7.widget.LinearLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport com.example.zacharymcdaniel.weatherkot.domain.Forecast\nimport org.jetbrains.anko.find\n\nclass MainActivity : AppCompatActivity() {\nprivate val url: String = \"http://openweathermap.org/\"\n\nprivate val items = listOf(\n        \"Mon 6/23 - Sunny - 31/17\",\n        \"Tue 6/24 - Foggy - 21/8\",\n        \"Wed 6/25 - Cloudy - 22/17\",\n        \"Thur 6/26 - Rainy - 18/11\",\n        \"Fri 6/27 - Foggy - 21/10\",\n        \"Sat 6/28 - TRAPPED IN WEATHER STATION - 23/18\",\n        \"Sun 6/29 - Sunny - 20/7\"\n)\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val forecastList: RecyclerView = find(R.id.forecast_list)\n    forecastList.layoutManager = LinearLayoutManager(this)\n    forecastList.adapter = ForecastListAdapter(items)\n\n}\n\n}\n\ndata class ForecastResult(val city: City, val list: List&lt;Forecast&gt;)\n\ndata class City(val id: Long, val name: String, val coord: Coordinates, val country: String, val population: Int)\n\ndata class Coordinates(val ion: Float, val lat: Float)\n\ndata class Forecast(val dt: Long, val temp: Tempurature, val pressure: Float,\n                val humidity: Int, val weather: List&lt;Weather&gt;,\n                val speed: Float, val deg: Int, val clouds: Int,\n                val rain: Float) //&lt;----this is supposed to be Forecast in second page\n\ndata class Tempurature(val day: Float, val min: Float, val max: Float,\n                   val night: Float, val eve: Float, val morn: Float)\n\ndata class Weather(val id: Long, val main: String, val desciption: String, val icon: String)\n</code></pre>\n\n<p>domain.kt in the domain package:</p>\n\n<pre><code>package com.example.zacharymcdaniel.weatherkot.domain\n\nimport com.example.zacharymcdaniel.weatherkot.Forecast\nimport com.example.zacharymcdaniel.weatherkot.ForecastResult\nimport java.text.DateFormat\nimport java.util.*\nimport com.example.zacharymcdaniel.weatherkot.domain.Forecast as \nModelForecast\n\npublic interface Command&lt;T&gt;{\nfun execute(): T\n}\n\ndata class ForecastList(val city: String, val country: String, val dailyForecast: List&lt;ModelForecast&gt;)\n\ndata class Forecast(val date: String, val description: String, val high: Int, val low: Int)\n\npublic class ForecastdataMapper{\n\nprivate fun convertFromDataModel(forecast: ForecastResult): ForecastList {\n    return ForecastList(forecast.city.name, forecast.city.country, convertForecastListToDomain(forecast.list)) //&lt;---wrong type found here (forecast.list is indicated)\n}\n\nprivate fun convertForecastListToDomain(list: List&lt;Forecast&gt;): List&lt;ModelForecast&gt;{\n    return list.map { convertForecastItemToDomain(it) }\n}\n\nprivate fun convertForecastItemToDomain(forecast: Forecast): ModelForecast{\n    return ModelForecast(convertDate(forecast.dt),\n            forecast.weather[0].desciption,\n            forecast.temp.max.toInt(),\n            forecast.temp.min.toInt())\n}\n\nprivate fun convertDate(date: Long): String{\n    val df = DateFormat.getDateInstance(DateFormat.MEDIUM,\n            Locale.getDefault())\n    return df.format(date * 1000)\n}\n}\n</code></pre>\n\n<p>thanks for the help</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 0, "creation_date": 1499549230, "post_id": 44990878, "comment_id": 76956748, "body": "Not Kotlin specific, but here&#39;s the Java equivalent: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 1602, "user_id": 3105524, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b169766a0453f1ace846e5d425c940b?s=128&d=identicon&r=PG", "display_name": "Kamyar", "link": "https://stackoverflow.com/users/3105524/kamyar"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499574316, "post_id": 44990878, "comment_id": 76960557, "body": "@holi-java If you mean &#39;WHat is your problem?&#39;, the answer is Kotlin dynamic does does not support JVM target!"}, {"owner": {"reputation": 1602, "user_id": 3105524, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b169766a0453f1ace846e5d425c940b?s=128&d=identicon&r=PG", "display_name": "Kamyar", "link": "https://stackoverflow.com/users/3105524/kamyar"}, "reply_to_user": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 0, "creation_date": 1499574456, "post_id": 44990878, "comment_id": 76960581, "body": "@GregKopff No it is not what I need! I can easily write the same code using IoC! I want not to define interfaces! That is what &#39;dynamic; means!"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499664330, "post_id": 44990878, "comment_id": 76982323, "body": "@Kamyar can you update the description (maybe pseudo code) about what you want."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1504676527, "post_id": 44990878, "comment_id": 79095464, "body": "As far as I understand the C# Dynamic object, the idea is to create objects which don&#39;t have a type, and whose members and methods can set/called in a complete dynamic way, as, for example, in JavaScript. That doesn&#39;t exist in Java or Kotlin, which are type-safe languages. You can&#39;t call a method or set a property on an object without having a type for this object defining the properties and methods available for that object. If that&#39;s what you&#39;re looking for on the JVM, look at languages like groovy."}], "owner": {"reputation": 1602, "user_id": 3105524, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b169766a0453f1ace846e5d425c940b?s=128&d=identicon&r=PG", "display_name": "Kamyar", "link": "https://stackoverflow.com/users/3105524/kamyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1641, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1504675828, "creation_date": 1499549066, "last_edit_date": 1504675828, "question_id": 44990878, "link": "https://stackoverflow.com/questions/44990878/how-to-create-dynamic-transparent-proxy-in-kotlin", "title": "How to create dynamic/transparent proxy in Kotlin?", "body": "<p>In C#, we can use DynamicObject class for dynamic method invocation for example used to JsonRPC or so. In Python, using <strong>getattr</strong> and <strong>call</strong> does the same task. In general I need an object with no real methods that can be used as like containing methods. The name of the method and the arguments gets into a function and does the task. Using IoC we can do it uing Interception, but I need to know if is there another way (like dynamic in C#) without using interface and IoC.  </p>\n\n<p>For example, Zabbix API has many JSON-RPC methods like host.create trigger.get ...\nThere is a Python wrapper that helps you call them so:</p>\n\n<pre><code>from zabbix_api import ZabbixAPI\nzapi = ZabbixAPI(server=\"https://server/\")\nzapi.login(\"login\", \"password\")\nzapi.trigger.get({\"expandExpression\": \"extend\", \"triggerids\": range(0, 100)})\n</code></pre>\n\n<p>Actually there are no attributes like 'login' and 'trigger within ZabbixAPI class!</p>\n"}, {"tags": ["kotlin", "retrofit2", "dagger-2"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499664439, "post_id": 44989650, "comment_id": 76982359, "body": "Can you please add some more error details."}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1508346006, "post_id": 44989650, "comment_id": 80578272, "body": "Did you find a solution for this?"}, {"owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "edited": false, "score": 0, "creation_date": 1508356704, "post_id": 44989650, "comment_id": 80583813, "body": "I think I ended up creating a new blank project as I hadn&#39;t written much. The  project is here <a href=\"https://github.com/tpb1908/HNKotlin/tree/master/app/src/main/java/com/tpb/hnk/dagger\" rel=\"nofollow noreferrer\">github.com/tpb1908/HNKotlin/tree/master/app/src/main/java/co&zwnj;&#8203;m/&hellip;</a>"}, {"owner": {"reputation": 1929, "user_id": 6123663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c1aa29647b1895205f78349b7bdf10?s=128&d=identicon&r=PG&f=1", "display_name": "ak sacha", "link": "https://stackoverflow.com/users/6123663/ak-sacha"}, "edited": false, "score": 0, "creation_date": 1515475664, "post_id": 44989650, "comment_id": 83303177, "body": "have you got a solution for this?"}], "answers": [{"tags": [], "owner": {"reputation": 2041, "user_id": 2686502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5ceabeb502f0e33b63ea337f618649?s=128&d=identicon&r=PG&f=1", "display_name": "jayeshsolanki93", "link": "https://stackoverflow.com/users/2686502/jayeshsolanki93"}, "is_accepted": false, "score": 0, "last_activity_date": 1499771340, "creation_date": 1499771340, "answer_id": 45032861, "question_id": 44989650, "link": "https://stackoverflow.com/questions/44989650/dagger2-cannot-access-nullable-javax-annotation-nullable-not-found/45032861#45032861", "title": "Dagger2 cannot access nullable. javax.annotation.Nullable not found", "body": "<blockquote>\n  <p>IdService cannot be provided without an @Provides or @Produces\n  annotated method.   </p>\n</blockquote>\n\n<p>This is because you have not injected your dependency where <code>IdService</code> is present. So dagger doesn't know how to provide <code>IdService</code> to it.</p>\n\n<blockquote>\n  <p>The NetModule is used with NetComponent Which is injected in the\n  application and stored in the applications companion object.</p>\n</blockquote>\n\n<p>You have to inject the dependencies where you want it to be used (here your <code>Activity</code>)</p>\n\n<p>So write the injection in your Activity's <code>OnCreate</code></p>\n\n<pre><code>netComponent = DaggerNetComponent.builder()\n        .netModule(NetModule(\"some_url\"))\n        .build()\n        .inject(this)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 354, "user_id": 5653740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J1BOzJhSYV0/AAAAAAAAAAI/AAAAAAAAATM/l8m-iMzKkH8/photo.jpg?sz=128", "display_name": "Christian D", "link": "https://stackoverflow.com/users/5653740/christian-d"}, "edited": false, "score": 6, "creation_date": 1515592458, "post_id": 47228615, "comment_id": 83357737, "body": "You can also write the short version: <code>implementation &#39;com.google.code.findbugs:jsr305:3.0.2&#39;</code>"}, {"owner": {"reputation": 759, "user_id": 1399811, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e2d763aa879ea60d2b14d54ac16b38a5?s=128&d=identicon&r=PG", "display_name": "Revolutionair", "link": "https://stackoverflow.com/users/1399811/revolutionair"}, "edited": false, "score": 3, "creation_date": 1567753827, "post_id": 47228615, "comment_id": 102065263, "body": "Can anyone explain the rationale behind this solution? And why exactly the problem occurs in the first place"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1571845263, "post_id": 47228615, "comment_id": 103377500, "body": "well. this is works and fix my dagger issue, when providing a string data type in kotlin"}], "tags": [], "owner": {"reputation": 853, "user_id": 1499750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NbPUt.png?s=128&g=1", "display_name": "jc12", "link": "https://stackoverflow.com/users/1499750/jc12"}, "is_accepted": false, "score": 17, "last_activity_date": 1525960300, "last_edit_date": 1525960300, "creation_date": 1510336680, "answer_id": 47228615, "question_id": 44989650, "link": "https://stackoverflow.com/questions/44989650/dagger2-cannot-access-nullable-javax-annotation-nullable-not-found/47228615#47228615", "title": "Dagger2 cannot access nullable. javax.annotation.Nullable not found", "body": "<p>I was getting the javax.annotation.Nullable not found error, which I was able to fix by adding in the findbugs library which includes the Nullable annotation.</p>\n\n<p>If you are using gradle add the following dependency:</p>\n\n<p><code>implementation 'com.google.code.findbugs:jsr305:3.0.2'</code></p>\n"}], "owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5748, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1525960300, "creation_date": 1499539636, "question_id": 44989650, "link": "https://stackoverflow.com/questions/44989650/dagger2-cannot-access-nullable-javax-annotation-nullable-not-found", "title": "Dagger2 cannot access nullable. javax.annotation.Nullable not found", "body": "<p>I have a module to provide a Retrofit interface.</p>\n\n<pre><code>@Module\nclass NetModule(val base: String) {\n\n    @Provides\n    @Singleton\n    fun provideOkHttpClient(): OkHttpClient {\n        return OkHttpClient.Builder()\n                .addInterceptor(object: Interceptor {\n                    override fun intercept(chain: Interceptor.Chain): Response {\n                        val request = chain.request()\n                        info(\"Request for ${request.url()}\")\n                        return chain.proceed(request)\n                    }\n                }).build()\n    }\n\n    @Provides\n    @Singleton\n    fun provideGson(): Gson {\n        return GsonBuilder()\n                .enableComplexMapKeySerialization()\n                .serializeNulls()\n                .setPrettyPrinting()\n                .setLenient()\n                .create()\n    }\n\n    @Provides\n    @Singleton\n    fun provideRetrofit(OkHttpClient: OkHttpClient, Gson: Gson): Retrofit {\n        return  Retrofit.Builder()\n                .baseUrl(base)\n                .client(OkHttpClient)\n                .addConverterFactory(GsonConverterFactory.create(Gson))\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.createAsync())\n                .build()\n\n    }\n\n    @Provides\n    @Singleton\n    fun provideIdService(Retrofit: Retrofit): IdService {\n        return Retrofit.create(IdService::class.java)\n    }\n\n}\n</code></pre>\n\n<p>The <code>NetModule</code> is used with <code>NetComponent</code></p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(NetModule::class))\ninterface NetComponent {\n\n    fun inject(application: Application)\n\n    fun inject(activity: Activity)\n}\n</code></pre>\n\n<p>Which is injected in the application and stored in the applications companion object.</p>\n\n<pre><code>netComponent = DaggerNetComponent.builder().netModule(NetModule(\"some_url\")).build()\nnetComponent.inject(this)\n</code></pre>\n\n<p>In the Activity I then have</p>\n\n<pre><code>@Inject lateinit var idService: IdService\n</code></pre>\n\n<p>This gives a build error </p>\n\n<blockquote>\n  <p><code>IdService</code> cannot be provided without an @Provides or @Produces annotated method.</p>\n</blockquote>\n\n<p>If I attempt to inject the <code>Retrofit</code> instance instead, I get a different error </p>\n\n<blockquote>\n  <p>cannot access Nullable</p>\n</blockquote>\n\n<p>The stacktrace shows class file for javax.annotation.Nullable not found.</p>\n\n<p>I haven't been able to find anything referencing this error.\nThere is a StackOverflow post from 12 hours ago which seems to have the same error, but it has been removed. \n<a href=\"https://stackoverflow.com/questions/44983292/cannot-access-nullable-on-injecting-with-dagger2-in-kotlin\">https://stackoverflow.com/questions/44983292/cannot-access-nullable-on-injecting-with-dagger2-in-kotlin</a></p>\n"}, {"tags": ["hibernate", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 5645304, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cc7f6d1493b60e74dadcd629642b286?s=128&d=identicon&r=PG&f=1", "display_name": "OmerSakar", "link": "https://stackoverflow.com/users/5645304/omersakar"}, "edited": false, "score": 0, "creation_date": 1499539573, "post_id": 44989627, "comment_id": 76953957, "body": "Hmm I forgot to mention that I wanted it being database independent. I will add it. Else this would be a valid answer. Thank you."}, {"owner": {"reputation": 4492, "user_id": 2596915, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9095f6ecace152c3c05e535d13edbd69?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/2596915/xyz"}, "reply_to_user": {"reputation": 175, "user_id": 5645304, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cc7f6d1493b60e74dadcd629642b286?s=128&d=identicon&r=PG&f=1", "display_name": "OmerSakar", "link": "https://stackoverflow.com/users/5645304/omersakar"}, "edited": false, "score": 0, "creation_date": 1499539715, "post_id": 44989627, "comment_id": 76953994, "body": "hibernate doen&#39;t support create custom db constraints with ddl - auto - mode"}], "tags": [], "owner": {"reputation": 4492, "user_id": 2596915, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9095f6ecace152c3c05e535d13edbd69?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/2596915/xyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1499668543, "last_edit_date": 1499668543, "creation_date": 1499539431, "answer_id": 44989627, "question_id": 44989405, "link": "https://stackoverflow.com/questions/44989405/method-validation-hibernate/44989627#44989627", "title": "Method validation Hibernate", "body": "<p>If you need support db constraints for entity you can use <code>@Check</code> annotation.</p>\n\n<pre><code>    @Check(\"name_db_constraint\")\n    @Column(name = \"answer_time\")\n    @ColumnDefault(value = \"-1\")\n    var answerTime: Int = -1\n</code></pre>\n\n<p>If you need to have same constraint from server side use Validation framework, you can create constraint with extension</p>\n"}], "owner": {"reputation": 175, "user_id": 5645304, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cc7f6d1493b60e74dadcd629642b286?s=128&d=identicon&r=PG&f=1", "display_name": "OmerSakar", "link": "https://stackoverflow.com/users/5645304/omersakar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499668543, "creation_date": 1499537953, "last_edit_date": 1499539614, "question_id": 44989405, "link": "https://stackoverflow.com/questions/44989405/method-validation-hibernate", "title": "Method validation Hibernate", "body": "<p>I am using Spring Boot + Hibernate + Kotlin.</p>\n\n<p>What I am trying to do is the following:</p>\n\n<p>I have a Question object with a questionTime and an answerTime (see code below). I want to constraint that the answerTime is always longer than or equal to the questionTime. I want this constrainted at the database level. How can I do this? The only thing I would want is database independent.</p>\n\n<pre><code>@Entity\n@Table(name = \"question\")\nclass Question(\n        @Id @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(updatable = false, nullable = false)\n        var id: Long,\n        @Column(name = \"question_time\")\n        @ColumnDefault(value = \"-1\")\n        var questionTime: Int = -1,\n        @Column(name = \"answer_time\")\n        @ColumnDefault(value = \"-1\")\n        var answerTime: Int = -1\n\n\n) \n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499521258, "post_id": 44986763, "comment_id": 76947755, "body": "the <code>(1..10).forEach</code> expression is  consist with two expressions <code>1..10</code>  and <code>forEach</code>. it evaluate the left expression to obtain the <code>receiver</code> , and then evaulate <code>forEach</code> expression."}, {"owner": {"reputation": 433, "user_id": 1361011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1fe615e0a1add5e0c9ce6ac1279c0458?s=128&d=identicon&r=PG", "display_name": "Mauin", "link": "https://stackoverflow.com/users/1361011/mauin"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499521804, "post_id": 44986763, "comment_id": 76947901, "body": "@holi-java Yep, I am able to get the receiver but how do I then find out the full type of the receiver?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499521958, "post_id": 44986763, "comment_id": 76947960, "body": "are you mean you want to fetch the <code>receiver</code> class?"}, {"owner": {"reputation": 433, "user_id": 1361011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1fe615e0a1add5e0c9ce6ac1279c0458?s=128&d=identicon&r=PG", "display_name": "Mauin", "link": "https://stackoverflow.com/users/1361011/mauin"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499522020, "post_id": 44986763, "comment_id": 76947978, "body": "Yes, in the example above I want to find out if the <code>(1..10)</code> receiver is of type <code>IntRange</code>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499522302, "post_id": 44986763, "comment_id": 76948068, "body": "you can obtain the <code>receiver</code> type from <code>context</code> in this visitor method: <a href=\"https://github.com/JetBrains/kotlin/blob/a8f1e32dec0782eab3d52ce682572d6f7d6fd07b/compiler/frontend/src/org/jetbrains/kotlin/types/expressions/BasicExpressionTypingVisitor.java#L707\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/&hellip;</a>"}], "owner": {"reputation": 433, "user_id": 1361011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1fe615e0a1add5e0c9ce6ac1279c0458?s=128&d=identicon&r=PG", "display_name": "Mauin", "link": "https://stackoverflow.com/users/1361011/mauin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499520512, "creation_date": 1499520512, "question_id": 44986763, "link": "https://stackoverflow.com/questions/44986763/psitreevisitor-how-to-find-out-type-of-ktcallexpression-receiver", "title": "PsiTreeVisitor: How to find out type of KtCallExpression receiver?", "body": "<p>When parsing a Kotlin file with the <code>PsiTreeVisitor</code> how do I find out the fully qualified type of a KtCallExpression?</p>\n\n<p>As an example:</p>\n\n<pre><code>fun test() {\n    (1..10).forEach {\n        println(it)\n    }\n}\n</code></pre>\n\n<p>From this code I want to figure out if the <code>forEach</code> method is being called on an <code>IntRange</code> object</p>\n\n<p>By using the <code>visitCallExpression</code> function I can figure out the method receiver (<code>(1..10)</code> in this case). But so far I haven't found a way to determine the package and type of the receiver correctly.</p>\n"}, {"tags": ["java", "android", "bitmap", "kotlin", "android-glide"], "answers": [{"comments": [{"owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "reply_to_user": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "edited": false, "score": 0, "creation_date": 1499525738, "post_id": 44986739, "comment_id": 76949907, "body": "<a href=\"https://github.com/zetbaitsu/Compressor\" rel=\"nofollow noreferrer\">github.com/zetbaitsu/Compressor</a> Maybe this library helps you.Its min sdk 14."}, {"owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "reply_to_user": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "edited": false, "score": 0, "creation_date": 1499526797, "post_id": 44986739, "comment_id": 76950175, "body": "I&#39;m look at the ExifInterface now.Its support even API 5.Probably your import is wrong.My import like this : import android.media.ExifInterface"}], "tags": [], "owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "is_accepted": false, "score": 2, "last_activity_date": 1499520362, "creation_date": 1499520362, "answer_id": 44986739, "question_id": 44986327, "link": "https://stackoverflow.com/questions/44986327/how-to-save-the-correct-rotation-of-the-bitmap/44986739#44986739", "title": "how to save the correct rotation of the Bitmap", "body": "<p>You must copy the EXIF data from the original image to the final resized image.You can use ExifInterface for this.</p>\n\n<p><a href=\"https://developer.android.com/reference/android/media/ExifInterface.html#ExifInterface\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/ExifInterface.html#ExifInterface</a></p>\n\n<p>For example;</p>\n\n<pre><code>val oldExif = ExifInterface(oldImagePath)\nval exifOrientation = oldExif.getAttribute(ExifInterface.TAG_ORIENTATION)\n\nif (exifOrientation != null) {\n val newExif = ExifInterface(imagePath)\n newExif.setAttribute(ExifInterface.TAG_ORIENTATION, exifOrientation)\n newExif.saveAttributes()\n}\n</code></pre>\n"}], "owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1499520362, "creation_date": 1499517614, "question_id": 44986327, "link": "https://stackoverflow.com/questions/44986327/how-to-save-the-correct-rotation-of-the-bitmap", "title": "how to save the correct rotation of the Bitmap", "body": "<p>I've this problem: when I load the photo that I've get from camera or, gallery, with this code:</p>\n\n<pre><code>if (resultCode == Activity.RESULT_OK) {\n        if (requestCode == REQUEST_TAKE_PHOTO || requestCode == REQUEST_PICK_PHOTO)\n        //dalla fotocamera\n        {\n            if (data != null)mMediaUri = data.getData();\n\n            Glide.with(this).load(mMediaUri).bitmapTransform(new CenterCrop(context), new RoundCornerTransformation(context, 15, 2)).into(photo);\n        }\n}\n</code></pre>\n\n<p>the picture is shown in the correct way in the imageView. \nOtherwise, I need to compress the bitmap so I've made this code to do the compression:</p>\n\n<pre><code> fun compressBitmapInBackgroundtoByteArray(uri: Uri?,context: Context, callback: OnFinishedCallback) {\n\n    Observable.create&lt;ByteArray&gt; { s -&gt;\n\n\n        var imageStream: InputStream? = null\n        try {\n            imageStream = context.getContentResolver().openInputStream(uri)\n        } catch (e: FileNotFoundException) {\n            s.onError(e)\n        }\n\n        val bmp = BitmapFactory.decodeStream(imageStream)\n\n        var stream: ByteArrayOutputStream? = ByteArrayOutputStream()\n        bmp.compress(Bitmap.CompressFormat.JPEG, 0, stream)\n        bmp.recycle()\n        val compressed:ByteArray? =(stream?.toByteArray())\n\n        try {\n            stream?.close()\n\n        } catch (e: IOException) {\n            s.onError(e)\n        }\n\n        s.onNext(compressed!!)\n        s.onComplete()\n\n    }.subscribeOn(Schedulers.computation())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeBy (\n                    onNext = { compress -&gt; callback.onNext(compress) },\n                    onError =  { error-&gt; callback.onError(error.message) },\n                    onComplete = { callback.onCompleted() }\n            )\n\n\n}\n</code></pre>\n\n<p>and this loose the correct orientation. In fact, when I try to load the byteArray I've given, with this code:</p>\n\n<pre><code>  if(user.getPicUrl() != null) {\n        Glide.with(this).load(user.getPicture()).bitmapTransform(new CenterCrop(context), new RoundCornerTransformation(context, 15, 2)).into(photo);\n        PICTURE_INSERTED = true;\n    }\n</code></pre>\n\n<p>the picture has the rotation of 90 degrees. \nI've read that Glide supports Exif rotation, but in this case it doesn't work. Why? There is a way to \"store\" the correct orientation to save in the server? Thanks</p>\n"}, {"tags": ["java", "javafx", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8273827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NW8m8.png?s=128&g=1", "display_name": "Nourepide", "link": "https://stackoverflow.com/users/8273827/nourepide"}, "edited": false, "score": 0, "creation_date": 1499506445, "post_id": 44983613, "comment_id": 76944016, "body": "Many thanks, now everything works Could you also say how to make it repetitive from the beginning? //Start -1.0 //End 1.0 //..0.9, 1.0, -1.0, -0.9.."}, {"owner": {"reputation": 32425, "user_id": 1054140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uKs9u.jpg?s=128&g=1", "display_name": "Sergey Grinev", "link": "https://stackoverflow.com/users/1054140/sergey-grinev"}, "reply_to_user": {"reputation": 11, "user_id": 8273827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NW8m8.png?s=128&g=1", "display_name": "Nourepide", "link": "https://stackoverflow.com/users/8273827/nourepide"}, "edited": false, "score": 0, "creation_date": 1499507041, "post_id": 44983613, "comment_id": 76944166, "body": "@Nourepide <code>timeline.setCycleCount(Timeline.INDEFINITE);</code> you may also want <code>timeline.setAutoReverse(true);</code>"}], "tags": [], "owner": {"reputation": 32425, "user_id": 1054140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uKs9u.jpg?s=128&g=1", "display_name": "Sergey Grinev", "link": "https://stackoverflow.com/users/1054140/sergey-grinev"}, "is_accepted": false, "score": 1, "last_activity_date": 1499498486, "creation_date": 1499498486, "answer_id": 44983613, "question_id": 44982853, "link": "https://stackoverflow.com/questions/44982853/smoothly-change-a-javafx-effect/44983613#44983613", "title": "Smoothly change a JavaFX effect", "body": "<p>You are timelining wrong property. Instead of changing the effect you should change effect's property. Take a look at the next example:</p>\n\n<pre><code>    Button btn = new Button(\"Say 'Hello World'\");\n    ColorAdjust effect = new ColorAdjust(0.0, 0.0, 0.0, 0.0);\n    btn.setEffect(effect);\n    btn.setOnAction((ActionEvent event) -&gt; {\n        KeyValue keyValue = new KeyValue(effect.hueProperty(), -0.8);\n        KeyFrame keyFrame = new KeyFrame(Duration.seconds(2.0), keyValue);\n        Timeline timeline = new Timeline(keyFrame);\n        timeline.play();\n    });\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8273827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NW8m8.png?s=128&g=1", "display_name": "Nourepide", "link": "https://stackoverflow.com/users/8273827/nourepide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499505354, "creation_date": 1499491672, "last_edit_date": 1499505354, "question_id": 44982853, "link": "https://stackoverflow.com/questions/44982853/smoothly-change-a-javafx-effect", "title": "Smoothly change a JavaFX effect", "body": "<p>Is it possible to smoothly change an effect in JavaFX?\nI've tried a lot of options, but nothing works.</p>\n\n<p>For example - Java:</p>\n\n<pre><code>void effectChange(Node node) {\n    // Node Effect = ColorAdjust (0.0, 0.0, 0.0, 0.0)\n    KeyValue keyValue = new KeyValue(node.effectProperty(), new ColorAdjust(-0.8, 0.0, 0.0, 0.0));\n    KeyFrame keyFrame = new KeyFrame(Duration.seconds(2.0), keyValue);\n    Timeline timeline = new Timeline(keyFrame);\n    timeline.play();\n}\n</code></pre>\n\n<p>For example - Kotlin:</p>\n\n<pre><code>fun effectChange(node: Node) {\n    // Node Effect = ColorAdjust (0.0, 0.0, 0.0, 0.0)\n    val keyValue = KeyValue(node.effectProperty(), ColorAdjust(-0.8, 0.0, 0.0, 0.0))\n    val keyFrame = KeyFrame(Duration.seconds(2.0), keyValue)\n    val timeline = Timeline(keyFrame)\n    timeline.play()\n}\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "spring-security", "kotlin", "spring-security-oauth2"], "comments": [{"owner": {"reputation": 531, "user_id": 5825926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JPEdh.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/5825926/akash"}, "edited": false, "score": 0, "creation_date": 1499454178, "post_id": 44977972, "comment_id": 76931071, "body": "<a href=\"https://auth0.com/blog/securing-spring-boot-with-jwts/\" rel=\"nofollow noreferrer\">auth0.com/blog/securing-spring-boot-with-jwts</a>  this link help you"}], "answers": [{"tags": [], "owner": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "is_accepted": true, "score": 8, "last_activity_date": 1506534308, "last_edit_date": 1506534308, "creation_date": 1499456708, "answer_id": 44978587, "question_id": 44977972, "link": "https://stackoverflow.com/questions/44977972/how-to-enable-bearer-authentication-on-spring-boot-application/44978587#44978587", "title": "How to enable Bearer authentication on Spring Boot application?", "body": "<p>Yes! The problem was related to the fact that I had registered <em>both</em> a <code>WebSecurityConfigurerAdapter</code> <strong>and</strong> a <code>ResourceServerConfigurerAdapter</code>.</p>\n\n<p>Solution: delete the <code>WebSecurityConfigurerAdapter</code>. And use this <code>ResourceServerConfigurerAdapter</code>:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@EnableResourceServer\nclass MyResourceServerConfigurerAdapter(\n        val userDetailsService: MyUserDetailsService\n) : ResourceServerConfigurerAdapter() {\n    private val passwordEncoder = BCryptPasswordEncoder()\n\n    override fun configure(http: HttpSecurity?) {\n        http!!\n                .authenticationProvider(authenticationProvider())\n                .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .csrf().disable()\n    }\n\n    @Bean\n    fun authenticationProvider() : AuthenticationProvider {\n        val authProvider = DaoAuthenticationProvider()\n        authProvider.setUserDetailsService(userDetailsService)\n        authProvider.setPasswordEncoder(passwordEncoder)\n        return authProvider\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong>: In order to get Bearer auth to apply to <em>all</em> endpoints (for example the <code>/metrics</code> endpoint installed by Spring Actuator), I found that I had to also add <code>security.oauth2.resource.filter-order: 3</code> to my <code>application.yml</code>. See <a href=\"https://stackoverflow.com/a/36674892/5257399\">this answer</a>.</p>\n"}], "owner": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21140, "favorite_count": 3, "accepted_answer_id": 44978587, "answer_count": 1, "score": 12, "last_activity_date": 1506534308, "creation_date": 1499454082, "last_edit_date": 1499456312, "question_id": 44977972, "link": "https://stackoverflow.com/questions/44977972/how-to-enable-bearer-authentication-on-spring-boot-application", "title": "How to enable Bearer authentication on Spring Boot application?", "body": "<p>What I am trying to achieve is:</p>\n\n<ul>\n<li>users, authorities, clients and access tokens stored in a database (i.e. MySQL) accessed via jdbc</li>\n<li>API exposes endpoints for you to ask \"can I have an OAuth2 bearer token? I know the client ID and secret\"</li>\n<li>API lets you access MVC endpoints if you supply a Bearer token in your request header</li>\n</ul>\n\n<p>I got pretty far with this \u2014 the first two points are working.</p>\n\n<p>I was not able to use a completely default OAuth2 setup for my Spring Boot application, because the standard table names are already in-use in my database (I have a \"users\" table already, for example).</p>\n\n<p>I constructed my own instances of JdbcTokenStore, JdbcClientDetailsService, and JdbcAuthorizationCodeServices manually, configured them to use the custom table names from my database, and set up my application to use these instances.</p>\n\n<hr>\n\n<p>So, here's what I have so far. I can ask for a Bearer token:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code># The `-u` switch provides the client ID &amp; secret over HTTP Basic Auth \ncurl -u8fc9d384-619a-11e7-9fe6-246798c61721:9397ce6c-619a-11e7-9fe6-246798c61721 \\\n'http://localhost:8080/oauth/token' \\\n-d grant_type=password \\\n-d username=bob \\\n-d password=tom\n</code></pre>\n\n<p>I receive a response; nice!</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\"access_token\":\"1ee9b381-e71a-4e2f-8782-54ab1ce4d140\",\"token_type\":\"bearer\",\"refresh_token\":\"8db897c7-03c6-4fc3-bf13-8b0296b41776\",\"expires_in\":26321,\"scope\":\"read write\"}\n</code></pre>\n\n<p>Now I try to <em>use</em> that token:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>curl 'http://localhost:8080/test' \\\n-H \"Authorization: Bearer 1ee9b381-e71a-4e2f-8782-54ab1ce4d140\"\n</code></pre>\n\n<p>Alas:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n   \"timestamp\":1499452163373,\n   \"status\":401,\n   \"error\":\"Unauthorized\",\n   \"message\":\"Full authentication is required to access this resource\",\n   \"path\":\"/test\"\n}\n</code></pre>\n\n<p>This means (in this particular case) that it has fallen back to <em>anonymous</em> authentication. You can see the <em>real</em> error if I add <code>.anonymous().disable()</code> to my HttpSecurity:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n   \"timestamp\":1499452555312,\n   \"status\":401,\n   \"error\":\"Unauthorized\",\n   \"message\":\"An Authentication object was not found in the SecurityContext\",\n   \"path\":\"/test\"\n}\n</code></pre>\n\n<hr>\n\n<p>I investigated this more deeply by increasing the logging verbosity:</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>logging.level:\n    org.springframework:\n      security: DEBUG\n</code></pre>\n\n<p>This reveals the 10 filters through which my request travels:</p>\n\n<pre><code>o.s.security.web.FilterChainProxy        : /test at position 1 of 10 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'\no.s.security.web.FilterChainProxy        : /test at position 2 of 10 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'\nw.c.HttpSessionSecurityContextRepository : No HttpSession currently exists\nw.c.HttpSessionSecurityContextRepository : No SecurityContext was available from the HttpSession: null. A new one will be created.\no.s.security.web.FilterChainProxy        : /test at position 3 of 10 in additional filter chain; firing Filter: 'HeaderWriterFilter'\no.s.security.web.FilterChainProxy        : /test at position 4 of 10 in additional filter chain; firing Filter: 'LogoutFilter'\no.s.security.web.FilterChainProxy        : /test at position 5 of 10 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'\no.s.security.web.FilterChainProxy        : /test at position 6 of 10 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'\no.s.security.web.FilterChainProxy        : /test at position 7 of 10 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'\no.s.security.web.FilterChainProxy        : /test at position 8 of 10 in additional filter chain; firing Filter: 'SessionManagementFilter'\no.s.security.web.FilterChainProxy        : /test at position 9 of 10 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'\no.s.security.web.FilterChainProxy        : /test at position 10 of 10 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\no.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /test; Attributes: [authenticated]\no.s.s.w.a.ExceptionTranslationFilter     : Authentication exception occurred; redirecting to authentication entry point\n\norg.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.credentialsNotFound(AbstractSecurityInterceptor.java:379) ~[spring-security-core-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n</code></pre>\n\n<p>That's what it looks like if Anonymous users are <em>disabled</em>. If they're <em>enabled</em>: <code>AnonymousAuthenticationFilter</code> is added into the filter chain just after <code>SecurityContextHolderAwareRequestFilter</code>, and the sequence ends more like this:</p>\n\n<pre><code>o.s.security.web.FilterChainProxy        : /test at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\no.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /test; Attributes: [authenticated]\no.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@9055c2bc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS\no.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5ff24abf, returned: -1\no.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is anonymous); redirecting to authentication entry point\n\norg.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n</code></pre>\n\n<p>Either way: no good.</p>\n\n<p><strong>Essentially it indicates to me that we are missing some step in the filter chain. We need a filter that would read the header of the ServletRequest, then populate the security context's authentication:</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>SecurityContextHolder.getContext().setAuthentication(request: HttpServletRequest);\n</code></pre>\n\n<p>I wonder how to get such a filter?</p>\n\n<hr>\n\n<p>This is what my application looks like. It's Kotlin, but hopefully it should make sense to the Java eye.</p>\n\n<p><strong>Application.kt:</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SpringBootApplication(scanBasePackageClasses=arrayOf(\n        com.example.domain.Package::class,\n        com.example.service.Package::class,\n        com.example.web.Package::class\n))\nclass MyApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(MyApplication::class.java, *args)\n}\n</code></pre>\n\n<p><strong>TestController:</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@RestController\nclass TestController {\n    @RequestMapping(\"/test\")\n    fun Test(): String {\n        return \"hey there\"\n    }\n}\n</code></pre>\n\n<p><strong>MyWebSecurityConfigurerAdapter:</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n/**\n * Based on:\n * https://stackoverflow.com/questions/25383286/spring-security-custom-userdetailsservice-and-custom-user-class\n *\n * Password encoder:\n * http://www.baeldung.com/spring-security-authentication-with-a-database\n */\nclass MyWebSecurityConfigurerAdapter(\n        val userDetailsService: MyUserDetailsService\n) : WebSecurityConfigurerAdapter() {\n\n    private val passwordEncoder = BCryptPasswordEncoder()\n\n    override fun userDetailsService() : UserDetailsService {\n        return userDetailsService\n    }\n\n    override fun configure(auth: AuthenticationManagerBuilder) {\n        auth\n                .authenticationProvider(authenticationProvider())\n    }\n\n    @Bean\n    fun authenticationProvider() : AuthenticationProvider {\n        val authProvider = DaoAuthenticationProvider()\n        authProvider.setUserDetailsService(userDetailsService())\n        authProvider.setPasswordEncoder(passwordEncoder)\n        return authProvider\n    }\n\n    override fun configure(http: HttpSecurity?) {\n        http!!\n                .anonymous().disable()\n                .authenticationProvider(authenticationProvider())\n                .authorizeRequests()\n                    .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .csrf().disable()\n    }\n}\n</code></pre>\n\n<p><strong>MyAuthorizationServerConfigurerAdapter:</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * Based on:\n * https://github.com/spring-projects/spring-security-oauth/blob/master/tests/annotation/jdbc/src/main/java/demo/Application.java#L68\n */\n@Configuration\n@EnableAuthorizationServer\nclass MyAuthorizationServerConfigurerAdapter(\n        val auth : AuthenticationManager,\n        val dataSource: DataSource,\n        val userDetailsService: UserDetailsService\n\n) : AuthorizationServerConfigurerAdapter() {\n\n    private val passwordEncoder = BCryptPasswordEncoder()\n\n    @Bean\n    fun tokenStore(): JdbcTokenStore {\n        val tokenStore = JdbcTokenStore(dataSource)\n        val oauthAccessTokenTable = \"auth_schema.oauth_access_token\"\n        val oauthRefreshTokenTable = \"auth_schema.oauth_refresh_token\"\n        tokenStore.setDeleteAccessTokenFromRefreshTokenSql(\"delete from ${oauthAccessTokenTable} where refresh_token = ?\")\n        tokenStore.setDeleteAccessTokenSql(\"delete from ${oauthAccessTokenTable} where token_id = ?\")\n        tokenStore.setDeleteRefreshTokenSql(\"delete from ${oauthRefreshTokenTable} where token_id = ?\")\n        tokenStore.setInsertAccessTokenSql(\"insert into ${oauthAccessTokenTable} (token_id, token, authentication_id, \" +\n                \"user_name, client_id, authentication, refresh_token) values (?, ?, ?, ?, ?, ?, ?)\")\n        tokenStore.setInsertRefreshTokenSql(\"insert into ${oauthRefreshTokenTable} (token_id, token, authentication) values (?, ?, ?)\")\n        tokenStore.setSelectAccessTokenAuthenticationSql(\"select token_id, authentication from ${oauthAccessTokenTable} where token_id = ?\")\n        tokenStore.setSelectAccessTokenFromAuthenticationSql(\"select token_id, token from ${oauthAccessTokenTable} where authentication_id = ?\")\n        tokenStore.setSelectAccessTokenSql(\"select token_id, token from ${oauthAccessTokenTable} where token_id = ?\")\n        tokenStore.setSelectAccessTokensFromClientIdSql(\"select token_id, token from ${oauthAccessTokenTable} where client_id = ?\")\n        tokenStore.setSelectAccessTokensFromUserNameAndClientIdSql(\"select token_id, token from ${oauthAccessTokenTable} where user_name = ? and client_id = ?\")\n        tokenStore.setSelectAccessTokensFromUserNameSql(\"select token_id, token from ${oauthAccessTokenTable} where user_name = ?\")\n        tokenStore.setSelectRefreshTokenAuthenticationSql(\"select token_id, authentication from ${oauthRefreshTokenTable} where token_id = ?\")\n        tokenStore.setSelectRefreshTokenSql(\"select token_id, token from ${oauthRefreshTokenTable} where token_id = ?\")\n        return tokenStore\n    }\n\n    override fun configure(security: AuthorizationServerSecurityConfigurer?) {\n        security!!.passwordEncoder(passwordEncoder)\n    }\n\n    override fun configure(clients: ClientDetailsServiceConfigurer?) {\n        val clientDetailsService = JdbcClientDetailsService(dataSource)\n        clientDetailsService.setPasswordEncoder(passwordEncoder)\n\n        val clientDetailsTable = \"auth_schema.oauth_client_details\"\n        val CLIENT_FIELDS_FOR_UPDATE = \"resource_ids, scope, \" +\n                \"authorized_grant_types, web_server_redirect_uri, authorities, access_token_validity, \" +\n                \"refresh_token_validity, additional_information, autoapprove\"\n        val CLIENT_FIELDS = \"client_secret, ${CLIENT_FIELDS_FOR_UPDATE}\"\n        val BASE_FIND_STATEMENT = \"select client_id, ${CLIENT_FIELDS} from ${clientDetailsTable}\"\n\n        clientDetailsService.setFindClientDetailsSql(\"${BASE_FIND_STATEMENT} order by client_id\")\n        clientDetailsService.setDeleteClientDetailsSql(\"delete from ${clientDetailsTable} where client_id = ?\")\n        clientDetailsService.setInsertClientDetailsSql(\"insert into ${clientDetailsTable} (${CLIENT_FIELDS},\" +\n                \" client_id) values (?,?,?,?,?,?,?,?,?,?,?)\")\n        clientDetailsService.setSelectClientDetailsSql(\"${BASE_FIND_STATEMENT} where client_id = ?\")\n        clientDetailsService.setUpdateClientDetailsSql(\"update ${clientDetailsTable} set \" +\n                \"${CLIENT_FIELDS_FOR_UPDATE.replace(\", \", \"=?, \")}=? where client_id = ?\")\n        clientDetailsService.setUpdateClientSecretSql(\"update ${clientDetailsTable} set client_secret = ? where client_id = ?\")\n        clients!!.withClientDetails(clientDetailsService)\n    }\n\n    override fun configure(endpoints: AuthorizationServerEndpointsConfigurer?) {\n        endpoints!!\n                .authorizationCodeServices(authorizationCodeServices())\n                .authenticationManager(auth)\n                .tokenStore(tokenStore())\n                .approvalStoreDisabled()\n                .userDetailsService(userDetailsService)\n    }\n\n    @Bean\n    protected fun authorizationCodeServices() : AuthorizationCodeServices {\n        val codeServices = JdbcAuthorizationCodeServices(dataSource)\n        val oauthCodeTable = \"auth_schema.oauth_code\"\n        codeServices.setSelectAuthenticationSql(\"select code, authentication from ${oauthCodeTable} where code = ?\")\n        codeServices.setInsertAuthenticationSql(\"insert into ${oauthCodeTable} (code, authentication) values (?, ?)\")\n        codeServices.setDeleteAuthenticationSql(\"delete from ${oauthCodeTable} where code = ?\")\n        return codeServices\n    }\n}\n</code></pre>\n\n<p><strong>MyAuthorizationServerConfigurerAdapter:</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service\nclass MyUserDetailsService(\n        val theDataSource: DataSource\n) : JdbcUserDetailsManager() {\n    @PostConstruct\n    fun init() {\n        dataSource = theDataSource\n\n        val usersTable = \"auth_schema.users\"\n        val authoritiesTable = \"auth_schema.authorities\"\n\n        setChangePasswordSql(\"update ${usersTable} set password = ? where username = ?\")\n        setCreateAuthoritySql(\"insert into ${authoritiesTable} (username, authority) values (?,?)\")\n        setCreateUserSql(\"insert into ${usersTable} (username, password, enabled) values (?,?,?)\")\n        setDeleteUserAuthoritiesSql(\"delete from ${authoritiesTable} where username = ?\")\n        setDeleteUserSql(\"delete from ${usersTable} where username = ?\")\n        setUpdateUserSql(\"update ${usersTable} set password = ?, enabled = ? where username = ?\")\n        setUserExistsSql(\"select username from ${usersTable} where username = ?\")\n\n        setAuthoritiesByUsernameQuery(\"select username,authority from ${authoritiesTable} where username = ?\")\n        setUsersByUsernameQuery(\"select username,password,enabled from ${usersTable} \" + \"where username = ?\")\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Any ideas? <strong>Could it be that I need to somehow install the <code>OAuth2AuthenticationProcessingFilter</code> into my filter chain?</strong></p>\n\n<p>I do get such messages on startup\u2026 could these be related to the problem?</p>\n\n<pre><code>u.c.c.h.s.auth.MyUserDetailsService      : No authentication manager set. Reauthentication of users when changing passwords will not be performed.\ns.c.a.w.c.WebSecurityConfigurerAdapter$3 : No authenticationProviders and no parentAuthenticationManager defined. Returning null.\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong></p>\n\n<p>It looks like installing <code>OAuth2AuthenticationProcessingFilter</code> is the job of a <code>ResourceServerConfigurerAdapter</code>. I have added the following class:</p>\n\n<p><strong>MyResourceServerConfigurerAdapter:</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@EnableResourceServer\nclass MyResourceServerConfigurerAdapter : ResourceServerConfigurerAdapter()\n</code></pre>\n\n<p>And I confirm in the debugger that this causes <code>ResourceServerSecurityConfigurer</code> to enter its <code>configure(http: HttpSecurity)</code> method, which <em>does</em> look like it tries to install a <code>OAuth2AuthenticationProcessingFilter</code> into the filter chain.</p>\n\n<p>But it doesn't look like it succeeded. According to Spring Security's debug output: I still have the same number of filters in my filter chain. <code>OAuth2AuthenticationProcessingFilter</code> is not in there. What's going on?</p>\n\n<hr>\n\n<p><strong>EDIT2</strong>: I wonder if the problem is that I have <em>two</em> classes (<code>WebSecurityConfigurerAdapter</code>, <code>ResourceServerConfigurerAdapter</code>) trying to configure HttpSecurity. Is it mutually exclusive?</p>\n"}, {"tags": ["java", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1499449955, "post_id": 44976746, "comment_id": 76928896, "body": "Could you include the relevant parts from your build.gradle file? Can you build your project? Are you getting errors / warnings?"}, {"owner": {"reputation": 1308, "user_id": 1295419, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/g5QXq.jpg?s=128&g=1", "display_name": "Sermilion", "link": "https://stackoverflow.com/users/1295419/sermilion"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1499450152, "post_id": 44976746, "comment_id": 76928999, "body": "Well, there are only a couple of thing relevant. I will include them now. There are no warnings just message about unresolved references <code>DaggerApplicationComponent</code> and <code>DaggerConfigPersistentComponent</code>."}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1499451154, "post_id": 44976746, "comment_id": 76929535, "body": "With kotlin you need to use <code>kapt</code> as you can see here <a href=\"https://antonioleiva.com/dagger-android-kotlin/\" rel=\"nofollow noreferrer\">antonioleiva.com/dagger-android-kotlin</a>"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1499452680, "post_id": 44976746, "comment_id": 76930346, "body": "It shows that you use <code>annotationProcessor</code>, not <code>kapt</code> in your build.gradle above"}], "answers": [{"tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": true, "score": 3, "last_activity_date": 1499468665, "creation_date": 1499468665, "answer_id": 44980843, "question_id": 44976746, "link": "https://stackoverflow.com/questions/44976746/kotlin-dagger-2-dagger-files-wont-generate/44980843#44980843", "title": "Kotlin + Dagger 2: Dagger* files won&#39;t generate", "body": "<p>Kotlin works with <code>kapt</code> instead of the <code>annotationProcessor</code> from the Android plugin.</p>\n\n<p>You need to include and use the following in your <code>build.gradle</code> file:</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\ndependencies {\n    // ...\n    kapt daggerCompiler\n}\n</code></pre>\n\n<p>More detailed instructions can also be found here: <a href=\"https://antonioleiva.com/dagger-android-kotlin/\" rel=\"nofollow noreferrer\">Dagger and Kotlin</a></p>\n"}], "owner": {"reputation": 1308, "user_id": 1295419, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/g5QXq.jpg?s=128&g=1", "display_name": "Sermilion", "link": "https://stackoverflow.com/users/1295419/sermilion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1006, "favorite_count": 0, "accepted_answer_id": 44980843, "answer_count": 1, "score": 1, "last_activity_date": 1499468665, "creation_date": 1499449153, "last_edit_date": 1499451518, "question_id": 44976746, "link": "https://stackoverflow.com/questions/44976746/kotlin-dagger-2-dagger-files-wont-generate", "title": "Kotlin + Dagger 2: Dagger* files won&#39;t generate", "body": "<p>I started using Kotlin and Dagger 2 together for the first time. I assumed everything is the same as in Java, but apparently, not quite. Dagger won't generate Dagger*files for me. Here is my code:</p>\n\n<p><strong>Components:</strong></p>\n\n<pre><code>@PerActivity\n@Subcomponent(modules = arrayOf(ApplicationModule::class))\ninterface ActivityComponent {\n    fun inject(app: OneAccountApplication)\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(ApplicationModule::class))\ninterface ApplicationComponent {\n\nfun inject(syncService: SyncService)\n@ApplicationContext fun context(): Context\nfun application(): Application\nfun ribotsService(): OneAccountService\nfun preferencesHelper(): PreferencesHelper\nfun databaseHelper(): DatabaseHelper\nfun dataManager(): DataManager\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@ConfigPersistent\n@Component(dependencies = arrayOf(ApplicationComponent::class))\ninterface ConfigPersistentComponent {\n    fun activityComponent(activityModule: ActivityModule): ActivityComponent\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Modules:</strong></p>\n\n<pre><code>@Module\nclass ActivityModule(private val mActivity: Activity) {\n\n    @Provides\n    internal fun provideActivity() = mActivity\n\n    @Provides\n    @ActivityContext\n    internal fun providesContext() = mActivity\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Module\nclass ApplicationModule(val mApplication: Application) {\n\n    @Provides @Singleton\n    internal fun provideApplication() = mApplication\n\n    @Provides\n    @ApplicationContext\n    internal fun provideContext() = mApplication\n\n    @Provides\n    @Singleton\n    internal fun provideOneAccountService() = OneAccountService.Creator.newOneAccountService()\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Scope Annotations:</strong></p>\n\n<pre><code>@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\nannotation class ActivityContext\n</code></pre>\n\n<hr>\n\n<pre><code>@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\nannotation class ApplicationContext\n</code></pre>\n\n<hr>\n\n<pre><code>@Scope\n@Retention(AnnotationRetention.RUNTIME)\nannotation class ConfigPersistent\n</code></pre>\n\n<hr>\n\n<pre><code>@Scope\n@Retention(AnnotationRetention.RUNTIME)\nannotation class PerActivity\n</code></pre>\n\n<hr>\n\n<p>This is basically my whole DI system which I was using in my java code successfully. But with Kotlin, for some reason it does not work. I have also added: <code>apply plugin: 'kotlin-kapt'</code> to <code>gradle.build</code> like:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>And in dependencies I have:</p>\n\n<pre><code>dependencies {\n\n    final DAGGER_VERSION = '2.8'\n    def daggerCompiler = \"com.google.dagger:dagger-compiler:$DAGGER_VERSION\"\n    annotationProcessor daggerCompiler\n    testAnnotationProcessor daggerCompiler\n    androidTestAnnotationProcessor daggerCompiler\n    compile  \"com.google.dagger:dagger:$DAGGER_VERSION\"\n}\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>Basically, this it <a href=\"https://github.com/ribot/android-boilerplate\" rel=\"nofollow noreferrer\">https://github.com/ribot/android-boilerplate</a> transformed into Kotlin.</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1499443479, "post_id": 44975268, "comment_id": 76925591, "body": "Try running gradle with <code>--debug --info</code>"}, {"owner": {"reputation": 3290, "user_id": 4400065, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kbo7S.gif?s=128&g=1", "display_name": "Siegmeyer", "link": "https://stackoverflow.com/users/4400065/siegmeyer"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1499443699, "post_id": 44975268, "comment_id": 76925741, "body": "&quot;could not find method google() for arguments [] on repository container.&quot;. Well, that&#39;s strange."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1499444206, "post_id": 44975268, "comment_id": 76926062, "body": "You can use <code>maven { url &#39;https:&#47;&#47;maven.google.com&#39; }</code> instead of <code>google()</code>. Which canary release are you using?"}, {"owner": {"reputation": 3290, "user_id": 4400065, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kbo7S.gif?s=128&g=1", "display_name": "Siegmeyer", "link": "https://stackoverflow.com/users/4400065/siegmeyer"}, "edited": false, "score": 0, "creation_date": 1499444425, "post_id": 44975268, "comment_id": 76926190, "body": "Canary 5. It fails on LocationAwareException now."}], "answers": [{"tags": [], "owner": {"reputation": 3290, "user_id": 4400065, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kbo7S.gif?s=128&g=1", "display_name": "Siegmeyer", "link": "https://stackoverflow.com/users/4400065/siegmeyer"}, "is_accepted": true, "score": 0, "last_activity_date": 1499682884, "creation_date": 1499682884, "answer_id": 45009817, "question_id": 44975268, "link": "https://stackoverflow.com/questions/44975268/android-gradle-build-fails-suddenly-on-appmergedebugresources-with-no-error/45009817#45009817", "title": "Android gradle build fails suddenly on &#39;:app:mergeDebugResources&#39; with no error messages", "body": "<p>Well, it turned out that the problem was fonts in <code>res</code> directory instead of <code>main</code> which caused gradle to act very weird.</p>\n"}], "owner": {"reputation": 3290, "user_id": 4400065, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kbo7S.gif?s=128&g=1", "display_name": "Siegmeyer", "link": "https://stackoverflow.com/users/4400065/siegmeyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 45009817, "answer_count": 1, "score": 1, "last_activity_date": 1499682884, "creation_date": 1499443422, "last_edit_date": 1499443953, "question_id": 44975268, "link": "https://stackoverflow.com/questions/44975268/android-gradle-build-fails-suddenly-on-appmergedebugresources-with-no-error", "title": "Android gradle build fails suddenly on &#39;:app:mergeDebugResources&#39; with no error messages", "body": "<p>My gradle build stopped working completely out of the blue. Minute earlier it worked fine. Didn't change anything in gradle config files; as a matter of fact I was only changing application style in XML.\nMake, clean and run produce:</p>\n\n<pre><code>Execution failed for task ':app:mergeDebugResources'.\n&gt; -1\n</code></pre>\n\n<p>Running gradle with <code>--stacktrace</code> produces:</p>\n\n<pre><code>Executing task ':app:mergeDebugResources' (up-to-date check took 0.031 secs) due to:\nTask ':app:mergeDebugResources' class path has changed from 35ff0c585719dc5a2e2e4d58900e722a to 01ad85243d44a7018a6f6b671ff7bf6b.\nAll input files are considered out-of-date for incremental task ':app:mergeDebugResources'.\nUnable do incremental execution: full task run :app:mergeDebugResources FAILED :app:mergeDebugResources \n(Thread[Task worker for ':',5,main]) completed.   \nTook 0.155 secs.\n</code></pre>\n\n<p>Removing build directory didn't help, as well as cache invalidation and restart. Any ideas?</p>\n\n<p>Using Canary (3.0) with build tools version 26.0.0.</p>\n\n<h2>Update #1</h2>\n\n<p>Running with <code>--info --debug</code> hints:</p>\n\n<pre><code>could not find method google() for arguments [] on repository container.\n</code></pre>\n\n<p>However, removing <code>google()</code> from config yields:</p>\n\n<pre><code>Received result\nFailure[value=org.gradle.initialization.ReportedException: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring root project '[project name]'.] from daemon DaemonInfo{pid=3686, address=[e01105f7-0954-4e44-b561-3ac18fc3194f port:35854, addresses:[/0:0:0:0:0:0:0:1%lo, /127.0.0.1]], idle=true, lastBusy=1499443736429, context=DefaultDaemonContext[uid=64f95479-4418-4e3d-948b-7481648b65df,javaHome=/usr/lib/jvm/java-8-openjdk-amd64,daemonRegistryDir=/home/iwoherka/.gradle/daemon,pid=3686,idleTimeout=10800000,daemonOpts=-Xmx1536m,-Dfile.encoding=UTF-8,-Duser.country=US,-Duser.language=en,-Duser.variant]} (build should be done).\n18:09:26.648 [DEBUG] [org.gradle.launcher.daemon.client.DaemonClientConnection] thread 1: dispatching class org.gradle.launcher.daemon.protocol.Finished\n18:09:26.649 [DEBUG] [org.gradle.launcher.daemon.client.DaemonClientConnection] thread 1: connection stop\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499440749, "post_id": 44974136, "comment_id": 76923830, "body": "have you download the <code>android:support-v4</code> for the new android version 3.0 by android sdk manager?"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499478282, "post_id": 44974136, "comment_id": 76938689, "body": "I did yes. For now I had to switch back to AS 2.3.3 and everything is working fine."}], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1499440090, "creation_date": 1499440090, "question_id": 44974136, "link": "https://stackoverflow.com/questions/44974136/android-studio-version-3-0-canary-channel-not-rendering-support-libraries", "title": "Android Studio Version 3.0 Canary Channel Not Rendering Support Libraries", "body": "<p>I'm developing an app using versio 3.0 of Android Studio (the app is in kotlin) and the rendering simply stopped working. I remember the last significant update I did was to update the kotlin plugin to the latest version, but no matter what I do it will not render the support library components (Coordinator Layout, Nested Scroll Views, Recycler Views...)\nHere's a list of things I've already tried:</p>\n\n<ul>\n<li>Update to the latest version of the sdk tools, the kotlin plugin and the build/compile tools</li>\n<li>Invalidate Cache</li>\n<li>Changed API version in Editor</li>\n<li>Changed theme in editor </li>\n</ul>\n\n<p>Here's a peak of my grandle dependencies</p>\n\n<pre><code>dependencies {\n  compile fileTree(include: ['*.jar'], dir: 'libs')\n  androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', \n  {\n      exclude group: 'com.android.support', module: 'support-annotations'\n  })\n  compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n  testCompile 'junit:junit:4.12'\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n  compile 'org.jetbrains.anko:anko-sdk21:0.9.1'\n  compile 'org.jetbrains.anko:anko-support-v4:0.10.1'\n  compile 'org.jetbrains.anko:anko-appcompat-v7:0.10.1'\n  compile 'uk.co.chrisjenx:calligraphy:2.2.0'\n  compile 'ch.acra:acra:4.9.2'\n  compile 'com.facebook.android:facebook-android-sdk:4.0.0'\n  compile 'com.android.support.constraint:constraint-layout:1.0.2'\n  compile 'com.google.firebase:firebase-database:10.2.6'\n  compile 'com.google.firebase:firebase-auth:10.2.6'\n  compile 'com.google.firebase:firebase-storage:10.2.6'\n  compile 'com.squareup.retrofit2:retrofit:2.3.0'\n  compile 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\n  compile 'com.google.code.gson:gson:2.8.0'\n  compile 'com.squareup.retrofit2:converter-gson:2.0.2'\n  compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n  compile 'io.reactivex.rxjava2:rxjava:2.1.0'\n  compile 'com.karumi:dexter:4.1.0'\n  compile 'com.github.ganfra:material-spinner:1.1.1'\n  compile 'com.droidninja:filepicker:2.0.4'\n  compile 'com.github.satyan:sugar:1.5'\n  compile 'com.android.support:support-v4:26.0.0-beta2'\n  compile 'com.android.support:appcompat-v7:26.0.0-beta2'\n  compile 'com.android.support:design:26.0.0-beta2'\n  compile 'com.android.support:recyclerview-v7:26.0.0-beta2'\n  compile 'com.android.support:cardview-v7:26.0.0-beta2'\n}\n</code></pre>\n\n<p>And for the kotlin version in my project level gradle file:</p>\n\n<pre><code>    ext.kotlin_version = '1.1.3-2'\n</code></pre>\n\n<p>Normally, under the preview editor I keep receiving this exception:</p>\n\n<pre><code>java.lang.ClassNotFoundException: android.support.v4.view.ScrollingView\nat org.jetbrains.android.uipreview.ModuleClassLoader.load(ModuleClassLoader.java:182)\nat com.android.tools.idea.rendering.RenderClassLoader.findClass(RenderClassLoader.java:56)\nat org.jetbrains.android.uipreview.ModuleClassLoader.findClass(ModuleClassLoader.java:120)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat org.jetbrains.android.uipreview.ModuleClassLoader.loadClass(ModuleClassLoader.java:215)\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:642)\nat com.android.tools.idea.rendering.RenderClassLoader.defineClassAndPackage(RenderClassLoader.java:177)\nat com.android.tools.idea.rendering.RenderClassLoader.loadClassFromJar(RenderClassLoader.java:92)\nat org.jetbrains.android.uipreview.ModuleClassLoader.load(ModuleClassLoader.java:172)\nat com.android.tools.idea.rendering.RenderClassLoader.findClass(RenderClassLoader.java:56)\nat org.jetbrains.android.uipreview.ModuleClassLoader.findClass(ModuleClassLoader.java:120)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat org.jetbrains.android.uipreview.ModuleClassLoader.loadClass(ModuleClassLoader.java:215)\nat org.jetbrains.android.uipreview.ViewLoader.loadClass(ViewLoader.java:500)\nat org.jetbrains.android.uipreview.ViewLoader.loadClass(ViewLoader.java:254)\nat org.jetbrains.android.uipreview.ViewLoader.loadView(ViewLoader.java:222)\nat com.android.tools.idea.rendering.LayoutlibCallbackImpl.loadView(LayoutlibCallbackImpl.java:207)\nat android.view.BridgeInflater.loadCustomView(BridgeInflater.java:337)\nat android.view.BridgeInflater.loadCustomView(BridgeInflater.java:348)\nat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:248)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\nat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:863)\nat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:837)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\nat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:866)\nat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:837)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\nat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:866)\nat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:837)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:515)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:394)\nat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:334)\nat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:382)\nat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:193)\nat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:591)\nat com.android.tools.idea.rendering.RenderTask.lambda$inflate$3(RenderTask.java:739)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Which is really strange because all necessary support libraries have been added.</p>\n"}, {"tags": ["functional-programming", "kotlin", "listener"], "answers": [{"comments": [{"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 1, "creation_date": 1499436634, "post_id": 44972845, "comment_id": 76920730, "body": "Thanks! I works just fine. Kinda hard to find this in the documentation..."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 0, "creation_date": 1499436787, "post_id": 44972845, "comment_id": 76920854, "body": "@LeandroBorgesFerreira Not at all."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 22, "last_activity_date": 1499437873, "last_edit_date": 1592644375, "creation_date": 1499436404, "answer_id": 44972845, "question_id": 44972780, "link": "https://stackoverflow.com/questions/44972780/how-to-declare-a-function-as-a-variable-in-kotlin/44972845#44972845", "title": "How to declare a function as a variable in Kotlin", "body": "<p>there many ways to declare a function as a variable in kotlin.</p>\n<p>you can using <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"noreferrer\">lateinit properties</a> to initializing the property in later, for example:</p>\n<pre><code>private lateinit var listener : (text: String) -&gt; Unit\n</code></pre>\n<p><strong>OR</strong> make the <code>listener</code> nullable, but  you must call it with <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\">safe-call</a>: <code>listener?.handle(...)</code> in this way:</p>\n<pre><code>private var listener : ((text: String) -&gt; Unit)? = null\n</code></pre>\n<p><strong>OR</strong> declare it with a empty lambda to avoiding NPException, for example:</p>\n<pre><code>private var listener : (String) -&gt; Unit = {}\n</code></pre>\n<p><strong>OR</strong> declare a private function, and then you can reference it by <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"noreferrer\">function reference expression</a>, for example:</p>\n<pre><code>private var listener = this::handle\n\nprivate fun handle(text:String) = TODO()\n</code></pre>\n<p><em>Note</em>: when you declare a function variable, the parameter name is optional, for example:</p>\n<pre><code>private var listener : (text:String) -&gt; Unit = TODO()\n//                      |--- parameter name is omitted\nprivate var listener : (String) -&gt; Unit = TODO()\n</code></pre>\n"}], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7415, "favorite_count": 0, "accepted_answer_id": 44972845, "answer_count": 1, "score": 9, "last_activity_date": 1525347430, "creation_date": 1499436184, "last_edit_date": 1525347430, "question_id": 44972780, "link": "https://stackoverflow.com/questions/44972780/how-to-declare-a-function-as-a-variable-in-kotlin", "title": "How to declare a function as a variable in Kotlin", "body": "<p>So I am trying to create a listener in Kotlin. I just want to pass a method that will be executed latter in my code. Like this:</p>\n\n<pre><code>override fun setButtonClickListener(listener: (text: String) -&gt; Unit) {\n    this.listener = listener\n}\n</code></pre>\n\n<p>But, when I declare my listener, I must declare it like this:</p>\n\n<pre><code>private var listener : (text: String) -&gt; Unit = null!!\n</code></pre>\n\n<p>Otherwise my AS will complain. But this !! in a null object seams so weird. How should I declare this listener??</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "android-annotations", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 1, "creation_date": 1499435690, "post_id": 44972264, "comment_id": 76920027, "body": "Isn&#39;t the error message self-explanatory? <code>MyPreferences</code> does not extend <code>SharedPreferencesHelper</code>."}, {"owner": {"reputation": 10033, "user_id": 993439, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/m7fA4.png?s=128&g=1", "display_name": "longi", "link": "https://stackoverflow.com/users/993439/longi"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1499438843, "post_id": 44972264, "comment_id": 76922392, "body": "@azizbekian No it&#39;s not. Working with <code>Kotlin</code> and <code>Annotations</code> sometimes throws errors, which are not related to the real issue. This happens if the annotated code gets generated. (see solution below)"}], "answers": [{"comments": [{"owner": {"reputation": 10033, "user_id": 993439, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/m7fA4.png?s=128&g=1", "display_name": "longi", "link": "https://stackoverflow.com/users/993439/longi"}, "edited": false, "score": 0, "creation_date": 1499438505, "post_id": 44972893, "comment_id": 76922128, "body": "I found the fixed bug report at android annotations, but it didn&#39;t told about adding <code>correctErrorTypes</code> ( <a href=\"https://github.com/androidannotations/androidannotations/issues/334\" rel=\"nofollow noreferrer\">github.com/androidannotations/androidannotations/issues/334</a> ) Thanks!"}, {"owner": {"reputation": 11451, "user_id": 747412, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de6e669bbd75c4d1f5467b2de159798b?s=128&d=identicon&r=PG", "display_name": "WonderCsabo", "link": "https://stackoverflow.com/users/747412/wondercsabo"}, "reply_to_user": {"reputation": 10033, "user_id": 993439, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/m7fA4.png?s=128&g=1", "display_name": "longi", "link": "https://stackoverflow.com/users/993439/longi"}, "edited": false, "score": 0, "creation_date": 1499439701, "post_id": 44972893, "comment_id": 76923044, "body": "You found the wrong issue, it was reported in 2012. :)"}], "tags": [], "owner": {"reputation": 11451, "user_id": 747412, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/de6e669bbd75c4d1f5467b2de159798b?s=128&d=identicon&r=PG", "display_name": "WonderCsabo", "link": "https://stackoverflow.com/users/747412/wondercsabo"}, "is_accepted": true, "score": 5, "last_activity_date": 1499436539, "creation_date": 1499436539, "answer_id": 44972893, "question_id": 44972264, "link": "https://stackoverflow.com/questions/44972264/how-to-use-androidannotation-sharedpref-with-kotlin/44972893#44972893", "title": "How to use AndroidAnnotation @SharedPref with Kotlin", "body": "<p>This is due to a <a href=\"https://youtrack.jetbrains.com/issue/KT-16006\" rel=\"noreferrer\">bug</a> in the Kotlin annotation processor.<br>\nTo fix this, <a href=\"https://youtrack.jetbrains.com/issue/KT-15421#comment=27-1907540\" rel=\"noreferrer\">you must add</a> <code>correctErrorTypes = true</code> to your <code>kapt</code> block.</p>\n\n<pre><code>kapt {\n  correctErrorTypes = true\n}\n</code></pre>\n\n<p>Also make sure you are using the latest Kotlin version (as of this moment: 1.1.3).</p>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 4714948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc03ab0f77711c389b174f0e72960470?s=128&d=identicon&r=PG", "display_name": "Md. Arif", "link": "https://stackoverflow.com/users/4714948/md-arif"}, "is_accepted": false, "score": 0, "last_activity_date": 1548791818, "creation_date": 1548791818, "answer_id": 54428724, "question_id": 44972264, "link": "https://stackoverflow.com/questions/44972264/how-to-use-androidannotation-sharedpref-with-kotlin/54428724#54428724", "title": "How to use AndroidAnnotation @SharedPref with Kotlin", "body": "<p>I just wanna extend on @WonderCsabo 's answer.\nHis answer almost saved me, but not fully.</p>\n\n<p>After adding this to my app label build gradle.</p>\n\n<p><code>kapt {\n        correctErrorTypes = true\n    }</code></p>\n\n<p>I wasn't able to run my app.</p>\n\n<blockquote>\n  <p>Then I closed my android studio and then run Android studio again as administrator.\n   Voila! it works like charm.</p>\n</blockquote>\n\n<p>Thank you @WonderCsabo</p>\n"}], "owner": {"reputation": 10033, "user_id": 993439, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/m7fA4.png?s=128&g=1", "display_name": "longi", "link": "https://stackoverflow.com/users/993439/longi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 0, "accepted_answer_id": 44972893, "answer_count": 2, "score": 4, "last_activity_date": 1548791818, "creation_date": 1499434758, "question_id": 44972264, "link": "https://stackoverflow.com/questions/44972264/how-to-use-androidannotation-sharedpref-with-kotlin", "title": "How to use AndroidAnnotation @SharedPref with Kotlin", "body": "<p>I'm trying to use AndroidAnnotations <code>@SharefPref</code> within kotlin, but Iget following error</p>\n\n<pre><code>org.androidannotations.annotations.sharedpreferences.Pref can only be used on an element that extends org.androidannotations.api.sharedpreferences.SharedPreferencesHelper\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<pre><code>//Interface\n@SharedPref(SharedPref.Scope.APPLICATION_DEFAULT)\nopen interface MyPreferences {\n    @DefaultInt(-1)\n    fun someIntValue():Int\n}\n\n//Fragment\n@Pref\nlateinit open var sharedPref:CongressPreferences_\n\n//usage within fragment\nval get: Int = sharedPref.selectedEventId().get()\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1499433003, "post_id": 44971228, "comment_id": 76917862, "body": "Can&#39;t reproduce. Post a complete minimal example reproducing the problem."}, {"owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1499436732, "post_id": 44971228, "comment_id": 76920810, "body": "@JBNizet Confirm, it doesn&#39;t reproduce on a clean test project. Guess I&#39;ll move it to Kotlin forums."}, {"owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1499436910, "post_id": 44971228, "comment_id": 76920939, "body": "Added info on what code makes it work, just in case someone figures out what&#39;s going on based on that."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1499453582, "post_id": 44971228, "comment_id": 76930821, "body": "You could point the cursor to the line <code>at blah.BlahTest.test(BlahTest.kt:42)</code> where exception happens, and invoke &quot;Show Kotlin Bytecode&quot; action, that will show to what bytecode this line is compiled. If that don&#39;t give any clue, please report it to <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>, including the source code and the bytecode produced, as it looks like a bug."}, {"owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499668779, "post_id": 44971228, "comment_id": 76984074, "body": "@holi-java the problem is still there"}], "answers": [{"comments": [{"owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "edited": false, "score": 0, "creation_date": 1499438317, "post_id": 44972001, "comment_id": 76921977, "body": "There&#39;s no explicit casting anything to <code>Function1</code>. The java method wants <code>HttpServiceHandler</code> and I give it <code>HttpServiceHandler { c -&gt; c.blah() }</code>. Added a github project that illustrates the code. The problem doesn&#39;t reproduce in the test, sadly."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "edited": false, "score": 0, "creation_date": 1499438361, "post_id": 44972001, "comment_id": 76922008, "body": "@YuriGeinish hi, you need give the whole stacktrace in your question. :), you can&#39;t reproduce the problem, maybe you didn&#39;t clean your projects. where have the same function <code>addHandler</code>."}, {"owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "edited": false, "score": 0, "creation_date": 1499438523, "post_id": 44972001, "comment_id": 76922139, "body": "Updated with the full stack trace."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "edited": false, "score": 0, "creation_date": 1499438656, "post_id": 44972001, "comment_id": 76922233, "body": "@YuriGeinish ):, sir, I can&#39;t find the <code>BlahTest</code> class in your github repo."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "edited": false, "score": 0, "creation_date": 1499438924, "post_id": 44972001, "comment_id": 76922465, "body": "@YuriGeinish in your <code>BlahTest.kt:42</code> test called the <code>newMapping</code> rather than <code>newHandler</code>."}, {"owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "edited": false, "score": 0, "creation_date": 1499440179, "post_id": 44972001, "comment_id": 76923406, "body": "thanks, fixed.  Yeah, the test file is called differently in the test project."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "edited": false, "score": 0, "creation_date": 1499440212, "post_id": 44972001, "comment_id": 76923431, "body": "@YuriGeinish Not at all."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 1, "last_activity_date": 1499434881, "last_edit_date": 1499434881, "creation_date": 1499434043, "answer_id": 44972001, "question_id": 44971228, "link": "https://stackoverflow.com/questions/44971228/java-sam-interface-created-from-kotlin-gives-classcastexception/44972001#44972001", "title": "Java SAM interface created from Kotlin gives ClassCastException", "body": "<p>the error has already said exactly:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: blah.BlahTest$Companion$newHandler$1 cannot be cast to kotlin.jvm.functions.Function1</p>\n</blockquote>\n\n<p>you try to cast a <code>Consumer&lt;HttpHandlerContext&gt;</code> to  a <code>Function1</code> in <code>addHandler</code> method or somewhere, for example:</p>\n\n<pre><code>fun addHandler(handler: Consumer&lt;HttpHandlerContext&gt;) {\n    val it: Function1&lt;*, *&gt; = handler as Function1&lt;*, *&gt;\n    //                        ^\n    // ClassCastException was thrown since it is not a Function1 \n}\n</code></pre>\n\n<p>you should using method reference expression in java / function reference expression in kotlin to convert a SAM interface to  another SAM interface, for example:</p>\n\n<pre><code>fun addHandler(handler: Consumer&lt;HttpHandlerContext&gt;) {\n    val it: Function1&lt;HttpHandlerContext, Unit&gt; = handler::accept\n    //     using function reference expression here     ---^\n   //...\n}\n</code></pre>\n\n<p><strong>IF</strong> you call java method <code>addHandler</code> in kotlin, you needn't to create such a bridge method <code>newHandler</code>, you can just call it with lambda in kotlin, for example:</p>\n\n<pre><code>addHandler{context-&gt;\n    context.blah()\n    // additional works ...\n}\n</code></pre>\n"}], "owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499440724, "creation_date": 1499431871, "last_edit_date": 1499440724, "question_id": 44971228, "link": "https://stackoverflow.com/questions/44971228/java-sam-interface-created-from-kotlin-gives-classcastexception", "title": "Java SAM interface created from Kotlin gives ClassCastException", "body": "<p>I have a java method:</p>\n\n<pre><code>addHandler(HttpServiceHandler handler)\n</code></pre>\n\n<p><code>HttpServiceHandler</code> is</p>\n\n<pre><code>interface HttpServiceHandler extends Consumer&lt;HttpHandlerContext&gt;\n</code></pre>\n\n<p>The point is to avoid <code>Consumer&lt;HttpHandlerContext&gt;</code> copy-paste across the project, so it's kind of a type alias.</p>\n\n<p>In Java code, this works all right:</p>\n\n<pre><code>addHandler({ context -&gt; context.blah(); })\n</code></pre>\n\n<p>Now, in Kotlin, I have this method that generates handlers:</p>\n\n<pre><code>private companion object {\n    fun newHandler(notimportant: Long): HttpServiceHandler {\n        return HttpServiceHandler { context -&gt; context.blah() }\n    }\n}\n</code></pre>\n\n<p><code>HttpServiceHandler {}</code> is important, it doesn't compile if I don't specify <code>HttpServiceHandler</code> for the lambda.</p>\n\n<p>And this compiles:</p>\n\n<pre><code>addHandler(newHandler(1L))\n</code></pre>\n\n<p>But at runtime, throws:</p>\n\n<pre><code>java.lang.ClassCastException: blah.BlahTest$Companion$newHandler$1 cannot be cast to kotlin.jvm.functions.Function1\n\nat blah.BlahTest.test(BlahTest.kt:42)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>And I can't figure out why. Help please?</p>\n\n<p><strong>Update:</strong> The class cast exception is gone if I write it like this:</p>\n\n<pre><code>addHandler(\n    object : HttpServiceHandler {\n        override fun accept(c: HttpHandlerContext) {\n            c.complete()\n        }\n    }\n)\n</code></pre>\n\n<p>But still throws the exception when written like this:</p>\n\n<pre><code>fun newHandler(blah: Long): HttpServiceHandler {\n    return object : HttpServiceHandler {\n        override fun accept(c: HttpHandlerContext) {\n            c.complete()\n        }\n    }\n}\n\naddHandler(newHandler(1L))\n</code></pre>\n\n<p>And I have no idea why.</p>\n\n<p><strong>Update2:</strong> Test code at <a href=\"https://github.com/wilem82/testcases/tree/master/kotlinsam1\" rel=\"nofollow noreferrer\">https://github.com/wilem82/testcases/tree/master/kotlinsam1</a> . Does not reproduce the problem, sadly.</p>\n"}, {"tags": ["java", "file", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "is_accepted": true, "score": 2, "last_activity_date": 1499429572, "creation_date": 1499429572, "answer_id": 44970483, "question_id": 44969903, "link": "https://stackoverflow.com/questions/44969903/the-system-cannot-find-the-file-specified-in-kotlin/44970483#44970483", "title": "The system cannot find the file specified in Kotlin", "body": "<p>If you pass a filename without a path, the JVM is going to look for that file in the <strong>current working directory</strong>, not the package folder of the class you're making the call from. So, to use relative paths, you have to first find out the working directory of your program, which should usually be the root folder of the project if you're running it from intelliJ.</p>\n"}], "owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2074, "favorite_count": 0, "accepted_answer_id": 44970483, "answer_count": 1, "score": 0, "last_activity_date": 1499429572, "creation_date": 1499427646, "question_id": 44969903, "link": "https://stackoverflow.com/questions/44969903/the-system-cannot-find-the-file-specified-in-kotlin", "title": "The system cannot find the file specified in Kotlin", "body": "<p>I try to read from file in same package so when i run code it give me error </p>\n\n<pre><code>var buffer: BufferedReader? = null\n\nval result = try {\n\n    buffer = BufferedReader(FileReader(\"file.txt\"))\n    val chars = CharArray(30)\n    buffer.read(chars, 0, 40)\n    0\n} catch (e: IndexOutOfBoundsException) {\n    println(\" Exception handle\")\n    1\n} catch(e: FileNotFoundException) {\n    println(e.message)\n    2\n} finally {\n    buffer?.close()\n    println(\"closed\")\n}\n\nprintln(result)\n</code></pre>\n\n<p><strong>output :</strong> </p>\n\n<p>file.txt (The system cannot find the file specified)</p>\n\n<p>closed</p>\n\n<p>2</p>\n\n<p>when i specify full path <code>FileNoFoundException</code> not throw why ?.</p>\n\n<pre><code>var buffer: BufferedReader? = null\n\nval result = try {\n    buffer = BufferedReader(FileReader(\"C:\\\\Users\\\\Mahmood Ali\\\\IdeaProjects\\\\Kotlin wih hadi\\\\src\\\\tidbits\\\\file.txt\"))\n    val chars = CharArray(30)\n    buffer.read(chars, 0, 40)\n    0\n} catch (e: IndexOutOfBoundsException) {\n    println(\"Exception handle\")\n    1\n} catch(e: FileNotFoundException) {\n    println(e.message)\n    2\n} finally {\n    buffer?.close()\n    println(\"closed\")\n}\n\nprintln(result)\n</code></pre>\n\n<p><strong>output:</strong> </p>\n\n<p>Exception handle </p>\n\n<p>closed</p>\n\n<p>1</p>\n"}, {"tags": ["java", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2436, "user_id": 5924738, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-4V6hB9VKrH0/AAAAAAAAAAI/AAAAAAAACgc/MxQPRMy1eMI/photo.jpg?sz=128", "display_name": "Aakash Verma", "link": "https://stackoverflow.com/users/5924738/aakash-verma"}, "edited": false, "score": 1, "creation_date": 1499421539, "post_id": 44967861, "comment_id": 76910687, "body": "Bro does this help <a href=\"https://stackoverflow.com/questions/43786012/cross-references-in-type-parameters\" title=\"cross references in type parameters\">stackoverflow.com/questions/43786012/&hellip;</a>?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1499423267, "post_id": 44967861, "comment_id": 76911730, "body": "@zsmb13 mybe it is duplicated. but the answer is not the perfect way."}], "answers": [{"comments": [{"owner": {"reputation": 41614, "user_id": 3249477, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wzOND.jpg?s=128&g=1", "display_name": "Simas", "link": "https://stackoverflow.com/users/3249477/simas"}, "edited": false, "score": 0, "creation_date": 1499423880, "post_id": 44968330, "comment_id": 76912087, "body": "Great solution! If you write this answer on the duplicated question I can upvote it there and remove this question."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 41614, "user_id": 3249477, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wzOND.jpg?s=128&g=1", "display_name": "Simas", "link": "https://stackoverflow.com/users/3249477/simas"}, "edited": false, "score": 0, "creation_date": 1499424072, "post_id": 44968330, "comment_id": 76912218, "body": "@Simas sir, thank you for admit my answer. but I&#39;m not good at English, I don&#39;t like to repeat it. let it live just here. :)"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1499423076, "last_edit_date": 1499423076, "creation_date": 1499422705, "answer_id": 44968330, "question_id": 44967861, "link": "https://stackoverflow.com/questions/44967861/how-to-cross-reference-types-in-parameters/44968330#44968330", "title": "How to cross-reference types in parameters", "body": "<p>I don't like that way. because it will introduce another generic parameter. instead you can introduce a middle role <code>Node</code> interface to describe the relationship, for example:</p>\n\n<pre><code>interface Node&lt;out T&gt;;\n\ninterface Group&lt;out C : Node&lt;*&gt;&gt; : Node&lt;C&gt; {\n    val children: List&lt;C&gt;\n}\n\ninterface Child&lt;out G : Group&lt;*&gt;&gt; : Node&lt;G&gt; {\n    val parent: G;\n}\n\nclass MyGroup : Group&lt;MyChild&gt; {\n    override val children: List&lt;MyChild&gt;\n        get() = TODO(\"not implemented\")\n}\n\nclass MyChild : Child&lt;MyGroup&gt; {\n    override val parent: MyGroup\n        get() = TODO(\"not implemented\")\n}\n</code></pre>\n\n<p>the middle role just like as <code>kotlin.Function</code>:</p>\n\n<pre><code>public interface Function&lt;out R&gt;\n</code></pre>\n\n<p><em>Note</em>: the <code>out</code> variance is optional.</p>\n"}], "owner": {"reputation": 41614, "user_id": 3249477, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wzOND.jpg?s=128&g=1", "display_name": "Simas", "link": "https://stackoverflow.com/users/3249477/simas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "closed_date": 1499425983, "answer_count": 1, "score": 1, "last_activity_date": 1499423076, "creation_date": 1499421292, "question_id": 44967861, "link": "https://stackoverflow.com/questions/44967861/how-to-cross-reference-types-in-parameters", "closed_reason": "Duplicate", "title": "How to cross-reference types in parameters", "body": "<p>I'm trying to cross-reference types in their generic parameters.\nIn java, I have this:</p>\n\n<pre><code>public interface Group&lt;C extends Child&gt; {\n  List&lt;C&gt; getChildren();\n}\n\npublic interface Child&lt;G extends Group&gt; {\n  G getParent();\n}\n\nclass MyGroup implements Group&lt;MyChild&gt; {\n  @Override\n  public List&lt;MyChild&gt; getChildren() {\n    return null;\n  }\n}\n\nclass MyChild implements Child&lt;MyGroup&gt; {\n  @Override\n  public MyGroup getParent() {\n    return null;\n  }\n}\n</code></pre>\n\n<p>Using AndroidStudio's \"Convert to Kotlin\" function results in:</p>\n\n<pre><code>interface Group&lt;C : Child&lt;*&gt;&gt; {\n  val children: List&lt;C&gt;\n}\n\ninterface Child&lt;G : Group&lt;*&gt;&gt; {\n  val parent: G\n}\n\ninternal inner class MyGroup : Group&lt;MyChild&gt; {\n  override val children: List&lt;MyChild&gt;?\n    get() = null\n}\n\ninternal inner class MyChild : Child&lt;MyGroup&gt; {\n  override val parent: MyGroup?\n    get() = null\n}\n</code></pre>\n\n<p>Which throws: Finite Bound Restriction violated.</p>\n\n<p>Is there any way I can write such code in kotlin?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 5, "creation_date": 1499419616, "post_id": 44967173, "comment_id": 76909337, "body": "Have you tried that &quot;prior research&quot; thing? Like putting &quot;kotlin any&quot; into any search engine?!"}], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 2, "creation_date": 1499438344, "post_id": 44967199, "comment_id": 76921995, "body": "Kotlin doesn&#39;t actually have non-nullable <i>classes</i>; it has non-nullable <i>types</i>. A <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type/index.html\" rel=\"nofollow noreferrer\"><code>KType</code></a> has an <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type/is-marked-nullable.html\" rel=\"nofollow noreferrer\">isMarkedNullable</a> property while <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/\" rel=\"nofollow noreferrer\"><code>KClass</code></a> doesn&#39;t. i.e. Every class is a subclass of <code>Any</code> in Kotlin, and all types are subtypes of <code>Any?</code>."}, {"owner": {"reputation": 164, "user_id": 4943560, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lAFBvOuiyPU/AAAAAAAAAAI/AAAAAAAAAIY/nJ7qfz08yoQ/photo.jpg?sz=128", "display_name": "sanjay km", "link": "https://stackoverflow.com/users/4943560/sanjay-km"}, "edited": false, "score": 0, "creation_date": 1553759595, "post_id": 44967199, "comment_id": 97505701, "body": "if any class is same as Object class, then why any class does not have all the methods as object class, where are wait, notify and other methods ?"}, {"owner": {"reputation": 1283, "user_id": 3897333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d784367ca82572dea0a2c43217770b?s=128&d=identicon&r=PG", "display_name": "Paul Stelian", "link": "https://stackoverflow.com/users/3897333/paul-stelian"}, "reply_to_user": {"reputation": 164, "user_id": 4943560, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lAFBvOuiyPU/AAAAAAAAAAI/AAAAAAAAAIY/nJ7qfz08yoQ/photo.jpg?sz=128", "display_name": "sanjay km", "link": "https://stackoverflow.com/users/4943560/sanjay-km"}, "edited": false, "score": 0, "creation_date": 1568762278, "post_id": 44967199, "comment_id": 102375291, "body": "@sanjaykm I suppose they are explicitly hidden."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1568833803, "post_id": 44967199, "comment_id": 102404625, "body": "The comment here about types was quite correct. I don&#39;t know why I didn&#39;t fix my answer at the time, but I did now! Thank you, @mfulton26.  As for why some things aren&#39;t visible on <code>Any</code>, indeed, <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> often hide some of the members of the type that they map to."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 14, "last_activity_date": 1568833674, "last_edit_date": 1568833674, "creation_date": 1499419498, "answer_id": 44967199, "question_id": 44967173, "link": "https://stackoverflow.com/questions/44967173/kotlin-is-kotlin-contain-object-class-like-base-class-in-java/44967199#44967199", "title": "Kotlin - Is kotlin contain Object class like base class in java?", "body": "<p>Yes, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/\" rel=\"noreferrer\"><code>Any</code></a> is the root of the Kotlin class hierarchy exactly like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\" rel=\"noreferrer\"><code>Object</code></a> is the root of the Java class hierarchy. </p>\n\n<p>In other words, every non-nullable type is a subtype of <code>Any</code> in Kotlin, and all types are subtypes of <code>Any?</code>.</p>\n\n<p>When using Kotlin on the JVM, it's actually just <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">mapped</a> to <code>Object</code> under the hood, so they are the exact same thing.</p>\n"}, {"tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": false, "score": 1, "last_activity_date": 1499419832, "creation_date": 1499419832, "answer_id": 44967327, "question_id": 44967173, "link": "https://stackoverflow.com/questions/44967173/kotlin-is-kotlin-contain-object-class-like-base-class-in-java/44967327#44967327", "title": "Kotlin - Is kotlin contain Object class like base class in java?", "body": "<p>Your code could be written like this.</p>\n\n<p><code>var obj_str: Any = \"NEW\" //You don't need to cast it</code>\nor</p>\n\n<p><code>var obj_str: Any? = \"NEW\" //If obj_str could be null</code> </p>\n"}], "owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4200, "favorite_count": 1, "accepted_answer_id": 44967199, "answer_count": 2, "score": 1, "last_activity_date": 1568833674, "creation_date": 1499419397, "last_edit_date": 1499668826, "question_id": 44967173, "link": "https://stackoverflow.com/questions/44967173/kotlin-is-kotlin-contain-object-class-like-base-class-in-java", "title": "Kotlin - Is kotlin contain Object class like base class in java?", "body": "<p>In my code i defined below variable,</p>\n\n<pre><code>var obj_str: Object = \"NEW\" as Object  \n</code></pre>\n\n<p>which gives warning <code>This class shouldn't be used in Kotlin. Use kotlin.Any instead</code></p>\n\n<p>So, i need to know <strong>Any</strong> is similar to <strong>Object</strong> in kotlin or any thing else?</p>\n\n<p>Also need to know for wait method like wait(), notify() etc are available in Object class but not in Any, so perform that operation in kotlin? </p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 5169, "user_id": 3494639, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ecb9eb312b5a2fad53dacf42b14988df?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelStoddart", "link": "https://stackoverflow.com/users/3494639/michaelstoddart"}, "edited": false, "score": 1, "creation_date": 1499418799, "post_id": 44966933, "comment_id": 76908780, "body": "Have you tried invalidate caches/restart or a clean and rebuild of the project?"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1499419063, "creation_date": 1499419063, "answer_id": 44967047, "question_id": 44966933, "link": "https://stackoverflow.com/questions/44966933/android-studio-3-unable-to-build-kotlin-fragment/44967047#44967047", "title": "Android Studio 3 unable to build kotlin fragment", "body": "<p>You seem to be missing all Kotlin dependencies other than having the version declared (you should probably update that to <code>1.1.3</code> as well, which is the latest available as of now). </p>\n\n<p>You can configure your project in two ways:</p>\n\n<ul>\n<li>Remove the Kotlin version you have declared, and then go to <code>Tools -&gt; Kotlin -&gt; Configure Kotlin in Project</code>, and follow the steps presented there.</li>\n<li>Alternatively, you can do it in a more manual way by following the steps described <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#targeting-android\" rel=\"nofollow noreferrer\">here</a> to set up the Kotlin Gradle plugin, including following the link that's there and setting up the standard library dependency as well.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 360, "user_id": 1698230, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1c6ce4883e6287d0326ce7c6bd346e62?s=128&d=identicon&r=PG&f=1", "display_name": "koherent", "link": "https://stackoverflow.com/users/1698230/koherent"}, "is_accepted": true, "score": 1, "last_activity_date": 1499423930, "creation_date": 1499423930, "answer_id": 44968721, "question_id": 44966933, "link": "https://stackoverflow.com/questions/44966933/android-studio-3-unable-to-build-kotlin-fragment/44968721#44968721", "title": "Android Studio 3 unable to build kotlin fragment", "body": "<p>Finally was able to get it working. For anyone who is going through a similar problem. </p>\n\n<p>project build.gradle</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.3'\n    ext.anko_version = '0.10.1'\n\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha5'\n        classpath 'com.google.gms:google-services:3.0.0'\n        classpath \"io.realm:realm-gradle-plugin:3.0.0\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>app build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'realm-android'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    signingConfigs {\n        splits {\n            abi {\n                enable true //enables the ABIs split mechanism\n                reset() //reset the list of ABIs to be included to an empty string\n                include 'x86', 'armeabi', 'armeabi-v7a', 'mips', 'x86_64', 'arm64-v8a'\n                universalApk true\n            }\n        }\n    project.ext.versionCodes = ['armeabi': 1, 'armeabi-v7a': 2, 'arm64-v8a': 3, 'mips': 5, 'mips64': 6, 'x86': 8, 'x86_64': 9]\n\n    android.applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            output.versionCodeOverride =\n                    project.ext.versionCodes.get(output.getFilter(\n                            com.android.build.OutputFile.ABI), 0) * 10000000 + android.defaultConfig.versionCode\n        }\n    }\n}\ncompileSdkVersion 25\nbuildToolsVersion '26'\ndefaultConfig {\n    applicationId \"com.example\"\n    minSdkVersion 15\n    targetSdkVersion 23\n    versionCode 20\n    versionName \"v.32\"\n    testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'\n    multiDexEnabled true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        signingConfig signingConfigs.releaseConfig\n    }\n}\npackagingOptions {\n    exclude 'LICENSE.txt'\n}\nrepositories {\n    maven { url \"https://jitpack.io\" }\n}\nlintOptions {\n    disable \"ResourceType\"\n}\ndexOptions {\n    javaMaxHeapSize \"4g\"\n}\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n    compile 'com.google.android.gms:play-services:10.2.6'\n    compile 'com.android.support:design:25.3.1'\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support:cardview-v7:25.3.1'\n    compile 'com.google.code.gson:gson:2.6.2'\n    //    compile 'io.realm:realm-android:0.87.5'\n    compile 'com.android.support:recyclerview-v7:25.3.1'\n    compile 'com.github.jkwiecien:EasyImage:1.3.1'\n    compile 'com.mcxiaoke.volley:library:1.0.19'\n    compile 'com.yarolegovich:lovely-dialog:1.0.4'\n    compile 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\n    compile 'com.github.ParkSangGwon:TedPermission:v1.0.12'\n    compile 'com.github.lovetuzitong:MultiImageSelector:1.2'\n    compile 'com.github.piotrek1543:CustomSpinner:0.1'\n    compile 'com.github.ganfra:material-spinner:1.1.1'\n    compile 'com.getbase:floatingactionbutton:1.10.1'\n    compile 'com.appyvet:materialrangebar:1.3'\n    compile 'com.afollestad.material-dialogs:core:0.9.4.5'\n    compile 'com.mixpanel.android:mixpanel-android:4.+'\n    compile 'com.github.ericwlange:AndroidJSCore:3.0.1'\n    compile 'com.android.support:multidex:1.0.0'\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    compile \"org.jetbrains.anko:anko-sdk25:$anko_version\"\n    compile \"org.jetbrains.anko:anko-sdk25-coroutines:$anko_version\"\n    compile \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    compile files('libs/bcpkix-jdk15on-1.56.0.0.jar')\n    compile files('libs/core-1.56.0.0.jar')\n    compile files('libs/prov-1.56.0.0.jar')\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}], "owner": {"reputation": 360, "user_id": 1698230, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1c6ce4883e6287d0326ce7c6bd346e62?s=128&d=identicon&r=PG&f=1", "display_name": "koherent", "link": "https://stackoverflow.com/users/1698230/koherent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 44968721, "answer_count": 2, "score": 0, "last_activity_date": 1499423930, "creation_date": 1499418731, "question_id": 44966933, "link": "https://stackoverflow.com/questions/44966933/android-studio-3-unable-to-build-kotlin-fragment", "title": "Android Studio 3 unable to build kotlin fragment", "body": "<p>Im trying to use Kotlin with Android Studio 3.0 with my existing project. \nI have created a fragment using kotlin. Im trying to use the kotlin fragment in my Java Activity. But everytime i try to run it I get </p>\n\n<pre><code>Error:(209, 5) error: cannot find symbol class BlankFragment\n</code></pre>\n\n<p>BlankFragment.kt</p>\n\n<pre><code>import android.content.Context\nimport android.net.Uri\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n\nclass BlankFragment : Fragment() {\n\n    // TODO: Rename and change types of parameters\n    private var mParam1: String? = null\n    private var mParam2: String? = null\n\n    private var mListener: OnFragmentInteractionListener? = null\n\n    public override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1)\n            mParam2 = getArguments().getString(ARG_PARAM2)\n        }\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup, savedInstanceState: Bundle?): View\n            = FragmentUi&lt;Fragment&gt;().createView(AnkoContext.create(ctx, this))\n\n}\n\nclass FragmentUi&lt;T&gt;: AnkoComponent&lt;T&gt; {\n    override fun createView(ui: AnkoContext&lt;T&gt;) = with(ui) {\n        verticalLayout {\n            textView {\n                text = R.string.app_name\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>project - build.gradle</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.1'\n    ext.anko_version = '0.10.1'\n\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha5'\n        classpath 'com.google.gms:google-services:3.0.0'\n        classpath \"io.realm:realm-gradle-plugin:3.0.0\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>app build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'realm-android'\n\nandroid {\n    signingConfigs {\n        splits {\n            abi {\n                enable true //enables the ABIs split mechanism\n                reset() //reset the list of ABIs to be included to an empty string\n                include 'x86', 'armeabi', 'armeabi-v7a', 'mips', 'x86_64', 'arm64-v8a'\n                universalApk true\n            }\n        }\n    project.ext.versionCodes = ['armeabi': 1, 'armeabi-v7a': 2, 'arm64-v8a': 3, 'mips': 5, 'mips64': 6, 'x86': 8, 'x86_64': 9]\n\n    android.applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            output.versionCodeOverride =\n                    project.ext.versionCodes.get(output.getFilter(\n                            com.android.build.OutputFile.ABI), 0) * 10000000 + android.defaultConfig.versionCode\n        }\n    }\n}\ncompileSdkVersion 25\nbuildToolsVersion '26'\ndefaultConfig {\n    applicationId \"com.example\"\n    minSdkVersion 15\n    targetSdkVersion 23\n    versionCode 20\n    versionName \"v.32\"\n    testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'\n    multiDexEnabled true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        signingConfig signingConfigs.releaseConfig\n    }\n}\npackagingOptions {\n    exclude 'LICENSE.txt'\n}\nrepositories {\n    maven { url \"https://jitpack.io\" }\n}\nlintOptions {\n    disable \"ResourceType\"\n}\ndexOptions {\n    javaMaxHeapSize \"4g\"\n}\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n    compile 'com.google.android.gms:play-services:10.2.6'\n    compile 'com.android.support:design:25.3.1'\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support:cardview-v7:25.3.1'\n    compile 'com.google.code.gson:gson:2.6.2'\n    //    compile 'io.realm:realm-android:0.87.5'\n    compile 'com.android.support:recyclerview-v7:25.3.1'\n    compile 'com.github.jkwiecien:EasyImage:1.3.1'\n    compile 'com.mcxiaoke.volley:library:1.0.19'\n    compile 'com.yarolegovich:lovely-dialog:1.0.4'\n    compile 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\n    compile 'com.github.ParkSangGwon:TedPermission:v1.0.12'\n    compile 'com.github.lovetuzitong:MultiImageSelector:1.2'\n    compile 'com.github.piotrek1543:CustomSpinner:0.1'\n    compile 'com.github.ganfra:material-spinner:1.1.1'\n    compile 'com.getbase:floatingactionbutton:1.10.1'\n    compile 'com.appyvet:materialrangebar:1.3'\n    compile 'com.afollestad.material-dialogs:core:0.9.4.5'\n    compile 'com.mixpanel.android:mixpanel-android:4.+'\n    compile 'com.github.ericwlange:AndroidJSCore:3.0.1'\n    compile 'com.android.support:multidex:1.0.0'\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    compile \"org.jetbrains.anko:anko-sdk25:$anko_version\"\n    compile \"org.jetbrains.anko:anko-sdk25-coroutines:$anko_version\"\n    compile \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\n    compile files('libs/bcpkix-jdk15on-1.56.0.0.jar')\n    compile files('libs/core-1.56.0.0.jar')\n    compile files('libs/prov-1.56.0.0.jar')\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 1, "creation_date": 1499414156, "post_id": 44965446, "comment_id": 76905720, "body": "Does memoization means caching result?"}, {"owner": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1499414382, "post_id": 44965446, "comment_id": 76905878, "body": "@Joshua, yes. Thanks for the comment. I edited the question and added  &quot;caching the result&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "edited": false, "score": 0, "creation_date": 1499416234, "post_id": 44965641, "comment_id": 76907039, "body": "Thanks @Joshua, excellent solution for the given example. I actually over-simplied the example. In my real world use case the member function takes 1 or more parameters to calculate something using the internal state. I have to adjust the question or open up a second question with a &quot;tricker&quot; example..."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "edited": false, "score": 1, "creation_date": 1499416332, "post_id": 44965641, "comment_id": 76907107, "body": "@Peti I can edit the answer if you give more details =)"}, {"owner": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "edited": false, "score": 0, "creation_date": 1499417143, "post_id": 44965641, "comment_id": 76907620, "body": "I changed the example. Now the member function has 1 parameter."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "edited": false, "score": 1, "creation_date": 1499418108, "post_id": 44965641, "comment_id": 76908356, "body": "@Peti see the  new answer"}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1499418510, "last_edit_date": 1499418510, "creation_date": 1499414650, "answer_id": 44965641, "question_id": 44965446, "link": "https://stackoverflow.com/questions/44965446/memoization-of-member-function-of-kotlin-data-class/44965641#44965641", "title": "Memoization of member function of Kotlin data class", "body": "<p><code>a</code> and <code>b</code> are <code>val</code>, so you can assign the result to a <code>val</code></p>\n\n<pre><code>data class MyDataClass(val a: Int = 1,\n                       val b: Int = 2) {\n    val sum = a + b\n}\n</code></pre>\n\n<p>If the calculation is expensive, you can use lazy to delay calculation.</p>\n\n<pre><code>data class MyDataClass(val a: Int = 1,\n                        val b: Int = 2) {\n    val sum: Int by lazy {\n        a + b\n    }\n}\n</code></pre>\n\n<p>Edit: New answer for edited question</p>\n\n<pre><code>interface StringMatchable {\n    fun matches(searchTerm: String): Boolean\n}\n\ndata class MyDataClass(val name: String = \"John Doe\",\n                       val description: String = \"Famous person\") : StringMatchable by \nCacheStringMatchable({\n    searchTerm -&gt;\n    name.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n            || description.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n})\n\nclass CacheStringMatchable(private val function: (String) -&gt; Boolean) : StringMatchable {\n    private val map: MutableMap&lt;String, Boolean&gt; = mutableMapOf()\n    override fun matches(searchTerm: String): Boolean {\n        return map.computeIfAbsent(searchTerm, function)\n    }\n}\n</code></pre>\n\n<p>To delegate a method, it is only possible by interface currently. So, it probably cannot be written in generic way (i.e. 1 cache class for all).</p>\n\n<p>Edit2: If this is the only class need <code>matches()</code>, then here is a simpler answer</p>\n\n<pre><code>data class MyDataClass(val name: String = \"John Doe\",\n                       val description: String = \"Famous person\") {\n    private val map: MutableMap&lt;String, Boolean&gt; = mutableMapOf()\n    fun matches(searchTerm: String): Boolean {\n        return map.computeIfAbsent(searchTerm, {\n            searchTerm -&gt;\n            name.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n                    || description.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n        })\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 2, "last_activity_date": 1499420243, "creation_date": 1499420243, "answer_id": 44967483, "question_id": 44965446, "link": "https://stackoverflow.com/questions/44965446/memoization-of-member-function-of-kotlin-data-class/44967483#44967483", "title": "Memoization of member function of Kotlin data class", "body": "<p>You can remove a lot of the boilerplate from your Funktionale code:</p>\n\n<pre><code>data class MyMemoizedDataClassV1(val name: String = \"John Doe\",\n                                 val description: String = \"Famous person\") {\n\n    val matches = { searchTerm: String -&gt;\n        println(\"Calculating...\")\n        name.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n           || description.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n    }.memoize()\n\n}\n</code></pre>\n\n<p>You have access to <code>name</code> and <code>description</code> from the data class in your lambda, so you don't have to pass them as parameters. Having them as parameters would make the memoize-function use them in the key to lookup the answer, but this is useless because they never change (as they are defined with <code>val</code>).</p>\n\n<p>Also, because <code>matches</code> has the type <code>(String) -&gt; Boolean</code>, you can just expose the function-property directly in your data class, instead of creating another function that calls it. Finally, I removed some types that the compiler can infer.</p>\n"}], "owner": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 0, "accepted_answer_id": 44967483, "answer_count": 2, "score": 1, "last_activity_date": 1499420243, "creation_date": 1499413996, "last_edit_date": 1499417087, "question_id": 44965446, "link": "https://stackoverflow.com/questions/44965446/memoization-of-member-function-of-kotlin-data-class", "title": "Memoization of member function of Kotlin data class", "body": "<p>In the following Kotlin example, I'd like to \"memoize\" (cache the result of) the member function <code>matches</code>:</p>\n\n<pre><code>import java.util.regex.Pattern\n\ndata class MyDataClass(val name: String = \"John Doe\",\n                       val description: String = \"Famous person\") {\n\n    //TODO memoize this\n    fun matches(searchTerm: String): Boolean {\n        println(\"Calculating...\")\n        return name.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n                || description.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val myData = MyDataClass()\n    println(myData.matches(\"John\"))\n    println(myData.matches(\"John\"))\n    println(myData.matches(\"John\"))\n    println(myData.matches(\"Famous\"))\n    println(myData.matches(\"Famous\"))\n    println(myData.matches(\"Famous\"))    \n}\n</code></pre>\n\n<p>As far as I can see, Kotlin &lt;= 1.1 doesn't support memoization. Of course, you can write your own memoization function or use a library like e.g. <a href=\"https://github.com/MarioAriasC/funKTionale\" rel=\"nofollow noreferrer\">https://github.com/MarioAriasC/funKTionale</a></p>\n\n<p>Using funKTionale, I don't have to write my own memoization function and came to this solution. Unfortunately it looks \"boilerplatey\":</p>\n\n<pre><code>import org.funktionale.memoization.memoize\nimport java.util.regex.Pattern\n\ndata class MyMemoizedDataClassV1(val name: String = \"John Doe\",\n                                 val description: String = \"Famous person\") {\n\n    private val memoizedMatches: (String, String, String) -&gt; Boolean =\n            { name: String, description: String, searchTerm: String -&gt;\n                println(\"Calculating...\")\n                name.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n                        || description.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n            }.memoize()\n\n    fun matches(searchTerm: String): Boolean {\n        return memoizedMatches(name, description, searchTerm)\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val myData = MyMemoizedDataClassV1()\n    println(myData.matches(\"John\"))\n    println(myData.matches(\"John\"))\n    println(myData.matches(\"John\"))\n    println(myData.matches(\"Famous\"))\n    println(myData.matches(\"Famous\"))\n    println(myData.matches(\"Famous\"))\n}\n</code></pre>\n\n<p>I think of <strong>a nicer looking solution</strong> like</p>\n\n<pre><code>data class MyDataClass(val name: String = \"John Doe\",\n                       val description: String = \"Famous person\") {\n\n    fun matches(searchTerm: String): Boolean {\n        println(\"Calculating...\")\n        return name.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n                || description.matches(\"(?i).*${Pattern.quote(searchTerm)}.*\".toRegex())\n    }.memoize() //TODO how?\n}\n</code></pre>\n\n<p>But, how to achieve this?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 5, "creation_date": 1499409231, "post_id": 44963988, "comment_id": 76902877, "body": "Remove the TODO(&quot;not implemented&quot;) and see if it works"}, {"owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "reply_to_user": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1499409641, "post_id": 44963988, "comment_id": 76903063, "body": "@AlfMoh , Unreachable error removed..But yet again data is NOT infalted in the list"}, {"owner": {"reputation": 1929, "user_id": 6123663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c1aa29647b1895205f78349b7bdf10?s=128&d=identicon&r=PG&f=1", "display_name": "ak sacha", "link": "https://stackoverflow.com/users/6123663/ak-sacha"}, "edited": false, "score": 0, "creation_date": 1499409956, "post_id": 44963988, "comment_id": 76903245, "body": "pass context in the constructor and use that context in Layout.from()."}], "answers": [{"comments": [{"owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1499410647, "post_id": 44964357, "comment_id": 76903627, "body": "Thanks Joel..What a silly mistake, i have done :( ...In android i have used it many times..Thanks"}], "tags": [], "owner": {"reputation": 762, "user_id": 4067241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc02a878c34e62f14ebdc9d73e3666f9?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Raju", "link": "https://stackoverflow.com/users/4067241/joel-raju"}, "is_accepted": true, "score": 2, "last_activity_date": 1499413644, "last_edit_date": 1499413644, "creation_date": 1499410501, "answer_id": 44964357, "question_id": 44963988, "link": "https://stackoverflow.com/questions/44963988/kotlin-recycleview-item-is-not-inflating-unreachable-code-on-each-overridden/44964357#44964357", "title": "Kotlin || Recycleview item is not inflating: Unreachable code on each overridden method of RecycleView.Adapter", "body": "<p>You haven't added a layout manager for the RecyclerView.Just add a <code>LinearLayoutManager</code> OR a <code>GridLayoutManager</code></p>\n\n<p><code>recycler_view.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)</code></p>\n"}, {"comments": [{"owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1569820825, "post_id": 58138807, "comment_id": 102705570, "body": "Thanks for your input..+1 for the input :)"}], "tags": [], "owner": {"reputation": 1081, "user_id": 5243734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ba260212a8302f682504e727e1447?s=128&d=identicon&r=PG&f=1", "display_name": "TSG", "link": "https://stackoverflow.com/users/5243734/tsg"}, "is_accepted": false, "score": 2, "last_activity_date": 1569603941, "creation_date": 1569603941, "answer_id": 58138807, "question_id": 44963988, "link": "https://stackoverflow.com/questions/44963988/kotlin-recycleview-item-is-not-inflating-unreachable-code-on-each-overridden/58138807#58138807", "title": "Kotlin || Recycleview item is not inflating: Unreachable code on each overridden method of RecycleView.Adapter", "body": "<p>your code will not run based on you using the TODO function</p>\n\n<p>check kotlin site for more details <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-t-o-d-o.html\" rel=\"nofollow noreferrer\">TODO function</a></p>\n\n<p>this will always throw an exception unless you remove it or comment it out like so</p>\n\n<p><a href=\"https://i.stack.imgur.com/0r5wz.png\" rel=\"nofollow noreferrer\">comment out TODO</a></p>\n\n<p>To validate answer check your log messages and cross reference the error message against the message set within your TODO</p>\n\n<p>If this is not the issues then its most likely that you haven't set up your recycle_view.layoutManager to be a LinearLayoutManager, GridLayoutManager etc.</p>\n\n<p>this would be done within the class that you have set the content layout to when showing your recycle view on the main UI e.g.         setContentView(R.layout.activity_main)</p>\n\n<p>hope this helps :)</p>\n"}], "owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 0, "accepted_answer_id": 44964357, "answer_count": 2, "score": 1, "last_activity_date": 1569603941, "creation_date": 1499409104, "last_edit_date": 1499839990, "question_id": 44963988, "link": "https://stackoverflow.com/questions/44963988/kotlin-recycleview-item-is-not-inflating-unreachable-code-on-each-overridden", "title": "Kotlin || Recycleview item is not inflating: Unreachable code on each overridden method of RecycleView.Adapter", "body": "<p>I am creating the Custom <code>Recycleview</code>  in <code>Kotlin</code><br>\nI am not getting any exception in the code and it run perfectly but the concern is that item is not getting appear on the <code>Recycleview</code> beacuase the code is unreachable in Adapter class.</p>\n\n<blockquote>\n  <p><strong>Waring :-</strong> Unreachable code on the overridden method of <code>RecycleView</code> adapter.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/FACs0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FACs0.png\" alt=\"Captured image\"></a></p>\n\n<p>Please check my Adapter and Activity class</p>\n\n<p><strong>Adapter Class</strong></p>\n\n<pre><code>class CustomRecycleAdapter(val data: ArrayList&lt;String&gt;) : RecyclerView.Adapter&lt;CustomRecycleAdapter.ViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        val v = LayoutInflater.from(parent?.context).inflate(R.layout.recycle_item, parent, false)\n        return ViewHolder(v)\n\n    }\n\n    override fun getItemCount(): Int {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        return data.size;\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        val item = data[position]\n        println(\"Data is here==&gt;&gt;&gt; \"+item)\n        holder?.textViewName?.text = item;\n    }\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n\n        val textViewName = itemView.findViewById&lt;TextView&gt;(R.id.tvName)\n\n    }\n}\n</code></pre>\n\n<p><strong>Activity class</strong></p>\n\n<pre><code>class FirstRecycleViewExample : AppCompatActivity() {\n    val data = arrayListOf&lt;String&gt;()\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.first_recycleview)\n\n        val recycler_view =   findViewById&lt;RecyclerView&gt;(R.id.recycler_view)\n\n        data.add(\"First Data\")\n        data.add(\"Second Data\")\n        data.add(\"Third Data\")\n        data.add(\"Forth Data\")\n        data.add(\"Fifth Data\")\n\n        //creating our adapter\n        val adapter = CustomRecycleAdapter(data)\n\n        //now adding the adapter to recyclerview\n        recycler_view.adapter = adapter\n\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499405622, "post_id": 44963165, "comment_id": 76901332, "body": "Please keep your code small. It&#39;s not clear where you have the problem so just add the necessary code with the containing problem."}, {"owner": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499405760, "post_id": 44963165, "comment_id": 76901369, "body": "@guenhter can u tell me how can i use  setFocus(), setText() on editText in android with KOTLIN...n also setError()"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 1, "creation_date": 1499405902, "post_id": 44963165, "comment_id": 76901425, "body": "No, I&#39;m not into android and can not give you advice, but if you make a better description (<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> Minimal, Complete, and Verifiable example) the chance is higher that anyone helps you and not just downrates your question."}], "answers": [{"comments": [{"owner": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "edited": false, "score": 0, "creation_date": 1499407465, "post_id": 44963299, "comment_id": 76902025, "body": "etEmail?.isFocusable = false is working fine but the other two methods are not working."}, {"owner": {"reputation": 5621, "user_id": 5275639, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/13aVl.jpg?s=128&g=1", "display_name": "Zeeshan Shabbir", "link": "https://stackoverflow.com/users/5275639/zeeshan-shabbir"}, "reply_to_user": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "edited": false, "score": 0, "creation_date": 1499407861, "post_id": 44963299, "comment_id": 76902197, "body": "I just tested these in my project and these are working fine."}, {"owner": {"reputation": 5621, "user_id": 5275639, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/13aVl.jpg?s=128&g=1", "display_name": "Zeeshan Shabbir", "link": "https://stackoverflow.com/users/5275639/zeeshan-shabbir"}, "reply_to_user": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "edited": false, "score": 0, "creation_date": 1499407954, "post_id": 44963299, "comment_id": 76902232, "body": "i&#39;ve attached the screen shot you can check it out. There must be something that you&#39;re not doing right in your code. Can you post related code."}, {"owner": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "edited": false, "score": 0, "creation_date": 1499408320, "post_id": 44963299, "comment_id": 76902404, "body": "i am doing something like this <code>if (editTextPersonName?.text.toString() == &quot;&quot;) {             editTextPersonName?.error = &quot;Person Name cannot be empty.&quot;             return         }</code>"}, {"owner": {"reputation": 5621, "user_id": 5275639, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/13aVl.jpg?s=128&g=1", "display_name": "Zeeshan Shabbir", "link": "https://stackoverflow.com/users/5275639/zeeshan-shabbir"}, "reply_to_user": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "edited": false, "score": 0, "creation_date": 1499408402, "post_id": 44963299, "comment_id": 76902440, "body": "your check is wrong.  <code>if(etEmail?.text.isNullOrEmpty()){                 etEmail?.setError(&quot;Some error&quot;)             }</code> use this one"}, {"owner": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "edited": false, "score": 0, "creation_date": 1499409148, "post_id": 44963299, "comment_id": 76902826, "body": "i&#39;m directly getting response from server....it&#39;s not checking the if-elseif block"}, {"owner": {"reputation": 5621, "user_id": 5275639, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/13aVl.jpg?s=128&g=1", "display_name": "Zeeshan Shabbir", "link": "https://stackoverflow.com/users/5275639/zeeshan-shabbir"}, "reply_to_user": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "edited": false, "score": 0, "creation_date": 1499409448, "post_id": 44963299, "comment_id": 76902974, "body": "problem is with your if-else logic. see updated answer. Please do accept my answer since i have answered mentioned question in post. For more problem create another question"}, {"owner": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "edited": false, "score": 0, "creation_date": 1499409699, "post_id": 44963299, "comment_id": 76903090, "body": "can u send me the code that u have written on this mail id : suhas07wagre@gmail.com"}, {"owner": {"reputation": 77, "user_id": 12228159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ddd28dfa401973bd61f5aa754bf4e1?s=128&d=identicon&r=PG&f=1", "display_name": "highrankin", "link": "https://stackoverflow.com/users/12228159/highrankin"}, "edited": false, "score": 0, "creation_date": 1581267423, "post_id": 44963299, "comment_id": 106365445, "body": "The amount of time i spent pulling my hair out until this shows me i just need a ? in there! ffs"}], "tags": [], "owner": {"reputation": 5621, "user_id": 5275639, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/13aVl.jpg?s=128&g=1", "display_name": "Zeeshan Shabbir", "link": "https://stackoverflow.com/users/5275639/zeeshan-shabbir"}, "is_accepted": true, "score": 7, "last_activity_date": 1499409507, "last_edit_date": 1499409507, "creation_date": 1499406155, "answer_id": 44963299, "question_id": 44963165, "link": "https://stackoverflow.com/questions/44963165/how-to-set-text-focus-error-on-edittext-in-android-with-kotlin/44963299#44963299", "title": "how to set text, focus, error on editText in android with Kotlin", "body": "<p>This is simple. Lets suppose <code>etEmail</code> is the <code>EditText</code>. You can set text like this</p>\n\n<pre><code>etEmail?.setText(\"some text\")\n</code></pre>\n\n<p>And for error you can use this</p>\n\n<pre><code>etEmail?.error = \"This is error\"\n</code></pre>\n\n<p>And for set foucus you can try this one but i am not sure about it.</p>\n\n<pre><code>etEmail?.isFocusable = false\n</code></pre>\n\n<p>I hope this will help you.</p>\n\n<p>Check the working screenshot of above code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7gzFY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7gzFY.png\" alt=\"enter image description here\"></a></p>\n\n<p>use this logic in <code>askAppointment()</code></p>\n\n<pre><code>private fun askAppointment() {\n\n    if (editTextPersonName?.text.isNullOrEmpty()) {\n        editTextPersonName?.error = \"Person Name cannot be empty.\"\n        return\n    } else if (editTextPersonMobile?.text.isNullOrEmpty()) {\n        editTextPersonMobile?.error = \"Person Mobile cannot be empty.\"\n        return\n    } else if (editTextPersonEmail?.text.isNullOrEmpty()) {\n        editTextPersonEmail?.error = \"Person Email cannot be empty.\"\n        return\n    } else if (editTextSubject?.text.isNullOrEmpty()) {\n        editTextSubject?.error = \"Subject cannot be empty.\"\n        return\n    } else if (editTextDescription?.text.isNullOrEmpty()) {\n        editTextDescription?.error = \"Description cannot be empty.\"\n        return\n    } else if (editTextAppointmentDate?.text.isNullOrEmpty()) {\n        editTextAppointmentDate?.error = \"Appointment Date cannot be empty.\"\n        return\n    } else if (editTextAppointmentTime?.text.isNullOrEmpty()) {\n        editTextAppointmentTime?.error = \"Appointment Time cannot be empty.\"\n        return\n    } else {\n        //creating volley string request\n        val stringRequest = object : StringRequest(Request.Method.POST, URL,\n                Response.Listener&lt;String&gt; { response -&gt;\n                    try {\n                        val jsonObject = JSONObject(response)\n                        val feedback = jsonObject.getString(\"response\")\n                        toast(\"$feedback\")\n                        //finish()       //finish Activity after sending request\n                    } catch (e: JSONException) {\n                        e.printStackTrace()\n                    }\n                },\n                object : Response.ErrorListener {\n                    override fun onErrorResponse(volleyError: VolleyError) {\n                        toast(\"error :(\")\n                    }\n                }) {\n            @Throws(AuthFailureError::class)\n            override fun getParams(): Map&lt;String, String&gt; {\n                val params = HashMap&lt;String, String&gt;()\n                params.put(\"personName\", editTextPersonName?.text.toString())\n                params.put(\"personMobile\", editTextPersonMobile?.text.toString())\n                params.put(\"personEmail\", editTextPersonEmail?.text.toString())\n                params.put(\"subject\", editTextSubject?.text.toString())\n                params.put(\"description\", editTextDescription?.text.toString())\n                params.put(\"appointMentDate\", editTextAppointmentDate?.text.toString())\n                params.put(\"appointMentTime\", editTextAppointmentTime?.text.toString())\n                return params\n            }\n        }\n\n        //adding request to queue\n        AppController.instance?.addToRequestQueue(stringRequest)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 92, "user_id": 6799641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oyi39.jpg?s=128&g=1", "display_name": "Suhas Wagre", "link": "https://stackoverflow.com/users/6799641/suhas-wagre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9798, "favorite_count": 0, "accepted_answer_id": 44963299, "answer_count": 1, "score": 1, "last_activity_date": 1500013030, "creation_date": 1499405399, "last_edit_date": 1500013030, "question_id": 44963165, "link": "https://stackoverflow.com/questions/44963165/how-to-set-text-focus-error-on-edittext-in-android-with-kotlin", "title": "how to set text, focus, error on editText in android with Kotlin", "body": "<p>I searched heavily on internet about how can i use <code>setFocusable()</code>, <code>setText()</code>, <code>setError()</code> etc etc methods on <code>editText(s)</code> in android with Kotlin (I know the fact that we can use the above mentioned methods in java) but I was not able to find the exact solution that will work for me.</p>\n\n<p>I am using \n1.) Volley for http calls\n2.) kotlin plugin for android studio with version = '1.1.3-2'\n3.) anko library</p>\n\n<blockquote>\n  <p>Problems that i am facing when app is running :\n  1.)The setError() method is not getting called.\n  2.)i am not able to use setText() and setFocus() on editText.</p>\n</blockquote>\n\n<p>please note that I need the solution(s) in Kotlin not Java.</p>\n\n<p>Thanks in advance! </p>\n\n<pre><code>private fun askAppointment() {\n\n    if (editTextPersonName?.text.isNullOrEmpty()) {\n        editTextPersonName?.error =\"Person Name cannot be empty.\"\n        return\n    } else if (editTextPersonMobile?.text.isNullOrEmpty()) {\n        editTextPersonMobile?.error = \"Person Mobile cannot be empty.\"\n        return\n    } else if (editTextPersonEmail?.text.isNullOrEmpty()) {\n        editTextPersonEmail?.error = \"Person Email cannot be empty.\"\n        return\n    } else if (editTextSubject?.text.isNullOrEmpty()) {\n        editTextSubject?.error = \"Subject cannot be empty.\"\n        return\n    } else if (editTextDescription?.text.isNullOrEmpty()) {\n        editTextDescription?.error = \"Description cannot be empty.\"\n        return\n    } else if (editTextAppointmentDate?.text.isNullOrEmpty()) {\n        editTextAppointmentDate?.error = \"Appointment Date cannot be empty.\"\n        return\n    } else if (editTextAppointmentTime?.text.isNullOrEmpty()) {\n        editTextAppointmentTime?.error = \"Appointment Time cannot be empty.\"\n        return\n    }\n</code></pre>\n"}, {"tags": ["android", "asynchronous", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1499410150, "post_id": 44962125, "comment_id": 76903342, "body": "What are the async/await calls? Which async library is it?"}, {"owner": {"reputation": 1411, "user_id": 3236455, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3e9c648b24d09ddde9c8a5bd8c671305?s=128&d=identicon&r=PG", "display_name": "der_Fidelis", "link": "https://stackoverflow.com/users/3236455/der-fidelis"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1499632437, "post_id": 44962125, "comment_id": 76975517, "body": "@voddan kotlinx.coroutines"}], "answers": [{"tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": true, "score": 3, "last_activity_date": 1499399642, "creation_date": 1499399642, "answer_id": 44962284, "question_id": 44962125, "link": "https://stackoverflow.com/questions/44962125/best-way-to-apply-a-transform-to-every-element-in-a-list-at-the-same-time-in-kot/44962284#44962284", "title": "Best way to apply a transform to every element in a list at the same time in Kotlin", "body": "<p><code>parallelStream</code> should help.</p>\n\n<pre><code>async {\n    val list = await { list.execute().items.parallelStream().map { initialValue -&gt;\n        getResultAfterALongTime(initialValue)\n    }}\n    onCompletion(list)\n}\n</code></pre>\n"}], "owner": {"reputation": 1411, "user_id": 3236455, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3e9c648b24d09ddde9c8a5bd8c671305?s=128&d=identicon&r=PG", "display_name": "der_Fidelis", "link": "https://stackoverflow.com/users/3236455/der-fidelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 44962284, "answer_count": 1, "score": 1, "last_activity_date": 1499399642, "creation_date": 1499398529, "question_id": 44962125, "link": "https://stackoverflow.com/questions/44962125/best-way-to-apply-a-transform-to-every-element-in-a-list-at-the-same-time-in-kot", "title": "Best way to apply a transform to every element in a list at the same time in Kotlin", "body": "<p>Basically I'm trying to apply a long-running transformation to a list of elements in Kotlin. Right now I'm using the .map function, but this causes all of the transformations to run serially, when I need them to run simultaneously because of time.</p>\n\n<p>Here's how it works now:</p>\n\n<pre><code>async {\n    val list = await { list.execute().items.map { initialValue -&gt;\n        getResultAfterALongTime(initialValue)\n    }}\n    onCompletion(list)\n}\n</code></pre>\n\n<p>As I explained, the function .map runs the transformation and then waits for it to finish before preceding to the next element. How should I alter this to allow the transformations to run concurrently and the proced when they're all finished?</p>\n"}, {"tags": ["maven", "kotlin", "javalin"], "answers": [{"comments": [{"owner": {"reputation": 32716, "user_id": 53788, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ccbc66bc886b0605decec37c74cb1a7d?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/53788/paul"}, "edited": false, "score": 1, "creation_date": 1499425795, "post_id": 44963023, "comment_id": 76913265, "body": "I wouldn&#39;t say I forgot so much as it wasn&#39;t listed in the tutorial and I couldn&#39;t find the docs that told me what namespace the AtomicInteger class was in. :). But thanks, this is exactly what I needed."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 32716, "user_id": 53788, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ccbc66bc886b0605decec37c74cb1a7d?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/53788/paul"}, "edited": false, "score": 0, "creation_date": 1499463179, "post_id": 44963023, "comment_id": 76935291, "body": "@Paul if this has solved you problem, please mark the question as solved. Thanks."}, {"owner": {"reputation": 32716, "user_id": 53788, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ccbc66bc886b0605decec37c74cb1a7d?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/53788/paul"}, "edited": false, "score": 0, "creation_date": 1499463359, "post_id": 44963023, "comment_id": 76935376, "body": "Sorry, I hit it on my mobile but I guess it didn&#39;t sync."}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 2, "last_activity_date": 1499404572, "creation_date": 1499404572, "answer_id": 44963023, "question_id": 44961868, "link": "https://stackoverflow.com/questions/44961868/javalin-tutorial-yielding-unresolved-reference-atomicinteger/44963023#44963023", "title": "Javalin tutorial yielding &quot;Unresolved reference: AtomicInteger&quot;", "body": "<p>In the class <code>UserDao</code> you've forgotten to add the following import</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger\n</code></pre>\n\n<p>All the sources for the sample are available on github (<a href=\"https://github.com/tipsy/javalin-kotlin-example\" rel=\"nofollow noreferrer\">https://github.com/tipsy/javalin-kotlin-example</a>) so you can look that up as reference.</p>\n"}], "owner": {"reputation": 32716, "user_id": 53788, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ccbc66bc886b0605decec37c74cb1a7d?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/53788/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 44963023, "answer_count": 1, "score": 2, "last_activity_date": 1548680096, "creation_date": 1499396380, "last_edit_date": 1548680096, "question_id": 44961868, "link": "https://stackoverflow.com/questions/44961868/javalin-tutorial-yielding-unresolved-reference-atomicinteger", "title": "Javalin tutorial yielding &quot;Unresolved reference: AtomicInteger&quot;", "body": "<p>Title says it. Following the <a href=\"https://javalin.io/tutorials/simple-kotlin-example\" rel=\"nofollow noreferrer\">Javalin tutorial</a> as part of learning kotlin and getting the Unresolved Reference on <code>mvn package</code>.  I imagine I need to pull in a dependency, but the example doesn't show it and Google is failing me.  My pom.xml is large-ish, but my version info is as follows:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;kotlin.version&gt;1.1.3-2&lt;/kotlin.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>and my current dependency list is:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.javalin&lt;/groupId&gt;\n        &lt;artifactId&gt;javalin&lt;/artifactId&gt;\n        &lt;version&gt;0.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Not really sure where to go from here.</p>\n"}, {"tags": ["kotlin", "keyword"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1499387847, "post_id": 44960789, "comment_id": 76896984, "body": "This might have been reserved at one time since it would be important in some dynamic platforms (i.e. KotlinJS) and instead likely was replaced with a platform specific function, such as <code>jsTypeOf</code> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/js-type-of.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/js-type-of.ht&zwnj;&#8203;ml</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 3, "last_activity_date": 1499405088, "creation_date": 1499405088, "answer_id": 44963107, "question_id": 44960789, "link": "https://stackoverflow.com/questions/44960789/what-is-the-typeof-keyword/44963107#44963107", "title": "What is the typeof keyword", "body": "<p>Have a look at the list of keywords in Kotlin at <a href=\"https://github.com/JetBrains/kotlin/blob/master/compiler/frontend/src/org/jetbrains/kotlin/lexer/KtTokens.java\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/master/compiler/frontend/src/org/jetbrains/kotlin/lexer/KtTokens.java</a></p>\n\n<blockquote>\n<pre><code>// Reserved for future use: KtKeywordToken TYPEOF_KEYWORD =\nKtKeywordToken.keyword(\"typeof\");\n</code></pre>\n</blockquote>\n\n<p>So this one is not used currently but might be in the future</p>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 44963107, "answer_count": 1, "score": 3, "last_activity_date": 1499405088, "creation_date": 1499387606, "last_edit_date": 1499388068, "question_id": 44960789, "link": "https://stackoverflow.com/questions/44960789/what-is-the-typeof-keyword", "title": "What is the typeof keyword", "body": "<p>I couldn't find what it means in Kotlin docs nor through googling it. It certainly does exist though as IntelliJ highlights it as a keyword an <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/descriptors/src/org/jetbrains/kotlin/renderer/KeywordStringsGenerated.java#L55\" rel=\"nofollow noreferrer\">Kotlin's autogenerated keyword list file contains it too</a>. I tried to figure out myself what it does but the only result I got is IntelliJ telling me <code>Unexpected tokens (use ';' to separate expressions on the same line)</code></p>\n\n<p>What is it and what it does?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "answers": [{"comments": [{"owner": {"reputation": 882, "user_id": 5266029, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-nZMhvzSMZU8/AAAAAAAAAAI/AAAAAAAAAIY/GvD45xnc7FI/photo.jpg?sz=128", "display_name": "Omkar Amberkar", "link": "https://stackoverflow.com/users/5266029/omkar-amberkar"}, "edited": false, "score": 0, "creation_date": 1499385155, "post_id": 44959478, "comment_id": 76896344, "body": "I rephrased my question. So now how do I solve my problem?"}], "tags": [], "owner": {"reputation": 5020, "user_id": 819911, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ba6f8961787eda53ce9881751ad9f43e?s=128&d=identicon&r=PG&f=1", "display_name": "gsb", "link": "https://stackoverflow.com/users/819911/gsb"}, "is_accepted": false, "score": 0, "last_activity_date": 1499377960, "creation_date": 1499377960, "answer_id": 44959478, "question_id": 44959014, "link": "https://stackoverflow.com/questions/44959014/how-to-represent-nested-relation-with-android-room/44959478#44959478", "title": "How to represent nested @Relation with Android Room?", "body": "<p>You can use <code>@Relation</code> annotation for POJO classes. </p>\n\n<blockquote>\n  <p>A convenience annotation which can be used in a Pojo to automatically\n  fetch relation entities. When the Pojo is returned from a query, all\n  of its relations are also fetched by Room.</p>\n</blockquote>\n\n<p><a href=\"https://developer.android.com/reference/android/arch/persistence/room/Relation.html\" rel=\"nofollow noreferrer\">Here</a> is the documentation.</p>\n\n<p>Also, this answer has more details: <a href=\"https://stackoverflow.com/questions/44330452/android-persistence-room-cannot-figure-out-how-to-read-this-field-from-a-curso/44424148#44424148\">Android Persistence room: &quot;Cannot figure out how to read this field from a cursor&quot;</a></p>\n"}], "owner": {"reputation": 882, "user_id": 5266029, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-nZMhvzSMZU8/AAAAAAAAAAI/AAAAAAAAAIY/GvD45xnc7FI/photo.jpg?sz=128", "display_name": "Omkar Amberkar", "link": "https://stackoverflow.com/users/5266029/omkar-amberkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2089, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1499384812, "creation_date": 1499375867, "last_edit_date": 1499384812, "question_id": 44959014, "link": "https://stackoverflow.com/questions/44959014/how-to-represent-nested-relation-with-android-room", "title": "How to represent nested @Relation with Android Room?", "body": "<p>Here is my POJO in kotlin:</p>\n\n<pre><code>data class Pass(var uuid: String,\n                var activationRestrictions:List&lt;ActivationRestriction&gt;)\n\n\ndata class ActivationRestriction(var uuid: String,\n                                 var activationRestrictionExceptions:List&lt;ActivationRestrictionException&gt;)\n\n\ndata class ActivationRestrictionException(var uuid: String)\n</code></pre>\n\n<p>How can I represent this nested relation with Room? <a href=\"https://stackoverflow.com/questions/44330452/android-persistence-room-cannot-figure-out-how-to-read-this-field-from-a-curso/44424148#44424148\">Here</a> is one of the solution, but it does not contain a nested relation. I am specifically looking for solving a nested relationship with Room.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "is_accepted": false, "score": 1, "last_activity_date": 1499368585, "creation_date": 1499368585, "answer_id": 44957168, "question_id": 44957040, "link": "https://stackoverflow.com/questions/44957040/how-to-make-clickable-listview-in-android-using-kotlin/44957168#44957168", "title": "How to make clickable listview in android using kotlin", "body": "<p>It's really not much different from how you'd do it in Java since Kotlin uses Java's frameworks/libraries and its JVM. Just apply the necessary Kotlin plugins and configurations in Android Studio, convert the Java code to Kotlin, and then refer to the <a href=\"https://kotlinlang.org/docs/reference/android-overview.html\" rel=\"nofollow noreferrer\">Kotlin docs</a> for potential bug fixes and whatnot.</p>\n"}], "owner": {"reputation": 181, "user_id": 8266954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f04b23c4b06f8b63e425111e22f24a?s=128&d=identicon&r=PG&f=1", "display_name": "Awinash jaiswal", "link": "https://stackoverflow.com/users/8266954/awinash-jaiswal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 2, "answer_count": 1, "score": -6, "last_activity_date": 1499368585, "creation_date": 1499368042, "question_id": 44957040, "link": "https://stackoverflow.com/questions/44957040/how-to-make-clickable-listview-in-android-using-kotlin", "title": "How to make clickable listview in android using kotlin", "body": "<p>I am new in android development with kotlin  . I am trying to make clickable listview items but not getting good resource.</p>\n"}, {"tags": ["java", "android", "kotlin", "language-interoperability"], "answers": [{"comments": [{"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1499366456, "post_id": 44956535, "comment_id": 76888712, "body": "Appreciate the suggestions. Is there some compilation of such practices?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 1, "creation_date": 1499366570, "post_id": 44956535, "comment_id": 76888779, "body": "@Ryan Added a link to my answer. have a look at it"}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 1, "last_activity_date": 1499366556, "last_edit_date": 1499366556, "creation_date": 1499366083, "answer_id": 44956535, "question_id": 44956496, "link": "https://stackoverflow.com/questions/44956496/android-library-written-in-kotlin-provide-support-for-java-apps/44956535#44956535", "title": "Android library written in Kotlin, provide support for Java apps", "body": "<p>When a function has default arguments you can use the <code>@JvmOverloads</code> annotation to create separate methods for Java users. There are also more similar enhancements to Java support in Kotlin. <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">Here</a> is a list what you can do.</p>\n\n<p>You can also use <code>@Nullable</code> and <code>@NotNull</code> annotations on local variables and fields to improve IDE support for nullable values (also more likely the compiler will fail at compile time rather than runtime). </p>\n\n<p>IntelliJ Idea auto generates not <code>null</code> checks for you when you use the <code>@NotNull</code> annotation.</p>\n"}], "owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 1, "accepted_answer_id": 44956535, "answer_count": 1, "score": 2, "last_activity_date": 1499369131, "creation_date": 1499365935, "question_id": 44956496, "link": "https://stackoverflow.com/questions/44956496/android-library-written-in-kotlin-provide-support-for-java-apps", "title": "Android library written in Kotlin, provide support for Java apps", "body": "<p>I am writing an Android library in Kotlin. But when used in Android apps written in Java the support is very poor. For example default parameters in Kotlin are still required in Java. Another one is, non-null parameters does not accept null in Kotlin app (compile time error) but throws run time exception when <code>null</code> is passed in Java. I know about null checks but they make the code look dirty.</p>\n\n<p>What is the proper way to support Android Java apps? Direction, suggestions, examples are welcome. Thanks.</p>\n"}, {"tags": ["javascript", "kotlin", "kotlin-js-interop"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1499363969, "post_id": 44955888, "comment_id": 76887383, "body": "If you compile to the JVM there is a <code>@JvmStatic</code> annotation. Maybe there is an equivalent of this for JS?"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 1, "creation_date": 1499366609, "post_id": 44955888, "comment_id": 76888803, "body": "Related issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-18891\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-18891</a>"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1499410820, "post_id": 44955888, "comment_id": 76903725, "body": "You can declare a static variable on a class but you cannot declare a abstract static variable. There is no such thing."}], "answers": [{"tags": [], "owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "is_accepted": true, "score": 2, "last_activity_date": 1499428436, "creation_date": 1499428436, "answer_id": 44970158, "question_id": 44955888, "link": "https://stackoverflow.com/questions/44955888/how-to-set-a-static-property-on-a-class-in-kotlin-for-javascript/44970158#44970158", "title": "How to set a static property on a class in Kotlin for Javascript", "body": "<p>Right now we don\u2019t have a direct way to do it, so I\u2019ve created issue <a href=\"https://youtrack.jetbrains.com/issue/KT-18891\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-18891</a></p>\n\n<p>As a workaround, you can write a function like that:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; addStaticMembersTo(source: Any) {\n    val c = T::class.js.asDynamic()\n    val ownNames = js(\"Object\").getOwnPropertyNames(source) as Array&lt;String&gt;\n    val protoNames = js(\"Object\").getOwnPropertyNames(source.asDynamic().constructor.prototype) as Array&lt;String&gt;\n\n    for (name in ownNames + protoNames) {\n        c[name] = source.asDynamic()[name]\n    }\n}\n</code></pre>\n\n<p>And use like:</p>\n\n<pre><code>class A {\n    companion object {\n        init {\n            addStaticMembersTo&lt;A&gt;(object {\n                val bar = 1\n                fun foo() {}                \n            })\n        }\n    }\n}\n</code></pre>\n\n<p>or even make companion object's members available as a static member of class:</p>\n\n<pre><code>class B {\n    companion object {\n        val bar = 1\n        fun foo() {}                \n\n        // should be at the end of companion object\n        init {\n            addStaticMembersTo&lt;B&gt;(this)\n        }\n    }\n}\n</code></pre>\n\n<p>The full example available here:\n<a href=\"https://try.kotl.in/#/UserProjects/uube1qikg3vsegtnefo0ad0jag/30f1qf87dt5k5vjhciirt4t108\" rel=\"nofollow noreferrer\">https://try.kotl.in/#/UserProjects/uube1qikg3vsegtnefo0ad0jag/30f1qf87dt5k5vjhciirt4t108</a></p>\n"}], "owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 44970158, "answer_count": 1, "score": 1, "last_activity_date": 1523277851, "creation_date": 1499363734, "last_edit_date": 1523277851, "question_id": 44955888, "link": "https://stackoverflow.com/questions/44955888/how-to-set-a-static-property-on-a-class-in-kotlin-for-javascript", "title": "How to set a static property on a class in Kotlin for Javascript", "body": "<p>I have a situation where I need to define a static property on a class in Kotlin and when its compiled to Javascript have it become a true static field on that class. In this situation companion objects do not work.</p>\n\n<p>For example, if I have an abstract class and its implementing class like below:</p>\n\n<pre><code>abstract class MyAbstractClass{\n  abstract val id: Int\n}\n\nclass MyClass: MyAbstractClass(){\n  override val id: Int = 1 //I want this to actually be \"static\" on the MyClass\n}\n</code></pre>\n\n<p>The Javascript that this compiles down to is this:</p>\n\n<pre><code>function MyAbstractClass() {\n}\n\nfunction MyClass() {\n  MyAbstractClass.call(this);\n  this.id_jz5fma$_0 = 1;\n}\n\nObject.defineProperty(MyClass.prototype, 'id', {\n  get: function () {\n    return this.id_jz5fma$_0;\n  }\n});\n</code></pre>\n\n<p>But what I need it to compile down to is this:</p>\n\n<pre><code>function MyAbstractClass() {\n}\n\nfunction MyClass() {\n  MyAbstractClass.call(this);\n}\n\nMyClass.id = 1;\n</code></pre>\n\n<p>So that the <code>id</code> field does actually statically exist on <code>MyClass</code> without having to make a new instance of <code>MyClass</code>.</p>\n\n<p>I've tried using a companion object but that creates a separate object/function called <code>MyClass$Companion</code> and then assigns the <code>id</code> field to that and never actually assigns it statically to <code>MyClass</code>.</p>\n\n<p>How can I go about setting true static fields like this in Kotlin?</p>\n"}, {"tags": ["android-studio", "annotations", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 2, "creation_date": 1499355994, "post_id": 44953254, "comment_id": 76882261, "body": "have you tried <code>@field:StyleRes</code> or <code>@get:StyleRes</code>?"}, {"owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1499356217, "post_id": 44953254, "comment_id": 76882436, "body": "Both give the same message as before."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499356787, "post_id": 44953254, "comment_id": 76882827, "body": "how about <code>private @StyleRes var themeId: Int = R.style.AppTheme</code>?"}, {"owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1499367235, "post_id": 44953254, "comment_id": 76889138, "body": "The same message still occurs. I did just realise that I can annotate the getter, as added to the question."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499367409, "post_id": 44953254, "comment_id": 76889204, "body": "so , it can working as you expected. it doesn&#39;t matter. since kotlin has a lot of features has not ready done."}, {"owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499368493, "post_id": 44953254, "comment_id": 76889778, "body": "I know that it doesn&#39;t really matter, I just wanted to check if I was doing something wrong."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1499368626, "post_id": 44953254, "comment_id": 76889846, "body": "Hi, I want to tell you do not pursue perfection just do it. if you found the best one just replace it later."}], "answers": [{"tags": [], "owner": {"reputation": 416, "user_id": 7051875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1d447e29cc41ce81809d7156c05de5?s=128&d=identicon&r=PG&f=1", "display_name": "tango24", "link": "https://stackoverflow.com/users/7051875/tango24"}, "is_accepted": true, "score": 5, "last_activity_date": 1499843340, "creation_date": 1499843340, "answer_id": 45050735, "question_id": 44953254, "link": "https://stackoverflow.com/questions/44953254/android-studio-styleres-annotation-gives-warning-on-kotlin-var/45050735#45050735", "title": "Android Studio StyleRes annotation gives warning on Kotlin var", "body": "<p>This is a known issue, see <a href=\"https://youtrack.jetbrains.com/issue/KT-16506\" rel=\"noreferrer\">KT-16506</a>.</p>\n"}], "owner": {"reputation": 695, "user_id": 4191572, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04d7553140bc8ff6df725f53f0f9beff?s=128&d=identicon&r=PG&f=1", "display_name": "Theo Pearson-Bray", "link": "https://stackoverflow.com/users/4191572/theo-pearson-bray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 45050735, "answer_count": 1, "score": 5, "last_activity_date": 1499843340, "creation_date": 1499355081, "last_edit_date": 1499367288, "question_id": 44953254, "link": "https://stackoverflow.com/questions/44953254/android-studio-styleres-annotation-gives-warning-on-kotlin-var", "title": "Android Studio StyleRes annotation gives warning on Kotlin var", "body": "<p>I have a publicly visible Int to hold the current application theme.</p>\n\n<pre><code>var themeId: Int = R.style.AppTheme\n    private set\n</code></pre>\n\n<p>If I annotate the value with <code>@StyleRes</code></p>\n\n<pre><code>@StyleRes var themeId: Int = R.style.AppTheme\n    private set\n</code></pre>\n\n<p>I get a warning </p>\n\n<blockquote>\n  <p>This annotation does not apply for type void; expected int or long</p>\n</blockquote>\n\n<p>If I change the variable to <code>val</code>, the error is not displayed.\nI can also get rid of the error by adding the <code>@JvmField</code> annotation, but this removes the ability to have the private setter.</p>\n\n<p>Am I using the annotation incorrectly, or is this a problem with Kotlin on Android Studio?</p>\n\n<p>Edit:</p>\n\n<p>The getter can be annotated</p>\n\n<pre><code>var themeId: Int = R.style.AppTheme\n    private set\n    @StyleRes get\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "edited": false, "score": 0, "creation_date": 1499354692, "post_id": 44953051, "comment_id": 76881320, "body": "Why cant you override the setter of the value?"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 1, "creation_date": 1499355597, "post_id": 44953051, "comment_id": 76881979, "body": "Your question is unclear. &quot;With Java, this would simply be done with a setter and that would work.&quot; - and what&#39;s wrong with Kotlin&#39;s mutable properties?"}, {"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1499357712, "post_id": 44953051, "comment_id": 76883493, "body": "@Egor how do you do that for a data class? Via a private <code>_password</code> field? In that case, where do your wire the @ColumnInfo?"}, {"owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "edited": false, "score": 1, "creation_date": 1499367887, "post_id": 44953051, "comment_id": 76889474, "body": "@VincentMimoun-Prat I guess it&#39;s not a proper way to encode a password inside setter method from design perspective, just encode it outside and pass then to the model"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1499373068, "post_id": 44953051, "comment_id": 76892010, "body": "You may be interested to know that best practice is to not store the password but to store a salt and hashing of the password. e.g. See <a href=\"http://www.jasypt.org/howtoencryptuserpasswords.html\" rel=\"nofollow noreferrer\">jasypt.org/howtoencryptuserpasswords.html</a>."}, {"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1499411492, "post_id": 44953051, "comment_id": 76904148, "body": "@mfulton26 Yes, this is exactly what I am trying to achieve."}, {"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "reply_to_user": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "edited": false, "score": 0, "creation_date": 1499411496, "post_id": 44953051, "comment_id": 76904150, "body": "@ledniov Since my question, that is what I am doing now. But I would still be interested in the answer though for other use cases."}], "answers": [{"comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1499358273, "post_id": 44954240, "comment_id": 76883852, "body": "Is not even compiling"}, {"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 0, "creation_date": 1499358277, "post_id": 44954240, "comment_id": 76883858, "body": "Results in an IDE compilation error: &quot;overload resolution ambiguous&quot;"}, {"owner": {"reputation": 1, "user_id": 8266218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-n7GROPPrJQg/AAAAAAAAAAI/AAAAAAAAADU/UJsGyLmc82A/photo.jpg?sz=128", "display_name": "Ted Horyczun", "link": "https://stackoverflow.com/users/8266218/ted-horyczun"}, "edited": false, "score": 0, "creation_date": 1499359049, "post_id": 44954240, "comment_id": 76884376, "body": "Getters and setters can be called custom within a data class but you have to create a new variable for it. So variable &quot;password&quot; would need to be called something else. For example _password"}], "tags": [], "owner": {"reputation": 1, "user_id": 8266218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-n7GROPPrJQg/AAAAAAAAAAI/AAAAAAAAADU/UJsGyLmc82A/photo.jpg?sz=128", "display_name": "Ted Horyczun", "link": "https://stackoverflow.com/users/8266218/ted-horyczun"}, "is_accepted": false, "score": -5, "last_activity_date": 1499359001, "last_edit_date": 1499359001, "creation_date": 1499358046, "answer_id": 44954240, "question_id": 44953051, "link": "https://stackoverflow.com/questions/44953051/kotlins-data-class-android-room-and-custom-setter/44954240#44954240", "title": "Kotlin&#39;s data class, Android Room and custom setter", "body": "<pre><code>    @Entity(tableName = \"users\",\n            indices = arrayOf(Index(value = \"nickName\", unique = true)))\n    data class User(@ColumnInfo(name = \"nickName\") var nickName: String,\n                    @ColumnInfo(name = \"password\") var password: String) {\n    var _password = password\n        set(value): String{\n           //encrypt password\n        }\n        @ColumnInfo(name = \"id\")\n        @PrimaryKey(autoGenerate = true)\n        var id: Long = 0\n    }\n</code></pre>\n\n<p>This will create a custom setter so every time you set your password you can encrypt it as well inside the setter. </p>\n"}, {"comments": [{"owner": {"reputation": 804, "user_id": 2536165, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CbU63.jpg?s=128&g=1", "display_name": "Dariush Malek", "link": "https://stackoverflow.com/users/2536165/dariush-malek"}, "edited": false, "score": 0, "creation_date": 1572319224, "post_id": 44970134, "comment_id": 103514188, "body": "This&#39;ll solve the problem but now there must be two columns in the table, &#39;_password&#39; and &#39;password&#39;. I also tried annotating &#39;_password&#39; with @Ignore, but ROOM wouldn&#39;t compile. Any suggestions?"}, {"owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "reply_to_user": {"reputation": 804, "user_id": 2536165, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CbU63.jpg?s=128&g=1", "display_name": "Dariush Malek", "link": "https://stackoverflow.com/users/2536165/dariush-malek"}, "edited": false, "score": 0, "creation_date": 1589885529, "post_id": 44970134, "comment_id": 109464084, "body": "@DariushMalek, as I wrote in the answer - I wouldn&#39;t recommend such approach, it&#39;s better to do any operations over data ourside of data class, use it only as a container for getting and setting the data."}], "tags": [], "owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "is_accepted": false, "score": 2, "last_activity_date": 1499428381, "creation_date": 1499428381, "answer_id": 44970134, "question_id": 44953051, "link": "https://stackoverflow.com/questions/44953051/kotlins-data-class-android-room-and-custom-setter/44970134#44970134", "title": "Kotlin&#39;s data class, Android Room and custom setter", "body": "<p>You can try something like this:</p>\n\n<pre><code>@Entity(tableName = \"users\",\n        indices = arrayOf(Index(value = \"nickName\", unique = true)))\ndata class User(@ColumnInfo(name = \"nickName\") var nickName: String,\n                private var _password: String) {\n\n    @ColumnInfo(name = \"id\")\n    @PrimaryKey(autoGenerate = true)\n    var id: Long = 0\n\n    @ColumnInfo(name = \"password\")\n    var password: String = _password\n        set(value) {\n            field = \"encrypted\"\n        }\n\n    override fun toString(): String {\n        return \"User(id=$id, nickName='$nickName', password='$password')\"\n    }\n\n}\n</code></pre>\n\n<p>But I wouldn't recommend encrypting password inside Entity or modifying it somehow as it isn't its responsibility and you may face errors with double encryption of your password as when you retrieve your entity from database Room will populate the entity with data which will lead to encryption of already encrypted data.</p>\n"}], "owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3130, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1499428381, "creation_date": 1499354528, "question_id": 44953051, "link": "https://stackoverflow.com/questions/44953051/kotlins-data-class-android-room-and-custom-setter", "title": "Kotlin&#39;s data class, Android Room and custom setter", "body": "<p>I got an entity for Android Room which looks like that. So far, no worries.</p>\n\n<pre><code>@Entity(tableName = \"users\",\n        indices = arrayOf(Index(value = \"nickName\", unique = true)))\ndata class User(@ColumnInfo(name = \"nickName\") var nickName: String,\n                @ColumnInfo(name = \"password\") var password: String) {\n\n    @ColumnInfo(name = \"id\")\n    @PrimaryKey(autoGenerate = true)\n    var id: Long = 0\n}\n</code></pre>\n\n<p>Now I need to encrypt the password. With Java, this would simply be done with a setter and that would work.</p>\n\n<p>How would you do that with Kotlin. I cannot find a solution to combine Android Room, custom setters and data classes.</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "type-inference"], "answers": [{"comments": [{"owner": {"reputation": 2964, "user_id": 2769917, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/78c9b4e2e2a18d5c74468629bcd1c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Mushtaq", "link": "https://stackoverflow.com/users/2769917/asif-mushtaq"}, "edited": false, "score": 0, "creation_date": 1514481896, "post_id": 44950478, "comment_id": 82991925, "body": "In latest version I&#39;m getting warning to remove the Type from &lt;&gt;. As Android studio forcing me to use only diamond operator <code>&lt;&gt;</code> when I use it then it is giving error."}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": true, "score": 108, "last_activity_date": 1508145274, "last_edit_date": 1508145274, "creation_date": 1499348030, "answer_id": 44950478, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/44950478#44950478", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>Try something like:</p>\n\n<pre><code>val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.recycler_view)\n</code></pre>\n\n<p>You can use <code>Kotlin Android Extensions</code> too for that. Check the doc <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"noreferrer\">here</a>.<br>\nWith it, you can call <code>recycler_view</code> directly in your code.</p>\n\n<p><strong>Kotlin Android Extensions:</strong></p>\n\n<ul>\n<li>In your app <code>gradle.build</code> add <code>apply plugin: 'kotlin-android-extensions'</code></li>\n<li>In your class add import for <code>import kotlinx.android.synthetic.main.&lt;layout&gt;.*</code> where <code>&lt;layout&gt;</code> is the filename of your layout.</li>\n<li>That's it, you can call <code>recycler_view</code> directly in your code.</li>\n</ul>\n\n<p>How does it work? The first time that you call <code>recycler_view</code>, a call to <code>findViewById</code> is done and <em>cached</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": false, "score": 7, "last_activity_date": 1500111087, "last_edit_date": 1500111087, "creation_date": 1499348152, "answer_id": 44950525, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/44950525#44950525", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>Usually Kotlin can infer your type using the info provided in the brackets.</p>\n\n<p>In this case, it can't so you would have to specify it explicitly like this </p>\n\n<pre><code>findViewById&lt;RecyclerView&gt;(R.id.recycler_view)\n</code></pre>\n\n<p>Not really sure about the type though but that is how you should specify it </p>\n\n<p>I'd like to add that, using <a href=\"https://github.com/Kotlin/anko\" rel=\"noreferrer\">Anko</a>, you can further simplify your code like this:</p>\n\n<pre><code>val recycler_view : RecyclerView =  find(R.id.recycler_view)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 46, "last_activity_date": 1499348199, "creation_date": 1499348199, "answer_id": 44950543, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/44950543#44950543", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>You're on API level 26, where the return type of <code>findViewById</code> is now a generic <code>T</code> instead of <code>View</code> and can therefore be inferred. You can see the relevant changelog <a href=\"https://developer.android.com/sdk/api_diff/26/changes.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>So you should be able to do this:</p>\n\n<pre><code>val recycler_view = findViewById&lt;RecyclerView&gt;(R.id.recycler_view)\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>val recycler_view: RecyclerView = findViewById(R.id.recycler_view)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1499348500, "post_id": 44950581, "comment_id": 76876284, "body": "Pls, add an explanation to your code. Answers with code only are discouraged."}, {"owner": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1499348728, "post_id": 44950581, "comment_id": 76876475, "body": "added. @WilliMentzel"}], "tags": [], "owner": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "is_accepted": false, "score": 1, "last_activity_date": 1499348651, "last_edit_date": 1499348651, "creation_date": 1499348278, "answer_id": 44950581, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/44950581#44950581", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>Try this:</p>\n\n<p>Here <code>bind</code> generic function use to bind view. its general function it's can use for any view.</p>\n\n<pre><code>class MyActivity : AppCompatActivity() {\n    private lateinit var recycler_view : RecyclerView\n    override fun onCreate(savedInstanceState: Bundle?) {\n        ...\n        recycler_view = bind(R.id.recycler_view)\n    }\n}\n\nfun &lt;T : View&gt; Activity.bind(@IdRes res : Int) : T {\n    @Suppress(\"UNCHECKED_CAST\")    \n    return findViewById(res) as T\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1221, "user_id": 6510301, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff1d411338d5058b08f125ea7883ce98?s=128&d=identicon&r=PG&f=1", "display_name": "Anmol317", "link": "https://stackoverflow.com/users/6510301/anmol317"}, "edited": false, "score": 0, "creation_date": 1499348792, "post_id": 44950686, "comment_id": 76876516, "body": "Please provide a reason for down voting it."}], "tags": [], "owner": {"reputation": 1221, "user_id": 6510301, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff1d411338d5058b08f125ea7883ce98?s=128&d=identicon&r=PG&f=1", "display_name": "Anmol317", "link": "https://stackoverflow.com/users/6510301/anmol317"}, "is_accepted": false, "score": 2, "last_activity_date": 1499348568, "creation_date": 1499348568, "answer_id": 44950686, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/44950686#44950686", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>You can ignore giving ids to variables in kotlin. You just need to use a plugin</p>\n\n<p>Paste this in your gradle</p>\n\n<pre><code> apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>and then you don't need to assign ids to var, you can just do it like</p>\n\n<pre><code> recycler_view.setAdapter(youradapter);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 563, "user_id": 7792518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85dd4f7b706dfc017d6101f47b28c3f5?s=128&d=identicon&r=PG", "display_name": "gundrabur", "link": "https://stackoverflow.com/users/7792518/gundrabur"}, "edited": false, "score": 1, "creation_date": 1566749636, "post_id": 45005003, "comment_id": 101746127, "body": "Brilliant solution! Helped me a lot!"}], "tags": [], "owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "is_accepted": false, "score": 9, "last_activity_date": 1499677938, "last_edit_date": 1499677938, "creation_date": 1499667762, "answer_id": 45005003, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/45005003#45005003", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>In <code>Kotlin</code> we can get the id of the view without the use of the  <code>findViewById</code> syntax.</p>\n\n<p>For example we are using the following the layout from that we will get the id of the view and perform operation </p>\n\n<blockquote>\n  <p><strong>Layout</strong></p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/welcomeMessage\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"\n        android:text=\"Hello World!\"/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>We are able to find the id of the view by using the following code</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    welcomeMessage.text = \"Hello Kotlin!\" ////WE ARE GETTING THE IDS WITHOUT USING THE FINDVIEWBYID syntax\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>HOW?</strong></p>\n</blockquote>\n\n<p>To be able to use it, you need an special import (the one I write below), but the IDE is able to auto-import it. Couldn\u2019t be easier!</p>\n\n<pre><code>import kotlinx.android.synthetic.main.YOUR_LAYOUT_NAME.*/// HERE \"YOUR_LAYOUT_NAME\" IS YOUR LAYOUT NAME WHICH U HAVE INFLATED IN onCreate()/onCreateView() \n</code></pre>\n\n<p>We need to import this property to get the id of the view without the use of the <code>findviewbyid</code> syntax.</p>\n\n<p>For more information on this topic than please refer this link :- <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"noreferrer\">Click here</a></p>\n"}, {"tags": [], "owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "is_accepted": false, "score": 4, "last_activity_date": 1512239333, "creation_date": 1512239333, "answer_id": 47611134, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/47611134#47611134", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>Add this line for your code as Whatever you are using controller.</p>\n\n<pre><code>val tvHello = findViewById&lt;TextView&gt;(R.id.tvHello)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1875, "user_id": 5780058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xoh5b.jpg?s=128&g=1", "display_name": "Ajay Sivan", "link": "https://stackoverflow.com/users/5780058/ajay-sivan"}, "is_accepted": false, "score": 0, "last_activity_date": 1515518626, "last_edit_date": 1515518626, "creation_date": 1515518311, "answer_id": 48173498, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/48173498#48173498", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>You don't even have to create an object to do things with a view.\nYou can just use the id. For example,\n<strong>Kotlin</strong></p>\n\n<pre><code>recycle_view.adapter = adapter\n</code></pre>\n\n<p>is same as,\n<strong>Java</strong></p>\n\n<pre><code>RecycleView recycle_view = (RecycleView) findViewById(recycle_view);\nrecycle_view.setAdapter(adapter);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 791, "user_id": 7873768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tD7NT.jpg?s=128&g=1", "display_name": "Manti_Core", "link": "https://stackoverflow.com/users/7873768/manti-core"}, "is_accepted": false, "score": 0, "last_activity_date": 1606315254, "last_edit_date": 1606315254, "creation_date": 1606292608, "answer_id": 65000897, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed/65000897#65000897", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>Was unable to access the ui components like OP faced looks like below was needed inside app gradle:</p>\n<pre><code>plugins {\n    ...\n    id 'kotlin-android-extensions'\n}\n</code></pre>\n<p>Even though after adding this line android studio was still not able to auto resolve the imports for kotlin synthetics so you may need to invalidate cache and restart.</p>\n<p>If still not working then import manually depending on views</p>\n<ul>\n<li>activity /fragment view:  import\nkotlinx.android.synthetic.main.&lt;your_activity_view&gt;.*</li>\n<li>normal views :\nimport kotlinx.android.synthetic.main.&lt;your_layout_view&gt;.view.*</li>\n</ul>\n<p>Update - 2</p>\n<p>If you are getting this info warning -</p>\n<blockquote>\n<p>Warning: The 'kotlin-android-extensions' Gradle plugin is deprecated.</p>\n</blockquote>\n<p>plugin 'kotlin-android-extensions' is going to be deprecated.\nSo add below in your app gradle</p>\n<pre><code>android {\n    ...\n    buildFeatures {\n        viewBinding true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48089, "favorite_count": 11, "protected_date": 1525931452, "accepted_answer_id": 44950478, "answer_count": 9, "score": 83, "last_activity_date": 1606315254, "creation_date": 1499347819, "last_edit_date": 1502360282, "question_id": 44950401, "link": "https://stackoverflow.com/questions/44950401/not-able-to-findviewbyid-in-kotlin-getting-error-type-inference-failed", "title": "Not able to &quot;findViewById&quot; in Kotlin. Getting error &quot;Type inference failed&quot;", "body": "<p>I am getting the following error when I try to find a <code>RecycleView</code> by id.</p>\n\n<blockquote>\n  <p><strong>Error:-</strong> \n  Type inference failed: Not enough information to infer parameter <strong>T</strong></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/cQLGp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cQLGp.png\" alt=\"Error\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>class FirstRecycleViewExample : AppCompatActivity() {\n    val data = arrayListOf&lt;String&gt;()\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.first_recycleview)\n\n        val recycler_view =  findViewById(R.id.recycler_view) as RecyclerView ///IN THIS LINE I AM GETTING THE ERROR\n\n        data.add(\"First Data\")\n        data.add(\"Second Data\")\n        data.add(\"Third Data\")\n        data.add(\"Forth Data\")\n        data.add(\"Fifth Data\")\n\n        //creating our adapter\n        val adapter = CustomRecycleAdapter(data)\n\n        //now adding the adapter to recyclerview\n        recycler_view.adapter = adapter\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "arrays", "annotations", "arguments", "kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 1, "creation_date": 1499348861, "post_id": 44950391, "comment_id": 76876579, "body": "Very good explanation for your first post btw!"}], "answers": [{"comments": [{"owner": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "edited": false, "score": 0, "creation_date": 1499349228, "post_id": 44950609, "comment_id": 76876901, "body": "Thank you for your response! I re-checked my annotations and found the mistake. I forgot mark JoinColumn as annotation"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 1, "last_activity_date": 1499348695, "last_edit_date": 1499348695, "creation_date": 1499348363, "answer_id": 44950609, "question_id": 44950391, "link": "https://stackoverflow.com/questions/44950391/how-to-declare-array-value-in-kotlin-annotations/44950609#44950609", "title": "How to declare array value in Kotlin annotations?", "body": "<p>As in java, the values for annotations must be available at compile time.\nThat means that <code>val joinColumns: List&lt;JoinColumn&gt;</code> is not possible if the <code>JoinColumn</code> is a usual class or data-class. \nIf it's an enum class (<code>enum class JoinColumn</code>), than it's possible to use it.</p>\n\n<p>See also the official kotlin documentation for allowed types <a href=\"https://kotlinlang.org/docs/reference/annotations.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/annotations.html</a></p>\n\n<blockquote>\n  <p>Allowed parameter types are:</p>\n  \n  <ul>\n  <li>types that correspond to Java primitive types (Int, Long etc.);</li>\n  <li>strings;</li>\n  <li>classes (Foo::class);</li>\n  <li>enums;</li>\n  <li>other annotations;</li>\n  <li>arrays of the types listed above.</li>\n  </ul>\n  \n  <p>Annotation parameters cannot have nullable types, because the JVM does\n  not support storing null as a value of an annotation attribute.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1499349109, "creation_date": 1499349109, "answer_id": 44950915, "question_id": 44950391, "link": "https://stackoverflow.com/questions/44950391/how-to-declare-array-value-in-kotlin-annotations/44950915#44950915", "title": "How to declare array value in Kotlin annotations?", "body": "<p>So, it was my big fault. I didn't notice that JoinColumn in my realization isn't an annotation.</p>\n\n<pre><code>class JoinColumn()\n</code></pre>\n\n<p>Well, it fixed ^_^:</p>\n\n<pre><code>annotation class JoinColumn()\n</code></pre>\n"}], "owner": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1903, "favorite_count": 0, "accepted_answer_id": 44950609, "answer_count": 2, "score": 3, "last_activity_date": 1499349109, "creation_date": 1499347792, "last_edit_date": 1499349100, "question_id": 44950391, "link": "https://stackoverflow.com/questions/44950391/how-to-declare-array-value-in-kotlin-annotations", "title": "How to declare array value in Kotlin annotations?", "body": "<p>I have some problem with creating my own annotations in Kotlin. I have to create some annotations and in some of them i need to declare values with array type.\nIn java we can do this:</p>\n\n<pre><code>public @interface JoinTable {\n...\n    JoinColumn[] inverseJoinColumns() default {};\n...\n}\n</code></pre>\n\n<p>Where JoinColumn is also an annotation type.</p>\n\n<p>I want to do something like that in Kotlin:</p>\n\n<pre><code>annotation class JoinTable(\n    val name: String,\n    val joinColumns: Array&lt;JoinColumn&gt;\n)\n</code></pre>\n\n<p>I also tried to do this:</p>\n\n<pre><code>annotation class JoinTable(\n    val name: String,\n    val joinColumns: List&lt;JoinColumn&gt;\n)\n</code></pre>\n\n<p>But my IDe says:</p>\n\n<blockquote>\n  <p>Invalid type of annotation member</p>\n</blockquote>\n\n<p>What should i do?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["java", "android", "mysql", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3862712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cduo9.jpg?s=128&g=1", "display_name": "xxqxpxx", "link": "https://stackoverflow.com/users/3862712/xxqxpxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1499346082, "creation_date": 1499346082, "answer_id": 44949686, "question_id": 44949588, "link": "https://stackoverflow.com/questions/44949588/how-to-store-username-and-password-details-from-my-app-to-my-database-and-how-to/44949686#44949686", "title": "How to store username and password details from my app to my database and how to connect my app with my database?", "body": "<p>Android does not support MySQL out of the box. The \"normal\" way to access your database would be to put a Restful server in front of it and use the HTTPS protocol to connect to the Restful front end.</p>\n\n<p>Have a look at <a href=\"http://developer.android.com/reference/android/content/ContentProvider.html\" rel=\"nofollow noreferrer\">ContentProvider</a>. It is normally used to access a local database (SQLite) but it can be used to get data from any data store.</p>\n\n<p>I do recommend that you look at having a local copy of all/some of your websites data locally, that way your app will still work when the Android device hasn't got a connection. If you go down this route then a service can be used to keep the two databases in sync.</p>\n\n<p>also check this : <a href=\"https://zapier.com/learn/forms-surveys/simple-database-app-builders/\" rel=\"nofollow noreferrer\">Building an App the Simple Way: 6 Database-Powered App Builders</a></p>\n"}, {"tags": [], "owner": {"reputation": 731, "user_id": 6880829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab640a2f5107cdc74b2f0c861475e764?s=128&d=identicon&r=PG&f=1", "display_name": "PranavKAndro", "link": "https://stackoverflow.com/users/6880829/pranavkandro"}, "is_accepted": true, "score": 0, "last_activity_date": 1499346196, "creation_date": 1499346196, "answer_id": 44949736, "question_id": 44949588, "link": "https://stackoverflow.com/questions/44949588/how-to-store-username-and-password-details-from-my-app-to-my-database-and-how-to/44949736#44949736", "title": "How to store username and password details from my app to my database and how to connect my app with my database?", "body": "<p>You can refer to the sqlite database tutorials to store the data into the database. If you are storing the data in the database that is in the server, then also see the tutorials on connecting to the server database using any volley or retrofit etc. </p>\n\n<p>Always its better dont store password in the text format, hash it with the hashing algorithm like SHA256, MD5 etc and then store it.</p>\n\n<p>In the sqlite tutorial you will get the method to retreive the data back from the database and from there once the login button is clicked match the hashes of the data and allow to login.</p>\n\n<p><a href=\"https://www.tutorialspoint.com/android/android_sqlite_database.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/android/android_sqlite_database.htm</a></p>\n"}], "owner": {"reputation": 59, "user_id": 8262780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d030b0bd6086b7d632dd32d60f2b647?s=128&d=identicon&r=PG&f=1", "display_name": "ykb", "link": "https://stackoverflow.com/users/8262780/ykb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 1, "closed_date": 1499354066, "accepted_answer_id": 44949736, "answer_count": 2, "score": -4, "last_activity_date": 1499346299, "creation_date": 1499345872, "question_id": 44949588, "link": "https://stackoverflow.com/questions/44949588/how-to-store-username-and-password-details-from-my-app-to-my-database-and-how-to", "closed_reason": "Needs more focus", "title": "How to store username and password details from my app to my database and how to connect my app with my database?", "body": "<p>I am trying to build an Android app but I stuck at my login page.\nI don't know how to store a user's information into my database and how to match when the user tries to login again ?</p>\n"}, {"tags": ["android", "android-studio", "data-binding", "kotlin"], "comments": [{"owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "edited": false, "score": 0, "creation_date": 1499437941, "post_id": 44947721, "comment_id": 76921697, "body": "First, I&#39;d like to confirm you&#39;ve included the Kotlin standard library dependency: <code>compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;</code>. Second, try cleaning and remaking your project from the &quot;Build&quot; menu in Android studio."}, {"owner": {"reputation": 427, "user_id": 3586048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/80d950570f4678ff949924a2ce62c9e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sanne", "link": "https://stackoverflow.com/users/3586048/sanne"}, "reply_to_user": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "edited": false, "score": 0, "creation_date": 1499586008, "post_id": 44947721, "comment_id": 76962548, "body": "Yes, I have updated my question with a little bit more information"}], "answers": [{"tags": [], "owner": {"reputation": 14615, "user_id": 1770868, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/GfRgh.jpg?s=128&g=1", "display_name": "Ahmad Aghazadeh", "link": "https://stackoverflow.com/users/1770868/ahmad-aghazadeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1500462234, "last_edit_date": 1500462234, "creation_date": 1500461630, "answer_id": 45188453, "question_id": 44947721, "link": "https://stackoverflow.com/questions/44947721/could-not-find-class-databinding-fragmentbinding/45188453#45188453", "title": "Could not find class databinding.FragmentBinding", "body": "<p>build.gradle in you don't need </p>\n\n<pre><code>    dataBinding {\n        enabled = true\n    }\n</code></pre>\n\n<p>Remove and try</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    kapt 'com.android.databinding:compiler:3.0.0-alpha4'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p>And update your Kotlin to  </p>\n\n<pre><code>ext.kotlin_version = '1.1.3-2'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 427, "user_id": 3586048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/80d950570f4678ff949924a2ce62c9e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sanne", "link": "https://stackoverflow.com/users/3586048/sanne"}, "edited": false, "score": 0, "creation_date": 1502084519, "post_id": 45490871, "comment_id": 78039918, "body": "My code with the binding is in a module and not in my main project do you have the same setup?"}, {"owner": {"reputation": 126, "user_id": 2509977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42eb5610aad8646a820eec6c7ea00ecf?s=128&d=identicon&r=PG", "display_name": "johnnie mac", "link": "https://stackoverflow.com/users/2509977/johnnie-mac"}, "reply_to_user": {"reputation": 427, "user_id": 3586048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/80d950570f4678ff949924a2ce62c9e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sanne", "link": "https://stackoverflow.com/users/3586048/sanne"}, "edited": false, "score": 0, "creation_date": 1502207218, "post_id": 45490871, "comment_id": 78104943, "body": "No, mine&#39;s in main app.  Sorry, I glossed over the plugin statement."}], "tags": [], "owner": {"reputation": 126, "user_id": 2509977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42eb5610aad8646a820eec6c7ea00ecf?s=128&d=identicon&r=PG", "display_name": "johnnie mac", "link": "https://stackoverflow.com/users/2509977/johnnie-mac"}, "is_accepted": false, "score": 0, "last_activity_date": 1501781503, "last_edit_date": 1501781503, "creation_date": 1501780965, "answer_id": 45490871, "question_id": 44947721, "link": "https://stackoverflow.com/questions/44947721/could-not-find-class-databinding-fragmentbinding/45490871#45490871", "title": "Could not find class databinding.FragmentBinding", "body": "<p>Sanne, I have the exact same build.gradle files as you, except for a newer gradle -alpha9 and don't get the runtime error from onCreateView when using DataBindingUtil.inflate(inflater,...).</p>\n\n<p>In my case dataBinding { enabled = true } is required.</p>\n\n<p>However I did get a build error (Unresolved reference: databinding) when using FragmentXBinding.inflate(inflater) until I specified FragmentXBinding.inflate(inflater as LayoutInflater).</p>\n"}], "owner": {"reputation": 427, "user_id": 3586048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/80d950570f4678ff949924a2ce62c9e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sanne", "link": "https://stackoverflow.com/users/3586048/sanne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1501781503, "creation_date": 1499340806, "last_edit_date": 1499585996, "question_id": 44947721, "link": "https://stackoverflow.com/questions/44947721/could-not-find-class-databinding-fragmentbinding", "title": "Could not find class databinding.FragmentBinding", "body": "<p>I'm trying to use databinding in my fragment but I get the following error on runtime:</p>\n\n<pre><code>Could not find class 'com.example.databinding.FragmentUpSellBinding', referenced from method com.example.UpSellFragment.onCreateView\n</code></pre>\n\n<p>Which results into:</p>\n\n<pre><code>FATAL EXCEPTION: main Process: nl.anwb.fietsen.debug, PID: 5563                                                                     \njava.lang.IllegalStateException: DataBindingUtil.inflate(\u2026r,                                                                                     \nfalse) must not be null`\n</code></pre>\n\n<p>my build.gradle looks like this:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    dataBinding {\n        enabled = true\n    }\n}\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    kapt 'com.android.databinding:compiler:3.0.0-alpha4'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p>Main buid.gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    ext{\n        supportLibraryVersion = '25.3.1'\n    }\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha4'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>Does anyone know how I can fix this?</p>\n"}]