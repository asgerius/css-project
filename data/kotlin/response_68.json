[{"tags": ["list", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 10, "creation_date": 1461778213, "post_id": 36896801, "comment_id": 61357909, "body": "With <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of.html\" rel=\"nofollow noreferrer\"><code>listOf</code></a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 699, "user_id": 709528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54d1fc5131216dc0c9d9bc729ea0782?s=128&d=identicon&r=PG", "display_name": "frogcoder", "link": "https://stackoverflow.com/users/709528/frogcoder"}, "edited": false, "score": 12, "creation_date": 1465915806, "post_id": 36897638, "comment_id": 63094854, "body": "Calling <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of.html\" rel=\"nofollow noreferrer\">listOf</a> without any parameter gets you an empty list, or just call <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/empty-list.html\" rel=\"nofollow noreferrer\">emptyList</a> to make it more readable."}, {"owner": {"reputation": 2277, "user_id": 3272593, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1d3e9df446c84d68c40d8abff02ab1b0?s=128&d=identicon&r=PG", "display_name": "Greg T", "link": "https://stackoverflow.com/users/3272593/greg-t"}, "edited": false, "score": 4, "creation_date": 1507500386, "post_id": 36897638, "comment_id": 80222201, "body": "There&#39;s also <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/array-list-of.html\" rel=\"nofollow noreferrer\">arrayListOf</a>"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1582123333, "post_id": 36897638, "comment_id": 106669180, "body": "Is it mutable for later modification?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1582127472, "post_id": 36897638, "comment_id": 106671979, "body": "@IgorGanapolsky The returned type is a read-only <code>List&lt;T&gt;</code>, so one shouldn&#39;t assume that it is mutable."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 140, "last_activity_date": 1461780442, "creation_date": 1461780442, "answer_id": 36897638, "question_id": 36896801, "link": "https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin/36897638#36897638", "title": "How to initialize List&lt;T&gt; in Kotlin?", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of.html\"><code>listOf</code></a> top-level function to the rescue:</p>\n\n<pre><code>val geeks = listOf(\"Fowler\", \"Beck\", \"Evans\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "is_accepted": false, "score": 13, "last_activity_date": 1461960374, "creation_date": 1461960374, "answer_id": 36946623, "question_id": 36896801, "link": "https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin/36946623#36946623", "title": "How to initialize List&lt;T&gt; in Kotlin?", "body": "<p>Just for adding more info, Kotlin offers both immutable <code>List</code> and <code>MutableList</code> that can be initialized with <code>listOf</code> and <code>mutableListOf</code>. If you're more interested in what Kotlin offers regarding Collections, you can go to the official reference docs at <a href=\"https://kotlinlang.org/docs/reference/collections.html\" rel=\"noreferrer\">Collections</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 10170, "user_id": 1421925, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cLzpB.jpg?s=128&g=1", "display_name": "Magnilex", "link": "https://stackoverflow.com/users/1421925/magnilex"}, "is_accepted": false, "score": 20, "last_activity_date": 1541272707, "last_edit_date": 1541272707, "creation_date": 1541272267, "answer_id": 53134618, "question_id": 36896801, "link": "https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin/53134618#53134618", "title": "How to initialize List&lt;T&gt; in Kotlin?", "body": "<p>Both the upvoted answers by <a href=\"https://stackoverflow.com/a/36897638/1421925\">Ilya</a> and <a href=\"https://stackoverflow.com/a/36946623/1421925\">gmariotti</a> are good and correct. Some alternatives are however spread out in comments, and some are not mentioned at all.</p>\n\n<p>This answer includes a summary of the already given ones, along with clarifications and a couple of other alternatives.</p>\n\n<h2>Immutable lists (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"noreferrer\"><code>List</code></a>)</h2>\n\n<p>Immutable, or read-only lists, are lists which cannot have elements added or removed.</p>\n\n<ul>\n<li>As Ilya points out, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of.html\" rel=\"noreferrer\"><code>listOf()</code></a> often does what you want. This creates an immutable list, similar to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\"><code>Arrays.asList</code></a> in Java.</li>\n<li>As <a href=\"https://stackoverflow.com/users/709528/frogcoder\">frogcoder</a> states in a comment, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/empty-list.html\" rel=\"noreferrer\"><code>emptyList()</code></a> does the same, but naturally returns an empty list.</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of-not-null.html\" rel=\"noreferrer\"><code>listOfNotNull()</code></a> returns an immutable list excluding all <code>null</code> elements.</li>\n</ul>\n\n<h2>Mutable lists (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"noreferrer\"><code>MutableList</code></a>)</h2>\n\n<p>Mutable lists can have elements added or removed.</p>\n\n<ul>\n<li>gmariotti suggests using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/mutable-list-of.html\" rel=\"noreferrer\"><code>mutableListOf()</code></a>, which typically is what you want when you need to add or remove elements from the list.</li>\n<li><a href=\"https://stackoverflow.com/users/3272593/greg-t\">Greg T</a> gives the alternative, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/array-list-of.html\" rel=\"noreferrer\"><code>arrayListOf()</code></a>. This creates a mutable <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html\" rel=\"noreferrer\"><code>ArrayList</code></a>. In case you really want an <code>ArrayList</code> implementation, use this over <code>mutableListOf()</code>.</li>\n<li>For other <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a> implementations, which have not got any convenience functions, they can be initialized as, for example, <code>val list = LinkedList&lt;String&gt;()</code>. That is simply create the object by calling its constructor. Use this only if you really want, for example, a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedList.html\" rel=\"noreferrer\"><code>LinkedList</code></a> implementation.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 8885332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yCSCO.jpg?s=128&g=1", "display_name": "CodeRanger", "link": "https://stackoverflow.com/users/8885332/coderanger"}, "is_accepted": false, "score": 8, "last_activity_date": 1555145482, "creation_date": 1555145482, "answer_id": 55663685, "question_id": 36896801, "link": "https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin/55663685#55663685", "title": "How to initialize List&lt;T&gt; in Kotlin?", "body": "<p>Let me explain some use-cases :\nlet's create an immutable(non changeable) list with initializing items :</p>\n\n<pre><code>val myList = listOf(\"one\" , \"two\" , \"three\")\n</code></pre>\n\n<p>let's create a Mutable (changeable) list with initializing fields :</p>\n\n<pre><code>val myList = mutableListOf(\"one\" , \"two\" , \"three\")\n</code></pre>\n\n<p>Let's declare an immutable(non changeable) and then instantiate it :</p>\n\n<pre><code>lateinit var myList : List&lt;String&gt;\n// and then in the code :\nmyList = listOf(\"one\" , \"two\" , \"three\")\n</code></pre>\n\n<p>And finally add some extra items to each : </p>\n\n<pre><code>val myList = listOf(\"one\" , \"two\" , \"three\")\nmyList.add() //Unresolved reference : add, no add method here as it is non mutable \n\nval myMutableList = mutableListOf(\"one\" , \"two\" , \"three\")\nmyMutableList.add(\"four\") // it's ok \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1107, "user_id": 1947494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/yGTAe.jpg?s=128&g=1", "display_name": "Nikhil Katekhaye", "link": "https://stackoverflow.com/users/1947494/nikhil-katekhaye"}, "is_accepted": false, "score": 1, "last_activity_date": 1582099553, "last_edit_date": 1582099553, "creation_date": 1582024566, "answer_id": 60279650, "question_id": 36896801, "link": "https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin/60279650#60279650", "title": "How to initialize List&lt;T&gt; in Kotlin?", "body": "<p>In this way, you can initialize the List in Kotlin</p>\n\n<pre><code>val alphabates : List&lt;String&gt; = listOf(\"a\", \"b\", \"c\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7033, "user_id": 3029175, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4b4cb9f3a4650ed527c0457c26c7d8c2?s=128&d=identicon&r=PG&f=1", "display_name": "pgiecek", "link": "https://stackoverflow.com/users/3029175/pgiecek"}, "is_accepted": false, "score": 1, "last_activity_date": 1610793831, "creation_date": 1610793831, "answer_id": 65748749, "question_id": 36896801, "link": "https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin/65748749#65748749", "title": "How to initialize List&lt;T&gt; in Kotlin?", "body": "<p>There is one more way to build a list in Kotlin that is as of this writing in the experimental state but hopefully should change soon.</p>\n<pre><code>inline fun &lt;E&gt; buildList(builderAction: MutableList&lt;E&gt;.() -&gt; Unit): List&lt;E&gt;\n</code></pre>\n<blockquote>\n<p>Builds a new read-only List by populating a MutableList using the given builderAction and returning a read-only list with the same elements.</p>\n</blockquote>\n<p><strong>Example:</strong></p>\n<pre><code>val list = buildList {\n    testDataGenerator.fromJson(&quot;/src/test/resources/data.json&quot;).forEach {\n        add(dao.insert(it))\n    }\n}\n</code></pre>\n<p>For further reading check the official <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/build-list.html\" rel=\"nofollow noreferrer\">doc</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 11872132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0842E.jpg?s=128&g=1", "display_name": "JustSomeGuyInWorld", "link": "https://stackoverflow.com/users/11872132/justsomeguyinworld"}, "is_accepted": false, "score": 0, "last_activity_date": 1618451133, "last_edit_date": 1618451133, "creation_date": 1618405183, "answer_id": 67092301, "question_id": 36896801, "link": "https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin/67092301#67092301", "title": "How to initialize List&lt;T&gt; in Kotlin?", "body": "<p>If you want to initialize without type:</p>\n<pre><code>var temp: ArrayList&lt;String&gt; = ArrayList()\n</code></pre>\n"}], "owner": {"reputation": 39004, "user_id": 1393484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251d2d8ab5721e399a715d7531471448?s=128&d=identicon&r=PG", "display_name": "Ali Dehghani", "link": "https://stackoverflow.com/users/1393484/ali-dehghani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76422, "favorite_count": 8, "accepted_answer_id": 36897638, "answer_count": 7, "score": 87, "last_activity_date": 1618451133, "creation_date": 1461777950, "last_edit_date": 1584050492, "question_id": 36896801, "link": "https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin", "title": "How to initialize List&lt;T&gt; in Kotlin?", "body": "<p>I see Kotlin has a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"noreferrer\"><code>List&lt;out E&gt;</code></a> collection and I was wondering about different ways to initialize one. In Java, I could write:</p>\n\n<pre><code>List&lt;String&gt; geeks = Arrays.asList(\"Fowler\", \"Beck\", \"Evans\");\n</code></pre>\n\n<p>How can I achieve the same in Kotlin?</p>\n"}, {"tags": ["java", "java-stream", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462818840, "post_id": 36892291, "comment_id": 61786834, "body": "an example of this is also mentioned under &quot;Staying Lazy&quot; part of  <a href=\"http://stackoverflow.com/questions/35721528/how-can-i-call-collectcollectors-tolist-on-a-java-8-stream-in-kotlin/35722167#35722167\" title=\"how can i call collectcollectors tolist on a java 8 stream in kotlin\">stackoverflow.com/questions/35721528/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5483, "user_id": 1356130, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71a884fac9d80ee3171a4018b1eaf660?s=128&d=identicon&r=PG", "display_name": "atok", "link": "https://stackoverflow.com/users/1356130/atok"}, "edited": false, "score": 2, "creation_date": 1461769605, "post_id": 36892511, "comment_id": 61351701, "body": "Great! I see there is also Iterator&lt;T&gt;.asSequence() so I can say:  stream.iterator().asSequence()"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 5483, "user_id": 1356130, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71a884fac9d80ee3171a4018b1eaf660?s=128&d=identicon&r=PG", "display_name": "atok", "link": "https://stackoverflow.com/users/1356130/atok"}, "edited": false, "score": 4, "creation_date": 1461780224, "post_id": 36892511, "comment_id": 61359236, "body": "Yes, it&#39;s almost the same. The difference here is when the <code>iterator()</code> function is invoked on Stream, immediately (<code>asSequence()</code>) or lazily (<code>Sequence { }</code>)."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 18, "last_activity_date": 1526315401, "last_edit_date": 1526315401, "creation_date": 1461766610, "answer_id": 36892511, "question_id": 36892291, "link": "https://stackoverflow.com/questions/36892291/how-to-convert-java-util-stream-streamsomething-into-kotlin-sequencesomething/36892511#36892511", "title": "How to convert java.util.stream.Stream&lt;Something&gt; into kotlin.Sequence&lt;Something&gt;", "body": "<p>You can get an iterator from a stream and then wrap the iterator into a <code>Sequence</code>:</p>\n\n<pre><code>Sequence { stream.iterator() }\n</code></pre>\n\n<p><strong>UPD:</strong> Starting from Kotlin 1.1 you can use <code>Stream.asSequence()</code> extension (see <a href=\"https://stackoverflow.com/a/47889522/869184\">Michael Richardson's answer</a>), which does the exact same thing as above. The extension is also available for the specialized streams: <code>IntStream</code>, <code>LongStream</code> and <code>DoubleStream</code>.</p>\n\n<p>It is located in <code>kotlin.streams</code> package in <code>kotlin-stdlib-jdk8</code> library (Kotlin 1.2 and above) or in <code>kotlin-stdlib-jre8</code> library (Kotlin 1.1 only, deprecated in Kotlin 1.2 and above).</p>\n"}, {"tags": [], "owner": {"reputation": 3883, "user_id": 1812515, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/80317ec9933567081cdc1dc48f5c6a8c?s=128&d=identicon&r=PG", "display_name": "Michael Richardson", "link": "https://stackoverflow.com/users/1812515/michael-richardson"}, "is_accepted": true, "score": 8, "last_activity_date": 1524781344, "last_edit_date": 1524781344, "creation_date": 1513695037, "answer_id": 47889522, "question_id": 36892291, "link": "https://stackoverflow.com/questions/36892291/how-to-convert-java-util-stream-streamsomething-into-kotlin-sequencesomething/47889522#47889522", "title": "How to convert java.util.stream.Stream&lt;Something&gt; into kotlin.Sequence&lt;Something&gt;", "body": "<p>Kotlin has an extension method <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/java.util.stream.-stream/as-sequence.html\" rel=\"nofollow noreferrer\"><code>asSequence()</code></a> to convert a Java stream to a Kotlin Sequence. In my experience it was not discoverable until I added an import statement:</p>\n\n\n\n<pre><code>import kotlin.streams.*\n</code></pre>\n\n<p>Then simply use as expected:</p>\n\n\n\n<pre><code>val seq = stream.asSequence()\n</code></pre>\n"}], "owner": {"reputation": 5483, "user_id": 1356130, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71a884fac9d80ee3171a4018b1eaf660?s=128&d=identicon&r=PG", "display_name": "atok", "link": "https://stackoverflow.com/users/1356130/atok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2313, "favorite_count": 1, "accepted_answer_id": 47889522, "answer_count": 2, "score": 14, "last_activity_date": 1526315401, "creation_date": 1461766103, "question_id": 36892291, "link": "https://stackoverflow.com/questions/36892291/how-to-convert-java-util-stream-streamsomething-into-kotlin-sequencesomething", "title": "How to convert java.util.stream.Stream&lt;Something&gt; into kotlin.Sequence&lt;Something&gt;", "body": "<p>Java 8 Streams are powerful but when parallelism is not needed Kotlin Sequence seems to be simpler to use.</p>\n\n<p>Is there a way to convert a <code>stream.sequencial()</code> into a Sequence?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 2, "creation_date": 1461752091, "post_id": 36886664, "comment_id": 61338044, "body": "Why can&#39;t you just call an empty function?"}], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1461760692, "post_id": 36888382, "comment_id": 61344366, "body": "You can even compare references using <code>===</code>"}, {"owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "edited": false, "score": 1, "creation_date": 1461777797, "post_id": 36888382, "comment_id": 61357638, "body": "Heh, a good one. I really thought that there&#39;s a clean way to do it, but I guess, your might be the only one..."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462831544, "post_id": 36888382, "comment_id": 61793152, "body": "This is the typical way, you pass in an empty default function that does default behavior and just call it anyway (since it&#39;ll do nothing), or you check its <code>===</code> reference to not do anything.  This is &quot;the clean&quot; way in Kotlin."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 3, "last_activity_date": 1461756314, "creation_date": 1461756314, "answer_id": 36888382, "question_id": 36886664, "link": "https://stackoverflow.com/questions/36886664/check-if-function-is-empty-in-kotlin/36888382#36888382", "title": "Check if function is empty in Kotlin", "body": "<p>Ideally you would have a default parameter that can be called i.e.:</p>\n\n<pre><code>fun saneDefault(getMoreFunction: (() -&gt; String) = { \"\" }): Boolean {\n    val result = getMoreFunction()\n    return result.isEmpty()\n}\n</code></pre>\n\n<p>However if you <em>really, really, really</em> need to know if the argument was passed you can store the default parameter value like so:</p>\n\n<pre><code>private val DEFAULT = { throw UnsupportedOperationException(\"this shouldn't be called\") }\n\nfun isDefaultPassed(getMoreFunction: (() -&gt; String) = DEFAULT): Boolean {\n    if(getMoreFunction == DEFAULT){\n        return true\n    }\n    return false\n}\n</code></pre>\n"}], "owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1402, "favorite_count": 0, "accepted_answer_id": 36888382, "answer_count": 1, "score": 2, "last_activity_date": 1461756314, "creation_date": 1461751582, "question_id": 36886664, "link": "https://stackoverflow.com/questions/36886664/check-if-function-is-empty-in-kotlin", "title": "Check if function is empty in Kotlin", "body": "<p>I have some callback that has a parameter defined like this:</p>\n\n<p><code>val getMoreFunction : (() -> FSDirResult)? = null</code></p>\n\n<p>Nullable, because I need to know if the function is actually defined. But I feel it's bad. I'd rather pass <code>{}</code> instead of <code>null</code> to my callbacks. So is there a way to determine if empty function was passed?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 1854, "user_id": 224935, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/59h0o.jpg?s=128&g=1", "display_name": "Jay Elston", "link": "https://stackoverflow.com/users/224935/jay-elston"}, "edited": false, "score": 0, "creation_date": 1461725096, "post_id": 36879236, "comment_id": 61324654, "body": "What error (or errors) are you getting?"}, {"owner": {"reputation": 313, "user_id": 5966066, "user_type": "registered", "profile_image": "https://graph.facebook.com/1724623337774149/picture?type=large", "display_name": "K.K Song", "link": "https://stackoverflow.com/users/5966066/k-k-song"}, "reply_to_user": {"reputation": 1854, "user_id": 224935, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/59h0o.jpg?s=128&g=1", "display_name": "Jay Elston", "link": "https://stackoverflow.com/users/224935/jay-elston"}, "edited": false, "score": 0, "creation_date": 1461726085, "post_id": 36879236, "comment_id": 61324906, "body": "in    &quot; (a=b)&quot;      Error:(99, 9) Kotlin: Assignments are not expressions, and only expressions are allowed in this context"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 5966066, "user_type": "registered", "profile_image": "https://graph.facebook.com/1724623337774149/picture?type=large", "display_name": "K.K Song", "link": "https://stackoverflow.com/users/5966066/k-k-song"}, "edited": false, "score": 0, "creation_date": 1461727116, "post_id": 36879495, "comment_id": 61325140, "body": "im try to use i/o stream, so i have to put <i>a=b</i> in <b>if()</b> or <b>while()</b>, how should i do"}, {"owner": {"reputation": 313, "user_id": 5966066, "user_type": "registered", "profile_image": "https://graph.facebook.com/1724623337774149/picture?type=large", "display_name": "K.K Song", "link": "https://stackoverflow.com/users/5966066/k-k-song"}, "edited": false, "score": 0, "creation_date": 1461727392, "post_id": 36879495, "comment_id": 61325206, "body": "sorry, here is my original code <code>fun readFile(path: String): Unit {     var input: InputStream = FileInputStream(path)     var string: String = &quot;&quot;     var tmp: Int = -1     var bytes: ByteArray = ByteArray(1024)     while((tmp=input.read(bytes))!=-1){              } }</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1461757035, "post_id": 36879495, "comment_id": 61341498, "body": "Note: <code>reader</code> and <code>forEachLine</code> are not quite suitable for all the cases of an arbitrary byte stream, at least not with default (thus undefined) encoding which might not be single byte one and can fail at decoding the bytes. <code>InputStream::readBytes</code> is better for that."}], "tags": [], "owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "is_accepted": false, "score": 12, "last_activity_date": 1461732557, "last_edit_date": 1495535404, "creation_date": 1461726091, "answer_id": 36879495, "question_id": 36879236, "link": "https://stackoverflow.com/questions/36879236/how-to-convert-java-assignment-expression-to-kotlin/36879495#36879495", "title": "How to convert Java assignment expression to Kotlin", "body": "<p>Assignments <a href=\"https://stackoverflow.com/questions/32596261/kotlin-why-is-this-syntax-not-valid\">are not expressions</a> in Kotlin, thus you'll need to do it outside:</p>\n\n<pre><code>var a: Int? = 1\nvar b: Int? = 2\nvar c: Int? = 1\n\na = b\nif (a != c)\n    print(true)\n</code></pre>\n\n<p>For your other example with <code>InputStream</code> you could do:</p>\n\n<pre><code>fun readFile(path: String) {\n    val input: InputStream = FileInputStream(path)\n    input.reader().forEachLine {\n        print(it)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 34, "last_activity_date": 1461770766, "last_edit_date": 1461770766, "creation_date": 1461754219, "answer_id": 36887668, "question_id": 36879236, "link": "https://stackoverflow.com/questions/36879236/how-to-convert-java-assignment-expression-to-kotlin/36887668#36887668", "title": "How to convert Java assignment expression to Kotlin", "body": "<p>As @AndroidEx correctly stated, assignments are not expressions in Kotlin, unlike Java. The reason is that expressions with side effects are generally discouraged. See <a href=\"https://discuss.kotlinlang.org/t/assignment-not-allow-in-while-expression/339/5?u=h0tk3y\" rel=\"noreferrer\">this discussion</a> on a similar topic.</p>\n\n<p>One solution is just to split the expression and move the assignment out of condition block:</p>\n\n<pre><code>a = b\nif (a != c) { ... }\n</code></pre>\n\n<p>Another one is to use functions from stdlib like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"noreferrer\"><code>let</code></a>, which executes the lambda with the receiver as parameter and returns the lambda result. <code>apply</code> and <code>run</code> have similar semantics.</p>\n\n<pre><code>if (b.let { a = it; it != c }) { ... }\n</code></pre>\n\n<p><i></i></p>\n\n<pre><code>if (run { a = b; b != c }) { ... }\n</code></pre>\n\n<p>Thanks to <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#inline-functions\" rel=\"noreferrer\">inlining</a>, this will be as efficient as plain code taken from the lambda.</p>\n\n<hr>\n\n<p>Your example with <code>InputStream</code> would look like</p>\n\n<pre><code>while (input.read(bytes).let { tmp = it; it != -1 }) { ... }\n</code></pre>\n\n<p>Also, consider <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-input-stream/read-bytes.html\" rel=\"noreferrer\"><code>readBytes</code></a> function for reading a <code>ByteArray</code> from an <code>InputStream</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 13635, "user_id": 547365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ddefbca930fdd39846b698bab7ac3146?s=128&d=identicon&r=PG", "display_name": "w.brian", "link": "https://stackoverflow.com/users/547365/w-brian"}, "is_accepted": false, "score": 12, "last_activity_date": 1468214101, "creation_date": 1468214101, "answer_id": 38299569, "question_id": 36879236, "link": "https://stackoverflow.com/questions/36879236/how-to-convert-java-assignment-expression-to-kotlin/38299569#38299569", "title": "How to convert Java assignment expression to Kotlin", "body": "<p>As pretty much everyone here has pointed out, assignments are not expressions in Kotlin.  However, we <em>can</em> coerce the assignment into an expression using a function literal:</p>\n\n<pre><code>val reader = Files.newBufferedReader(path)\nvar line: String? = null\nwhile ({ line = reader.readLine(); line }() != null) {\n    println(line);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2944157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c71983e0a1b8971fe9e807d5f5dd361?s=128&d=identicon&r=PG&f=1", "display_name": "user2944157", "link": "https://stackoverflow.com/users/2944157/user2944157"}, "is_accepted": false, "score": 0, "last_activity_date": 1500029522, "creation_date": 1500029522, "answer_id": 45101168, "question_id": 36879236, "link": "https://stackoverflow.com/questions/36879236/how-to-convert-java-assignment-expression-to-kotlin/45101168#45101168", "title": "How to convert Java assignment expression to Kotlin", "body": "<p>I think this may help you:</p>\n\n<pre><code> input.buffered(1024).reader().forEachLine {\n            fos.bufferedWriter().write(it)\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1604, "user_id": 7611718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wb1G6.png?s=128&g=1", "display_name": "Ara Hakobyan", "link": "https://stackoverflow.com/users/7611718/ara-hakobyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1521639548, "creation_date": 1521639548, "answer_id": 49407881, "question_id": 36879236, "link": "https://stackoverflow.com/questions/36879236/how-to-convert-java-assignment-expression-to-kotlin/49407881#49407881", "title": "How to convert Java assignment expression to Kotlin", "body": "<p>the simple way in kotlin is</p>\n\n<pre><code>if (kotlin.run{ a=b; a != c}){ ... }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1071, "user_id": 5637606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tyfe9.jpg?s=128&g=1", "display_name": "ssynhtn", "link": "https://stackoverflow.com/users/5637606/ssynhtn"}, "edited": false, "score": 0, "creation_date": 1600322083, "post_id": 53328947, "comment_id": 113051801, "body": "Idea&#39;s automatic java to kotlin conversion does this too"}], "tags": [], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "is_accepted": false, "score": 14, "last_activity_date": 1600332189, "last_edit_date": 1600332189, "creation_date": 1542321981, "answer_id": 53328947, "question_id": 36879236, "link": "https://stackoverflow.com/questions/36879236/how-to-convert-java-assignment-expression-to-kotlin/53328947#53328947", "title": "How to convert Java assignment expression to Kotlin", "body": "<h2><em>Java</em>:   <code>(a = b) != c</code></h2>\n<h2><em>Kotlin</em>: <code>b.also { a = it } != c</code></h2>\n<hr />\n<p><em>Around OP's question:</em></p>\n<p>Unlike the <a href=\"https://stackoverflow.com/a/36887668/5318303\">accepted answer</a>, I recommend using Kotlin's <strong><code>also</code></strong> function, instead of <code>let</code>:</p>\n<pre><code>while (input.read(bytes).also { tmp = it } != -1) { ...\n</code></pre>\n<p>Because <code>T.also</code> returns <code>T</code> (<code>it</code>) itself and then you can compare it with <code>-1</code>. This is more similar to <strong>Java's assignment as an expression</strong>.</p>\n<hr />\n<p>See <em>&quot;Return this vs. other type&quot;</em> section on <a href=\"https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84\" rel=\"nofollow noreferrer\">this useful blog</a> for details.</p>\n"}], "owner": {"reputation": 313, "user_id": 5966066, "user_type": "registered", "profile_image": "https://graph.facebook.com/1724623337774149/picture?type=large", "display_name": "K.K Song", "link": "https://stackoverflow.com/users/5966066/k-k-song"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10561, "favorite_count": 6, "accepted_answer_id": 36887668, "answer_count": 6, "score": 31, "last_activity_date": 1600332189, "creation_date": 1461724270, "last_edit_date": 1461758220, "question_id": 36879236, "link": "https://stackoverflow.com/questions/36879236/how-to-convert-java-assignment-expression-to-kotlin", "title": "How to convert Java assignment expression to Kotlin", "body": "<p>Something in java like </p>\n\n<pre><code>int a = 1, b = 2, c = 1;\nif ((a = b) !=c){\n    System.out.print(true);\n}\n</code></pre>\n\n<p>now it should be converted to kotlin like</p>\n\n<pre><code>var a:Int? = 1\nvar b:Int? = 2\nvar c:Int? = 1\nif ( (a = b) != c)\n    print(true)\n</code></pre>\n\n<p>but it's not correct.</p>\n\n<p>Here is the error I get:</p>\n\n<pre><code>in \" (a=b)\" Error:(99, 9) Kotlin: Assignments are not expressions, and only expressions are allowed in this context\n</code></pre>\n\n<p>Actually the code above is just an example to clarify the problem. Here is my original code:</p>\n\n<pre><code>fun readFile(path: String): Unit { \n    var input: InputStream = FileInputStream(path) \n    var string: String = \"\" \n    var tmp: Int = -1 \n    var bytes: ByteArray = ByteArray(1024) \n\n    while((tmp=input.read(bytes))!=-1) { } \n}\n</code></pre>\n"}, {"tags": ["android", "json", "android-gradle-plugin", "kotlin", "parcel"], "owner": {"reputation": 1417, "user_id": 2430555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OenB4.jpg?s=128&g=1", "display_name": "Pedro Paulo Amorim", "link": "https://stackoverflow.com/users/2430555/pedro-paulo-amorim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1461717943, "creation_date": 1461717333, "last_edit_date": 1461717943, "question_id": 36878233, "link": "https://stackoverflow.com/questions/36878233/kapt-logansquare-not-working-propertly-on-mapping", "title": "Kapt + LoganSquare not working propertly on mapping", "body": "<p>I'm using the Kotlin to build my application for Android. Then I choose the LoganSquare library to do the parse from JSON -> Object.</p>\n\n<p>After some work, I get this result:</p>\n\n<pre><code>@JsonObject\nclass Line(@PrimaryKey @JsonField var id : Int,\n            @JsonField var name : String) : Parcelable {\n\n  companion object {\n    @JsonIgnore @JvmField final val CREATOR: Parcelable.Creator&lt;Line&gt; =\n      object : Parcelable.Creator&lt;Line&gt; {\n      override fun createFromParcel(source: Parcel): Line = Line(source)\n      override fun newArray(size: Int): Array&lt;Line?&gt; = arrayOfNulls(size)\n    }\n  }\n\n  constructor(parcel : Parcel) : this(parcel.readInt(), parcel.readString())\n\n  override fun writeToParcel(parcel: Parcel, flag: Int) {\n    parcel.writeInt(id)\n    parcel.writeString(name)\n  }\n\n  override fun describeContents(): Int = 0\n\n}\n</code></pre>\n\n<p>After the build, the processor of LoganSquare needs to bind every field, but the kapt returns this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MQnPL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MQnPL.jpg\" alt=\"sample\"></a></p>\n\n<p>Look for the generated code (on the right), this is incorrect. This issue was generated by a error on LoganSquare or kapt? Can you help me to solve this problem?</p>\n\n<ul>\n<li>Kotlin: 1.0.1-2</li>\n<li>LoganSquare: 1.3.6</li>\n<li>Gradle: 2.10</li>\n</ul>\n"}, {"tags": ["timer", "rx-java", "reactive-programming", "kotlin"], "comments": [{"owner": {"reputation": 410, "user_id": 3506422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d54f5921a277b9534c22b474ad4147?s=128&d=identicon&r=PG&f=1", "display_name": "Rzodkiewka", "link": "https://stackoverflow.com/users/3506422/rzodkiewka"}, "edited": false, "score": 1, "creation_date": 1461751444, "post_id": 36876327, "comment_id": 61337575, "body": "I suppose that after resume you would like to start in the point when the delay stopped, not from beginning? I mean your delay is e.g. 10 seconds, assume that 6 seconds already passed and then pauseEvent occured. Once the playEvent will be emitted delay should be 4 seconds now (since initial delay was 10 seconds and 6 seconds pass?"}, {"owner": {"reputation": 21828, "user_id": 968632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db18afb82e88e0cc321e789dc69bce2e?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/968632/guillaume"}, "reply_to_user": {"reputation": 410, "user_id": 3506422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d54f5921a277b9534c22b474ad4147?s=128&d=identicon&r=PG&f=1", "display_name": "Rzodkiewka", "link": "https://stackoverflow.com/users/3506422/rzodkiewka"}, "edited": false, "score": 0, "creation_date": 1461793637, "post_id": 36876327, "comment_id": 61367113, "body": "Yes indeed, so that&#39;s why I think delay might not work for that. I need to somehow keep the state of the timer. I am working on another solution using interval(1 second) for ticks, which seems to work. I&#39;ll post the answer here after more testing"}, {"owner": {"reputation": 3667, "user_id": 4233586, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8936a9f028cde238474cfae506a7ebaf?s=128&d=identicon&r=PG&f=1", "display_name": "yurgis", "link": "https://stackoverflow.com/users/4233586/yurgis"}, "edited": false, "score": 1, "creation_date": 1461803273, "post_id": 36876327, "comment_id": 61370277, "body": "Is this relevant to your question?: <a href=\"http://stackoverflow.com/questions/35782767/how-can-an-observable-be-paused-without-loosing-the-items-emitted/35805100#35805100\" title=\"how can an observable be paused without loosing the items emitted\">stackoverflow.com/questions/35782767/&hellip;</a>"}, {"owner": {"reputation": 21828, "user_id": 968632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db18afb82e88e0cc321e789dc69bce2e?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/968632/guillaume"}, "reply_to_user": {"reputation": 3667, "user_id": 4233586, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8936a9f028cde238474cfae506a7ebaf?s=128&d=identicon&r=PG&f=1", "display_name": "yurgis", "link": "https://stackoverflow.com/users/4233586/yurgis"}, "edited": false, "score": 0, "creation_date": 1461840612, "post_id": 36876327, "comment_id": 61387015, "body": "Thanks @yurgis, it is actually, even though it&#39;s not exactly the same"}], "answers": [{"tags": [], "owner": {"reputation": 21828, "user_id": 968632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db18afb82e88e0cc321e789dc69bce2e?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/968632/guillaume"}, "is_accepted": true, "score": 1, "last_activity_date": 1461840797, "creation_date": 1461840797, "answer_id": 36912521, "question_id": 36876327, "link": "https://stackoverflow.com/questions/36876327/pause-resume-a-timer-delay-in-rx/36912521#36912521", "title": "Pause / Resume a timer/delay in RX", "body": "<p>Here is how I ended up doing it:</p>\n\n<pre><code>playDetected\n            .doOnNext {\n                if (trackIsDifferent(it)) resetTimer()\n                trackPlaying.set(it.track)\n            }\n            .switchMap { state -&gt;\n                interval(1, SECONDS, schedulers.computation)\n                        .doOnNext { currentTimer.incrementAndGet() }\n                        .takeUntil(merge(pauseDetected, stopDetected.doOnNext { resetTimer() }))\n                        .filter { currentTimer.get() == DELAY }\n                        .map { state }\n            }.subscribe { emitFinalEvent(it)) }\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>private val trackPlaying = AtomicReference&lt;Track&gt;()\nprivate val currentTimer = AtomicLong()\n\nprivate fun resetTimer() {\n    currentTimer.set(0)\n}\n\nprivate fun trackIsDifferent(payload: StateWithTrack) = payload.track != trackPlaying.get()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1499, "user_id": 1746384, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/TOWbS.jpg?s=128&g=1", "display_name": "Artur Szyma\u0144ski", "link": "https://stackoverflow.com/users/1746384/artur-szyma%c5%84ski"}, "is_accepted": false, "score": 0, "last_activity_date": 1500876829, "creation_date": 1500876829, "answer_id": 45273741, "question_id": 36876327, "link": "https://stackoverflow.com/questions/36876327/pause-resume-a-timer-delay-in-rx/45273741#45273741", "title": "Pause / Resume a timer/delay in RX", "body": "<p>Some time ago, I was also looking for kind of RX \"timer\" solutions, but non of them met my expectations. So there you can find my own solution:</p>\n\n<pre><code>AtomicLong elapsedTime = new AtomicLong();\nAtomicBoolean resumed = new AtomicBoolean();\nAtomicBoolean stopped = new AtomicBoolean();\n\npublic Flowable&lt;Long&gt; startTimer() { //Create and starts timper\n    resumed.set(true);\n    stopped.set(false);\n    return Flowable.interval(1, TimeUnit.SECONDS)\n            .takeWhile(tick -&gt; !stopped.get())\n            .filter(tick -&gt; resumed.get())\n            .map(tick -&gt; elapsedTime.addAndGet(1000));\n}\n\npublic void pauseTimer() {\n    resumed.set(false);\n}\n\npublic void resumeTimer() {\n    resumed.set(true);\n}\n\npublic void stopTimer() {\n    stopped.set(true);\n}\n\npublic void addToTimer(int seconds) {\n    elapsedTime.addAndGet(seconds * 1000);\n}\n</code></pre>\n\n<p>In case of delay, just overload <code>interval</code> function with delay.</p>\n"}], "owner": {"reputation": 21828, "user_id": 968632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db18afb82e88e0cc321e789dc69bce2e?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/968632/guillaume"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1275, "favorite_count": 2, "accepted_answer_id": 36912521, "answer_count": 2, "score": 1, "last_activity_date": 1500876829, "creation_date": 1461707059, "last_edit_date": 1461841087, "question_id": 36876327, "link": "https://stackoverflow.com/questions/36876327/pause-resume-a-timer-delay-in-rx", "title": "Pause / Resume a timer/delay in RX", "body": "<p>I'm trying to pause / resume a delayed operation using <code>rx-Java</code>, and surprisingly I can't find any details on how to do that.</p>\n\n<p>Obviously, I know how to do it by creating a specific <code>Timer</code> thread and keeping track of the time, but I'm looking for a more elegant and reactive way.</p>\n\n<p>I have three different observables, <code>playDetected</code>, one for <code>pauseDetected</code> and one for <code>stopDetected</code>. I want to emit something after a certain delay of <code>PLAY</code>, but pause when my pause observable emits, and resume when I get another <code>PLAY</code></p>\n\n<p>What I have so far: (it's written in <code>kotlin</code> but <code>Java</code>, pseudo-code or any language will do for an answer)</p>\n\n<pre><code>val playSubscription = playDetected\n            .delay(DELAY, SECONDS, schedulers.computation)\n            .subscribe { emitFinalEvent(it) }\n\nstopDetected.subscribe { playSubscription.unsubscribe() }\n</code></pre>\n\n<p>My delay works, and when I detect a <code>STOP</code>, it successfully removes the delay so that the next <code>PLAY</code> can start it again. But how to pause and resume when <code>pauseDetected</code> emits something???</p>\n"}, {"tags": ["kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 4167410, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-mTldnSeeM9M/AAAAAAAAAAI/AAAAAAAALSU/wWch6XjVqVA/photo.jpg?sz=128", "display_name": "Sigitas", "link": "https://stackoverflow.com/users/4167410/sigitas"}, "edited": false, "score": 0, "creation_date": 1461746100, "post_id": 36866020, "comment_id": 61333796, "body": "thanks, now the question is why <code>SOURCE</code> retension worked fine on java"}], "tags": [], "owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "is_accepted": true, "score": 1, "last_activity_date": 1461676428, "creation_date": 1461676428, "answer_id": 36866020, "question_id": 36862557, "link": "https://stackoverflow.com/questions/36862557/kotlin-qualifier-annotaion-is-ignored/36866020#36866020", "title": "kotlin qualifier annotaion is ignored", "body": "<p>Please try removing this line <code>@Retention(AnnotationRetention.SOURCE)</code>. As far as I know Dagger 2 requires <code>RUNTIME</code> retention (which is the default one in Kotlin, hence no need to specify it explicitly).</p>\n"}], "owner": {"reputation": 163, "user_id": 4167410, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-mTldnSeeM9M/AAAAAAAAAAI/AAAAAAAALSU/wWch6XjVqVA/photo.jpg?sz=128", "display_name": "Sigitas", "link": "https://stackoverflow.com/users/4167410/sigitas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "accepted_answer_id": 36866020, "answer_count": 1, "score": 1, "last_activity_date": 1461676428, "creation_date": 1461667275, "last_edit_date": 1592644375, "question_id": 36862557, "link": "https://stackoverflow.com/questions/36862557/kotlin-qualifier-annotaion-is-ignored", "title": "kotlin qualifier annotaion is ignored", "body": "<p>Code below compiles the first time but fails on second build giving:</p>\n<blockquote>\n<p>Error:SomeObject is bound multiple times:</p>\n<p>@Provides @NotNull SomeObject SomeModule.provideSomeObject()</p>\n<p>@Provides @NotNull SomeObject SomeModule.provideSomeScopedObject()</p>\n</blockquote>\n<p>It seems that the compiler ignores <code>Qualifier</code> annotations on consecutive builds.</p>\n<p>It does not help when component and module are written in java as annotation is ignored in <code>Main</code> class.</p>\n<pre><code>@dagger.Component(modules = arrayOf(SomeModule::class))\ninterface Component {\n    fun inject(main: Main)\n}\n\nclass Main {\n    @field:[javax.inject.Inject SomeScope] lateinit var obj: SomeObject\n}\n\n@dagger.Module\nclass SomeModule {\n\n    @dagger.Provides\n    fun provideSomeObject(): SomeObject {\n        return SomeObject(&quot;noScope&quot;)\n    }\n\n    @SomeScope\n    @dagger.Provides\n    fun provideSomeScopedObject(): SomeObject {\n        return SomeObject(&quot;someScope&quot;)\n    }\n}\n\ndata class SomeObject(val name: String)\n\n@javax.inject.Qualifier\n@Retention(AnnotationRetention.SOURCE)\nannotation class SomeScope\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 960, "user_id": 4129027, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a87dd0252606f7ae958b72b218766932?s=128&d=identicon&r=PG&f=1", "display_name": "Naitik", "link": "https://stackoverflow.com/users/4129027/naitik"}, "edited": false, "score": 0, "creation_date": 1461662259, "post_id": 36860468, "comment_id": 61288620, "body": "you can devide by 1000 of timestamp for convert UTC to GMT"}, {"owner": {"reputation": 5243, "user_id": 1508724, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zX454.jpg?s=128&g=1", "display_name": "T D Nguyen", "link": "https://stackoverflow.com/users/1508724/t-d-nguyen"}, "edited": false, "score": 0, "creation_date": 1461662554, "post_id": 36860468, "comment_id": 61288805, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/308683/how-can-i-get-the-current-date-and-time-in-utc-or-gmt-in-java\">How can I get the current date and time in UTC or GMT in Java?</a>"}, {"owner": {"reputation": 1519, "user_id": 2890374, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/H1zZe.jpg?s=128&g=1", "display_name": "Amitsharma", "link": "https://stackoverflow.com/users/2890374/amitsharma"}, "edited": false, "score": 0, "creation_date": 1502649570, "post_id": 36860468, "comment_id": 78284998, "body": "Try with this code. <a href=\"https://stackoverflow.com/questions/5369682/get-current-time-and-date-on-android/34328449#34328449\">Click here to view all formats of Date and time</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7311, "user_id": 1897466, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/2QunD.jpg?s=128&g=1", "display_name": "Alex Chengalan", "link": "https://stackoverflow.com/users/1897466/alex-chengalan"}, "is_accepted": false, "score": 0, "last_activity_date": 1461662490, "creation_date": 1461662490, "answer_id": 36860607, "question_id": 36860468, "link": "https://stackoverflow.com/questions/36860468/how-to-convert-utc-date-to-locale-gmt-time-on-android/36860607#36860607", "title": "how to convert UTC date to locale GMT time on android", "body": "<p>Try this.</p>\n\n<pre><code>String dateString = \"04/26/2016 10:22:00 AM\";\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy hh:mm:ss aa\");\n    Date convertedDate = new Date();\n    try {\n        convertedDate = dateFormat.parse(dateString);\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    calendar.setTime(convertedDate);\n    Date time = calendar.getTime();\n    SimpleDateFormat outputFmt = new SimpleDateFormat(\"MMM dd, yyy h:mm a zz\");\n    String utcTime = outputFmt.format(time);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2806, "user_id": 2492841, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7F79C.jpg?s=128&g=1", "display_name": "Exceptional", "link": "https://stackoverflow.com/users/2492841/exceptional"}, "is_accepted": false, "score": 0, "last_activity_date": 1461662628, "creation_date": 1461662628, "answer_id": 36860673, "question_id": 36860468, "link": "https://stackoverflow.com/questions/36860468/how-to-convert-utc-date-to-locale-gmt-time-on-android/36860673#36860673", "title": "how to convert UTC date to locale GMT time on android", "body": "<pre><code>    DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\");\n    Date date = sdf.parse(\"2016-04-26T09:14:10.477Z\"); \n    sdf.setTimeZone(TimeZone.getTimeZone(\"IST\"));\n    System.out.println(sdf.format(date));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8906, "user_id": 6027638, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b0b655f4d526b529eeeaa9b9ce433d56?s=128&d=identicon&r=PG&f=1", "display_name": "Pehlaj - Mobile Apps Developer", "link": "https://stackoverflow.com/users/6027638/pehlaj-mobile-apps-developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1505127103, "last_edit_date": 1505127103, "creation_date": 1461662638, "answer_id": 36860679, "question_id": 36860468, "link": "https://stackoverflow.com/questions/36860468/how-to-convert-utc-date-to-locale-gmt-time-on-android/36860679#36860679", "title": "how to convert UTC date to locale GMT time on android", "body": "<p>Try this, replace the format</p>\n\n<pre><code>public static final String DATE_FORMAT       = \"yyyy-MM-dd'T'HH:mm:ss'Z'\";\n\npublic static String getFormattedLocalTimeFromUtc (String utcTimeStamp, String outputFormat) {\n\n   String formattedTime = null;\n   if (!TextUtils.isEmpty (utcTimeStamp)) {\n     if (utcTimeStamp.contains (\"T\")) {\n\n        String localTime = null;\n        SimpleDateFormat sdf = new SimpleDateFormat (DATE_FORMAT, Locale.getDefault ());\n        sdf.setTimeZone (TimeZone.getTimeZone (\"UTC\"));\n        try {\n            localTime = sdf.parse (utcTimeStamp).toString ();\n        }\n        catch (ParseException e) {\n            e.printStackTrace ();\n        }\n\n        DateFormat inputDateFormat = new SimpleDateFormat (\"EEE MMM dd HH:mm:ss z yyyy\");\n        inputDateFormat.setTimeZone (TimeZone.getTimeZone (\"UTC\"));\n        Date date = null;\n        try {\n            date = inputDateFormat.parse (localTime);\n        }\n        catch (ParseException e) {\n            e.printStackTrace ();\n        }\n\n        DateFormat outputDateFormat = new SimpleDateFormat (outputFormat);\n        formattedTime = outputDateFormat.format (date);\n     }\n   }\n   return formattedTime;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 783, "user_id": 2032835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KGm21.jpg?s=128&g=1", "display_name": "Praween Kumar Mishra", "link": "https://stackoverflow.com/users/2032835/praween-kumar-mishra"}, "is_accepted": true, "score": 11, "last_activity_date": 1461662664, "creation_date": 1461662664, "answer_id": 36860694, "question_id": 36860468, "link": "https://stackoverflow.com/questions/36860468/how-to-convert-utc-date-to-locale-gmt-time-on-android/36860694#36860694", "title": "how to convert UTC date to locale GMT time on android", "body": "<p>Try this</p>\n\n<pre><code>SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\nsimpleDateFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nDate myDate = simpleDateFormat.parse(rawQuestion.getString(\"AskDateTime\"));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27882, "user_id": 383414, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0252c97758708e419523490aa848ded?s=128&d=identicon&r=PG", "display_name": "Richard Le Mesurier", "link": "https://stackoverflow.com/users/383414/richard-le-mesurier"}, "edited": false, "score": 0, "creation_date": 1570624312, "post_id": 49668226, "comment_id": 102970577, "body": "For this to work, shouldn&#39;t the format string be <code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;</code>?"}], "tags": [], "owner": {"reputation": 607, "user_id": 2162780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMJi0.jpg?s=128&g=1", "display_name": "Alaa Eddine Cherbib", "link": "https://stackoverflow.com/users/2162780/alaa-eddine-cherbib"}, "is_accepted": false, "score": 7, "last_activity_date": 1522918840, "creation_date": 1522918840, "answer_id": 49668226, "question_id": 36860468, "link": "https://stackoverflow.com/questions/36860468/how-to-convert-utc-date-to-locale-gmt-time-on-android/49668226#49668226", "title": "how to convert UTC date to locale GMT time on android", "body": "<p>The question was in Kotlin and I see all the answers are written in Java, so here is the Kotlin solution</p>\n\n<pre><code>val formatter = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ssZ\", Locale.getDefault())\nformatter.timeZone = TimeZone.getTimeZone(\"UTC\")\nval result = formatter.parse(dateAsString)\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1958693, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9bf1f231b7b279298ccd9ac3646230e?s=128&d=identicon&r=PG", "display_name": "tufekoi", "link": "https://stackoverflow.com/users/1958693/tufekoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23813, "favorite_count": 2, "accepted_answer_id": 36860694, "answer_count": 5, "score": 9, "last_activity_date": 1522918840, "creation_date": 1461662096, "last_edit_date": 1505127168, "question_id": 36860468, "link": "https://stackoverflow.com/questions/36860468/how-to-convert-utc-date-to-locale-gmt-time-on-android", "title": "how to convert UTC date to locale GMT time on android", "body": "<p>I have this date string : <code>2016-04-26T09:14:10.477Z</code> which is in UTC timezone. I want to convert it to the user local Timezone, so if it is GMT +02:00, I want a date with a value of <code>2016-04-26T11:14:10.477Z</code> (note the 9 changes to 11).</p>\n\n<p>I've been using this so far :</p>\n\n<pre><code>val sdf = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\", Locale.getDefault())\nval now = Date()\n\nval limit = sdf.parse(coupon.usedAt)\n</code></pre>\n\n<p>Here <code>limit = Tue Apr 26 09:14:10 GMT+02:00 2016</code> which is not correct I suppose.</p>\n\n<p>So how can I convert it correctly? Thanks!</p>\n\n<p>Edit : my question differs from <a href=\"https://stackoverflow.com/questions/308683/how-can-i-get-the-current-date-and-time-in-utc-or-gmt-in-java\">this one</a>, since I need to use the object <code>SimpleDateFormat</code> and not the <code>Date</code> one</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 3926, "user_id": 2327342, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Swo06.jpg?s=128&g=1", "display_name": "regmoraes", "link": "https://stackoverflow.com/users/2327342/regmoraes"}, "edited": false, "score": 0, "creation_date": 1461638561, "post_id": 36850641, "comment_id": 61277419, "body": "Could you edit your question by adding your <i>PlaceAutoComplete builder</i> code?"}, {"owner": {"reputation": 131, "user_id": 893405, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4649b5a9f1cf23ba00066758632cca4d?s=128&d=identicon&r=PG", "display_name": "Fernando Luiz", "link": "https://stackoverflow.com/users/893405/fernando-luiz"}, "reply_to_user": {"reputation": 3926, "user_id": 2327342, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Swo06.jpg?s=128&g=1", "display_name": "regmoraes", "link": "https://stackoverflow.com/users/2327342/regmoraes"}, "edited": false, "score": 0, "creation_date": 1461683081, "post_id": 36850641, "comment_id": 61304832, "body": "@regmoraes PlaceAutocomplete class? It&#39;s a part of play-services-location-8.4. Decompiled class <a href=\"https://gist.github.com/RevanScript/2ceb56ffbc285e294ff92eea44663e89\" rel=\"nofollow noreferrer\">looks like this</a>"}], "owner": {"reputation": 131, "user_id": 893405, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4649b5a9f1cf23ba00066758632cca4d?s=128&d=identicon&r=PG", "display_name": "Fernando Luiz", "link": "https://stackoverflow.com/users/893405/fernando-luiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461617154, "creation_date": 1461616771, "last_edit_date": 1461617154, "question_id": 36850641, "link": "https://stackoverflow.com/questions/36850641/placeautocomplete-widget-doesnt-work-in-android-4-1", "title": "PlaceAutocomplete widget doesn&#39;t work in Android 4.1", "body": "<p><a href=\"http://googlegeodevelopers.blogspot.com/2015/12/autocomplete-widget-and-updated-place.html\" rel=\"nofollow\">PlaceAutocomplete widget</a> works fine in Android 5.0, but nothing happens with 4.1 when openAutocomplete has been called. No errors in LogCat. onActivityResult performed, but with null in data param. What is the problem?</p>\n\n<p>Code:</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == 1) {\n        if (resultCode == FragmentActivity.RESULT_OK) {\n            val place = PlaceAutocomplete.getPlace(activity, data)\n\n            val cameraUpdate = CameraUpdateFactory.newLatLng(place.latLng)\n            // map.moveCamera(cameraUpdate)\n            map.animateCamera(cameraUpdate)\n\n            if (action === AddressPickerType.FROM) {\n                activity.order.from.onNext(place)\n            } else {\n                activity.order.to.onNext(place)\n            }\n        }\n        else if (resultCode == PlaceAutocomplete.RESULT_ERROR) {\n            val status = PlaceAutocomplete.getStatus(activity, data)\n            Log.e(App.tag, \"Error: Status = \" + status.toString())\n        }\n        else if (resultCode == FragmentActivity.RESULT_CANCELED) {}\n    }\n}\n\nfun openAutocomplete() {\n    val intent = PlaceAutocomplete.IntentBuilder(PlaceAutocomplete.MODE_OVERLAY)\n        .build(activity)\n\n    try {\n        startActivityForResult(intent, 1)\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n}\n</code></pre>\n\n<p>p.s. sorry for my English</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1461597770, "post_id": 36836757, "comment_id": 61258930, "body": "Guava&#39;s <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/SetMultimap.html\" rel=\"nofollow noreferrer\"><code>SetMultimap</code></a> or <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/cache/LoadingCache.html\" rel=\"nofollow noreferrer\"><code>LoadingCache</code></a> look like a better fit for what you are trying to accomplish."}], "answers": [{"comments": [{"owner": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "edited": false, "score": 0, "creation_date": 1461589921, "post_id": 36841462, "comment_id": 61252956, "body": "This solution has a problem: need to specify lambda with default value for every call of <code>getOrElseNullable</code> method. I try to avoid this and want to declare default value in one place only."}], "tags": [], "owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "is_accepted": false, "score": 1, "last_activity_date": 1461589484, "creation_date": 1461589484, "answer_id": 36841462, "question_id": 36836757, "link": "https://stackoverflow.com/questions/36836757/how-to-use-withdefault-wrappers/36841462#36841462", "title": "How to use withDefault wrappers?", "body": "<p>Well, all the implementations of <code>getOrImplicitDefault</code> redirect t to <code>getOrElseNullable</code>. Maybe try that.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 7, "last_activity_date": 1523392986, "last_edit_date": 1523392986, "creation_date": 1461595273, "answer_id": 36843784, "question_id": 36836757, "link": "https://stackoverflow.com/questions/36836757/how-to-use-withdefault-wrappers/36843784#36843784", "title": "How to use withDefault wrappers?", "body": "<p>As of Kotlin 1.0 a wrapper returned by <code>withDefault</code> is only usable in property delegation use cases.</p>\n\n<pre><code>val map = mutableMapOf&lt;String, Set&lt;String&gt;&gt;().withDefault { mutableSetOf() }\n\nvar property: Set&lt;String&gt; by map // returns empty set by default\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5208, "user_id": 228689, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6900ef902cd770996681ed6724ae0275?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/228689/guillaume"}, "edited": false, "score": 3, "creation_date": 1502215222, "post_id": 43210724, "comment_id": 78109678, "body": "Looks like the default value is returned, but not put into the map... rather useless."}, {"owner": {"reputation": 23433, "user_id": 1127485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7eccba442d1ee3ca8e4ded89b343362?s=128&d=identicon&r=PG", "display_name": "sschuberth", "link": "https://stackoverflow.com/users/1127485/sschuberth"}, "reply_to_user": {"reputation": 5208, "user_id": 228689, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6900ef902cd770996681ed6724ae0275?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/228689/guillaume"}, "edited": false, "score": 0, "creation_date": 1502215876, "post_id": 43210724, "comment_id": 78110044, "body": "Out of curiosity, why do you need it to be put into the map if just calling getValue() again gets you the value again?"}, {"owner": {"reputation": 5208, "user_id": 228689, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6900ef902cd770996681ed6724ae0275?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/228689/guillaume"}, "edited": false, "score": 0, "creation_date": 1502264936, "post_id": 43210724, "comment_id": 78128122, "body": "I want to provide a default way to create an object with the provided key if the map doesn&#39;t contain any value with this key. This is how the withDefault works in Groovy and I want to do the same thing in Kotlin. Because I need to retrieve the same instance after the init and I need to mutate it. Here is the Groovy way to do this thing: <a href=\"http://mrhaki.blogspot.ch/2010/07/groovy-goodness-map-with-default-values.html\" rel=\"nofollow noreferrer\">mrhaki.blogspot.ch/2010/07/&hellip;</a>"}], "tags": [], "owner": {"reputation": 23433, "user_id": 1127485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7eccba442d1ee3ca8e4ded89b343362?s=128&d=identicon&r=PG", "display_name": "sschuberth", "link": "https://stackoverflow.com/users/1127485/sschuberth"}, "is_accepted": false, "score": 5, "last_activity_date": 1491317657, "creation_date": 1491317657, "answer_id": 43210724, "question_id": 36836757, "link": "https://stackoverflow.com/questions/36836757/how-to-use-withdefault-wrappers/43210724#43210724", "title": "How to use withDefault wrappers?", "body": "<p>Looks like in Kotlin 1.1 this actually works if you use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/get-value.html\" rel=\"noreferrer\">getValue()</a> function instead of the <code>get()</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2148170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b632d2d5f6a4074817326ceaa04ed8?s=128&d=identicon&r=PG", "display_name": "yaworski", "link": "https://stackoverflow.com/users/2148170/yaworski"}, "is_accepted": false, "score": 2, "last_activity_date": 1526509181, "creation_date": 1526509181, "answer_id": 50380714, "question_id": 36836757, "link": "https://stackoverflow.com/questions/36836757/how-to-use-withdefault-wrappers/50380714#50380714", "title": "How to use withDefault wrappers?", "body": "<p>I've been looking for a way to return default value from a MutableMap, but also store it at the same time for future retrieval. The <code>.withDefault</code> only returns the default value, but doesn't store it. Calling <code>.getOrPut</code> every time I need to retrieve a value doesn't look like a good idea. I've came up with something like this:</p>\n\n<pre><code>val myMap = with(mutableMapOf&lt;String, Set&lt;String&gt;&gt;()) {\n    withDefault { key -&gt; getOrPut(key, { mutableSetOf&lt;String&gt;() }) }\n}\n</code></pre>\n\n<p>This calls <code>getOrPut</code> within <code>withDefault</code> wrapper on the backing MutableMap object, which puts the missing key-value pair into the map and returns it.</p>\n"}, {"tags": [], "owner": {"reputation": 2932, "user_id": 7212809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VlOyJEUeeSc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jExBae7iJ2ALFtcMj_6BCoHGTMgw/mo/photo.jpg?sz=128", "display_name": "nz_21", "link": "https://stackoverflow.com/users/7212809/nz-21"}, "is_accepted": false, "score": 2, "last_activity_date": 1548788199, "creation_date": 1548788199, "answer_id": 54427910, "question_id": 36836757, "link": "https://stackoverflow.com/questions/36836757/how-to-use-withdefault-wrappers/54427910#54427910", "title": "How to use withDefault wrappers?", "body": "<p>Use the following method: </p>\n\n<pre><code>myMap.getOrPut(someKey,{DEFAULT_VALUE})\n</code></pre>\n\n<p>Documentation: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/get-or-put.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/get-or-put.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "is_accepted": false, "score": 1, "last_activity_date": 1591119751, "creation_date": 1591119751, "answer_id": 62158081, "question_id": 36836757, "link": "https://stackoverflow.com/questions/36836757/how-to-use-withdefault-wrappers/62158081#62158081", "title": "How to use withDefault wrappers?", "body": "<p>Map <code>withDefault</code> returns a wrapper of the read-only map, having the implicit default value provided with the specified function defaultValue. This implicit default value is used when the original map doesn't contain a value for the key specified. See the usage of <code>getOrElse</code> &amp; <code>getOrDefault</code> as well that works the same way as for lists -</p>\n\n<pre><code>val emojiMap = mapOf(\"Grinning Face\" to \"\ud83d\ude00\", \"Winking face\" to \"\ud83d\ude09\", \n                \"Zany face\" to \"\ud83e\udd2a\").withDefault({\"\ud83d\ude42\"})\n\nfun main()\n{\n    println(emojiMap) // {Grinning Face=\ud83d\ude00, Winking face=\ud83d\ude09, Zany face=\ud83e\udd2a}\n    println(emojiMap.getValue(\"Grinning Face\")) // \ud83d\ude00\n    println(emojiMap.getValue(\"Zany face\")) // \ud83e\udd2a\n    println(emojiMap.getValue(\"Smiling face\")) // \ud83d\ude42\n\n    // getOrElse &amp; getOrDefault\n    println(emojiMap.getOrElse(\"Flushed face\"){\"\ud83d\ude33\"}) // \ud83d\ude33\n    println(emojiMap.getOrDefault(\"Sad face\",\"\ud83d\ude41\")) // \ud83d\ude41\n}\n</code></pre>\n"}], "owner": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3555, "favorite_count": 5, "accepted_answer_id": 36843784, "answer_count": 6, "score": 13, "last_activity_date": 1591119751, "creation_date": 1461576799, "last_edit_date": 1461588918, "question_id": 36836757, "link": "https://stackoverflow.com/questions/36836757/how-to-use-withdefault-wrappers", "title": "How to use withDefault wrappers?", "body": "<p>I want to use <code>MutableMap</code> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-default.html\" rel=\"noreferrer\">with defaults</a>:</p>\n\n<pre><code>val myMap = mutableMapOf&lt;String, Set&lt;String&gt;&gt;().withDefault { mutableSetOf() }\n</code></pre>\n\n<p>but I can't use <code>getOrImplicitDefault</code> method because <code>withDefault</code> returns <code>MutableMap&lt;String, Set&lt;String&gt;&gt;</code> type. Moreover, I can't cast to <code>MutableMapWithDefault</code> interface because <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/collections/MapWithDefault.kt#L60\" rel=\"noreferrer\">this is a private interface</a>.</p>\n\n<p>I can't use <code>get</code> method either because it returns a nullable type. It is ok because this is a method on the <code>MutableMap</code> interface (moreover it doesn't call <code>defaultValue</code> callback for take default value).</p>\n\n<p>Seems like this functionality is not correctly implemented in Kotlin,  or I am using it wrong. So, how do I use <code>withDefault</code> wrappers correctly?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 241, "user_id": 6875271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c68a12b7e23d61ca83670602b0f96349?s=128&d=identicon&r=PG", "display_name": "Sarvesh Athawale", "link": "https://stackoverflow.com/users/6875271/sarvesh-athawale"}, "edited": false, "score": 0, "creation_date": 1574915684, "post_id": 36826004, "comment_id": 104400130, "body": "You can use this simple kotlin friendly library. <a href=\"https://github.com/Sathawale27/KotlinToasts\" rel=\"nofollow noreferrer\">github.com/Sathawale27/KotlinToasts</a>"}, {"owner": {"reputation": 424, "user_id": 10300202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0X58.png?s=128&g=1", "display_name": "Javid Sattar", "link": "https://stackoverflow.com/users/10300202/javid-sattar"}, "edited": false, "score": 0, "creation_date": 1599635132, "post_id": 36826004, "comment_id": 112830089, "body": "I answered in this Link : <a href=\"https://stackoverflow.com/a/63806312/10300202\">stackoverflow.com/a/63806312/10300202</a> I hope this help"}], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 135, "last_activity_date": 1461517828, "creation_date": 1461517828, "answer_id": 36826336, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/36826336#36826336", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>It can be an extension function for <code>Context</code>:</p>\n\n<pre><code>fun Context.toast(message: CharSequence) = \n    Toast.makeText(this, message, Toast.LENGTH_SHORT).show()\n</code></pre>\n\n<p>You can place this anywhere in your project, where exactly is up to you. For example, you can define a file <code>mypackage.util.ContextExtensions.kt</code> and put it there as a top level function.</p>\n\n<p>Whenever you have access to a <code>Context</code> instance, you can import this function and use it:</p>\n\n<pre><code>import mypackage.util.ContextExtensions.toast\n\nfun myFun(context: Context) {\n    context.toast(\"Hello world!\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": false, "score": 1, "last_activity_date": 1461585661, "creation_date": 1461585661, "answer_id": 36839978, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/36839978#36839978", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>It's simply an extension function for <code>Context</code> (like other pointed out already). </p>\n\n<p>You can find a lot of pre-defined android extension functions in <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow\">Anko</a>, which is probably what many of the tutorials use as well.</p>\n"}, {"comments": [{"owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1537713908, "post_id": 40699397, "comment_id": 91876214, "body": "It looks like this is not officially supported by Android (I couldn&#39;t find any reference to Anko in the Android developer&#39;s website). Why could it be it so? It looks very intriguing."}, {"owner": {"reputation": 5267, "user_id": 1402526, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ac51b7f80f4b662e824156306d5fff9c?s=128&d=identicon&r=PG", "display_name": "Muz", "link": "https://stackoverflow.com/users/1402526/muz"}, "reply_to_user": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 2, "creation_date": 1538348395, "post_id": 40699397, "comment_id": 92100670, "body": "It was from a while back, before Kotlin was officially supported by Google. Anko appears to be an unfinished project. The goal was to replace XML for layouts entirely, but they didn&#39;t do so well at it. A lot of the benefits of Anko were also gradually built into Kotlin."}, {"owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1539639760, "post_id": 40699397, "comment_id": 92567260, "body": "thanks, that was very helpful. I now wonder why isn&#39;t this extension already provided by the Kotlin extensions for Android. Or is it and I can&#39;t find how to add it? :thinking:"}], "tags": [], "owner": {"reputation": 5267, "user_id": 1402526, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ac51b7f80f4b662e824156306d5fff9c?s=128&d=identicon&r=PG", "display_name": "Muz", "link": "https://stackoverflow.com/users/1402526/muz"}, "is_accepted": false, "score": 47, "last_activity_date": 1542128322, "last_edit_date": 1542128322, "creation_date": 1479601614, "answer_id": 40699397, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/40699397#40699397", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>It's actually a part of <a href=\"https://github.com/Kotlin/anko\" rel=\"noreferrer\">Anko</a>, an extension for Kotlin. Syntax is as follows:</p>\n\n<pre><code>toast(\"Hi there!\")\ntoast(R.string.message)\nlongToast(\"Wow, such a duration\")\n</code></pre>\n\n<p>In your app-level <code>build.gradle</code>, add <code>implementation \"org.jetbrains.anko:anko-common:0.8.3\"</code></p>\n\n<p>Add <code>import org.jetbrains.anko.toast</code> to your Activity.</p>\n"}, {"tags": [], "owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "is_accepted": false, "score": 1, "last_activity_date": 1496133031, "creation_date": 1496133031, "answer_id": 44257244, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/44257244#44257244", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>Just to add on @nhaarman's answer --> you probably want to add the <code>resourceId</code> support as well</p>\n\n<pre><code>fun Context.toast(resourceId: Int) = toast(getString(resourceId))\nfun Context.toast(message: CharSequence) = \n    Toast.makeText(this, message, Toast.LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 922, "user_id": 7301274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J12wk.jpg?s=128&g=1", "display_name": "Khyati Fatania", "link": "https://stackoverflow.com/users/7301274/khyati-fatania"}, "is_accepted": false, "score": 2, "last_activity_date": 1497943954, "creation_date": 1497943954, "answer_id": 44646626, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/44646626#44646626", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>I have found very easy way to Toast from given link\n<a href=\"https://gist.github.com/felipearimateia/ee651e2694c21de2c812063980b89ca3\" rel=\"nofollow noreferrer\">https://gist.github.com/felipearimateia/ee651e2694c21de2c812063980b89ca3</a>. In this link Activity is used instead of Context. Try it.</p>\n"}, {"comments": [{"owner": {"reputation": 1194, "user_id": 4696610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pnh70.jpg?s=128&g=1", "display_name": "Ravi Vaniya", "link": "https://stackoverflow.com/users/4696610/ravi-vaniya"}, "edited": false, "score": 2, "creation_date": 1549434127, "post_id": 46400418, "comment_id": 95895711, "body": "Thx @Zeero0 , +1 for <code>this@MainActivity</code> ."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11566289"}, "edited": false, "score": 0, "creation_date": 1559364745, "post_id": 46400418, "comment_id": 99405943, "body": "I&#39;m new to Kotlin, so pardon my ignorance, but how does this answer the question?"}], "tags": [], "owner": {"reputation": 1807, "user_id": 5846135, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e6b06a7170a0f02d0d3fbcce62f0b4ed?s=128&d=identicon&r=PG&f=1", "display_name": "Zeero0", "link": "https://stackoverflow.com/users/5846135/zeero0"}, "is_accepted": false, "score": 66, "last_activity_date": 1524129276, "last_edit_date": 1524129276, "creation_date": 1506327130, "answer_id": 46400418, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/46400418#46400418", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p><strong>This is one line solution in Kotlin:</strong></p>\n\n<pre><code>Toast.makeText(this@MainActivity, \"Its toast!\", Toast.LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 5151336, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D3htVqMzt8c/AAAAAAAAAAI/AAAAAAAAAnU/0T-gW-wfxvI/photo.jpg?sz=128", "display_name": "vishnu benny", "link": "https://stackoverflow.com/users/5151336/vishnu-benny"}, "is_accepted": false, "score": 3, "last_activity_date": 1559835456, "last_edit_date": 1559835456, "creation_date": 1519545099, "answer_id": 48971404, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/48971404#48971404", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>While using <strong>Anko</strong> with <strong>Kotlin</strong>, inside <strong>fragment</strong> use either:</p>\n\n<pre><code> activity.toast(\"string message\") \n</code></pre>\n\n<p>or</p>\n\n<pre><code> context.toast(\"string message\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code> view.holder.context.toast(\"string message\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1834, "user_id": 3881947, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0lhYF.jpg?s=128&g=1", "display_name": "Deepshikha Puri", "link": "https://stackoverflow.com/users/3881947/deepshikha-puri"}, "is_accepted": false, "score": 1, "last_activity_date": 1524461348, "creation_date": 1524461348, "answer_id": 49973941, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/49973941#49973941", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>Download source code from here (<a href=\"http://deepshikhapuri.blogspot.in/2018/04/custom-toast-in-android-kotlin.html\" rel=\"nofollow noreferrer\">Custom Toast In Android Kotlin</a> ) </p>\n\n<pre><code>fun Toast.createToast(context: Context, message: String, gravity: Int, duration: Int, backgroucolor: String, imagebackgroud: Int) {\n        val inflater: LayoutInflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        /*first parameter is the layout you made\n        second parameter is the root view in that xml\n         */\n        val layout = inflater.inflate(R.layout.custom_toast, (context as Activity).findViewById(R.id.custom_toast_container))\n\n        layout.findViewById(R.id.tv_message).text = message\n        layout.setBackgroundColor(Color.parseColor(backgroucolor))\n        layout.findViewById(R.id.iv_image).iv_image.setImageResource(imagebackgroud)\n        setGravity(gravity, 0, 100)\n        setDuration(Toast.LENGTH_LONG);\n\n        setView(layout);\n        show()\n    }\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": [], "owner": {"reputation": 5407, "user_id": 5264367, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/VgoyF.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/5264367/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1533644480, "last_edit_date": 1533644480, "creation_date": 1532287240, "answer_id": 51468535, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/51468535#51468535", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>the way I use it <strong>simply</strong> creating an <code>Object</code>/<code>Class</code></p>\n\n<pre><code>object UtilKotlin {\n    fun showMessage(context: Context, message: String) {\n        Toast.makeText(context, message, Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n\n<p>and calling the method</p>\n\n<pre><code>UtilKotlin.showMessage(activity, \"Sets 0 !\") // in activity trying this\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "is_accepted": false, "score": 0, "last_activity_date": 1537653368, "creation_date": 1537653368, "answer_id": 52461212, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/52461212#52461212", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>Custom Toast with Background color Text size AND <strong>NO XML</strong> file inflated\nTry the code without setting the Background color</p>\n\n<pre><code>    fun theTOAST(){\n\n    val toast = Toast.makeText(this@MainActivity, \"Use View Person List\",Toast.LENGTH_LONG)\n    val view = toast.view\n    view.setBackgroundColor(Color.TRANSPARENT)\n    val text = view.findViewById(android.R.id.message) as TextView\n    text.setTextColor(Color.BLUE)\n    text.textSize = (18F)\n    toast.show()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1027, "user_id": 5416615, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a098a61b2adec91399be136a8dd54a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Bala", "link": "https://stackoverflow.com/users/5416615/the-bala"}, "is_accepted": false, "score": 12, "last_activity_date": 1570767516, "last_edit_date": 1570767516, "creation_date": 1539226591, "answer_id": 52751475, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/52751475#52751475", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>Try this</p>\n\n<p>In Activity</p>\n\n<pre><code>Toast.makeText(applicationContext, \"Test\", Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Toast.makeText(this@MainActiivty, \"Test\", Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>In Fragment</p>\n\n<pre><code>Toast.makeText(activity, \"Test\", Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>or </p>\n\n<pre><code>Toast.makeText(activity?.applicationContext, \"Test\", Toast.LENGTH_LONG).show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 106, "user_id": 10312147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwxXJ.jpg?s=128&g=1", "display_name": "Ian Elvister", "link": "https://stackoverflow.com/users/10312147/ian-elvister"}, "edited": false, "score": 0, "creation_date": 1618069321, "post_id": 55926021, "comment_id": 118493168, "body": "why do you need to pass context again. you can absolutely use it as <code>fun Context.toast(message: String, duration: Int = Toast.LENGTH_SHORT){         Toast.makeText(this, message , duration).show()     }</code> then <code>toast(&quot;John Doe&quot;)</code> or <code>toast(&quot;John Doe&quot;, Toast.LENGTH_LONG)</code>"}, {"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "reply_to_user": {"reputation": 106, "user_id": 10312147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwxXJ.jpg?s=128&g=1", "display_name": "Ian Elvister", "link": "https://stackoverflow.com/users/10312147/ian-elvister"}, "edited": false, "score": 0, "creation_date": 1618083622, "post_id": 55926021, "comment_id": 118496998, "body": "Nice contribution @IanElvister, I will update the answer"}], "tags": [], "owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "is_accepted": false, "score": 2, "last_activity_date": 1618083673, "last_edit_date": 1618083673, "creation_date": 1556645311, "answer_id": 55926021, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/55926021#55926021", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>With this extension function for <strong>Toasts</strong>, you can call them in Activities as well as Fragments, you can pass <strong>this</strong> as <code>Context</code> for Activities or <code>getApplication()</code> for Fragments, also it's generated with <code>Toast.LENGTH_SHORT</code> as default, so you don't need to worry to pass it as a parameter, but you can overwrite it as well if you need.</p>\n<h2>Kotlin</h2>\n<pre><code>fun Context.showToast(message: String, duration: Int = Toast.LENGTH_SHORT){\n        Toast.makeText(context, message , duration).show()\n    }\n</code></pre>\n<h2>Usage</h2>\n<pre><code>showToast(&quot;John Doe&quot;)\n</code></pre>\n<p>if you want to override the duration.</p>\n<pre><code>showToast(&quot;John Doe&quot;, Toast.LENGTH_LONG)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1072, "user_id": 6330489, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/831813746924822/picture?type=large", "display_name": "Aziz", "link": "https://stackoverflow.com/users/6330489/aziz"}, "is_accepted": false, "score": 4, "last_activity_date": 1569909210, "last_edit_date": 1569909210, "creation_date": 1566395965, "answer_id": 57593424, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/57593424#57593424", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>If you don't want to use <code>anko</code> and want to create your own <code>Toast</code> extension. You can create inline(or without inline) extensions defined in a kotlin file(with no class) and with that you can access this function in any class.</p>\n\n<pre><code>inline fun Context.toast(message:String){\n   Toast.makeText(this, message , duration).show()\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<p>In Activity,</p>\n\n<pre><code>toast(\"Toast Message\")\n</code></pre>\n\n<p>In Fragment,</p>\n\n<pre><code>context?.toast(\"Toast Message\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3667, "user_id": 1064316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ee990de45dd5eb0fd05fdc94d6454c5?s=128&d=identicon&r=PG&f=1", "display_name": "norbDEV", "link": "https://stackoverflow.com/users/1064316/norbdev"}, "is_accepted": false, "score": 2, "last_activity_date": 1573304756, "creation_date": 1573304756, "answer_id": 58779586, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/58779586#58779586", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>Show a Toast <strong>not from the UI Thread</strong>, in a <strong>Fragment</strong></p>\n\n<pre><code>activity?.runOnUiThread {\n        Toast.makeText(context, \"Image saved to the Gallery\", Toast.LENGTH_SHORT).show()\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1153, "user_id": 11369023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zFtbF.png?s=128&g=1", "display_name": "Aftab Alam", "link": "https://stackoverflow.com/users/11369023/aftab-alam"}, "is_accepted": false, "score": 1, "last_activity_date": 1587881188, "last_edit_date": 1587881188, "creation_date": 1587720108, "answer_id": 61405077, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/61405077#61405077", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p><strong>Android Toast for Kotlin</strong></p>\n\n<blockquote>\n  <p>Activity</p>\n</blockquote>\n\n<pre><code>Toast.makeText(applicationContext, \"message...\", Toast.LENGTH_SHORT).show()\n</code></pre>\n\n<blockquote>\n  <p>Fragment</p>\n</blockquote>\n\n<pre><code>Toast.makeText(activity, \"message...\", Toast.LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 10312147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwxXJ.jpg?s=128&g=1", "display_name": "Ian Elvister", "link": "https://stackoverflow.com/users/10312147/ian-elvister"}, "is_accepted": false, "score": 2, "last_activity_date": 1614916687, "creation_date": 1614916687, "answer_id": 66486560, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android/66486560#66486560", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>A very simple extension.</p>\n<p>Add this to a toast.kt file</p>\n<pre><code>import android.content.Context\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\n\ninline fun Context.toast(message:()-&gt;String){\n   Toast.makeText(this, message() , Toast.LENGTH_LONG).show()\n}\n\ninline fun Fragment.toast(message:()-&gt;String){\n   Toast.makeText(this.context, message() , Toast.LENGTH_LONG).show()\n}\n</code></pre>\n<p>then you'll have</p>\n<pre><code>toast {\n   &quot;Hello World&quot;\n}\n</code></pre>\n<p>in both fragment &amp; activity.</p>\n"}], "owner": {"reputation": 30876, "user_id": 2079831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/707e9914d5a39558c376e8db47c60151?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2079831/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98102, "favorite_count": 14, "accepted_answer_id": 36826336, "answer_count": 16, "score": 83, "last_activity_date": 1618083673, "creation_date": 1461516208, "last_edit_date": 1595027125, "question_id": 36826004, "link": "https://stackoverflow.com/questions/36826004/how-do-you-display-a-toast-using-kotlin-on-android", "title": "How do you display a Toast using Kotlin on Android?", "body": "<p>In different Kotlin examples for Android I see <code>toast(&quot;Some message...&quot;)</code> or <code>toastLong(&quot;Some long message&quot;)</code>. For example:</p>\n<pre><code>view.setOnClickListener { toast(&quot;Click&quot;) }\n</code></pre>\n<p>As I understand, it is an Extension Function for <code>Activity</code>.</p>\n<p>How and where do you define this <code>toast()</code> function so that you are able to use it throughout the project?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462826860, "post_id": 36825297, "comment_id": 61791120, "body": "Your accepted answer is only correct when not using generics.  You are comparing a <code>Type</code> to a <code>Class</code> which works only when the parameter does not have any generic types in it."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462828545, "post_id": 36825297, "comment_id": 61792029, "body": "I added a more lengthy answer, sorry the topic is not that simple when generics are introduced."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462829679, "post_id": 36825297, "comment_id": 61792485, "body": "do you need to check types that might specifically contain generics?  For example knowing if a parameter is <code>List&lt;String&gt;</code> versus <code>List&lt;Cat&gt;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "edited": false, "score": 0, "creation_date": 1461514820, "post_id": 36825521, "comment_id": 61222424, "body": "Try to test your solution with my snippet. It should print 3 lines (&quot;Has IA interface parameter.&quot;, etc.) but it doesn&#39;t print them. Could you please explain this?"}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "reply_to_user": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "edited": false, "score": 1, "creation_date": 1461520548, "post_id": 36825521, "comment_id": 61224592, "body": "I found out that you can&#39;t just compare <code>KType</code> with <code>KClass</code>. But you can get corresponding Java types and compare them. Please check the updated code."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462825403, "post_id": 36825521, "comment_id": 61790383, "body": "A <code>Class</code> in Java is an instance of <code>Type</code> which is why that works in Java when both are really a <code>Class</code>, this is not the case in Kotlin.  But sometimes a <code>Type</code> might be something else, so this comparison won&#39;t always work as you think it would.  For example a <code>ParameterizedType</code> and <code>Class</code> won&#39;t compare equal.  So your code could fail if that type is one of the other 4 or 5 implementations of <code>Type</code>"}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 0, "creation_date": 1462828792, "post_id": 36825521, "comment_id": 61792139, "body": "The question is not about comparing parameterized types, isn&#39;t it? The author doesn&#39;t ask how to compare a raw type to a class."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462829570, "post_id": 36825521, "comment_id": 61792445, "body": "But you @michael are comparing a java <code>Type</code> to a java <code>Class</code> in your answer.  And that isn&#39;t always correct when his use case MIGHT LATER include generics (I&#39;m guessing he simplified it for here).  Nor does this answer handle inheritance which the attempted <code>is</code> check would have done."}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 0, "creation_date": 1462853008, "post_id": 36825521, "comment_id": 61798187, "body": "I do. And yes, I know about all these problems. But again, the question is not about that."}], "tags": [], "owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "is_accepted": true, "score": 6, "last_activity_date": 1461520485, "last_edit_date": 1461520485, "creation_date": 1461513526, "answer_id": 36825521, "question_id": 36825297, "link": "https://stackoverflow.com/questions/36825297/incompatible-types-a-and-kotlin-reflect-ktype/36825521#36825521", "title": "Incompatible types: A and kotlin.reflect.KType", "body": "<p>The thing is you're trying to check if <code>KType</code> is <code>A</code>, which is always <code>false</code>. And the compiler knows it and raises a compilation error. But <code>IA</code> is an interface a class that implements <code>KType</code> can possibly implement this interface too so there's no compilation error. <code>ActionEvent</code> is an open class so it's subtype can implement <code>KType</code> - no compilation error either.</p>\n\n<p>What you should do to check if the parameter type is some class or some interface is the following.</p>\n\n<pre><code>when (parameter.type.javaType) {\n    IA::class.javaClass -&gt; println(\"Has IA interface parameter.\")\n    ActionEvent::class.javaClass -&gt; println(\"Has ActionEvent class parameter.\")\n    A::class.javaClass -&gt; println(\"Has A class parameter.\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 2, "last_activity_date": 1462830887, "last_edit_date": 1462830887, "creation_date": 1462826496, "answer_id": 37125077, "question_id": 36825297, "link": "https://stackoverflow.com/questions/36825297/incompatible-types-a-and-kotlin-reflect-ktype/37125077#37125077", "title": "Incompatible types: A and kotlin.reflect.KType", "body": "<p>First, you are using the wrong operator.  <code>is</code> checks if an <em>instance</em> of something is a given class.  You have no instance.  You instead have a <code>KType</code> that you are trying to check if it is the instance of a class <code>A</code>, or <code>IA</code> or <code>ActionEvent</code>, it isn't.</p>\n\n<p>So you need to use a different operator, which is to check if they are equal or call the method <code>isAssignableFrom()</code>.  And then you need to check that the two things you are comparing are the right datatypes and do what you expect.  </p>\n\n<p>In another answer, @Michael says you can just treat a <code>Type</code> and <code>Class</code> the same for equality, that isn't always true; not that simple.  Sometimes a <code>Type</code> is a <code>Class</code> but sometimes it is a <code>ParameterizedType</code>, <code>GenericArrayType</code>, <code>TypeVariable</code>, or <code>WildcardType</code> which are not comparable with equals.  So that approach is wrong if you ever have a parameter to the method that uses generics it breaks.</p>\n\n<p>Here is a version that does not support generics in that if generics are used in  the parameter, they will not match.  This also compares <code>KType</code>using equality, which means it does not work for inherited classes matching against a superclass or interface.  But the most simple is:</p>\n\n\n\n<pre><code> when (parameter.type) {\n    IA::class.defaultType -&gt; println(\"Has IA interface parameter.\")\n    ActionEvent::class.defaultType -&gt; println(\"Has ActionEvent class parameter.\")\n    A::class.defaultType -&gt; println(\"Has A class parameter.\") \n }\n</code></pre>\n\n<p>This breaks if For example if class <code>A</code> had generic parameter <code>T</code> so you wanted to check a parameter that is <code>A&lt;String&gt;</code> or <code>A&lt;Monkey&gt;</code> you will not match <code>A::class.defaultType</code> (FALSE!!!).  Or if you tried to compare array types, again will not match.</p>\n\n<p>To fix this generics problem, we need to also erase the <code>paramter.type</code> you are checking.  We need a helper function to do that.</p>\n\n<p>Here is one copied from the <a href=\"https://github.com/kohesive/klutter\" rel=\"nofollow\">Klutter library</a> that takes a <code>KType</code> and erases the generics to make a <code>KClass</code>.  You will need the <code>kotlin-reflect</code> dependency to use this code.  <em>You can remove the <code>kotlin-refect</code> dependency by only working with Java <code>Class</code> and not using <code>KClass</code> anywhere directly.  Some other code will have to change.</em></p>\n\n<p>With the following extension function:</p>\n\n<pre><code>fun KType.erasedType(): KClass&lt;*&gt; {\n     return this.javaType.erasedType().kotlin\n}\n\n@Suppress(\"UNCHECKED_CAST\")\nfun Type.erasedType(): Class&lt;*&gt; {\n    return when (this) {\n        is Class&lt;*&gt; -&gt; this as Class&lt;Any&gt;\n        is ParameterizedType -&gt; this.getRawType().erasedType()\n        is GenericArrayType -&gt; {\n            // getting the array type is a bit trickier\n            val elementType = this.getGenericComponentType().erasedType()\n            val testArray = java.lang.reflect.Array.newInstance(elementType, 0)\n            testArray.javaClass\n        }\n        is TypeVariable&lt;*&gt; -&gt; {\n            // not sure yet\n            throw IllegalStateException(\"Not sure what to do here yet\")\n        }\n        is WildcardType -&gt; {\n            this.getUpperBounds()[0].erasedType()\n        }\n        else -&gt; throw IllegalStateException(\"Should not get here.\")\n    }\n}\n</code></pre>\n\n<p>You can now write your code more simply as:</p>\n\n<pre><code> when (parameter.type.erasedType()) {\n    IA::class-&gt; println(\"Has IA interface parameter.\")\n    ActionEvent::class -&gt; println(\"Has ActionEvent class parameter.\")\n    A::class -&gt; println(\"Has A class parameter.\") \n }\n</code></pre>\n\n<p>So generics are ignored and this works comparing the raw erased class against each other; but again without inheritance. </p>\n\n<p>To support inheritance you can use this version slightly modified. You need a different form of <code>when</code> expression and a helper function:</p>\n\n<pre><code>fun assignCheck(ancestor: KClass&lt;*&gt;, checkType: KType): Boolean =\n    ancestor.java.isAssignableFrom(checkType.javaType.erasedType())\n</code></pre>\n\n<p>Then the <code>when</code> expression changed to:</p>\n\n<pre><code>when {\n    assignCheck(IA::class, parameter.type) -&gt; println(\"Has IA interface parameter.\")\n    assignCheck(ActionEvent::class, parameter.type) -&gt; println(\"Has ActionEvent class parameter.\")\n    assignCheck(A::class, parameter.type) -&gt; println(\"Has A class parameter.\")\n}\n</code></pre>\n\n<h3>Extra credit, comparing full generics:</h3>\n\n<p>To compare full generics we need to convert everything to something that we can compare that still has generics.  The easiest is to get everything into a Java <code>Type</code> since it is harder to get everything into a <code>KType</code>.  First we need a <code>TypeReference</code> type class, we'll steal this from <a href=\"https://github.com/kohesive/klutter\" rel=\"nofollow\">Klutter library</a> as well:</p>\n\n<pre><code>abstract class TypeReference&lt;T&gt; protected constructor() {\n    val type: Type by lazy {\n        javaClass.getGenericSuperclass().let { superClass -&gt;\n            if (superClass is Class&lt;*&gt;) {\n                throw IllegalArgumentException(\"Internal error: TypeReference constructed without actual type information\")\n            }\n            (superClass as ParameterizedType).getActualTypeArguments()[0]\n        }\n    }\n}\n</code></pre>\n\n<p>Now a quick extension method to use this:</p>\n\n<pre><code>inline fun &lt;reified T: Any&gt; ft(): Type = object:TypeReference&lt;T&gt;(){}.type\n</code></pre>\n\n<p>And then our <code>when</code> expression can be more detailed with generics:</p>\n\n<pre><code>for (parameter in function.parameters) {\n    when (parameter.type.javaType) {\n        ft&lt;IA&gt;() -&gt; println(\"Has IA interface parameter.\")\n        ft&lt;ActionEvent&gt;() -&gt; println(\"Has ActionEvent class parameter.\")\n        ft&lt;A&lt;String&gt;&gt;()  -&gt; println(\"Has A&lt;String&gt; class parameter.\") // &lt;---- compilation error in this line\n        ft&lt;A&lt;Monkey&gt;&gt;()  -&gt; println(\"Has A&lt;Monkey&gt; class parameter.\") // &lt;---- compilation error in this line\n    }\n}\n</code></pre>\n\n<p>But in doing this, we broke inheritance checking again.  And we don't really check covariance of the generics (they themselves could have superclass checks).</p>\n\n<h3>Double Extra Credit, what about inheritance AND generics?!?</h3>\n\n<p>Um, this isn't so much fun.  I'll have to think about that one a bit, maybe add it to Klutter later.  It is kinda complicated.</p>\n"}], "owner": {"reputation": 8946, "user_id": 2398521, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/84bb49c56756a8c7cd54d4876d7a4467?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2398521/maxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2045, "favorite_count": 1, "accepted_answer_id": 36825521, "answer_count": 2, "score": 3, "last_activity_date": 1462830887, "creation_date": 1461512306, "last_edit_date": 1461514211, "question_id": 36825297, "link": "https://stackoverflow.com/questions/36825297/incompatible-types-a-and-kotlin-reflect-ktype", "title": "Incompatible types: A and kotlin.reflect.KType", "body": "<p>I want to check that function has parameter of <code>A</code> type use the following code:</p>\n\n<pre><code>import kotlin.reflect.*\nimport javafx.event.ActionEvent\n\ninterface IA {}\n\nclass A {}\n\nclass B {\n    fun test(a: A, ia: IA, event: ActionEvent) {\n        println(a)\n        println(ia)\n        println(event)\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    for (function in B::class.declaredMemberFunctions) {\n        for (parameter in function.parameters) {\n            when (parameter.type) {\n                is IA -&gt; println(\"Has IA interface parameter.\")\n                is ActionEvent -&gt; println(\"Has ActionEvent class parameter.\")\n                is A -&gt; println(\"Has A class parameter.\") // &lt;---- compilation error in this line\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>but when I try to compile it I see the following error:</p>\n\n<pre><code>&gt; Error:(20, 19) Incompatible types: A and kotlin.reflect.KType\n</code></pre>\n\n<p>Questions:</p>\n\n<ol>\n<li>Why compiler don't raise error for <code>IA</code> interface and <code>ActionEvent</code> Java class?</li>\n<li>Why compiller raise error for <code>A</code> class?</li>\n<li>How to check that function has argument of <code>A</code> type?</li>\n</ol>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462824803, "post_id": 36818852, "comment_id": 61790117, "body": "Your example appears incomplete, you don&#39;t show if this inline operator is declared inside of a class or not.  It cannot be top level because it must be a class method, or extension on a class.  So please provide enclosing class."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1462854244, "post_id": 36818852, "comment_id": 61798506, "body": "@JaysonMinard It is declared within a class like so: <a href=\"https://youtrack.jetbrains.com/issue/KT-10453\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-10453</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1462093884, "post_id": 36820074, "comment_id": 61485744, "body": "This is not related to the problem. My problem is clearly a bug: <a href=\"https://youtrack.jetbrains.com/issue/KT-10453\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-10453</a>"}], "tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": false, "score": 3, "last_activity_date": 1461479891, "creation_date": 1461479891, "answer_id": 36820074, "question_id": 36818852, "link": "https://stackoverflow.com/questions/36818852/kotlin-why-are-unary-plus-minus-not-able-to-infer-generic-type-from-assignment/36820074#36820074", "title": "Kotlin: Why are unary plus/minus not able to infer generic type from assignment?", "body": "<p>Operator must be declared as extension function or member of some class:</p>\n\n<pre><code>inline operator fun &lt;reified T&gt; T.unaryPlus(): T = this\n</code></pre>\n\n<p>Then you can use it on any <strong>T</strong>:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    data class Type(val value: Int)\n    val foo = +Type(42)\n}\n</code></pre>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1461479891, "creation_date": 1461467273, "question_id": 36818852, "link": "https://stackoverflow.com/questions/36818852/kotlin-why-are-unary-plus-minus-not-able-to-infer-generic-type-from-assignment", "title": "Kotlin: Why are unary plus/minus not able to infer generic type from assignment?", "body": "<p>Why are unary plus/minus not able to infer generic type from assignment?</p>\n\n<p>Using <code>invoke</code>, for example: <code>inline operator fun &lt;reified T&gt; invoke(): T</code></p>\n\n<p>You can call the method and are able to use it... for example <code>val foo: Long = this()</code></p>\n\n<p>But, using <code>unaryPlus</code> or <code>unaryMinus</code> in the same fashion doesn't work.</p>\n\n<p>The method signature: <code>inline operator fun &lt;reified T&gt; unaryPlus(): T</code></p>\n\n<p>The non-working call: <code>val foo: Long = +this</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/KRulU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KRulU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 29521, "user_id": 1950649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yb5YJ.jpg?s=128&g=1", "display_name": "Vladimir Mironov", "link": "https://stackoverflow.com/users/1950649/vladimir-mironov"}, "edited": false, "score": 6, "creation_date": 1461448072, "post_id": 36816521, "comment_id": 61206080, "body": "<code>Metadata</code> stores all the information as an encoded protobuf. Its scheme can be found in the <a href=\"https://github.com/JetBrains/kotlin/blob/ee50aec7342ab375a105bb318e6501135e859028/core/deserialization/src/descriptors.proto\" rel=\"nofollow noreferrer\">official repository</a>. There is no official API for reading that information at the moment, but it&#39;s still accessible using <a href=\"https://gist.github.com/nsk-mironov/8c9c3092e9844233cdbb\" rel=\"nofollow noreferrer\">internal APIs</a>."}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "reply_to_user": {"reputation": 29521, "user_id": 1950649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yb5YJ.jpg?s=128&g=1", "display_name": "Vladimir Mironov", "link": "https://stackoverflow.com/users/1950649/vladimir-mironov"}, "edited": false, "score": 1, "creation_date": 1461449374, "post_id": 36816521, "comment_id": 61206472, "body": "@VladimirMironov what about full answer instead comment? Because you quite right, afaik."}, {"owner": {"reputation": 29521, "user_id": 1950649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yb5YJ.jpg?s=128&g=1", "display_name": "Vladimir Mironov", "link": "https://stackoverflow.com/users/1950649/vladimir-mironov"}, "reply_to_user": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1461450844, "post_id": 36816521, "comment_id": 61206856, "body": "@IRus I&#39;d rather wait for an answer from <a href=\"http://stackoverflow.com/users/288456/alexander-udalov\">Alexander Udalov</a>"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1461481739, "post_id": 36816521, "comment_id": 61212589, "body": "The official API for reading that information is the Kotlin reflection API. Not sure why you&#39;d want to have a lower-level access to the data."}, {"owner": {"reputation": 5103, "user_id": 640224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/07119e61665e8a7eea29e17b3e7e78ff?s=128&d=identicon&r=PG", "display_name": "henry", "link": "https://stackoverflow.com/users/640224/henry"}, "reply_to_user": {"reputation": 29521, "user_id": 1950649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yb5YJ.jpg?s=128&g=1", "display_name": "Vladimir Mironov", "link": "https://stackoverflow.com/users/1950649/vladimir-mironov"}, "edited": false, "score": 0, "creation_date": 1461787943, "post_id": 36816521, "comment_id": 61364090, "body": "@VladimirMironov Not worked through it yet but it looks like your link has all the info I need. I you post it as an answer I&#39;ll accept. Thanks."}, {"owner": {"reputation": 2854, "user_id": 18078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/AErhq.jpg?s=128&g=1", "display_name": "David Leppik", "link": "https://stackoverflow.com/users/18078/david-leppik"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1524684220, "post_id": 36816521, "comment_id": 87075929, "body": "@yole The reflection API isn&#39;t available when you&#39;re analyzing classes at compile time via kapt."}, {"owner": {"reputation": 2854, "user_id": 18078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/AErhq.jpg?s=128&g=1", "display_name": "David Leppik", "link": "https://stackoverflow.com/users/18078/david-leppik"}, "edited": false, "score": 0, "creation_date": 1524691121, "post_id": 36816521, "comment_id": 87079058, "body": "The link has moved: <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/jvm/runtime/kotlin/Metadata.kt\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/master/libraries/stdlib/jvm&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 19, "last_activity_date": 1533239161, "last_edit_date": 1533239161, "creation_date": 1461794729, "answer_id": 36901766, "question_id": 36816521, "link": "https://stackoverflow.com/questions/36816521/is-the-format-of-the-data-held-in-kotlin-metadata-documented-anywhere/36901766#36901766", "title": "Is the format of the data held in kotlin.MetaData documented anywhere?", "body": "<p><code>kotlin.Metadata</code> contains information about Kotlin symbols, such as their names, signatures, relations between types, etc. Some of this information is already present in the JVM signatures in the class files, but a lot is not, since there's quite a few Kotlin-specific things which JVM class files cannot represent properly: type nullability, mutable/read-only collection interfaces, declaration-site variance, and others.</p>\n\n<p>No specific actions were taken to make the schema of the data encoded in this annotation public, because for most users such data is needed to introspect a program at runtime, and the <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"noreferrer\">Kotlin reflection library</a> provides a nice API for that.</p>\n\n<p>If you need to inspect Kotlin-specific stuff which is not exposed via the reflection API, or you're just generally curious what else is stored in that annotation, you can take a look at the implementation of <a href=\"https://github.com/Kotlin/kotlinx.reflect.lite\" rel=\"noreferrer\">kotlinx.reflect.lite</a>. It's a light-weight library, the core of which is the protobuf-generated schema parser. There's not much supported there at the moment, but there are <a href=\"https://github.com/Kotlin/kotlinx.reflect.lite/tree/master/src\" rel=\"noreferrer\">schemas</a> available\nwhich you can use to read any other data you need.</p>\n\n<p>UPD (August 2018): since this was answered, we've published a new (experimental and unstable) library, which is designed to be the intended way for reading and modifying the metadata: <a href=\"https://discuss.kotlinlang.org/t/announcing-kotlinx-metadata-jvm-library-for-reading-modifying-metadata-of-kotlin-jvm-class-files/7980\" rel=\"noreferrer\">https://discuss.kotlinlang.org/t/announcing-kotlinx-metadata-jvm-library-for-reading-modifying-metadata-of-kotlin-jvm-class-files/7980</a></p>\n"}], "owner": {"reputation": 5103, "user_id": 640224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/07119e61665e8a7eea29e17b3e7e78ff?s=128&d=identicon&r=PG", "display_name": "henry", "link": "https://stackoverflow.com/users/640224/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4455, "favorite_count": 2, "accepted_answer_id": 36901766, "answer_count": 1, "score": 16, "last_activity_date": 1533239161, "creation_date": 1461446179, "question_id": 36816521, "link": "https://stackoverflow.com/questions/36816521/is-the-format-of-the-data-held-in-kotlin-metadata-documented-anywhere", "title": "Is the format of the data held in kotlin.MetaData documented anywhere?", "body": "<p>I'm interested to know what data is held in the MetaData annotation added to each Kotlin class.</p>\n\n<p>But most fields give no more detail than</p>\n\n<p><em>\"Metadata in a custom format. The format may be different (or even absent) for different kinds.\"</em></p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/master/core/runtime.jvm/src/kotlin/Metadata.kt\">https://github.com/JetBrains/kotlin/blob/master/core/runtime.jvm/src/kotlin/Metadata.kt</a></p>\n\n<p>Is there are reference somewhere that explains how to interpret this data?</p>\n"}, {"tags": ["java", "reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15063, "user_id": 68283, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8d069a55fa769812730461b355a92b04?s=128&d=identicon&r=PG", "display_name": "Rich", "link": "https://stackoverflow.com/users/68283/rich"}, "edited": false, "score": 0, "creation_date": 1461444658, "post_id": 36813097, "comment_id": 61205007, "body": "Thanks for this. The javaMethod property is part of the kotlin-reflect.jar which isn&#39;t the same as the standard library. While I was aware that there was a reflection library, seeing that javaClass was part of the standard library made me assume that javaMethod would be too."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 8, "last_activity_date": 1461444718, "last_edit_date": 1461444718, "creation_date": 1461427308, "answer_id": 36813097, "question_id": 36812811, "link": "https://stackoverflow.com/questions/36812811/getting-a-reference-to-a-kotlin-function-as-a-java-method/36813097#36813097", "title": "Getting a reference to a Kotlin function as a Java Method", "body": "<pre><code>import kotlin.reflect.jvm.javaMethod\n\nval method = MyClass::myFunction.javaMethod\n</code></pre>\n\n<p>The <code>javaMethod</code> property is not part of the standard Kotlin library, but is part of the official <code>kotlin-reflect.jar</code>. It can be added through Maven with the following dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1552, "user_id": 1816338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de44d593ee64fb9a09eb8b9c567ff49b?s=128&d=identicon&r=PG", "display_name": "Artyom Krivolapov", "link": "https://stackoverflow.com/users/1816338/artyom-krivolapov"}, "is_accepted": false, "score": 0, "last_activity_date": 1461569040, "creation_date": 1461569040, "answer_id": 36834300, "question_id": 36812811, "link": "https://stackoverflow.com/questions/36812811/getting-a-reference-to-a-kotlin-function-as-a-java-method/36834300#36834300", "title": "Getting a reference to a Kotlin function as a Java Method", "body": "<p>\nYou can use standard java reflection to get <code>Method</code> in kotlin:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>MyClass::class.java.getMethod(\"myFunction\")\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>MyClass::class.java.getDeclaredMethod(\"myFunction\")\n</code></pre>\n\n<p>Need no dependencies to do so.</p>\n\n<p><br>\nDocs:<br>\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getMethod(java.lang.String,%20java.lang.Class...)\" rel=\"nofollow\">Method getMethod(String name, Class... parameterTypes)</a><br>\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredMethod(java.lang.String,%20java.lang.Class...)\" rel=\"nofollow\">Method getDeclaredMethod(String name, Class... parameterTypes)</a></p>\n"}], "owner": {"reputation": 15063, "user_id": 68283, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8d069a55fa769812730461b355a92b04?s=128&d=identicon&r=PG", "display_name": "Rich", "link": "https://stackoverflow.com/users/68283/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 754, "favorite_count": 0, "accepted_answer_id": 36813097, "answer_count": 2, "score": 4, "last_activity_date": 1461569040, "creation_date": 1461425867, "question_id": 36812811, "link": "https://stackoverflow.com/questions/36812811/getting-a-reference-to-a-kotlin-function-as-a-java-method", "title": "Getting a reference to a Kotlin function as a Java Method", "body": "<p>I have a Java method that takes a <code>Method</code> parameter:</p>\n\n<pre><code>void doSomethingWithMethod(Method m) {\n    ...\n}\n</code></pre>\n\n<p>And I have a Kotlin class that contains a function:</p>\n\n<pre><code>class MyClass {\n\n    fun myFunction() : List&lt;Something&gt; {\n        ...\n    }\n\n}\n</code></pre>\n\n<p>I can get a reference to the function with <code>MyClass::myFunction</code>, but I don't see a way to pass it into the <code>doSomethingWithMethod</code> method. Is there an equivalent to the <code>.java</code> property that can be applied to a Kotlin class reference to get its Java equivalent?</p>\n\n<p>If not, is there a workaround?</p>\n"}, {"tags": ["string", "kotlin", "null", "nullable"], "answers": [{"comments": [{"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 3, "creation_date": 1461332089, "post_id": 36795003, "comment_id": 61164966, "body": "Or a slightly more readable version: <code>nullable?.toString().orEmpty()</code>"}, {"owner": {"reputation": 5374, "user_id": 65612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66a57bf52f139d511c9877b622a9a7ff?s=128&d=identicon&r=PG", "display_name": "KIR", "link": "https://stackoverflow.com/users/65612/kir"}, "edited": false, "score": 0, "creation_date": 1528303218, "post_id": 36795003, "comment_id": 88459120, "body": "The implementation could probably be <code>&quot;${this ?: &quot;&quot;}&quot;</code>, if you don&#39;t care about less performance"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 36, "last_activity_date": 1461429410, "last_edit_date": 1495542299, "creation_date": 1461331250, "answer_id": 36795003, "question_id": 36794883, "link": "https://stackoverflow.com/questions/36794883/whats-the-best-way-in-kotlin-for-an-null-objects-tostring-method-to-return-an/36795003#36795003", "title": "Whats the best way in kotlin for an null object&#39;s toString() method to return an empty string instead of &quot;null&quot;", "body": "<p>How about:</p>\n\n<pre><code>nullable?.toString() ?: \"\"\n</code></pre>\n\n<p>or as <a href=\"https://stackoverflow.com/users/288456/alexander-udalov\">Alexander Udalov</a> suggested:</p>\n\n<pre><code>nullable?.toString().orEmpty()\n</code></pre>\n\n<p>Which one can wrap in an extension method:</p>\n\n<pre><code>fun Any?.toStringOrEmpty() = this?.toString() ?: \"\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1831, "user_id": 2243516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feade8b15c36aca63b7e7c343229b382?s=128&d=identicon&r=PG", "display_name": "Aaron Cooley", "link": "https://stackoverflow.com/users/2243516/aaron-cooley"}, "edited": false, "score": 1, "creation_date": 1566460895, "post_id": 57497905, "comment_id": 101665481, "body": "This is the better answer."}, {"owner": {"reputation": 1679, "user_id": 1033645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4ac945bd3ac7aaf16caac5786c184022?s=128&d=identicon&r=PG", "display_name": "javaxian", "link": "https://stackoverflow.com/users/1033645/javaxian"}, "edited": false, "score": 0, "creation_date": 1580733122, "post_id": 57497905, "comment_id": 106182266, "body": "<code>orEmpty</code> takes a <code>String</code> object, and the question is about converting <code>Any?</code> to <code>String</code>."}, {"owner": {"reputation": 601, "user_id": 3983812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3yDAB.jpg?s=128&g=1", "display_name": "Hartmut", "link": "https://stackoverflow.com/users/3983812/hartmut"}, "reply_to_user": {"reputation": 1679, "user_id": 1033645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4ac945bd3ac7aaf16caac5786c184022?s=128&d=identicon&r=PG", "display_name": "javaxian", "link": "https://stackoverflow.com/users/1033645/javaxian"}, "edited": false, "score": 1, "creation_date": 1580829121, "post_id": 57497905, "comment_id": 106221855, "body": "@javaxian, thanks for pointing out. You are indeed correct. Will update my answer."}], "tags": [], "owner": {"reputation": 601, "user_id": 3983812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3yDAB.jpg?s=128&g=1", "display_name": "Hartmut", "link": "https://stackoverflow.com/users/3983812/hartmut"}, "is_accepted": false, "score": 10, "last_activity_date": 1580829374, "last_edit_date": 1580829374, "creation_date": 1565797121, "answer_id": 57497905, "question_id": 36794883, "link": "https://stackoverflow.com/questions/36794883/whats-the-best-way-in-kotlin-for-an-null-objects-tostring-method-to-return-an/57497905#57497905", "title": "Whats the best way in kotlin for an null object&#39;s toString() method to return an empty string instead of &quot;null&quot;", "body": "<p>you can directly use <code>nullable.orEmpty()</code>.</p>\n\n<p>Reference:\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/or-empty.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/or-empty.html</a></p>\n\n<p><strong>Edit:</strong> \n<em>Answer provided is incomplete</em> - does only apply for <code>String?</code> and not <code>Any?</code> as pointed out in comment below.</p>\n"}, {"tags": [], "owner": {"reputation": 3030, "user_id": 443836, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6a1767f6664b99900d9f7d93be9a6dbe?s=128&d=identicon&r=PG", "display_name": "Marco Eckstein", "link": "https://stackoverflow.com/users/443836/marco-eckstein"}, "is_accepted": false, "score": 0, "last_activity_date": 1615085142, "last_edit_date": 1615085142, "creation_date": 1570652112, "answer_id": 58311636, "question_id": 36794883, "link": "https://stackoverflow.com/questions/36794883/whats-the-best-way-in-kotlin-for-an-null-objects-tostring-method-to-return-an/58311636#58311636", "title": "Whats the best way in kotlin for an null object&#39;s toString() method to return an empty string instead of &quot;null&quot;", "body": "<p>I propose an extension function <code>stringify</code>, the name of which I borrowed from JavaScript's <code>JSON.stringify()</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T&gt; T?.stringify(toString: (T) -&gt; String = { it.toString() }): String =\n    if (this == null) &quot;&quot; else toString(this)\n</code></pre>\n<p>This covers the simple case and cases where you want to further process the string:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun simplyConcatenate(s: String, postfix: String?): String = \n    s + postfix.stringify()\n\nfun getFullTitle(title: String, disambiguation: String?): String = \n    title + disambiguation.stringify { &quot; ($it)&quot; }\n\nfun demo() {\n    println(simplyConcatenate(&quot;a&quot;, null)) // &quot;a&quot;\n    println(simplyConcatenate(&quot;a&quot;, &quot;b&quot;)) // &quot;ab&quot;\n    println(getFullTitle(&quot;a&quot;, null)) // &quot;a&quot;\n    println(getFullTitle(&quot;a&quot;, &quot;b&quot;)) // &quot;a (b)&quot;\n}\n</code></pre>\n<p>Edit: Now available in <a href=\"https://github.com/marco-eckstein/kotlin-lib\" rel=\"nofollow noreferrer\">kotlin-lib</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 10627411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474a8fa498aa1bf55a822ac4c59a012b?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Chan", "link": "https://stackoverflow.com/users/10627411/eric-chan"}, "is_accepted": false, "score": 0, "last_activity_date": 1612802163, "creation_date": 1612802163, "answer_id": 66105607, "question_id": 36794883, "link": "https://stackoverflow.com/questions/36794883/whats-the-best-way-in-kotlin-for-an-null-objects-tostring-method-to-return-an/66105607#66105607", "title": "Whats the best way in kotlin for an null object&#39;s toString() method to return an empty string instead of &quot;null&quot;", "body": "<p>The above answer not work for variable that is not original as String?\nbecause the toString() will directly transform a Any? to String (not to String?)\nif you write something like xxx.toString() ?: &quot;&quot; or xxx.toString().orEmpty() the IDE will tell you the right path will never be reach.</p>\n<p>The solution is use &quot;let&quot; or &quot;run&quot;. Depend on do you need to access outer scope class\u2019 fun.</p>\n<pre><code>    Any? let { it.toString() } ?: &quot;&quot;\n    Any? run { toString() } ?: &quot;&quot;\n</code></pre>\n<p>For example a fun we want a file name string from a nullable Path, or even a non-null path, its getFileName() may return null. And we want a empty string in that case instead of a &quot;null&quot; string.</p>\n<pre><code>    fun fileName(path: Path?): String = path?.fileName?.run { toString() } ?: &quot;&quot;\n\n    fun removeExtension(path: Path?): String = path?.fileName?.let { removeExtension(it.toString()) } ?: &quot;&quot;\n    fun removeExtension(fileName: String): String = FilenameUtils.removeExtension(fileName)\n\n</code></pre>\n"}], "owner": {"reputation": 6473, "user_id": 2660462, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e7866e763430b8848f14ffdacb61b99f?s=128&d=identicon&r=PG", "display_name": "Lukas Lechner", "link": "https://stackoverflow.com/users/2660462/lukas-lechner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10350, "favorite_count": 4, "answer_count": 4, "score": 18, "last_activity_date": 1615085142, "creation_date": 1461330915, "last_edit_date": 1555605674, "question_id": 36794883, "link": "https://stackoverflow.com/questions/36794883/whats-the-best-way-in-kotlin-for-an-null-objects-tostring-method-to-return-an", "title": "Whats the best way in kotlin for an null object&#39;s toString() method to return an empty string instead of &quot;null&quot;", "body": "<p>According to the official kotlin documentation, the toString() call of a null object returns \"null\" <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-string.html\" rel=\"noreferrer\">toString()</a></p>\n\n<p>I want, that toString() should return an empty string (\"\") instead. I implemented it with an extension function.</p>\n\n<pre><code>fun Any?.toEmptyStringIfNull() :String {\nif (this == null) {\n    return \"\"\n} else {\n    return toString()\n}\n</code></pre>\n\n<p>I am wondering if this could be achieved simpler/easier/cleaner and without calling the extension function everytime.</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 1430, "user_id": 3046504, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fXIhi.jpg?s=128&g=1", "display_name": "Alexandre G", "link": "https://stackoverflow.com/users/3046504/alexandre-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1461554459, "creation_date": 1461554459, "answer_id": 36831514, "question_id": 36787948, "link": "https://stackoverflow.com/questions/36787948/kotlin-build-problems-with-android/36831514#36831514", "title": "Kotlin build problems with Android", "body": "<p>Not sure if the errors are linked but I've found that if I remove </p>\n\n<p><code>org.gradle.jvmargs=-Xms256m -Xmx9216M</code> from </p>\n\n<p><code>C:/Users/&lt;user&gt;/.gradle/gradle.properties</code> file the error is still there but the build succeeds everytime.</p>\n\n<p>To reiterate:</p>\n\n<ul>\n<li>Kotlin + <code>org.gradle.jvmargs=-Xms256m -Xmx9216M</code> in <code>gradle.properties</code> - FAIL</li>\n<li><code>org.gradle.jvmargs=-Xms256m -Xmx9216M</code> in <code>gradle.properties</code> - OK but with above error</li>\n<li>Kotlin - OK with above error</li>\n</ul>\n\n<p>C.f. <a href=\"https://youtrack.jetbrains.com/issue/KT-11770\" rel=\"nofollow\">https://youtrack.jetbrains.com/issue/KT-11770</a></p>\n"}], "owner": {"reputation": 1430, "user_id": 3046504, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fXIhi.jpg?s=128&g=1", "display_name": "Alexandre G", "link": "https://stackoverflow.com/users/3046504/alexandre-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 887, "favorite_count": 1, "accepted_answer_id": 36831514, "answer_count": 1, "score": 2, "last_activity_date": 1461554459, "creation_date": 1461311247, "last_edit_date": 1461399324, "question_id": 36787948, "link": "https://stackoverflow.com/questions/36787948/kotlin-build-problems-with-android", "title": "Kotlin build problems with Android", "body": "<p>Integrated Kotlin into a somewhat large project that uses multidex.</p>\n\n<p><strong>So when I try to build, I get this error:</strong></p>\n\n<p><code>:incrementalDesygnerDebugJavaCompilationSafeguard UP-TO-DATE\n:compileDesygnerDebugKotlin\nWARN: Failed to initialize native filesystem for Windows\njava.lang.RuntimeException: Could not find installation home path. Please make sure bin/idea.properties is present in the installation directory.</code></p>\n\n<p>The paths seem to be configured correctly and <code>idea.properties</code> file seems to be there: <code>C:\\Program Files\\Android\\Android Studio\\bin\\idea.properties</code></p>\n\n<p>The building takes a few minutes to stop, so I stop it manually from Task Manager on windows.</p>\n\n<p><strong>When I retry - the build succeeds!</strong></p>\n\n<p>But when I change a line, and rebuild it shows the same error again.</p>\n\n<p>Sometimes I also get this one:</p>\n\n<p><code>The system is out of resources.\nConsult the following stack trace for details.\njava.lang.OutOfMemoryError: PermGen space</code></p>\n\n<p>Tried increasing all sorts of memory settings, but maybe not doing it right</p>\n\n<p><code>org.gradle.jvmargs=-Xmx8g -XX:MaxPermSize=2048m</code> is what I have in <code>gradle.properties</code></p>\n\n<p>Tried with Instant Run on and off.</p>\n\n<p>Project builds fine without Kotlin, tried Android Studio 2.0 stable, Kotlin stable, Kotlin EAP and AS Canary builds.</p>\n\n<p>P.S <code>gradlew assembleDebug</code> works every time until I try building with AS.</p>\n\n<p><strong>Edit: tried same project on:</strong></p>\n\n<ul>\n<li>Another Windows 10 PC -> same thing.</li>\n<li>OSX -> works without issues.</li>\n</ul>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1461257964, "creation_date": 1461257964, "answer_id": 36776109, "question_id": 36776006, "link": "https://stackoverflow.com/questions/36776006/configuring-build-gradle-for-kotlin-module-in-android-studio/36776109#36776109", "title": "Configuring &quot;build.gradle&quot; for Kotlin module in Android Studio", "body": "<p>Gradle doesn't have <code>provided</code> configuration by default. Instead it has <code>compileOnly</code>. So if you really want a dependency to be available only during compilation do the following:</p>\n\n<pre><code>compileOnly 'org.glassfish:javax.annotation:10.0-b28'\n</code></pre>\n"}], "owner": {"reputation": 3926, "user_id": 2327342, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Swo06.jpg?s=128&g=1", "display_name": "regmoraes", "link": "https://stackoverflow.com/users/2327342/regmoraes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1310, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1461257964, "creation_date": 1461257614, "question_id": 36776006, "link": "https://stackoverflow.com/questions/36776006/configuring-build-gradle-for-kotlin-module-in-android-studio", "title": "Configuring &quot;build.gradle&quot; for Kotlin module in Android Studio", "body": "<p>I'm developing an app and I want to separate the Android specific logic from the business logic ( \"immutable\" logic and Android independent), so I created two modules:</p>\n\n<ul>\n<li><strong>app</strong> : Android specific code</li>\n<li><strong>domain</strong> : Business logic ( written in Kotlin )</li>\n</ul>\n\n<p>I'm using this <strong>build.gradle</strong> file for the kotlin module</p>\n\n<pre><code>apply plugin: 'kotlin'\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    /* Annotations library */\n    provided 'org.glassfish:javax.annotation:10.0-b28'\n    kapt 'com.google.dagger:dagger-compiler:2.0.1'\n\n    /* Dagger 2 library */\n    compile 'com.google.dagger:dagger:2.0.1'\n\n   /* EventBus library */\n   compile 'de.greenrobot:eventbus:2.4.0'\n\n   /* JODA TIME - time and date library */\n   compile 'joda-time:joda-time:2.9.2'\n\n  /*Rx Kotlin*/\n  compile 'io.reactivex:rxkotlin:0.55.0'\n\n  testCompile 'junit:junit:4.12'\n  testCompile 'org.mockito:mockito-core:2.0.47-beta'\n}\n\nbuildscript {\n\n    ext.kotlin_version = '1.0.1-2'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven{ url \"http://repository.jetbrains.com/all\" }\n}\n</code></pre>\n\n<p>Is this the correct way to configure the kotlin module?</p>\n\n<p><strong>PLUS:</strong> I'm getting a <strong>Gradle DSL method not found: 'provided()'</strong> error. How could I fix it?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 0, "creation_date": 1461253519, "post_id": 36774254, "comment_id": 61125919, "body": "You should definitely add <code>kapt &#39;com.android.databinding:compiler:2.1.0-beta3&#39;</code>. Try to clean and rebuild the app after that."}, {"owner": {"reputation": 2427, "user_id": 3309681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/246bcef5402ea06302c68bd02301e54d?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash", "link": "https://stackoverflow.com/users/3309681/suyash"}, "reply_to_user": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 0, "creation_date": 1461253621, "post_id": 36774254, "comment_id": 61125985, "body": "@Michael Yes as I&#39;ve mentioned above I&#39;ve already tried adding that but I&#39;m getting a java.lang.NoSuchMethodError."}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 0, "creation_date": 1461253705, "post_id": 36774254, "comment_id": 61126039, "body": "Yes, I know. I just mean it&#39;s necessary to have this line in the <code>build.gradle</code>."}, {"owner": {"reputation": 2427, "user_id": 3309681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/246bcef5402ea06302c68bd02301e54d?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash", "link": "https://stackoverflow.com/users/3309681/suyash"}, "reply_to_user": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 0, "creation_date": 1461254011, "post_id": 36774254, "comment_id": 61126268, "body": "Ok, I&#39;ll keep it but is there any solution to the NoSuchMethodError?"}], "answers": [{"tags": [], "owner": {"reputation": 1137, "user_id": 855599, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bdebe1c3d0f51e715606a0d0257c6a1c?s=128&d=identicon&r=PG", "display_name": "yshrsmz", "link": "https://stackoverflow.com/users/855599/yshrsmz"}, "is_accepted": false, "score": 2, "last_activity_date": 1463410549, "creation_date": 1463410549, "answer_id": 37256915, "question_id": 36774254, "link": "https://stackoverflow.com/questions/36774254/kotlin-problems-with-android-data-binding/37256915#37256915", "title": "Kotlin problems with Android data binding", "body": "<p>you need</p>\n\n<pre><code>kapt 'com.google.guava:guava:19.0'\nkapt 'com.android.databinding:compiler:2.1.0'\n</code></pre>\n\n<p>before dagger's dependency description</p>\n"}, {"tags": [], "owner": {"reputation": 2364, "user_id": 3045978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YEf8x.png?s=128&g=1", "display_name": "ninjahoahong", "link": "https://stackoverflow.com/users/3045978/ninjahoahong"}, "is_accepted": false, "score": 0, "last_activity_date": 1475152279, "creation_date": 1475152279, "answer_id": 39770427, "question_id": 36774254, "link": "https://stackoverflow.com/questions/36774254/kotlin-problems-with-android-data-binding/39770427#39770427", "title": "Kotlin problems with Android data binding", "body": "<p>In my case adding <code>version = \"2.0.0</code> in</p>\n\n<p><code>\n    dataBinding {\n        enabled = true\n        version = \"2.0.0\"\n    }\n</code></p>\n\n<p>like referred in this <a href=\"https://github.com/google/dagger/issues/356#issuecomment-228015108/\" rel=\"nofollow\">issued</a> by <strong>ubarua123</strong> and <strong>AlokBansal8</strong> solved the problem of <code>NoSuchMethodError</code></p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 7271622, "user_type": "registered", "profile_image": "https://graph.facebook.com/1834381086578250/picture?type=large", "display_name": "Ph\u1ea1m Th&#224;nh Nam", "link": "https://stackoverflow.com/users/7271622/ph%e1%ba%a1m-th%c3%a0nh-nam"}, "is_accepted": false, "score": 0, "last_activity_date": 1595498049, "creation_date": 1595498049, "answer_id": 63051536, "question_id": 36774254, "link": "https://stackoverflow.com/questions/36774254/kotlin-problems-with-android-data-binding/63051536#63051536", "title": "Kotlin problems with Android data binding", "body": "<p>Try to delete .idea, .build folder and invalidate&amp;restart Android Studio</p>\n"}], "owner": {"reputation": 2427, "user_id": 3309681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/246bcef5402ea06302c68bd02301e54d?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash", "link": "https://stackoverflow.com/users/3309681/suyash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1595498049, "creation_date": 1461252795, "question_id": 36774254, "link": "https://stackoverflow.com/questions/36774254/kotlin-problems-with-android-data-binding", "title": "Kotlin problems with Android data binding", "body": "<p>I'm trying data binding on Android using Kotlin but experiencing some problems. My gradle files are listed below.</p>\n\n<p><strong>Top level:</strong></p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.1.0-beta3'\n        classpath 'com.google.gms:google-services:2.1.0-beta3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>App level:</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n\n    defaultConfig {\n        applicationId \"...\"\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n        resValue 'string', 'package_name', applicationId\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile(name: 'app-release', ext: 'aar')\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.3.0'\n    compile 'com.android.support:design:23.3.0'\n    compile 'com.android.support:recyclerview-v7:23.3.0'\n    compile 'com.android.support:support-v4:23.3.0'\n    compile 'com.google.android.gms:play-services-plus:8.4.0'\n    compile 'com.google.android.gms:play-services-auth:8.4.0'\n    compile 'com.google.android.gms:play-services-gcm:8.4.0'\n    compile 'com.google.android.gms:play-services-nearby:8.4.0'\n    compile 'io.reactivex:rxkotlin:0.55.0'\n    compile 'io.reactivex:rxandroid:1.1.0'\n    compile 'com.trello:rxlifecycle-kotlin:0.5.0'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n    compile 'io.pristine:libjingle:11139@aar'\n    compile 'com.google.code.gson:gson:2.6.2'\n    compile 'com.squareup.retrofit2:retrofit:2.0.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.0.0'\n    compile 'com.squareup.retrofit2:adapter-rxjava:2.0.0'\n    compile 'com.pushtorefresh.storio:sqlite:1.8.0'\n    compile 'com.pushtorefresh.storio:content-resolver:1.8.0'\n\n    kapt 'com.google.dagger:dagger-compiler:2.0.2'\n    compile 'com.google.dagger:dagger:2.0.2'\n    provided 'org.glassfish:javax.annotation:10.0-b28'\n}\nbuildscript {\n    ext.kotlin_version = '1.0.1-2'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\nrepositories {\n    mavenCentral()\n    flatDir {\n        dirs 'libs'\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>I'm using the following code to inflate my view.</p>\n\n<pre><code>val binding = FragmentTransferListBinding.inflate(inflater, container, false)\n</code></pre>\n\n<p>But when I try to build the project I get this error.</p>\n\n<pre><code>Error:(7, 31) Unresolved reference: databinding\nError:(28, 9) Unresolved reference: FragmentTransferListBinding\nError:Execution failed for task ':app:compileDebugKotlinAfterJava'.\n&gt; Compilation error. See log for more details\n</code></pre>\n\n<p>I tried adding databinding-compiler to kapt as suggested in some other answers</p>\n\n<pre><code>kapt 'com.android.databinding:compiler:2.1.0-beta3'\n</code></pre>\n\n<p>But then I get the following error.</p>\n\n<pre><code>Error:Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; java.lang.NoSuchMethodError: com.google.common.collect.FluentIterable.append(Ljava/lang/Iterable;)Lcom/google/common/collect/FluentIterable;\n</code></pre>\n"}, {"tags": ["android", "android-spinner", "kotlin"], "comments": [{"owner": {"reputation": 8345, "user_id": 2032561, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/J7ULL.jpg?s=128&g=1", "display_name": "Bharatesh", "link": "https://stackoverflow.com/users/2032561/bharatesh"}, "edited": false, "score": 2, "creation_date": 1461220865, "post_id": 36761478, "comment_id": 61101651, "body": "yes.. you are suppose to use <code>spinner.onItemSelectedListener</code>"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 2, "creation_date": 1461220886, "post_id": 36761478, "comment_id": 61101667, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11322642/i-have-an-error-setonitemclicklistener-cannot-be-used-with-a-spinner-what-is-w\">I have an error: setOnItemClickListener cannot be used with a spinner, what is wrong?</a>"}, {"owner": {"reputation": 855, "user_id": 3459944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iAdN.jpg?s=128&g=1", "display_name": "Hassan Jamil", "link": "https://stackoverflow.com/users/3459944/hassan-jamil"}, "edited": false, "score": 1, "creation_date": 1461221248, "post_id": 36761478, "comment_id": 61101893, "body": "Check this solution: <a href=\"http://stackoverflow.com/a/11322667/3819836\">stackoverflow.com/a/11322667/3819836</a>"}, {"owner": {"reputation": 523, "user_id": 4963585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ryVZf.jpg?s=128&g=1", "display_name": "whitney13625", "link": "https://stackoverflow.com/users/4963585/whitney13625"}, "edited": false, "score": 0, "creation_date": 1461222067, "post_id": 36761478, "comment_id": 61102450, "body": "Thanks for those reference. It&#39;s so strange that either java or kotlin doesn&#39;t disable the onClidk function during compile time though."}, {"owner": {"reputation": 348, "user_id": 4319961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/luP1G.jpg?s=128&g=1", "display_name": "Joe Sovcik", "link": "https://stackoverflow.com/users/4319961/joe-sovcik"}, "edited": false, "score": 0, "creation_date": 1478846713, "post_id": 36761478, "comment_id": 68323753, "body": "Hey, I had a similar problem. But now even when I have the right code my listener is not firing. Could you confirm it worked for you? If so, maybe you could look at my Question, too, to see if you can see any problems with it. <a href=\"http://stackoverflow.com/questions/40537906/android-spinner-not-responing-to-clicks-does-not-close-and-onitemselectedlisten\">Here it is</a>"}, {"owner": {"reputation": 523, "user_id": 4963585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ryVZf.jpg?s=128&g=1", "display_name": "whitney13625", "link": "https://stackoverflow.com/users/4963585/whitney13625"}, "reply_to_user": {"reputation": 348, "user_id": 4319961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/luP1G.jpg?s=128&g=1", "display_name": "Joe Sovcik", "link": "https://stackoverflow.com/users/4319961/joe-sovcik"}, "edited": false, "score": 0, "creation_date": 1485413041, "post_id": 36761478, "comment_id": 70918290, "body": "@JoeSovcik sorry for that I was off for months until now seeing your comment. Seems that you&#39;ve found your problem. Congrats!"}], "answers": [{"comments": [{"owner": {"reputation": 523, "user_id": 4963585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ryVZf.jpg?s=128&g=1", "display_name": "whitney13625", "link": "https://stackoverflow.com/users/4963585/whitney13625"}, "edited": false, "score": 0, "creation_date": 1461221579, "post_id": 36761550, "comment_id": 61102124, "body": "That&#39;s where I had also stuck in... Actually I had tried to use this, however since I wrote in kotlin, I fail to find an appropriate syntax which the compiler doen&#39;t complain... I&#39;ll append my code in kotlin for this in my question later."}, {"owner": {"reputation": 523, "user_id": 4963585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ryVZf.jpg?s=128&g=1", "display_name": "whitney13625", "link": "https://stackoverflow.com/users/4963585/whitney13625"}, "edited": false, "score": 0, "creation_date": 1461221934, "post_id": 36761550, "comment_id": 61102365, "body": "Oh I just found a way to write in in Kotlin! thanks a lot!"}, {"owner": {"reputation": 523, "user_id": 4963585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ryVZf.jpg?s=128&g=1", "display_name": "whitney13625", "link": "https://stackoverflow.com/users/4963585/whitney13625"}, "edited": false, "score": 0, "creation_date": 1461222579, "post_id": 36761550, "comment_id": 61102789, "body": "I&#39;ve already added it in my original question. Maybe I should also post it as a new answer."}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": true, "score": 7, "last_activity_date": 1461222192, "last_edit_date": 1461222192, "creation_date": 1461220822, "answer_id": 36761550, "question_id": 36761478, "link": "https://stackoverflow.com/questions/36761478/cannot-set-onitemclicklistener-for-spinner-in-android/36761550#36761550", "title": "Cannot set OnItemClickListener for spinner in android", "body": "<p>Use <code>setOnItemSelectedListener</code> instead of <code>onItemClickListener</code>. </p>\n\n<pre><code>viewHolder.mySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n    }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504781360, "post_id": 36762231, "comment_id": 79150359, "body": "Although sasikumar&#39;s answer helped you get there, I&#39;m sure you should accept your own answer as a solution and save everyone the time in the future. I have tried so many ways but didn&#39;t know of adding &quot;object :&quot; in Kotlin"}], "tags": [], "owner": {"reputation": 523, "user_id": 4963585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ryVZf.jpg?s=128&g=1", "display_name": "whitney13625", "link": "https://stackoverflow.com/users/4963585/whitney13625"}, "is_accepted": false, "score": 13, "last_activity_date": 1461222667, "creation_date": 1461222667, "answer_id": 36762231, "question_id": 36761478, "link": "https://stackoverflow.com/questions/36761478/cannot-set-onitemclicklistener-for-spinner-in-android/36762231#36762231", "title": "Cannot set OnItemClickListener for spinner in android", "body": "<p>Following sasikumar's answer, I solved it in kotlin with the following code: </p>\n\n<pre><code>viewHolder.mySpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n\n    override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, pos: Int, id: Long) {\n\n    }\n\n    override fun onNothingSelected(parent: AdapterView&lt;out Adapter&gt;?) {\n\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4834, "user_id": 3275253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/jSMeb.jpg?s=128&g=1", "display_name": "voghDev", "link": "https://stackoverflow.com/users/3275253/voghdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1503467361, "creation_date": 1503467361, "answer_id": 45831554, "question_id": 36761478, "link": "https://stackoverflow.com/questions/36761478/cannot-set-onitemclicklistener-for-spinner-in-android/45831554#45831554", "title": "Cannot set OnItemClickListener for spinner in android", "body": "<p>You can create a very simple extension function:</p>\n\n<p>file: <code>Extensions.kt</code></p>\n\n<pre><code>fun Spinner.setOnItemSelectedListener(listener: AdapterView.OnItemSelectedListener) {\n    onItemSelectedListener = listener\n}\n</code></pre>\n\n<p>Then you can call it the way you want</p>\n\n<pre><code>spinner.setOnItemSelectedListener(object: AdapterView.OnItemSelectedListener {\n    override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n\n    }\n\n    override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n\n    }\n})\n</code></pre>\n\n<p>Similar to previous answers, but it looks more like the original version instead of the assignment</p>\n"}, {"tags": [], "owner": {"reputation": 1381, "user_id": 2466041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8d302fd50e6050570b1a8dec9c2cdfc?s=128&d=identicon&r=PG", "display_name": "ViramP", "link": "https://stackoverflow.com/users/2466041/viramp"}, "is_accepted": false, "score": 1, "last_activity_date": 1507198100, "creation_date": 1507198100, "answer_id": 46583033, "question_id": 36761478, "link": "https://stackoverflow.com/questions/36761478/cannot-set-onitemclicklistener-for-spinner-in-android/46583033#46583033", "title": "Cannot set OnItemClickListener for spinner in android", "body": "<p>First initialize spinner at onCreate function.</p>\n\n<pre><code> var spinner : Spinner ?= null\n\nspinner = findViewById(R.id.spinner) as Spinner \n</code></pre>\n\n<p>Now add details with Spinner.\nHere i have used array from string resource.</p>\n\n<pre><code> fun addSpinnerData(){\n\n   var arr = (resources.getStringArray(R.array.data_list).toMutableList());\n    adapter = ArrayAdapter&lt;String&gt;(\n            this,\n            android.R.layout.simple_list_item_1,\n            arr)\n\n    spinner!!.setAdapter(adapter);\n\n    spinner!!.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{\n        override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\n            Toast.makeText(applicationContext,\" On Click\",Toast.LENGTH_SHORT).show();\n        }\n\n        override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\n        }\n    }\n\n}\n</code></pre>\n\n<p>By this way you can achieve onItemSelectedListener for Spinner</p>\n"}], "owner": {"reputation": 523, "user_id": 4963585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ryVZf.jpg?s=128&g=1", "display_name": "whitney13625", "link": "https://stackoverflow.com/users/4963585/whitney13625"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14408, "favorite_count": 2, "accepted_answer_id": 36761550, "answer_count": 4, "score": 5, "last_activity_date": 1507198100, "creation_date": 1461220626, "last_edit_date": 1461222288, "question_id": 36761478, "link": "https://stackoverflow.com/questions/36761478/cannot-set-onitemclicklistener-for-spinner-in-android", "title": "Cannot set OnItemClickListener for spinner in android", "body": "<p>In a customized <code>RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;</code>, I set an adapter for a spinner and found that the value of my spinner isn't change after selection, so I tried to add an <code>OnItemClickListener</code> on my spinner:</p>\n\n<pre><code>override fun onBindViewHolder(viewHolder: ViewHolder, position: Int) {\n\n    // The selectable items of the spinner is dynamically generated from getItems() function\n    val selectableItems: List&lt;String&gt; = getItems()\n\n    val spinnerAdapter = ArrayAdapter&lt;String&gt;(this.context, androi.R.layout.simple_spinner_item)\n    spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    spinnerAdapter.addAll(selectableItems)\n\n    viewHolder.mySpinner.adapter = spinnerAdapter\n\n    // the error occurs on the following line:\n    viewHolder.mySpinner.onItemClickListener = AdapterView.OnItemClickListener { adapterView, view, i, l -&gt;\n        adapterView.setSelection(i)\n    }\n\n    viewHolder.mySpinner.setSelection(origionSelectedPosition)\n}\n</code></pre>\n\n<p>I didn't get any warning or error while compiling, however during run time, I got a RuntimeException said that <code>setOnItemClickListener cannot be used with a spinner</code>. It is kind of strange. Did I do anything wrong in my code? Or does anyone know why my spinner didn't change with the corresponding selection? </p>\n\n<p>Further description for Kotlin solution:</p>\n\n<p>I had ever tried to use <code>onItemSelectedListener</code> but failed to find a suitable way to use it in kotlin. \nBut finally! The following code solved my problem:</p>\n\n<pre><code>    viewHolder.mySpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, pos: Int, id: Long) {\n\n        }\n\n        override fun onNothingSelected(parent: AdapterView&lt;out Adapter&gt;?) {\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4683, "user_id": 3870025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0fd762141547dc47fbf1fd5b9b389fc?s=128&d=identicon&r=PG&f=1", "display_name": "solidak", "link": "https://stackoverflow.com/users/3870025/solidak"}, "edited": false, "score": 2, "creation_date": 1500983257, "post_id": 36760590, "comment_id": 77565961, "body": "I&#39;m copying <code>pdvrieze</code> reply here:  <code>This certainly works, but is slightly less efficient as the caught exception is explicit to the jvm (so a non-processed exception will not be caught and rethrown which would be the corollary of your solution) </code>"}, {"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 0, "creation_date": 1509002645, "post_id": 36760590, "comment_id": 80843376, "body": "this is just not the same. it will catch all exceptions, while you only want to catch certain types of exceptions with multi-catch."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 2, "creation_date": 1509005455, "post_id": 36760590, "comment_id": 80845130, "body": "@IARI The <code>else</code> clause rethrows the <i>unwanted</i> exception."}, {"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 0, "creation_date": 1509008327, "post_id": 36760590, "comment_id": 80847016, "body": "true, i overlooked that - but its not beautiful, as I suppose it messes with the structure of the stacktrace"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 2, "creation_date": 1509016899, "post_id": 36760590, "comment_id": 80852898, "body": "@IARI <a href=\"https://stackoverflow.com/questions/1097527/rethrowing-exceptions-in-java-without-losing-the-stack-trace\">The original stacktrace is preserved</a>"}, {"owner": {"reputation": 5176, "user_id": 923920, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/j5nnb.jpg?s=128&g=1", "display_name": "Phileo99", "link": "https://stackoverflow.com/users/923920/phileo99"}, "edited": false, "score": 3, "creation_date": 1513972391, "post_id": 36760590, "comment_id": 82863293, "body": "Even if you throw away the arguments of elegance and ugliness aside,  Kotlin (which claims to be concise)  is actually 2x as verbose as Java in this case"}, {"owner": {"reputation": 1979, "user_id": 251120, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6fd9c654e8f517d530d62b6dd7494a3?s=128&d=identicon&r=PG", "display_name": "kenyee", "link": "https://stackoverflow.com/users/251120/kenyee"}, "edited": false, "score": 2, "creation_date": 1534863834, "post_id": 36760590, "comment_id": 90853418, "body": "That gets flagged by Detekt because you&#39;re catching too generic an exception ;-)"}, {"owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "edited": false, "score": 1, "creation_date": 1549982623, "post_id": 36760590, "comment_id": 96096655, "body": "Go to <a href=\"https://youtrack.jetbrains.com/issue/KT-7128\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-7128</a> to track this issue."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 114, "last_activity_date": 1550127668, "last_edit_date": 1550127668, "creation_date": 1461217328, "answer_id": 36760590, "question_id": 36760489, "link": "https://stackoverflow.com/questions/36760489/how-to-catch-many-exceptions-at-the-same-time-in-kotlin/36760590#36760590", "title": "How to catch many exceptions at the same time in Kotlin", "body": "<p>Update:\nVote for the following issue <a href=\"https://youtrack.jetbrains.com/issue/KT-7128\" rel=\"noreferrer\">KT-7128</a> if you want this feature to land in Kotlin. <i>Thanks @Cristan</i></p>\n\n<p>According to this <a href=\"https://discuss.kotlinlang.org/t/does-kotlin-have-multi-catch/486\" rel=\"noreferrer\">thread</a> this feature is not supported at this moment. </p>\n\n<blockquote>\n  <p><em>abreslav - JetBrains Team</em></p>\n  \n  <p>Not at the moment, but it is on the table</p>\n</blockquote>\n\n<p>You can mimic the multi-catch though:</p>\n\n<pre><code>try {\n    // do some work\n} catch (ex: Exception) {\n    when(ex) {\n        is IllegalAccessException, is IndexOutOfBoundsException -&gt; {\n            // handle those above\n        }\n        else -&gt; throw ex\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 758, "user_id": 5955376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1634355886825243/picture?type=large", "display_name": "nllsdfx", "link": "https://stackoverflow.com/users/5955376/nllsdfx"}, "edited": false, "score": 0, "creation_date": 1529322319, "post_id": 49407498, "comment_id": 88817292, "body": "If I understand it correctly you pass classes in your catch, but param <code>exceptions</code> takes objects."}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1578641444, "post_id": 49407498, "comment_id": 105512106, "body": "you&#39;re awesome man @aro, thanks for providing this alternative"}, {"owner": {"reputation": 2161, "user_id": 597222, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095ab4c60b8c191068a5d4a07cc314f4?s=128&d=identicon&r=PG", "display_name": "zdenda.online", "link": "https://stackoverflow.com/users/597222/zdenda-online"}, "edited": false, "score": 0, "creation_date": 1587901434, "post_id": 49407498, "comment_id": 108685757, "body": "This alternative is good, thanks Aro :) Better than nothing. However, I hope they will get to that feature although my issue KT-7128 was opened 5 years ago :-)"}, {"owner": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1611877536, "post_id": 49407498, "comment_id": 116599245, "body": "Could you maybe change your example? I have zero clue how to call this function. I am trying <code>fun test() {  myExceptionCode }.catch()</code> but it does not work"}, {"owner": {"reputation": 509, "user_id": 2832996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46814cb72562ea0b2e5b9da4cad32ea6?s=128&d=identicon&r=PG", "display_name": "Aro", "link": "https://stackoverflow.com/users/2832996/aro"}, "reply_to_user": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1612810375, "post_id": 49407498, "comment_id": 116877893, "body": "@Andrew I&#39;ll look at changing it soon.  It concerns me a bit that people are trying to use it raw. It&#39;s meant as a proof of concept to give people a starting point to write their own helper functions. It definitely needs to be cleaned up--mainly removing the lambda extension since that is probably a point of confusion."}], "tags": [], "owner": {"reputation": 509, "user_id": 2832996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46814cb72562ea0b2e5b9da4cad32ea6?s=128&d=identicon&r=PG", "display_name": "Aro", "link": "https://stackoverflow.com/users/2832996/aro"}, "is_accepted": false, "score": 9, "last_activity_date": 1529348839, "last_edit_date": 1529348839, "creation_date": 1521638575, "answer_id": 49407498, "question_id": 36760489, "link": "https://stackoverflow.com/questions/36760489/how-to-catch-many-exceptions-at-the-same-time-in-kotlin/49407498#49407498", "title": "How to catch many exceptions at the same time in Kotlin", "body": "<p>To add to <a href=\"https://stackoverflow.com/users/155213/miensol\">miensol</a>'s answer: although multi-catch in Kotlin isn't yet supported, there are more alternatives that should be mentioned.</p>\n\n<p>Aside from the <code>try-catch-when</code>, you could also implement a method to mimic a multi-catch. Here's one option:</p>\n\n<pre><code>fun (() -&gt; Unit).catch(vararg exceptions: KClass&lt;out Throwable&gt;, catchBlock: (Throwable) -&gt; Unit) {\n    try { \n        this() \n    } catch (e: Throwable) {\n        if (e::class in exceptions) catchBlock(e) else throw e\n    }\n}\n</code></pre>\n\n<p>And using it would look like:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    // ...\n    {\n        println(\"Hello\") // some code that could throw an exception\n\n    }.catch(IOException::class, IllegalAccessException::class) {\n        // Handle the exception\n    }\n}\n</code></pre>\n\n<p>You'll want to use a function to produce a lambda rather than using a raw lambda as shown above (otherwise you'll run into \"MANY_LAMBDA_EXPRESSION_ARGUMENTS\" and other issues pretty quickly). Something like <code>fun attempt(block: () -&gt; Unit) = block</code> would work.</p>\n\n<p>Of course, you may want to chain objects instead of lambdas for composing your logic more elegantly or to behave differently than a plain old try-catch.</p>\n\n<p><strong>I would only recommend using this approach over <a href=\"https://stackoverflow.com/users/155213/miensol\">miensol</a>'s if you are adding some specialization</strong>. For simple multi-catch uses, a <code>when</code> expression is the simplest solution.</p>\n"}, {"comments": [{"owner": {"reputation": 496, "user_id": 7250390, "user_type": "registered", "profile_image": "https://graph.facebook.com/1050047641788982/picture?type=large", "display_name": "Dmitry Ovchinnikov", "link": "https://stackoverflow.com/users/7250390/dmitry-ovchinnikov"}, "edited": false, "score": 0, "creation_date": 1609950190, "post_id": 55164913, "comment_id": 115981946, "body": "What&#39;s the reason of &quot;-1&quot;?   try {    ... } catch (X | Y e) {   ... }  in Java also checks the inheritance. This answer mimics the Java&#39;s behaviour, it&#39;s more convenient for example for catching IOException with many different subtypes."}], "tags": [], "owner": {"reputation": 195, "user_id": 4279747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O6APG.jpg?s=128&g=1", "display_name": "Mark Kowalski", "link": "https://stackoverflow.com/users/4279747/mark-kowalski"}, "is_accepted": false, "score": 0, "last_activity_date": 1552573653, "last_edit_date": 1552573653, "creation_date": 1552573283, "answer_id": 55164913, "question_id": 36760489, "link": "https://stackoverflow.com/questions/36760489/how-to-catch-many-exceptions-at-the-same-time-in-kotlin/55164913#55164913", "title": "How to catch many exceptions at the same time in Kotlin", "body": "<p>The example from <a href=\"https://stackoverflow.com/users/2832996/aro\">aro</a> is very good but if there are inheritances, it won't work like in Java. </p>\n\n<p>Your answer inspired me to write an extension function for that. To also allow inherited classes you have to check for <code>instance</code> instead of comparing directly.</p>\n\n<pre><code>inline fun multiCatch(runThis: () -&gt; Unit, catchBlock: (Throwable) -&gt; Unit, vararg exceptions: KClass&lt;out Throwable&gt;) {\ntry {\n    runThis()\n} catch (exception: Exception) {\n    val contains = exceptions.find {\n        it.isInstance(exception)\n    }\n    if (contains != null) catchBlock(exception)\n    else throw exception\n}}\n</code></pre>\n\n<p>To see how to use, you can have a look in my library on GitHub <a href=\"https://github.com/mark-kowalski/KotlinExtensions-Android/blob/master/kotlinsugar/src/main/java/dev/mko/kotlinsugar/KotlinSugar.kt\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28036, "favorite_count": 8, "accepted_answer_id": 36760590, "answer_count": 3, "score": 97, "last_activity_date": 1552573653, "creation_date": 1461216891, "last_edit_date": 1513412410, "question_id": 36760489, "link": "https://stackoverflow.com/questions/36760489/how-to-catch-many-exceptions-at-the-same-time-in-kotlin", "title": "How to catch many exceptions at the same time in Kotlin", "body": "<pre><code>try { \n\n} catch (ex: MyException1, MyException2 ) {\n    logger.warn(\"\", ex)\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>try { \n\n} catch (ex: MyException1 | MyException2 ) {\n    logger.warn(\"\", ex)\n}\n</code></pre>\n\n<p>As a result, a compilation error: <code>Unresolved reference: MyException2</code>.</p>\n\n<p>How can I catch many exceptions at the same time on Kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 6, "last_activity_date": 1461216342, "creation_date": 1461216342, "answer_id": 36760359, "question_id": 36760318, "link": "https://stackoverflow.com/questions/36760318/how-to-init-array-property-of-annotation-in-kotlin/36760359#36760359", "title": "How to init array property of annotation in Kotlin", "body": "<p><a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/ManyToOne.html#cascade()\"><code>cascade</code></a> annotation attribute accepts an array of <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/CascadeType.html\"><code>CascadeType</code></a> thus you need to change your <code>@ManyToOne</code> usage to:</p>\n\n<pre><code>@ManyToOne(cascade = arrayOf(javax.persistence.CascadeType.DETACH))\n</code></pre>\n"}], "owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 36760359, "answer_count": 1, "score": 1, "last_activity_date": 1461221187, "creation_date": 1461216153, "last_edit_date": 1461221187, "question_id": 36760318, "link": "https://stackoverflow.com/questions/36760318/how-to-init-array-property-of-annotation-in-kotlin", "title": "How to init array property of annotation in Kotlin", "body": "<pre><code>@Entity\n@Table(name = \"t_payment\")\ndata class PaymentEntity(\n        @ManyToOne(cascade = CascadeType.DETACH)\n        @JoinColumn(name = \"user_id\", nullable = false)\n        var user: User? = null) : Serializable {\n}\n</code></pre>\n\n<p>as a result of a compilation error: <code>\"Type mismatch\"</code></p>\n"}]