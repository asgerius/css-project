[{"tags": ["java", "android", "kotlin", "crash", "offline"], "comments": [{"owner": {"reputation": 1759, "user_id": 945808, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/eDoAR.jpg?s=128&g=1", "display_name": "toantran", "link": "https://stackoverflow.com/users/945808/toantran"}, "edited": false, "score": 1, "creation_date": 1569492471, "post_id": 58107661, "comment_id": 102618182, "body": "Does this (<a href=\"https://stackoverflow.com/a/58109924/945808\">stackoverflow.com/a/58109924/945808</a>) help? @rasoul-miri"}], "answers": [{"comments": [{"owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "edited": false, "score": 0, "creation_date": 1569496767, "post_id": 58109924, "comment_id": 102620426, "body": "I need a library"}], "tags": [], "owner": {"reputation": 1759, "user_id": 945808, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/eDoAR.jpg?s=128&g=1", "display_name": "toantran", "link": "https://stackoverflow.com/users/945808/toantran"}, "is_accepted": true, "score": 3, "last_activity_date": 1569474687, "creation_date": 1569474687, "answer_id": 58109924, "question_id": 58107661, "link": "https://stackoverflow.com/questions/58107661/crash-reporter-offline-for-android-device-offline/58109924#58109924", "title": "crash reporter offline for android device offline", "body": "<p>Technically, you can implement such mechanism to track the crash logs yourself.\ncheck out the following piece of code to handle within Application class:</p>\n\n<pre><code>import android.app.Application\n\nclass TestApp : Application() {\n    override fun onCreate() {\n        super.onCreate()\n\n        val exceptionHandler = SimpleExceptionHandler()\n        Thread.setDefaultUncaughtExceptionHandler(exceptionHandler)\n    }\n}\n\n\nclass SimpleExceptionHandler : Thread.UncaughtExceptionHandler {\n    override fun uncaughtException(thread: Thread, exc: Throwable) {\n        // Log your exception here to files, database, etc together with the device status like RAM, processes, network condition that the crash point \n    }\n}\n</code></pre>\n\n<p>You can choose the way to store your information like text file, database, etc</p>\n"}], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 58109924, "answer_count": 1, "score": 1, "last_activity_date": 1569474687, "creation_date": 1569453236, "question_id": 58107661, "link": "https://stackoverflow.com/questions/58107661/crash-reporter-offline-for-android-device-offline", "title": "crash reporter offline for android device offline", "body": "<p>I have a device android, example <a href=\"http://www.friendlyarm.net/products/tiny210\" rel=\"nofollow noreferrer\">friendly arm</a> and this is offline. I need to see crashes in this device. for example, crash save in sd card.\ncan I use firebase crashlytics offline and save in file? or use other library. I need a full report, for example ram, storage, line crash, and etc.</p>\n"}, {"tags": ["android", "kotlin", "android-activity", "instrumented-test"], "answers": [{"comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 9667, "user_id": 4675736, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yXNEM.jpg?s=128&g=1", "display_name": "Wai Yan Hein", "link": "https://stackoverflow.com/users/4675736/wai-yan-hein"}, "edited": false, "score": 0, "creation_date": 1569456205, "post_id": 58107559, "comment_id": 102606221, "body": "@WaiYanHein I&#39;ve added an alternate way, which does what you&#39;ve asked for."}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": true, "score": 1, "last_activity_date": 1569456447, "last_edit_date": 1569456447, "creation_date": 1569452308, "answer_id": 58107559, "question_id": 58107366, "link": "https://stackoverflow.com/questions/58107366/is-there-a-way-to-stop-launching-activity-in-android-instrumented-tests-kotlin/58107559#58107559", "title": "Is there a way to stop launching activity in Android instrumented tests Kotlin (ActivityTestRule)", "body": "<p>One can use the <code>ActivityTestRule</code> in order to setup the launch <code>Intent</code> ...</p>\n\n<p>and then let the <code>LoginActivity</code> behave differently, eg. based upon the <code>Intent</code> action.</p>\n\n<p>However, despite this is technically possible, this might not be the suggested approach.</p>\n\n<p>Not clicking the button would eliminate the demand to adjust the application code.</p>\n\n<p>In every case, you won't be able to change the debug APK from within a test APK.</p>\n\n<hr>\n\n<p>A less intrusive way might be something alike:</p>\n\n<pre><code>private boolean shouldNavigate = true;\n\n@VisisbleForTesting\npublic void setShouldNavigate(boolean value) {\n    this.shouldNavigate = value;\n}\n</code></pre>\n\n<p>So that you can enable/disable this from within the test class. With annotation <code>@VisisbleForTesting</code>, this will not pollute the <code>public</code> API, because <code>.setShouldNavigate()</code> is only visible when testing.</p>\n"}], "owner": {"reputation": 9667, "user_id": 4675736, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yXNEM.jpg?s=128&g=1", "display_name": "Wai Yan Hein", "link": "https://stackoverflow.com/users/4675736/wai-yan-hein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58107559, "answer_count": 1, "score": 1, "last_activity_date": 1569456447, "creation_date": 1569450797, "question_id": 58107366, "link": "https://stackoverflow.com/questions/58107366/is-there-a-way-to-stop-launching-activity-in-android-instrumented-tests-kotlin", "title": "Is there a way to stop launching activity in Android instrumented tests Kotlin (ActivityTestRule)", "body": "<p>I am developing an Android application using Kotlin. I am adding instrumented tests into my project. Now, I am looking for a way to enable/disable the logic for launching activity because it can make my test behaving in unexpected ways.</p>\n\n<p>This is my test class</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass LoginFormTest {\n    @Rule @JvmField\n    val loginActivityRule: ActivityTestRule&lt;LoginActivity&gt; = ActivityTestRule&lt;LoginActivity&gt;(LoginActivity::class.java)\n\n    @Before\n    fun setUp() {\n    }\n\n    @Test\n    fun loginFormRendersErrorMessageWhenRequestThrowsError() {\n        //logic\n    }\n}\n</code></pre>\n\n<p>That is just the signature of the test class. As you can see in the code, I am testing LoginActivity. LoginAcitivy is starting another activity when a button is clicked. Is there a way to disable activity from being started in the test. Then in another test method, I might enable it again. Is there a way to do that?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 1, "creation_date": 1586860086, "post_id": 58107453, "comment_id": 108276738, "body": "thanks, keep in mind that viewModel instance must be defined as immutable val"}, {"owner": {"reputation": 651, "user_id": 4075178, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d8b82a00ee0563cbb139427df4f2a3d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Pandey", "link": "https://stackoverflow.com/users/4075178/vikas-pandey"}, "reply_to_user": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1599626234, "post_id": 58107453, "comment_id": 112827392, "body": "@NicolaGallazzi and if this viewmodel is used and instantiated in 2 fragment classes one beong main and the other is dialog and it used 2 different classes."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 35, "last_activity_date": 1594312900, "last_edit_date": 1594312900, "creation_date": 1569451540, "answer_id": 58107453, "question_id": 58106707, "link": "https://stackoverflow.com/questions/58106707/how-does-kotlin-use-this-by-delegate-to-instantiate-the-viewmodel/58107453#58107453", "title": "How does kotlin use this by delegate to instantiate the viewmodel", "body": "<p><code>by viewModels(...)</code> is part of <a href=\"https://developer.android.com/kotlin/ktx#fragment\" rel=\"noreferrer\"><code>fragment-ktx</code></a> library, it's a convienience short hand for creating a <code>lazy</code> delegate obtaining <code>ViewModels</code>.</p>\n<pre><code>// creates lazy delegate for obtaining zero-argument MyViewModel\nprivate val viewModel : MyViewModel by viewModels()\n// it's functionally equal to:\nprivate val viewModel by lazy {\n    ViewModelProvider(this).get(MyViewModel::class.java)\n}\n\n// with factory:\nprivate val viewModel : MyViewModel by viewModels { getViewModelFactory() }\n// is equal to:\nprivate val viewModel by lazy {\n    ViewModelProvider(this, getViewModelFactory()).get(MyViewModel::class.java)\n}\n</code></pre>\n"}], "owner": {"reputation": 456, "user_id": 5745925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIJEQ.jpg?s=128&g=1", "display_name": "stegnerd", "link": "https://stackoverflow.com/users/5745925/stegnerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5095, "favorite_count": 6, "accepted_answer_id": 58107453, "answer_count": 1, "score": 15, "last_activity_date": 1594312900, "creation_date": 1569446635, "question_id": 58106707, "link": "https://stackoverflow.com/questions/58106707/how-does-kotlin-use-this-by-delegate-to-instantiate-the-viewmodel", "title": "How does kotlin use this by delegate to instantiate the viewmodel", "body": "<p>I was reading through the google android architecture example and came across this.Can someone explain to me how this delegate works? </p>\n\n<pre><code>private val viewModel by viewModels&lt;TasksViewModel&gt; { getViewModelFactory() }\n</code></pre>\n\n<p>where getViewModelFactory is an extension method that returns a ViewModelFactory and TasksViewModel is an instance of ViewModel()</p>\n\n<p>The way that I read this is similar to:</p>\n\n<pre><code>private val viewModel: TasksViewModel by Fragment.ViewModel(ViewModelFactory)\n</code></pre>\n\n<p>can someone elaborate on if my understanding is correct.</p>\n"}, {"tags": ["kotlin", "cassandra", "scylla"], "comments": [{"owner": {"reputation": 966, "user_id": 324449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2176ef875c25c8653329e175a7e084cb?s=128&d=identicon&r=PG", "display_name": "Max Gasner", "link": "https://stackoverflow.com/users/324449/max-gasner"}, "edited": false, "score": 1, "creation_date": 1569447613, "post_id": 58106638, "comment_id": 102604410, "body": "Please include the text of the query you are trying to run."}, {"owner": {"reputation": 1, "user_id": 9206922, "user_type": "registered", "profile_image": "https://graph.facebook.com/1708379662534700/picture?type=large", "display_name": "Anand Kuchipudi", "link": "https://stackoverflow.com/users/9206922/anand-kuchipudi"}, "reply_to_user": {"reputation": 966, "user_id": 324449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2176ef875c25c8653329e175a7e084cb?s=128&d=identicon&r=PG", "display_name": "Max Gasner", "link": "https://stackoverflow.com/users/324449/max-gasner"}, "edited": false, "score": 0, "creation_date": 1569547907, "post_id": 58106638, "comment_id": 102641102, "body": "select item.item_number FROM planning.consumption_forecast WHERE location_number = 101 and business_date = &#39;2019-09-17&#39; Allow Filtering"}], "owner": {"reputation": 1, "user_id": 9206922, "user_type": "registered", "profile_image": "https://graph.facebook.com/1708379662534700/picture?type=large", "display_name": "Anand Kuchipudi", "link": "https://stackoverflow.com/users/9206922/anand-kuchipudi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569446248, "creation_date": 1569446248, "question_id": 58106638, "link": "https://stackoverflow.com/questions/58106638/db-query-to-read-an-object-inside-array-list", "title": "DB query to read an object inside array list", "body": "<p><a href=\"https://i.stack.imgur.com/Vtb9h.png\" rel=\"nofollow noreferrer\">Look at The Image where we see the item_number and quantity where <strong>i only need item_number not the quantity</strong></a>I am trying to run a query to read or get item_numbers which is inside items(Array List) tried so many ways but it don't worked.</p>\n"}, {"tags": ["android", "kotlin", "tomtom", "tomtom-android-sdk"], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 2435857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UbPyd.jpg?s=128&g=1", "display_name": "Mati", "link": "https://stackoverflow.com/users/2435857/mati"}, "is_accepted": true, "score": 1, "last_activity_date": 1570544419, "creation_date": 1570544419, "answer_id": 58288269, "question_id": 58105814, "link": "https://stackoverflow.com/questions/58105814/enable-to-use-tomtom-search-api-in-kotlin/58288269#58288269", "title": "enable to use tomtom search api in kotlin", "body": "<p>I assume that you have a proper API key inside the AndroidManifest.xml file. Given above you can start playing with TomTom Search API in three steps: </p>\n\n<ol>\n<li><p>Create the SearchAPI object: </p>\n\n<pre><code>val searchApi = OnlineSearchApi.create(applicationContext)!!\n</code></pre></li>\n<li><p>Create the Search query object:</p>\n\n<pre><code>val text = \"Berlin\"\nval searchQuery = FuzzySearchQueryBuilder.create(text).build()\n</code></pre></li>\n<li><p>Call Search API and catch the results inside a listener: </p>\n\n<pre><code>searchApi.search(searchQuery, object: FuzzySearchResultListener {\n    override fun onSearchResult(response: FuzzySearchResponse?) {\n        Toast.makeText(applicationContext, \"results\", Toast.LENGTH_SHORT).show()\n    }\n\n    override fun onSearchError(error: SearchError?) {\n        Toast.makeText(applicationContext, \"error\", Toast.LENGTH_SHORT).show()\n    }\n})\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 58288269, "answer_count": 1, "score": 0, "last_activity_date": 1570544419, "creation_date": 1569441715, "question_id": 58105814, "link": "https://stackoverflow.com/questions/58105814/enable-to-use-tomtom-search-api-in-kotlin", "title": "enable to use tomtom search api in kotlin", "body": "<p>Been searching for a week now, The official  <a href=\"https://developer.tomtom.com/maps-android-sdk/documentation-0\" rel=\"nofollow noreferrer\">documentation</a> are not clear at all.</p>\n\n<p>as mentioned there, the code </p>\n\n<pre><code>val searchServiceConnection = SearchServiceManager.createAndBind(context,\n    searchServiceConnectionCallback)\n</code></pre>\n\n<p>should initialize the search API in the application. but it is not clear how to use it after this. </p>\n\n<p>I installed and initialized the API in the proper way :</p>\n\n<p>Gradle:</p>\n\n<pre><code>//library required for search\nimplementation(\"com.tomtom.online:sdk-search:2.4264\")\n\n\n\nandroid {\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n\n<p>AndroidManifest</p>\n\n<pre><code>&lt;meta-data\n            android:name=\"OnlineSearch.Key\"\n            android:value=\"your-tomtom-key\" /&gt;\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-edittext", "swipe"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2849892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8a75df56ff6e6bebbfdcc04f38a781?s=128&d=identicon&r=PG&f=1", "display_name": "tthudium", "link": "https://stackoverflow.com/users/2849892/tthudium"}, "edited": false, "score": 0, "creation_date": 1569452004, "post_id": 58106253, "comment_id": 102605482, "body": "This helps a lot, thanks! I will look into ViewPager and RecyclerView. I have an activity full of edittexts (workout app - sets and reps) and swiping from left to right changes the exercise you&#39;re editing."}], "tags": [], "owner": {"reputation": 8161, "user_id": 9248201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/301395c5000a1e23206170d900448aef?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo Ostasha", "link": "https://stackoverflow.com/users/9248201/pavlo-ostasha"}, "is_accepted": false, "score": 0, "last_activity_date": 1569444060, "creation_date": 1569444060, "answer_id": 58106253, "question_id": 58105745, "link": "https://stackoverflow.com/questions/58105745/detect-swipe-starting-in-an-edittext-kotlin/58106253#58106253", "title": "Detect swipe starting in an EditText [Kotlin]", "body": "<p>Well. Apparently you have an answer in your question. You can use</p>\n\n<pre><code>val myEditText = EditText(this)\nlinear.addView(myEditText)\nmyEditText.setOnTouchListener(object:OnSwipeTouchListener(this@MainActivity) {\n            override fun onSwipeTop() {\n                Toast.makeText(this@MainActivity, \"Top\", Toast.LENGTH_SHORT).show()\n                println(\"TOP\")\n            }\n}\n</code></pre>\n\n<p><code>EditText</code> has its own touch listener so yours will override the default one and some of <code>EditText</code> features may misbehave.</p>\n\n<p>I am not sure why do you need to catch swipe event on <code>EditText</code> though. If you want swiping behaviour on the whole content of the screen or on its part I would recommend you to use <code>ViewPager</code>, <code>ViewPager2</code> or <code>RecyclerView</code>. </p>\n\n<p>I don't know the requirements though, so maybe catching swipe on <code>EditText</code> is crucial for your app.</p>\n\n<p>Hope it helps somehow.</p>\n"}], "owner": {"reputation": 23, "user_id": 2849892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8a75df56ff6e6bebbfdcc04f38a781?s=128&d=identicon&r=PG&f=1", "display_name": "tthudium", "link": "https://stackoverflow.com/users/2849892/tthudium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569444060, "creation_date": 1569441435, "question_id": 58105745, "link": "https://stackoverflow.com/questions/58105745/detect-swipe-starting-in-an-edittext-kotlin", "title": "Detect swipe starting in an EditText [Kotlin]", "body": "<p>I am working on an android app using Android Studio. </p>\n\n<p>Currently I am trying to figure out how to get a swipe detection to work, even if the cursor starts inside of an edittext. </p>\n\n<p>I have followed the first answer <a href=\"https://stackoverflow.com/questions/4139288/android-how-to-handle-right-to-left-swipe-gestures\">here</a> to get OnSwipeTouchListener to work. (It works outside of the main view - toasts show up saying \"You have swiped left\")</p>\n\n<p>I call it using </p>\n\n<pre><code>var SV: ScrollView = findViewById(R.id.SV) as ScrollView\nSV.setOnTouchListener(object:OnSwipeTouchListener(this@MainActivity) {\n            override fun onSwipeTop() {\n                Toast.makeText(this@MainActivity, \"Top\", Toast.LENGTH_SHORT).show()\n                println(\"TOP\")\n            }\n}\n</code></pre>\n\n<p>Where SV is my parent scroll view.</p>\n\n<p>However, then I create an edittext programmatically and add it:</p>\n\n<pre><code>val myEditText = EditText(this)\nlinear.addView(myEditText)\n</code></pre>\n\n<p>Where linear is a child linearlayout inside the main scrollview</p>\n\n<p>I cannot detect a swipe from inside the edittext to outside of it. It DOES work if you start on the outside, then swipe inside.</p>\n\n<p><strong>How can I detect swipes inside of edittexts, and swipes that start inside of an edittext, but end outside of it?</strong></p>\n\n<p>Can anyone help? Any help is appreciated!</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-debugging"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 1, "creation_date": 1569439405, "post_id": 58105131, "comment_id": 102601436, "body": "I&#39;m wondering if this is an XY problem, because I don&#39;t see what use obsolete variables would be when debugging a click listener that cannot access them anyway."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576333768, "post_id": 58105131, "comment_id": 104869969, "body": "You can write <code>val e = e</code> inside the <code>onClickListener</code> and you will see it."}], "answers": [{"comments": [{"owner": {"reputation": 1188, "user_id": 6939854, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/10207653979453662/picture?type=large", "display_name": "Blue", "link": "https://stackoverflow.com/users/6939854/blue"}, "edited": false, "score": 0, "creation_date": 1569441490, "post_id": 58105191, "comment_id": 102602279, "body": "How do I do that?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 1188, "user_id": 6939854, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/10207653979453662/picture?type=large", "display_name": "Blue", "link": "https://stackoverflow.com/users/6939854/blue"}, "edited": false, "score": 0, "creation_date": 1569444222, "post_id": 58105191, "comment_id": 102603339, "body": "It&#39;s not clear what you really need, but you declare fields within the class, not a method <code>class MainActivity { var loginButton; var emailInput;  ...  }</code>"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 3, "last_activity_date": 1569439029, "creation_date": 1569439029, "answer_id": 58105191, "question_id": 58105131, "link": "https://stackoverflow.com/questions/58105131/android-studio-variables-not-appearing-in-onclicklistener-body/58105191#58105191", "title": "Android Studio Variables not appearing in OnClickListener body", "body": "<p>Within the click listener, those variables are out of scope and the new scope of execution becomes the anonymous class. </p>\n\n<p>If you would like to still inspect the views, then you should declare them as fields within the Activity class. </p>\n"}], "owner": {"reputation": 1188, "user_id": 6939854, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/10207653979453662/picture?type=large", "display_name": "Blue", "link": "https://stackoverflow.com/users/6939854/blue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 58105191, "answer_count": 1, "score": 0, "last_activity_date": 1576333407, "creation_date": 1569438760, "last_edit_date": 1576333407, "question_id": 58105131, "link": "https://stackoverflow.com/questions/58105131/android-studio-variables-not-appearing-in-onclicklistener-body", "title": "Android Studio Variables not appearing in OnClickListener body", "body": "<p>I'm working in android studio using the debugger.</p>\n\n<pre><code>var loginButton = findViewById&lt;Button&gt;(R.id.loginButtonFinal)\nvar emailInput = findViewById&lt;EditText&gt;(R.id.emailInput)\nvar e = 2\nloginButton.setOnClickListener {\n    println(\"Log In Button pressed, will log in now\")\n    //            insert code for login in here\n    //            signIn(email = emailInput.)\n}\n</code></pre>\n\n<p>If I set a breakpoint in the debugger at the line containing <code>var e = 2</code> I will see <code>loginButton</code> and <code>emailInput</code> output to the variable section of the debugger.  But if I place the debugger  inside of <code>loginButton.setOnClickListener</code>  they no longer appear.  </p>\n\n<p>I would like to be able to see variables after the click has occurred.  What can I do?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "firebase-security"], "answers": [{"tags": [], "owner": {"reputation": 1020, "user_id": 5286203, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8739ffea2ce743dcabf44c70c9011e9f?s=128&d=identicon&r=PG&f=1", "display_name": "Flignats", "link": "https://stackoverflow.com/users/5286203/flignats"}, "is_accepted": false, "score": 0, "last_activity_date": 1569440596, "creation_date": 1569440596, "answer_id": 58105535, "question_id": 58104695, "link": "https://stackoverflow.com/questions/58104695/firestore-blocked-users-rule/58105535#58105535", "title": "Firestore Blocked users rule", "body": "<p>There are a few ways to solve this issue, here is a strategy based off of what you have already (collection of user documents that include uids of users that you want to block from write access).</p>\n\n<p><strong>Frontend Solution</strong></p>\n\n<p>When a user authenticates with your app, send a request to see if that uid is also in the <code>BlockList</code> collection. If it does exist, set a boolean flag in your app that all db calls reference before allowing the call to execute.</p>\n\n<p><strong>Backend Solution</strong></p>\n\n<p>Since nothing is secure in the frontend, you'll want to couple the frontend validation with backend security.</p>\n\n<p>The changes the user is attempting to make can be staged in a 'trigger document' that a cloud function in the backend then executes <code>onWrite</code>.</p>\n\n<p>Your cloud function can then query the <code>BlockList</code> collection to see if the uid is indeed among the collection, and if so then send back an error (or not) to the client while preventing any writes.</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 8767663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c62f474b9711f09be29fb28c0db5c8?s=128&d=identicon&r=PG&f=1", "display_name": "Bon Echo", "link": "https://stackoverflow.com/users/8767663/bon-echo"}, "edited": false, "score": 1, "creation_date": 1569443096, "post_id": 58105735, "comment_id": 102602930, "body": "Thank you, I&#39;ve tried it but it doesn&#39;t work, please see my updated question I&#39;ve included what I tried and didn&#39;t work"}, {"owner": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "reply_to_user": {"reputation": 27, "user_id": 8767663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c62f474b9711f09be29fb28c0db5c8?s=128&d=identicon&r=PG&f=1", "display_name": "Bon Echo", "link": "https://stackoverflow.com/users/8767663/bon-echo"}, "edited": false, "score": 0, "creation_date": 1569445171, "post_id": 58105735, "comment_id": 102603659, "body": "i really created the stuff on my side and it worked. Did both ways of testing if the rule works. How did you tested it? With the firestore simulator? Thats what i did."}, {"owner": {"reputation": 27, "user_id": 8767663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c62f474b9711f09be29fb28c0db5c8?s=128&d=identicon&r=PG&f=1", "display_name": "Bon Echo", "link": "https://stackoverflow.com/users/8767663/bon-echo"}, "edited": false, "score": 0, "creation_date": 1569446084, "post_id": 58105735, "comment_id": 102603939, "body": "I didn&#39;t test it with the simulator, I tested it with a real Android device"}, {"owner": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "reply_to_user": {"reputation": 27, "user_id": 8767663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c62f474b9711f09be29fb28c0db5c8?s=128&d=identicon&r=PG&f=1", "display_name": "Bon Echo", "link": "https://stackoverflow.com/users/8767663/bon-echo"}, "edited": false, "score": 0, "creation_date": 1569446428, "post_id": 58105735, "comment_id": 102604045, "body": "then its most likely an Auth issue. I edited my post for clarification,"}, {"owner": {"reputation": 27, "user_id": 8767663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c62f474b9711f09be29fb28c0db5c8?s=128&d=identicon&r=PG&f=1", "display_name": "Bon Echo", "link": "https://stackoverflow.com/users/8767663/bon-echo"}, "edited": false, "score": 1, "creation_date": 1569495211, "post_id": 58105735, "comment_id": 102619586, "body": "Ok, So after I saw your clarification images I edited the rules and wrote a specific rule for every collection instead of the wildcard as you mentioned and for the collections I wanted to deny the blocked user from writing to it, I used your answer, however, I had to add a line for reading permission, and everything worked as intended now, Thanks. I&#39;d give you +1 for your answer but sadly I didn&#39;t make enough repetitions till now"}], "tags": [], "owner": {"reputation": 2142, "user_id": 614659, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3bac45fa9b4da356a1daf06690208ee6?s=128&d=identicon&r=PG", "display_name": "Logemann", "link": "https://stackoverflow.com/users/614659/logemann"}, "is_accepted": true, "score": 1, "last_activity_date": 1569446411, "last_edit_date": 1569446411, "creation_date": 1569441400, "answer_id": 58105735, "question_id": 58104695, "link": "https://stackoverflow.com/questions/58104695/firestore-blocked-users-rule/58105735#58105735", "title": "Firestore Blocked users rule", "body": "<p>dont know if i get your problem right and it would have been helpful to have seen your rules which you tried so far, but i think this should work:</p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      // Make sure a write to all documents is only allowed when\n      // the current user has no document in BlockList collection\n      allow write: if !exists(/databases/$(database)/documents/BlockList/$(request.auth.uid))\n    }\n  }\n}\n</code></pre>\n\n<p>I have tested this with my firestore instance and it looks ok to me. Of course you most likely will need to specify the documents better instead of the wildcard match. </p>\n\n<p>It doesnt matter what data you have in the BlockList documents as long there is a document with the userUid as doc name in the BlockList collection.</p>\n\n<p>I have created two documents (which represent users) in the BlockList collection. </p>\n\n<p><a href=\"https://i.stack.imgur.com/WCHYO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WCHYO.png\" alt=\"two users in BlockList\"></a></p>\n\n<p>Now i try to write to my tournaments table which has the mentioned security.rule via Simulator \"Update\" method (with auth credentials supplied of course)</p>\n\n<p><a href=\"https://i.stack.imgur.com/4VJx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4VJx4.png\" alt=\"blocked by rule because user is in BlockList\"></a></p>\n\n<p>When removing the user \"8Zvq1fpWl2S0h1t7bIxNoxDcucn1\" from BlockList and use Simulator again, i get:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d1BIT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d1BIT.png\" alt=\"allowed by second rule\"></a></p>\n\n<p>Summary: to me it looks working quite well.</p>\n"}, {"tags": [], "owner": {"reputation": 20086, "user_id": 577878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46dfa2e5bdac5fc39a6bd6aca42af8df?s=128&d=identicon&r=PG", "display_name": "Zorayr", "link": "https://stackoverflow.com/users/577878/zorayr"}, "is_accepted": false, "score": 0, "last_activity_date": 1601056638, "creation_date": 1601056638, "answer_id": 64069169, "question_id": 58104695, "link": "https://stackoverflow.com/questions/58104695/firestore-blocked-users-rule/64069169#64069169", "title": "Firestore Blocked users rule", "body": "<p>If the number of people in the blocked list is low, you can use the following solution of manually blocking off people in the rules.</p>\n<pre><code>rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n        function isBanned(uid) {\n                return uid in [\n        // List of banned naughty peope!\n        &quot;uid-1....DLZV2&quot;,\n        &quot;uid-2....OB0w2&quot;\n        ];\n        }\n        allow read, write: if request.auth != null &amp;&amp; !isBanned(request.auth.uid);\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8767663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c62f474b9711f09be29fb28c0db5c8?s=128&d=identicon&r=PG&f=1", "display_name": "Bon Echo", "link": "https://stackoverflow.com/users/8767663/bon-echo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "accepted_answer_id": 58105735, "answer_count": 3, "score": 2, "last_activity_date": 1601056638, "creation_date": 1569436802, "last_edit_date": 1569495540, "question_id": 58104695, "link": "https://stackoverflow.com/questions/58104695/firestore-blocked-users-rule", "title": "Firestore Blocked users rule", "body": "<p>I've been searching for an answer for this for a time now, </p>\n\n<p>Simply I have an Android app, this app allows users to write or read to/from the database which is Firestore</p>\n\n<p>I have a collection named <code>BlockList</code> which meant to hold the users <code>uid</code> as the document name and a field value named <code>userUid</code>, the purpose of this collection is to deny any write \"only\" request for users who misbehave in the application. \nIn other words, I am looking for firestore rule to allow the users in <code>BlockList</code> to read <strong>only</strong> what's shared in the application and <strong>deny</strong> all the write operations they try to make.</p>\n\n<p>I've already tested these rules but it doesn't work, <strong>it doesn't allow any read or write operation even if the user is not on the <code>BlockList</code></strong></p>\n\n<pre><code>rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n   function isBlackListed() {\n      return exists(/databases/$(database)/BlockList/$(request.auth.uid))\n    }\n    match /{document=**} {\n      allow read, write: if request.auth != null &amp;&amp; !isBlackListed();\n    }\n  }\n}\n\n\n----------\n\n\nrules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n         allow write: if !exists(/databases/$(database)/documents/BlockList/$(request.auth.uid))\n\n  }\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to Marc's answer I managed to get everything right\n<strong>Working rule</strong></p>\n\n<pre><code> match /Posts/{document=**}{\n      allow write :if !exists(/databases/$(database)/documents/BlockList/$(request.auth.uid))\n      allow read :if request.auth.uid != null;\n}\n</code></pre>\n"}, {"tags": ["kotlin", "functional-programming", "arrow-kt"], "answers": [{"tags": [], "owner": {"reputation": 496, "user_id": 5339978, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9USjjjCabOw/AAAAAAAAAAI/AAAAAAAADUA/xE3hDyB3zso/photo.jpg?sz=128", "display_name": "nomisRev", "link": "https://stackoverflow.com/users/5339978/nomisrev"}, "is_accepted": true, "score": 5, "last_activity_date": 1569597106, "last_edit_date": 1569597106, "creation_date": 1569587581, "answer_id": 58134647, "question_id": 58104502, "link": "https://stackoverflow.com/questions/58104502/changing-multiple-attributes-of-a-data-class-with-a-lens/58134647#58134647", "title": "Changing multiple attributes of a data class with a Lens", "body": "<p>Arrow currently does not expose such functionality but you can easily write a generic solution yourself.</p>\n\n<p>The snippet below demonstrates how it can be achieved, you can add additional methods to compose from <code>Lens&lt;S, Tuple2&lt;FA, FB&gt;&gt;</code> to <code>Lens&lt;S, Tuple3&lt;FA, FB, FC&gt;&gt;</code> etc.</p>\n\n<pre><code>@optics data class Char(val name: String, val health: Int) {\n  companion object\n}\n\ninfix fun &lt;S, FA, FB&gt; Lens&lt;S, FA&gt;.aside(other: Lens&lt;S, FB&gt;): Lens&lt;S, Tuple2&lt;FA, FB&gt;&gt; = object : Lens&lt;S, Tuple2&lt;FA, FB&gt;&gt; {\n  override fun get(s: S): Tuple2&lt;FA, FB&gt; = Tuple2(this@aside.get(s), other.get(s))\n  override fun set(s: S, b: Tuple2&lt;FA, FB&gt;): S = other.set(this@aside.set(s, b.a), b.b)\n}\n\nfun main() {\n  val original = Char(\"\", 0)\n  val charName: Lens&lt;Char, String&gt; = Char.name\n  val charHealth: Lens&lt;Char, Int&gt; = Char.health\n  val charNameAndHealth: Lens&lt;Char, Tuple2&lt;String, Int&gt;&gt; = charName.aside(charHealth)\n\n  charNameAndHealth.modify(original) { Tuple2(\"Test\", 30) }\n}\n</code></pre>\n"}], "owner": {"reputation": 36501, "user_id": 3785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/91e799ee062d66b9a2da8428d28038a0?s=128&d=identicon&r=PG", "display_name": "Mario F", "link": "https://stackoverflow.com/users/3785/mario-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 58134647, "answer_count": 1, "score": 2, "last_activity_date": 1569597106, "creation_date": 1569435939, "question_id": 58104502, "link": "https://stackoverflow.com/questions/58104502/changing-multiple-attributes-of-a-data-class-with-a-lens", "title": "Changing multiple attributes of a data class with a Lens", "body": "<p>I am experimenting with <a href=\"https://arrow-kt.io/docs/optics/lens/\" rel=\"nofollow noreferrer\">Lenses</a> in Kotlin, and I was wondering if there is an elegant way to change multiple attributes at the same time for one object. Let's say my domain looks something like this:</p>\n\n<pre><code>@optics\ndata class Parameters(\n    val duration: Int,\n    val length: Int) {\n  companion object\n}\n\n@optics\ndata class Calculation(\n    val product: String\n    val parameters: Parameters) {\n  companion object\n}\n</code></pre>\n\n<p>thanks to the <code>@optics</code> annotations, editing single fields is easy to do:</p>\n\n<pre><code>val calculation = Calculation(product = \"prod\", Parameters(duration = 10, length = 15))\n\nCalculation.product.modify(calculation) { selectedProduct }\nCalculation.parameters.duration(calculation) { newDuration() }\nCalculation.parameters.length(calculation) { 10 }\n</code></pre>\n\n<p>These lenses work perfectly in isolation, but what is the right pattern to use when I want to apply the three transformations at once? I can use a <code>var</code> and just overwrite <code>calculation</code> every time, but that does not feel very idiomatic to me.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-toast"], "answers": [{"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": true, "score": 4, "last_activity_date": 1569435343, "last_edit_date": 1569435343, "creation_date": 1569434930, "answer_id": 58104265, "question_id": 58104225, "link": "https://stackoverflow.com/questions/58104225/resourcesnotfoundexception-string-resource-id-0x0-with-toast-maketext/58104265#58104265", "title": "Resources$NotFoundException: String resource ID #0x0 with Toast.makeText", "body": "<blockquote>\n  <p>android.content.res.Resources$NotFoundException: String resource ID #0x0</p>\n</blockquote>\n\n<p>Using <code>Toast.makeText(this, position, Toast.LENGTH_SHORT).show()</code> you are trying to use <a href=\"https://developer.android.com/reference/android/widget/Toast.html#makeText(android.content.Context,%20int,%20int)\" rel=\"nofollow noreferrer\">the method</a>:</p>\n\n<pre><code>public static Toast makeText (Context context, \n                int resId, \n                int duration)\n</code></pre>\n\n<p>where the resId represents <strong>the resource id</strong> of the string resource to use (as <code>R.string.xxxx)</code>.</p>\n\n<p>Use <strong><code>position.toString()</code></strong> to convert the int into a String:</p>\n\n<pre><code>Toast.makeText(this, position.toString(), Toast.LENGTH_SHORT)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 232, "user_id": 11977220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dRaM6.jpg?s=128&g=1", "display_name": "Manoj Kumar", "link": "https://stackoverflow.com/users/11977220/manoj-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1569436339, "creation_date": 1569436339, "answer_id": 58104590, "question_id": 58104225, "link": "https://stackoverflow.com/questions/58104225/resourcesnotfoundexception-string-resource-id-0x0-with-toast-maketext/58104590#58104590", "title": "Resources$NotFoundException: String resource ID #0x0 with Toast.makeText", "body": "<pre><code>Toast.makeText(ProjectActivity.this,  \"Your message here\",  Toast.LENGTH_SHORT).show();\n</code></pre>\n\n<p>The second parameter is <code>String</code> but you are using <code>Int</code> here, convert your <code>Int</code> to <code>String</code> will make work done\nex:</p>\n\n<pre><code>`Toast.makeText(this, position.toString(), Toast.LENGTH_SHORT).show()`\n\n\n\nToast.makeText(this, \"\"+position, Toast.LENGTH_SHORT).show()\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 11890737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/drGMX.jpg?s=128&g=1", "display_name": "Askani", "link": "https://stackoverflow.com/users/11890737/askani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 58104265, "answer_count": 2, "score": 1, "last_activity_date": 1569500791, "creation_date": 1569434740, "last_edit_date": 1569500791, "question_id": 58104225, "link": "https://stackoverflow.com/questions/58104225/resourcesnotfoundexception-string-resource-id-0x0-with-toast-maketext", "title": "Resources$NotFoundException: String resource ID #0x0 with Toast.makeText", "body": "<p>My app is getting crashed when i click on RecyclerView item, The Error is occurring Because of <code>Toast.make()</code>, when i comment or remove the <code>Toast</code> in <code>check(positon:Int)</code> function then it doesn't crash. It is only crashing while <code>Toast</code> is there. I search a lot for a fix but i couldn't find one, please help to fix this error</p>\n\n<pre><code>fun check(position: Int)\n{\n   Log.i(\"Check\", position.toString())\n   //if i remove the comment the app will crash\n   //Toast.makeText(this, position, Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<blockquote>\n  <p>Error: </p>\n</blockquote>\n\n<pre><code>W/ResourceType: No package identifier when getting value for resource number 0x00000000\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.firebase_image_upload, PID: 27287\n    android.content.res.Resources$NotFoundException: String resource ID #0x0\n        at android.content.res.Resources.getText(Resources.java:331)\n        at android.widget.Toast.makeText(Toast.java:287)\n        at com.example.firebase_image_upload.ImagesActivity$check$1.run(ImagesActivity.kt:63)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "broadcastreceiver", "intentservice"], "answers": [{"tags": [], "owner": {"reputation": 1171, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "is_accepted": false, "score": 1, "last_activity_date": 1569443365, "last_edit_date": 1569443365, "creation_date": 1569443006, "answer_id": 58106050, "question_id": 58104042, "link": "https://stackoverflow.com/questions/58104042/cancel-intent-service-from-broadcast-broadcastreceiver/58106050#58106050", "title": "cancel intent service from broadcast broadcastreceiver", "body": "<pre><code>val cancelIntent = Intent(ctx, EventsReceiver::class.java)\n</code></pre>\n\n<p>It's because you didn't specify the action (while creating the notification) so in here <code>when(intent?.action)</code>\nyou have different action then <code>Constants.ACTION_EVENT_CANCEL</code>.</p>\n\n<p>try using this:</p>\n\n<pre><code>val cancelIntent = Intent(Constants.ACTION_EVENT_CANCEL)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val cancelIntent = Intent(ctx, EventsReceiver::class.java)\ncancelIntent.action = Constants.ACTION_EVENT_CANCEL\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 2928241, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/877a945a09003d61faad155090a93b2c?s=128&d=identicon&r=PG&f=1", "display_name": "yasin", "link": "https://stackoverflow.com/users/2928241/yasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569443365, "creation_date": 1569433972, "question_id": 58104042, "link": "https://stackoverflow.com/questions/58104042/cancel-intent-service-from-broadcast-broadcastreceiver", "title": "cancel intent service from broadcast broadcastreceiver", "body": "<p>I'm sending a local notification with a cancel button and when I click it, I want to cancel my intent service but the event is not getting called.</p>\n\n<p>I can cancel the intent service using an activity, but when is from a notification, it is not working. </p>\n\n<p>My BroadcastReceiver (the Log is showing).</p>\n\n<pre><code>class EventsReceiver: BroadcastReceiver(){\n    var onEvent = {}\n    override fun onReceive(context: Context?, intent: Intent?) {\n        Log.i(\"EventsReceiver\", \"onReceive\")\n        when(intent?.action){\n            Constants.ACTION_EVENT_CANCEL -&gt; {\n                Log.i(\"EventsReceiver\", \"cancel\")\n                onEvent()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The onReceive is getting called when I click the notification button but when I call the onEvent(), the cancelTrip() function is not getting called.</p>\n\n<p>My Intent Service:</p>\n\n<pre><code>override fun onCreate() {\n        super.onCreate()\n        notificationHelper = NotificationHelper(this)\n        receiver = EventsReceiver ()\n        receiver.onEvent = {\n            cancelTrip()\n        }\n        LocalBroadcastManager.getInstance(this).registerReceiver(receiver, IntentFilter(Constants.ACTION_EVENT_CANCEL))\n    }\n</code></pre>\n\n<p>The activity function that cancels the intent service:</p>\n\n<pre><code>private fun cancel(){\n        val intent = Intent()\n        intent.setAction(Constants.ACTION_EVENT_CANCEL)\n        LocalBroadcastManager.getInstance(this).sendBroadcast(intent)\n    }\n</code></pre>\n\n<p>How I create my local notification: </p>\n\n<pre><code>val notif = NotificationCompat.Builder(ctx,NOTIFICATION_CHANNEL_ID)\n        notif.setContentTitle(\"My App\")\n        notif.setContentText(\"Canceled trip\")\n        notif.setSmallIcon(R.drawable.ic_launcher_foreground)\n        val notifIntent = Intent(ctx, MenuActivity::class.java)\n        val pendingIntent = PendingIntent.getActivity(ctx,0,notifIntent,0)\n        notif.setContentIntent(pendingIntent)\n        val cancelIntent = Intent(ctx, EventsReceiver::class.java)\n        val cancelPendingIntent = PendingIntent.getBroadcast(ctx,0,cancelIntent,PendingIntent.FLAG_CANCEL_CURRENT)\n        notif.addAction(R.mipmap.ic_launcher, ctx.getString(R.string.cancel_trip), cancelPendingIntent)\n        service.notify(NOTIFICATION_CANCEL_ID, notif.build()) \n</code></pre>\n"}, {"tags": ["encryption", "kotlin", "cryptography", "certificate", "diffie-hellman"], "comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1569448864, "post_id": 58103061, "comment_id": 102604756, "body": "Could you try specifying <code>&quot;EC&quot;</code> or even <code>&quot;ECDSA&quot;</code> for the key pair generator? Because those keys are identical <i>but for</i> the algorithm spec. Then you can get the private key and hopefully it will still work for your key agreement. You could also create a two cert chain where you create a ECDH certificate and sign it with a self signed ECDSA based certificate, but that seems more work, and I don&#39;t know if ECDH based certs are supported by the cert builder."}, {"owner": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 0, "creation_date": 1569468189, "post_id": 58103061, "comment_id": 102608323, "body": "Key(pair) type EC usable for both algorithms ECDSA and ECDH is definitely correct for <i>BouncyCastle</i> (as well as SunEC) in JavaSE. Normally it&#39;s best practice for ECDH cert to have KeyUsage extension set to permit keyAgree and prohibit digSign, but if you&#39;re never sharing this cert it doesn&#39;t matter. A selfsigned cert <i>should</i> have issuer=subject, but you&#39;ve used CN (which is common) in one and DN (which is different and exceedingly rare) in the other."}], "answers": [{"comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 1, "creation_date": 1570361023, "post_id": 58217561, "comment_id": 102882521, "body": "Beware that just using AES - the block cipher - doesn&#39;t mean that the entire solution is secure, per se. There can be issues with the implementation of AES on the platform or the protocol that you&#39;ve devised may not be secure. I&#39;m not saying that it is, but the common &quot;AES thus secure&quot; argument doesn&#39;t necessarily hold and often doesn&#39;t hold."}], "tags": [], "owner": {"reputation": 51, "user_id": 10716457, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4UFjma_n8A/AAAAAAAAAAI/AAAAAAAABOo/HJy0NDrme4w/photo.jpg?sz=128", "display_name": "Martichou", "link": "https://stackoverflow.com/users/10716457/martichou"}, "is_accepted": true, "score": 0, "last_activity_date": 1570099783, "creation_date": 1570099783, "answer_id": 58217561, "question_id": 58103061, "link": "https://stackoverflow.com/questions/58103061/get-x-509-certificate-ecdh-private-and-public-key-on-android-java-kotlin/58217561#58217561", "title": "Get X.509 Certificate ECDH private and public key on Android (Java/Kotlin)", "body": "<p>Okay so the way I worked around this problem is by saving the encrypted private key in sharedpref. I know it's not the best but I've encrypted it using an AES key which is handled by the Android Key Store. Unless AES is cracked, there is no way to decrypt this without the key.</p>\n"}], "migrated_from": {"other_site": {"aliases": ["http://cryptography.stackexchange.com"], "markdown_extensions": ["MathJax"], "launch_date": 1435671420, "open_beta_date": 1312315906, "closed_beta_date": 1310497200, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/crypto/Img/apple-touch-icon@2.png", "twitter_account": "StackCrypto", "favicon_url": "https://cdn.sstatic.net/Sites/crypto/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/crypto/Img/apple-touch-icon.png", "audience": "software developers, mathematicians and others interested in cryptography", "site_url": "https://crypto.stackexchange.com", "api_site_parameter": "crypto", "logo_url": "https://cdn.sstatic.net/Sites/crypto/Img/logo.png", "name": "Cryptography", "site_type": "main_site"}, "on_date": 1569429866, "question_id": 74602}, "owner": {"reputation": 51, "user_id": 10716457, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U4UFjma_n8A/AAAAAAAAAAI/AAAAAAAABOo/HJy0NDrme4w/photo.jpg?sz=128", "display_name": "Martichou", "link": "https://stackoverflow.com/users/10716457/martichou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 1, "accepted_answer_id": 58217561, "answer_count": 1, "score": 1, "last_activity_date": 1570360896, "creation_date": 1569429194, "last_edit_date": 1570360896, "question_id": 58103061, "link": "https://stackoverflow.com/questions/58103061/get-x-509-certificate-ecdh-private-and-public-key-on-android-java-kotlin", "title": "Get X.509 Certificate ECDH private and public key on Android (Java/Kotlin)", "body": "<p>I'm currently trying to implement a ECDH algorithm in my android app.\nBut I'm facing an issue, I would like to store the private and public key in Android KeyStore. However in order to achieve this I need to get a certificate for my keyPair. And that's where I'm stuck.</p>\n\n<p>I cannot get a correct Certificate which will be allowed by Android KeyStore to be used.</p>\n\n<p>Here is how I generate the key (stripped down version)</p>\n\n<pre><code>    val ecParamSpec = ECGenParameterSpec(\"secp521r1\")\n    val keyPairGenerator = KeyPairGenerator.getInstance(\"ECDH\", \"SC\")\n    keyPairGenerator.initialize(ecParamSpec, SecureRandom())\n\n    val keyPair = keyPairGenerator.generateKeyPair()\n\n    val privateKey = keyPair.private\n    val publicKey = keyPair.public\n</code></pre>\n\n<p>And for the Certificate I tried this (used SHA256WithECDSA)</p>\n\n<pre><code>    val startDate = Calendar.getInstance()\n    val endDate = Calendar.getInstance().apply {\n        add(Calendar.YEAR, 20)\n    }\n    val certBuilder = X509v3CertificateBuilder(\n        X500Name(\"CN=MASTERKEY CA Certificate\"),\n        BigInteger.valueOf(System.currentTimeMillis()),\n        startDate.time,\n        endDate.time,\n        X500Name(\"DN=MASTERKEY CA Certificate\"),\n        SubjectPublicKeyInfo.getInstance(keyPair.public.encoded)\n    )\n    val builder = JcaContentSignerBuilder(\"SHA256WithECDSA\")\n    val signer = builder.build(keyPair.private)\n    val certBytes = certBuilder.build(signer).encoded\n    val certificateFactory = CertificateFactory.getInstance(\"X.509\")\n\n    val certificate = certificateFactory.generateCertificate(ByteArrayInputStream(certBytes)) as X509Certificate\n</code></pre>\n\n<p>And this is easily understandable that this won't work since the JcaContentSignerBuilder algorithm isn't the same as the KeyPairGenerator. And that's where Android KeyStore start telling me something is wrong.</p>\n\n<pre><code>java.lang.IllegalArgumentException: private key algorithm does not match algorithm of public key in end entity certificate (at index 0)\n</code></pre>\n\n<p>I used this code to try to store the key in the Android KeyStore</p>\n\n<pre><code>keyStore.setEntry(\"MASTERKEY\", KeyStore.PrivateKeyEntry(key[DH.PRIVATE_KEY] as PrivateKey, arrayOf(key[DH.CERTIFICATE] as Certificate)),\n                        KeyProtection.Builder(KeyProperties.PURPOSE_DECRYPT or KeyProperties.PURPOSE_ENCRYPT or KeyProperties.PURPOSE_SIGN).setDigests(KeyProperties.DIGEST_SHA256, KeyProperties.DIGEST_SHA512)\n                            .build())\n</code></pre>\n\n<p>I'm using <strong>spongycastle</strong> in case you're asking.</p>\n\n<p>If anyone is able to help me, I'll be very grateful ! \nThanks all.</p>\n"}, {"tags": ["android", "opencv", "kotlin", "android-camerax"], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 1319743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2081847d7f662643b83b72d7ca3ff9e0?s=128&d=identicon&r=PG", "display_name": "Alexander Matveev", "link": "https://stackoverflow.com/users/1319743/alexander-matveev"}, "edited": false, "score": 1, "creation_date": 1587229640, "post_id": 58102744, "comment_id": 108431141, "body": "Getting java.lang.UnsatisfiedLinkError: No implementation found for long org.opencv.core.Mat.n_Mat() (tried Java_org_opencv_core_Mat_n_1Mat and Java_org_opencv_core_Mat_n_1Mat__)"}], "tags": [], "owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "is_accepted": true, "score": 8, "last_activity_date": 1569514937, "last_edit_date": 1569514937, "creation_date": 1569428606, "answer_id": 58102744, "question_id": 58102717, "link": "https://stackoverflow.com/questions/58102717/android-camerax-analyzer-image-with-format-yuv-420-888-to-opencv-mat/58102744#58102744", "title": "Android CameraX Analyzer Image with format YUV_420_888 to OpenCV Mat", "body": "<p>Looking at OpenCV <a href=\"https://github.com/opencv/opencv/blob/master/modules/java/generator/android-21/java/org/opencv/android/JavaCamera2View.java\" rel=\"noreferrer\">JavaCamera2Frame</a> class in its GitHub repo you can write an <code>Image</code> extension function like that:</p>\n\n<p>(ported to Kotlin)</p>\n\n<pre><code>// Ported from opencv private class JavaCamera2Frame\nfun Image.yuvToRgba(): Mat {\n  val rgbaMat = Mat()\n\n  if (format == ImageFormat.YUV_420_888\n      &amp;&amp; planes.size == 3) {\n\n    val chromaPixelStride = planes[1].pixelStride\n\n    if (chromaPixelStride == 2) { // Chroma channels are interleaved\n      assert(planes[0].pixelStride == 1)\n      assert(planes[2].pixelStride == 2)\n      val yPlane = planes[0].buffer\n      val uvPlane1 = planes[1].buffer\n      val uvPlane2 = planes[2].buffer\n      val yMat = Mat(height, width, CvType.CV_8UC1, yPlane)\n      val uvMat1 = Mat(height / 2, width / 2, CvType.CV_8UC2, uvPlane1)\n      val uvMat2 = Mat(height / 2, width / 2, CvType.CV_8UC2, uvPlane2)\n      val addrDiff = uvMat2.dataAddr() - uvMat1.dataAddr()\n      if (addrDiff &gt; 0) {\n        assert(addrDiff == 1L)\n        Imgproc.cvtColorTwoPlane(yMat, uvMat1, rgbaMat, Imgproc.COLOR_YUV2RGBA_NV12)\n      } else {\n        assert(addrDiff == -1L)\n        Imgproc.cvtColorTwoPlane(yMat, uvMat2, rgbaMat, Imgproc.COLOR_YUV2RGBA_NV21)\n      }\n    } else { // Chroma channels are not interleaved\n      val yuvBytes = ByteArray(width * (height + height / 2))\n      val yPlane = planes[0].buffer\n      val uPlane = planes[1].buffer\n      val vPlane = planes[2].buffer\n\n      yPlane.get(yuvBytes, 0, width * height)\n\n      val chromaRowStride = planes[1].rowStride\n      val chromaRowPadding = chromaRowStride - width / 2\n\n      var offset = width * height\n      if (chromaRowPadding == 0) {\n        // When the row stride of the chroma channels equals their width, we can copy\n        // the entire channels in one go\n        uPlane.get(yuvBytes, offset, width * height / 4)\n        offset += width * height / 4\n        vPlane.get(yuvBytes, offset, width * height / 4)\n      } else {\n        // When not equal, we need to copy the channels row by row\n        for (i in 0 until height / 2) {\n          uPlane.get(yuvBytes, offset, width / 2)\n          offset += width / 2\n          if (i &lt; height / 2 - 1) {\n            uPlane.position(uPlane.position() + chromaRowPadding)\n          }\n        }\n        for (i in 0 until height / 2) {\n          vPlane.get(yuvBytes, offset, width / 2)\n          offset += width / 2\n          if (i &lt; height / 2 - 1) {\n            vPlane.position(vPlane.position() + chromaRowPadding)\n          }\n        }\n      }\n\n      val yuvMat = Mat(height + height / 2, width, CvType.CV_8UC1)\n      yuvMat.put(0, 0, yuvBytes)\n      Imgproc.cvtColor(yuvMat, rgbaMat, Imgproc.COLOR_YUV2RGBA_I420, 4)\n    }\n  }\n\n  return rgbaMat\n}\n</code></pre>\n\n<p>And so you can write:</p>\n\n<pre><code>override fun analyze(imageProxy: ImageProxy, rotationDegrees: Int) {\n    try {\n      imageProxy.image?.let {\n        // ImageProxy uses an ImageReader under the hood:\n        // https://developer.android.com/reference/androidx/camera/core/ImageProxy.html\n        // That has a default format of YUV_420_888 if not changed that's the default\n        // Android camera format.\n        // https://developer.android.com/reference/android/graphics/ImageFormat.html#YUV_420_888\n        // https://developer.android.com/reference/android/media/ImageReader.html\n\n        // Sanity check\n        if (it.format == ImageFormat.YUV_420_888\n            &amp;&amp; it.planes.size == 3\n        ) {        \n          val rgbaMat = it.yuvToRgba()\n        } else {\n          // Manage other image formats\n          // TODO - https://developer.android.com/reference/android/media/Image.html\n        }\n      }\n    } catch (ise: IllegalStateException) {\n      ise.printStackTrace()\n    }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "edited": false, "score": 0, "creation_date": 1596366937, "post_id": 63210602, "comment_id": 111783546, "body": "I do need to get the Mat. [-;"}], "tags": [], "owner": {"reputation": 727, "user_id": 4929443, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SS8jMQ7UO4A/AAAAAAAAAAI/AAAAAAAAABI/dWX9oF5-DZg/photo.jpg?sz=128", "display_name": "gordinmitya", "link": "https://stackoverflow.com/users/4929443/gordinmitya"}, "is_accepted": false, "score": 1, "last_activity_date": 1596320615, "creation_date": 1596320615, "answer_id": 63210602, "question_id": 58102717, "link": "https://stackoverflow.com/questions/58102717/android-camerax-analyzer-image-with-format-yuv-420-888-to-opencv-mat/63210602#63210602", "title": "Android CameraX Analyzer Image with format YUV_420_888 to OpenCV Mat", "body": "<p>@shadowsheep solution is just fine if you need to get OpenCV Mat.</p>\n<p>but if you want to get Bitmap and don't want to add opencv library into you project you can take a look at RenderScript solution in <a href=\"https://github.com/android/camera-samples/blob/3730442b49189f76a1083a98f3acf3f5f09222a3/CameraUtils/lib/src/main/java/com/example/android/camera/utils/YuvToRgbConverter.kt\" rel=\"nofollow noreferrer\">android/camera-samples repo</a></p>\n<p>Also I made single Java file library at <a href=\"https://github.com/gordinmitya/yuv2buf\" rel=\"nofollow noreferrer\">github</a>. It will be useful if you want to get correct ByteBuffer without any row or pixel strides for futher processing (for instance with neural network engine).</p>\n<p>I also <a href=\"https://github.com/gordinmitya/yuv2buf/blob/master/README.md\" rel=\"nofollow noreferrer\">compared</a> all these approaches. OpenCV is the fastest.</p>\n"}, {"tags": [], "owner": {"reputation": 289, "user_id": 6417843, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y_6Dz26RipM/AAAAAAAAAAI/AAAAAAAAABQ/U0I8KvYoTmE/photo.jpg?sz=128", "display_name": "Jashan Chakkal", "link": "https://stackoverflow.com/users/6417843/jashan-chakkal"}, "is_accepted": false, "score": 1, "last_activity_date": 1618302866, "last_edit_date": 1618302866, "creation_date": 1618302508, "answer_id": 67071269, "question_id": 58102717, "link": "https://stackoverflow.com/questions/58102717/android-camerax-analyzer-image-with-format-yuv-420-888-to-opencv-mat/67071269#67071269", "title": "Android CameraX Analyzer Image with format YUV_420_888 to OpenCV Mat", "body": "<pre><code> private Mat convertYUVtoMat(@NonNull Image img) {\n    byte[] nv21;\n\n    ByteBuffer yBuffer = img.getPlanes()[0].getBuffer();\n    ByteBuffer uBuffer = img.getPlanes()[1].getBuffer();\n    ByteBuffer vBuffer = img.getPlanes()[2].getBuffer();\n\n    int ySize = yBuffer.remaining();\n    int uSize = uBuffer.remaining();\n    int vSize = vBuffer.remaining();\n\n    nv21 = new byte[ySize + uSize + vSize];\n\n    yBuffer.get(nv21, 0, ySize);\n    vBuffer.get(nv21, ySize, vSize);\n    uBuffer.get(nv21, ySize + vSize, uSize);\n\n    Mat yuv = new Mat(img.getHeight() + img.getHeight()/2, img.getWidth(), CvType.CV_8UC1);\n    yuv.put(0, 0, nv21);\n    Mat rgb = new Mat();\n    Imgproc.cvtColor(yuv, rgb, Imgproc.COLOR_YUV2RGB_NV21, 3);\n    Core.rotate(rgb, rgb, Core.ROTATE_90_CLOCKWISE);\n    return  rgb;\n}\n</code></pre>\n<p>This method converts the Camerax API YUV_420_888 image to OpenCV's Mat (RGB) object.\n(Working 2021)</p>\n"}], "owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2740, "favorite_count": 1, "accepted_answer_id": 58102744, "answer_count": 3, "score": 5, "last_activity_date": 1618302866, "creation_date": 1569428457, "last_edit_date": 1569514958, "question_id": 58102717, "link": "https://stackoverflow.com/questions/58102717/android-camerax-analyzer-image-with-format-yuv-420-888-to-opencv-mat", "title": "Android CameraX Analyzer Image with format YUV_420_888 to OpenCV Mat", "body": "<p>With <strong>Android CameraX Analyzer</strong> <code>ImageProxy</code> uses <code>ImageReader</code> under the hood with a default <code>YUV_420_888</code> image format.</p>\n\n<p>I'd like to convert it in OpenCV <code>Mat</code> in order to use OpenCV inside my analyzer:</p>\n\n<pre><code>override fun analyze(imageProxy: ImageProxy, rotationDegrees: Int) {\n    try {\n      imageProxy.image?.let {\n        // ImageProxy uses an ImageReader under the hood:\n        // https://developer.android.com/reference/androidx/camera/core/ImageProxy.html\n        // That has a default format of YUV_420_888 if not changed that's the default\n        // Android camera format.\n        // https://developer.android.com/reference/android/graphics/ImageFormat.html#YUV_420_888\n        // https://developer.android.com/reference/android/media/ImageReader.html\n\n        // Sanity check\n        if (it.format == ImageFormat.YUV_420_888\n            &amp;&amp; it.planes.size == 3\n        ) {\n           // TODO - convert ImageProxy.image to Mat\n        } else {\n          // Manage other image formats\n          // TODO - https://developer.android.com/reference/android/media/Image.html\n        }\n      }\n    } catch (ise: IllegalStateException) {\n      ise.printStackTrace()\n    }\n  }\n</code></pre>\n\n<p>How can I do that?</p>\n"}, {"tags": ["android", "opencv", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "is_accepted": true, "score": 1, "last_activity_date": 1569427635, "creation_date": 1569427635, "answer_id": 58102518, "question_id": 58102486, "link": "https://stackoverflow.com/questions/58102486/opencv-utils-mattobitmap-assertion-failed-androidbitmap-lockpixelsenv-bitmap/58102518#58102518", "title": "OpenCV Utils.matToBitmap: Assertion failed AndroidBitmap_lockPixels(env, bitmap, &amp;pixels) &gt;= 0 if Bitmap is created with ImageDecoder.createSource", "body": "<p>Looking at <a href=\"https://developer.android.com/reference/android/graphics/ImageDecoder\" rel=\"nofollow noreferrer\"><code>ImageDecoder</code></a> official doc, you can read:</p>\n\n<blockquote>\n  <p>By default, a Bitmap created by ImageDecoder (including one that is\n  inside a Drawable)\n        will be immutable (i.e. Bitmap#isMutable returns false), and it will typically\n        have Config Bitmap.Config#HARDWARE. Although these properties can be changed\n        with setMutableRequired(true)</p>\n</blockquote>\n\n<p>So changing the extension function by adding</p>\n\n<p><code>setMutableRequired(true)</code></p>\n\n<p>In this way:</p>\n\n<pre><code>fun Uri.getBitmap(resolver: ContentResolver): Bitmap {\n  if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.P) {\n    @Suppress(\"DEPRECATION\")\n    return MediaStore.Images.Media.getBitmap(resolver, this)\n  } else {\n    // https://developer.android.com/reference/android/graphics/ImageDecoder\n    // CvException [org.opencv.core.CvException: OpenCV(4.1.1) /build/master_pack-android/opencv/modules/java/generator/src/cpp/utils.cpp:38: error: (-215:Assertion failed) AndroidBitmap_lockPixels(env, bitmap, &amp;pixels) &gt;= 0\n    /*\n      By default, a Bitmap created by ImageDecoder (including one that is inside a Drawable)\n      will be immutable (i.e. Bitmap#isMutable returns false), and it will typically\n      have Config Bitmap.Config#HARDWARE. Although these properties can be changed\n      with setMutableRequired(true)\n     */\n    val source = ImageDecoder.createSource(resolver, this)\n    return ImageDecoder.decodeBitmap(source) { decoder, _, _ -&gt;\n      decoder.isMutableRequired = true\n    }\n  }\n}\n</code></pre>\n\n<p>The issue is gone!</p>\n"}], "owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 58102518, "answer_count": 1, "score": 0, "last_activity_date": 1570007419, "creation_date": 1569427516, "last_edit_date": 1570007419, "question_id": 58102486, "link": "https://stackoverflow.com/questions/58102486/opencv-utils-mattobitmap-assertion-failed-androidbitmap-lockpixelsenv-bitmap", "title": "OpenCV Utils.matToBitmap: Assertion failed AndroidBitmap_lockPixels(env, bitmap, &amp;pixels) &gt;= 0 if Bitmap is created with ImageDecoder.createSource", "body": "<p>I've this extension function in order to create a Bitmap from a Uri</p>\n\n<pre><code>fun Uri.getBitmap(resolver: ContentResolver): Bitmap {\n  if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.P) {\n    @Suppress(\"DEPRECATION\")\n    return MediaStore.Images.Media.getBitmap(resolver, this)\n  } else {\n    val source = ImageDecoder.createSource(resolver, this)\n    return ImageDecoder.decodeBitmap(source)\n  }\n}\n</code></pre>\n\n<p>In <code>Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P</code>, so when I use <code>ImageDecoder.createSource</code> I get this exception:</p>\n\n<pre><code>CvException [org.opencv.core.CvException: OpenCV(4.1.1) /build/master_pack-android/opencv/modules/java/generator/src/cpp/utils.cpp:38: error: (-215:Assertion failed) AndroidBitmap_lockPixels(env, bitmap, &amp;pixels) &gt;= 0\n</code></pre>\n\n<p>While on <code>Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.P</code>, so using <code>MediaStore.Images.Media.getBitmap</code>, all works fine.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["android", "kotlin", "junit", "android-testing", "mockk"], "answers": [{"tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": true, "score": 1, "last_activity_date": 1569730677, "last_edit_date": 1569730677, "creation_date": 1569730320, "answer_id": 58152176, "question_id": 58102356, "link": "https://stackoverflow.com/questions/58102356/how-to-view-compiled-jar-file-in-android-studio-for-top-level-mocking/58152176#58152176", "title": "How to View Compiled Jar File in Android Studio for Top-Level Mocking?", "body": "<p><a href=\"https://stackoverflow.com/users/3742196/oleksiyp\">oleksiyp</a> notes in <a href=\"https://github.com/mockk/mockk/issues/357#issuecomment-536158995\" rel=\"nofollow noreferrer\">this GitHub issue</a> that the Jar may be found under the build directory in Android Studio.</p>\n\n<ol>\n<li>In the Android Studio navigation window switch the view from Android to Project mode.</li>\n<li>Go to directory <em>app</em> > <em>build</em> > <em>outputs</em> > <em>apk</em> > <em>debug</em> > <em>app-debug.apk</em></li>\n<li>In <em>app-debug.apk</em> if there are multiple <em>classes.dex</em> files such as <em>classes.dex2</em> and <em>classes.dex3</em>, find the one with your app's classes inside of it (ie - <em>classes.dex2</em> > <em>app</em> > <em>yourAppName</em>.</li>\n<li>Under each class name it shows a list of the methods created in Java from Kotlin. \ud83e\uddd9\u200d\u2642</li>\n</ol>\n\n<p>Using the <a href=\"https://github.com/AdamSHurwitz/Coinverse\" rel=\"nofollow noreferrer\">Coinverse Open App</a> as a sample here are the methods generated for the <em>ContentViewModel</em>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/axlJw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axlJw.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 58152176, "answer_count": 1, "score": 1, "last_activity_date": 1569730677, "creation_date": 1569427044, "question_id": 58102356, "link": "https://stackoverflow.com/questions/58102356/how-to-view-compiled-jar-file-in-android-studio-for-top-level-mocking", "title": "How to View Compiled Jar File in Android Studio for Top-Level Mocking?", "body": "<p><strong>How may the compiled Jar file for an Android app built with Android Studio be accessed?</strong> </p>\n\n<p><em>Use case</em> - <a href=\"https://mockk.io\" rel=\"nofollow noreferrer\">MockK</a> for JUnit 5 local unit testing in Kotlin, viewing the output of Kotlin  compiled to Java.</p>\n\n<p><em>Android Studio version</em> - <strong>3.5</strong></p>\n\n<p>@oleksiyp, <a href=\"https://blog.kotlin-academy.com/mocking-is-not-rocket-science-mockk-advanced-features-42277e5983b5#6cb5\" rel=\"nofollow noreferrer\">outlines here</a>, how top-level functions are compiled into Java in this Medium series and in this <a href=\"https://stackoverflow.com/a/52894755/2253682\">StackOverflow post</a>. </p>\n\n<p>Examining how the Kotlin files are compiled into Java will allow for mocking more advanced top-level functions where the output is not as straightforward as the below.</p>\n\n<blockquote>\n  <p>For instance, the following example:</p>\n\n<pre><code>// Code.kt source file \npackage pkg\nfun lowercase(str: String): String {...}\n</code></pre>\n  \n  <p>translates to:</p>\n\n<pre><code>package pkg;\nclass CodeKt {\n    public static String lowercase(String str) {...}\n} \n</code></pre>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 780, "user_id": 4724129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HVtz3.jpg?s=128&g=1", "display_name": "Clement Osei Tano", "link": "https://stackoverflow.com/users/4724129/clement-osei-tano"}, "edited": false, "score": 0, "creation_date": 1569426228, "post_id": 58102055, "comment_id": 102595790, "body": "Post a snippet on the code you want to use to achieve this"}], "answers": [{"tags": [], "owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1569428510, "last_edit_date": 1569428510, "creation_date": 1569428107, "answer_id": 58102641, "question_id": 58102055, "link": "https://stackoverflow.com/questions/58102055/insert-list-of-data-in-db-through-arraylist/58102641#58102641", "title": "Insert List of Data in DB through Arraylist", "body": "<pre><code> Create a Dao for UserDetailDao  `\n        @Dao\n        interface UserDetailDao {\n        @Insert(onConflict = OnConflictStrategy.REPLACE)\n            fun insert(userDetails: User)`\n\n//If you want to update or insert a lists then you can do as\n     @Transaction\n        suspend fun insertUserDetails( userDetails: List&lt;User&gt;) {\n            // delete your row on basis of primary key\n            // then iterate list and insert \n            userDetails.forEach {\n                insert(it)\n            }\n        }\n     }\n</code></pre>\n\n<p>and then in your repository class or viewmodel you can update your table</p>\n\n<pre><code>var userDetails = User()\n\nuserDetails.username = \"Karthik\"\n</code></pre>\n\n<p>and then use </p>\n\n<pre><code>dao.insert(userDetails)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4038861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XrFPK.jpg?s=128&g=1", "display_name": "Karthikeyan D S", "link": "https://stackoverflow.com/users/4038861/karthikeyan-d-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569428510, "creation_date": 1569425901, "question_id": 58102055, "link": "https://stackoverflow.com/questions/58102055/insert-list-of-data-in-db-through-arraylist", "title": "Insert List of Data in DB through Arraylist", "body": "<p>I am trying to insert the set of data in the Room Db with list of Users, i am not able to pass the data to the entity Class. is there anyway to insert the data please help me out. Thank You.</p>\n\n<p>var userDetails = User()</p>\n\n<p>userDetails.username = \"Karthik\"</p>\n\n<p>i am not able to assign the \"Karthik\" to userName.</p>\n"}, {"tags": ["android", "kotlin", "android-camera", "background-process", "kill-process"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1569423061, "post_id": 58101075, "comment_id": 102593905, "body": "I&#39;m rather glad applications don&#39;t have direct access over other applications like this unless they are either root or system app."}, {"owner": {"reputation": 21449, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 2, "creation_date": 1570030366, "post_id": 58101075, "comment_id": 102787662, "body": "Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 960, "user_id": 9024123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HvSzW.jpg?s=128&g=1", "display_name": "Rj_Innocent_Coder", "link": "https://stackoverflow.com/users/9024123/rj-innocent-coder"}, "is_accepted": true, "score": 1, "last_activity_date": 1569423853, "creation_date": 1569423853, "answer_id": 58101448, "question_id": 58101075, "link": "https://stackoverflow.com/questions/58101075/android-kill-camera-process-in-the-background/58101448#58101448", "title": "Android - Kill camera process in the background", "body": "<p>You can not do it with the regular app, and one thing you can do it try implementing the device manager.\nyou can use <a href=\"https://developer.android.com/guide/topics/admin/device-admin.html\" rel=\"nofollow noreferrer\">DeviceAdministration class</a> to <strong>control the camera source</strong>(block and unblock). \nCheck out this <a href=\"https://github.com/barneyElDinosaurio/LockCamera\" rel=\"nofollow noreferrer\">Github repo</a> with an example.</p>\n"}], "owner": {"reputation": 1739, "user_id": 2493252, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/8vxkI.png?s=128&g=1", "display_name": "AlexDG", "link": "https://stackoverflow.com/users/2493252/alexdg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "closed_date": 1570089513, "accepted_answer_id": 58101448, "answer_count": 1, "score": 1, "last_activity_date": 1570030348, "creation_date": 1569422705, "last_edit_date": 1570030348, "question_id": 58101075, "link": "https://stackoverflow.com/questions/58101075/android-kill-camera-process-in-the-background", "closed_reason": "Duplicate", "title": "Android - Kill camera process in the background", "body": "<p>Nowadays how does it work to kill the camera process in the background? </p>\n\n<p>I tried a couple of solutions:</p>\n\n<pre><code>val pid = Process.getUidForName(\"camera\")\nProcess.killProcess(pid)\n\nor\n\nactivityManager.killBackgroundProcesses(\"com.android.camera\");\n</code></pre>\n\n<p>I'm also using the kill background process permission in my Manifest: <code>android.permission.KILL_BACKGROUND_PROCESSES</code></p>\n\n<p>I also tried to figure out how I could get all the background processes running with <code>activityManger.runningAppProcesses</code> but this code only return an array with my current active app, I can't see the camera or anything else. </p>\n\n<p>Although with the <code>PackageManager</code> I managed to get all app installed on the phone and check if they are flagged has \"stopped\" or not so I can filter which one is running or not. But still the <code>Process.killprocess</code> is not working. I guess I'm missing some permissions to make it work.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1569422465, "post_id": 58100739, "comment_id": 102593566, "body": "<i>Im doing this the right way?</i> no, this is not feasible for more complex data. You can probably create a JSONObject from a string directly. Try <code>JSONObject(data)</code>"}, {"owner": {"reputation": 585, "user_id": 10246652, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-n6W7f3k_2RM/AAAAAAAAAAI/AAAAAAAAEis/S795sN8JEGA/photo.jpg?sz=128", "display_name": "Hritik Gupta", "link": "https://stackoverflow.com/users/10246652/hritik-gupta"}, "edited": false, "score": 0, "creation_date": 1569422923, "post_id": 58100739, "comment_id": 102593826, "body": "You should check this thread. <a href=\"https://stackoverflow.com/questions/51777441/convert-stringified-json-to-jsonarray-using-kotlin-in-android][1]\" title=\"convert stringified json to jsonarray using kotlin in android%5d%5b1%5d\">stackoverflow.com/questions/51777441/&hellip;</a>"}, {"owner": {"reputation": 1171, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "edited": false, "score": 0, "creation_date": 1569426491, "post_id": 58100739, "comment_id": 102595933, "body": "If one of the answers was helpful for you then I suggest you to mark it as accepted below the voting."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 8358502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6270643596456b1e1bf4dea4f78cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Luippo", "link": "https://stackoverflow.com/users/8358502/luippo"}, "edited": false, "score": 0, "creation_date": 1569435833, "post_id": 58101247, "comment_id": 102599957, "body": "Thanks, the tutorials and update apart was ver usefull!"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1569437667, "post_id": 58101247, "comment_id": 102600706, "body": "in all honesty gson should be part of android by now"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1569485331, "post_id": 58101247, "comment_id": 102614377, "body": "Or Moshi (see <a href=\"https://stackoverflow.com/questions/43577623/moshi-vs-gson-in-android\" title=\"moshi vs gson in android\">stackoverflow.com/questions/43577623/moshi-vs-gson-in-androi&zwnj;&#8203;d</a> and <a href=\"https://www.reddit.com/r/androiddev/comments/684flw/why_use_moshi_over_gson/dgx3gpm/\" rel=\"nofollow noreferrer\">reddit.com/r/androiddev/comments/684flw/why_use_moshi_over_g&zwnj;&#8203;son/&hellip;</a> in particular)"}], "tags": [], "owner": {"reputation": 1171, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "is_accepted": true, "score": 13, "last_activity_date": 1569427373, "last_edit_date": 1569427373, "creation_date": 1569423233, "answer_id": 58101247, "question_id": 58100739, "link": "https://stackoverflow.com/questions/58100739/how-to-generate-a-json-object-in-kotlin/58101247#58101247", "title": "how to generate a json object in kotlin?", "body": "<p>Welcome to StackOverflow!</p>\n\n<p>In 2019 no-one is really parsing JSON manually. It's much easier to use <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Gson</a> library. It takes as an input your object and spits out JSON string and vice-versa.</p>\n\n<p>Example:</p>\n\n<pre><code>data class MyClass(@SerializedName(\"s1\") val s1: Int)\n\nval myClass: MyClass = Gson().fromJson(data, MyClass::class.java)\nval outputJson: String = Gson().toJson(myClass)\n</code></pre>\n\n<p>This way you're not working with JSON string directly but rather with Kotlin object which is type-safe and more convenient.\nLook at the docs. It's pretty big and easy to understand</p>\n\n<p>Here is some tutorials:</p>\n\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=f-kcvxYZrB4\" rel=\"noreferrer\">https://www.youtube.com/watch?v=f-kcvxYZrB4</a></li>\n<li><a href=\"http://www.studytrails.com/java/json/java-google-json-introduction/\" rel=\"noreferrer\">http://www.studytrails.com/java/json/java-google-json-introduction/</a></li>\n<li><a href=\"https://www.tutorialspoint.com/gson/index.htm\" rel=\"noreferrer\">https://www.tutorialspoint.com/gson/index.htm</a></li>\n</ul>\n\n<p><strong>UPDATE</strong>: If you really want to use JSONObject then use its constructor with a string parameter which parses your JSON string automatically.</p>\n\n<pre><code>val jsonObject = JSONObject(data)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1255, "user_id": 720611, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e5c5eb1147dff8741f3620119c5d72c?s=128&d=identicon&r=PG", "display_name": "Takermania", "link": "https://stackoverflow.com/users/720611/takermania"}, "is_accepted": false, "score": 2, "last_activity_date": 1569424758, "last_edit_date": 1569424758, "creation_date": 1569424345, "answer_id": 58101610, "question_id": 58100739, "link": "https://stackoverflow.com/questions/58100739/how-to-generate-a-json-object-in-kotlin/58101610#58101610", "title": "how to generate a json object in kotlin?", "body": "<p>I am adding 3 templates here for Kotlin Developers, It will solve json converting &amp; parsing problems.</p>\n\n<pre><code>//Json Array template\n{\n  \"json_id\": \"12.4\",\n  \"json_name\": \"name of the array\",\n  \"json_image\": \"https://image_path\",\n  \"json_description\": \"Description of the Json Array\"\n}\n</code></pre>\n\n<p>Kotlin Model class</p>\n\n<pre><code>data class JsonDataParser(\n  @SerializedName(\"json_id\") val id: Long, \n  @SerializedName(\"json_name\") val name: String, \n  @SerializedName(\"json_image\") val image: String,\n  @SerializedName(\"json_description\") val description: String\n)\n</code></pre>\n\n<p>Converting to Json String from the Model Class </p>\n\n<pre><code>val gson = Gson()\nval json = gson.toJson(jsonDataParser)\n</code></pre>\n\n<p>Parsing from Json file/Strong</p>\n\n<pre><code>val json = getJson()\nval topic = gson.fromJson(json, JsonDataParser::class.java)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 7507215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EmkH8.png?s=128&g=1", "display_name": "fisio", "link": "https://stackoverflow.com/users/7507215/fisio"}, "is_accepted": false, "score": 1, "last_activity_date": 1606689593, "last_edit_date": 1606689593, "creation_date": 1602484230, "answer_id": 64312741, "question_id": 58100739, "link": "https://stackoverflow.com/questions/58100739/how-to-generate-a-json-object-in-kotlin/64312741#64312741", "title": "how to generate a json object in kotlin?", "body": "<p>Best way is using kotlinx.serialization. turn a Kotlin object into its JSON representation and back marking its class with the <code>@Serializable</code> annotation, and using the provided <code>encodeToString</code> and <code>decodeFromString&lt;T&gt;</code> extension functions on the Json object:</p>\n<pre><code>import kotlinx.serialization.*\nimport kotlinx.serialization.json.*\n\u200b\n@Serializable\ndata class User(val name: String, val yearOfBirth: Int)\n\u200b\n   // Serialization (Kotlin object to JSON string)\n\u200b\n   val data = User(&quot;Louis&quot;, 1901)\n   val string = Json.encodeToString(data)\n   println(string) // {&quot;name&quot;:&quot;Louis&quot;,&quot;yearOfBirth&quot;:1901}\n\u200b\n   // Deserialization (JSON string to Kotlin object)\n\u200b\n   val obj = Json.decodeFromString&lt;User&gt;(string)\n   println(obj) // User(name=Louis, yearOfBirth=1901)\n</code></pre>\n<p>Further examples: <a href=\"https://blog.jetbrains.com/kotlin/2020/10/kotlinx-serialization-1-0-released/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2020/10/kotlinx-serialization-1-0-released/</a></p>\n"}], "owner": {"reputation": 83, "user_id": 8358502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6270643596456b1e1bf4dea4f78cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Luippo", "link": "https://stackoverflow.com/users/8358502/luippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21085, "favorite_count": 1, "accepted_answer_id": 58101247, "answer_count": 3, "score": 8, "last_activity_date": 1606689593, "creation_date": 1569421653, "last_edit_date": 1569453333, "question_id": 58100739, "link": "https://stackoverflow.com/questions/58100739/how-to-generate-a-json-object-in-kotlin", "title": "how to generate a json object in kotlin?", "body": "<p>I'm really new in programming, and recently started a project in Kotlin with Android Studio. </p>\n\n<p>So, I have a problem with a JSON object. I get data from an BroadcastReceiver object, a String to be more specific, with the next format:</p>\n\n<pre><code>{\"s1\":1}\n</code></pre>\n\n<p>This, is a simple string. So I took in a function call toJson and I do this.</p>\n\n<pre><code>private fun toJson(data:String): JSONObject {\n\n    var newData: String = data.replace(\"\\\"\",\"\")\n    newData = newData.replace(\"{\",\"\")\n    newData = newData.replace(\"}\",\"\")\n\n    val newObject = newData.split(\":\")\n    val name = newObject[0]\n    val value = newObject[1]\n    val rootObject = JSONObject()\n    rootObject.put(name,value)\n\n    return rootObject\n}\n</code></pre>\n\n<p>Im doing this the right way?, how can I improve my code?</p>\n\n<p>Thanks for your help, and sorry for my english!</p>\n"}, {"tags": ["android", "validation", "kotlin", "mvvm", "data-binding"], "comments": [{"owner": {"reputation": 1669, "user_id": 9987309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUtsn.jpg?s=128&g=1", "display_name": "iCantC", "link": "https://stackoverflow.com/users/9987309/icantc"}, "edited": false, "score": 0, "creation_date": 1569422280, "post_id": 58100502, "comment_id": 102593451, "body": "Have you visited this link <a href=\"https://developer.android.com/topic/libraries/data-binding/architecture#livedata\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/data-binding/&hellip;</a> ?"}, {"owner": {"reputation": 103, "user_id": 5539140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mer4btG19zM/AAAAAAAAAAI/AAAAAAAAAGg/PseormwXLo0/photo.jpg?sz=128", "display_name": "Nikhil Sawant", "link": "https://stackoverflow.com/users/5539140/nikhil-sawant"}, "edited": false, "score": 0, "creation_date": 1602784359, "post_id": 58100502, "comment_id": 113836976, "body": "Have you got any solution to this? I&#39;m also looking for the same solution"}], "owner": {"reputation": 155, "user_id": 11279061, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UJxfJzAnTuY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdH_Z49RL4L5BfXUBNiuiSQ9Y0aeA/mo/photo.jpg?sz=128", "display_name": "Tarik Husin", "link": "https://stackoverflow.com/users/11279061/tarik-husin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569424646, "creation_date": 1569420954, "last_edit_date": 1569424646, "question_id": 58100502, "link": "https://stackoverflow.com/questions/58100502/email-validation-with-databinding", "title": "Email Validation with DataBinding", "body": "<p>I am trying to perform an email validation using data-binding </p>\n\n<h2>viewModel</h2>\n\n<pre><code>val email= MutableLiveData&lt;String&gt;()\n\n\nfun signup(){\n\n\n}\n</code></pre>\n\n<h2>XML</h2>\n\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n        android:id=\"@+id/inputEmail\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:textInputCheck=\"@{viewModel.email}\"\n&gt;\n\n&lt;EditText\n            android:id=\"@+id/email\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:hint=\"E-Mail\"\n            android:inputType=\"textEmailAddress\"\n            android:text=\"@={viewModel.email}\" /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n\n\n&lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/signup\"\n        android:onClick=\"@{()-&gt;viewModel.signup()}\"\n/&gt;\n</code></pre>\n\n<h2>Binding adapter</h2>\n\n<pre><code>@BindingAdapter(\"textInputCheck\")\nfun textInputCheck(textInputLayout: TextInputLayout, email: String?) {\n    Log.i(\"BindingAdapter\", \"${email}\")\n   if (email == null) {\n        return\n    }\n    if (!email.validateEmail()) {\n        textInputLayout.error = \"Email format is not correct\"\n        return\n    }\n    textInputLayout.error = \"\"\n\n}\n</code></pre>\n\n<p><code>validateEmail()</code> is an custom extension function.</p>\n\n<p>I managed with this code to show the error on the text input field but the view model doesn't know about that error and that's my problem!</p>\n\n<h2>SUMMARY OF THE CODE &amp; PROBLEM</h2>\n\n<p>I store the email in the ViewModel variable (<code>email</code>) then it checks the input using the data binding adapter then shows the error message on the textinput field,\nI've also linked the button to the ViewModel signup function through XML. </p>\n\n<p>So now I need a way to get that error back from the data binding adapter to the ViewModel and store it there in a variable, then when I click on the button I check that var and show an error message. </p>\n\n<p>Any Suggestions?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-gradle-plugin", "android-motionlayout"], "answers": [{"tags": [], "owner": {"reputation": 8161, "user_id": 9248201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/301395c5000a1e23206170d900448aef?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo Ostasha", "link": "https://stackoverflow.com/users/9248201/pavlo-ostasha"}, "is_accepted": false, "score": 0, "last_activity_date": 1569701458, "creation_date": 1569701458, "answer_id": 58149944, "question_id": 58100447, "link": "https://stackoverflow.com/questions/58100447/use-motionlayout-and-constraintlayout-dependencies-with-different-versions/58149944#58149944", "title": "Use MotionLayout and ConstraintLayout dependencies with different versions", "body": "<p>I faced similar issues - the only possible way to avoid the class collision is to rebuild one of the dependencies with the different package name. It could be done by downloading the code of one of the libraries and recompile it manually on your PC. For example from <a href=\"https://android.googlesource.com/platform/frameworks/opt/sherpa/+/refs/tags/gradle_3.4.0/constraintlayout/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>But I would recommend you to use <code>ConstraintLayout</code> library version 2.0</p>\n\n<pre><code>implementation 'com.android.support.constraint:constraint-layout:2.0.0-beta2'\n</code></pre>\n\n<p>or </p>\n\n<pre><code>implementation 'androidx.constraintlayout:constraintlayout:2.0.0-beta2'\n</code></pre>\n\n<p>if you are using AndroidX.</p>\n\n<p>Is contains both <code>ConstraintLayout</code> and <code>MotionLayout</code> so they would not create a conflict in your code. Some small adjustments may be needed in your current code though.</p>\n\n<p>Hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 1171, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "edited": false, "score": 0, "creation_date": 1569711248, "post_id": 58150370, "comment_id": 102685575, "body": "I&#39;m new to the jetifier tool (never used it) so I might ask silly questions. First of all is where to put this config file? Is it used only for command sake or also gradle should use it somehow? And the <code>config.json</code> you posted is just an example or I can use it <code>as is</code> with specified commands?"}, {"owner": {"reputation": 5261, "user_id": 2548988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64c4d3033369ce36d4252ddbfa6983?s=128&d=identicon&r=PG", "display_name": "esentsov", "link": "https://stackoverflow.com/users/2548988/esentsov"}, "reply_to_user": {"reputation": 1171, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "edited": false, "score": 0, "creation_date": 1569750037, "post_id": 58150370, "comment_id": 102691073, "body": "The config is for the jetifier command only. The posted <code>config.json</code> should work as is."}, {"owner": {"reputation": 5261, "user_id": 2548988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64c4d3033369ce36d4252ddbfa6983?s=128&d=identicon&r=PG", "display_name": "esentsov", "link": "https://stackoverflow.com/users/2548988/esentsov"}, "reply_to_user": {"reputation": 1171, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "edited": false, "score": 0, "creation_date": 1569750057, "post_id": 58150370, "comment_id": 102691076, "body": "I&#39;ve created a sample and put a link into the post, please check it out."}, {"owner": {"reputation": 1171, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "edited": false, "score": 0, "creation_date": 1569839430, "post_id": 58150370, "comment_id": 102713706, "body": "I checked out your sample project but it didn&#39;t work. It said <code>Unresolved reference: JetifierPlugin</code>. So I gave a try to your previous answer to use jetifier tool and just to generate new lib with different package. I&#39;ve put it to &#39;libs&#39; folder and it worked. Thank you very much!"}], "tags": [], "owner": {"reputation": 5261, "user_id": 2548988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64c4d3033369ce36d4252ddbfa6983?s=128&d=identicon&r=PG", "display_name": "esentsov", "link": "https://stackoverflow.com/users/2548988/esentsov"}, "is_accepted": true, "score": 1, "last_activity_date": 1569749908, "last_edit_date": 1569749908, "creation_date": 1569705503, "answer_id": 58150370, "question_id": 58100447, "link": "https://stackoverflow.com/questions/58100447/use-motionlayout-and-constraintlayout-dependencies-with-different-versions/58150370#58150370", "title": "Use MotionLayout and ConstraintLayout dependencies with different versions", "body": "<p><strong>Edit</strong>:\nI've created <a href=\"https://github.com/esentsov/jetifier-sample\" rel=\"nofollow noreferrer\">a sample</a> where I use <a href=\"https://android.googlesource.com/platform/frameworks/support/+/support-library-27.1.0/jetifier/jetifier/gradle-plugin/\" rel=\"nofollow noreferrer\">jetifier gradle plugin</a> from aosp to rewrite the package names and demonstrate how to use both <code>1.1.3</code> and <code>2.0.0-beta</code> versions in the same project. </p>\n\n<p>You can use jetifier with <a href=\"https://developer.android.com/studio/command-line/jetifier#custom_config_file\" rel=\"nofollow noreferrer\">custom config file</a> to rewrite package name. Just run it on both <code>constraintlayout-2.0.0-beta2.aar</code> and <code>constraintlayout-solver-2.0.0-beta2.jar</code> like this:</p>\n\n<pre><code>./jetifier-standalone  -i constraintlayout-2.0.0-beta2.aar -o myconstraintlayout-2.0.0-beta2.aar -c config.json\n./jetifier-standalone  -i constraintlayout-solver-2.0.0-beta2.jar -o myconstraintlayout-solver-2.0.0-beta2.jar -c config.json\n</code></pre>\n\n<p>where <code>config.json</code> is the custom config like this:</p>\n\n<pre><code>{\n  \"restrictToPackagePrefixes\": [\n    \"androidx/\"\n  ],\n  \"reversedRestrictToPackagePrefixes\": [],\n  \"rules\": [\n    {\n      \"from\": \"androidx/(.*)\",\n      \"to\": \"myandroidx/{0}\"\n    },\n  ],\n  \"packageMap\": [\n    {\n      \"from\": \"androidx/constraintlayout/widget\",\n      \"to\": \"myandroidx/constraintlayout/widget\"\n    }\n  ],\n  \"pomRules\": [],\n  \"versions\": {\n    \"latestReleased\": {}\n  },\n  \"map\": {\n    \"types\": {}\n  },\n  \"proGuardMap\": {\n    \"rules\": {\n      \"androidx/{any}\": [\n        \"myandroidx/{any}\"\n      ]\n    }\n  },\n  \"stringsMap\": {\n    \"types\": {}\n  }\n}\n</code></pre>\n\n<p>You can check the <a href=\"https://android.googlesource.com/platform/frameworks/support/+/androidx-master-dev/jetifier/jetifier/migration.config\" rel=\"nofollow noreferrer\">original config file</a> to find out file format.</p>\n\n<p>After that you can use <code>myconstraintlayout-2.0.0-beta2.aar</code> and <code>myconstraintlayout-solver-2.0.0-beta2.jar</code> in your project. Obviously you'll have to change package name for <code>MotionLayout</code> in your project.</p>\n\n<p>It should be possible to automate the process by writing a gradle plugin also.</p>\n\n<p>Edit: it's probably better to repackage <code>constraintlayout-1.1.3</code>, so you can easily update <code>MotionLayout</code> with new versions when they are released.</p>\n"}], "owner": {"reputation": 1171, "user_id": 6121671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oEYZX.jpg?s=128&g=1", "display_name": "GV_FiQst", "link": "https://stackoverflow.com/users/6121671/gv-fiqst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 58150370, "answer_count": 2, "score": 0, "last_activity_date": 1570105223, "creation_date": 1569420780, "last_edit_date": 1570105223, "question_id": 58100447, "link": "https://stackoverflow.com/questions/58100447/use-motionlayout-and-constraintlayout-dependencies-with-different-versions", "title": "Use MotionLayout and ConstraintLayout dependencies with different versions", "body": "<p>I've been using ConstraintLayout of version 1.1.2 for a while now. It was working perfectly. Then new MotionLayout came up and I thought why not to try it out. And everything seemed fine. </p>\n\n<p>However I made a mistake of using it in production. Only after some time I noticed some bug reports on ConstraintLayout working not properly. But there are some screens already that depend on MotionLayout, removing which will cause a lot of refactoring. </p>\n\n<p>Is it possible to use MotionLayout(v2.0.0-alpha-05/beta-02) and ConstraintLayout(v1.1.3) for the same project, so that screens that work with MotionLayout would have v2.0.0 and screens that work with ConstraintLayout only would have v1.1.3? Is there some packaging tool to move MotionLayout to a different package? I tried to use shadowJar gradle plugin but failed because MotionLayout is an *.aar dependency not *.jar.</p>\n"}, {"tags": ["arrays", "android-intent", "kotlin", "parcelable"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 8802759, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3g6UMlY5fVc/AAAAAAAAAAI/AAAAAAAAAic/_ElN4g2Outc/photo.jpg?sz=128", "display_name": "DKVV", "link": "https://stackoverflow.com/users/8802759/dkvv"}, "is_accepted": false, "score": 0, "last_activity_date": 1569419469, "creation_date": 1569419469, "answer_id": 58100008, "question_id": 58099616, "link": "https://stackoverflow.com/questions/58099616/sending-an-array-of-string-and-receive-it-using-parcelable-kotlin/58100008#58100008", "title": "Sending an array of String and receive it using parcelable kotlin", "body": "<p>Ok, i found the problem, because i use let , which is if not null then send something, then if its null, it does not send anything, but still get opened by parcel constructor. There is nothing wrong with the write and type string array. \nwhat i did was to put if null then still send something</p>\n\n<pre><code>    parcel.writeInt(id)\n    parcel.writeString(title)\n    parcel.writeString(image)\n    parcel.writeString(description)\n    parcel.writeString(status)\n    parcel.writeString(startDate)\n    parcel.writeString(endDate)\n    parcel.writeString(season)\n    if(episode != null){ parcel.writeInt(episode!!) }\n    else { parcel.writeInt(0) }\n    if(duration != null){ parcel.writeInt(duration!!) }\n    else { parcel.writeInt(0) }\n    parcel.writeString(trailer)\n    parcel.writeString(cover)\n    parcel.writeString(banner)\n    parcel.writeStringList(genreList)\n    avgScore?.let { parcel.writeFloat(it)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8802759, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3g6UMlY5fVc/AAAAAAAAAAI/AAAAAAAAAic/_ElN4g2Outc/photo.jpg?sz=128", "display_name": "DKVV", "link": "https://stackoverflow.com/users/8802759/dkvv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569419469, "creation_date": 1569418302, "question_id": 58099616, "link": "https://stackoverflow.com/questions/58099616/sending-an-array-of-string-and-receive-it-using-parcelable-kotlin", "title": "Sending an array of String and receive it using parcelable kotlin", "body": "<p>i been trying to send up an array of string using parcel in kotlin, i tried several things like converting to array before using writeTypedArray, or directly using writeStringArray. I also tried to read using createTypedArray and createdStringArray.</p>\n\n<p>For most of the case, the content i receive is right ( i mean the inside of the array does not change ), but there is some case where it becomes a nulls and some link in the array.</p>\n\n<p>I have checked my code, and print it before and after the usage of intent, and thats where the difference is, so i guess the fault lies in the parcel</p>\n\n<p>This is the place where i put my intent, when i call showGenres(), its show\nthe exact genres like Comedy and Slice of Life\n<a href=\"https://i.stack.imgur.com/whuOi.png\" rel=\"nofollow noreferrer\"> </a></p>\n\n<pre><code>val anime : Anime = news.anime\n        val intent : Intent = Intent(holder.btnViewMore.context, DetailActivity::class.java)\n        news.anime.showGenres()\n        intent.putExtra(\"choosen\", anime)\n        holder.btnViewMore.context.startActivity(intent)\n</code></pre>\n\n<p>but, after i receive the intent, when i call the showGenres, the content become nulls (most of them) and some string like \"P\ufffd\ufffd<a href=\"https://s4.anilist.co/file/anilistcdn/media/anime/banner/104199-ha1rxhhOb8Yp.jpg\" rel=\"nofollow noreferrer\">https://s4.anilist.co/file/anilistcdn/media/anime/banner/104199-ha1rxhhOb8Yp.jpg</a>\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdComedy\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdSlice\". </p>\n\n<pre><code>anime = intent.getParcelableExtra(\"choosen\")\n    anime.showGenres()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4VTE4.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Below are my class which use parcellable</p>\n\n<pre><code>package com.example.jnimekuy.Model\n\nimport android.os.Parcel\nimport android.os.Parcelable\nimport android.util.Log\n\nclass Anime(\n    var id: Int = 0,\n    var title: String? = \"\",\n    var image: String? = \"\",\n    var description: String? = \"\",\n    var status: String? = \"\",\n    var startDate: String? = \"\",\n    var endDate: String? = \"\",\n    var season: String? = \"\",\n    var episode: Int? = 1,\n    var duration: Int? = 1,\n    var trailer: String? = \"\",\n    var cover: String? = \"\",\n    var banner: String? = \"\",\n    var genreList: List&lt;String&gt;? = ArrayList(),\n    var avgScore: Float? = 1F\n):Parcelable{\n    constructor(parcel: Parcel) : this(\n        parcel.readInt(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString()?.replace(\"&lt;br&gt;\",\"\",true),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readInt(),\n        parcel.readInt(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.createStringArrayList()?.filterNotNull(),\n        parcel.readFloat()\n    )\n\noverride fun writeToParcel(parcel: Parcel, p1: Int) {\n    parcel.writeInt(id)\n    parcel.writeString(title)\n    parcel.writeString(image)\n    parcel.writeString(description)\n    parcel.writeString(status)\n    parcel.writeString(startDate)\n    parcel.writeString(endDate)\n    parcel.writeString(season)\n    episode?.let { parcel.writeInt(it) }\n    duration?.let { parcel.writeInt(it) }\n    parcel.writeString(trailer)\n    parcel.writeString(cover)\n    parcel.writeString(banner)\n    parcel.writeStringList(genreList)\n    avgScore?.let { parcel.writeFloat(it) }\n}\n\nfun showGenres(){\n    for(i in this!!.genreList!!)\n    {\n        Log.d(\"genre\",i)\n    }\n}\n\noverride fun describeContents(): Int {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\ncompanion object CREATOR : Parcelable.Creator&lt;Anime&gt; {\n    override fun createFromParcel(parcel: Parcel): Anime {\n        return Anime(parcel)\n    }\n\n    override fun newArray(size: Int): Array&lt;Anime?&gt; {\n        return arrayOfNulls(size)\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "kotlin", "android-lifecycle", "kotlin-coroutines", "android-viewmodel"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1569421658, "post_id": 58099407, "comment_id": 102593062, "body": "ViewModel is not aware of activity lifecycle, it will only react to activity being destroyed. You can move your logic to a <code>LiveData</code> object, then you&#39;ll be able to react to <code>onActive</code> <code>onInactive</code> callbacks."}, {"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1569425890, "post_id": 58099407, "comment_id": 102595602, "body": "you mean by using liveData{} ktx? because actually this coroutine calls <code>_someLiveData.value = ...</code> each loop. Thing is, if I send the app to background the loop continues. Of course the UI doesn&#39;t react to that, but shouldn&#39;t we avoid the extra computation of the loops?"}], "answers": [{"comments": [{"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 0, "creation_date": 1569426080, "post_id": 58101542, "comment_id": 102595705, "body": "That was the missing piece! Obrigado Jose :)"}, {"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 0, "creation_date": 1569427255, "post_id": 58101542, "comment_id": 102596276, "body": "I found something curious: If I have the Activity in foreground every 2s I get a log. If I touch home/options button the app goes to background and it still logs every 2s aprox 3/4 times. After that it randomly logs at no precise time. Ex: it can log after 20s, 2s, 6s. Any particular reason? I thought <code>isActive</code> would always return false in background."}], "tags": [], "owner": {"reputation": 1539, "user_id": 3033153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGIrc.jpg?s=128&g=1", "display_name": "Jose Alc&#233;rreca", "link": "https://stackoverflow.com/users/3033153/jose-alc%c3%a9rreca"}, "is_accepted": true, "score": 4, "last_activity_date": 1569424143, "creation_date": 1569424143, "answer_id": 58101542, "question_id": 58099407, "link": "https://stackoverflow.com/questions/58099407/viewmodelscope-not-cancelled/58101542#58101542", "title": "viewModelScope not cancelled", "body": "<p>Kotlin can't cancel an infinite operation for you. You need to call <code>isActive</code> somewhere. For example: <code>while(isActive)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 1, "last_activity_date": 1569431444, "creation_date": 1569431444, "answer_id": 58103471, "question_id": 58099407, "link": "https://stackoverflow.com/questions/58099407/viewmodelscope-not-cancelled/58103471#58103471", "title": "viewModelScope not cancelled", "body": "<p>You can write your own <code>LiveData</code> class instead of using <code>MutableLiveData</code>.</p>\n\n<p>When you do that you can override methods that explicitly notify you if there are any active listeners.</p>\n\n<pre><code>class MyViewModel : ViewModel(){\n    val liveData = CustomLiveData(viewModelScope)\n\n    class CustomLiveData(val scope) : LiveData&lt;Int&gt;(){\n        private counter = 0\n        private lateinit var job: Job\n\n        override fun onActive() {\n            job = scope.launch {\n                Timber.i(\"coroutine awake\")\n                while (true){\n                    delay(2_000)\n                    Timber.i(\"another round trip\")\n                    postValue(counter++)\n                }\n        }\n\n        override fun onInactive() {\n            job.cancel()\n        }\n    }\n}\n</code></pre>\n\n<p>Then inside your <code>Activity</code> you no longer need to explicitly call any start/pause as <code>LiveData</code> will automatically begin and cancel coroutine depending on observers state.</p>\n"}], "owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1966, "favorite_count": 1, "accepted_answer_id": 58101542, "answer_count": 2, "score": 5, "last_activity_date": 1569431444, "creation_date": 1569417636, "last_edit_date": 1569420768, "question_id": 58099407, "link": "https://stackoverflow.com/questions/58099407/viewmodelscope-not-cancelled", "title": "viewModelScope not cancelled", "body": "<p>After watching <a href=\"https://youtu.be/BOHK_w09pVA?t=1425\" rel=\"noreferrer\">Sean's explanation on Android (Google I/O'19)</a> I've tried the same:</p>\n\n<pre><code>init{\n    viewModelScope.launch {\n        Timber.i(\"coroutine awake\")\n        while (true){\n            delay(2_000)\n            Timber.i(\"another round trip\")\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately <code>onCleared</code> it's called when the activity is killed but not when it's put in background (\"when we move away from the Activity...\", background is \"moving away\" imho ^^).<br>\nAnd I get the following output:</p>\n\n<pre><code>&gt; ---- Activity in Foreground\n&gt; 12:41:10.195  TEST: coroutine awake\n&gt; 12:41:12.215  TEST: another round trip\n&gt; 12:41:14.231  TEST: another round trip\n&gt; 12:41:16.245  TEST: another round trip\n&gt; 12:41:18.259  TEST: another round trip\n&gt; 12:41:20.270  TEST: another round trip\n&gt; ----- Activity in Background (on onCleared not fired)\n&gt; 12:41:22.283  TEST: another round trip\n&gt; 12:41:24.303  TEST: another round trip\n&gt; 12:41:26.320  TEST: another round trip\n&gt; 12:41:28.353  TEST: another round trip\n&gt; 12:41:30.361  TEST: another round trip\n&gt; ----- Activity in Foreground\n&gt; 12:41:30.369  TEST: coroutine awake\n</code></pre>\n\n<p>How can I solve this?</p>\n\n<p>1 - Move the code from <code>init</code> to a <code>suspend fun start()</code> called by the activity inside a <code>lifecycleScope.launchWhenStarted</code>?  </p>\n\n<p>I get the same result. I thought <code>lifecycleScope</code> would cancel its child coroutines when it went to background, but I get the same Timber output with this approach. </p>\n\n<p>2 - Change my ViewModel code to:</p>\n\n<pre><code>private lateinit var job: Job\n\nsuspend fun startEmitting() {\n    job = viewModelScope.launch {\n        Timber.i(\"coroutine awake\")\n        while (true){\n            delay(2_000)\n            Timber.i(\"another round trip\")\n        }\n    }\n}\nfun cancelJob(){\n    if(job.isActive){\n        job.cancel()\n    }\n}\n</code></pre>\n\n<p>And, in my Activity:</p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n    lifecycleScope.launch {\n        viewModel.startEmitting()\n    }\n}\noverride fun onPause() {\n    super.onPause()\n    viewModel.cancelJob()\n}\n</code></pre>\n\n<p>Well it works but isn't the <code>viewModelScope</code> purpose to manage the <code>CoroutineScope</code> for me? I hate this cancelJob logic.</p>\n\n<p>What's the best approach to deal with this? </p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-security", "spring-security-oauth2"], "owner": {"reputation": 90, "user_id": 11751609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b4ba572d403bcdda9bca75ee1040f8?s=128&d=identicon&r=PG&f=1", "display_name": "finisinfinitatis", "link": "https://stackoverflow.com/users/11751609/finisinfinitatis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 838, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1589725779, "creation_date": 1569417417, "last_edit_date": 1569497233, "question_id": 58099345, "link": "https://stackoverflow.com/questions/58099345/generate-jwt-oauth2-access-token-without-password", "title": "Generate JWT OAuth2 Access token without password", "body": "<p>My Spring Boot authorization service is able to create JWT tokens for users with correct credentials. It shall also be possible to get a token via social login (Facebook in this case).\nThe Facebook authentication already works and I find myself redirected to the following endpoint after I get the users's Facebook data.</p>\n\n<p>I could create the JWT token completely from scratch, but that is not what I want. I want to use the already configured (with key pair and so on) <code>TokenServices</code> from my authentication server. </p>\n\n<p>The only way I found was via <code>TokenEndpoint</code>. The problem is that I need the user's password, which I don't have and shouldn't have at this point.</p>\n\n<p>How can I generate the token from what I already configured?</p>\n\n<p>This endpoint is where I end up after Facebook's redirect:</p>\n\n<pre><code>@GetMapping(\"/loginSuccess\")\nfun getLoginInfo(authentication: OAuth2AuthenticationToken): ResponseEntity&lt;OAuth2AccessToken&gt; {\n\n    val client = authorizedClientService.loadAuthorizedClient&lt;OAuth2AuthorizedClient&gt;(authentication.authorizedClientRegistrationId, authentication.name)\n\n    val userInfoEndpointUri = client.clientRegistration.providerDetails.userInfoEndpoint.uri\n\n    if (!StringUtils.isEmpty(userInfoEndpointUri)) {\n        val restTemplate = RestTemplate()\n        val headers = HttpHeaders()\n        headers.add(HttpHeaders.AUTHORIZATION, \"Bearer \" + client.accessToken.tokenValue)\n\n        val entity = HttpEntity(\"\", headers)\n        val response = restTemplate.exchange(userInfoEndpointUri, HttpMethod.GET, entity, Map::class.java)\n\n        // At this point I have the email address of the user and I am able to\n        // map it to my own User Entity  \n        // This is where I would like to create a token and return it  \n        // However, the following generation process requires the user's password\n        return authService.generateToken((response.body as Map&lt;*, *&gt;)[\"email\"] as String)\n    }\n\n    throw AuthenticationException(\"Error\")\n}\n</code></pre>\n\n<p>I would like to use <code>getAccessToken(OAuth2Authentication authentication)</code> in <code>JwtTokenStore</code> but its implementation returns null: </p>\n\n<pre><code>@Override\npublic OAuth2AccessToken getAccessToken(OAuth2Authentication authentication) {\n   // We don't want to accidentally issue a token, and we have no way to \n   // reconstruct the refresh token\n   return null;\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-reflect"], "answers": [{"comments": [{"owner": {"reputation": 9622, "user_id": 612206, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2ecfc308b3401b0b9aa298f791044af1?s=128&d=identicon&r=PG", "display_name": "XGouchet", "link": "https://stackoverflow.com/users/612206/xgouchet"}, "edited": false, "score": 0, "creation_date": 1569419052, "post_id": 58099661, "comment_id": 102591472, "body": "Thanks, I feel stupid. I only looked at the KClass documentation, but didn&#39;t think there would be an extension function to do that."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1569418445, "creation_date": 1569418445, "answer_id": 58099661, "question_id": 58098741, "link": "https://stackoverflow.com/questions/58098741/i-cant-see-private-members-in-a-kotlin-kclass/58099661#58099661", "title": "I can&#39;t see private members in a Kotlin KClass", "body": "<p>Yes, you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-members.html\" rel=\"nofollow noreferrer\"><code>declaredMembers</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-functions.html\" rel=\"nofollow noreferrer\"><code>declaredFunctions</code></a>, and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-member-properties.html\" rel=\"nofollow noreferrer\"><code>declaredMemberProperties</code></a>, which will include the private members, but won't include the members declared in the supertypes, just like with the Java reflection API.</p>\n"}], "owner": {"reputation": 9622, "user_id": 612206, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2ecfc308b3401b0b9aa298f791044af1?s=128&d=identicon&r=PG", "display_name": "XGouchet", "link": "https://stackoverflow.com/users/612206/xgouchet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 58099661, "answer_count": 1, "score": 4, "last_activity_date": 1569418445, "creation_date": 1569415524, "question_id": 58098741, "link": "https://stackoverflow.com/questions/58098741/i-cant-see-private-members-in-a-kotlin-kclass", "title": "I can&#39;t see private members in a Kotlin KClass", "body": "<p>I'm working on a library that uses reflection, and I would like to manipulate all the properties / function of a given KClass. </p>\n\n<p>Using the <code>KClass::members</code> property, I can manipulate all the accessible members (as per the documentation), ie: the public, internal and protected fields, properties and functions. But I can't see the private ones. </p>\n\n<p>Using Java reflection, I can see all fields (inluding private ones) using the <code>Class.getDeclaredFields()</code>, and likewise I can see private methods using <code>Class.getDeclaredMethods()</code>. </p>\n\n<p>Is there a way to do this using the kotlin reflection API ?</p>\n"}, {"tags": ["kotlin", "android-recyclerview", "fragment"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1569424220, "post_id": 58098579, "comment_id": 102594620, "body": "Where is <code>araclarKategori</code> initialized? I suspect that the <code>for</code> loop in <code>veriKaynaginiDoldur()</code> is not doing anything, because <code>araclarKategori.size</code> is zero"}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569416011, "post_id": 58098803, "comment_id": 102589588, "body": "Hello Ashok, i changed code as you said. But still empty."}, {"owner": {"reputation": 107, "user_id": 5809016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKJfO.png?s=128&g=1", "display_name": "Ashok Songara", "link": "https://stackoverflow.com/users/5809016/ashok-songara"}, "reply_to_user": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569416384, "post_id": 58098803, "comment_id": 102589822, "body": "But you didn&#39;t bind the latest data again to adapter in this veriKaynaginiDoldur() please bind adapter to recycler view and please try         mAdapter = new MyAdapter(items);         recyclerView.setAdapter(mAdapter);"}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569416520, "post_id": 58098803, "comment_id": 102589921, "body": "Sorry i cant understand"}, {"owner": {"reputation": 107, "user_id": 5809016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKJfO.png?s=128&g=1", "display_name": "Ashok Songara", "link": "https://stackoverflow.com/users/5809016/ashok-songara"}, "reply_to_user": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569416653, "post_id": 58098803, "comment_id": 102590003, "body": "first, you are declaring adapter object and pass empty collection as a constructor after getting data in the collection you have to set that data into the adapter"}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569416744, "post_id": 58098803, "comment_id": 102590068, "body": "Actually i am new about android. Can you show me how to do that?"}], "tags": [], "owner": {"reputation": 107, "user_id": 5809016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKJfO.png?s=128&g=1", "display_name": "Ashok Songara", "link": "https://stackoverflow.com/users/5809016/ashok-songara"}, "is_accepted": false, "score": 0, "last_activity_date": 1569415731, "creation_date": 1569415731, "answer_id": 58098803, "question_id": 58098579, "link": "https://stackoverflow.com/questions/58098579/using-recycleview-in-android/58098803#58098803", "title": "Using recycleview in android", "body": "<blockquote>\n  <p>you have to call this veriKaynaginiDoldur() function after the below\n  lines of code below I have mentioned please check</p>\n\n<pre><code>    var rvarackategori = root.findViewById(R.id.rvarackategori) as RecyclerView\n    var MyAdapter = AracMarkaAdapter(araclarKategori)\n    rvarackategori.adapter = MyAdapter\n    veriKaynaginiDoldur()\n</code></pre>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569420596, "post_id": 58099082, "comment_id": 102592434, "body": "I edited my code as your advise. But still empty. Do you have any idea?"}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 2, "last_activity_date": 1569426043, "last_edit_date": 1569426043, "creation_date": 1569416535, "answer_id": 58099082, "question_id": 58098579, "link": "https://stackoverflow.com/questions/58098579/using-recycleview-in-android/58099082#58099082", "title": "Using recycleview in android", "body": "<p>After modifying the data in your list in <code>veriKaynaginiDoldur()</code>, you need to call <code>myAdapter.notifyDataSetChanged()</code> so it knows to rebind the data. Or you could call <code>veriKaynaginiDoldur()</code> before you instantiate your adapter.</p>\n\n<p>Edit: Your other error is in your for loop within <code>veriKaynaginiDoldur()</code>. You are making a range using the size of the <code>araclarKategori</code> list when it is still zero. </p>\n\n<p>Instead of </p>\n\n<pre><code>for (i in 0..araclarKategori.size - 1)\n</code></pre>\n\n<p>use </p>\n\n<pre><code>for (i in 0 until min(aracLogo.size, aracismi.size))\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 58099082, "answer_count": 2, "score": 0, "last_activity_date": 1569428380, "creation_date": 1569415041, "last_edit_date": 1569428380, "question_id": 58098579, "link": "https://stackoverflow.com/questions/58098579/using-recycleview-in-android", "title": "Using recycleview in android", "body": "<p>I read some document about using recyclingview for activity. Now i try to use recycleview to my fragment. the problem is my fragment look empty when i execute.</p>\n\n<p>fragment:</p>\n\n<pre><code>class KategoriFragment : Fragment() {\nvar araclarKategori = ArrayList&lt;AracMarka&gt;()\n\n\nprivate lateinit var galleryViewModel: GalleryViewModel\n\noverride fun onCreateView(\n    inflater: LayoutInflater,\n    container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    veriKaynaginiDoldur()\n    galleryViewModel =\n      ViewModelProviders.of(this).get(GalleryViewModel::class.java)\n    var root = inflater.inflate(R.layout.fragment_category, container, false)\n    veriKaynaginiDoldur()\n    var rvarackategori = root.findViewById(R.id.rvarackategori) as RecyclerView\n    var MyAdapter = AracMarkaAdapter(araclarKategori)\n    rvarackategori.adapter = MyAdapter\n\n    /\n\n    return root\n}\n\nfun veriKaynaginiDoldur(): ArrayList&lt;AracMarka&gt; {\n\n    var aracLogo = arrayOf(R.drawable.opellogo, R.drawable.chevroletlogo)\n    var aracismi = resources.getStringArray(R.array.arabaisim)\n\n    for (i in 0 until min(aracismi.size, aracLogo.size)) {\n\n        var eklenecekaracKategori = AracMarka(aracismi[i], aracLogo[i])\n        araclarKategori.add(eklenecekaracKategori)\n    }\n    return araclarKategori\n\n}\n</code></pre>\n\n<p>}\nI create an adapter. I think there is no problem on it.\nadapter:</p>\n\n<pre><code>class AracMarkaAdapter(tumKategori: ArrayList&lt;AracMarka&gt;) :\n    RecyclerView.Adapter&lt;AracMarkaAdapter.AracMarkaViewHolder&gt;() {\n\n    var araclar = tumKategori\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AracMarkaViewHolder {\n\n        var inflater = LayoutInflater.from(parent.context)\n        var arackategori = inflater.inflate(R.layout.arac_kategori, parent, false)\n\n        return AracMarkaViewHolder(arackategori)\n\n    }\n\n    override fun getItemCount(): Int {\n        return araclar.size\n    }\n\n    override fun onBindViewHolder(holder: AracMarkaViewHolder, position: Int) {\n\n        holder.aracismi.text=araclar.get(position).aracAdi\n        holder.aracLogo.setImageResource(araclar.get(position).aracLogo)\n\n    }\n\n\n    class AracMarkaViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        var teksatirKategori= itemView\n        var aracismi= teksatirKategori.tvaracAdi\n        var aracLogo=teksatirKategori.img_arac_sembol\n\n    }\n}\n</code></pre>\n\n<p>fragment xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/rvarackategori\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>So, when i click button, fragment opens but it is empty. Do you have any idea about it?</p>\n"}, {"tags": ["android", "kotlin", "android-activity"], "answers": [{"comments": [{"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1569417954, "post_id": 58098227, "comment_id": 102590800, "body": "if i call <code>finish()</code> before <code>startActivity(intent)</code> it will be better?"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1569423479, "post_id": 58098227, "comment_id": 102594173, "body": "Why u think so?"}], "tags": [], "owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "is_accepted": true, "score": 1, "last_activity_date": 1569413939, "creation_date": 1569413939, "answer_id": 58098227, "question_id": 58098183, "link": "https://stackoverflow.com/questions/58098183/disable-ability-go-back-to-previous-activity/58098227#58098227", "title": "Disable ability go back to previous activity", "body": "<p>This will clear back task of application and when you press back button application will close. You need to add flags in Intent or you can use <code>finish()</code>.</p>\n\n<pre><code>val intent = Intent(this, MainActivity::class.java)\nintent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK\nstartActivity(intent)\nfinish()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 5705721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3qoS.png?s=128&g=1", "display_name": "Makarand", "link": "https://stackoverflow.com/users/5705721/makarand"}, "is_accepted": false, "score": 0, "last_activity_date": 1569414124, "creation_date": 1569414124, "answer_id": 58098271, "question_id": 58098183, "link": "https://stackoverflow.com/questions/58098183/disable-ability-go-back-to-previous-activity/58098271#58098271", "title": "Disable ability go back to previous activity", "body": "<p><strong>Why?</strong></p>\n\n<p>it's because by default when you click back button your activity calls <code>super.onBackPressed()</code> method.</p>\n\n<p><strong>How to disable?</strong></p>\n\n<p>override <code>onBackPressed()</code> and remove <code>super.onBackPressed()</code> from it</p>\n\n<pre><code>  @Override\npublic void onBackPressed() {\n    super.onBackPressed(); // remove or comment this line\n}\n</code></pre>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 58098227, "answer_count": 2, "score": -1, "last_activity_date": 1569414124, "creation_date": 1569413794, "question_id": 58098183, "link": "https://stackoverflow.com/questions/58098183/disable-ability-go-back-to-previous-activity", "title": "Disable ability go back to previous activity", "body": "<p>When switching to the <code>MainActivity</code> from <code>OnboardingSetupActivity</code> i can pressed back and go back in <code>OnboardingSetupActivity</code>.</p>\n\n<pre><code>override fun showMainActivity() {\n        startActivity(Intent(this, MainActivity::class.java)\n            .apply { putExtra(KEY_SKIP_PIN, true) }\n            .apply { flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK })\n    }\n</code></pre>\n\n<p>Q: Why? How to disable the ability go back to <code>OnboardingSetupActivity</code>?</p>\n"}, {"tags": ["android", "multithreading", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 2615, "user_id": 3535408, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/289ea239b6ee021a1789c400532aa7ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mackovich", "link": "https://stackoverflow.com/users/3535408/mackovich"}, "edited": false, "score": 0, "creation_date": 1569413747, "post_id": 58098085, "comment_id": 102588134, "body": "Thanks ! It&#39;s almost that. I have edited my question to add a schema. The constraint that I have, is that I am in a method called on a worker thread. Not the other way around."}, {"owner": {"reputation": 144, "user_id": 6694413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6700924269a58cba315c2e55ea56f707?s=128&d=identicon&r=PG&f=1", "display_name": "Mohanakrrishna", "link": "https://stackoverflow.com/users/6694413/mohanakrrishna"}, "edited": false, "score": 0, "creation_date": 1569414303, "post_id": 58098085, "comment_id": 102588479, "body": "With this solution how can we communicate between two coroutines? How can we send and receive messages between two coroutines. It is just using other coroutine&#39;s context inside the first one for that section of code to execute"}, {"owner": {"reputation": 2615, "user_id": 3535408, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/289ea239b6ee021a1789c400532aa7ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mackovich", "link": "https://stackoverflow.com/users/3535408/mackovich"}, "edited": false, "score": 0, "creation_date": 1569415000, "post_id": 58098085, "comment_id": 102588934, "body": "Actually I think @mr-patel got it right, because I managed to create my <code>getSomethingFromUiThread</code> with <code>GlobalScope.async(...).wait()</code> but the method calling this method must also be suspendable. But I cannot do that, I am overriding a method from a parent class. So anyway, I think his answer is the right one. I&#39;ll validate it once I get it working. Unless there is a way to have a real blocking method ? But then, it&#39;s no longer about coroutines..."}], "tags": [], "owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "is_accepted": false, "score": 3, "last_activity_date": 1569413519, "creation_date": 1569413519, "answer_id": 58098085, "question_id": 58097968, "link": "https://stackoverflow.com/questions/58097968/kotlin-using-coroutines-from-worker-thread-to-wait-get-something-from-ui-threa/58098085#58098085", "title": "Kotlin using coroutines from worker thread to wait &amp; get something from UI Thread", "body": "<p>You can try something like this:</p>\n\n<pre><code>GlobalScope.launch(Dispatchers.Main) { //Your Main UI Thread\n              val myuithreadobject = myobject()\n               withContext(Dispatchers.IO) {\n               //this is out background thread\n                        nodelist = ArrayList()\n                       val info = myuithreadobject\n\n                       printAllViews(info)\n\n                    }\n              //after background thread is finished\n        //do work on main thread\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 6694413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6700924269a58cba315c2e55ea56f707?s=128&d=identicon&r=PG&f=1", "display_name": "Mohanakrrishna", "link": "https://stackoverflow.com/users/6694413/mohanakrrishna"}, "is_accepted": false, "score": 0, "last_activity_date": 1569414526, "last_edit_date": 1569414526, "creation_date": 1569414118, "answer_id": 58098269, "question_id": 58097968, "link": "https://stackoverflow.com/questions/58097968/kotlin-using-coroutines-from-worker-thread-to-wait-get-something-from-ui-threa/58098269#58098269", "title": "Kotlin using coroutines from worker thread to wait &amp; get something from UI Thread", "body": "<p>Using <code>Dispatchers.Main</code> and <code>Dispatchers.IO</code> might allow you to use different contexts, but we need to understand that starting a new coroutine is not as starting a new thread. Coroutines are light weight threads. And for communication you need to use some concept called as <code>Channels</code>. Please refer this <a href=\"https://proandroiddev.com/kotlin-coroutines-channels-csp-android-db441400965f\" rel=\"nofollow noreferrer\">link</a>. </p>\n\n<p>Similarly using channels you can link a coroutine in thread to a coroutine on another</p>\n"}, {"tags": [], "owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1569416215, "last_edit_date": 1569416215, "creation_date": 1569415860, "answer_id": 58098855, "question_id": 58097968, "link": "https://stackoverflow.com/questions/58097968/kotlin-using-coroutines-from-worker-thread-to-wait-get-something-from-ui-threa/58098855#58098855", "title": "Kotlin using coroutines from worker thread to wait &amp; get something from UI Thread", "body": "<p>Just implement <strong>CoroutineScope</strong> in your class and  define variable in your class as </p>\n\n<pre><code> private val job = Job()\n override val coroutineContext: CoroutineContext\n get() = job + Dispatchers.Main\n</code></pre>\n\n<p>and now you can do as in your class:-</p>\n\n<pre><code>launch(Dispatchers.Main) {\n    val data = async(Dispatchers.IO) {\n        // do your work in background thread\n    }.await()\n    //And now data return on UI thread\n}\n</code></pre>\n\n<p>Example :-</p>\n\n<pre><code>    Class MyClassFragment: Fragment(), CoroutineScope {\nprivate val job = Job()\noverride val coroutineContext: CoroutineContext\n    get() = job + Dispatchers.Main\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    launch(Dispatchers.Main) {\n        val data = async(Dispatchers.IO) {\n            // do your background operation\n        }.await()\n        //And now data return on UI thread\n    }\n}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2615, "user_id": 3535408, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/289ea239b6ee021a1789c400532aa7ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mackovich", "link": "https://stackoverflow.com/users/3535408/mackovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1569416215, "creation_date": 1569413129, "last_edit_date": 1569413529, "question_id": 58097968, "link": "https://stackoverflow.com/questions/58097968/kotlin-using-coroutines-from-worker-thread-to-wait-get-something-from-ui-threa", "title": "Kotlin using coroutines from worker thread to wait &amp; get something from UI Thread", "body": "<p>Let's say you are in a <code>WorkerThread</code> performing a long-running task. But, in order to complete said long-running task, you must get <em>something</em> from the <code>UI Thread</code>.</p>\n\n<p>Basically, I need to access the <strong>UI Thread</strong> which will generate an object that MUST be initialized on the UI thread but then can be used in any thread.</p>\n\n<p>What I would like to do is possibly use coroutines / suspended functions where the worker thread actually waits for an operation on the UI Thread completes.</p>\n\n<p>How can I achieve such a thing ? Thanks !</p>\n\n<p>The following represents a schema of what I intend to achieve:</p>\n\n<pre><code>@WorkerThread\nfun processTask() {\n    // ... do some stuff to init work\n    val something = getSomethingFromUiThread() // wait\n    // ... resume &amp; complete stuff with \"something\"\n}\n\n@MainThread\nsuspend fun getSomethingFromUiThread() {\n    // ... create object on UI Thread\n    // ... return initialized object to the worker thread\n}\n\n</code></pre>\n\n<p>I hope that helps.</p>\n"}, {"tags": ["rest", "kotlin", "swagger", "swagger-codegen"], "answers": [{"tags": [], "owner": {"reputation": 488, "user_id": 2270076, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aKJgA.jpg?s=128&g=1", "display_name": "Torhan Bartel", "link": "https://stackoverflow.com/users/2270076/torhan-bartel"}, "is_accepted": true, "score": 0, "last_activity_date": 1579099202, "creation_date": 1579099202, "answer_id": 59753674, "question_id": 58096173, "link": "https://stackoverflow.com/questions/58096173/modify-contentheaders-of-swagger-codegen-methods-in-kotlin/59753674#59753674", "title": "Modify contentHeaders of Swagger Codegen methods in kotlin", "body": "<p>By now, i found a solution, that is more of a hack, but it works.</p>\n\n<p>As i am using gradle to build the app, i introduced a task, that changes the generated swagger code, before it actually compiles.</p>\n\n<pre><code>task editAPISources {\n    def token = \"Map&lt;String, String&gt; by ApplicationDelegates.setOnce(mapOf(ContentType to JsonMediaType, Accept to JsonMediaType))\"\n    def value = \"MutableMap&lt;String, String&gt; = mutableMapOf(ContentType to JsonMediaType, Accept to JsonMediaType)\"\n    def file = new File(\"./app/tmp/RestApi/src/main/kotlin/io/swagger/client/infrastructure/ApiClient.kt\")\n    def newConfig = file.text.replace(token, value)\n    file.write newConfig\n}\n</code></pre>\n\n<p>The result is a now changeable header :=</p>\n\n<pre><code>@JvmStatic\nvar defaultHeaders: MutableMap&lt;String, String&gt; = mutableMapOf(ContentType to JsonMediaType, Accept to JsonMediaType)\n</code></pre>\n"}], "owner": {"reputation": 488, "user_id": 2270076, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aKJgA.jpg?s=128&g=1", "display_name": "Torhan Bartel", "link": "https://stackoverflow.com/users/2270076/torhan-bartel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 59753674, "answer_count": 1, "score": 2, "last_activity_date": 1579099202, "creation_date": 1569406771, "last_edit_date": 1569407285, "question_id": 58096173, "link": "https://stackoverflow.com/questions/58096173/modify-contentheaders-of-swagger-codegen-methods-in-kotlin", "title": "Modify contentHeaders of Swagger Codegen methods in kotlin", "body": "<p>I'm using swagger codegen for my REST API calls. For authentication purposes i need to send a session-token within the headers of every request. This is currently done, via APIClients' <code>defaultHeaders</code></p>\n\n<pre><code>open class ApiClient(val baseUrl: String) {\n    companion object {\n        ...\n        @JvmStatic\n        var defaultHeaders: Map&lt;String, String&gt; by ApplicationDelegates.setOnce(mapOf(ContentType to JsonMediaType, Accept to JsonMediaType))\n        ...\n    }\n}\n</code></pre>\n\n<p>The way swagger generates the code, these headers can only be modified once.</p>\n\n<pre><code>ApiClient.defaultHeaders += mapOf(\"Authorization\" to userSession!!.idToken.jwtToken)\n</code></pre>\n\n<p>The problem with this is, that i cannot change the token (e.g. because another user logged in within the application lifetime). Looking deeper into the generated code, before each request is sent, a merge of both <code>defaultHeaders</code> and <code>requestConfig.headers</code> (=<code>contentHeaders</code>) is being made.</p>\n\n<pre><code>inline protected fun &lt;reified T: Any?&gt; request(requestConfig: RequestConfig, body : Any? = null): ApiInfrastructureResponse&lt;T?&gt; {\n    ...\n    val headers = defaultHeaders + requestConfig.headers\n    ...\n}\n</code></pre>\n\n<p>The given <code>RequestConfig</code> object comes from every api call. However it is not possible to change these <code>contentHeaders</code>. Also they are empty by default.</p>\n\n<pre><code>fun someAPIRestCall(someParam: kotlin.String) : Unit {\n    val localVariableBody: kotlin.Any? = type\n    val localVariableQuery: MultiValueMap = mapOf()\n\n    val contentHeaders: kotlin.collections.Map&lt;kotlin.String,kotlin.String&gt; = mapOf() // THESE WILL BE MERGED WITH defaultHeaders\n    val acceptsHeaders: kotlin.collections.Map&lt;kotlin.String,kotlin.String&gt; = mapOf(\"Accept\" to \"application/json\")\n    val localVariableHeaders: kotlin.collections.MutableMap&lt;kotlin.String,kotlin.String&gt; = mutableMapOf()\n    localVariableHeaders.putAll(contentHeaders)\n    localVariableHeaders.putAll(acceptsHeaders)\n\n    val localVariableConfig = RequestConfig(\n        RequestMethod.POST,\n        \"someEndpointURL\"),\n        query = localVariableQuery,\n        headers = localVariableHeaders // THESE WILL BE MERGED WITH defaultHeaders\n    )\n    val response = request&lt;Unit&gt;(\n        localVariableConfig,\n        localVariableBody\n    )\n    ...\n}\n</code></pre>\n\n<p>Is it possible to tell swagger-codegen to include some kind of parameter to the generated method signature to add values to those <code>contentHeaders</code>?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This is the current code-gen call within my gradle build chain</p>\n\n<pre><code>task generateSwagger(type: JavaExec) {\n    main = \"-jar\"\n    args \"swagger-codegen-cli-2.4.7.jar\", \"generate\", \"-i\", \"./swagger_core.yml\", \"-l\", \"kotlin\", \"-o\", \"./tmp/RestApi\", \"--type-mappings\", \"number=kotlin.Long\"\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 4297, "user_id": 2175647, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SJGmE.jpg?s=128&g=1", "display_name": "hrskrs", "link": "https://stackoverflow.com/users/2175647/hrskrs"}, "edited": false, "score": 0, "creation_date": 1569405628, "post_id": 58095797, "comment_id": 102583865, "body": "<code>val</code> is immutable/read only. You cannot assign a value to it. Use <code>var</code> instead"}, {"owner": {"reputation": 315, "user_id": 10097275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1f7b0b7c248ac62b0f6cfbed321fb22?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/10097275/nik"}, "edited": false, "score": 0, "creation_date": 1569405836, "post_id": 58095797, "comment_id": 102583967, "body": "Can you post your error log?"}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569406297, "post_id": 58095797, "comment_id": 102584215, "body": "\u0131 have not assing val. I used var. log sad   Val cannot be reassigned for rvarackategori = root.findViewById(R.id.rvarackategori) as RecyclerView"}, {"owner": {"reputation": 315, "user_id": 10097275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1f7b0b7c248ac62b0f6cfbed321fb22?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/10097275/nik"}, "edited": false, "score": 0, "creation_date": 1569406556, "post_id": 58095797, "comment_id": 102584333, "body": "ok.. it seems you have re-assinged a synthetic-id  just add val before  rvarackategori and please refer to this blog <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">antonioleiva.com/kotlin-android-extensions</a>"}, {"owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1569406692, "post_id": 58095797, "comment_id": 102584421, "body": "Where is rvarackategori defined? It isn&#39;t in your code"}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "reply_to_user": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1569406980, "post_id": 58095797, "comment_id": 102584558, "body": "@ScottCooper rvarackategori is my recycleview name.Its defined my fragment layout."}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "reply_to_user": {"reputation": 315, "user_id": 10097275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1f7b0b7c248ac62b0f6cfbed321fb22?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/10097275/nik"}, "edited": false, "score": 0, "creation_date": 1569407054, "post_id": 58095797, "comment_id": 102584603, "body": "@nik I added val it works. But now, \u0131 havent see my recycleview in my fragment. It is empty."}, {"owner": {"reputation": 315, "user_id": 10097275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1f7b0b7c248ac62b0f6cfbed321fb22?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/10097275/nik"}, "edited": false, "score": 0, "creation_date": 1569407307, "post_id": 58095797, "comment_id": 102584724, "body": "it may because of you haven&#39;t added LayoutManager to recyclerview"}, {"owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1569407744, "post_id": 58095797, "comment_id": 102585005, "body": "Please post your layout xml file"}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 10097275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1f7b0b7c248ac62b0f6cfbed321fb22?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/10097275/nik"}, "edited": false, "score": 0, "creation_date": 1569408241, "post_id": 58096585, "comment_id": 102585251, "body": "agreed...also need to add layout manager either in xml or in code"}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569408904, "post_id": 58096585, "comment_id": 102585586, "body": "i cannot add xml file. \u0131t says: It looks like your post is mostly code; please add some more details."}, {"owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1569409485, "post_id": 58096585, "comment_id": 102585881, "body": "It&#39;s ok I don&#39;t need to see it, I can see the problem from the line I posted above."}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569409619, "post_id": 58096585, "comment_id": 102585976, "body": "@ScottCooper Hello Scott,  \u0131 added onViewCreated function as you mentioned it.Now my onCreateView is empty. I guess \u0131 shouldl layout manager also.Is it should be in onViewcreated  function also? Because fragment is empty now."}, {"owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1569410479, "post_id": 58096585, "comment_id": 102586427, "body": "onCreateView is called for you to provide your layout file so it shouldn&#39;t be empty.  onViewCreated is called when your view has been created and the widgets have been instantiated. You should add your layout manager in this function."}], "tags": [], "owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "is_accepted": false, "score": 1, "last_activity_date": 1569408129, "creation_date": 1569408129, "answer_id": 58096585, "question_id": 58095797, "link": "https://stackoverflow.com/questions/58095797/using-recycleview-in-fragment-val-cannot-be-reassigned-problem/58096585#58096585", "title": "Using RecycleView in fragment Val cannot be reassigned problem", "body": "<pre><code>rvarackategori = root.findViewById(R.id.rvarackategori) as RecyclerView\n</code></pre>\n\n<p>That line is your problem. You've set the RecyclerView id to be <code>@id/rvarackategori</code>, when you create a Fragment in Kotlin you can access views in the layout without using <code>findViewById</code>, you just need to use the id of the view.</p>\n\n<p>So in this case you're accessing <code>rvarackategori</code> by its id, then you are finding the same view using findViewById and trying to assign it to itself.</p>\n\n<p>Try this:</p>\n\n<pre><code> override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        galleryViewModel = ViewModelProviders.of(this).get(GalleryViewModel::class.java)\n        return inflater.inflate(R.layout.fragment_category, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        var MyAdapter = AracMarkaAdapter(araclarKategori)\n        rvarackategori.adapter = MyAdapter\n        veriKaynaginiDoldur()\n    }\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569408129, "creation_date": 1569405484, "last_edit_date": 1569407485, "question_id": 58095797, "link": "https://stackoverflow.com/questions/58095797/using-recycleview-in-fragment-val-cannot-be-reassigned-problem", "title": "Using RecycleView in fragment Val cannot be reassigned problem", "body": "<p>i tried to use recycleview in fragment but i get \"val cannot be reassigned\" error.I am confused because i didnt give any value, \u0131 used variable.\nmy mainacitvity:</p>\n\n<pre><code>class KategoriFragment : Fragment() {\n    var araclarKategori = ArrayList&lt;AracMarka&gt;()\n\n    private lateinit var galleryViewModel: GalleryViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        galleryViewModel =\n            ViewModelProviders.of(this).get(GalleryViewModel::class.java)\n        var root = inflater.inflate(R.layout.fragment_category, container, false)\n        rvarackategori = root.findViewById(R.id.rvarackategori) as RecyclerView\n        var MyAdapter = AracMarkaAdapter(araclarKategori)\n        rvarackategori.adapter = MyAdapter\n        veriKaynaginiDoldur()\n        return root\n    }\n\n    fun veriKaynaginiDoldur(): ArrayList&lt;AracMarka&gt; {\n\n        var aracLogo = arrayOf(R.drawable.opellogo, R.drawable.chevroletlogo)\n        var aracismi = resources.getStringArray(R.array.arabaisim)\n\n        for (i in 0..araclarKategori.size - 1) {\n\n            var eklenecekaracKategori = AracMarka(aracismi[i], aracLogo[i])\n            araclarKategori.add(eklenecekaracKategori)\n        }\n        return araclarKategori\n\n    }\n}\n</code></pre>\n\n<p>This is my adapter:        </p>\n\n<pre><code>    class AracMarkaAdapter(tumKategori: ArrayList&lt;AracMarka&gt;) :\n        RecyclerView.Adapter&lt;AracMarkaAdapter.AracMarkaViewHolder&gt;() {\n\n        var araclar = tumKategori\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AracMarkaViewHolder {\n\n            var inflater = LayoutInflater.from(parent.context)\n            var arackategori = inflater.inflate(R.layout.arac_kategori, parent, false)\n\n            return AracMarkaViewHolder(arackategori)\n\n        }\n\n        override fun getItemCount(): Int {\n            return araclar.size\n        }\n\n        override fun onBindViewHolder(holder: AracMarkaViewHolder, position: Int) {\n\n            holder.aracismi.text=araclar.get(position).aracAdi\n            holder.aracLogo.setImageResource(araclar.get(position).aracLogo)\n\n        }   \n\n        class AracMarkaViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n            var teksatirKategori= itemView\n            var aracismi= teksatirKategori.tvaracAdi\n            var aracLogo=teksatirKategori.img_arac_sembol\n}\n    }\n</code></pre>\n"}, {"tags": ["android", "canvas", "kotlin", "android-asynctask", "surfaceview"], "comments": [{"owner": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1569404873, "post_id": 58095518, "comment_id": 102583436, "body": "try using AsyncTask"}, {"owner": {"reputation": 81, "user_id": 5345654, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10201057720200998/picture?type=large", "display_name": "Dang Hoang", "link": "https://stackoverflow.com/users/5345654/dang-hoang"}, "reply_to_user": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1569405105, "post_id": 58095518, "comment_id": 102583565, "body": "Can you give me some example of code ?"}, {"owner": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1569405290, "post_id": 58095518, "comment_id": 102583673, "body": "<a href=\"https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin\" title=\"asynctask in android with kotlin\">stackoverflow.com/questions/44525388/&hellip;</a>"}, {"owner": {"reputation": 81, "user_id": 5345654, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10201057720200998/picture?type=large", "display_name": "Dang Hoang", "link": "https://stackoverflow.com/users/5345654/dang-hoang"}, "reply_to_user": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1569405721, "post_id": 58095518, "comment_id": 102583920, "body": "canvas can work on it ? i used to try but canvas break in asynctask."}, {"owner": {"reputation": 780, "user_id": 4724129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HVtz3.jpg?s=128&g=1", "display_name": "Clement Osei Tano", "link": "https://stackoverflow.com/users/4724129/clement-osei-tano"}, "edited": false, "score": 0, "creation_date": 1569405973, "post_id": 58095518, "comment_id": 102584043, "body": "@DangHoang, check my answer below. I can only write the code in Java but it will be buggy if I try it in Kotlin."}], "answers": [{"comments": [{"owner": {"reputation": 780, "user_id": 4724129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HVtz3.jpg?s=128&g=1", "display_name": "Clement Osei Tano", "link": "https://stackoverflow.com/users/4724129/clement-osei-tano"}, "reply_to_user": {"reputation": 81, "user_id": 5345654, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10201057720200998/picture?type=large", "display_name": "Dang Hoang", "link": "https://stackoverflow.com/users/5345654/dang-hoang"}, "edited": false, "score": 0, "creation_date": 1569407196, "post_id": 58095905, "comment_id": 102584667, "body": "I&#39;m also new to Kotlin, I hardly write Kotlin in work environment when I have deadlines."}, {"owner": {"reputation": 81, "user_id": 5345654, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10201057720200998/picture?type=large", "display_name": "Dang Hoang", "link": "https://stackoverflow.com/users/5345654/dang-hoang"}, "edited": false, "score": 0, "creation_date": 1569492290, "post_id": 58095905, "comment_id": 102618082, "body": "I transfer to kotlin and it show this error: Could not complete scheduled request to refresh entries. ClientErrorCode: 3"}, {"owner": {"reputation": 780, "user_id": 4724129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HVtz3.jpg?s=128&g=1", "display_name": "Clement Osei Tano", "link": "https://stackoverflow.com/users/4724129/clement-osei-tano"}, "reply_to_user": {"reputation": 81, "user_id": 5345654, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10201057720200998/picture?type=large", "display_name": "Dang Hoang", "link": "https://stackoverflow.com/users/5345654/dang-hoang"}, "edited": false, "score": 0, "creation_date": 1569505628, "post_id": 58095905, "comment_id": 102625350, "body": "I know little Kotlin so check <a href=\"https://stackoverflow.com/questions/50324189/could-not-complete-scheduled-request-to-refresh-entries-clienterrorcode-3-andr#50483744\">here</a> for a possible solution."}], "tags": [], "owner": {"reputation": 780, "user_id": 4724129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HVtz3.jpg?s=128&g=1", "display_name": "Clement Osei Tano", "link": "https://stackoverflow.com/users/4724129/clement-osei-tano"}, "is_accepted": false, "score": 0, "last_activity_date": 1569407002, "last_edit_date": 1569407002, "creation_date": 1569405875, "answer_id": 58095905, "question_id": 58095518, "link": "https://stackoverflow.com/questions/58095518/how-to-draw-many-bitmap-on-cavas/58095905#58095905", "title": "How to draw many bitmap on cavas", "body": "<p>From the code you posted, majority of the operation in the function does not involve a view. The only part that interacts with a view is the canvas drawing operation. So as has been pointed out in the comments, you should run all the calculations in a worker thread, then call a runOnUIThread with a runnable to do the final drawing on the canvas. The runOnUIThread call will prevent android from throwing an error that occurs when you modify a view from a worker thread not tied to the UI.</p>\n\n<p>The options you have here are obviously AsyncTask and the threading classes. In my example below, I am using an AyncTask.</p>\n\n<pre><code>void draw_beautiful(Canvas canvas) {\n        MyDrawingWorkerTask myDrawingWorkerTask = new MyDrawingWorkerTask(this);\n        myDrawingWorkerTask.execute(canvas);\n    }\n\n\n/**\n * A class for doing a lot of the work in a background\n */\nprivate static class MyDrawingWorkerTask extends AsyncTask&lt;Canvas, Void, Void&gt; {\n\n    private final Activity activity;\n\n    public MyDrawingWorkerTask(Activity activity) {// add more parameters to use to set other variables like cloud_number, etc\n        this.activity = activity;\n    }\n\n    // This is where the work is being done\n    @Override\n    protected Void doInBackground(Canvas... canvases) {\n        final Canvas canvas = canvases[0];\n        final Paint mPaint = new Paint();\n        mPaint.setStyle(Paint.Style.FILL);\n        mPaint.setAntiAlias(true);\n        mPaint.setColor(Color.BLACK);\n\n        int vt = 0;\n        float x1 = 0f;\n        float y1 = 0f;\n        int style = 0;\n\n        for (int i = 0; i &lt; cloud_number; i++) {\n            vt = i * 4 - 3;\n            style = mt_cloud[vt];\n            x1 = mt_cloud[vt + 2].toFloat();\n            y1 = mt_cloud[vt + 3].toFloat();\n\n\n            Bitmap ob = canvas_cloud1;\n            if (style == 0) ob = canvas_cloud1;\n            else if (style == 1) ob = canvas_cloud2;\n            else if (style == 2) ob = canvas_cloud3;\n\n            Bitmap finalOb = ob;\n            float finalX = x1;\n            float finalY = y1;\n\n            // note that this is what interacts with the view\n            activity.runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    canvas.drawBitmap(finalOb, finalX, finalY, mPaint);\n                }\n            });\n        }\n        return null;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5345654, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10201057720200998/picture?type=large", "display_name": "Dang Hoang", "link": "https://stackoverflow.com/users/5345654/dang-hoang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1601195160, "creation_date": 1569404466, "last_edit_date": 1601195160, "question_id": 58095518, "link": "https://stackoverflow.com/questions/58095518/how-to-draw-many-bitmap-on-cavas", "title": "How to draw many bitmap on cavas", "body": "<p>I want to draw many bitmaps on canvas but the android show: &quot;The application may be doing too much work on its main thread&quot; and the app doesn't run. [ cloud_number is over 50 ]</p>\n<p>Here my code:</p>\n<pre><code> fun draw_beautiful(canvas: Canvas){\n\n    val mPaint: Paint = Paint()\n    mPaint.style = Paint.Style.FILL\n    mPaint.isAntiAlias = true\n    mPaint.color= Color.BLACK\n\n    var vt = 0; var x1 =0f; var y1 =0f;var style =0;\n\n    for (i in 1..cloud_number){\n        vt = i*4-3\n        style = mt_cloud[vt]\n        x1  = mt_cloud[vt+2].toFloat()\n        y1 = mt_cloud[vt+3].toFloat()\n\n        \n        var ob= canvas_cloud1\n        if (style==0) ob= canvas_cloud1\n        else if (style==1) ob= canvas_cloud2\n        else if (style==2) ob= canvas_cloud3\n\n        canvas.drawBitmap(ob, x1,y1 , mPaint)\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 3282406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0acaa21a1aa0304f8f6895571ed108c?s=128&d=identicon&r=PG&f=1", "display_name": "Abid Ali", "link": "https://stackoverflow.com/users/3282406/abid-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1569403369, "creation_date": 1569403369, "answer_id": 58095196, "question_id": 58095006, "link": "https://stackoverflow.com/questions/58095006/how-do-i-use-buttons-inside-fragments-in-kotlin-for-android-development/58095196#58095196", "title": "How do I use buttons inside fragments in Kotlin for android development?", "body": "<p>Try your inside onViewCreated instead of onCreateView using getView()/view.</p>\n\n<p>e.g:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n   val temporary_button = getView().findViewById&lt;Button&gt;(R.id.temporary_button2)\n   temporary_button2.setOnClickListener{\n   makeText(this, \"You clicked the button\", LENGTH_LONG).show()\n   }\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 5527475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fffbc90925b07871427a187d58d99529?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Wong", "link": "https://stackoverflow.com/users/5527475/jeff-wong"}, "is_accepted": false, "score": 0, "last_activity_date": 1569404105, "creation_date": 1569404105, "answer_id": 58095431, "question_id": 58095006, "link": "https://stackoverflow.com/questions/58095006/how-do-i-use-buttons-inside-fragments-in-kotlin-for-android-development/58095431#58095431", "title": "How do I use buttons inside fragments in Kotlin for android development?", "body": "<p>There is no <code>findViewById</code> in fragment, normally inside a fragment you should override the <code>onCreateView</code> method, inflate your own layout and try to get views from the view you inflated. For example :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        if (mContentView == null){\n            mContentView = inflater.inflate(R.layout.family_fragment_scene_list, container, false);\n        }\n\n        type = getArguments().getInt(ARGS_KEY_TYPE);\n\n        adapter = new SceneAdapter(getContext());\n        // get views from mContentView\n        mSceneList = (RecyclerView) mContentView.findViewById(R.id.swipe_target);\n        mSceneList.setLayoutManager(new LinearLayoutManager(getContext()));\n        mSceneList.setAdapter(adapter);\n\n        return mContentView;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12117694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e122aac8803bbcfe677d7b6cbd7b8a?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/12117694/lev"}, "is_accepted": false, "score": 1, "last_activity_date": 1569406726, "creation_date": 1569406726, "answer_id": 58096153, "question_id": 58095006, "link": "https://stackoverflow.com/questions/58095006/how-do-i-use-buttons-inside-fragments-in-kotlin-for-android-development/58096153#58096153", "title": "How do I use buttons inside fragments in Kotlin for android development?", "body": "<p>This is what worked out for me in the end:</p>\n\n<pre><code>class DashboardFragment : Fragment() {\n\nprivate lateinit var dashboardViewModel: DashboardViewModel\n\noverride fun onCreateView(\n    inflater: LayoutInflater,\n    container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    dashboardViewModel =\n        ViewModelProviders.of(this).get(DashboardViewModel::class.java)\n    val root = inflater.inflate(R.layout.fragment_dashboard, container, false)\n    val textView: TextView = root.findViewById(R.id.text_dashboard)\n    dashboardViewModel.text.observe(this, Observer {\n        textView.text = it\n    })\n    val button2 : Button = root.findViewById&lt;Button&gt;(R.id.temporary_button2)\n    button2.setOnClickListener{\n        println(\"clicked button 2\")\n        Toast.makeText(view?.context, \"Button Clicked\", Toast.LENGTH_LONG).show()\n    }\n    return root\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 11, "user_id": 12117694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e122aac8803bbcfe677d7b6cbd7b8a?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/12117694/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569406726, "creation_date": 1569402716, "last_edit_date": 1569403368, "question_id": 58095006, "link": "https://stackoverflow.com/questions/58095006/how-do-i-use-buttons-inside-fragments-in-kotlin-for-android-development", "title": "How do I use buttons inside fragments in Kotlin for android development?", "body": "<p>I am new to android development and created a new project from android studio with a bottom navigation activity in Kotlin. Besides <code>MainActivity.kt</code> also dashboard, home and notifications Fragments and its ViewModels were generated. When I handle the button click inside the MainActivity class, everything works fine.  </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val navView: BottomNavigationView = findViewById(R.id.nav_view)\n\n        val navController = findNavController(R.id.nav_host_fragment)\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        val appBarConfiguration = AppBarConfiguration(setOf(\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications))\n        setupActionBarWithNavController(navController, appBarConfiguration)\n        navView.setupWithNavController(navController)\n\n        //handle button click\n        val temporary_button = findViewById&lt;Button&gt;(R.id.temporary_button)\n        temporary_button.setOnClickListener{\n            makeText(this, \"You clicked the button\", LENGTH_LONG).show()\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the screenshot of a working button <a href=\"https://i.stack.imgur.com/PeVdX.jpg\" rel=\"nofollow noreferrer\">Button works fine</a></p>\n\n<p>However I do not understand how to use the buttons inside different fragments. I tried to create a functionality for the second button inside a dashboard fragment <a href=\"https://i.stack.imgur.com/RUUcP.jpg\" rel=\"nofollow noreferrer\">Screenshot of a second button</a> but I haven't found a solution. I have tried </p>\n\n<pre><code>class DashboardFragment : Fragment() {\n\n    private lateinit var dashboardViewModel: DashboardViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        dashboardViewModel =\n            ViewModelProviders.of(this).get(DashboardViewModel::class.java)\n        val root = inflater.inflate(R.layout.fragment_dashboard, container, false)\n        val textView: TextView = root.findViewById(R.id.text_dashboard)\n        dashboardViewModel.text.observe(this, Observer {\n            textView.text = it\n        })\n        //handle button click\n        val temporary_button = findViewById&lt;Button&gt;(R.id.temporary_button2)\n        temporary_button2.setOnClickListener{\n            makeText(this, \"You clicked the button\", LENGTH_LONG).show()\n        }\n        return root\n    }\n\n}\n</code></pre>\n\n<p>but apperently this piece of code </p>\n\n<pre><code>//handle button click\n    val temporary_button = findViewById&lt;Button&gt;(R.id.temporary_button2)\n    temporary_button2.setOnClickListener{\n        makeText(this, \"You clicked the button\", LENGTH_LONG).show()\n    }\n</code></pre>\n\n<p>is wrong. Another thing that I have tried is changing the <code>fragment_dashboard.xml</code> file and setting the onClick property to a function name (<code>android:onClick=\"button2click\"</code>). Here is the entire xml:</p>\n\n<pre><code>    &lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/text_dashboard\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:textAlignment=\"center\"\n        android:textSize=\"20sp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;Button\n        android:id=\"@+id/temporary_button2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"192dp\"\n        android:layout_marginBottom=\"248dp\"\n        android:onClick=\"button2click\"\n        android:text=\"Button2\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"1.0\"\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n</code></pre>\n\n<p>I tried to use the function like this: </p>\n\n<pre><code>class DashboardFragment : Fragment() {\n\n    private lateinit var dashboardViewModel: DashboardViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        dashboardViewModel =\n            ViewModelProviders.of(this).get(DashboardViewModel::class.java)\n        val root = inflater.inflate(R.layout.fragment_dashboard, container, false)\n        val textView: TextView = root.findViewById(R.id.text_dashboard)\n        dashboardViewModel.text.observe(this, Observer {\n            textView.text = it\n        })\n\n        return root\n    }\n    fun button2click (view: View){\n        println(\"Button clicked\")\n    }\n\n}\n</code></pre>\n\n<p>but this way it doesn't work and the application crashes when I click the button.</p>\n\n<p>Any help on how to use the buttons inside fragments would be appreceated.</p>\n"}, {"tags": ["android", "kotlin", "onclicklistener", "android-view"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 3, "creation_date": 1569401598, "post_id": 58094649, "comment_id": 102581600, "body": "what does not working mean? Please show the real code"}, {"owner": {"reputation": 5559, "user_id": 4977669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e4701298169d4e32a3b952ef941ab8e?s=128&d=identicon&r=PG&f=1", "display_name": "dev90", "link": "https://stackoverflow.com/users/4977669/dev90"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569401668, "post_id": 58094649, "comment_id": 102581643, "body": "@TimCastelijns nothing happens when i tap on TextView, let me add the complete code"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569401709, "post_id": 58094649, "comment_id": 102581672, "body": "not the complete code, just the real code. The one you have above doesn&#39;t compile"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 3, "creation_date": 1569401716, "post_id": 58094649, "comment_id": 102581676, "body": "<a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#view-binding\" rel=\"nofollow noreferrer\">No need to do <code>findViewById()</code> in kotlin</a>"}, {"owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1569401994, "post_id": 58094649, "comment_id": 102581813, "body": "Is this code accurate, are you setting the click listener before initialising it?"}, {"owner": {"reputation": 5559, "user_id": 4977669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e4701298169d4e32a3b952ef941ab8e?s=128&d=identicon&r=PG&f=1", "display_name": "dev90", "link": "https://stackoverflow.com/users/4977669/dev90"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569402016, "post_id": 58094649, "comment_id": 102581824, "body": "@TimCastelijns : I have added updated code,"}, {"owner": {"reputation": 5559, "user_id": 4977669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e4701298169d4e32a3b952ef941ab8e?s=128&d=identicon&r=PG&f=1", "display_name": "dev90", "link": "https://stackoverflow.com/users/4977669/dev90"}, "reply_to_user": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1569402174, "post_id": 58094649, "comment_id": 102581908, "body": "@ScottCooper : I also tried, view.SetOnCLickListener{ performAction() }, but it also didn&#39;t work"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569402210, "post_id": 58094649, "comment_id": 102581931, "body": "probably it works and the problem is elsewhere. Check with debugger if the when statement is executed"}, {"owner": {"reputation": 5559, "user_id": 4977669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e4701298169d4e32a3b952ef941ab8e?s=128&d=identicon&r=PG&f=1", "display_name": "dev90", "link": "https://stackoverflow.com/users/4977669/dev90"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569403161, "post_id": 58094649, "comment_id": 102582494, "body": "@TimCastelijns: I have cordinatorLayout and inside that i have a constriant layout which contains this text view, in the same cordinatorLayout i have multiple <code>&lt;include&gt; tags</code> each contains multiple constraint layouts"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569403489, "post_id": 58094649, "comment_id": 102582663, "body": "yeah so? I repeat &quot;Check with debugger if the when statement is executed&quot;"}, {"owner": {"reputation": 3447, "user_id": 3422556, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/35e40ffc58d3616ddad24cdd8f80f493?s=128&d=identicon&r=PG", "display_name": "Ragu Swaminathan", "link": "https://stackoverflow.com/users/3422556/ragu-swaminathan"}, "edited": false, "score": 0, "creation_date": 1569403634, "post_id": 58094649, "comment_id": 102582728, "body": "Does it got fixed ? @Kirmani88"}, {"owner": {"reputation": 5559, "user_id": 4977669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e4701298169d4e32a3b952ef941ab8e?s=128&d=identicon&r=PG&f=1", "display_name": "dev90", "link": "https://stackoverflow.com/users/4977669/dev90"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569410884, "post_id": 58094649, "comment_id": 102586625, "body": "@TimCastelijns : no <code>when</code> never gets executed, it goes to <code>val clickListener = View.OnClickListener</code> when creating activity."}], "answers": [{"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569403437, "post_id": 58094865, "comment_id": 102582638, "body": "that&#39;s just a different way to do it, whatever the issue is, this shouldn&#39;t fix it"}], "tags": [], "owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "is_accepted": false, "score": 2, "last_activity_date": 1569402224, "creation_date": 1569402224, "answer_id": 58094865, "question_id": 58094649, "link": "https://stackoverflow.com/questions/58094649/texview-onclicklistener-not-working-from-kotlin-based-activity/58094865#58094865", "title": "TexView onClickListener not working from Kotlin based activity", "body": "<p>Add the extensions plugin to your build.gradle file so that you don't need to use findViewById anymore.</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Then you should be able to add a click listener like so:</p>\n\n<pre><code>tvSignIn.setOnClickListener { view -&gt;\n    launchSignInActivity()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569410976, "post_id": 58096210, "comment_id": 102586664, "body": "that&#39;s just a different way to do it, whatever the issue is, this shouldn&#39;t fix it"}, {"owner": {"reputation": 99, "user_id": 8681943, "user_type": "registered", "profile_image": "https://graph.facebook.com/773405039498046/picture?type=large", "display_name": "Akshay Sawant", "link": "https://stackoverflow.com/users/8681943/akshay-sawant"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569411126, "post_id": 58096210, "comment_id": 102586742, "body": "what does that mean?"}], "tags": [], "owner": {"reputation": 99, "user_id": 8681943, "user_type": "registered", "profile_image": "https://graph.facebook.com/773405039498046/picture?type=large", "display_name": "Akshay Sawant", "link": "https://stackoverflow.com/users/8681943/akshay-sawant"}, "is_accepted": false, "score": 0, "last_activity_date": 1569406885, "creation_date": 1569406885, "answer_id": 58096210, "question_id": 58094649, "link": "https://stackoverflow.com/questions/58094649/texview-onclicklistener-not-working-from-kotlin-based-activity/58096210#58096210", "title": "TexView onClickListener not working from Kotlin based activity", "body": "<p>You just need to do something like this -></p>\n\n<pre><code>class HomeActivityV2 : AppCompatActivity(), View.OnClickListener{ \n\n lateinit var tvSignIn: TextView\n lateinit var ivHomeTeam:ImageView\n lateinit var ivAwayTeam:ImageView\n\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_home_v2)\n\n        tvSignIn= findViewById(R.id.tvHomeSignIn)\n        tvSignIn.setOnClickListener(clickListener)\n\n   }\n\n  override fun onClick(view: View) {\n        when (view.id) {\n             R.id.tvHomeSignIn -&gt;launchSignInActivity()\n        }\n   }\n\n   private fun launchSignInActivity(){\n       ///Your intent method over here.\n   }\n }\n</code></pre>\n\n<p>Its just same as java but a little different. Check it and let me know about it. Thank you.</p>\n"}], "owner": {"reputation": 5559, "user_id": 4977669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e4701298169d4e32a3b952ef941ab8e?s=128&d=identicon&r=PG&f=1", "display_name": "dev90", "link": "https://stackoverflow.com/users/4977669/dev90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569406885, "creation_date": 1569401498, "last_edit_date": 1569403090, "question_id": 58094649, "link": "https://stackoverflow.com/questions/58094649/texview-onclicklistener-not-working-from-kotlin-based-activity", "title": "TexView onClickListener not working from Kotlin based activity", "body": "<p>I recently switched to kotlin, and created an activity and added few views in it, but the click listener on my <code>TextView</code> is not working.</p>\n\n<p>Following is my xml file.</p>\n\n<pre><code>    &lt;TextView\n        android:id=\"@+id/tvHomeSignIn\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"16dp\"\n        android:background=\"@drawable/signin_curve_allside\"\n        android:paddingLeft=\"8dp\"\n        android:paddingTop=\"4dp\"\n        android:paddingRight=\"8dp\"\n        android:paddingBottom=\"4dp\"\n        android:text=\"SIGN IN\"\n        android:textAllCaps=\"true\"\n        android:textColor=\"@color/white\"\n        android:textSize=\"12dp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/imageView21\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/imageView21\"\n        app:layout_constraintVertical_bias=\"0.173\" /&gt;\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class HomeActivityV2 : AppCompatActivity{ \n\n lateinit var tvSignIn: TextView\n lateinit var  ivHomeTeam:ImageView\n lateinit var  ivAwayTeam:ImageView\n\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_home_v2)\n\n\n\n         tvSignIn= findViewById(R.id.tvHomeSignIn)\n         tvSignIn.setOnClickListener(clickListener)\n\n   }\n\n\n       val clickListener = View.OnClickListener {view -&gt;\n\n           when (view.getId()) {\n            R.id.tvHomeSignIn -&gt; launchSignInActivity()\n        }\n    }\n\n\n }\n</code></pre>\n"}, {"tags": ["android", "caching", "kotlin", "exoplayer2.x"], "owner": {"reputation": 33, "user_id": 7175626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81d8af27fed05fed05aff78f5490710d?s=128&d=identicon&r=PG&f=1", "display_name": "Bulat Motygullin", "link": "https://stackoverflow.com/users/7175626/bulat-motygullin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569399844, "creation_date": 1569399844, "question_id": 58094193, "link": "https://stackoverflow.com/questions/58094193/hls-caching-with-cacheutil", "title": "HLS Caching with CacheUtil", "body": "<p>We are using Exoplayer 2.9.4 and HLS video format.\nWhen trying manually cache next video with CacheUtil's cache method, EOFException occurs, but it is working great with mp4. Probably it happens because of caching playlist file instead of video files. The question is if it is possible to use CacheUtil to cache HLS format? If no, what should we use?</p>\n\n<h1>Here is a test project:</h1>\n\n<p><a href=\"https://github.com/Ortyom/ProblemHlsCacheExample/tree/master/app/src/main/java/com/example/hlscachesample\" rel=\"nofollow noreferrer\">https://github.com/Ortyom/ProblemHlsCacheExample/tree/master/app/src/main/java/com/example/hlscachesample</a></p>\n\n<h1>A full bug report captured from the device</h1>\n\n<p>com.google.android.exoplayer2.upstream.HttpDataSource$HttpDataSourceException: java.io.EOFException\nat com.google.android.exoplayer2.upstream.DefaultHttpDataSource.read(DefaultHttpDataSource.java:362)\nat com.google.android.exoplayer2.upstream.cache.CacheDataSource.read(CacheDataSource.java:304)\nat com.google.android.exoplayer2.upstream.TeeDataSource.read(TeeDataSource.java:71)\nat com.google.android.exoplayer2.upstream.cache.CacheDataSource.read(CacheDataSource.java:304)\nat com.google.android.exoplayer2.upstream.cache.CacheUtil.readAndDiscard(CacheUtil.java:307)\nat com.google.android.exoplayer2.upstream.cache.CacheUtil.cache(CacheUtil.java:203)\nat com.google.android.exoplayer2.upstream.cache.CacheUtil.cache(CacheUtil.java:124)\nat com.example.hlscachesample.SimpleVideoPreCacher$cache$1.run(SimpleVideoPreCacher.kt:42)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\nat java.lang.Thread.run(Thread.java:760)\nCaused by: java.io.EOFException\nat com.google.android.exoplayer2.upstream.DefaultHttpDataSource.readInternal(DefaultHttpDataSource.java:700)\nat com.google.android.exoplayer2.upstream.DefaultHttpDataSource.read(DefaultHttpDataSource.java:360)\n... 10 more</p>\n"}, {"tags": ["android", "networking", "kotlin"], "comments": [{"owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1569400620, "post_id": 58094133, "comment_id": 102581002, "body": "Neither of those are errors, they are just warnings letting you know which Security Config the app is using. Is your api call working or not?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 11914993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zuJXUMJ9D4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds5v_Fs84pdYwxRTrrTNwStUTajQ/photo.jpg?sz=128", "display_name": "Gomip", "link": "https://stackoverflow.com/users/11914993/gomip"}, "edited": false, "score": 0, "creation_date": 1569400439, "post_id": 58094280, "comment_id": 102580917, "body": "still same :( . will it matter if i called api in fragment?"}, {"owner": {"reputation": 149, "user_id": 11981973, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBc7eF-rA80ATJ0affQJvM-mGgWVG12duvfwEIXTA=k-s128", "display_name": "Mr.vdtarsariya", "link": "https://stackoverflow.com/users/11981973/mr-vdtarsariya"}, "reply_to_user": {"reputation": 37, "user_id": 11914993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zuJXUMJ9D4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds5v_Fs84pdYwxRTrrTNwStUTajQ/photo.jpg?sz=128", "display_name": "Gomip", "link": "https://stackoverflow.com/users/11914993/gomip"}, "edited": false, "score": 0, "creation_date": 1569400688, "post_id": 58094280, "comment_id": 102581052, "body": "No it doesn&#39;t matter"}, {"owner": {"reputation": 37, "user_id": 11914993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zuJXUMJ9D4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds5v_Fs84pdYwxRTrrTNwStUTajQ/photo.jpg?sz=128", "display_name": "Gomip", "link": "https://stackoverflow.com/users/11914993/gomip"}, "edited": false, "score": 0, "creation_date": 1569401639, "post_id": 58094280, "comment_id": 102581629, "body": "still getting error using network security config from network_security_config debugBuild:true"}], "tags": [], "owner": {"reputation": 149, "user_id": 11981973, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBc7eF-rA80ATJ0affQJvM-mGgWVG12duvfwEIXTA=k-s128", "display_name": "Mr.vdtarsariya", "link": "https://stackoverflow.com/users/11981973/mr-vdtarsariya"}, "is_accepted": false, "score": 0, "last_activity_date": 1569400179, "creation_date": 1569400179, "answer_id": 58094280, "question_id": 58094133, "link": "https://stackoverflow.com/questions/58094133/android-kotlin-network-error-no-network-security-config-specified/58094280#58094280", "title": "android kotlin network error - no network security config specified", "body": "<p>you need to add this StrictMode Policy in onCreate of your class file..</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new \nStrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1569400722, "creation_date": 1569400722, "answer_id": 58094427, "question_id": 58094133, "link": "https://stackoverflow.com/questions/58094133/android-kotlin-network-error-no-network-security-config-specified/58094427#58094427", "title": "android kotlin network error - no network security config specified", "body": "<p>Try using this and remove android:usesCleartextTraffic=\"true\" from the manifest.  </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=\"system\" /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "is_accepted": false, "score": 1, "last_activity_date": 1569400755, "creation_date": 1569400755, "answer_id": 58094435, "question_id": 58094133, "link": "https://stackoverflow.com/questions/58094133/android-kotlin-network-error-no-network-security-config-specified/58094435#58094435", "title": "android kotlin network error - no network security config specified", "body": "<p>Your <code>network-security-config</code> should be similar as below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;enter domain here&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>Example:</p>\n\n<p>If your network call sends request to this domain:</p>\n\n<p><em>www.myapp.com/api/something</em></p>\n\n<p>Then, your <code>network-security-config</code> will look like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;www.myapp.com&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 11914993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zuJXUMJ9D4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds5v_Fs84pdYwxRTrrTNwStUTajQ/photo.jpg?sz=128", "display_name": "Gomip", "link": "https://stackoverflow.com/users/11914993/gomip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569400755, "creation_date": 1569399627, "question_id": 58094133, "link": "https://stackoverflow.com/questions/58094133/android-kotlin-network-error-no-network-security-config-specified", "title": "android kotlin network error - no network security config specified", "body": "<p>i'm trying to connect to api by kotlin in android. but i'm getting error either </p>\n\n<p>No network Securituy Config Specified, using platform default.</p>\n\n<p>or </p>\n\n<p>Using Network Security from resource ntwork_security_config debugBuild:true.</p>\n\n<p>i already add network_security_config.xml in res/xml folder. can anyone help me with this problem?</p>\n\n<p>below are some screenshot</p>\n\n<p><a href=\"https://i.stack.imgur.com/eLmes.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eLmes.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ebXK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebXK5.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Z4vjb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4vjb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "syntax", "kotlin-when"], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 5, "last_activity_date": 1569395356, "creation_date": 1569395356, "answer_id": 58092898, "question_id": 58092805, "link": "https://stackoverflow.com/questions/58092805/calling-string-method-in-kotlin-when-block/58092898#58092898", "title": "Calling String method in Kotlin when block", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/with.html\" rel=\"noreferrer\"><code>with</code></a> </p>\n\n<p>Try this way</p>\n\n<pre><code>    with(foo) {\n        when {\n            equals(\"SOMETHING\") -&gt; println(\"Case 1\")\n            equals(\"something\",false) -&gt; println(\"Case 2\")\n            contains(\"SUBSTRING\") -&gt; println(\"Case 3\")\n            contains(\"bar\") -&gt; println(\"Case 4\")\n            startsWith(\"foo\") -&gt; println(\"Case 5\")\n            else -&gt; println(\"else Case\")\n        }\n    } \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 590, "user_id": 8388068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcfc238d7638568c408955029f07b1dd?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Pitroda", "link": "https://stackoverflow.com/users/8388068/parth-pitroda"}, "is_accepted": false, "score": 0, "last_activity_date": 1569396781, "creation_date": 1569396781, "answer_id": 58093340, "question_id": 58092805, "link": "https://stackoverflow.com/questions/58092805/calling-string-method-in-kotlin-when-block/58093340#58093340", "title": "Calling String method in Kotlin when block", "body": "<p>try this:-</p>\n\n<pre><code> with(foo) {\n    when {\n        equals(\"SOMETHING\") -&gt; { //do stuff}\n        equals(\"something\",false) -&gt; { //do stuff}\n        contains(\"SUBSTRING\") -&gt; { //do stuff}\n        contains(\"bar\") -&gt; { //do stuff}\n        startsWith(\"foo\") -&gt; { //do stuff}\n        else -&gt; { //do stuff}\n    }\n} \n</code></pre>\n"}], "owner": {"reputation": 804, "user_id": 8258872, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cadd7ad672077a70380fee38537939cb?s=128&d=identicon&r=PG&f=1", "display_name": "ColonD", "link": "https://stackoverflow.com/users/8258872/colond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 58092898, "answer_count": 2, "score": 5, "last_activity_date": 1594891081, "creation_date": 1569395023, "last_edit_date": 1594891081, "question_id": 58092805, "link": "https://stackoverflow.com/questions/58092805/calling-string-method-in-kotlin-when-block", "title": "Calling String method in Kotlin when block", "body": "<p>Currently I have a when block like this:</p>\n<pre><code>val foo = getStringFromBar()\n\nwhen {\n    foo == &quot;SOMETHING&quot; -&gt; { /*do stuff*/ }\n    foo == &quot;SOMETHING ELSE&quot; -&gt; { /*do other stuff*/ }\n    foo.contains(&quot;SUBSTRING&quot;) -&gt; { /*do other other stuff*/ }\n    else -&gt; { /*do last resort stuff*/ }\n}\n</code></pre>\n<p>Is there any way to simplify this to something like this:</p>\n<pre><code>val foo = getStringFromBar()\n\nwhen (foo) {\n    &quot;SOMETHING&quot; -&gt; { /*do stuff*/ }\n    &quot;SOMETHING ELSE&quot; -&gt; { /*do other stuff*/ }\n    .contains(&quot;SUBSTRING&quot;) -&gt; { /*do other other stuff*/ }  // This does not work\n    else -&gt; { /*do last resort stuff*/ }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 5955398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Esc5W.jpg?s=128&g=1", "display_name": "Amir Abbas", "link": "https://stackoverflow.com/users/5955398/amir-abbas"}, "is_accepted": false, "score": 2, "last_activity_date": 1569392715, "creation_date": 1569392715, "answer_id": 58092266, "question_id": 58092204, "link": "https://stackoverflow.com/questions/58092204/how-to-check-performance-time-in-java-kotlin/58092266#58092266", "title": "How to check performance time in java/kotlin?", "body": "<p>you can use this code in kotlin:</p>\n\n<pre><code>measureTimeMillis{\n    methodA()\n}\n</code></pre>\n\n<p>measureTimeMillis (as well as measureNanoTime) is a standard library function</p>\n"}, {"tags": [], "owner": {"reputation": 342, "user_id": 8776305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4_r0SZBCdr8/AAAAAAAAAAI/AAAAAAAAMug/NkVBl5H4ECQ/photo.jpg?sz=128", "display_name": "Bhoomin Naik", "link": "https://stackoverflow.com/users/8776305/bhoomin-naik"}, "is_accepted": false, "score": 0, "last_activity_date": 1569393172, "creation_date": 1569393172, "answer_id": 58092373, "question_id": 58092204, "link": "https://stackoverflow.com/questions/58092204/how-to-check-performance-time-in-java-kotlin/58092373#58092373", "title": "How to check performance time in java/kotlin?", "body": "<p>you can check performance time in Profiler tab in Android Studio which is located above the status bar.</p>\n"}], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1569393172, "creation_date": 1569392436, "question_id": 58092204, "link": "https://stackoverflow.com/questions/58092204/how-to-check-performance-time-in-java-kotlin", "title": "How to check performance time in java/kotlin?", "body": "<p>I want to check the performance time.</p>\n\n<p>I have an android app, but there is a claim about the performance.</p>\n\n<p>So I am researching where is the slow part.</p>\n\n<p>To do this, I add some logs like below:</p>\n\n<pre><code>fun methodA() {\n    Log.d(TAG, \"start... \")\n\n    // my business logic\n\n    Log.d(TAG, \"end... \")\n}\n</code></pre>\n\n<p>So I can find the run time of the method.</p>\n\n<p>But now, I want to know how to get the run time of the library method?</p>\n\n<p>In the case of my app code, I can add the logging.\nBut I don't know how to check the library.</p>\n\n<p>Is there any good solution?</p>\n"}, {"tags": ["android", "kotlin", "textview", "blurry"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10070105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oYaV0thrPOk/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qmOJqYCM9csVDQOldtakhuT9qSQg/mo/photo.jpg?sz=128", "display_name": "\u0422\u0443\u0440\u0441\u0443\u043d\u0431\u043e\u0439 \u0422\u043e\u0436\u0438\u0435\u0432", "link": "https://stackoverflow.com/users/10070105/%d0%a2%d1%83%d1%80%d1%81%d1%83%d0%bd%d0%b1%d0%be%d0%b9-%d0%a2%d0%be%d0%b6%d0%b8%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1569393621, "post_id": 58092371, "comment_id": 102577541, "body": "Tried, didn&#39;t help ( again TextView unreachabe, the same result"}], "tags": [], "owner": {"reputation": 71, "user_id": 6387514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQelV.jpg?s=128&g=1", "display_name": "SW Choi", "link": "https://stackoverflow.com/users/6387514/sw-choi"}, "is_accepted": false, "score": 0, "last_activity_date": 1569393169, "creation_date": 1569393169, "answer_id": 58092371, "question_id": 58092118, "link": "https://stackoverflow.com/questions/58092118/wasabeefs-blurry-library-not-effecting-on-textview/58092371#58092371", "title": "wasabeef&#39;s Blurry library not effecting on TextView", "body": "<p>How about adding one more view upper the whole profile and apply blur onto it? </p>\n\n<p>Then you can get all blurry effect from the screen.</p>\n"}], "owner": {"reputation": 21, "user_id": 10070105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oYaV0thrPOk/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qmOJqYCM9csVDQOldtakhuT9qSQg/mo/photo.jpg?sz=128", "display_name": "\u0422\u0443\u0440\u0441\u0443\u043d\u0431\u043e\u0439 \u0422\u043e\u0436\u0438\u0435\u0432", "link": "https://stackoverflow.com/users/10070105/%d0%a2%d1%83%d1%80%d1%81%d1%83%d0%bd%d0%b1%d0%be%d0%b9-%d0%a2%d0%be%d0%b6%d0%b8%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569393169, "creation_date": 1569391982, "question_id": 58092118, "link": "https://stackoverflow.com/questions/58092118/wasabeefs-blurry-library-not-effecting-on-textview", "title": "wasabeef&#39;s Blurry library not effecting on TextView", "body": "<p>I am using wasabeef's Blurry library. I create ConstraintLayout and inside put images, button and TextView. All works except TextView. Actually it also works somehow, but not properly. It gives only smooth shadow around TextView. I used also andoird's BlurMaskFilter. It did not work when I used TextViews as children of parent view with forEach(). But with single TextView works fine. But still I want to solve problem with wasabeef's Blurry library.</p>\n\n<p>Here is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KQjxa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KQjxa.jpg\" alt=\"The Result\"></a></p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1569391513, "post_id": 58092023, "comment_id": 102576684, "body": "Please share your whole layout file with question"}, {"owner": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1569391663, "post_id": 58092023, "comment_id": 102576742, "body": "@NileshRathod updated"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11655041, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SjSsGIffpoU/AAAAAAAAAAI/AAAAAAABbLE/zjtkZp8cmGE/photo.jpg?sz=128", "display_name": "Yug damor", "link": "https://stackoverflow.com/users/11655041/yug-damor"}, "is_accepted": false, "score": -1, "last_activity_date": 1569391749, "creation_date": 1569391749, "answer_id": 58092075, "question_id": 58092023, "link": "https://stackoverflow.com/questions/58092023/android-studio-button-visibility/58092075#58092075", "title": "android studio button visibility", "body": "<p><strong>USE LINEAR LAYOUT AS PARENT LAYOUT</strong>\ni think your button is jumping to (0,0).\nplease use linear layout as parent layout\nand then add button in linear layout..</p>\n"}, {"comments": [{"owner": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "edited": false, "score": 0, "creation_date": 1569392153, "post_id": 58092095, "comment_id": 102576909, "body": "no i don&#39;t want to make it center, if it works then i have other buttons to add. i just need to show it"}, {"owner": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "edited": false, "score": 0, "creation_date": 1569392229, "post_id": 58092095, "comment_id": 102576941, "body": "a bit above the center there will be 3 buttons under each other"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "edited": false, "score": 0, "creation_date": 1569392300, "post_id": 58092095, "comment_id": 102576972, "body": "@mafortis can share your expected output with question so I can update my answer"}, {"owner": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "edited": false, "score": 0, "creation_date": 1569392602, "post_id": 58092095, "comment_id": 102577097, "body": "same as your screenshot, add two more buttons under it with same distance and pull all 3 f them a bit up. so 3 of them in general will be in center of the screen"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "edited": false, "score": 1, "creation_date": 1569392893, "post_id": 58092095, "comment_id": 102577212, "body": "@mafortis welcome let me know if you have any query"}, {"owner": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "edited": false, "score": 0, "creation_date": 1569458882, "post_id": 58092095, "comment_id": 102606669, "body": "sorry for late respond, yes it is working perfectly now except buttons n have space in between in app."}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1569392756, "last_edit_date": 1569392756, "creation_date": 1569391842, "answer_id": 58092095, "question_id": 58092023, "link": "https://stackoverflow.com/questions/58092023/android-studio-button-visibility/58092095#58092095", "title": "android studio button visibility", "body": "<p>if you want to make your button in center in the screen then just use <strong><code>android:layout_centerInParent=\"true\"</code></strong></p>\n\n<p>Use this</p>\n\n<pre><code>&lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"171dp\"\n        android:layout_height=\"55dp\"\n        android:layout_centerInParent=\"true\"\n        android:text=\"alphabetButton\" /&gt;\n</code></pre>\n\n<p>Instead of this</p>\n\n<pre><code>&lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"171dp\"\n        android:layout_height=\"55dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_marginStart=\"119dp\"\n        android:layout_marginLeft=\"119dp\"\n        android:layout_marginTop=\"186dp\"\n        android:layout_marginEnd=\"121dp\"\n        android:layout_marginRight=\"121dp\"\n        android:layout_marginBottom=\"362dp\"\n        android:text=\"@string/alphabetButton\" /&gt;\n</code></pre>\n\n<p><strong>SAMPLE CODE</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:lineSpacingExtra=\"8sp\"\n        android:text=\"@string/selamatDatang\"\n        android:textColor=\"#673AB7\"\n        android:textSize=\"36sp\"\n        android:typeface=\"normal\" /&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        android:id=\"@+id/adView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        ads:adSize=\"SMART_BANNER\"\n        ads:adUnitId=\"ca-app-pub-3940256099942544/6300978111\" /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerInParent=\"true\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;Button\n            android:id=\"@+id/button\"\n            android:layout_width=\"171dp\"\n            android:layout_height=\"55dp\"\n            android:text=\"@string/alphabetButton\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/button2\"\n            android:layout_width=\"171dp\"\n            android:layout_height=\"55dp\"\n            android:text=\"@string/alphabetButton\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/button3\"\n            android:layout_width=\"171dp\"\n            android:layout_height=\"55dp\"\n            android:text=\"@string/alphabetButton\" /&gt;\n    &lt;/LinearLayout&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/5TQWd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5TQWd.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "edited": false, "score": 1, "creation_date": 1569392666, "post_id": 58092123, "comment_id": 102577127, "body": "hi, I need to use string for 2 reasons: 1) avoid studio warnings 2) using translations so i really don&#39;t think using strings is the issue here. thanks btw"}], "tags": [], "owner": {"reputation": 435, "user_id": 12029044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/10Dtc.jpg?s=128&g=1", "display_name": "Tomaz Mazej", "link": "https://stackoverflow.com/users/12029044/tomaz-mazej"}, "is_accepted": false, "score": 0, "last_activity_date": 1569391999, "creation_date": 1569391999, "answer_id": 58092123, "question_id": 58092023, "link": "https://stackoverflow.com/questions/58092023/android-studio-button-visibility/58092123#58092123", "title": "android studio button visibility", "body": "<p>I copied your button and it showed normally on my screen... However I used this: </p>\n\n<p><code>android:text=\"alphabetButton\"</code></p>\n\n<p>instead of this:</p>\n\n<p><code>android:text=\"@string/alphabetButton\"</code></p>\n"}], "owner": {"reputation": 4827, "user_id": 8490993, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/DMTUr.png?s=128&g=1", "display_name": "mafortis", "link": "https://stackoverflow.com/users/8490993/mafortis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 58092095, "answer_count": 3, "score": 1, "last_activity_date": 1569392756, "creation_date": 1569391459, "last_edit_date": 1569391632, "question_id": 58092023, "link": "https://stackoverflow.com/questions/58092023/android-studio-button-visibility", "title": "android studio button visibility", "body": "<p>I have a very simple activity which includes 1 button and that is linked to second activity.</p>\n\n<blockquote>\n  <p>The problem is the button won't show up in app!</p>\n</blockquote>\n\n<p>I have the button in my editor but when i create apk file there is no button in my app.</p>\n\n<h3>In App</h3>\n\n<p><a href=\"https://i.stack.imgur.com/FmPY1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FmPY1.jpg\" alt=\"one\"></a></p>\n\n<h3>In Editor</h3>\n\n<p><a href=\"https://i.stack.imgur.com/DNyrj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DNyrj.png\" alt=\"two\"></a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:lineSpacingExtra=\"8sp\"\n            android:text=\"@string/selamatDatang\"\n            android:textColor=\"#673AB7\"\n            android:textSize=\"36sp\"\n            android:typeface=\"normal\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.143\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.022\" /&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n            xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n            android:id=\"@+id/adView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_alignParentBottom=\"true\"\n            ads:adSize=\"SMART_BANNER\"\n            ads:adUnitId=\"ca-app-pub-3940256099942544/6300978111\"\n            ads:layout_constraintBottom_toBottomOf=\"parent\"\n            ads:layout_constraintStart_toStartOf=\"parent\"\n            ads:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"&gt;\n    &lt;/com.google.android.gms.ads.AdView&gt;\n\n    &lt;Button\n            android:id=\"@+id/button\"\n            android:layout_width=\"171dp\"\n            android:layout_height=\"55dp\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_alignParentLeft=\"true\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_alignParentEnd=\"true\"\n            android:layout_alignParentRight=\"true\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_marginStart=\"119dp\"\n            android:layout_marginLeft=\"119dp\"\n            android:layout_marginTop=\"186dp\"\n            android:layout_marginEnd=\"121dp\"\n            android:layout_marginRight=\"121dp\"\n            android:layout_marginBottom=\"362dp\"\n            android:text=\"@string/alphabetButton\" /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>any idea?</strong></p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1569389977, "post_id": 58091735, "comment_id": 102576128, "body": "Add <code>@Provides</code> to <code>fun providesUserRepository</code>. You don&#39;t need <code>@Binds</code>"}, {"owner": {"reputation": 244, "user_id": 5063628, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-D05OOtSfXSM/AAAAAAAAAAI/AAAAAAAAABU/Kcj6OaAsPSM/photo.jpg?sz=128", "display_name": "Arth Limchiu", "link": "https://stackoverflow.com/users/5063628/arth-limchiu"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1569390121, "post_id": 58091735, "comment_id": 102576179, "body": "@sonnet I already refactored to use the Provides annotation approach but it&#39;s still the same."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1569502247, "post_id": 58091735, "comment_id": 102623389, "body": "@sonnet <code>@Binds</code> was designed specifically for this usecase"}], "answers": [{"tags": [], "owner": {"reputation": 244, "user_id": 5063628, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-D05OOtSfXSM/AAAAAAAAAAI/AAAAAAAAABU/Kcj6OaAsPSM/photo.jpg?sz=128", "display_name": "Arth Limchiu", "link": "https://stackoverflow.com/users/5063628/arth-limchiu"}, "is_accepted": true, "score": 1, "last_activity_date": 1569394623, "creation_date": 1569394623, "answer_id": 58092721, "question_id": 58091735, "link": "https://stackoverflow.com/questions/58091735/dagger-cant-inject-a-parameter-of-type-interface-on-a-viewmodels-constructor-u/58092721#58092721", "title": "Dagger can&#39;t inject a parameter of type interface on a ViewModel&#39;s constructor using Dagger Android", "body": "<p>Solved the issue. Using a generic view model factory found in this Github issue:</p>\n\n<p><a href=\"https://github.com/google/dagger/issues/1273#issuecomment-447997439\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/1273#issuecomment-447997439</a></p>\n"}], "owner": {"reputation": 244, "user_id": 5063628, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-D05OOtSfXSM/AAAAAAAAAAI/AAAAAAAAABU/Kcj6OaAsPSM/photo.jpg?sz=128", "display_name": "Arth Limchiu", "link": "https://stackoverflow.com/users/5063628/arth-limchiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 58092721, "answer_count": 1, "score": 1, "last_activity_date": 1569394623, "creation_date": 1569389722, "question_id": 58091735, "link": "https://stackoverflow.com/questions/58091735/dagger-cant-inject-a-parameter-of-type-interface-on-a-viewmodels-constructor-u", "title": "Dagger can&#39;t inject a parameter of type interface on a ViewModel&#39;s constructor using Dagger Android", "body": "<p>Why can't I inject interface types in ViewModel constructors when using Dagger Android?</p>\n\n<p>Here's my AppComponent</p>\n\n<pre><code>@Singleton\n@Component(\n    modules = [\n        AndroidInjectionModule::class,\n        AppModule::class,\n        ActivityBuilder::class,\n        ViewModelModule::class\n    ]\n)\ninterface AppComponent {\n\n    fun inject(app: App)\n}\n</code></pre>\n\n<p>Here's the module for my activities:</p>\n\n<pre><code>@Module\nabstract class ActivityBuilder {\n\n    @ActivityScope\n    @ContributesAndroidInjector(modules = [UserDetailsModule::class])\n    abstract fun userDetailsActivity(): UserDetailsActivity\n}\n</code></pre>\n\n<p>Here's the UserDetailsModule</p>\n\n<pre><code>@Module\nabstract class UserDetailsModule {\n\n    @Binds\n    @ActivityScope\n    abstract fun providesUserRepository(repository: UserRepositoryImpl): UserRepository\n}\n</code></pre>\n\n<p>Here's the ViewModelModule where I follow the dynamic view model factory solution.</p>\n\n<pre><code>@Module\nabstract class ViewModelModule {\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(UserDetailsViewModel::class)\n    abstract fun userDetailsViewModel(viewModel: UserDetailsViewModel): ViewModel\n\n    @Binds\n    abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n}\n</code></pre>\n\n<p>Here's the concrete class of UserRepository</p>\n\n<pre><code>class UserRepositoryImpl @Inject constructor(private val api: Api) : UserRepository { ... }\n</code></pre>\n\n<p>Here's the UserDetailsViewModel</p>\n\n<pre><code>class UserDetailsViewModel @Inject constructor(private val userRepository: UserRepository) : ViewModel() { ... }\n</code></pre>\n\n<p>When I compile, it will error</p>\n\n<pre><code>UserRepository cannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>However, the confusing part is when I change UserDetailsViewModel's constructor to receive <code>UserRepositoryImpl</code> instead of type <code>UserRepository</code>, it compiles successfully and it works. </p>\n\n<p>Anyone knows what the problem might be?</p>\n"}, {"tags": ["android", "kotlin", "android-button", "material-components", "material-components-android"], "comments": [{"owner": {"reputation": 1782, "user_id": 5750389, "user_type": "registered", "profile_image": "https://graph.facebook.com/908028102588999/picture?type=large", "display_name": "Elias Fazel", "link": "https://stackoverflow.com/users/5750389/elias-fazel"}, "edited": false, "score": 0, "creation_date": 1569379184, "post_id": 58090400, "comment_id": 102573778, "body": "paste complete xml layout and style (if you are using)"}, {"owner": {"reputation": 53, "user_id": 3144772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b5381009667f6324795839cdb93236?s=128&d=identicon&r=PG&f=1", "display_name": "user3144772", "link": "https://stackoverflow.com/users/3144772/user3144772"}, "reply_to_user": {"reputation": 1782, "user_id": 5750389, "user_type": "registered", "profile_image": "https://graph.facebook.com/908028102588999/picture?type=large", "display_name": "Elias Fazel", "link": "https://stackoverflow.com/users/5750389/elias-fazel"}, "edited": false, "score": 0, "creation_date": 1569383114, "post_id": 58090400, "comment_id": 102574500, "body": "I pasted the layout, thanx!"}, {"owner": {"reputation": 4528, "user_id": 2142519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3184d0e60cec3d389bb62fa6bcc9bb?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2142519/david"}, "edited": false, "score": 1, "creation_date": 1569383358, "post_id": 58090400, "comment_id": 102574542, "body": "Some of the method calls to set a color in Android actually take a &#39;resource&#39; id (int) and not the actual int representing the color"}, {"owner": {"reputation": 53, "user_id": 3144772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b5381009667f6324795839cdb93236?s=128&d=identicon&r=PG&f=1", "display_name": "user3144772", "link": "https://stackoverflow.com/users/3144772/user3144772"}, "edited": false, "score": 0, "creation_date": 1569385995, "post_id": 58090400, "comment_id": 102575061, "body": "What I am seeing is I can set opacity : setBackgroundColor( 0xff000000.toInt())  but not color: setBackgroundColor( 0xff00ff00.toInt()) &lt;-- doesnt change color (to green)"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1569389189, "post_id": 58090400, "comment_id": 102575865, "body": "Are you using a Material Theme and Material Components?"}, {"owner": {"reputation": 53, "user_id": 3144772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b5381009667f6324795839cdb93236?s=128&d=identicon&r=PG&f=1", "display_name": "user3144772", "link": "https://stackoverflow.com/users/3144772/user3144772"}, "reply_to_user": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1569463725, "post_id": 58090400, "comment_id": 102607516, "body": "@GabrieleMariotti Oh yes, although I wasn&#39;t aware of it (I started the App from a Android Studio import example)  In my styles.xml there is:     &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;&gt;  And the Button colors are taken from the &quot;colorAccent&quot; in colors.xml  So my problem now is I can&#39;t make the Button using some other color than &quot;colorAccent&quot;  Thank this helps alot!"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1569475587, "post_id": 58090400, "comment_id": 102610056, "body": "@user3144772 just added an answer with the Material Components"}], "answers": [{"tags": [], "owner": {"reputation": 1925, "user_id": 10683256, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GihTcsTZQcQ/AAAAAAAAAAI/AAAAAAAAAAc/mlsTuWfhCkQ/photo.jpg?sz=128", "display_name": "\u6234\u6587\u9526", "link": "https://stackoverflow.com/users/10683256/%e6%88%b4%e6%96%87%e9%94%a6"}, "is_accepted": false, "score": 3, "last_activity_date": 1569394798, "last_edit_date": 1569394798, "creation_date": 1569383174, "answer_id": 58090883, "question_id": 58090400, "link": "https://stackoverflow.com/questions/58090400/android-how-to-set-background-color-on-a-button/58090883#58090883", "title": "Android how to set background color on a Button", "body": "<p><code>mButton.setBackgroundColor(ContextCompat.getColor(mContext, R.color.xxx));</code> </p>\n"}, {"tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 1, "last_activity_date": 1569383697, "creation_date": 1569383697, "answer_id": 58090936, "question_id": 58090400, "link": "https://stackoverflow.com/questions/58090400/android-how-to-set-background-color-on-a-button/58090936#58090936", "title": "Android how to set background color on a Button", "body": "<p>You can change the colour two ways; through XML or through coding. I would recommend XML since it's easier to follow for beginners.</p>\n\n<p><strong>xml</strong> \nadd this attribute to set background color    <code>android:background=\"#000\"</code></p>\n\n<pre><code> &lt;Button\n            android:id=\"@+id/showButton\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"fgkdjgdjsf\"\n            android:background=\"#000\"\n            /&gt;\n</code></pre>\n\n<p><strong>Coding:</strong></p>\n\n<pre><code>showButton.setBackgroundColor(resources.getColor(R.color.colorPrimary))\n        showButton.setBackgroundColor(Color.BLACK)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 3144772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b5381009667f6324795839cdb93236?s=128&d=identicon&r=PG&f=1", "display_name": "user3144772", "link": "https://stackoverflow.com/users/3144772/user3144772"}, "edited": false, "score": 0, "creation_date": 1569708001, "post_id": 58091768, "comment_id": 102685064, "body": "Thank you for detailed answer. But as I noted in the question, this doesn&#39;t work. And as @Gabriele Mariotti pointed out, this doesn&#39;t work because I was using a Material theme."}], "tags": [], "owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "is_accepted": false, "score": 1, "last_activity_date": 1569390300, "last_edit_date": 1569390300, "creation_date": 1569389914, "answer_id": 58091768, "question_id": 58090400, "link": "https://stackoverflow.com/questions/58090400/android-how-to-set-background-color-on-a-button/58091768#58091768", "title": "Android how to set background color on a Button", "body": "<p>In your layout, you are using </p>\n\n<pre><code> &lt;Button\n           android:id=\"@+id/showButton\"\n           android:layout_width=\"wrap_content\"\n           android:layout_height=\"wrap_content\"\n           android:text=\"12dp\"\n           android:text=\"test\"\n           /&gt;\n</code></pre>\n\n<p>if you want to set textSize in Button, you should use     </p>\n\n<pre><code>android:textSize=\"12dp\" \n</code></pre>\n\n<p>and for background set in button your layout should be like :- </p>\n\n<pre><code> &lt;Button\n    android:id=\"@+id/showButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:textSize=\"12dp\"\n    android:text=\"test\"\n    android:background=\"#ff60a0e0\"/&gt;\n</code></pre>\n\n<p>OR You can also set color in colors.xml as :-</p>\n\n<pre><code>&lt;color name=\"button_background\"&gt;#ff60a0e0&lt;/color&gt;\n</code></pre>\n\n<p>and then your button tag in your layout will be as </p>\n\n<pre><code> &lt;Button\n           android:id=\"@+id/showButton\"\n           android:layout_width=\"wrap_content\"\n           android:layout_height=\"wrap_content\"\n           android:textSize=\"12dp\"\n           android:text=\"test\"\n           android:background=\"@color/button_background\"/&gt;\n</code></pre>\n\n<p>Dynamic you can set color as </p>\n\n<pre><code>showButton.setBackgroundColor(ContextCompat.getColor(context!!, R.color.button_background))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 3144772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b5381009667f6324795839cdb93236?s=128&d=identicon&r=PG&f=1", "display_name": "user3144772", "link": "https://stackoverflow.com/users/3144772/user3144772"}, "edited": false, "score": 0, "creation_date": 1569602687, "post_id": 58110084, "comment_id": 102663538, "body": "yes this works. Thanx. The typical answer (setBackgroudColor) doesnt work with Material Themes..."}], "tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": true, "score": 1, "last_activity_date": 1569475557, "creation_date": 1569475557, "answer_id": 58110084, "question_id": 58090400, "link": "https://stackoverflow.com/questions/58090400/android-how-to-set-background-color-on-a-button/58110084#58110084", "title": "Android how to set background color on a Button", "body": "<p>Since you are using a <code>Theme.MaterialComponents.Light.DarkActionBar</code> theme, check the <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/components/MaterialButton.md\" rel=\"nofollow noreferrer\">doc</a> and just use the <strong><code>MaterialButton</code></strong> with <strong><code>app:backgroundTint</code></strong> attribute:</p>\n\n<pre><code>&lt;com.google.android.material.button.MaterialButton\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    app:backgroundTint=\"@color/color_selector\"\n    android:textColor=\"#FFF\"\n    android:text=\"BUTTON\"\n    /&gt;\n</code></pre>\n\n<p>where color_selector can be a color or a selector. Something like:</p>\n\n<pre><code>&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n  &lt;item android:color=\"@color/...\" android:state_enabled=\"true\"/&gt;\n  &lt;item android:alpha=\"0.12\" android:color=\"@color/...\"/&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jAM5u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jAM5u.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1651, "user_id": 13098417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKi06.jpg?s=128&g=1", "display_name": "shirsh shukla", "link": "https://stackoverflow.com/users/13098417/shirsh-shukla"}, "is_accepted": false, "score": 0, "last_activity_date": 1608041791, "creation_date": 1608041791, "answer_id": 65307686, "question_id": 58090400, "link": "https://stackoverflow.com/questions/58090400/android-how-to-set-background-color-on-a-button/65307686#65307686", "title": "Android how to set background color on a Button", "body": "<p>now in kotlin(androidx) you can use this,</p>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatButton\n    android:id=&quot;@+id/buttonExploreAll&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:textAllCaps=&quot;false&quot;\n    android:background=&quot;@drawable/select_yellow&quot;\n    android:text=&quot;button&quot;\n    android:textColor=&quot;@color/white&quot;\n    /&gt;\n</code></pre>\n<p>and select_yellow is your style xml.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n    &lt;stroke\n        android:color=&quot;@color/colorYellow&quot;\n        android:width=&quot;@dimen/_1sdp&quot;/&gt;\n\n    &lt;corners\n        android:radius=&quot;@dimen/_200sdp&quot; /&gt;\n\n    &lt;solid android:color=&quot;@color/colorYellow&quot; /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/D0W9H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D0W9H.png\" alt=\"This look like\" /></a></p>\n"}], "owner": {"reputation": 53, "user_id": 3144772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b5381009667f6324795839cdb93236?s=128&d=identicon&r=PG&f=1", "display_name": "user3144772", "link": "https://stackoverflow.com/users/3144772/user3144772"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5066, "favorite_count": 0, "accepted_answer_id": 58110084, "answer_count": 5, "score": 4, "last_activity_date": 1608041791, "creation_date": 1569378734, "last_edit_date": 1570870555, "question_id": 58090400, "link": "https://stackoverflow.com/questions/58090400/android-how-to-set-background-color-on-a-button", "title": "Android how to set background color on a Button", "body": "<p>I am trying to change the background color of a Button. I'm in Kotlin on SDK 21 on emulator.</p>\n\n<p>A View and a Button are declared in the layout XML file</p>\n\n<pre><code>&lt;View\n    android:id=\"@+id/myview\"\n    android:layout_width=\"64dp\"\n    android:layout_height=\"32dp\"\n    /&gt;\n&lt;Button\n    android:id=\"@+id/showButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"12dp\"\n    android:text=\"test\"\n    /&gt;\n</code></pre>\n\n<p>The API to set the color doesn't seem to work:</p>\n\n<pre><code>    showButton.setBackgroundColor(0xff60a0e0.toInt()) &lt;-- doesnt work\n</code></pre>\n\n<p>What works is:</p>\n\n<pre><code>    myview.setBackgroundColor(0xff60a0e0.toInt()) &lt;-- works, exact background color\n    showButton.setTextColor(0xff000050.toInt()) &lt;-- works, exact text color\n</code></pre>\n\n<p>After trying further it seems that I can only set the alpha channel of the button, not the color:</p>\n\n<pre><code>    setBackgroundColor( 0xff000000.toInt())  &lt;-- works, opaque\n    setBackgroundColor( 0x00000000.toInt())  &lt;-- works, transparent\n</code></pre>\n\n<p>Also same thing with:</p>\n\n<pre><code>        showButton.setBackgroundColor(Color.GREEN) &lt;-- doesnt work, button is opaque but not green\n        showButton.setBackgroundColor(Color.TRANSPARENT) &lt;-- works, button is transparent\n</code></pre>\n\n<p>Any idea? Did I miss something in the other answers or the documentation?</p>\n\n<p>Here is complete layout, it used to inflate a fragment, if that matters:</p>\n\n<pre><code>\n\n    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n     &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:orientation=\"vertical\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"&gt;\n           &lt;View\n               android:id=\"@+id/myview\"\n               android:layout_width=\"64dp\"\n               android:layout_height=\"32dp\"\n              /&gt;\n           &lt;Button\n               android:id=\"@+id/showButton\"\n               android:layout_width=\"wrap_content\"\n               android:layout_height=\"wrap_content\"\n               android:text=\"12dp\"\n               android:text=\"test\"\n               /&gt;\n        &lt;/LinearLayout&gt;\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/dictionaryEntryRecyclerView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:scrollbars=\"vertical\"\n            app:layoutManager=\"LinearLayoutManager\"\n            /&gt;\n       &lt;/LinearLayout&gt;\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "blockchain", "hyperledger-iroha"], "owner": {"reputation": 29, "user_id": 5505694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xaHlDaRsoCA/AAAAAAAAAAI/AAAAAAAAA0Y/EBuGibSrEEc/photo.jpg?sz=128", "display_name": "BacII", "link": "https://stackoverflow.com/users/5505694/bacii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569380206, "creation_date": 1569378493, "last_edit_date": 1569380206, "question_id": 58090376, "link": "https://stackoverflow.com/questions/58090376/how-to-use-proguard-with-hyperledger-iroha", "title": "How to use proguard with Hyperledger Iroha?", "body": "<p>I I have problem on proguard with Hyperledger Iroha on android.</p>\n\n<pre><code>buildTypes {\n    release {\n        debuggable false\n        minifyEnabled true\n        shrinkResources false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n    debug{\n        debuggable true\n        minifyEnabled true\n        shrinkResources false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n\n<ul>\n<li>when I did: minifyEnabled true after building release apk: app-release.apk, the app crashed.</li>\n<li>when I did: minifyEnabled false after building release apk: app-release.apk, the app is okay.</li>\n<li><p>Result error is: </p>\n\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.domain.testava, PID: 20827\njava.lang.ExceptionInInitializerError\n    at d.a.a.a.a.b.c.a(:69)\n    at d.a.a.a.a.a.(:18)\n    at b.a.a.a.a(:23)\n    at com.domain.testava.MainActivity.onCreate(:14)\n    at android.app.Activity.performCreate(Activity.java:6675)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2732)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2844)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1572)\n    at android.os.Handler.dispatchMessage(Handler.java:110)\n    at android.os.Looper.loop(Looper.java:203)\n    at android.app.ActivityThread.main(ActivityThread.java:6361)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1063)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:924)\n Caused by: java.lang.IllegalArgumentException: Unsupported hash algorithm\n    at d.a.a.a.a.b.d.(:47)\n    at d.a.a.a.a.b.b.(:18)\n    at d.a.a.a.a.b.c.(:37)\n    at d.a.a.a.a.b.c.a(:69)\u00a0\n    at d.a.a.a.a.a.(:18)\u00a0\n    at b.a.a.a.a(:23)\u00a0\n    at com.domain.testava.MainActivity.onCreate(:14)\u00a0\n    at android.app.Activity.performCreate(Activity.java:6675)\u00a0\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119)\u00a0\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2732)\u00a0\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2844)\u00a0\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1572)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:110)\u00a0\n    at android.os.Looper.loop(Looper.java:203)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6361)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1063)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:924)\u00a0</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/IreBe.png\" rel=\"nofollow noreferrer\">error screen on minifyEnabled true</a></p>\n"}, {"tags": ["android", "android-studio", "kotlin", "google-signin"], "answers": [{"tags": [], "owner": {"reputation": 1862, "user_id": 4831923, "user_type": "registered", "profile_image": "https://graph.facebook.com/596940813776381/picture?type=large", "display_name": "Abedalkareem Omreyh", "link": "https://stackoverflow.com/users/4831923/abedalkareem-omreyh"}, "is_accepted": true, "score": 1, "last_activity_date": 1569379795, "creation_date": 1569379795, "answer_id": 58090509, "question_id": 58090367, "link": "https://stackoverflow.com/questions/58090367/google-getsignedinaccountfromintent-crashing-with-code-10/58090509#58090509", "title": "Google getSignedInAccountFromIntent crashing with code 10", "body": "<p>You can copy a debug key from one of your team and provide it to all of the team members.</p>\n\n<p>The debug <code>Keystore</code> should be located at <code>~/.android/debug.keystore</code>.</p>\n\n<p>Or you can make another <code>Keystore</code> and share it between the developers and set it manually in <code>gradle</code>.</p>\n\n<pre><code>android {\n\n    // ...\n\n    signingConfigs {\n        debug {\n            storeFile file('../debug.keystore')\n        }\n\n        /*\n        for release:\n        release {\n            storeFile file('release.keystore')\n            storePassword \"password\"\n            keyAlias \"alias\"\n            keyPassword \"alias_password\"\n        }\n        */\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 1967315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8a92c5179f6f71124c953629c827605?s=128&d=identicon&r=PG", "display_name": "ilgor", "link": "https://stackoverflow.com/users/1967315/ilgor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 58090509, "answer_count": 1, "score": 0, "last_activity_date": 1569379795, "creation_date": 1569378454, "question_id": 58090367, "link": "https://stackoverflow.com/questions/58090367/google-getsignedinaccountfromintent-crashing-with-code-10", "title": "Google getSignedInAccountFromIntent crashing with code 10", "body": "<p>We are implementing Google Sign-In and authenticating with backend server as well in our mobile app.</p>\n\n<p><strong>Developer A has the following code</strong>:</p>\n\n<pre><code>val GOOGLE_OAUTH2_CLIENT_ID = \"1234567890123-abcdef....apps.googleusercontent.com\"\n\nval gSignOptions = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n    .requestIdToken(GOOGLE_OAUTH2_CLIENT_ID)\n    .requestEmail()\n    .build()\n\nval clientGoogleSignIn = GoogleSignIn.getClient(this, gSignOptions)\n\nfindViewById&lt;Button&gt;(R.id.welcome_get_started_button).setOnClickListener {\n    startActivityForResult(clientGoogleSignIn.signInIntent, RC_GOOGLE_SIGN_IN)\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?)\n{\n    super.onActivityResult(requestCode, resultCode, data)\n    try\n    {\n        if (requestCode == RC_GOOGLE_SIGN_IN)\n        {\n            val googleAccount = GoogleSignIn.getSignedInAccountFromIntent(data) // FAILING LINE\n               .getResult(ApiException::class.java)\n            googleAccount?.let {\n                log(\"D\", \"Google sign-in completed with ${it.email} and token ${it.idToken}\")\n                processGSignInAndStartNextActivity(it)\n            }\n        }\n    }\n    catch (e: Throwable)\n    {\n        log(\"E\", \"onActivityResult failed\", e)\n    }\n}\n</code></pre>\n\n<p>In the Google project > API > Credentials page we have two client IDs:</p>\n\n<ul>\n<li>Web Application (the one that's in the code)</li>\n<li>Android (signed with SHA1 and package name)</li>\n</ul>\n\n<p>SHA1 produced by Android Studio itself: Gradle > signingReport</p>\n\n<p><strong>Everything is done per Google documentation, everything works.</strong></p>\n\n<p><strong>Now Developer B comes in.</strong></p>\n\n<p>He pulls the same code and uses same debug config. Same Android Studio version, same Kotlin version, same Google Play Services version. He runs the code and it consistently fails with</p>\n\n<pre><code> com.google.android.gms.common.api.ApiException: 10: \n        at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(Unknown Source:4)\n        at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(Unknown Source:8)\n</code></pre>\n\n<p>We spent hours and tried everything - changing code, uninstalls, different AVDs, different JVM versions, nothing helped.\nEventually we decided he should create his own Android token because it made zero sense so why not.\nTurns out his SHA1 generated by Android Studio was different ... As soon as he created another client ID from that SHA1 the code worked for him. Now we have 3 client IDs: Web App, Android-DevA, Android-DevB.</p>\n\n<p><strong>Is this expected behavior that every Android developer suppose to sign application with unique SHA1 and client ID?</strong></p>\n\n<p>I can't imagine how this works for large teams. I believe we are missing something here, so if someone more experienced can enlighten us I would appreciate it. Thank you and have a great day.</p>\n"}, {"tags": ["kotlin", "constructor"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2986251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fcc720c44408f154e8836afb40033f6?s=128&d=identicon&r=PG&f=1", "display_name": "alexandraei", "link": "https://stackoverflow.com/users/2986251/alexandraei"}, "edited": false, "score": 0, "creation_date": 1569425055, "post_id": 58092056, "comment_id": 102595119, "body": "That&#39;s a great idea! I&#39;ll try this"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1569391626, "creation_date": 1569391626, "answer_id": 58092056, "question_id": 58090358, "link": "https://stackoverflow.com/questions/58090358/how-do-i-use-secondary-constructors-when-i-need-to-do-operations-on-the-paramete/58092056#58092056", "title": "How do I use secondary constructors when I need to do operations on the parameter", "body": "<p>Why does it have to be a constructor instead of a factory method? And even if it does, you can extract the logic into a helper (with slight complication because you need two values):</p>\n\n<pre><code>data class Rational(val num:BigInteger, val den: BigInteger){ \n   ...\n   private constructor (pair: Pair&lt;BigInteger, BigInteger&gt;) : this(pair.first, pair.second)\n   constructor (value: String) :\n        this(parseString(value))\n\n   companion object {\n      private fun parseString(value: String) =\n         if (value.contains(\"/\")) {\n             val parts = value.split(\"/\")\n             Pair(parts[0].toBigInteger(), parts[1].toBigInteger())\n         } else\n             Pair(value.toBigInteger(), 1.toBigInteger())\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2986251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fcc720c44408f154e8836afb40033f6?s=128&d=identicon&r=PG&f=1", "display_name": "alexandraei", "link": "https://stackoverflow.com/users/2986251/alexandraei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569550173, "creation_date": 1569378390, "question_id": 58090358, "link": "https://stackoverflow.com/questions/58090358/how-do-i-use-secondary-constructors-when-i-need-to-do-operations-on-the-paramete", "title": "How do I use secondary constructors when I need to do operations on the parameter", "body": "<p>I have this class (provides an implementation for a rational number) and I am having problems writing a secondary constructor - I need to do some computation on the value: String that I pass as a parameter and I don't know how to write that.</p>\n\n<p>This is what I have right now, and it works. Most cases. The case that fails is when the string doesn't contain \"/\" aka when the denominator is 1. </p>\n\n<pre><code>data class Rational(val num:BigInteger, val den: BigInteger){\n   private val numerator\n   private val denominator\n   init{\n       denominator = when (den){\n           0.toBigInteger -&gt; thrown IllegalArgumentException()\n           else -&gt; den\n       }\n       numerator = num\n   }\n   constructor (value: String) :\n        this(value.split(\"/\")[0].toBigInteger(), value.split(\"/\")[1].toBigInteger())\n}\n</code></pre>\n\n<p>How do I fix that?</p>\n"}, {"tags": ["android", "kotlin", "textview", "android-drawable", "android-glide"], "answers": [{"tags": [], "owner": {"reputation": 1782, "user_id": 5750389, "user_type": "registered", "profile_image": "https://graph.facebook.com/908028102588999/picture?type=large", "display_name": "Elias Fazel", "link": "https://stackoverflow.com/users/5750389/elias-fazel"}, "is_accepted": false, "score": 1, "last_activity_date": 1569372081, "creation_date": 1569372081, "answer_id": 58089728, "question_id": 58089534, "link": "https://stackoverflow.com/questions/58089534/how-to-set-a-textview-with-a-compound-drawable-that-is-a-url-image-loaded-with/58089728#58089728", "title": "How to set a TextView with a compound drawable that is a URL image, loaded with Glide, in Kotlin?", "body": "<p>you should create imageView in xml layout.\nand in your case do this</p>\n\n<pre><code>    Glide.with(applicationContext)\n                       .load(\"https://LINK\")\n                       .listener(object : RequestListener&lt;Drawable&gt; {\n                           override fun onLoadFailed(\n                                   glideException: GlideException?,\n                                   any: Any?,\n                                   target: com.bumptech.glide.request.target.Target&lt;Drawable&gt;?,\n                                   exception: Boolean\n                           ): Boolean {\n\n                               return false\n                           }\n\n                           override fun onResourceReady(\n                                   drawable: Drawable?,\n                                   any: Any?,\n                                   target: com.bumptech.glide.request.target.Target&lt;Drawable&gt;?,\n                                   dataSource: DataSource?,\n                                   resources: Boolean\n                           ): Boolean {\n                               //check this on how to set drawable to textView\n//https://stackoverflow.com/questions/6931900/programmatically-set-left-drawable-in-a-textview\n                               //set drawable to textView or do whatever you want with drawable\n\n                               return false\n                           }\n                       })\n                       .submit()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "is_accepted": true, "score": 4, "last_activity_date": 1569393447, "creation_date": 1569393447, "answer_id": 58092436, "question_id": 58089534, "link": "https://stackoverflow.com/questions/58089534/how-to-set-a-textview-with-a-compound-drawable-that-is-a-url-image-loaded-with/58092436#58092436", "title": "How to set a TextView with a compound drawable that is a URL image, loaded with Glide, in Kotlin?", "body": "<p>In Kotlin you can do as : </p>\n\n<pre><code> Glide.with(context).load(\"url\").apply(RequestOptions().fitCenter()).into(\n        object : CustomTarget&lt;Drawable&gt;(50,50){\n            override fun onLoadCleared(placeholder: Drawable?) {\n                textView.setCompoundDrawablesWithIntrinsicBounds(placeholder, null, null, null)\n            }\n\n            override fun onResourceReady(\n                resource: Drawable,\n                transition: Transition&lt;in Drawable&gt;?\n            ) {\n                textView.setCompoundDrawablesWithIntrinsicBounds(resource, null, null, null)\n            }\n        }\n    )\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 12115888, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCLFSITIwzzd5Nz1OQkmAYDhncD2leI-hXij_5FSg=k-s128", "display_name": "Jeremy Valdez", "link": "https://stackoverflow.com/users/12115888/jeremy-valdez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1220, "favorite_count": 0, "accepted_answer_id": 58092436, "answer_count": 2, "score": 4, "last_activity_date": 1569393447, "creation_date": 1569370038, "question_id": 58089534, "link": "https://stackoverflow.com/questions/58089534/how-to-set-a-textview-with-a-compound-drawable-that-is-a-url-image-loaded-with", "title": "How to set a TextView with a compound drawable that is a URL image, loaded with Glide, in Kotlin?", "body": "<p>Here is my attempted code.</p>\n\n<pre><code>val imageView = ImageView(holder.itemView.context)\n\nholder.itemView.textView.setCompoundDrawablesWithIntrinsicBounds(\n        GlideApp.with(holder.itemView.context).load(URL).into(imageView), 0, 0, 0)\n</code></pre>\n\n<p>I am also not sure about Glide's image target. I have it set as <code>.into(imageView)</code>. Since I want to add an image with TextView, there is no ImageView initialized to load the URL image into. My thought was to create one programmatically with</p>\n\n<pre><code>val imageView = ImageView(holder.itemView.context)\n</code></pre>\n\n<p>An error that I see is that <code>GlideApp.with(holder.itemView.context).load(URL).into(imageView)</code> is not being detected as a drawable.</p>\n"}, {"tags": ["intellij-idea", "kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "is_accepted": false, "score": 0, "last_activity_date": 1569447015, "creation_date": 1569447015, "answer_id": 58106777, "question_id": 58089167, "link": "https://stackoverflow.com/questions/58089167/how-to-prevent-formatter-from-adding-line-break-after-semicolon/58106777#58106777", "title": "How to prevent formatter from adding line break after semicolon?", "body": "<p>I agree that readability is key, however, both don't look particularly great. Since you're not really saving any resources by condensing code, maybe you could try:</p>\n\n<pre><code>class MyClass {\n\n    val totalSpaceP = SLP(0)\n    var totalSpace by totalSpaceP\n\n    val usableSpaceP = SLP(0)\n    var usableSpace by usableSpaceP\n\n    val freeSpaceP = SLP(0)\n    var freeSpace by freeSpaceP\n\n}\n</code></pre>\n\n<p>This way, all your properties and variables aren't bunched up, and you're not trying to force one-liners.</p>\n"}], "owner": {"reputation": 11, "user_id": 10262674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GWkNU-pHOKI/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNFMC3CO1pR_7rxKZ2q0b_HdmYvFw/mo/photo.jpg?sz=128", "display_name": "Matthew Groth", "link": "https://stackoverflow.com/users/10262674/matthew-groth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569447015, "creation_date": 1569366492, "question_id": 58089167, "link": "https://stackoverflow.com/questions/58089167/how-to-prevent-formatter-from-adding-line-break-after-semicolon", "title": "How to prevent formatter from adding line break after semicolon?", "body": "<p>I'm developing a class with JavaFX properties and using the tornadoFX library in order to create property delegates for each. </p>\n\n<pre><code>import javafx.beans.property.SimpleLongProperty\nimport tornadofx.getValue\nimport tornadofx.setValue\n\ntypealias SLP = SimpleLongProperty\n\nclass MyClass {\n\n    val totalSpaceP = SLP(0); var totalSpace by totalSpaceP\n    val usableSpaceP = SLP(0); var usableSpace by usableSpaceP\n    val freeSpaceP = SLP(0); var freeSpace by freeSpaceP\n\n}\n</code></pre>\n\n<p>The above compiles, but upon autoformating in IntelliJ, I get this:</p>\n\n<pre><code>import javafx.beans.property.SimpleLongProperty\nimport tornadofx.getValue\nimport tornadofx.setValue\n\ntypealias SLP = SimpleLongProperty\n\nclass MyClass {\n\n    val totalSpaceP = SLP(0);\n    var totalSpace by totalSpaceP\n    val usableSpaceP = SLP(0);\n    var usableSpace by usableSpaceP\n    val freeSpaceP = SLP(0);\n    var freeSpace by freeSpaceP\n\n}\n</code></pre>\n\n<p>I understand <a href=\"https://stackoverflow.com/questions/35036345/how-to-declare-several-properties-on-one-line\">declaring multiple properties on one line is not supported</a>. However, semicolons allow a workaround. I understand this is not conventional. However, this is more legible to me and I am the sole developer.</p>\n\n<p>Am I missing a setting in IntelliJ that disables the adding of line breaks after semicolons during autoformatting? Is there another workaround I have not thought of?</p>\n"}, {"tags": ["kotlin", "monads"], "answers": [{"tags": [], "owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "is_accepted": true, "score": 2, "last_activity_date": 1569359526, "creation_date": 1569359526, "answer_id": 58088200, "question_id": 58086918, "link": "https://stackoverflow.com/questions/58086918/enforce-error-type-with-result-monad-comprehension/58088200#58088200", "title": "Enforce error type with Result monad comprehension", "body": "<p>I can imagine <em>maybe</em> doing something like</p>\n\n<pre><code>class BindingContext&lt;E&gt; {\n  fun &lt;T&gt; Result&lt;T, E&gt;.bind(): T\n}\nfun &lt;T, E&gt; binding(block: BindingContext&lt;E&gt;.() -&gt; T): Result&lt;T, E&gt;\n</code></pre>\n\n<p>...in which the <code>BindingContext</code> is the <code>this</code>, and the <code>bind</code> method is an extension function on <code>Result</code> that only exists within <code>BindingContext</code>.</p>\n"}], "owner": {"reputation": 983, "user_id": 2725580, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7627ad63be09d69ece13aa77bcfeaf7e?s=128&d=identicon&r=PG&f=1", "display_name": "user2725580", "link": "https://stackoverflow.com/users/2725580/user2725580"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 58088200, "answer_count": 1, "score": 0, "last_activity_date": 1569359526, "creation_date": 1569352783, "question_id": 58086918, "link": "https://stackoverflow.com/questions/58086918/enforce-error-type-with-result-monad-comprehension", "title": "Enforce error type with Result monad comprehension", "body": "<p>I have a <code>Result&lt;V, E&gt;</code> type where <code>V</code> is the value type and <code>E</code> is the error type.</p>\n\n<p>I am trying to implement monad comprehension such that I can do this:</p>\n\n<pre><code>val result: Result&lt;Int, String&gt; = binding {\n    val value = someMethodReturningResult().bind()\n    val value2 = someOtherMethodReturningResult().bind()\n\n    value + value2\n}\n</code></pre>\n\n<p>I tried to implement the <code>bind()</code> method to throw an exception containing the error if the result is a failure, or else return the value.</p>\n\n<p>Consequently, the <code>binding</code> function contains a try/catch which returns a <code>Result</code> with either the thrown error or the returned value.</p>\n\n<p>Since exceptions cannot contain generic types, I have to cast the error to <code>Any</code> before throwing, and then cast it back in the catch block. While this works, it is not typesafe. \nSomeone might add a call to <code>someThirdMethodReturningResult().bind()</code>, which has another type for the error, and this should not be allowed.</p>\n\n<p>Is there any way to enforce that each call to <code>bind()</code> has the same type for the error?</p>\n"}, {"tags": ["kotlin", "functional-programming"], "answers": [{"tags": [], "owner": {"reputation": 1690, "user_id": 473902, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bf781028e9a8edc6873f6ddd22264509?s=128&d=identicon&r=PG", "display_name": "Ge3ng", "link": "https://stackoverflow.com/users/473902/ge3ng"}, "is_accepted": false, "score": 1, "last_activity_date": 1569346178, "creation_date": 1569346178, "answer_id": 58085476, "question_id": 58085351, "link": "https://stackoverflow.com/questions/58085351/how-to-explode-a-list-into-a-map-in-kotlin/58085476#58085476", "title": "How to explode a list into a Map in kotlin?", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate.html\" rel=\"nofollow noreferrer\">associate</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate-by.html\" rel=\"nofollow noreferrer\">associateby</a></p>\n"}, {"tags": [], "owner": {"reputation": 1577, "user_id": 4233180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXCjt68DFoA/AAAAAAAAAAI/AAAAAAAAACs/hqpMFb_4--c/photo.jpg?sz=128", "display_name": "Supriya", "link": "https://stackoverflow.com/users/4233180/supriya"}, "is_accepted": false, "score": 5, "last_activity_date": 1569350449, "last_edit_date": 1569350449, "creation_date": 1569349172, "answer_id": 58086132, "question_id": 58085351, "link": "https://stackoverflow.com/questions/58085351/how-to-explode-a-list-into-a-map-in-kotlin/58086132#58086132", "title": "How to explode a list into a Map in kotlin?", "body": "<p>You can use <code>associate</code> / <code>associateBy</code> like this - </p>\n\n<pre><code>val map1 = initialList.associate { it.first to it.second }\nprintln(map1.toString()) //{1=x, 2=y}\n\nval map2 = initialList.associateBy({it.first},{it.second})\nprintln(map2.toString()) //{1=x, 2=y}\n</code></pre>\n\n<p>You can also use <code>toMap</code> and do this - </p>\n\n<pre><code>val map3 = initialList.toMap()\nprintln(map3.toString()) //{1=x, 2=y}\n</code></pre>\n\n<p>where this is my initialList declaration - </p>\n\n<pre><code>val initialList = listOf(Pair(1, \"x\"), Pair(2, \"y\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "is_accepted": false, "score": 0, "last_activity_date": 1569352071, "last_edit_date": 1569352071, "creation_date": 1569350954, "answer_id": 58086513, "question_id": 58085351, "link": "https://stackoverflow.com/questions/58085351/how-to-explode-a-list-into-a-map-in-kotlin/58086513#58086513", "title": "How to explode a list into a Map in kotlin?", "body": "<p>You could use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-of.html\" rel=\"nofollow noreferrer\"><code>mapOf</code></a> like this:</p>\n\n<pre><code>val initialValues: List&lt;Pair&lt;String, String&gt;&gt; = listOf()\nval final = mapOf(*initialValues.toTypedArray())\n</code></pre>\n\n<p>But @Supriya has the better answer using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"nofollow noreferrer\"><code>toMap</code></a></p>\n"}], "owner": {"reputation": 2058, "user_id": 2192829, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/y97LY.jpg?s=128&g=1", "display_name": "Bertuz", "link": "https://stackoverflow.com/users/2192829/bertuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1569362750, "creation_date": 1569345688, "last_edit_date": 1569362750, "question_id": 58085351, "link": "https://stackoverflow.com/questions/58085351/how-to-explode-a-list-into-a-map-in-kotlin", "title": "How to explode a list into a Map in kotlin?", "body": "<p>Imagine you want to transform this:</p>\n\n<pre><code>val initialValues: List&lt;Pair&lt;String, String&gt;&gt;\n</code></pre>\n\n<p>where the first String represents a key, the second a value</p>\n\n<p>into a map:</p>\n\n<pre><code>val finalMap: Map&lt;String,String&gt;\n</code></pre>\n\n<p>containing each pair item twice, the first with the original key, the second one with a sort of expanded key. </p>\n\n<p>How would you do that? Currently I'm using a </p>\n\n<pre><code>val finalMap = mutableMapOf&lt;String, String&gt;()\n</code></pre>\n\n<p>that I use while I'm iterating over <code>initialValues</code>. But I really don't like it.</p>\n\n<pre><code>initialValues.forEach {\n    val explodedPairs:List&lt;Pair&lt;String,String&gt;&gt;  = &lt;do-something&gt; \n\n    explodedPairs.forEach { finalMap.put(it.first, it.second) }\n}\n</code></pre>\n\n<p>how would you do more assertively? </p>\n"}, {"tags": ["android", "kotlin", "arduino"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1569428057, "post_id": 58089971, "comment_id": 102596628, "body": "I&#39;ve seen that repro you linked to. And my code is very close to what that is doing. Bluetooth between the phone and Arduino is paired and connected correctly(UUID is correct). I&#39;m gonna look into better logging."}], "tags": [], "owner": {"reputation": 120, "user_id": 2299948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/557b3ae4706858388a0692405b4f80ac?s=128&d=identicon&r=PG", "display_name": "linucksrox", "link": "https://stackoverflow.com/users/2299948/linucksrox"}, "is_accepted": false, "score": 0, "last_activity_date": 1569374683, "creation_date": 1569374683, "answer_id": 58089971, "question_id": 58085285, "link": "https://stackoverflow.com/questions/58085285/issues-controlling-leds-on-arduino-due-from-bluetooth-connected-android-app/58089971#58089971", "title": "Issues controlling LEDs on Arduino Due from bluetooth connected Android App", "body": "<p>The sketch looks good and the Android logic looks good. Assuming your connections are solid between the Bluetooth module and the Arduino, and you are paired, I would be troubleshooting what exactly you are sending through the Bluetooth socket.\nI found some source code for a project exactly like yours, albeit in Java: <a href=\"https://github.com/Mayoogh/Arduino-Bluetooth-Basic/blob/master/LED-master/app/src/main/java/com/led_on_off/led/ledControl.java\" rel=\"nofollow noreferrer\">https://github.com/Mayoogh/Arduino-Bluetooth-Basic/blob/master/LED-master/app/src/main/java/com/led_on_off/led/ledControl.java</a></p>\n\n<p>I would verify that you're doing the Bluetooth connection properly, and that the data you send is correct. I noticed what you log is different than what you actually send (on Android). I also noticed something about setting the SPP UUID, not sure what that is but it sounds important.</p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "is_accepted": false, "score": 0, "last_activity_date": 1569879666, "creation_date": 1569879666, "answer_id": 58175608, "question_id": 58085285, "link": "https://stackoverflow.com/questions/58085285/issues-controlling-leds-on-arduino-due-from-bluetooth-connected-android-app/58175608#58175608", "title": "Issues controlling LEDs on Arduino Due from bluetooth connected Android App", "body": "<p>After much hair pulling. I finally figured out that the issue was not with my Kotling code or the Arduino code. The issue was the Bluetooth shield I was using.</p>\n\n<p>I do not know why, but replacing it with another and making no code changes, it all started working as expected.</p>\n"}], "owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1569879666, "creation_date": 1569345366, "last_edit_date": 1592644375, "question_id": 58085285, "link": "https://stackoverflow.com/questions/58085285/issues-controlling-leds-on-arduino-due-from-bluetooth-connected-android-app", "title": "Issues controlling LEDs on Arduino Due from bluetooth connected Android App", "body": "<p>This is the beginning of a project and I have run up against an issue. Right now, my app only does two things. Detects and connects to a specific SparkFun Bluetooth module/sheild, that is controlled by an Arduino Due. This works fine.</p>\n<p>The other thing it is supposed to do(but is not), is to turn on/off an LED light that is being controlled by the Arduino as well. I'll layout the code below and some logs.</p>\n<p><strong>Arduino Sketch</strong></p>\n<pre><code>char Incoming_value = 0;           //Variable for storing Incoming_value\nconst int pwmPin = 13;\n\nvoid setup() \n{\n  Serial.begin(9600);             //Sets the data rate in bits per second (baud) for serial data \ntransmission\n  pinMode(pwmPin, OUTPUT);        //Sets digital pin 13 as output pin\n}\n\nvoid loop()\n{\n  if(Serial.available() &gt; 0)  \n  {\n    Incoming_value = Serial.read();      //Read incoming data, store it into variable Incoming_value\n    Serial.print(Incoming_value);        //Print Value of Incoming_value in Serial monitor\n    Serial.print(&quot;\\n&quot;);                  //New line \n    if(Incoming_value == '1')            //Checks whether value of Incoming_value is equal to 1 \n      digitalWrite(pwmPin, HIGH);        //If value is 1 then LED turns ON\n    else if(Incoming_value == '0')       //Checks whether value of Incoming_value is equal to 0\n      digitalWrite(pwmPin, LOW);         //If value is 0 then LED turns OFF\n  }                            \n\n}\n</code></pre>\n<p>I am not using an emulator. This is being tested on a phone. Below is the relevant bit of code.\nReminder, this is written in Kotlin.</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n...........\n&lt;snip&gt;\n...........\n\nbutton_led_on.setOnClickListener { sendCommand(&quot;1&quot;)}\nbutton_led_off.setOnClickListener { sendCommand(&quot;0&quot;)}\n}\n\nprivate fun sendCommand(input: String) {\n    if (bluetoothSocket != null) {\n        try {\n            bluetoothSocket!!.outputStream.write(input.toByteArray())\n            Log.i(LOGTAG, &quot;Button clicked, info sent: $input&quot;)\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n<p>As mentioned, everything compiles and runs just fine. Bluetooth portion works, Buttons all work and seem to be working as they should.</p>\n<p>Clicking either the 'led on'  or 'led off' buttons in the app show the following in the logs</p>\n<p><strong>Logcat</strong></p>\n<blockquote>\n<p>2019-09-24 09:47:15.891 9403-9403/com.example.pigcatcher D/MainActivity: Button clicked, info sent: 1</p>\n<p>2019-09-24 09:47:24.975 9403-9403/com.example.pigcatcher D/MainActivity: Button clicked, info sent: 0</p>\n</blockquote>\n<p>Nothing happens on the Arduino side. Looking at the Serial monitor on the Arduino, I only see the following when I click the 'led off' button in the app. Nothing shows up when clicking the 'led on' button.</p>\n<blockquote>\n<p>09:47:24.994 -&gt; 255</p>\n</blockquote>\n<p>I feel like I don't have something configured correctly on the Arduino...but I have no clue what that might be. I have tried different pins as suggested in a few other post, but that does not work either.</p>\n"}, {"tags": ["kotlin", "floating-point"], "comments": [{"owner": {"reputation": 6798, "user_id": 4174897, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gS0gI.jpg?s=128&g=1", "display_name": "Kyll", "link": "https://stackoverflow.com/users/4174897/kyll"}, "edited": false, "score": 6, "creation_date": 1569343927, "post_id": 58084922, "comment_id": 102563777, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "is_accepted": false, "score": 5, "last_activity_date": 1569345036, "creation_date": 1569345036, "answer_id": 58085200, "question_id": 58084922, "link": "https://stackoverflow.com/questions/58084922/kotlin-gives-wrong-result-when-multipliyng/58085200#58085200", "title": "Kotlin gives wrong result when multipliyng", "body": "<p>Yep, it's <a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\" rel=\"noreferrer\">floating point</a> math issue.</p>\n\n<p><code>kotlin.math</code> package has <code>roundToLong</code> extension function which helps in this case.</p>\n\n<pre><code>(281.65 * 100).roundToLong()\n</code></pre>\n"}], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569350267, "creation_date": 1569343826, "last_edit_date": 1569350267, "question_id": 58084922, "link": "https://stackoverflow.com/questions/58084922/kotlin-gives-wrong-result-when-multipliyng", "title": "Kotlin gives wrong result when multipliyng", "body": "<p>I want to multiply <code>281.65</code> by <code>100</code> and get <code>28165</code>, I execute:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"${281.65 * 100}\")\n}\n</code></pre>\n\n<p>but I get <code>28164.999999999996</code>\nWhats the problem here and how do I get <code>28165</code> as a result?\nIs there a good Kotlin way to work with that?</p>\n"}, {"tags": ["android", "exception", "kotlin", "mvvm", "retrofit2"], "comments": [{"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569340973, "post_id": 58084200, "comment_id": 102562392, "body": "connect to a websocket and check the internet connection, besides your code is deprecated on api 29"}, {"owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569341533, "post_id": 58084200, "comment_id": 102562691, "body": "any code for that if you please ?"}, {"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569341582, "post_id": 58084200, "comment_id": 102562722, "body": "<a href=\"https://stackoverflow.com/a/27312494/8528047\">stackoverflow.com/a/27312494/8528047</a> here u go"}, {"owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569341922, "post_id": 58084200, "comment_id": 102562879, "body": "thanks I will try,"}, {"owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569342164, "post_id": 58084200, "comment_id": 102562983, "body": "didn&#39;t work man, still crashes"}, {"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569342246, "post_id": 58084200, "comment_id": 102563013, "body": "update the deprecated code  <a href=\"https://www.youtube.com/watch?v=wFYwsrrJYgM\" rel=\"nofollow noreferrer\">youtube.com/watch?v=wFYwsrrJYgM</a>"}, {"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569342314, "post_id": 58084200, "comment_id": 102563039, "body": "and post your entire error log if it still crashes"}, {"owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569345281, "post_id": 58084200, "comment_id": 102564345, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199927/discussion-between-ali-ahmed-and-pemba-tamang\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569345418, "post_id": 58084200, "comment_id": 102564406, "body": "I send it in direct chat"}, {"owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569411311, "post_id": 58084200, "comment_id": 102586830, "body": "did you receive my answer ?? @PembaTamang"}, {"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569413393, "post_id": 58084200, "comment_id": 102587917, "body": "ya see the chat"}, {"owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569445041, "post_id": 58084200, "comment_id": 102603620, "body": "I sent you some"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 12114171, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oEjNSruFllo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-3wXJacCvRRco2x6BNxwrJjWPXA/photo.jpg?sz=128", "display_name": "Madhura", "link": "https://stackoverflow.com/users/12114171/madhura"}, "is_accepted": false, "score": 0, "last_activity_date": 1569341785, "creation_date": 1569341785, "answer_id": 58084445, "question_id": 58084200, "link": "https://stackoverflow.com/questions/58084200/how-to-catch-no-internet-exception-error/58084445#58084445", "title": "How to catch no internet exception error?", "body": "<p>To detect internet connection on a device, in addition to your above code, you need to add permission in your manifest.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "edited": false, "score": 0, "creation_date": 1569933133, "post_id": 58184428, "comment_id": 102749274, "body": "I did not hear about this library before  and actually I don&#39;t know how to use it.... any code you have tried? according to what you have written above, I need to put the url in each call? is that right ?"}, {"owner": {"reputation": 31, "user_id": 4574879, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ic-yiGTO3HE/AAAAAAAAAAI/AAAAAAAAAEU/zkQAeMd70IQ/photo.jpg?sz=128", "display_name": "Aryan Moradi", "link": "https://stackoverflow.com/users/4574879/aryan-moradi"}, "reply_to_user": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "edited": false, "score": 0, "creation_date": 1570087184, "post_id": 58184428, "comment_id": 102804702, "body": "No you put base URL in application &gt; retrofitClient  one time, and you can use retrofitClient everywhere.  You can configuration <a href=\"https://github.com/G-Corporation/RetrofitHelper/wiki/Configuration\" rel=\"nofollow noreferrer\">configuration</a> first &quot;one time&quot;.  And use library everywhere like <a href=\"https://github.com/G-Corporation/RetrofitHelper/wiki/API-calls\" rel=\"nofollow noreferrer\">this</a>.  You can see <a href=\"https://github.com/G-Corporation/RetrofitHelper/tree/master/app/src\" rel=\"nofollow noreferrer\">example application</a>"}], "tags": [], "owner": {"reputation": 31, "user_id": 4574879, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ic-yiGTO3HE/AAAAAAAAAAI/AAAAAAAAAEU/zkQAeMd70IQ/photo.jpg?sz=128", "display_name": "Aryan Moradi", "link": "https://stackoverflow.com/users/4574879/aryan-moradi"}, "is_accepted": false, "score": 0, "last_activity_date": 1569931564, "creation_date": 1569931564, "answer_id": 58184428, "question_id": 58084200, "link": "https://stackoverflow.com/questions/58084200/how-to-catch-no-internet-exception-error/58184428#58184428", "title": "How to catch no internet exception error?", "body": "<p>You can use this library for all request.</p>\n\n<p><a href=\"https://github.com/G-Corporation/RetrofitHelper\" rel=\"nofollow noreferrer\">RetrofitHelper</a> library written in kotlin, will let you make API calls, using a few lines of code.  </p>\n\n<p>Add headers in your application class like this : </p>\n\n<pre><code>class Application : Application() {\n\n    override fun onCreate() {\n    super.onCreate()\n\n        retrofitClient = RetrofitClient.instance\n                    //api url\n                .setBaseUrl(\"https://reqres.in/\")\n                    //you can set multiple urls\n        //                .setUrl(\"example\",\"http://ngrok.io/api/\")\n                    //set timeouts\n                .setConnectionTimeout(4)\n                .setReadingTimeout(15)\n                    //enable cache\n                .enableCaching(this)\n                    //add Headers\n                .addHeader(\"Content-Type\", \"application/json\")\n                .addHeader(\"client\", \"android\")\n                .addHeader(\"language\", Locale.getDefault().language)\n                .addHeader(\"os\", android.os.Build.VERSION.RELEASE)\n            }\n\n        companion object {\n        lateinit var retrofitClient: RetrofitClient\n\n        }\n    }  \n</code></pre>\n\n<p>And then make your call:  </p>\n\n<pre><code>retrofitClient.Get&lt;GetResponseModel&gt;()\n            //set path\n            .setPath(\"api/users/2\")\n            //set url params Key-Value or HashMap\n            .setUrlParams(\"KEY\",\"Value\")\n            // you can add header here\n            .addHeaders(\"key\",\"value\")\n            .setResponseHandler(GetResponseModel::class.java,\n                object : ResponseHandler&lt;GetResponseModel&gt;() {\n                    override fun onSuccess(response: Response&lt;GetResponseModel&gt;) {\n                        super.onSuccess(response)\n                        //handle response\n                    }\n                }).run(this)\n</code></pre>\n\n<p>For more information see the <a href=\"https://github.com/G-Corporation/RetrofitHelper/wiki\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}], "owner": {"reputation": 2205, "user_id": 11963380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c396136d690af16245456165b7b17af?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ahmed", "link": "https://stackoverflow.com/users/11963380/ali-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1569931564, "creation_date": 1569340850, "question_id": 58084200, "link": "https://stackoverflow.com/questions/58084200/how-to-catch-no-internet-exception-error", "title": "How to catch no internet exception error?", "body": "<p>I am developing an android app with kotlin MVVM pattern,\nthe problem is I am fetching data from net and even I put an exception for times with no internet connection, even though the app always crashes with LOGCAT : \nIllegal exception : can not connect to .....\nAny help with that please? \nI tried to add interceptor and after that catch this : </p>\n\n<pre><code>class NoConnectivityException () : IOException()\nclass ApiException() : IOException()\n\n//and inside reopistory \n//\n\ntry {\n            val fetchData =\n                retrofitInterface\n                    .getAll()\n                    .await()\n            _downloadedResponse.postValue(fetchData)\n        } catch (e: NoConnectivityException) {\n\n        } catch (a: ApiException) {\n\n        }\n\n\n//my interceptor interface :\ninterface ConnectivityInteceptor : Interceptor\n//my interceptor implementation :\n\nclass ConnectivityInteceptorImpl(\n    context: Context\n) : ConnectivityInteceptor {\n    private val appContext = context.applicationContext\n    override fun intercept(chain: Interceptor.Chain): Response {\n        if (!isOnLine())\n            throw NoConnectivityException()\n        return chain.proceed(chain.request())\n    }\n\n    private fun isOnLine(): Boolean {\n        val connectivityManager = appContext.getSystemService(Context.CONNECTIVITY_SERVICE)\n                as ConnectivityManager\n        val networkInfo  = connectivityManager.activeNetworkInfo\n        return networkInfo != null &amp;&amp; networkInfo.isConnected\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-location"], "answers": [{"comments": [{"owner": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569345513, "post_id": 58085246, "comment_id": 102564446, "body": "The problem is the class is called from a repo class which has no connection to any activity class. The only option is to pass the context to three classes from the activity class like so &quot;HomeActivity -&gt; Viewmodel -&gt; RepoClass -&gt; GetUserLocation Class&quot; which is inconvenient"}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "reply_to_user": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569345634, "post_id": 58085246, "comment_id": 102564502, "body": "ok then you should inject App instance or context to your repo class"}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "reply_to_user": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569345683, "post_id": 58085246, "comment_id": 102564530, "body": "this is not a problem you should only take care of activity lifecycle while getting location info from LocationServices"}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "reply_to_user": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569345757, "post_id": 58085246, "comment_id": 102564572, "body": "you need to start to listen location in onStart() lifecycle method and you should stop in onPause() and onStop() methods and you should again start to listen location in activity&#39;s onResume"}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "reply_to_user": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569345833, "post_id": 58085246, "comment_id": 102564606, "body": "in order to be able to handle this cycle you can implement <a href=\"https://developer.android.com/topic/libraries/architecture/lifecycle\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/lifecycle</a> to obey activity&#39;s life cycle behavior"}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "reply_to_user": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569345948, "post_id": 58085246, "comment_id": 102564655, "body": "btw no need to pass a context through  &quot;HomeActivity -&gt; Viewmodel -&gt; RepoClass -&gt; GetUserLocation Class&quot; just inject a context instance in your GetUserLocation class"}, {"owner": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569346060, "post_id": 58085246, "comment_id": 102564703, "body": "Could you possibly change your answer and show a sample of how I could the inject in this case"}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "reply_to_user": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569346695, "post_id": 58085246, "comment_id": 102564959, "body": "do you use dagger in your app?"}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "reply_to_user": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "edited": false, "score": 0, "creation_date": 1569347131, "post_id": 58085246, "comment_id": 102565143, "body": "check out my answer again pls"}], "tags": [], "owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "is_accepted": false, "score": 0, "last_activity_date": 1569347115, "last_edit_date": 1569347115, "creation_date": 1569345240, "answer_id": 58085246, "question_id": 58084128, "link": "https://stackoverflow.com/questions/58084128/how-to-setup-location-in-a-simple-class-that-is-not-an-activity/58085246#58085246", "title": "How to setup location in a simple class that is not an Activity", "body": "<p>all you need to pass context to any place where you want to get current location from device.</p>\n\n<p>create an app module which provides a context</p>\n\n<pre><code>@Module\nclass ApplicationModule(var app: App) {\n\n\n    @Provides\n    @Singleton\n    fun provideApp(): App = app\n\n    @Provides\n    @Singleton\n    fun provideContext(): Context = app.applicationContext\n}\n</code></pre>\n\n<p>and create a component</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(ApplicationModule::class))\ninterface ApplicationComponent {\n\n    fun context(): Context\n\n}\n</code></pre>\n\n<p>and lastly you should create a component instance </p>\n\n<pre><code>val component by lazy {\n        DaggerApplicationComponent.builder()\n                .applicationModule(ApplicationModule(this))\n                .build()\n    }\n\n\nclass LocationUtils(app: Application) {\n\n    @Inject\n    lateinit var context: Context\n\n     init {\n        (app as? App)?.component?.inject(this)\n      }\n      fusedLocationClient = LocationServices.getFusedLocationProviderClient(context)\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 1381, "user_id": 6459510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7aa58c1628de0677f321f33da72c51df?s=128&d=identicon&r=PG&f=1", "display_name": "Jama Mohamed", "link": "https://stackoverflow.com/users/6459510/jama-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569347115, "creation_date": 1569340557, "question_id": 58084128, "link": "https://stackoverflow.com/questions/58084128/how-to-setup-location-in-a-simple-class-that-is-not-an-activity", "title": "How to setup location in a simple class that is not an Activity", "body": "<p>I am using the <code>FusedLocationProviderClient</code> to get the user location from a simple class that is not an activity. How can I do that? I don't want to get the location from the activity class, just from a simple class. Is it possible? Example is below</p>\n\n<pre><code>class GetUserLocation {\n    private lateinit var fusedLocationClient: FusedLocationProviderClient\n\n    suspend fun getLastLocation(): Map&lt;String, Double&gt; {\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n        val location = fusedLocationClient.lastLocation.await()\n        return mapOf(\n            \"lat\" to location.latitude,\n            \"lng\" to location.longitude\n        )\n    }\n}\n</code></pre>\n\n<p>How can I get <code>this</code> in the following snippet if I am not in an activity class since the following snippet requires an activity, <code>this</code> only refers to the <code>GetUserLocation</code> class hence the error</p>\n\n<pre><code>fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "java-8", "aidl"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7887831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acc7e6891d44afd8a4d4e24a81daebb?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Heisenberg", "link": "https://stackoverflow.com/users/7887831/mr-heisenberg"}, "edited": false, "score": 0, "creation_date": 1569401720, "post_id": 58084078, "comment_id": 102581679, "body": "Yes, implemented the same. but when I write any default method in AIDL interface file compiler simply don&#39;t accept it."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 41, "user_id": 7887831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acc7e6891d44afd8a4d4e24a81daebb?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Heisenberg", "link": "https://stackoverflow.com/users/7887831/mr-heisenberg"}, "edited": false, "score": 1, "creation_date": 1569415141, "post_id": 58084078, "comment_id": 102589018, "body": "Either your building with Java 7 or the <code>default</code> keyword might still be unknown to the AIDL processor. When manually defining the <code>interface</code> instead of generating it, it should still work. Probably that&#39;s worth a bug report."}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 1, "last_activity_date": 1569340978, "last_edit_date": 1569340978, "creation_date": 1569340358, "answer_id": 58084078, "question_id": 58083876, "link": "https://stackoverflow.com/questions/58083876/is-default-methods-are-supported-in-aidl-android-for-java-8/58084078#58084078", "title": "Is default methods are supported in AIDL (Android) for Java 8?", "body": "<p>The <code>default</code> keyword should be available in any <code>interface</code> description, even if generated from <code>AIDL</code>. This will not be backwards compatible with Java 7, so it might require <code>minSdkVersion 26</code> and:</p>\n\n<pre><code>android {\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24, "user_id": 7456357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7b83d668c23ca87771350096a68b10?s=128&d=identicon&r=PG&f=1", "display_name": "Jatinder Verma", "link": "https://stackoverflow.com/users/7456357/jatinder-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1569340631, "creation_date": 1569340631, "answer_id": 58084151, "question_id": 58083876, "link": "https://stackoverflow.com/questions/58083876/is-default-methods-are-supported-in-aidl-android-for-java-8/58084151#58084151", "title": "Is default methods are supported in AIDL (Android) for Java 8?", "body": "<p>Use it who is stopping you? </p>\n\n<p>Inside interface you can write your code like below:</p>\n\n<p>default void show() \n    { </p>\n\n<pre><code>  System.out.println(\"Default method here\"); \n} \n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7887831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acc7e6891d44afd8a4d4e24a81daebb?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Heisenberg", "link": "https://stackoverflow.com/users/7887831/mr-heisenberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1569340978, "creation_date": 1569339662, "question_id": 58083876, "link": "https://stackoverflow.com/questions/58083876/is-default-methods-are-supported-in-aidl-android-for-java-8", "title": "Is default methods are supported in AIDL (Android) for Java 8?", "body": "<p>I have previous implementation of AIDL for IPC in android. I want to add new method as this aidl has multiple implementation in client class and I don't want to implement for all classes.. I want to use default method just like its supported in Java 8.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "edited": false, "score": 0, "creation_date": 1569338394, "post_id": 58083442, "comment_id": 102561031, "body": "I would HIGHLY recommend to use coroutines, this is the new and recommended way to handle concurrency in kotlin."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1569338397, "post_id": 58083442, "comment_id": 102561035, "body": "postDelayed(runnable, 100) call this on handlerBaseActivity in the BaseActivity onCreate"}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1569338533, "post_id": 58083442, "comment_id": 102561114, "body": "What is it that you want to do every 5 second in every activity? There might be a better way to do get the desired outcome..."}, {"owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "edited": false, "score": 0, "creation_date": 1569341855, "post_id": 58083442, "comment_id": 102562852, "body": "Every 5 seconds I want to check to see if the Android App&#39;s data is sync&#39;d to a server and change an icon in the ActionBar.  To Tim&#39;s comment, when I put the postDelayed in the BaseActivity, it does start but then I had issues with how to get it to stop - each activity started up a new Runnable Object.  If I put the removeCallBacks in the onPause of the BaseActivity then the runnable wouldn&#39;t run at all because the onPause of the BaseActivity gets executed before the Child Activity starts.  I&#39;ll look into CoRoutines so see if that can help - Any pointers for this application?"}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1569346212, "post_id": 58083442, "comment_id": 102564762, "body": "Don\u2019t let each Activity sync data. Instead put data in a data store that does the syncing once and for all, and let Activities observe that data, e.g. using LiveData"}, {"owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "edited": false, "score": 0, "creation_date": 1569359291, "post_id": 58083442, "comment_id": 102569715, "body": "Enselic, each activity isn&#39;t syncing data.  There is a background task doing the syncing.  I just want each activity to be able to update the ActionBar based on whether the sync is up to date or not."}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1569392769, "post_id": 58083442, "comment_id": 102577161, "body": "Good! But why not make Activities subscribe to a &quot;data up to date&quot; state? Running code every 5 second will unnecessarily drain battery. Better if activities are notified of changes. LiveData would be a good subscription mechanism."}, {"owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "edited": false, "score": 0, "creation_date": 1569429621, "post_id": 58083442, "comment_id": 102597309, "body": "Enselic: Yes, I see your point.  I&#39;ll still need to the background task doing processing every 5 seconds, but I wouldn&#39;t need to have a Handler/Runnable executing every 5 seconds to update the UI."}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 8736759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AJ7jHMwg-LI/AAAAAAAAAAI/AAAAAAAAHAY/vtKhss-wW40/photo.jpg?sz=128", "display_name": "MicroRJ", "link": "https://stackoverflow.com/users/8736759/microrj"}, "is_accepted": false, "score": 0, "last_activity_date": 1569340293, "last_edit_date": 1569340293, "creation_date": 1569339927, "answer_id": 58083937, "question_id": 58083442, "link": "https://stackoverflow.com/questions/58083442/how-to-create-handler-runnable-object-in-android-inherited-activity-class/58083937#58083937", "title": "How to create Handler &amp; Runnable Object in Android Inherited Activity Class", "body": "<p>You can use a Thread to perform this task. I am aware that in Kotlin you have Coroutines which are cheaper to instantiate and easier to manage, so you might want to go that path. Make sure you create your handler outside of this thread, that way when you perform UI changes you don't get errors, however, if you want to perform background tasks then don't use a handler at all. \nYou can keep a reference to this thread so that you can pause it, by setting running to false and interrupting it, then setting it to null, for good measure, when you completely stop using it. </p>\n\n<pre><code>fun loop() {\n handler.post(runnable) \n //or \n runOnUIThread(runnable)\n //background task\n}\nThread(Runnable{\n  while(running){\n   loop()\n   try{\n   Thread.sleep(1000 * 5)\n   }catch(e: InterruptedException){\n   //some weird stuff happened\n   }\n  } \n}).start()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "edited": false, "score": 0, "creation_date": 1569359516, "post_id": 58084549, "comment_id": 102569789, "body": "This works. Really well.  I&#39;m just not sure why because I would have guessed that the Runnable would start with the BaseActivity&#39;s onResume and stop with the onPause even before the Child Activity starts.  The BaseActivity is NOT listed in the Android Manifest.  It is just a Parent Class that has common code (like for the Navigation Drawer)."}], "tags": [], "owner": {"reputation": 1844, "user_id": 5465447, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203275056715672/picture?type=large", "display_name": "Roaim", "link": "https://stackoverflow.com/users/5465447/roaim"}, "is_accepted": true, "score": 0, "last_activity_date": 1569349598, "last_edit_date": 1569349598, "creation_date": 1569342244, "answer_id": 58084549, "question_id": 58083442, "link": "https://stackoverflow.com/questions/58083442/how-to-create-handler-runnable-object-in-android-inherited-activity-class/58084549#58084549", "title": "How to create Handler &amp; Runnable Object in Android Inherited Activity Class", "body": "<p>You can use <strong>Activity's lifecycle</strong> in the <code>BaseActivity</code> as well so that every child <code>Activity</code> does exactly the same work in their lifecycle callback. You need to <code>post</code> your <code>Runable</code> in the <code>onResume()</code> or <code>onCreate()</code> of the <code>BaseActivity</code> and remove it in <code>onPause()</code> or <code>onDestroy()</code>. Please see the example below,</p>\n\n<p><strong>BaseActivity</strong></p>\n\n<pre><code>class BaseActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\n    val handlerBaseActivity = Handler()\n    val runnable = object : Runnable {\n        override fun run() {\n            Log.d(\"icepts\",\"runnable from base...\")\n            // TODO perform your repetitive operation\n\n            // call the handler again after 5 sec to perform above operation again\n            handlerBaseActivity.postDelayed(this, 5000)\n        }\n    }\n\n    override fun onResume() {\n        super.onResume()\n        handlerBaseActivity.postDelayed(runnable, 100)\n    }\n\n    override fun onPause() {\n        super.onPause()\n        handlerBaseActivity.removeCallbacks(runnable)\n    }\n}\n</code></pre>\n\n<p>After that, you do not have to call <code>postDelayed()</code> function manually in each <code>Activity</code> that inherits <code>BaseActivity</code>. So, to make <code>MainActivity</code> do the same operation that is written in <code>run()</code> function in <code>BaseActivity</code> you just simply inherit <code>BaseActivity</code>.</p>\n\n<pre><code>class MainActivity : BaseActivity () {\n    // no need to declare local handler\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        ...\n        // No need to call postDelayed() of localHandler as it's already called in BaseActiviy \n    }\n\n   // No need to remove callbacks in onPause() as it's already defined in BaseActivity\n}\n</code></pre>\n\n<h2>Update</h2>\n\n<p>I want to clear your confusion of the following comment,</p>\n\n<blockquote>\n  <p>If I put the removeCallBacks in the onPause of the BaseActivity then\n  the runnable wouldn't run at all because the onPause of the\n  BaseActivity gets executed before the Child Activity starts.</p>\n</blockquote>\n\n<p>If you also have <code>BaseActivity</code> registered in the <code>AndroidMannifest</code> and it runs as an independent <strong>Activity</strong>, removing the runnable from it will not prevent any child from executing their runnable at all. Basically, all the childs will have their own instance of <code>runnable</code>s and <code>handler</code>s that will be tied to their own lifecycles.</p>\n"}], "owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 58084549, "answer_count": 2, "score": 0, "last_activity_date": 1569349598, "creation_date": 1569338191, "question_id": 58083442, "link": "https://stackoverflow.com/questions/58083442/how-to-create-handler-runnable-object-in-android-inherited-activity-class", "title": "How to create Handler &amp; Runnable Object in Android Inherited Activity Class", "body": "<p>I have an Inherited class which all of my Activities inherit.  In that Base/Parent Activity class I would like to create a Handler and Runnable Object that runs every 5 seconds in all Child Activities without having to add code in each Child Activity.  I have it working, where the Runnable Object is in the Inherited Activity but I can't seem to get around having to add code for the Handler in each Child Activity.</p>\n\n<pre><code>open class BaseActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n    val handlerBaseActivity = Handler()\n    val runnable = object : Runnable {\n        override fun run() {\n            Log.d(\"icepts\",\"runnable from base...\")\n        }\n    }\n</code></pre>\n\n<pre><code>class MainActivity : BaseActivity () {\n    val handlerLocalActivity = Handler()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n    ...\n    handlerLocalActivity.postDelayed(runnable, 100)\n    }\n\n   override fun onPause() {\n        super.onPause()\n        handlerBaseActivity.removeCallbacks(runnable)\n    }\n</code></pre>\n\n<p>Anyone have any ideas that they'd be interested in sharing?  Thanks so much!</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "kotlin-coroutines", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 0, "creation_date": 1569492947, "post_id": 58104636, "comment_id": 102618456, "body": "Thanks for your post. Actually as you can see in my sample code I&#39;m using <code>viewModelScope</code> to make the repo call, which will use a <code>withContext(Dispatchers.IO)</code> to call Retrofit. The only piece of code missing is the case where the activity is the one that start the call. In that case, I expose a <code>suspend fun</code> from the viewModel to be called inside a <code>lifecyleScope</code>. I guess this choices are correct consider your answer right? When you say Retrofit 2.6.0 uses <code>Dispatchers.IO</code> for me, that means that <code>withContext(Dispatchers.IO)</code> inside my repo could be removed?"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 2, "creation_date": 1569493171, "post_id": 58104636, "comment_id": 102618585, "body": "the activity will just hold a reference of the viewmodel and say: <code>myViewModel.fetchMyObjectList()</code> not as suspending but as a method. then inside the <code>fetchMyObjectList()</code> you can just <code>viewModelScope.launch</code>. Yes, if you have Retrofit 2.6+ and inside your coroutines are only retrofit calls, no need for <code>withContext(Dispatchers.IO)</code>"}, {"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 0, "creation_date": 1569493493, "post_id": 58104636, "comment_id": 102618755, "body": "Why shouldn&#39;t be inside <code>lifecycleScope</code>? I guess it may depend on the use case, but if I move away to other activity (we could have a problem when going into bg no?) and I want to cancel that network call. Putting it inside <code>lifecycleScope</code> wouldn&#39;t manage that for me? (I&#39;m still learning how to work with coroutines, maybe I&#39;m misinterpreted some concepts ^^)"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 0, "creation_date": 1569493675, "post_id": 58104636, "comment_id": 102618854, "body": "That&#39;s fine with the <code>lifecycleScope</code> but the <code>View</code> mustn&#39;t know about your calls. The view is there just to render what the viewmodel gives. So you break the first part of the SOLID principles, the S"}, {"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 0, "creation_date": 1569496639, "post_id": 58104636, "comment_id": 102620359, "body": "Yeah sure, I use <code>Data Binding</code> and all actions start inside the ViewModel, but there are some cases for instance <code>lifecycleScope.startWhenResumed{}</code> that have to start in the Activity. If a developer chooses to user <code>View Binding</code>those actions will start in the Activity also (<code>onClickListeners</code>, etc). Another question that I forgot to ask, you mention - correctly - CoroutineExceptionHandler. I&#39;ve a BaseViewModel with <code>protected suspend fun &lt;T : Any&gt; safeCall(call: suspend () -&gt; T): T?</code>which encapsulates the call inside a <code>try catch</code> block. Do I benefit from <code>CoroutineExceptionHandler</code>?"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 1, "creation_date": 1569497087, "post_id": 58104636, "comment_id": 102620598, "body": "you can replace try/catch block with <code>CoroutineExceptionHandler</code> and it&#39;s still the same thing"}, {"owner": {"reputation": 111, "user_id": 4990683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KsoyO.jpg?s=128&g=1", "display_name": "Lukasz Kalnik", "link": "https://stackoverflow.com/users/4990683/lukasz-kalnik"}, "edited": false, "score": 0, "creation_date": 1583096383, "post_id": 58104636, "comment_id": 106992304, "body": "In unit tests <code>viewModelScope</code> doesn&#39;t propagate the exceptions as test failures. When a call inside of <code>viewModelScope</code> throws an exception the test still passes, only displaying a message that exception has been thrown.  Because of that I had to go away from <code>viewModelScope</code> and instead inject <code>MainScope()</code> which later in tests can be replaced by <code>TestCoroutineScope()</code>."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1583127412, "post_id": 58104636, "comment_id": 106998130, "body": "hmmm check the docs in testing the <code>CoroutineExceptionHandler</code> I guess"}, {"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1585532517, "post_id": 58104636, "comment_id": 107784621, "body": "Why do you need <code>Dispatchers.MAIN</code>?  Dispatchers.IO automatically switches to main thread."}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 11, "last_activity_date": 1595465236, "last_edit_date": 1595465236, "creation_date": 1569436497, "answer_id": 58104636, "question_id": 58083309, "link": "https://stackoverflow.com/questions/58083309/coroutines-and-retrofit-best-way-to-handle-errors/58104636#58104636", "title": "Coroutines and Retrofit, best way to handle Errors", "body": "<blockquote>\n<p>I think the ViewModel (or a BaseViewModel) should be the layer\nhandling the exceptions, because in this layer lies the UI decision\nlogic, for example, if we just want to show a toast, ignore a type of\nexception, call another function etc...</p>\n<p>What do you think?</p>\n</blockquote>\n<p>Certainly, you are correct. The coroutine should fire on the <code>ViewModel</code> even though the logic is in the <code>Repository</code>/<code>Service</code>. That's why Google has already created a special <code>coroutineScope</code> called <a href=\"https://proandroiddev.com/usage-of-the-viewmodelscope-f28703467b31\" rel=\"noreferrer\">viewModelScope</a>, otherwise it would be &quot;repositoryScope&quot; . Also coroutines have a nice feature on exception handling called the <code>CoroutineExceptionHandler</code>. This is where things get nicer because you don't have to implement a <code>try{}catch{}</code> block:</p>\n<pre><code>val coroutineExceptionHanlder = CoroutineExceptionHandler{_, throwable -&gt; \n    throwable.printStackTrance()\n    toastLiveData.value = showToastValueWhatever()\n}\n</code></pre>\n<p>Later in the <code>ViewModel</code></p>\n<pre><code>coroutineScope.launch(Dispatchers.IO + coroutineExceptionHanlder){\n      val data = serviceOrRepo.getData()\n}\n</code></pre>\n<p>Of course you can still use the <code>try/catch</code> block without the <code>CoroutineExceptionHandler</code>, free to choose.</p>\n<p>Notice that in case of Retrofit you don't need the <code>Dispatchers.IO</code> scheduler because Retrofit does that for you (since Retrofit 2.6.0).</p>\n<p>Anyways, I can't say the article is bad, but it is not the best solution. If you want to follow the articles' guide, you may want to check <a href=\"https://developer.android.com/reference/android/arch/lifecycle/Transformations\" rel=\"noreferrer\">Transformations on the LiveData</a>.</p>\n<p>EDIT:\nWhat you need to know more, is that coroutines are not safe. What I mean with this is that they might cause memory leaks especially in Android lifecycle overall. You need a way to cancel coroutines while the <code>Activity</code>/<code>Fragment</code> doesn't live anymore. Since the <code>ViewModel</code> has the <code>onCleared</code> (which is called when <code>Activity</code>/<code>Fragment</code> is destroyed), this implies that coroutines should fire in one of them. And perhaps this is the main reason why you should start the coroutine in the <code>ViewModel</code>. Notice that with the <code>viewModelScope</code> there is no need to <code>cancel</code> a job <code>onCleared</code>.</p>\n<p>A simple example:</p>\n<pre><code>viewModelScope.launch(Dispatchers.IO) {\n   val data = getDataSlowly()\n   withContext(Dispatchers.MAIN) {\n      showData();\n   }\n} \n</code></pre>\n<p>or without the <code>viewModelScope</code> :</p>\n<pre><code>val job = Job()\nval coroutineScope = CoroutineContext(Dispatchers.MAIN + job)\n\nfun fetchData() {\n   coroutineScope.launch() {\n   val data = getDataSlowly()\n       withContext(Dispatchers.MAIN) {\n          showData();\n       }\n   }\n}\n\n//later in the viewmodel:\n\noverride fun onCleared(){\n  super.onCleared()\n  job.cancel() //to prevent leaks\n}\n</code></pre>\n<p>Otherwise, your <code>Service</code>/<code>Repository</code> would leak. Another note is <strong>NOT</strong> <a href=\"https://medium.com/@elizarov/the-reason-to-avoid-globalscope-835337445abc\" rel=\"noreferrer\">to use the <code>GlobalScope</code></a> in this cases.</p>\n"}, {"comments": [{"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 2, "creation_date": 1570707689, "post_id": 58314588, "comment_id": 103002859, "body": "So what you are suggesting is to move the <code>return when (result)</code> from the <code>BaseService</code> into my <code>Repository</code> (this will make <code>BaseService</code> return just <code>result</code>) and process the data when <code>is Result.Success -&gt; {...}</code> and forward the error with <code>is Result.Error -&gt; throw result.exception</code>. Did I get it right? I&#39;m going to edit my code ;)"}], "tags": [], "owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1570674261, "creation_date": 1570674261, "answer_id": 58314588, "question_id": 58083309, "link": "https://stackoverflow.com/questions/58083309/coroutines-and-retrofit-best-way-to-handle-errors/58314588#58314588", "title": "Coroutines and Retrofit, best way to handle Errors", "body": "<p>I would suggest to handle exceptions in repository and return a single response in the form of sealed class object to viewmodel. Keeping this in repository makes the repository as single source of truth and your code more \nclean &amp; readable.</p>\n"}], "owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10534, "favorite_count": 16, "answer_count": 2, "score": 18, "last_activity_date": 1600795440, "creation_date": 1569337705, "last_edit_date": 1600795440, "question_id": 58083309, "link": "https://stackoverflow.com/questions/58083309/coroutines-and-retrofit-best-way-to-handle-errors", "title": "Coroutines and Retrofit, best way to handle Errors", "body": "<p>After reading this issue <a href=\"https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter/issues/3\" rel=\"noreferrer\">How to deal with exception</a> and this Medium <a href=\"https://android.jlelse.eu/android-networking-in-2019-retrofit-with-kotlins-coroutines-aefe82c4d777\" rel=\"noreferrer\">Android Networking in 2019 \u2014 Retrofit with Kotlin\u2019s Coroutines</a> I've created my solution which consist in a <code>BaseService</code> capable of making the retrofit call and forward the results and exceptions down the &quot;chain&quot;:</p>\n<p><strong>API</strong></p>\n<pre><code>@GET(&quot;...&quot;)\nsuspend fun fetchMyObject(): Response&lt;List&lt;MyObject&gt;&gt;\n</code></pre>\n<p><strong>BaseService</strong></p>\n<pre><code>protected suspend fun &lt;T : Any&gt; apiCall(call: suspend () -&gt; Response&lt;T&gt;): Result&lt;T&gt; {\n    val response: Response&lt;T&gt;\n    try {\n        response = call.invoke()\n    } catch (t: Throwable) {\n        return Result.Error(mapNetworkThrowable(t))\n    }\n    if (!response.isSuccessful) {\n        return Result.Error...\n    }\n    return Result.Success(response.body()!!)\n}\n</code></pre>\n<p><strong>ChildService</strong></p>\n<pre><code>suspend fun fetchMyObject(): Result&lt;List&lt;MyObject&gt;&gt; {\n    return apiCall(call = { api.fetchMyObject() })\n}\n</code></pre>\n<p><strong>Repo</strong></p>\n<pre><code>    suspend fun myObjectList(): List&lt;MyObject&gt; {\n        return withContext(Dispatchers.IO) {\n            when (val result = service.fetchMyObject()) {\n                is Result.Success -&gt; result.data\n                is Result.Error -&gt; throw result.exception\n            }\n        }\n    }\n</code></pre>\n<p><strong>Note:</strong> sometimes we need more than throwing an exception or one type of success result. To handle those situations this is how we can achieve that:</p>\n<pre><code>sealed class SomeApiResult&lt;out T : Any&gt; {\n    object Success : SomeApiResult&lt;Unit&gt;()\n    object NoAccount : SomeApiResult&lt;Unit&gt;()\n    sealed class Error(val exception: Exception) : SomeApiResult&lt;Nothing&gt;() {\n        class Generic(exception: Exception) : Error(exception)\n        class Error1(exception: Exception) : Error(exception)\n        class Error2(exception: Exception) : Error(exception)\n        class Error3(exception: Exception) : Error(exception)\n    }\n} \n</code></pre>\n<p>And then in our ViewModel:</p>\n<pre><code>when (result: SomeApiResult) {\n    is SomeApiResult.Success -&gt; {...}\n    is SomeApiResult.NoAccount -&gt; {...}\n    is SomeApiResult.Error.Error1 -&gt; {...}\n    is SomeApiResult.Error -&gt; {/*all other*/...}\n}\n</code></pre>\n<p>More about this approach <a href=\"https://stackoverflow.com/questions/60641763/sealed-class-for-repository-to-viewmodel-comunication\">here</a>.</p>\n<p><strong>BaseViewModel</strong></p>\n<pre><code>protected suspend fun &lt;T : Any&gt; safeCall(call: suspend () -&gt; T): T? {\n    try {\n        return call()\n    } catch (e: Throwable) {\n        parseError(e)\n    }\n    return null\n}\n</code></pre>\n<p><strong>ChildViewModel</strong></p>\n<pre><code>fun fetchMyObjectList() {\n    viewModelScope.launch {\n        safeCall(call = {\n            repo.myObjectList()\n            //update ui, etc..\n        })\n    }\n}\n</code></pre>\n<p>I think the <code>ViewModel</code> (or a <code>BaseViewModel</code>) should be the layer handling the exceptions, because in this layer lies the UI decision logic, for example, if we just want to show a toast, ignore a type of exception, call another function etc...</p>\n<p>What do you think?</p>\n<p><strong>EDIT:</strong> I've created a <a href=\"https://medium.com/@guidelgado/coroutines-retrofit-and-a-nice-way-to-handle-responses-769e013ee6ef\" rel=\"noreferrer\">medium</a> with this topic</p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1569359625, "post_id": 58083038, "comment_id": 102569813, "body": "Note that this will probably be a lot easier if you skip the reflection entirely and pass in a refactory, calling <code>modelClass(::T)</code> instead of <code>modelClass&lt;T&gt;()</code>."}, {"owner": {"reputation": 1, "user_id": 11040164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bfb479cda73e43c3631a261d0073016?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhey", "link": "https://stackoverflow.com/users/11040164/vidhey"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1569385471, "post_id": 58083038, "comment_id": 102574937, "body": "@LouisWasserman Thanks for quick response, can you show me how to do it by code."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11040164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bfb479cda73e43c3631a261d0073016?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhey", "link": "https://stackoverflow.com/users/11040164/vidhey"}, "is_accepted": false, "score": 0, "last_activity_date": 1569649604, "creation_date": 1569649604, "answer_id": 58143735, "question_id": 58083038, "link": "https://stackoverflow.com/questions/58083038/generic-class-object-create-and-set-the-value-to-variables-of-that-generic-class/58143735#58143735", "title": "Generic class object create and set the value to variables of that generic class, object of the generic add to arrayList", "body": "<p>i found a solution, </p>\n\n<p>inline fun modelClass(Val: (va: ArrayList) -> Unit) {</p>\n\n<pre><code>   // generic arrayList \n   var list = ArrayList&lt;T&gt;()\n\n   var jacksonObjectMapper = jacksonObjectMapper()\n\n   var map = WeakHashMap&lt;String, String&gt;()\n   map[\"key\"] = \"value\"\n\n   var obj = jacksonObjectMapper.convertValue(map, T::class.java)\n\n    // adding object to the list\n    list.add(obj)\n\n    Val(list)\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 1, "user_id": 11040164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bfb479cda73e43c3631a261d0073016?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhey", "link": "https://stackoverflow.com/users/11040164/vidhey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569649604, "creation_date": 1569336730, "last_edit_date": 1569337129, "question_id": 58083038, "link": "https://stackoverflow.com/questions/58083038/generic-class-object-create-and-set-the-value-to-variables-of-that-generic-class", "title": "Generic class object create and set the value to variables of that generic class, object of the generic add to arrayList", "body": "<p><a href=\"https://i.stack.imgur.com/keMsv.png\" rel=\"nofollow noreferrer\">My code Image</a>I'm writing a class which will give the arrayList of generics, eg: a inline function will take the class name and the output comes as arrayList of that generic class. please help me with this Thanks.</p>\n\n<p>I have a inline function in which creating the generic class instance, and a generic class arrayList, i am trying to add that object of the generic class into arrayList and its working but I am not able to set values to that generic class variables and create instance of that class and add to the arrayList.   </p>\n\n<p>\"Please check the Code in Image, In code block because of syntax correction  some line modified.\"</p>\n\n<p>// Inline function</p>\n\n<p>inline fun  modelClass(Val: (va: ArrayList) -> Unit) {</p>\n\n<pre><code>       // instance of generic class\n        var obj = T::class.java.newInstance()\n\n       // how to set values to the variable of \"obj\" ?\n\n        // generic arrayList \n        var list = ArrayList&lt;T&gt;()\n\n        // adding object to the list\n        list.add(obj)\n        list.add(obj)\n\n        Val(list)\n}\n</code></pre>\n\n<p>//===================================================================</p>\n\n<p>// call method</p>\n\n<pre><code>modelClass&lt;testClass&gt; {\n        // printing the values of list\n        it.forEach { it -&gt;\n            Log.d(\"ModelClass\", \"ModelClass - \" + it.firstName)\n        }\n    }\n</code></pre>\n\n<p>//===================================================================</p>\n\n<p>// model class for reference</p>\n\n<p>class testClass {</p>\n\n<pre><code>var firstName : String = \"hi\"\n    get() = field\n    set(value) {\n        field = value\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>how to add the variable values to the obj as shown in code </p>\n\n<p>\"Only getting the default value of variable\"</p>\n\n<p>Output :-</p>\n\n<p>ModelClass - hi</p>\n"}, {"tags": ["kotlin", "kodein"], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "edited": false, "score": 0, "creation_date": 1569570921, "post_id": 58083152, "comment_id": 102647463, "body": "The <code>M</code> will be deprecated in 6.5 and removed in 7.0, you should use <code>data classes</code> instead"}, {"owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "edited": false, "score": 0, "creation_date": 1569571008, "post_id": 58083152, "comment_id": 102647501, "body": "Plus, multiton doesnt answer your case. A multiton is a singleton, depending on a parameter."}], "tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": false, "score": 0, "last_activity_date": 1569337111, "creation_date": 1569337111, "answer_id": 58083152, "question_id": 58082918, "link": "https://stackoverflow.com/questions/58082918/how-to-pass-multiple-parameter-for-kodein-injected-instances/58083152#58083152", "title": "How to pass multiple parameter for Kodein Injected instances?", "body": "<p>Apparently there's something with <code>M</code> as wrapper to the arguments</p>\n\n<pre><code>private val appDependent: AppDependent by instance(arg = M(\"abc\", \"def\"))\n</code></pre>\n\n<p>Found the answer from <a href=\"https://weekly-geekly.github.io/articles/431696/index.html\" rel=\"nofollow noreferrer\">https://weekly-geekly.github.io/articles/431696/index.html</a>. Can't find them in the Kodein documentation :(</p>\n\n<p>The arguments can go up to 5, as stated in\n<a href=\"https://kodein.org/Kodein-DI/?6.3/core\" rel=\"nofollow noreferrer\">https://kodein.org/Kodein-DI/?6.3/core</a></p>\n\n<p><code>Just like a factory, a multiton can take multiple (up to 5) arguments.</code></p>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1569419288, "post_id": 58091519, "comment_id": 102591606, "body": "As of passing through data class, that is assume the parameter are serializable data only, I assume? If for something that is not serializable, then we have to get back to <code>M</code> I guess."}, {"owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1569570909, "post_id": 58091519, "comment_id": 102647459, "body": "Nope, no need to be serializable. The <code>M</code> will be deprecated in 6.5 and removed in 7.0, you should use <code>data classes</code> instead"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1596848398, "post_id": 58091519, "comment_id": 111951659, "body": "It seems clear to me, not sure who is confused and why. However, <code>data</code> classes have one benefit over varargs, we can set default values for parameters. The docs still say <code>multiton</code> can take up to 5 params, which doesn&#39;t compile with v7. OSS and docs, don&#39;t get me started."}, {"owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "edited": false, "score": 0, "creation_date": 1596864798, "post_id": 58091519, "comment_id": 111953758, "body": "This is definitely a documentation issue. <code>data class</code> are the recommended way when you have more than one parameter. The benefit of using data classes is that we can put an unlimited amount of parameters. otherwise, we would have to write N implementation for N parameter for the binding area."}], "tags": [], "owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "is_accepted": true, "score": 1, "last_activity_date": 1569388093, "creation_date": 1569388093, "answer_id": 58091519, "question_id": 58082918, "link": "https://stackoverflow.com/questions/58082918/how-to-pass-multiple-parameter-for-kodein-injected-instances/58091519#58091519", "title": "How to pass multiple parameter for Kodein Injected instances?", "body": "<p>in the next version the multi argument factories will be deprecated as there are confusing for lot of people.</p>\n\n<p>We recommend to use <code>data classes</code> instead, like:</p>\n\n<pre><code>data class DiceParamerters(val startNumber: Int, val sides: Int)\n\nval kodein = Kodein {\n    bind&lt;Dice&gt;() with factory { params: DiceParameters -&gt; RandomDice(params) }\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 58091519, "answer_count": 2, "score": 0, "last_activity_date": 1569388093, "creation_date": 1569336347, "question_id": 58082918, "link": "https://stackoverflow.com/questions/58082918/how-to-pass-multiple-parameter-for-kodein-injected-instances", "title": "How to pass multiple parameter for Kodein Injected instances?", "body": "<p>In Kodein, I have the below binding</p>\n\n<pre><code>    bind&lt;AppDependent&gt;() with multiton {\n        title: String -&gt; AppDependent(title, instance(), instance())\n    }\n</code></pre>\n\n<p>I could get it created using</p>\n\n<pre><code>private val appDependent: AppDependent by instance(arg = \"My Text\")\n</code></pre>\n\n<p>However, if I have more than one parameter for my binding, e.g. </p>\n\n<pre><code>    bind&lt;AppDependent&gt;() with multiton {\n        title: String, something: String -&gt; AppDependent(title + something, instance(), instance())\n    }\n</code></pre>\n\n<p>How could I instantiate it? I see we only have one <code>arg</code> in the <code>instance()</code> function.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569342432, "post_id": 58082533, "comment_id": 102563096, "body": "maybe not...btw whats the use case??"}, {"owner": {"reputation": 21, "user_id": 9981571, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yLvJZZg84vg/AAAAAAAAAAI/AAAAAAAAAnw/WoJTTpFj6hg/photo.jpg?sz=128", "display_name": "Usman sam", "link": "https://stackoverflow.com/users/9981571/usman-sam"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569392431, "post_id": 58082533, "comment_id": 102577034, "body": "i have updated my question have a look see"}, {"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1569394669, "post_id": 58082533, "comment_id": 102578033, "body": "I think you need to make two adapters like the Amir said"}], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 5955398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Esc5W.jpg?s=128&g=1", "display_name": "Amir Abbas", "link": "https://stackoverflow.com/users/5955398/amir-abbas"}, "is_accepted": false, "score": 0, "last_activity_date": 1569393021, "creation_date": 1569393021, "answer_id": 58092334, "question_id": 58082533, "link": "https://stackoverflow.com/questions/58082533/how-to-show-two-different-independent-objects-classes-in-one-recycler-view/58092334#58092334", "title": "How to show two different independent objects/classes in one Recycler View?", "body": "<p>i need more to know about your use case but my general solution is that you can create two adapter and when you want change RV you can just change your adapter.</p>\n"}], "owner": {"reputation": 21, "user_id": 9981571, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yLvJZZg84vg/AAAAAAAAAAI/AAAAAAAAAnw/WoJTTpFj6hg/photo.jpg?sz=128", "display_name": "Usman sam", "link": "https://stackoverflow.com/users/9981571/usman-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569393021, "creation_date": 1569335154, "last_edit_date": 1569392351, "question_id": 58082533, "link": "https://stackoverflow.com/questions/58082533/how-to-show-two-different-independent-objects-classes-in-one-recycler-view", "title": "How to show two different independent objects/classes in one Recycler View?", "body": "<p>Is there any way? two independent classes can communicate with single recyclerView...\nwhat i mean actually i have one recyclerView and i have two objects, for instance: one class has \"name\" and other class has \"qualification\" something like that, and  both classes extends from AppcompatActivity. I wanna show both these in that one particular recyclerView\n<strong>The Case is:</strong>\n I am using Room persistence lib. with MVVM i have one Entity class <strong>personal information</strong> and i am showing all those stuff in recyclerView and working fine. Now i have Button of <strong>objectives</strong> when i press it, it goes to different activity and have to enter some data and have to show in the same recyclerView and that objectives has its own Entity class which belongs to lets say objectivesActivity class..\nin short we can say that, there are two Entity classes and two activity classes but one recyclerView which has to show both of their data..</p>\n"}, {"tags": ["kotlin", "kodein"], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "edited": false, "score": 1, "creation_date": 1569388182, "post_id": 58082867, "comment_id": 102575586, "body": "You can also use it with complex objects like data classes"}], "tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": true, "score": 1, "last_activity_date": 1569336197, "creation_date": 1569336197, "answer_id": 58082867, "question_id": 58082476, "link": "https://stackoverflow.com/questions/58082476/how-to-pass-parameter-for-kodein-injected-instances/58082867#58082867", "title": "How to pass parameter for Kodein Injected instances?", "body": "<p>Found that we could do it as below</p>\n\n<pre><code>private val appDependent: AppDependent by instance(arg = \"My Text\")\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 58082867, "answer_count": 1, "score": 0, "last_activity_date": 1569336197, "creation_date": 1569335002, "question_id": 58082476, "link": "https://stackoverflow.com/questions/58082476/how-to-pass-parameter-for-kodein-injected-instances", "title": "How to pass parameter for Kodein Injected instances?", "body": "<p>In Kodein, when I have the below binding</p>\n\n<pre><code>    bind&lt;AppDependent&gt;() with singleton {\n        AppDependent(\"abc\", instance(), instance())\n    }\n</code></pre>\n\n<p>I could get my appDependent using below</p>\n\n<pre><code>private val appDependent : AppDependent by instance(\n</code></pre>\n\n<p>However if I like to provide the <code>title</code> as below</p>\n\n<pre><code>    bind&lt;AppDependent&gt;() with multiton {\n        title: String -&gt; AppDependent(title, instance(), instance())\n    }\n</code></pre>\n\n<p>How could I create <code>appDependent</code>?</p>\n\n<p>I tried something as below but not working.</p>\n\n<pre><code>private val appDependent : AppDependent by instance(\"Main\")\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2823, "user_id": 1604072, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Ol7j5.png?s=128&g=1", "display_name": "Dan Fein", "link": "https://stackoverflow.com/users/1604072/dan-fein"}, "edited": false, "score": 0, "creation_date": 1569335700, "post_id": 58082198, "comment_id": 102559465, "body": "Please show us the code you have and why it&#39;s not working as expected. Users here help edit code, not write it from scratch."}, {"owner": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "reply_to_user": {"reputation": 2823, "user_id": 1604072, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Ol7j5.png?s=128&g=1", "display_name": "Dan Fein", "link": "https://stackoverflow.com/users/1604072/dan-fein"}, "edited": false, "score": 0, "creation_date": 1569336690, "post_id": 58082198, "comment_id": 102560073, "body": "As you can see inside the debugger the document snapshot class has a field called localWriteTime, I am trying to access that variable if possible."}], "answers": [{"tags": [], "owner": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "is_accepted": false, "score": 0, "last_activity_date": 1569349246, "creation_date": 1569349246, "answer_id": 58086147, "question_id": 58082198, "link": "https://stackoverflow.com/questions/58082198/get-cached-documentsnapshot-localwritetime/58086147#58086147", "title": "Get cached documentsnapshot localWriteTime", "body": "<p>So I found a solution to my problem, you can get the estimated write time of the document with</p>\n\n<pre><code>val  myTime  = snapshot.get(\"time\", DocumentSnapshot.ServerTimestampBehavior.ESTIMATE) as Timestamp\n</code></pre>\n\n<p>\"time\" is the name of the field in the document that has the FieldValue.serverTimestamp() value</p>\n\n<p>this will get you the time stamp, you can get the second and nanosecond with</p>\n\n<pre><code> val myTime = snapshot.get(\"time\", DocumentSnapshot.ServerTimestampBehavior.ESTIMATE) as \n val second = myTime.seconds\n val nano = myTime.nanoseconds\n</code></pre>\n\n<p>I should mention that this time is estimated and the value will change when the snapshot is uploaded to the server</p>\n"}], "owner": {"reputation": 595, "user_id": 7501880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054241858036185/picture?type=large", "display_name": "MoTahir", "link": "https://stackoverflow.com/users/7501880/motahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570085212, "creation_date": 1569334202, "last_edit_date": 1570085212, "question_id": 58082198, "link": "https://stackoverflow.com/questions/58082198/get-cached-documentsnapshot-localwritetime", "title": "Get cached documentsnapshot localWriteTime", "body": "<p>I am trying to do pagination on some offline data.</p>\n\n<p>at the start, I am ordering 10 records by the time </p>\n\n<pre><code>myRef.orderBy(\"time\", Query.Direction.DESCENDING).limit(10)\n</code></pre>\n\n<p>then when the user scrolls down I get the time of the latest index and start after it like this </p>\n\n<pre><code>myRef.orderBy(\"time\",Query.Direction.DESCENDING).limit(10).startAfter(latestDocumentTime).get()\n</code></pre>\n\n<p>the \"Time\" field gets its value from</p>\n\n<pre><code>FieldValue.serverTimestamp()\n</code></pre>\n\n<p>I allowed my users to post things while offline, and this is causing trouble, if the latestDocument still has a pending write then the \"time\" value will be null.\nI tried getting the message before the latestDocument if the latestDocument time  is equal to null, but what if all of the 10 documents that I load at the start have pending writes (their time is null), I looked around the documentSnapshot and I found that it has a localWriteTime variable which I can use as a start point for my query.</p>\n\n<p>How can I get the localWriteTime of DocumentSnapShot? </p>\n\n<p><a href=\"https://ibb.co/129Thn4\" rel=\"nofollow noreferrer\">here is an Image</a></p>\n"}, {"tags": ["kotlin"], "owner": {"reputation": 25, "user_id": 12113400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a0cf89f45d23daedda3b24d80786a3?s=128&d=identicon&r=PG&f=1", "display_name": "MarAl", "link": "https://stackoverflow.com/users/12113400/maral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1569331930, "creation_date": 1569331930, "question_id": 58081498, "link": "https://stackoverflow.com/questions/58081498/kotlin-library-for-python", "title": "Kotlin library for Python", "body": "<p>I followed this <a href=\"https://kotlinlang.org/docs/tutorials/native/dynamic-libraries.html\" rel=\"nofollow noreferrer\">tutorial</a> to deduct a dll from a kotlin library. This works fine under Windows 7 using IntelliJ as described in the tutorial. </p>\n\n<p>In the last paragraph there is a <a href=\"https://github.com/JetBrains/kotlin-native/blob/master/samples/python_extension/src/main/c/kotlin_bridge.c\" rel=\"nofollow noreferrer\">link</a> to export the library for Python as well. However, it suddenly introduces a kotlin_bridge and presents a quite different example.</p>\n\n<p>My question is: How to I modify/extend my IntelliJ/Gradle environment from the first tutorial to make the library available to python users?</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1569341422, "creation_date": 1569341422, "answer_id": 58084353, "question_id": 58080453, "link": "https://stackoverflow.com/questions/58080453/kotin-application-wont-stop-when-using-fixedratetimer-even-when-window-is-clos/58084353#58084353", "title": "Kotin application won&#39;t stop when using fixedRateTimer (even when window is closed)", "body": "<p>You are cancelling your TimerTask, but not the timer. Either pass <code>daemon = true</code> to make a daemon thread, or make sure you save the <code>Timer</code> instance returned from the <code>fixedRateTimer()</code> call, and at some point call <code>cancel</code> on it to stop the non-daemon thread from running the timer before you exit.</p>\n\n<p>The JVM will exit when there are daemon threads running, but not when there are non-daemon threads.</p>\n"}], "owner": {"reputation": 33, "user_id": 12113054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/555d29912ae27ca57201103485aabbd7?s=128&d=identicon&r=PG&f=1", "display_name": "Jen", "link": "https://stackoverflow.com/users/12113054/jen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1125, "favorite_count": 0, "accepted_answer_id": 58084353, "answer_count": 1, "score": 3, "last_activity_date": 1569341422, "creation_date": 1569328473, "question_id": 58080453, "link": "https://stackoverflow.com/questions/58080453/kotin-application-wont-stop-when-using-fixedratetimer-even-when-window-is-clos", "title": "Kotin application won&#39;t stop when using fixedRateTimer (even when window is closed)", "body": "<p>I have a simple app in Kotlin that draws a rectangle and then uses a fixedRateTimer to update the location of the rectangle 30 times a second. The problem I have is that when I close the window displaying the rectangle the application keeps running and I have to press the red square inside Intellij to actually stop it. </p>\n\n<p>I have tried cancelling the fixedRateTimer before I close the window but the application is still running it just doesn't seem to do anything. If I run the application without the fixedRateTimer it just displays the square and then when I close the window it stops the application. </p>\n\n<pre><code>import javafx.scene.paint.Color\nimport tornadofx.*\nimport kotlin.concurrent.fixedRateTimer\n\nclass MyApp: App(MyView::class)\n\nclass MyView : View() {\n\n    override val root = stackpane {\n        group {\n            rectangle {\n                fill = Color.LIGHTGRAY\n                width = 600.0\n                height = 480.0\n            }\n\n            val myRect = rectangle {\n                fill = Color.BLUEVIOLET\n                width = 30.0\n                height = 30.0\n                x = 100.0\n                y = 100.0\n            }\n\n            fixedRateTimer(\"default\", false, 0L, 1000/30) {\n                myRect.x += 1\n                if(myRect.x &gt; 200) this.cancel()\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kodein"], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "edited": false, "score": 0, "creation_date": 1569335666, "post_id": 58080664, "comment_id": 102559443, "body": "Didn&#39;t understood what could go wrong with your example, didn&#39;t saw your reply."}], "tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": true, "score": 0, "last_activity_date": 1569329217, "creation_date": 1569329217, "answer_id": 58080664, "question_id": 58079961, "link": "https://stackoverflow.com/questions/58079961/required-kodeinbindingin-in-out-taskrepository/58080664#58080664", "title": "required: KodeinBinding&lt;in ???, in ???, out TaskRepository&gt;", "body": "<p>Found the issue. I accidentally include</p>\n\n<p><code>import java.util.Collections.singleton</code></p>\n\n<p>instead of</p>\n\n<p><code>import org.kodein.di.generic.singleton</code></p>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1569336141, "post_id": 58082693, "comment_id": 102559763, "body": "Your answer with the import helps. I uptick your answer."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1569336168, "post_id": 58082693, "comment_id": 102559781, "body": "Hopes my question helps others who got the wrong import...  and found the same error message."}], "tags": [], "owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "is_accepted": false, "score": 1, "last_activity_date": 1569335634, "creation_date": 1569335634, "answer_id": 58082693, "question_id": 58079961, "link": "https://stackoverflow.com/questions/58079961/required-kodeinbindingin-in-out-taskrepository/58082693#58082693", "title": "required: KodeinBinding&lt;in ???, in ???, out TaskRepository&gt;", "body": "<p>here a full working example:</p>\n\n<pre><code>import org.kodein.di.Kodein\nimport org.kodein.di.generic.bind\nimport org.kodein.di.generic.instance\nimport org.kodein.di.generic.singleton\n\ninterface TasksRepository {\n    fun log(): String = \"EMPTY\"\n}\nclass FakeTasksRepository : TasksRepository {\n    override fun log(): String = \"Hello Kodeiners!\"\n}\n\nval diModel = Kodein.Module(\"diModel\") {\n    bind&lt;TasksRepository&gt;() with singleton {\n        FakeTasksRepository()\n    }\n}\n\nfun main() {\n    val kodein = Kodein {\n        import(diModel)\n    }\n\n    val tasksRepository: TasksRepository by kodein.instance()\n    println(tasksRepository.log())\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 58080664, "answer_count": 2, "score": 0, "last_activity_date": 1569335634, "creation_date": 1569326747, "last_edit_date": 1569328438, "question_id": 58079961, "link": "https://stackoverflow.com/questions/58079961/required-kodeinbindingin-in-out-taskrepository", "title": "required: KodeinBinding&lt;in ???, in ???, out TaskRepository&gt;", "body": "<p>In exploring Kodein, I'm following the example in <a href=\"https://proandroiddev.com/dependency-injection-with-kotlin-kodein-koin-3d783745e48d\" rel=\"nofollow noreferrer\">https://proandroiddev.com/dependency-injection-with-kotlin-kodein-koin-3d783745e48d</a></p>\n\n<pre><code>val diModel = Kodein.Module {\n    bind&lt;TasksRepository&gt;() with singleton {\n        FakeTasksRepository()\n    }\n}\n</code></pre>\n\n<p>I got the error</p>\n\n<pre><code>Type inference failed. Expected type mismatched:\nrequired: KodeinBinding&lt;in ???, in ???, out TaskRepository&gt;\nfound:    (Mutable)set&lt;(() -&gt; FakeTaskRepository)!&gt;!\n</code></pre>\n\n<p>What's wrong?</p>\n\n<p>FYI, I use kodeIn version <code>6.4.0</code></p>\n\n<p>Add on, I have tried example from <a href=\"https://kodein.org/di/\" rel=\"nofollow noreferrer\">https://kodein.org/di/</a></p>\n\n<pre><code>val businessModule = Kodein.Module {\n    bind&lt;IService&gt;() with singleton { BusinessService() }\n}\n</code></pre>\n\n<p>The same things happen. Did I do something wrong? Or the documentation is out dated?</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "android-viewmodel"], "comments": [{"owner": {"reputation": 1303, "user_id": 3245772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjCCd.jpg?s=128&g=1", "display_name": "MrVasilev", "link": "https://stackoverflow.com/users/3245772/mrvasilev"}, "edited": false, "score": 0, "creation_date": 1569326964, "post_id": 58079901, "comment_id": 102554259, "body": "Did you check the documentation here <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/coroutine&zwnj;&#8203;s</a> ?"}, {"owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "reply_to_user": {"reputation": 1303, "user_id": 3245772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjCCd.jpg?s=128&g=1", "display_name": "MrVasilev", "link": "https://stackoverflow.com/users/3245772/mrvasilev"}, "edited": false, "score": 0, "creation_date": 1569327067, "post_id": 58079901, "comment_id": 102554321, "body": "@MrVasilev Yes but there is no mention of how to use it with Transformations.map"}, {"owner": {"reputation": 1303, "user_id": 3245772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjCCd.jpg?s=128&g=1", "display_name": "MrVasilev", "link": "https://stackoverflow.com/users/3245772/mrvasilev"}, "edited": false, "score": 0, "creation_date": 1569327340, "post_id": 58079901, "comment_id": 102554471, "body": "Are you sure you need Transformations.map? What is your scenario and what you want to achieve? Could you share more of your code?"}, {"owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "reply_to_user": {"reputation": 1303, "user_id": 3245772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjCCd.jpg?s=128&g=1", "display_name": "MrVasilev", "link": "https://stackoverflow.com/users/3245772/mrvasilev"}, "edited": false, "score": 0, "creation_date": 1569327512, "post_id": 58079901, "comment_id": 102554581, "body": "@MrVasilev Yes I use Transformations.map because my domain returns me a sealed class of APIResult which I map to ViewState in the ViewModel class and give it to the view"}, {"owner": {"reputation": 1303, "user_id": 3245772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjCCd.jpg?s=128&g=1", "display_name": "MrVasilev", "link": "https://stackoverflow.com/users/3245772/mrvasilev"}, "edited": false, "score": 0, "creation_date": 1569328711, "post_id": 58079901, "comment_id": 102555263, "body": "So, if I understand correct your &#39;domain&#39; contains your business logic and do a REST call to some Server and returns a LiveData&lt;APIResult&gt; and after based on this result you update your View, right?"}, {"owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "reply_to_user": {"reputation": 1303, "user_id": 3245772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjCCd.jpg?s=128&g=1", "display_name": "MrVasilev", "link": "https://stackoverflow.com/users/3245772/mrvasilev"}, "edited": false, "score": 0, "creation_date": 1569328777, "post_id": 58079901, "comment_id": 102555305, "body": "Yes exactly...."}], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1569331782, "post_id": 58080791, "comment_id": 102557195, "body": "Yes it works but I wanted more with Transformations.map"}], "tags": [], "owner": {"reputation": 1303, "user_id": 3245772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjCCd.jpg?s=128&g=1", "display_name": "MrVasilev", "link": "https://stackoverflow.com/users/3245772/mrvasilev"}, "is_accepted": false, "score": 0, "last_activity_date": 1569329666, "creation_date": 1569329666, "answer_id": 58080791, "question_id": 58079901, "link": "https://stackoverflow.com/questions/58079901/using-viewmodelscope-launch-with-lifecycle-transformations/58080791#58080791", "title": "Using viewmodelScope launch with lifecycle transformations", "body": "<p>So, if I got everything correct maybe solution like this can help you:</p>\n\n<p>In you Activity/Fragment</p>\n\n<pre><code>lifecycleScope.launchWhenStarted {\n        val apiResult = viewModel.initView()\n        updateUI(apiResult)\n        }\n</code></pre>\n\n<p>In your ViewModel</p>\n\n<pre><code>private val apiDeferred = CompletableDeferred&lt;LiveData&lt;APIResult&gt;&gt;()\n\nsuspend fun initView(): LiveData&lt;APIResult&gt; {\n        viewModelScope.launch(Dispatchers.IO) {\n            val apiResult = domain.performOperation()\n            artsDeferred.complete(arts)\n        }\n        return apiDeferred.await()\n    }\n</code></pre>\n\n<p>And you can also check this video here: <a href=\"https://www.youtube.com/watch?v=BOHK_w09pVA&amp;t=1230s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=BOHK_w09pVA&amp;t=1230s</a> (after 22th min)</p>\n\n<p>Please, say if this works for you or no, I also can suggest another solutions with the newest tech coroutines, liveData and so on</p>\n"}], "owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 742, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569329666, "creation_date": 1569326575, "question_id": 58079901, "link": "https://stackoverflow.com/questions/58079901/using-viewmodelscope-launch-with-lifecycle-transformations", "title": "Using viewmodelScope launch with lifecycle transformations", "body": "<p>I am using the following versions in my project -</p>\n\n<pre><code>implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0-alpha04\"\nimplementation \"androidx.lifecycle:lifecycle-livedata-ktx:2.2.0-alpha04\"\n</code></pre>\n\n<p>So in my View Model class, I do - </p>\n\n<pre><code>fun initView() =\n        Transformations.map(domain.performOperation()) {\n            when (it) {\n                ...\n            }\n        }\n</code></pre>\n\n<p>My View Model class extends Base View Model class and the Base View Model class looks like this - </p>\n\n<pre><code>open class BaseViewModel(private val coroutineCtx: CoroutineContext = Dispatchers.Main) :\n    ViewModel(),\n    CoroutineScope {\n\n    private val job = SupervisorJob()\n\n    override val coroutineContext: CoroutineContext\n        get() = coroutineCtx + job\n\n    override fun onCleared() {\n        super.onCleared()\n        job.cancel()\n    }\n}\n</code></pre>\n\n<p>This seems to work but I want to improvise my code and get rid of the boilerplate coroutine code in Base View Model class. So I want to use <code>viewModelScope.launch</code> directly in My View Model class. But how do I use it with <code>Transformations.map</code>?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 46792, "user_id": 1114338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK6GG.jpg?s=128&g=1", "display_name": "M D", "link": "https://stackoverflow.com/users/1114338/m-d"}, "edited": false, "score": 0, "creation_date": 1569325368, "post_id": 58079469, "comment_id": 102553404, "body": "You need to add Room database migration support OR If you added new field in your existing app then you must uninstall older version and install new version in same mobile device"}, {"owner": {"reputation": 11426, "user_id": 1573279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0J39C.jpg?s=128&g=1", "display_name": "Gunaseelan", "link": "https://stackoverflow.com/users/1573279/gunaseelan"}, "reply_to_user": {"reputation": 46792, "user_id": 1114338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK6GG.jpg?s=128&g=1", "display_name": "M D", "link": "https://stackoverflow.com/users/1114338/m-d"}, "edited": false, "score": 0, "creation_date": 1569325611, "post_id": 58079469, "comment_id": 102553543, "body": "@MD, I&#39;m getting this error while newly installing it..."}, {"owner": {"reputation": 46792, "user_id": 1114338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK6GG.jpg?s=128&g=1", "display_name": "M D", "link": "https://stackoverflow.com/users/1114338/m-d"}, "edited": false, "score": 0, "creation_date": 1569325922, "post_id": 58079469, "comment_id": 102553720, "body": "Can you show me how you init Room database ?"}, {"owner": {"reputation": 11426, "user_id": 1573279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0J39C.jpg?s=128&g=1", "display_name": "Gunaseelan", "link": "https://stackoverflow.com/users/1573279/gunaseelan"}, "reply_to_user": {"reputation": 46792, "user_id": 1114338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK6GG.jpg?s=128&g=1", "display_name": "M D", "link": "https://stackoverflow.com/users/1114338/m-d"}, "edited": false, "score": 0, "creation_date": 1569326197, "post_id": 58079469, "comment_id": 102553863, "body": "@MD I have updated the post."}, {"owner": {"reputation": 11426, "user_id": 1573279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0J39C.jpg?s=128&g=1", "display_name": "Gunaseelan", "link": "https://stackoverflow.com/users/1573279/gunaseelan"}, "reply_to_user": {"reputation": 46792, "user_id": 1114338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK6GG.jpg?s=128&g=1", "display_name": "M D", "link": "https://stackoverflow.com/users/1114338/m-d"}, "edited": false, "score": 0, "creation_date": 1569327974, "post_id": 58079469, "comment_id": 102554865, "body": "@MD, Upto version 35 I used SQLiteOpenHelper, Is that the cause for this problem?"}, {"owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "edited": false, "score": 0, "creation_date": 1569373117, "post_id": 58079469, "comment_id": 102572722, "body": "The only way that I can replicate the issue is to not include the table create (i.e. <code>database.execSQL(..........</code>). That results in a the same expected not found, i.e. con columns."}, {"owner": {"reputation": 1595, "user_id": 6873366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/462af8d258cb9c218d5bc53b06b2782a?s=128&d=identicon&r=PG&f=1", "display_name": "Nazmul Hasan", "link": "https://stackoverflow.com/users/6873366/nazmul-hasan"}, "edited": false, "score": 0, "creation_date": 1572408664, "post_id": 58079469, "comment_id": 103546233, "body": "Did you solve your problem? I am facing the same problem."}, {"owner": {"reputation": 11426, "user_id": 1573279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0J39C.jpg?s=128&g=1", "display_name": "Gunaseelan", "link": "https://stackoverflow.com/users/1573279/gunaseelan"}, "reply_to_user": {"reputation": 1595, "user_id": 6873366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/462af8d258cb9c218d5bc53b06b2782a?s=128&d=identicon&r=PG&f=1", "display_name": "Nazmul Hasan", "link": "https://stackoverflow.com/users/6873366/nazmul-hasan"}, "edited": false, "score": 0, "creation_date": 1572412442, "post_id": 58079469, "comment_id": 103546989, "body": "@NazmulHasan No, I gone with new database."}], "owner": {"reputation": 11426, "user_id": 1573279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0J39C.jpg?s=128&g=1", "display_name": "Gunaseelan", "link": "https://stackoverflow.com/users/1573279/gunaseelan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1188, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1569326174, "creation_date": 1569325108, "last_edit_date": 1569326174, "question_id": 58079469, "link": "https://stackoverflow.com/questions/58079469/pre-packaged-database-has-an-invalid-schema", "title": "Pre-packaged database has an invalid schema", "body": "<p>Here is my entity</p>\n\n<pre><code>@Entity(tableName = \"Task\")\nclass TaskEntity {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = \"ID\")\n    var id: Long = 0\n\n    @ColumnInfo(name = \"Title\")\n    lateinit var title: String\n}\n</code></pre>\n\n<p>I added this class to my database class entity list, while trying to check I'm getting following exception</p>\n\n<pre><code>java.lang.IllegalStateException: Pre-packaged database has an invalid schema: Task(com.idesign.iplacenotes.controller.database.room.entity.TaskEntity).\n Expected:\nTableInfo{name='Task', columns={Title=Column{name='Title', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=0, defaultValue='null'}, ID=Column{name='ID', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=1, defaultValue='null'}}, foreignKeys=[], indices=[]}\n Found:\nTableInfo{name='Task', columns={}, foreignKeys=[], indices=[]}\n</code></pre>\n\n<p>Might be very silli mistake, but I don't know what I have missed.</p>\n\n<p>Here is the Migration code,</p>\n\n<pre><code>private val MIGRATION_35_36 = object : Migration(35, 36) {\n            override fun migrate(database: SupportSQLiteDatabase) {\n                database.execSQL(\"CREATE TABLE `Task` (`ID` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `Title` TEXT NOT NULL)\")\n            }\n        }\n</code></pre>\n\n<p>Here I'm initializing my database</p>\n\n<pre><code>fun getInstance(context: Context): AppDatabase {\n    if (instance == null) {\n        instance = Room.databaseBuilder(context, AppDatabase::class.java, DATABASE_NAME)\n                .fallbackToDestructiveMigration()\n                .addMigrations(MIGRATION_35_36)\n                .allowMainThreadQueries()\n                .build()\n    }\n    return instance as AppDatabase\n}\n</code></pre>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1569322703, "post_id": 58078752, "comment_id": 102551977, "body": "What does &quot;not working&quot; mean? What are your exact symptoms?"}, {"owner": {"reputation": 1356, "user_id": 9239449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHqxl.jpg?s=128&g=1", "display_name": "Muhammad Faizan", "link": "https://stackoverflow.com/users/9239449/muhammad-faizan"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1569322745, "post_id": 58078752, "comment_id": 102552006, "body": "I mean I get all results, DISTINCT keyword is not working"}], "answers": [{"comments": [{"owner": {"reputation": 1356, "user_id": 9239449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHqxl.jpg?s=128&g=1", "display_name": "Muhammad Faizan", "link": "https://stackoverflow.com/users/9239449/muhammad-faizan"}, "edited": false, "score": 0, "creation_date": 1569323072, "post_id": 58078833, "comment_id": 102552185, "body": "Oh, I forgot to put <code>moveToNext()</code> but main problem is that I receive all results with repetition"}], "tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": false, "score": 3, "last_activity_date": 1569322855, "creation_date": 1569322855, "answer_id": 58078833, "question_id": 58078752, "link": "https://stackoverflow.com/questions/58078752/android-sqlite-distinct-query-not-working-with-rawquery/58078833#58078833", "title": "Android SQLite DISTINCT query not working with rawQuery()", "body": "<p>First problem: you forgot to specify your problem in detail.</p>\n\n<p>Another problem: you're reading the same row over and over again. You need to call <code>cursor.moveToNext()</code> to move to the next result row in your loop.</p>\n"}, {"tags": [], "owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "is_accepted": false, "score": 1, "last_activity_date": 1569322876, "creation_date": 1569322876, "answer_id": 58078841, "question_id": 58078752, "link": "https://stackoverflow.com/questions/58078752/android-sqlite-distinct-query-not-working-with-rawquery/58078841#58078841", "title": "Android SQLite DISTINCT query not working with rawQuery()", "body": "<p>use <code>cursor.moveToNext();</code></p>\n\n<pre><code>for (int i = 0; i &lt; cursor.getCount(); i++) {\n //do herer\n cursor.moveToNext();\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1070, "user_id": 8319636, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_PSM5m2k2W0/AAAAAAAAAAI/AAAAAAAAAo0/74Mgd8NSoqg/photo.jpg?sz=128", "display_name": "Syed Usama Ahmad", "link": "https://stackoverflow.com/users/8319636/syed-usama-ahmad"}, "is_accepted": true, "score": 1, "last_activity_date": 1569323554, "creation_date": 1569323554, "answer_id": 58079021, "question_id": 58078752, "link": "https://stackoverflow.com/questions/58078752/android-sqlite-distinct-query-not-working-with-rawquery/58079021#58079021", "title": "Android SQLite DISTINCT query not working with rawQuery()", "body": "<pre><code>public Cursor query (boolean distinct, String table, \n                     String[] columns, String selection, \n                     String[] selectionArgs, String groupBy, \n                     String having, String orderBy, String limit)\n</code></pre>\n\n<p>this is the code in java that I used for using distinct in my query, this worked for me</p>\n"}], "owner": {"reputation": 1356, "user_id": 9239449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHqxl.jpg?s=128&g=1", "display_name": "Muhammad Faizan", "link": "https://stackoverflow.com/users/9239449/muhammad-faizan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58079021, "answer_count": 3, "score": 0, "last_activity_date": 1569331405, "creation_date": 1569322555, "last_edit_date": 1569331405, "question_id": 58078752, "link": "https://stackoverflow.com/questions/58078752/android-sqlite-distinct-query-not-working-with-rawquery", "title": "Android SQLite DISTINCT query not working with rawQuery()", "body": "<p>I am using <code>rawQuery()</code> and <code>DISTINCT</code> with SQLite database in my project but query is not working, I receive all results along with repetition. I am using following kotlin function:</p>\n\n<pre><code>fun getCompanies(): ArrayList&lt;String&gt; {\n    val db: SQLiteDatabase = this.readableDatabase\n    val cursor = db.rawQuery(\"SELECT DISTINCT company_id FROM customer_cart\", null)\n    val list: ArrayList&lt;String&gt; = ArrayList()\n    if (cursor.count &gt; 0) {\n        cursor.moveToFirst()\n        var count = cursor.count\n        while (count &gt; 0) {\n            val companyID = cursor.getString(0)\n            list.add(companyID)\n            count--\n            moveToNext()\n        }\n    } else {\n        Toast.makeText(context, \"No item found\", Toast.LENGTH_LONG).show()\n    }\n    return list\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "activity-lifecycle", "kotlin-lateinit"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1569320403, "post_id": 58078082, "comment_id": 102550706, "body": "show full code please"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1569320711, "post_id": 58078082, "comment_id": 102550868, "body": "if you are using <code>sp = activity!!.getSharedPreferences()</code> inside fragment then please don&#39;t use <code>activity&#47;getActivity()</code> to get <code>Context</code> inside fragment because <code>activity&#47;getActivity()</code> retuns <code>null</code>  if the your  <code>fragment</code> is not currently attached to a parent <code>activity</code>"}, {"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1569322299, "post_id": 58078082, "comment_id": 102551764, "body": "@NileshRathod is correct, but it should have crashed if the activity is <code>null</code> and not let the rest of the code block to execute due to the <code>!!</code>. Please share a bigger code snippet, is the initialization right before passing the sharedPreferences around?"}, {"owner": {"reputation": 863, "user_id": 10585833, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xIf_dd5wUlc/AAAAAAAAAAI/AAAAAAAAAE4/qj4bCa_d6mE/photo.jpg?sz=128", "display_name": "Dima", "link": "https://stackoverflow.com/users/10585833/dima"}, "reply_to_user": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "edited": false, "score": 0, "creation_date": 1569323919, "post_id": 58078082, "comment_id": 102552659, "body": "@Giorgos Neokleous I shared more code. There is no initialination before using sp. The crash happens in less than 0.5% cases. I think it can be connected with memory clearing, but I do not understand how to prevent this crash (what to do after checking sp and other lateinit properties)"}, {"owner": {"reputation": 863, "user_id": 10585833, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xIf_dd5wUlc/AAAAAAAAAAI/AAAAAAAAAE4/qj4bCa_d6mE/photo.jpg?sz=128", "display_name": "Dima", "link": "https://stackoverflow.com/users/10585833/dima"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1569323978, "post_id": 58078082, "comment_id": 102552690, "body": "@Nilesh Rathod Thanks, but what should I do instead?"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1569324085, "post_id": 58078082, "comment_id": 102552759, "body": "@Dima try to get <code>context</code> inside <code>fragment</code> like this <a href=\"https://stackoverflow.com/a/52732620/7666442\">stackoverflow.com/a/52732620/7666442</a>"}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 10352079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f62ar.jpg?s=128&g=1", "display_name": "Razvan S.", "link": "https://stackoverflow.com/users/10352079/razvan-s"}, "is_accepted": false, "score": -1, "last_activity_date": 1569325063, "creation_date": 1569325063, "answer_id": 58079452, "question_id": 58078082, "link": "https://stackoverflow.com/questions/58078082/how-to-recreate-activity/58079452#58079452", "title": "How to recreate activity", "body": "<p>One way to solve this would be calling:</p>\n\n<pre><code>if(!::sp.isInitialized) {\n    sp = activity!!.getSharedPreferences(Constants.APP_PREFERENCES, AppCompatActivity.MODE_PRIVATE)\n    dManager = MyApp.gManager.getDataManager(sp,level,test)\n}\n</code></pre>\n\n<p>In the fragment onStart() method.</p>\n"}], "owner": {"reputation": 863, "user_id": 10585833, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xIf_dd5wUlc/AAAAAAAAAAI/AAAAAAAAAE4/qj4bCa_d6mE/photo.jpg?sz=128", "display_name": "Dima", "link": "https://stackoverflow.com/users/10585833/dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569325063, "creation_date": 1569320365, "last_edit_date": 1569323631, "question_id": 58078082, "link": "https://stackoverflow.com/questions/58078082/how-to-recreate-activity", "title": "How to recreate activity", "body": "<p>I have activity and fragment. I get shared pref. in my fragment:</p>\n\n<pre><code>   private var dManager: DataManager?=null\n   private lateinit var sp: SharedPreferences\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View?{\n    val view = inflater.inflate(R.layout.fragment_test1_new_design, container, false)\n    level = arguments!![Constants.LEVEL].toString()\n    sp = activity!!.getSharedPreferences(Constants.APP_PREFERENCES, AppCompatActivity.MODE_PRIVATE)\n    dManager = MyApp.gManager.getDataManager(sp,level,test)\n</code></pre>\n\n<p>And some times I get crash report that </p>\n\n<pre><code>lateinit property sp has not been initialized\n</code></pre>\n\n<p>I do not use sp before initialization, so it means <code>activity!!.getSharedPreferences(Constants.APP_PREFERENCES, AppCompatActivity.MODE_PRIVATE)</code> returns null.   Is it means that activity has been destroyed? </p>\n\n<p>If I check that sp == null, what should I do futher in fragment? Restart app or recreate activity? What is the right way?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2309, "user_id": 5033303, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-uLul884YV6o/AAAAAAAAAAI/AAAAAAAAAB4/XzPVDX3_Xz0/photo.jpg?sz=128", "display_name": "Ali Zarei", "link": "https://stackoverflow.com/users/5033303/ali-zarei"}, "edited": false, "score": 0, "creation_date": 1607952909, "post_id": 58077786, "comment_id": 115425372, "body": "same problem here , do you found any solution?"}], "answers": [{"comments": [{"owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "reply_to_user": {"reputation": 369, "user_id": 4846667, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1219f93e968eb1f1cee4792d9004d43d?s=128&d=identicon&r=PG&f=1", "display_name": "sanil", "link": "https://stackoverflow.com/users/4846667/sanil"}, "edited": false, "score": 0, "creation_date": 1569320204, "post_id": 58077904, "comment_id": 102550593, "body": "I used it in my live project and it&#39;s perfectly working for me. which type of error do you face while you use this?"}, {"owner": {"reputation": 369, "user_id": 4846667, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1219f93e968eb1f1cee4792d9004d43d?s=128&d=identicon&r=PG&f=1", "display_name": "sanil", "link": "https://stackoverflow.com/users/4846667/sanil"}, "edited": false, "score": 0, "creation_date": 1569320352, "post_id": 58077904, "comment_id": 102550681, "body": "Compiler doesn&#39;t shows me error even i am passing value other than specified type"}, {"owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "reply_to_user": {"reputation": 369, "user_id": 4846667, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1219f93e968eb1f1cee4792d9004d43d?s=128&d=identicon&r=PG&f=1", "display_name": "sanil", "link": "https://stackoverflow.com/users/4846667/sanil"}, "edited": false, "score": 0, "creation_date": 1569322713, "post_id": 58077904, "comment_id": 102551984, "body": "strange!! Anyway, let me know if you need any help on that :)"}, {"owner": {"reputation": 369, "user_id": 4846667, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1219f93e968eb1f1cee4792d9004d43d?s=128&d=identicon&r=PG&f=1", "display_name": "sanil", "link": "https://stackoverflow.com/users/4846667/sanil"}, "edited": false, "score": 0, "creation_date": 1569323503, "post_id": 58077904, "comment_id": 102552414, "body": "Can you please share the pseudo code of function in which you have implemented this and also the code for calling the same function"}, {"owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "reply_to_user": {"reputation": 369, "user_id": 4846667, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1219f93e968eb1f1cee4792d9004d43d?s=128&d=identicon&r=PG&f=1", "display_name": "sanil", "link": "https://stackoverflow.com/users/4846667/sanil"}, "edited": false, "score": 0, "creation_date": 1569325205, "post_id": 58077904, "comment_id": 102553317, "body": "private fun getUserType(userRoleType: Int){         if(userRoleType == UserRoleType1.MALE){             Log.d(&quot;Male&quot;, UserRoleType1.MALE.toString())         }else if(userRoleType == UserRoleType1.FEMALE){             Log.d(&quot;FEMALE&quot;, UserRoleType1.MALE.toString())         }     }   I called this function like this - getUserType(UserRoleType1.MALE)"}, {"owner": {"reputation": 369, "user_id": 4846667, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1219f93e968eb1f1cee4792d9004d43d?s=128&d=identicon&r=PG&f=1", "display_name": "sanil", "link": "https://stackoverflow.com/users/4846667/sanil"}, "edited": false, "score": 0, "creation_date": 1569325815, "post_id": 58077904, "comment_id": 102553661, "body": "In your case you have not specified the parameter type in the function."}], "tags": [], "owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "is_accepted": false, "score": 0, "last_activity_date": 1569319731, "creation_date": 1569319731, "answer_id": 58077904, "question_id": 58077786, "link": "https://stackoverflow.com/questions/58077786/kotlin-type-def/58077904#58077904", "title": "Kotlin type def", "body": "<p>Try out with this</p>\n\n<pre><code>@IntDef(MALE, FEMALE)\n@Retention(AnnotationRetention.SOURCE)\nannotation class UserRoleType {\n    companion object {\n        const val MALE = 1\n        const val FEMALE = 2\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 4846667, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1219f93e968eb1f1cee4792d9004d43d?s=128&d=identicon&r=PG&f=1", "display_name": "sanil", "link": "https://stackoverflow.com/users/4846667/sanil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1579187494, "creation_date": 1569319322, "last_edit_date": 1579187494, "question_id": 58077786, "link": "https://stackoverflow.com/questions/58077786/kotlin-type-def", "title": "Kotlin type def", "body": "<p>I am trying IntDef typedef to restrict the specific type of parameter to the function. But when I am using IntDef using java it's working properly but at the same time, it's not working with kotlin. Below is my code snippet -</p>\n\n<p>In JAVA -</p>\n\n<pre><code>@IntDef({CASH,WITHDRAW}) \n@Retention(RetentionPolicy.SOURCE) \npublic @interface TransTypeJava { \nint CASH = 1; int WITHDRAW = 2;\n}\n</code></pre>\n\n<p>In Kotlin - </p>\n\n<pre><code>const val CASH = 1 const val WITHDRAW = 2 \n@IntDef(CASH, WITHDRAW) \n@kotlin.annotation.Retention(AnnotationRetention.SOURCE) \ninternal annotation class TransTypeKotlin\n</code></pre>\n\n<p>Using in class - </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) { \nsuper.onCreate(savedInstanceState) \nsetContentView(R.layout.activity_main) \ndemo(TransTypeJava.CASH)// Working \ndemo(1) // Showing compile time error \n} \nfun demo(@TransTypeJava type:Int){}\n</code></pre>\n\n<p>Calling to the demo function gives me an error saying that Must be one of: \n<code>TransTypeJava.CASH</code>, <code>TransTypeJava.WITHDRAW</code> by passing value other than <code>TransTypeJava</code> type.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) { \nsuper.onCreate(savedInstanceState) \nsetContentView(R.layout.activity_main) \ndemo(TransTypeKotlin.CASH) //Working \ndemo(1) // Working \n} \nfun demo(@TransTypeKotlin type: Int){} \n</code></pre>\n\n<p>While using this with kotlin it does not show any error by passing value other than TransTypeKotlin type. Any help will be appreciated.</p>\n"}, {"tags": ["android", "list", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1569319809, "post_id": 58077064, "comment_id": 102550375, "body": "do you want a list of <code>ClassB</code> ordered by date with its corresponding <code>ClassA</code> or do you want a list of <code>ClassA</code> where only the <code>ClassB</code> are ordered by date for each <code>ClassA</code>... or in other words: what should happen if there are two <code>ClassB</code>-dates of any <code>ClassA</code>-object that are both before and after other <code>ClassA</code>-object-contained <code>ClassB</code>-dates?"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1569321588, "post_id": 58077513, "comment_id": 102551339, "body": "instead of using your own comparator, you may also be interested in <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-by.html\" rel=\"nofollow noreferrer\"><code>compareBy</code></a>... that way you could also write something like <code>listOfB.sortedWith(compareBy { it.date })</code>..."}], "tags": [], "owner": {"reputation": 506, "user_id": 10771260, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VVqSgkCfkKs/AAAAAAAAAAI/AAAAAAAAADM/Di22v4d3YCA/photo.jpg?sz=128", "display_name": "Black mamba", "link": "https://stackoverflow.com/users/10771260/black-mamba"}, "is_accepted": false, "score": 0, "last_activity_date": 1569318451, "creation_date": 1569318451, "answer_id": 58077513, "question_id": 58077064, "link": "https://stackoverflow.com/questions/58077064/kotlin-sort-list-of-list-based-on-parameter-in-inner-list/58077513#58077513", "title": "Kotlin sort list of list based on parameter in inner list", "body": "<p>you can use <strong>Comparator</strong> to use this... here the code sample that you can use </p>\n\n<p><strong>Comparator object</strong></p>\n\n<pre><code>companion object : Comparator&lt;MyDate&gt; {\n\noverride fun compare(a: MyDate, b: MyDate): Int = when {\n    a.year != b.year -&gt; a.year - b.year\n    a.month != b.month -&gt; a.month - b.month\n    else -&gt; a.day - b.day\n}}\n</code></pre>\n\n<p><strong>date model class</strong></p>\n\n<pre><code>data class MyDate (val year: Int, val month: Int, val day: Int) {}\n</code></pre>\n\n<p><strong>and this is how you can perform sorting</strong></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\nval myDates = listOfdays\nmyDates.sortedWith(CompareObjects).forEach { \n\n    add sorted list\n}}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1569321877, "post_id": 58078419, "comment_id": 102551510, "body": "if you want to have a mixture of both... sorting list <code>A</code> corresponding to its <code>B</code>-dates, then you need to tell what should happen if there are several dates within one <code>A</code> that could be before/after any other <code>A&#39;</code>."}, {"owner": {"reputation": 1408, "user_id": 3922262, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18f21a65cadb11d56a44f6d54a176a8d?s=128&d=identicon&r=PG&f=1", "display_name": "saintjab", "link": "https://stackoverflow.com/users/3922262/saintjab"}, "edited": false, "score": 0, "creation_date": 1569332309, "post_id": 58078419, "comment_id": 102557546, "body": "I will need mixture of both (sorting list A corresponding to its B-dates). My dates are actually DateTime and there&#39;s a guarantee that two dates in classB in two classA won&#39;t be the same, at least there will be a time difference. Thanks for the above, will try it"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 1408, "user_id": 3922262, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18f21a65cadb11d56a44f6d54a176a8d?s=128&d=identicon&r=PG&f=1", "display_name": "saintjab", "link": "https://stackoverflow.com/users/3922262/saintjab"}, "edited": false, "score": 0, "creation_date": 1569332496, "post_id": 58078419, "comment_id": 102557644, "body": "so do you have cases, such as in my example, where <code>A(id=4)</code> contains <code>B</code>-dates that are actually both, before and after some <code>B</code>-dates of <code>A(id=12)</code>... how would you want to order that?"}, {"owner": {"reputation": 1408, "user_id": 3922262, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18f21a65cadb11d56a44f6d54a176a8d?s=128&d=identicon&r=PG&f=1", "display_name": "saintjab", "link": "https://stackoverflow.com/users/3922262/saintjab"}, "edited": false, "score": 0, "creation_date": 1569941098, "post_id": 58078419, "comment_id": 102754315, "body": "sorry for late reply. I would show the outer entries with higher size first. This that possible? Also I see your solution involves Pairs&lt;A, B&gt; output, how can I get the output in original format i.e instead of List&lt;Pair&lt;A, B&gt;&gt; but List&lt;List&lt;B&gt;&gt;"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 1408, "user_id": 3922262, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18f21a65cadb11d56a44f6d54a176a8d?s=128&d=identicon&r=PG&f=1", "display_name": "saintjab", "link": "https://stackoverflow.com/users/3922262/saintjab"}, "edited": false, "score": 0, "creation_date": 1569941640, "post_id": 58078419, "comment_id": 102754653, "body": "hmmm... maybe I wasn&#39;t clear enough or I don&#39;t understand what you really want... in my second approach I basically have each corresponding <code>A</code> in the pair... however each <code>A</code> still has its complete list of all possible <code>B</code>s... so if you say <code>List&lt;List&lt;B&gt;&gt;</code> what do you really expect? if you only need the <code>B</code>-dates to be sorted, you can also just do <code>listOfAs.flatMap { bs }.sortedByDescending { it.date }</code>"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 1, "last_activity_date": 1569321518, "creation_date": 1569321518, "answer_id": 58078419, "question_id": 58077064, "link": "https://stackoverflow.com/questions/58077064/kotlin-sort-list-of-list-based-on-parameter-in-inner-list/58078419#58078419", "title": "Kotlin sort list of list based on parameter in inner list", "body": "<p>Assuming the following:</p>\n\n<pre><code>val int = AtomicInteger(0)\ndata class A(val bs: List&lt;B&gt;, val id: Int = int.incrementAndGet())\ndata class B(val date: LocalDate, val id: Int = int.incrementAndGet())\n</code></pre>\n\n<p>and a list (<code>listOfA</code>) as follows:</p>\n\n<pre><code>A(bs=[B(date=2019-09-24, id=1), B(date=2019-09-25, id=2), B(date=2019-09-23, id=3)], id=4)\nA(bs=[B(date=2019-09-21, id=5), B(date=2019-09-22, id=6), B(date=2019-09-23, id=7)], id=8)\nA(bs=[B(date=2019-09-19, id=9), B(date=2019-09-23, id=10), B(date=2019-09-29, id=11)], id=12)\n</code></pre>\n\n<ol>\n<li><p>only ordering the class <code>B</code> elements (actually I create a new list with completely new <code>A</code>-objects... if you do not want that, this can still serve as a starting point):</p>\n\n<pre><code>val listOfAWithOrderedB = listOfA.map {\n  it.copy(bs = it.bs.sortedByDescending(B::date))\n}\n</code></pre>\n\n<p>which leads to:</p>\n\n<pre><code>A(bs=[B(date=2019-09-25, id=2), B(date=2019-09-24, id=1), B(date=2019-09-23, id=3)], id=4)\nA(bs=[B(date=2019-09-23, id=7), B(date=2019-09-22, id=6), B(date=2019-09-21, id=5)], id=8)\nA(bs=[B(date=2019-09-29, id=11), B(date=2019-09-23, id=10), B(date=2019-09-19, id=9)], id=12)\n</code></pre></li>\n<li><p>ordering by all <code>B</code>-dates and keeping a reference to the actual <code>A</code>:</p>\n\n<pre><code>val bSortedByDateAndTheirA = listOfA.flatMap { anA -&gt;\n  anA.bs.map {\n    it to anA\n  }\n}\n    .sortedByDescending { (b) -&gt; b.date }\n</code></pre>\n\n<p>which leads to a <code>List&lt;Pair&lt;B, A&gt;&gt;</code> (again... a possible starting point) as follows:</p>\n\n<pre><code>(B(date=2019-09-29, id=11), A(bs=[B(date=2019-09-19, id=9), B(date=2019-09-23, id=10), B(date=2019-09-29, id=11)], id=12))\n(B(date=2019-09-25, id=2), A(bs=[B(date=2019-09-24, id=1), B(date=2019-09-25, id=2), B(date=2019-09-23, id=3)], id=4))\n(B(date=2019-09-24, id=1), A(bs=[B(date=2019-09-24, id=1), B(date=2019-09-25, id=2), B(date=2019-09-23, id=3)], id=4))\n(B(date=2019-09-23, id=3), A(bs=[B(date=2019-09-24, id=1), B(date=2019-09-25, id=2), B(date=2019-09-23, id=3)], id=4))\n(B(date=2019-09-23, id=7), A(bs=[B(date=2019-09-21, id=5), B(date=2019-09-22, id=6), B(date=2019-09-23, id=7)], id=8))\n(B(date=2019-09-23, id=10), A(bs=[B(date=2019-09-19, id=9), B(date=2019-09-23, id=10), B(date=2019-09-29, id=11)], id=12))\n(B(date=2019-09-22, id=6), A(bs=[B(date=2019-09-21, id=5), B(date=2019-09-22, id=6), B(date=2019-09-23, id=7)], id=8))\n(B(date=2019-09-21, id=5), A(bs=[B(date=2019-09-21, id=5), B(date=2019-09-22, id=6), B(date=2019-09-23, id=7)], id=8))\n(B(date=2019-09-19, id=9), A(bs=[B(date=2019-09-19, id=9), B(date=2019-09-23, id=10), B(date=2019-09-29, id=11)], id=12))\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1408, "user_id": 3922262, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18f21a65cadb11d56a44f6d54a176a8d?s=128&d=identicon&r=PG&f=1", "display_name": "saintjab", "link": "https://stackoverflow.com/users/3922262/saintjab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 58078419, "answer_count": 2, "score": 1, "last_activity_date": 1569321518, "creation_date": 1569317006, "question_id": 58077064, "link": "https://stackoverflow.com/questions/58077064/kotlin-sort-list-of-list-based-on-parameter-in-inner-list", "title": "Kotlin sort list of list based on parameter in inner list", "body": "<p>I have a list of list that I want to sort based on a date value in inner list. Here's example of my list:</p>\n\n<p><code>ClassA(id: String, classb : List&lt;ClassB&gt;)</code> and ClassB is <code>ClassB(id: String, date: Date)</code> so I have list of ClassA which also contain list of ClassB and I want to order/sort List based on descending order of dates in inner classB</p>\n"}, {"tags": ["android", "kotlin", "android-handler", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 641, "user_id": 2711654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cntf6.jpg?s=128&g=1", "display_name": "Spidey", "link": "https://stackoverflow.com/users/2711654/spidey"}, "edited": false, "score": 7, "creation_date": 1569318261, "post_id": 58077029, "comment_id": 102549431, "body": "I know how coroutines work. It&#39;s obvious that the coroutine will do the delay by being suspended and that the postDelay will do it by storing a message in the message queue and it will be executed at a later point. The effect is basically the same I&#39;m just wondering why to choose one over the other.  In this example, it&#39;s beneficial for the code after the delay to run on the UI thread so launching it on a different thread is not an argument (even so I think you can setup postDelay to run on a different thread).  I don&#39;t see this as a proper answer."}], "tags": [], "owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "is_accepted": false, "score": 4, "last_activity_date": 1593492802, "last_edit_date": 1593492802, "creation_date": 1569316894, "answer_id": 58077029, "question_id": 58076785, "link": "https://stackoverflow.com/questions/58076785/android-postdelayed-vs-coroutines-delay/58077029#58077029", "title": "Android postDelayed vs Coroutines delay", "body": "<p>Well basically coroutines are way better than handler threads and whenever you use handlers it executes your runnable in main UI thread after the post delay method is executed however attributing to coroutines you can always specify the the delay in different contexts like when <code>launch{}</code> is used with main scope it executes your coroutine in UI thread or in case you want the delay in background you can use <code>async{}</code> with background scope,</p>\n<p>Simply consider it as classification of threads which is easier to maintain rather than other methods like rx or other normal threads.</p>\n<p>Moreover, Handlers are limited to executing required code into an runnable and after postdelay if you want to resume from the break point you can't do that easily.</p>\n<p>So coroutines basically eases out this process for us where if you're calling delay it will suspend or dismiss your method for certain time and then it will be resumed back from where the delay ocurred.</p>\n<p>To be more specific take a look at this e.g:-</p>\n<pre><code>suspend fun myfunc(){\nprint(&quot;Hello&quot;) //prints a hello\ndelay(300) //this line suspends your function for 300 milliseconds\nprint(&quot;World&quot;) //when delay is over world will be printed  \n}\n</code></pre>\n"}], "owner": {"reputation": 641, "user_id": 2711654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cntf6.jpg?s=128&g=1", "display_name": "Spidey", "link": "https://stackoverflow.com/users/2711654/spidey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4307, "favorite_count": 3, "answer_count": 1, "score": 4, "last_activity_date": 1593492802, "creation_date": 1569316126, "last_edit_date": 1569325781, "question_id": 58076785, "link": "https://stackoverflow.com/questions/58076785/android-postdelayed-vs-coroutines-delay", "title": "Android postDelayed vs Coroutines delay", "body": "<p>I saw <a href=\"https://medium.com/@pro100svitlo/edittext-debounce-with-kotlin-coroutines-fd134d54f4e9\" rel=\"nofollow noreferrer\">this</a> example and I'm wondering is there any objective reason to implement this using Coroutines <code>delay</code> instead of Android Handler <code>postDelayed</code>?</p>\n\n<p>In case the link dies the code from example is below:</p>\n\n<pre><code>val watcher = object :TextWatcher{\n    private var searchFor = \"\"\n\n    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n        val searchText = s.toString().trim()\n        if (searchText == searchFor)\n            return\n\n        searchFor = searchText\n\n        launch {       \n            delay(300)  //debounce timeOut\n            if (searchText != searchFor)\n                return@launch\n\n            // do our magic here\n        }\n    }\n\n    override fun afterTextChanged(s: Editable?) = Unit\n    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) = Unit\n}\n</code></pre>\n\n<p>EDIT: To clarify, the <code>delay</code> from Coroutines can be replaced with the delay from Android Handler <code>postDelayed</code>. The difference is that the Coroutines will perform the delay being suspended, while the Android Handler will perform the delay by storing a message into the message queue of the thread to be executed at a later point. Seemingly the effect is the same, the difference is in the how the delay is performed. Is there any objective reason why one or the other would be better here?</p>\n\n<p>EDIT2: Turns out that under the hood Coroutine dispatchers will use something like an Android Handler. Refer to <a href=\"https://stackoverflow.com/questions/53526556/how-do-kotlin-coroutines-work-internally\">this</a> for more detail. This implies that introducing coroutines for a simple delay isn't worth it.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 0, "creation_date": 1569315220, "post_id": 58076482, "comment_id": 102547682, "body": "What IDE is that ? Eclipse ?"}, {"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "reply_to_user": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 0, "creation_date": 1569315295, "post_id": 58076482, "comment_id": 102547728, "body": "Android Studio. Is anyone still developing Android in Eclipse?"}, {"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 0, "creation_date": 1569315654, "post_id": 58076482, "comment_id": 102547935, "body": "<a href=\"https://insights.stackoverflow.com/survey/2019#technology-development-environments-and-tools-mobile-developers\" rel=\"nofollow noreferrer\">Yup</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 5, "last_activity_date": 1593979640, "last_edit_date": 1593979640, "creation_date": 1569315253, "answer_id": 58076538, "question_id": 58076482, "link": "https://stackoverflow.com/questions/58076482/instantiated-class-in-kotlin-still-possibly-null-why/58076538#58076538", "title": "Instantiated class in Kotlin still possibly null. Why?", "body": "<p>You're setting the value of a variable which was defined outside of this scope (the declaration of <code>arguments</code> is not visible in your code).</p>\n<p>No matter what you assign, it could have been changed by the time code execution reaches the next line to a <code>null</code> value by another <code>Thread</code>, that's why you have to use the <code>!!</code> here. I'd suggest defining <code>arguments</code> either in local scope with <code>val</code> or making it non-nullable in its definition.</p>\n"}, {"comments": [{"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 0, "creation_date": 1569316263, "post_id": 58076714, "comment_id": 102548287, "body": "OP declared <code>arguments</code> as <code>Bundle</code> and not <code>Bundle?</code>"}, {"owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "reply_to_user": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 0, "creation_date": 1569316386, "post_id": 58076714, "comment_id": 102548372, "body": "there is no declaration of arguments variable in his snippet of code, he just assigned <code>Bundle</code> object to the variable."}, {"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 0, "creation_date": 1569316436, "post_id": 58076714, "comment_id": 102548404, "body": "Oh right, I mismatched initialization and declaration"}], "tags": [], "owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1569315866, "creation_date": 1569315866, "answer_id": 58076714, "question_id": 58076482, "link": "https://stackoverflow.com/questions/58076482/instantiated-class-in-kotlin-still-possibly-null-why/58076714#58076714", "title": "Instantiated class in Kotlin still possibly null. Why?", "body": "<p>This happens because <code>arguments</code> is of Bundle? type, this means that it can be either Bundle or null.</p>\n\n<p>Instead of using an if to check whether it is null, like you would to in Java, the operators <code>!!</code> and <code>?</code> were introduced.</p>\n\n<p>For example if you want your code to be correct without using <code>!!</code> you could add:</p>\n\n<pre><code>if (arguments != null) {\n   arguments.putSerializable(MODE, mode)\n}\n</code></pre>\n\n<p>Using these operators you have the following flexibility:</p>\n\n<ol>\n<li><code>!!</code> - you tell the compiler that the value cannot be null, it will throw error otherwise;</li>\n<li><code>?</code> - you don't care that much, if it is not null then it will access method and might return result, otherwise the result of such call is null and no action is made.</li>\n</ol>\n"}], "owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58076538, "answer_count": 2, "score": 1, "last_activity_date": 1593979640, "creation_date": 1569315100, "question_id": 58076482, "link": "https://stackoverflow.com/questions/58076482/instantiated-class-in-kotlin-still-possibly-null-why", "title": "Instantiated class in Kotlin still possibly null. Why?", "body": "<p>Question is simple:\nIn Kotlin, when I instantiate a fragments <code>arguments</code> with a <code>Bundle()</code>, the system still needs the arguments object to be reassured with <code>!!</code>. The <code>arguments</code> should be definitely not null by now, right? So why is that needed? </p>\n\n<p>Here is the code:</p>\n\n<pre><code>private fun openPinCodeFragment(mode: PinView.Mode) {\n    currentFragment = PinCodeFragment()\n    currentFragment?.run {\n        arguments = Bundle()\n        arguments!!.putSerializable(MODE, mode)\n    }\n    openFragment(currentFragment)\n}\n</code></pre>\n\n<p>If I remove the <code>!!</code> then:</p>\n\n<p><a href=\"https://i.stack.imgur.com/81jEV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81jEV.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "redis", "jedis"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 2811650, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29c10fc4da5bedde72237db6c02650a4?s=128&d=identicon&r=PG&f=1", "display_name": "Gajendra24", "link": "https://stackoverflow.com/users/2811650/gajendra24"}, "edited": false, "score": 0, "creation_date": 1569377032, "post_id": 58089622, "comment_id": 102573354, "body": "thank you. It has really helped to understand. It looks like there is no way to stop sending this <code>QUIT</code> signal."}], "tags": [], "owner": {"reputation": 3211, "user_id": 4021802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22dfd4a41088881909a122b3b171d060?s=128&d=identicon&r=PG", "display_name": "sazzad", "link": "https://stackoverflow.com/users/4021802/sazzad"}, "is_accepted": true, "score": 0, "last_activity_date": 1569370937, "creation_date": 1569370937, "answer_id": 58089622, "question_id": 58076330, "link": "https://stackoverflow.com/questions/58076330/jedis-sending-quit-request-to-redis-server-internally/58089622#58089622", "title": "Jedis sending QUIT request to redis server internally", "body": "<ol>\n<li>JedisPool uses JedisFactory.</li>\n<li><code>destroyObject</code> in JedisFactory calls <code>quit</code>.</li>\n<li><code>destroyObject</code> of JedisFactory actually overrides <code>destroyObject</code> of PooledObjectFactory.</li>\n<li>GenericObjectPool uses PooledObjectFactory.</li>\n<li><code>destroy</code> in GenericObjectPool calls <code>destroyObject</code> of PooledObjectFactory.\n\n<ul>\n<li>(and so <code>destroyObject</code> of JedisFactory) which results in a calling of <code>quit</code>.</li>\n</ul></li>\n</ol>\n\n<p>There are many cases where <code>destroy</code> of GenericObjectPool is get called.</p>\n"}], "owner": {"reputation": 33, "user_id": 2811650, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29c10fc4da5bedde72237db6c02650a4?s=128&d=identicon&r=PG&f=1", "display_name": "Gajendra24", "link": "https://stackoverflow.com/users/2811650/gajendra24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 58089622, "answer_count": 1, "score": 0, "last_activity_date": 1569370937, "creation_date": 1569314562, "question_id": 58076330, "link": "https://stackoverflow.com/questions/58076330/jedis-sending-quit-request-to-redis-server-internally", "title": "Jedis sending QUIT request to redis server internally", "body": "<p>My Jedis client sending the <code>quit</code> request internally causing the Redis server to close the connection.\nThis is unexpected behavior.\nBelow is the tcpdump of my host.</p>\n\n<pre><code>QUIT\n\n17:12:17.702322 IP SOURCE_HOST.29039 &gt; DEST_HOST.34250: Flags [P.], seq 1290557:1290562, ack 833190, win 65160, options [nop,nop,TS val 346069381 ecr 351399090], length 5\nE..98\\@.;...\n%V.\nW..qo....\n.P.l.....U......\n........+OK\n\n17:12:17.702345 IP DEST_HOST.34250 &gt; SOURCE_HOST.29039: Flags [.], ack 1290562, win 65366, options [nop,nop,TS val 351399092 ecr 346069381], length 0\nE..4..@.@..l\n</code></pre>\n\n<p>I am doing following operations. <br>\n1. get() <br>\n2. set() <br>\n3. setex() <br>\n4. ping() <br>\n5. del() <br>\n6. keys() <br></p>\n\n<p>I am using Jedis: 2.9.3 with Kotlin. <br>\nOperation: Get the resource(connection) from JedisPool and send a request(ex. get()). <br>\nDoes anyone have an idea why Jedis sends <code>QUIT</code> request without calling it explicitly?</p>\n"}, {"tags": ["class", "kotlin", "android-volley", "var"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1569314864, "creation_date": 1569314864, "answer_id": 58076419, "question_id": 58076068, "link": "https://stackoverflow.com/questions/58076068/how-correctly-pass-changeable-variable-to-kotlin-class-with-companion-object/58076419#58076419", "title": "How correctly pass changeable variable to kotlin class with companion object?", "body": "<p>Yes, <code>expectedHostname</code> has a setter. But you don't set it anywhere; if <code>INSTANCE</code> is already non-null when you call <code>getInstance</code>, you just return it. Something like</p>\n\n<pre><code>fun getInstance(context: Context, expectedHostname: String) =\n    (INSTANCE ?: synchronized(this) {\n        INSTANCE ?: VolleySingleton(context, expectedHostname).also {\n            INSTANCE = it\n        }\n    }).also { it.expectedHostname = expectedHostname }\n</code></pre>\n\n<p>will work.</p>\n"}], "owner": {"reputation": 5, "user_id": 7033141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VcVXF.jpg?s=128&g=1", "display_name": "Hitchman", "link": "https://stackoverflow.com/users/7033141/hitchman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 58076419, "answer_count": 1, "score": 0, "last_activity_date": 1569314864, "creation_date": 1569313594, "question_id": 58076068, "link": "https://stackoverflow.com/questions/58076068/how-correctly-pass-changeable-variable-to-kotlin-class-with-companion-object", "title": "How correctly pass changeable variable to kotlin class with companion object?", "body": "<p>I have some Volley class and when I initialize it from MainActivity I pass <code>context</code> and <code>expectedHosname</code> values to it:</p>\n\n<pre><code>VolleySingleton.getInstance(context, expectedHosname).addToRequestQueue(request)\n</code></pre>\n\n<p>After app start <code>expectedHostname</code> can be changed due to user preferences, but <code>expectedHostname</code> is always outdated inside class <code>VolleySingleton</code> and has startup value. It looks like its compiled with first value and doesn't change when I pass new one through <code>VolleySingleton.getInstance(..., ...)</code>.</p>\n\n<p>As I know properties in Kotlin can be declared with <code>var</code> keyword and this variable has implicit getter and setter. So I can't understand why <code>expectedHosname</code> works like a constant. May be I have to change my companion object..?</p>\n\n<p><strong>Fragment of class</strong></p>\n\n<pre><code>class VolleySingleton constructor(context: Context, private var expectedHostname: String) {\n    companion object {\n        @Volatile\n        private var INSTANCE: VolleySingleton? = null\n        fun getInstance(context: Context, expectedHostname: String) =\n            INSTANCE ?: synchronized(this) {\n                INSTANCE ?: VolleySingleton(context, expectedHostname).also {\n                    INSTANCE = it\n                }\n            }\n    }\n\n    private fun sslSocketFactory(context: Context, expectedHost: String): SSLSocketFactory {\n         // magic with expectedHost var\n    }\n\n    //OR\n    private val foo: String = expectedHost.toUpperCase()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "lambda", "function-reference"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1569313850, "post_id": 58075949, "comment_id": 102546928, "body": "I would say whatever is more readable in that case to you... Sometimes you have longer class names, then the <code>it.*</code>-notation is more readable... otherwise I (personally of course) prefer function references... it all depends... a bit related: <a href=\"https://stackoverflow.com/questions/51842043/is-the-property-reference-test-equivalent-to-a-function-accessing-the-proper\">Is the property reference (<code>::test</code>) equivalent to a function accessing the property (<code>{ it.test }</code>) when passed as argument e.g. <code>() -&gt; String</code>?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 9710458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BY8p9.png?s=128&g=1", "display_name": "matkv", "link": "https://stackoverflow.com/users/9710458/matkv"}, "is_accepted": true, "score": 2, "last_activity_date": 1569314140, "creation_date": 1569314140, "answer_id": 58076208, "question_id": 58075949, "link": "https://stackoverflow.com/questions/58075949/best-practice-in-instantiating-a-function-type-in-kotlin/58076208#58076208", "title": "Best practice in instantiating a function type in Kotlin", "body": "<p>The chapter for <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#instantiating-a-function-type\" rel=\"nofollow noreferrer\">instatiating a function type</a> in the official Kotlin language reference doesn't use your version of:</p>\n\n<pre><code>jobRepository.findAll(spec).map { it.toDto() }\n</code></pre>\n\n<p>I would also argue that the first option is easier to read because you can see the type on which the method is called.</p>\n\n<p>In the end, I agree with Roland's comment that it's probably the best idea to just use whichever version is more readable in your specific scenario.</p>\n"}], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 58076208, "answer_count": 1, "score": 0, "last_activity_date": 1569374812, "creation_date": 1569313126, "last_edit_date": 1569374812, "question_id": 58075949, "link": "https://stackoverflow.com/questions/58075949/best-practice-in-instantiating-a-function-type-in-kotlin", "title": "Best practice in instantiating a function type in Kotlin", "body": "<p>I was wondering, whether it is better (in a way of having clean code according to a best practice) to pass function as reference using a new code block (lambda expression) or using a callable reference to an existing declaration, whenever it is possible.</p>\n\n<p>So it is better to use</p>\n\n<pre><code>jobRepository.findAll(spec).map(Job::toDto) \n</code></pre>\n\n<p>or</p>\n\n<pre><code>jobRepository.findAll(spec).map { it.toDto() }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1569313071, "post_id": 58075742, "comment_id": 102546566, "body": "post the <b>full file</b> ! along with the import statements for <code>SMSList.kt</code>"}, {"owner": {"reputation": 431, "user_id": 5787969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nx9Km.jpg?s=128&g=1", "display_name": "Abdul Rahman Shamair", "link": "https://stackoverflow.com/users/5787969/abdul-rahman-shamair"}, "edited": false, "score": 0, "creation_date": 1569313462, "post_id": 58075742, "comment_id": 102546752, "body": "Please share your manifest file."}, {"owner": {"reputation": 2619, "user_id": 4436470, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000451996824/picture?type=large", "display_name": "Khizar Hayat", "link": "https://stackoverflow.com/users/4436470/khizar-hayat"}, "edited": false, "score": 0, "creation_date": 1569314023, "post_id": 58075742, "comment_id": 102547000, "body": "In which class you are facing this error ?"}, {"owner": {"reputation": 166, "user_id": 11097716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3foPF.jpg?s=128&g=1", "display_name": "Bolu", "link": "https://stackoverflow.com/users/11097716/bolu"}, "reply_to_user": {"reputation": 431, "user_id": 5787969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nx9Km.jpg?s=128&g=1", "display_name": "Abdul Rahman Shamair", "link": "https://stackoverflow.com/users/5787969/abdul-rahman-shamair"}, "edited": false, "score": 0, "creation_date": 1569314026, "post_id": 58075742, "comment_id": 102547004, "body": "@AbdulRahmanShamair the manifest has been added"}, {"owner": {"reputation": 166, "user_id": 11097716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3foPF.jpg?s=128&g=1", "display_name": "Bolu", "link": "https://stackoverflow.com/users/11097716/bolu"}, "reply_to_user": {"reputation": 2619, "user_id": 4436470, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000451996824/picture?type=large", "display_name": "Khizar Hayat", "link": "https://stackoverflow.com/users/4436470/khizar-hayat"}, "edited": false, "score": 0, "creation_date": 1569314077, "post_id": 58075742, "comment_id": 102547032, "body": "@KhizarHayat Im facing the error anywhere i am using the Data class"}, {"owner": {"reputation": 2619, "user_id": 4436470, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000451996824/picture?type=large", "display_name": "Khizar Hayat", "link": "https://stackoverflow.com/users/4436470/khizar-hayat"}, "edited": false, "score": 0, "creation_date": 1569314472, "post_id": 58075742, "comment_id": 102547242, "body": "@Bolu what is the file name of this ? It could be that file name AND class inside i.e SMSList in this case are mismatched"}, {"owner": {"reputation": 431, "user_id": 5787969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nx9Km.jpg?s=128&g=1", "display_name": "Abdul Rahman Shamair", "link": "https://stackoverflow.com/users/5787969/abdul-rahman-shamair"}, "edited": false, "score": 0, "creation_date": 1569314593, "post_id": 58075742, "comment_id": 102547292, "body": "In your manifest, right after application tag, you have           android: name=&quot;.app.VeezahAppliation&quot; Can you tell which parent class this class is inheriting from"}, {"owner": {"reputation": 166, "user_id": 11097716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3foPF.jpg?s=128&g=1", "display_name": "Bolu", "link": "https://stackoverflow.com/users/11097716/bolu"}, "reply_to_user": {"reputation": 2619, "user_id": 4436470, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000451996824/picture?type=large", "display_name": "Khizar Hayat", "link": "https://stackoverflow.com/users/4436470/khizar-hayat"}, "edited": false, "score": 0, "creation_date": 1569314617, "post_id": 58075742, "comment_id": 102547310, "body": "@KhizarHayat i am using the dataclass in two different places in one repository  : ReadSMSRepository it was working right before i added the Scarlet WebSocket i&#39;ll add the usage to the question now"}, {"owner": {"reputation": 166, "user_id": 11097716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3foPF.jpg?s=128&g=1", "display_name": "Bolu", "link": "https://stackoverflow.com/users/11097716/bolu"}, "reply_to_user": {"reputation": 431, "user_id": 5787969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nx9Km.jpg?s=128&g=1", "display_name": "Abdul Rahman Shamair", "link": "https://stackoverflow.com/users/5787969/abdul-rahman-shamair"}, "edited": false, "score": 0, "creation_date": 1569314672, "post_id": 58075742, "comment_id": 102547339, "body": "@AbdulRahmanShamair it is inheriting from MultiDexApplication"}], "owner": {"reputation": 166, "user_id": 11097716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3foPF.jpg?s=128&g=1", "display_name": "Bolu", "link": "https://stackoverflow.com/users/11097716/bolu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569315240, "creation_date": 1569312368, "last_edit_date": 1569315240, "question_id": 58075742, "link": "https://stackoverflow.com/questions/58075742/java-lang-noclassdeffounderror-with-kotlin-data-class", "title": "java.lang.NoClassDefFoundError with Kotlin data class", "body": "<p>I have been debugging this for hours now but nothing seems to work, I keep getting this runtime exception </p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: Didn't find class \"inc.qucoon.nativeveezah.model.SMSList\"\n</code></pre>\n\n<p>This is the class it is referring to :</p>\n\n<pre><code> package inc.qucoon.nativeveezah.model\n\nimport androidx.room.Entity\nimport androidx.room.PrimaryKey\nimport java.io.Serializable\n\n@Entity(tableName = \"phonesms\")\ndata class SMSList(\n    val address: String,\n    val body: String,\n    val smsdate: String,\n    val bankcode: String,\n    val banktransactioncode: String,\n    val bankname:String,\n    @PrimaryKey\n    val id: String,\n    var isSMS:Boolean = true,\n    var isSent:Boolean = false,\n    var accountNumber:String =\"\",\n    var transactionType:String=\"\",\n    var narration:String =\"\",\n    var transactionDate:String =\"\",\n    var balance:String = \"\",\n    var transactionAmount:String = \"\",\n    var transactionTime:String =\"\"\n):Serializable\n</code></pre>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"inc.qucoon.nativeveezah\"&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_CONTACTS\"/&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.READ_SMS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECEIVE_SMS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n &lt;application\n    android:name=\".app.VeezahAppliation\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:allowBackup=\"true\"\n    android:networkSecurityConfig=\"@xml/network_security_config\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n\n&lt;receiver\n        android:name=\".broadcastreceiver.SMSBroadcastReceiver\"\n        android:exported=\"true\"\n        android:enabled=\"true\"\n        android:permission=\"android.permission.BROADCAST_SMS\" &gt;\n        &lt;intent-filter android:priority=\"999\" &gt;\n            &lt;action android:name=\"android.provider.Telephony.SMS_RECEIVED\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n&lt;activity android:name=\".activity.MainActivity\"\n        android:screenOrientation=\"portrait\"&gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.SEARCH\" /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n        &lt;/intent-filter&gt;\n\n        &lt;meta-data\n            android:name=\"android.app.searchable\"\n            android:resource=\"@xml/searchable\" /&gt;\n\n    &lt;/activity&gt;\n&lt;activity android:name=\".activity.ImagePickerActivity\" /&gt;\n\n    &lt;activity android:name=\".activity.SplashScreenActivity\"\n        android:theme=\"@style/EnrolTheme\"\n        android:screenOrientation=\"portrait\"\n        android:largeHeap=\"true\"&gt;\n\n\n    &lt;/activity&gt;\n\n    &lt;activity android:name=\".activity.FirstActivity\"\n        android:theme=\"@style/SplashScreenTheme\"\n        android:screenOrientation=\"portrait\"&gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n\n    &lt;/activity&gt;\n\n    &lt;meta-data\n        android:name=\"preloaded_fonts\"\n        android:resource=\"@array/preloaded_fonts\" /&gt;\n&lt;receiver\n        android:name=\".broadcastreceiver.ConnectivityReceiver\"\n        android:enabled=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.net.conn.CONNECTIVITY_CHANGE\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>ReadSMSRepository: </p>\n\n<pre><code>package inc.qucoon.nativeveezah.repository\nimport android.content.Context\nimport android.net.Uri\nimport androidx.work.*\nimport com.google.gson.Gson\nimport com.qucoon.smsservices.local.dao.SMSDao\nimport com.qucoon.smsservices.services.ReadAllSMSFromBankWorker\nimport com.tinder.scarlet.WebSocket\nimport inc.qucoon.nativeveezah.model.SMSList\nimport inc.qucoon.nativeveezah.model.response.Data\nimport inc.qucoon.nativeveezah.services.RefreshBankListWorker\nimport inc.qucoon.nativeveezah.socket.GdaxService\nimport inc.qucoon.nativeveezah.socket.SocketData\nimport inc.qucoon.nativeveezah.utils.SMSUtils\nimport inc.qucoon.nativeveezah.utils.closeCursor\nimport inc.qucoon.nativeveezah.utils.convertToDate\nimport kotlinx.coroutines.*\nimport timber.log.Timber\nimport java.lang.Exception\n\n//This was the initial usage that was working before i added the socket\nsms.add(SMSList(address = address, id = id, body = message, smsdate = longDate.convertToDate(\"yyyy-MM-dd hh:mm\"),\n                                    bankname = bank.bankname, banktransactioncode = bank.transactioncode, bankcode = bank.bankcode,\n                                    accountNumber = SMSUtils.getAccountNumber(message), transactionTime = SMSUtils.getTransactionTime(message),\n                                    transactionDate = SMSUtils.getTransactionDate(message), transactionAmount = amountAndBalance.first, balance = amountAndBalance.second,\n                                    transactionType = SMSUtils.getTransactionType(message)\n                            ))\n\n\n gdaxService.observeAlerts()\n            .subscribe({ websocketData -&gt;\n                val transactioon = websocketData.map { SMSList(id = \"a${it.id}\",address = it.transactionbankcode,body = it.narration,smsdate = it.date,\n                  bankcode = it.bankcode,banktransactioncode = it.transactionbankcode,balance = it.balance,bankname = it.bankname,\n                  accountNumber = it.custaccountnumber,transactionType = it.drcr,transactionAmount = it.amount,transactionDate = it.date,transactionTime = it.time,narration = it.narration,\n                  isSMS = false\n          ) }\n            },{e -&gt; Timber.e(e)})\n</code></pre>\n\n<p>It was working right before I added Tinder Scarlet Websocket to my project.\nMultidex is enabled on the project, I removed proguard in case that was the issue, I've also tried invalidating caches and restarting as well as rebuilding the project, also I disabled instant run but the error keeps showing.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "edited": false, "score": 0, "creation_date": 1569312519, "post_id": 58075717, "comment_id": 102546314, "body": "Is your API endpoint support this? What will be default value for correspondent_id in your api end point"}, {"owner": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "edited": false, "score": 2, "creation_date": 1569313046, "post_id": 58075717, "comment_id": 102546555, "body": "@POST(&quot;/correspondents/{correspondent_id}&quot;)     fun updateCorrespondent(@Path(&quot;correspondent_id&quot;) correspondentId: String?=&quot;create&quot;, @Body body: JsonElement): Call&lt;Void&gt;  give default value to correspondentId as &quot;create&quot; Now you can call this method without correspondentId ,and when you need to pass diffrent id then pass new correspondentId"}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "reply_to_user": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "edited": false, "score": 0, "creation_date": 1569313552, "post_id": 58075717, "comment_id": 102546799, "body": "@KishanMaurya I try this: myRestClient.updateCorrespondent(correspondent.toUpdateJson(&zwnj;&#8203;)), but I get compile error: Required String?, Found JsonElement"}, {"owner": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "edited": false, "score": 1, "creation_date": 1569313747, "post_id": 58075717, "comment_id": 102546880, "body": "mtRestClient.updateCorrespondent(body = correspondent.toUpdateJson())"}, {"owner": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "edited": false, "score": 0, "creation_date": 1569314658, "post_id": 58075717, "comment_id": 102547331, "body": "this issue still persists or resolve?"}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "reply_to_user": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "edited": false, "score": 0, "creation_date": 1569315275, "post_id": 58075717, "comment_id": 102547716, "body": "@KishanMaurya it&#39;s resolve. Thanks"}, {"owner": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "edited": false, "score": 1, "creation_date": 1569315323, "post_id": 58075717, "comment_id": 102547747, "body": "I am posting this answer. If resolved then please upvote"}], "answers": [{"tags": [], "owner": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "is_accepted": true, "score": 1, "last_activity_date": 1569315408, "creation_date": 1569315408, "answer_id": 58076587, "question_id": 58075717, "link": "https://stackoverflow.com/questions/58075717/path-as-optional-param/58076587#58076587", "title": "@Path as optional param?", "body": "<pre><code>@POST(\"/correspondents/{correspondent_id}\") fun updateCorrespondent(@Path(\"correspondent_id\") correspondentId: String?=\"create\", @Body body: JsonElement): Call&lt;Void&gt;\n</code></pre>\n\n<p>when you dont need correspondentId then call like </p>\n\n<pre><code>mtRestClient.updateCorrespondent(body = correspondent.toUpdateJson())\n</code></pre>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58076587, "answer_count": 1, "score": 0, "last_activity_date": 1569315408, "creation_date": 1569312280, "last_edit_date": 1569313453, "question_id": 58075717, "link": "https://stackoverflow.com/questions/58075717/path-as-optional-param", "title": "@Path as optional param?", "body": "<p>In my android project I use Retrofit:</p>\n\n<pre><code>@POST(\"/correspondents/{correspondent_id}\")\n    fun updateCorrespondent(@Path(\"correspondent_id\") correspondentId: String, @Body body: JsonElement): Call&lt;Void&gt;\n</code></pre>\n\n<p>So I call from client like this:</p>\n\n<pre><code> fun updateCorrespondent(correspondent: Correspondent, callback: Callback&lt;Void&gt;) {\n        val call = myRestClient.updateCorrespondent(correspondent.id, correspondent.toUpdateJson())\n        call.enqueue(callback)\n    }\n</code></pre>\n\n<p>Nice, it's work fine.</p>\n\n<p>But I need to do <code>@Path(\"correspondent_id\")</code> optional.</p>\n\n<p>I need to call from client like this:</p>\n\n<pre><code>fun updateCorrespondent(correspondent: Correspondent, callback: Callback&lt;Void&gt;) {\n        val call = tangoRestClient.updateCorrespondent(correspondent.toUpdateJson())        \n        call.enqueue(callback)\n    }\n</code></pre>\n\n<p>Is it possible?</p>\n\n<p>For now I use two separate methods:</p>\n\n<pre><code>@POST(\"/correspondents/{correspondent_id}\")\n    fun updateCorrespondent(@Path(\"correspondent_id\") correspondentId: String, @Body body: JsonElement): Call&lt;Void&gt;\n\n    @POST(\"/correspondents/create\")\n    fun createCorrespondent(@Body body: JsonElement): Call&lt;Void&gt;\n</code></pre>\n\n<p>Is it possible to use only one method with optional <code>@Path</code> ?</p>\n"}, {"tags": ["android", "kotlin", "build"], "comments": [{"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1569314820, "post_id": 58075273, "comment_id": 102547425, "body": "I added proguard rules for retrofit 2 and that solved my problem."}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1569314855, "post_id": 58075273, "comment_id": 102547445, "body": "but i still can&#39;t build without <code>minifyEnabled true</code>"}], "owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569310839, "creation_date": 1569310523, "last_edit_date": 1569310839, "question_id": 58075273, "link": "https://stackoverflow.com/questions/58075273/build-failed-with-d8-errors", "title": "Build failed with D8 errors", "body": "<p>I can't build my application on my device in Android 5.1.1 anymore\nOtherwise, I have no problem with Android 8 - 9 devices. \nI have this error during the build : </p>\n\n<pre><code>D8 errors : Class content provided for type descriptor net.nend.android.S actually defines class net.nend.android.s\n</code></pre>\n\n<p><strong>EDIT :</strong> I'm a able to build if i do this </p>\n\n<pre><code>        debug {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n</code></pre>\n\n<p>but some of the application's libraries seem to no longer work</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 629, "user_id": 7681784, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212312781038873/picture?type=large", "display_name": "WaLinke", "link": "https://stackoverflow.com/users/7681784/walinke"}, "edited": false, "score": 1, "creation_date": 1569311061, "post_id": 58075237, "comment_id": 102545635, "body": "Why don&#39;t you use arrayOf ?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 2, "creation_date": 1569314145, "post_id": 58075237, "comment_id": 102547063, "body": "in which language do you have <code>sizes = [&quot;UK7&quot;,&quot;UK8&quot;,&quot;UK9&quot;,&quot;UK10&quot;]</code>? is this Javascript? something similar in Kotlin would probably rather be just <code>sizes = arrayOf(&quot;UK7&quot;,&quot;UK8&quot;,&quot;UK9&quot;,&quot;UK10&quot;)</code> or if it is a string, then <code>sizes = &quot;&quot;&quot;[&quot;UK7&quot;,&quot;UK8&quot;,&quot;UK9&quot;,&quot;UK10&quot;]&quot;&quot;&quot;</code>... which of those is it?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1569314359, "post_id": 58075237, "comment_id": 102547191, "body": "Note that if you say &quot;listSizes is just <code>[]</code>&quot; it actually is an empty array (printed via <code>Any.toString()</code>)... reason for it: <code>sizes</code> was probably already an array (just a guess)... so you can&#39;t split by <code>&quot;,&quot;</code> as that is the delimiter within your code, not within a string..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1569316336, "post_id": 58075237, "comment_id": 102548336, "body": "ok... I saw your other question now: <a href=\"https://stackoverflow.com/questions/58073133/wrong-argument-type-for-sizes-in-argument-bundle-string-expected\">Wrong argument type for &#39;sizes&#39; in argument bundle. string&#91;&#93; expected</a> ... so basically it is still that problem... you do not want to write your own JSON-parser... for me this question here doesn&#39;t really make sense, if the other question isn&#39;t yet solved for you..."}, {"owner": {"reputation": 39, "user_id": 8283521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b956e4d0b2140bfb7404fd9f1d4a2a18?s=128&d=identicon&r=PG&f=1", "display_name": "Tribhuwan ", "link": "https://stackoverflow.com/users/8283521/tribhuwan"}, "edited": false, "score": 0, "creation_date": 1569344635, "post_id": 58075237, "comment_id": 102564099, "body": "thanx everyone . I have found another solution of my problem."}], "answers": [{"tags": [], "owner": {"reputation": 1577, "user_id": 4233180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXCjt68DFoA/AAAAAAAAAAI/AAAAAAAAACs/hqpMFb_4--c/photo.jpg?sz=128", "display_name": "Supriya", "link": "https://stackoverflow.com/users/4233180/supriya"}, "is_accepted": false, "score": 1, "last_activity_date": 1569312064, "creation_date": 1569312064, "answer_id": 58075664, "question_id": 58075237, "link": "https://stackoverflow.com/questions/58075237/how-to-get-each-item-from-the-array/58075664#58075664", "title": "How to get each item from the array?", "body": "<p>You could try - </p>\n\n<pre><code>val sizes = listOf(\"UK7\",\"UK8\",\"UK9\",\"UK10\");\nval listSizes= sizes.toTypedArray();\nprintln(listSizes.contentToString()); //[UK7, UK8, UK9, UK10]\n</code></pre>\n\n<p><code>sizes</code> is already a list of strings. You would need to <code>split</code> by comma only if you were trying to break a string <em>containing</em> commas (like <code>\"UK7, UK8, UK9\"</code>).</p>\n\n<p>Also, alternatively, you could use <code>arrayOf()</code>-</p>\n\n<pre><code>val listSizesArray = arrayOf(\"UK7\",\"UK8\",\"UK9\",\"UK10\");\nprintln(listSizesArray.contentToString()); //[UK7, UK8, UK9, UK10]\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8283521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b956e4d0b2140bfb7404fd9f1d4a2a18?s=128&d=identicon&r=PG&f=1", "display_name": "Tribhuwan ", "link": "https://stackoverflow.com/users/8283521/tribhuwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1569312064, "creation_date": 1569310388, "last_edit_date": 1569311096, "question_id": 58075237, "link": "https://stackoverflow.com/questions/58075237/how-to-get-each-item-from-the-array", "title": "How to get each item from the array?", "body": "<p>I have: </p>\n\n<pre><code>sizes = [\"UK7\",\"UK8\",\"UK9\",\"UK10\"]\n</code></pre>\n\n<p>I have tried:</p>\n\n<pre><code>val listSizes= sizes?.split(\",\").toTypedArray()\n</code></pre>\n\n<p>listSizes is just <code>[]</code>.  Why?</p>\n"}, {"tags": ["android", "kotlin", "fragment", "android-toolbar"], "comments": [{"owner": {"reputation": 839, "user_id": 11976630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a168d35b586f76053eac13f5ad8b8e48?s=128&d=identicon&r=PG&f=1", "display_name": "unownsp", "link": "https://stackoverflow.com/users/11976630/unownsp"}, "edited": false, "score": 0, "creation_date": 1569310103, "post_id": 58075096, "comment_id": 102545150, "body": "why do you have frameLayout and fragment tags on your design"}, {"owner": {"reputation": 4030, "user_id": 8448886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Vfqrw.jpg?s=128&g=1", "display_name": "Abhishek kumar", "link": "https://stackoverflow.com/users/8448886/abhishek-kumar"}, "edited": false, "score": 0, "creation_date": 1569310274, "post_id": 58075096, "comment_id": 102545235, "body": "It is the overlap issue, maybe you have one text in your activity and one inside the fragment.. check once. All of your fragment comes over your activity so your activity should be empty otherwise, activity text will show to all the fragments."}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "reply_to_user": {"reputation": 839, "user_id": 11976630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a168d35b586f76053eac13f5ad8b8e48?s=128&d=identicon&r=PG&f=1", "display_name": "unownsp", "link": "https://stackoverflow.com/users/11976630/unownsp"}, "edited": false, "score": 0, "creation_date": 1569312614, "post_id": 58075096, "comment_id": 102546349, "body": "@unownsp i didnt add this fragment. Its comes from navigation activity drawer template."}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "reply_to_user": {"reputation": 4030, "user_id": 8448886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Vfqrw.jpg?s=128&g=1", "display_name": "Abhishek kumar", "link": "https://stackoverflow.com/users/8448886/abhishek-kumar"}, "edited": false, "score": 0, "creation_date": 1569312864, "post_id": 58075096, "comment_id": 102546475, "body": "@Abhishekkumar but my fragment gallery has an green image also. wheni click different button, my gallery fragment still exist. Because that image still appear."}], "answers": [{"tags": [], "owner": {"reputation": 4030, "user_id": 8448886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Vfqrw.jpg?s=128&g=1", "display_name": "Abhishek kumar", "link": "https://stackoverflow.com/users/8448886/abhishek-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569316839, "last_edit_date": 1569316839, "creation_date": 1569316115, "answer_id": 58076781, "question_id": 58075096, "link": "https://stackoverflow.com/questions/58075096/toolbar-button-fragment-overlapping/58076781#58076781", "title": "Toolbar button Fragment Overlapping", "body": "<p>You have two views <code>FrameLayout</code> &amp; <code>Fragment</code> inside your <code>RelativeLayout</code>. Use only one container <code>&lt;FrameLayout&gt;</code> for your all fragments transactions. </p>\n\n<pre><code>&lt;FrameLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/container\"&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569321759, "post_id": 58078133, "comment_id": 102551451, "body": "the fragment that inside mainactivity is created with template. So i didnt create this. I cannot remove this. I deleted my frameLayout. and \u0131 change my comment with: transaction.replace(R.id.nav_host_fragment,galleryFragment,&quot;&zwnj;&#8203;frag&quot;)  But nothing change. How can i do that? Can you show me please?"}, {"owner": {"reputation": 99, "user_id": 8681943, "user_type": "registered", "profile_image": "https://graph.facebook.com/773405039498046/picture?type=large", "display_name": "Akshay Sawant", "link": "https://stackoverflow.com/users/8681943/akshay-sawant"}, "reply_to_user": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569324084, "post_id": 58078133, "comment_id": 102552756, "body": "I would like to see your code for this particular screen, if you don&#39;t mind then. Let me know if u can send me the code or not and also by which means? Or else tell me everything in detail."}, {"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569327047, "post_id": 58078133, "comment_id": 102554306, "body": "<a href=\"https://github.com/akiilhan/ParcaBuradaTest\" rel=\"nofollow noreferrer\">github.com/akiilhan/ParcaBuradaTest</a> so this is my codes. You will see the problem, when you click shopping button on the fragment. Thank you for your help. :)"}, {"owner": {"reputation": 99, "user_id": 8681943, "user_type": "registered", "profile_image": "https://graph.facebook.com/773405039498046/picture?type=large", "display_name": "Akshay Sawant", "link": "https://stackoverflow.com/users/8681943/akshay-sawant"}, "reply_to_user": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569391997, "post_id": 58078133, "comment_id": 102576856, "body": "Look at the code below that i have added. Follow that and your code will run properly. I&#39;ve tested on my side, its running properly. Let me know the final result."}], "tags": [], "owner": {"reputation": 99, "user_id": 8681943, "user_type": "registered", "profile_image": "https://graph.facebook.com/773405039498046/picture?type=large", "display_name": "Akshay Sawant", "link": "https://stackoverflow.com/users/8681943/akshay-sawant"}, "is_accepted": false, "score": 1, "last_activity_date": 1569320909, "last_edit_date": 1569320909, "creation_date": 1569320542, "answer_id": 58078133, "question_id": 58075096, "link": "https://stackoverflow.com/questions/58075096/toolbar-button-fragment-overlapping/58078133#58078133", "title": "Toolbar button Fragment Overlapping", "body": "<p>Your code need to look like this, as mentioned below -></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:showIn=\"@layout/app_bar_main\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:defaultNavHost=\"true\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:navGraph=\"@navigation/mobile_navigation\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Because as you are using the navigation components, you need only fragment view to be inside the main view group. The other view will just create a distortion by overlapping your other view. So just remove it. Or else, if you want to then you can try this too -> </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:showIn=\"@layout/app_bar_main\"&gt;\n\n        &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n\n &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>The above code can be use if you want to shift your fragment view to other layout file. And then you can replace the fragment by call the fragment transition function to replace or add fragments over it. Use whatever suits your project.</p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 0, "creation_date": 1569394894, "post_id": 58092109, "comment_id": 102578145, "body": "Hello, thank you so much. Everthing is working fine. But \u0131 used navigation drawer template. Maybe \u0131 shouldnt use template \u0131 have to configure myself."}, {"owner": {"reputation": 99, "user_id": 8681943, "user_type": "registered", "profile_image": "https://graph.facebook.com/773405039498046/picture?type=large", "display_name": "Akshay Sawant", "link": "https://stackoverflow.com/users/8681943/akshay-sawant"}, "reply_to_user": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "edited": false, "score": 1, "creation_date": 1569395024, "post_id": 58092109, "comment_id": 102578201, "body": "Yup, correct. Next time try it on yourself. It will be helpful for yourself as the whole code belongs to you and it will not make any fuss to understand it. Thanks for co-operation."}], "tags": [], "owner": {"reputation": 99, "user_id": 8681943, "user_type": "registered", "profile_image": "https://graph.facebook.com/773405039498046/picture?type=large", "display_name": "Akshay Sawant", "link": "https://stackoverflow.com/users/8681943/akshay-sawant"}, "is_accepted": true, "score": 2, "last_activity_date": 1569391926, "creation_date": 1569391926, "answer_id": 58092109, "question_id": 58075096, "link": "https://stackoverflow.com/questions/58075096/toolbar-button-fragment-overlapping/58092109#58092109", "title": "Toolbar button Fragment Overlapping", "body": "<p>Ok. The main issue was with the logical part and some UI changes needed to be done.\nFirst just go into your content_main.xml file and make this change in it.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/main_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:showIn=\"@layout/app_bar_main\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:defaultNavHost=\"true\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:navGraph=\"@navigation/mobile_navigation\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Then go into your activity_main.xml file and add this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;include\n        layout=\"@layout/app_bar_main\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"\n        app:headerLayout=\"@layout/nav_header_main\"\n        app:menu=\"@menu/activity_main_drawer\" /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>And then finally, do the changes mainly into your MainActivity.kt file, like this -></p>\n\n<pre><code>package com.example.parcaburada\n\nimport android.os.Bundle\nimport com.google.android.material.floatingactionbutton.FloatingActionButton\nimport com.google.android.material.snackbar.Snackbar\nimport androidx.drawerlayout.widget.DrawerLayout\nimport com.google.android.material.navigation.NavigationView\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.appcompat.widget.Toolbar\nimport android.view.Menu\nimport android.view.MenuItem\nimport androidx.core.view.GravityCompat\nimport androidx.navigation.NavController\nimport androidx.navigation.Navigation\nimport androidx.navigation.ui.*\n\nclass MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\n    private lateinit var mToolbar: Toolbar\n    private lateinit var mDrawerLayout: DrawerLayout\n    private lateinit var mNavController: NavController\n    private lateinit var mNavigationView: NavigationView\n    private lateinit var mFloatingActionButton: FloatingActionButton\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        setUpNavigation()\n    }\n\n    private fun setUpNavigation() {\n        //Toolbar\n        mToolbar = findViewById(R.id.toolbar)\n        setSupportActionBar(mToolbar)\n\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n        supportActionBar?.setDisplayShowHomeEnabled(true)\n        //Toolbar\n\n        //Navigation Drawer\n        mDrawerLayout = findViewById(R.id.drawer_layout)\n        mNavigationView = findViewById(R.id.nav_view)\n        mNavController = Navigation.findNavController(this@MainActivity, R.id.nav_host_fragment)\n\n        NavigationUI.setupActionBarWithNavController(this@MainActivity, mNavController, mDrawerLayout)\n        NavigationUI.setupWithNavController(mNavigationView, mNavController)\n        mNavigationView.setNavigationItemSelectedListener(this)\n        //Navigation Drawer\n\n        //Floating Action button\n        mFloatingActionButton = findViewById(R.id.fab)\n        mFloatingActionButton.setOnClickListener { view -&gt;\n            Snackbar.make(view, getString(R.string.text_fab_action), Snackbar.LENGTH_LONG)\n                .setAction(getString(R.string.text_action), null).show()\n        }\n        //Floating Action button\n    }\n\n    //Transition between fragments controller\n    override fun onSupportNavigateUp(): Boolean {\n        return NavigationUI.navigateUp(mNavController, mDrawerLayout)\n    }\n\n    //Navigation Drawer Controller\n    override fun onNavigationItemSelected(menuItem: MenuItem): Boolean {\n        menuItem.isChecked = true\n        mDrawerLayout.closeDrawers()\n\n        when (menuItem.itemId) {\n            R.id.nav_home -&gt; navigateToFragment(R.id.nav_home)\n            R.id.nav_gallery -&gt; navigateToFragment(R.id.nav_gallery)\n            R.id.nav_slideshow -&gt; navigateToFragment(R.id.nav_slideshow)\n            R.id.nav_tools -&gt; navigateToFragment(R.id.nav_tools)\n            R.id.nav_share -&gt; navigateToFragment(R.id.nav_share)\n            R.id.nav_send -&gt; navigateToFragment(R.id.nav_send)\n        }\n        return true\n    }\n\n    //Back button\n    override fun onBackPressed() {\n        if (mDrawerLayout.isDrawerOpen(GravityCompat.START)) {\n            mDrawerLayout.closeDrawer(GravityCompat.END)\n        } else {\n            super.onBackPressed()\n        }\n    }\n\n    //Toolbar icon controller\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        menuInflater.inflate(R.menu.main, menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        when (item.itemId) {\n            R.id.shop -&gt; navigateToFragment(R.id.nav_gallery)\n        }\n        return super.onOptionsItemSelected(item)\n    }\n    //Toolbar icon controller\n\n    //Custom method to navigate to fragments\n    private fun navigateToFragment(fragmentName: Int): Boolean {\n        mNavController.navigate(fragmentName)\n        return true\n    }\n}\n</code></pre>\n\n<p>And done. Everything will be up and running smoothly. Thank you.</p>\n"}], "owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 58092109, "answer_count": 3, "score": 0, "last_activity_date": 1569391926, "creation_date": 1569309873, "last_edit_date": 1569316797, "question_id": 58075096, "link": "https://stackoverflow.com/questions/58075096/toolbar-button-fragment-overlapping", "title": "Toolbar button Fragment Overlapping", "body": "<p>i am using navigation drawer template. I also add button in the toolbar. When click that button, gallery fragment should open. Actually it is opening but, when i click drawer button also, they are overlapping. Do you have any solution about it?</p>\n\n<p>This is my mainactivity:</p>\n\n<pre><code>package com.example.shoptest\nclass MainActivity : AppCompatActivity() {\n    var manager = supportFragmentManager\n    private lateinit var appBarConfiguration: AppBarConfiguration\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val toolbar: Toolbar = findViewById(R.id.toolbar)\n        setSupportActionBar(toolbar)\n        toolbar.setTitle(\"selamalr\")\n\n\n        val fab: FloatingActionButton = findViewById(R.id.fab)\n        fab.setOnClickListener { view -&gt;\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                .setAction(\"Action\", null).show()\n        }\n        val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n        val navView: NavigationView = findViewById(R.id.nav_view)\n        val navController = findNavController(R.id.nav_host_fragment)\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        appBarConfiguration = AppBarConfiguration(\n            setOf(\n                R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow,\n                R.id.nav_tools, R.id.nav_share, R.id.nav_send\n            ), drawerLayout\n        )\n        setupActionBarWithNavController(navController, appBarConfiguration)\n        navView.setupWithNavController(navController)\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n\n        // Inflate the menu; this adds items to the action bar if it is present.\n        menuInflater.inflate(R.menu.main, menu)\n        return true\n    }\n\n\n    override fun onSupportNavigateUp(): Boolean {\n        val navController = findNavController(R.id.nav_host_fragment)\n\n        return navController.navigateUp(appBarConfiguration) || super.onSupportNavigateUp()\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n\n\n        when (item.itemId) {\n\n            R.id.shop -&gt; {\n\n                var galleryFragment = GalleryFragment()\n                var transaction = manager.beginTransaction()\n                transaction.replace(R.id.container, galleryFragment, \"frag\")\n                transaction.addToBackStack(\"frag\")\n\n\n                transaction.commit()\n            }\n        }\n\n        return super.onOptionsItemSelected(item)\n    }\n\n\n}\n</code></pre>\n\n<p>this is content main.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:showIn=\"@layout/app_bar_main\"&gt;\n\n    &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/container\"&gt;\n\n    &lt;/FrameLayout&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:defaultNavHost=\"true\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:navGraph=\"@navigation/mobile_navigation\"&gt;\n &lt;/fragment&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>This is my screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BdAm4l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BdAm4l.png\" alt=\"enter image description here\"></a></p>\n\n<p>Do you have any solution about it?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 2209, "user_id": 3102098, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/024ae53b495eeb2630d22b1d738cc5cc?s=128&d=identicon&r=PG&f=1", "display_name": "Vaelyr", "link": "https://stackoverflow.com/users/3102098/vaelyr"}, "edited": false, "score": 0, "creation_date": 1569310663, "post_id": 58075047, "comment_id": 102545434, "body": "It is not about the annotation. You need to component scan for the implementation for your repository in test context. Where is that?"}, {"owner": {"reputation": 758, "user_id": 3018443, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8517b413628321c42c508c59657d9739?s=128&d=identicon&r=PG&f=1", "display_name": "Gyuhyeon Lee", "link": "https://stackoverflow.com/users/3018443/gyuhyeon-lee"}, "reply_to_user": {"reputation": 2209, "user_id": 3102098, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/024ae53b495eeb2630d22b1d738cc5cc?s=128&d=identicon&r=PG&f=1", "display_name": "Vaelyr", "link": "https://stackoverflow.com/users/3102098/vaelyr"}, "edited": false, "score": 0, "creation_date": 1569310800, "post_id": 58075047, "comment_id": 102545518, "body": "@Vaelyr it is in <code>CoreConfig</code> I have specified above. ComponentScan scans for the Repository."}, {"owner": {"reputation": 758, "user_id": 3018443, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8517b413628321c42c508c59657d9739?s=128&d=identicon&r=PG&f=1", "display_name": "Gyuhyeon Lee", "link": "https://stackoverflow.com/users/3018443/gyuhyeon-lee"}, "reply_to_user": {"reputation": 2209, "user_id": 3102098, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/024ae53b495eeb2630d22b1d738cc5cc?s=128&d=identicon&r=PG&f=1", "display_name": "Vaelyr", "link": "https://stackoverflow.com/users/3102098/vaelyr"}, "edited": false, "score": 0, "creation_date": 1569310861, "post_id": 58075047, "comment_id": 102545546, "body": "I have discovered that adding <code>@EnableAutoConfiguration(exclude = [DataSourceAutoConfiguration::class])</code> to the Test makes it work, yet I have no idea why. I can&#39;t wrap my head around this, so any explanations why would be nice."}, {"owner": {"reputation": 2209, "user_id": 3102098, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/024ae53b495eeb2630d22b1d738cc5cc?s=128&d=identicon&r=PG&f=1", "display_name": "Vaelyr", "link": "https://stackoverflow.com/users/3102098/vaelyr"}, "edited": false, "score": 1, "creation_date": 1569311272, "post_id": 58075047, "comment_id": 102545720, "body": "Apparently your DataSource has been configured through some other means, as you are excluding it in your main application as well. I would look for the cause related to MyBatis configurations of some sort. Your main application does not have the same context as test. Don&#39;t use separate excludes if you want to have identical application context. Have all your excludes/includes in separate configuration files and keep the main file clean to only use imports."}, {"owner": {"reputation": 758, "user_id": 3018443, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8517b413628321c42c508c59657d9739?s=128&d=identicon&r=PG&f=1", "display_name": "Gyuhyeon Lee", "link": "https://stackoverflow.com/users/3018443/gyuhyeon-lee"}, "reply_to_user": {"reputation": 2209, "user_id": 3102098, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/024ae53b495eeb2630d22b1d738cc5cc?s=128&d=identicon&r=PG&f=1", "display_name": "Vaelyr", "link": "https://stackoverflow.com/users/3102098/vaelyr"}, "edited": false, "score": 2, "creation_date": 1569312389, "post_id": 58075047, "comment_id": 102546256, "body": "As it turns out, it was due to a bad config in my externalized datasource config. I should&#39;ve specified mapper locations there, but it was missing which led to the interface repository being unimplemented. The Application worked due to the autoconfiguration magic(not because of excluding datasourceconfig, but due to the mapper config in autoconfiguration probably) - and the Test didn&#39;t have autoconfiguration. Adding proper <code>@MapperScan</code> solved the issue, thank you."}], "owner": {"reputation": 758, "user_id": 3018443, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8517b413628321c42c508c59657d9739?s=128&d=identicon&r=PG&f=1", "display_name": "Gyuhyeon Lee", "link": "https://stackoverflow.com/users/3018443/gyuhyeon-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569317330, "creation_date": 1569309691, "question_id": 58075047, "link": "https://stackoverflow.com/questions/58075047/autowire-repository-works-for-application-yet-fails-in-junittest", "title": "@Autowire repository works for Application yet fails in JUnitTest", "body": "<p>I have a weird issue of <code>@Autowire</code> failing as the following:</p>\n\n<p><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'EventTargetRepositoryTest': Unsatisfied dependency expressed through field 'eventTargetRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'EventTargetRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code>  </p>\n\n<p>Funnily enough, this happens only on my test which uses the exactly same <code>@Configuration</code>.  </p>\n\n<p><code>@Service</code> beans autowire perfectly in the actual application.<br>\n<code>@Repository</code> beans autowire perfectly in the actual application.<br>\n<code>@Service</code> beans autowire perfectly(??) in the JUnit Test.<br>\n<code>@Repository</code> beans <strong>fail to autowire</strong> in the JUnit Test.  </p>\n\n<p>Code is as follows(package structure omitted):</p>\n\n<h1>Test(which fails)</h1>\n\n<pre class=\"lang-java prettyprint-override\"><code>import CoreConfig\nimport EventTarget\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.slf4j.Logger\nimport org.slf4j.LoggerFactory\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.test.context.ContextConfiguration\nimport org.springframework.test.context.junit4.SpringRunner\n\n\n@RunWith(SpringRunner::class)\n@ContextConfiguration(classes = [CoreConfig::class])\nclass EventTargetRepositoryTest {\n    private val LOGGER: Logger = LoggerFactory.getLogger(EventTargetRepositoryTest::class.java)\n\n    @Autowired //not autowiring for some reason. needs fixing.\n    private lateinit var eventTargetRepository: EventTargetRepository\n\n    @Test\n    fun selectOne() {\n        var eventTarget = EventTarget()\n        eventTarget.id = 1\n        eventTargetRepository.selectOne(eventTarget)\n        LOGGER.info(eventTarget.userId)\n    }\n}\n</code></pre>\n\n<h1>Application(which runs fine, along with working repository)</h1>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\nimport org.springframework.boot.runApplication\n\n@SpringBootApplication(scanBasePackages = [\"com.omittedParentName\"], exclude = [DataSourceAutoConfiguration::class])\nclass FrontendApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;FrontendApplication&gt;()\n}\n</code></pre>\n\n<h1>Config(which the Test and Application both use)</h1>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.ComponentScan\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.context.annotation.FilterType\nimport org.springframework.context.annotation.PropertySource\nimport org.springframework.stereotype.Component\nimport org.springframework.stereotype.Repository\nimport org.springframework.stereotype.Service\n\n@ComponentScan(basePackages = [\"com.omittedParentName\"], useDefaultFilters = false,\n        includeFilters = [\n            ComponentScan.Filter(type = FilterType.ANNOTATION, value = [Service::class]),\n            ComponentScan.Filter(type = FilterType.ANNOTATION, value = [Component::class]),\n            ComponentScan.Filter(type = FilterType.ANNOTATION, value = [Repository::class]),\n            ComponentScan.Filter(type = FilterType.ANNOTATION, value = [Configuration::class])\n        ])\n@Configuration\n@PropertySource(\"classpath:properties/core.properties\")\nclass CoreConfig\n</code></pre>\n\n<h1>repository</h1>\n\n<pre class=\"lang-java prettyprint-override\"><code>import EventTarget\nimport org.apache.ibatis.annotations.Mapper\nimport org.springframework.stereotype.Repository\n\n@Mapper\n@Repository\ninterface EventTargetRepository {\n    fun selectOne(eventTarget: EventTarget): EventTarget\n}\n</code></pre>\n\n<p>mapper xml is irrelevant, so it's omitted.</p>\n\n<p>As we can clearly see, the Test and Application literally use the same <code>@Configuration</code>. Aside from the fact that making all tests require applicationContext is bad structure, the test should work. Other beans like <code>@Service</code> work in the same tests, too.<br>\nAny help would be appreciated.<br>\nPlease refrain from marking as duplicate unless it's a question of <code>@Autowire</code> failing only exclusively on <code>@Repository</code> for only on <code>@Test</code> yet working in release.</p>\n"}, {"tags": ["android", "kotlin", "surfaceview", "android-camera2", "mediarecorder"], "comments": [{"owner": {"reputation": 506, "user_id": 10771260, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VVqSgkCfkKs/AAAAAAAAAAI/AAAAAAAAADM/Di22v4d3YCA/photo.jpg?sz=128", "display_name": "Black mamba", "link": "https://stackoverflow.com/users/10771260/black-mamba"}, "edited": false, "score": 0, "creation_date": 1569303237, "post_id": 58073390, "comment_id": 102542252, "body": "show some code what you&#39;ve done so far ?"}, {"owner": {"reputation": 1, "user_id": 6280110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EytccZVdHwU/AAAAAAAAAAI/AAAAAAAAAB8/Ygm_cZH2Kws/photo.jpg?sz=128", "display_name": "Ishani shah", "link": "https://stackoverflow.com/users/6280110/ishani-shah"}, "edited": false, "score": 0, "creation_date": 1569306519, "post_id": 58073390, "comment_id": 102543551, "body": "I have used CaptureRequest.Builder for capturing the video and apply filters using CameraMetadata and now want to apply the transitions"}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1569388246, "post_id": 58073390, "comment_id": 102575598, "body": "For more flexibility, consider switching to TextureView preview."}], "owner": {"reputation": 1, "user_id": 6280110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EytccZVdHwU/AAAAAAAAAAI/AAAAAAAAAB8/Ygm_cZH2Kws/photo.jpg?sz=128", "display_name": "Ishani shah", "link": "https://stackoverflow.com/users/6280110/ishani-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569301619, "creation_date": 1569301619, "question_id": 58073390, "link": "https://stackoverflow.com/questions/58073390/how-to-add-video-transitions-while-using-surface-view", "title": "How to add video Transitions while using Surface view?", "body": "<p>I have to add the trasition effects like FadeIN / fade out while recording a video using Surface view with Camera2 Api.</p>\n"}, {"tags": ["kotlin", "serialization"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8283521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b956e4d0b2140bfb7404fd9f1d4a2a18?s=128&d=identicon&r=PG&f=1", "display_name": "Tribhuwan ", "link": "https://stackoverflow.com/users/8283521/tribhuwan"}, "edited": false, "score": 0, "creation_date": 1569300416, "post_id": 58073196, "comment_id": 102541552, "body": "{ id: 43354, desc: &quot;Nobis voluptatibus est necessitatibus tempore voluptate voluptatibus. Illum suscipit nam et nostrum. Est exercitationem tempore pariatur nisi soluta iure.&quot;, name: &quot;Prof. Carmel Ebert III&quot;, image: &quot;<a href=\"https://lorempixel.com/640/640/?81469\" rel=\"nofollow noreferrer\">lorempixel.com/640/640/?81469</a>&quot;, sizes: [ &quot;UK7&quot;, &quot;UK8&quot;, &quot;UK9&quot;, &quot;UK10&quot; ]}"}, {"owner": {"reputation": 39, "user_id": 8283521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b956e4d0b2140bfb7404fd9f1d4a2a18?s=128&d=identicon&r=PG&f=1", "display_name": "Tribhuwan ", "link": "https://stackoverflow.com/users/8283521/tribhuwan"}, "edited": false, "score": 0, "creation_date": 1569300906, "post_id": 58073196, "comment_id": 102541652, "body": "I have updated the post with JSON . please have a look"}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 0, "last_activity_date": 1569300023, "creation_date": 1569300023, "answer_id": 58073196, "question_id": 58073133, "link": "https://stackoverflow.com/questions/58073133/wrong-argument-type-for-sizes-in-argument-bundle-string-expected/58073196#58073196", "title": "Wrong argument type for &#39;sizes&#39; in argument bundle. string[] expected", "body": "<p>That's difficult to tell without having seen the JSON.</p>\n\n<p>That probably should be:</p>\n\n<pre><code>val sizes: ArrayList&lt;String&gt;()\n</code></pre>\n\n<p>or try:</p>\n\n<pre><code>var sizes: String = \"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 501, "user_id": 6825339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PIV14.jpg?s=128&g=1", "display_name": "Zulqarnain", "link": "https://stackoverflow.com/users/6825339/zulqarnain"}, "is_accepted": false, "score": 0, "last_activity_date": 1569305961, "last_edit_date": 1569305961, "creation_date": 1569305652, "answer_id": 58074070, "question_id": 58073133, "link": "https://stackoverflow.com/questions/58073133/wrong-argument-type-for-sizes-in-argument-bundle-string-expected/58074070#58074070", "title": "Wrong argument type for &#39;sizes&#39; in argument bundle. string[] expected", "body": "<p>To get the inner list of string object change try</p>\n\n<pre><code>  @SerializedName(\"sizes\")\n  @Expose\n  var sizes : List&lt;String&gt;? = null\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 8283521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b956e4d0b2140bfb7404fd9f1d4a2a18?s=128&d=identicon&r=PG&f=1", "display_name": "Tribhuwan ", "link": "https://stackoverflow.com/users/8283521/tribhuwan"}, "edited": false, "score": 0, "creation_date": 1569344813, "post_id": 58075314, "comment_id": 102564168, "body": "thanx . I will try"}, {"owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "reply_to_user": {"reputation": 39, "user_id": 8283521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b956e4d0b2140bfb7404fd9f1d4a2a18?s=128&d=identicon&r=PG&f=1", "display_name": "Tribhuwan ", "link": "https://stackoverflow.com/users/8283521/tribhuwan"}, "edited": false, "score": 0, "creation_date": 1569394607, "post_id": 58075314, "comment_id": 102578006, "body": "Let me know, if you face any issue :)"}], "tags": [], "owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "is_accepted": false, "score": 0, "last_activity_date": 1569310713, "creation_date": 1569310713, "answer_id": 58075314, "question_id": 58073133, "link": "https://stackoverflow.com/questions/58073133/wrong-argument-type-for-sizes-in-argument-bundle-string-expected/58075314#58075314", "title": "Wrong argument type for &#39;sizes&#39; in argument bundle. string[] expected", "body": "<p>Try with this class</p>\n\n<pre><code>data class User(\n    @SerializedName(\"desc\")\n    var desc: String = \"\",\n    @SerializedName(\"id\")\n    var id: Int = 0,\n    @SerializedName(\"image\")\n    var image: String = \"\",\n    @SerializedName(\"name\")\n    var name: String = \"\",\n    @SerializedName(\"sizes\")\n    var sizes: List&lt;String&gt; = listOf()\n)\n</code></pre>\n\n<p>You can easily convert any JSON data to data class using this <a href=\"https://plugins.jetbrains.com/plugin/9960-json-to-kotlin-class-jsontokotlinclass-\" rel=\"nofollow noreferrer\">plugin</a></p>\n"}], "owner": {"reputation": 39, "user_id": 8283521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b956e4d0b2140bfb7404fd9f1d4a2a18?s=128&d=identicon&r=PG&f=1", "display_name": "Tribhuwan ", "link": "https://stackoverflow.com/users/8283521/tribhuwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1569387157, "creation_date": 1569299671, "last_edit_date": 1569387157, "question_id": 58073133, "link": "https://stackoverflow.com/questions/58073133/wrong-argument-type-for-sizes-in-argument-bundle-string-expected", "title": "Wrong argument type for &#39;sizes&#39; in argument bundle. string[] expected", "body": "<p>The received stacktrace:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Wrong argument type for 'sizes' in argument bundle. string[] expected.\n     at androidx.navigation.NavDestination.addInDefaultArgs(NavDestination.java:524)\n     at androidx.navigation.NavController.navigate(NavController.java:932)\n     at androidx.navigation.NavController.navigate(NavController.java:867)\n     at androidx.navigation.NavController.navigate(NavController.java:804)\n     at androidx.navigation.NavController.navigate(NavController.java:790)\n     at com.example.kotinmvvm.adapter.UserAdapter$onBindViewHolder$1.onClick(UserAdapter.kt:51)</p>\n</blockquote>\n\n<p>The code in User.kt:</p>\n\n<pre><code>class User {\n    @SerializedName(\"id\")\n    @Expose\n    var id: String = \"\"\n\n    @SerializedName(\"name\")\n    @Expose\n    var name: String = \"\"\n\n    @SerializedName(\"image\")\n    @Expose\n    var image: String = \"\"\n\n    @SerializedName(\"desc\")\n    @Expose\n    var desc: String = \"\"\n\n    @SerializedName(\"sizes\")\n    @Expose\n    val sizes = ArrayList&lt;String&gt;()\n}\n</code></pre>\n\n<p>The JSON data:</p>\n\n<pre><code>{\nid: 43354,\ndesc: \"Nobis voluptatibus est necessitatibus tempore voluptate voluptatibus. Illum suscipit nam et nostrum. Est exercitationem tempore pariatur nisi soluta iure.\",\nname: \"Prof. Carmel Ebert III\",\nimage: \"https://lorempixel.com/640/640/?81469\",\nsizes: [\n\"UK7\",\n\"UK8\",\n\"UK9\",\n\"UK10\"\n]}\n</code></pre>\n\n<p>What changes are necessary to fix this issue?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "edited": false, "score": 0, "creation_date": 1569299161, "post_id": 58072953, "comment_id": 102541272, "body": "first im thankful for your answer, but i didnt understand why you parse the array data into String? you see my arrayList is an object (MutationItem), and why i should call my <code>asyntask</code> again inside addOnScroll while i already called my asynctask in <code>onViewCreate</code> didnt it will load the data again from begining?"}, {"owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "reply_to_user": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "edited": false, "score": 0, "creation_date": 1569300425, "post_id": 58072953, "comment_id": 102541553, "body": "I parsed last page to string only cause my loadRecords() accept string only. Its your wish ,you can keep page number  integer and I load data from network call in async task each time 10 rows. So I call each time the asynctask to load next 10 when user scroll to bottom of list."}, {"owner": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "edited": false, "score": 0, "creation_date": 1569301629, "post_id": 58072953, "comment_id": 102541826, "body": "i get it for parse, but how your <code>asynctask</code> load next 10 data after first 10 data showed. you see my <code>asynctask</code> class is done to <b>get all the data</b> ie. the data in service is 25 so when i call my <code>asynctask</code> it show all 25 data, and if i recall my <code>asyntask</code> again after 10 data it will show and start the begining data again and didnt continue the next 10 data. with your approach what i get is i need to make another <code>asynctask</code> class or rebuild my <code>asynctask</code> and my web service to just only show 10 each isn&#39;t it?"}, {"owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "reply_to_user": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "edited": false, "score": 0, "creation_date": 1569302567, "post_id": 58072953, "comment_id": 102542051, "body": "look I am calculating nextPage number from number of data loaded dataArrayList.size . i.e. if 20 rows added already then current page is 2 and next page is 3. So I only load data (10*2)+1 to (10*3) that means 21 to 30th rows only and append those to my main list"}, {"owner": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "edited": false, "score": 0, "creation_date": 1569303573, "post_id": 58072953, "comment_id": 102542380, "body": "i understand about that. Im sorry it seems you didnt get it about what i mean. im asking about the <code>asynctask</code>. look my <code>asynctask</code> purposely done for <b>get all data</b>. If i call my <code>asynctask</code> again after nextPage it will execute to get all of my data.This is why i ask is how you <code>asynctask</code> perform like you said. like i said before i already call my <code>asynctask</code> class inside of <code>onViewCreate</code> if i call my asynctask again it will perform the same result"}, {"owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "reply_to_user": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "edited": false, "score": 0, "creation_date": 1569303808, "post_id": 58072953, "comment_id": 102542474, "body": "if you have all of the data in first call then why do you  want to make pagination.. load more!"}, {"owner": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "edited": false, "score": 0, "creation_date": 1569304164, "post_id": 58072953, "comment_id": 102542624, "body": "im sorry it seems is my mistake to said pagination in the title. And yess i want to perform load more in my list with 10 first data and load more again. thats why i asking if there is a other way to archive this, if i already had the all data i get from my asyntask?"}, {"owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "reply_to_user": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "edited": false, "score": 0, "creation_date": 1569305836, "post_id": 58072953, "comment_id": 102543266, "body": "then create another tempList for recyclerview. instead of calling asynctask in loadRecords() just return next n to n+10th indexed data from allDataList and add to templist .call notifyDatasetChanged() in your adapter"}], "tags": [], "owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "is_accepted": false, "score": 0, "last_activity_date": 1569297932, "creation_date": 1569297932, "answer_id": 58072953, "question_id": 58072857, "link": "https://stackoverflow.com/questions/58072857/implement-load-more-pagination-with-gson-data-from-asynctask/58072953#58072953", "title": "Implement Load More Pagination with GSON Data from AsyncTask", "body": "<p>Use addOnScrollListener to do this.</p>\n\n<pre><code>val pageLimit: Int = 10//row returned each time on scroll\nvar noMoreItems: Boolean = false\n</code></pre>\n\n<p>use <code>addOnScrollListener</code> in your recyclerview like this.</p>\n\n<pre><code>dataRecyclerView.addOnScrollListener(object : androidx.recyclerview.widget.RecyclerView.OnScrollListener() {\n            override fun onScrollStateChanged(recyclerView: androidx.recyclerview.widget.RecyclerView, newState: Int) {\n                super.onScrollStateChanged(recyclerView, newState)\n\n                if (!recyclerView.canScrollVertically(1)) {\n                    if (!utility.isConnected(mContext)) {\n                        Toast.makeText(mContext, \"No internet\", Toast.LENGTH_SHORT).show()\n                        return\n                    }\n\n                    if (noMoreItems)\n                        return\n                    val lastPage: String\n                    val nextPage: Int\n                    if (dataArrayList.size &gt; 0) {\n                        lastPage = ((dataArrayList.size - 1) / pageLimit).toInt().toString()\n                        nextPage = Integer.parseInt(lastPage) + 1\n                    } else {\n                        nextPage = 1;\n                    }\n                    loadRecords(nextPage.toString())\n                }\n            }\n        })\n</code></pre>\n\n<p>here in <code>loadRecords()</code> you should call your <code>asynctask</code> with page number.\nset <code>noMOreItems=true</code> when number of rows returned is less than <code>pageLimit</code>.</p>\n"}], "owner": {"reputation": 59, "user_id": 10482656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdSwyzNBYH4/AAAAAAAAAAI/AAAAAAAAAO8/OZ_ylJw8s8E/photo.jpg?sz=128", "display_name": "M Saifulhakim", "link": "https://stackoverflow.com/users/10482656/m-saifulhakim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569303633, "creation_date": 1569297120, "last_edit_date": 1569303633, "question_id": 58072857, "link": "https://stackoverflow.com/questions/58072857/implement-load-more-pagination-with-gson-data-from-asynctask", "title": "Implement Load More Pagination with GSON Data from AsyncTask", "body": "<p>Hello everyone I've created a RecyclerView and get the data with AsyncTask. In the first step I want is to display 10 first data and load more 10 data until it reach the last data. \nAfter that I want to implement a progressbar as a footer to load data.</p>\n\n<p>here is my code for my MutationRecyclerViewAdapter</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.item_mutation, parent, false)\n    return ViewHolder(view)\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.mItem = mValues[position]\n    holder.itemView.text_transaction_type.text = getTransactionTypeString(mValues[position].transactionType)\n    holder.itemView.text_transaction_number.text = mValues[position].transactionID\n    holder.itemView.text_transaction_date.text = AppUtil.getDefaultDateFormat(mValues[position].transactionDate)\n    holder.itemView.text_balance.text = mValues[position].balance\n    holder.itemView.text_amount.text = mValues[position].amount\n    holder.itemView.text_merchant_name.text = mValues[position].merchant\n\n    if(mValues[position].transactionType != null) {\n        when (mValues[position].transactionType) {\n            \"PR\", \"ST\" -&gt; {\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_purchase)\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle)\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext!!, R.color.orange))\n                holder.itemView.text_product_name.text = holder.mItem!!.merchant\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext!!, R.color.orange))\n                //holder.itemView.text_product_name.visibility = View.VISIBLE\n                holder.itemView.image_balance.setImageResource(R.drawable.ic_min_orange)\n            }\n            \"RD\" -&gt; {\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_withdraw_rotated)\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle)\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext!!, R.color.orange))\n                holder.itemView.image_balance.setImageResource(R.drawable.ic_plus)\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext!!, R.color.orange))\n            }\n            \"CI\" -&gt; {\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext!!, R.color.green_grass_dark))\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext, R.drawable.bg_circle_green)\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_cash_in)\n                holder.itemView.image_balance.setImageResource(R.drawable.ic_plus_green)\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext, R.color.green_grass_dark))\n            }\n            \"CO\", \"FCO\", \"XX\" -&gt; {\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle)\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_withdraw_rotated)\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext, R.color.orange))\n                holder.itemView.image_balance.setImageResource(R.drawable.ic_min_orange)\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext, R.color.orange))\n            }\n            \"AD\" -&gt; {\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_adjustment)\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle_gray)\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext, R.color.gray_dark))\n                holder.itemView.image_balance.setImageResource(R.drawable.ic_plus)\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext, R.color.gray_dark))\n\n            }\n            \"RBY\"-&gt;{\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_adjustment)\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle_gray)\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext, R.color.gray_dark))\n                holder.itemView.image_balance.setImageResource(R.drawable.ic_plus)\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext, R.color.gray_dark))\n            }\n            \"TO\" -&gt; {\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle_blue)\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_transfer)\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext!!, R.color.blue_foreground))\n                holder.itemView.image_balance.setImageResource(R.drawable.ic_minus_blue)\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext, R.color.blue_foreground))\n\n            }\n            \"TI\", \"BY\" -&gt; {\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle_green)\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_transfer_in)\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext!!, R.color.green_grass_dark))\n                holder.itemView.image_balance.setImageResource(R.drawable.ic_plus_green)\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext, R.color.green_grass_dark))\n            }\n            else -&gt; {\n                holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_adjustment)\n                holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle_gray)\n                holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext, R.color.gray_dark))\n                holder.itemView.image_balance.visibility = View.INVISIBLE\n                holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext, R.color.gray_dark))\n            }\n        }\n    } else {\n        holder.itemView.image_transaction_icon.setImageResource(R.drawable.ic_action_adjustment)\n        holder.itemView.image_transaction_icon.background = ContextCompat.getDrawable(mContext!!, R.drawable.bg_circle_gray)\n        holder.itemView.text_transaction_type.setTextColor(ContextCompat.getColor(mContext, R.color.gray_dark))\n        holder.itemView.image_balance.visibility = View.INVISIBLE\n        holder.itemView.text_amount.setTextColor(ContextCompat.getColor(mContext, R.color.gray_dark))\n    }\n\n    holder.mView.setOnClickListener {\n        mListener?.onMutationFragmentInteraction(holder.mItem!!)\n    }\n    holder.mView.setOnLongClickListener {\n        mListener?.onLongMutationFragmentInteraction(holder.mItem!!)\n        false\n    }\n}\n\nprivate fun getTransactionTypeString(type: String): String {\n    return when(type) {\n        \"PR\" -&gt; mContext!!.getString(R.string.purchase)\n        \"CI\" -&gt; mContext!!.getString(R.string.cash_in)\n        \"CO\" -&gt; mContext!!.getString(R.string.cash_out)\n        \"RD\" -&gt; mContext!!.getString(R.string.redeem)\n        \"TI\" -&gt; mContext!!.getString(R.string.transfer_in)\n        \"TO\" -&gt; mContext!!.getString(R.string.transfer_out)\n        \"FCO\" -&gt; mContext!!.getString(R.string.cash_out)\n        \"XX\" -&gt; mContext!!.getString(R.string.cash_out)\n        \"BY\" -&gt; mContext!!.getString(R.string.purchase)\n        \"ST\" -&gt;  mContext!!.getString(R.string.settlement)\n        \"AD\" -&gt; mContext!!.getString(R.string.adjustment)\n        \"RBY\" -&gt;mContext!!.getString(R.string.rby)\n        else -&gt; return type\n    }\n}\n\noverride fun getItemCount(): Int {\n    return mValues.size\n}\n\ninner class ViewHolder(val mView: View) : RecyclerView.ViewHolder(mView) {\n    var mItem: MutationItem? = null\n}\n</code></pre>\n\n<p>and this my MutationFragment</p>\n\n<pre><code>private var maxItemSize = -1\nprivate var mListener: OnMutationFragmentInteractionListener? = null\nlateinit var adapter : MutationRecyclerViewAdapter\nlateinit var refreshButton : ImageView\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    if (arguments != null) {\n        maxItemSize = arguments?.getInt(MAX_ITEMS_SIZE, -1)!!\n    }\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.fragment_mutation, container, false)\n    (activity as AppCompatActivity).supportActionBar?.title = \"MutationFragment\"\n    return view\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    MutationContent.ITEMS.clear()\n\n    GetTransactionTask(context!!, this).execute()\n    mutation_list.layoutManager = LinearLayoutManager(context)\n\n    adapter = MutationRecyclerViewAdapter(MutationContent.getSavedTransactions(context, maxItemSize), mListener, context)\n\n    refreshLayout.apply {\n        scrollUpChild = mutation_list\n        setOnRefreshListener {\n            isRefreshing = false\n            GetTransactionTask(context!!, this@MutationFragment).execute()\n        }\n    }\n\n}\n\nfun toggleView(isEmpty : Boolean){\n    if(isEmpty){\n        progress_bar?.visibility = View.GONE\n        mutation_list?.visibility = View.GONE\n        //refreshButton.visibility = View.GONE\n        text_no_mutation?.visibility = View.VISIBLE\n    }\n    else{\n        progress_bar?.visibility = View.GONE\n        mutation_list?.visibility = View.VISIBLE\n        //refreshButton?.visibility = View.GONE\n        text_no_mutation?.visibility = View.GONE\n    }\n    activity?.invalidateOptionsMenu()\n}\n\noverride fun onGetTransactionSuccess(response: ResponseRequestMutasiSaldo) {\n    MutationContent.import(context, response, maxItemSize)\n    adapter = MutationRecyclerViewAdapter(MutationContent.getSavedTransactions(context, maxItemSize),\n            mListener, context)\n    mutation_list?.adapter = adapter\n    if(adapter.mValues.isEmpty()) {\n        text_no_mutation?.setText(getString(R.string.no_mutation))\n    } else {\n        text_no_mutation?.setText(getString(R.string.load_mutation))\n    }\n    toggleView(adapter.mValues.isEmpty())\n}\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    if (context is OnMutationFragmentInteractionListener) {\n        mListener = context\n    } else {\n        throw RuntimeException(context!!.toString() + \" must implement OnSettingFragmentInteractionListener\")\n    }\n}\n\noverride fun onDetach() {\n    super.onDetach()\n    mListener = null\n}\n\noverride fun onTransactionFailed(response: ResponseRequestMutasiSaldo) {\n    adapter = MutationRecyclerViewAdapter(\n            MutationContent.getSavedTransactions(context, maxItemSize),\n            mListener, context)\n    mutation_list?.adapter = adapter\n    toggleView(adapter.mValues.isEmpty())\n    /*if(activity != null)\n        Toasty.error(activity!!,response.errorMessage).show()*/\n}\n\ninterface OnMutationFragmentInteractionListener {\n    fun onMutationFragmentInteraction(item: MutationItem)\n    fun onLongMutationFragmentInteraction(item: MutationItem)\n}\n\ncompanion object {\n    val MAX_ITEMS_SIZE = \"MAX_ITEM_SIZE\"\n}\n</code></pre>\n\n<p>and this my Asynctask Class</p>\n\n<pre><code>override fun doInBackground(vararg p0: Void?): ResponseRequestMutasiSaldo? {\n    return ResourceService(context).requestMutasiSaldo()\n}\n\noverride fun onPostExecute(result: ResponseRequestMutasiSaldo?) {\n    if(result != null &amp;&amp; (result.error.equals(AppUtil.RESPONSE_ERROR_CODE_EXPIRY) || result.success.equals(AppUtil.RESPONSE_SUCCESS_CODE_EXPIRY))){\n        EventBus.getDefault().post(SessionExpiry(result.message?:\"\"))\n        return\n    }\n    if(result != null &amp;&amp; result.success.equals(\"1\")) {\n        listener.onGetTransactionSuccess(result)\n    }\n    if(result != null &amp;&amp; result.error.equals(\"1\")){\n        listener.onTransactionFailed(result)\n        return\n    }\n}\n</code></pre>\n\n<p>I have successfully got all the data from web service and now I've tried, using EndlessRecyclerViewListener like in this <a href=\"https://guides.codepath.com/android/Endless-Scrolling-with-AdapterViews-and-RecyclerView#implementing-with-recyclerview\" rel=\"nofollow noreferrer\">documentation</a> and using several references to achive my task. But the function AddOnScroll didn't work properly and I didn't understand well how this work. How do I do if I want to use EndlessRecyclerViewListener? Or is there any other way to achive this without using EndlessRecyclerViewListener class?</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 401, "user_id": 9687246, "user_type": "registered", "profile_image": "https://graph.facebook.com/2288984747995071/picture?type=large", "display_name": "Lokik Soni", "link": "https://stackoverflow.com/users/9687246/lokik-soni"}, "edited": false, "score": 0, "creation_date": 1569300054, "post_id": 58072520, "comment_id": 102541491, "body": "I think removing / before users will solve your problem."}], "answers": [{"comments": [{"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1569295588, "post_id": 58072639, "comment_id": 102540551, "body": "Please consider providing a Kotlin version of the code sample you&#39;ve provided instead of just pasting code from somewhere."}, {"owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "reply_to_user": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 1, "creation_date": 1569295695, "post_id": 58072639, "comment_id": 102540562, "body": "@Eric android studio supports automatic conversion just copy this code and paste it into kotlin class it will be automatically converted!!"}], "tags": [], "owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1569295330, "creation_date": 1569295330, "answer_id": 58072639, "question_id": 58072520, "link": "https://stackoverflow.com/questions/58072520/displaying-username-data-from-firebase/58072639#58072639", "title": "Displaying username data from firebase", "body": "<p>In firebase you cannot get reference of a child firstly you need to refer it's sub parent and then upon that reference you can call it's sub childs try this:</p>\n\n<pre><code>ref.child(\"you parent key\").child(\"username\").addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot snapshot) {\n        try {\n            if (snapshot.getValue() != null) {\n                try {\n                    Log.e(\"TAG\", \"\" + snapshot.getValue()); // your name values you will get here\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            } else {\n                Log.e(\"TAG\", \" it's null.\");\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onCancelled(FirebaseError firebaseError) {\n        Log.e(\"onCancelled\", \" cancelled\");\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1844, "user_id": 5465447, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203275056715672/picture?type=large", "display_name": "Roaim", "link": "https://stackoverflow.com/users/5465447/roaim"}, "is_accepted": true, "score": 1, "last_activity_date": 1569313536, "last_edit_date": 1569313536, "creation_date": 1569311631, "answer_id": 58075553, "question_id": 58072520, "link": "https://stackoverflow.com/questions/58072520/displaying-username-data-from-firebase/58075553#58075553", "title": "Displaying username data from firebase", "body": "<p>I am assuming you are inserting users in something like the following way,</p>\n\n<pre><code>fun insertUser(user: User) {\n    val ref = FirebaseDatabase.getInstance().getReference(\"/users\") \n    ref.push().setValue(user)\n}\n</code></pre>\n\n<p>If that is the case, I would suggest you to keep the reference of the key to the user.</p>\n\n<pre><code>fun insertUser(user: User): String {\n    val ref = FirebaseDatabase.getInstance().getReference(\"/users\") \n    val child = ref.push()\n    child.setValue(user)\n    return child.key\n}\n</code></pre>\n\n<p>Now slightly modify your <code>showUsername()</code> so that it takes userKey as parameter which will take the exact reference of the user,</p>\n\n<pre><code>private fun showUsername(userKey: String) {\n    val ref = FirebaseDatabase.getInstance().getReference(\"/users\")\n    // Add listener to the specific user instead of whole users reference\n    ref.child(userKey).addValueEventListener(object : ValueEventListener{\n        override fun onCancelled(p0: DatabaseError) {\n\n        }\n\n        override fun onDataChange(p0: DataSnapshot) {\n            val userName = p0.child(\"username\").getValue().toString()\n            txtUserTampil.text = userName\n        }\n\n    })\n}\n</code></pre>\n\n<p>Now call the above functions in the following way to store the key and/or pass it in the <code>showUsername()</code> function,</p>\n\n<pre><code>val user = User(...)\nval userKey = insertUser(user) // store it\nshowUsername(userKey)\n</code></pre>\n\n<p><strong>Alternative</strong></p>\n\n<p>If you are already storing uid and don't want to store userKey then I would suggest you to keep the uid out of the user's property and use it as the user's key,</p>\n\n<pre><code>val uid = ...\nval name = ...\nval email = ...\nval user = User(name, email)\n//Insert\nval ref = FirebaseDatabase.getInstance().getReference(\"/users\")\nref.child(uid).setValue(user)\n// Display\nshowUsername(uid)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12019532, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zg1l0pssBk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcidpY0Wv00w3h84Z3oBMgJP23USg/photo.jpg?sz=128", "display_name": "Pify", "link": "https://stackoverflow.com/users/12019532/pify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 58075553, "answer_count": 2, "score": 1, "last_activity_date": 1569367655, "creation_date": 1569294189, "last_edit_date": 1569367655, "question_id": 58072520, "link": "https://stackoverflow.com/questions/58072520/displaying-username-data-from-firebase", "title": "Displaying username data from firebase", "body": "<p>I want to display \"username\" from my firebase database to textView, but I get a null instead. I provide the image from myfirebase </p>\n\n<p><a href=\"https://i.stack.imgur.com/7GERY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7GERY.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>private fun showUsername() {\n    val ref = FirebaseDatabase.getInstance().getReference(\"/users\")\n    ref.addValueEventListener(object : ValueEventListener{\n        override fun onCancelled(p0: DatabaseError) {\n\n        }\n\n        override fun onDataChange(p0: DataSnapshot) {\n            val userName = p0.child(\"username\").getValue().toString()\n            txtUserTampil.text = userName\n        }\n\n    })\n}\n</code></pre>\n\n<p>I expect to display the username to textView, but I get a \"null\" text. there is no error when I run this app</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 487, "user_id": 10235119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d83812db68034ed33c21b1a5a553bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Wilson Sim", "link": "https://stackoverflow.com/users/10235119/wilson-sim"}, "edited": false, "score": 0, "creation_date": 1569289667, "post_id": 58072002, "comment_id": 102539557, "body": "Try posting your custom toolbar xml?"}, {"owner": {"reputation": 1475, "user_id": 5693082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faaab1b925d46aed09b42526914ca38?s=128&d=identicon&r=PG&f=1", "display_name": "dotGitignore", "link": "https://stackoverflow.com/users/5693082/dotgitignore"}, "edited": false, "score": 0, "creation_date": 1569290995, "post_id": 58072002, "comment_id": 102539765, "body": "How about <code>getSupportActionBar().setDisplayShowTitleEnabled(false);</code>?"}, {"owner": {"reputation": 37, "user_id": 11914993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zuJXUMJ9D4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds5v_Fs84pdYwxRTrrTNwStUTajQ/photo.jpg?sz=128", "display_name": "Gomip", "link": "https://stackoverflow.com/users/11914993/gomip"}, "reply_to_user": {"reputation": 487, "user_id": 10235119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d83812db68034ed33c21b1a5a553bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Wilson Sim", "link": "https://stackoverflow.com/users/10235119/wilson-sim"}, "edited": false, "score": 0, "creation_date": 1569292133, "post_id": 58072002, "comment_id": 102539952, "body": "@WilsonSim i had update my toolbar xml"}, {"owner": {"reputation": 37, "user_id": 11914993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zuJXUMJ9D4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds5v_Fs84pdYwxRTrrTNwStUTajQ/photo.jpg?sz=128", "display_name": "Gomip", "link": "https://stackoverflow.com/users/11914993/gomip"}, "reply_to_user": {"reputation": 1475, "user_id": 5693082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faaab1b925d46aed09b42526914ca38?s=128&d=identicon&r=PG&f=1", "display_name": "dotGitignore", "link": "https://stackoverflow.com/users/5693082/dotgitignore"}, "edited": false, "score": 0, "creation_date": 1569292275, "post_id": 58072002, "comment_id": 102539977, "body": "@dotGitignore umm...if i changed into kotlin, i got error &quot;only safe(?.) or non null asserted (!!.) calls are allowed on a nullable receiver of type Actionbar?&quot;"}, {"owner": {"reputation": 37, "user_id": 11914993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zuJXUMJ9D4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds5v_Fs84pdYwxRTrrTNwStUTajQ/photo.jpg?sz=128", "display_name": "Gomip", "link": "https://stackoverflow.com/users/11914993/gomip"}, "reply_to_user": {"reputation": 1475, "user_id": 5693082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faaab1b925d46aed09b42526914ca38?s=128&d=identicon&r=PG&f=1", "display_name": "dotGitignore", "link": "https://stackoverflow.com/users/5693082/dotgitignore"}, "edited": false, "score": 0, "creation_date": 1569292755, "post_id": 58072002, "comment_id": 102540065, "body": "@dotGitignore thx by fixing code like val ab= supportActionBar if(ab!=null)ab.setDisplayShowTitleEnabled(false)"}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 3588523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364e73aba0ba82a538206eb63e6b60f7?s=128&d=identicon&r=PG&f=1", "display_name": "dimvolk", "link": "https://stackoverflow.com/users/3588523/dimvolk"}, "is_accepted": false, "score": 0, "last_activity_date": 1569292828, "creation_date": 1569292828, "answer_id": 58072370, "question_id": 58072002, "link": "https://stackoverflow.com/questions/58072002/how-to-remove-label-in-android-studio/58072370#58072370", "title": "How to remove label in android studio", "body": "<p>Try this</p>\n\n<pre><code>Toolbar toolbar = findViewById(R.id.toolbarActionBar);\n        if (toolbar != null) {\n            (this).setSupportActionBar(toolbar);\ntoolbar.setNavigationIcon(R.drawable.ic_home);\ngetSupportActionBar().setDisplayShowTitleEnabled(false);\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>getSupportActionBar().setTitle(null);\n</code></pre>\n\n<p>or this to hide </p>\n\n<pre><code>getSupportActionBar().setTitle(\"\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "is_accepted": true, "score": 2, "last_activity_date": 1569297158, "last_edit_date": 1569297158, "creation_date": 1569296795, "answer_id": 58072806, "question_id": 58072002, "link": "https://stackoverflow.com/questions/58072002/how-to-remove-label-in-android-studio/58072806#58072806", "title": "How to remove label in android studio", "body": "<p>In Kotlin you can do as </p>\n\n<pre><code> val toolbar = findViewById&lt;androidx.appcompat.widget.Toolbar&gt;(R.id.toolbar)\n setSupportActionBar(toolbar)\n supportActionBar?.setDisplayShowTitleEnabled(false)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 8614856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14fc18d5cb14f66bcf89d1aadab603b9?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/8614856/mayur-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1569299791, "creation_date": 1569299791, "answer_id": 58073158, "question_id": 58072002, "link": "https://stackoverflow.com/questions/58072002/how-to-remove-label-in-android-studio/58073158#58073158", "title": "How to remove label in android studio", "body": "<p>I tried your code. I am not getting any kind of white label</p>\n\n<blockquote>\n  <p>Manifest.xml</p>\n</blockquote>\n\n<pre><code>&lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".TestActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n\n<blockquote>\n  <p>style.xml</p>\n</blockquote>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<blockquote>\n<pre><code>activity_test.xml\n</code></pre>\n</blockquote>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:minHeight=\"?attr/actionBarSize\"\n        app:theme=\"?attr/actionBarTheme\"&gt;\n\n        &lt;ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:contentDescription=\"resquare_logo\"\n            android:src=\"@drawable/ic_action_name\" /&gt;\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<blockquote>\n<pre><code>TestActivity.java\n</code></pre>\n</blockquote>\n\n<pre><code>@Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n    }\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 11914993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zuJXUMJ9D4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds5v_Fs84pdYwxRTrrTNwStUTajQ/photo.jpg?sz=128", "display_name": "Gomip", "link": "https://stackoverflow.com/users/11914993/gomip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 58072806, "answer_count": 3, "score": 1, "last_activity_date": 1569299791, "creation_date": 1569289303, "last_edit_date": 1569291070, "question_id": 58072002, "link": "https://stackoverflow.com/questions/58072002/how-to-remove-label-in-android-studio", "title": "How to remove label in android studio", "body": "<p>now i am trying to use custom toolbar i created, but there is a label with white color. \n<a href=\"https://i.stack.imgur.com/BHuRu.png\" rel=\"nofollow noreferrer\">text : test with white color </a></p>\n\n<p>how can i remove this?</p>\n\n<p>below are my manifest and styles.xml code</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.test\"&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;!-- No Title Bar--&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>update my toolbar.xml</p>\n\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/toolbar\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:minHeight=\"?attr/actionBarSize\"\napp:theme=\"?attr/actionBarTheme\"&gt;\n\n&lt;ImageView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:contentDescription=\"resquare_logo\"\n    android:src=\"@drawable/logo\"/&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["gradle", "kotlin", "code-coverage", "jacoco"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 12075726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkz__TrlG_U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUIH2c15Apb8Rn3KcNnffUfZ-R8Q/photo.jpg?sz=128", "display_name": "ben l", "link": "https://stackoverflow.com/users/12075726/ben-l"}, "edited": false, "score": 0, "creation_date": 1569534243, "post_id": 58124913, "comment_id": 102638559, "body": "A funny phenomena: So I set my min to 0.99 to see if it helps. With it in jacocoTestReport, it says 0.79 coverage, but the HTML file says 80%. With it in jacocoTestCoverageVerification, it says coverage is 0.8, but the HTML file says 79% (files aren&#39;t excluded). Duplicating it in both of them puts them in agreement... thanks, your suggestion did the trick!"}], "tags": [], "owner": {"reputation": 825, "user_id": 7105883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1411760fcd987b395202721f8dec9df9?s=128&d=identicon&r=PG&f=1", "display_name": "camtastic", "link": "https://stackoverflow.com/users/7105883/camtastic"}, "is_accepted": true, "score": 0, "last_activity_date": 1569532819, "creation_date": 1569532819, "answer_id": 58124913, "question_id": 58071660, "link": "https://stackoverflow.com/questions/58071660/gradle-build-console-output-for-jacoco-says-its-lower-than-it-really-is/58124913#58124913", "title": "Gradle build console output for jacoco says it&#39;s lower % than it really is", "body": "<p>The class exclusions are probably not getting applied to the jacocoTestCoverageVerification task.</p>\n\n<p>Have you tried applying the exclusion in the jacocoTestCoverageVerification task as well?</p>\n\n<pre><code>jacocoTestCoverageVerification {\n    violationRules {\n        rule {\n            limit {\n                // % in decimal form for when build should fail\n                minimum = 0.75\n            }\n        }\n    }\n\n    afterEvaluate {\n            classDirectories.setFrom(files(classDirectories.files.collect {\n                fileTree(dir: it, exclude: [...files...])\n            }))\n        }\n    }\n}\n</code></pre>\n\n<p>Similar to: <a href=\"https://stackoverflow.com/a/55953573/7105883\">https://stackoverflow.com/a/55953573/7105883</a></p>\n"}], "owner": {"reputation": 55, "user_id": 12075726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkz__TrlG_U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUIH2c15Apb8Rn3KcNnffUfZ-R8Q/photo.jpg?sz=128", "display_name": "ben l", "link": "https://stackoverflow.com/users/12075726/ben-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 58124913, "answer_count": 1, "score": 2, "last_activity_date": 1569532819, "creation_date": 1569285331, "question_id": 58071660, "link": "https://stackoverflow.com/questions/58071660/gradle-build-console-output-for-jacoco-says-its-lower-than-it-really-is", "title": "Gradle build console output for jacoco says it&#39;s lower % than it really is", "body": "<p>I'm trying to do a gradle build with jacoco, but it's failing because the coverage is lower than \"expected\". But when I open the generated HTML file, it's actually higher than my set minimum.</p>\n\n<p>I've tried excluding more files from being analyzed, but it didn't help.</p>\n\n<pre><code>\njacoco {\n    toolVersion = \"0.8.4\"\n//    applyTo test\n}\n\njacocoTestReport.dependsOn(test)\n\n// this just ensures it runs with for build, but not for non-builds (like tests)\nbuild {\n    finalizedBy jacocoTestReport\n\n    // this will do checks on the violations + fail build if there's too little coverage\n    finalizedBy jacocoTestCoverageVerification\n}\n\njacocoTestReport {\n    reports {\n        csv.enabled false\n        xml.enabled false\n        html.enabled true\n\n        // setting the output location for html stuff\n        html.destination file(\"${buildDir}/reports/jacoco\")\n    }\n\n    afterEvaluate {\n        classDirectories.setFrom(files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: [...files...])\n        }))\n    }\n}\n\njacocoTestCoverageVerification {\n    violationRules {\n        rule {\n            limit {\n                // % in decimal form for when build should fail\n                minimum = 0.75\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>What I get in my build says: instructions covered ratio is 0.74, but expected minimum is 0.75</p>\n\n<p>But as you can see in <a href=\"https://i.imgur.com/MO2GMlK.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/MO2GMlK.png</a> it's 80%. Why is this happening?</p>\n"}, {"tags": ["json", "kotlin", "jsonparser", "moshi"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1570107719, "post_id": 58071529, "comment_id": 102815209, "body": "do you have full source code anywhere?"}], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 5, "last_activity_date": 1570176782, "creation_date": 1570176782, "answer_id": 58232385, "question_id": 58071529, "link": "https://stackoverflow.com/questions/58071529/how-to-parse-polymorphic-objects-in-kotlin-using-moshi/58232385#58232385", "title": "How to parse polymorphic objects in Kotlin using Moshi", "body": "<p>I've changed <code>@field:Json</code> to <code>Json</code>, <code>Products</code> to <code>products</code> and <code>SpecialProductsComponent</code> fields. So finally I got:</p>\n\n<pre><code>sealed class HomeComponent(@Json(name = \"_type\") val type: HomeContentType) {\n\n    data class BannerComponent(\n        @Json(name = \"_id\")\n        val id: String,\n        val image: String\n    ) : HomeComponent(HomeContentType.banner)\n\n    data class SpecialProductsComponent(\n        @Json(name = \"_id\")\n        val id: String,\n        val style: String,\n        val products: List&lt;Product&gt;\n    ) : HomeComponent(HomeContentType.products)\n\n    data class CarouselBannerComponent(\n        @Json(name = \"_id\")\n        val id: String,\n        val style: String,\n        val images: List&lt;String&gt;\n    ) : HomeComponent(HomeContentType.carousel)\n}\n\nenum class HomeContentType {\n    @Json(name = \"banner\")\n    banner,\n    @Json(name = \"products\")\n    products,\n    @Json(name = \"carousel\")\n    carousel\n}\n</code></pre>\n\n<p>and now it seems that all works fine. I checked it with following code:</p>\n\n<pre><code>fun main() {\n    val moshi = Moshi.Builder()\n        .add(\n            PolymorphicJsonAdapterFactory.of(HomeComponent::class.java, \"_type\")\n                .withSubtype(HomeComponent.BannerComponent::class.java, HomeContentType.banner.name)\n                .withSubtype(HomeComponent.SpecialProductsComponent::class.java, HomeContentType.products.name)\n                .withSubtype(HomeComponent.CarouselBannerComponent::class.java, HomeContentType.carousel.name)\n        )\n        .add(KotlinJsonAdapterFactory())\n        .build()\n\n    val json = \"\"\"\n[\n  {\n    \"image\": \"http://image1.url\",\n    \"_id\": \"carousel1\",\n    \"style\": \"SLIDE\",\n    \"_type\": \"banner\"\n  },\n  {\n    \"products\": [],\n    \"_id\": \"id1\",\n    \"style\": \"CARD\",\n    \"_type\": \"products\"\n  },\n  {\n    \"images\": [\n      \"http://image1.url\",\n      \"http://image1.url\",\n      \"http://image1.url\"\n    ],\n    \"_id\": \"carousel1\",\n    \"style\": \"SLIDE\",\n    \"_type\": \"carousel\"\n  }\n]\n    \"\"\".trimIndent()\n\n    val adapter =\n        moshi.adapter&lt;List&lt;HomeComponent&gt;&gt;(Types.newParameterizedType(List::class.java, HomeComponent::class.java))\n    val result = adapter.fromJson(json)\n    println(result)\n}\n</code></pre>\n"}], "owner": {"reputation": 740, "user_id": 1288005, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/56b8a758a1d14581d0dd2be7725e97a5?s=128&d=identicon&r=PG&f=1", "display_name": "user1288005", "link": "https://stackoverflow.com/users/1288005/user1288005"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1570176782, "creation_date": 1569283892, "last_edit_date": 1569285529, "question_id": 58071529, "link": "https://stackoverflow.com/questions/58071529/how-to-parse-polymorphic-objects-in-kotlin-using-moshi", "title": "How to parse polymorphic objects in Kotlin using Moshi", "body": "<p>Currently having an issue with PolymorphicJsonAdapterFactory and Kotlins sealed class. I have an API that that returns polymorphic home components and I am trying to parse and create polymorphic object using Moshi in Kotlin but I getting following error:</p>\n\n<pre><code>  Caused by: java.lang.IllegalArgumentException: Cannot serialize abstract class home.HomeComponent\nfor class home.HomeComponent\nfor java.util.List&lt;home.HomeComponent&gt; components\nfor class home.HomeContent\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>sealed class HomeComponent(@Json(name = \"_type\") val type: HomeContentType) {\n\ndata class BannerComponent(@field:Json(name = \"_id\")\n                               val id: String,\n                               val image: String) : HomeComponent(HomeContentType.banner)\n\ndata class SpecialProductsComponent(@field:Json(name = \"_id\")\n                                        val id: String,\n                                        val style: List&lt;Product&gt;) : HomeComponent(HomeContentType.specialProducts)\n\ndata class CarouselBannerComponent(@field:Json(name = \"_id\")\n                                       val id: String,\n                                       val style: String,\n                                       val images: List&lt;String&gt;) : HomeComponent(HomeContentType.carousel)\n}\n\nenum class HomeContentType {\n    @Json(name = \"banner\")banner,\n    @Json(name = \"products\")Products,\n    @Json(name = \"carousel\")carousel\n}\n\n</code></pre>\n\n<p>ApiFetcher Class:</p>\n\n<pre><code>\nclass HomeApiFetcher(private val backend: HomeContentBackend) : HomeFetcher {\n\n    companion object {\n        fun from(retrofit: Retrofit,\n                 moshi: Moshi): HomeApiFetcher {\n\n            val moshi = moshi.newBuilder()\n                    .add(\n                            PolymorphicJsonAdapterFactory.of(HomeComponent::class.java, \"_type\")\n                                    .withSubtype(HomeComponent.BannerComponent::class.java, HomeContentType.banner.name)\n                                    .withSubtype(HomeComponent.SpecialProductsComponent::class.java, HomeContentType.specialProducts.name)\n                                    .withSubtype(HomeComponent.CarouselBannerComponent::class.java, HomeContentType.carousel.name))\n                    .add(KotlinJsonAdapterFactory())\n                    .build()\n\n            val homeBackend = retrofit\n                    .newBuilder()\n                    .addConverterFactory(MoshiConverterFactory.create(moshi))\n                    .build()\n                    .create(HomeContentBackend::class.java)\n            return HomeApiFetcher(homeBackend)\n        }\n    }\n\n    override fun getHomeContent(): Single&lt;HomeContent&gt; {\n        return backend.load()\n    }\n}\n</code></pre>\n\n<p>JSON from API:</p>\n\n<pre><code>{\n    \"common\": {\n        \"background\": \"\",\n        \"backgroundType\": \"NONE\",\n        \"floatingImgs\": {\n            \"left\": \"\",\n            \"right\": \"\"\n        },\n        \"actualDate\": \"2019-09-23T15:03:20.8626882Z\"\n    },\n    \"components\": [{\n            \"image\": \"http://image1.url\",\n            \"_id\": \"carousel1\",\n            \"style\": \"SLIDE\",\n            \"_type\": \"banner\"\n        },\n        {\n            \"products\": [],\n            \"_id\": \"id1\",\n            \"style\": \"CARD\",\n            \"_type\": \"products\"\n        },\n        {\n            \"images\": [\"http://image1.url\",\n                \"http://image1.url\",\n                \"http://image1.url\"\n            ],\n            \"_id\": \"carousel1\",\n            \"style\": \"SLIDE\",\n            \"_type\": \"carousel\"\n        }\n    ]\n}\n</code></pre>\n\n<p>I am not sure what's wrong in my code. I am getting <code>Cannot serialize abstract class HomeComponent</code> error</p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 76, "user_id": 7898450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5EEVAGgxJhA/AAAAAAAAAAI/AAAAAAAAAxg/15hErLp44n0/photo.jpg?sz=128", "display_name": "Jithendra Reddy", "link": "https://stackoverflow.com/users/7898450/jithendra-reddy"}, "edited": false, "score": 0, "creation_date": 1569294974, "post_id": 58071371, "comment_id": 102540450, "body": "update - <code>ViewModelProviderFactory</code> should not be Singleton and removing this fixed the issue"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 8371834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4VTTZ.jpg?s=128&g=1", "display_name": "Tuan Dao", "link": "https://stackoverflow.com/users/8371834/tuan-dao"}, "is_accepted": false, "score": 0, "last_activity_date": 1569295664, "creation_date": 1569295664, "answer_id": 58072677, "question_id": 58071371, "link": "https://stackoverflow.com/questions/58071371/im-not-able-to-provide-viewmodel/58072677#58072677", "title": "I&#39;m not able to provide ViewModel", "body": "<p>You can only create a module bind all of viewmodel in application. You can see detail in my sample app:\n<a href=\"https://github.com/tuandao2511/MovieDB_43\" rel=\"nofollow noreferrer\">sample-moviedb-app</a></p>\n\n<p><strong>BaseApplicationComponent:</strong></p>\n\n<pre><code>@Suppress(\"unused\")\n@Singleton\n@Component(\n    modules = [AndroidInjectionModule::class,\n        ActivityBuilderModule::class,\n        ViewModelFactoryModule::class,\n        ViewModelModule::class]\n\n)\ninterface BaseApplicationComponent : AndroidInjector&lt;BaseApplicationClass&gt; {\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(application: Application): Builder\n\n        fun build(): BaseApplicationComponent\n    }\n}\n</code></pre>\n\n<p><strong>ViewModelModule:</strong></p>\n\n<pre><code>@Suppress(\"unused\")\n@Module\nabstract class ViewModelProviderModule {\n    @Binds\n    @IntoMap\n    @ViewModelKey(LoginViewModel::class)\n    abstract fun bindLoginViewModel(viewModel: LoginViewModel): ViewModel\n\n//other viewmodels in application\n   @Binds\n   abstract fun bindViewModelFactory(viewModelProviderFactory:ViewModelProviderFactory): ViewModelProvider.Factory\n}\n</code></pre>\n\n<p><strong>MainModule:</strong></p>\n\n<pre><code>@Module\nclass MainModule {\n    @MainActivityScope\n    @Provides\n    fun provideViewModel(mainActivity: MainActivity, viewModelFactory: ViewModelProviderFactory) =\n        ViewModelProviders.of(mainActivity, viewModelFactory).get(LoginViewModel::class.java)\n}\n</code></pre>\n\n<p><strong>LoginViewModel:</strong></p>\n\n<pre><code>class LoginViewModel @Inject constructor(\n) : ViewModel() {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 76, "user_id": 7898450, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5EEVAGgxJhA/AAAAAAAAAAI/AAAAAAAAAxg/15hErLp44n0/photo.jpg?sz=128", "display_name": "Jithendra Reddy", "link": "https://stackoverflow.com/users/7898450/jithendra-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569295664, "creation_date": 1569282206, "question_id": 58071371, "link": "https://stackoverflow.com/questions/58071371/im-not-able-to-provide-viewmodel", "title": "I&#39;m not able to provide ViewModel", "body": "<p>I'm not able to provide LoginViewModel using LoginViewModelProviderModule when I include LoginViewModelProviderModule in     <code>@ContributesAndroidInjector(modules = [MainFragmentBuilderModule::class, LoginViewModelProviderModule::class])</code> but it works when I include it in @Module annotation in ActivityBuilderModule class.</p>\n\n<p><strong>BaseApplicationComponent</strong></p>\n\n<pre><code>@Suppress(\"unused\")\n@Singleton\n@Component(\n    modules = [AndroidInjectionModule::class,\n        ActivityBuilderModule::class,\n        ViewModelFactoryModule::class]\n)\ninterface BaseApplicationComponent : AndroidInjector&lt;BaseApplicationClass&gt; {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(application: Application): Builder\n\n        fun build(): BaseApplicationComponent\n    }\n}\n</code></pre>\n\n<p><strong>ActivityBuilderModule</strong></p>\n\n<pre><code>@Module\nabstract class ActivityBuilderModule {\n\n    @LoginScope\n    @ContributesAndroidInjector(modules = [MainFragmentBuilderModule::class, LoginViewModelProviderModule::class])\n    abstract fun contributeMainActivity(): MainActivity\n}\n</code></pre>\n\n<p><strong>MainFragmentBuilderModule</strong></p>\n\n<pre><code>@Module\nabstract class MainFragmentBuilderModule {\n\n    @ContributesAndroidInjector\n    abstract fun contributesLoginFragment(): LoginFragment\n}\n</code></pre>\n\n<p><strong>LoginViewModelProviderModule</strong></p>\n\n<pre><code>@Suppress(\"unused\")\n@Module\nabstract class LoginViewModelProviderModule {\n    @Binds\n    @IntoMap\n    @ViewModelKey(LoginViewModel::class)\n    abstract fun bindLoginViewModel(viewModel: LoginViewModel): ViewModel\n}\n</code></pre>\n\n<p><strong>ViewModelFactoryModule</strong></p>\n\n<pre><code>@Module\nabstract class ViewModelFactoryModule {\n\n    @Binds\n    abstract fun bindViewModelFactory(viewModelProviderFactory: ViewModelProviderFactory): ViewModelProvider.Factory\n}\n</code></pre>\n\n<p><strong>ViewModelProviderFactory</strong></p>\n\n<pre><code>@Singleton\nclass ViewModelProviderFactory @Inject constructor(\n    private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\n) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        val creator = creators[modelClass] ?: creators.entries.firstOrNull {\n            modelClass.isAssignableFrom(it.key)\n        }?.value ?: throw IllegalArgumentException(\"unknown model class $modelClass\") as Throwable\n        try {\n            @Suppress(\"UNCHECKED_CAST\")\n            return creator.get() as T\n        } catch (e: Exception) {\n            throw RuntimeException(e)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>LoginScope</strong></p>\n\n<pre><code>@Scope\n@MustBeDocumented\n@Retention(AnnotationRetention.RUNTIME)\nannotation class LoginScope \n</code></pre>\n\n<p><strong>ViewModelKey</strong></p>\n\n<pre><code>@MustBeDocumented\n@Target(\n    AnnotationTarget.FUNCTION,\n    AnnotationTarget.PROPERTY_GETTER,\n    AnnotationTarget.PROPERTY_SETTER\n)\n@Retention(AnnotationRetention.RUNTIME)\n@MapKey\nannotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\n</code></pre>\n\n<p><strong>This is the error that I see:</strong></p>\n\n<p>error: [Dagger/MissingBinding] java.util.Map,javax.inject.Provider> cannot be provided without an @Provides-annotated method.\npublic abstract interface BaseApplicationComponent extends dagger.android.AndroidInjector {\n                ^\n      java.util.Map,javax.inject.Provider> is injected at\n          com.example.mydemoapplication.viewmodel_factory.ViewModelProviderFactory(creators)\n      com.example.mydemoapplication.viewmodel_factory.ViewModelProviderFactory is injected at\n          com.example.mydemoapplication.LoginFragment.viewModelProviderFactory\n      com.example.mydemoapplication.LoginFragment is injected at\n          dagger.android.AndroidInjector.inject(T) [com.example.mydemoapplication.dagger.BaseApplicationComponent ? com.example.mydemoapplication.dagger.ActivityBuilderModule_ContributeMainActivity.MainActivitySubcomponent ? com.example.mydemoapplication.dagger.MainFragmentBuilderModule_ContributesLoginFragment.LoginFragmentSubcomponent]</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569282028, "post_id": 58071108, "comment_id": 102538227, "body": "I remember solving the exact same problem <a href=\"https://stackoverflow.com/a/57589262/11342519\">here</a>. Seems like there is a bug in a tutorial of some kind."}, {"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "reply_to_user": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569357002, "post_id": 58071108, "comment_id": 102568897, "body": "Thank you for the help that piece of code seems to be working fine now with the edits but the emulator still just displays the  4 toggle buttons and the FAB on the main screen and now I have a crash with the following code: val newThought = Thought(                         name, timestamp, thoughtText,                         numberLikes?.toInt(), numberComments?.toInt()                     )                     thoughts.add(newThought)                                                                       can you please assist I am really at my wits end here."}, {"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "reply_to_user": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569433589, "post_id": 58071108, "comment_id": 102599019, "body": "Hello jsamol... there seems to be more bugs I am stuck at this part: val newThought = Thought( name, timestamp, thoughtText, numberLikes?.toInt(), numberComments?.toInt() ) thoughts.add(newThought) The app crashes when I add this part. Do you perhaps know what is going wrong?"}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569489202, "post_id": 58071108, "comment_id": 102616360, "body": "Can you update your question with an error you are getting on this line?"}, {"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "reply_to_user": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569524585, "post_id": 58071108, "comment_id": 102634957, "body": "jsamol I have edited the question thank you. I really appreciate your efforts"}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569531311, "post_id": 58071108, "comment_id": 102637712, "body": "The error indicates that you try to invoke the <code>DateFormat.format()</code> method on an object that isn&#39;t a <code>Date</code> instance. What does the <code>Thought</code> class look like?"}, {"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "reply_to_user": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569574497, "post_id": 58071108, "comment_id": 102649163, "body": "data class Thought constructor(val username: String?,val timestamp: Timestamp?, val thoughtText: String?,                                val numberLikes: Int?, val numberComments: Int?, val documentId: String?)"}, {"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "reply_to_user": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569574658, "post_id": 58071108, "comment_id": 102649246, "body": "and also have date format as:val dateFormatter = SimpleDateFormat(&quot;MMM d, h:mm a&quot;, Locale.getDefault ())             val dateString = dateFormatter.format(thought.timestamp)             timestamp?.text = dateString"}, {"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "reply_to_user": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1569754642, "post_id": 58071108, "comment_id": 102692082, "body": "hello jsamol...the data class Thought constructor(val username: String?,val timestamp: Timestamp?, val thoughtText: String?, val numberLikes: Int?, val numberComments: Int?, val documentId: String?)"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "edited": false, "score": 0, "creation_date": 1569880455, "post_id": 58165975, "comment_id": 102732164, "body": "soI did that and got this error:java.lang.NullPointerException: Attempt to invoke virtual method &#39;long java.util.Date.getTime()&#39; on a null object reference and a calendar error so I changed it to val dateString = dateFormatter.format(Date ()) now only the likeimage and current date and time is displaying in the emulator"}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "edited": false, "score": 0, "creation_date": 1569923679, "post_id": 58165975, "comment_id": 102744433, "body": "@SwiftstarTechnology You&#39;re getting a <code>NullPointerException</code> because <code>thought.timestamp</code> is apparently <code>null</code>. I forgot <code>timestamp</code> was nullable, my bad. I&#39;ve edited my answer and provided examples of dealing with nullable <code>timestamp</code> values. You may want to check <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">what a <code>NullPointerException</code> is</a> and <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">how to deal with <code>null</code>s safely in Kotlin</a>."}, {"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "edited": false, "score": 0, "creation_date": 1569949233, "post_id": 58165975, "comment_id": 102758334, "body": "Okay thank you. I have read the articles and I have made the amendments how ever now the Firebase data is not displaying anything in the emulator besides the likes images(which matches the amount of thoughts/post made)...Do you perhaps have a link to the code you used for this project? I just want to compare it to what I have please"}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "edited": false, "score": 0, "creation_date": 1569959666, "post_id": 58165975, "comment_id": 102762246, "body": "@SwiftstarTechnology I&#39;m sorry, but I haven&#39;t worked on such a project, I&#39;m just trying to help based on the information provided by you (and the author of the other question). If you are facing some other problems with Firebase, you should probably consider posting a new question describing the new issue as this one has become quite broad and a little drifted away from the original subject."}, {"owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "edited": false, "score": 0, "creation_date": 1569959967, "post_id": 58165975, "comment_id": 102762364, "body": "@jsamol...that is true thank you for all your assistance I really appreciate it"}], "tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": true, "score": 0, "last_activity_date": 1569923360, "last_edit_date": 1569923360, "creation_date": 1569839243, "answer_id": 58165975, "question_id": 58071108, "link": "https://stackoverflow.com/questions/58071108/my-application-keeps-on-crashing-when-i-enter-the-code-for-val-newthought/58165975#58165975", "title": "My Application keeps on crashing when I enter the code for val newthought", "body": "<p>You are getting an error because you are trying to invoke the <code>DateFormat.format()</code> method on an object that is of type <code>Timestamp</code> while the method only takes <code>Date</code> as an argument. </p>\n\n<p>If you are using the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/Timestamp\" rel=\"nofollow noreferrer\">Firebase <code>Timestamp</code></a> class, you can use the <code>Timestamp.toDate()</code> method in order to convert your object to <code>Date</code>:</p>\n\n<pre><code>val dateString = thought.timestamp?.let { dateFormatter.format(it.toDate()) } ?: \"\" // if `thought.timestamp` is null, `dateString` is an empty string\n</code></pre>\n\n<p>If you are using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\">Java <code>Timestamp</code></a>, you can convert it to <code>Date</code> like this:</p>\n\n<pre><code>val date = thought.timestamp?.let { Date(it.time) } // if `thought.timestamp` is null, `date` is also null\nval dateString = date?.let { dateFromatter.format(it) } ?: \"\" // if `date` is null, `dateString` is an empty string\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12096859, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBov3Bo_R5_3r4jlN_mJVLLaqYZjwQoY9zeWGds=k-s128", "display_name": "Swiftstar Technology", "link": "https://stackoverflow.com/users/12096859/swiftstar-technology"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 58165975, "answer_count": 1, "score": -1, "last_activity_date": 1569923360, "creation_date": 1569279320, "last_edit_date": 1569585166, "question_id": 58071108, "link": "https://stackoverflow.com/questions/58071108/my-application-keeps-on-crashing-when-i-enter-the-code-for-val-newthought", "title": "My Application keeps on crashing when I enter the code for val newthought", "body": "<p>My application runs fine(but still only displays 4 toggle buttons and FAB button) on the emulator until I enter this code:</p>\n\n<pre><code> val newThought = Thought(\n                name, timestamp, thoughtText, numberLikes?.toInt(),\n                numberComments?.toInt(), documentId\n            )\n\n   thoughts.add(newThought)\n</code></pre>\n\n<p>It seems that the above code causes the app to crash.</p>\n\n<p>I have tested each block of code on the emulator and it seems that only this part:</p>\n\n<pre><code> val newThought = Thought(\n                    name, timestamp, thoughtText, numberLikes?.toInt(),\n                    numberComments?.toInt(), documentId\n                )\n\n       thoughts.add(newThought)\n</code></pre>\n\n<p>causes my app to crash.</p>\n\n<p>My code: \n   package swiftstartechnology.co.myapplication</p>\n\n<pre><code>import android.content.Intent\nimport android.os.Bundle\nimport android.util.Log\nimport com.google.android.material.snackbar.Snackbar\nimport androidx.appcompat.app.AppCompatActivity\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.view.View\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport com.google.firebase.firestore.FieldValue\nimport com.google.fire\n</code></pre>\n\n<p>This is the error I get:</p>\n\n<pre><code>09/26 20:32:59: Launching 'app' on Pixel XL API 29.\n$ adb shell am start -n \"swiftstartechnology.co.myapplication/swiftstartechnology.co.myapplication.MainActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nWaiting for process to come online...\nConnected to process 6953 on device 'Pixel_XL_API_29 [emulator-5554]'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the \"Logcat output\" section of the \"Debugger\" settings page.\nV/FA: Registered activity lifecycle callback\nI/FirebaseInitProvider: FirebaseApp initialization successful\nD/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\nW/libc: Unable to set property \"qemu.gles\" to \"1\": connection failed; errno=13 (Permission denied)\nD/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\nD/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\nW/RenderThread: type=1400 audit(0.0:58): avc: denied { write } for name=\"property_service\" dev=\"tmpfs\" ino=6623 scontext=u:r:untrusted_app:s0:c130,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=swiftstartechnology.co.myapplication\nW/o.myapplicatio: JNI critical lock held for 22.800ms on Thread[16,tid=7009,Runnable,Thread*=0xd3be6000,peer=0x12f022e8,\"Measurement Worker\"]\nV/FA: onActivityCreated\nW/o.myapplicatio: JNI critical lock held for 19.007ms on Thread[1,tid=6953,Runnable,Thread*=0xea537800,peer=0x72d4f1f0,\"main\"]\nW/o.myapplicatio: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\nW/o.myapplicatio: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\nW/o.myapplicatio: Verification of java.lang.Object com.google.firebase.database.collection.ArraySortedMap.getPredecessorKey(java.lang.Object) took 198.119ms\nW/DynamiteModule: Local module descriptor class for providerinstaller not found.\nI/DynamiteModule: Considering local module providerinstaller:0 and remote module providerinstaller:0\nW/ProviderInstaller: Failed to load providerinstaller module: No acceptable module found. Local version is 0 and remote version is 0.\nD/ApplicationLoaders: Returning zygote-cached class loader: /system/framework/android.hidl.base-V1.0-java.jar\n    Returning zygote-cached class loader: /system/framework/android.hidl.manager-V1.0-java.jar\nD/ApplicationLoaders: Returning zygote-cached class loader: /system/framework/android.hidl.base-V1.0-java.jar\nI/o.myapplicatio: The ClassLoaderContext is a special shared library.\nI/chatty: uid=10130(swiftstartechnology.co.myapplication) AsyncTask #1 identical 1 line\nI/o.myapplicatio: The ClassLoaderContext is a special shared library.\nI/o.myapplicatio: The ClassLoaderContext is a special shared library.\nI/o.myapplicatio: Waiting for a blocking GC ClassLinker\nW/o.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getLong(Ljava/lang/Object;J)J (greylist,core-platform-api, linking, allowed)\nW/o.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;arrayBaseOffset(Ljava/lang/Class;)I (greylist,core-platform-api, linking, allowed)\n    Accessing hidden method Lsun/misc/Unsafe;-&gt;copyMemory(JJJ)V (greylist, linking, allowed)\n    Accessing hidden method Lsun/misc/Unsafe;-&gt;objectFieldOffset(Ljava/lang/reflect/Field;)J (greylist,core-platform-api, linking, allowed)\nW/o.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getByte(J)B (greylist,core-platform-api, linking, allowed)\n    Accessing hidden method Lsun/misc/Unsafe;-&gt;getByte(Ljava/lang/Object;J)B (greylist,core-platform-api, linking, allowed)\nW/o.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getLong(J)J (greylist,core-platform-api, linking, allowed)\nW/o.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putByte(JB)V (greylist,core-platform-api, linking, allowed)\n    Accessing hidden method Lsun/misc/Unsafe;-&gt;putByte(Ljava/lang/Object;JB)V (greylist,core-platform-api, linking, allowed)\nW/o.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getLong(Ljava/lang/Object;J)J (greylist,core-platform-api, reflection, allowed)\nW/o.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getLong(Ljava/lang/Object;J)J (greylist,core-platform-api, reflection, allowed)\n    Accessing hidden field Ljava/nio/Buffer;-&gt;address:J (greylist, reflection, allowed)\nW/o.myapplicatio: Verification of long com.google.android.gms.internal.measurement.zzji.zzak() took 349.930ms\nI/o.myapplicatio: WaitForGcToComplete blocked ClassLinker on ClassLinker for 209.257ms\nW/o.myapplicatio: Suspending all threads took: 13.153ms\nI/o.myapplicatio: Waiting for a blocking GC ClassLinker\nW/o.myapplicatio: Verification of boolean com.google.android.gms.internal.measurement.zzku.zza() took 355.009ms\nI/o.myapplicatio: Waiting for a blocking GC ProfileSaver\nI/o.myapplicatio: WaitForGcToComplete blocked ClassLinker on HeapTrim for 583.254ms\nI/o.myapplicatio: WaitForGcToComplete blocked ProfileSaver on ClassLinker for 198.166ms\nW/o.myapplicatio: Accessing hidden field Ldalvik/system/BaseDexClassLoader;-&gt;pathList:Ldalvik/system/DexPathList; (greylist, reflection, allowed)\nW/o.myapplicatio: Accessing hidden field Ldalvik/system/DexPathList;-&gt;nativeLibraryDirectories:Ljava/util/List; (greylist, reflection, allowed)\n    Accessing hidden field Ldalvik/system/DexPathList;-&gt;systemNativeLibraryDirectories:Ljava/util/List; (greylist, reflection, allowed)\n    Accessing hidden field Ldalvik/system/DexPathList;-&gt;nativeLibraryPathElements:[Ldalvik/system/DexPathList$NativeLibraryElement; (greylist, reflection, allowed)\nW/o.myapplicatio: Accessing hidden method Ldalvik/system/DexPathList;-&gt;makePathElements(Ljava/util/List;)[Ldalvik/system/DexPathList$NativeLibraryElement; (greylist, reflection, allowed)\nV/NativeCrypto: Registering com/google/android/gms/org/conscrypt/NativeCrypto's 284 native methods...\nW/o.myapplicatio: Accessing hidden method Ljava/security/spec/ECParameterSpec;-&gt;getCurveName()Ljava/lang/String; (greylist, reflection, allowed)\nW/o.myapplicatio: Verification of void com.google.android.gms.internal.measurement.zzlf.&lt;init&gt;() took 176.786ms\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nW/o.myapplicatio: Long monitor contention with owner Measurement Worker (7009) at java.lang.String com.google.android.gms.internal.measurement.zzji.zzd()(com.google.android.gms:play-services-measurement-impl@@17.2.0:3) waiters=0 in java.lang.Object com.google.android.gms.measurement.internal.zzem.zza(java.lang.Object) for 1.318s\nI/ProviderInstaller: Installed default security provider GmsCore_OpenSSL\nW/o.myapplicatio: Verification of int io.grpc.okhttp.OkHttpChannelBuilder.getDefaultPort() took 107.595ms\nI/Choreographer: Skipped 160 frames!  The application may be doing too much work on its main thread.\nW/o.myapplicatio: Verification of io.grpc.okhttp.OkHttpChannelBuilder io.grpc.okhttp.OkHttpChannelBuilder.keepAliveTime(long, java.util.concurrent.TimeUnit) took 101.259ms\nW/o.myapplicatio: Verification of java.util.List com.google.android.gms.measurement.internal.zzep.zza(int) took 435.406ms\nW/o.myapplicatio: Verification of io.grpc.okhttp.OkHttpChannelBuilder io.grpc.okhttp.OkHttpChannelBuilder.negotiationType(io.grpc.okhttp.NegotiationType) took 500.589ms\nW/o.myapplicatio: Verification of io.grpc.Status$Code io.grpc.internal.GrpcUtil.httpStatusToGrpcCode(int) took 320.140ms\nW/o.myapplicatio: Verification of boolean com.google.android.gms.measurement.internal.zzik.zzai() took 535.111ms\nW/o.myapplicatio: Verification of boolean com.google.common.base.Splitter.access$300(com.google.common.base.Splitter) took 337.455ms\nD/: HostConnection::get() New Host Connection established 0xd3b8eb40, tid 7010\nD/: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_YUV420_888_to_NV21 ANDROID_EMU_YUV_Cache GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_gles_max_version_3_0 \nW/o.myapplicatio: Verification of void com.google.android.gms.measurement.internal.zzik.zzal() took 251.289ms\nD/eglCodecCommon: setVertexArrayObject: set vao to 0 (0) 0 0\nD/EGL_emulation: eglCreateContext: 0xea57f8e0: maj 3 min 0 rcv 3\nD/EGL_emulation: eglMakeCurrent: 0xea57f8e0: ver 3 0 (tinfo 0xdf28a440)\nW/Gralloc3: mapper 3.x is not supported\nD/: createUnique: call\nD/: HostConnection::get() New Host Connection established 0xd3b903a0, tid 7010\nD/: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_YUV420_888_to_NV21 ANDROID_EMU_YUV_Cache GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_gles_max_version_3_0 \nD/eglCodecCommon: allocate: Ask for block of size 0x1000\n    allocate: ioctl allocate returned offset 0x3ff1e0000 size 0x2000\nW/o.myapplicatio: Verification of void com.google.android.gms.measurement.internal.zzjv.zzb() took 194.624ms\nD/EGL_emulation: eglMakeCurrent: 0xea57f8e0: ver 3 0 (tinfo 0xdf28a440)\nD/eglCodecCommon: setVertexArrayObject: set vao to 0 (0) 1 0\nW/o.myapplicatio: Verification of void com.google.android.gms.measurement.internal.zzjc.onServiceConnected(android.content.ComponentName, android.os.IBinder) took 163.351ms\nI/o.myapplicatio: Background young concurrent copying GC freed 8140(493KB) AllocSpace objects, 0(0B) LOS objects, 13% free, 2422KB/2793KB, paused 374.787ms total 2.351s\nV/FA: Collection enabled\nV/FA: App package, google app id: swiftstartechnology.co.myapplication, 1:51294462735:android:a6f65d170b19201821947a\nI/FA: App measurement is starting up, version: 18202\n    To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\nI/FA: To enable faster debug mode event logging run:\n      adb shell setprop debug.firebase.analytics.app swiftstartechnology.co.myapplication\nD/FA: Debug-level message logging enabled\nI/OpenGLRenderer: Davey! duration=6557ms; Flags=1, IntendedVsync=1141638312900, Vsync=1144304979460, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=1144319481200, AnimationStart=1144319666800, PerformTraversalsStart=1144321228600, DrawStart=1145997500100, SyncQueued=1146132897500, SyncStart=1146142956100, IssueDrawCommandsStart=1146143823000, SwapBuffers=1147827638000, FrameCompleted=1148205756100, DequeueBufferDuration=170000, QueueBufferDuration=2071000, \nW/o.myapplicatio: Verification of void androidx.appcompat.widget.LinearLayoutCompat.forceUniformWidth(int, int) took 128.277ms\nI/o.myapplicatio: Background concurrent copying GC freed 2881(238KB) AllocSpace objects, 0(0B) LOS objects, 49% free, 2440KB/4880KB, paused 2.465ms total 932.892ms\nW/o.myapplicatio: Verification of io.opencensus.stats.Measure$MeasureLong io.opencensus.stats.Measure$MeasureLong.create(java.lang.String, java.lang.String, java.lang.String) took 239.858ms\nW/o.myapplicatio: Verification of void io.grpc.Context$Storage.detach(io.grpc.Context, io.grpc.Context) took 179.086ms\nW/o.myapplicatio: JNI critical lock held for 104.996ms on Thread[1,tid=6953,Runnable,Thread*=0xea537800,peer=0x72d4f1f0,\"main\"]\nI/Choreographer: Skipped 289 frames!  The application may be doing too much work on its main thread.\nI/OpenGLRenderer: Davey! duration=5294ms; Flags=0, IntendedVsync=1144422475200, Vsync=1149239141674, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=1149249348400, AnimationStart=1149249643400, PerformTraversalsStart=1149465638200, DrawStart=1149474623100, SyncQueued=1149476670800, SyncStart=1149476925500, IssueDrawCommandsStart=1149477859000, SwapBuffers=1149639057700, FrameCompleted=1149716887500, DequeueBufferDuration=138000, QueueBufferDuration=1027000, \nI/Choreographer: Skipped 56 frames!  The application may be doing too much work on its main thread.\nW/o.myapplicatio: Verification of java.lang.Object com.google.android.gms.measurement.internal.zzo.createFromParcel(android.os.Parcel) took 292.576ms\nI/OpenGLRenderer: Davey! duration=1074ms; Flags=0, IntendedVsync=1149344427750, Vsync=1150277761046, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=1150283529400, AnimationStart=1150283978200, PerformTraversalsStart=1150285002400, DrawStart=1150285966600, SyncQueued=1150286778600, SyncStart=1150288325800, IssueDrawCommandsStart=1150288606100, SwapBuffers=1150319882100, FrameCompleted=1150420590000, DequeueBufferDuration=166000, QueueBufferDuration=613000, \nW/o.myapplicatio: Verification of io.opencensus.common.Scope io.opencensus.trace.SpanBuilder.startScopedSpan() took 160.703ms\nW/o.myapplicatio: Verification of void com.google.firebase.firestore.remote.FirestoreChannel$1.onClose(io.grpc.Status, io.grpc.Metadata) took 180.725ms\nW/o.myapplicatio: Accessing hidden field Ljava/net/Socket;-&gt;impl:Ljava/net/SocketImpl; (greylist, reflection, allowed)\nW/o.myapplicatio: Accessing hidden method Ldalvik/system/CloseGuard;-&gt;get()Ldalvik/system/CloseGuard; (greylist,core-platform-api, linking, allowed)\nW/o.myapplicatio: Accessing hidden method Ldalvik/system/CloseGuard;-&gt;open(Ljava/lang/String;)V (greylist,core-platform-api, linking, allowed)\nW/o.myapplicatio: Accessing hidden field Ljava/io/FileDescriptor;-&gt;descriptor:I (greylist, JNI, allowed)\nW/o.myapplicatio: Long monitor contention with owner Measurement Worker (7009) at void java.util.Hashtable$HashtableEntry.&lt;init&gt;(int, java.lang.Object, java.lang.Object, java.util.Hashtable$HashtableEntry)(Hashtable.java:1275) waiters=0 in com.google.firebase.iid.zzay com.google.firebase.iid.zzav.zzb(java.lang.String, java.lang.String, java.lang.String) for 286ms\nV/FA: Connecting to remote service\nW/o.myapplicatio: Accessing hidden method Ljava/security/spec/ECParameterSpec;-&gt;setCurveName(Ljava/lang/String;)V (greylist, reflection, allowed)\nW/o.myapplicatio: Accessing hidden method Lsun/security/x509/AlgorithmId;-&gt;get(Ljava/lang/String;)Lsun/security/x509/AlgorithmId; (greylist, reflection, allowed)\nW/o.myapplicatio: Accessing hidden method Lsun/security/x509/AlgorithmId;-&gt;getName()Ljava/lang/String; (greylist,core-platform-api, reflection, allowed)\nW/o.myapplicatio: Accessing hidden method Ldalvik/system/BlockGuard;-&gt;getThreadPolicy()Ldalvik/system/BlockGuard$Policy; (greylist,core-platform-api, linking, allowed)\nW/o.myapplicatio: Accessing hidden method Ldalvik/system/BlockGuard$Policy;-&gt;onNetwork()V (greylist, linking, allowed)\nV/FA: Connection attempt already in progress\nV/FA: Activity resumed, time: 1143917\nI/FA: Tag Manager is not found and thus will not be used\nD/FA: Logging event (FE): screen_view(_vs), Bundle[{ga_event_origin(_o)=auto, ga_screen_class(_sc)=MainActivity, ga_screen_id(_si)=181627382259492091}]\nV/FA: Connection attempt already in progress\nV/FA: Connection attempt already in progress\nD/FA: Connected to remote service\nV/FA: Processing queued up service tasks: 4\nW/Firestore: (21.1.1) [OnlineStateTracker]: Could not reach Cloud Firestore backend. Backend didn't respond within 10 seconds\n\n    This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\nW/o.myapplicatio: Accessing hidden method Landroid/graphics/FontFamily;-&gt;&lt;init&gt;()V (greylist, reflection, allowed)\nW/o.myapplicatio: Accessing hidden method Landroid/graphics/FontFamily;-&gt;addFontFromAssetManager(Landroid/content/res/AssetManager;Ljava/lang/String;IZIII[Landroid/graphics/fonts/FontVariationAxis;)Z (greylist, reflection, allowed)\n    Accessing hidden method Landroid/graphics/FontFamily;-&gt;addFontFromBuffer(Ljava/nio/ByteBuffer;I[Landroid/graphics/fonts/FontVariationAxis;II)Z (greylist, reflection, allowed)\n    Accessing hidden method Landroid/graphics/FontFamily;-&gt;freeze()Z (greylist, reflection, allowed)\n    Accessing hidden method Landroid/graphics/FontFamily;-&gt;abortCreation()V (greylist, reflection, allowed)\n    Accessing hidden method Landroid/graphics/Typeface;-&gt;createFromFamiliesWithDefault([Landroid/graphics/FontFamily;Ljava/lang/String;II)Landroid/graphics/Typeface; (greylist, reflection, allowed)\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: swiftstartechnology.co.myapplication, PID: 6953\n    java.lang.IllegalArgumentException: Cannot format given Object as a Date\n        at java.text.DateFormat.format(DateFormat.java:306)\n        at java.text.Format.format(Format.java:157)\n        at swiftstartechnology.co.myapplication.ThoughtsAdapter$ViewHolder.bindThought(ThoughtsAdapter.kt:42)\n        at swiftstartechnology.co.myapplication.ThoughtsAdapter.onBindViewHolder(ThoughtsAdapter.kt:25)\n        at swiftstartechnology.co.myapplication.ThoughtsAdapter.onBindViewHolder(ThoughtsAdapter.kt:13)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:6781)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:6823)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:5752)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6019)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5858)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5854)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2230)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1557)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1517)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:612)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3924)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3641)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4194)\n        at android.view.View.layout(View.java:21927)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1915)\n        at android.view.View.layout(View.java:21927)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at com.google.android.material.appbar.HeaderScrollingViewBehavior.layoutChild(HeaderScrollingViewBehavior.java:142)\n        at com.google.android.material.appbar.ViewOffsetBehavior.onLayoutChild(ViewOffsetBehavior.java:41)\n        at com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior.onLayoutChild(AppBarLayout.java:1556)\n        at androidx.coordinatorlayout.widget.CoordinatorLayout.onLayout(CoordinatorLayout.java:888)\n        at android.view.View.layout(View.java:21927)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:21927)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:21927)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:21927)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:21927)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:779)\n        at android.view.View.layout(View.java:21927)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\nE/AndroidRuntime:     at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3080)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2590)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1721)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7598)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:966)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:790)\n        at android.view.Choreographer.doFrame(Choreographer.java:725)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:951)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\nI/Process: Sending signal. PID: 6953 SIG: 9\nProcess 6953 terminated.\n</code></pre>\n\n<p>It seems that I am stuck here would really appreciate some enlightenment </p>\n"}, {"tags": ["kotlin", "function-reference"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 7, "creation_date": 1569276003, "post_id": 58070281, "comment_id": 102536890, "body": "There is an issue about this <a href=\"https://youtrack.jetbrains.com/issue/KT-8834\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 2, "creation_date": 1569276846, "post_id": 58070281, "comment_id": 102537100, "body": "I got it to work using <code>-XXLanguage:+NewInference</code> compiler argument as mentioned in that issue."}, {"owner": {"reputation": 1502, "user_id": 1066531, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8c13b418848b78b1a18233cddfa8c2b6?s=128&d=identicon&r=PG", "display_name": "Zymus", "link": "https://stackoverflow.com/users/1066531/zymus"}, "reply_to_user": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 2, "creation_date": 1569279819, "post_id": 58070281, "comment_id": 102537799, "body": "@gpunto want to make an answer so I can accept? Useful to know of the experimental tag, and the intention to be in a future version of Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 1502, "user_id": 1066531, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8c13b418848b78b1a18233cddfa8c2b6?s=128&d=identicon&r=PG", "display_name": "Zymus", "link": "https://stackoverflow.com/users/1066531/zymus"}, "is_accepted": true, "score": 1, "last_activity_date": 1579048943, "creation_date": 1579048943, "answer_id": 59743732, "question_id": 58070281, "link": "https://stackoverflow.com/questions/58070281/can-i-get-a-function-reference-to-a-function-with-default-parameters-in-kotlin/59743732#59743732", "title": "Can I get a function reference to a function with default parameters in Kotlin, as the parameterless function?", "body": "<p>As <a href=\"https://stackoverflow.com/users/1292745/gpunto\">gpunto</a> and <a href=\"https://stackoverflow.com/users/9241978/pawel\">Pawel</a> mentioned in the comments, using the <code>-XXLanguage:+NewInference</code> compiler argument allows function references with default values.</p>\n\n<p>The issue is tracked <a href=\"https://youtrack.jetbrains.com/issue/KT-8834\" rel=\"nofollow noreferrer\">here</a>, and is targeted for Kotlin 1.4.0.</p>\n"}], "owner": {"reputation": 1502, "user_id": 1066531, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8c13b418848b78b1a18233cddfa8c2b6?s=128&d=identicon&r=PG", "display_name": "Zymus", "link": "https://stackoverflow.com/users/1066531/zymus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 59743732, "answer_count": 1, "score": 9, "last_activity_date": 1579048943, "creation_date": 1569273283, "last_edit_date": 1569282633, "question_id": 58070281, "link": "https://stackoverflow.com/questions/58070281/can-i-get-a-function-reference-to-a-function-with-default-parameters-in-kotlin", "title": "Can I get a function reference to a function with default parameters in Kotlin, as the parameterless function?", "body": "<p>Is it possible to get a function reference to a function which has default parameters, specified as the parameterless call?</p>\n\n<p><code>InputStream.buffered()</code> is an extension method which transforms an <code>InputStream</code> into a <code>BufferedInputStream</code> with a buffer size of 8192 bytes.</p>\n\n<pre><code>public inline fun InputStream.buffered(bufferSize: Int = DEFAULT_BUFFER_SIZE): BufferedInputStream =\n    if (this is BufferedInputStream) this else BufferedInputStream(this, bufferSize)\n\n</code></pre>\n\n<p>I would like to effectively reference the extension method, with the default parameters, and pass that to another function.</p>\n\n<pre><code>fun mvce() {\n    val working: (InputStream) -&gt; InputStream = { it.buffered() }\n\n    val doesNotCompile: (InputStream) -&gt; BufferedInputStream = InputStream::buffered\n    val alsoDoesNotCompile: (InputStream) -&gt; InputStream = InputStream::buffered\n}\n</code></pre>\n\n<p><code>doesNotCompile</code> and <code>alsoDoesNotCompile</code> produce the following error</p>\n\n<blockquote>\n  <p>Type mismatch: inferred type is KFunction2 but (InputStream) -> BufferedInputStream was expected</p>\n  \n  <p>Type mismatch: inferred type is KFunction2 but (InputStream) -> InputStream was expected</p>\n</blockquote>\n\n<p>I understand the error is because <code>InputStream.buffered()</code> isn't actually <code>(InputStream) -&gt; BufferedInputStream</code>, but instead a shortcut for <code>(InputStream, Int) -&gt; BufferedInputStream</code>, passing the buffer size as a parameter to the BufferedInputStream constructor.</p>\n\n<p>The motivation is primarily style reasons, I'd rather use references that already exist, than create one at the last moment</p>\n\n<pre><code>val ideal: (InputStream) -&gt; BufferedInputStream = InputStream::buffered// reference extension method with default parameter\nval working: (InputStream) -&gt; BufferedInputStream = { it.buffered() }// create new (InputStream) -&gt; BufferedInputStream, which calls extension method\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-progressbar"], "answers": [{"tags": [], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "is_accepted": false, "score": 0, "last_activity_date": 1569275129, "creation_date": 1569275129, "answer_id": 58070585, "question_id": 58069986, "link": "https://stackoverflow.com/questions/58069986/how-to-make-my-progress-bar-animation-smoother/58070585#58070585", "title": "How to make my progress bar animation smoother?", "body": "<p>Solution is to just decrease the time interval for the CountDownTimer so that the progress bar will update more frequently and progress smoother.</p>\n\n<pre><code>btn.setOnTouchListener{ view, motionEvent -&gt;\n            progressBar.visibility = View.VISIBLE\n            progressBar.progress = 0\n            if(!isTimerRunning) {\n                object : CountDownTimer(5000L, 50L) {\n\n                    override fun onTick(p0: Long) {\n                        if (motionEvent.action == MotionEvent.ACTION_UP) {\n                            this.cancel()\n                        } else {\n                            val progress = 100 - ((p0.toFloat() / 5000f) * 100f).toInt()\n                            progressBar.progress = progress\n                        }\n                    }\n\n                    override fun onFinish() {\n                        progressBar.progress = 100\n                        Log.d(TAG, \"timer finished\")\n                    }\n                }.start()\n            }\n            true\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1569276328, "creation_date": 1569276328, "answer_id": 58070745, "question_id": 58069986, "link": "https://stackoverflow.com/questions/58069986/how-to-make-my-progress-bar-animation-smoother/58070745#58070745", "title": "How to make my progress bar animation smoother?", "body": "<p>I recommend using the built-in animation utilities to do this. They will let you specify whatever total duration you want, and take care of computing the right \"tick\" times and rates. You'll get smooth updates without having to do much manual work.</p>\n\n<pre><code>val animator = ObjectAnimator.ofInt(progressBar, \"progress\", 0, 100)\nanimator.interpolator = LinearInterpolator()\nanimator.duration = 5_000 // milliseconds\n\nbtn.setOnTouchListener { _, event -&gt;\n    when (event.action) {\n        MotionEvent.ACTION_DOWN -&gt; {\n            animator.start()\n            true\n        }\n        MotionEvent.ACTION_UP -&gt; {\n            animator.cancel()\n            progressBar.progress = 0\n            true\n        }\n        else -&gt; false\n    }\n}\n</code></pre>\n\n<p>This framework will also let you execute code when the progress is finished (or other events, like on animation start):</p>\n\n<pre><code>animator.addListener(object: AnimatorListenerAdapter() {\n    override fun onAnimationEnd(animation: Animator?) {\n        Toast.makeText(context, \"done\", Toast.LENGTH_SHORT).show()\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569289041, "creation_date": 1569271613, "last_edit_date": 1569289041, "question_id": 58069986, "link": "https://stackoverflow.com/questions/58069986/how-to-make-my-progress-bar-animation-smoother", "title": "How to make my progress bar animation smoother?", "body": "<p>My progress bar is implemented to when the button is pressed down, the progress bar increments. When the button is released, the progress bar resets. The progress bar right now is very glitchy looking. I think it is because it gets called every second and so it jumps like that. </p>\n\n<pre><code>        btn.setOnTouchListener{ view, motionEvent -&gt;\n            Toast.makeText(context, \"Long click detected\", Toast.LENGTH_SHORT).show()\n            progressBar.visibility = View.VISIBLE\n            var i = 0\n            progressBar.progress = i\n          val countdownTimer = object: CountDownTimer(5000L, 500L){\n\n               override fun onTick(p0: Long) {\n                   Log.d(TAG,\"button up\")\n                   Log.d(TAG, \"seconds: $p0\")\n                   if(motionEvent.action == MotionEvent.ACTION_UP){\n                       i = 0\n                       this.cancel()\n                   }else{\n                       i++\n                       progressBar.progress = i*100/(5000/1000)\n                   }\n               }\n\n               override fun onFinish() {\n                   Log.d(TAG, \"timer finished\")\n               }\n           }.start()\n            true\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZQfYU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZQfYU.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 1, "creation_date": 1569269760, "post_id": 58069053, "comment_id": 102534916, "body": "Hey, I added one-liner option to my answer also. Can you check it out?"}], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1569268347, "post_id": 58069194, "comment_id": 102534292, "body": "absolutely brilliant, thank you so much. Makes so much sense when you see the answer"}], "tags": [], "owner": {"reputation": 2956, "user_id": 8430649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e074258011c72401b1f2f3939f3689c?s=128&d=identicon&r=PG&f=1", "display_name": "S-Sh", "link": "https://stackoverflow.com/users/8430649/s-sh"}, "is_accepted": true, "score": 1, "last_activity_date": 1569268300, "last_edit_date": 1569268300, "creation_date": 1569267785, "answer_id": 58069194, "question_id": 58069053, "link": "https://stackoverflow.com/questions/58069053/set-of-random-numbers-between-x-and-y-needs-to-be-unique-using-kotlin/58069194#58069194", "title": "Set of random numbers between x and y, needs to be unique, using Kotlin", "body": "<p>You can populate set with manual checking items:</p>\n\n<pre><code>var cardNumbersCol1 = mutableSetOf&lt;Int&gt;()\nwhile (cardNumbersCol1.size &lt; 5) {\n  val item = (6..30).random()\n  cardNumbersCol1.add(item)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1569303087, "post_id": 58069254, "comment_id": 102542208, "body": "the 1 liner is perfect and will come in handy, thank you"}], "tags": [], "owner": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "is_accepted": false, "score": 2, "last_activity_date": 1569305459, "last_edit_date": 1569305459, "creation_date": 1569268059, "answer_id": 58069254, "question_id": 58069053, "link": "https://stackoverflow.com/questions/58069053/set-of-random-numbers-between-x-and-y-needs-to-be-unique-using-kotlin/58069254#58069254", "title": "Set of random numbers between x and y, needs to be unique, using Kotlin", "body": "<p><strong>Option 1:</strong> You can create <code>Set</code> because set cannot have duplicate elements by definition. Therefore, you won't need to worry about duplicate numbers:</p>\n\n<pre><code>val cardNumbersCol1 = mutableSetOf&lt;Int&gt;()\n\nwhile (cardNumbersCol1.size != 5) {\n    cardNumbersCol1.add(Random.nextInt(6, 30))\n}\n</code></pre>\n\n<p><strong>Option 2:</strong> You can generate range from 6 to 30 use <code>shuffled()</code> function to shuffle the list. Finally, you can take first 5 items from the list and they'll be unique also:</p>\n\n<pre><code>val cardNumbersCol1 = (6..30).shuffled().take(5).toSet()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 2, "last_activity_date": 1569271644, "last_edit_date": 1569271644, "creation_date": 1569271175, "answer_id": 58069905, "question_id": 58069053, "link": "https://stackoverflow.com/questions/58069053/set-of-random-numbers-between-x-and-y-needs-to-be-unique-using-kotlin/58069905#58069905", "title": "Set of random numbers between x and y, needs to be unique, using Kotlin", "body": "<p>Another approach is to use a sequence generator to produce a sequence of random Ints, and then filter by distinct and take the first few that you want:</p>\n\n<pre><code>fun randomGenerator(from: Int, \n                    until: Int, \n                    random: Random = Random.Default): Sequence&lt;Int&gt; = sequence {\n    while(true) {\n        yield(random.nextInt(from, until))\n    }\n}\n\nfun main() {\n    val someRandomInts: Set&lt;Int&gt; =\n        randomGenerator(6, 30)\n            .distinct()\n            .take(5)\n            .toSet()\n    println(someRandomInts)\n}\n</code></pre>\n\n<p>Or, you can define an extension function on <code>IntRange</code> to make this a bit prettier:</p>\n\n<pre><code>fun IntRange.randomSequence(random: Random = Random.Default): Sequence&lt;Int&gt; = sequence {\n    while(true) {\n        yield(this@randomSequence.random(random))\n    }\n}\n</code></pre>\n\n<p>And to use:</p>\n\n<pre><code>val someRandomInts: Set&lt;Int&gt; =\n    (6..30).randomSequence().distinct().take(5).toSet()\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "accepted_answer_id": 58069194, "answer_count": 3, "score": 1, "last_activity_date": 1569305459, "creation_date": 1569267186, "question_id": 58069053, "link": "https://stackoverflow.com/questions/58069053/set-of-random-numbers-between-x-and-y-needs-to-be-unique-using-kotlin", "title": "Set of random numbers between x and y, needs to be unique, using Kotlin", "body": "<p>in Kotlin, I'm trying to, for example, get 5 numbers into an Array, List or ArrayList, the 5 numbers to come from 6 to 30. Been looking online and I ended up getting the following to work, however it isn't picking unique numbers for the list, so it could pick something like 6,6,20,24,24.</p>\n\n<p><code>val cardNumbersCol1 = (1..5).map { (6..30).random() }</code></p>\n\n<p>Is there a better way to do this?</p>\n\n<p>I'm still learning as I go.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "fragment"], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 11257434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85Opo.jpg?s=128&g=1", "display_name": "Favour Felix Chinemerem", "link": "https://stackoverflow.com/users/11257434/favour-felix-chinemerem"}, "edited": false, "score": 0, "creation_date": 1569265898, "post_id": 58068721, "comment_id": 102533281, "body": "Thanks, I&#39;ll try this out"}], "tags": [], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "is_accepted": false, "score": 1, "last_activity_date": 1569265688, "creation_date": 1569265688, "answer_id": 58068721, "question_id": 58068666, "link": "https://stackoverflow.com/questions/58068666/how-to-share-properties-and-methods-between-fragments-in-main-activity/58068721#58068721", "title": "How to share properties and methods between Fragments in Main Activity", "body": "<p>Not without both Fragments sharing the same parent. you can create an instance of <code>Fragment</code> and call it <code>BaseFragment</code>, and then have both fragments that you're creating be children of <code>BaseFragment</code>. It won't be the same instance, but you'll have access to the same methods</p>\n\n<pre><code>        Fragment\n           |\n        BaseFragment &lt;- you create this and put the methods you want to share here\n            /\\\n           /  \\\n     FragmentA  FragmentB\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 782, "user_id": 11257434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85Opo.jpg?s=128&g=1", "display_name": "Favour Felix Chinemerem", "link": "https://stackoverflow.com/users/11257434/favour-felix-chinemerem"}, "edited": false, "score": 0, "creation_date": 1569301657, "post_id": 58068919, "comment_id": 102541831, "body": "What if I want to inherit a property from the <code>baseFragment</code> and increment it in the <code>firstFragment</code> will it reflect in the <code>secondFragment</code>? And if not, How do I make it possible?"}, {"owner": {"reputation": 349, "user_id": 5069256, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153344620274155/picture?type=large", "display_name": "stantronic", "link": "https://stackoverflow.com/users/5069256/stantronic"}, "reply_to_user": {"reputation": 782, "user_id": 11257434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85Opo.jpg?s=128&g=1", "display_name": "Favour Felix Chinemerem", "link": "https://stackoverflow.com/users/11257434/favour-felix-chinemerem"}, "edited": false, "score": 0, "creation_date": 1569339485, "post_id": 58068919, "comment_id": 102561614, "body": "Yes, you can have var properties in the SharedMethodsDelegate interface"}], "tags": [], "owner": {"reputation": 349, "user_id": 5069256, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153344620274155/picture?type=large", "display_name": "stantronic", "link": "https://stackoverflow.com/users/5069256/stantronic"}, "is_accepted": true, "score": 2, "last_activity_date": 1569266595, "creation_date": 1569266595, "answer_id": 58068919, "question_id": 58068666, "link": "https://stackoverflow.com/questions/58068666/how-to-share-properties-and-methods-between-fragments-in-main-activity/58068919#58068919", "title": "How to share properties and methods between Fragments in Main Activity", "body": "<p>One approach might be to make both fragments delegate to the same object, which is more inline with the principle of preferring composition over inheritance.</p>\n\n<p>Here is an example: </p>\n\n<pre><code>\n\nclass FragmentA : Fragment(), SharedMethodsDelegate by SharedMethods {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        sharedMethod()\n    }\n}\n\nclass FragmentB : Fragment(), SharedMethodsDelegate by SharedMethods {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        sharedMethod()\n    }\n}\n\n\ninterface SharedMethodsDelegate{\n    fun sharedMethod()\n}\n\nobject SharedMethods : SharedMethodsDelegate {\n    override fun sharedMethod() {\n      print(\"hey\")\n    }\n}\n\n</code></pre>\n\n<p>This approach would have the advantage of allowing you to use different base classes for your fragments. You could even use it to share methods between a fragment and an activity.</p>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "is_accepted": false, "score": 2, "last_activity_date": 1569275464, "creation_date": 1569275464, "answer_id": 58070627, "question_id": 58068666, "link": "https://stackoverflow.com/questions/58068666/how-to-share-properties-and-methods-between-fragments-in-main-activity/58070627#58070627", "title": "How to share properties and methods between Fragments in Main Activity", "body": "<p>Another method is to extract that logic into another object, and then use that object in both fragments. Unless the method is directly related to view manipulation, this would be what I suggest. It also makes the method more testable.</p>\n"}], "owner": {"reputation": 782, "user_id": 11257434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85Opo.jpg?s=128&g=1", "display_name": "Favour Felix Chinemerem", "link": "https://stackoverflow.com/users/11257434/favour-felix-chinemerem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 58068919, "answer_count": 3, "score": 0, "last_activity_date": 1569275464, "creation_date": 1569265497, "question_id": 58068666, "link": "https://stackoverflow.com/questions/58068666/how-to-share-properties-and-methods-between-fragments-in-main-activity", "title": "How to share properties and methods between Fragments in Main Activity", "body": "<p>I have two fragments in my <code>MainActivity</code>, I want to make the first fragment inherit a method from the second fragment. Is this possible?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-sqlite", "sqliteopenhelper"], "answers": [{"tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": true, "score": 1, "last_activity_date": 1569291275, "last_edit_date": 1569291275, "creation_date": 1569271360, "answer_id": 58069941, "question_id": 58068172, "link": "https://stackoverflow.com/questions/58068172/android-sqlite-database-copydatabase-function-paths/58069941#58069941", "title": "Android Sqlite Database copyDatabase function Paths", "body": "<p>Initially use Context's <code>getDatabasePath(\"databasename\");</code> to create a File object, then use the File's getParentFile to get the directory as a file and then as the basis of the OutputStream. All you need to do is hard code the database name (and the databases folder within the assets folder).</p>\n\n<p><a href=\"https://developer.android.com/reference/android/content/Context#getDatabasePath(java.lang.String)\" rel=\"nofollow noreferrer\">getDatabasePath</a></p>\n\n<p>e.g. something like :-</p>\n\n<pre><code>private fun dbcopy(context: Context) {\n\n    val dbfile = File(context.getDatabasePath(DATABASE_NAME).path)\n    if (!dbfile.parentFile.exists()) {\n        dbfile.parentFile.mkdirs()\n    }\n    try {\n        val os = FileOutputStream(dbfile)\n        // and so on\n    } catch (e: IOException) {\n\n    }\n\n}\n</code></pre>\n\n<p>P.S. there is no need to check the version, the above works for all versions that I'm aware of (albeit converted from Java).</p>\n\n<p>You would need to hard code <strong>databases</strong> when opening the asset as it's not a standard/pre-defined/must use folder.</p>\n\n<p>I tend to do the directory check and create as part of checking if the database exists e.g. :-</p>\n\n<pre><code>private fun checkDataBase(context: Context): Boolean {\n\n    val db = File(context.getDatabasePath(DATABASE_NAME).path) //Get the file name of the database\n    if (db.exists()) return true // If it exists then return doing nothing\n\n    val dbdir = db.parentFile\n    // If the directory does not exist then make the directory (and higher level directories)\n    if (!dbdir.exists()) {\n        db.parentFile.mkdirs()\n        dbdir.mkdirs()\n    }\n    return false\n}\n</code></pre>\n\n<p>The following is a complete helper (less any methods for accessing the database) that will copy the database from the assets databases folder, if the database doesn't exist :-</p>\n\n<pre><code>class MyDBHelper(internal var myContext: Context) : SQLiteOpenHelper(myContext, DATABASE_NAME, null, DATABASE_VERSION) {\n    internal var buffer_size = 1024 * 4\n\n    init {\n        if (!checkDataBase()) {\n            copyDataBase()\n        }\n    }\n\n    override fun onCreate(db: SQLiteDatabase) {}\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {}\n\n    private fun checkDataBase(): Boolean {\n\n        val db = File(myContext.getDatabasePath(DATABASE_NAME).path) //Get the file name of the database\n        Log.d(\"DBPATH\", \"DB Path is \" + db.path) //TODO remove for Live App\n        if (db.exists()) return true // If it exists then return doing nothing\n\n        // Get the parent (directory in which the database file would be)\n        val dbdir = db.parentFile\n        // If the directory does not exits then make the directory (and higher level directories)\n        if (!dbdir.exists()) {\n            db.parentFile.mkdirs()\n            dbdir.mkdirs()\n        }\n        return false\n    }\n\n    private fun copyDataBase() {\n        try {\n\n            val myInput = myContext.assets.open(\"databases\" + File.separator + DATABASE_NAME) // Open the Asset file\n            val outfile = File(myContext.getDatabasePath(DATABASE_NAME).toString())\n            val myOutput = FileOutputStream(outfile)\n            //transfer bytes from the inputfile to the outputfile\n            val buffer = ByteArray(buffer_size)\n            var length = myInput.read(buffer)\n            while (length &gt; 0) {\n                myOutput.write(buffer, 0, length)\n                length = myInput.read(buffer)\n            }\n            //Close the streams\n            myOutput.flush()\n            myOutput.close()\n            myInput.close()\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n\n    companion object {\n        private val DATABASE_NAME = \"thedatabase.db\"\n        private val DATABASE_VERSION = 1\n    }\n}\n</code></pre>\n\n<ul>\n<li>Note that rather than hard coding the File separator it too is obtained according to the system value.</li>\n</ul>\n"}], "owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 58069941, "answer_count": 1, "score": 0, "last_activity_date": 1569291275, "creation_date": 1569263201, "last_edit_date": 1569267511, "question_id": 58068172, "link": "https://stackoverflow.com/questions/58068172/android-sqlite-database-copydatabase-function-paths", "title": "Android Sqlite Database copyDatabase function Paths", "body": "<p>I am using the code below to copy the sqlite db, just wondering what is the correct coding for the paths as the Android Studio recommends not to hard code the paths as shown in the image attached. Most answers here also used hard coded /data/data paths.</p>\n\n<pre><code>    companion object {\n\n    private val DATABASE_VERSION = 1\n    private val DATABASE_NAME = \"books.db\"\n\n    @JvmStatic\n    fun copyDatabase(context: Context) {\n\n        LogUtil.loge(\"copyDatabase\")\n        try {\n            var dir = \"/data/data/\" + context.getPackageName() + \"/databases\"\n            if (Build.VERSION.SDK_INT &gt;= 24){\n                dir = context.dataDir.absolutePath + \"/databases/\"\n            }\n            if(!File(dir).exists()){\n                LogUtil.loge(\"databases dir not exist\")\n                File(dir).mkdir()\n            }\n            val outFileName = context.getDatabasePath(DATABASE_NAME)\n            val myOutput = FileOutputStream(outFileName)\n            val buffer = ByteArray(1024)\n            var length: Int\n            val myInput = context.assets.open(\"databases/$DATABASE_NAME\")\n            length = myInput.read(buffer)\n            while (length &gt; 0) {\n                myOutput.write(buffer, 0, length)\n                length = myInput.read(buffer)\n            }\n            myInput.close()\n            myOutput.flush()\n            myOutput.close()\n        } catch (e: IOException) {\n            e.printStackTrace()\n            LogUtil.loge(\"unable to copy database\")\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/d6CpS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d6CpS.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "spring-cloud", "spring-cloud-gateway"], "comments": [{"owner": {"reputation": 20141, "user_id": 2730527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9829cffffee70b8d4f48230d907837cf?s=128&d=identicon&r=PG", "display_name": "spencergibb", "link": "https://stackoverflow.com/users/2730527/spencergibb"}, "edited": false, "score": 0, "creation_date": 1569263797, "post_id": 58067365, "comment_id": 102532411, "body": "Did you know netty can log everything already? No need for a filter."}, {"owner": {"reputation": 1597, "user_id": 3263994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiAGI.jpg?s=128&g=1", "display_name": "Mardoz", "link": "https://stackoverflow.com/users/3263994/mardoz"}, "reply_to_user": {"reputation": 20141, "user_id": 2730527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9829cffffee70b8d4f48230d907837cf?s=128&d=identicon&r=PG", "display_name": "spencergibb", "link": "https://stackoverflow.com/users/2730527/spencergibb"}, "edited": false, "score": 0, "creation_date": 1569318806, "post_id": 58067365, "comment_id": 102549776, "body": "@spencergibb Are you referring to <code>-Dreactor.netty.http.server.accessLogEnabled=true</code>? As far as I can tell this isn&#39;t going to give me the body of the response and it also isn&#39;t going to let me configure different response status codes to log for different routes."}, {"owner": {"reputation": 2089, "user_id": 262036, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f6c7b8cc4bd0324d650f706d2f427d21?s=128&d=identicon&r=PG", "display_name": "Ajadex", "link": "https://stackoverflow.com/users/262036/ajadex"}, "edited": false, "score": 0, "creation_date": 1581265651, "post_id": 58067365, "comment_id": 106364902, "body": "Are you sure it&#39;s correctly applying the filter? I had a similar filter to that and the Config wasn&#39;t cast correctly because I was missing a call to the base constructor where I specified the Config I&#39;m going to use. Something like this:  constructor(): super(Config::class.java)"}], "owner": {"reputation": 1597, "user_id": 3263994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiAGI.jpg?s=128&g=1", "display_name": "Mardoz", "link": "https://stackoverflow.com/users/3263994/mardoz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 795, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569259444, "creation_date": 1569259444, "question_id": 58067365, "link": "https://stackoverflow.com/questions/58067365/only-applying-a-spring-cloud-gateway-filter-on-some-responses", "title": "Only applying a Spring Cloud Gateway filter on some responses", "body": "<p>I have a Spring Cloud Gateway service sitting in front of a number of backend services but currently it does not log very much. I wanted to log responses from backend services whenever they return unexpected response status codes but I've hit on the following problem.</p>\n\n<p>I can log the response body for requests using a modifyResponseBody filter and a RewriteFunction like so:</p>\n\n<pre><code>    .route(\"test\") { r -&gt;\n        r.path(\"/httpbin/**\")\n            .filters { f -&gt;\n                f.modifyResponseBody(String::class.java, String::class.java){ exchange, string -&gt;\n                    if(e.response.statusCode.is2xxSuccessful)println(\"Server error\")\n                    Mono.just(string)\n                }\n            }.uri(\"http://httpbin.org\")\n    }\n</code></pre>\n\n<p>My issue with this method is that I'm parsing the response ByteArray to a String on every response, with the overhead that implies, even though I'm just using the body string on a small subset of those responses.</p>\n\n<p>I've tried instead to implement a custom filter like so:</p>\n\n<pre><code>    .route(\"test2\") {r -&gt;\n        r.path(\"/httpbin2/**\")\n            .filters { f -&gt;\n                f.filter(LogUnexpectedResponseFilter()\n                     .apply(LogUnexpectedResponseFilter.Config(listOf(HttpStatus.OK))))\n            }.uri(\"http://httpbin.org\")\n    }\n</code></pre>\n\n<pre><code>class LogUnexpectedResponseFilter : AbstractGatewayFilterFactory&lt;LogUnexpectedResponseFilter.Config&gt;() {\n\n    val logger = LoggerFactory.getLogger(this::class.java)\n\n    override fun apply(config: Config?): GatewayFilter {\n\n        return GatewayFilter { exchange, chain -&gt;\n            logger.info(\"running custom filter\")\n\n            if (config?.errors!!.contains(exchange.response.statusCode)){\n                return@GatewayFilter ModifyResponseBodyGatewayFilterFactory().apply(ModifyResponseBodyGatewayFilterFactory.Config()\n                        .setInClass(String::class.java)\n                        .setOutClass(String::class.java)\n                        .setRewriteFunction(String::class.java, String::class.java) { _, body -&gt;\n                            logger.error(body)\n                            Mono.just(body)\n                        }).filter(exchange, chain)\n\n            } else {\n                chain.filter(exchange)\n            }\n\n        }\n\n    }\n\n    data class Config(val errors: List&lt;HttpStatus&gt;)\n\n}\n</code></pre>\n\n<p>What this is <em>supposed</em> to do is simply let the request pass through on most requests but apply the log filter on those that I have configured it to (although in this example I'm having it log on 200 status responses).</p>\n\n<p>What I'm seeing when I debug is that it correctly applies the right filter but the RewriteFunction inside it isn't being run at all. What am I missing?</p>\n"}, {"tags": ["android-studio", "kotlin", "material-design"], "answers": [{"comments": [{"owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "edited": false, "score": 0, "creation_date": 1569259238, "post_id": 58067196, "comment_id": 102530603, "body": "Yes but right now I need to find a way to get the duration of button pressed."}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "reply_to_user": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "edited": false, "score": 1, "creation_date": 1569259661, "post_id": 58067196, "comment_id": 102530755, "body": "<a href=\"https://stackoverflow.com/questions/22606977/how-can-i-get-button-pressed-time-when-i-holding-button-on\" title=\"how can i get button pressed time when i holding button on\">stackoverflow.com/questions/22606977/&hellip;</a> would be correct answer for your question"}], "tags": [], "owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "is_accepted": true, "score": 1, "last_activity_date": 1569258712, "creation_date": 1569258712, "answer_id": 58067196, "question_id": 58067132, "link": "https://stackoverflow.com/questions/58067132/how-to-increment-progress-bar-while-pressing-a-button/58067196#58067196", "title": "How to increment progress bar while pressing a button?", "body": "<p>you should create a custom progress bar which extends from ProgressBar as below:</p>\n\n<pre><code>public MyProgressBar extends ProgressBar\n{\n   @Override\n   public void setProgress(int progress)\n   {\n       super.setProgress(progress);\n       if(progress == this.getMax())\n       {\n           //invoke a function here\n       }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 58067196, "answer_count": 1, "score": 0, "last_activity_date": 1569258712, "creation_date": 1569258363, "question_id": 58067132, "link": "https://stackoverflow.com/questions/58067132/how-to-increment-progress-bar-while-pressing-a-button", "title": "How to increment progress bar while pressing a button?", "body": "<p>I am wanting to show a progress bar while holding down a button. Once the progress bar is completed, I want invoke a function. My problem is incrementing the progress bar while the button is being held down. My approach is to get the amount of time the button is pressed in seconds. Then use that time to correlate the progress. When the progress bar is complete, I will invoke another function. Right now the <code>onLongClickListener</code> is only being called once. I thought this would continually be called while the button was pressed. </p>\n\n<pre><code>        btn.setOnLongClickListener {\n            Toast.makeText(context, \"Long click detected\", Toast.LENGTH_SHORT).show()\n            var seconds =  System.currentTimeMillis()\n            Log.d(TAG, \"seconds: $seconds\")\n            progressBar.visibility = View.VISIBLE\n            true\n        }\n</code></pre>\n"}, {"tags": ["google-maps", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 10758035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/88Ab7.jpg?s=128&g=1", "display_name": "annkylah", "link": "https://stackoverflow.com/users/10758035/annkylah"}, "is_accepted": false, "score": 1, "last_activity_date": 1569557021, "creation_date": 1569557021, "answer_id": 58127726, "question_id": 58066884, "link": "https://stackoverflow.com/questions/58066884/how-to-zoom-in-on-the-actual-location-of-the-device/58127726#58127726", "title": "How to zoom in on the actual location of the device?", "body": "<p>Generally, you can change a map's zoom level by changing its camera position. According to this <a href=\"https://developers.google.com/maps/documentation/android-sdk/views#zoom\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p><code>To change the position of the camera, you must specify where you want to move the camera, using a CameraUpdate. The Maps API allows you to create many different types of CameraUpdate using CameraUpdateFactory.</code></p>\n</blockquote>\n\n<p>Since you did not provide your full code, let me insert samples below: </p>\n\n<ul>\n<li><p>If you want to keep all other maps properties to be the same and just change the zoom level, you can use this line:</p>\n\n<pre><code>//where zoomLevel is your preferred zoom level\nmMap.moveCamera(CameraUpdateFactory.zoomTo(zoomLevel)) \n</code></pre></li>\n<li><p>If you want to zoom a map on the location where the marker was placed, then below your <code>addMarker()</code> function, you can add this line to zoom your map on a <code>City</code> level:</p>\n\n<pre><code>// zoomLevel is set at 10 for a City-level view\nval zoomLevel = 10\n// latLng contains the coordinates where the marker is added\nmMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng,zoomLevel)) \n</code></pre>\n\n<p>Fun tip: <em>You can</em> <strong><em>animate</em></strong> <em>the camera view update if you use</em> <code>animateCamera()</code> <em>instead of using</em> <code>moveCamera()</code> </p></li>\n</ul>\n\n<p>For more information on Maps SDK for Android - <em>Camera and View</em> settings, please see <a href=\"https://developers.google.com/maps/documentation/android-sdk/views\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/views</a></p>\n"}, {"tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": 0, "last_activity_date": 1569557594, "creation_date": 1569557594, "answer_id": 58127799, "question_id": 58066884, "link": "https://stackoverflow.com/questions/58066884/how-to-zoom-in-on-the-actual-location-of-the-device/58127799#58127799", "title": "How to zoom in on the actual location of the device?", "body": "<p>Better you can optimize your code</p>\n\n<pre><code>override fun onMapReady(googleMap: GoogleMap) {\nLog.i(\"MAP READY\", \"READY\")\nval position = if (currentLocation != null) LatLng(currentLocation!!.latitude, \ncurrentLocation!!.longitude) else null\nthis.map = googleMap\n\ngetFineLocationPermission()\nthis.map?.let{\nit.setOnMarkerClickListener(this)\nit.uiSettings.isRotateGesturesEnabled = true\nit.uiSettings.isZoomGesturesEnabled = true\nit.setOnInfoWindowClickListener(this)\nit.setOnMapLongClickListener(this)\n//zooming into the map\nit.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLocation,zoomLevel)) \n}\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 12000870, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "YPLABS", "link": "https://stackoverflow.com/users/12000870/yplabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1601195178, "creation_date": 1569257241, "last_edit_date": 1601195178, "question_id": 58066884, "link": "https://stackoverflow.com/questions/58066884/how-to-zoom-in-on-the-actual-location-of-the-device", "title": "How to zoom in on the actual location of the device?", "body": "<p>I can not zoom in the current location of the device, could someone help me?\nany help is welcome.</p>\n<pre><code>override fun onMapReady(googleMap: GoogleMap) {\n    Log.i(&quot;MAP READY&quot;, &quot;READY&quot;)\n    val position = if (currentLocation != null) LatLng(currentLocation!!.latitude, currentLocation!!.longitude) else null\n    this.map = googleMap\n    \n    getFineLocationPermission()\n    this.map!!.setOnMarkerClickListener(this)\n    this.map!!.uiSettings.isRotateGesturesEnabled = true\n    this.map!!.uiSettings.isZoomGesturesEnabled = true\n    this.map!!.setOnInfoWindowClickListener(this)\n    this.map!!.setOnMapLongClickListener(this)\n\n\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/m8ung.png\" alt=\"enter image description here\" /></p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "is_accepted": false, "score": 5, "last_activity_date": 1569257376, "creation_date": 1569257376, "answer_id": 58066910, "question_id": 58066787, "link": "https://stackoverflow.com/questions/58066787/why-suspend-operator-fun-getvalue-not-supported-in-kotlin/58066910#58066910", "title": "why suspend operator fun getValue not supported in kotlin?", "body": "<p>The <code>getValue</code> operator is for implementing the getter of a <code>val</code>, and there is no such thing as a <code>suspend val</code> -- only a normal <code>val</code>.</p>\n\n<p>A <code>suspend fun</code> can't be called directly from a normal function, like the implementation of a getter -- so this <code>getValue</code> can't be used for its intended purpose.  Kotlin warns you of that by giving a compile error on an attempt to create a <code>suspend operator fun getValue</code>.</p>\n"}], "owner": {"reputation": 2070, "user_id": 5644120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1XCDt5CBSC0/AAAAAAAAAAI/AAAAAAAAAE8/_T4rHRf8OIA/photo.jpg?sz=128", "display_name": "Pritam Kadam", "link": "https://stackoverflow.com/users/5644120/pritam-kadam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569257376, "creation_date": 1569256903, "question_id": 58066787, "link": "https://stackoverflow.com/questions/58066787/why-suspend-operator-fun-getvalue-not-supported-in-kotlin", "title": "why suspend operator fun getValue not supported in kotlin?", "body": "<p>Why following signature gives <code>Unsupported [suspend operator \"getValue\"]</code> compilation error?</p>\n\n<pre><code>suspend operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T\n</code></pre>\n\n<p>Is it because of any technical limitation?</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1569252379, "creation_date": 1569252379, "answer_id": 58065658, "question_id": 58065168, "link": "https://stackoverflow.com/questions/58065168/tornadofx-fxtask-outofmemoryerror/58065658#58065658", "title": "TornadoFx FXTask OutOfMemoryError", "body": "<p>What you are doing where is creating new tasks in a tight loop, so obviously you'll run out of memory. The call for the nested <code>runAsync</code> will not wait, just execute again until the condition is false.</p>\n\n<p>Remove the inner <code>runAsync</code> and just do whatever you want to do, then call <code>runLater</code> if you want to update something on the UI thread.</p>\n"}, {"tags": [], "owner": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "is_accepted": false, "score": 0, "last_activity_date": 1569448103, "creation_date": 1569448103, "answer_id": 58106973, "question_id": 58065168, "link": "https://stackoverflow.com/questions/58065168/tornadofx-fxtask-outofmemoryerror/58106973#58106973", "title": "TornadoFx FXTask OutOfMemoryError", "body": "<p>I think I understand your problem. Your goal is to have only one search thread that doesn't get called if it is already running. Like Edvin said, looping the calling of async threads is really really bad. Not to mention, the nested threads might not even have a kill condition. This would be a simple solution but wouldn't this make more sense?:</p>\n\n<pre><code>val searchTask: Task&lt;YourReturnType&gt;? = null\nprivate fun search() {\n   if(searchTask?.isRunning != true) {\n      searchTask = runAsync {\n         //Do your search thread things\n      } ui { result -&gt;\n         //do things with your UI based on your result\n      }\n   }\n}\n</code></pre>\n\n<p>Similarly, if you want to have an old running search thread be replaced by a new one instead, you could try something like:</p>\n\n<pre><code>val searchTask: Task&lt;YourReturnType&gt;? = null\nprivate fun search() {\n   if(searchTask?.isRunning == true) {\n      searchTask?.cancel()\n      //You should probably do something to check if the cancel succeeded.\n   }\n   searchTask = runAsync {\n      //Do your search thread things\n   } ui { result -&gt;\n      //do things with your UI based on your result\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 340, "user_id": 11373502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a6a596c0dec14509997c012e983c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Mosch", "link": "https://stackoverflow.com/users/11373502/mosch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 58065658, "answer_count": 2, "score": 0, "last_activity_date": 1569448103, "creation_date": 1569250757, "last_edit_date": 1569252324, "question_id": 58065168, "link": "https://stackoverflow.com/questions/58065168/tornadofx-fxtask-outofmemoryerror", "title": "TornadoFx FXTask OutOfMemoryError", "body": "<p>So i have an interesting piece of code and i run into an OutOfMemoryError.</p>\n\n<p>So my problem is that i am creating inside my searchThread new threads which are searching again. This abviously creates an OutOfMemoryError but i wannted to use TornadoFX code only to solve that without any luck.</p>\n\n<pre><code>searchThread = runAsync {\n    while (!searchThread.isCancelled) {\n            runAsync {\n                // Searching for Sth\n            } ui {\n                // Updating UI \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>How can i get, if runAsync inside my search thread, is still running so i can skip the creation of an new thread?</p>\n"}, {"tags": ["android", "kotlin", "notifications", "android-notifications"], "comments": [{"owner": {"reputation": 3028, "user_id": 4679611, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6O1ac.jpg?s=128&g=1", "display_name": "Rakesh Sojitra", "link": "https://stackoverflow.com/users/4679611/rakesh-sojitra"}, "edited": false, "score": 0, "creation_date": 1591265732, "post_id": 58064829, "comment_id": 109992614, "body": "I am facing the same issue. Did you find any solution for this yet?"}, {"owner": {"reputation": 592, "user_id": 4067774, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Sbf94.jpg?s=128&g=1", "display_name": "Devenom", "link": "https://stackoverflow.com/users/4067774/devenom"}, "reply_to_user": {"reputation": 3028, "user_id": 4679611, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6O1ac.jpg?s=128&g=1", "display_name": "Rakesh Sojitra", "link": "https://stackoverflow.com/users/4679611/rakesh-sojitra"}, "edited": false, "score": 0, "creation_date": 1595531343, "post_id": 58064829, "comment_id": 111515567, "body": "Hi Rakesh. No I haven&#39;t found a solution yet"}, {"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1600915065, "post_id": 58064829, "comment_id": 113241708, "body": "same problem with Sharp Aquos s2 device, so bad china rom"}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "edited": false, "score": 0, "creation_date": 1609346862, "post_id": 58064829, "comment_id": 115820090, "body": "anybody found any solution yet?"}], "owner": {"reputation": 592, "user_id": 4067774, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Sbf94.jpg?s=128&g=1", "display_name": "Devenom", "link": "https://stackoverflow.com/users/4067774/devenom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569249569, "creation_date": 1569249569, "question_id": 58064829, "link": "https://stackoverflow.com/questions/58064829/android-custom-notification-sound-not-working-on-chinese-phones-like-redmi-and-v", "title": "Android custom notification sound not working on Chinese phones like Redmi and Vivo", "body": "<p>In my app I have created a channel to show <strong>custom notifications with a custom sound</strong>. It works fine on most phones. But there are 2 unexpected behaviors I faced on 2 different types of phones.</p>\n\n<p><strong>On some Redmi phones I face this behavior</strong>:</p>\n\n<p>The notification channel gets created but the sound is automatically turned off for that channel. I have to manually go and turn on the sound for that channel. I do not want that to be done manually.</p>\n\n<p><strong>On Vivo Phones I face these behaviors:</strong></p>\n\n<p>1) The notification channel gets created but plays the default notification sound instead of the custom sound I have set</p>\n\n<p>2) Sometimes it doesn't play any sound</p>\n\n<p>3) Static notifications that are supposed to remain fixed can be swiped the notification bar easily.</p>\n\n<p>Is there anyway I can fix these issues programmatically?</p>\n\n<p>This is my code for reference:</p>\n\n<pre><code>val attributes: AudioAttributes? = AudioAttributes.Builder()\n    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\n    .setUsage(AudioAttributes.USAGE_ALARM)\n    .build()\nval sound: Uri? = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + \"://\" + applicationContext.packageName + \"/\" + R.raw.notif)\n\nval vibrationPattern = longArrayOf(1000, 1000, 1000, 1000, 1000, 1000)\n\nval noisyChannel = NotificationChannel(\"NOISY_ID\", \"Noisy Channel\", NotificationManager.IMPORTANCE_HIGH)\nnoisyChannel.enableLights(true)\nnoisyChannel.enableVibration(true)\nnoisyChannel.lightColor = Color.RED\nnoisyChannel.setShowBadge(true)\nnoisyChannel.setSound(sound, attributes)\nnoisyChannel.setBypassDnd(true)\nnoisyChannel.enableVibration(true)\nnoisyChannel.lockscreenVisibility = VISIBILITY_PUBLIC\nnoisyChannel.setShowBadge(true)\nnoisyChannel.vibrationPattern = vibrationPattern\nnotificationManager.createNotificationChannel(noisyChannel)\n</code></pre>\n"}, {"tags": ["kotlin", "delegates", "coroutine", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 1135, "user_id": 6167844, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ngLbDdXE968/AAAAAAAAAAI/AAAAAAAAAC8/u-537tKvkvY/photo.jpg?sz=128", "display_name": "Dominic Fischer", "link": "https://stackoverflow.com/users/6167844/dominic-fischer"}, "is_accepted": false, "score": 1, "last_activity_date": 1569251237, "creation_date": 1569251237, "answer_id": 58065311, "question_id": 58064438, "link": "https://stackoverflow.com/questions/58064438/is-there-a-way-to-write-suspendable-delegated-property-in-kotlin/58065311#58065311", "title": "Is there a way to write suspendable delegated property in kotlin?", "body": "<p>In general properties should be simple and should return quickly. They shouldn't be exposing anything to warrant suspension but that's only an opinion.</p>\n\n<p>There's no way to do this right now but there's a YouTrack issue <a href=\"https://youtrack.jetbrains.com/issue/KT-20414\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://youtrack.jetbrains.com/issue/KT-15555\" rel=\"nofollow noreferrer\">here</a> concerning this.</p>\n\n<p>You could also try using <code>runBlocking</code> or <code>GlobalScope.launch</code> which might suit your needs.</p>\n"}], "owner": {"reputation": 2070, "user_id": 5644120, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1XCDt5CBSC0/AAAAAAAAAAI/AAAAAAAAAE8/_T4rHRf8OIA/photo.jpg?sz=128", "display_name": "Pritam Kadam", "link": "https://stackoverflow.com/users/5644120/pritam-kadam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569251237, "creation_date": 1569248125, "question_id": 58064438, "link": "https://stackoverflow.com/questions/58064438/is-there-a-way-to-write-suspendable-delegated-property-in-kotlin", "title": "Is there a way to write suspendable delegated property in kotlin?", "body": "<p>I was trying to implement something similar to <a href=\"https://www-csr.bessy.de/control/SoftDist/sequencer/Tutorial.html\" rel=\"nofollow noreferrer\">Process Variables</a> using special feature called <code>delegate</code> provided by kotlin.</p>\n\n<p>Let's take following simple use case:</p>\n\n<ul>\n<li>I have two variables called <code>var voltage: Float</code> and <code>var light: Boolean</code></li>\n<li>When <code>voltage</code> becomes greater than 5.0, I want to turn on light</li>\n<li>When <code>voltage</code> becomes less than 5.0, I want to turn off light</li>\n</ul>\n\n<p>Note each variable change needs to publish changed value (involves network call)</p>\n\n<p>Above use case is captured in following code snippet</p>\n\n<pre><code>    suspend fun publishLightStatus(status: Boolean): Unit = TODO()\n    suspend fun publishVoltage(voltage: Float): Unit = TODO()\n\n    fun subscribeToVoltage(block: (Float) -&gt; Unit): Unit = TODO()\n\n    var light: Boolean by Delegates.observable(false) { _, _, n -&gt;\n        publishLightStatus(n)\n    }\n\n    var voltage: Float by Delegates.observable(0F) { _, _, n -&gt;\n        if(n &gt; 5.0) light = true\n        else if (n &lt; 5.0) light = false\n\n        publishVoltage(n)\n    }\n\n    // usage\n    subscribeToVoltage {\n        voltage = it\n    }\n\n</code></pre>\n\n<p>Above code does not compile because currently <code>property delegates</code> does not support suspensions.\n<code>getValue</code> and <code>setValue</code> function from <code>ReadWriteProperty</code> are not suspendable.\nAlso <code>suspend operator getValue()</code> syntax is not supported.</p>\n\n<p><strong>Is there a way I can get around with this?</strong>\nI really do not want to compromise with usage site code.\nAnother important thing, <code>voltage = it</code> this should return when <code>publishVoltage(n)</code> call finished.</p>\n"}]