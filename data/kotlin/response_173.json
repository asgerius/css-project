[{"tags": ["android", "kotlin", "android-download-manager"], "owner": {"reputation": 1956, "user_id": 2027146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/mrrIp.jpg?s=128&g=1", "display_name": "Milk", "link": "https://stackoverflow.com/users/2027146/milk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525302459, "creation_date": 1525302459, "question_id": 50144765, "link": "https://stackoverflow.com/questions/50144765/android-not-toasting-in-broadcastreceiver", "title": "Android not toasting in BroadcastReceiver", "body": "<p>I have a BroadcastReceiver that is supposed to make a toast when a download has finished, as follows:</p>\n\n<pre><code>class DownloadBroadcastReceiver: BroadcastReceiver() {\n\n    override fun onReceive(context: Context, intent: Intent) {\n        if (DownloadManager.ACTION_DOWNLOAD_COMPLETE == intent.action) {\n            Toast.makeText(context, R.string.toast_save_successful, Toast.LENGTH_SHORT).show()\n            Log.d(\"DownloadBroadcastReceir\", \"toasted\")\n        }\n    }\n}\n</code></pre>\n\n<p>I can see the debug message in the logs but the toast does not appear. </p>\n\n<p>Is there something obvious I am missing here?</p>\n\n<p><strong>For context</strong>, here is the call to the downloader service:</p>\n\n<pre><code>val downloader = DownloadManager.Request(uri)\ndownloader.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE or DownloadManager.Request.NETWORK_WIFI)\n        .setDestinationInExternalPublicDir(destinationLocation)\n        .setAllowedOverRoaming(true)\n        .setTitle(filename)\n        .setDescription(resources.getString(R.string.downloader_description, sourceFilename))\n\n(saverActivity.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager).enqueue(downloader)\n</code></pre>\n\n<p>Here it is registered in the manifest:</p>\n\n<pre><code>&lt;receiver android:name=\".receiver.DownloadBroadcastReceiver\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.DOWNLOAD_COMPLETE\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>The application has usually closed by the time the download has finished. Does that make a difference?</p>\n"}, {"tags": ["collections", "functional-programming", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 26710, "user_id": 705676, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e991d2f490ff558d6ce74a313c65d38d?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 \u0160rajer", "link": "https://stackoverflow.com/users/705676/micha%c5%82-%c5%a0rajer"}, "edited": false, "score": 0, "creation_date": 1525336791, "post_id": 50144426, "comment_id": 87318834, "body": "I like it&#39;s indeed simplified and as single expression. BTW, Any Idea how/if using lambda in the loop affects performance compared to raw imperative loop?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1525342303, "post_id": 50144426, "comment_id": 87322482, "body": "Since <code>apply</code> is an <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\"><code>inline</code> function</a>, its usage in the loop does not affect performance."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 1, "last_activity_date": 1525299884, "creation_date": 1525299884, "answer_id": 50144426, "question_id": 50144217, "link": "https://stackoverflow.com/questions/50144217/collapse-list-of-int-to-list-of-ranges-in-kotlin/50144426#50144426", "title": "collapse list of int to list of ranges in kotlin", "body": "<p>My solution doesn't look much different, but I was able to fix your empty list issue:</p>\n\n<pre><code>val out = ints.fold(mutableListOf&lt;IntRange&gt;()) { acc, next -&gt;\n    acc.apply {\n        if(isNotEmpty() &amp;&amp; last().endInclusive.inc() == next) {\n            this[lastIndex] = this[lastIndex].start .. next\n        } else {\n            add(next..next)\n        }\n    }\n}\n</code></pre>\n\n<p>It's also a bit less mapping, and using apply takes away some of the verbosity and having to refer to <code>acc</code> at the end.</p>\n"}, {"comments": [{"owner": {"reputation": 26710, "user_id": 705676, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e991d2f490ff558d6ce74a313c65d38d?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 \u0160rajer", "link": "https://stackoverflow.com/users/705676/micha%c5%82-%c5%a0rajer"}, "edited": false, "score": 0, "creation_date": 1525337203, "post_id": 50144449, "comment_id": 87319081, "body": "I like you solution. Thanks @hotkey for the valuable tips. I was having hard time picking answer to accept. Picked Todd&#39;s for single expression. I know yours can be transformed as well via <code>apply</code>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 26710, "user_id": 705676, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e991d2f490ff558d6ce74a313c65d38d?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 \u0160rajer", "link": "https://stackoverflow.com/users/705676/micha%c5%82-%c5%a0rajer"}, "edited": false, "score": 1, "creation_date": 1525342399, "post_id": 50144449, "comment_id": 87322542, "body": "No problem. Though I personally think that adding another nesting level and making the receiver implicit with <code>apply</code> may reduce readability, this is rather opinion-based judgement."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1525300754, "last_edit_date": 1525300754, "creation_date": 1525300010, "answer_id": 50144449, "question_id": 50144217, "link": "https://stackoverflow.com/questions/50144217/collapse-list-of-int-to-list-of-ranges-in-kotlin/50144449#50144449", "title": "collapse list of int to list of ranges in kotlin", "body": "<p>Since you actually mutate the <code>acc</code> and return the same list of ranges at all iterations of <code>fold</code>, you may not really need the <code>fold</code>, that is, <code>forEach</code> is enough.</p>\n\n<p>Then, mapping each number to <code>it..it</code> seems to be redundant here.</p>\n\n<p>Taking the two notes above into account leads to the following, a bit simplified, version of your solution:</p>\n\n<pre><code>val result = mutableListOf&lt;IntRange&gt;()\nints.forEach {\n    val lastRange = result.lastOrNull()\n    if (lastRange?.endInclusive == it - 1)\n        result[result.lastIndex] = lastRange.first..it\n    else\n        result += it..it\n}\n</code></pre>\n"}], "owner": {"reputation": 26710, "user_id": 705676, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e991d2f490ff558d6ce74a313c65d38d?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 \u0160rajer", "link": "https://stackoverflow.com/users/705676/micha%c5%82-%c5%a0rajer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 1, "accepted_answer_id": 50144426, "answer_count": 2, "score": 3, "last_activity_date": 1525300754, "creation_date": 1525298728, "question_id": 50144217, "link": "https://stackoverflow.com/questions/50144217/collapse-list-of-int-to-list-of-ranges-in-kotlin", "title": "collapse list of int to list of ranges in kotlin", "body": "<p>I have a list of ints that needs to be compressed to list of int ranges without loosing any information (there must be a way to reverse this operation).</p>\n\n<p>Currently I have:</p>\n\n<pre><code>val ints = listOf(8, 9, 45, 48, 49, 60, 61, 61, 62, 63, 3, 4, 5, 4, 5, 6)\nval out = ints\n        .map { it..it }\n        .fold(mutableListOf(ints[0]..(ints[0] - 1)),\n                { acc, next -&gt;\n                    val prev = acc.last()\n                    if (prev.last + 1 == next.first) {\n                        acc[acc.lastIndex] = prev.first..next.last\n                    } else {\n                        acc.add(next)\n                    }\n                    acc\n                }).toList()\n</code></pre>\n\n<p>That correctly produces:</p>\n\n<pre><code>[8..9, 45..45, 48..49, 60..61, 61..63, 3..5, 4..6]\n</code></pre>\n\n<p>There are two aspects I dislike in my solution though,</p>\n\n<ol>\n<li><p>it does not work for empty list because of fold's initial value</p></li>\n<li><p>it's quite verbose for kotlin. I have a feeling that this can be resolved in bit nicer way.</p></li>\n</ol>\n\n<p>So, the question is how to fix 1 and/or 2?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-custom-view", "android-viewmodel"], "answers": [{"comments": [{"owner": {"reputation": 837, "user_id": 4052264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AWiAQ.png?s=128&g=1", "display_name": "Gregriggins36", "link": "https://stackoverflow.com/users/4052264/gregriggins36"}, "edited": false, "score": 0, "creation_date": 1525367420, "post_id": 50154640, "comment_id": 87338783, "body": "Thanks Rafael, this worked! I&#39;m getting the activity with the following code <code>val activity: AppCompatActivity = (context as ContextThemeWrapper).baseContext as AppCompatActivity</code> <code>binding.setLifecycleOwner(activity)</code>"}, {"owner": {"reputation": 932, "user_id": 834785, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/cf97e9f2a8998136efa76fd7dcf0cc34?s=128&d=identicon&r=PG&f=1", "display_name": "CodingTT", "link": "https://stackoverflow.com/users/834785/codingtt"}, "edited": false, "score": 0, "creation_date": 1592904038, "post_id": 50154640, "comment_id": 110584553, "body": "How to support two way databinding?"}], "tags": [], "owner": {"reputation": 366, "user_id": 773893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e042b175e1593df296c1d8f3f85963?s=128&d=identicon&r=PG", "display_name": "fukuda", "link": "https://stackoverflow.com/users/773893/fukuda"}, "is_accepted": true, "score": 7, "last_activity_date": 1525375440, "last_edit_date": 1525375440, "creation_date": 1525348916, "answer_id": 50154640, "question_id": 50144097, "link": "https://stackoverflow.com/questions/50144097/android-data-binding-inject-viewmodel-in-custom-view/50154640#50154640", "title": "Android data binding inject ViewModel in custom view", "body": "<p>The missing piece is to set a <a href=\"https://developer.android.com/reference/android/databinding/ViewDataBinding#setlifecycleowner\" rel=\"noreferrer\">Lifecycle Owner</a>.</p>\n\n<pre><code>binding.setLifecycleOwner(parent) //parent should be a fragment or an activity\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2242, "user_id": 2184088, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/6l6Ci.png?s=128&g=1", "display_name": "Juan Mendez", "link": "https://stackoverflow.com/users/2184088/juan-mendez"}, "is_accepted": false, "score": 5, "last_activity_date": 1550021993, "creation_date": 1550021993, "answer_id": 54661231, "question_id": 50144097, "link": "https://stackoverflow.com/questions/50144097/android-data-binding-inject-viewmodel-in-custom-view/54661231#54661231", "title": "Android data binding inject ViewModel in custom view", "body": "<p>The answered helped me and want to throw a util method you can add to get the <code>LifeCycleOwner</code></p>\n\n<pre><code>fun getLifeCycleOwner(view: View): LifecycleOwner? {\n    var context = view.context\n\n    while (context is ContextWrapper) {\n        if (context is LifecycleOwner) {\n            return context\n        }\n        context = context.baseContext\n    }\n\n    return null\n}\n</code></pre>\n\n<p>In your view:</p>\n\n<pre><code>getLifeCycleOwner(this)?.let{\n   binding.setLifecycleOwner(it)\n}\n</code></pre>\n"}], "owner": {"reputation": 837, "user_id": 4052264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AWiAQ.png?s=128&g=1", "display_name": "Gregriggins36", "link": "https://stackoverflow.com/users/4052264/gregriggins36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6121, "favorite_count": 1, "accepted_answer_id": 50154640, "answer_count": 2, "score": 11, "last_activity_date": 1550021993, "creation_date": 1525298037, "question_id": 50144097, "link": "https://stackoverflow.com/questions/50144097/android-data-binding-inject-viewmodel-in-custom-view", "title": "Android data binding inject ViewModel in custom view", "body": "<p>I'm going off this stackoverflow answer <a href=\"https://stackoverflow.com/a/34817565/4052264\">https://stackoverflow.com/a/34817565/4052264</a> to tie a data object to a custom view. However, after everything's set up my view is not being updated with the data and instead the <code>TextView</code> stays blank.\nHere's my code (simplified, for the sake of fitting in here):<br/>\n<br/><code>activity_profile.xml</code>:</p>\n\n<pre><code>&lt;layout xmlns...&gt;\n    &lt;data&gt;\n        &lt;variable name=\"viewModel\" type=\"com.example.ProfileViewModel\"/&gt;\n    &lt;/data&gt;\n    &lt;com.example.MyProfileCustomView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:viewModel=\"@{viewModel}\"&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><br/>\n<code>view_profile.xml</code>:</p>\n\n<pre><code>&lt;layout xmlns...&gt;\n    &lt;data&gt;\n        &lt;variable name=\"viewModel\" type=\"com.example.ProfileViewModel\"/&gt;\n    &lt;/data&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@{viewModel.name}\"&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><br/></p>\n\n<p><code>MyProfileCustomView.kt</code>:</p>\n\n<pre><code>class MyProfileCustomView : FrameLayout {\n    constructor...\n\n    private val binding: ViewProfileBinding = ViewProfileBinding.inflate(LayoutInflater.from(context), this, true)\n\n    fun setViewModel(profileViewModel: ProfileViewModel) {\n        binding.viewModel = profileViewModel\n    }\n}\n</code></pre>\n\n<p><br/><br/>\n<code>ProfileViewModel.kt</code>:</p>\n\n<pre><code>class ProfileViewModel(application: Application) : BaseViewModel(application) {\n    val name = MutableLiveData&lt;String&gt;()\n\n    init {\n        profileManager.profile()\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(::onProfileSuccess, Timber::d)\n    }\n\n    fun onProfileSuccess(profile: Profile) {\n        name.postValue(profile.name)\n    }\n}\n</code></pre>\n\n<p>Everything works fine, the API call to <code>profileManager.profile()</code> is successful, the <code>ViewProfileBinding</code> class is successfully created with the right setup. The issue is when I do <code>name.postValue(profile.name)</code> the view is not updated with the value of <code>profile.name</code></p>\n"}, {"tags": ["kotlin", "kotlin-exposed"], "answers": [{"tags": [], "owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "is_accepted": true, "score": 1, "last_activity_date": 1525416589, "creation_date": 1525416589, "answer_id": 50168863, "question_id": 50143775, "link": "https://stackoverflow.com/questions/50143775/how-do-i-search-from-multiple-tables-with-dao/50168863#50168863", "title": "How do I search from multiple tables with DAO?", "body": "<pre><code>val bets = Bet.wrapRows(\n    Bets.innerJoin(Matches).innerJoin(Leagues).select {\n        Bets.user eq X.id and (Leagues.name eq \"Y\"  \n    }\n).toList()\n</code></pre>\n"}], "owner": {"reputation": 4366, "user_id": 26734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb1242a02aa37e0cbf5316753cbab15c?s=128&d=identicon&r=PG", "display_name": "Tatu Lahtela", "link": "https://stackoverflow.com/users/26734/tatu-lahtela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 1, "accepted_answer_id": 50168863, "answer_count": 1, "score": 0, "last_activity_date": 1525416589, "creation_date": 1525296409, "question_id": 50143775, "link": "https://stackoverflow.com/questions/50143775/how-do-i-search-from-multiple-tables-with-dao", "title": "How do I search from multiple tables with DAO?", "body": "<p>Say I have tables like this:</p>\n\n<pre><code>object Leagues : IntIdTable() {\n   val name = varchar(\"name\", 50).uniqueIndex()\n}\nobject Matches: IntIdTable() {\n   val game = reference(\"game\", Games)\n}\nobject Users: IntIdTable() {\n   val name = varchar(\"name\", 50).uniqueIndex()\n}\nobject Bets: IntIdTable() {\n   val match = reference(\"match\", Matches)\n   val user = reference(\"user\", Users)\n}\n</code></pre>\n\n<p>Daos are in the lines of:</p>\n\n<pre><code>class Bet(id: EntityID&lt;Int&gt;) : IntEntity(id) {\n   companion object : IntEntityClass&lt;Bet&gt;(Bets)\n\n   var match by Bets.match\n   var user by Bets.user\n}\n</code></pre>\n\n<p>How do I write the dao or the query for the Bets class so I can query \"give me all bets player X has made in league Y\". <code>Bet.find { (user eq X) and (/* what here to get the leagues table ? */) }</code></p>\n"}, {"tags": ["android", "push-notification", "kotlin", "android-pendingintent"], "comments": [{"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1525297073, "post_id": 50143366, "comment_id": 87306081, "body": "&quot;Result code&quot; is something that comes back from starting an activity for result. I assume you mean pending intent request code. You may want to update your question accordingly."}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1525298064, "post_id": 50143366, "comment_id": 87306444, "body": "@JeffreyBlattman yes, you are right, I mean request code, will update the question"}], "answers": [{"comments": [{"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1525298201, "post_id": 50143887, "comment_id": 87306483, "body": "ok I see, should I just use an incremental request code or should I find some criteria and build it from there?"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 1, "creation_date": 1525298582, "post_id": 50143887, "comment_id": 87306608, "body": "If it makes sense for your app an incremental request code is fine. If you have some Alarms that are always the same you can use the same code for them, that way only you can make sure that only one alarm of that type can be present at a time."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 2, "creation_date": 1525298806, "post_id": 50143887, "comment_id": 87306683, "body": "One thing, if you use Fragments the code must be below 65535 see <a href=\"https://stackoverflow.com/questions/33331073/android-what-to-choose-for-requestcode-values/33331459\" title=\"android what to choose for requestcode values\">stackoverflow.com/questions/33331073/&hellip;</a>"}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1525298948, "post_id": 50143887, "comment_id": 87306733, "body": "I will keep that in mind and implement this tomorrow, thanks a lot"}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1525348164, "post_id": 50143887, "comment_id": 87326170, "body": "ok I found a way to have a unique <code>requestCode</code> for every notification, what are the &quot;other information&quot; I need to store that you are talking about exactly? Now quite getting how to cancel the intent"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1525357281, "post_id": 50143887, "comment_id": 87332465, "body": "see <a href=\"https://developer.android.com/reference/android/app/AlarmManager.html#cancel(android.app.PendingIntent)\" rel=\"nofollow noreferrer\"><code>AlarmManager.cancel(android.app.PendingIntent)</code></a>"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": true, "score": 2, "last_activity_date": 1525296908, "creation_date": 1525296908, "answer_id": 50143887, "question_id": 50143366, "link": "https://stackoverflow.com/questions/50143366/android-what-is-the-correct-way-of-keeping-track-of-multiple-pendingintents/50143887#50143887", "title": "Android - What is the correct way of keeping track of multiple PendingIntents?", "body": "<p>It is not possible to query the <code>AlarmManager</code> for the  <code>PendingIntent</code>s. You must store the <code>resultCode</code> and other information to recreate the <code>PendingIntent</code> in order to delete it. </p>\n\n<p>For example in <a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\"><code>SharedPreferences</code></a> or in a database like SqliteDB or Room. Then you can recreate the PendingIntent to cancel it. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/4315611/android-get-all-pendingintents-set-with-alarmmanager\">how to cancel PendingIntent</a>. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/29520951/how-does-android-compare-pending-intents\">How does android compare pending intents</a> for details on what fields are important when comparing the intents for deletion.</p>\n"}, {"comments": [{"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1525297326, "post_id": 50143925, "comment_id": 87306178, "body": "That will fail if your process is killed. You will lose your static counter. It&#39;s also not clear why you&#39;d write the value to the DB if you never read it."}, {"owner": {"reputation": 667, "user_id": 6192934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTlQH.jpg?s=128&g=1", "display_name": "Pierre Ghaly", "link": "https://stackoverflow.com/users/6192934/pierre-ghaly"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1525297846, "post_id": 50143925, "comment_id": 87306386, "body": "Exactly for this reason I save it to my database, as I get the value for this counter <i>(as mentioned in step 2)</i> from the database <code>onCreate()</code>. So when my process is killed, on re-start the value will be retrieved from database with the last value it had and and I will increment from there again not from the beginning. Also as mentioned in another answer, SharedPreferences should be a good way to store it as well."}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1525298219, "post_id": 50143925, "comment_id": 87306491, "body": "Why not have one single method for accessing the value?"}, {"owner": {"reputation": 667, "user_id": 6192934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTlQH.jpg?s=128&g=1", "display_name": "Pierre Ghaly", "link": "https://stackoverflow.com/users/6192934/pierre-ghaly"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1525299368, "post_id": 50143925, "comment_id": 87306875, "body": "I am not sure what you mean? Can you please clarify? @JeffreyBlattman"}, {"owner": {"reputation": 667, "user_id": 6192934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTlQH.jpg?s=128&g=1", "display_name": "Pierre Ghaly", "link": "https://stackoverflow.com/users/6192934/pierre-ghaly"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 1, "creation_date": 1525300800, "post_id": 50143925, "comment_id": 87307307, "body": "Yea now I get it. Well I am actually not taking the value manually on start, I just assign it in the <code>onChildAdded</code> method in Firebase <code>ChildListener</code>, but I am considering moving it locally as I started to realize it might create bugs later on. Thanks for the hint though, appreciated :)"}], "tags": [], "owner": {"reputation": 667, "user_id": 6192934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pTlQH.jpg?s=128&g=1", "display_name": "Pierre Ghaly", "link": "https://stackoverflow.com/users/6192934/pierre-ghaly"}, "is_accepted": false, "score": 0, "last_activity_date": 1525297149, "creation_date": 1525297149, "answer_id": 50143925, "question_id": 50143366, "link": "https://stackoverflow.com/questions/50143366/android-what-is-the-correct-way-of-keeping-track-of-multiple-pendingintents/50143925#50143925", "title": "Android - What is the correct way of keeping track of multiple PendingIntents?", "body": "<p>I was facing the same problem, what I did was as follow:</p>\n\n<p>1) I created an int field which I create in my main activity as a static field.</p>\n\n<p>2) I get the value of this variable in <code>onCreate()</code> of the main activity from the application database.</p>\n\n<p>3) Every time I am creating a new alarm I get a new request code through a function as follows:</p>\n\n<pre><code>public static int getRequestCode() {\n    int temp = this.requestCode++;\n    // Update the database value with the current requestCode value\n    return temp;\n}\n</code></pre>\n\n<p>4) In my case I added a new field to the alarm class called requestCode so I can keep track of which request code is for which alarm as I am already saving the alarms in my database, for your case I am not sure how exactly is your application but I guess you need to find a way to store this value for each alarm.</p>\n\n<p>I am not sure this will be very helpful since I am not sure if you are using a database for your app or not, but I recommend you consider creating one, even a local one if you don't care about having your data on a server yet <em>( you can use Room Library for that and it's very straight forward, here's a link <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/room</a> )</em> as I believe this will definitely create you many problems on the long run, since the system doesn't really create a new PendingIntent when you initiate one, it returns the exciting token if all parameters match</p>\n\n<p>Hope this was helpful :)</p>\n"}], "owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 50143887, "answer_count": 2, "score": 0, "last_activity_date": 1525297149, "creation_date": 1525294234, "question_id": 50143366, "link": "https://stackoverflow.com/questions/50143366/android-what-is-the-correct-way-of-keeping-track-of-multiple-pendingintents", "title": "Android - What is the correct way of keeping track of multiple PendingIntents?", "body": "<p>I'll explain briefly what I need to achieve, I have used the <code>PendingIntent</code> in combination with <code>AlarmManager.setRepeating()</code> to notify the user every week.</p>\n\n<pre><code>val notificationAlarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\nval notificationIntent = Intent(this, ReminderBroadcastReceiver::class.java)\nval pendingNotificationIntent = PendingIntent.getBroadcast(this, 549078, notificationIntent,\n        PendingIntent.FLAG_UPDATE_CURRENT)\n myCalendar.set(Calendar.HOUR_OF_DAY, 10)\n notificationAlarmManager.setRepeating(AlarmManager.RTC_WAKEUP, myCalendar.timeInMillis, notificationOffset(sub.cycle),\n                    pendingNotificationIntent)\n</code></pre>\n\n<p>As you can see now I am forcing the <code>549078</code> as a <code>resultCode</code> in the <code>PendingIntent.getBroadcast()</code>.</p>\n\n<p>What is the correct way to differenciate between the result codes, so that I not only can have multiple notifications (since the same resultCode will be overwritten when I create a new one) but I also need a way to keep track of the result code, because I may want to delete it before it is being shown.</p>\n"}, {"tags": ["android", "kotlin", "xodus"], "comments": [{"owner": {"reputation": 1924, "user_id": 5334308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c6e2dcd4ece150a876b3dc8d3a1f49?s=128&d=identicon&r=PG", "display_name": "Vyacheslav Lukianov", "link": "https://stackoverflow.com/users/5334308/vyacheslav-lukianov"}, "edited": false, "score": 3, "creation_date": 1526291077, "post_id": 50143352, "comment_id": 87670458, "body": "Please take a look at <a href=\"https://youtrack.jetbrains.com/issue/XD-655\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/XD-655</a>."}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "reply_to_user": {"reputation": 1924, "user_id": 5334308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c6e2dcd4ece150a876b3dc8d3a1f49?s=128&d=identicon&r=PG", "display_name": "Vyacheslav Lukianov", "link": "https://stackoverflow.com/users/5334308/vyacheslav-lukianov"}, "edited": false, "score": 0, "creation_date": 1526306850, "post_id": 50143352, "comment_id": 87680683, "body": "Thanks so much - would even accept this as an answer"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1525294193, "creation_date": 1525294193, "question_id": 50143352, "link": "https://stackoverflow.com/questions/50143352/jetbrains-xodus-on-android", "title": "JetBrains xodus on android", "body": "<p>did anyone try xodus on android and got it working? I am talking about: <a href=\"https://github.com/JetBrains/xodus\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/xodus</a>\nWould love to get it working - but it seems to use some features that are not available on Android - wonder if there is a workaround to make it work. Stalling at:</p>\n\n<pre><code> E/AndroidRuntime(23040): java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/management/ManagementFactory;\n</code></pre>\n"}, {"tags": ["variables", "kotlin", "delegates", "observable"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1525296449, "post_id": 50142942, "comment_id": 87305806, "body": "Property listeners work on properties, which are not exactly the same as variables. They have (special, usually implicit) methods wrapping the accessing and mutation of their values: it is these accessor and mutator methods that are used to implement property listeners.  If you want to use a property listener to listen to changes to your variable, you will have to ensure that your variable is a property. That is, it is a member of a class, and not local to a method or anything like that. Your question isn&#39;t clear on this: Is it already a property?"}, {"owner": {"reputation": 732, "user_id": 4970906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bm7i6.jpg?s=128&g=1", "display_name": "Armen Hovhannisian", "link": "https://stackoverflow.com/users/4970906/armen-hovhannisian"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1525375276, "post_id": 50142942, "comment_id": 87342787, "body": "No it is simple variable which changes the value while the app is running and then if the value changes from A to Z for example I have to show some Toast. How can I achieve to make it work ?"}], "answers": [{"comments": [{"owner": {"reputation": 732, "user_id": 4970906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bm7i6.jpg?s=128&g=1", "display_name": "Armen Hovhannisian", "link": "https://stackoverflow.com/users/4970906/armen-hovhannisian"}, "edited": false, "score": 0, "creation_date": 1525375324, "post_id": 50144233, "comment_id": 87342812, "body": "So there is no way to achieve to listen just simple variable change in the code ?"}, {"owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "reply_to_user": {"reputation": 732, "user_id": 4970906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bm7i6.jpg?s=128&g=1", "display_name": "Armen Hovhannisian", "link": "https://stackoverflow.com/users/4970906/armen-hovhannisian"}, "edited": false, "score": 0, "creation_date": 1525425907, "post_id": 50144233, "comment_id": 87360324, "body": "@ArmenHovhannisian there is a way (as you already describe, for example). I just want to explain that <code>PropertyChangeSupport</code> was used in a wrong way. This is a point directly answering \u201cam I missing something\u201d"}, {"owner": {"reputation": 732, "user_id": 4970906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bm7i6.jpg?s=128&g=1", "display_name": "Armen Hovhannisian", "link": "https://stackoverflow.com/users/4970906/armen-hovhannisian"}, "edited": false, "score": 0, "creation_date": 1525550720, "post_id": 50144233, "comment_id": 87404216, "body": "okay thank you I understood that if you want to do with PropertyChangeSupport you should have single object class and use it for its properties."}], "tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1525298815, "creation_date": 1525298815, "answer_id": 50144233, "question_id": 50142942, "link": "https://stackoverflow.com/questions/50142942/get-notified-of-variable-change-using-propertychangesupporte-g-observable-del/50144233#50144233", "title": "Get notified of variable change using PropertyChangeSupport(e.g. observable, delegate)", "body": "<p>You are trying to provide <code>PropertyChangeSupport</code> for your property <code>foo</code> instead of the instance(that contains property <code>foo</code>). </p>\n\n<p>For example <code>PropertyChangeSupport(this)</code>. <a href=\"https://docs.oracle.com/javase/10/docs/api/java/beans/PropertyChangeSupport.html\" rel=\"nofollow noreferrer\">docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 732, "user_id": 4970906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bm7i6.jpg?s=128&g=1", "display_name": "Armen Hovhannisian", "link": "https://stackoverflow.com/users/4970906/armen-hovhannisian"}, "is_accepted": true, "score": 5, "last_activity_date": 1525380981, "creation_date": 1525380981, "answer_id": 50163723, "question_id": 50142942, "link": "https://stackoverflow.com/questions/50142942/get-notified-of-variable-change-using-propertychangesupporte-g-observable-del/50163723#50163723", "title": "Get notified of variable change using PropertyChangeSupport(e.g. observable, delegate)", "body": "<p>So the solution was simpler as I might think.\nI have to initially assign the variable with delegate and observable like this.</p>\n\n<pre><code> var foo:Int? by Delegates.observable(10) { property, oldValue, newValue -&gt;\n\n            Log.d(\"loggg\",\"gggol\")\n\n        }\n</code></pre>\n\n<p>and every time I call foo=something it logs the following output.\nThanks.)</p>\n"}], "owner": {"reputation": 732, "user_id": 4970906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bm7i6.jpg?s=128&g=1", "display_name": "Armen Hovhannisian", "link": "https://stackoverflow.com/users/4970906/armen-hovhannisian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3343, "favorite_count": 0, "accepted_answer_id": 50163723, "answer_count": 2, "score": 0, "last_activity_date": 1525380981, "creation_date": 1525292435, "question_id": 50142942, "link": "https://stackoverflow.com/questions/50142942/get-notified-of-variable-change-using-propertychangesupporte-g-observable-del", "title": "Get notified of variable change using PropertyChangeSupport(e.g. observable, delegate)", "body": "<p>I have this kind of issue I would like to listen to variable change.\nLets take I have <code>var foo:Int = 10</code> initialized and in the code somewhere it changes its value to something else lets take <code>foo = 99</code> here is my code snippet in kotlin.</p>\n\n<pre><code>var foo:Int=10\n\nprivate val changeSupport: PropertyChangeSupport? = PropertyChangeSupport(foo)\n\nval observer = {\n                    property: KProperty&lt;*&gt;,\n                    oldValue: Int?,\n                    newValue: Int? -&gt; changeSupport!!.firePropertyChange(property.name, oldValue, newValue)\n                }\n\n var oof: Int? by Delegates.observable(foo, observer)\n changeSupport!!.addPropertyChangeListener { event -&gt;\n                    Log.d(\"loggg\",\"Property [${event.propertyName}] changed \" + \"from [${event.oldValue}] to [${event.newValue}]\")\n                }\n</code></pre>\n\n<p>So while somewhere in the code I write <code>foo = 99</code> I have to receive the Log. I tried a lot of stuff I followed this articles but no success.\nAm I missing something?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15433855/how-to-create-change-listener-for-variable\">How to create change listener for variable?</a></p>\n\n<p><a href=\"http://kotlination.com/kotlin/kotlin-observable-property-delegated-property\" rel=\"nofollow noreferrer\">http://kotlination.com/kotlin/kotlin-observable-property-delegated-property</a>\n<a href=\"https://www.javalobby.org/java/forums/t19476.html\" rel=\"nofollow noreferrer\">https://www.javalobby.org/java/forums/t19476.html</a></p>\n"}, {"tags": ["java", "android", "react-native", "kotlin", "react-native-android"], "comments": [{"owner": {"reputation": 872, "user_id": 2483677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SdpTI.jpg?s=128&g=1", "display_name": "Manzoor Samad", "link": "https://stackoverflow.com/users/2483677/manzoor-samad"}, "edited": false, "score": 0, "creation_date": 1525291319, "post_id": 50142561, "comment_id": 87303502, "body": "try to reinstall the react-native cli"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "reply_to_user": {"reputation": 872, "user_id": 2483677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SdpTI.jpg?s=128&g=1", "display_name": "Manzoor Samad", "link": "https://stackoverflow.com/users/2483677/manzoor-samad"}, "edited": false, "score": 0, "creation_date": 1525293575, "post_id": 50142561, "comment_id": 87304573, "body": "Done. Still not working."}, {"owner": {"reputation": 686, "user_id": 5680753, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-A7twC4cKQ_E/AAAAAAAAAAI/AAAAAAAAALs/fTiYnuLrdHY/photo.jpg?sz=128", "display_name": "Shyamnath Mallinathan", "link": "https://stackoverflow.com/users/5680753/shyamnath-mallinathan"}, "edited": false, "score": 0, "creation_date": 1525522249, "post_id": 50142561, "comment_id": 87395377, "body": "Were you able to find a solution to this?Im stuck with the same error."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1525720263, "post_id": 50142561, "comment_id": 87459081, "body": "Yes. I installed required packages: create-react-native-app"}, {"owner": {"reputation": 1791, "user_id": 6868161, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EIdND.jpg?s=128&g=1", "display_name": "grantespo", "link": "https://stackoverflow.com/users/6868161/grantespo"}, "edited": false, "score": 0, "creation_date": 1525970690, "post_id": 50142561, "comment_id": 87572023, "body": "would be nice if you gave a detailed solution for us beginners brahski."}, {"owner": {"reputation": 5456, "user_id": 5362410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HYGbR.jpg?s=128&g=1", "display_name": "Gurjinder Singh", "link": "https://stackoverflow.com/users/5362410/gurjinder-singh"}, "edited": false, "score": 0, "creation_date": 1538997214, "post_id": 50142561, "comment_id": 92328414, "body": "You can find more answer here <a href=\"https://stackoverflow.com/questions/52659866/unable-to-resolve-module-react-transform-hmr-lib-index-js/52665506#52665506\" title=\"unable to resolve module react transform hmr lib index js\">stackoverflow.com/questions/52659866/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 1321456, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4bd54ccbccbb1bb894075339e4f3a42f?s=128&d=identicon&r=PG", "display_name": "shinriyo", "link": "https://stackoverflow.com/users/1321456/shinriyo"}, "edited": false, "score": 0, "creation_date": 1538888976, "post_id": 50297218, "comment_id": 92298743, "body": "yarn add --dev react-transform-hmr"}], "tags": [], "owner": {"reputation": 201, "user_id": 2643037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzn0R.jpg?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/2643037/ranjith-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1526059018, "creation_date": 1526059018, "answer_id": 50297218, "question_id": 50142561, "link": "https://stackoverflow.com/questions/50142561/cannot-find-module-react-transform-hmr-lib-index-js/50297218#50297218", "title": "Cannot find module &#39;react-transform-hmr/lib/index.js&#39;", "body": "<pre><code>npm install react-transform-hmr\n</code></pre>\n\n<p>This solved the issue for me</p>\n"}, {"tags": [], "owner": {"reputation": 23420, "user_id": 6903497, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pHAbN.jpg?s=128&g=1", "display_name": "Hemadri Dasari", "link": "https://stackoverflow.com/users/6903497/hemadri-dasari"}, "is_accepted": false, "score": 1, "last_activity_date": 1539246239, "creation_date": 1539246239, "answer_id": 52755493, "question_id": 50142561, "link": "https://stackoverflow.com/questions/50142561/cannot-find-module-react-transform-hmr-lib-index-js/52755493#52755493", "title": "Cannot find module &#39;react-transform-hmr/lib/index.js&#39;", "body": "<p>The below command fixed the issue for me</p>\n\n<pre><code>react-native start --reset-cache\n</code></pre>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2300, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1539246239, "creation_date": 1525290995, "question_id": 50142561, "link": "https://stackoverflow.com/questions/50142561/cannot-find-module-react-transform-hmr-lib-index-js", "title": "Cannot find module &#39;react-transform-hmr/lib/index.js&#39;", "body": "<p>After installing React native, I run following command:</p>\n\n<blockquote>\n  <p>$ react-native init demoApp</p>\n</blockquote>\n\n<p>And got this error:</p>\n\n<pre><code>Error: Cannot find module 'react-transform-hmr/lib/index.js'\nat Function.Module._resolveFilename (module.js:325:15)\nat Function.require.resolve (internal/module.js:16:19)\nat makeMakeHMRConfig7 (/home/local/MPLLC/malwinder.singh/demoApp/node_modules/react-native/node_modules/metro/src/babel-bridge.js:120:31)\nat Object.&lt;anonymous&gt; (/home/local/MPLLC/malwinder.singh/demoApp/node_modules/react-native/node_modules/metro/src/babel-bridge.js:49:24)\nat Module._compile (module.js:409:26)\nat Module._extensions..js (module.js:416:10)\nat Object.require.extensions.(anonymous function) [as .js] (/home/local/MPLLC/malwinder.singh/demoApp/node_modules/react-native/node_modules/babel-register/lib/node.js:152:7)\nat Module.load (module.js:343:32)\nat Function.Module._load (module.js:300:12)\nat Module.require (module.js:353:17)\nat require (internal/module.js:12:17)\n</code></pre>\n\n<p>What am I missing? How to fix this issue?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "bottomnavigationview"], "comments": [{"owner": {"reputation": 732, "user_id": 4970906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bm7i6.jpg?s=128&g=1", "display_name": "Armen Hovhannisian", "link": "https://stackoverflow.com/users/4970906/armen-hovhannisian"}, "edited": false, "score": 0, "creation_date": 1525292758, "post_id": 50141842, "comment_id": 87304194, "body": "<a href=\"https://stackoverflow.com/questions/45130713/bottomnavigationview-how-to-avoid-recreation-of-fragments-and-reuse-them\" title=\"bottomnavigationview how to avoid recreation of fragments and reuse them\">stackoverflow.com/questions/45130713/&hellip;</a> here is already asked questions with solutions."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525290173, "post_id": 50142111, "comment_id": 87302932, "body": "What is fragmentManager in option - 2 ? I am new with app developement"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525290504, "post_id": 50142111, "comment_id": 87303098, "body": "sorry, it should supportFragmentManager in your case"}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525290822, "post_id": 50142111, "comment_id": 87303253, "body": "Yes, but one thing when i pressed android default bottom back button, Title of toobar does not changes but content replaced by previous fragment. In Fragement4 i am using list view and its increases every time when i go back to that 4th fragment"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525291377, "post_id": 50142111, "comment_id": 87303521, "body": "Are you still adding to the backstack? I reckon if you remove that it will work. Your list view is increasing in fragment 4 probably because you&#39;re readding items in one of the fragment&#39;s life cycle methods that gets called every time the fragment is changed (like  oncreateview)"}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525291532, "post_id": 50142111, "comment_id": 87303598, "body": "Mean there is nothing  can do like override fun onBackPressed() {} and clear list view or anything else and set title of toolbar -"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525291594, "post_id": 50142111, "comment_id": 87303621, "body": "Humm, let me see your fragment 4 code, maybe I can give you a hand :)"}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525292903, "post_id": 50142111, "comment_id": 87304259, "body": "Thanks a lot. just last thing is change title of toolbar (I am using custom toolbar which has title with  val title = findViewById(R.id.toolbarTitle) as TextView. when ever i pressed back button.. title should change"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525293372, "post_id": 50142111, "comment_id": 87304487, "body": "So you should use title.text = &quot;Desired title&quot; :)"}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525293490, "post_id": 50142111, "comment_id": 87304545, "body": "Where, right now when i pressed back button, frame layout changed but not tootlbar title"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525293829, "post_id": 50142111, "comment_id": 87304685, "body": "Did you stop using the backstack?"}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525294008, "post_id": 50142111, "comment_id": 87304768, "body": "No, i did not stop"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525294172, "post_id": 50142111, "comment_id": 87304849, "body": "So if you still want to use the backstack you&#39;ll need to manage the toolbar change yourself as the backstack will only replace the fragment for you, if you don&#39;t want to worry about that disable it :)"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525294435, "post_id": 50142111, "comment_id": 87304970, "body": "No worries, glad I could help you, if you need anything just let me know :)"}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525296454, "post_id": 50142111, "comment_id": 87305808, "body": "Actually, if you pressed backbutton, its killing that app, you need to open app gain from scratch(not using backstack)"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "edited": false, "score": 0, "creation_date": 1525297557, "post_id": 50142111, "comment_id": 87306268, "body": "Yeah, if you don&#39;t use the backstack there won&#39;t be anything in the backstack and the app will simply exit"}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 3, "last_activity_date": 1525292614, "last_edit_date": 1525292614, "creation_date": 1525289177, "answer_id": 50142111, "question_id": 50141842, "link": "https://stackoverflow.com/questions/50141842/android-fragment-called-by-bottom-navigation-tabs-is-reloading-every-time/50142111#50142111", "title": "Android - Fragment called by Bottom navigation tabs is reloading every time", "body": "<p>Well, you're providing a new instance, calling <code>newInstance()</code> everytime, of each fragment everytime an option is selected. You have two options here:</p>\n\n<p><strong>1) Array of fragments</strong></p>\n\n<p>Keep your fragments in a global array when they're created and just reuse it</p>\n\n<p><strong>2) Tag</strong></p>\n\n<p>Add a tag to the fragment and use it to find the same fragment later.</p>\n\n<p>As you're already setting the tags that's the best for you:</p>\n\n<pre><code>val FRAGMENT_1_TAG =  \"FRAGMENT_1_TAG\"\nval FRAGMENT_2_TAG =  \"FRAGMENT_2_TAG\"\nval FRAGMENT_3_TAG =  \"FRAGMENT_3_TAG\"\nval FRAGMENT_4_TAG =  \"FRAGMENT_4_TAG\"\n\nwhen (item.itemId) {\n                R.id.tab1 -&gt; {\n                title = \"Fragment1\"\n                selectedFragment = supportFragmentManager.findFragmentByTag(FRAGMENT_1_TAG);\n                if (selectedFragment == null) {\n                    selectedFragment = Fragment1.newInstance()\n                }\n                menuTag = FRAGMENT_1_TAG\n                }\n                R.id.tab2 -&gt; {\n                title = \"Fragment2\"\n                selectedFragment = supportFragmentManager.findFragmentByTag(FRAGMENT_2_TAG);\n                if (selectedFragment == null) {\n                    selectedFragment = Fragment2.newInstance()\n                }\n                    menuTag = FRAGMENT_2_TAG\n                }\n                R.id.tab3 -&gt; {\n                title = \"Fragment3\"\n                selectedFragment = supportFragmentManager.findFragmentByTag(FRAGMENT_3_TAG);\n                if (selectedFragment == null) {\n                    selectedFragment = Fragment3.newInstance()\n                }\n                    menuTag = FRAGMENT_3_TAG\n                }\n                R.id.tab4 -&gt;{\n                title = \"Fragment4\"\n                selectedFragment = supportFragmentManager.findFragmentByTag(FRAGMENT_4_TAG);\n                if (selectedFragment == null) {\n                    selectedFragment = Fragment4.newInstance()\n                }\n                    menuTag = FRAGMENT_4_TAG\n                }\n            }\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>To clear the listview you can simply clear it before adding new content, therefore everytime onCreateView is called your list will be initialized from scratch:</p>\n\n<pre><code>listOfMoreMenus.clear()\nlistOfMoreMenus.add(MoreLinksObject(\"test1\",\"link1\")) \nlistOfMoreMenus.add(MoreLinksObject(\"test2\",\"link2\")) \nlistOfMoreMenus.add(MoreLinksObject(\"test3\",\"link3\")) \n</code></pre>\n\n<p>As for changing the title, if your toolbar belongs to the activity you can set the title everytime you change fragments.(see above). If it belongs in the fragment then you need to change it in the onCreateView method so it will be changed everytime the fragment is changed.</p>\n"}], "owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3204, "favorite_count": 0, "accepted_answer_id": 50142111, "answer_count": 1, "score": 3, "last_activity_date": 1525292614, "creation_date": 1525288018, "last_edit_date": 1525292583, "question_id": 50141842, "link": "https://stackoverflow.com/questions/50141842/android-fragment-called-by-bottom-navigation-tabs-is-reloading-every-time", "title": "Android - Fragment called by Bottom navigation tabs is reloading every time", "body": "<p>I am creating a project which uses bottom navigation.\nI am using fragment to make tabs call</p>\n\n<pre><code>val transaction = supportFragmentManager.beginTransaction()\ntransaction.add(R.id.frame_layout, Fragment1.newInstance(),Fragment1.newInstance().TAG)\ntransaction.addToBackStack(null).commit()\n\nbottomNavigationView.setOnNavigationItemSelectedListener(object : BottomNavigationView.OnNavigationItemSelectedListener {\n\n        override fun onNavigationItemSelected(item: MenuItem): Boolean {\n\n            if(item.itemId == lastSelectedItemId){\n                return true\n            }\n\n            var menuTag:String ?= null\n            var selectedFragment: Fragment? = null\n            lastSelectedItemId = item.itemId\n\n            when (item.itemId) {\n                R.id.tab1 -&gt; {\n                    selectedFragment = Fragment1.newInstance()\n                    menuTag = selectedFragment.TAG\n                }\n                R.id.tab2 -&gt; {\n                    selectedFragment = Fragment2.newInstance()\n                    menuTag = selectedFragment.TAG\n                }\n                R.id.tab3 -&gt; {\n                    selectedFragment = Fragment3.newInstance()\n                    menuTag = selectedFragment.TAG\n                }\n                R.id.tab4 -&gt;{\n                    selectedFragment = Fragment4.newInstance()\n                    menuTag = selectedFragment.TAG\n                }\n            }\n\n            val transaction = supportFragmentManager.beginTransaction()\n            transaction.replace(R.id.frame_layout, selectedFragment,menuTag)\n            transaction.addToBackStack(menuTag).commit()\n            return true\n        }\n    })\n</code></pre>\n\n<p>But Fragment always reload\nI tired some method</p>\n\n<ol>\n<li>replace().addToBackStack(null)</li>\n<li>replace().addToBackStack(tag)</li>\n<li>add, hide,show</li>\n</ol>\n\n<p>addToBackStack() - using this, when i clicked android default bottom back button, its messing my layout of fragment. same with return@OnNavigationItemSelectedListener true</p>\n\n<p>I followed many forum related this issue, but in my case nothing is working. </p>\n\n<p>My forth fragment is </p>\n\n<pre><code>class Fragment4 : Fragment() {\n\nvar listOfMoreMenus = ArrayList&lt;MoreLinksObject&gt;()\nvar adapter: MoreLinksAdapter?=null\npublic var TAG: String = \"more\"\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    val moreView = inflater.inflate(R.layout.fragment_more, container, false)\n    val listView = moreView.findViewById(R.id.moreLinks) as ListView\n\n    listOfMoreMenus.add(MoreLinksObject(\"test1\",\"link1\")) \n    listOfMoreMenus.add(MoreLinksObject(\"test2\",\"link2\")) \n    listOfMoreMenus.add(MoreLinksObject(\"test3\",\"link3\")) \n    listView.setNestedScrollingEnabled(true)\n    adapter = MoreLinksAdapter(getActivity()!!,listOfMoreMenus)\n    listView.adapter = adapter\n    return moreView\n\n}\n\ncompanion object {\n    fun newInstance(): Fragment4 {\n        return Fragment4()\n    }\n}\n\n\ninner class MoreLinksAdapter: BaseAdapter {\n\n    var  listOfMoreMenus= ArrayList&lt;MoreLinksObject&gt;()\n    var context: Context?=null\n    constructor(context:Context, listOfMoreMenus: ArrayList&lt;MoreLinksObject&gt;):super(){\n        this.listOfMoreMenus=listOfMoreMenus\n        this.context=context\n\n    }\n\n    override fun getItem(position: Int): Any {\n        return listOfMoreMenus[position]\n    }\n\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getCount(): Int {\n        return  listOfMoreMenus.size\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val MoreLinkObj =  listOfMoreMenus[position]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var myView = inflator.inflate(R.layout.more_menu, null)\n        val moreMenuName = myView.findViewById(R.id.moreMenuName) as TextView\n        moreMenuName.text =  MoreLinkObj.name!!\n        return myView\n    }\n\n}\n}\n</code></pre>\n"}, {"tags": ["generics", "reflection", "kotlin", "inline"], "answers": [{"comments": [{"owner": {"reputation": 7613, "user_id": 478831, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/XUR5x.jpg?s=128&g=1", "display_name": "ovunccetin", "link": "https://stackoverflow.com/users/478831/ovunccetin"}, "edited": false, "score": 0, "creation_date": 1525337934, "post_id": 50140788, "comment_id": 87319543, "body": "This solution also needs an inline function which I don&#39;t want to use."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 7613, "user_id": 478831, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/XUR5x.jpg?s=128&g=1", "display_name": "ovunccetin", "link": "https://stackoverflow.com/users/478831/ovunccetin"}, "edited": false, "score": 0, "creation_date": 1525368505, "post_id": 50140788, "comment_id": 87339400, "body": "But it&#39;s just a forward. I can&#39;t think of any other solutions except creating an inlined forward function, considering your condition (no <code>inline</code>, no <code>Class&lt;T&gt;</code> passed)."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1525283695, "creation_date": 1525283695, "answer_id": 50140788, "question_id": 50140355, "link": "https://stackoverflow.com/questions/50140355/get-runtime-class-of-a-generic-type-parameter-in-kotlin-without-reified-keyword/50140788#50140788", "title": "Get runtime class of a generic type parameter in Kotlin without reified keyword", "body": "<p>A somewhat tricky solution:</p>\n\n<pre><code>inline fun &lt;reified T&gt; test() : T = testImpl(T::class.java)\nprivate fun &lt;T&gt; testImpl(`class`: Class&lt;T&gt;) : T {\n  println(`class`)\n  // do something\n}\n</code></pre>\n\n<p>In this solution you're actually passing a <code>Class</code> instance but you are not doing it directly. Your invocation code will probably look like <code>test&lt;Xxx&gt;()</code>.<br>\nIf <code>T</code> of <code>test</code> can be inferred, you can use <code>test()</code> directly, and the generic parameter is still passed correctly.</p>\n"}], "owner": {"reputation": 7613, "user_id": 478831, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/XUR5x.jpg?s=128&g=1", "display_name": "ovunccetin", "link": "https://stackoverflow.com/users/478831/ovunccetin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 338, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525283695, "creation_date": 1525282060, "question_id": 50140355, "link": "https://stackoverflow.com/questions/50140355/get-runtime-class-of-a-generic-type-parameter-in-kotlin-without-reified-keyword", "title": "Get runtime class of a generic type parameter in Kotlin without reified keyword", "body": "<p>Kotlin provides a way to get runtime class of a generic type parameter with <code>reified</code> keyword which can only be used with <code>inline</code> functions. For example the following works:</p>\n\n<pre><code>inline fun &lt;reified T&gt; test() : T {\n  println(T::class.java)\n}\n</code></pre>\n\n<p>However, I need a way of doing this in a <em>non-inline</em> function. Since the <code>reified</code> keyword is not an option for non-inline functions, the following does not work:</p>\n\n<pre><code>fun &lt;reified T&gt; test() : T {\n  println(T::class.java)\n}\n</code></pre>\n\n<p>Does Kotlin have a different method to solve this problem? I know taking the <code>Class&lt;T&gt;</code> as a parameter can be a solution but I don't want to pass an extra argument to my function for this purpose.</p>\n"}, {"tags": ["spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1841, "user_id": 1495550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/56b9da65c0fbf232e45e80a79e9304fa?s=128&d=identicon&r=PG", "display_name": "billdoor", "link": "https://stackoverflow.com/users/1495550/billdoor"}, "edited": false, "score": 0, "creation_date": 1525340713, "post_id": 50145143, "comment_id": 87321396, "body": "yes, this is compile clean - however i found out that FluxMessageChannel fits my needs better - thanks anyway :)"}], "tags": [], "owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "is_accepted": true, "score": 0, "last_activity_date": 1525305701, "creation_date": 1525305701, "answer_id": 50145143, "question_id": 50139368, "link": "https://stackoverflow.com/questions/50139368/cannot-create-subscribablechannel-in-kotlin/50145143#50145143", "title": "cannot create SubscribableChannel in Kotlin", "body": "<p>You can call it like this:</p>\n\n<pre><code>val c: SubscribableChannel = MessageChannels.publishSubscribe&lt;PublishSubscribeSpec&gt;().get()\n</code></pre>\n\n<p>Why it works without the type in Java I have no idea. My guess would be that Java is able to infer the type, but I don't know why Kotlin can't do the same.</p>\n"}], "owner": {"reputation": 1841, "user_id": 1495550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/56b9da65c0fbf232e45e80a79e9304fa?s=128&d=identicon&r=PG", "display_name": "billdoor", "link": "https://stackoverflow.com/users/1495550/billdoor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 50145143, "answer_count": 1, "score": 0, "last_activity_date": 1525305701, "creation_date": 1525278394, "question_id": 50139368, "link": "https://stackoverflow.com/questions/50139368/cannot-create-subscribablechannel-in-kotlin", "title": "cannot create SubscribableChannel in Kotlin", "body": "<p>This works in Java:</p>\n\n<pre><code>SubscribableChannel c = MessageChannels.publishSubscribe().get();\n</code></pre>\n\n<p>converted to kotlin (by IntelliJ) this becomes:</p>\n\n<pre><code>val c : SubscribableChannel = MessageChannels.publishSubscribe&lt;S&gt;().get()\n</code></pre>\n\n<p>I cannot find a Type that can satisfy the requirements for \"S\"</p>\n\n<p>The signature or publishSubscribe is:</p>\n\n<pre><code>public static &lt;S extends PublishSubscribeChannelSpec&lt;S&gt;&gt; PublishSubscribeChannelSpec&lt;S&gt; publishSubscribe() \n</code></pre>\n\n<p>what can satisfy <code>&lt;S extends PublishSubscribeChannelSpec&lt;S&gt;&gt;</code> when <code>S</code> recursively depends on <code>S</code>?</p>\n\n<p>And why isn't this a problem for Java?</p>\n"}, {"tags": ["java", "android", "asynchronous", "android-asynctask", "kotlin"], "comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1525277915, "post_id": 50139073, "comment_id": 87296767, "body": "First of all let me know why are you not writing async task in the same class in which you want to use returned value?"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1525278324, "post_id": 50139073, "comment_id": 87296990, "body": "It&#39;s my architecture , I want that my Provider do AsyncTask and sends datas to my Manager"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1525279378, "post_id": 50139073, "comment_id": 87297557, "body": "Refer <a href=\"https://stackoverflow.com/a/19624316/7804719\">this</a>."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1525297469, "post_id": 50139073, "comment_id": 87306235, "body": "Any reason why you are using <code>HashMap&lt;String, Any?&gt;</code> instead of something like a <code>class</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "is_accepted": false, "score": 2, "last_activity_date": 1525279764, "creation_date": 1525279764, "answer_id": 50139749, "question_id": 50139073, "link": "https://stackoverflow.com/questions/50139073/asynctask-use-in-kotlin/50139749#50139749", "title": "AsyncTask use in Kotlin", "body": "<p>You can take advantage of Kotlin's functional nature:</p>\n\n<pre><code>class ProviderAsync(private val callback: (things: ArrayList&lt;HashMap&lt;String, Any&gt;&gt;) -&gt; Unit) : AsyncTask&lt;HashMap&lt;String, Any&gt;, Void, ArrayList&lt;HashMap&lt;String, Any&gt;&gt;&gt;() {\n\n    var allThings: ArrayList&lt;HashMap&lt;String, Any&gt;&gt; = arrayListOf()\n    override fun doInBackground(vararg params: HashMap&lt;String, Any&gt;): ArrayList&lt;HashMap&lt;String, Any&gt;&gt;? {\n        for (i in 0..2000) {\n            val thing = hashMapOf(\"Loc\" to \"fr\", \"name\" to \"class\", \"Id\" to \"23\", \"tuto\" to \"fr\", \"price\" to 44)\n            allThings.add(thing)\n        }\n        return null\n    }\n\n    override fun onPreExecute() {\n        super.onPreExecute()\n        // ...\n    }\n\n    override fun onPostExecute(result: ArrayList&lt;HashMap&lt;String, Any&gt;&gt;) {\n        super.onPostExecute(result)\n\n        //callback function to be executed after getting the result\n        callback(result)\n    }\n}\n</code></pre>\n\n<p>then split the the callback logic in a separate function to pass it to <code>ProviderAsync</code> constructor:</p>\n\n<pre><code>fun getThings(context: Context) {\n        ProviderAsync(::asyncTaskCallback).execute()\n}\n\nfun asyncTaskCallback(values: ArrayList&lt;HashMap&lt;String, Any&gt;&gt;) {\n    for (i in 0..values.size) {\n\n        var myObject = convertToMyObject(values[i])\n        allTickets.add(myObject)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 1, "last_activity_date": 1594006618, "last_edit_date": 1594006618, "creation_date": 1593329858, "answer_id": 62619608, "question_id": 50139073, "link": "https://stackoverflow.com/questions/50139073/asynctask-use-in-kotlin/62619608#62619608", "title": "AsyncTask use in Kotlin", "body": "<p>As of June 2020 <code>AsyncTask</code> is <strong>DEPRECATED</strong>. It doesn't mean that the class will be removed any time soon, it means that Google is recommending that you move to something else. The <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">docs recommend to use</a> the standard <code>java.util.concurrent</code> or <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines\" rel=\"nofollow noreferrer\">Kotlin concurrency utilities</a> instead.</p>\n<p>Using the last one we can implement it as the following:</p>\n<ol>\n<li><p>Create generic extension function on <code>CoroutineScope</code>:</p>\n<pre><code> fun &lt;R&gt; CoroutineScope.executeAsyncTask(\n         onPreExecute: () -&gt; Unit,\n         doInBackground: () -&gt; R,\n         onPostExecute: (R) -&gt; Unit\n ) = launch {\n     onPreExecute()\n     val result = withContext(Dispatchers.IO) { // runs in background thread without blocking the Main Thread\n         doInBackground()\n     }\n     onPostExecute(result)\n } \n</code></pre>\n</li>\n<li><p>Use the function with any <code>CoroutineScope</code>:</p>\n<ul>\n<li><p>In <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\"><code>ViewModel</code></a>:</p>\n<pre><code>class MyViewModel : ViewModel() {\n\n    fun someFun() {\n        viewModelScope.executeAsyncTask(onPreExecute = {\n            // ... runs in Main Thread\n        }, doInBackground = {\n            // ... runs in Worker(Background) Thread\n            &quot;Result&quot; // send data to &quot;onPostExecute&quot;\n        }, onPostExecute = {\n            // runs in Main Thread\n            // ... here &quot;it&quot; is the data returned from &quot;doInBackground&quot;\n        })\n    }\n}\n</code></pre>\n</li>\n<li><p>In <code>Activity</code> or <code>Fragment</code>:</p>\n<pre><code>lifecycleScope.executeAsyncTask(onPreExecute = {\n    // ... runs in Main Thread\n}, doInBackground = {\n    // ... runs in Worker(Background) Thread\n    &quot;Result&quot; // send data to &quot;onPostExecute&quot;\n}, onPostExecute = {\n    // runs in Main Thread\n    // ... here &quot;it&quot; is the data returned from &quot;doInBackground&quot;\n})\n</code></pre>\n</li>\n</ul>\n<p>To use <code>viewModelScope</code> or <code>lifecycleScope</code> add next line(s) to dependencies of the app's <strong>build.gradle</strong> file:</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$LIFECYCLE_VERSION&quot; // for viewModelScope\nimplementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:$LIFECYCLE_VERSION&quot; // for lifecycleScope\n</code></pre>\n<p>At the time of writing <code>final LIFECYCLE_VERSION = &quot;2.3.0-alpha05&quot;</code></p>\n</li>\n</ol>\n"}], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4837, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1594006618, "creation_date": 1525277463, "question_id": 50139073, "link": "https://stackoverflow.com/questions/50139073/asynctask-use-in-kotlin", "title": "AsyncTask use in Kotlin", "body": "<p>I have a problem with AsyncTask in Kotlin , I'm actually new so please be cool :)</p>\n\n<p>So the problem here , is that I would like to use the result value which is in onPostExecute(), in another class</p>\n\n<p>Let me show you my code, Here is ProviderAsync() class in my Provider.kt file ( I just create an array of Hashmap which I want to use) : </p>\n\n<pre><code>class ProviderAsync() : AsyncTask&lt;HashMap&lt;String, Any&gt;, Void, ArrayList&lt;HashMap&lt;String, Any&gt;&gt;&gt;() {\n\nvar allThings: ArrayList&lt;HashMap&lt;String, Any&gt;&gt; = arrayListOf()\noverride fun doInBackground(vararg params: HashMap&lt;String, Any&gt;): ArrayList&lt;HashMap&lt;String, Any&gt;&gt;? {\n    for (i in 0..2000) {\n        val thing = hashMapOf(\"Loc\" to \"fr\", \"name\" to \"class\", \"Id\" to \"23\", \"tuto\" to \"fr\", \"price\" to 44)\n        allThings.add(thing )\n    }\n    return null\n}\n\noverride fun onPreExecute() {\n    super.onPreExecute()\n    // ...\n}\n\noverride fun onPostExecute(result: ArrayList&lt;HashMap&lt;String, Any&gt;&gt;?) {\n    super.onPostExecute(result)\n    // what can I do Here\n}\n</code></pre>\n\n<p>And now here is my getThings() method in another file where i want to use the result value to get all elements of my Arraylist :</p>\n\n<pre><code>fun getThings(context: Context) {\n        ProviderAsync().execute()\n        var values = // Here i want the RESULT send from my AsyncTask\n         for (i in 0..values.size) {\n\n                        var myObject = convertToMyObject(values[i])\n                        allTickets.add(myObject)\n                    }\n        }\n</code></pre>\n\n<p>Thanks and sorry for my English</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 804649, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2ec070ed7be4dd6edfab0d952ef7abe5?s=128&d=identicon&r=PG", "display_name": "user804649", "link": "https://stackoverflow.com/users/804649/user804649"}, "edited": false, "score": 0, "creation_date": 1616105905, "post_id": 50138864, "comment_id": 117906949, "body": "I talked to the gradle team.  They recommend using the default daemon.  Basically the kotlin compiler will run in its own daemon, which saves it a bunch of a time via warmup specific for the kotlin compiler.  You can increase the compiler daemon&#39;s memory using -Dkotlin.daemon.jvm.options=-Xmx6g.    Article below <a href=\"https://dev.to/martinhaeusler/is-your-kotlin-compiler-slow-here-s-a-potential-fix-4if4\" rel=\"nofollow noreferrer\">dev.to/martinhaeusler/&hellip;</a>"}], "tags": [], "owner": {"reputation": 181, "user_id": 5781953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abbaaad984c39feedbd7370ef5f80bd7?s=128&d=identicon&r=PG", "display_name": "Steven Grimm", "link": "https://stackoverflow.com/users/5781953/steven-grimm"}, "is_accepted": false, "score": 4, "last_activity_date": 1525276695, "creation_date": 1525276695, "answer_id": 50138864, "question_id": 50138863, "link": "https://stackoverflow.com/questions/50138863/why-does-my-kotlin-gradle-build-die-with-exit-code-137/50138864#50138864", "title": "Why does my Kotlin Gradle build die with exit code 137?", "body": "<p>The culprit in this case turned out to be the Kotlin compiler.</p>\n\n<p>By default, the Kotlin compiler spawns a daemon in the background so that subsequent compilation jobs are faster. For a Kotlin code base of nontrivial size, this process can end up eating significant memory.</p>\n\n<p>Its presence was causing Gradle to hit the memory limit on the CI container, and the <a href=\"https://linux-mm.org/OOM_Killer\" rel=\"nofollow noreferrer\">Linux OOM killer</a> was killing the Gradle process.</p>\n\n<p>The solution: <a href=\"https://discuss.kotlinlang.org/t/solved-disable-kotlin-compiler-process-keepalive/2622\" rel=\"nofollow noreferrer\">Tell the Kotlin compiler not to spawn the background process.</a> This turns out to be a simple matter of setting an environment variable:</p>\n\n<p><code>GRADLE_OPTS=-Dkotlin.compiler.execution.strategy=in-process</code></p>\n\n<p>With that variable in place, Kotlin compilation runs inline in the Gradle JVM, and its data can thus be garbage-collected when Gradle moves on to running the tests.</p>\n\n<p>It would also work to pass the option to the <code>gradle</code> command rather than setting it in the environment.</p>\n"}], "owner": {"reputation": 181, "user_id": 5781953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abbaaad984c39feedbd7370ef5f80bd7?s=128&d=identicon&r=PG", "display_name": "Steven Grimm", "link": "https://stackoverflow.com/users/5781953/steven-grimm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525276695, "creation_date": 1525276695, "question_id": 50138863, "link": "https://stackoverflow.com/questions/50138863/why-does-my-kotlin-gradle-build-die-with-exit-code-137", "title": "Why does my Kotlin Gradle build die with exit code 137?", "body": "<p>We were seeing mysterious failures in our CI environment when running tests of a Kotlin code base.</p>\n\n<p><code>gradle test</code> compiled the code and the tests just fine. The tests ran and all appeared to pass. But then Gradle exited with code 137 (indicating it was killed with SIGKILL) and the CI system thus thought the build had failed.</p>\n\n<p>Limiting the size of the JVM for Gradle didn't help. Nor did the <code>--no-daemon</code> and <code>--max-workers</code> options.</p>\n\n<p>This is using Kotlin 1.2.40 and Gradle 4.3 on the Java 8 JVM.</p>\n"}, {"tags": ["java", "android", "pdf", "kotlin", "marker"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9025311"}, "is_accepted": false, "score": 0, "last_activity_date": 1525277317, "creation_date": 1525277317, "answer_id": 50139039, "question_id": 50138409, "link": "https://stackoverflow.com/questions/50138409/mark-on-pdf-android-app/50139039#50139039", "title": "Mark on PDF Android App", "body": "<p>You have a sample file in his repo.</p>\n\n<p>If you go to this <a href=\"https://github.com/barteksc/AndroidPdfViewer/blob/master/sample/src/main/java/com/github/barteksc/sample/PDFViewActivity.java\" rel=\"nofollow noreferrer\">location</a> he has already created the method on how to load a pdf! Then if you go <a href=\"https://github.com/xiasenhai/PdfiumAndroid/blob/6ebee0411705fd7771ad3ce5a23f53b1457b6b6d/src/main/java/com/shockwave/pdfium/PdfiumCore.java\" rel=\"nofollow noreferrer\">to this link</a> you will see that he has created the class and has included good comments </p>\n\n<pre><code>Render page fragment on {@link Surface}\n      Page must be opened before rendering.\n\n    public void renderPage(PdfDocument doc, Surface surface, int pageIndex,\n                           int startX, int startY, int drawSizeX, int drawSizeY) {\n        renderPage(doc, surface, pageIndex, startX, startY, drawSizeX, drawSizeY, false);\n    }\n</code></pre>\n\n<p>The one that you are searching is bookmark method</p>\n\n<pre><code>/** Get table of contents (bookmarks) for given document */\n    public List&lt;PdfDocument.Bookmark&gt; getTableOfContents(PdfDocument doc) {\n        synchronized (lock) {\n            List&lt;PdfDocument.Bookmark&gt; topLevel = new ArrayList&lt;&gt;();\n            Long first = nativeGetFirstChildBookmark(doc.mNativeDocPtr, null);\n            if (first != null) {\n                recursiveGetBookmark(topLevel, doc, first);\n            }\n            return topLevel;\n        }\n    }\n</code></pre>\n\n<p>However keep in mind that it might be necessary to use Async Tasks to download a pdf!</p>\n"}], "owner": {"reputation": 11, "user_id": 9731121, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212320632237489/picture?type=large", "display_name": "Vincent Herreros", "link": "https://stackoverflow.com/users/9731121/vincent-herreros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1525283528, "creation_date": 1525275233, "last_edit_date": 1525283528, "question_id": 50138409, "link": "https://stackoverflow.com/questions/50138409/mark-on-pdf-android-app", "title": "Mark on PDF Android App", "body": "<p>I'm currently developing an application on Android with AndroidPDFViewer : <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">https://github.com/barteksc/AndroidPdfViewer</a></p>\n\n<p>I want to create a functionality, when the user touch the screen, it put a point on the PDF at this location. After I want to measure the distance between 2 points but it's an other problem.\nI don't understand how to do this functionality, put a point on PDF. I found this : <a href=\"https://github.com/barteksc/AndroidPdfViewer/issues/554\" rel=\"nofollow noreferrer\">https://github.com/barteksc/AndroidPdfViewer/issues/554</a></p>\n\n<p>So it's possible but how ? I don't get it.\nI suppose I need to create a bitmap, but I can't draw on the PDF, or put a marker.</p>\n\n<p>Thanks for your time.</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1525274806, "post_id": 50138253, "comment_id": 87294788, "body": "<a href=\"https://stackoverflow.com/a/44185385/4168607\">stackoverflow.com/a/44185385/4168607</a>"}, {"owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 1, "creation_date": 1525275165, "post_id": 50138253, "comment_id": 87295016, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44184769/android-room-select-query-with-like\">Android Room - Select query with LIKE</a>"}, {"owner": {"reputation": 81, "user_id": 8294916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f78258c8307e6d68f54c3d4a65f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Bryen", "link": "https://stackoverflow.com/users/8294916/bryen"}, "edited": false, "score": 0, "creation_date": 1525275551, "post_id": 50138253, "comment_id": 87295265, "body": "Our input query is based on a string from a network response and I think it&#39;s quite ugly to surround the input query using something like <code>&quot;%&quot; + input + &quot;%&quot;</code>"}, {"owner": {"reputation": 81, "user_id": 8294916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f78258c8307e6d68f54c3d4a65f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Bryen", "link": "https://stackoverflow.com/users/8294916/bryen"}, "edited": false, "score": 0, "creation_date": 1525275615, "post_id": 50138253, "comment_id": 87295297, "body": "However I&#39;ve found a prettier solution which deals with the problem within the DAO instead of wrapping the input with &quot;%&quot;  <a href=\"https://stackoverflow.com/questions/44234644/android-rooms-search-in-string\">Link to the better solution</a>"}, {"owner": {"reputation": 81, "user_id": 8294916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f78258c8307e6d68f54c3d4a65f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Bryen", "link": "https://stackoverflow.com/users/8294916/bryen"}, "edited": false, "score": 0, "creation_date": 1525276284, "post_id": 50138253, "comment_id": 87295721, "body": "Thanks for the help, I&#39;ve edited the question to help any others who encounter the issue."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 8294916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f78258c8307e6d68f54c3d4a65f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Bryen", "link": "https://stackoverflow.com/users/8294916/bryen"}, "edited": false, "score": 1, "creation_date": 1525276671, "post_id": 50138761, "comment_id": 87295979, "body": "Thank you to user <a href=\"https://stackoverflow.com/users/608649/yigit\">yigit</a> for the helpful answer!"}], "tags": [], "owner": {"reputation": 81, "user_id": 8294916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f78258c8307e6d68f54c3d4a65f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Bryen", "link": "https://stackoverflow.com/users/8294916/bryen"}, "is_accepted": true, "score": 5, "last_activity_date": 1525276441, "creation_date": 1525276441, "answer_id": 50138761, "question_id": 50138253, "link": "https://stackoverflow.com/questions/50138253/room-sqlite-database-delete-all-like-param/50138761#50138761", "title": "Room SQLite Database - Delete all LIKE %:param%", "body": "<p>Thanks for your help! I have found two solutions - one was described in the comments, which involves wrapping the input parameter with '%' when calling the DAO method.</p>\n\n<p>The solution which I've found to be somewhat more elegant is stackoverflow.com/questions/44234644/android-rooms-search-in-string, which keeps the input selector symbols within the query string in the DAO, rather than wrapping the input parameter wherever the DAO method is called.</p>\n\n<p>This meant the DAO string ended up looking like this:</p>\n\n<pre><code>const val DELETE_BY_RESERVATION_CODE = \"DELETE FROM ${TdaRoomDatabase.TABLE_REQUESTS} WHERE uri LIKE '%' || :reservationCode || '%'\"\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 8294916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f78258c8307e6d68f54c3d4a65f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Bryen", "link": "https://stackoverflow.com/users/8294916/bryen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1119, "favorite_count": 1, "accepted_answer_id": 50138761, "answer_count": 1, "score": 3, "last_activity_date": 1525279233, "creation_date": 1525274714, "last_edit_date": 1525279233, "question_id": 50138253, "link": "https://stackoverflow.com/questions/50138253/room-sqlite-database-delete-all-like-param", "title": "Room SQLite Database - Delete all LIKE %:param%", "body": "<p>I have an issue with Room which I haven't been able to find help for elsewhere - the usual '%' for matching any number of characters when using 'LIKE' in SQLite doesn't work with the Room delete query we are using in my team's project.</p>\n\n<p>We have a delete query defined as a string in Kotlin, in one of our DAOs:</p>\n\n<pre><code>const val DELETE_BY_RESERVATION_CODE = \"DELETE FROM ${TdaRoomDatabase.TABLE_REQUESTS} WHERE uri LIKE :reservationCode\"\n</code></pre>\n\n<p>And a deleteRequest in the same DAO:</p>\n\n<pre><code>@Query(DELETE_BY_RESERVATION_CODE)\nfun deleteRequest(reservationCode: String)\n</code></pre>\n\n<p>However, after adding the percent symbols around the ':reservationCode' parameter reference we get the following error:</p>\n\n<blockquote>\n  <p>No viable alternative at input 'DELETE FROM requests WHERE uri LIKE %'</p>\n</blockquote>\n\n<p>Is anyone aware of how to use the percent symbol when using 'LIKE' in a Room DB query? My team and I (not well-versed in SQL) expected it to behave like SQLite but this doesn't seem to be the case!</p>\n\n<p>&nbsp;</p>\n"}, {"tags": ["android", "kotlin", "annotation-processing", "kapt"], "comments": [{"owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "edited": false, "score": 1, "creation_date": 1525272914, "post_id": 50137564, "comment_id": 87293567, "body": "do you have other dependencies that use annotationProcessor?"}, {"owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "reply_to_user": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "edited": false, "score": 0, "creation_date": 1525276665, "post_id": 50137564, "comment_id": 87295976, "body": "In my build.gradle, all other dependencies are &quot;implementation&quot;, &quot;testImplementation&quot;, or &quot;androidTestImplementation&quot;. I don&#39;t know if the 3rd party dependencies I have are using annotation processing."}, {"owner": {"reputation": 13958, "user_id": 689723, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rQNO2.jpg?s=128&g=1", "display_name": "cesards", "link": "https://stackoverflow.com/users/689723/cesards"}, "edited": false, "score": 0, "creation_date": 1525571854, "post_id": 50137564, "comment_id": 87408222, "body": "Same problem here. Plus I get this error:   e: java.util.ServiceConfigurationError: javax.annotation.processing.Processor: android.databinding.annotationprocessor.ProcessDataBinding Unable to get public no-arg constructor"}, {"owner": {"reputation": 3454, "user_id": 904907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3901a22d358a7e8f27e4d01648903a3?s=128&d=identicon&r=PG", "display_name": "Ryan Amaral", "link": "https://stackoverflow.com/users/904907/ryan-amaral"}, "edited": false, "score": 0, "creation_date": 1526668465, "post_id": 50137564, "comment_id": 87850350, "body": "<code>kapt</code> is for kotlin and <code>annotationProcessor</code> for java code"}, {"owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "reply_to_user": {"reputation": 3454, "user_id": 904907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3901a22d358a7e8f27e4d01648903a3?s=128&d=identicon&r=PG", "display_name": "Ryan Amaral", "link": "https://stackoverflow.com/users/904907/ryan-amaral"}, "edited": false, "score": 0, "creation_date": 1526675239, "post_id": 50137564, "comment_id": 87853116, "body": "@RyanAmaral, I am aware of that, and am using kapt in my build.gradle (above) but still get the warning"}, {"owner": {"reputation": 1796, "user_id": 5788247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tU3fL.jpg?s=128&g=1", "display_name": "Shomu", "link": "https://stackoverflow.com/users/5788247/shomu"}, "edited": false, "score": 0, "creation_date": 1582010104, "post_id": 50137564, "comment_id": 106618295, "body": "<a href=\"https://stackoverflow.com/a/60275454/5788247\">Solved Databinding annotation processor kapt warning .</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "edited": false, "score": 1, "creation_date": 1529069704, "post_id": 50627718, "comment_id": 88755206, "body": "Now: &#39;kapt.generateStubs&#39; is not used by the &#39;kotlin-kapt&#39; plugin"}], "tags": [], "owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "is_accepted": false, "score": 0, "last_activity_date": 1570796722, "last_edit_date": 1570796722, "creation_date": 1527780033, "answer_id": 50627718, "question_id": 50137564, "link": "https://stackoverflow.com/questions/50137564/databinding-annotation-processor-kapt-warning/50627718#50627718", "title": "Databinding annotation processor kapt warning", "body": "<p>Add following in you <code>app build.gradle</code></p>\n\n<pre><code>kapt \"com.android.databinding:compiler:$android_plugin_version\"\napply plugin: 'kotlin-kapt' // This one at top where plugin belong to\n</code></pre>\n\n<p>This will do the trick.</p>\n\n<p><code>$android_plugin_version</code> is version of <code>com.android.tools.build:gradle</code> in <code>application build.gradle</code></p>\n\n<p>Also, add this to your module <code>build.gradle</code></p>\n\n<pre><code>android {\n    /// Existing Code\n    kapt {\n        generateStubs = true\n    }\n}\n</code></pre>\n\n<p><strong>You are missing <code>apply plugin: 'kotlin-kapt'</code> i think.</strong></p>\n"}, {"comments": [{"owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "edited": false, "score": 0, "creation_date": 1531858476, "post_id": 51369831, "comment_id": 89751055, "body": "Looks like the update to 1.2.51 and removing the kapt dependency fixes it"}], "tags": [], "owner": {"reputation": 19404, "user_id": 1219199, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/U3KjU.png?s=128&g=1", "display_name": "sergej shafarenka", "link": "https://stackoverflow.com/users/1219199/sergej-shafarenka"}, "is_accepted": true, "score": 11, "last_activity_date": 1531773765, "creation_date": 1531773765, "answer_id": 51369831, "question_id": 50137564, "link": "https://stackoverflow.com/questions/50137564/databinding-annotation-processor-kapt-warning/51369831#51369831", "title": "Databinding annotation processor kapt warning", "body": "<p>I had same warnings until I upgraded to the latest Android Gradle build plugin and Kotlin. Now they are gone. Here is the configuration I use.</p>\n\n<p><em>project.gradle</em></p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath \"com.android.tools.build:gradle:3.1.3\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.51\"\n    }\n}\n</code></pre>\n\n<p><em>module.gradle</em></p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    ...\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    // no kapt declaration for databinding here\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11351, "favorite_count": 5, "accepted_answer_id": 51369831, "answer_count": 2, "score": 23, "last_activity_date": 1570796722, "creation_date": 1525272695, "question_id": 50137564, "link": "https://stackoverflow.com/questions/50137564/databinding-annotation-processor-kapt-warning", "title": "Databinding annotation processor kapt warning", "body": "<p>In my app module's build.gradle, I have added </p>\n\n<pre><code>dependencies {\nkapt('com.android.databinding:compiler:3.1.2')\n...\n}\n</code></pre>\n\n<p>but I'm still receiving the compiler warning for </p>\n\n<pre><code>app: 'annotationProcessor' dependencies won't be recognized as kapt annotation processors. Please change the configuration name to 'kapt' for these artifacts: 'com.android.databinding:compiler:3.1.2'.\n</code></pre>\n\n<p>Everything functions, I just hate having warnings hanging around.</p>\n\n<p>Any help is much appreciated!</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1525272400, "post_id": 50137239, "comment_id": 87293168, "body": "Thanks. I got error at <code>is Data&lt;T&gt;</code> complaining <code>Cannot check for instance of erased type: Data&lt;T&gt;</code> :("}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1525272462, "post_id": 50137239, "comment_id": 87293216, "body": "Ops, my bad... some type on the <code>State&lt;T&gt; = Empty</code> on my side. I use <code>State&lt;out T&gt; = Empty</code>... which cause the error"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1525272778, "post_id": 50137239, "comment_id": 87293454, "body": "I have added more info to my question... I actually have another function <code>present</code>. With your answer above, I encounter error at <code>Data(content)</code>, expecting it to be <code>State&lt;T&gt;</code> and not <code>Data&lt;T&gt;</code>."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1525273281, "post_id": 50137239, "comment_id": 87293834, "body": "Again my bad, the <code>present</code> function should have <code>T</code> type for it. Fixing that clear the issue. Thanks so much. Great answer from you!!"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 4, "last_activity_date": 1525271648, "creation_date": 1525271648, "answer_id": 50137239, "question_id": 50137175, "link": "https://stackoverflow.com/questions/50137175/kotlin-unchecked-cast-seal-class-to-its-child-class-with-generic-how-to-pr/50137239#50137239", "title": "Kotlin: Unchecked cast: Seal Class to it&#39;s Child Class (with generic). How to prevent that?", "body": "<p>You should simply make the base class generic:</p>\n\n<pre><code>sealed class State&lt;out T&gt;\nobject Empty : State&lt;Nothing&gt;()\nclass Load&lt;T&gt;(val presentable: Presentable&lt;T&gt;) : State&lt;T&gt;()\nclass Data&lt;T&gt;(val presentable: Presentable&lt;T&gt;) : State&lt;T&gt;()\n</code></pre>\n\n<p>And in your class:</p>\n\n<pre><code>class LoadableContentController&lt;T&gt;(\n        private val presenter: LoadableContentPresenter&lt;T&gt;) {\n\n    private var state: State&lt;T&gt; = Empty\n\n    private fun performSideEffects() {\n        val state = this.state\n        when (state) {\n            is Data&lt;T&gt; -&gt; {\n                presenter.present(state.presentable)\n            }\n            is Load&lt;T&gt; -&gt; {\n                presenter.present(state.presentable)\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 1, "accepted_answer_id": 50137239, "answer_count": 1, "score": 1, "last_activity_date": 1525273247, "creation_date": 1525271441, "last_edit_date": 1525273247, "question_id": 50137175, "link": "https://stackoverflow.com/questions/50137175/kotlin-unchecked-cast-seal-class-to-its-child-class-with-generic-how-to-pr", "title": "Kotlin: Unchecked cast: Seal Class to it&#39;s Child Class (with generic). How to prevent that?", "body": "<p>I have <code>when</code> on a <code>seal class</code>, where I use to check if it is of certain class, I'll use the data. It has a generic <code>T</code> as seen below.</p>\n\n<pre><code>sealed class State\nobject Empty : State()\nclass Load&lt;T&gt;(val presentable: Presentable&lt;T&gt;) : State()\nclass Data&lt;T&gt;(val presentable: Presentable&lt;T&gt;) : State()\n\nclass LoadableContentController&lt;T&gt;(\n        private val presenter: LoadableContentPresenter&lt;T&gt;) {\n\n    private var state: State = Empty\n\n    fun present(content: Presentable&lt;T&gt;?) {\n        this.state = if (content == null) {\n            Empty\n        } else {\n            Data(content)\n        }\n        this.performSideEffects()\n    }\n\n    private fun performSideEffects() {\n        when (this.state) {\n            is Data&lt;*&gt; -&gt; {\n                presenter.present((state as Data&lt;T&gt;).presentable)\n            }\n            is Load&lt;*&gt; -&gt; {\n                presenter.present((state as Load&lt;T&gt;).presentable)\n            }\n        }\n    }\n}\n\ninterface LoadableContentPresenter&lt;T&gt; {\n    fun present(presentable: Presentable&lt;T&gt;)\n}\n\ninterface Presentable&lt;T&gt; {\n    val TAG: String\n    fun createView(): () -&gt; T\n}\n</code></pre>\n\n<p>The code works. However it complaints <code>Unchecked cast: State to Load&lt;T&gt;</code> for the below.</p>\n\n<pre><code>presenter.present((state as Load&lt;T&gt;).presentable) \n</code></pre>\n\n<p>Is there a way to prevent the warning, or to have auto-casting happening (so I don't need to cast it)?</p>\n"}, {"tags": ["java", "android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1525269779, "post_id": 50136548, "comment_id": 87291255, "body": "Sorry, but you cannot modify the values of resources at runtime."}, {"owner": {"reputation": 41, "user_id": 9534986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4pOI.png?s=128&g=1", "display_name": "Funris", "link": "https://stackoverflow.com/users/9534986/funris"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1525269890, "post_id": 50136548, "comment_id": 87291330, "body": "Is it possible to change the color of a group of elements at once? Or if you know how to change a whole theme of an app without selecting and changing the color of the elements manually."}, {"owner": {"reputation": 1379, "user_id": 7436540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHYZ6.png?s=128&g=1", "display_name": "Lucas De Morais Cabrales", "link": "https://stackoverflow.com/users/7436540/lucas-de-morais-cabrales"}, "edited": false, "score": 0, "creation_date": 1525269894, "post_id": 50136548, "comment_id": 87291336, "body": "You have to use app themes for that. Create a new theme and change it programmatically. See: <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/themes\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/look-and-feel/themes</a>"}, {"owner": {"reputation": 41, "user_id": 9534986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4pOI.png?s=128&g=1", "display_name": "Funris", "link": "https://stackoverflow.com/users/9534986/funris"}, "reply_to_user": {"reputation": 1379, "user_id": 7436540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHYZ6.png?s=128&g=1", "display_name": "Lucas De Morais Cabrales", "link": "https://stackoverflow.com/users/7436540/lucas-de-morais-cabrales"}, "edited": false, "score": 0, "creation_date": 1525270007, "post_id": 50136548, "comment_id": 87291420, "body": "Thank you so much @LucasDeMoraisCabrales that was very helpful. Can you post an answer so I can mark is as useful?"}, {"owner": {"reputation": 1379, "user_id": 7436540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHYZ6.png?s=128&g=1", "display_name": "Lucas De Morais Cabrales", "link": "https://stackoverflow.com/users/7436540/lucas-de-morais-cabrales"}, "edited": false, "score": 0, "creation_date": 1525270434, "post_id": 50136548, "comment_id": 87291744, "body": "Alright glad I could help, that&#39;s done"}], "answers": [{"tags": [], "owner": {"reputation": 1379, "user_id": 7436540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHYZ6.png?s=128&g=1", "display_name": "Lucas De Morais Cabrales", "link": "https://stackoverflow.com/users/7436540/lucas-de-morais-cabrales"}, "is_accepted": false, "score": 2, "last_activity_date": 1525270415, "creation_date": 1525270415, "answer_id": 50136813, "question_id": 50136548, "link": "https://stackoverflow.com/questions/50136548/change-xml-color-programmatically/50136813#50136813", "title": "Change XML color programmatically", "body": "<p>It is not possible to change XML resource values at runtime as @CommonsWare commented.</p>\n\n<p>In order to change all colors dinamically, the best way is to use app themes for that. Create a new theme and change it programmatically. </p>\n\n<p>See: <a href=\"http://developer.android.com/guide/topics/ui/look-and-feel/themes\" rel=\"nofollow noreferrer\">Themes</a></p>\n"}], "owner": {"reputation": 41, "user_id": 9534986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4pOI.png?s=128&g=1", "display_name": "Funris", "link": "https://stackoverflow.com/users/9534986/funris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525270415, "creation_date": 1525269707, "last_edit_date": 1525270070, "question_id": 50136548, "link": "https://stackoverflow.com/questions/50136548/change-xml-color-programmatically", "title": "Change XML color programmatically", "body": "<p>Is it possible to change XML colors via Kotlin/java code.\nThere's only 5 colors in my app, and in the settings you can change the theme. I don't want to change each element to the new color, but I want to change the XML color so all the elements get the new colors.\nFor example:</p>\n\n<pre><code>&lt;color name=\"colorPrimary\"&gt;#6c6c6c&lt;/color&gt;\n</code></pre>\n\n<p>I want to change it whenever a switch element is <code>ON</code> to</p>\n\n<pre><code>&lt;color name=\"colorPrimary\"&gt;#212121&lt;/color&gt;\n</code></pre>\n\n<p>The main Idea is I want all the elements to get their colors from a source.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 0, "last_activity_date": 1525327077, "creation_date": 1525327077, "answer_id": 50147907, "question_id": 50136456, "link": "https://stackoverflow.com/questions/50136456/main-function-terminates-before-coroutines/50147907#50147907", "title": "Main function terminates before coroutines", "body": "<p>The <code>Consumer.consume()</code>-Method is incorrect. Remove the <code>=produce&lt;Int&gt;</code> part and it will work:</p>\n\n<pre><code>suspend fun consume(producer: Producer?, channel: Channel&lt;Int&gt;) {\n    println(\"Trying to consume producer: ${producer?.resource}\")\n    producer?.getConsumed(channel)\n    while(true) {\n        var recv = channel.receive()\n        if(recv == 0) break\n        resource += recv\n    }\n    println(\"Consumed in total: \" + resource)\n}\n</code></pre>\n\n<p>BTW: The <code>Producer.getConsumed()</code>-Method uses <code>=produce&lt;Int&gt;</code>in the wrong way. <code>produce</code> creates a new channel that is never used. It only happens to work due some internal implementation detail of the <code>produce</code>-Method. You should use <code>launch</code> to start the second Coroutine explicitly.</p>\n\n<pre><code>suspend fun getConsumed(channel: Channel&lt;Int&gt;) = launch {\n    println(\"Someone is trying to consume me...\")\n    while(true) {\n        channel.send(1)\n        resource--\n        println(\"I have ${resource} things left.\")\n        if(resource &lt;= 0) {\n            break\n        }\n        var sleep = ((Random().nextDouble())*1000).toLong()\n        println(\"sleeping for ${sleep} ms\")\n        delay(1000)\n\n    }\n    println(\"I'm used up! I have ${resource} resources.\")\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9730594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1bb4357e26175d260d5bb1fa4fcc8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian G", "link": "https://stackoverflow.com/users/9730594/sebastian-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525327077, "creation_date": 1525269476, "question_id": 50136456, "link": "https://stackoverflow.com/questions/50136456/main-function-terminates-before-coroutines", "title": "Main function terminates before coroutines", "body": "<p>I'm working on a project in a course in process oriented programming. </p>\n\n<p>I'm trying to launch two objects (a producer and consumer) in a coroutine, and then let a producer get consumed. I then tell the main function to wait for the coroutine to finish with Job.join(). However, this doesn't seem to work. Because the invokeOnCompletion function is executed before produce/consume cycle has even started. I've included the code and output below and would appreciate any input. </p>\n\n<p>This is project in a course in process oriented programming. The ultimate goal is to spawn multiple object instances and let them communicate using channels. I've never written code in kotlin before and have never used coroutines. Is this even possible, or have I misinterpreted coroutines? </p>\n\n<pre><code>class Producer(val idvar: Int) {\n    var resource: Int = 10\n\n    init {\n        println(\"${idvar} was created.\")\n    }\n\n    suspend fun getConsumed(channel: Channel&lt;Int&gt;) = produce&lt;Int&gt; {\n        println(\"Someone is trying to consume me...\")\n        while(true) {\n            channel.send(1)\n            resource--\n            println(\"I have ${resource} things left.\")\n            if(resource &lt;= 0) {\n                break\n            }\n            var sleep = ((Random().nextDouble())*1000).toLong()\n            println(\"sleeping for ${sleep} ms\")\n            delay(1000)\n\n        }\n        println(\"I'm used up! I have ${resource} resources.\")\n\n    }\n}\n\nclass Consumer() {\n    var resource: Int = 0\n\n    suspend fun consume(producer: Producer?, channel: Channel&lt;Int&gt;) = produce&lt;Int&gt; {\n        println(\"Trying to consume producer: ${producer?.resource}\")\n        producer?.getConsumed(channel)\n        while(true) {\n            var recv = channel.receive()\n            if(recv == 0) break\n            resource += recv\n        }\n        println(\"Consumed in total: \" + resource)\n    }\n}\n\n\nfun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n\n    val prodJob = launch {\n        var prodObj: Producer = Producer(1)\n        var consumObj: Consumer = Consumer()\n        val chan = Channel&lt;Int&gt;()\n        consumObj.consume(prodObj, chan)\n\n        // Why does this println print before the above line is complete?\n        println(\"Comsumption done.\")\n    }\n\n    // invokeOnCompletion is executed before production/consumption is done?\n    prodJob.invokeOnCompletion { println(\"Consumption is done?\") }\n\n    // Main could do other stuff here. \n\n    // Since prodJob is regarded as complete, main joins instantly.\n    prodJob.join()\n    println(\"Joined...\")\n}\n</code></pre>\n\n<p>The output is: </p>\n\n<pre><code>1 was created.\nComsumption done.\nTrying to consume producer: 10\nConsumption is done?\nSomeone is trying to consume me...\nI have 9 things left.\nsleeping for 310 ms\nJoined...\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1688, "user_id": 1056460, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AuP3C.jpg?s=128&g=1", "display_name": "DanielM", "link": "https://stackoverflow.com/users/1056460/danielm"}, "edited": false, "score": 0, "creation_date": 1525269544, "post_id": 50136398, "comment_id": 87291055, "body": "why not simply call a method with the logic you want?"}, {"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "reply_to_user": {"reputation": 1688, "user_id": 1056460, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AuP3C.jpg?s=128&g=1", "display_name": "DanielM", "link": "https://stackoverflow.com/users/1056460/danielm"}, "edited": false, "score": 0, "creation_date": 1525269672, "post_id": 50136398, "comment_id": 87291166, "body": "Completely new to <code>Kotlin</code>. Sorry if it was a dumb question. But was not able to connect with <code>Java</code> mindset :-P"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1525269482, "creation_date": 1525269482, "answer_id": 50136458, "question_id": 50136398, "link": "https://stackoverflow.com/questions/50136398/if-condition-inside-the-data-class-constructor-in-kotlin/50136458#50136458", "title": "if condition inside the data class constructor in kotlin", "body": "<p>It's pretty straightforward:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    TestClass(if (currentTimeMillis() % 2 == 0L) \"x\" else \"y\")\n}\n\ndata class TestClass(val text: String)\n</code></pre>\n\n<p>There's <a href=\"https://stackoverflow.com/a/46843369/8073652\">no ternary operator</a> in Kotlin since <code>if</code> is an expression as shown in the simplified example above.</p>\n"}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1736, "favorite_count": 0, "accepted_answer_id": 50136458, "answer_count": 1, "score": 1, "last_activity_date": 1525269482, "creation_date": 1525269314, "question_id": 50136398, "link": "https://stackoverflow.com/questions/50136398/if-condition-inside-the-data-class-constructor-in-kotlin", "title": "if condition inside the data class constructor in kotlin", "body": "<p>I have a <code>data class</code> and I am creating an <code>object</code> of it. I am passing parameter values like this:</p>\n\n<pre><code>val leadDetails = AddLeadDetails(AgentId = agent.UserId,\n                Name = leadUserName.text.toString().trim(),\n                MobileNo = leadMobileNumber.text.toString().trim(),\n                ProductType = productTypeId,\n                LoanType = productTypeItem,\n                ApplicationStatus = //if condition to put value i.e if(string == \"s\") \"One value\" else \"Second Value\"\n                Amount = productAmountText.text.toString().trim(),\n                Pincode = pinCodeText.text.toString().trim(),\n                Remarks = customerRemarks.text.toString().trim(),\n                Type = referType!!)\n</code></pre>\n\n<p>I want to add a value to <code>ApplicationStatus</code> based on <code>if</code> condition. How can I achieve that ?</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "okhttp3"], "comments": [{"owner": {"reputation": 340, "user_id": 8450860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cy3zy.jpg?s=128&g=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/8450860/naveen"}, "edited": false, "score": 0, "creation_date": 1542697770, "post_id": 50135304, "comment_id": 93651125, "body": "Have you got any solutions?"}, {"owner": {"reputation": 542, "user_id": 2854883, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Hkf3A.jpg?s=128&g=1", "display_name": "Harshad07", "link": "https://stackoverflow.com/users/2854883/harshad07"}, "reply_to_user": {"reputation": 340, "user_id": 8450860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cy3zy.jpg?s=128&g=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/8450860/naveen"}, "edited": false, "score": 0, "creation_date": 1542699529, "post_id": 50135304, "comment_id": 93651922, "body": "@Naveen  - The app API only works in network which is in VPN , so I switched my wifi to VPN(wifi) and problem solved"}], "owner": {"reputation": 542, "user_id": 2854883, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Hkf3A.jpg?s=128&g=1", "display_name": "Harshad07", "link": "https://stackoverflow.com/users/2854883/harshad07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1106, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525266055, "creation_date": 1525266055, "question_id": 50135304, "link": "https://stackoverflow.com/questions/50135304/java-io-ioexception-unexpected-end-of-stream-on-connection", "title": "java.io.IOException: unexpected end of stream on Connection", "body": "<p>I am getting this issue with <strong>Retrofit</strong>  but with postman it is working fine.</p>\n\n<blockquote>\n  <p>java.io.IOException: unexpected end of stream on\n  Connection{2.test.esb.demoapp.com:80, proxy=DIRECT\n  hostAddress=2.test.esb.demoapp.com/172.16.33.156:80 cipherSuite=none\n  protocol=http/1.1}</p>\n</blockquote>\n\n<p>Calling retrofit api with following method:</p>\n\n<pre><code>override fun registerDevice(deviceType: String, deviceId: String, deviceToken: String, description: String): Flowable&lt;DefaultResponse&gt; {\n\n    val paramObject = JSONObject()\n    paramObject.put(\"deviceType\",\"2\")\n    paramObject.put(\"deviceId\",\"45334343434dsdsdfgvxfg\")\n    paramObject.put(\"deviceToken\",\"fgfdsd3443434sdsdsd\")\n    paramObject.put(\"description\",\"Test\")\n\n\n    var deviceRegisterSuccess = demoService.registerNewDevice(paramObject)\n    return deviceRegisterSuccess;\n\n}\n</code></pre>\n\n<p><strong>DemoService.kt</strong></p>\n\n<pre><code>interface DemoService {\n\n@POST(\"/v1/device/register\")\n@Headers(\"Content-Type: application/json\")\nfun registerNewDevice(@Body request: JSONObject) : Flowable&lt;DefaultResponse&gt;\n\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "spek"], "answers": [{"comments": [{"owner": {"reputation": 198, "user_id": 7719792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab3da5a7d84ebe317a2096a07770818?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Kollegger", "link": "https://stackoverflow.com/users/7719792/manuel-kollegger"}, "edited": false, "score": 0, "creation_date": 1526287048, "post_id": 50299968, "comment_id": 87667927, "body": "Thanks a lot. That was exactly what I did in the end. Thanks for writing it all out. This has the big advantage that I can now have Spek, JUnit4 and JUnit5 in the same source set."}, {"owner": {"reputation": 2833, "user_id": 1824898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2590cf264facfb642d166ab19bcf9035?s=128&d=identicon&r=PG", "display_name": "\u041a\u043b\u0430\u0443\u0441 \u0428\u0432\u0430\u0440\u0446", "link": "https://stackoverflow.com/users/1824898/%d0%9a%d0%bb%d0%b0%d1%83%d1%81-%d0%a8%d0%b2%d0%b0%d1%80%d1%86"}, "reply_to_user": {"reputation": 198, "user_id": 7719792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab3da5a7d84ebe317a2096a07770818?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Kollegger", "link": "https://stackoverflow.com/users/7719792/manuel-kollegger"}, "edited": false, "score": 0, "creation_date": 1526389760, "post_id": 50299968, "comment_id": 87717980, "body": "Same here. Though kotlin stack still at its infancy it already can do a lot."}], "tags": [], "owner": {"reputation": 2833, "user_id": 1824898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2590cf264facfb642d166ab19bcf9035?s=128&d=identicon&r=PG", "display_name": "\u041a\u043b\u0430\u0443\u0441 \u0428\u0432\u0430\u0440\u0446", "link": "https://stackoverflow.com/users/1824898/%d0%9a%d0%bb%d0%b0%d1%83%d1%81-%d0%a8%d0%b2%d0%b0%d1%80%d1%86"}, "is_accepted": true, "score": 4, "last_activity_date": 1526071235, "creation_date": 1526071235, "answer_id": 50299968, "question_id": 50135110, "link": "https://stackoverflow.com/questions/50135110/use-junit5-tags-for-spek/50299968#50299968", "title": "Use JUnit5 Tags for Spek", "body": "<p>today I ran exactly into the same problem. I had to separate tests into 3 sections: Unit, Service (testing REST API) and Integration (WebDriver).</p>\n\n<p><em>Disclamer:</em> this guide is applicable for any testing framework, not only to <code>Spek</code>. <code>Gradle 4.6</code> or newer is required to run this.</p>\n\n<p><strong>Separate test source set into source sets</strong></p>\n\n<p>In my example they would be:</p>\n\n<ul>\n<li><code>src/test</code> \u2014 for Unit tests (you already have it)</li>\n<li><code>src/serviceTest</code> \u2014 for Service tests</li>\n<li><code>src/integrationTest</code> \u2014 for Integration tests</li>\n</ul>\n\n<p>all these sets should have standard source set structure. Create these folders inside your project and move your packages to corresponding source sets.  </p>\n\n<p>When it is done add to <code>build.gradle</code> before <code>dependency section</code> following lines:</p>\n\n<pre><code>sourceSets {\n    integrationTest {\n        compileClasspath += main.output\n        runtimeClasspath += main.output\n    }\n    serviceTest {\n        compileClasspath += main.output\n        runtimeClasspath += main.output\n    }\n}\n\nconfigurations {\n    integrationTestCompile.extendsFrom testCompile\n    integrationTestRuntime.extendsFrom testRuntime\n\n    serviceTestCompile.extendsFrom testCompile\n    serviceTestRuntime.extendsFrom testRuntime\n}\n</code></pre>\n\n<p>After you do this your IDE (I suppose you use Idea) should reindex <code>build.gradle</code> and recognize source sets. You may have errors in your new source sets because they do not see each other sources. That's correct, because these source sets intended to run independently, and should not be a problem. </p>\n\n<p><strong>Separate <code>dependencies</code> to appropriate configurations</strong> (Optional)</p>\n\n<p>By default <code>serviceTest</code> and <code>integrationTest</code> inherit all <code>test</code> dependencies, but if you need to move something specific to certain configuration out of common scope, you can do this here. </p>\n\n<p>In my case <code>WebDriver</code> is quite heavy and I do not need it anywhere except integration testing. </p>\n\n<pre><code>dependencies {\n    // available for all scopes\n    testCompile \"org.jetbrains.spek:spek-api:$spekVersion\"\n    testRuntime \"org.jetbrains.spek:spek-junit-platform-engine:$spekVersion\"\n    testCompile \"org.junit.platform:junit-platform-launcher:$junitPlatformVersion\"\n\n    // compiles only for integrationTest\n    integrationTestCompile \"org.seleniumhq.selenium:selenium-java:3.11.0\"\n    integrationTestCompile \"org.seleniumhq.selenium.fluent:fluent-selenium:1.19\"\n}\n</code></pre>\n\n<p><strong>Setup execution order</strong></p>\n\n<p>We will need to add gradle task of Test type and setup it. You can have different settings for different test tasks.</p>\n\n<pre><code>task serviceTest(type: Test) {\n    // Runs tests from src/serviceTest\n    testClassesDirs = sourceSets.serviceTest.output.classesDirs\n    classpath = sourceSets.serviceTest.runtimeClasspath\n}\n// Setup serviceTest task \nserviceTest {\n    // Uncomment this if you need to skip tests from the set after first failure. Since Gradle 4.6\n    //failFast = true\n\n    // Enable some logging\n    testLogging {\n        events \"PASSED\", \"FAILED\", \"SKIPPED\"\n    }\n\n    // Enable JUnit5 tests\n    useJUnitPlatform {\n    }\n}\n</code></pre>\n\n<p>Do the same for integrationTest.</p>\n\n<p>Finally, setup the dependencies and order of execution:</p>\n\n<pre><code>// Make service tests run during gradle check\ncheck.dependsOn serviceTest\ncheck.dependsOn integrationTest\n\n// Make service tests run after unit tests\nserviceTest.mustRunAfter test\n// Make integration tests run after service tests\nintegrationTest.mustRunAfter serviceTest\n</code></pre>\n\n<p><strong>Conclusion</strong></p>\n\n<p>You will get:</p>\n\n<ol>\n<li>Chain of <code>Unit -&gt; Service -&gt; Integration</code> test suites running in strict order;</li>\n<li>If you will get a test failure (regardless of <code>failFast</code> option) in one test suite, the remaining won't run and waste resources;</li>\n<li>Ability to run from console each suite separately within execution of <code>gradle &lt;task&gt;</code>.</li>\n</ol>\n\n<p>Additional resources:</p>\n\n<ul>\n<li>Here is <a href=\"https://github.com/paul-hammant/jooby-tiddlywiki-backend/blob/207847c82b5f5c289e1a617e32d5c5a0bf0fe4f3/build.gradle\" rel=\"nofollow noreferrer\">the sample <code>build.gradle</code></a> that implements this setup with <code>Spek</code></li>\n<li><a href=\"https://docs.gradle.org/4.6/release-notes.html\" rel=\"nofollow noreferrer\">Release notes</a> of gradle 4.6 version introducing a lot of stuff related to testing. </li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 198, "user_id": 7719792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab3da5a7d84ebe317a2096a07770818?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Kollegger", "link": "https://stackoverflow.com/users/7719792/manuel-kollegger"}, "is_accepted": false, "score": 0, "last_activity_date": 1526287165, "creation_date": 1526287165, "answer_id": 50326165, "question_id": 50135110, "link": "https://stackoverflow.com/questions/50135110/use-junit5-tags-for-spek/50326165#50326165", "title": "Use JUnit5 Tags for Spek", "body": "<p>Another thing to consider when using IntelliJ and it having dependency problems with the new source sets, add this to your build.gradle:</p>\n\n<pre><code>apply plugin: 'idea'\nidea {\n    module {\n        testSourceDirs += project.sourceSets.unitTest.kotlin.srcDirs\n        testSourceDirs += project.sourceSets.unitTest.resources.srcDirs\n        testSourceDirs += project.sourceSets.integrationTest.kotlin.srcDirs\n        testSourceDirs += project.sourceSets.integrationTest.resources.srcDirs\n        testSourceDirs += project.sourceSets.functionalTest.kotlin.srcDirs\n        testSourceDirs += project.sourceSets.functionalTest.resources.srcDirs\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 198, "user_id": 7719792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab3da5a7d84ebe317a2096a07770818?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Kollegger", "link": "https://stackoverflow.com/users/7719792/manuel-kollegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1042, "favorite_count": 0, "accepted_answer_id": 50299968, "answer_count": 2, "score": 5, "last_activity_date": 1526287165, "creation_date": 1525265486, "question_id": 50135110, "link": "https://stackoverflow.com/questions/50135110/use-junit5-tags-for-spek", "title": "Use JUnit5 Tags for Spek", "body": "<p>I am trying to distinguish my tests into Unit- and Integration tests.\nMy idea was to use the new JUnit5 Annotation <code>@Tag(\"unit\")</code> which works nicely for my JUnit tests, but I cannot get it to work with Spek.</p>\n\n<p>What I currently have is my class:</p>\n\n<pre><code>data class MyObject(val value: Int)\n</code></pre>\n\n<p>My tests:</p>\n\n<pre><code>@Tag(\"unit\")\nobject MyObjectTest {\n\n    @Test\n    fun checkEquality() {\n        val o1 = MyObject(1)\n        assertEquals(o1, o1)\n    }\n}\n</code></pre>\n\n<p>With my build.gradle having:</p>\n\n<pre><code>task utest(type: Test) {\n    outputs.upToDateWhen { false }\n    useJUnitPlatform {\n        includeEngines 'junit-jupiter', 'junit-vintage', 'spek'\n        includeTags 'unit'\n        excludeTags 'performance', 'integration', 'functional'\n    }\n\n\n    testLogging {\n        events \"passed\", \"skipped\", \"failed\"\n    }\n}\n</code></pre>\n\n<p>When I execute utest, this works.\nHowever when doing the same with Spek:</p>\n\n<pre><code>@Tag(\"unit\")\nobject MyObjectSpek : Spek({\n\n   given(\"an Object\") {\n       val o1 = MyObject(1)\n\n       it(\"should be equal to itself\") {\n           assertEquals(o1, o1)\n       }\n   }\n})\n</code></pre>\n\n<p>What happens is if I run the gradle task utest it only executes the methods from <code>MyObjectTest</code> and does not execute the tests for <code>MyObjectSpek</code></p>\n\n<p>Any ideas on how to integrate Spek with JUnit5 Tags or another idea to seperate unit tests and integration tests?</p>\n"}, {"tags": ["java", "arrays", "kotlin"], "comments": [{"owner": {"reputation": 1785, "user_id": 4908882, "user_type": "registered", "accept_rate": 26, "profile_image": "https://graph.facebook.com/10153305927103850/picture?type=large", "display_name": "Emre &#214;nder", "link": "https://stackoverflow.com/users/4908882/emre-%c3%96nder"}, "edited": false, "score": 1, "creation_date": 1525265338, "post_id": 50135026, "comment_id": 87288058, "body": "Please add some context to question. Also look at how you should post code in community. <a href=\"https://stackoverflow.com/tour\">stackoverflow.com/tour</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9603631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e143252add3b39bfbf9d673e5b957a11?s=128&d=identicon&r=PG&f=1", "display_name": "s-k", "link": "https://stackoverflow.com/users/9603631/s-k"}, "edited": false, "score": 0, "creation_date": 1525428986, "post_id": 50138366, "comment_id": 87362126, "body": "Thank you, I need only one output at a time. But I need it printed outside the function, something like an output of the function that I can reuse in a different function."}], "tags": [], "owner": {"reputation": 1024, "user_id": 2802266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abcf746ec0b2e42456acf63be92bff01?s=128&d=identicon&r=PG&f=1", "display_name": "JoaoLopesF", "link": "https://stackoverflow.com/users/2802266/joaolopesf"}, "is_accepted": false, "score": 0, "last_activity_date": 1525275072, "creation_date": 1525275072, "answer_id": 50138366, "question_id": 50135026, "link": "https://stackoverflow.com/questions/50135026/im-new-to-kotlin-can-any-one-help-how-to-printlnoriginallisti-out-side-the/50138366#50138366", "title": "I&#39;m new to kotlin, can any one help how to println(originalList[i]) out side the function", "body": "<p>s-k, you have any mistakes here:</p>\n\n<p>for (i in 1..1) ****(only 1 until 1 its give 1 time)</p>\n\n<p>println(originalList[i]) ****(its is out of for statment {})</p>\n\n<p>one ajustment suggest is :</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;)\n{\n\n    val originalList = arrayOf(\"sathish\", \"ramesh\", \"kumar\", \"rajesh\", \"ram\", \"kom\")\n\n\n    for (i in 0..(originalList.size - 1)) {\n\n       var t: Int = ((Math.random() * originalList.count()).toInt())\n\n       println(\"Num $i : $t -&gt; ${originalList[i]}\")\n\n     }\n\n  }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9603631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e143252add3b39bfbf9d673e5b957a11?s=128&d=identicon&r=PG&f=1", "display_name": "s-k", "link": "https://stackoverflow.com/users/9603631/s-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1525275072, "creation_date": 1525265233, "last_edit_date": 1525265613, "question_id": 50135026, "link": "https://stackoverflow.com/questions/50135026/im-new-to-kotlin-can-any-one-help-how-to-printlnoriginallisti-out-side-the", "title": "I&#39;m new to kotlin, can any one help how to println(originalList[i]) out side the function", "body": "<pre><code>fun main(args: Array&lt;String&gt;)\n{\n    val originalList = arrayOf(\"sathish\", \"ramesh\", \"kumar\", \"rajesh\", \"ram\", \"kom\")\n\n    for (i in 1..1)\n    {\n       var t: Int = ((Math.random() * originalList.count()).toInt())\n       println(\"Num $i : \" +t)\n    }\n\n}\nprintln(originalList[i])\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 4990767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Py5kZxkFsE0/AAAAAAAAAAI/AAAAAAAACTk/gMhrQDXJHK4/photo.jpg?sz=128", "display_name": "mjrgr", "link": "https://stackoverflow.com/users/4990767/mjrgr"}, "is_accepted": true, "score": 15, "last_activity_date": 1527065098, "creation_date": 1527065098, "answer_id": 50483754, "question_id": 50134525, "link": "https://stackoverflow.com/questions/50134525/kotlin-jpa-plugin-with-spring-boot-2-error/50483754#50483754", "title": "Kotlin JPA plugin with Spring Boot 2 error", "body": "<p>you should add <strong>kotlin-reflect</strong> dependency from <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect/1.2.41\" rel=\"noreferrer\">maven repo</a></p>\n"}], "owner": {"reputation": 67, "user_id": 7626771, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_e-eShEelOU/AAAAAAAAAAI/AAAAAAAAABU/ImbQd2mtSIA/photo.jpg?sz=128", "display_name": "Eugene", "link": "https://stackoverflow.com/users/7626771/eugene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2262, "favorite_count": 0, "accepted_answer_id": 50483754, "answer_count": 1, "score": 2, "last_activity_date": 1527065098, "creation_date": 1525263596, "question_id": 50134525, "link": "https://stackoverflow.com/questions/50134525/kotlin-jpa-plugin-with-spring-boot-2-error", "title": "Kotlin JPA plugin with Spring Boot 2 error", "body": "<p>Having problems starting application with Spring Boot 2 and applied kotlin-jpa plugin. But works fine with Spring Boot 1.5.9.</p>\n\n<p>java version - 1.8<br>\nkotlin version - 1.2.41<br>\nspring boot version - 2.0.1.RELEASE</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: kotlin/reflect/full/KClasses\n    at org.springframework.beans.BeanUtils$KotlinDelegate.findPrimaryConstructor(BeanUtils.java:727) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.BeanUtils.findPrimaryConstructor(BeanUtils.java:200) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:286) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 14 common frames omitted\nCaused by: java.lang.ClassNotFoundException: kotlin.reflect.full.KClasses\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_111]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_111]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331) ~[na:1.8.0_111]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_111]\n    ... 21 common frames omitted\n</code></pre>\n"}, {"tags": ["json", "kotlin", "kotlinx.serialization"], "comments": [{"owner": {"reputation": 3194, "user_id": 4991677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7dabe78477c4b3697c3284fb556b1eca?s=128&d=identicon&r=PG&f=1", "display_name": "FDavidov", "link": "https://stackoverflow.com/users/4991677/fdavidov"}, "edited": false, "score": 1, "creation_date": 1525259720, "post_id": 50133246, "comment_id": 87284501, "body": "What you are looking for is against the standard. You have an object with a variety of elements, including one named &quot;field&quot; (as in your example). In some cases, it just happens that this specific element was not assigned any value and hence it is <code>null</code>. This does <b>NOT</b> mean that the element had been removed from the object."}], "answers": [{"tags": [], "owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "is_accepted": true, "score": 1, "last_activity_date": 1525366242, "creation_date": 1525366242, "answer_id": 50160195, "question_id": 50133246, "link": "https://stackoverflow.com/questions/50133246/kotlinx-json-stringify-ignore-null-values/50160195#50160195", "title": "kotlinx JSON.stringify ignore null values", "body": "<p>Currently it's not possible, but you may want to keep track of this issue: <a href=\"https://github.com/Kotlin/kotlinx.serialization/issues/58\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.serialization/issues/58</a> </p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 865, "favorite_count": 0, "accepted_answer_id": 50160195, "answer_count": 1, "score": 2, "last_activity_date": 1525366242, "creation_date": 1525259456, "question_id": 50133246, "link": "https://stackoverflow.com/questions/50133246/kotlinx-json-stringify-ignore-null-values", "title": "kotlinx JSON.stringify ignore null values", "body": "<p>Is there a way to ignore null values when stringify? Currently it renders as:</p>\n\n<p>\"field\":null</p>\n\n<p>it would be great if there is a way that null fields are not rendered at all - but I did not find such an option. Anyone knows how this can work?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 8244705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEblD.jpg?s=128&g=1", "display_name": "J. Leander", "link": "https://stackoverflow.com/users/8244705/j-leander"}, "is_accepted": true, "score": 2, "last_activity_date": 1525259798, "last_edit_date": 1525259798, "creation_date": 1525259490, "answer_id": 50133257, "question_id": 50133068, "link": "https://stackoverflow.com/questions/50133068/how-to-send-a-jsonarray-in-a-post-request-in-kotlin/50133257#50133257", "title": "How to send a JSONArray in a POST Request in Kotlin?", "body": "<p>You can call <code>toString()</code> on the JSONArray, which turns it into a Json string and set the body of your post request to that string, although I'm not sure of the specific requirements of the khttp and Fuel libraries.</p>\n\n<p><a href=\"https://developer.android.com/reference/org/json/JSONArray.html#toString()\" rel=\"nofollow noreferrer\">JSONArray docs</a></p>\n"}], "owner": {"reputation": 373, "user_id": 2092778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271848c4467a0c805077ce33ee7eea4a?s=128&d=identicon&r=PG", "display_name": "Karl", "link": "https://stackoverflow.com/users/2092778/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 50133257, "answer_count": 1, "score": 1, "last_activity_date": 1525259798, "creation_date": 1525258907, "question_id": 50133068, "link": "https://stackoverflow.com/questions/50133068/how-to-send-a-jsonarray-in-a-post-request-in-kotlin", "title": "How to send a JSONArray in a POST Request in Kotlin?", "body": "<p>I need to send an Array of JSONObjects from my Android App to an API. I've not found a way to do this with libraries such as khttp and Fuel other than looping over all objects and sending them one by one which I think is very inefficient. \nSo my question is, how can I send an entire JSONArray in a POST request?</p>\n"}, {"tags": ["android", "kotlin", "gson"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1525257859, "post_id": 50132718, "comment_id": 87283325, "body": "use <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a> to generate pojo class"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1525257939, "post_id": 50132718, "comment_id": 87283386, "body": "Gson knows nothing about <code>org.json.JSONObject</code> feel free to write custom <code>TypeAdapter&lt;&gt;</code> ... or just use <code>Map&lt;String, String&gt;</code> if you don&#39;t want create another POJO class for picture"}], "answers": [{"tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": true, "score": 1, "last_activity_date": 1525257935, "creation_date": 1525257935, "answer_id": 50132756, "question_id": 50132718, "link": "https://stackoverflow.com/questions/50132718/parse-data-from-server-using-gson-with-jsonobject-in-data/50132756#50132756", "title": "Parse Data from server using Gson with JSONObject in data", "body": "<pre><code>\"picture\": {\n    \"url\": \"https:\\/\\/firebasestorage.googleapis.com\\/v0\\/b\\/bitbuy-bitbuy.appspot.com\\/o\\/user%2FPvIMsjink1UcrwXZ4gb899W5Kxo2%2FDepositphotos_59984669_s-2015.jpg?alt=media&amp;token=a562fd6d-98ff-4fb8-ad93-c251a5016b0d\",\n    \"name\": \"Depositphotos_32026397_m-2015.jpg\"\n  }\n</code></pre>\n\n<p>You should <strong>Rectify</strong> your <strong><code>MODEL</code></strong> class.</p>\n\n<pre><code>@SerializedName(\"picture\")\n@Expose\nprivate Picture picture;\n</code></pre>\n\n<p>// Set-Get Method</p>\n\n<pre><code>public Picture getPicture() {\nreturn picture;\n}\n\npublic void setPicture(Picture picture) {\nthis.picture = picture;\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>public class Picture {\n\n@SerializedName(\"url\")\n@Expose\nprivate String url;\n@SerializedName(\"name\")\n@Expose\nprivate String name;\n\npublic String getUrl() {\nreturn url;\n}\n\npublic void setUrl(String url) {\nthis.url = url;\n}\n\npublic String getName() {\nreturn name;\n}\n\npublic void setName(String name) {\nthis.name = name;\n}\n\n}\n</code></pre>\n\n<p>You can use <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\"><strong><code>jsonschema2pojo</code></strong></a>.</p>\n"}], "owner": {"reputation": 55, "user_id": 4355456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/914e960e8ad273c309ac18bbe86691a6?s=128&d=identicon&r=PG&f=1", "display_name": "Igor F.", "link": "https://stackoverflow.com/users/4355456/igor-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 50132756, "answer_count": 1, "score": 0, "last_activity_date": 1525257935, "creation_date": 1525257806, "question_id": 50132718, "link": "https://stackoverflow.com/questions/50132718/parse-data-from-server-using-gson-with-jsonobject-in-data", "title": "Parse Data from server using Gson with JSONObject in data", "body": "<p>I have a data which I receive from the server.</p>\n\n<pre><code>{\n  \"_id\": \"5a78263eab294307bebc2e6b\",\n  \"userID\": \"PvIMsjink1UcrwXZ4gb899W5Kxo2\",\n  \"name\": \"battery\",\n  \"price\": 22,\n  \"description\": \"t\",\n  \"__v\": 0,\n  \"boardVisibility\": \"MainBoard\",\n  \"date\": \"2018-02-05T09:39:10.597Z\",\n  \"picture\": {\n    \"url\": \"https:\\/\\/firebasestorage.googleapis.com\\/v0\\/b\\/bitbuy-bitbuy.appspot.com\\/o\\/user%2FPvIMsjink1UcrwXZ4gb899W5Kxo2%2FDepositphotos_59984669_s-2015.jpg?alt=media&amp;token=a562fd6d-98ff-4fb8-ad93-c251a5016b0d\",\n    \"name\": \"Depositphotos_32026397_m-2015.jpg\"\n  }\n}\n</code></pre>\n\n<p>Here is the Model class:</p>\n\n<pre><code>   @SerializedName(\"_id\")\n    private String _id;\n    @SerializedName(\"userID\")\n    private String userID;\n    @SerializedName(\"name\")\n    private String name;\n    @SerializedName(\"price\")\n    private double price;\n    @SerializedName(\"description\")\n    private String description;\n    @SerializedName(\"date\")\n    private String date;\n    @SerializedName(\"picture\")\n    private JSONObject picture;\n</code></pre>\n\n<p>Here is how I set the data to <code>ArrayList</code>:</p>\n\n<pre><code>userItemsArr = Gson().fromJson&lt;List&lt;UserItem&gt;&gt;(gsonObj.getJSONArray(\"docs\").toString(), turnsType) as ArrayList&lt;UserItem&gt;\n</code></pre>\n\n<p>The issue is that the <code>picture</code> value in response contains another JSONObject so in my model class I get an empty JSONObject.</p>\n"}, {"tags": ["java", "gradle", "javafx", "jar", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1525256576, "post_id": 50131786, "comment_id": 87282424, "body": "Does <code>gradle run</code> work?"}, {"owner": {"reputation": 494, "user_id": 1119016, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/206b4c7dbbb3a414b67cd4eaede8f450?s=128&d=identicon&r=PG", "display_name": "Eduard Grinchenko", "link": "https://stackoverflow.com/users/1119016/eduard-grinchenko"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1525258514, "post_id": 50131786, "comment_id": 87283728, "body": "Yes, it&#39;s working"}], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 3073044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rHUK.jpg?s=128&g=1", "display_name": "Renann", "link": "https://stackoverflow.com/users/3073044/renann"}, "edited": false, "score": 0, "creation_date": 1542550425, "post_id": 50151479, "comment_id": 93600186, "body": "I have a similar issue. After removing a dependency, it now works.  Did you find a way to keep using the dependency and make it work. This issue is very weird."}], "tags": [], "owner": {"reputation": 494, "user_id": 1119016, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/206b4c7dbbb3a414b67cd4eaede8f450?s=128&d=identicon&r=PG", "display_name": "Eduard Grinchenko", "link": "https://stackoverflow.com/users/1119016/eduard-grinchenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1525339579, "creation_date": 1525339579, "answer_id": 50151479, "question_id": 50131786, "link": "https://stackoverflow.com/questions/50131786/cant-find-main-class-in-jar-in-kotlin-application-build-with-gradle/50151479#50151479", "title": "Can&#39;t find Main class in Jar in Kotlin application build with gradle", "body": "<p>The problem was with dependency <code>org.mapdb:mapdb:3.0.5</code>. Removing it - solves the problem.</p>\n"}], "owner": {"reputation": 494, "user_id": 1119016, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/206b4c7dbbb3a414b67cd4eaede8f450?s=128&d=identicon&r=PG", "display_name": "Eduard Grinchenko", "link": "https://stackoverflow.com/users/1119016/eduard-grinchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 1, "accepted_answer_id": 50151479, "answer_count": 1, "score": 0, "last_activity_date": 1525339579, "creation_date": 1525254976, "last_edit_date": 1525339518, "question_id": 50131786, "link": "https://stackoverflow.com/questions/50131786/cant-find-main-class-in-jar-in-kotlin-application-build-with-gradle", "title": "Can&#39;t find Main class in Jar in Kotlin application build with gradle", "body": "<p>I have a javaFx Kotlin application build with gradle.\nIt's a file containing main method:</p>\n\n<pre><code>package com.grined.toptal.invoice\n\nimport javafx.application.Application\n\nfun main(args: Array&lt;String&gt;) {\n    Application.launch(App::class.java)\n}\n</code></pre>\n\n<p>Gradle file looks like that:</p>\n\n<pre><code>version = '1.4'\n\n\nbuildscript {\n    ext.kotlin_version = '1.2.41'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'application'\n\nmainClassName = \"com.grined.toptal.invoice.MainKt\"\n\njar {\n    zip64 = true\n    manifest {\n        attributes \"Main-Class\": \"$mainClassName\"\n    }\n\n    from {\n        configurations.runtime.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\ndependencies {\n    compile \"org.mapdb:mapdb:3.0.5\"\n    ...\n}\n...\n</code></pre>\n\n<p>I'm calling <code>gradle clean build</code> to produce a jar.</p>\n\n<p>When I'm trying to call <code>java -jar jarName.jar</code> I see that error:</p>\n\n<p><code>Error: Could not find or load main class com.grined.toptal.invoice.MainKt\n</code></p>\n\n<p>I tried to use <code>Main</code> instead of <code>MainKt</code>, the same issue. Also, I checked content of jar file and there is a necessary file in a required place.</p>\n"}, {"tags": ["android", "kotlin", "accessibilityservice", "android-wear-2.0"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1525253288, "post_id": 50130830, "comment_id": 87280241, "body": "AFAIK I don&#39;t think there is a System Broadcast action for this. So you have to check at runtime . For more info read <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityService\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/accessibilityservice&zwnj;&#8203;/&hellip;</a>."}, {"owner": {"reputation": 1045, "user_id": 2549828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb6c3041a1a42fd8dae7cda9be3da38?s=128&d=identicon&r=PG", "display_name": "Phoca", "link": "https://stackoverflow.com/users/2549828/phoca"}, "edited": false, "score": 1, "creation_date": 1537453449, "post_id": 50130830, "comment_id": 91798031, "body": "For me, the AccessibilityService&#39;s <code>onDestroy</code> method is invoked reliably if the user disables it."}], "answers": [{"comments": [{"owner": {"reputation": 963, "user_id": 3415167, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48b1384ec8d31503c3b95e7fb1479f35?s=128&d=identicon&r=PG&f=1", "display_name": "user3415167", "link": "https://stackoverflow.com/users/3415167/user3415167"}, "edited": false, "score": 0, "creation_date": 1525324076, "post_id": 50131104, "comment_id": 87312780, "body": "Would this check if any of the accessibility services is on, or check for a specific accessibility service?"}, {"owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "reply_to_user": {"reputation": 963, "user_id": 3415167, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48b1384ec8d31503c3b95e7fb1479f35?s=128&d=identicon&r=PG&f=1", "display_name": "user3415167", "link": "https://stackoverflow.com/users/3415167/user3415167"}, "edited": false, "score": 0, "creation_date": 1525334093, "post_id": 50131104, "comment_id": 87317248, "body": "@user3415167 Look at my second answer. It seems like what you&#39;re looking for."}], "tags": [], "owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "is_accepted": false, "score": 0, "last_activity_date": 1525253457, "last_edit_date": 1525253457, "creation_date": 1525252769, "answer_id": 50131104, "question_id": 50130830, "link": "https://stackoverflow.com/questions/50130830/how-do-you-detect-when-user-turns-off-accessibility-service-in-android/50131104#50131104", "title": "How do you detect when user turns off accessibility service in Android?", "body": "<p>I don't know about any event, broadcast or callback that notifies applications about state changes in Accessibility Service. The best thing I can think of is to manually check service status occasionally:</p>\n\n<pre><code>AccessibilityManager am = (AccessibilityManager) getSystemService(ACCESSIBILITY_SERVICE);\nboolean isAccessibilityEnabled = am.isEnabled();\n</code></pre>\n\n<p>Docs: <a href=\"https://developer.android.com/reference/android/view/accessibility/AccessibilityManager.html#isEnabled()\" rel=\"nofollow noreferrer\">AccessibilityManager#isEnabled()</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1045, "user_id": 2549828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb6c3041a1a42fd8dae7cda9be3da38?s=128&d=identicon&r=PG", "display_name": "Phoca", "link": "https://stackoverflow.com/users/2549828/phoca"}, "edited": false, "score": 1, "creation_date": 1537453369, "post_id": 50149674, "comment_id": 91797972, "body": "Unfortunately this only checks if any accessibility service is enabled. It triggers when the first service is enabled or the last one disabled. The same applies for your first answer and <code>AccessibilityManager.isEnabled</code>"}, {"owner": {"reputation": 1730, "user_id": 1959110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sMBP9.jpg?s=128&g=1", "display_name": "galaxigirl", "link": "https://stackoverflow.com/users/1959110/galaxigirl"}, "reply_to_user": {"reputation": 1045, "user_id": 2549828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb6c3041a1a42fd8dae7cda9be3da38?s=128&d=identicon&r=PG", "display_name": "Phoca", "link": "https://stackoverflow.com/users/2549828/phoca"}, "edited": false, "score": 0, "creation_date": 1550414096, "post_id": 50149674, "comment_id": 96250811, "body": "As @Phoca said this method does not behave as one think it should. But accessibilityService will call onDestroy when disabled"}], "tags": [], "owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "is_accepted": false, "score": 1, "last_activity_date": 1525334185, "last_edit_date": 1525334185, "creation_date": 1525333868, "answer_id": 50149674, "question_id": 50130830, "link": "https://stackoverflow.com/questions/50130830/how-do-you-detect-when-user-turns-off-accessibility-service-in-android/50149674#50149674", "title": "How do you detect when user turns off accessibility service in Android?", "body": "<p><a href=\"https://developer.android.com/reference/android/view/accessibility/AccessibilityManager.AccessibilityStateChangeListener\" rel=\"nofollow noreferrer\"><code>interface AccessibilityManager.AccessibilityStateChangeListener</code></a>  </p>\n\n<blockquote>\n  <p>Listener for the system accessibility state. To listen for changes to the accessibility state on the device, implement this interface and register it with the system by calling <code>addAccessibilityStateChangeListener</code>.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // ...\n    AccessibilityManager am = (AccessibilityManager) getSystemService(Context.ACCESSIBILITY_SERVICE);\n    am.addAccessibilityStateChangeListener(new AccessibilityManager.AccessibilityStateChangeListener() {\n        @Override\n        public void onAccessibilityStateChanged(boolean b) {\n            Log.d(TAG,\"onAccessibilityStateChanged b=\" + b);\n            updateServiceStatus(b);\n        }\n    });\n    updateServiceStatus(am.isEnabled());\n}\n</code></pre>\n\n<p>More java examples on <a href=\"https://www.programcreek.com/java-api-examples/?class=android.view.accessibility.AccessibilityManager&amp;method=addAccessibilityStateChangeListener\" rel=\"nofollow noreferrer\">programcreek.com</a>.</p>\n"}], "owner": {"reputation": 963, "user_id": 3415167, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48b1384ec8d31503c3b95e7fb1479f35?s=128&d=identicon&r=PG&f=1", "display_name": "user3415167", "link": "https://stackoverflow.com/users/3415167/user3415167"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1715, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525334185, "creation_date": 1525251858, "last_edit_date": 1525252466, "question_id": 50130830, "link": "https://stackoverflow.com/questions/50130830/how-do-you-detect-when-user-turns-off-accessibility-service-in-android", "title": "How do you detect when user turns off accessibility service in Android?", "body": "<p>I'm developing an accessibility service in Android.\nI want to disable some functions when the user turns off accessibility service, but I'm not sure how I can detect that.</p>\n\n<p>I thought when user turns it off, it will call <code>onDestroy()</code>, but apparently, it's not being called. </p>\n\n<p>Is there any way to know when the user toggles off accessibility service? \nOr is there a function which gets called whenever user toggles off?</p>\n\n<p>(Just in case, I'm developing for Android wear.)</p>\n\n<p>Thanks very much!! \nI appreciate your help! :)</p>\n"}, {"tags": ["android", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1525251929, "post_id": 50130742, "comment_id": 87279405, "body": "Even disregarding syntactic errors, i don&#39;t see what arguments you&#39;d pass to the function that returns a function. I see a nullary function that returns a binary function."}, {"owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1525252235, "post_id": 50130742, "comment_id": 87279589, "body": "@MarkoTopolnik Ok, so please help me creating a function that has two arguments and returns a function with two arguments."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1525253228, "post_id": 50130742, "comment_id": 87280208, "body": "BTW what&#39;s a &quot;headless function&quot;? Did you mean a <code>val</code> holding a lambda instead of a regular function declaration?"}], "answers": [{"tags": [], "owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "is_accepted": false, "score": 2, "last_activity_date": 1525252253, "creation_date": 1525252253, "answer_id": 50130957, "question_id": 50130742, "link": "https://stackoverflow.com/questions/50130742/kotlin-function-that-receives-two-numbers-and-returns-sum-and-multiply-of-them/50130957#50130957", "title": "Kotlin function that receives two numbers and returns sum and multiply of them", "body": "<p>I have done same thing using below code and it worked.</p>\n\n<pre><code>var rtn:(Int,Int) -&gt; Unit = {x,y -&gt; println(\"${x} ${y}\")}\nval sumAndMultiply: (Int,Int) -&gt; Any = { a,b -&gt; rtn(a+b,a*b)}\nsumAndMultiply(1,3)\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>You want to return a function from your lambda function so, first of all you have to create the function which you want to return. So, i have created <code>rtn</code> function for this. I have created <code>rtn</code> also as a lambda function. You can create as you want. </p>\n\n<p>Then i have changed return type of <code>sumAndMultiply</code> lambda function and returned function <code>rtn</code> which we have created.</p>\n"}, {"tags": [], "owner": {"reputation": 17779, "user_id": 1303324, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ArFzi.jpg?s=128&g=1", "display_name": "Krzysztof At\u0142asik", "link": "https://stackoverflow.com/users/1303324/krzysztof-at%c5%82asik"}, "is_accepted": false, "score": 3, "last_activity_date": 1525252465, "creation_date": 1525252465, "answer_id": 50131019, "question_id": 50130742, "link": "https://stackoverflow.com/questions/50130742/kotlin-function-that-receives-two-numbers-and-returns-sum-and-multiply-of-them/50131019#50131019", "title": "Kotlin function that receives two numbers and returns sum and multiply of them", "body": "<p>Kotlin has no support for <a href=\"https://blog.jetbrains.com/kotlin/migrating-tuples/\" rel=\"nofollow noreferrer\">tuples</a>. You would have to use Pair:</p>\n\n<pre><code>val sumAndMultiply: ((Int,Int) -&gt; Pair&lt;Int,Int&gt;) = { a,b -&gt; Pair(a+b,a*b) }\n</code></pre>\n\n<p>Another solution would be to create data class, for example:</p>\n\n<pre><code>data class SumAndMultiplication(val sum: Int, val multiplication: Int)\nval sumAndMultiply2: ((Int,Int) -&gt; SumAndMultiplication) = { a,b -&gt; SumAndMultiplication(a+b,a*b) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "edited": false, "score": 0, "creation_date": 1525256219, "post_id": 50131136, "comment_id": 87282171, "body": "Correct in what way? Syntactically?"}, {"owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "edited": false, "score": 0, "creation_date": 1525256368, "post_id": 50131136, "comment_id": 87282274, "body": "Please add a sample of how to use binaryFunReturningBinaryFun and print the sum and multiply in this sample. thanks"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "edited": false, "score": 0, "creation_date": 1525256516, "post_id": 50131136, "comment_id": 87282376, "body": "I asked you several times to explain what you really want, but all I got is &quot;help me write a function taking two arguments, that returns a function taking two arguments&quot;. This is what I provided. I still have no idea what you want your function-returning function to actually do. Specifically, as I already stated, I don&#39;t see what role each of the four arguments should play (two to the outer function, two to the function it returns)."}, {"owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "edited": false, "score": 0, "creation_date": 1525256643, "post_id": 50131136, "comment_id": 87282465, "body": ":| actually I want to replace Listener interfaces with lambda functions"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "edited": false, "score": 1, "creation_date": 1525256674, "post_id": 50131136, "comment_id": 87282495, "body": "I have no way to help you further based on your input so far."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 4, "last_activity_date": 1525252887, "creation_date": 1525252887, "answer_id": 50131136, "question_id": 50130742, "link": "https://stackoverflow.com/questions/50130742/kotlin-function-that-receives-two-numbers-and-returns-sum-and-multiply-of-them/50131136#50131136", "title": "Kotlin function that receives two numbers and returns sum and multiply of them", "body": "<blockquote>\n  <p>please help me creating a function that has two arguments and returns a function with two arguments.</p>\n</blockquote>\n\n<p>This is a function that takes two arguments and returns a function with two arguments.</p>\n\n<pre><code>fun binaryFunReturningBinaryFun(a: Int, b: Int): (Int, Int) -&gt; Int =\n        { x, y -&gt; (a + x) * (b + y) }\n</code></pre>\n"}], "owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1267, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1525252887, "creation_date": 1525251547, "question_id": 50130742, "link": "https://stackoverflow.com/questions/50130742/kotlin-function-that-receives-two-numbers-and-returns-sum-and-multiply-of-them", "title": "Kotlin function that receives two numbers and returns sum and multiply of them", "body": "<p>I am newbie in Kotlin lambda expressions, I try to build a function to have two arguments and returns a function with to parameters:</p>\n\n<pre><code>val sumAndMultiply:(Int,Int) -&gt; (Int,Int) -&gt; Unit = { a,b -&gt; (a+b,a*b)}\n</code></pre>\n\n<p>But it's not compiling.\nGenerally how can I return a headless function in Kotlin?</p>\n"}, {"tags": ["android", "exception", "exception-handling", "kotlin", "google-places-api"], "comments": [{"owner": {"reputation": 359, "user_id": 6265353, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6po74.jpg?s=128&g=1", "display_name": "Rathiga Jesika", "link": "https://stackoverflow.com/users/6265353/rathiga-jesika"}, "edited": false, "score": 1, "creation_date": 1525842270, "post_id": 50130297, "comment_id": 87509102, "body": "your update helped me.. please make it as answer. thanks."}], "answers": [{"comments": [{"owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "edited": false, "score": 0, "creation_date": 1525263183, "post_id": 50133611, "comment_id": 87286632, "body": "I believe I have the correct import: <code>import com.google.android.gms.tasks.RuntimeExecutionException</code>"}, {"owner": {"reputation": 302, "user_id": 8244705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEblD.jpg?s=128&g=1", "display_name": "J. Leander", "link": "https://stackoverflow.com/users/8244705/j-leander"}, "reply_to_user": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "edited": false, "score": 0, "creation_date": 1525269428, "post_id": 50133611, "comment_id": 87290980, "body": "I think the actual thrown exception might be ApiException, which is uncaught and the RuntimeExecutionException is thrown later, because ApiException is uncaughed. I think this because it is nested within the exception message of RuntimeExecutionException. Can you verify this? I&#39;ll update my answer if this was the case."}, {"owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "edited": false, "score": 0, "creation_date": 1525271147, "post_id": 50133611, "comment_id": 87292313, "body": "I initially tried to catch <code>ApiException</code> but had the same problem, and that is when I switched to trying to catch <code>RuntimeExecutionException</code> instead"}, {"owner": {"reputation": 302, "user_id": 8244705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEblD.jpg?s=128&g=1", "display_name": "J. Leander", "link": "https://stackoverflow.com/users/8244705/j-leander"}, "reply_to_user": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "edited": false, "score": 0, "creation_date": 1525272543, "post_id": 50133611, "comment_id": 87293268, "body": "Do you get the same error when catching ApiException instead?"}, {"owner": {"reputation": 302, "user_id": 8244705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEblD.jpg?s=128&g=1", "display_name": "J. Leander", "link": "https://stackoverflow.com/users/8244705/j-leander"}, "reply_to_user": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "edited": false, "score": 0, "creation_date": 1525273186, "post_id": 50133611, "comment_id": 87293779, "body": "could you try to add this catch statement? <code>catch(e: Exception) { println(e::class.qualifiedName) }</code>"}, {"owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "edited": false, "score": 0, "creation_date": 1525339247, "post_id": 50133611, "comment_id": 87320389, "body": "I turned off connectivity (to force a network-related <code>RuntimeExecutionException</code>) and tried to catch the generic <code>Exception</code>, and like before, it&#39;s not caught and I just end up with the usual error: <code>com.google.android.gms.tasks.RuntimeExecutionException: com.google.android.gms.common.api.ApiException: 7: NETWORK_ERROR         at com.google.android.gms.tasks.zzu.getResult(Unknown Source:17)         at com.example.app.MyActivity$performPlaceDetection$1.onComplet&zwnj;&#8203;e(MyActivity.kt:197)</code>"}], "tags": [], "owner": {"reputation": 302, "user_id": 8244705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEblD.jpg?s=128&g=1", "display_name": "J. Leander", "link": "https://stackoverflow.com/users/8244705/j-leander"}, "is_accepted": false, "score": 1, "last_activity_date": 1525260544, "creation_date": 1525260544, "answer_id": 50133611, "question_id": 50130297, "link": "https://stackoverflow.com/questions/50130297/google-places-api-runtime-exception-not-caught/50133611#50133611", "title": "Google Places API: Runtime exception not caught", "body": "<p>Make sure <code>RunTimeExecutionException</code> is imported from<code>com.google.android.gms.tasks.RuntimeExecutionException</code>. You might have imported it from a different package, which would mean it is a different exception.</p>\n"}, {"tags": [], "owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "is_accepted": true, "score": 1, "last_activity_date": 1525866006, "creation_date": 1525866006, "answer_id": 50252508, "question_id": 50130297, "link": "https://stackoverflow.com/questions/50130297/google-places-api-runtime-exception-not-caught/50252508#50252508", "title": "Google Places API: Runtime exception not caught", "body": "<p>Looks like catching the exception inside the OnCompleteListener works, whereas the outer one is not caught:</p>\n\n<pre><code>try {\n        val placeResult = placeDetectionClient.getCurrentPlace(null)\n        placeResult.addOnCompleteListener({ task -&gt;\n            try {\n                val likelyPlaces = task.result\n                for (placeLikelihood in likelyPlaces) {\n                     Timber.d( String.format(\"Place '%s' has likelihood: %g\",\n                           placeLikelihood.place.name,\n                           placeLikelihood.likelihood))\n                }\n                likelyPlaces.release()\n            } catch (e: Exception) {\n                Timber.d(\"inner exception: $e\")\n            }\n        })\n    } catch(e: Exception) {\n            Timber.d(\"outer exception: \" + e::class.qualifiedName)\n} \n</code></pre>\n\n<p>I'm not sure why the inner exception is caught. My guess is that it's because placeDetectionClient.getCurrentPlace() runs asynchronously (and that the errors are thrown by the Places API from a separate thread) but I'm not sure (performPlaceDetection() is called from the MainActivity of an Android app)</p>\n"}, {"tags": [], "owner": {"reputation": 3044, "user_id": 3792318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ef9c0234c694495ae97f6ff668ba5e?s=128&d=identicon&r=PG", "display_name": "Alexander Mayatsky", "link": "https://stackoverflow.com/users/3792318/alexander-mayatsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1552536602, "creation_date": 1552536602, "answer_id": 55154838, "question_id": 50130297, "link": "https://stackoverflow.com/questions/50130297/google-places-api-runtime-exception-not-caught/55154838#55154838", "title": "Google Places API: Runtime exception not caught", "body": "<p>Please kindly ignore the answers telling that you should use try-catch with a <code>Task&lt;T&gt;</code> from Google Libraries.</p>\n\n<p>The issue here is that people are trying to get a result from a failed task.</p>\n\n<p>If you look at the source code you can clearly see that if you are accessing <code>task.result</code>  and <code>task.exception != null</code> the implementation will throw a <code>RuntimeExecutionException</code>.</p>\n\n<p>You should access the result like this:</p>\n\n<pre><code>FirebaseInstanceId.getInstance().instanceId.addOnCompleteListener {\n            if (it.isSuccessful) {\n                val token = it.result?.token\n                if (!token.isNullOrBlank()) {\n                    //do something with the token\n                } else {\n                    logger.error(\"Token Is Empty\")\n                }\n            } else {\n                val error = it.exception ?: Exception(\"Empty Exception\")\n                logger.error(\"$error\")\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 50252508, "answer_count": 3, "score": 3, "last_activity_date": 1552536602, "creation_date": 1525249947, "last_edit_date": 1525345089, "question_id": 50130297, "link": "https://stackoverflow.com/questions/50130297/google-places-api-runtime-exception-not-caught", "title": "Google Places API: Runtime exception not caught", "body": "<p>I'm having problems similar to the one at <a href=\"https://stackoverflow.com/q/47279161/1145905\">this question</a>. Unlike in that question though, I have the correct set up (API keys are specified in the manifest, maps &amp; places APIs enabled on the Google console) because the code works <em>most</em> of the time:</p>\n\n<pre><code>private fun performPlaceDetection() {\n        // use the Places API.\n        try {\n            val placeResult = placeDetectionClient.getCurrentPlace(null)\n            placeResult.addOnCompleteListener({ task -&gt;\n                val likelyPlaces = task.result\n                for (placeLikelihood in likelyPlaces) {\n                    Timber.d( String.format(\"Place '%s' has likelihood: %g\",\n                            placeLikelihood.place.name,\n                            placeLikelihood.likelihood))\n                }\n                likelyPlaces.release()\n            })\n        } catch (e: SecurityException) {\n            Timber.d(\"error fetching current place. permissions?: \" + e.message)\n            e.printStackTrace()\n        } catch (e: RuntimeExecutionException) {\n            Timber.d(\"error fetching current place: \" + e.message)\n            e.printStackTrace()\n        }\n    }\n</code></pre>\n\n<p>The code occasionally fails with this:</p>\n\n<pre><code>com.google.android.gms.tasks.RuntimeExecutionException: com.google.android.gms.common.api.ApiException: 13: ERROR\n</code></pre>\n\n<p>or when I turn off network connectivity, I get this error:</p>\n\n<pre><code>com.google.android.gms.tasks.RuntimeExecutionException: com.google.android.gms.common.api.ApiException: 7: NETWORK_ERROR\n</code></pre>\n\n<p>What stumps me is that in either case, the exception (<code>RunTimeExecutionException</code>) is not caught. I understand that in Kotlin, all exceptions are unchecked but I'd imagine they'd be caught if there was an error. Any clues?</p>\n\n<p><strong>UPDATE:</strong>\nLooks like catching the exception <em>inside</em> the <code>OnCompleteListener</code> works, whereas the outer one is not caught:</p>\n\n<pre><code>try {\n            val placeResult = placeDetectionClient.getCurrentPlace(null)\n            placeResult.addOnCompleteListener({ task -&gt;\n                try {\n                    val likelyPlaces = task.result\n                    for (placeLikelihood in likelyPlaces) {\n                        Timber.d( String.format(\"Place '%s' has likelihood: %g\",\n                                placeLikelihood.place.name,\n                                placeLikelihood.likelihood))\n                    }\n                    likelyPlaces.release()\n                } catch (e: Exception) {\n                    Timber.d(\"inner exception: $e\")\n                }\n            })\n        } catch(e: Exception) {\n            Timber.d(\"outer exception: \" + e::class.qualifiedName)\n        } \n</code></pre>\n\n<p>I'm not sure why the inner exception is caught. My guess is that it's because <code>placeDetectionClient.getCurrentPlace()</code> runs asynchronously (and that the errors are thrown by the Places API from a separate thread) but I'm not sure (<code>performPlaceDetection()</code> is called from the MainActivity of an Android app). Would appreciate some input on this one.  </p>\n"}, {"tags": ["android", "listview", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1525256776, "post_id": 50129396, "comment_id": 87282562, "body": "Try making <code>var isFirst = true</code> a member of the anonym <code>DisposableObserver</code>."}, {"owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1525259834, "post_id": 50129396, "comment_id": 87284567, "body": "Thanks for your response ,but In my application I&#39;m declaring <code>isFirst</code> as a global member of the activity"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1525261849, "post_id": 50129396, "comment_id": 87285877, "body": "Do you get an error in <code>onError</code>? How is the application &quot;stuck&quot;? Should <code>cisDataAdaptor!!.notifyDataSetChanged()</code> executed only for the last of the items, but no the first?"}, {"owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1525269361, "post_id": 50129396, "comment_id": 87290916, "body": "No I didn&#39;t get any error in <code>onError</code> method. After few second I&#39;m getting the error in pop-up like <code>APP isn&#39;t responding</code> and asking  <code>close app</code> or <code>wait</code>"}, {"owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1525269399, "post_id": 50129396, "comment_id": 87290949, "body": "In the log-cat i&#39;m getting following error <code>Thread[3,tid=1291,WaitingInMainSignalCatcherLoop,Thread*=0x7&zwnj;&#8203;f8144f400,peer=0x12c&zwnj;&#8203;8e160,&quot;Signal Catcher&quot;]: reacting to signal 3</code>"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1525271373, "post_id": 50129396, "comment_id": 87292476, "body": "Try logging in <code>onNext</code> and see if you are overwhelmed or not."}], "owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525246798, "creation_date": 1525246798, "question_id": 50129396, "link": "https://stackoverflow.com/questions/50129396/cant-update-list-view-in-disposableobserver", "title": "Can&#39;t update list view in DisposableObserver?", "body": "<p>I am newbie in RxJava and RxAndroid. I'm trying to search the keyword in an array and if any data found i'm trying update in list view using adaptor. But application got struck and not movie further. Could you any one help on this requirement. I'm attaching what I have tried...</p>\n\n<p>Thanks in advance </p>\n\n<pre><code>  val dataArray = ArrayList&lt;CisData&gt;();\n        var cisDataAdaptor : CisDataAdaptor ;\n        var isFirst = true\n        Observable.create(ObservableOnSubscribe&lt;CisData&gt; { e -&gt;\n\n            var word = \"Test\"\n\n            val search = \".*$word.*\"\n\n            val regex = Pattern.compile(search)\n\n            for (index in resources.getStringArray(R.array.list).indices) {\n\n                if (regex.matcher(resources.getStringArray(R.array.list).get(index)).find()) {\n\n                    e.onNext(CisData(resources.getStringArray(R.array.list_of_kural).get(index), (index + 1).toString()))\n\n                }\n            }\n\n            e.onComplete()\n        })\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(\n                        object : DisposableObserver&lt;CisData&gt;() {\n                            override fun onNext(response: CisData) {\n\n                                dataArray.add(response)\n\n                                if (isFirst) {\n\n                                    cisDataAdaptor = CisDataAdaptor(context, dataArray)\n                                    list_view!!.adapter = cisDataAdaptor\n                                    isFirst = false\n\n                                } else {\n                                    cisDataAdaptor!!.notifyDataSetChanged()\n                                }\n                            }\n\n                            override fun onError(e: Throwable) {\n                            }\n\n                            override fun onComplete() {\n                            }\n\n                        })\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "edited": false, "score": 4, "creation_date": 1525246412, "post_id": 50129268, "comment_id": 87276441, "body": "App crashes then what is the <i>error</i> in <i>logcat</i> ? Post it here."}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1525246785, "post_id": 50129268, "comment_id": 87276632, "body": "Post the error which is showing in logcat."}], "answers": [{"comments": [{"owner": {"reputation": 1010, "user_id": 5100250, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ed99f8752fe5dbc6db7904d7368ebce?s=128&d=identicon&r=PG&f=1", "display_name": "CRey", "link": "https://stackoverflow.com/users/5100250/crey"}, "edited": false, "score": 1, "creation_date": 1525247964, "post_id": 50129661, "comment_id": 87277196, "body": "Yes, I figured it out too. after releasing the recorder. I have to null it or else I&#39;ll have multiple instances every time I press the record button. Same with the player apparently. Thanks for the solution."}, {"owner": {"reputation": 221, "user_id": 1614267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f04c395081e7119965266eac20847d4?s=128&d=identicon&r=PG&f=1", "display_name": "Fran Ceriu", "link": "https://stackoverflow.com/users/1614267/fran-ceriu"}, "edited": false, "score": 1, "creation_date": 1525248296, "post_id": 50129661, "comment_id": 87277371, "body": "btw, you need to instantiate <code>recorder = new MediaRecorder()</code> inside <code>record()</code>    <code>private fun record() {                                                           recorder = new MediaRecorder(); &#47;&#47;code .....</code>"}, {"owner": {"reputation": 1719, "user_id": 1076574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BAoxJ.png?s=128&g=1", "display_name": "chip", "link": "https://stackoverflow.com/users/1076574/chip"}, "reply_to_user": {"reputation": 221, "user_id": 1614267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f04c395081e7119965266eac20847d4?s=128&d=identicon&r=PG&f=1", "display_name": "Fran Ceriu", "link": "https://stackoverflow.com/users/1614267/fran-ceriu"}, "edited": false, "score": 0, "creation_date": 1525248497, "post_id": 50129661, "comment_id": 87277486, "body": "@FranCeriu he didn&#39;t posted initialisation code, i assume it&#39;s outside his <code>record()</code> function.  Maybe somewhere in <code>onCreate</code>? just maybe."}, {"owner": {"reputation": 221, "user_id": 1614267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f04c395081e7119965266eac20847d4?s=128&d=identicon&r=PG&f=1", "display_name": "Fran Ceriu", "link": "https://stackoverflow.com/users/1614267/fran-ceriu"}, "edited": false, "score": 0, "creation_date": 1525248855, "post_id": 50129661, "comment_id": 87277692, "body": "@chip yeah you&#39;re right. if he will use/invoke the <code>record()</code> again, he will get nullpointerexception."}, {"owner": {"reputation": 1719, "user_id": 1076574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BAoxJ.png?s=128&g=1", "display_name": "chip", "link": "https://stackoverflow.com/users/1076574/chip"}, "reply_to_user": {"reputation": 221, "user_id": 1614267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f04c395081e7119965266eac20847d4?s=128&d=identicon&r=PG&f=1", "display_name": "Fran Ceriu", "link": "https://stackoverflow.com/users/1614267/fran-ceriu"}, "edited": false, "score": 0, "creation_date": 1525249596, "post_id": 50129661, "comment_id": 87278098, "body": "@FranCeriu its <code>IllegalStateException</code>, i think, not NPE"}], "tags": [], "owner": {"reputation": 1719, "user_id": 1076574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BAoxJ.png?s=128&g=1", "display_name": "chip", "link": "https://stackoverflow.com/users/1076574/chip"}, "is_accepted": true, "score": 3, "last_activity_date": 1525247787, "creation_date": 1525247787, "answer_id": 50129661, "question_id": 50129268, "link": "https://stackoverflow.com/questions/50129268/the-second-time-i-press-record-button-my-app-crashes/50129661#50129661", "title": "The second time i press record button, my app crashes", "body": "<p>In the <a href=\"https://developer.android.com/guide/topics/media/mediarecorder?authuser=3\" rel=\"nofollow noreferrer\">Android Developer Guide</a>, it says </p>\n\n<blockquote>\n  <p>When you are done with the MediaRecorder instance free its resources\n  as soon as possible by calling release().</p>\n</blockquote>\n\n<p>see this <a href=\"https://developer.android.com/guide/topics/media/mediarecorder?authuser=3#sample-code\" rel=\"nofollow noreferrer\">sample code</a> from the Developer site:</p>\n\n<pre><code>private void stopRecording() {\n    recorder.stop();\n    recorder.release();\n    recorder = null;\n}\n</code></pre>\n\n<p>Your code snippet doesn't check if <code>recorder</code> is being used.  You might want to do that before using the <code>MediaRecorder</code> object again.</p>\n\n<pre><code>private fun record() {\n    if (recording) {\n        stopRecording()\n    }\n\n    // do recording snippet here...\n}\n</code></pre>\n"}], "owner": {"reputation": 1010, "user_id": 5100250, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ed99f8752fe5dbc6db7904d7368ebce?s=128&d=identicon&r=PG&f=1", "display_name": "CRey", "link": "https://stackoverflow.com/users/5100250/crey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 50129661, "answer_count": 1, "score": 2, "last_activity_date": 1525247787, "creation_date": 1525246314, "last_edit_date": 1525246661, "question_id": 50129268, "link": "https://stackoverflow.com/questions/50129268/the-second-time-i-press-record-button-my-app-crashes", "title": "The second time i press record button, my app crashes", "body": "<p>This is my code snippet.</p>\n\n<pre><code>private fun record() {                                                          \n\n    recorder.setAudioSource(MediaRecorder.AudioSource.MIC)                      \n    recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP)              \n    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)                \n    val path: File = filesDir                                                  \n    try {                                                                      \n        tempFile = File.createTempFile(\"audioTemp\", \".3gp\", path)              \n    } catch (e: IOException) {                                                  \n        Log.d(\"recording error\", \"recording error:\", e)                        \n    } catch (e: FileAlreadyExistsException) {                                  \n        Log.d(\"File already Exist\", e.toString())                              \n    }                                                                          \n\n    recorder.setOutputFile(tempFile?.absolutePath)                              \n    try {                                                                      \n        recorder.prepare()                                                      \n    } catch (e: IOException) {                                                  \n        Log.d(\"recording error\", \"recording error:\", e)                        \n    }                                                                          \n    recorder.start()                                                            \n}                                                                              \n\nprivate fun stopRecord() {                                                      \n    recorder.stop()                                                            \n    recorder.release()                                                          \n    button_play_sample.isEnabled = true                                        \n    button_record.isEnabled = true                                              \n    player.setOnCompletionListener(this)                                        \n    try {                                                                      \n        player.setDataSource(tempFile?.absolutePath)                            \n    } catch (e: IOException) {                                                  \n        Log.d(\"stop recording error\", \"Stop Recording Error:\", e)              \n    }                                                                          \n    try {                                                                      \n        player.prepare()                                                        \n    } catch (e: IOException) {                                                  \n        Log.d(\"recording error\", \"recording error:\", e)                        \n    }                                                                          \n}                                                                              \n\nprivate fun play() {                                                            \n    player.start()                                                              \n    button_record.isEnabled = false                                            \n}                                                                              \n\noverride fun onCompletion(mp: MediaPlayer?) {                                  \n    handler = Handler()                                                        \n    handler?.postDelayed({button_record.isEnabled = true}, 1000)                \n}\n</code></pre>\n\n<p>I cant figure out why but I have a record button that records audio. When the activity first loads, the recording loads. When I press it the second time because I don't like my first recording, instead of overwriting the old file and setting up record again, App crashes instead.</p>\n"}, {"tags": ["android", "kotlin", "android-espresso", "swiperefreshlayout"], "answers": [{"tags": [], "owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "is_accepted": true, "score": 8, "last_activity_date": 1525246160, "creation_date": 1525246160, "answer_id": 50129235, "question_id": 50129234, "link": "https://stackoverflow.com/questions/50129234/espresso-test-to-verify-that-swiperefreshlayout-is-showing-the-refreshing-indica/50129235#50129235", "title": "Espresso test to verify that SwipeRefreshLayout is showing the refreshing indicator", "body": "<p>There is no standard Espresso matcher for this, but you can create a custom one:</p>\n\n<pre><code>object SwipeRefreshLayoutMatchers {\n    @JvmStatic\n    fun isRefreshing(): Matcher&lt;View&gt; {\n        return object : BoundedMatcher&lt;View, SwipeRefreshLayout&gt;(\n            SwipeRefreshLayout::class.java) {\n\n            override fun describeTo(description: Description) {\n                description.appendText(\"is refreshing\")\n            }\n\n            override fun matchesSafely(view: SwipeRefreshLayout): Boolean {\n                return view.isRefreshing\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And then you can use it like this:</p>\n\n<pre><code>onView(withId(R.id.swipe_refresh_layout)).check(matches(isRefreshing()))\n</code></pre>\n"}], "owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1022, "favorite_count": 0, "accepted_answer_id": 50129235, "answer_count": 1, "score": 4, "last_activity_date": 1525246631, "creation_date": 1525246160, "last_edit_date": 1525246631, "question_id": 50129234, "link": "https://stackoverflow.com/questions/50129234/espresso-test-to-verify-that-swiperefreshlayout-is-showing-the-refreshing-indica", "title": "Espresso test to verify that SwipeRefreshLayout is showing the refreshing indicator", "body": "<p>I would like to create an Espresso test which verifies that <code>SwipeRefreshLayout</code> is showing the refreshing indicator. How can I do this?</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "is_accepted": true, "score": 28, "last_activity_date": 1592240743, "last_edit_date": 1592240743, "creation_date": 1525244077, "answer_id": 50128729, "question_id": 50128728, "link": "https://stackoverflow.com/questions/50128728/how-do-i-use-the-native-junit-5-support-in-gradle-with-the-kotlin-dsl/50128729#50128729", "title": "How do I use the native JUnit 5 support in Gradle with the Kotlin DSL?", "body": "<p>[Edit april 2019] As <a href=\"https://stackoverflow.com/a/55406587/4126843\">Pedro has found</a>, three months after I asked this question Gradle actually created a user guide for the Kotlin DSL which can be visited at <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/kotlin_dsl.html</a></p>\n\n<p>They also added a migration guide from Groovy to Kotlin at <a href=\"https://guides.gradle.org/migrating-build-logic-from-groovy-to-kotlin/\" rel=\"noreferrer\">https://guides.gradle.org/migrating-build-logic-from-groovy-to-kotlin/</a></p>\n\n<p><strong>Answer:</strong></p>\n\n<p>The syntax you ask for is </p>\n\n<pre><code>tasks {\n    // Use the built-in JUnit support of Gradle.\n    \"test\"(Test::class) {\n        useJUnitPlatform()\n    }\n}\n</code></pre>\n\n<p>which I figured out from <a href=\"https://github.com/gradle/kotlin-dsl/blob/master/samples/code-quality/build.gradle.kts\" rel=\"noreferrer\">this example file</a> from the Kotlin DSL GitHub, or you can use</p>\n\n<pre><code>tasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>which is used in the <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"noreferrer\">this official userguide</a> which was created a couple of months after this answer was written (thanks to <a href=\"https://stackoverflow.com/a/55406587/4126843\">Pedro's answer</a> for noting this).</p>\n\n<p>But in any case you actually are still using the <code>buildscript</code> block, which is a bit deprecated itself, use the new <code>plugins</code> DSL instead (<a href=\"https://docs.gradle.org/current/userguide/plugins.html#sec:plugins_block\" rel=\"noreferrer\">docs</a>). New <code>build.gradle.kts</code> becomes</p>\n\n<pre><code>group = \"com.example\"\nversion = \"0.0\"\n\nplugins {\n\n    val kotlinVersion = \"1.2.41\"\n\n    application\n    kotlin(\"jvm\") version kotlinVersion\n    java // Required by at least JUnit.\n\n    // Plugin which checks for dependency updates with help/dependencyUpdates task.\n    id(\"com.github.ben-manes.versions\") version \"0.17.0\"\n\n    // Plugin which can update Gradle dependencies, use help/useLatestVersions\n    id(\"se.patrikerdes.use-latest-versions\") version \"0.2.1\"\n}\n\napplication {\n    mainClassName = \"com.example.HelloWorld\"\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n    // To \"prevent strange errors\".\n    compile(kotlin(\"reflect\"))\n    // Kotlin reflection.\n    compile(kotlin(\"test\"))\n    compile(kotlin(\"test-junit\"))\n\n    // JUnit 5\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.2.0\")\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine:5.2.0\")\n    testRuntime(\"org.junit.platform:junit-platform-console:1.2.0\")\n\n    // Kotlintest\n    testCompile(\"io.kotlintest:kotlintest-core:3.1.0-RC2\")\n    testCompile(\"io.kotlintest:kotlintest-assertions:3.1.0-RC2\")\n    testCompile(\"io.kotlintest:kotlintest-runner-junit5:3.1.0-RC2\")\n\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n    jcenter()\n}\n\ntasks {\n    // Use the native JUnit support of Gradle.\n    \"test\"(Test::class) {\n        useJUnitPlatform()\n    }\n}\n</code></pre>\n\n<p>(Since the Gradle Kotlin DSL has almost no documentation at all except a few (undocumented) example files <a href=\"https://github.com/gradle/kotlin-dsl/tree/master/samples\" rel=\"noreferrer\">on GitHub</a>, I'm documenting a few common examples here.)</p>\n\n<p>(Complete example project at <a href=\"https://github.com/PHPirates/kotlin-template-project\" rel=\"noreferrer\">GitHub</a>, self-promotion...)</p>\n"}, {"comments": [{"owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "edited": false, "score": 1, "creation_date": 1553840960, "post_id": 55406587, "comment_id": 97542825, "body": "Hey, I tried it and you are entirely correct! Even after years the Gradle language is still magic to me. Can you add to your answer where you found this? I am very curious, because at the time I wrote my answer I couldn&#39;t find anything about it anywhere."}, {"owner": {"reputation": 590, "user_id": 1453658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ef16f9c4a86c9dcc98895bf80cdcac?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/1453658/pedro"}, "reply_to_user": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "edited": false, "score": 0, "creation_date": 1555530283, "post_id": 55406587, "comment_id": 98148195, "body": "I kind of inferred from Gradle docs, I still struggle with Gradle DSL as well."}, {"owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "edited": false, "score": 0, "creation_date": 1555568874, "post_id": 55406587, "comment_id": 98157641, "body": "Thanks for the link! I&#39;m glad to see they are adding documentation since I asked this question (that document you link to is from august 2018, three months after this question :) )"}], "tags": [], "owner": {"reputation": 590, "user_id": 1453658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7ef16f9c4a86c9dcc98895bf80cdcac?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/1453658/pedro"}, "is_accepted": false, "score": 17, "last_activity_date": 1555530396, "last_edit_date": 1555530396, "creation_date": 1553805949, "answer_id": 55406587, "question_id": 50128728, "link": "https://stackoverflow.com/questions/50128728/how-do-i-use-the-native-junit-5-support-in-gradle-with-the-kotlin-dsl/55406587#55406587", "title": "How do I use the native JUnit 5 support in Gradle with the Kotlin DSL?", "body": "<p>Adding on top of accepted answer, it is also possible to use typed task configuration like:</p>\n\n<pre><code>tasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Gradle docs for reference <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"noreferrer\">here</a>. Specifically <em>Example 19</em> which has:</p>\n\n<pre><code>tasks.withType&lt;JavaCompile&gt; {\n    options.isWarnings = true\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5540, "favorite_count": 3, "accepted_answer_id": 50128729, "answer_count": 2, "score": 22, "last_activity_date": 1592240743, "creation_date": 1525244077, "question_id": 50128728, "link": "https://stackoverflow.com/questions/50128728/how-do-i-use-the-native-junit-5-support-in-gradle-with-the-kotlin-dsl", "title": "How do I use the native JUnit 5 support in Gradle with the Kotlin DSL?", "body": "<p>I want to use the built-in JUnit 5 with the Gradle Kotlin DSL, because during build I get this warning:</p>\n\n<pre><code>WARNING: The junit-platform-gradle-plugin is deprecated and will be discontinued in JUnit Platform 1.3.\nPlease use Gradle's native support for running tests on the JUnit Platform (requires Gradle 4.6 or higher):\nhttps://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle\n</code></pre>\n\n<p>That links tells me to put</p>\n\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>in my <code>build.gradle</code>, but what is the syntax for <code>build.gradle.kts</code>?</p>\n\n<p>My current build file is</p>\n\n<pre><code>import org.gradle.api.plugins.ExtensionAware\n\nimport org.junit.platform.gradle.plugin.FiltersExtension\nimport org.junit.platform.gradle.plugin.EnginesExtension\nimport org.junit.platform.gradle.plugin.JUnitPlatformExtension\n\ngroup = \"com.example\"\nversion = \"0.0\"\n\n// JUnit 5\nbuildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath(\"org.junit.platform:junit-platform-gradle-plugin:1.2.0\")\n    }\n}\n\napply {\n    plugin(\"org.junit.platform.gradle.plugin\")\n}\n\n// Kotlin configuration.\nplugins {\n\n    val kotlinVersion = \"1.2.41\"\n\n    application\n    kotlin(\"jvm\") version kotlinVersion\n    java // Required by at least JUnit.\n\n    // Plugin which checks for dependency updates with help/dependencyUpdates task.\n    id(\"com.github.ben-manes.versions\") version \"0.17.0\"\n\n    // Plugin which can update Gradle dependencies, use help/useLatestVersions\n    id(\"se.patrikerdes.use-latest-versions\") version \"0.2.1\"\n\n}\n\napplication {\n    mainClassName = \"com.example.HelloWorld\"\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n    // To \"prevent strange errors\".\n    compile(kotlin(\"reflect\"))\n    // Kotlin reflection.\n    compile(kotlin(\"test\"))\n    compile(kotlin(\"test-junit\"))\n\n    // JUnit 5\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.2.0\")\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine:5.2.0\")\n    testRuntime(\"org.junit.platform:junit-platform-console:1.2.0\")\n\n    // Kotlintest\n    testCompile(\"io.kotlintest:kotlintest-core:3.1.0-RC2\")\n    testCompile(\"io.kotlintest:kotlintest-assertions:3.1.0-RC2\")\n    testCompile(\"io.kotlintest:kotlintest-runner-junit5:3.1.0-RC2\")\n\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n    jcenter()\n}\n</code></pre>\n\n<p>(The following is some blabla because this question 'contains mostly code').\nI tried to find documentation on how to customize tasks in the Kotlin DSL, but I couldn't find any. In normal Groovy you can just write the name of the task and then change things in the block, but the Kotlin DSL doesn't recognise the task as such, unresolved reference.</p>\n\n<p>Also, this question is related but asks for creating of <em>new</em> tasks, instead of customize existing tasks: <a href=\"https://stackoverflow.com/questions/48553029/how-do-i-overwrite-a-task-in-gradle-kotlin-dsl\">How do I overwrite a task in gradle kotlin-dsl</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/49014534/4126843\">Here is a solution for normal Gradle.</a></p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 21, "user_id": 5105435, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205323610557493/picture?type=large", "display_name": "Christan Shane Plaza", "link": "https://stackoverflow.com/users/5105435/christan-shane-plaza"}, "edited": false, "score": 0, "creation_date": 1525243130, "post_id": 50128421, "comment_id": 87274751, "body": "<a href=\"https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database?rq=1\">Have you seen this question? The answers here might help you.</a>"}], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 9605387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ronan", "link": "https://stackoverflow.com/users/9605387/ronan"}, "edited": false, "score": 0, "creation_date": 1525246161, "post_id": 50128497, "comment_id": 87276310, "body": "do I also need to put the condition in an iteration ?"}], "tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 1, "last_activity_date": 1525243101, "creation_date": 1525243101, "answer_id": 50128497, "question_id": 50128421, "link": "https://stackoverflow.com/questions/50128421/how-to-check-for-existing-data-in-firebase/50128497#50128497", "title": "How to check for existing data in Firebase?", "body": "<p>I provide java code you can change into kotlin and also put your condition in to onDatachange method..</p>\n\n<pre><code>     Query query1=reference.child(reference.getKey()).child(\"simnumbers\").orderByChild(\"simPref\").equalTo(prefix);\n    query1.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            // here place your condition\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n    });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 289, "user_id": 9605387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ronan", "link": "https://stackoverflow.com/users/9605387/ronan"}, "edited": false, "score": 0, "creation_date": 1525246687, "post_id": 50128525, "comment_id": 87276583, "body": "what did you get"}, {"owner": {"reputation": 289, "user_id": 9605387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ronan", "link": "https://stackoverflow.com/users/9605387/ronan"}, "edited": false, "score": 0, "creation_date": 1525250904, "post_id": 50128525, "comment_id": 87278825, "body": "actually I got it, I just removed the .equalTo() and moved the if(cancel){}else{} inside the onDataChanged() but outside of the iteration. But still, thanks!"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 289, "user_id": 9605387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ronan", "link": "https://stackoverflow.com/users/9605387/ronan"}, "edited": false, "score": 0, "creation_date": 1525763361, "post_id": 50128525, "comment_id": 87472841, "body": "@ronan since the answer helped you, please upvote it and mark it as correct, thank you!"}], "tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1525243251, "last_edit_date": 1592644375, "creation_date": 1525243251, "answer_id": 50128525, "question_id": 50128421, "link": "https://stackoverflow.com/questions/50128421/how-to-check-for-existing-data-in-firebase/50128525#50128525", "title": "How to check for existing data in Firebase?", "body": "<p>Try the following to check if data exists:</p>\n<pre><code>  mDatabaseReference.child(&quot;simnumbers&quot;)\n        .orderByChild(&quot;simPref&quot;)\n        .equalTo(prefix)\n        .addListenerForSingleValueEvent(object : ValueEventListener{\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                    if(dataSnapshot.exists()){\n                dataSnapshot.children.forEach {\n                    sp = it.getValue(SimPrefix::class.java)!!\n                       }\n                    }\n                }\n            }\n\n            override fun onCancelled(p0: DatabaseError?) {\n\n            }\n        })\n</code></pre>\n<p>The datasnapshot is at <code>simnumbers</code>, then it will check if that snapshot exists in the database and if the child <code>simPref</code> is equal to the value provided</p>\n<blockquote>\n<p><code>public boolean exists ()</code></p>\n<p>Returns true if the snapshot contains a non-null value.</p>\n</blockquote>\n<p>more info here:</p>\n<p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot.html#exists()\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot.html#exists()</a></p>\n"}], "owner": {"reputation": 289, "user_id": 9605387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ronan", "link": "https://stackoverflow.com/users/9605387/ronan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525243314, "creation_date": 1525242729, "last_edit_date": 1525243314, "question_id": 50128421, "link": "https://stackoverflow.com/questions/50128421/how-to-check-for-existing-data-in-firebase", "title": "How to check for existing data in Firebase?", "body": "<p><a href=\"https://i.stack.imgur.com/7UV7S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7UV7S.png\" alt=\"enter image description here\"></a></p>\n\n<p>above is my firebase node tree.\nhere is my code:</p>\n\n<pre><code>private fun attemptAdd(){\n    var focus: View? = null\n    var cancel: Boolean = false\n    var prefix: String  = prePrefView.text.toString() + prefText.text.toString()\n    var sp: SimPrefix\n\n    //checks for the length of the input\n    if(prefText.length()&lt;2){\n        prefText.error = \"invalid length\"\n        cancel = true\n        focus = prefText\n    }\n\n    mDatabaseReference.child(\"simnumbers\")\n            .orderByChild(\"simPref\")\n            .equalTo(prefix)\n            .addListenerForSingleValueEvent(object : ValueEventListener{\n                override fun onDataChange(dataSnapshot: DataSnapshot) {\n                    dataSnapshot.children.forEach {\n                        sp = it.getValue(SimPrefix::class.java)!!\n                        if(sp.simCard.equals(prefix)){ //checks if there is already a node with the same data\n                            prefText.error = \"already exists\"\n                            cancel = true\n                            focus = prefText\n                        }\n                    }\n                }\n\n                override fun onCancelled(p0: DatabaseError?) {\n\n                }\n            })\n\n    if(cancel){\n        focus?.requestFocus()\n    }\n    else{ //if all is valid, proceed to the next method.\n        addPrefix()\n    }\n}\n</code></pre>\n\n<p>What I assume here is that it doesn't seem to enter the listener since it always\nproceeds to the next method allowing the user to enter the same existing data.</p>\n"}, {"tags": ["android", "json", "kotlin"], "comments": [{"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1525242407, "post_id": 50128272, "comment_id": 87274407, "body": "post your code."}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1525242409, "post_id": 50128272, "comment_id": 87274409, "body": "provide some code"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 1, "creation_date": 1525242413, "post_id": 50128272, "comment_id": 87274413, "body": "you can&#39;t write to your APK file (assets are stored inside APK). It is read-only"}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 6393771, "user_type": "registered", "profile_image": "https://graph.facebook.com/1327982467219053/picture?type=large", "display_name": "Madalin Branea", "link": "https://stackoverflow.com/users/6393771/madalin-branea"}, "is_accepted": false, "score": 0, "last_activity_date": 1525242838, "creation_date": 1525242838, "answer_id": 50128439, "question_id": 50128272, "link": "https://stackoverflow.com/questions/50128272/writing-to-an-internal-json-file-on-android/50128439#50128439", "title": "Writing to an internal Json File on Android", "body": "<p>Fixed it by first copying the file to getFilesDir at runtime.</p>\n\n<p>Thanks for the help</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 4916060, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BlmuZAmwCmI/AAAAAAAAAAI/AAAAAAAAACw/d5OC-EmQeDs/photo.jpg?sz=128", "display_name": "Seanvd", "link": "https://stackoverflow.com/users/4916060/seanvd"}, "is_accepted": true, "score": 1, "last_activity_date": 1525245978, "creation_date": 1525245978, "answer_id": 50129197, "question_id": 50128272, "link": "https://stackoverflow.com/questions/50128272/writing-to-an-internal-json-file-on-android/50129197#50129197", "title": "Writing to an internal Json File on Android", "body": "<p>You cannot write to files in your APK, since they are read-only. That's why you're getting the EROFS. What you could do, is read the file and copy its contents. You should be able to edit the copied version. Dont forget to save the edited copy (can be done in SharedPreferences for example).</p>\n"}], "owner": {"reputation": 25, "user_id": 6393771, "user_type": "registered", "profile_image": "https://graph.facebook.com/1327982467219053/picture?type=large", "display_name": "Madalin Branea", "link": "https://stackoverflow.com/users/6393771/madalin-branea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 50129197, "answer_count": 2, "score": -2, "last_activity_date": 1525247141, "creation_date": 1525242100, "last_edit_date": 1525247141, "question_id": 50128272, "link": "https://stackoverflow.com/questions/50128272/writing-to-an-internal-json-file-on-android", "title": "Writing to an internal Json File on Android", "body": "<p>I am writing an Android app that uses a JSON File that is internal to the app, aka on the root of the project or in the assets file(both are ok).</p>\n\n<p>But when attempting to write to it I get: </p>\n\n<pre><code>open failed: EROFS (Read-only file system)\n</code></pre>\n\n<p>How can I deal with this?</p>\n"}, {"tags": ["android", "kotlin", "android-cursorloader"], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 3, "last_activity_date": 1525232951, "creation_date": 1525232951, "answer_id": 50126876, "question_id": 50126804, "link": "https://stackoverflow.com/questions/50126804/type-mismatch-in-oncreateloader-using-kotlin/50126876#50126876", "title": "Type mismatch in onCreateLoader using Kotlin", "body": "<p>Change</p>\n\n<pre><code>return CursorLoader(context,\n  MMDContract.columnas.CONTENT_BASE_URI, null, null, null, null)\n</code></pre>\n\n<p>into</p>\n\n<pre><code>return CursorLoader(context,\n  MMDContract.columnas.CONTENT_BASE_URI, null, null, null, null) as Loader&lt;Cursor&gt;\n</code></pre>\n\n<p>should resolve this.</p>\n\n<p>This error looks like a IDE bug. If you can always see the same error message you may report it on <a href=\"https://youtrack.jetbrains.com/\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/</a>.</p>\n"}], "owner": {"reputation": 904, "user_id": 7102009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-E7w9qXEZq10/AAAAAAAAAAI/AAAAAAAAAJw/-sA4BTZUh1Q/photo.jpg?sz=128", "display_name": "Eduardo Corona", "link": "https://stackoverflow.com/users/7102009/eduardo-corona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 50126876, "answer_count": 1, "score": 1, "last_activity_date": 1525232951, "creation_date": 1525232430, "question_id": 50126804, "link": "https://stackoverflow.com/questions/50126804/type-mismatch-in-oncreateloader-using-kotlin", "title": "Type mismatch in onCreateLoader using Kotlin", "body": "<p>I'm porting an Android app from java to Kotlin. I have a cursor loader to populate a RecyclerView, Everything is fine in Java, but when I try \"translate\" the code from java to Kotlin I got the message from android studio that you can see in the image below.</p>\n\n<p>My code in java is: </p>\n\n<pre><code>@Override\npublic Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args){\n    return new CursorLoader(getContext(), Contrato.URI_CONTENIDO_BASE, null,null,null,null);\n}\n\n@Override\npublic void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data){\n\n    adaptador.swapCursor(data);\n\n    layoutManager.scrollToPosition(adaptador.getItemCount() -1);\n\n}\n\n@Override\npublic void onLoaderReset(Loader&lt;Cursor&gt; loader){\n\n}\n</code></pre>\n\n<p>And the code in Kotlin is:</p>\n\n<pre><code>override fun onCreateLoader(id: Int, args: Bundle?): Loader&lt;Cursor&gt; {\n    return CursorLoader(context,MMDContract.columnas.CONTENT_BASE_URI, null, null, null, null)\n}\n\noverride fun onLoadFinished(loader: Loader&lt;Cursor&gt;?, data: Cursor?) {\n  adapter.swapCursor(data)\n}\n\noverride fun onLoaderReset(loader: Loader&lt;Cursor&gt;?) {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tlNWx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tlNWx.png\" alt=\"onCreateLoader in Kotlin\"></a></p>\n\n<p>I haven\u00b4t finded official documentation in Kotlin, only in Java. <a href=\"https://developer.android.com/guide/components/loaders\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/loaders</a></p>\n\n<p>Any idea of how can I solve this?</p>\n"}, {"tags": ["java", "spring-boot", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 3472379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa75da1bd0df7171a316654b3977733f?s=128&d=identicon&r=PG", "display_name": "Satz", "link": "https://stackoverflow.com/users/3472379/satz"}, "is_accepted": false, "score": 0, "last_activity_date": 1525233438, "creation_date": 1525233438, "answer_id": 50126946, "question_id": 50126714, "link": "https://stackoverflow.com/questions/50126714/spring-boot-kotlin-project-cannot-load-java-classes-on-the-run-time/50126946#50126946", "title": "Spring boot kotlin project cannot load java classes on the run time", "body": "<p>It will be good if you post tour <code>gradle</code> file. Even though this is my observation, you need to add class path into application jar while creating / building using <code>maven or gradle</code>. This is called <strong>Fat JAR.</strong></p>\n\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'com.test.example.MainKt' // add your main class path\n    }\n\n   // check this line / task properly\n   from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>For more detailed info, you can refer this <a href=\"https://medium.com/@preslavrachev/kotlin-basics-create-executable-kotlin-jars-using-gradle-d17e9a8384b9\" rel=\"nofollow noreferrer\">Medium</a> link.</p>\n"}], "owner": {"reputation": 361, "user_id": 6050113, "user_type": "registered", "profile_image": "https://graph.facebook.com/536754059835242/picture?type=large", "display_name": "Nasibulloh Yandashev", "link": "https://stackoverflow.com/users/6050113/nasibulloh-yandashev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 633, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525236328, "creation_date": 1525231716, "last_edit_date": 1525236328, "question_id": 50126714, "link": "https://stackoverflow.com/questions/50126714/spring-boot-kotlin-project-cannot-load-java-classes-on-the-run-time", "title": "Spring boot kotlin project cannot load java classes on the run time", "body": "<p>I'm using spring boot 2.0 in kotlin programming language. In my project I use Java classes as well as Kotlin classes but when I build  project using gradle and running on the terminal the following command</p>\n\n<pre><code>java -jar my_springboot_kotlin_gradle_project \n</code></pre>\n\n<p>&amp; I'm getting an error like this</p>\n\n<blockquote>\n  <p>Caused by: java.lang.ClassNotFoundException:<br>\n  com.example.components.utils.EncryptionUtils    at\n  java.net.URLClassLoader.findClass(URLClassLoader.java:381) \n  ~[na:1.8.0_171]    at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_171] \n  at\n  org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClas\n  sLoader.java:93) ~[myapp-0.0.1-SNAPSHOT.jar:na]    at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_171] \n  ... 15 common frames omitted</p>\n</blockquote>\n\n<p>and If I use java spring beans in the kotlin spring beans spring boot cannot autowire java beans.</p>\n"}, {"tags": ["spring", "rest", "kotlin"], "comments": [{"owner": {"reputation": 2140, "user_id": 5545087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kXju.jpg?s=128&g=1", "display_name": "Bloodysock", "link": "https://stackoverflow.com/users/5545087/bloodysock"}, "edited": false, "score": 1, "creation_date": 1525230110, "post_id": 50126439, "comment_id": 87271064, "body": "If you are new to Stackoverflow, please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and rephrase your question. Also, provide additional details as to what the error is and show us your code."}, {"owner": {"reputation": 3296, "user_id": 3086289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VhG15.png?s=128&g=1", "display_name": "Sangam Belose", "link": "https://stackoverflow.com/users/3086289/sangam-belose"}, "edited": false, "score": 1, "creation_date": 1525246500, "post_id": 50126439, "comment_id": 87276495, "body": "Whitelabel error page is default error handling for spring-boot web applications. post your code and exceptions logs if any to guide you on this"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 7186790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggkEZ.jpg?s=128&g=1", "display_name": "ecogo", "link": "https://stackoverflow.com/users/7186790/ecogo"}, "is_accepted": false, "score": 0, "last_activity_date": 1582894293, "creation_date": 1582894293, "answer_id": 60452084, "question_id": 50126439, "link": "https://stackoverflow.com/questions/50126439/kotlin-spring-boot-whitelabel-error-page/60452084#60452084", "title": "Kotlin Spring boot Whitelabel Error Page", "body": "<p>Your folders (api, model, repository.. etc) should be in the same package as your <code>KotlinApplication.kt</code>.\nas an example see this picture below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5aS8b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5aS8b.png\" alt=\"enter image description here\"></a></p>\n\n<p>the <strong>@SpringBootApplication</strong> annotation that your <code>KotlinApplication</code> class has actually consists of <strong>@ComponentScan</strong> which scans the folder and the it's sub-folders by default.\nIn your case your application probably can't see the resource file.</p>\n"}], "owner": {"reputation": 11, "user_id": 9683211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Luis Santiago V&#225;zquez Mancilla", "link": "https://stackoverflow.com/users/9683211/luis-santiago-v%c3%a1zquez-mancilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1582894293, "creation_date": 1525229091, "question_id": 50126439, "link": "https://stackoverflow.com/questions/50126439/kotlin-spring-boot-whitelabel-error-page", "title": "Kotlin Spring boot Whitelabel Error Page", "body": "<p>I'm trying to make a Kotlin rest application with Spring boot and Angular 5, when i run de project it works fine until i want to access and specific URL, it shows \"Whitelabel Error Page\" </p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 0, "creation_date": 1525305276, "post_id": 50129315, "comment_id": 87308261, "body": "hmm it really seems a mistake. I will test it"}, {"owner": {"reputation": 111, "user_id": 4916060, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BlmuZAmwCmI/AAAAAAAAAAI/AAAAAAAAACw/d5OC-EmQeDs/photo.jpg?sz=128", "display_name": "Seanvd", "link": "https://stackoverflow.com/users/4916060/seanvd"}, "reply_to_user": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 0, "creation_date": 1525358957, "post_id": 50129315, "comment_id": 87333724, "body": "@alexpfx Has your issue been solved? If so, please accept one of the answers. If not, please give an update :)"}, {"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 0, "creation_date": 1525399006, "post_id": 50129315, "comment_id": 87350036, "body": "I don&#39;t fix the problem yet, doing the form you have suggest it saves (&lt;beerId&gt;)/&quot;timestamp&quot; (as plain String). It doesn&#39;t convert the value correctly. I was only able to solve this using java api (Collections.singletonMap).  Don&#39;t sure how to make it work with pure kotlin."}], "tags": [], "owner": {"reputation": 111, "user_id": 4916060, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BlmuZAmwCmI/AAAAAAAAAAI/AAAAAAAAACw/d5OC-EmQeDs/photo.jpg?sz=128", "display_name": "Seanvd", "link": "https://stackoverflow.com/users/4916060/seanvd"}, "is_accepted": false, "score": 1, "last_activity_date": 1525246477, "creation_date": 1525246477, "answer_id": 50129315, "question_id": 50126159, "link": "https://stackoverflow.com/questions/50126159/path-xx-contains-invalid-priority-must-be-a-string-double-servervalue-or-nul/50129315#50129315", "title": "Path XX contains invalid priority: Must be a String, Double, ServerValue, or Null", "body": "<p>You're defining serverTimeStamp as a map with </p>\n\n<pre><code>val serverTimeStamp = mapOf(Pair(\"timestamp\", ServerValue.TIMESTAMP))\n</code></pre>\n\n<p>Then you're trying to set the value of timestamp in your server to this map with </p>\n\n<pre><code>beerExpiration.child(beer.id).setValue(\"timestamp\", serverTimeStamp)\n</code></pre>\n\n<p>instead of setting it to the ServerValue.TIMESTAMP </p>\n\n<p>I presume your issue will be fixed with (not tested)</p>\n\n<pre><code>beerExpiration.child(beer.id).setValue(\"timestamp\", ServerValue.TIMESTAMP)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 0, "creation_date": 1525399165, "post_id": 50129356, "comment_id": 87350073, "body": "In fact the correct form is Map&lt;String, ServerValue.TIMESTAMP&gt; but I couldn&#39;t do it using kotlin."}], "tags": [], "owner": {"reputation": 1407, "user_id": 462186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82c112a6d858921551af83140009984b?s=128&d=identicon&r=PG", "display_name": "pikzen", "link": "https://stackoverflow.com/users/462186/pikzen"}, "is_accepted": false, "score": 1, "last_activity_date": 1525246668, "creation_date": 1525246668, "answer_id": 50129356, "question_id": 50126159, "link": "https://stackoverflow.com/questions/50126159/path-xx-contains-invalid-priority-must-be-a-string-double-servervalue-or-nul/50129356#50129356", "title": "Path XX contains invalid priority: Must be a String, Double, ServerValue, or Null", "body": "<p><code>ServerValue.TIMESTAMP</code> is already a <code>Map&lt;String, String&gt;</code>. In effect, you are trying to send a <code>Map&lt;String, Map&lt;String, String&gt;&gt;</code> to Firebase, which it is not happy about.</p>\n\n<p>You might just want to get rid of <code>val serverTimeStamp = mapOf(Pair(\"timestamp\", ServerValue.TIMESTAMP))</code> and just pass <code>ServerValue.TIMESTAMP</code> to setValue.</p>\n\n<p>As a small aside, the way you're constructing your Map might be shorter and more Kotlinesque if you use the <code>a to b</code> notation which creates a pair for you, as in <code>mapOf(\"thing\" to \"foo\")</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "is_accepted": false, "score": 0, "last_activity_date": 1525401544, "last_edit_date": 1525401544, "creation_date": 1525400785, "answer_id": 50166265, "question_id": 50126159, "link": "https://stackoverflow.com/questions/50126159/path-xx-contains-invalid-priority-must-be-a-string-double-servervalue-or-nul/50166265#50166265", "title": "Path XX contains invalid priority: Must be a String, Double, ServerValue, or Null", "body": "<p>I end up using: </p>\n\n<pre><code>val map = hashMapOf(\"timestamp\" to ServerValue.TIMESTAMP)\nref.child(id).setValue(map)\n</code></pre>\n\n<p>or similar java api code:</p>\n\n<pre><code>val map = Collections.singletonMap(\"timestamp\", ServerValue.TIMESTAMP)\n        ref.child(id).setValue(\"timestamp\", ServerValue.TIMESTAMP)\n</code></pre>\n\n<p>and it works.</p>\n\n<hr>\n\n<p>When I try the code below, as suggest in both others answers:</p>\n\n<pre><code>ref.child(id).setValue(\"timestamp\", ServerValue.TIMESTAMP)\n</code></pre>\n\n<p>It persists \"timestamp\" as literal: </p>\n\n<p><a href=\"https://i.stack.imgur.com/0cLpE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cLpE.png\" alt=\"enter image description here\"></a></p>\n\n<p>In fact the correct way to store server value is to pass a map to setValue, like this example from [here][2]: </p>\n\n<pre><code>HashMap&lt;String, Object&gt; updatedTimeStamp = new HashMap&lt;&gt;();\n    updatedTimeStamp.put(Constants.FIREBASE_PROPERTY_TIMESTAMP, ServerValue.TIMESTAMP);\n</code></pre>\n"}], "owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1525401544, "creation_date": 1525226261, "last_edit_date": 1525305491, "question_id": 50126159, "link": "https://stackoverflow.com/questions/50126159/path-xx-contains-invalid-priority-must-be-a-string-double-servervalue-or-nul", "title": "Path XX contains invalid priority: Must be a String, Double, ServerValue, or Null", "body": "<p>I'm trying to set a value to a child using the server ServerValue.TIMESTAMP. </p>\n\n<pre><code>    val userRef = database.reference.child(userId).child(\"cache\")\n    val beerRef = userRef.child(\"beers\")\n    beerRef.child(beer.id).setValue(beer)\n    val beerExpiration = userRef.child(\"expiration/beer\")\n    val serverTimeStamp = mapOf(Pair(\"timestamp\", ServerValue.TIMESTAMP))\n    beerExpiration.child(beer.id).setValue(\"timestamp\", serverTimeStamp)\n</code></pre>\n\n<p>I'm receiving this error:</p>\n\n<pre><code>io.reactivex.exceptions.OnErrorNotImplementedException: Path '/xxxxxxxx/cache/expiration/beer/4010' contains invalid priority: Must be a string, double, ServerValue, or null\n    at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\n    at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\n    at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:77)\n    at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:67)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:200)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)\n    at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:109)\n    at android.os.Handler.handleCallback(Handler.java:751)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6776)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1496)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1386)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-service", "android-context"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1525217149, "post_id": 50125123, "comment_id": 87268380, "body": "Yes, but the vision of seting subscription in all my activities is rather bad for me, i have plenty of them in my whole application. If i have this ability in my Service i would not care about implementing subscribtion in all of them and just show Snackbar when something occur wherever activity is there present (like with Toast it is working as it needs only Context to work)"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1525217399, "post_id": 50125123, "comment_id": 87268445, "body": "@Konrad: &quot;i have plenty of them in my whole application&quot; -- use inheritance to minimize the code duplication."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 3, "last_activity_date": 1525217431, "last_edit_date": 1525217431, "creation_date": 1525216857, "answer_id": 50125123, "question_id": 50125039, "link": "https://stackoverflow.com/questions/50125039/how-to-get-context-in-service-not-applicationcontext/50125123#50125123", "title": "How to get context in service (not applicationContext)", "body": "<blockquote>\n  <p>I am trying to achive ability to show snackbar from service when something occurs.</p>\n</blockquote>\n\n<p>That is not a good idea. For example, it does not address the scenario where you have no running activities.</p>\n\n<blockquote>\n  <p>To do this i need context and then refer from it to get the view using this line:</p>\n</blockquote>\n\n<p>No, you would need the <code>Activity</code> object, as you see by your cast.</p>\n\n<blockquote>\n  <p>Is it possible to handle this properly (refering my use case)?</p>\n</blockquote>\n\n<p>Not in the way that you are approaching the problem.</p>\n\n<p>Your situation is: the service detects some event, and the service would like to let the user know about that event. There are two possibilities:</p>\n\n<ul>\n<li><p>You have an activity that is visible, and that activity can then let the user know about the event by some appropriate means (e.g., a snackbar)</p></li>\n<li><p>You do not have an activity that is visible, in which case the service could raise a notification, or perhaps just drop the event (if there is no need to let the user know about it if the user is not in the UI of the app)</p></li>\n</ul>\n\n<p>A typical approach to this problem is to use some form of event bus (<code>LocalBroadcastManager</code>, greenrobot's EventBus, or any number of RxJava-based event bus implementations):</p>\n\n<ul>\n<li><p>The service posts the event on the bus</p></li>\n<li><p>Each activity subscribes to the bus for events while it is visible, unsubscribing when it is no longer visible (e.g., via <code>onStart()</code>/<code>onStop()</code>)</p></li>\n<li><p>If the activity gets the event, it shows the snackbar (or whatever) to the user</p></li>\n<li><p>If the service determines that nothing picked up the event, it uses some fallback approach</p></li>\n</ul>\n\n<p>This approach offers better separation of concerns, as the service should not care about the details of how your UI lets the user know about the event. It also cleanly handles the case where you do not have a visible activity to use for the snackbar.</p>\n\n<p><a href=\"https://github.com/commonsguy/cw-omnibus/tree/v8.11/EventBus/GreenRobot3\" rel=\"nofollow noreferrer\">This sample app</a> demonstrates this approach with greenrobot's EventBus, and\n<a href=\"https://github.com/commonsguy/cw-omnibus/tree/v8.11/EventBus/LocalBroadcastManager\" rel=\"nofollow noreferrer\">this sample app</a> demonstrates this approach with <code>LocalBroadcastManager</code>.</p>\n\n<p>There are other solutions that do not involve a true event bus, such as the service updating a repository, which updates UI components via reactive means (e.g., RxJava leading to <code>LiveData</code>). However, a service should not be attempting to directly manipulate the activity's UI, in part because there may not be an activity.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1525221160, "creation_date": 1525216207, "question_id": 50125039, "link": "https://stackoverflow.com/questions/50125039/how-to-get-context-in-service-not-applicationcontext", "title": "How to get context in service (not applicationContext)", "body": "<p>Is it possible to refer to the context in service, but not using application context?</p>\n\n<p>I am trying to achive ability to show snackbar from service when something occurs. This should be done in MULTIPLE activities.\nTo do this i need context and then refer from it to get the view using this line:</p>\n\n<pre><code>View rootView = ((Activity)context).getWindow().getDecorView().findViewById(android.R.id.content)\n</code></pre>\n\n<p>I am doing this in my service:</p>\n\n<pre><code>class MyService : Service() {\n\noverride fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n//TODO do something useful\n\nval view: View = (this.applicationContext as Activity).window.decorView.findViewById(android.R.id.content)\nTimber.d(\"some jobe done\")\nreturn Service.START_NOT_STICKY\n  }\n\noverride fun onBind(intent: Intent): IBinder? {\n//TODO for communication return IBinder implementation\n   return null\n }\n}\n</code></pre>\n\n<p>However i am getting an error when refer to application context an cast it to the Activty:</p>\n\n<pre><code>Caused by: java.lang.ClassCastException: com.myapp.Application cannot be cast to android.app.Activity\n</code></pre>\n\n<p>Is it possible to handle this properly (refering my use case)?</p>\n"}, {"tags": ["android", "button", "kotlin", "chronometer"], "answers": [{"tags": [], "owner": {"reputation": 8310, "user_id": 1717036, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/B2a6K.jpg?s=128&g=1", "display_name": "Qadir Hussain", "link": "https://stackoverflow.com/users/1717036/qadir-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1569511005, "creation_date": 1569511005, "answer_id": 58119936, "question_id": 50124273, "link": "https://stackoverflow.com/questions/50124273/problems-with-setonchronometerticklistener/58119936#58119936", "title": "Problems with setOnChronometerTickListener", "body": "<p>Here is what worked for me.</p>\n\n<p>I have used the interface <code>Chronometer.OnChronometerTickListener</code> at activity</p>\n\n<pre><code>package com.demo.tappycounterappy\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.os.CountDownTimer\nimport android.os.SystemClock\nimport android.util.Log\nimport android.view.View\nimport android.widget.Button\nimport android.widget.Chronometer\nimport android.widget.TextView\n\nclass MainActivity : AppCompatActivity(), Chronometer.OnChronometerTickListener {\n\n    private lateinit var _chronometerTimer:Chronometer\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        _chronometerTimer = findViewById(R.id.chronometer_timer)\n        _chronometerTimer.base = SystemClock.elapsedRealtime() + 5000\n        _chronometerTimer.setOnChronometerTickListener(this)\n        _chronometerTimer.start()\n\n\n    }\n\n    override fun onChronometerTick(chronometer: Chronometer){\n        Log.e(\"onChronometerTick\", \"called\")\n    }\n}\n</code></pre>\n\n<p>I have tested it and my onChronometerTick function is called every sec.</p>\n\n<p>Note: and yes as you said. below code doesn't work</p>\n\n<pre><code>_chronometerTimer.setOnChronometerTickListener ( Chronometer.OnChronometerTickListener {\n\n            fun onChronometerTick(chronometer:Chronometer) {\n               Log.e(\"onChronometerTick\", \"called\")\n            }\n\n        })\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7618722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/019e1b2785047b5d98e5377dc94dbe8f?s=128&d=identicon&r=PG&f=1", "display_name": "Migaloco", "link": "https://stackoverflow.com/users/7618722/migaloco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1569512039, "creation_date": 1525210997, "last_edit_date": 1569512039, "question_id": 50124273, "link": "https://stackoverflow.com/questions/50124273/problems-with-setonchronometerticklistener", "title": "Problems with setOnChronometerTickListener", "body": "<p>so i was trying to mess around with android studio, and decided to make a simple counter app. Every time I press the button(which covers the entire screen) it adds 1, and if i keep the button pressed for 3 sec the counter resets. Simple as that. But unfortunately, can't seem to get the setOnChronometerTickListener to work, and i need it to see when the chronometer reaches 3s. The code I have is here below: </p>\n\n<pre><code>var button = findViewById&lt;Button&gt;(R.id.button)\nval chrono = Chronometer(this)\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    button.setOnTouchListener(OnTouchListener { v , event -&gt;\n        when (event.action) {\n            MotionEvent.ACTION_DOWN -&gt; { chronoStart()}\n            MotionEvent.ACTION_UP -&gt; { chrono.stop()}\n        }\n        false\n    })\n\n}\n\nfun chronoStart() {\n\n    chrono.start()\n\n    chrono.setOnChronometerTickListener() {}\n}\n\nvar counter = 0;\n\nfun count(view: View){\n\n    val button = view as Button\n\n}\n</code></pre>\n\n<p>I already tried </p>\n\n<pre><code>chrono.setOnChronometerTickListener(chrono.onChronometerTickListener!!) {}\n</code></pre>\n\n<p>also tried another code I saw online, but it wasn't up to date.\nAny ideas on how to solve this problem or even a  different way to accomplish the same result?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 552, "user_id": 3667225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNRwJ.jpg?s=128&g=1", "display_name": "B W", "link": "https://stackoverflow.com/users/3667225/b-w"}, "edited": false, "score": 0, "creation_date": 1525278989, "post_id": 50130305, "comment_id": 87297366, "body": "I apologize - I typed my sample code incorrectly. I edited the signature bug you mentioned. I will try your suggestion in a minimal sample project to verify the fix."}, {"owner": {"reputation": 552, "user_id": 3667225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNRwJ.jpg?s=128&g=1", "display_name": "B W", "link": "https://stackoverflow.com/users/3667225/b-w"}, "edited": false, "score": 0, "creation_date": 1525279984, "post_id": 50130305, "comment_id": 87297824, "body": "I got things working in a sample project with <code>MyType</code> as the <code>PrimaryKey</code>. I&#39;ll report back after trying to fix my original project. Thank you!"}, {"owner": {"reputation": 552, "user_id": 3667225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNRwJ.jpg?s=128&g=1", "display_name": "B W", "link": "https://stackoverflow.com/users/3667225/b-w"}, "edited": false, "score": 0, "creation_date": 1525280762, "post_id": 50130305, "comment_id": 87298201, "body": "I got things working in my original project as well. Thanks for your help!"}], "tags": [], "owner": {"reputation": 716, "user_id": 7656172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGszH.jpg?s=128&g=1", "display_name": "Micha\u0142 Baran", "link": "https://stackoverflow.com/users/7656172/micha%c5%82-baran"}, "is_accepted": true, "score": 2, "last_activity_date": 1525249969, "creation_date": 1525249969, "answer_id": 50130305, "question_id": 50123977, "link": "https://stackoverflow.com/questions/50123977/does-room-allow-a-non-primitive-data-type-as-the-primary-key/50130305#50130305", "title": "Does Room allow a non-primitive data type as the primary key?", "body": "<p>Yes - Room allow non-primitive data types as the primary key.</p>\n\n<p>You have bug in your <code>TypeConverters</code> - you must provide conversions from <code>String</code> to <code>MyType</code> and from <code>MyType</code> to <code>String</code>, so method <code>fromString</code> must return <code>MyType</code> (right now it is returning <code>String</code>). Change that and it should work :)<br>\nIf you would still be having weird compile errors, try to Clean Project after making the changes.</p>\n"}], "owner": {"reputation": 552, "user_id": 3667225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNRwJ.jpg?s=128&g=1", "display_name": "B W", "link": "https://stackoverflow.com/users/3667225/b-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 50130305, "answer_count": 1, "score": 2, "last_activity_date": 1525278846, "creation_date": 1525209541, "last_edit_date": 1525278846, "question_id": 50123977, "link": "https://stackoverflow.com/questions/50123977/does-room-allow-a-non-primitive-data-type-as-the-primary-key", "title": "Does Room allow a non-primitive data type as the primary key?", "body": "<p>Using Room, I want to write a Kotlin <code>@Entity</code> with a non-primitive data type as its <code>@PrimaryKey</code>. For example:</p>\n\n<pre><code>@Entity\ndata class MyEntity(\n    @PrimaryKey val myType: MyType,\n    val text: String\n)\n</code></pre>\n\n<p>I am providing a TypeConverter between my non-primitive type to/from a String.</p>\n\n<pre><code>class Converters {\n    @TypeConverter fun fromString(value: String): MyType = MyTypeUtil.parse(value)\n    @TypeConverter fun toString(myType: MyType) = myType.toString()\n}\n</code></pre>\n\n<p>I'm also properly registering my <code>TypeConverter</code>s on my database:</p>\n\n<pre><code>@Database(\n    entities = [\n        MyEntity::class\n    ],\n    version = 1\n)\n@TypeConverters(\n    Converters::class\n)\nabstract class MyDatabase : RoomDatabase() {\n\n    abstract fun myDao(): MyDao\n}\n</code></pre>\n\n<p>Compilation is failing with:</p>\n\n<p><code>...MyDao_Impl.java: uses unchecked or unsafe operations.\nRecompile with -Xlint:unchecked for details.</code></p>\n\n<p>Can you help me find the problem? Does Room allow what I'm trying to do?</p>\n"}, {"tags": ["android", "exception", "kotlin", "android-resources"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1525206557, "post_id": 50123295, "comment_id": 87264843, "body": "Why do you resolve colorResourceId when you already have the color value? Is <code>...setBackgroundColor(sub.color)</code> not working?"}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1525206808, "post_id": 50123295, "comment_id": 87264944, "body": "@Pawel yes, it&#39;s happening on <code>viewHolder.relativeLayout.setBackgroundColor(mContext.getCol&zwnj;&#8203;or(sub.color)</code>, didn&#39;t quite understand your first question though, I am getting the value to display it in the recyclerView"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1525207065, "post_id": 50123295, "comment_id": 87265064, "body": "<code>Context.getColor(int)</code> is used to resolve color from resources like <code>R.color.colorAccent</code>, you should not pass ARGB value as its argument."}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1525207229, "post_id": 50123295, "comment_id": 87265130, "body": "@Pawel yes, I think that&#39;s it, I need to figure out a way to distinguish between the two cases, cause normally I get the colors from resources, not when I change it though, do I need to create a separate adapter, or how can I tell apart the two cases"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1525207694, "post_id": 50123295, "comment_id": 87265309, "body": "If you can modify structure of <code>sub</code>, you can add a field indicating color format and add an <code>if(...)</code> block into your bind method, or wrap the color into custom object that has <code>getColor(context)</code> method."}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1525208025, "post_id": 50123295, "comment_id": 87265487, "body": "@Pawel This makes sense, I will do this way, thanks for the help!"}], "owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525206151, "creation_date": 1525206151, "question_id": 50123295, "link": "https://stackoverflow.com/questions/50123295/android-resourcesnotfoundexception", "title": "Android - ResourcesNotFoundException", "body": "<p>I am passing my custom object <code>sub</code> which has a color property from an activity to another and retrieving it like this:</p>\n\n<pre><code>val intent = this.intent\nval bundle = intent.extras\nsub = bundle.getParcelable(\"selected\")\n</code></pre>\n\n<p>then, when a button is pressed a color picker shows up and lets me select a color, I have this method that listens for the color selection:</p>\n\n<pre><code>override fun onColorSelected(dialogId: Int, color: Int) {\n    sub.color = color\n    createsub_rel.backgroundColor = color\n}\n</code></pre>\n\n<p>as you can see the color is returned as an Int.</p>\n\n<p>The Exceptions happens in the <code>onBindViewHolder()</code> of my RecyclerView, specifically on this line:</p>\n\n<pre><code>viewHolder.relativeLayout.setBackgroundColor(mContext.getColor(sub.color))\n</code></pre>\n\n<p>the log states:</p>\n\n<blockquote>\n  <p>android.content.res.Resources$NotFoundException: Resource ID #0x7fff9800</p>\n</blockquote>\n\n<p>I have debugged it and <code>sub.color</code> is actually the expected value, I have looked here on SO for a solution, specifically on <a href=\"https://stackoverflow.com/q/9468482/6427630\">this</a>, but I couldn't find any working answer.</p>\n"}, {"tags": ["kotlin", "resttemplate"], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 2340437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c134de670d10c7f4dfd87b05c0cec89c?s=128&d=identicon&r=PG", "display_name": "DuckyDisciple", "link": "https://stackoverflow.com/users/2340437/duckydisciple"}, "is_accepted": true, "score": 1, "last_activity_date": 1525204172, "creation_date": 1525204172, "answer_id": 50122872, "question_id": 50122681, "link": "https://stackoverflow.com/questions/50122681/create-json-for-resttemplate-using-kotlin-data-class-with-property-of-reserved-k/50122872#50122872", "title": "Create JSON for restTemplate using Kotlin data class with property of reserved keyword", "body": "<p>That link helped fix it. Naming the variable `object` allowed it to keep that naming scheme. Thanks!</p>\n"}, {"tags": [], "owner": {"reputation": 10987, "user_id": 1267768, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/48d99247b2a07543886fb3f0b1575a16?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1267768/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1525233290, "creation_date": 1525233290, "answer_id": 50126921, "question_id": 50122681, "link": "https://stackoverflow.com/questions/50122681/create-json-for-resttemplate-using-kotlin-data-class-with-property-of-reserved-k/50126921#50126921", "title": "Create JSON for restTemplate using Kotlin data class with property of reserved keyword", "body": "<p>I'm not a big fan of using the backticks, because it pollutes your code.  You end up having to use those backticks everywhere you want to reference that field.  You could name it something appropriate that's not a reserved keyword, and use the mapping layer (presumably jackson) to change the serialized name:</p>\n\n<pre><code>@field:JsonProperty(\"object\")\n</code></pre>\n\n<p>I tend to have to do this from time to time for json fields with the name \"default\" and such.</p>\n"}], "owner": {"reputation": 65, "user_id": 2340437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c134de670d10c7f4dfd87b05c0cec89c?s=128&d=identicon&r=PG", "display_name": "DuckyDisciple", "link": "https://stackoverflow.com/users/2340437/duckydisciple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "closed_date": 1525348978, "accepted_answer_id": 50122872, "answer_count": 2, "score": 1, "last_activity_date": 1525233290, "creation_date": 1525203313, "question_id": 50122681, "link": "https://stackoverflow.com/questions/50122681/create-json-for-resttemplate-using-kotlin-data-class-with-property-of-reserved-k", "closed_reason": "Duplicate", "title": "Create JSON for restTemplate using Kotlin data class with property of reserved keyword", "body": "<p>I need to make an API call out with a JSON object. This has worked for me using data classes and using the <code>restTemplate.postForEntity()</code>. The issue I'm running into is that the API is looking for a property of <code>{ \"object\": ... }</code> and I can't create a val in the data class of object because it is a reserved keyword.</p>\n\n<p>I tried to override the toString method to output <code>\"RequestClass(\\\"object\\\"=$obj)\"</code> but that didn't work. Is there another class that needs to be overridden with the restTemplate, or is there a different way to create a property with the same name as a reserved keyword?</p>\n"}, {"tags": ["java", "android", "colors", "kotlin", "spannable"], "comments": [{"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1525209150, "post_id": 50121729, "comment_id": 87265936, "body": "so, is the question &quot;I am doing it this way, but it&#39;s slow. How can I make it fast?&quot;"}, {"owner": {"reputation": 113, "user_id": 9726873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b206a3a83142910fb682df4dfee0a?s=128&d=identicon&r=PG&f=1", "display_name": "Danil", "link": "https://stackoverflow.com/users/9726873/danil"}, "reply_to_user": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1525210046, "post_id": 50121729, "comment_id": 87266289, "body": "@emerssso I&#39;m already solved my problem, but I don&#39;t know how to close the question"}, {"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "edited": false, "score": 2, "creation_date": 1525232436, "post_id": 50121729, "comment_id": 87271502, "body": "@Danil you can create an answer to your own question, explaining what the solution would be."}, {"owner": {"reputation": 196, "user_id": 7421030, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300046756713706/picture?type=large", "display_name": "Francis Nduba Numbi", "link": "https://stackoverflow.com/users/7421030/francis-nduba-numbi"}, "edited": false, "score": 0, "creation_date": 1526596446, "post_id": 50121729, "comment_id": 87818604, "body": "How did you solve the slowness issue? I&#39;m concerned as well"}], "owner": {"reputation": 113, "user_id": 9726873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b206a3a83142910fb682df4dfee0a?s=128&d=identicon&r=PG&f=1", "display_name": "Danil", "link": "https://stackoverflow.com/users/9726873/danil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1525198963, "creation_date": 1525198963, "question_id": 50121729, "link": "https://stackoverflow.com/questions/50121729/make-text-colored-inside-edittext", "title": "Make text colored inside EditText", "body": "<p>Can I somehow color the text inside EditText without using Spannable?\nI will be glad to any link.\nNow I use Regex for search keywords and dynamically color the text inside EditText. (I use <code>Kotlin coroutines</code>)</p>\n\n<pre><code>Editable.setSpan(new ForegroundColorSpan(color), start, end, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n</code></pre>\n\n<p>But when I open the text from large Text file 600+ lines, my UI starts to slow down.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 528, "user_id": 3996989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JqIsp.png?s=128&g=1", "display_name": "Saba", "link": "https://stackoverflow.com/users/3996989/saba"}, "edited": false, "score": 2, "creation_date": 1525197368, "post_id": 50121270, "comment_id": 87260369, "body": "if getInstance would never return null why you put getInstance() def returns optional? change it to return <code>DatabaseInstance</code> instead of <code>DatabaseInstance?</code> btw kotlin has another way of making singleton class you can google that out"}, {"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "reply_to_user": {"reputation": 528, "user_id": 3996989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JqIsp.png?s=128&g=1", "display_name": "Saba", "link": "https://stackoverflow.com/users/3996989/saba"}, "edited": false, "score": 0, "creation_date": 1525197459, "post_id": 50121270, "comment_id": 87260409, "body": "Because it is returning <code>INSTANCE</code> which is nullable, though I suppose I could return <code>INSTANCE!!</code>....Didnt think about that until now"}, {"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1525197679, "post_id": 50121270, "comment_id": 87260518, "body": "@Pavneet_Singh I was also looking at <code>lateinit</code> but then lint gave me a warning saying <code>if (INSTANCE == null)</code> would always be false"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1525198895, "post_id": 50121270, "comment_id": 87261185, "body": "In this case you can safely use  <code>!!</code>. It&#39;s not pretty, but it&#39;s definitel safe in this situation, and it solves your problem quicky."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1525200845, "post_id": 50121270, "comment_id": 87262211, "body": "Use the <code>lazy</code> property delegate instead of trying (and failing) to write your own lazy init code."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1525198043, "creation_date": 1525198043, "answer_id": 50121510, "question_id": 50121270, "link": "https://stackoverflow.com/questions/50121270/declaring-singletons-in-kotlin/50121510#50121510", "title": "Declaring singletons in kotlin", "body": "<p>Your <code>getInstance(Context)</code> returns an optional type. Instead make it return <code>DatabaseInstance</code> using the <code>!!</code> operator on <code>INSTANCE</code>.</p>\n\n<pre><code>fun getInstance(context: Context): DatabaseInstance {\n    if (INSTANCE == null) {\n        synchronized(DatabaseInstance::class) {\n            INSTANCE = Room.databaseBuilder(context.applicationContext,\n                DatabaseInstance::class.java, \"my_database.db\")\n                .allowMainThreadQueries().fallbackToDestructiveMigration().build()\n        }\n    }\n    return INSTANCE!!\n}\n</code></pre>\n\n<p>But keep in mind that your overall implementation is not thread-safe.</p>\n"}, {"tags": [], "owner": {"reputation": 378, "user_id": 5892676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b90d114dd42d3145df2405645a3953?s=128&d=identicon&r=PG&f=1", "display_name": "Dambakk", "link": "https://stackoverflow.com/users/5892676/dambakk"}, "is_accepted": false, "score": 0, "last_activity_date": 1525198287, "creation_date": 1525198287, "answer_id": 50121566, "question_id": 50121270, "link": "https://stackoverflow.com/questions/50121270/declaring-singletons-in-kotlin/50121566#50121566", "title": "Declaring singletons in kotlin", "body": "<p>I think you can do it like this:</p>\n\n<pre><code>companion object {\n    private val instance: DatabaseInstance = DatabaseInstance()\n    fun getInstance(): DatabaseInstance {\n        return instance\n    }\n}\n</code></pre>\n\n<p>Correct me if I'm worng, but I think your instance only will be initialized once.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5321855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d53bae61df2b11f0d0764799588e200?s=128&d=identicon&r=PG&f=1", "display_name": "jeanseb", "link": "https://stackoverflow.com/users/5321855/jeanseb"}, "is_accepted": false, "score": 0, "last_activity_date": 1525224344, "creation_date": 1525224344, "answer_id": 50125957, "question_id": 50121270, "link": "https://stackoverflow.com/questions/50121270/declaring-singletons-in-kotlin/50125957#50125957", "title": "Declaring singletons in kotlin", "body": "<p>You can take advantage of the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">Elvis operator</a> to return a non-null <code>DatabaseInstance</code> and avoid using the <code>!!</code> operator:</p>\n\n<pre><code>private var INSTANCE: DatabaseInstance? = null\n\nfun getInstance(context: Context): DatabaseInstance {\n    return INSTANCE ?: synchronized(DatabaseInstance::class) {\n        INSTANCE ?: Room.databaseBuilder(context.applicationContext, DatabaseInstance::class.java, \"my_database.db\")\n                .allowMainThreadQueries()\n                .fallbackToDestructiveMigration()\n                .build()\n                .also { INSTANCE = it }\n    }\n}\n</code></pre>\n\n<p>Source: <a href=\"https://gist.github.com/florina-muntenescu/697e543652b03d3d2a06703f5d6b44b5#file-datadatabase-kt-L37\" rel=\"nofollow noreferrer\">Pro-tips for Room</a></p>\n"}], "owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1928, "favorite_count": 0, "accepted_answer_id": 50121510, "answer_count": 3, "score": 1, "last_activity_date": 1525224344, "creation_date": 1525196994, "last_edit_date": 1525197325, "question_id": 50121270, "link": "https://stackoverflow.com/questions/50121270/declaring-singletons-in-kotlin", "title": "Declaring singletons in kotlin", "body": "<p>I have this code for getting a singleton intance of my <code>Room</code> database but all over my code i get lint warnings when using the <code>Dao</code> that it could cause a null pointer exception because getInstance can return a nullable value</p>\n\n<pre><code>abstract class DatabaseInstance : RoomDatabase() {\n\n    // ... Dao's\n\n    companion object {\n        private var INSTANCE: DatabaseInstance? = null\n\n        fun getInstance(context: Context): DatabaseInstance? {\n            if (INSTANCE == null) {\n                synchronized(DatabaseInstance::class) {\n                    INSTANCE = Room.databaseBuilder(context.applicationContext,\n                        DatabaseInstance::class.java, \"my_database.db\")\n                        .allowMainThreadQueries().fallbackToDestructiveMigration().build()\n                }\n            }\n            return INSTANCE\n        }\n\n        fun destroyInstance() {\n            INSTANCE = null\n        }\n    }\n}\n</code></pre>\n\n<p>I tried seeing if I could use a private and public instance variable where the public would have a custom getter and do what getInstance does but I cant pass context into it.</p>\n\n<p>Since <code>getInstance</code> is really never going to return null how can I adjust things so that the lint error's are gone? </p>\n\n<p>And no I don't want to just suppress the lint error </p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "edited": false, "score": 1, "creation_date": 1525197621, "post_id": 50121235, "comment_id": 87260488, "body": "Can you please post the crash log?"}, {"owner": {"reputation": 690, "user_id": 7252861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851a29c5fd64d453382b5bd1412fd4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Yashovardhan99", "link": "https://stackoverflow.com/users/7252861/yashovardhan99"}, "edited": false, "score": 0, "creation_date": 1525197849, "post_id": 50121235, "comment_id": 87260615, "body": "Please use a debugger (included in android studio) to get the logs of the crash. Look for the error log specifically. It will give you a hint as to why the app is crashing with the specific error and location. If you still can&#39;t fix it, you can ask here with the specific error you are facing."}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "edited": false, "score": 0, "creation_date": 1525198574, "post_id": 50121235, "comment_id": 87261000, "body": "@XXZ it gives <code>java.lang.RuntimeException: setAudioSource failed</code>"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 690, "user_id": 7252861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851a29c5fd64d453382b5bd1412fd4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Yashovardhan99", "link": "https://stackoverflow.com/users/7252861/yashovardhan99"}, "edited": false, "score": 0, "creation_date": 1525198592, "post_id": 50121235, "comment_id": 87261004, "body": "@Yashovardhan it gives <code>java.lang.RuntimeException: setAudioSource failed</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1525200675, "post_id": 50122148, "comment_id": 87262119, "body": "Thanks, I got another error, and updated my question."}, {"owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1525200826, "post_id": 50122148, "comment_id": 87262200, "body": "Which line is &quot;java.lang.RuntimeException: start failed&quot; happening on?"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1525200920, "post_id": 50122148, "comment_id": 87262246, "body": "`       try {             mRecorder!!.apply {                 prepare()                 start()             }`"}, {"owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1525201074, "post_id": 50122148, "comment_id": 87262319, "body": "java.io.IOException: No valid output file"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1525201417, "post_id": 50122148, "comment_id": 87262488, "body": "yes, it is there: <code>mRecorder!!.setOutputFile(mOutputFile!!.absolutePath)</code>"}, {"owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1525202776, "post_id": 50122148, "comment_id": 87263111, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/170176/discussion-between-xxz-and-hasan-a-yousef\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "is_accepted": false, "score": 1, "last_activity_date": 1525200624, "creation_date": 1525200624, "answer_id": 50122148, "question_id": 50121235, "link": "https://stackoverflow.com/questions/50121235/my-phone-recorder-service-keep-crashing/50122148#50122148", "title": "My Phone recorder service keep crashing", "body": "<p>The following permission needs to be added:</p>\n\n<p><code>uses-permission android:name=\"android.permission.RECORD_AUDIO\"</code></p>\n\n<p>In addition, it is a \"dangerous\" permission so it must be granted directly by the user:\n<a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting</a></p>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 1, "last_activity_date": 1525419261, "last_edit_date": 1525419261, "creation_date": 1525416712, "answer_id": 50168900, "question_id": 50121235, "link": "https://stackoverflow.com/questions/50121235/my-phone-recorder-service-keep-crashing/50168900#50168900", "title": "My Phone recorder service keep crashing", "body": "<p>I found the reason is due to changes in Android O API. regarding Foreground services, and notifying user about Media recording.</p>\n\n<p>My <code>Manifest</code> is:</p>\n\n<pre><code>&lt;receiver android:name=\".broadcasts.PhoneStateReceiver\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.PHONE_STATE\" /&gt;\n        &lt;action android:name=\"android.intent.action.READ_PHONE_STATE\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n&lt;service android:name=\".Services.AudioService\"\n    android:enabled=\"true\"\n    android:exported=\"true\"/&gt;\n</code></pre>\n\n<p>My <code>Broadcast Receiver</code> is:</p>\n\n<pre><code>class PhoneStateReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n\n        prefs = context.getSharedPreferences(PREFS_FILENAME, 0)\n        val record_calls = prefs!!.getBoolean(\"recordCalls\", false)\n        val service = Intent(context, AudioService::class.java)\n\n        val state = intent.getStringExtra(TelephonyManager.EXTRA_STATE)\n        val incomingNumber = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER)\n\n        when(state){\n            TelephonyManager.EXTRA_STATE_RINGING -&gt; {\n                      //      Toast.makeText(context, \"Ringing $incomingNumber\", Toast.LENGTH_LONG).show()\n                            }\n            TelephonyManager.EXTRA_STATE_OFFHOOK -&gt; {\n               // Toast.makeText(context, \"IS_SERVICE_RUNNING $IS_SERVICE_RUNNING\", Toast.LENGTH_LONG).show()\n                            if (record_calls) {\n                                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                                    context.startForegroundService(service)\n                                } else context.startService(service)\n                                IS_SERVICE_RUNNING = true\n                                }\n            }\n            TelephonyManager.EXTRA_STATE_IDLE -&gt; if (IS_SERVICE_RUNNING) context.stopService(service)\n            else -&gt; Toast.makeText(context, \"ERROR\", Toast.LENGTH_LONG).show()\n        }\n    }\n}\n</code></pre>\n\n<p>My <code>Service</code> is:</p>\n\n<pre><code>var IS_SERVICE_RUNNING = false\n\nclass AudioService : Service(), MediaRecorder.OnInfoListener {\n\n    lateinit var context: Context\n    private var mRecorder: MediaRecorder? = null\n    //setting maximum file size to be recorded\n    private val Audio_MAX_FILE_SIZE: Long = 1000000//1Mb\n\n    private var mOutputFile: File? = null\n    private var mStartTime: Long = 0\n\n    private val outputFile: File\n        get() {\n            val dateFormat = SimpleDateFormat(\"yyyyMMdd_HHmmssSSS\", Locale.US)\n            return File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), //  Environment.DIRECTORY_DOCUMENTS, //    context.filesDir, //\n                    //  .absolutePath.toString()\n                    \"call_\"  // \"/Voice Recorder/RECORDING_\"\n                            + dateFormat.format(Date())\n                            + \".m4a\")\n        }\n\n    override fun onInfo(mr: MediaRecorder?, what: Int, extra: Int) {\n        if (what == MediaRecorder.MEDIA_RECORDER_INFO_MAX_FILESIZE_REACHED) {\n             stopRecording(true)\n        }\n    }\n\n    override fun onBind(intent: Intent?): IBinder? {\n        return null\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        context = this\n    }\n\n    override fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n        Toast.makeText(context,\"started recording\", Toast.LENGTH_LONG).show()\n\n                val intent = Intent(DownloadManager.ACTION_VIEW_DOWNLOADS)\n    val pendingIntent = PendingIntent.getActivity(context, 0, intent, 0)\n    val nManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n\n    val notification = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                Notification.Builder(context, NotificationService.CHANNEL_ID)\n            } else {\n                Notification.Builder(context)\n            }.apply {\n                setContentIntent(pendingIntent)\n                setSmallIcon(R.drawable.ic_error_black_24dp)\n\n           setLargeIcon(BitmapFactory.decodeResource(context.resources, R.mipmap.ic_launcher))\n                setAutoCancel(true)\n\n         setContentTitle(resources.getString(R.string.recording_title))\n                setStyle(Notification.BigTextStyle()                          .bigText(resources.getString(R.string.recording_body)))\n\n          setContentText(resources.getString(R.string.recording_body))\n            }.build()\n\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n        startForeground(1, notification);\n    } else {\n        nManager.notify(1, notification)\n    }\n\n        mRecorder = MediaRecorder().apply {\n            // reset()\n        }\n        mRecorder!!.setOnInfoListener(this)\n\n        mOutputFile = outputFile\n        mOutputFile!!.parentFile.mkdirs()\n\n        mRecorder = MediaRecorder()\n        mRecorder!!.apply {\n            setAudioSource(MediaRecorder.AudioSource.MIC)\n            //  setMaxFileSize(Audio_MAX_FILE_SIZE)\n            setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)\n            // setOutputFile(mFileName)\n            setAudioEncoder(MediaRecorder.AudioEncoder.HE_AAC)\n            setAudioEncodingBitRate(48000)\n            setAudioSamplingRate(16000)\n            setOutputFile(mOutputFile!!.absolutePath)\n        }\n\n        try {\n            mRecorder!!.prepare()\n            mRecorder!!.start()\n        } catch (ise: IllegalStateException) {\n            Toast.makeText(context,\"Error 1 $ise \", Toast.LENGTH_LONG).show()\n        } catch (ioe: IOException) {\n            Toast.makeText(context,\"Error 2 $ioe \", Toast.LENGTH_LONG).show()\n        }\n\n        return Service.START_STICKY\n    }\n\n    private fun stopRecording(saveFile: Boolean) {\n        Toast.makeText(context,\"stopped recording \", Toast.LENGTH_LONG).show()\n\n        mRecorder!!.apply {\n            stop()\n            reset()\n            release()\n        }\n        mRecorder = null\n        mStartTime = 0\n        if (!saveFile &amp;&amp; mOutputFile != null) {\n            mOutputFile!!.delete()\n        }\n        // to stop the service by itself\n        stopSelf()\n\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n      //  Toast.makeText(context,\"service destroyed \", Toast.LENGTH_LONG).show()\n        stopRecording(true)\n    }\n}\n</code></pre>\n\n<p>My <code>NotificationUtility</code> is:</p>\n\n<pre><code>@RequiresApi(Build.VERSION_CODES.O)\nclass NotificationUtils(base: Context) : ContextWrapper(base) {\n\n    val nManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n\n    init {\n        createChannels()\n    }\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    private fun createChannels() {\n        val myChannel = NotificationChannel(CHANNEL_ID,\n                CHANNEL_NAME, NotificationManager.IMPORTANCE_DEFAULT).apply {\n            enableLights(true)\n            enableVibration(true)\n            lightColor = Color.GREEN\n            lockscreenVisibility = Notification.VISIBILITY_PRIVATE\n        }\n\n        nManager.createNotificationChannel(myChannel)\n    }\n\n    companion object {\n        const val CHANNEL_ID = \"my.CHANNEL_ID\"\n        const val CHANNEL_NAME = \"my.Notification\"\n    }\n}\n</code></pre>\n\n<p>And for runtime permissions,I created <code>Context Extensions</code>:</p>\n\n<pre><code>fun Context.toast(message: CharSequence) =\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show()\n\nfun Context.arePermissionsGranted(permissions: Array&lt;String&gt;): Boolean {\n    permissions.forEach { it -&gt;\n        if(ActivityCompat.checkSelfPermission(this, it) != PackageManager.PERMISSION_GRANTED)\n            return false\n    }\n    return true\n}\n\n    fun Context.isPermissionGranted(permission: String) =\n            ActivityCompat.checkSelfPermission(this, permission) == PackageManager.PERMISSION_GRANTED\n\n    fun Context.batchRequestPermissions(permissions: Array&lt;String&gt;, requestId: Int) =\n            ActivityCompat.requestPermissions(this as Activity, permissions, requestId)\n\n    fun Context.requestPermission(permission: String, requestId: Int) =\n            ActivityCompat.requestPermissions(this as Activity, arrayOf(permission), requestId)\n</code></pre>\n\n<p>In the <code>MainActivity</code> I've:</p>\n\n<pre><code>val CALL_PERMISSIONS =\n        arrayOf(READ_PHONE_STATE, RECORD_AUDIO, WRITE_EXTERNAL_STORAGE)\nconst val CALL_RECORD_PERMISSION_REQUEST_ALL = 10\n\nclass MainActivity : AppCompatActivity() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)  NotificationUtils(this)\n\nval self = this as Context\n\n        val dialog = AlertDialog.Builder(this).apply {\n            setTitle(R.string.permissions_required)\n            setIcon(R.drawable.ic_done_all_black_24dp)\n            setMessage(R.string.grant_permissions_required)\n\n            setPositiveButton(\"Confirm\", { dialog, i -&gt;\n                self.batchRequestPermissions(CALL_PERMISSIONS, CALL_RECORD_PERMISSION_REQUEST_ALL)\n            })\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 50168900, "answer_count": 2, "score": 4, "last_activity_date": 1525419261, "creation_date": 1525196831, "last_edit_date": 1525200556, "question_id": 50121235, "link": "https://stackoverflow.com/questions/50121235/my-phone-recorder-service-keep-crashing", "title": "My Phone recorder service keep crashing", "body": "<p>I've the below code in my app for calls recording, but it keep crashes once the 'service' is called!</p>\n\n<p>The <code>BroadcastReceiver</code> for detecting the call, and starting the <code>AudioService</code> is:</p>\n\n<pre><code>class PhoneStateReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n\n        val state = intent.getStringExtra(TelephonyManager.EXTRA_STATE)\n        val incomingNumber = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER)\n\n        when(state){\n            TelephonyManager.EXTRA_STATE_RINGING -&gt; {\n                            Toast.makeText(context, \"Ringing $incomingNumber\", Toast.LENGTH_LONG).show()\n                            }\n            TelephonyManager.EXTRA_STATE_OFFHOOK -&gt; {\n                            Toast.makeText(context, \"On Call $incomingNumber\", Toast.LENGTH_LONG).show()\n                            context.startService(Intent(context, AudioService::class.java))\n                            }\n            TelephonyManager.EXTRA_STATE_IDLE -&gt; {\n                        Toast.makeText(context, \"IDLE\", Toast.LENGTH_LONG).show()\n                        context.stopService(Intent(context, AudioService::class.java))\n                         }\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>AudioService</code> that is used for recording the call, but keep crashing:</p>\n\n<pre><code>class AudioService : Service(), MediaRecorder.OnInfoListener {\n\n    lateinit var context: Context\n    private var mRecorder: MediaRecorder? = null\n    //setting maximum file size to be recorded\n    private val Audio_MAX_FILE_SIZE: Long = 1000000//1Mb\n\n    private var mOutputFile: File? = null\n    private var mStartTime: Long = 0\n\n    private val outputFile: File\n        get() {\n            val dateFormat = SimpleDateFormat(\"yyyyMMdd_HHmmssSSS\", Locale.US)\n            return File(context.filesDir, //Environment.getExternalStorageDirectory(Environment.DIRECTORY_DOWNLOADS)\n                  //  .absolutePath.toString()\n                    \"RECORDING_\"  // \"/Voice Recorder/RECORDING_\"\n                    + dateFormat.format(Date())\n                    + \".m4a\")\n        }\n\n    override fun onInfo(mr: MediaRecorder?, what: Int, extra: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        if (what == MediaRecorder.MEDIA_RECORDER_INFO_MAX_FILESIZE_REACHED) {\n            stopRecording(true)\n        }\n    }\n\n    override fun onBind(intent: Intent?): IBinder? {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        return null\n    }\n\n    override fun onCreate() {\n        context = this\n      //  Toast.makeText(context,\"created\", Toast.LENGTH_LONG).show()\n    }\n\n    override fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n        Toast.makeText(context,\"started recording\", Toast.LENGTH_LONG).show()\n\n        mRecorder = MediaRecorder()\n        mRecorder!!.setOnInfoListener(this)\n\n        mRecorder!!.apply {\n            setAudioSource(MediaRecorder.AudioSource.MIC)\n            setMaxFileSize(Audio_MAX_FILE_SIZE)\n            setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)\n\n            setAudioEncoder(MediaRecorder.AudioEncoder.HE_AAC)\n            setAudioEncodingBitRate(48000)\n\n            setAudioSamplingRate(16000)\n        }\n        mOutputFile = outputFile\n        mOutputFile!!.parentFile.mkdirs()\n        mRecorder!!.setOutputFile(mOutputFile!!.absolutePath)\n\n        try {\n            mRecorder!!.apply {\n                prepare()\n                start()\n            }\n\n            mStartTime = SystemClock.elapsedRealtime()\n        } catch (e: IOException) {\n        }\n\n        return Service.START_STICKY\n    }\n\n    private fun stopRecording(saveFile: Boolean) {\n        Toast.makeText(context,\"stopped recording \", Toast.LENGTH_LONG).show()\n        mRecorder!!.apply {\n            stop()\n            release()\n        }\n        mRecorder = null\n        mStartTime = 0\n        if (!saveFile &amp;&amp; mOutputFile != null) {\n            mOutputFile!!.delete()\n        }\n        // to stop the service by itself\n        stopSelf()\n\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        stopRecording(true)\n    }\n}\n</code></pre>\n\n<p>In the <code>AndroidManifest</code> I added both as below:</p>\n\n<pre><code>    &lt;receiver android:name=\".broadcasts.PhoneStateReceiver\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.PHONE_STATE\" /&gt;\n            &lt;action android:name=\"android.intent.action.READ_PHONE_STATE\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;service android:name=\".Services.AudioService\" /&gt;\n</code></pre>\n\n<p>I already granted the required runtime permission of <code>android.Manifest.permission.READ_PHONE_STATE</code> in the MainActivity</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I got this error in the debugger:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: setAudioSource failed</p>\n</blockquote>\n\n<p>So, referring to <a href=\"https://stackoverflow.com/a/39846797/2441637\">this</a> I added the runtime permission of <code>Manifest.permission.RECORD_AUDIO</code> but now getting another error, that is:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: start failed.</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1783, "user_id": 661217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf8d23e70acb4df8894108a8ae5effc?s=128&d=identicon&r=PG", "display_name": "Vijayendra", "link": "https://stackoverflow.com/users/661217/vijayendra"}, "edited": false, "score": 0, "creation_date": 1525197417, "post_id": 50121229, "comment_id": 87260391, "body": "Thanks for the quick answer and also suggesting shuffle."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1525196815, "creation_date": 1525196815, "answer_id": 50121229, "question_id": 50121059, "link": "https://stackoverflow.com/questions/50121059/create-arraylist-as-parameter-of-a-function-that-accepts-any-type-in-kotlin/50121229#50121229", "title": "Create Arraylist as parameter of a function that accepts any type in Kotlin", "body": "<p>You need to make your function generic, like so:</p>\n\n<pre><code>fun &lt;T&gt; randomize(array: ArrayList&lt;T&gt;) {\n    // do whatever you want to your `ArrayList`\n}\n</code></pre>\n\n<p>But if you don't have any specific way in mind for how to do the shuffling, you can just use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/shuffle.html\" rel=\"nofollow noreferrer\"><code>shuffle</code></a> method of the standard library:</p>\n\n<pre><code>val arr = ArrayList&lt;Int&gt;()\n// ...\narr.shuffle()\n</code></pre>\n"}], "owner": {"reputation": 1783, "user_id": 661217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf8d23e70acb4df8894108a8ae5effc?s=128&d=identicon&r=PG", "display_name": "Vijayendra", "link": "https://stackoverflow.com/users/661217/vijayendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "accepted_answer_id": 50121229, "answer_count": 1, "score": 1, "last_activity_date": 1525196815, "creation_date": 1525195968, "last_edit_date": 1525196566, "question_id": 50121059, "link": "https://stackoverflow.com/questions/50121059/create-arraylist-as-parameter-of-a-function-that-accepts-any-type-in-kotlin", "title": "Create Arraylist as parameter of a function that accepts any type in Kotlin", "body": "<p>I am new to kotlin with Android Studio. I have written a function in kotlin which accepts an Arraylist as input and randomly shuffles it - </p>\n\n<pre><code>fun randomize(array: ArrayList&lt;Any&gt;) { ... }\n</code></pre>\n\n<p>I want this function to accept ArrayList of any type but calling with following arguments gives type mismatch error -</p>\n\n<pre><code>val arr = ArrayList&lt;Int&gt;()\n// ...\nrandomize(array = arr) // Gives Error\n</code></pre>\n\n<p>How can I use ArrayList that accepts any type. Thanks for your help.</p>\n"}, {"tags": ["java", "dictionary", "hashmap", "kotlin", "key-value"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1525196331, "post_id": 50120859, "comment_id": 87259887, "body": "Still can&#39;t compile. <code>animalInfo</code> and <code>moduleInfo</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "edited": false, "score": 0, "creation_date": 1525196067, "post_id": 50121014, "comment_id": 87259731, "body": "Wait I&#39;ve found it too, give me a minute"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 1, "last_activity_date": 1525196187, "last_edit_date": 1525196187, "creation_date": 1525195752, "answer_id": 50121014, "question_id": 50120859, "link": "https://stackoverflow.com/questions/50120859/accessing-the-values-inside-a-map-in-kotlin/50121014#50121014", "title": "Accessing the values inside a map in Kotlin", "body": "<p>Change this line:</p>\n\n<pre><code>var animalInfo = mutableMapOf&lt;String,Any&gt;()\n</code></pre>\n\n<p>into</p>\n\n<pre><code>var animalInfo = mutableMapOf&lt;String,MutableMap&lt;String, out Any&gt;&gt;()\n</code></pre>\n\n<p>and change</p>\n\n<pre><code>val module = dataDict[\"Animal\"]\n</code></pre>\n\n<p>into</p>\n\n<pre><code>val module = dataDict[\"Animal\"]!!\n</code></pre>\n\n<p>and change <code>mutableListOf</code> into <code>mutableMapOf</code> should resolve this (3 changes in total).</p>\n"}], "owner": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6056, "favorite_count": 0, "accepted_answer_id": 50121014, "answer_count": 1, "score": 0, "last_activity_date": 1525289465, "creation_date": 1525195059, "last_edit_date": 1525289465, "question_id": 50120859, "link": "https://stackoverflow.com/questions/50120859/accessing-the-values-inside-a-map-in-kotlin", "title": "Accessing the values inside a map in Kotlin", "body": "<p>I'm having difficulty accessing the values in this dictionary/map I built inside of this animals object:  </p>\n\n<pre><code>object Animals {\nvar animalInfo = mutableMapOf&lt;String,Any&gt;()\ninit {\n    animalInfo[\"Animal\"] = mutableListOf(\"description\" to \"Large Mammal\", \"name\" to \"Elephant\", \"highlights\" to arrayListOf(\"Long Trunk\", \"Flappy Ears\", \"Ivory Tusks\"))\n    }\n}    \n</code></pre>\n\n<p>Swift being my first language I tried to access the values like this but without the use of optional binding:</p>\n\n<pre><code> val dataDict = Animals.animalInfo\n        val animal = dataDict[\"Animal\"]\n        println(animal[\"description\"])\n        println(animal[\"name\"])\n        println(animal[\"highLights\"])\n</code></pre>\n\n<p>All the println lines have an unresolved reference error. How do I  correctly access the values in a mutableMapOf()?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1525189175, "post_id": 50119399, "comment_id": 87256173, "body": "Yes, <code>::Foo</code> is a constructor, so it returns an instance of <code>Foo</code>"}, {"owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1525190554, "post_id": 50119399, "comment_id": 87256922, "body": "@series0ne I have tested also with a constructor. See updated answer."}], "tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": true, "score": 1, "last_activity_date": 1525190814, "last_edit_date": 1525190814, "creation_date": 1525189047, "answer_id": 50119399, "question_id": 50118648, "link": "https://stackoverflow.com/questions/50118648/kotlin-kfunction3-unresolved-reference/50119399#50119399", "title": "Kotlin - KFunction3 unresolved reference", "body": "<p>I have tried to reproduce your problem with IntelliJ IDEA 2017.2.6 with:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    fun foo(x: Int, y: Int, z: Int) = x % 2 != 0\n    val f = ::foo\n    val f1: KFunction3&lt;Int, Int, Int, Boolean&gt; = ::foo\n}\n</code></pre>\n\n<p>This compiles without any problem.</p>\n\n<p>How come that the return type is <code>Foo</code> in KFunction3? Does your <code>Foo</code> function return itself?</p>\n\n<p><strong>Update 1:</strong></p>\n\n<p>I have tested the same with a constructor with no errors:</p>\n\n<pre><code>class Foo (x: Int, y: Int, z: Int) {}\n\nfun main(args: Array&lt;String&gt;) {\n    val ft1 = ::Foo\n    val ft2: KFunction3&lt;Int, Int, Int, Foo&gt; = ::Foo\n}\n</code></pre>\n\n<p>Using Kotlin 1.2.31 and no extra libraries.</p>\n"}, {"comments": [{"owner": {"reputation": 2123, "user_id": 1101420, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae427008f4b07d2757d72a95726584a5?s=128&d=identicon&r=PG", "display_name": "Shripad Bhat", "link": "https://stackoverflow.com/users/1101420/shripad-bhat"}, "edited": false, "score": 0, "creation_date": 1569793488, "post_id": 50128801, "comment_id": 102701158, "body": "Not sure why idea is not suggesting the import. This is best answer!"}], "tags": [], "owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "is_accepted": false, "score": 3, "last_activity_date": 1525244365, "creation_date": 1525244365, "answer_id": 50128801, "question_id": 50118648, "link": "https://stackoverflow.com/questions/50118648/kotlin-kfunction3-unresolved-reference/50128801#50128801", "title": "Kotlin - KFunction3 unresolved reference", "body": "<p>Through <code>KFunction3</code> is not part of the standard lib you have to manually import it.</p>\n\n<pre><code>import kotlin.reflect.KFunction3\n</code></pre>\n\n<p>This solved your problem for me.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 804, "favorite_count": 0, "accepted_answer_id": 50119399, "answer_count": 2, "score": 1, "last_activity_date": 1525244365, "creation_date": 1525186160, "question_id": 50118648, "link": "https://stackoverflow.com/questions/50118648/kotlin-kfunction3-unresolved-reference", "title": "Kotlin - KFunction3 unresolved reference", "body": "<pre><code>val fooCtor = ::Foo\n</code></pre>\n\n<p>The inferred type of <code>fooCtor</code> is <code>KFunction3&lt;Int, Int, Int, Foo&gt;</code></p>\n\n<p>When I try to explicitly define something as <code>KFunction3&lt;...&gt;</code>, for example</p>\n\n<pre><code>val fooCtor: KFunction3&lt;Int, Int, Int, Foo&gt; = ::Foo\n</code></pre>\n\n<p>The IDE/compiler tells me that <code>KFunction3</code> is an unresolved reference.</p>\n\n<p>Why is this? - I tried adding kotlin-reflect to my gradle.build file but no luck.</p>\n"}, {"tags": ["java", "gradle", "kotlin", "version"], "comments": [{"owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "edited": false, "score": 0, "creation_date": 1525184015, "post_id": 50117966, "comment_id": 87253359, "body": "Do you use <code>gradle run</code> or execute the resulting jar?"}, {"owner": {"reputation": 2928, "user_id": 2381172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MSd0b.jpg?s=128&g=1", "display_name": "xuesheng", "link": "https://stackoverflow.com/users/2381172/xuesheng"}, "edited": false, "score": 0, "creation_date": 1525265694, "post_id": 50117966, "comment_id": 87288266, "body": "Why don&#39;t you simply write the version straight to the source code via gradle using <code>filter(ReplaceTokens...)</code>?"}, {"owner": {"reputation": 3720, "user_id": 130993, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4257a5081473debc964d01834bce334e?s=128&d=identicon&r=PG", "display_name": "Jean-Fran&#231;ois C&#244;t&#233;", "link": "https://stackoverflow.com/users/130993/jean-fran%c3%a7ois-c%c3%b4t%c3%a9"}, "reply_to_user": {"reputation": 2928, "user_id": 2381172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MSd0b.jpg?s=128&g=1", "display_name": "xuesheng", "link": "https://stackoverflow.com/users/2381172/xuesheng"}, "edited": false, "score": 0, "creation_date": 1525354775, "post_id": 50117966, "comment_id": 87330716, "body": "@xuesheng Never heard of this method. Feel free to add a possible answer below."}], "answers": [{"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 0, "last_activity_date": 1525184606, "creation_date": 1525184606, "answer_id": 50118234, "question_id": 50117966, "link": "https://stackoverflow.com/questions/50117966/get-version-in-kotlin-java-code-in-gradle-project/50118234#50118234", "title": "Get Version in Kotlin/Java code in Gradle project", "body": "<p>Gradle is present only at the compilation, not at Runtime.</p>\n\n<p>For doing this, you have to generate a class at the compilation time.<br>\nWith <code>Android</code> project, the file <code>BuildConfig.java</code> is generated but I don't know if it's Gradle or Android.</p>\n\n<p>For generating Kotlin code, you can check <a href=\"https://github.com/square/kotlinpoet\" rel=\"nofollow noreferrer\">KotlinPoet</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3720, "user_id": 130993, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4257a5081473debc964d01834bce334e?s=128&d=identicon&r=PG", "display_name": "Jean-Fran&#231;ois C&#244;t&#233;", "link": "https://stackoverflow.com/users/130993/jean-fran%c3%a7ois-c%c3%b4t%c3%a9"}, "edited": false, "score": 0, "creation_date": 1525195077, "post_id": 50119235, "comment_id": 87259241, "body": "Thanks for the reply. I will try this!"}, {"owner": {"reputation": 3720, "user_id": 130993, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4257a5081473debc964d01834bce334e?s=128&d=identicon&r=PG", "display_name": "Jean-Fran&#231;ois C&#244;t&#233;", "link": "https://stackoverflow.com/users/130993/jean-fran%c3%a7ois-c%c3%b4t%c3%a9"}, "edited": false, "score": 0, "creation_date": 1525198670, "post_id": 50119235, "comment_id": 87261052, "body": "The first section works perfectly, the file is generated in the build folder. Unfortunately, I&#39;m not able to load it using <code>this.javaClass.getResourceAsStream</code>. Should it be generated in the <code>build&#47;resources</code> folder instead? It always return <code>null</code> and the <code>load</code> crashes with a <code>NullPointerException</code>"}, {"owner": {"reputation": 3720, "user_id": 130993, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4257a5081473debc964d01834bce334e?s=128&d=identicon&r=PG", "display_name": "Jean-Fran&#231;ois C&#244;t&#233;", "link": "https://stackoverflow.com/users/130993/jean-fran%c3%a7ois-c%c3%b4t%c3%a9"}, "edited": false, "score": 1, "creation_date": 1525198835, "post_id": 50119235, "comment_id": 87261145, "body": "Oh! Got it working! Just need to add <code>&#47;</code> before <code>version.properties</code> in the <code>getResourceAsStream</code> function! Thanks!!!"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "reply_to_user": {"reputation": 3720, "user_id": 130993, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4257a5081473debc964d01834bce334e?s=128&d=identicon&r=PG", "display_name": "Jean-Fran&#231;ois C&#244;t&#233;", "link": "https://stackoverflow.com/users/130993/jean-fran%c3%a7ois-c%c3%b4t%c3%a9"}, "edited": false, "score": 0, "creation_date": 1525198883, "post_id": 50119235, "comment_id": 87261173, "body": "Great, I was about to suggest that - I&#39;ll correct my answer"}, {"owner": {"reputation": 646, "user_id": 7261191, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/83e01dd011ec149102efe504ba06ed8b?s=128&d=identicon&r=PG&f=1", "display_name": " Dmitriy Greh", "link": "https://stackoverflow.com/users/7261191/dmitriy-greh"}, "edited": false, "score": 0, "creation_date": 1539091330, "post_id": 50119235, "comment_id": 92369460, "body": "@JKLy, Unfortunately, I&#39;m not able to load too it using this.javaClass.getResourceAsStream. My load crashes with a NullPointerException. This is still works? Maybe I need to start this task &quot;generateVersionProperties&quot; somehow?"}], "tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": true, "score": 5, "last_activity_date": 1525198917, "last_edit_date": 1525198917, "creation_date": 1525188474, "answer_id": 50119235, "question_id": 50117966, "link": "https://stackoverflow.com/questions/50117966/get-version-in-kotlin-java-code-in-gradle-project/50119235#50119235", "title": "Get Version in Kotlin/Java code in Gradle project", "body": "<p>One approach to this is to output a version file as part of your Gradle build to a location in your classpath that is accessible as a resource within your application.</p>\n\n<p>For example:</p>\n\n<p>You can add this to your build.gradle file which will generate a properties file containing the project version number and add it to your applications source set so that it is available in the classpath.</p>\n\n<pre><code>def generatedVersionDir = \"${buildDir}/generated-version\"\n\nsourceSets {\n    main {\n        output.dir(generatedVersionDir, builtBy: 'generateVersionProperties')\n    }\n}\n\ntask generateVersionProperties {\n    doLast {\n        def propertiesFile = file \"$generatedVersionDir/version.properties\"\n        propertiesFile.parentFile.mkdirs()\n        def properties = new Properties()\n        properties.setProperty(\"version\", rootProject.version.toString())\n        propertiesFile.withWriter { properties.store(it, null) }\n    }\n}\nprocessResources.dependsOn generateVersionProperties\n</code></pre>\n\n<p>Then in your code you will be able to access it by reading in the properties file:</p>\n\n<pre><code>class StatusService : IStatusService {\n    private val versionProperties = Properties()\n\n    init {\n        versionProperties.load(this.javaClass.getResourceAsStream(\"/version.properties\"))\n    }\n\n    override fun getVersion() : String = versionProperties.getProperty(\"version\") ?: \"no version\"\n}\n</code></pre>\n\n<p>Of course you might find it simpler and more appropriate to just output a String to the version file, and then read in the entire file as a String in your code instead of using a properties file.</p>\n"}, {"tags": [], "owner": {"reputation": 2928, "user_id": 2381172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MSd0b.jpg?s=128&g=1", "display_name": "xuesheng", "link": "https://stackoverflow.com/users/2381172/xuesheng"}, "is_accepted": false, "score": 0, "last_activity_date": 1525362343, "creation_date": 1525362343, "answer_id": 50159100, "question_id": 50117966, "link": "https://stackoverflow.com/questions/50117966/get-version-in-kotlin-java-code-in-gradle-project/50159100#50159100", "title": "Get Version in Kotlin/Java code in Gradle project", "body": "<p>Consider simple <em>Kotlin</em> Spring Boot example:</p>\n\n<pre><code>@SpringBootApplication\n@RestController\nclass DemoApplication {\n    @Value(\"\\${version}\")\n    private lateinit var version: String\n\n   @GetMapping(\"/version\")\n   fun version() = version\n}\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApplication&gt;(*args)\n}\n</code></pre>\n\n<p>Since the property could be taken from <em>application.properties</em> we need to generate that file with required version. To do so we could create a template properties file with following content:</p>\n\n<pre><code>version=###appVersion\n</code></pre>\n\n<p>Now lets tell Gradle to copy that template to the <code>resource</code> folder and put the version instead of placeholder</p>\n\n<pre><code>import org.apache.tools.ant.filters.ReplaceTokens\n\ntask preprocessProperties(type: Copy) {\n    from 'src/main/resources/templates'\n    into 'src/main/resources'\n    include 'template.properties'\n    rename 'template.properties', 'application.properties'\n    filter(ReplaceTokens, beginToken: '###', endToken: '', tokens: [appVersion: '1.0.0'])\n}\n\ncompileKotlin.dependsOn preprocessProperties\n</code></pre>\n\n<p>And, voil\u00e0, every time you compile <em>Kotlin</em> sources you will get a property file with the version you need.</p>\n"}], "owner": {"reputation": 3720, "user_id": 130993, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/4257a5081473debc964d01834bce334e?s=128&d=identicon&r=PG", "display_name": "Jean-Fran&#231;ois C&#244;t&#233;", "link": "https://stackoverflow.com/users/130993/jean-fran%c3%a7ois-c%c3%b4t%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3980, "favorite_count": 1, "accepted_answer_id": 50119235, "answer_count": 3, "score": 6, "last_activity_date": 1525362343, "creation_date": 1525183551, "question_id": 50117966, "link": "https://stackoverflow.com/questions/50117966/get-version-in-kotlin-java-code-in-gradle-project", "title": "Get Version in Kotlin/Java code in Gradle project", "body": "<p>I have a webservice coded in kotlin and managed by gradle for the build/dependencies etc...</p>\n\n<p>I want to do a simple thing: When someone call the <code>version</code> REST endpoint of my webservice, it returns the version.</p>\n\n<p>Since gradle already handle the version with the <code>version</code> properties in <code>build.gradle</code>, I thought it would be easy to get this value but it seems it is not... I've been searching google for hours and everything seems so complicated.</p>\n\n<p>Any idea how to handle the version the good way?</p>\n\n<p>Here is what I have right now:</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>version = \"1.0.0\"\n...\n</code></pre>\n\n<p><strong>StatusService.kt</strong></p>\n\n<pre><code>class StatusService : IStatusService {\n\n    //TODO: Here I would like to get the version from the gradle \n    //file instead of maintaining 2 places for the version\n    //Something like Gradle.getProperties(\"version\") for example\n    override fun getVersion() : String = \"1.0.0\"\n\n}\n</code></pre>\n\n<p>I may be completely wrong about this so if you have another equivalent solution, I will accept it too! Thanks</p>\n"}, {"tags": ["android", "if-statement", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1525183844, "creation_date": 1525183844, "answer_id": 50118038, "question_id": 50117851, "link": "https://stackoverflow.com/questions/50117851/kotlin-if-else-statement/50118038#50118038", "title": "kotlin if else statement", "body": "<p>Try this code ..</p>\n\n<pre><code>fun sendMessage(view:View) {\n\n\n    if (TextUtils.isEmpty(editText !!.text.toString())){\n        Toast.makeText(this, \"You did not enter your name\", Toast.LENGTH_SHORT).show();\n    }\n    if (TextUtils.isEmpty(editText2 !!.text.toString())){\n        Toast.makeText(this, \"You did not enter a email address\", Toast.LENGTH_SHORT).show();\n    }\n    if (TextUtils.isEmpty(editText3 !!.text.toString())){\n        Toast.makeText(this, \"You did not enter a comapny name\", Toast.LENGTH_SHORT).show();\n    }\n    if (TextUtils.isEmpty(editText !!.text.toString())&amp;&amp;TextUtils.isEmpty(editText2 !!.\n    text.toString())&amp;&amp;TextUtils.isEmpty(editText3 !!.text.toString())){\n        val message1 = editText !!.text.toString()\n        val message2 = editText2 !!.text.toString()\n        val message3 = editText3 !!.text.toString()\n\n        val intent = Intent(this, DisplayMessageActivity:: class.java).apply {\n            putExtra(\"EXTRA_MSG1\", message1)\n            putExtra(\"EXTRA_MSG2\", message2)\n            putExtra(\"EXTRA_MSG3\", message3)\n\n        }\n\n        startActivity(intent)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "edited": false, "score": 0, "creation_date": 1525244827, "post_id": 50118090, "comment_id": 87275579, "body": "Thanks so much so helpful :)"}], "tags": [], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "is_accepted": false, "score": 3, "last_activity_date": 1525184045, "creation_date": 1525184045, "answer_id": 50118090, "question_id": 50117851, "link": "https://stackoverflow.com/questions/50117851/kotlin-if-else-statement/50118090#50118090", "title": "kotlin if else statement", "body": "<p>You can use <code>when</code> statement. I've created a couple of extension functions to make code more readable:</p>\n\n<pre><code>fun TextView?.getText(): String = this?.text?.toString() ?: \"\"\n\nfun TextView?.isEmpty(): Boolean = this?.text?.isEmpty() ?: false\n\nfun showToast(msg: String) {\n    Toast.makeText(this, msg, Toast.LENGTH_SHORT).show()\n}\n\nfun sendMessage(view: View) {\n    when {\n        editText.isEmpty() -&gt; showToast(\"You did not enter your name\")\n        editText2.isEmpty() -&gt; showToast(\"You did not enter a email address\")\n        editText3.isEmpty() -&gt; showToast(\"You did not enter a comapny name\")\n        else -&gt; openActivity()\n    }\n}\n\nfun openActivity() {\n    val intent = Intent(this, DisplayMessageActivity::class.java).apply {\n        putExtra(\"EXTRA_MSG1\", editText.getText())\n        putExtra(\"EXTRA_MSG2\", editText2.getText())\n        putExtra(\"EXTRA_MSG3\", editText3.getText())\n    }\n\n    startActivity(intent)\n}\n</code></pre>\n\n<p>I also suggest you to change your <code>EditText</code> declarations to <code>lateinit var</code> in order not to deal with those nullability checks:</p>\n\n<pre><code>lateinit var editText: EditText\nlateinit var editText2: EditText\nlateinit var editText3: EditText\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1525185069, "creation_date": 1525185069, "answer_id": 50118351, "question_id": 50117851, "link": "https://stackoverflow.com/questions/50117851/kotlin-if-else-statement/50118351#50118351", "title": "kotlin if else statement", "body": "<p>you can have a short function which validates the entered data like this</p>\n\n<pre><code>  fun TextView.isEmpty():Boolean{\n     return this?.text?.isEmpty()\n    }\n\n    fun showMessage(msg:String){\n     //show some message here\n     Toast.makeText(this, msg, Toast.LENGTH_SHORT).show()\n    }\n\n    fun openActivity(m1:String=\"\",m2:String=\"\",m3:String=\"\"){\n     val intent = Intent(this, DisplayMessageActivity:: class.java).apply {\n                putExtra(\"EXTRA_MSG1\", m1)\n                putExtra(\"EXTRA_MSG2\", m2)\n                putExtra(\"EXTRA_MSG3\", m3)\n            }\n     startActivity(intent)\n    }\n\n    fun valid(){\n     if(editText.isEmpty() or editText1.isEmpty() or editText2.isEmpty()){\n       showMessage()\n     }else{\n       openActivity()  \n     }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 6153942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9829bc878b4d98f01321f1e0ab5602b?s=128&d=identicon&r=PG", "display_name": "klutch", "link": "https://stackoverflow.com/users/6153942/klutch"}, "is_accepted": false, "score": 0, "last_activity_date": 1558409695, "creation_date": 1558409695, "answer_id": 56230719, "question_id": 50117851, "link": "https://stackoverflow.com/questions/50117851/kotlin-if-else-statement/56230719#56230719", "title": "kotlin if else statement", "body": "<p>I use TextUtils.isEmpty(). According to documentation, it returns true if the string is null or length is zero.</p>\n\n<p><a href=\"https://developer.android.com/reference/android/text/TextUtils#isEmpty(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/text/TextUtils#isEmpty(java.lang.CharSequence)</a></p>\n"}], "owner": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4295, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1558419690, "creation_date": 1525183133, "last_edit_date": 1558419690, "question_id": 50117851, "link": "https://stackoverflow.com/questions/50117851/kotlin-if-else-statement", "title": "kotlin if else statement", "body": "<p>I currently have a working if statement but if the user inputs any of the three fields they can send the data how do i get a if else statement to work so unless all three fields are filled you cannot send the data.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    var editText: EditText? = null\n    var editText2: EditText? = null;\n    var editText3: EditText? = null;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        editText = findViewById&lt;EditText&gt;(R.id.editText)\n        editText2 = findViewById&lt;EditText&gt;(R.id.editText2)\n        editText3 = findViewById&lt;EditText&gt;(R.id.editText3)\n    }\n\n\n    /** Called when the user taps the Send button */\n    fun sendMessage(view: View) {\n\n\n        if (editText!!.text.toString().length == 0) {\n            Toast.makeText(this, \"You did not enter your name\", Toast.LENGTH_SHORT).show();\n\n            if (editText2!!.text.toString().length == 0)\n                Toast.makeText(this, \"You did not enter a email address\", Toast.LENGTH_SHORT).show();\n\n            if (editText3!!.text.toString().length == 0)\n                Toast.makeText(this, \"You did not enter a comapny name\", Toast.LENGTH_SHORT).show();\n            return;\n        }else if {\n\n            val message1 = editText!!.text.toString()\n            val message2 = editText2!!.text.toString()\n            val message3 = editText3!!.text.toString()\n\n            val intent = Intent(this, DisplayMessageActivity::class.java).apply {\n                putExtra(\"EXTRA_MSG1\", message1)\n                putExtra(\"EXTRA_MSG2\", message2)\n                putExtra(\"EXTRA_MSG3\", message3)\n\n            }\n\n            startActivity(intent)\n        }\n    }\n} \n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "is_accepted": true, "score": 41, "last_activity_date": 1525183389, "creation_date": 1525183389, "answer_id": 50117918, "question_id": 50117791, "link": "https://stackoverflow.com/questions/50117791/converting-a-custom-object-list-in-simple-list-in-kotlin/50117918#50117918", "title": "Converting a custom object list in simple list in kotlin", "body": "<p>You can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"noreferrer\">map</a> function:</p>\n\n<pre><code>val productNameList:List&lt;String&gt; = productList.map { it.ProductType }\n</code></pre>\n\n<p>This will map each ProductsResponse to it's ProductType.</p>\n"}, {"tags": [], "owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "is_accepted": false, "score": 7, "last_activity_date": 1525189192, "creation_date": 1525189192, "answer_id": 50119438, "question_id": 50117791, "link": "https://stackoverflow.com/questions/50117791/converting-a-custom-object-list-in-simple-list-in-kotlin/50119438#50119438", "title": "Converting a custom object list in simple list in kotlin", "body": "<pre><code>val productNameList = productList.map { it.ProductType }\n</code></pre>\n\n<p>No need to specify type, it will be inferred</p>\n\n<p>Check <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"noreferrer\">Higher-Order Functions and Lambdas</a></p>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 663822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99a57a691e393c64471e8208a3bb9e40?s=128&d=identicon&r=PG", "display_name": "Vatsalengg", "link": "https://stackoverflow.com/users/663822/vatsalengg"}, "is_accepted": false, "score": 0, "last_activity_date": 1590601885, "last_edit_date": 1590601885, "creation_date": 1554811847, "answer_id": 55592559, "question_id": 50117791, "link": "https://stackoverflow.com/questions/50117791/converting-a-custom-object-list-in-simple-list-in-kotlin/55592559#55592559", "title": "Converting a custom object list in simple list in kotlin", "body": "<pre><code>val productNameList= productList.groupBy { it.ProductType }.keys\n</code></pre>\n\n<p>This is the exactly what you wanted.</p>\n"}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10346, "favorite_count": 2, "accepted_answer_id": 50117918, "answer_count": 3, "score": 11, "last_activity_date": 1590601885, "creation_date": 1525182948, "question_id": 50117791, "link": "https://stackoverflow.com/questions/50117791/converting-a-custom-object-list-in-simple-list-in-kotlin", "title": "Converting a custom object list in simple list in kotlin", "body": "<p>I have a list of custom objects. Below is the <code>data class</code>:</p>\n\n<pre><code>data class ProductsResponse(\n        val id:String,\n        val ProductType:String\n)\n</code></pre>\n\n<p>I have a below list:</p>\n\n<p><code>var productList: List&lt;ProductResponse&gt;</code></p>\n\n<p>I want the output as:</p>\n\n<p><code>var productNameList: List&lt;String&gt;</code></p>\n\n<p>I want to get a list which consist of only <code>ProductType</code> i.e a <code>list</code> of <code>Strings</code></p>\n\n<p>I know using a for loop and copying the <code>ProductType</code> string to a new list will do the job. But I wanted to do it in a more shorter way using the power <code>Kotlin</code> provides.</p>\n\n<p>How can I convert the above custom object <code>list</code> to a <code>list</code> of <code>Strings</code> in <strong>Kotlin way</strong>?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 651, "user_id": 1325048, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4621dbf90fe87f338a5d23ff484e94e2?s=128&d=identicon&r=PG", "display_name": "d.aemon", "link": "https://stackoverflow.com/users/1325048/d-aemon"}, "is_accepted": false, "score": 0, "last_activity_date": 1573723858, "creation_date": 1573723858, "answer_id": 58853441, "question_id": 50117228, "link": "https://stackoverflow.com/questions/50117228/retrofit-rxjava2-refresh-token-and-retry/58853441#58853441", "title": "Retrofit &amp; RxJava2 refresh token and retry", "body": "<p>I just came across similar requirement and came up with following solution. It's pretty simple, it just makes one attempt to call REST endpoint and if that call fails with HTTP 401 it reauthenticates and repeats the call again. Otherwise it just emits the original error.</p>\n\n<pre><code>fun &lt;T&gt; Single&lt;T&gt;.withAuth() = retryWhen { errors -&gt;\n    var firstAttempt = true\n    errors.flatMapSingle { error -&gt;\n        if (firstAttempt &amp;&amp; error is HttpException &amp;&amp; error.code() == 401) {\n            firstAttempt = false\n            reauthenticate()\n        } else {\n            Single.error(it)\n        }\n    }\n}\n</code></pre>\n\n<p>where the reauthentication function has the following signature:</p>\n\n<pre><code>fun reauthenticate(): Single&lt;AnyAuthResponse&gt;\n</code></pre>\n\n<p>Please note that the concrete exception type might depend on HTTP implementation you actually use, so you may want to update the condition to detect HTTP 401 response, but the code should give you an overall picture of how to solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "is_accepted": false, "score": 0, "last_activity_date": 1573724007, "creation_date": 1573724007, "answer_id": 58853486, "question_id": 50117228, "link": "https://stackoverflow.com/questions/50117228/retrofit-rxjava2-refresh-token-and-retry/58853486#58853486", "title": "Retrofit &amp; RxJava2 refresh token and retry", "body": "<p>I think you can do this without modifying all calls. Add an <code>Authenticator</code> to your Retrofit\n<a href=\"https://stackoverflow.com/questions/22450036/refreshing-oauth-token-using-retrofit-without-modifying-all-calls\">Refreshing OAuth token using Retrofit without modifying all calls</a></p>\n"}, {"tags": [], "owner": {"reputation": 10052, "user_id": 1543541, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0e41dd08e2a8f09028deee537bea54bd?s=128&d=identicon&r=PG", "display_name": "Vikalp Patel", "link": "https://stackoverflow.com/users/1543541/vikalp-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1573728789, "creation_date": 1573728789, "answer_id": 58855082, "question_id": 50117228, "link": "https://stackoverflow.com/questions/50117228/retrofit-rxjava2-refresh-token-and-retry/58855082#58855082", "title": "Retrofit &amp; RxJava2 refresh token and retry", "body": "<p>You can use Interceptor to intercept each request and check whether it returns <code>401</code> - UnAuthorised Access and iff then refresh the token and replay the current API request.</p>\n\n<pre><code>public final class SessionInterceptor implements Interceptor {\n  // gets intercept\n  @Override public Response intercept(@NonNull final Chain chain) throws IOException {\n\n   final Request request = chain.request();\n   final Response response = chain.proceed(request);\n   final ResponseBody responseBody = response.body();\n\n   if (response.code() == 401) {\n      synchronized (this) {\n      // Refresh your token\n      // Update your authToken + Refreshed token\n      final retrofit2.Response response = refreshToken();\n      }\n   }\n\n   // Replay the original request\n   // Perform request, here original request will be executed\n   final Request original = chain.request();\n   final Request.Builder builder = original.newBuilder();\n\n   // Set your new refreshed token\n   if (accessToken.isSet()) {\n     builder.header(AUTHORIZATION, String.format(BEARER, \n     accessToken.get()));\n    }\n\n    final Request request = builder.method(original.method(), original.body()).build();\n\n    return chain.proceed(request);\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 597, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1573728789, "creation_date": 1525180713, "question_id": 50117228, "link": "https://stackoverflow.com/questions/50117228/retrofit-rxjava2-refresh-token-and-retry", "title": "Retrofit &amp; RxJava2 refresh token and retry", "body": "<p>I have a login endpoint by which I receive an authToken and a refreshToken. The first one expires in an hour, so I should use the second one to refresh it and continue the application flow.</p>\n\n<p>Now my app is filled with retrofit calls all over the place and I potentially could get a <code>401</code> at any given moment, so how can I make it so every time I get a <code>401</code> a refresh token is issued, and then the original request retried?</p>\n\n<p>This is my refresh signature:</p>\n\n<pre><code> @POST(\"/auth/actions/refresh\")\n    fun refreshToken(@Body tokenRefresh: TokenRefresh): Single&lt;LoginResponse&gt;\n</code></pre>\n\n<p>I thought about making a base repository class with a method <code>withAuth()</code> that takes any <code>Observable</code>/<code>Single</code>/<code>Flowable</code> and then applies this logic but I cannot find a way to implement it.</p>\n\n<p>Saw a bunch of implementations but none of them match my needs... can anyone push me in the right direction?</p>\n\n<p><a href=\"https://medium.com/@xiaogegexiao/using-rxjava2-for-http-request-with-access-token-refresh-9d7b82b7b4da\" rel=\"nofollow noreferrer\">This is the closest</a> I've found, however there seems to be some errors on the flatmapping</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "edited": false, "score": 0, "creation_date": 1525180645, "post_id": 50117123, "comment_id": 87251522, "body": "You can do the same as in code A, remove type hint and use the if statemant as an expression. Nevertheless, the question type &quot;How to improve my code&quot; is off-topic and should be posted at <a href=\"https://codereview.stackexchange.com/\">Code Review</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "edited": false, "score": 1, "creation_date": 1525180764, "post_id": 50117199, "comment_id": 87251591, "body": "you should add some explanation and not only a code solution."}, {"owner": {"reputation": 877, "user_id": 4887525, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Te4N4beDmAs/AAAAAAAAAAI/AAAAAAAAABA/_QzLicWSkpQ/photo.jpg?sz=128", "display_name": "Adeel Turk", "link": "https://stackoverflow.com/users/4887525/adeel-turk"}, "reply_to_user": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "edited": false, "score": 0, "creation_date": 1525181421, "post_id": 50117199, "comment_id": 87251955, "body": "@pixix4 yeah i know but knida run short of time :P sorry"}], "tags": [], "owner": {"reputation": 877, "user_id": 4887525, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Te4N4beDmAs/AAAAAAAAAAI/AAAAAAAAABA/_QzLicWSkpQ/photo.jpg?sz=128", "display_name": "Adeel Turk", "link": "https://stackoverflow.com/users/4887525/adeel-turk"}, "is_accepted": false, "score": 1, "last_activity_date": 1525180627, "creation_date": 1525180627, "answer_id": 50117199, "question_id": 50117123, "link": "https://stackoverflow.com/questions/50117123/how-to-optimize-a-code-in-kotlin/50117199#50117199", "title": "How to optimize a code in Kotlin?", "body": "<pre><code>   var builder: NotificationCompat.Builder = if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n\n                val importance = NotificationManager.IMPORTANCE_DEFAULT\n                val notificationChannel = NotificationChannel(\"ID\", \"My\", importance)\n                notificationManager.createNotificationChannel(notificationChannel)\n                NotificationCompat.Builder(applicationContext, notificationChannel.id)\n            } else {\n                NotificationCompat.Builder(applicationContext)\n\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 1, "last_activity_date": 1525201828, "last_edit_date": 1525201828, "creation_date": 1525181267, "answer_id": 50117367, "question_id": 50117123, "link": "https://stackoverflow.com/questions/50117123/how-to-optimize-a-code-in-kotlin/50117367#50117367", "title": "How to optimize a code in Kotlin?", "body": "<p>Code A is fine the way it is. </p>\n\n<p>Code B can be simplified by making your <code>builder</code> a non-nullable val instead of a nullable var, by making it the result of an <code>if</code> expression (like you do in Code A). The type of <code>builder</code> can also be inferred here, you can optionally leave it off. Additionally, inside the first if block, you can make it a bit cleaner by using the <code>importance</code> value directly, instead of declaring it as value (which you use in one place only). </p>\n\n<pre><code>val builder = if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n    val notificationChannel = NotificationChannel(\"ID\", \"My\", NotificationManager.IMPORTANCE_DEFAULT)\n    notificationManager.createNotificationChannel(notificationChannel)\n    NotificationCompat.Builder(applicationContext, notificationChannel.id)\n} else {\n    NotificationCompat.Builder(applicationContext)\n}\n</code></pre>\n\n<p>Anything more than that (using <code>also</code> or <code>apply</code> in the if block) I would argue makes it less clear in this case. I'm not super fond of the call to <code>notificationManager</code> in the middle there, but I'm not an Android dev and am not sure if that side effect is idiomatic or not.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 50117367, "answer_count": 2, "score": 0, "last_activity_date": 1525201828, "creation_date": 1525180346, "last_edit_date": 1525181676, "question_id": 50117123, "link": "https://stackoverflow.com/questions/50117123/how-to-optimize-a-code-in-kotlin", "title": "How to optimize a code in Kotlin?", "body": "<p>The Code A is very simple, can I optimize Code B in Kotlin?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>val pendingIntent = if (isServer)\n        PendingIntent.getService(myContext, 0, myIntent, 0)\n    else\n        PendingIntent.getActivity(myContext, 0, myIntent, 0)\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>var builder: NotificationCompat.Builder? =null\n\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n    val importance = NotificationManager.IMPORTANCE_DEFAULT\n    val notificationChannel = NotificationChannel(\"ID\", \"My\", importance)\n    notificationManager.createNotificationChannel(notificationChannel)\n    builder = NotificationCompat.Builder(applicationContext, notificationChannel.id)\n} else {\n    builder = NotificationCompat.Builder(applicationContext)\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1525236498, "post_id": 50116795, "comment_id": 87272394, "body": "What is the main advantage of your solution over <code>foo += &quot;1&quot; to foo[&quot;1&quot;].orEmpty() + &quot;c&quot;</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 1, "creation_date": 1525256738, "post_id": 50116795, "comment_id": 87282530, "body": "@guenhter The <code>.mutate { ... }</code> approach is suitable for all sorts of mutations, including multiple subsequent ones. This may turn out more efficient if you often need to make several mutations at once."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1525179014, "creation_date": 1525179014, "answer_id": 50116795, "question_id": 50116594, "link": "https://stackoverflow.com/questions/50116594/idiomatic-way-to-add-an-element-into-sub-list-in-full-immutable-hierarchy/50116795#50116795", "title": "Idiomatic way to add an element into sub-list in full-immutable hierarchy", "body": "<p>One alternative you could check is the approach that the <a href=\"https://github.com/Kotlin/kotlinx.collections.immutable\" rel=\"nofollow noreferrer\">incubating library <code>kotlinx.collections.immutable</code></a> uses (or just use that library). It allows you to <a href=\"https://github.com/Kotlin/kotlinx.collections.immutable/blob/master/kotlinx-collections-immutable/src/main/kotlin/kotlinx/collections/immutable/extensions.kt#L27\" rel=\"nofollow noreferrer\"><code>.mutate { ... }</code></a> a map, which creates an immutable copy of that map with the applied mutations:</p>\n\n<pre><code>val m = immutableHashMapOf(\"1\" to listOf(\"a\", \"b\"))\n\nval result = m.mutate { it[\"1\"] = it[\"1\"].orEmpty() + \"c\" }\n</code></pre>\n\n<p><sup>See also: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/or-empty.html\" rel=\"nofollow noreferrer\"><code>.orEmpty()</code></a></sup></p>\n\n<p>There's no equivalent to <code>.mutate { ... }</code> in the standard library, though, but you can define your own extension for read-only <code>Map</code> that would do the same.</p>\n"}, {"comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1525191651, "post_id": 50119761, "comment_id": 87257539, "body": "That&#39;s the whole point: I want the data-structure to be immutable. With mutable collections, this is no problem at all."}], "tags": [], "owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "is_accepted": false, "score": 0, "last_activity_date": 1525190441, "creation_date": 1525190441, "answer_id": 50119761, "question_id": 50116594, "link": "https://stackoverflow.com/questions/50116594/idiomatic-way-to-add-an-element-into-sub-list-in-full-immutable-hierarchy/50119761#50119761", "title": "Idiomatic way to add an element into sub-list in full-immutable hierarchy", "body": "<p>The declaration and assignment can be joined unless there is some problem.\nMake map &amp; list mutable, as the need is to mutate</p>\n\n<pre><code>var foo: MutableMap&lt;String, MutableList&lt;String&gt;&gt; = mutableMapOf(\n        \"1\" to mutableListOf(\"a\", \"b\"),\n        \"2\" to mutableListOf(\"a\", \"b\"),\n        \"3\" to mutableListOf(\"a\", \"b\")\n)\n</code></pre>\n\n<p>we can use <em>when block</em> like below,</p>\n\n<pre><code>when {\n    foo.containsKey(\"1\") -&gt; foo[\"1\"]?.add(\"c\")\n    else -&gt; foo[\"1\"] = mutableListOf(\"c\")\n\n}\n</code></pre>\n"}], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 50116795, "answer_count": 2, "score": 2, "last_activity_date": 1525191808, "creation_date": 1525178240, "last_edit_date": 1525191808, "question_id": 50116594, "link": "https://stackoverflow.com/questions/50116594/idiomatic-way-to-add-an-element-into-sub-list-in-full-immutable-hierarchy", "title": "Idiomatic way to add an element into sub-list in full-immutable hierarchy", "body": "<p>I have the following data-structure:</p>\n\n<pre><code>var foo: Map&lt;String, List&lt;String&gt;&gt; = emptyMap()\nfoo += mapOf(\n        \"1\" to listOf(\"a\", \"b\"),\n        \"2\" to listOf(\"a\", \"b\"),\n        \"3\" to listOf(\"a\", \"b\")\n)\n</code></pre>\n\n<p>Map and sub-list are both immutable. I now want to add the element <code>c</code> to the list of the first element in the map. </p>\n\n<p>I came up with this solutions:</p>\n\n<pre><code>foo += \"1\" to (foo[\"1\"] ?: emptyList()) + \"c\"\n</code></pre>\n\n<p>but is this really the idiomatic way?</p>\n\n<hr>\n\n<p><strong>Update based on @hotkeys answer</strong></p>\n\n<pre><code>foo += \"1\" to foo[\"1\"].orEmpty() + \"c\"\n</code></pre>\n"}, {"tags": ["java", "kotlin", "simpledateformat"], "comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1525176600, "post_id": 50116158, "comment_id": 87249590, "body": "I recommend you avoid the <code>SimpleDateFormat</code> class. It is not only long outdated, it is also notoriously troublesome. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API</a> and its <code>DateTimeFormatter</code>."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1525176782, "post_id": 50116158, "comment_id": 87249672, "body": "I cannot reproduce. It parses nicely on my Java 9. On my Java 7 too. One possible explanation is if your string contains \u201cfunny\u201d characters, for example a non-printable character somewhere or a non-breaking space instead of a normal space."}, {"owner": {"reputation": 2419, "user_id": 1331598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/641481bb0de6197300ed4879647e65ab?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/1331598/andrey"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1525177007, "post_id": 50116158, "comment_id": 87249755, "body": "Unfortunately I&#39;m unable to use DateTimeFormatter, because it&#39;s appeared only in Android 26, and my code is for Android 21 :("}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1525177130, "post_id": 50116158, "comment_id": 87249806, "body": "No big problem, Andrey. <code>java.time</code> has been backported. The Android edition of the backport is called ThreeTenABP, and there\u2019s a thorough guide <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">in this question: How to use ThreeTenABP in Android Project</a>."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 2, "creation_date": 1525177481, "post_id": 50116158, "comment_id": 87249972, "body": "I disagree in the close votes. This question has a clear problem statement and code to reproduce. As long as the asker can reproduce, you can\u2019t say it can no longer be reproduced. It\u2019s a difficult question to answer for those of us who can\u2019t reproduce, but that doesn\u2019t invalidate the question."}, {"owner": {"reputation": 9794, "user_id": 1481408, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/929196ae336bbd9c18ad01f934b66e7a?s=128&d=identicon&r=PG", "display_name": "Deividi Cavarzan", "link": "https://stackoverflow.com/users/1481408/deividi-cavarzan"}, "edited": false, "score": 0, "creation_date": 1525177904, "post_id": 50116158, "comment_id": 87250163, "body": "Agreed. In both cases"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1525178018, "post_id": 50116158, "comment_id": 87250223, "body": "If you try parsing a string like <code>&quot;2018-05-01\\u00A013:54:46 CEST&quot;</code> or <code>&quot;\\u00002018-05-01 13:54:46 CEST&quot;</code>, you will get an exception that looks exactly like the one you\u2019re quoting, for example."}], "owner": {"reputation": 2419, "user_id": 1331598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/641481bb0de6197300ed4879647e65ab?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/1331598/andrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1077, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525176244, "creation_date": 1525176244, "question_id": 50116158, "link": "https://stackoverflow.com/questions/50116158/kotlin-java-simpledateformat-trouble-unparseable-date", "title": "Kotlin/Java SimpleDateFormat trouble: Unparseable date", "body": "<p>Maybe it's little stupid question, but I lost some hours on it now and could be great if someone will find a time to share his experience.</p>\n\n<p>I'm trying to parse the date from string:\n<strong>2018-05-01 13:54:46 CEST</strong></p>\n\n<p>To parse this date I'm using following pattern:\n<strong>yyyy-MM-dd HH:mm:ss z</strong></p>\n\n<p>And code:</p>\n\n<pre><code>private fun dateFromStringUsingPattern(dateString : String, formatPattern : String) : Date? {\n        val simpleDateFormat = SimpleDateFormat(formatPattern, Locale.US)\n\n        try {\n            return simpleDateFormat.parse(dateString)\n        } catch (e : Exception) {\n            e.printStackTrace()\n        }\n\n        return null\n    }\n</code></pre>\n\n<p>But unfortunately I have exception\n<strong>java.text.ParseException: Unparseable date: \"2018-05-01 13:54:46 CEST\"</strong></p>\n\n<p>I also tested my pattern there <a href=\"http://www.sdfonlinetester.info/\" rel=\"nofollow noreferrer\">http://www.sdfonlinetester.info/</a> and it seems to be ok.</p>\n\n<p>What could be wrong?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "android-annotations", "android-lint", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 1767, "user_id": 4596649, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bvyOR.jpg?s=128&g=1", "display_name": "Moses", "link": "https://stackoverflow.com/users/4596649/moses"}, "edited": false, "score": 1, "creation_date": 1525257846, "post_id": 50129426, "comment_id": 87283314, "body": "Yep, already tried that. I get an error which says <code>This annotation does not apply for type void</code>. I think the problem there must be some way of specifying that the annotation is on the method argument and not the return type."}], "tags": [], "owner": {"reputation": 111, "user_id": 4916060, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BlmuZAmwCmI/AAAAAAAAAAI/AAAAAAAAACw/d5OC-EmQeDs/photo.jpg?sz=128", "display_name": "Seanvd", "link": "https://stackoverflow.com/users/4916060/seanvd"}, "is_accepted": false, "score": 0, "last_activity_date": 1525246906, "creation_date": 1525246906, "answer_id": 50129426, "question_id": 50115999, "link": "https://stackoverflow.com/questions/50115999/how-to-apply-intrange-support-annotation-to-kotlin-property-setter/50129426#50129426", "title": "How to apply @IntRange() support annotation to Kotlin property setter?", "body": "<p>Not in the position to test this currently, but have you tried adding a @set like so: </p>\n\n<pre><code>@set:IntRange(from = 1)\n@get:IntRange(from = 1)\n    var `val`: Int = 0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 1, "creation_date": 1554470144, "post_id": 50132915, "comment_id": 97775886, "body": "Yeah same thing. Androidx annotations are not enforced by the linter in kotlin"}], "tags": [], "owner": {"reputation": 1767, "user_id": 4596649, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bvyOR.jpg?s=128&g=1", "display_name": "Moses", "link": "https://stackoverflow.com/users/4596649/moses"}, "is_accepted": false, "score": 5, "last_activity_date": 1525259604, "last_edit_date": 1525259604, "creation_date": 1525258460, "answer_id": 50132915, "question_id": 50115999, "link": "https://stackoverflow.com/questions/50115999/how-to-apply-intrange-support-annotation-to-kotlin-property-setter/50132915#50132915", "title": "How to apply @IntRange() support annotation to Kotlin property setter?", "body": "<p>The <code>@setparam</code> annotation appears to be what I'm looking for, but no lint warning is raised in Android Studio when I try to assign a value outside the range.</p>\n\n<p>Here is my new code:</p>\n\n<pre><code>@get:IntRange(from = 1)\n@setparam:IntRange(from = 1)\nvar rowSize: Int = 3\n    set(value) {\n        if (value &lt; 1) throw IllegalArgumentException(\"row size must be at least 1\")\n        field = value\n        notifyDataSetChanged()\n    }\n</code></pre>\n\n<p>and here is where I would normally expect to see a lint warning telling me I am assigning a value outside the int range</p>\n\n<p><a href=\"https://i.stack.imgur.com/tOOwj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tOOwj.png\" alt=\"enter image description here\"></a></p>\n\n<p>However the lint warning does appear when using the SimpleThing class in Kotlin code</p>\n\n<p><a href=\"https://i.stack.imgur.com/8sfwH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8sfwH.png\" alt=\"enter image description here\"></a></p>\n\n<p>The lint warning also does not appear when calling the Kotlin method as Java code</p>\n\n<p><a href=\"https://i.stack.imgur.com/f8xPm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f8xPm.png\" alt=\"enter image description here\"></a></p>\n\n<p>It would appear that this functionality is just not implemented yet.</p>\n"}], "owner": {"reputation": 1767, "user_id": 4596649, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bvyOR.jpg?s=128&g=1", "display_name": "Moses", "link": "https://stackoverflow.com/users/4596649/moses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4103, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1561174969, "creation_date": 1525175500, "last_edit_date": 1525259696, "question_id": 50115999, "link": "https://stackoverflow.com/questions/50115999/how-to-apply-intrange-support-annotation-to-kotlin-property-setter", "title": "How to apply @IntRange() support annotation to Kotlin property setter?", "body": "<p>I have been trying to find out how to apply <code>@IntRange(from = 1)</code> to my Kotlin property. After several failed attempts I finally just created the class I wanted in Java and converted it to Kotlin inside Android Studio. Here is my Java class:</p>\n\n<pre><code>import android.support.annotation.IntRange;\n\npublic class SimpleThing {\n\n    private int val;\n\n    @IntRange(from = 1)\n    public int getVal() {\n        return val;\n    }\n\n    public void setVal(@IntRange(from = 1) int val) {\n        this.val = val;\n    }\n\n}\n</code></pre>\n\n<p>and this is the automatic conversion I got from Android Studio:</p>\n\n<pre><code>import android.support.annotation.IntRange\n\nclass SimpleThing {\n\n    @get:IntRange(from = 1)\n    var `val`: Int = 0\n\n}\n</code></pre>\n\n<p>The <code>@IntRange</code> appears to get applied to the getter but not to the setter. Is it possible to apply this annotation to the setter also so that the appropriate lint warning will appear. Currently I have just overridden the set method to throw an IllegalArgumentException like this: </p>\n\n<pre><code>@get:IntRange(from = 1)\nvar rowSize: Int = 3\n    set(value) {\n        if (value &lt; 1) throw IllegalArgumentException(\"row size must be at least 1\")\n        field = value\n        notifyDataSetChanged()\n    }\n</code></pre>\n\n<p>I have already tried adding <code>@set:IntRange(from = 1)</code> but I get the error <code>This annotation does not apply for type void</code> because it is trying to apply <code>@IntRange</code> to the return value (which is void in the case of the setter) as opposed to the setter argument.</p>\n"}, {"tags": ["kotlin", "android-sqlite", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "edited": false, "score": 0, "creation_date": 1525326971, "post_id": 50139554, "comment_id": 87313853, "body": "I only do soft deletes. Meaning that I add a flag to a row when it should be deleted. The deletion doesn&#39;t happen until a synchronization happens with the backend."}], "tags": [], "owner": {"reputation": 1024, "user_id": 2802266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abcf746ec0b2e42456acf63be92bff01?s=128&d=identicon&r=PG&f=1", "display_name": "JoaoLopesF", "link": "https://stackoverflow.com/users/2802266/joaolopesf"}, "is_accepted": false, "score": 0, "last_activity_date": 1525279116, "creation_date": 1525279116, "answer_id": 50139554, "question_id": 50115782, "link": "https://stackoverflow.com/questions/50115782/android-room-and-kotlin-adding-a-conditional-and-to-a-query-like-a-filter/50139554#50139554", "title": "Android Room and kotlin: Adding a conditional AND to a query (like a filter)", "body": "<p>You can try this:</p>\n\n<pre><code>@Delete\n public void deleteTasks(Task... tasks)\n</code></pre>\n\n<p>See: <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Delete\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}], "owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525279116, "creation_date": 1525174540, "question_id": 50115782, "link": "https://stackoverflow.com/questions/50115782/android-room-and-kotlin-adding-a-conditional-and-to-a-query-like-a-filter", "title": "Android Room and kotlin: Adding a conditional AND to a query (like a filter)", "body": "<p>I'm trying to create a query that returns the number of rows from a table based on the passed in ID and an array of boolean values that acts as an extra filter. As for now I add the filter using a vararg boolean, but this isn't optimal. Is there some other way to add this conditional functionality, that would make better sense?</p>\n\n<p>Here's my query-method:</p>\n\n<pre><code>@Query(\"SELECT COUNT(id) FROM tasks WHERE id = :id AND deleted IN (:filterDeleted)\")\nabstract fun countTasksById(id: String, vararg filterDeleted: Boolean = booleanArrayOf(false, true)): Int\n</code></pre>\n\n<p>And here's how it's used:</p>\n\n<pre><code>@Test\nfun shouldCountOnlyDeleted() {\n    insertTestData(appDatabase)\n    val deleted = TEST_TASKS.take(5)\n    repository.softDeleteAll(deleted)\n    val nonDeleted = TEST_TASKS.filterNot { it in deleted }\n\n    deletedStudies.forEach {\n        assertThat(repository.countTasks(it.id, true), `is`(1))\n    }\n\n    nonDeleted.forEach {\n        assertThat(repository.countTasks(it.id, true), `is`(0))\n    }\n}\n\n@Test\nfun shouldCountBothDeletedAndNonDeleted() {\n    insertTestData(appDatabase)\n    val deleted = TEST_TASKS.take(5)\n    repository.softDeleteAll(deleted)\n    val nonDeleted = TEST_TASKS.filterNot { it in deleted }\n\n    deletedStudies.forEach {\n        assertThat(repository.countTasks(it.id, false, true), `is`(1))\n    }\n    nonDeleted.forEach {\n        assertThat(repository.countTasks(it.id, false, true), `is`(1))\n    }\n}\n</code></pre>\n"}, {"tags": ["reflection", "kotlin", "kotlin-reflect"], "answers": [{"tags": [], "owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "is_accepted": true, "score": 3, "last_activity_date": 1525176960, "creation_date": 1525176960, "answer_id": 50116311, "question_id": 50115656, "link": "https://stackoverflow.com/questions/50115656/how-to-collect-members-via-reflection-to-pass-as-argument-later/50116311#50116311", "title": "How to collect members via reflection to pass as argument later", "body": "<p>This is an inheritance problem. Your reflection call <code>this::class.declaredMemberProperties.find{ ... }</code> returns a <code>KProperty1&lt;out Bufferizable, Any?&gt;</code> This means a property from something that inherit from Bufferizable (See <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">declaration-site variance</a> for more information about <code>out</code>). Through the copiler does not know to which class this property belongs it does not allow a direct access. To solve this you have to access the getter function:</p>\n\n<pre><code>members[i] = member.getter.call(this)\n</code></pre>\n\n<p>Through the getter function belongs to the object and not to the reflection api it follows the default inheritance behavior and can be called.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "accepted_answer_id": 50116311, "answer_count": 1, "score": 0, "last_activity_date": 1525176960, "creation_date": 1525173955, "question_id": 50115656, "link": "https://stackoverflow.com/questions/50115656/how-to-collect-members-via-reflection-to-pass-as-argument-later", "title": "How to collect members via reflection to pass as argument later", "body": "<p>So, I'm working on a concept that involvs writing automatically to a <code>ByteBuffer</code> the content of a class extending <code>Bufferizable</code></p>\n\n<pre><code>abstract class Bufferizable {\n\n    abstract val fieldOrder: Array&lt;String&gt;\n\n    open fun size(): Int = TODO()\n\n    var initialized = false\n\n    open infix fun to(address: Long) {\n\n        if (initialized) {\n\n            addFunctions.forEach {  }\n\n        } else {\n\n            addFunctions = Array(fieldOrder.size) { null }\n            members = Array(fieldOrder.size) { null }\n\n            fieldOrder.forEachIndexed { i, field -&gt;\n                val member = this::class.declaredMemberProperties.find { it.name == field }!!\n                addFunctions[i] = when (member.returnType) {\n                    Mat4::class.defaultType.javaType -&gt; WithAddress::addMat4\n                    ...\n                    else -&gt; throw Error()\n                } as BufferizableAddFunctionType\n                members[i] = member.get(this) // error\n            }\n\n            initialized = true\n        }\n    }\n\n    infix fun from(address: Long): Unit = TODO()\n\n    var addFunctions = arrayOf&lt;BufferizableAddFunctionType?&gt;()\n    var members = arrayOf&lt;Any?&gt;()\n}\n\ntypealias BufferizableAddFunctionType = (Any) -&gt; Unit\n\nobject WithAddress {\n\n    var address = NULL\n    var offset = 0\n\n    fun addMat4(mat4: Mat4) {\n        for (i in 0..3)\n            for (j in 0..3) {\n                memPutFloat(address + offset, mat4[i, j])\n                offset += Float.BYTES\n            }\n    }\n    ...\n}\n</code></pre>\n\n<p>The idea is to declare, for example, the following</p>\n\n<pre><code>object uboVS : Bufferizable() {\n\n    var projectionMatrix = Mat4()\n    var modelMatrix = Mat4()\n    ...\n\n    override val fieldOrder = arrayOf(\"projectionMatrix\", \"modelMatrix\", \"viewMatrix\")\n}\n</code></pre>\n\n<p>And then whenever <code>uboVS to address</code> will be called for the first time, it will be initialized and then its content written at the native address, following the order specified.</p>\n\n<p>But the only problem I'm stuck at, is collecting the members to pass later on as argument to the i-th <code>addFunction</code></p>\n\n<p>because the compiler complains here:</p>\n\n<pre><code>members[i] = member.get(this)\n</code></pre>\n\n<blockquote>\n  <p>Error:(328, 37) Kotlin: Out-projected type 'KProperty1' prohibits the use of 'public abstract fun get(receiver: T): R defined in kotlin.reflect.KProperty1'</p>\n</blockquote>\n\n<p>How can I solve?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4459, "user_id": 1039203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/64f07d75c81b412e986d5c8008163596?s=128&d=identicon&r=PG", "display_name": "KeyMaker00", "link": "https://stackoverflow.com/users/1039203/keymaker00"}, "edited": false, "score": 0, "creation_date": 1525170805, "post_id": 50114927, "comment_id": 87246920, "body": "For people down voting: please just add a comment, so that Vincent could learn why his question is not suitable."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8405247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a3cd4f83bacd85d3b350dfb3d0232c?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Victor", "link": "https://stackoverflow.com/users/8405247/vincent-victor"}, "edited": false, "score": 0, "creation_date": 1525173666, "post_id": 50115289, "comment_id": 87248268, "body": "Thank you for the answer. One more thing, the android java app uses ART, is it also same for Kotlin? i am a noob and really confused :)"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 33, "user_id": 8405247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a3cd4f83bacd85d3b350dfb3d0232c?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Victor", "link": "https://stackoverflow.com/users/8405247/vincent-victor"}, "edited": false, "score": 0, "creation_date": 1525173889, "post_id": 50115289, "comment_id": 87248376, "body": "Yes, by the point the code ends up in an APK and is installed on the device, the output of the Java and Kotlin sources has long been merged. ART executes the code from both sources, because they all end up in the same .dex files."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 0, "last_activity_date": 1525172266, "creation_date": 1525172266, "answer_id": 50115289, "question_id": 50114927, "link": "https://stackoverflow.com/questions/50114927/kotlin-execution-environment/50115289#50115289", "title": "Kotlin execution environment", "body": "<p>The way that code written in the two languages is processed and executed is completely identical after the initial step when the Kotlin and Java sources are compiled to bytecode by <code>kotlinc</code> and <code>javac</code>, respectively. After that point, you just have <code>.class</code> files which are all handled the same way going forward, through the dexing process all the way to the eventual execution by the virtual machine on device.</p>\n\n<p>If you yourself looked at the bytecode, you could probably tell which original source language a given class was compiled from based on certain characteristic structures and metadata, but the tools processing them further won't care, because they're already in the common format that they can use.</p>\n"}], "owner": {"reputation": 33, "user_id": 8405247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a3cd4f83bacd85d3b350dfb3d0232c?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Victor", "link": "https://stackoverflow.com/users/8405247/vincent-victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 50115289, "answer_count": 1, "score": -1, "last_activity_date": 1525173002, "creation_date": 1525170514, "last_edit_date": 1525173002, "question_id": 50114927, "link": "https://stackoverflow.com/questions/50114927/kotlin-execution-environment", "title": "Kotlin execution environment", "body": "<p>Since Kotlin run on JVM and compiles to Java bytecode, can we say that the Kotlin app in Android and Java app in Android have same execution environment?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "reactive-programming", "rx-java2"], "comments": [{"owner": {"reputation": 1486, "user_id": 5923973, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-hWLYePDKLNk/AAAAAAAAAAI/AAAAAAAAAMs/p-uWhdoLCFY/photo.jpg?sz=128", "display_name": "Leandro Ocampo", "link": "https://stackoverflow.com/users/5923973/leandro-ocampo"}, "edited": false, "score": 0, "creation_date": 1525170580, "post_id": 50114726, "comment_id": 87246828, "body": "can you show us the code you used to accomplish what you want to do without success?"}, {"owner": {"reputation": 394, "user_id": 2585294, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/1cc0594c68f9b9a37c65933e82807812?s=128&d=identicon&r=PG", "display_name": "makis kontis", "link": "https://stackoverflow.com/users/2585294/makis-kontis"}, "reply_to_user": {"reputation": 1486, "user_id": 5923973, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-hWLYePDKLNk/AAAAAAAAAAI/AAAAAAAAAMs/p-uWhdoLCFY/photo.jpg?sz=128", "display_name": "Leandro Ocampo", "link": "https://stackoverflow.com/users/5923973/leandro-ocampo"}, "edited": false, "score": 0, "creation_date": 1525170765, "post_id": 50114726, "comment_id": 87246902, "body": "@LeandroOcampo just updated my question"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1525171860, "post_id": 50114726, "comment_id": 87247433, "body": "It&#39;s unclear what you try to achieve here. How would you do it with traditional for-loops outside RxJava? for each log in logs, for each debit in log.debits do something?"}], "answers": [{"tags": [], "owner": {"reputation": 1486, "user_id": 5923973, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-hWLYePDKLNk/AAAAAAAAAAI/AAAAAAAAAMs/p-uWhdoLCFY/photo.jpg?sz=128", "display_name": "Leandro Ocampo", "link": "https://stackoverflow.com/users/5923973/leandro-ocampo"}, "is_accepted": false, "score": 0, "last_activity_date": 1525176123, "last_edit_date": 1525176123, "creation_date": 1525175680, "answer_id": 50116048, "question_id": 50114726, "link": "https://stackoverflow.com/questions/50114726/android-rxjava-change-list-object-inside-other-list/50116048#50116048", "title": "Android rxjava change list object inside other list", "body": "<p>Considering you are using RxJava along with Kotlin, why not making the most of it?</p>\n\n<p>I will remove some observables, which I think you do not need them:</p>\n\n<pre><code>          val s = accountRepository.Logs\n                        .filter { result -&gt; result.isSuccessful }\n                        .map { result -&gt; \n                          result.result.creditLog.foreach{ \n                             log -&gt;\n                              log.debits.foreach{ debit -&gt; debit.type = \u201cpc\u201d }\n                          }\n                        return result.creditLog  \n                 }.subscribeOn(Schedulers.io())\n                        .observeOn(AndroidSchedulers.mainThread())\n                        .subscribe({ Logs -&gt;\n\n                        },{RxErrorHandler()})\n</code></pre>\n\n<p>I haven't tested the code but I would say you need minor fixes / changes</p>\n"}], "owner": {"reputation": 394, "user_id": 2585294, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/1cc0594c68f9b9a37c65933e82807812?s=128&d=identicon&r=PG", "display_name": "makis kontis", "link": "https://stackoverflow.com/users/2585294/makis-kontis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525176123, "creation_date": 1525169567, "last_edit_date": 1525170744, "question_id": 50114726, "link": "https://stackoverflow.com/questions/50114726/android-rxjava-change-list-object-inside-other-list", "title": "Android rxjava change list object inside other list", "body": "<p>I get an API response and i create a <code>List&lt;Logs&gt;</code>. This list includes another list <code>List&lt;Debits&gt;</code>. What i want to do is get each <code>Debits</code> object and change its type variable, and then return the changed <code>List&lt;Logs&gt;</code>. I have the code below</p>\n\n<pre><code>val s = accountRepository.Logs\n            .filter { result -&gt; result.isSuccessful }\n            .map { result -&gt; result.result.creditLog }\n            .flatMap { Logs -&gt; Observable.from(Logs)\n                    .map { Log -&gt;\n                        copyLog(Log, Observable.from(Log.debits)\n                                .map { debit -&gt; copyDebit(debit, \"pc\") }\n                                .toList().toBlocking().single()) }\n                    .toList()\n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({ Logs -&gt;\n\n            },{RxErrorHandler()})\n</code></pre>\n\n<p>I have managed to iterate through <code>List&lt;Logs&gt;</code> and then through <code>List&lt;Debits&gt;</code>, tried using <code>.toList()</code> but could not get the desired result. I there a guideline or an example on how to do this?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "is_accepted": true, "score": 3, "last_activity_date": 1525163556, "last_edit_date": 1525163556, "creation_date": 1525162711, "answer_id": 50113343, "question_id": 50113327, "link": "https://stackoverflow.com/questions/50113327/mainactivity-kt-doesnt-see-buttons-id/50113343#50113343", "title": "MainActivity.kt doesn&#39;t see button&#39;s id?", "body": "<p>You're writing your code outside of <code>MainActivity</code>'s <code>onCreate</code> (or any other) method scope.</p>\n\n<p>Your code is:</p>\n\n<pre><code>class MainActivity: AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    button3.setOnClickListener { }\n}\n</code></pre>\n\n<p>But must be:</p>\n\n<pre><code>class MainActivity: AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        button3.setOnClickListener { \n            // do something\n        }\n    }\n}\n</code></pre>\n\n<p>You can use class-level declaration for methods, inner classes etc, but not for writing code.</p>\n\n<p>And calling views directly by their ids is possible only using <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin Android Extensions</a>. Check if you're using it and move your code to the one of methods' scope, and code will works.</p>\n"}, {"tags": [], "owner": {"reputation": 656, "user_id": 1421048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0e3362c124fd31c89a603e3c7df329?s=128&d=identicon&r=PG", "display_name": "Fr099y", "link": "https://stackoverflow.com/users/1421048/fr099y"}, "is_accepted": false, "score": 0, "last_activity_date": 1525167601, "creation_date": 1525167601, "answer_id": 50114317, "question_id": 50113327, "link": "https://stackoverflow.com/questions/50113327/mainactivity-kt-doesnt-see-buttons-id/50114317#50114317", "title": "MainActivity.kt doesn&#39;t see button&#39;s id?", "body": "<p>All actions must be inside an any function. Your <code>button3.setOnClickListener { }</code> written outside the function. \nAnd when you add <code>apply plugin: 'kotlin-android-extensions'</code> your app.gradle file, widgets can be used directly via ID. Without this you need to declare your btn.</p>\n"}, {"comments": [{"owner": {"reputation": 3587, "user_id": 10082297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/guC3i.png?s=128&g=1", "display_name": "Henry Twist", "link": "https://stackoverflow.com/users/10082297/henry-twist"}, "edited": false, "score": 0, "creation_date": 1614874392, "post_id": 66472425, "comment_id": 117524514, "body": "Welcome to Stack Overflow! I think that this point has already been addressed not only by the accepted answer but more specifically by @Fr099y. So I would recommend having a look at other answers before adding your own and also taking note of when this was originally posted, which was nearly 3 years ago."}], "tags": [], "owner": {"reputation": 1, "user_id": 10005140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HRKj83QQQWg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3gbh2j6fsWl4yjyp_j00KIUMyvaA/mo/photo.jpg?sz=128", "display_name": "m.r.m", "link": "https://stackoverflow.com/users/10005140/m-r-m"}, "is_accepted": false, "score": -1, "last_activity_date": 1614851440, "last_edit_date": 1614851440, "creation_date": 1614851094, "answer_id": 66472425, "question_id": 50113327, "link": "https://stackoverflow.com/questions/50113327/mainactivity-kt-doesnt-see-buttons-id/66472425#66472425", "title": "MainActivity.kt doesn&#39;t see button&#39;s id?", "body": "<p>you must go in gradle scripts and select build.gradle(module.....)\nand add this line:\n(  id 'kotlin-android-extensions' )\nin plugins {\nid 'com.android.application'\nid 'kotlin-android'\nhere\n}\nand sync now</p>\n"}], "owner": {"reputation": 1, "user_id": 9724633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7a9662a63ea76ac5b3908a1c11f74e?s=128&d=identicon&r=PG&f=1", "display_name": "YUART", "link": "https://stackoverflow.com/users/9724633/yuart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 50113343, "answer_count": 3, "score": -10, "last_activity_date": 1614851440, "creation_date": 1525162625, "last_edit_date": 1525166023, "question_id": 50113327, "link": "https://stackoverflow.com/questions/50113327/mainactivity-kt-doesnt-see-buttons-id", "title": "MainActivity.kt doesn&#39;t see button&#39;s id?", "body": "<p>Code:</p>\n\n<pre><code>class MainActivity: AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    button3.setOnClickListener { }\n}\n</code></pre>\n\n<p>Screenshot of code with IDE error: <a href=\"https://i.stack.imgur.com/F8SdN.png\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/2uf7O.png\" width=\"515\" height=\"452\" /></p>\n\n<p>I haven't idea what the error might be. Reloading and rebuild didn't help.</p>\n"}, {"tags": ["kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1525159815, "post_id": 50112800, "comment_id": 87242828, "body": "Try <code>gradle clean build</code> to console to check is it idea&#39;s error"}, {"owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1525160017, "post_id": 50112800, "comment_id": 87242903, "body": "And show please your <code>build.gradle</code>, maybe you not added <code>https:&#47;&#47;mvnrepository.com&#47;repos&#47;kotlin-exposed</code> repository"}], "owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1046, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525159484, "creation_date": 1525159484, "last_edit_date": 1592644375, "question_id": 50112800, "link": "https://stackoverflow.com/questions/50112800/unresolved-reference-new-in-exposed", "title": "Unresolved reference: new in Exposed", "body": "<p>I'm starting Exposed ORM in use Kotlin from this <a href=\"https://github.com/JetBrains/Exposed\" rel=\"nofollow noreferrer\">link</a> <br>\nI want to create User Table but show this error :</p>\n<pre><code>Error:(67, 14) Kotlin: Unresolved reference: new\n</code></pre>\n<p>User object and Entity class :</p>\n<pre><code>object Users : IntIdTable() {\n    val name = varchar(&quot;name&quot;, 50).index()    \n    val age = integer(&quot;age&quot;)\n}\n\nclass User(id: EntityID&lt;Int&gt;) : IntEntity(id) {\n    companion object : IntEntityClass&lt;test5Gr.test5Artif.User&gt;(table = Users)\n\n    var name by Users.name    \n    var age by Users.age\n}\n</code></pre>\n<p>main :</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Database.connect(&quot;jdbc:postgresql://127.0.0.1/test1&quot;, driver = &quot;org.postgresql.Driver&quot;, user = &quot;postgresql&quot;, password = &quot;123&quot;)\n    transaction {\n            logger.addLogger(StdOutSqlLogger)\n\n            create(Users) \n             User.new {\n                name = &quot;Mohammad&quot;         \n                age = 5\n            }\n            \n        }\n}\n</code></pre>\n<p>this error about <code>User.new {</code>\nHow can I solve this error? and i imported all require libraries to main</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 3080, "user_id": 1852343, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GbRlL.jpg?s=128&g=1", "display_name": "Sandip Fichadiya", "link": "https://stackoverflow.com/users/1852343/sandip-fichadiya"}, "edited": false, "score": 0, "creation_date": 1525159635, "post_id": 50112646, "comment_id": 87242752, "body": "try by changing: <code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {</code>  To:  <code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {</code>  Notice the question mark at the end of <code>data: Intent?</code>"}, {"owner": {"reputation": 5077, "user_id": 5476209, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/SKMHP.jpg?s=128&g=1", "display_name": "TapanHP", "link": "https://stackoverflow.com/users/5476209/tapanhp"}, "edited": false, "score": 0, "creation_date": 1525180947, "post_id": 50112646, "comment_id": 87251691, "body": "Can you please check by changing Intent to Intent? on this line override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent)"}, {"owner": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "edited": false, "score": 0, "creation_date": 1525181872, "post_id": 50112646, "comment_id": 87252197, "body": "Yes its work perfectly"}], "answers": [{"comments": [{"owner": {"reputation": 5077, "user_id": 5476209, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/SKMHP.jpg?s=128&g=1", "display_name": "TapanHP", "link": "https://stackoverflow.com/users/5476209/tapanhp"}, "edited": false, "score": 1, "creation_date": 1525181096, "post_id": 50115660, "comment_id": 87251771, "body": "+1 already, Here is the link related to Documentation about Null safety in Kotlin <a href=\"http://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a>"}, {"owner": {"reputation": 1764, "user_id": 4548520, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a177d9d1652832f694552623905abbb?s=128&d=identicon&r=PG&f=1", "display_name": "user25", "link": "https://stackoverflow.com/users/4548520/user25"}, "edited": false, "score": 0, "creation_date": 1548896378, "post_id": 50115660, "comment_id": 95712133, "body": "should we call super method? <code>super.onActivityResult(requestCode, resultCode, data)</code>?"}], "tags": [], "owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "is_accepted": false, "score": 5, "last_activity_date": 1525181190, "last_edit_date": 1525181190, "creation_date": 1525173966, "answer_id": 50115660, "question_id": 50112646, "link": "https://stackoverflow.com/questions/50112646/failure-delivering-result-resultinfo-keep-throwing/50115660#50115660", "title": "Failure delivering result ResultInfo keep throwing", "body": "<p>Your code:</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n</code></pre>\n\n<p>There are parameter <code>data</code> should never be null, because it has type <code>Intent</code> (not nullable).</p>\n\n<p>Your error talks about it:</p>\n\n<blockquote>\n  <p>Parameter specified as non-null is null: ... parameter <strong>data</strong></p>\n</blockquote>\n\n<p>Simply change <code>data: Intent</code> to <code>data: Intent?</code> and <code>data</code> will be specified as nullable parameter.</p>\n\n<p>Read more about null safety in Kotlin: <a href=\"http://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}], "owner": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1525181190, "creation_date": 1525158645, "last_edit_date": 1525180686, "question_id": 50112646, "link": "https://stackoverflow.com/questions/50112646/failure-delivering-result-resultinfo-keep-throwing", "title": "Failure delivering result ResultInfo keep throwing", "body": "<p>I have an activity that opens camera but if a was in the camera and a click on back button it give me this error every time.</p>\n\n<pre><code>Process: com.deraah.mohamed.deraahpro, PID: 13346\njava.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1888, result=0, data=null} to activity {com.deraah.mohamed.deraahpro/com.deraah.mohamed.deraahpro.ParticipantsActivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter data\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4268)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4312)\n    at android.app.ActivityThread.-wrap19(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1644)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\nCaused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter data\n    at com.deraah.mohamed.deraahpro.ParticipantsActivity.onActivityResult(Unknown Source:37)\n</code></pre>\n\n<p>Failure delivering result ResultInfo keep throwing evry time.</p>\n\n<p>This is my activity <code>ParticipantsActivity</code>:</p>\n\n<pre><code>class ParticipantsActivity : AppCompatActivity() {\n\n    private var CAMERA_REQUEST = 1888\n    private var imageView: ImageView? = null\n    private var MY_CAMERA_PERMISSION_CODE = 100\n\n    @RequiresApi(Build.VERSION_CODES.M)\n    public override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_participants)\n        this.imageView = this.findViewById&lt;View&gt;(R.id.imageView1) as ImageView\n        val photoButton = this.findViewById(R.id.button1) as Button\n\n        photoButton.setOnClickListener { view -&gt;\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n                requestPermissions(arrayOf(Manifest.permission.CAMERA),\n                        MY_CAMERA_PERMISSION_CODE)\n            } else {\n                val cameraIntent = Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE)\n                startActivityForResult(cameraIntent, CAMERA_REQUEST)\n            }\n        }\n\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;String&gt;, grantResults: IntArray) {\n        if (requestCode == MY_CAMERA_PERMISSION_CODE) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, \"camera permission granted\", Toast.LENGTH_LONG).show();\n                val cameraIntent = Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE)\n                startActivityForResult(cameraIntent, CAMERA_REQUEST)\n            } else {\n                Toast.makeText(this, \"camera permission denied\", Toast.LENGTH_LONG).show();\n            }\n\n        }\n    }\n\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n        if(data != null){\n            if (requestCode == CAMERA_REQUEST &amp;&amp; resultCode == Activity.RESULT_OK) {\n                try {\n\n                } catch (e: IOException) {\n                    e.printStackTrace()\n                }\n\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>And after that the app is stopped working.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525133288, "post_id": 50109596, "comment_id": 87236862, "body": "Can you give an example for a text view with an id mTextView?"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525133361, "post_id": 50109596, "comment_id": 87236883, "body": "The first part of the answer tells you how to access it directly, I&#39;ll post an example sing a variable"}, {"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525134065, "post_id": 50109596, "comment_id": 87237047, "body": "Thanks. I think my <code>mTextView</code> initialization is wrong because when I try your solution I get <code>Unsolved reference</code> in <code>ViewHolder</code>. Am I missing something?"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525134263, "post_id": 50109596, "comment_id": 87237087, "body": "Did you import you view using kotlin extensions? import kotlinx.android.synthetic.&lt;YOUR LAYOUT FILE&gt;.* inside the adapter?"}, {"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525136618, "post_id": 50109596, "comment_id": 87237560, "body": "Oh. I see what you saying. Basically, I&#39;m creating view inside <code>onCreateViewHolder</code>. That&#39;s what Kotlin Anko does. So is there a way to pass variable name or just should I go with the oldschool way?"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525137523, "post_id": 50109596, "comment_id": 87237739, "body": "If you&#39;re not using android extension then findviewbyid is the way to go :)"}, {"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525139737, "post_id": 50109596, "comment_id": 87238232, "body": "That&#39;s what I thought. Just were looking for new ways."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525140690, "post_id": 50109596, "comment_id": 87238423, "body": "Why don&#39;t you use android extensions? It&#39;s the best and most used way in Kotlin ..."}, {"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525148577, "post_id": 50109596, "comment_id": 87239810, "body": "I discovered <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Kotlin Anko</a> and got a project about it. So, I just don&#39;t want to use XML layouts."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1525152535, "post_id": 50109596, "comment_id": 87240655, "body": "It&#39;s your personal opinion that &quot;it&#39;s the best&quot; to use Extensions, I don&#39;t know how you know if it&#39;s &quot;the most used way&quot; in Kotlin. It&#39;s up to each developer / team to decide if that&#39;s the right tool for them out of <a href=\"https://stackoverflow.com/q/44285703/4465208\">many alternatives</a>.  Also, in your first snippet you&#39;re actually demonstrating a common error made when using it with ViewHolders, (as described <a href=\"https://stackoverflow.com/a/44208181/4465208\">here</a>), while presenting it as an equal to the correct way you show afterwards."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1525171135, "post_id": 50109596, "comment_id": 87247087, "body": "It is indeed a personal opinion, as for the most used way I just used the web and SO as a thermometer to measure how much a technology is used, I&#39;ve see loads of projects using kotlinx, but.once again it was a guess, thanks for clarifying. I&#39;ll edit my answer to include your comments :)"}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": false, "score": 1, "last_activity_date": 1525171223, "last_edit_date": 1525171223, "creation_date": 1525131487, "answer_id": 50109596, "question_id": 50109546, "link": "https://stackoverflow.com/questions/50109546/cant-access-view-in-holder/50109596#50109596", "title": "Can&#39;t access view in holder", "body": "<p>If you're using kotlin extensions and have a text view with an id mTextView, then it should be:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.itemView.mTextView.text = \"1 + 1 = 3\" // Should work?\n    }\n</code></pre>\n\n<p>You can also define variables in your ViewHolder and use them directly, this is the best way in terms of performance as it won't force unecessary calls to <a href=\"https://stackoverflow.com/questions/44192550/how-to-bind-view-in-recyclerview-viewholder-with-kotlin/44208181#44208181\">findviewbyid</a>:</p>\n\n<pre><code>class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    val myTextView = itemView.mTextView\n}\n</code></pre>\n\n<p>And later access it like:</p>\n\n<pre><code> holder.myTextView.text = \"some text\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525299193, "post_id": 50111701, "comment_id": 87306821, "body": "Your first answer isn&#39;t easy like you said but it&#39;s also nice when you have few views. I&#39;ll just stick with the <code>findViewById</code> method."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1525152340, "creation_date": 1525152340, "answer_id": 50111701, "question_id": 50109546, "link": "https://stackoverflow.com/questions/50109546/cant-access-view-in-holder/50111701#50111701", "title": "Can&#39;t access view in holder", "body": "<p>What you need to do here is to create a property for your <code>TextView</code> inside your <code>ViewHolder</code>. This isn't particularly easy with Anko, but here are some ways to do it.</p>\n\n<hr>\n\n<h3>1. Pass every <code>View</code> you want be able to reference from your <code>ViewHolder</code> as a separate constructor parameter.</h3>\n\n<p>For this solution, you have to modify your <code>ViewHolder</code> class like this, adding a property for the <code>TextView</code>:</p>\n\n<pre><code>class ViewHolder(view: View, val mTextView: TextView) : RecyclerView.ViewHolder(view)\n</code></pre>\n\n<p>You can initialize this property in this slightly convoluted way:</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Adapter.ViewHolder {\n    lateinit var mTextView: TextView\n\n    val view = ctx.UI {\n        relativeLayout {\n            mTextView = textView(\"1 + 1 = 2\")\n        }\n    }.view\n\n    return ViewHolder(view, mTextView)\n}\n</code></pre>\n\n<p>While this doesn't look very nice, you're keeping the reference to your <code>TextView</code> from when you're initially creating it, so it's efficient.</p>\n\n<hr>\n\n<h3>2. Give your Anko created <code>View</code> instances IDs and look them up by their IDs later.</h3>\n\n<p>First, you have to create constants for your IDs - the ID can be any positive number, just make sure they're unique within the scope you're using them. One way is to place these inside a companion object, like so:</p>\n\n<pre><code>companion object {\n    private const val TEXT_VIEW_ID = 123 // Arbitrary positive number\n}\n</code></pre>\n\n<p>Then, you need to give this ID to your <code>TextView</code>:</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Adapter.ViewHolder {\n    return ViewHolder(ctx.UI {\n        relativeLayout {\n            textView(\"1 + 1 = 2\") {\n                id = TEXT_VIEW_ID\n            }\n        }\n    }.view)\n}\n</code></pre>\n\n<p>Finally, you can find your <code>TextView</code> again in your <code>ViewHolder</code> class with <code>findViewById</code>:</p>\n\n<pre><code>class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    val mTextView: TextView = view.findViewById(TEXT_VIEW_ID)\n}\n</code></pre>\n\n<p>Of course this is going to be slower, because you're losing the <code>TextView</code> reference you already had when you're passing in the <code>View</code> to the <code>ViewHolder</code>, and then you're looking it up again.</p>\n\n<hr>\n\n<p>Note that I stuck with <code>mTextView</code> for the answer so that it's easier to follow, but it's generally <a href=\"https://android.github.io/kotlin-guides/style.html#naming-1\" rel=\"nofollow noreferrer\">not recommended</a> to use Hungarian notation or any other name prefixes in Kotlin.</p>\n"}], "owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1404, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525171223, "creation_date": 1525131134, "question_id": 50109546, "link": "https://stackoverflow.com/questions/50109546/cant-access-view-in-holder", "title": "Can&#39;t access view in holder", "body": "<p>I'm trying to create <code>RecyclerView</code> adapter and following <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview#Adapter\" rel=\"nofollow noreferrer\">this</a> documentation.</p>\n\n<pre><code>private class Adapter(private val list: List&lt;HashMap&lt;String, Any&gt;&gt;, private val ctx: Context) : RecyclerView.Adapter&lt;Adapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Adapter.ViewHolder {\n        var mTextView: TextView\n\n        return ViewHolder(ctx.UI {\n            relativeLayout {\n                mTextView = textView(\"1 + 1 = 2\")\n            }\n        }.view)\n    }\n\n    override fun getItemCount() = list.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.mTextView.text = \"1 + 1 = 3\" // Should work?\n    }\n\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view)\n}\n</code></pre>\n\n<p>How can I access <code>mTextView</code> in the <code>onBindViewHolder</code>?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1525125110, "post_id": 50108369, "comment_id": 87234706, "body": "Could you please explain the issue or problem you&#39;re facing? If you need those preference you can just add them to the method signature, the same way you already do with your context. <code>provideClass2(context: Context, prefs: SharedPreferences)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "is_accepted": true, "score": 1, "last_activity_date": 1525126398, "creation_date": 1525126398, "answer_id": 50108915, "question_id": 50108369, "link": "https://stackoverflow.com/questions/50108369/from-one-dagger2-module-how-to-access-the-sharedpreferences-provided-in-another/50108915#50108915", "title": "from one dagger2 module how to access the SharedPreferences provided in another dagger2 module", "body": "<p>since all these artifacts share the same scope, and the component is built using both modules, you should be able to simply add <code>SharedPreferences</code> as a parameter to <code>provideClass2()</code> in order to use it in the construction of <code>Class2</code>, like so:</p>\n\n<pre><code>@Provides\n@Singleton\ninternal fun provideClass2(context: Context, prefs: SharedPreferences): Class2 {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5966, "user_id": 976367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/V6aaM.jpg?s=128&g=1", "display_name": "Mark Pazon", "link": "https://stackoverflow.com/users/976367/mark-pazon"}, "is_accepted": false, "score": 1, "last_activity_date": 1525127457, "last_edit_date": 1525127457, "creation_date": 1525126734, "answer_id": 50108978, "question_id": 50108369, "link": "https://stackoverflow.com/questions/50108369/from-one-dagger2-module-how-to-access-the-sharedpreferences-provided-in-another/50108978#50108978", "title": "from one dagger2 module how to access the SharedPreferences provided in another dagger2 module", "body": "<p>Since you have already defined how to retrieve SharedPreferences from DataManagerModule class you can simply change</p>\n\n<pre><code>internal fun provideClass2(context: Context): Class2 {\n       ...\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>internal fun provideClass2(sharedPreferences: SharedPreferences): Class2 {\n       ...\n}\n</code></pre>\n\n<p>Have another class extend the Application class and declare it to the AndroidManifest like so:</p>\n\n<pre><code>class App: Application() {\n\n    lateinit var dataManagerComponent: DataManagerComponent\n\n    override fun onCreate() {\n        super.onCreate()\n\n        dataManagerComponent = DaggerDataManagerComponent.builder()\n                .dataManagerModule(DataManagerModule(this))\n                .anotherModule(AnotherModule(\"config1\", 123))\n                .build()\n    }\n}\n</code></pre>\n\n<p>Modify your component to include an inject function </p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(DataManagerModule::class,\n        AnotherModule::class))\ninterface DataManagerComponent {\n    fun getDataManager() : DataManager\n    fun getSharedPreferences() : SharedPreferences\n    // The activity/fragment you will need the values\n    fun inject(target: MainActivity)\n}\n</code></pre>\n\n<p>Then inject it to the activity</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    @Inject lateinit var class2: Class2\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        (application as App).dataManagerComponent.inject(this)\n\n\n        Log.i(\"CLASS2\", class2.toString())\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "accepted_answer_id": 50108915, "answer_count": 2, "score": 2, "last_activity_date": 1525127457, "creation_date": 1525123195, "question_id": 50108369, "link": "https://stackoverflow.com/questions/50108369/from-one-dagger2-module-how-to-access-the-sharedpreferences-provided-in-another", "title": "from one dagger2 module how to access the SharedPreferences provided in another dagger2 module", "body": "<p>Having the SharedPreferences provided from one dagger2 module,  in another dagger2 module would like to use it,<br>\nhow to do it?</p>\n\n<p>the code below seems not working.</p>\n\n<p>/** the component */</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(DataManagerModule::class, \n                             AnotherModule::class))\ninterface DataManagerComponent {\n    fun getDataManager() : DataManager\n    fun getSharedPreferences() : SharedPreferences\n}\n</code></pre>\n\n<p>/** the module 1 */</p>\n\n<pre><code>@Module\nclass DataManagerModule(@ApplicationContext private val appContext: Context) {\n\n    @Singleton\n    @Provides\n    @ApplicationContext\n    fun provideApplicationContext(): Context = appContext\n\n    @Singleton\n    @Provides\n    fun provideSharedPreferences(): SharedPreferences {\n        return appContext.getSharedPreferences(appContext.packageName, \n        Context.MODE_PRIVATE)\n    }\n}\n</code></pre>\n\n<p>/** the module 2 */</p>\n\n<pre><code>@Module\nclass AnotherModule(private val config1: String?, private val config2: Int?) {\n\n    @Provides\n    @Singleton\n    internal fun provideClass2(context: Context): Class2 {\n\n        if (config2 == null) {\n\n            // how to get the preferences???\n            // getSharedPreferences().edit().getInt(Constants.Settings, -1)\n\n        }\n\n        return class2(config1, config2, context)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 354, "user_id": 5894292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-xsgOXawxvM8/AAAAAAAAAAI/AAAAAAAAYfA/me86fQYwSPg/photo.jpg?sz=128", "display_name": "neo73", "link": "https://stackoverflow.com/users/5894292/neo73"}, "is_accepted": false, "score": 8, "last_activity_date": 1525107221, "creation_date": 1525107221, "answer_id": 50104915, "question_id": 50104733, "link": "https://stackoverflow.com/questions/50104733/kotlin-android-studio-error-required-editable-found-string/50104915#50104915", "title": "Kotlin /Android Studio error : Required Editable! found String?", "body": "<p>Use <code>setText(String)</code>, since <code>editText2.text</code> expects an <strong>Editable</strong>, not a <strong>String</strong>.</p>\n\n<pre><code>editText2.setText(savedString)\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 9722161, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160203589170587/picture?type=large", "display_name": "Keith Colclough", "link": "https://stackoverflow.com/users/9722161/keith-colclough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1896, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1525107221, "creation_date": 1525106442, "last_edit_date": 1525106917, "question_id": 50104733, "link": "https://stackoverflow.com/questions/50104733/kotlin-android-studio-error-required-editable-found-string", "title": "Kotlin /Android Studio error : Required Editable! found String?", "body": "<p>Hi there i am very very new to programming but this is the error I am getting. Here is my code...</p>\n\n<pre><code>override fun onRestoreInstanceState(savedInstanceState: Bundle?) {\n    super.onRestoreInstanceState(savedInstanceState)\n    val savedString = savedInstanceState?.getString(TEXT_CONTENTS, \"\")\n    editText2?.text = savedString\n}\n</code></pre>\n\n<p>The final savedString expression I am getting the error \"Required Editable! found String?\"</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1525105656, "post_id": 50104484, "comment_id": 87226277, "body": "AFAIK, Android Studio will only convert Java code into Kotlin when it is told to do so (e.g., by copying into a Kotlin file). If you want Java code, create a Java class file (e.g., File &gt; New &gt; Java Class)."}, {"owner": {"reputation": 21, "user_id": 9580287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e850497efa98ee5b9cfd3db79a0d7a01?s=128&d=identicon&r=PG&f=1", "display_name": "Ajiroghene", "link": "https://stackoverflow.com/users/9580287/ajiroghene"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1525108194, "post_id": 50104484, "comment_id": 87227413, "body": "Ok, then. What about the MainActivity class that contains the appCompatActivity? Is there no way to make it java?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1525108447, "post_id": 50104484, "comment_id": 87227531, "body": "Create a new project, and do not choose &quot;Add Kotlin support&quot; in the initial page of the new-project wizard. Or, delete your existing <code>MainActivity.kt</code> file and create a new activity, choosing Java as the language."}, {"owner": {"reputation": 21, "user_id": 9580287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e850497efa98ee5b9cfd3db79a0d7a01?s=128&d=identicon&r=PG&f=1", "display_name": "Ajiroghene", "link": "https://stackoverflow.com/users/9580287/ajiroghene"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1525108574, "post_id": 50104484, "comment_id": 87227596, "body": "Ok, thanks a bunch!"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9580287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e850497efa98ee5b9cfd3db79a0d7a01?s=128&d=identicon&r=PG&f=1", "display_name": "Ajiroghene", "link": "https://stackoverflow.com/users/9580287/ajiroghene"}, "edited": false, "score": 0, "creation_date": 1525120051, "post_id": 50105888, "comment_id": 87232739, "body": "Spot on, I think I grab that tight!"}], "tags": [], "owner": {"reputation": 136, "user_id": 9660470, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Christopher", "link": "https://stackoverflow.com/users/9660470/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1525111461, "creation_date": 1525111461, "answer_id": 50105888, "question_id": 50104484, "link": "https://stackoverflow.com/questions/50104484/default-kotlin-ide-but-i-want-it-in-java-so-that-i-can-follow-along/50105888#50105888", "title": "Default kotlin IDE but I want it in Java so that I can follow along", "body": "<p>Two things to fix this:</p>\n\n<ol>\n<li>When making new files, be sure that you're always creating a Java class, not a a Kotlin</li>\n<li>When creating a project where you don't want Kotlin at all, be sure that you disable the options that says \"Add Kotlin Support\"</li>\n</ol>\n\n<p>Basically, don't give the IDE a reason to think you'd want Kotlin at all</p>\n"}], "owner": {"reputation": 21, "user_id": 9580287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e850497efa98ee5b9cfd3db79a0d7a01?s=128&d=identicon&r=PG&f=1", "display_name": "Ajiroghene", "link": "https://stackoverflow.com/users/9580287/ajiroghene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525111461, "creation_date": 1525105323, "last_edit_date": 1525108253, "question_id": 50104484, "link": "https://stackoverflow.com/questions/50104484/default-kotlin-ide-but-i-want-it-in-java-so-that-i-can-follow-along", "title": "Default kotlin IDE but I want it in Java so that I can follow along", "body": "<p>I am taking a course in android development, the tutorial are all set up in Java but my android studio is 3.0.1 with a default kotlin set up and constraints layout. </p>\n\n<p>I have managed to override the constraint layout to linearlayout and sometimes RelativeLayout. </p>\n\n<p>However, I need the Java script page to be java not kotlin. Often when I copy java code into the environment, the IDE detects it and convert it for me into kotlin equivalent.  </p>\n\n<p>Now I am getting mature in the learning process, I want to start writing these code myself but the Java writing styles are constituting nuisance on the IDE  with many errors.</p>\n\n<p>How do I just make it accept java as against the default kotlin ?  </p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-livedata"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 1, "creation_date": 1525103150, "post_id": 50103416, "comment_id": 87224926, "body": "Sure, you can do this, but if your item holder is tied to something with a lifecycle, it&#39;s probably a bad idea because you might get updates when your lifecycle object is not in a started state. If that isn&#39;t an issue, ok. What you have is similar to rx Java and manually subscribing and unsubscribing to an observable."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 4, "creation_date": 1525103689, "post_id": 50103416, "comment_id": 87225272, "body": "Agreed. Use <code>LiveData</code> with activities/fragments. Use RxJava for things not tied to the UI."}], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 3, "last_activity_date": 1568634602, "last_edit_date": 1568634602, "creation_date": 1527075536, "answer_id": 50487462, "question_id": 50103416, "link": "https://stackoverflow.com/questions/50103416/use-livedata-without-lifecycle-owner/50487462#50487462", "title": "Use LiveData without Lifecycle Owner", "body": "<p>For me <code>LiveData</code> has two benefits:</p>\n\n<ol>\n<li>It aware of life cycle events and will deliver updates only in an appropriate state of a subscriber (<code>Activity</code>/<code>Fragment</code>).</li>\n<li>It holds the last posted value, and updates with it new subscribers.</li>\n</ol>\n\n<p>As already been said, if you're using it out of the life cycle components (<code>Activity</code>/<code>Fragment</code>) and the delivered update could be managed anytime, then you can use it without life cycle holder, otherwise, sooner or later, it may result in a crash, or data loss.</p>\n\n<p>As an alternative to the <code>LiveData</code> behavior, I can suggest a <code>BehaviourSubject</code> from <code>RxJava2</code> framework, which acts almost the same, holding the last updated value, and updating with it new subscribers.</p>\n"}, {"tags": [], "owner": {"reputation": 937, "user_id": 2940876, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3YOFa.jpg?s=128&g=1", "display_name": "alizx", "link": "https://stackoverflow.com/users/2940876/alizx"}, "is_accepted": false, "score": 2, "last_activity_date": 1577817377, "last_edit_date": 1577817377, "creation_date": 1577816128, "answer_id": 59547353, "question_id": 50103416, "link": "https://stackoverflow.com/questions/50103416/use-livedata-without-lifecycle-owner/59547353#59547353", "title": "Use LiveData without Lifecycle Owner", "body": "<p>You can register an observer without an associated LifecycleOwner object using the <code>observeForever(Observer)</code> method. In this case, the observer is considered to be always active and is therefore always notified about modifications. You can remove these observers calling the <code>removeObserver(Observer)</code> method.</p>\n\n<p><strong>Ref</strong>\n<a href=\"https://developer.android.com/topic/libraries/architecture/livedata.html#work_livedata\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/livedata.html#work_livedata</a></p>\n"}, {"tags": [], "owner": {"reputation": 1517, "user_id": 6076692, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i5Cv9.jpg?s=128&g=1", "display_name": "Mohamed AbdelraZek", "link": "https://stackoverflow.com/users/6076692/mohamed-abdelrazek"}, "is_accepted": false, "score": 8, "last_activity_date": 1579516166, "creation_date": 1579516166, "answer_id": 59821349, "question_id": 50103416, "link": "https://stackoverflow.com/questions/50103416/use-livedata-without-lifecycle-owner/59821349#59821349", "title": "Use LiveData without Lifecycle Owner", "body": "<p>You can register an observer without an associated LifecycleOwner object using the </p>\n\n<pre><code>observeForever(Observer) method\n</code></pre>\n\n<p>like that:</p>\n\n<pre><code> orderRepo.getServices().observeForever(new Observer&lt;List&lt;Order&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;Order&gt; orders) {\n               //\n            }\n        });\n</code></pre>\n"}], "owner": {"reputation": 12020, "user_id": 408780, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ixReL.jpg?s=128&g=1", "display_name": "Tima", "link": "https://stackoverflow.com/users/408780/tima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5209, "favorite_count": 2, "answer_count": 3, "score": 10, "last_activity_date": 1579516166, "creation_date": 1525101358, "question_id": 50103416, "link": "https://stackoverflow.com/questions/50103416/use-livedata-without-lifecycle-owner", "title": "Use LiveData without Lifecycle Owner", "body": "<p>I could not find any information, if it's a bad idea to use LiveData without a lifecycle owner. And if it is, what could be the alternative?</p>\n\n<p>Let me give you just a simple example</p>\n\n<pre><code>class Item() {\n    private lateinit var property: MutableLiveData&lt;Boolean&gt;\n\n    init {\n        property.value = false\n    }\n\n    fun getProperty(): LiveData&lt;Boolean&gt; = property\n\n    fun toggleProperty() {\n        property.value = when (property.value) {\n            false -&gt; true\n            else -&gt; false\n        }\n    }\n}\n\nclass ItemHolder {\n\n    private val item = Item()\n\n    private lateinit var observer: Observer&lt;Boolean&gt;\n\n    fun init() {\n        observer = Observer&lt;Boolean&gt; { item -&gt;\n            updateView(item)\n        }\n        item.getProperty().observeForever(observer)\n    }\n\n    fun destroy() {\n        item.getProperty().removeObserver(observer)\n    }\n\n    fun clickOnButton() {\n        item.toggleProperty();\n    }\n\n    private fun updateView(item: Boolean?) {\n        // do something\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "grpc", "grpc-java"], "comments": [{"owner": {"reputation": 16391, "user_id": 4690866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854931adcbf75ac84630116123920854?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Anderson", "link": "https://stackoverflow.com/users/4690866/eric-anderson"}, "edited": false, "score": 0, "creation_date": 1525107614, "post_id": 50103280, "comment_id": 87227175, "body": "I don&#39;t know Kotlin. But it seems that should work. Maybe it&#39;s some Kotlin-specific interaction with JUnit?"}, {"owner": {"reputation": 713, "user_id": 1440666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OKlp9.jpg?s=128&g=1", "display_name": "Kevin LE GOFF", "link": "https://stackoverflow.com/users/1440666/kevin-le-goff"}, "reply_to_user": {"reputation": 16391, "user_id": 4690866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854931adcbf75ac84630116123920854?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Anderson", "link": "https://stackoverflow.com/users/4690866/eric-anderson"}, "edited": false, "score": 0, "creation_date": 1525111439, "post_id": 50103280, "comment_id": 87228908, "body": "Yeah I don&#39;t know neither. I am writing the test in java just to try out. The real server and client are working in Kotlin."}, {"owner": {"reputation": 713, "user_id": 1440666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OKlp9.jpg?s=128&g=1", "display_name": "Kevin LE GOFF", "link": "https://stackoverflow.com/users/1440666/kevin-le-goff"}, "reply_to_user": {"reputation": 16391, "user_id": 4690866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854931adcbf75ac84630116123920854?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Anderson", "link": "https://stackoverflow.com/users/4690866/eric-anderson"}, "edited": false, "score": 0, "creation_date": 1525111854, "post_id": 50103280, "comment_id": 87229114, "body": "Did not got any luck with JAVA neither. Server is still in Kotlin so it could still mean some inter-portability issue"}], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 695181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8uruB.jpg?s=128&g=1", "display_name": "Matt Kerr", "link": "https://stackoverflow.com/users/695181/matt-kerr"}, "edited": false, "score": 0, "creation_date": 1574192074, "post_id": 50106297, "comment_id": 104141589, "body": "Please take a look at my answer, as you may run into intermittent issues with your solution-- it may not properly release resources when the test is completed."}, {"owner": {"reputation": 293, "user_id": 695181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8uruB.jpg?s=128&g=1", "display_name": "Matt Kerr", "link": "https://stackoverflow.com/users/695181/matt-kerr"}, "edited": false, "score": 0, "creation_date": 1574192173, "post_id": 50106297, "comment_id": 104141634, "body": "You may also want to look at using Kotlin Test with JUnit 5 instead of JUnit 4 directly, there are advantages there with newer framework releases supporting the new extension system (replacing RunWith): <a href=\"https://www.baeldung.com/junit-5-kotlin\" rel=\"nofollow noreferrer\">baeldung.com/junit-5-kotlin</a>"}], "tags": [], "owner": {"reputation": 713, "user_id": 1440666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OKlp9.jpg?s=128&g=1", "display_name": "Kevin LE GOFF", "link": "https://stackoverflow.com/users/1440666/kevin-le-goff"}, "is_accepted": true, "score": 1, "last_activity_date": 1525113385, "creation_date": 1525113385, "answer_id": 50106297, "question_id": 50103280, "link": "https://stackoverflow.com/questions/50103280/grpcserverrule-not-finding-implementation/50106297#50106297", "title": "GrpcServerRule Not finding implementation", "body": "<p>It seems a good clean of the project makes everything run as expected. Not sure what happen. Will investigate and post an issue on github if I encounter it again.</p>\n"}, {"tags": [], "owner": {"reputation": 293, "user_id": 695181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8uruB.jpg?s=128&g=1", "display_name": "Matt Kerr", "link": "https://stackoverflow.com/users/695181/matt-kerr"}, "is_accepted": false, "score": 0, "last_activity_date": 1574192206, "last_edit_date": 1574192206, "creation_date": 1574191866, "answer_id": 58941576, "question_id": 50103280, "link": "https://stackoverflow.com/questions/50103280/grpcserverrule-not-finding-implementation/58941576#58941576", "title": "GrpcServerRule Not finding implementation", "body": "<p>Try using <code>@JvmField</code> annotation for your rule field. You may also run into issues with the gRPC service not being properly cleaned up. So another approach would be to have a separate class with a clean-up rule, such as: </p>\n\n<pre><code>class LoopbackServer {\n    val client: ShopperServiceGrpc.ShopperServiceBlockingStub\n    private val yourService = ShopperServiceController()\n\n    @Rule\n    @JvmField\n    val grpcCleanup = GrpcCleanupRule()\n\n    init {\n        // Generate a unique in-process server name.\n        val serverName = InProcessServerBuilder.generateName()\n\n        // Create a server, add service, start, and register for automatic graceful shutdown.\n        grpcCleanup.register(InProcessServerBuilder.forName(serverName).directExecutor()\n                .addService(yourService).build().start())\n\n        client = ShopperServiceGrpc.newBlockingStub(\n                // Create a client channel and register for automatic graceful shutdown.\n                grpcCleanup.register(InProcessChannelBuilder.forName(serverName).directExecutor().build()))\n    }\n}\n</code></pre>\n\n<p>Then you can reference that in your test class:</p>\n\n<pre><code>class CreateListTest {\n    private val server = LoopbackServer()\n    private val client = server.client\n\n    @Test\n    fun `When service called with a valid List request, it succeeds`() {\n        val request = CreateListRequest.newBuilder()\n            .setName(\"a test list\")\n            .setAuthorId(25)\n            .addAuthorizedUsers(12)\n            .build()\n        val reply = client.createList(request)\n        assertEquals(45, reply.createdListId)\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 713, "user_id": 1440666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OKlp9.jpg?s=128&g=1", "display_name": "Kevin LE GOFF", "link": "https://stackoverflow.com/users/1440666/kevin-le-goff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1558, "favorite_count": 0, "accepted_answer_id": 50106297, "answer_count": 2, "score": 0, "last_activity_date": 1574192206, "creation_date": 1525100842, "question_id": 50103280, "link": "https://stackoverflow.com/questions/50103280/grpcserverrule-not-finding-implementation", "title": "GrpcServerRule Not finding implementation", "body": "<p>I am trying to write some unit test for one of the GRPC service.</p>\n\n<p>I am using the GrpcServerRule to do so.</p>\n\n<p>Once I run the test, it seems that the implementation of the service is not loaded properly. I don't manage to find why.</p>\n\n<p>Here is the code for the test.</p>\n\n<pre><code>@RunWith(JUnit4::class)\nclass CreateListTest {\n\n// Workaround for public\n@get:Rule  val serverRule: GrpcServerRule = GrpcServerRule().directExecutor()\n\n@Before\nfun setup() {\n    serverRule.serviceRegistry.addService(ShopperServerImplementation())\n}\n\n\n@Test\nfun testCreateListValidRequest() {\n    val request = CreateListRequest.newBuilder()\n            .setName(\"a test list\")\n            .setAuthorId(25)\n            .addAuthorizedUsers(12)\n            .build()\n    val reply = ShopperServiceGrpc.newBlockingStub(serverRule.channel).createList(request)\n    assertEquals(45, reply.createdListId)\n}\n\n}\n</code></pre>\n\n<p>Here is the code for the service implementation.</p>\n\n<pre><code>class ShopperServerImplementation : ShopperGRPCGrpc.ShopperGRPCImplBase() {\noverride fun createList(request: CreateListRequest, responseObserver: StreamObserver&lt;CreateListReply&gt;) {\n    val reply = CreateListReply.newBuilder().setCreatedListId(80).build()\n    responseObserver.onNext(reply)\n    responseObserver.onCompleted()\n}\n}\n</code></pre>\n\n<p>Here is the log from the test result</p>\n\n<pre><code>io.grpc.StatusRuntimeException: UNIMPLEMENTED: Method not found: shopper.ShopperService/createList\n\nat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:227)\nat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:208)\nat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:141)\nat com.kevinlegoff.shopper.io.ShopperServiceGrpc$ShopperServiceBlockingStub.createList(ShopperServiceGrpc.java:156)\nat com.kevinlegoff.shopper.server.CreateListTest.testCreateListValidRequest(CreateListTest.kt:35)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)\nat org.junit.rules.RunRules.evaluate(RunRules.java:20)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>Thank you in advance for the help</p>\n"}, {"tags": ["android", "api", "kotlin", "loading", "android-progressbar"], "comments": [{"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1525099601, "post_id": 50102883, "comment_id": 87222742, "body": "Do you mean Spinner(<a href=\"https://developer.android.com/guide/topics/ui/controls/spinner\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/controls/spinn&zwnj;&#8203;er</a>) or ProgressBar?"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1525099746, "post_id": 50102883, "comment_id": 87222823, "body": "You should add your xml layout where you have included progressBar1 and complete code of activity."}, {"owner": {"reputation": 13, "user_id": 9633190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97194484306f7ce3a12663ae7adcffc4?s=128&d=identicon&r=PG&f=1", "display_name": "hmad", "link": "https://stackoverflow.com/users/9633190/hmad"}, "edited": false, "score": 0, "creation_date": 1525100362, "post_id": 50102883, "comment_id": 87223201, "body": "ProgressBar sorry"}], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 6216669, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yG6FpI9K7LM/AAAAAAAAAAI/AAAAAAAAAGI/6vCOilj4n74/photo.jpg?sz=128", "display_name": "Dries", "link": "https://stackoverflow.com/users/6216669/dries"}, "is_accepted": true, "score": 0, "last_activity_date": 1525105414, "creation_date": 1525105414, "answer_id": 50104504, "question_id": 50102883, "link": "https://stackoverflow.com/questions/50102883/progressbar-not-showing-up-while-waiting-for-api/50104504#50104504", "title": "ProgressBar not showing up while waiting for api", "body": "<p>I think it has to do with the fact that the <code>Volley.newRequestQueue(this@Profile)</code> returns a <a href=\"https://android.googlesource.com/platform/frameworks/volley/+/idea133/src/com/android/volley/RequestQueue.java\" rel=\"nofollow noreferrer\"><code>RequestQueue</code></a> that enqueues a request to be executed through it's <code>add</code> method. The <code>add</code> method however immediately returns without waiting for the execution of the call itself.</p>\n\n<p>Since in you code you run the changing of the visibility of the progress-bar directly after the <code>add</code> call you probably don't see the bar appear at all (because the whole code runs to fast to notice). What you probably want is to hide the bar in the <code>Response.Listener</code> callback (and probably also in the <code>Response.ErrorListener</code>) because these are the callbacks that Volley will call on completion (with error or not).</p>\n\n<p>So you enqueue the request and show the progress-bar, when Volley finishes it will let you know through the callbacks and this would be the place to hide the progress-bar again.</p>\n"}], "owner": {"reputation": 13, "user_id": 9633190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97194484306f7ce3a12663ae7adcffc4?s=128&d=identicon&r=PG&f=1", "display_name": "hmad", "link": "https://stackoverflow.com/users/9633190/hmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 50104504, "answer_count": 1, "score": -1, "last_activity_date": 1525105414, "creation_date": 1525099433, "last_edit_date": 1525100527, "question_id": 50102883, "link": "https://stackoverflow.com/questions/50102883/progressbar-not-showing-up-while-waiting-for-api", "title": "ProgressBar not showing up while waiting for api", "body": "<p>I'm trying to display a progressbar while the data from the API is fetched, but it never displays. I'm assuming I just have the call for the progressbar in the wrong place but nothing I've done so far has fixed the issue. Below is the code from the activity. \nAll I want is for the progressbar to be visible until the data is loaded.</p>\n\n<pre><code>package com.hmadland.paranoia\nimport android.content.Context\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.widget.ProgressBar\nimport com.android.volley.Request\nimport com.android.volley.Response\nimport com.android.volley.toolbox.JsonObjectRequest\nimport com.android.volley.toolbox.Volley\nimport kotlinx.android.synthetic.main.activity_profile.*\nimport org.json.JSONObject\nimport com.android.volley.AuthFailureError\nimport com.bumptech.glide.Glide\nimport com.bumptech.glide.request.RequestOptions\nimport com.hmadland.paranoia.R.layout.activity_profile\n\nclass Profile : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_profile)\n        //get token from login\n        val token = intent.getStringExtra(\"token\")\n        //get email to find PlayerID in sharedPref\n        val email = intent.getStringExtra(\"email\")\n        //get PlayerID from sharedPref\n        val mypref = getSharedPreferences(email, Context.MODE_PRIVATE)\n        val PlayerID = mypref.getString(email, \"\")\n        val progressBar: ProgressBar = this.progressBar1\n\n            // task is run on a thread\n            Thread(Runnable {\n                // dummy thread mimicking some operation whose progress cannot be tracked\n\n\n                // display the indefinite progressbar\n                this@Profile.runOnUiThread(java.lang.Runnable {\n                    progressBar1.visibility = View.VISIBLE\n                })\n                // performing operation\n                try {\n                    var url = \"https://elimination.azurewebsites.net/api/Players/GetPlayer?id=\"+ PlayerID\n                    val que = Volley.newRequestQueue(this@Profile)\n\n                    val jsonObjectRequest = JsonObjectRequest(\n                            Request.Method.GET, url, null,\n                            Response.Listener&lt;JSONObject&gt; { response -&gt;\n                                //get UserName\n                                userName.text = response.get(\"UserName\").toString()\n                                //get profile\n                                profile.text = response.get(\"Profile\").toString()\n                                //get photo\n                                Glide.with(this).load(response.get(\"PhotoUrl\")).into(ProfilePic)\n                                //round photo\n                                Glide.with(this).load(response.get(\"PhotoUrl\")).apply(RequestOptions.circleCropTransform()).into(ProfilePic)\n                            },\n                            Response.ErrorListener { error -&gt; Log.e(\"error is \", \"\" + error) }\n                    )\n\n                    //This is for Headers If Needed\n                    @Throws(AuthFailureError::class)\n                    fun getHeaders(): Map&lt;String, String&gt; {\n                        val params = HashMap&lt;String, String&gt;()\n                        params.put(\"Content-Type\", \"application/json; charset=UTF-8\")\n                        params.put(\"token\", token)\n                        return params\n                    }\n                    que.add(jsonObjectRequest)\n\n                } catch (e: InterruptedException) {\n                    e.printStackTrace()\n                }\n\n                // when the task is completed, make progressBar gone\n                this@Profile.runOnUiThread(java.lang.Runnable {\n                    progressBar1.visibility = View.GONE\n                })\n            }\n            ).start()\n\n        ///////////buttons to other views//////////////////////////////\n        //go to current target view\n        CurrentGame.setOnClickListener{\n            val intent = Intent(this, Target::class.java)\n            intent.putExtra(\"token\", token)\n            intent.putExtra(\"email\", email)\n            startActivity(intent)\n        }\n\n        Inventory.setOnClickListener{\n            val intent = Intent(this, com.hmadland.paranoia.Inventory::class.java)\n            startActivity(intent)\n        }\n\n        coming.setOnClickListener{\n            val intent = Intent(this, UpcomingGames::class.java)\n            startActivity(intent)\n        }\n        ////////////////////////////////////////////////////////////////////\n    }\n}\n</code></pre>\n\n<p>This is the XML from the layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.hmadland.paranoia.Profile\"&gt;\n\n    &lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        android:background=\"@color/colorPrimary\"\n        android:fitsSystemWindows=\"true\"\n        tools:layout_editor_absoluteX=\"16dp\"\n        tools:layout_editor_absoluteY=\"101dp\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"\n            android:paddingLeft=\"24dp\"\n            android:paddingRight=\"24dp\"\n            android:paddingTop=\"56dp\"\n           &gt;\n\n\n            &lt;ProgressBar\n                android:id=\"@+id/progressBar1\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"46dp\"\n                android:padding=\"10dp\"\n\n                /&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/ProfilePic\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"132dp\"\n                android:layout_centerHorizontal=\"true\"\n                android:adjustViewBounds=\"true\"\n                android:maxHeight=\"300px\"\n                android:maxWidth=\"450px\"\n                android:minHeight=\"300px\"\n                android:minWidth=\"450px\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/userName\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:textAlignment=\"center\"\n                android:textColor=\"@color/colorAccent\"\n                android:textSize=\"18sp\"\n                android:textStyle=\"bold\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/profile\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:paddingBottom=\"12dp\"\n                android:paddingTop=\"12dp\"\n                android:textColor=\"@color/colorAccent\"\n                android:textSize=\"20sp\"\n                android:textStyle=\"bold\" /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:gravity=\"center\"\n                &gt;\n\n                &lt;Button\n                    android:id=\"@+id/CurrentGame\"\n                    android:layout_width=\"90dp\"\n                    android:layout_height=\"80dp\"\n                    android:layout_margin=\"10dp\"\n                    android:background=\"@drawable/round\"\n                    android:fontFamily=\"monospace\"\n                    android:text=\"Target\"\n                    android:textColor=\"@color/colorAccent\"\n                    android:textSize=\"18sp\"\n                    android:textStyle=\"bold\" /&gt;\n\n                &lt;Button\n                    android:id=\"@+id/Inventory\"\n                    android:layout_width=\"90dp\"\n                    android:layout_height=\"80dp\"\n                    android:layout_margin=\"10dp\"\n                    android:background=\"@drawable/round\"\n                    android:fontFamily=\"monospace\"\n                    android:text=\"Stats\"\n                    android:textColor=\"@color/colorAccent\"\n                    android:textSize=\"18sp\"\n                    android:textStyle=\"bold\" /&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:gravity=\"center\"&gt;\n\n                &lt;Button\n                    android:id=\"@+id/coming\"\n                    android:layout_width=\"90dp\"\n                    android:layout_height=\"80dp\"\n                    android:layout_margin=\"10dp\"\n                    android:shape=\"oval\"\n                    android:background=\"@drawable/round\"\n                    android:fontFamily=\"monospace\"\n                    android:text=\"Games\"\n                    android:textColor=\"@color/colorAccent\"\n                    android:textSize=\"18sp\"\n                    android:textStyle=\"bold\" /&gt;\n                &lt;Button\n                    android:id=\"@+id/edit\"\n                    android:layout_width=\"90dp\"\n                    android:layout_height=\"80dp\"\n                    android:layout_margin=\"10dp\"\n                    android:background=\"@drawable/round\"\n                    android:fontFamily=\"monospace\"\n                    android:text=\"Edit\"\n                    android:textColor=\"@color/colorAccent\"\n                    android:textSize=\"18sp\"\n                    android:textStyle=\"bold\" /&gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-reflect"], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 8244705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEblD.jpg?s=128&g=1", "display_name": "J. Leander", "link": "https://stackoverflow.com/users/8244705/j-leander"}, "is_accepted": true, "score": 2, "last_activity_date": 1525096585, "creation_date": 1525096585, "answer_id": 50102043, "question_id": 50101852, "link": "https://stackoverflow.com/questions/50101852/kclassmemberextensionfunctions-always-be-empty/50102043#50102043", "title": "KClass::memberExtensionFunctions always be empty", "body": "<p>This is because declaredMemberExtensionFunctions only returns extension functions that are declared inside a class (as seen in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-member-extension-functions.html\" rel=\"nofollow noreferrer\">docs</a>) and FooBar.baz() is a top level declaration (So it is not declared inside FooBar.</p>\n\n<pre><code>class FooBar(val bar: String) {\n    fun FooBar.baz(): Unit {\n        println(this.bar)\n    }\n}\n</code></pre>\n\n<p>While I imagine this is not what you want, structuring the extension function like this would make your main method output lines.</p>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 1, "last_activity_date": 1525097344, "creation_date": 1525097344, "answer_id": 50102261, "question_id": 50101852, "link": "https://stackoverflow.com/questions/50101852/kclassmemberextensionfunctions-always-be-empty/50102261#50102261", "title": "KClass::memberExtensionFunctions always be empty", "body": "<p><strong>TLDR</strong>: You aren't going to be able to do this. Because extension functions can be declared everywhere, you are limited in what the reflection system can do for you.</p>\n\n<p>There is a <a href=\"https://discuss.kotlinlang.org/t/reflections-and-extension-function-confusion/1417/2\" rel=\"nofollow noreferrer\">thread on kotlinlang.org</a> that covers this exact question and why it is not possible. </p>\n\n<p>Essentially, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-member-extension-functions.html\" rel=\"nofollow noreferrer\">Kotlin's declaredMemberExtensionFunctions function</a> is able to list extension functions which are declared as part of the class, not externally. The docs state:</p>\n\n<blockquote>\n  <p>Returns extension functions <em>declared in this class</em>.</p>\n</blockquote>\n\n<p>And of course, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/member-extension-functions.html\" rel=\"nofollow noreferrer\">memberExtensionFunctions</a> behaves similarly:</p>\n\n<blockquote>\n  <p>Returns extension functions declared in this class and all of its superclasses.</p>\n</blockquote>\n\n<p>Here's what @Yole says in that thread as to why this is not possible:</p>\n\n<blockquote>\n  <p>The task of finding all extension functions for Foo is equivalent to finding all methods which have Foo as the first parameter. Neither of these is possible without accessing every single class in your application through reflection.</p>\n</blockquote>\n\n<p>@Yole is on here, he might be able to provide a more authoritative answer for you.</p>\n"}], "owner": {"reputation": 5170, "user_id": 712041, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/35bd4c153de79ba272de5624ebc6cd1b?s=128&d=identicon&r=PG", "display_name": "jilen", "link": "https://stackoverflow.com/users/712041/jilen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 50102043, "answer_count": 2, "score": 2, "last_activity_date": 1525097344, "creation_date": 1525095890, "question_id": 50101852, "link": "https://stackoverflow.com/questions/50101852/kclassmemberextensionfunctions-always-be-empty", "title": "KClass::memberExtensionFunctions always be empty", "body": "<p>Code</p>\n\n<pre><code>import kotlin.reflect.full.*\n\nclass FooBar(val bar: String)\nfun FooBar.baz(): Unit {println(this.bar)}\n\nfun main(args: Array&lt;String&gt;) {\n    FooBar::class.declaredMemberExtensionFunctions.forEach {\n        println(it)\n    }\n    FooBar::class.memberExtensionFunctions.forEach {\n        println(it)\n    }\n}\n</code></pre>\n\n<p>Output is empty</p>\n"}, {"tags": ["android", "canvas", "kotlin", "android-canvas"], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 816345, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9463e4265787fc9263fd5d5e762fd13f?s=128&d=identicon&r=PG", "display_name": "NewDev", "link": "https://stackoverflow.com/users/816345/newdev"}, "edited": false, "score": 0, "creation_date": 1525096900, "post_id": 50101904, "comment_id": 87221056, "body": "That&#39;s a great solution  But it requires API 26 and I&#39;m needing to support API 19  Thanks Sirius do you know of an API 19 method ?"}, {"owner": {"reputation": 919, "user_id": 1148144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ffd37dd77d331fda93e2b9ad683ca50?s=128&d=identicon&r=PG", "display_name": "sirius", "link": "https://stackoverflow.com/users/1148144/sirius"}, "reply_to_user": {"reputation": 237, "user_id": 816345, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9463e4265787fc9263fd5d5e762fd13f?s=128&d=identicon&r=PG", "display_name": "NewDev", "link": "https://stackoverflow.com/users/816345/newdev"}, "edited": false, "score": 0, "creation_date": 1525097058, "post_id": 50101904, "comment_id": 87221155, "body": "Updated the answer."}], "tags": [], "owner": {"reputation": 919, "user_id": 1148144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ffd37dd77d331fda93e2b9ad683ca50?s=128&d=identicon&r=PG", "display_name": "sirius", "link": "https://stackoverflow.com/users/1148144/sirius"}, "is_accepted": false, "score": 2, "last_activity_date": 1525096928, "last_edit_date": 1525096928, "creation_date": 1525096061, "answer_id": 50101904, "question_id": 50101700, "link": "https://stackoverflow.com/questions/50101700/mask-out-a-circle-shape-when-drawing-on-a-canvas/50101904#50101904", "title": "Mask out a circle/shape when drawing on a canvas", "body": "<p>You can use the <a href=\"https://developer.android.com/reference/android/graphics/Canvas.html#clipOutPath(android.graphics.Path)\" rel=\"nofollow noreferrer\"><code>Canvas#clipOutPath(Path)</code></a> method for that.</p>\n\n<p>Like this:</p>\n\n<pre><code>canvas.clipOutPath(Path().also {\n  it.addCircle(30, 30, 20, Path.Direction.CW)\n})\n</code></pre>\n\n<p>For API levels below 26 use:</p>\n\n<pre><code>canvas.clipPath(Path().also {\n  it.addCircle(30, 30, 20, Path.Direction.CW)\n}, Region.Op.DIFFERENCE)\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 816345, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9463e4265787fc9263fd5d5e762fd13f?s=128&d=identicon&r=PG", "display_name": "NewDev", "link": "https://stackoverflow.com/users/816345/newdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525096929, "creation_date": 1525095413, "last_edit_date": 1525096929, "question_id": 50101700, "link": "https://stackoverflow.com/questions/50101700/mask-out-a-circle-shape-when-drawing-on-a-canvas", "title": "Mask out a circle/shape when drawing on a canvas", "body": "<p>I'm within the onDraw(canvas)  function and so have access to the canvas</p>\n\n<p>I am able to draw the color On the canvas, but I'm trying to mask out (remove/cutout) circles (or any shape) so that the circle can see through the canvas to the layer below:</p>\n\n<pre><code> val pt     = Paint(Paint.ANTI_ALIAS_FLAG)\n pt.color   = Color.WHITE\n pt.style   = Paint.Style.FILL\n pt.setXfermode(PorterDuffXfermode(PorterDuff.Mode.DST))\n canvas.drawCircle(30,30,10,pt)\n</code></pre>\n\n<p>I have used all the Mode.XXXX available and tried WHITE,BLACK and TRANSPARENT</p>\n\n<p>Any ideas ?\n     (added) Needing to support API 19   thanks</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["kotlin", "extension-methods", "static-methods"], "answers": [{"comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1525096922, "post_id": 50102010, "comment_id": 87221070, "body": "How about <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/companion-object-instance.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/&hellip;</a> ?"}, {"owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1525096981, "post_id": 50102010, "comment_id": 87221102, "body": "@leonardkraemer I meant without using reflection :)"}, {"owner": {"reputation": 1510, "user_id": 2142728, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b3ca006aaf7a1160f11d133c2762e75f?s=128&d=identicon&r=PG", "display_name": "Alejandro Navas", "link": "https://stackoverflow.com/users/2142728/alejandro-navas"}, "edited": false, "score": 0, "creation_date": 1525101358, "post_id": 50102010, "comment_id": 87223799, "body": "Yes, I&#39;m thinking about a statically compiled time verified thing."}, {"owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "reply_to_user": {"reputation": 1510, "user_id": 2142728, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b3ca006aaf7a1160f11d133c2762e75f?s=128&d=identicon&r=PG", "display_name": "Alejandro Navas", "link": "https://stackoverflow.com/users/2142728/alejandro-navas"}, "edited": false, "score": 0, "creation_date": 1525101916, "post_id": 50102010, "comment_id": 87224118, "body": "@caeus there are no way, as I told in answer :) If answer satisfies you, mark it as correct. Thanks!"}, {"owner": {"reputation": 1510, "user_id": 2142728, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b3ca006aaf7a1160f11d133c2762e75f?s=128&d=identicon&r=PG", "display_name": "Alejandro Navas", "link": "https://stackoverflow.com/users/2142728/alejandro-navas"}, "edited": false, "score": 0, "creation_date": 1525102866, "post_id": 50102010, "comment_id": 87224735, "body": "I found this: <a href=\"https://youtrack.jetbrains.com/issue/KT-11968\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-11968</a>. It looks like it&#39;s not in the roadmap and it looks that even if done, it won&#39;t apply for generic types."}], "tags": [], "owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "is_accepted": true, "score": 1, "last_activity_date": 1525096452, "creation_date": 1525096452, "answer_id": 50102010, "question_id": 50101276, "link": "https://stackoverflow.com/questions/50101276/add-static-extension-to-generic-type/50102010#50102010", "title": "Add static extension to generic type", "body": "<p>No, your example is impossible and not in roadmap.</p>\n\n<p>Not all classes have companion objects and there are no ability to check if the specific class has.</p>\n"}], "owner": {"reputation": 1510, "user_id": 2142728, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b3ca006aaf7a1160f11d133c2762e75f?s=128&d=identicon&r=PG", "display_name": "Alejandro Navas", "link": "https://stackoverflow.com/users/2142728/alejandro-navas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 50102010, "answer_count": 1, "score": 0, "last_activity_date": 1525105904, "creation_date": 1525093784, "last_edit_date": 1525105904, "question_id": 50101276, "link": "https://stackoverflow.com/questions/50101276/add-static-extension-to-generic-type", "title": "Add static extension to generic type", "body": "<p>I'd like to be able to do this</p>\n\n<pre><code>fun &lt;A&gt; doSomething(block: A.Companion.() -&gt; Unit): Unit {\n    // bla bla bla\n    A.block()\n}\n</code></pre>\n\n<p>Is it possible? If not? Is it in the roadmap?</p>\n"}, {"tags": ["android", "http", "scope", "kotlin", "http-post"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1525090761, "post_id": 50100384, "comment_id": 87217301, "body": "it is returning correctly - false (obviously in most cases <code>return success</code> would be called before <code>success = true</code>)  ... please, learn basics about async methods"}], "answers": [{"tags": [], "owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "is_accepted": true, "score": 1, "last_activity_date": 1525091359, "last_edit_date": 1525091359, "creation_date": 1525091021, "answer_id": 50100469, "question_id": 50100384, "link": "https://stackoverflow.com/questions/50100384/kotlin-local-variable-manipulation-not-working/50100469#50100469", "title": "Kotlin local variable manipulation not working", "body": "<pre><code>// ...\n.response { request, response, result -&gt;\n    // params 'request, response, result' are available only there\n    // so you can't synchronous return value from there\n}\n\n// and they're not available there \n// and all changes made in scope above won't be seen from there\n</code></pre>\n\n<p>Please read more about async methods.</p>\n\n<p>Try to use something like:</p>\n\n<pre><code>fun getToken(email: String, password: String, callback: (Boolean) -&gt; Unit) {\n     // your code\n     var success = false\n\n     // ... manipulate with success\n     callback(success)\n}\n</code></pre>\n\n<p>And then call this method:</p>\n\n<pre><code>getToken(\"email\", \"password\") { success -&gt;\n    if (success) \n         Log.i(\"tag\", \"Success!\")\n    else \n         Log.i(\"tag\", \":(\")  \n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 8839552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3c3aa3910f20626bdb68defddd86ed?s=128&d=identicon&r=PG&f=1", "display_name": "alisheikh", "link": "https://stackoverflow.com/users/8839552/alisheikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 50100469, "answer_count": 1, "score": -2, "last_activity_date": 1525091359, "creation_date": 1525090693, "last_edit_date": 1525090859, "question_id": 50100384, "link": "https://stackoverflow.com/questions/50100384/kotlin-local-variable-manipulation-not-working", "title": "Kotlin local variable manipulation not working", "body": "<p>In this methode I use the <a href=\"https://github.com/kittinunf/Fuel\" rel=\"nofollow noreferrer\">fuel framework</a> to manipulate HTTP requests. The issue is that i cannot modify the local variable success. Can anyone help me out? I have tried to define a field and a static field, but with no success. (Methode works correctly, however the boolean is not returned correctly..)</p>\n\n<pre><code>fun getToken(email: String, password: String): Boolean {\n    //TODO(\"Fix Success Boolean! --&gt; alawys false\")\n    var success = false\n    var auth  =\"/auth/token.json\".httpPost()\n            .body(\"\"\"{\"username\":\"$email\", \"password\":\"$password\"}\"\"\", Charsets.UTF_8)\n            .header(mapOf(\"Content-Type\" to \"application/json\"))\n            .response { request, response, result -&gt;\n\n                when (result) {\n                    is Result.Failure -&gt; {\n\n                        // val data = result.get()\n                        val ex = result.getException()\n\n                        Log.println(Log.ASSERT, \"RESULT\", response.data.toString(Charsets.UTF_8))\n                        Log.println(Log.ASSERT, \"Request\", request.cUrlString())\n                        Log.println(Log.ASSERT, \"Exception_Message\", ex.message)\n                        Log.println(Log.ASSERT, \"Response_Message\", ex.response.responseMessage)\n\n                        success = false\n                    }\n                    is Result.Success -&gt; {\n                        val data = result.get()\n                        val returnJson = data.toString(Charsets.UTF_8)\n                        Log.println(Log.ASSERT, \"RESULT_LOGIN\", returnJson)\n                        success = true\n\n                        // Parse return Json\n                        // e.g. {\"id\":\"36e8fac0-487a-11e8-ad4e-c471feb11e42\",\"token\":\"d6897a230fd7739e601649bf5fd89ea4b93317f6\",\"expiry\":\"2018-04-27T17:49:48.721278Z\"}\n                        val jelement = JsonParser().parse(returnJson)\n                        val jobject = jelement.getAsJsonObject()\n\n                        // save field for class-scope access\n                        token = jobject.get(\"token\").asString\n                        id = jobject.get(\"id\").asString\n                    }\n                }\n            }\n    return success\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1525088795, "post_id": 50099814, "comment_id": 87216183, "body": "Each thread can have its own <code>Handler</code> . So when you call it from Ui thread you will get a <code>Handler</code> with <code>MainLooper</code> which is equivalent to <code>new Handler(getMainLooper())</code> . So for using in same thread for exa in <code>MainThread</code> you can create a <code>MainThreadHandler</code> Utility class."}, {"owner": {"reputation": 550, "user_id": 7214847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-UIMOPBnXbmo/AAAAAAAAAAI/AAAAAAAAADs/7Mg6UYkDwuY/photo.jpg?sz=128", "display_name": "Tadreik", "link": "https://stackoverflow.com/users/7214847/tadreik"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1525088999, "post_id": 50099814, "comment_id": 87216314, "body": "I don&#39;t even know which thread my handler is running on, I&#39;m guessing it is already on main thread since I did not create a thread."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1525089072, "post_id": 50099814, "comment_id": 87216365, "body": "You can use a singleton approach: <a href=\"https://stackoverflow.com/questions/40398072/singleton-with-parameter-in-kotlin\" title=\"singleton with parameter in kotlin\">stackoverflow.com/questions/40398072/&hellip;</a>"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1525089378, "post_id": 50099814, "comment_id": 87216510, "body": "Default constructor associates this handler with the Looper for the current thread. So in your case it must be main Thread."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1525089720, "post_id": 50099814, "comment_id": 87216682, "body": "You can create a <code>Handler</code> in application class and access it throughout the app ."}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1525090859, "post_id": 50099814, "comment_id": 87217353, "body": "@ADM An application can be considered as a singleton?"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1525091261, "post_id": 50099814, "comment_id": 87217552, "body": "Yeah In a way . Read <a href=\"https://stackoverflow.com/questions/3826905/singletons-vs-application-context-in-android\" title=\"singletons vs application context in android\">stackoverflow.com/questions/3826905/&hellip;</a>."}, {"owner": {"reputation": 885, "user_id": 1412858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec6f11ae7c5da01ac16111c0ee71e6f?s=128&d=identicon&r=PG", "display_name": "Kalyan Raghu", "link": "https://stackoverflow.com/users/1412858/kalyan-raghu"}, "edited": false, "score": 0, "creation_date": 1525097716, "post_id": 50099814, "comment_id": 87221534, "body": "Are you using weak reference for the activity inside the handler? If not could it be a garbage collection issue?"}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 7214847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-UIMOPBnXbmo/AAAAAAAAAAI/AAAAAAAAADs/7Mg6UYkDwuY/photo.jpg?sz=128", "display_name": "Tadreik", "link": "https://stackoverflow.com/users/7214847/tadreik"}, "edited": false, "score": 0, "creation_date": 1541009027, "post_id": 50099891, "comment_id": 93076025, "body": "The thing you said to do to the manifest does not work. name=&quot;.App&quot; goes up in error."}], "tags": [], "owner": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1525088815, "creation_date": 1525088815, "answer_id": 50099891, "question_id": 50099814, "link": "https://stackoverflow.com/questions/50099814/create-only-1-instance-of-handler-in-entire-app/50099891#50099891", "title": "Create only 1 instance of handler in entire app", "body": "<p>You can extend your <code>Application</code> class, so you will have only one holder, you can also make it <code>static</code>.</p>\n\n<p>In order to extend Application:\n1. Create App class <code>public class App extends Application</code>\n2. In your <code>manifest</code> under <code>application</code> tag set <code>name=\".App\"</code></p>\n\n<p>There is <code>onCreate</code> method which can be used for that purpose</p>\n"}], "owner": {"reputation": 550, "user_id": 7214847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-UIMOPBnXbmo/AAAAAAAAAAI/AAAAAAAAADs/7Mg6UYkDwuY/photo.jpg?sz=128", "display_name": "Tadreik", "link": "https://stackoverflow.com/users/7214847/tadreik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1525088815, "creation_date": 1525088524, "question_id": 50099814, "link": "https://stackoverflow.com/questions/50099814/create-only-1-instance-of-handler-in-entire-app", "title": "Create only 1 instance of handler in entire app", "body": "<p>I created a <code>Handler()</code> in my onCreate method of my MainActivity to run some code, so obviously everytime onCreate gets called, a new instance of my handler is created. When user navigates away from MainActivity and then comes back to it, a new handler is created.</p>\n\n<pre><code>handler.postDelayed(object : Runnable {\n        override fun run() {\n            try {\n                player.money += player.cps\n                player.moneyEarned += player.cps\n                updateText()\n                save()\n            } catch (e: Exception) {\n                println(\"ERROR\")\n            }\n            handler.postDelayed(this, 1000)\n        }\n    }, 0)\n</code></pre>\n\n<p>How do I make it so that a new handler is not created when navigating back to my MainActivity? Or somehow get this handler to run at a global application level which means only one instance of it will ever be created?</p>\n\n<p>Info:\nCreating too many of these handlers caused my app to lag, then crash. Too many read and write and calculation operations I guess. I discovered this after navigating away from MainActivity more than 50 times.</p>\n"}, {"tags": ["python", "haskell", "functional-programming", "kotlin", "map-function"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6445533"}, "edited": false, "score": 0, "creation_date": 1525097552, "post_id": 50099765, "comment_id": 87221425, "body": "What renders python&#39;s <code>map</code> less functional is the iterable protocol, because it abstracts from the structure you&#39;re iterating over. In FP <code>map</code> must preserve this very structure. Iterate is just too imprecise. In FP we <code>fold</code>, <code>map</code> or <code>traverse</code>."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 1, "creation_date": 1525109946, "post_id": 50099765, "comment_id": 87228239, "body": "This question may attract opinionated answers, but informed ones. It is also pretty specific in my view. Voted to reopen."}], "answers": [{"comments": [{"owner": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "edited": false, "score": 0, "creation_date": 1525172236, "post_id": 50100065, "comment_id": 87247582, "body": "Yes, except that <code>map</code> in FP is structure preserving whereas map in python isn&#39;t. If all you really care about in the thing you&#39;re mapping over is what &quot;elements&quot; are inside of it - which is of course often enough - then this approach works fine. It&#39;s not actually at all better than something like <code>collection.asSequence.map</code>  which you can do just fine in all the other languages though. If you want a structure preserving map you&#39;re out of luck with the python approach."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "edited": false, "score": 0, "creation_date": 1525172439, "post_id": 50100065, "comment_id": 87247674, "body": "@Cubic true, you would manually have to cast the return value of <code>map</code> to whatever type you want in Python (e.g. <code>tuple(map(func, iterable))</code>). Not preserving the structure of the underlying iterable works fine in Python because the language has been carefully designed such that in almost all use cases, you either <i>should</i> simply not care or the &quot;correct&quot; data type for further processing is an obvious choice. Thanks for your input about the FP languages, I&#39;m underinformed with regards to these."}, {"owner": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "edited": false, "score": 0, "creation_date": 1525172995, "post_id": 50100065, "comment_id": 87247931, "body": "For dictionaries, tuples and lists this works fine, but consider non-flat structures you could map over, like a tree: <code>Node 1 (Node 2 Empty Empty) (Node 3 Empty Empty)</code>. Now imagine you want to add one to all the nodes - with a structure preserving map you could do that, in an iterable based map there&#39;s no way to get the tree structure back out of the iterable."}], "tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1525089780, "last_edit_date": 1525089780, "creation_date": 1525089479, "answer_id": 50100065, "question_id": 50099765, "link": "https://stackoverflow.com/questions/50099765/map-as-class-member-versus-map-as-independent-function/50100065#50100065", "title": "map() as class member versus map() as independent function?", "body": "<p>This is somewhat opinion based, and my language of choice is Python, but I'll give it a shot.</p>\n\n<p>Python puts a very high emphasis on duck typing, especially with the iterable and sequence protocols.</p>\n\n<p>When you call <code>map(function, some_iterable)</code> it is - at least conceptually - not important what type <code>some_iterable</code> has, as long as you can pull values from it one by one in oder to apply a function to each of them. It could be a list, or a tuple, or a string, or a generator ... having a global <code>map</code> function ensures that all of these will work, even your self-written classes that are iterable by implementing <code>__iter__</code>. </p>\n\n<p>In my opinion it is far more elegant to implement the iterable protocol in <code>YourClass</code>, which unlocks a whole bunch of features, rather than writing your own <code>YourClass.map</code> function or having to call <code>list(YourClass_instance).map(function)</code>.</p>\n\n<p>Another example is the <code>str.join</code> method. Why do we write <code>\"sep\".join(my_list)</code> instead of <code>my_list.join(sep)</code>? It's again the fact that when building the resulting string, you don't really care if the values are pulled from a list, or set, or tuple, or any other iterable type. <code>str.join</code> accepts any iterable.</p>\n\n<p><code>len</code> is a builtin function for similar reasons. Sequences (and in general most containers) can expose their number of items with <code>len(my_container)</code> as long as they implement a <code>__len__</code> method, you don't have to guess whether it is <code>my_container.len()</code>, <code>my_container.num_items()</code>,  or <code>my_container.size()</code>.</p>\n\n<p><a href=\"http://lucumr.pocoo.org/2011/7/9/python-and-pola/\" rel=\"nofollow noreferrer\">Here</a> is a relevant article to this discussion.</p>\n"}, {"comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 1, "creation_date": 1525090130, "post_id": 50100082, "comment_id": 87216925, "body": "upvoted, but why are Kotlin and Dart different?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1525095201, "post_id": 50100082, "comment_id": 87219976, "body": "Because the designers made different decisions. There&#39;s no right decision here."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 3, "last_activity_date": 1525138387, "last_edit_date": 1525138387, "creation_date": 1525089547, "answer_id": 50100082, "question_id": 50099765, "link": "https://stackoverflow.com/questions/50099765/map-as-class-member-versus-map-as-independent-function/50100082#50100082", "title": "map() as class member versus map() as independent function?", "body": "<p>Python's <code>map</code> doesn't just work for lists; it works for any iterable. Rather than add separate <code>map</code> methods to disparate classes (or adding a do-nothing <code>map</code> method to <code>object</code> and overriding it multiple times), Python uses the iterable protocol; any class that implements <code>__iter__</code> (providing an object the implements <code>__next__</code>) can be used with <code>map</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1341, "user_id": 1036044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PzcQL.jpg?s=128&g=1", "display_name": "Probie", "link": "https://stackoverflow.com/users/1036044/probie"}, "is_accepted": false, "score": 3, "last_activity_date": 1525089594, "creation_date": 1525089594, "answer_id": 50100098, "question_id": 50099765, "link": "https://stackoverflow.com/questions/50099765/map-as-class-member-versus-map-as-independent-function/50100098#50100098", "title": "map() as class member versus map() as independent function?", "body": "<p>It doesn't really have anything to do with \"more functional\", just one of usage. </p>\n\n<p>Haskell doesn't have methods, so</p>\n\n<pre><code>newlist = map function somelist\n</code></pre>\n\n<p>is the only way to write it.</p>\n\n<p>In Python, <code>map</code> doesn't preserve the structure of the iterable, rather it makes either a new list (Python2) or a new map object (Python3). It's just a regular function which can take any iterable object as an argument, so it's not attached to a specific object. (On a side note, <code>map</code> isn't a particularly popular function, it's considered more \"pythonic\" to use a list or generator comprehension).</p>\n\n<p>In Kotlin, all iterables implement the method <code>map</code>. Unlike in Python where it's just a regular function, it's a regular (overridable) method, and is used as such.</p>\n\n<p>The real difference here, is that in Kotlin, we can override it with a more optimised version, whilst in Python we can't. This is probably more OOP, but it's not really any less functional.</p>\n"}, {"comments": [{"owner": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "edited": false, "score": 0, "creation_date": 1525091063, "post_id": 50100359, "comment_id": 87217460, "body": "Well here it\u2019s explained like you said (<a href=\"https://kotlinlang.org/docs/reference/extensions.html#extensions-are-resolved-statically\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>) So .map() in kotlin is probably just an extension function? And do you know something about dart?"}, {"owner": {"reputation": 14543, "user_id": 235908, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rTstt.jpg?s=128&g=1", "display_name": "Simon Shine", "link": "https://stackoverflow.com/users/235908/simon-shine"}, "reply_to_user": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "edited": false, "score": 1, "creation_date": 1525091784, "post_id": 50100359, "comment_id": 87217842, "body": "@TobiasMarschall: Yes, <code>map</code> is an extension method <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\">made on <code>Iterable&lt;T&gt;</code></a>. Similarly, <a href=\"https://api.dartlang.org/stable/1.24.3/dart-core/Iterable/map.html\" rel=\"nofollow noreferrer\">Dart&#39;s <code>map</code></a> is made in the <a href=\"https://github.com/dart-lang/sdk/blob/master/sdk/lib/core/iterable.dart\" rel=\"nofollow noreferrer\"><code>Iterable</code> abstract class</a>. For comparison, Haskell has <a href=\"https://wiki.haskell.org/Foldable_and_Traversable\" rel=\"nofollow noreferrer\">various type classes (<code>Functor</code>, <code>Traversable</code>, ...</a>. The difference is mainly in how they do <a href=\"https://en.wikipedia.org/wiki/Loose_coupling\" rel=\"nofollow noreferrer\">loose coupling</a>."}], "tags": [], "owner": {"reputation": 14543, "user_id": 235908, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rTstt.jpg?s=128&g=1", "display_name": "Simon Shine", "link": "https://stackoverflow.com/users/235908/simon-shine"}, "is_accepted": false, "score": 2, "last_activity_date": 1525090593, "creation_date": 1525090593, "answer_id": 50100359, "question_id": 50099765, "link": "https://stackoverflow.com/questions/50099765/map-as-class-member-versus-map-as-independent-function/50100359#50100359", "title": "map() as class member versus map() as independent function?", "body": "<blockquote>\n  <p>The Python/Haskell implementation is more \"functional\" isn\u00b4t it?</p>\n</blockquote>\n\n<p>Not much. The Kotlin syntax lends itself less to composition, but...</p>\n\n<p>Instead of composing (e.g. <code>(map f . map g) somelist</code>), you'd chain the method calls together (e.g. <code>somelist.map(f).map(g)</code>). This requires that the chained object supports <code>map</code>, so if you were to write your own list combinators, they'd have to be injected into that object. Since Kotlin supports <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension methods</a>, you can still avoid coupling your data type and your higher-order list combinators (which is generally a drawback in object-oriented programming).</p>\n"}], "owner": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "closed_date": 1525100053, "answer_count": 4, "score": 0, "last_activity_date": 1525138387, "creation_date": 1525088338, "last_edit_date": 1525092536, "question_id": 50099765, "link": "https://stackoverflow.com/questions/50099765/map-as-class-member-versus-map-as-independent-function", "closed_reason": "Needs more focus", "title": "map() as class member versus map() as independent function?", "body": "<p>I just found out that mapping a list is in e.g. Python and Haskell is done like this:</p>\n\n<pre><code>newlist = map(function, somelist)\n</code></pre>\n\n<p>In e.g. Kotlin and Dart it is done like this:</p>\n\n<pre><code>newlist = somelist.map(function)\n</code></pre>\n\n<p>I am wondering what advantages each solution has over the other?\nThe Python/Haskell implementation is more \"functional\" isn\u00b4t it?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1525095635, "post_id": 50099346, "comment_id": 87220231, "body": "One general idiom is to use <code>apply</code> inline: <code>con = (urlGet.openConnection() as HttpUrlConnection).apply { ... }</code>. It&#39;s like extending the initialization procedure."}, {"owner": {"reputation": 454, "user_id": 5746245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BH8HSVe1TZg/AAAAAAAAAAI/AAAAAAAAACA/aB256UMXdWg/photo.jpg?sz=128", "display_name": "Vijay Makwana", "link": "https://stackoverflow.com/users/5746245/vijay-makwana"}, "edited": false, "score": 0, "creation_date": 1525155364, "post_id": 50099346, "comment_id": 87241366, "body": "<a href=\"https://stackoverflow.com/questions/45582732/when-should-we-use-let-also-apply-takeif-takeunless-in-kotlin?rq=1\" title=\"when should we use let also apply takeif takeunless in kotlin\">stackoverflow.com/questions/45582732/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1525089604, "creation_date": 1525089604, "answer_id": 50100105, "question_id": 50099346, "link": "https://stackoverflow.com/questions/50099346/kotlin-standard-functions-run-with-let-also-and-apply/50100105#50100105", "title": "Kotlin standard functions: run, with, let, also and apply", "body": "<p>According to the <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#using-scope-functions-applywithrunalsolet\" rel=\"nofollow noreferrer\">official guildelines</a> you should be using <code>run</code> because you return a different value from the block. So your first code is correct:</p>\n\n<pre><code>con = urlGet.openConnection() as HttpURLConnection\ninputStream = con.run {\n   readTimeout = 10000\n   connectTimeout = 2000\n   requestMethod = \"GET\"\n   doInput = true\n   // Start the query\n   connect()\n   inputStream\n}\n</code></pre>\n"}], "owner": {"reputation": 1537, "user_id": 1392366, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/FBF0r.png?s=128&g=1", "display_name": "LiTTle", "link": "https://stackoverflow.com/users/1392366/little"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1525089604, "creation_date": 1525086859, "question_id": 50099346, "link": "https://stackoverflow.com/questions/50099346/kotlin-standard-functions-run-with-let-also-and-apply", "title": "Kotlin standard functions: run, with, let, also and apply", "body": "<p>I am trying to understand the correct use of the functions (run, with, let, also, apply). Let's say we have the following initial code (I am using it for testing purposes):</p>\n\n<pre><code>con = urlGet.openConnection() as HttpURLConnection\ncon.readTimeout = 10000\ncon.connectTimeout = 2000 \ncon.requestMethod = \"GET\"\ncon.doInput = true\ncon.connect()\ninst = con.inputStream\n</code></pre>\n\n<p>According to this <a href=\"https://cdn-images-1.medium.com/max/800/1*pLNnrvgvmG6Mdi0Yw3mdPQ.png\" rel=\"nofollow noreferrer\">image</a> I modified it to: </p>\n\n<pre><code>con = urlGet.openConnection() as HttpURLConnection\ninputStream = con.run {\n   readTimeout = 10000\n   connectTimeout = 2000\n   requestMethod = \"GET\"\n   doInput = true\n   // Start the query\n   connect()\n   inputStream\n}\n</code></pre>\n\n<p>But according to some guides I found, I think that I am doing multiple \"jobs\" there.<br/></p>\n\n<ul>\n<li>modify the initial con object</li>\n<li>run some more functions (connect)</li>\n<li>get another object back (inputstream)</li>\n</ul>\n\n<p>So, I am feeling that this is more correct:</p>\n\n<pre><code>    con = urlGet.openConnection() as HttpURLConnection\n    con.apply {\n           readTimeout = 10000\n           connectTimeout = 2000\n           requestMethod = \"GET\"\n           doInput = true\n        }\n    inputStream = con.run {\n           // Start the query\n           connect()\n           inputStream\n        }\n</code></pre>\n\n<p>Are those functions so strictly separated?<br/>\nAre there any guides (official or not) on how to use these functions?</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-sqlite"], "answers": [{"comments": [{"owner": {"reputation": 999, "user_id": 645092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1e87e6da8409a37fa20f9d714655792?s=128&d=identicon&r=PG", "display_name": "letroll", "link": "https://stackoverflow.com/users/645092/letroll"}, "edited": false, "score": 0, "creation_date": 1525088750, "post_id": 50099694, "comment_id": 87216158, "body": "sorry, I confirme ... Have you checked oldVersion return 1 ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "edited": false, "score": 0, "creation_date": 1525089028, "post_id": 50099694, "comment_id": 87216336, "body": "Yes because when I put DATABASE_VERSION = 1 and I launch my application I have an error message, you can not downgrade from version 2 to version 1. So the update of the version was made but the column does not not add"}, {"owner": {"reputation": 999, "user_id": 645092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1e87e6da8409a37fa20f9d714655792?s=128&d=identicon&r=PG", "display_name": "letroll", "link": "https://stackoverflow.com/users/645092/letroll"}, "edited": false, "score": 0, "creation_date": 1525252316, "post_id": 50099694, "comment_id": 87279637, "body": "@MickaelBelhassen mon conseil sur le db?. au lieu du db!! reste pertinant je pense. Autre conseil aussi que je pourrais vous donner pour les migrations. Changez le code pour qu&#39;un p&#233;riph&#233;rique avec une version 1 qui passe directement &#224; la version 3 de la base ai bien la migration de la version 2 de fait ainsi que celle de la 3. Parce-que l&#224; ce n&#39;est pas le cas"}], "tags": [], "owner": {"reputation": 999, "user_id": 645092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1e87e6da8409a37fa20f9d714655792?s=128&d=identicon&r=PG", "display_name": "letroll", "link": "https://stackoverflow.com/users/645092/letroll"}, "is_accepted": false, "score": 0, "last_activity_date": 1525088076, "creation_date": 1525088076, "answer_id": 50099694, "question_id": 50099216, "link": "https://stackoverflow.com/questions/50099216/sqlite-onupgrade-add-column-does-not-work/50099694#50099694", "title": "SQLite - onUpgrade() add column does not work", "body": "<p>first when db object can be null, I would use somethink like :</p>\n\n<p>db?.execSQL(DATABASE_ALTER_SIGNATURE) because with that, if db is null no code is executed so no crash. But with db!!.execSQL(DATABASE_ALTER_SIGNATURE) boom!!!</p>\n\n<p>and now I see DATABASE_VERSION = 2 but you execute your alter table on version 1</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "edited": false, "score": 0, "creation_date": 1525088743, "post_id": 50099798, "comment_id": 87216152, "body": "I do not understand the query update? why do it and where to put it?"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1525089261, "post_id": 50099798, "comment_id": 87216450, "body": "i think you will perform update some field at the database upgrade time or add some column in table after updating database."}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1525089347, "post_id": 50099798, "comment_id": 87216496, "body": "according your question table created issue or something else."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "edited": false, "score": 0, "creation_date": 1525090332, "post_id": 50099798, "comment_id": 87217033, "body": "Nothing works, I updated my post can you look at my code?"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1525090451, "post_id": 50099798, "comment_id": 87217111, "body": "which column you want to add which table."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "edited": false, "score": 0, "creation_date": 1525090492, "post_id": 50099798, "comment_id": 87217135, "body": "COLUMN_EIGHT I WANT TO ADD"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1525090614, "post_id": 50099798, "comment_id": 87217212, "body": "because you already define COLUMN_EIGHT at the table create time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "edited": false, "score": 0, "creation_date": 1525090688, "post_id": 50099798, "comment_id": 87217253, "body": "Yes my table already exists, with data in it, now I want to add the COLUMN_EIGHT without losing the data of the old column, so I also add the COLUMN EIGH to onCreate but it still does not work"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "edited": false, "score": 0, "creation_date": 1525090766, "post_id": 50099798, "comment_id": 87217306, "body": "Yes I also add in the onCreate but it does not work, it should be a solution to copy the whole database and transfer it in the new with the new column"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1525090966, "post_id": 50099798, "comment_id": 87217407, "body": "No it is not right solution if you want to make only some change in to table after database upgration that time not create hall table again."}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1525091746, "post_id": 50099798, "comment_id": 87217823, "body": "i update my answer update when condition take newDbversion. Try this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "edited": false, "score": 0, "creation_date": 1525093919, "post_id": 50099798, "comment_id": 87219144, "body": "no such column: signature (code 1): , while compiling: UPDATE invoices SET signature=? WHERE id = ?"}], "tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1525091679, "last_edit_date": 1525091679, "creation_date": 1525088447, "answer_id": 50099798, "question_id": 50099216, "link": "https://stackoverflow.com/questions/50099216/sqlite-onupgrade-add-column-does-not-work/50099798#50099798", "title": "SQLite - onUpgrade() add column does not work", "body": "<p>I provide java code for update some fields in table after upgrade database ..\nchange this code ..</p>\n\n<pre><code>override fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\nwhen (newVersion) {\n    1 -&gt; {\n        db!!.execSQL(DATABASE_ALTER_SIGNATURE)\n    }\n    2 -&gt; {\n        getWriteDatabase();\n    mNewDatabase.execSQL(\"ALTER TABLE TabelName ADD COLUMN COLUMN_EIGHT TEXT\");\n    }\n    3 -&gt; {\n        //upgrade logic from version 3 to 4\n    }\n    else -&gt; throw IllegalStateException(\"onUpgrade() with unknown oldVersion $oldVersion\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here set one column value as zero for define all ids.</p>\n\n<pre><code>   mNewDatabase.execSQL(\"UPDATE TableName SET columnName = 0  WHERE TableName IN ('10','21','58','63','66','69','78','89','91','92','95','96','97')\");\n</code></pre>\n\n<p>and if you want to add any column in the table then used alter command like below ..</p>\n\n<pre><code>mNewDatabase.execSQL(\"ALTER TABLE TabelName ADD COLUMN isActive INTEGER DEFAULT 1\");\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525211504, "creation_date": 1525086330, "last_edit_date": 1525211504, "question_id": 50099216, "link": "https://stackoverflow.com/questions/50099216/sqlite-onupgrade-add-column-does-not-work", "title": "SQLite - onUpgrade() add column does not work", "body": "<p>Hello I want to update my database to a version 2, but in the onUpgrade it does not work it does not add me new column.</p>\n\n<p>So when I call on my method to record this puts me the following error message: </p>\n\n<pre><code>no such column: signature (code 1): , while compiling: UPDATE invoices SET signature=? WHERE id = ?\n</code></pre>\n\n<p>Here is part of my code:</p>\n\n<pre><code>class InvoiceDatabase(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {\n\ncompanion object {\n    private const val DATABASE_NAME: String = \"invoice.db\"\n    private const val DATABASE_VERSION = 2\n    private const val TABLE_NAME = \"invoices\" //Les nom de la base de donnee\n    private const val COLUMN_ONE = \"id\" //COlonne UN, c'est le ID qui va sautoincrementer on va pas trop le toucher\n    private const val COLUMN_TWO = \"customercodez\"\n    private const val COLUMN_TREE = \"idproducts\"\n    private const val COLUMN_FOR = \"amountproducts\"\n    private const val COLUMN_FIVE = \"discount\"\n    private const val COLUMN_SIX = \"discounttype\"\n    private const val COLUMN_SEVEN = \"date\"\n    private const val COLUMN_EIGHT = \"signature\"\n\n    private const val DATABASE_ALTER_SIGNATURE  = \"ALTER TABLE $TABLE_NAME ADD COLUMN $COLUMN_EIGHT TEXT;\"\n}\n\n/**\n * On creer la table SQLite\n */\noverride fun onCreate(db: SQLiteDatabase?) {\n    val query: String = \"CREATE TABLE IF NOT EXISTS ${TABLE_NAME} (\" +\n            \"${COLUMN_ONE} INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n            \"${COLUMN_TWO} TEXT, \" +\n            \"${COLUMN_TREE} TEXT, \" +\n            \"${COLUMN_FOR} TEXT, \" +\n            \"${COLUMN_FIVE} TEXT, \" +\n            \"${COLUMN_SIX} TEXT, \" +\n            \"${COLUMN_SEVEN} TEXT\" +\n            \");\"\n\n    db?.execSQL(query)\n}\n</code></pre>\n\n<p>and my onUpgrade:</p>\n\n<pre><code>override fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n    when (oldVersion) {\n        1 -&gt; {\n            db!!.execSQL(DATABASE_ALTER_SIGNATURE)\n        }\n        2 -&gt; {\n            //upgrade logic from version 2 to 3\n        }\n        3 -&gt; {\n            //upgrade logic from version 3 to 4\n        }\n        else -&gt; throw IllegalStateException(\"onUpgrade() with unknown oldVersion $oldVersion\");\n    }\n\n}\n</code></pre>\n\n<p>The methode i called:</p>\n\n<pre><code>fun addSignature(invoice: Invoice) {\n    val values = ContentValues()\n\n    values.put(COLUMN_EIGHT, invoice.signatureBitmap)\n\n    val db: SQLiteDatabase = writableDatabase\n    db.update(TABLE_NAME, values, \"${COLUMN_ONE} = ?\", arrayOf(invoice.id.toString()))\n    db.close()\n}\n</code></pre>\n\n<p>all my code:</p>\n\n<pre><code>class InvoiceDatabase(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {\n\ncompanion object {\n    private const val DATABASE_NAME: String = \"invoice.db\"\n    private const val DATABASE_VERSION = 2\n    private const val TABLE_NAME = \"invoices\" //Les nom de la base de donnee\n    private const val COLUMN_ONE = \"id\" //COlonne UN, c'est le ID qui va sautoincrementer on va pas trop le toucher\n    private const val COLUMN_TWO = \"customercodez\"\n    private const val COLUMN_TREE = \"idproducts\"\n    private const val COLUMN_FOR = \"amountproducts\"\n    private const val COLUMN_FIVE = \"discount\"\n    private const val COLUMN_SIX = \"discounttype\"\n    private const val COLUMN_SEVEN = \"date\"\n    private const val COLUMN_EIGHT = \"signature\"\n\n    private const val DATABASE_ALTER_SIGNATURE  = \"ALTER TABLE $TABLE_NAME ADD COLUMN $COLUMN_EIGHT TEXT;\"\n}\n\n/**\n * On creer la table SQLite\n */\noverride fun onCreate(db: SQLiteDatabase?) {\n    val query: String = \"CREATE TABLE IF NOT EXISTS ${TABLE_NAME} (\" +\n            \"${COLUMN_ONE} INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n            \"${COLUMN_TWO} TEXT, \" +\n            \"${COLUMN_TREE} TEXT, \" +\n            \"${COLUMN_FOR} TEXT, \" +\n            \"${COLUMN_FIVE} TEXT, \" +\n            \"${COLUMN_SIX} TEXT, \" +\n            \"${COLUMN_SEVEN} TEXT, \" +\n            \"${COLUMN_EIGHT} TEXT\" +\n            \");\"\n\n    db?.execSQL(query)\n}\n\n/**\n * On insert lobjet creer dans la BDD\n */\nfun insert(invoice: Invoice) {\n    val values = ContentValues()\n\n    values.put(COLUMN_TWO, invoice.customerCodeZ)\n    values.put(COLUMN_TREE, invoice.idProducts)\n    values.put(COLUMN_FOR, invoice.amountProducts)\n    values.put(COLUMN_FIVE, invoice.discount)\n    values.put(COLUMN_SIX, invoice.discountType)\n    values.put(COLUMN_SEVEN, invoice.date)\n\n    val db: SQLiteDatabase = writableDatabase\n    db.insert(TABLE_NAME, null, values)\n    db.close()\n}\n\n\n/**\n * On Supprime l'objet de la bdd\n */\nfun delete(invoice: Invoice) {\n    val db: SQLiteDatabase = writableDatabase\n    db.delete(TABLE_NAME, \"${COLUMN_ONE} = ?\", arrayOf(invoice.id.toString()))\n    db.close()\n}\n\n/**\n * On modifie lobjet de la BDD\n */\nfun update(invoice: Invoice) {\n    val values = ContentValues()\n\n    values.put(COLUMN_TREE, invoice.idProducts)\n    values.put(COLUMN_FOR, invoice.amountProducts)\n    values.put(COLUMN_FIVE, invoice.discount)\n    values.put(COLUMN_SIX, invoice.discountType)\n\n    val db: SQLiteDatabase = writableDatabase\n    db.update(TABLE_NAME, values, \"${COLUMN_ONE} = ?\", arrayOf(invoice.id.toString()))\n    db.close()\n}\n\nfun addSignature(invoice: Invoice) {\n    val values = ContentValues()\n\n    values.put(COLUMN_EIGHT, invoice.signatureBitmap)\n\n    val db: SQLiteDatabase = writableDatabase\n    db.update(TABLE_NAME, values, \"${COLUMN_ONE} = ?\", arrayOf(invoice.id.toString()))\n    db.close()\n}\n\n/**\n * On recuperer toute les donnees de la bdd dans un arrayList\n */\nval retrieveAllData: ArrayList&lt;Invoice&gt;\n    get() {\n        var count = 0\n\n        val db = this.readableDatabase\n        val invoices = ArrayList&lt;Invoice&gt;()\n\n        val result = db.rawQuery(\"SELECT * FROM ${TABLE_NAME} ORDER BY ${COLUMN_ONE} DESC\", null)\n\n        while (result.moveToNext()) {\n            invoices.add(count, Invoice(\n                    result.getLong(result.getColumnIndex(COLUMN_TWO)),\n                    result.getString(result.getColumnIndex(COLUMN_TREE)),\n                    result.getString(result.getColumnIndex(COLUMN_FOR)),\n                    result.getDouble(result.getColumnIndex(COLUMN_FIVE)),\n                    result.getString(result.getColumnIndex(COLUMN_SIX)),\n                    result.getLong(result.getColumnIndex(COLUMN_SEVEN))\n            ))\n\n            invoices[count].id = result.getInt(result.getColumnIndex(COLUMN_ONE))\n            count++\n        }\n\n        return invoices\n    }\n\n\n\noverride fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n    when (oldVersion) {\n        1 -&gt; {\n            db?.execSQL(DATABASE_ALTER_SIGNATURE)\n        }\n        2 -&gt; {\n            //upgrade logic from version 2 to 3\n        }\n        3 -&gt; {\n            //upgrade logic from version 3 to 4\n        }\n        else -&gt; throw IllegalStateException(\"onUpgrade() with unknown oldVersion $oldVersion\");\n    }\n\n}\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-studio-3.1"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1525088955, "post_id": 50098853, "comment_id": 87216289, "body": "set <code>gradle:3.1.2</code>"}, {"owner": {"reputation": 177, "user_id": 7057788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4da03c2e856b40a220a4dcac0cd2709?s=128&d=identicon&r=PG&f=1", "display_name": "RoR noob", "link": "https://stackoverflow.com/users/7057788/ror-noob"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1525089654, "post_id": 50098853, "comment_id": 87216648, "body": "Tried that, same results."}, {"owner": {"reputation": 354, "user_id": 5894292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-xsgOXawxvM8/AAAAAAAAAAI/AAAAAAAAYfA/me86fQYwSPg/photo.jpg?sz=128", "display_name": "neo73", "link": "https://stackoverflow.com/users/5894292/neo73"}, "edited": false, "score": 0, "creation_date": 1525107554, "post_id": 50098853, "comment_id": 87227147, "body": "do you have:      dependencies{          implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotl&zwnj;&#8203;in_version&quot;     }  in your project gradle"}, {"owner": {"reputation": 2503, "user_id": 2268061, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a2c31d9c00c3ac41f0f69c7bae9770be?s=128&d=identicon&r=PG&f=1", "display_name": "Matej \u0160pil&#225;r", "link": "https://stackoverflow.com/users/2268061/matej-%c5%a0pil%c3%a1r"}, "edited": false, "score": 0, "creation_date": 1527580606, "post_id": 50098853, "comment_id": 88167414, "body": "@Asdf have you solved this ?"}, {"owner": {"reputation": 1, "user_id": 7685137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gExR5.jpg?s=128&g=1", "display_name": "Xin Lin", "link": "https://stackoverflow.com/users/7685137/xin-lin"}, "edited": false, "score": 0, "creation_date": 1528711826, "post_id": 50098853, "comment_id": 88596367, "body": "look at this question <a href=\"https://stackoverflow.com/questions/38180559/kotlin-not-working-on-android-studio\">Kotlin not working on Android Studio</a>"}], "owner": {"reputation": 177, "user_id": 7057788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4da03c2e856b40a220a4dcac0cd2709?s=128&d=identicon&r=PG&f=1", "display_name": "RoR noob", "link": "https://stackoverflow.com/users/7057788/ror-noob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1986, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1525171448, "creation_date": 1525084945, "last_edit_date": 1525171448, "question_id": 50098853, "link": "https://stackoverflow.com/questions/50098853/android-studio-3-1-kotlin-plugin-does-not-work", "title": "Android Studio 3.1 - kotlin plugin does not work", "body": "<p>I updated my AS from 3.0 to 3.1. After fixing several issues that showed up with the update, I am stuck at making Kotlin work.</p>\n\n<p>Kotlin code compiles and runs, although I can't edit kotlin files. Kotlin keywords are not recognised by the editor, using kotlin code from java classes appear red and in general I can't really do anything with kotlin.</p>\n\n<p>I use: </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n\n    ...\n    ...\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.1'\n        classpath 'com.google.gms:google-services:3.1.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>kotlin plugin: <code>1.2.41-release-Studio3.1-1</code> \nand <code>org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version</code></p>\n"}, {"tags": ["android", "json", "kotlin", "moshi"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 2, "creation_date": 1525084725, "post_id": 50098486, "comment_id": 87213930, "body": "<i>Can anybody shed some light on the future of the two libraries?</i>  maybe the creators  or a fairy"}], "answers": [{"comments": [{"owner": {"reputation": 1239, "user_id": 1544211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc45c86b58b06eb5af34ec1891f2cc68?s=128&d=identicon&r=PG", "display_name": "fast3r", "link": "https://stackoverflow.com/users/1544211/fast3r"}, "edited": false, "score": 0, "creation_date": 1525178364, "post_id": 50099931, "comment_id": 87250410, "body": "Thank you Jesse. I was mainly wondering because, as I mentioned, the last release happened almost a year ago. I will keep an eye on updates."}, {"owner": {"reputation": 33145, "user_id": 40013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92c80ad799d0788de9ec7a4e3a26f98d?s=128&d=identicon&r=PG", "display_name": "Jesse Wilson", "link": "https://stackoverflow.com/users/40013/jesse-wilson"}, "reply_to_user": {"reputation": 1239, "user_id": 1544211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc45c86b58b06eb5af34ec1891f2cc68?s=128&d=identicon&r=PG", "display_name": "fast3r", "link": "https://stackoverflow.com/users/1544211/fast3r"}, "edited": false, "score": 1, "creation_date": 1526438794, "post_id": 50099931, "comment_id": 87739898, "body": "Moshi 1.6 was released today!"}], "tags": [], "owner": {"reputation": 33145, "user_id": 40013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92c80ad799d0788de9ec7a4e3a26f98d?s=128&d=identicon&r=PG", "display_name": "Jesse Wilson", "link": "https://stackoverflow.com/users/40013/jesse-wilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1525088976, "creation_date": 1525088976, "answer_id": 50099931, "question_id": 50098486, "link": "https://stackoverflow.com/questions/50098486/android-moshi-whats-the-development-status/50099931#50099931", "title": "Android Moshi: what&#39;s the development status", "body": "<p>Moshi is the future. It's the only one of these two libraries with significant Kotlin features. It has active contributors and a lot of <a href=\"https://github.com/square/moshi/graphs/commit-activity\" rel=\"nofollow noreferrer\">recent commits</a>.</p>\n"}], "owner": {"reputation": 1239, "user_id": 1544211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc45c86b58b06eb5af34ec1891f2cc68?s=128&d=identicon&r=PG", "display_name": "fast3r", "link": "https://stackoverflow.com/users/1544211/fast3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 50099931, "answer_count": 1, "score": -1, "last_activity_date": 1525088976, "creation_date": 1525083614, "question_id": 50098486, "link": "https://stackoverflow.com/questions/50098486/android-moshi-whats-the-development-status", "title": "Android Moshi: what&#39;s the development status", "body": "<p>I remember <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">Moshi</a> being presented as the upgrade to (Google's) <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> for Android from the creators of Gson themselves (in Square), with better performances and better support for Kotlin.</p>\n\n<p>However, the latest release is now almost a year old, and even though there is activity in the repository, Gson still seems way more active and, according to AppBrain, much more adopted by developers in new projects.</p>\n\n<p>What's the real story? Can anybody shed some light on the future of the two libraries?</p>\n"}, {"tags": ["android", "kotlin", "dialogfragment", "fragmentmanager"], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "edited": false, "score": 0, "creation_date": 1525080503, "post_id": 50097251, "comment_id": 87211548, "body": "Unfortunately, this does not work, neither does calling <code>dismiss()</code> or <code>dismissAllowingStateLoss()</code>."}, {"owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "edited": false, "score": 0, "creation_date": 1525080936, "post_id": 50097251, "comment_id": 87211782, "body": "I would like to point out that calling this Dialog from an Adapter class works flawlessly!"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "edited": false, "score": 0, "creation_date": 1525080975, "post_id": 50097251, "comment_id": 87211797, "body": "@CEOtech4lifeapps Kindly add this in your question section."}, {"owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "edited": false, "score": 0, "creation_date": 1525150311, "post_id": 50097251, "comment_id": 87240158, "body": "I have tried with a Custom Dialog. The result was the same. The strange behavior only happens if I actually access my Firebase database by calling <code>deleteDetail</code>."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "edited": false, "score": 1, "creation_date": 1525254484, "post_id": 50097251, "comment_id": 87281027, "body": "@CEOtech4lifeapps Move ahead!"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1525081059, "last_edit_date": 1525081059, "creation_date": 1525079028, "answer_id": 50097251, "question_id": 50097209, "link": "https://stackoverflow.com/questions/50097209/activity-calling-a-dialogfragment-dialog-does-not-always-get-dismissed/50097251#50097251", "title": "Activity calling a DialogFragment: Dialog does not always get dismissed", "body": "<p>You should call</p>\n\n<pre><code> getDialog().dismiss()\n</code></pre>\n\n<p><strong>NOTE</strong></p>\n\n<p>You should create a Custom Dialog within DeleteDetailDialogFragment .</p>\n\n<pre><code>class DeleteDetailDialogFragment : DialogFragment() {\n\n     override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,savedInstanceState: Bundle?): View?\n    {\n         val rootView = inflater.inflate(R.layout.your_layout, container,false)\n         return rootView\n    }\n\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        val dialog = super.onCreateDialog(savedInstanceState)\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        return dialog\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "is_accepted": true, "score": 0, "last_activity_date": 1525255903, "last_edit_date": 1525255903, "creation_date": 1525254925, "answer_id": 50131770, "question_id": 50097209, "link": "https://stackoverflow.com/questions/50097209/activity-calling-a-dialogfragment-dialog-does-not-always-get-dismissed/50131770#50131770", "title": "Activity calling a DialogFragment: Dialog does not always get dismissed", "body": "<p>There's nothing wrong with the code above! Removing an item in Firebase database triggered an <code>onDataChange</code> event in my <code>ValueEventListener</code> which then called an <code>updateUI</code> function. Unfortunately, I had my <code>onItemTouchListener</code> handling <code>onItemClick</code> events (like my remove() instruction via DialogFragment) placed there, which worked fine as long as I didn't change any data in my Firebase database. But removing an item there triggered a loop that caused the \"erratic\" behavior of my code. The solution was to move the call to my <code>onItemTouchListener</code> (that handles onItemClicks) from the updateUI function to the onCreate section of my code. Huh, I learnt something!</p>\n"}], "owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 1, "accepted_answer_id": 50131770, "answer_count": 2, "score": 0, "last_activity_date": 1525255903, "creation_date": 1525078874, "last_edit_date": 1525080833, "question_id": 50097209, "link": "https://stackoverflow.com/questions/50097209/activity-calling-a-dialogfragment-dialog-does-not-always-get-dismissed", "title": "Activity calling a DialogFragment: Dialog does not always get dismissed", "body": "<p>I have an Activity that calls a DialogFragment like this:</p>\n\n<pre><code>private fun showDeleteDetailDialog(itemView: View, categoryId: String, detailId: String) {\n    val dialog = DeleteDetailDialogFragment.newInstance(categoryId, detailId)\n    dialog.show(this@DetailsActivity.fragmentManager, \"DeleteDetailDialog\")\n}\n</code></pre>\n\n<p>And this is the code for my DialogFragment (a click on the PositiveButton deletes an item in Firebase database):</p>\n\n<pre><code>class DeleteDetailDialogFragment : DialogFragment() {\n\noverride fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n    // Use the Builder class for convenient dialog construction\n    val categoryId = arguments.getString(ARG_CATEGORY_ID)\n    val detailId = arguments.getString(ARG_DETAIL_ID)\n    val builder = AlertDialog.Builder(activity)\n    builder.setMessage(R.string.delete_detail)\n            .setPositiveButton(R.string.delete, { dialog, id -&gt;\n                deleteDetail(categoryId, detailId)\n            })\n            .setNegativeButton(R.string.cancel, { dialog, id -&gt;\n                // User cancelled the dialog\n            })\n    // Create the AlertDialog object and return it\n    return builder.create()\n}\n\nprivate fun deleteDetail(categoryId: String, detailId: String) {\n    // get the detail reference for the specified category\n    val deleteRef = FirebaseDatabase.getInstance().getReference(\"details\").child(categoryId).child(detailId)\n    // remove detail\n    deleteRef.removeValue()\n\n    // get the reference for the specified favorite, identified by detailId\n    val deleteFaveRef = FirebaseDatabase.getInstance().getReference(\"favorites\").child(detailId)\n    // remove favorite\n    deleteFaveRef.removeValue()\n}\n\ncompanion object {\n    private val ARG_CATEGORY_ID = \"category_id\"\n    private val ARG_DETAIL_ID = \"detail_id\"\n\n    fun newInstance(categoryId: String, detailId: String): DeleteDetailDialogFragment {\n        val fragment = DeleteDetailDialogFragment()\n        val args = Bundle()\n        args.putString(ARG_CATEGORY_ID, categoryId)\n        args.putString(ARG_DETAIL_ID, detailId)\n        fragment.arguments = args\n        return fragment\n    }\n}\n}\n</code></pre>\n\n<p>When I call the Dialog, the Dialog window pops up. When I then click Cancel (the NegativeButton) the Dialog disappears as expected. When I click Delete (the PositiveButton), the Dialog disappears, again as expected. </p>\n\n<p>BUT, after a successful Delete, when I call the Dialog again, a click on Cancel does not immediately dismiss the dialog; instead, the Dialog box pops up again and only disappears after a second click on Delete. There seems to be an issue with the FragmentManager. What am I missing here?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9720333, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "yueli.liao", "link": "https://stackoverflow.com/users/9720333/yueli-liao"}, "edited": false, "score": 0, "creation_date": 1525080206, "post_id": 50097124, "comment_id": 87211370, "body": "I tried, No, I can only copy the kotlin in the idea plug-in directory to D:\\JavaProgram\\JetBrains\\."}], "tags": [], "owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "is_accepted": false, "score": 0, "last_activity_date": 1525078572, "creation_date": 1525078572, "answer_id": 50097124, "question_id": 50096996, "link": "https://stackoverflow.com/questions/50096996/error-while-compiling-the-kotlin-program-in-idea/50097124#50097124", "title": "Error while compiling the kotlin program in IDEA", "body": "<p>Try doing this.</p>\n\n<pre><code>killall java\n./gradlew clean assemble\n</code></pre>\n\n<p>Also check this <a href=\"https://stackoverflow.com/a/48890533/6169668\">link</a></p>\n"}], "owner": {"reputation": 1, "user_id": 9720333, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "yueli.liao", "link": "https://stackoverflow.com/users/9720333/yueli-liao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1525090108, "creation_date": 1525078176, "last_edit_date": 1525090108, "question_id": 50096996, "link": "https://stackoverflow.com/questions/50096996/error-while-compiling-the-kotlin-program-in-idea", "title": "Error while compiling the kotlin program in IDEA", "body": "<p>I got an error while compiling the kotlin program in IDEA, as shown below\uff1a</p>\n\n<p>Error: Kotlin: Kotlin home does not exist or is not a directory: D:\\JavaProgram\\JetBrains\\kotlin.</p>\n\n<p>What's the reason?</p>\n"}, {"tags": ["java", "android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1525075873, "post_id": 50096276, "comment_id": 87208987, "body": "<code>CompositeDisposable</code>is a class from RxJava 2, which you&#39;re not adding directly into your build. I would assume it is being added transitively by <code>KalmanRx</code>. Have you tried adding a dependency on RxJava directly?"}, {"owner": {"reputation": 67, "user_id": 6294754, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1606904062956326/picture?type=large", "display_name": "Kashaf Ahmed", "link": "https://stackoverflow.com/users/6294754/kashaf-ahmed"}, "reply_to_user": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1525075922, "post_id": 50096276, "comment_id": 87209004, "body": "no, tell me how to do it please"}, {"owner": {"reputation": 67, "user_id": 6294754, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1606904062956326/picture?type=large", "display_name": "Kashaf Ahmed", "link": "https://stackoverflow.com/users/6294754/kashaf-ahmed"}, "reply_to_user": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1525076303, "post_id": 50096276, "comment_id": 87209185, "body": "@Nicol&#225;sCarrasco , Please, tell me what to do because i have been stuck here for days"}, {"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1525076355, "post_id": 50096276, "comment_id": 87209214, "body": "You can check how to add remote dependencies to you app in the <a href=\"https://developer.android.com/studio/build/dependencies\" rel=\"nofollow noreferrer\">docs</a>. RxJava package is <code>io.reactivex.rxjava2:rxjava:2.1.13</code> if I&#39;m not mistaken"}, {"owner": {"reputation": 67, "user_id": 6294754, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1606904062956326/picture?type=large", "display_name": "Kashaf Ahmed", "link": "https://stackoverflow.com/users/6294754/kashaf-ahmed"}, "reply_to_user": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1525076629, "post_id": 50096276, "comment_id": 87209336, "body": "yes,io.reactivex.rxjava2:rxjava:2.1.13"}, {"owner": {"reputation": 67, "user_id": 6294754, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1606904062956326/picture?type=large", "display_name": "Kashaf Ahmed", "link": "https://stackoverflow.com/users/6294754/kashaf-ahmed"}, "reply_to_user": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1525076765, "post_id": 50096276, "comment_id": 87209404, "body": "Thankyou, bro it just working when i add io.reactivex.rxjava2:rxjava:2.1.13 ..thankyou soo much"}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 8890160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76921e6fd9f2eb69d5c7f58a2bc89c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Ooguro", "link": "https://stackoverflow.com/users/8890160/ooguro"}, "is_accepted": false, "score": 0, "last_activity_date": 1569465017, "last_edit_date": 1569465017, "creation_date": 1556745026, "answer_id": 55942748, "question_id": 50096276, "link": "https://stackoverflow.com/questions/50096276/compositedisposable-in-kotlin/55942748#55942748", "title": "CompositeDisposable() in Kotlin", "body": "<p>Also here is a link to another post displaying the use of Retrofit and RxJava2 in kotlin </p>\n\n<p><a href=\"https://stackoverflow.com/questions/54676652/parse-json-object-using-retrofit-in-kotlin/58108757#58108757\">parse JSON object using retrofit in kotlin</a></p>\n\n<p>Maybe adding these libraries might help: </p>\n\n<pre><code>implementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.7'\n</code></pre>\n\n<p>or try writing it out the variable like this </p>\n\n<pre><code>private var compositeDisposable: CompositeDisposable = CompositeDisposable()\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6294754, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1606904062956326/picture?type=large", "display_name": "Kashaf Ahmed", "link": "https://stackoverflow.com/users/6294754/kashaf-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3333, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569465017, "creation_date": 1525075130, "last_edit_date": 1525172573, "question_id": 50096276, "link": "https://stackoverflow.com/questions/50096276/compositedisposable-in-kotlin", "title": "CompositeDisposable() in Kotlin", "body": "<p>Whenever I try to run my program, it's crashing on <code>subscription = CompositeDisposable()</code>. I don't know what's the problem but when I run the same project directly importing from GitHub, it works fine and when I implement it in my own project like an activity which is called by onClickListener, it's crashing on subscription = CompositeDisposable().</p>\n\n<p>I'm attaching my Kotlin class, Gradle (app) and Gradle (project). I have mixed Kotlin with Java too but everything is working perfectly fine except this Kotlin class and I have called this Kotlin class from my Java class.</p>\n\n<p>This is the link of library i have imported and when solely run sample, it is running fine <a href=\"https://github.com/kibotu/Heart-Rate-Ometer\" rel=\"nofollow noreferrer\">https://github.com/kibotu/Heart-Rate-Ometer</a> </p>\n\n<p>Kotlin class:</p>\n\n<pre><code>import android.Manifest\nimport android.annotation.SuppressLint\nimport android.content.pm.PackageManager\nimport android.os.Bundle\nimport android.support.v4.app.ActivityCompat\nimport android.support.v4.content.ContextCompat\nimport android.support.v7.app.AppCompatActivity\nimport android.util.Log\nimport io.reactivex.disposables.CompositeDisposable\nimport kotlinx.android.synthetic.main.heartratemeter.*\nimport net.kibotu.heartrateometer.HeartRateOmeter\nimport net.kibotu.kalmanrx.jama.Matrix\nimport net.kibotu.kalmanrx.jkalman.JKalman\n\n\nclass Heartratemeter : AppCompatActivity() {\n\nvar subscription: CompositeDisposable? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.heartratemeter)\n\n}\n\nprivate fun startWithPermissionCheck() {\n    if (!hasPermission(Manifest.permission.CAMERA)) {\n        checkPermissions(REQUEST_CAMERA_PERMISSION, \nManifest.permission.CAMERA)\n        return\n    }\n\n    val kalman = JKalman(2, 1)\n\n    // measurement [x]\n    val m = Matrix(1, 1)\n\n    // transitions for x, dx\n    val tr = arrayOf(doubleArrayOf(1.0, 0.0), doubleArrayOf(0.0, 1.0))\n    kalman.transition_matrix = Matrix(tr)\n\n    // 1s somewhere?\n    kalman.error_cov_post = kalman.error_cov_post.identity()\n\n\n    val bpmUpdates = HeartRateOmeter()\n            .withAverageAfterSeconds(3)\n            .setFingerDetectionListener(this::onFingerChange)\n            .bpmUpdates(preview)\n            .subscribe({\n\n                if (it.value == 0)\n                    return@subscribe\n\n                m.set(0, 0, it.value.toDouble())\n\n                // state [x, dx]\n                val s = kalman.Predict()\n\n                // corrected state [x, dx]\n                val c = kalman.Correct(m)\n\n                val bpm = it.copy(value = c.get(0, 0).toInt())\n                Log.v(\"HeartRateOmeter\", \"[onBpm] ${it.value} =&gt; \n${bpm.value}\")\n                onBpm(bpm)\n            }, Throwable::printStackTrace)\n\n    subscription?.add(bpmUpdates)\n }\n\n @SuppressLint(\"SetTextI18n\")\n private fun onBpm(bpm: HeartRateOmeter.Bpm) {\n\n    // Log.v(\"HeartRateOmeter\", \"[onBpm] $bpm\")\n    label.text = \"$bpm bpm\"\n }\n\n private fun onFingerChange(fingerDetected: Boolean){\n\n    finger.text = \"$fingerDetected\"\n }\n\n // region lifecycle\n\n override fun onResume() {\n    super.onResume()\n    dispose()\n    //crashing on subscription = CompositeDisposable()\n    //subscription = null\n    subscription = CompositeDisposable()\n\n    startWithPermissionCheck()\n } \n\n override fun onPause() {\n    dispose()\n    super.onPause()\n }\n\n private fun dispose() {\n    if (subscription?.isDisposed == false)\n        subscription?.dispose()\n }\n\n // endregion\n\n // region permission\n\ncompanion object {\n    private val REQUEST_CAMERA_PERMISSION = 123\n}\n\nprivate fun checkPermissions(callbackId: Int, vararg permissionsId: String) \n{\n\n    when {\n        !hasPermission(*permissionsId) -&gt; try {\n            ActivityCompat.requestPermissions(this, permissionsId, \ncallbackId)\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n        }\n    }\n}\n\nprivate fun hasPermission(vararg permissionsId: String): Boolean {\n    var hasPermission = true\n\n    permissionsId.forEach { permission -&gt;\n        hasPermission = hasPermission\n                &amp;&amp; ContextCompat.checkSelfPermission(this, permission) == \nPackageManager.PERMISSION_GRANTED\n    }\n\n    return hasPermission\n}\n\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: \nArray&lt;String&gt;, grantResults: IntArray) {\n    when (requestCode) {\n        REQUEST_CAMERA_PERMISSION -&gt; {\n            if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == \nPackageManager.PERMISSION_GRANTED) {\n                startWithPermissionCheck()\n            }\n        }\n    }\n}\n}\n\n// endregion\n</code></pre>\n\n<p>gradle(app)</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'com.github.dcendents.android-maven'\n\nandroid {\ncompileSdkVersion 27\ndefaultConfig {\n    applicationId \"net.kabuto\"\n    minSdkVersion 16\n    targetSdkVersion 27\n    versionCode 4\n    versionName \"4.0\"\n\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\n\nbuildTypes {\n    release {\n        minifyEnabled true\n        shrinkResources true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), \n'proguard-rules.pro'\n    }\n}\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n    }\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.google.android.gms:play-services-maps:15.0.0'\nimplementation 'com.google.android.gms:play-services-location:15.0.0'\nimplementation 'com.google.android.gms:play-services-ads:15.0.0'\nimplementation 'com.android.support:appcompat-v7:27+'\nimplementation 'com.android.support:customtabs:27.1.1'\nimplementation 'com.android.support:recyclerview-v7:27+'\nimplementation 'com.android.support:animated-vector-drawable:27+'\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\nimplementation 'com.github.kibotu:Heart-Rate-Ometer:-SNAPSHOT'\nimplementation ('com.github.kibotu:KalmanRx:1.2.1') { transitive = true }\ncompileOnly \"com.squareup.retrofit2:retrofit:2.3.0\"\ncompileOnly \"com.squareup.retrofit2:adapter-rxjava2:2.3.0\"\nimplementation 'com.android.support:support-v4:27.1.1'\nimplementation 'com.android.support:support-media-compat:27.1.1'\nimplementation 'com.android.support.constraint:constraint-layout:1.1.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso- \ncore:3.0.2'\n\n\n}\nrepositories {\nmavenCentral() \n}\napply from: 'https://gist.githubusercontent.com/kibotu/994c9cc65fe623b76b76fedfac74b34b/raw/65ee52482ba65050e015f4b00d8d2fc9172a10e8/javadoc.gradle'\n</code></pre>\n\n<p>gradle(project)</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to \nall sub-projects/modules.\n\nbuildscript {\next.kotlin_version = '1.2.21'\n\n repositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.1'\n    classpath 'com.github.dcendents:android-maven-gradle-plugin:2.0'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath \"org.jetbrains.kotlin:kotlin-android- \nextensions:$kotlin_version\"\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n    maven { url \"https://jitpack.io\" }\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p>I'm new in Kotlin.</p>\n"}, {"tags": ["spring-boot", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1525090967, "post_id": 50095541, "comment_id": 87217409, "body": "Please post DemoApplicationKt file"}, {"owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "reply_to_user": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1525092777, "post_id": 50095541, "comment_id": 87218450, "body": "what do you mean ?"}, {"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1525094039, "post_id": 50095541, "comment_id": 87219233, "body": "Show your main class for starting spring boot"}, {"owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "reply_to_user": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1525094252, "post_id": 50095541, "comment_id": 87219386, "body": "@SangeetSuresh edited"}, {"owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "reply_to_user": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1525094735, "post_id": 50095541, "comment_id": 87219678, "body": "@SangeetSuresh Do you have any idea of creating a project with Kotlin and spring boot in IntelliJ?"}, {"owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1525094785, "post_id": 50095541, "comment_id": 87219701, "body": "Do you made any manipulations with example project from start.spring.io?"}, {"owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "reply_to_user": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1525094900, "post_id": 50095541, "comment_id": 87219770, "body": "@PeterSamokhin yes I&#39;d like to create a project Kotlin and spring boot by start.spring.io"}], "answers": [{"comments": [{"owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "edited": false, "score": 1, "creation_date": 1525096755, "post_id": 50101804, "comment_id": 87220969, "body": "when I do it shows this error ** Error: Could not find or load main class com.example.demo.DemoApplicationKt**"}, {"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "reply_to_user": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "edited": false, "score": 0, "creation_date": 1525097413, "post_id": 50101804, "comment_id": 87221343, "body": "@MohammadDaliri Please post your run configuration if you have any"}, {"owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "edited": false, "score": 0, "creation_date": 1525113816, "post_id": 50101804, "comment_id": 87229989, "body": "it&#39;s work fine. change direction source project to another folder and then run"}], "tags": [], "owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "is_accepted": true, "score": 2, "last_activity_date": 1525095719, "creation_date": 1525095719, "answer_id": 50101804, "question_id": 50095541, "link": "https://stackoverflow.com/questions/50095541/kotlin-and-spring-boot-error-in-intellij/50101804#50101804", "title": "kotlin and spring boot error in Intellij", "body": "<p>You can run the application by clicking the <strong>run button(play button)</strong> which is on the left side of the main class as shown in below picture.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YCede.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YCede.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you run like this, it will automatically create run configuration</p>\n"}], "owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1006, "favorite_count": 0, "accepted_answer_id": 50101804, "answer_count": 1, "score": 1, "last_activity_date": 1525095719, "creation_date": 1525072149, "last_edit_date": 1525094171, "question_id": 50095541, "link": "https://stackoverflow.com/questions/50095541/kotlin-and-spring-boot-error-in-intellij", "title": "kotlin and spring boot error in Intellij", "body": "<p>I'm creating a <code>Kotlin</code> project with <code>Spring boot</code> and <code>Gradle</code> project from<a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a></p>\n\n<p>When importing this project to IntelliJ and run the project(Alt+Shift+F10) then show this error</p>\n\n<pre><code>Error: Could not find or load main class com.example.demo.DemoApplicationKt\n</code></pre>\n\n<p>mainclass :</p>\n\n<pre><code>package com.example.demo\n\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.autoconfigure.SpringBootApplication\n\n@SpringBootApplication\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(DemoApplication::class.java, *args)\n}\n</code></pre>\n\n<p>How can I solve this problem? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1525072131, "post_id": 50094923, "comment_id": 87207233, "body": "Post your <code>build.gradle</code>"}, {"owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1525073028, "post_id": 50094923, "comment_id": 87207657, "body": "@ice1000 Which gradle do you want brother?App or Project?"}], "answers": [{"comments": [{"owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1525070817, "post_id": 50095032, "comment_id": 87206593, "body": "I tried this solution least 10 time.It&#39;s not working in this problem."}, {"owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "reply_to_user": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1525071589, "post_id": 50095032, "comment_id": 87206962, "body": "@KemalT&#252;rk You didn&#39;t mention that you&#39;ve tried this solution. So mention it in your question rather then downvoting answer"}, {"owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "reply_to_user": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1525071924, "post_id": 50095032, "comment_id": 87207132, "body": "@KemalT&#252;rk  I don&#39;t want to delete . you can leave it as it is."}], "tags": [], "owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "is_accepted": false, "score": -2, "last_activity_date": 1525069646, "creation_date": 1525069646, "answer_id": 50095032, "question_id": 50094923, "link": "https://stackoverflow.com/questions/50094923/failed-to-find-byte-code-for-java-util-function-biconsumer/50095032#50095032", "title": "Failed to find byte code for java/util/function/BiConsumer", "body": "<p>1) <strong>Clean</strong> Your Project </p>\n\n<p>2) <strong>Restart</strong> Your Android Studio with <strong>Invalidate cache and restart</strong></p>\n\n<p>3) <strong>Rebuild</strong> Your Project</p>\n"}, {"comments": [{"owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1525077222, "post_id": 50095827, "comment_id": 87209633, "body": "Thanks bro.I will convert the lambdas to interface for now."}], "tags": [], "owner": {"reputation": 1307, "user_id": 4681367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83a0416184c6ffe72aac807e2feac5ce?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel Briand", "link": "https://stackoverflow.com/users/4681367/lionel-briand"}, "is_accepted": false, "score": 0, "last_activity_date": 1525073610, "last_edit_date": 1525073610, "creation_date": 1525073289, "answer_id": 50095827, "question_id": 50094923, "link": "https://stackoverflow.com/questions/50094923/failed-to-find-byte-code-for-java-util-function-biconsumer/50095827#50095827", "title": "Failed to find byte code for java/util/function/BiConsumer", "body": "<p>BiConsumer is part of the Java 8 Platform and was introduce to Android in API 24. (<a href=\"https://developer.android.com/reference/java/util/function/BiConsumer\" rel=\"nofollow noreferrer\">reference</a>)</p>\n\n<p>When building your project to Java 8, kotlin lambda's are converted to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">Java 8 functional interfaces</a></p>\n\n<p>In your <code>build.gradle</code> app. Try compiling your project with Java 7</p>\n\n<pre><code>android {\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7\"\n}\n\nkotlinOptions {\n    jvmTarget = \"1.6\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "is_accepted": true, "score": 2, "last_activity_date": 1530798310, "last_edit_date": 1530798310, "creation_date": 1525086938, "answer_id": 50099377, "question_id": 50094923, "link": "https://stackoverflow.com/questions/50094923/failed-to-find-byte-code-for-java-util-function-biconsumer/50099377#50099377", "title": "Failed to find byte code for java/util/function/BiConsumer", "body": "<p>I found the problem.It's gradle bug.I downgraded gradle version to 3.0.0.It's compiling now.</p>\n\n<ul>\n<li>This bug is fixed in last version.You don't need downgrade.Just update your gradle version to last.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 1434361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb655119737863c9c793570dfc0c2e5b?s=128&d=identicon&r=PG", "display_name": "AntekM", "link": "https://stackoverflow.com/users/1434361/antekm"}, "is_accepted": false, "score": 0, "last_activity_date": 1530730943, "creation_date": 1530730943, "answer_id": 51179637, "question_id": 50094923, "link": "https://stackoverflow.com/questions/50094923/failed-to-find-byte-code-for-java-util-function-biconsumer/51179637#51179637", "title": "Failed to find byte code for java/util/function/BiConsumer", "body": "<p>It's bit late, but I found this bug when using Map.forEach standard method, and it accepts BiConsumer (in my case I didn't use it explicitly as I'm also developing in Kotlin, so I just  passed lambda with two parameters) </p>\n\n<p>And indeed it works ok with gradle plugin 3.0.0 - so it looks like some regression - for some reason it's missing from newer releases </p>\n"}], "owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "accepted_answer_id": 50099377, "answer_count": 4, "score": 0, "last_activity_date": 1530798310, "creation_date": 1525069095, "last_edit_date": 1525072101, "question_id": 50094923, "link": "https://stackoverflow.com/questions/50094923/failed-to-find-byte-code-for-java-util-function-biconsumer", "title": "Failed to find byte code for java/util/function/BiConsumer", "body": "<p>This problem happened on API 23.I think this is lambda conversion problem.\nI wrote listener functions like this:</p>\n\n<pre><code>fun read(child: String, onSuccess: (datas: List&lt;RestaurantModel&gt;) -&gt; Unit, onFailure: (errMsg: String) -&gt; Unit) {}\n</code></pre>\n\n<p>It's working great on API 27.I don't wanna write interface for this pattern.This lambdas more clean for me.Does anybody know the solution?</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesWithInstantRunForDebug'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\nat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\nat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\nat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Failed to find byte code for java/util/function/BiConsumer\nat com.android.builder.profile.Recorder$Block.handleException(Recorder.java:55)\nat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:104)\nat com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:212)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\nat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n... 32 more\nCaused by: com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Failed to find byte code for java/util/function/BiConsumer\nat com.android.build.gradle.internal.transforms.InstantRunTransform.doTransform(InstantRunTransform.java:312)\nat com.android.build.gradle.internal.transforms.InstantRunTransform.transform(InstantRunTransform.java:178)\nat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:221)\nat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:217)\nat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n... 48 more\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Failed to find byte code for java/util/function/BiConsumer\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\nat java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\nat java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:720)\nat com.android.ide.common.internal.WaitableExecutor.waitForTasksWithQuickFail(WaitableExecutor.java:146)\nat com.android.build.gradle.internal.transforms.InstantRunTransform.doTransform(InstantRunTransform.java:307)\n... 52 more\nCaused by: java.lang.RuntimeException: java.io.IOException: Failed to find byte code for java/util/function/BiConsumer\nat java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1431)\nat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\nat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\nat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\nat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\nCaused by: java.io.IOException: Failed to find byte code for java/util/function/BiConsumer\nat com.android.build.gradle.internal.incremental.AsmUtils.lambda$static$0(AsmUtils.java:89)\nat com.android.build.gradle.internal.incremental.AsmUtils.loadClass(AsmUtils.java:307)\nat com.android.build.gradle.internal.incremental.AsmUtils.readInterfaceHierarchy(AsmUtils.java:216)\nat com.android.build.gradle.internal.incremental.AsmUtils.readInterfaces(AsmUtils.java:251)\nat com.android.build.gradle.internal.incremental.AsmUtils.loadClass(AsmUtils.java:288)\nat com.android.build.gradle.internal.incremental.IncrementalVisitor.instrumentClass(IncrementalVisitor.java:342)\nat com.android.build.gradle.internal.transforms.InstantRunTransform.transformToClasses2Format(InstantRunTransform.java:406)\nat com.android.build.gradle.internal.transforms.InstantRunTransform.lambda$doTransform$3(InstantRunTransform.java:268)\nat com.android.build.gradle.internal.transforms.InstantRunTransform.lambda$null$4(InstantRunTransform.java:297)\nat java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "retrofit", "pojo"], "answers": [{"tags": [], "owner": {"reputation": 2774, "user_id": 3746306, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NRiba.jpg?s=128&g=1", "display_name": "Nilesh Deokar", "link": "https://stackoverflow.com/users/3746306/nilesh-deokar"}, "is_accepted": true, "score": 1, "last_activity_date": 1525069902, "creation_date": 1525069902, "answer_id": 50095088, "question_id": 50094911, "link": "https://stackoverflow.com/questions/50094911/how-do-i-set-the-value-in-listes-constructor-parameters-in-kotlin/50095088#50095088", "title": "How do i set the value in List&lt;E&gt;&#39;s constructor parameters in kotlin", "body": "<p>First up all you are using wrong naming convention for variables. <a href=\"http://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">Read more here.</a></p>\n\n<pre><code>fun getFilledData(account: Account): Account {\n\n    account.OrganizationName = \"name\"\n\n    val addresses = ArrayList&lt;Address&gt;()\n    for(i in 0..10){\n\n        //create and  insert your multiple addresses here\n        val address  = Address(i,\"name $i\",\"line1 $i\",\"line2 $i \",\"city $i\",\"locality $i\",\"state $i \", i)\n\n        addresses.add(address)\n    }\n    //assign list to account\n    account.Addresses = addresses\n\n    return account\n}\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 8127475, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Rsmsv.jpg?s=128&g=1", "display_name": "Keval Shukla", "link": "https://stackoverflow.com/users/8127475/keval-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 50095088, "answer_count": 1, "score": -1, "last_activity_date": 1525069902, "creation_date": 1525069017, "last_edit_date": 1525069223, "question_id": 50094911, "link": "https://stackoverflow.com/questions/50094911/how-do-i-set-the-value-in-listes-constructor-parameters-in-kotlin", "title": "How do i set the value in List&lt;E&gt;&#39;s constructor parameters in kotlin", "body": "<p>I have created a pojo class of <code>Account</code> in which there is an array of <code>Address</code> class. I want to set the value of <code>address</code>'s parameter from my main fragment. How do I able to set? Please look ahead my code of <code>Account</code> model, <code>Address</code> Model and main fragment where I set the data of account model.</p>\n\n<p>Account model (POJO)</p>\n\n<pre><code>class Account(\n          var OrganizationName: String?,\n          var Addresses: List&lt;Address&gt;?,) : Serializable {\n\nconstructor() : this(null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null)}\n</code></pre>\n\n<p>Address Model (POJO)</p>\n\n<pre><code>class Address(\nvar Id: Int?,\n\nvar Name: String?,\nvar AddressLine1: String?,\nvar AddressLine2: String?,\nvar City: String?,\nvar Locality: String?,\nvar State: String?,\nvar ZipCode: Int?,\n):Serializable\n</code></pre>\n\n<p>Main Fragment class where i set the details of Account and Address class parameters.</p>\n\n<pre><code>  class AccountDetailsFragment constructor\n  (onCheckChanged: OnCheckChanged, changeTabs: ChangeTabs) : BaseFragment() {override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.fragment_account_details, container, false)\n\n\n    return view\n}\n\n fun getFilledData(account: Account): Account {\n\n    account.OrganizationName = \"name\"\n\n    // How do i insert the value for address's parameters here.\n\n    return account\n\n\n}\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "date", "kotlin"], "comments": [{"owner": {"reputation": 746, "user_id": 6880632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca12ff8a1809e81ddeb9e498cf450ac?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil Parmar", "link": "https://stackoverflow.com/users/6880632/kapil-parmar"}, "edited": false, "score": 0, "creation_date": 1525069252, "post_id": 50094767, "comment_id": 87205923, "body": "try <a href=\"https://stackoverflow.com/q/19667473/6880632\">stackoverflow.com/q/19667473/6880632</a>"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1525073260, "post_id": 50094767, "comment_id": 87207772, "body": "Already have an answer: <a href=\"https://stackoverflow.com/a/19667994/5167909\">stackoverflow.com/a/19667994/5167909</a>"}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 0, "creation_date": 1525086379, "post_id": 50094767, "comment_id": 87214829, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19667473/how-to-show-milliseconds-in-dayshoursminseconds\">how to show milliseconds in days:hours:min:seconds</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4106398"}, "edited": false, "score": 0, "creation_date": 1525120254, "post_id": 50095654, "comment_id": 87232832, "body": "this works great.  How can I use the same code to also calculator the amount of days until the same date (like a birth date) that next happens?  for example, let&#39;s say &quot;birthdate&quot; variable is  3/30/2015.   Today&#39;s date is   3/25/2018.  I want to send a message that says &quot;birthdate is in 5 days!&quot;"}], "tags": [], "owner": {"reputation": 471, "user_id": 1905534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6f03644e3ffd2de983e7787268c16a9?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1905534/jacob"}, "is_accepted": true, "score": -1, "last_activity_date": 1525073184, "last_edit_date": 1525073184, "creation_date": 1525072593, "answer_id": 50095654, "question_id": 50094767, "link": "https://stackoverflow.com/questions/50094767/android-get-days-months-and-years-since-a-previous-date/50095654#50095654", "title": "Android - get Days, Months, and Years since a previous date", "body": "<p><code>Calendar</code> Object can resolve this problem</p>\n\n<pre><code>val msDiff = Calendar.getInstance().timeInMillis - oldCalendarDate.timeInMillis;\nval calDiff = Calendar.getInstance()\ncalDiff.timeInMillis = msDiff\nval msg = \"${calDiff.get(Calendar.YEAR) - 1970} year, ${calDiff.get(Calendar.MONTH)} months, $calDiff.get(Calendar.DAY_OF_MONTH)} days\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 676, "user_id": 8385855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce14837dde7305624fc05dd3be2c3588?s=128&d=identicon&r=PG&f=1", "display_name": "Janvi Vyas", "link": "https://stackoverflow.com/users/8385855/janvi-vyas"}, "is_accepted": false, "score": -1, "last_activity_date": 1525074280, "last_edit_date": 1525074280, "creation_date": 1525073185, "answer_id": 50095801, "question_id": 50094767, "link": "https://stackoverflow.com/questions/50094767/android-get-days-months-and-years-since-a-previous-date/50095801#50095801", "title": "Android - get Days, Months, and Years since a previous date", "body": "<p>You try this code,</p>\n\n<pre><code> long different = your today date - your previous date;\n     // take both dates in date format.\n\n        long secondsInMilli = 1000;\n        long minutesInMilli = secondsInMilli * 60;\n        long hoursInMilli = minutesInMilli * 60;\n        long daysInMilli = hoursInMilli * 24;\n        long mothsInMilli = daysInMilli * 30;\n        long yearInMilli = mothsInMilli * 12;\n\n        long elapsedYear = different / yearInMilli;\n        different = different % yearInMilli;\n        long diffYear = elapsedYear;\n        Log.d(\"\", \"difference of years : \" + diffYear);\n\n        long elapsedMonths = different / mothsInMilli;\n        different = different % mothsInMilli;\n        long diffMonth = elapsedMonths;\n        Log.d(\"\", \"difference of Months : \" + diffMonth);\n\n        long elapsedDays = different / daysInMilli;\n        different = different % daysInMilli;\n        long diffDays = elapsedDays;\n        Log.d(\"\", \"difference of Days : \" + diffDays);\n</code></pre>\n\n<p>Using this code I got proper difference, It may helps you also. Show below, <strong>I had two dates</strong>:</p>\n\n<p><strong>pastdate::</strong><code>Mon Mar 26 13:06:52 GMT+05:30 2018</code></p>\n\n<p><strong>todayDate::</strong><code>Mon Apr 30 13:06:52 GMT+05:30 2018</code></p>\n\n<p><strong>I got difference of month,year and days like below:-</strong></p>\n\n<pre><code>    difference of Years : 0\n    difference of Months : 1\n    difference of Days : 4\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4106398"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 0, "accepted_answer_id": 50095654, "answer_count": 2, "score": 1, "last_activity_date": 1525075578, "creation_date": 1525068119, "last_edit_date": 1525075578, "question_id": 50094767, "link": "https://stackoverflow.com/questions/50094767/android-get-days-months-and-years-since-a-previous-date", "title": "Android - get Days, Months, and Years since a previous date", "body": "<p>How in Android can I get and display the number of days, months, and years since a date?</p>\n\n<p>For example, let's say the previous date is:</p>\n\n<pre><code>02/02/2017\n</code></pre>\n\n<p>and today's date is:</p>\n\n<pre><code>04/30/2018\n</code></pre>\n\n<p>I would want it to say something like:</p>\n\n<pre><code>1 year, 2 months, 28 days\n</code></pre>\n\n<p>I think I need to get total days like so:</p>\n\n<pre><code>long msDiff = Calendar.getInstance().getTimeInMillis() - oldCalendarDate.getTimeInMillis();\nlong daysDiff = TimeUnit.MILLISECONDS.toDays(msDiff);\n</code></pre>\n\n<p>but how do I convert the amount of days to be legible as years, months, and days? Keeping in mind that not all months have 31 days.</p>\n\n<p>Because this way, I am only getting</p>\n\n<pre><code>452 days\n</code></pre>\n\n<p>As the result. But I want it to be more like 1 year, 2 months, 28 days.</p>\n\n<p>Is there a better solution?</p>\n\n<p>Also I want to get the old date like so in a variable:</p>\n\n<pre><code>val oldCalendarDate = GregorianCalendar(2017, 3, 30).time\n</code></pre>\n\n<p>but it's not working at all with the above code. Yes I'm aware that variable is in kotlin because I'm working in kotlin so pardon the syntax. I think the more issue about this is how the integers are formatted. I already converted the other java code to kotlin but I posted it as java for this post since more people are familiar with java.</p>\n"}, {"tags": ["generics", "inheritance", "casting", "kotlin", "warnings"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1525061181, "post_id": 50093346, "comment_id": 87203680, "body": "Good question. This shows the weakness of Java&#39;s (as well as Kotlin&#39;s) type system. <code>typeclass</code> resolves this."}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 8038667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eca448c9871d92ffacbf48f0e7cce8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Lisoway", "link": "https://stackoverflow.com/users/8038667/mark-lisoway"}, "edited": false, "score": 0, "creation_date": 1525063344, "post_id": 50093787, "comment_id": 87204157, "body": "Ah, I see the issue now. You can&#39;t do type checking generics though (not that it would help this issue). Is manually making sure I don&#39;t make those generic type erros a reasonable path to take? Or do you know if there is a known solution to get around this problem?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 387, "user_id": 8038667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eca448c9871d92ffacbf48f0e7cce8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Lisoway", "link": "https://stackoverflow.com/users/8038667/mark-lisoway"}, "edited": false, "score": 0, "creation_date": 1525063485, "post_id": 50093787, "comment_id": 87204187, "body": "This shows the weakness of Java&#39;s (as well as Kotlin&#39;s) type system. <code>typeclass</code> (a language feature, Haskell/Scala have this) resolves this. Take a look at <a href=\"https://stackoverflow.com/q/47861636/7083401\">my old question</a> which is looking for the similar stuff."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 1, "last_activity_date": 1525061076, "creation_date": 1525061076, "answer_id": 50093787, "question_id": 50093346, "link": "https://stackoverflow.com/questions/50093346/unchecked-cast-of-generic-class-type-ide-warning/50093787#50093787", "title": "Unchecked cast of generic class type IDE warning", "body": "<p>The warning is correct. Because you may fill the generic parameter with an evil argument like this:</p>\n\n<pre><code>class ClassC : ClassA&lt;ClassB&gt;()\n</code></pre>\n\n<p>Now you can produce a <code>ClassCastException</code> simply by calling <code>fooA</code> on <code>ClassC</code>:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val fooA = ClassC().fooA()\n}\n</code></pre>\n\n<p>This is why <code>fooA</code> is unsafe.</p>\n\n<p>Such kind of error cannot be detected at compile time, and this is why the warning is there.</p>\n\n<p>Of course, you can manually ensure your code doesn't fill the generic parameter the wrong way and suppress the warning.</p>\n"}], "owner": {"reputation": 387, "user_id": 8038667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eca448c9871d92ffacbf48f0e7cce8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Lisoway", "link": "https://stackoverflow.com/users/8038667/mark-lisoway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 50093787, "answer_count": 1, "score": 1, "last_activity_date": 1525061076, "creation_date": 1525056375, "question_id": 50093346, "link": "https://stackoverflow.com/questions/50093346/unchecked-cast-of-generic-class-type-ide-warning", "title": "Unchecked cast of generic class type IDE warning", "body": "<p>For simplification, I have these two classes:</p>\n\n<pre><code>abstract class ClassA&lt;T&gt; where T : ClassA&lt;T&gt; {\n    fun fooA(): T {\n        //Do stuff\n        return this as T //&lt;-- Cast warning happens here\n    }\n}\n\nopen class ClassB : ClassA&lt;ClassB&gt;() {\n    fun fooB(): ClassB {\n        //Do stuff\n        return this\n    }\n}\n</code></pre>\n\n<p>That line that I have marked in the fooA function gets flagged by IntelliJ with this warning: \n<code>\"Unchecked cast: ClassA&lt;T&gt; to T\"</code>. Unless I am missing something, the way I have the classes setup should make it impossible for for the return type in function fooA to not be a child of ClassA meaning the cast check would be redundant. Or at least I can't see a way in which fooA could attempt to cast ClassA to something that is not a child of it. Am I missing something, or am I OK to suppress the warning?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "recyclerview-layout"], "comments": [{"owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "edited": false, "score": 2, "creation_date": 1525048606, "post_id": 50092575, "comment_id": 87201490, "body": "I think you might be doing something wrong in how you are notifying the adapter of changed data. Can you add your <code>RecyclerView</code> and fetching image code?"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525061631, "post_id": 50092575, "comment_id": 87203787, "body": "Constraint layout breaks when being used in a recycler view. You can verify this easily with a simple very simple case. I filed an issue, which was fixed very quickly (can&#39;t find the link right now). This MIGHT be your problem. Try updating your constraint layout dependency. If that doesn&#39;t resolve the problem, you might have to use a different view group."}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 7035616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3e8b0a02f641edc0999fc1b99967fb?s=128&d=identicon&r=PG&f=1", "display_name": "Rofaeil Ashaiaa", "link": "https://stackoverflow.com/users/7035616/rofaeil-ashaiaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1534043328, "last_edit_date": 1534043328, "creation_date": 1534042999, "answer_id": 51805341, "question_id": 50092575, "link": "https://stackoverflow.com/questions/50092575/how-to-fix-recyclerviews-staggeredgridlayoutmanager-on-scrolling-separates-the/51805341#51805341", "title": "How to fix RecyclerView&#39;s StaggeredGridLayoutManager on scrolling separates the content and fly randomly", "body": "<p>I faced a similar problem, I was using textview inside Constraint layout.</p>\n\n<p>Constraint layout breaks when used in a recycler view and what fixed my problem (as @AutonomousApps mentioned in the comments):</p>\n\n<p>I just updated Constraint layout version ( to the latest stable version at the moment) from <strong>1.0.1</strong> to <strong>1.1.1</strong>.</p>\n\n<p><strong>So if you are using Constraint layout just update to the latest stable version and this maybe will fix your problem!</strong></p>\n\n<p>(see below images for screenshots)</p>\n\n<p><a href=\"https://i.stack.imgur.com/4RJzf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4RJzf.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>unexpected behaviour</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/Lk5r1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lk5r1.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>after updated constraint layout version</em></p>\n"}], "owner": {"reputation": 735, "user_id": 1399144, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/638e1af0fcc79a44d6176a260bdacdc7?s=128&d=identicon&r=PG", "display_name": "Sukanta Paul", "link": "https://stackoverflow.com/users/1399144/sukanta-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534043328, "creation_date": 1525047746, "last_edit_date": 1525049017, "question_id": 50092575, "link": "https://stackoverflow.com/questions/50092575/how-to-fix-recyclerviews-staggeredgridlayoutmanager-on-scrolling-separates-the", "title": "How to fix RecyclerView&#39;s StaggeredGridLayoutManager on scrolling separates the content and fly randomly", "body": "<p>I was trying to fetch remote images which I've an API and display it in a Masonry Grid (Pinterest Style).</p>\n\n<p>At first I was using simple GridView it was working perfectly but without the Masonry style. Then, after various research I was finally using:</p>\n\n<ol>\n<li><code>Fresco</code> to fetch Image &amp; Cache</li>\n<li><code>RecyclerView</code> with <code>StaggeredGridLayoutManager</code> to display the images from the API.</li>\n<li>Custom layout with <code>SimpleDraweeView</code> to display each item.</li>\n<li>My own custom Adapter \"MasonryAdapter\" to bind the data to the view.</li>\n</ol>\n\n<p>In the Custom layout, I set SimpleDraweeView with:</p>\n\n<pre><code>layout_with = match_parent\nlayout_height = wrap_content\n</code></pre>\n\n<p>Then, in my adapter I've set the correct aspect ratio to each of the image, as in my API I can get the images' width &amp; height easily.</p>\n\n<pre><code>holder.contentImage.aspectRatio = image.width.toFloat() / image.height.toFloat()\n</code></pre>\n\n<p>Though at first moment everything looked acceptable but after scrolling I found everything breaks apart. I'm very new to <code>Android</code> &amp; <code>Kotlin</code>, please ask if you need anything. Here I'm attaching a GIF to what is happening.</p>\n\n<p><img src=\"https://im2.ezgif.com/tmp/ezgif-2-eacf417a99.gif\" alt=\"Preview\"></p>\n\n<p>If image removed please check it here: <a href=\"https://ibb.co/dy0EjH\" rel=\"nofollow noreferrer\">https://ibb.co/dy0EjH</a></p>\n"}, {"tags": ["arrays", "json", "kotlin", "spring-restdocs"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1525796290, "post_id": 50090870, "comment_id": 87493494, "body": "I&#39;ve not used spring-restdocs. Does <code>fieldWithPath(&quot;0&quot;).description(&quot;current timestamp&quot;)</code> work? In JavaScript each array element is accessible like any other property using <code>&quot;0&quot;</code>, <code>&quot;1&quot;</code>, <code>&quot;2&quot;</code>, ..., <code>&quot;${n}&quot;</code>... but this isn&#39;t JavaScript. :-) If <code>&quot;0&quot;</code> doesn&#39;t work I wonder if <code>&quot;[0]&quot;</code> works..."}, {"owner": {"reputation": 929, "user_id": 1942642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074c1726aee7c73df923c3d5064ab861?s=128&d=identicon&r=PG", "display_name": "Pedro Tavares", "link": "https://stackoverflow.com/users/1942642/pedro-tavares"}, "edited": false, "score": 1, "creation_date": 1525863430, "post_id": 50090870, "comment_id": 87520403, "body": "Do you have control of the API response? Why don&#39;t you return a proper object instead of an array with the device settings?"}, {"owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "edited": false, "score": 0, "creation_date": 1525863619, "post_id": 50090870, "comment_id": 87520510, "body": "Unfortunately I can&#39;t control this, that&#39;s why I need to document response even more precisely"}], "answers": [{"tags": [], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "is_accepted": true, "score": 0, "last_activity_date": 1540298786, "creation_date": 1540298786, "answer_id": 52949466, "question_id": 50090870, "link": "https://stackoverflow.com/questions/50090870/document-each-element-of-an-array-using-spring-restdocs/52949466#52949466", "title": "Document each element of an array using spring-restdocs", "body": "<p>Ok, it turns that be fairly easy:</p>\n\n<pre><code>        responseFields(\n            fieldWithPath(\"[0]\").description(\"Current timestamp\"),\n            fieldWithPath(\"[1]\").description(\"Device mode\"),\n            fieldWithPath(\"[2]\").description(\"Device parameter\")\n        ),\n</code></pre>\n"}], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 2, "accepted_answer_id": 52949466, "answer_count": 1, "score": 4, "last_activity_date": 1540298786, "creation_date": 1525032896, "last_edit_date": 1526254436, "question_id": 50090870, "link": "https://stackoverflow.com/questions/50090870/document-each-element-of-an-array-using-spring-restdocs", "title": "Document each element of an array using spring-restdocs", "body": "<p>I'm having a response which is an json array. Each element has it's meaning and I would be able to describe it.</p>\n\n<p>My array:</p>\n\n<pre><code>[\"1525032694\",\"300\",\"true\"]\n</code></pre>\n\n<p>I've found an example in the documentation that describes an array and each element which is the same:</p>\n\n<p><a href=\"https://docs.spring.io/spring-restdocs/docs/current/reference/html5/#documenting-your-api-request-response-payloads-fields-reusing-field-descriptors\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-restdocs/docs/current/reference/html5/#documenting-your-api-request-response-payloads-fields-reusing-field-descriptors</a></p>\n\n<p>But I would like to know how I can describe each of it as:</p>\n\n<p><code>current timestamp</code>, <code>seconds to next measurement</code>, <code>should perform fota</code></p>\n\n<p>My current test:</p>\n\n<pre><code>webTestClient.post().uri(\"/api//measurement/${SampleData.deviceId}\")\n    .syncBody(SampleData.sampleMeasurement())\n    .exchange()\n    .expectStatus()\n    .isOk\n        .expectBody()\n        .consumeWith(document(\"add-measurement\", responseFields(\n                fieldWithPath(\"[]\")\n                        .description(\"An array of device settings\"))\n        ))\n</code></pre>\n"}, {"tags": ["kotlin", "spring-data-mongodb", "project-reactor", "mongotemplate"], "answers": [{"comments": [{"owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "edited": false, "score": 0, "creation_date": 1525091059, "post_id": 50091171, "comment_id": 87217457, "body": "You could use defaultIfEmpty to directly return the value"}], "tags": [], "owner": {"reputation": 46, "user_id": 9616222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b88373e0bbac8aaeff7c479c0dca38fb?s=128&d=identicon&r=PG&f=1", "display_name": "adrian256", "link": "https://stackoverflow.com/users/9616222/adrian256"}, "is_accepted": true, "score": 3, "last_activity_date": 1525035059, "creation_date": 1525035059, "answer_id": 50091171, "question_id": 50090736, "link": "https://stackoverflow.com/questions/50090736/reactivemongotemplate-findone-for-non-existing-element-does-not-get-called/50091171#50091171", "title": "ReactiveMongoTemplate findOne for non-existing element does not get called", "body": "<p>Reactor does not use nulls in streams and <code>fineOne</code> should return empty mono when there is no result. In your case you should use \n<code>switchIfEmpty</code> operator</p>\n\n<p><code>template.findOne(...)\n  .map { listOf(...) }\n  .switchIfEmpty(Mono.just(defaultSettings(clock))\n</code></p>\n"}], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 957, "favorite_count": 0, "accepted_answer_id": 50091171, "answer_count": 1, "score": 0, "last_activity_date": 1525035059, "creation_date": 1525031994, "question_id": 50090736, "link": "https://stackoverflow.com/questions/50090736/reactivemongotemplate-findone-for-non-existing-element-does-not-get-called", "title": "ReactiveMongoTemplate findOne for non-existing element does not get called", "body": "<p>I'm trying to obtain one document from collection. Document might not exist, and in case of <code>null</code> I wan to return default value.</p>\n\n<p>My query and transformation:</p>\n\n<pre><code>    return template.findOne(Query().addCriteria(Criteria.where(\"id\")), DeviceSettings::class.java)\n            .map {\n                when (it) {\n                    null -&gt; {\n                        defaultSettings(clock)\n                    }\n                    else -&gt; {\n                        listOf(\n                                Instant.now(clock).toString(),\n                                it.nextMeasurement.toString(),\n                                it.shouldUpdateFirmware.toString()\n                        )\n                    }\n                }\n\n            }\n}\n</code></pre>\n\n<p>Unfortunately above map transformation does not get called.</p>\n\n<p>When I simplify call to simple callable it gets called:</p>\n\n<pre><code>    return Mono.fromCallable({\n        defaultSettings(clock)\n    })\n</code></pre>\n"}, {"tags": ["java", "plugins", "kotlin", "minecraft", "bukkit"], "answers": [{"tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": true, "score": 1, "last_activity_date": 1525036950, "creation_date": 1525036950, "answer_id": 50091448, "question_id": 50090051, "link": "https://stackoverflow.com/questions/50090051/how-can-i-redirect-portals-to-the-correct-world-in-a-spigot-bukkit-plugin/50091448#50091448", "title": "How can I redirect portals to the correct world in a Spigot/Bukkit plugin?", "body": "<p>Take a look at <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/player/PlayerPortalEvent.html\" rel=\"nofollow noreferrer\">PlayerPortalEvent</a>, and do something like this (answering in Kotlin as you tagged it in your question):</p>\n\n<pre><code>@EventHandler\nfun onPortalEvent(e: PlayerPortalEvent) {\n    if (e.from == X) { //Where X is the location that you know the player is, use the world name or whatever you need\n        e.setTo(Y) //Where Y is the location you want the TP to go to\n    }\n}\n</code></pre>\n\n<p>It might be enough for you.</p>\n\n<ol>\n<li>Get a Portal Event</li>\n<li>Verify if the <code>from</code> location is from the world/portal you want to check</li>\n<li>Set the destination to wherever you want</li>\n</ol>\n"}], "owner": {"reputation": 160, "user_id": 8042056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0de0bedb7dda99a2781878e1e0b7d8e?s=128&d=identicon&r=PG", "display_name": "TheLukeGuy", "link": "https://stackoverflow.com/users/8042056/thelukeguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 50091448, "answer_count": 1, "score": -1, "last_activity_date": 1525036950, "creation_date": 1525027406, "question_id": 50090051, "link": "https://stackoverflow.com/questions/50090051/how-can-i-redirect-portals-to-the-correct-world-in-a-spigot-bukkit-plugin", "title": "How can I redirect portals to the correct world in a Spigot/Bukkit plugin?", "body": "<p>I'm working on a Spigot world management plugin (a rewrite of a current one of mine) and I need to redirect nether and end portals to the correct world. I'm all done with every part of the plugin besides this one. Here are a couple examples of what I need.</p>\n\n<p>If you're in the <em>plotworld</em> world and you enter a nether portal, you should go to <em>plotworld_nether</em>.</p>\n\n<p>If you're in the <em>myworld_the_end</em> world and you enter the end portal to go back, you should go to <em>myworld</em>.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1525021920, "post_id": 50089249, "comment_id": 87194426, "body": "<code>c</code> and <code>d</code> are strings, why do you expect them to be passable as <code>Int</code>s? Use <code>parseInt</code>, or <code>string.toInt</code>."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1525022292, "creation_date": 1525022292, "answer_id": 50089313, "question_id": 50089249, "link": "https://stackoverflow.com/questions/50089249/type-mismatch-inferred-type-is-string-but-int-was-expected/50089313#50089313", "title": "Type mismatch: inferred type is String but Int was expected", "body": "<p>You're passing <code>String</code>s to a method that only takes <code>Int</code>s. Fix with <code>toInt()</code>:</p>\n\n<pre><code>division(c.toInt(), d.toInt())\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8823037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fde6ba6fae32923dc653f7b73bb4d118?s=128&d=identicon&r=PG", "display_name": "user8823037", "link": "https://stackoverflow.com/users/8823037/user8823037"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5098, "favorite_count": 0, "accepted_answer_id": 50089313, "answer_count": 1, "score": 0, "last_activity_date": 1525022292, "creation_date": 1525021872, "question_id": 50089249, "link": "https://stackoverflow.com/questions/50089249/type-mismatch-inferred-type-is-string-but-int-was-expected", "title": "Type mismatch: inferred type is String but Int was expected", "body": "<pre><code>fun main(args:Array&lt;String&gt;)\n{\n    println(\"Enter values of c and d\")\n    var c:String= readLine()!!\n    var d:String= readLine()!!\n    try \n   {\n       division(c,d)\n    } catch (e:Exception)\n     {\n       println(\"Exception Occured\")\n       e.printStackTrace()\n     }\n}\n\nfun division(a:Int,b:Int){\n    println(a/b)\n\n}\n</code></pre>\n\n<p>Error:(6, 17) Kotlin: Type mismatch: inferred type is String but Int was expected\n        Error:(6, 19) Kotlin: Type mismatch: inferred type is String but Int was expected</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-livedata", "android-viewmodel"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525029548, "post_id": 50089167, "comment_id": 87196884, "body": "Please show some view model code."}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525029597, "post_id": 50089167, "comment_id": 87196900, "body": "One thing to note is that, whenever you subscribe to a live data, you&#39;ll immediately get the last value set on it, almost as if it&#39;s an rx Java BehaviorSubject."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1525064195, "post_id": 50089167, "comment_id": 87204359, "body": "post <code>LivaData&lt;NetworkViewState&gt; coinDayAveragePrice = ...</code> source code"}, {"owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1525067928, "post_id": 50089167, "comment_id": 87205493, "body": "@pskink updated the question and added some more code, thanks!"}, {"owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "reply_to_user": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525067970, "post_id": 50089167, "comment_id": 87205510, "body": "@AutonomousApps yes now I see, the problem here is that I&#39;m subscribing again and thus I&#39;m receiving the previous result right when subscribing, and what&#39;s messing things up"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525068358, "post_id": 50089167, "comment_id": 87205648, "body": "I honestly feel like you&#39;re misusing the framework a bit (no offense, it&#39;s easy to do!). Try describing exactly what you&#39;re trying to accomplish, in normal language, and then maybe the code to implement that will fall out naturally."}, {"owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "reply_to_user": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525069282, "post_id": 50089167, "comment_id": 87205933, "body": "@AutonomousApps none taken ofc I really appreciate the help! indeed I might be misusing the framework, but in this case, how do people make a dynamic amount of requests through a ViewModel? creating a LiveData per request dynamically and observing them? P.S.: <code>SingleLiveEvent</code> class doesn&#39;t work either :("}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525070351, "post_id": 50089167, "comment_id": 87206383, "body": "Intuitively, I feel that your views should not be directly observing your live data. Since you have an arbitrary number of views hosted by a fragment, I think you should consider your fragment to be the controller and it should basically mediate between your views and your view model. Maybe another way to state it is your view model should expose an onClick function. Your views call that. Your fragment observes the live data and changes the state of all your views as necessary."}], "answers": [{"tags": [], "owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "is_accepted": true, "score": 0, "last_activity_date": 1525030027, "creation_date": 1525030027, "answer_id": 50090472, "question_id": 50089167, "link": "https://stackoverflow.com/questions/50089167/android-viewmodel-onchanged-called-when-data-isnt-changed/50090472#50090472", "title": "Android ViewModel onChanged called when data isn&#39;t changed", "body": "<p>So, without seeing your <code>ViewModel</code>, it's hard to be sure exactly what the problem is, but I think it's what I indicated in my comment. In that case, one solution is to use a different kind of <code>LiveData</code>. I got this basic idea from a blog post (don't remember the link :-/), but here's the class:</p>\n\n<pre><code>private const val TAG = \"SingleLiveData\"\n\n/**\n * A lifecycle-aware observable that sends only new updates after subscription, used for events like\n * navigation and Snackbar messages.\n *\n * This avoids a common problem with events: on configuration change (like rotation) an update\n * can be emitted if the observer is active. This LiveData only calls the observable if there's an\n * explicit call to setValue() or call().\n *\n * Note that only one observer is going to be notified of changes.\n */\nopen class SingleLiveData&lt;T&gt; : MutableLiveData&lt;T&gt;() {\n\n    private val pending = AtomicBoolean(false)\n\n    @MainThread\n    override fun observe(owner: LifecycleOwner, observer: Observer&lt;T&gt;) {\n        if (hasActiveObservers()) {\n            Logger.w(TAG, \"Multiple observers registered but only one will be notified of changes.\")\n        }\n\n        // Observe the internal MutableLiveData\n        super.observe(owner, wrapObserver(observer))\n    }\n\n    @MainThread\n    override fun observeForever(observer: Observer&lt;T&gt;) {\n        if (hasActiveObservers()) {\n            Logger.w(TAG, \"Multiple observers registered but only one will be notified of changes.\")\n        }\n        super.observeForever(wrapObserver(observer))\n    }\n\n    private fun wrapObserver(observer: Observer&lt;T&gt;): Observer&lt;T&gt; {\n        return Observer {\n            if (pending.compareAndSet(true, false)) {\n                observer.onChanged(it)\n            }\n        }\n    }\n\n    @MainThread\n    override fun setValue(t: T?) {\n        pending.set(true)\n        super.setValue(t)\n    }\n\n    /**\n     * Used for cases where T is Void, to make calls cleaner.\n     */\n    @MainThread\n    fun call() {\n        value = null\n    }\n}\n</code></pre>\n\n<p>Obviously, one problem with this is that it won't permit multiple observers of the same live data. However, if you require that, hopefully this class will give you some ideas.</p>\n"}], "owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 1, "accepted_answer_id": 50090472, "answer_count": 1, "score": 1, "last_activity_date": 1525067900, "creation_date": 1525021295, "last_edit_date": 1525067900, "question_id": 50089167, "link": "https://stackoverflow.com/questions/50089167/android-viewmodel-onchanged-called-when-data-isnt-changed", "title": "Android ViewModel onChanged called when data isn&#39;t changed", "body": "<p>I have a <code>Fragment</code>, with a dynamic number of a custom views, consisting in an <code>EditText</code> and a <code>Button</code>. What I do is that every time the user types a price in the <code>EditText</code> and clicks the <code>Button</code>, I make an API request through a ViewModel, and my <code>Fragment</code> observes the <code>LiveData</code> in the <code>ViewModel</code>.</p>\n\n<p>So far so good, when I use the first custom view. The problem comes on the second one (and the third), because the <code>onChanged()</code> method is apparently called even tho the data has not changed, and the second and the third custom views are listening to that data, so they change when they are NOT the ones triggering the data change (they receive the data change from the first one).</p>\n\n<p>When the user clicks on the <code>Button</code>, the way I observe and fetch the price is this:</p>\n\n<pre><code>val observer = Observer&lt;NetworkViewState&gt; { networkViewState -&gt;\n            processResponse(networkViewState, moneySpent, coin, date)\n        }\n        boardingHistoricalPriceViewModel.coinDayAveragePrice.observe(this, observer)\n        boardingHistoricalPriceViewModel.getDayAveragePrice(coin.symbol,\n                addedCoinDatePriceView.selectedSpinnerItem, dateInMillis)\n</code></pre>\n\n<p>and what is happening is that the method <code>processResponse</code> gets called when the second custom view triggered the API request, but the result I receive is the one that <code>coinDayAveragePrice</code> has before the API response arrives (this is the value after the first API response from the first custom view has arrived).</p>\n\n<p>This is part of my <code>ViewModel</code>:</p>\n\n<pre><code>val coinDayAveragePrice: MutableLiveData&lt;NetworkViewState&gt; = MutableLiveData()\n\nfun getDayAveragePrice(symbol: String, currency: String, dateInMillis: Long) {\n    coinRepository\n            .getDayAverage(symbol, currency, \"MidHighLow\", dateInMillis)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .doOnSubscribe { coinDayAveragePrice.postValue(NetworkViewState.Loading()) }\n            .subscribeBy(onSuccess = {\n                coinDayAveragePrice.postValue(NetworkViewState.Success(it))\n            }, onError = { throwable -&gt;\n                coinDayAveragePrice.postValue(NetworkViewState.Error(throwable.localizedMessage))\n            })\n}\n</code></pre>\n\n<p><code>NetworkViewState</code> is just a <code>sealed class</code> meant as a wrapper for a response of an API request:</p>\n\n<pre><code>sealed class NetworkViewState {\nclass Loading : NetworkViewState()\nclass Success&lt;out T&gt;(val item: T) : NetworkViewState()\nclass Error(val errorMessage: String?) : NetworkViewState()\n</code></pre>\n\n<p>}</p>\n\n<p>I have also tried to unsubscribe or to set the <code>coinDayAveragePrice</code> to null, but still I have the same problem.</p>\n\n<p>Thanks a lot in advance!</p>\n"}, {"tags": ["android", "compiler-errors", "kotlin", "android-databinding"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7627726"}, "edited": false, "score": 0, "creation_date": 1525034409, "post_id": 50088286, "comment_id": 87198342, "body": "Please post your error in text, not an external image"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9715574, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "DevWM", "link": "https://stackoverflow.com/users/9715574/devwm"}, "edited": false, "score": 0, "creation_date": 1525026994, "post_id": 50088854, "comment_id": 87196087, "body": "I have just solved my problem in other way but thank you for suggestions."}], "tags": [], "owner": {"reputation": 359, "user_id": 9194489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49276866069cf6135a18ed8e7a1287a7?s=128&d=identicon&r=PG&f=1", "display_name": "Mateo", "link": "https://stackoverflow.com/users/9194489/mateo"}, "is_accepted": false, "score": 0, "last_activity_date": 1525019289, "creation_date": 1525019289, "answer_id": 50088854, "question_id": 50088286, "link": "https://stackoverflow.com/questions/50088286/how-to-resolve-errors-with-the-configuration-of-task-appkaptdebugkotlin/50088854#50088854", "title": "How to resolve errors with the configuration of task &#39;:app:kaptDebugKotlin&#39;?", "body": "<p>Not sure exactly what your error is pointing to, but looks like there's already a <code>SeekbarBindingAdapter</code> defined in the library, so you probably don't need to define your own. If you want to update things when <code>progress</code> changes, override <code>set</code> or use <code>ObservableInt</code> with an <code>OnPropertyChangedCallback</code> </p>\n"}, {"comments": [{"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 0, "creation_date": 1525086652, "post_id": 50089967, "comment_id": 87214966, "body": "Mark your answer as solution to close the question please :)"}], "tags": [], "owner": {"reputation": 21, "user_id": 9715574, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "DevWM", "link": "https://stackoverflow.com/users/9715574/devwm"}, "is_accepted": true, "score": 1, "last_activity_date": 1525026908, "creation_date": 1525026908, "answer_id": 50089967, "question_id": 50088286, "link": "https://stackoverflow.com/questions/50088286/how-to-resolve-errors-with-the-configuration-of-task-appkaptdebugkotlin/50089967#50089967", "title": "How to resolve errors with the configuration of task &#39;:app:kaptDebugKotlin&#39;?", "body": "<p>I solved this error in this way </p>\n\n<p>Updated viewModel\n`</p>\n\n<pre><code>var progress:Int=mBeatBox.mRange.toInt()\n@Bindable set(value){field=value;notifyChange()}\n@Bindable get()=field\n\nfun getEditListener():SeekBar.OnSeekBarChangeListener{\nvar listener=object: SeekBar.OnSeekBarChangeListener{\n        override fun onProgressChanged(seekBar: SeekBar?, Progress: Int, fromUser: Boolean) {\n            progress=Progress\n            mBeatBox.mRange=(progress/66.67).toFloat()\n        }\n        override fun onStartTrackingTouch(seekBar: SeekBar?) {\n        }\n        override fun onStopTrackingTouch(seekBar: SeekBar?) {\n        }\n    }\n    return listener\n}`\n</code></pre>\n\n<p>And View looks like: </p>\n\n<pre><code> &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:text=\"progress\"\n        android:gravity=\"center\"\n        android:layout_weight=\"9\"\n        android:text=\"@{String.valueOf(viewModel.progress)}\"/&gt;\n    &lt;android.support.v7.widget.AppCompatSeekBar\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"9\"\n        app:OnSeekBarChangeListener=\"@{viewModel.EditListener}\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9715574, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "DevWM", "link": "https://stackoverflow.com/users/9715574/devwm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 50089967, "answer_count": 2, "score": 0, "last_activity_date": 1525089870, "creation_date": 1525015766, "last_edit_date": 1525089870, "question_id": 50088286, "link": "https://stackoverflow.com/questions/50088286/how-to-resolve-errors-with-the-configuration-of-task-appkaptdebugkotlin", "title": "How to resolve errors with the configuration of task &#39;:app:kaptDebugKotlin&#39;?", "body": "<p>I'm trying to build Android app in Kotlin using dataBinding and when I'm trying to compile this code </p>\n\n<pre><code>@Bindable\nvar progress:Int=1\n\n@NotNull\n@InverseBindingAdapter(attribute = \"progress\")\n fun  SeekBar.getProgress():Int{\n    return this.progress\n}\n\n@BindingAdapter(value = [\"progressAttrChanged\"])\nfun setListeners(seekBar: SeekBar,inverseBindingListener: InverseBindingListener){\n    var listener=object: SeekBar.OnSeekBarChangeListener{\n        override fun onProgressChanged(seekBar: SeekBar?, Progress: Int, fromUser: Boolean) {\n            progress=Progress\n            mBeatBox.mRange=progress/66.67 as Float\n            inverseBindingListener.onChange()\n        }\n\n        override fun onStartTrackingTouch(seekBar: SeekBar?) {\n\n        }\n\n        override fun onStopTrackingTouch(seekBar: SeekBar?) {\n\n        }\n    }\n    seekBar.setOnSeekBarChangeListener(listener)\n}\n</code></pre>\n\n<p>I get this errors <a href=\"https://ibb.co/cBHRwx\" rel=\"nofollow noreferrer\">https://ibb.co/cBHRwx</a>.</p>\n\n<p>Here is view of  modelView</p>\n\n<pre><code> &lt;data&gt;\n    &lt;variable\n        name=\"viewModel\"\n        type=\"com.bignerdranch.android.beatboxkotlin.Models.BeatBoxViewModel\"/&gt;\n&lt;/data&gt;\n....\n &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:text=\"progres\"\n        android:gravity=\"center\"\n        android:layout_weight=\"9\"/&gt;\n    &lt;android.support.v7.widget.AppCompatSeekBar\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"9\"\n        app:progress=\"@={viewModel.progress}\"/&gt;\n</code></pre>\n\n<p>How can I solve this?</p>\n"}, {"tags": ["kotlin", "kotlinpoet"], "answers": [{"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": false, "score": 1, "last_activity_date": 1525142743, "creation_date": 1525142743, "answer_id": 50110758, "question_id": 50088258, "link": "https://stackoverflow.com/questions/50088258/how-should-i-define-these-complex-initializer-for-a-property/50110758#50110758", "title": "How should I define these complex initializer for a property", "body": "<p>Use <code>CodeBlock.Builder</code> for the first example, it gives you more flexibility in constructing <code>CodeBlock</code>s:</p>\n\n<pre><code>fun createConstructorCall(type: TypeName, vararg args: String): CodeBlock {\n  val argsCode = args\n      .map { CodeBlock.of(\"%L\", it) }\n      .joinToCode(separator = \", \", prefix = \"(\", suffix = \")\")\n  return CodeBlock.Builder()\n      .add(\"%T\", type)\n      .add(argsCode)\n      .build()\n}\n\nval className = ClassName(\"\", \"StateType1\")\nval codeBlock = CodeBlock.of(\"%L\", PropertySpec.builder(\"outputState\", className)\n    .initializer(createConstructorCall(className, \"iouValue\", \"ourIdentity\", \"otherParty\"))\n    .build())\nassertThat(codeBlock.toString()).isEqualTo(\"\"\"\n  |val outputState: StateType1 = StateType1(iouValue, ourIdentity, otherParty)\n  |\"\"\".trimMargin())\n</code></pre>\n\n<p>In the second example, we don't really provide anything special, pass your code as a String and feel free to use placeholders to parameterize if needed:</p>\n\n<pre><code>val className1 = ClassName(\"\", \"TransactionBuilder\")\nval codeBlock1 = CodeBlock.of(\"%L\", PropertySpec.builder(\"txBuilder\", className)\n    .initializer(\n        \"%T(notary = notary)\\n.addOutputState(outputState, TEMPLATE_CONTRACT_ID)\",\n        className1)\n    .build())\nassertThat(codeBlock1.toString()).isEqualTo(\"\"\"\n  |val txBuilder: StateType1 = TransactionBuilder(notary = notary)\n  |        .addOutputState(outputState, TEMPLATE_CONTRACT_ID)\n  |\"\"\".trimMargin())\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 8299527, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/189cea15f37bc6432066b9e4341f2ed4?s=128&d=identicon&r=PG&f=1", "display_name": "Jiachuan Li", "link": "https://stackoverflow.com/users/8299527/jiachuan-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525142743, "creation_date": 1525015625, "question_id": 50088258, "link": "https://stackoverflow.com/questions/50088258/how-should-i-define-these-complex-initializer-for-a-property", "title": "How should I define these complex initializer for a property", "body": "<p>Although I checked all tests in the kotlinpoet code, but I didn't find a proper way to implement below target codes, or I am not sure whether I used the best approach to do that. If anyone can provide some comments about this, that would be highly appreciate.</p>\n\n<p>These properties are defined in the function of a class</p>\n\n<p>Target Code 1</p>\n\n<pre><code>val outputState = StateType1(iouValue, ourIdentity, otherParty)\n</code></pre>\n\n<p>I used below codes to generate above code</p>\n\n<pre><code>.addCode(CodeBlock.of(\"%L\",\n    PropertySpec.builder(\"outputState\", ClassName(\"\",\"StateType1\"))\n        .initializer(CodeBlock.of(\"%T(%L, %L, %L)\", ClassName(\"\",\"StateType1\"), \"iouValue\", \"ourIdentity\", \"otherParty\"))\n        .build()))\n</code></pre>\n\n<p>But question would be this outputState might be from different types, for example, StateType1 has 3 parameters, but StateTyp2 might only has 1 parameter, how should I dynamically define my kotlinpoet code to generate correct target code.</p>\n\n<p>Target Code 2</p>\n\n<pre><code>val txBuilder = TransactionBuilder(notary = notary)\n    .addOutputState(outputState, TEMPLATE_CONTRACT_ID)\n</code></pre>\n\n<p>I didn't find a reference test case which has this scenario, after property's initializer then invoke it's function directly.</p>\n"}]