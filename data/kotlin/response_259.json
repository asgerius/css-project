[{"tags": ["android", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 3110, "user_id": 4402462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-_tLZ6wVqNwM/AAAAAAAAAAI/AAAAAAAABbQ/1vpw--DOl7A/photo.jpg?sz=128", "display_name": "Srikar Reddy", "link": "https://stackoverflow.com/users/4402462/srikar-reddy"}, "edited": false, "score": 0, "creation_date": 1577319689, "post_id": 59482550, "comment_id": 105141782, "body": "You are trying to convert String object to JSON object. Check if the issue is arising at this line <code>val jsonObject = JSONObject(response)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 12569186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ncjxk.jpg?s=128&g=1", "display_name": "adi purnama", "link": "https://stackoverflow.com/users/12569186/adi-purnama"}, "is_accepted": true, "score": 0, "last_activity_date": 1577329683, "creation_date": 1577329683, "answer_id": 59483464, "question_id": 59482550, "link": "https://stackoverflow.com/questions/59482550/registration-with-volley-and-kotlin-issue-can-somebody-say-me-what-is-issue-i/59483464#59483464", "title": "registration with VOLLEY and KOTLIN issue , can somebody say me what is issue I&#39;m getting followed error :", "body": "<p>I thing this error because response result is not a valid json format</p>\n\n<pre><code>com.android.volley.Response.Listener&lt;String&gt;() { response -&gt;\n    try {\n            //at this point,you can debug result with console log your response\n            //because if response have a php error then json format not valid \n            Log.d(\"RESPONSE\",\" $response\")\n            val jsonObject = JSONObject(response)\n            //at this you can check if json has have key name success\n            if (jsonObject.has(\"success\")){\n                val success : String = jsonObject.getString(\"success\")\n                if (success.equals(\"1\")){\n                    Toast.makeText(this, \"Register Success ! Eyyvalll !\", Toast.LENGTH_SHORT).show()\n                }\n            }\n    }\n    ......\n</code></pre>\n\n<p>hope this help</p>\n"}], "owner": {"reputation": 13, "user_id": 4465551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe238ccea690cd501c9167e6152b14dd?s=128&d=identicon&r=PG", "display_name": "Mehdi Shojaee", "link": "https://stackoverflow.com/users/4465551/mehdi-shojaee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 59483464, "answer_count": 1, "score": 1, "last_activity_date": 1577449252, "creation_date": 1577316469, "question_id": 59482550, "link": "https://stackoverflow.com/questions/59482550/registration-with-volley-and-kotlin-issue-can-somebody-say-me-what-is-issue-i", "title": "registration with VOLLEY and KOTLIN issue , can somebody say me what is issue I&#39;m getting followed error :", "body": "<p>I'm facing with error for below code\nmay someone help me \nI'm trying to register by this code to an app</p>\n\n<p>registration with VOLLEY and KOTLIN issue , can somebody say me what is issue I'm getting followed error : </p>\n\n<p>I am adding this for more details to can post my question </p>\n\n<pre><code>W/System.err: org.json.JSONException: Value &lt;br of type java.lang.String cannot be converted to JSONObject\n        at org.json.JSON.typeMismatch(JSON.java:111)\n\n\n `override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        loading = findViewById&lt;ProgressBar&gt;(R.id.loading)\n        name = findViewById&lt;EditText&gt;(R.id.name)\n        email = findViewById&lt;EditText&gt;(R.id.email)\n        password = findViewById&lt;EditText&gt;(R.id.password)\n        c_password = findViewById&lt;EditText&gt;(R.id.password)\n        btn_regist = findViewById&lt;Button&gt;(R.id.btn_regist)\n\n        btn_regist.setOnClickListener() { v -&gt; regist() }\n    }\n\n    private fun regist(){\n        loading.visibility = View.VISIBLE\n        btn_regist.visibility = View.GONE\n\n        val name:String = this.name.text.trim().toString()\n        val email:String = this.email.text.trim().toString()\n        val password:String = this.password.text.trim().toString()\n\n        val stringRequest = object : StringRequest(com.android.volley.Request.Method.POST, URL_REGIST,\n            com.android.volley.Response.Listener&lt;String&gt;() { response -&gt;\n                try {\n                    val jsonObject = JSONObject(response)\n                    val success : String = jsonObject.getString(\"success\")\n                    if (success.equals(\"1\")){\n                        Toast.makeText(this, \"Register Success ! Eyyvalll !\", Toast.LENGTH_SHORT).show()\n                    }\n                }\n                catch (e: JSONException){\n                    e.printStackTrace()\n                    Toast.makeText(this, \"Register Error ! goh !!!! :/\" + e.toString() , Toast.LENGTH_SHORT).show()\n                    loading.visibility = View.GONE\n                    btn_regist.visibility = View.VISIBLE\n\n                }\n            }, com.android.volley.Response.ErrorListener {\n                    error -&gt; error.printStackTrace()\n                    Toast.makeText(this, \"Register Error ! SHIT :/\" + error.toString() , Toast.LENGTH_SHORT).show()\n                    loading.visibility = View.GONE\n                    btn_regist.visibility = View.VISIBLE\n            }) {\n//            @Throws(AuthFailureError::class)\n            override fun getParams(): Map&lt;String, String&gt; {\n                val params = HashMap&lt;String, String&gt;()\n                params[\"name\"] = name\n                params[\"email\"] = email\n                params[\"password\"] = password\n                return params\n            }\n        }\n\n        val requestQueue = Volley.newRequestQueue(this)\n        requestQueue.add(stringRequest)\n\n    }`\n</code></pre>\n"}, {"tags": ["android", "sql", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1577313947, "post_id": 59482139, "comment_id": 105141090, "body": "<code>cursor.getString(cursor.\u2026nIndex(COLUMN_NAME_NOTE))</code> is returning <code>null</code>, and apparently <code>note</code> on <code>Model</code> is declared as <code>String</code>, not <code>String?</code>."}, {"owner": {"reputation": 182, "user_id": 3904073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535538b93197c80b41fff0ec19ab4447?s=128&d=identicon&r=PG&f=1", "display_name": "Ishtdeep Hora", "link": "https://stackoverflow.com/users/3904073/ishtdeep-hora"}, "edited": false, "score": 0, "creation_date": 1577329884, "post_id": 59482139, "comment_id": 105142899, "body": "The first entry might be having null value to the COLUMN_NAME_NOTE. Also, in your get call why you are using getInstance(context).getWritableDatabase(). Instead why we can&#39;t call getInstance(context).getReadableDatabase()."}, {"owner": {"reputation": 971, "user_id": 5892317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MrDgUVUsPmE/AAAAAAAAAAI/AAAAAAAABEE/-TMJPqjjrT8/photo.jpg?sz=128", "display_name": "Pavel Bredelev", "link": "https://stackoverflow.com/users/5892317/pavel-bredelev"}, "edited": false, "score": 0, "creation_date": 1577356145, "post_id": 59482139, "comment_id": 105149053, "body": "The thing is yes. It&#39;s declared as <code>String</code>. I&#39;ve just change it to <code>String?</code> and it works as it should. But I do not understand why it is returning <code>null</code>"}], "owner": {"reputation": 971, "user_id": 5892317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MrDgUVUsPmE/AAAAAAAAAAI/AAAAAAAABEE/-TMJPqjjrT8/photo.jpg?sz=128", "display_name": "Pavel Bredelev", "link": "https://stackoverflow.com/users/5892317/pavel-bredelev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577311292, "creation_date": 1577311292, "question_id": 59482139, "link": "https://stackoverflow.com/questions/59482139/get-an-exception-when-i-try-to-get-data-from-crypted-sqlite-db", "title": "Get an exception when I try to get data from crypted sqlite db", "body": "<p>I've got a table with 5 rows. First one (title) is primary. </p>\n\n<p>I store the data this way: </p>\n\n<pre><code>fun insertIntoDB(title: String, login: String, password: String, note: String, dateTime: String, context: Context) {\n        SQLiteDatabase.loadLibs(context)\n        val db = getInstance(context).getWritableDatabase(password)\n        val cv = ContentValues()\n        cv.put(COLUMN_NAME_TITLE, title)\n        cv.put(COLUMN_NAME_LOGIN, login)\n        cv.put(COLUMN_NAME_PASSWORD, password)\n        cv.put(COLUMN_NAME_NOTE, note)\n        Log.i(\"TAG\", note)\n        cv.put(COLUMN_NAME_DATE_TIME, dateTime)\n\n        db.insert(FeedEntry.TABLE_NAME, null, cv)\n\n        val cursor = db.rawQuery(\"SELECT * FROM '\" + FeedEntry.TABLE_NAME + \"';\", null)\n        cursor.close()\n        db.close()\n    }\n</code></pre>\n\n<p>And get it this way:</p>\n\n<pre><code>fun getDataFromDB(context: Context): ArrayList&lt;Model&gt; {\n        SQLiteDatabase.loadLibs(context)\n        val modelList = ArrayList&lt;Model&gt;()\n        val db = getInstance(context).getWritableDatabase(\"KILLTHEMALL\")\n        val cursor = db.rawQuery(\"SELECT * FROM '\" + FeedEntry.TABLE_NAME + \"';\", null)\n        if (cursor.moveToFirst()) {\n            do {\n                val model = Model()\n                model.title = cursor.getString(cursor.getColumnIndex(COLUMN_NAME_TITLE))\n                model.login = cursor.getString(cursor.getColumnIndex(COLUMN_NAME_LOGIN))\n                model.password = cursor.getString(cursor.getColumnIndex(COLUMN_NAME_PASSWORD))\n                model.note = cursor.getString(cursor.getColumnIndex(COLUMN_NAME_NOTE))\n                model.date = cursor.getString(cursor.getColumnIndex(COLUMN_NAME_DATE_TIME))\n\n                modelList.add(model)\n            } while (cursor.moveToNext())\n        }\n        return modelList\n    }\n</code></pre>\n\n<p>And in my main activity I'm calling method <code>getDataFromDB()</code> to put it in a list and pass it to adapter</p>\n\n<pre><code>val helper = DBHelper(this)\ndataList = helper.getDataFromDB(this)\nrvAdapter = RVAdapter(dataList)\nrecyclerView.adapter = rvAdapter\n</code></pre>\n\n<p>But I got punched like this: </p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.passlin, PID: 17759\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.passlin/com.example.passlin.CardsActivity}: java.lang.IllegalStateException: cursor.getString(cursor.\u2026nIndex(COLUMN_NAME_NOTE)) must not be null\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.IllegalStateException: cursor.getString(cursor.\u2026nIndex(COLUMN_NAME_NOTE)) must not be null\n        at com.example.passlin.DBHelper.getDataFromDB(DBHelper.kt:85)\n        at com.example.passlin.CardsActivity.onCreate(CardsActivity.kt:48)\n        at android.app.Activity.performCreate(Activity.java:7802)\n        at android.app.Activity.performCreate(Activity.java:7791)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\u00a0\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\u00a0\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\u00a0\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:107)\u00a0\n        at android.os.Looper.loop(Looper.java:214)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\u00a0\n</code></pre>\n\n<p>And I really don't get this cause I put a String into NOTE field myself using dialog box</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["java", "android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577306402, "post_id": 59481684, "comment_id": 105139876, "body": "What exactly do you mean by &quot;the activity starts again with the new data&quot;?  Please be specific about what you&#39;re observing."}, {"owner": {"reputation": 1, "user_id": 6736915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KK7cOo2Hfps/AAAAAAAAAAI/AAAAAAAAAP4/5tlNGwODLQQ/photo.jpg?sz=128", "display_name": "Martin Paskov", "link": "https://stackoverflow.com/users/6736915/martin-paskov"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577307191, "post_id": 59481684, "comment_id": 105139996, "body": "That&#39;s why I added an example after that. In the lifecycle of the whole app, with each new Firestore field change, appears a new activity. Example: Start Activity -&gt; Questions Activity (field change starts another) - &gt; Questions Activity etc."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577310411, "post_id": 59481684, "comment_id": 105140524, "body": "None of the code you&#39;re showing here starts a new activity at all, so it&#39;s entirely unclear why that would happen based on what we can see. Kotlin isn&#39;t ever going to do something special to the activity that the equivalent Java wouldn&#39;t do.  Without more details, it&#39;s not really possible to say."}, {"owner": {"reputation": 1, "user_id": 6736915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KK7cOo2Hfps/AAAAAAAAAAI/AAAAAAAAAP4/5tlNGwODLQQ/photo.jpg?sz=128", "display_name": "Martin Paskov", "link": "https://stackoverflow.com/users/6736915/martin-paskov"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577312096, "post_id": 59481684, "comment_id": 105140806, "body": "With some further debugging, I found that it is getStringExtra related, as when i use getStringExtra and set it for gameID, it does this, but when i use a static string in document(&quot;someStaticString&quot;), everything works as I want."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1577317182, "post_id": 59481684, "comment_id": 105141489, "body": "There&#39;s really just not enough information here. I suggest editing the question with an MCVE that fully reproduces the issue, so that everyone can see all the moving parts.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1213, "user_id": 8012516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea08238ea40a010d752fadfe7b1effdf?s=128&d=identicon&r=PG&f=1", "display_name": "haresh", "link": "https://stackoverflow.com/users/8012516/haresh"}, "is_accepted": false, "score": 1, "last_activity_date": 1577362331, "creation_date": 1577362331, "answer_id": 59488311, "question_id": 59481684, "link": "https://stackoverflow.com/questions/59481684/how-to-make-addsnapshotlistener-to-not-start-a-new-activity-works-with-java-but/59488311#59488311", "title": "How to make addSnapshotListener to not start a new activity? Works with Java but not Kotlin", "body": "<p>Try to pass this(activity context) as first parameter.It will automatically handle acivity\nlife cycle. Example if you are calling this listener in onCreate() and passing this as a\nfirst parameter then it will remove this listener in onDestroy() method of activity. </p>\n\n<pre><code>db.collection(\"games\").document(gameID)\n            .addSnapshotListener(this,new EventListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onEvent(@Nullable DocumentSnapshot snapshot,\n                                    @Nullable FirebaseFirestoreException e) {\n                    if (e != null) {\n                        Log.w(TAG, \"Listen failed.\", e);\n                        return;\n                    }\n                    if (snapshot != null &amp;&amp; snapshot.exists()) {\n                        long players = (long) snapshot.getData().get(\"players\");\n                        mPlayersLeft.setText(\"\" + players);\n                    } else {\n                        Log.d(TAG, \"Current data: null\");\n                    }\n                }\n            });\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6736915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KK7cOo2Hfps/AAAAAAAAAAI/AAAAAAAAAP4/5tlNGwODLQQ/photo.jpg?sz=128", "display_name": "Martin Paskov", "link": "https://stackoverflow.com/users/6736915/martin-paskov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577362331, "creation_date": 1577306196, "question_id": 59481684, "link": "https://stackoverflow.com/questions/59481684/how-to-make-addsnapshotlistener-to-not-start-a-new-activity-works-with-java-but", "title": "How to make addSnapshotListener to not start a new activity? Works with Java but not Kotlin", "body": "<p>I have the following code in the onCreate activity (tried with onStart, didn't work as well). Every time there is a change to any field in the document gameID, the activity starts again with the new data. Is it possible to just make it update the text field mPlayersLeft without starting the same activity again? The activity stacks and I need to press back for every update that has been made. Tried with an executor as well but doesn't seem to work.</p>\n\n<p>Example: It's a game with questions. When I answer 5 questions, I get to question 6, I update any game field through the console, the activity starts again from question 1 with the new player count (if I have updated that field) and if I were to press back, I go back to the same activity at the 6th question.</p>\n\n<p>I have tried all of these and only the if it is Java, it works. I haven't found any Kotlin variation that works.</p>\n\n<p>Kotlin:</p>\n\n<pre><code>db.collection(\"games\").document(gameID)\n    .addSnapshotListener { snapshot, e -&gt;\n            if (e != null) {\n                Log.w(tag, \"Listen failed.\", e)\n                return@addSnapshotListener\n            }\n            if (snapshot != null &amp;&amp; snapshot.exists()) {\n                val players = snapshot.data?.get(\"players\") ?: 0\n                if (players != 0) {\n                    mPlayersLeft!!.text = \"$players\"\n                }\n            } else {\n                Log.d(tag, \"Current data: null\")\n            }    \n     }\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>db.collection(\"games\").document(gameID)\n                .addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {\n                    @Override\n                    public void onEvent(@Nullable DocumentSnapshot snapshot,\n                                        @Nullable FirebaseFirestoreException e) {\n                        if (e != null) {\n                            Log.w(TAG, \"Listen failed.\", e);\n                            return;\n                        }\n                        if (snapshot != null &amp;&amp; snapshot.exists()) {\n                            long players = (long) snapshot.getData().get(\"players\");\n                            mPlayersLeft.setText(\"\" + players);\n                        } else {\n                            Log.d(TAG, \"Current data: null\");\n                        }\n                    }\n                });\n</code></pre>\n\n<p>Listener Java to Kotlin (via Android Studio translation):</p>\n\n<pre><code>db.collection(\"games\").document(gameID)\n        .addSnapshotListener(EventListener { snapshot, e -&gt;\n            if (e != null) {\n                Log.w(tag, \"Listen failed.\", e)\n                return@EventListener\n            }\n            if (snapshot != null &amp;&amp; snapshot.exists()) {\n                val players = snapshot.data?.get(\"players\") ?: 0\n                if (players != 0) {\n                    mPlayersLeft!!.text = \"$players\"\n                }\n            } else {\n                Log.d(tag, \"Current data: null\")\n            }    \n     }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-music-player"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 12561769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca5c71a55b0ee51eadc4ca6da57ccce?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/12561769/bob"}, "edited": false, "score": 0, "creation_date": 1577404467, "post_id": 59481598, "comment_id": 105163141, "body": "Thank you! That fixed the issue but I cannot seem to get it working in a while loop. Is it possible to get it to work in a loop?"}, {"owner": {"reputation": 2372, "user_id": 7954210, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cmlwe.gif?s=128&g=1", "display_name": "Mouaad Abdelghafour AITALI", "link": "https://stackoverflow.com/users/7954210/mouaad-abdelghafour-aitali"}, "reply_to_user": {"reputation": 17, "user_id": 12561769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca5c71a55b0ee51eadc4ca6da57ccce?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/12561769/bob"}, "edited": false, "score": 0, "creation_date": 1577452743, "post_id": 59481598, "comment_id": 105175014, "body": "@Bob can you please explain more, you want to play a1, a2 a3 sequentially right?"}, {"owner": {"reputation": 17, "user_id": 12561769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca5c71a55b0ee51eadc4ca6da57ccce?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/12561769/bob"}, "edited": false, "score": 0, "creation_date": 1578102059, "post_id": 59481598, "comment_id": 105340740, "body": "Sorry for the late response. I figured it out by using this code to play different sounds depending on the value &lt;if (firstSentence == 1) {                                             mp = MediaPlayer.create(this@MainActivity, R.raw.a1)                                         }                                         if (firstSentence == 2) {                                             mp = MediaPlayer.create(this@MainActivity, R.raw.a2)                                         }&gt;"}], "tags": [], "owner": {"reputation": 2372, "user_id": 7954210, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cmlwe.gif?s=128&g=1", "display_name": "Mouaad Abdelghafour AITALI", "link": "https://stackoverflow.com/users/7954210/mouaad-abdelghafour-aitali"}, "is_accepted": true, "score": 1, "last_activity_date": 1597862678, "last_edit_date": 1597862678, "creation_date": 1577305330, "answer_id": 59481598, "question_id": 59481524, "link": "https://stackoverflow.com/questions/59481524/how-to-play-a-different-sound-file-from-resraw/59481598#59481598", "title": "How to play a different sound file from res&gt;raw", "body": "<p>You can do something like this :</p>\n<pre><code>var a1 = R.raw.a1\nvar a2 = R.raw.a2\nvar a3 = R.raw.a3\n</code></pre>\n<p>Or you can do it with <code>JAVA</code> like this :</p>\n<pre><code>int setMusic(String mMusic){\n  return this.getResources().getIdentifier(mMusic, &quot;raw&quot;, this.getPackageName());\n}\n</code></pre>\n<p>and call it like this :</p>\n<p><code>mp = MediaPlayer.create(this, setMusic(&quot;a1&quot;))</code></p>\n<p>or</p>\n<p><code>mp = MediaPlayer.create(this, setMusic(&quot;a2&quot;))</code></p>\n"}], "owner": {"reputation": 17, "user_id": 12561769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca5c71a55b0ee51eadc4ca6da57ccce?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/12561769/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 59481598, "answer_count": 1, "score": 0, "last_activity_date": 1597862678, "creation_date": 1577304598, "last_edit_date": 1577305251, "question_id": 59481524, "link": "https://stackoverflow.com/questions/59481524/how-to-play-a-different-sound-file-from-resraw", "title": "How to play a different sound file from res&gt;raw", "body": "<p>Under class I have</p>\n\n<pre><code>private lateinit var mp: MediaPlayer\n</code></pre>\n\n<p>Under override I have</p>\n\n<pre><code>mp = MediaPlayer.create(this, R.raw.a1)\n</code></pre>\n\n<p>Function <code>buttonPlayClick</code> which is also <code>buttonPlay</code></p>\n\n<pre><code>fun buttonPlayClick(v: View)\n{\n    if (mp.isPlaying)\n    {\n        mp.pause()\n        buttonPlay.text = \"PLAY\"\n\n} else {\n    mp.start()\n        buttonPlay.text = \"PAUSE\"\n    }\n}\n</code></pre>\n\n<p>I am using the code below to point to a sound file</p>\n\n<pre><code>mp = MediaPlayer.create(this, R.raw.a1)\n</code></pre>\n\n<p>Currently, the command is pointing to a sound file called a1 in res>raw</p>\n\n<p>I am learning Kotlin bit by bit and I am trying to play a different sound file using the command below (changed a1 to x)</p>\n\n<pre><code>mp = MediaPlayer.create(this, R.raw.x)\n</code></pre>\n\n<p>I was hoping that at some point in the app I can define <code>x = a1</code> or <code>a2</code> or <code>a3</code> to play different sounds files but it does not work like that. I also noticed that the sound files cannot just be an integer value. The sound files are very short (3 to 10 seconds) </p>\n\n<p>Thanks for all the help!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577335085, "post_id": 59483523, "comment_id": 105143542, "body": "Hello, thank you, what&#39;s the difference between that snippet and the code I provided?"}], "tags": [], "owner": {"reputation": 182, "user_id": 3904073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535538b93197c80b41fff0ec19ab4447?s=128&d=identicon&r=PG&f=1", "display_name": "Ishtdeep Hora", "link": "https://stackoverflow.com/users/3904073/ishtdeep-hora"}, "is_accepted": false, "score": 0, "last_activity_date": 1577330354, "creation_date": 1577330354, "answer_id": 59483523, "question_id": 59480503, "link": "https://stackoverflow.com/questions/59480503/how-to-pass-a-view-with-ontouchevent/59483523#59483523", "title": "How to pass a view with OnTouchEvent", "body": "<p>Can you please go through the following link and let me know if this helps?</p>\n\n<p><a href=\"https://github.com/ishtdeephora/SnippetsRepository/blob/SnippetsRepository/app/src/main/java/com/example/ishtdeep/gestureimplementation/MainActivity.kt\" rel=\"nofollow noreferrer\">https://github.com/ishtdeephora/SnippetsRepository/blob/SnippetsRepository/app/src/main/java/com/example/ishtdeep/gestureimplementation/MainActivity.kt</a></p>\n"}], "owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577330354, "creation_date": 1577294436, "question_id": 59480503, "link": "https://stackoverflow.com/questions/59480503/how-to-pass-a-view-with-ontouchevent", "title": "How to pass a view with OnTouchEvent", "body": "<p>I created some code that implements GestureDetector in conjunction with OnTouchListener:</p>\n\n<pre><code>val detector = GestureDetector(object: GestureDetector.SimpleOnGestureListener() {\n            override fun onLongPress(e: MotionEvent?) {\n                super.onLongPress(e)\n            }\n\n            override fun onDown(e: MotionEvent?): Boolean {\n                return true\n            }\n        })\n\n        val gestureListener = View.OnTouchListener(function = { view, event -&gt;\n            detector.onTouchEvent(event)\n\n            if(event.getAction() == MotionEvent.ACTION_UP) {\n               // do something\n            }\n\n            false\n        })\n\n        profilePic1.setOnTouchListener(gestureListener)\n</code></pre>\n\n<p>When I call</p>\n\n<pre><code>detector.onTouchEvent(event)\n</code></pre>\n\n<p>I would like to pass the current view, so the functions inside the detector can handle the relevant view. In this example only the view profilePic1 is passed to the listener, but I would like to add many views to handle. Is it possible to achieve?</p>\n"}, {"tags": ["android", "gradle", "kotlin", "mockito", "kotlin-allopen"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1577377114, "post_id": 59480240, "comment_id": 105156004, "body": "Have you considered redesigning your dependencies to depend only on interfaces? This is usually a best practise precisely for what your facing - being able to replace the dependency with another implementation (mocks in this case) without changing the code. You can keep your classes closed then."}, {"owner": {"reputation": 12152, "user_id": 2136812, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/5gWlP.jpg?s=128&g=1", "display_name": "Lena Bru", "link": "https://stackoverflow.com/users/2136812/lena-bru"}, "edited": false, "score": 1, "creation_date": 1580640097, "post_id": 59480240, "comment_id": 106168114, "body": "Try adding debug/release annotation like described here <a href=\"https://github.com/mockito/mockito/issues/1082#issuecomment-301646307\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/issues/1082#issuecomment-30164630&zwnj;&#8203;7</a>"}], "owner": {"reputation": 4154, "user_id": 2390217, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c42289dabee917e679767208ae4c534?s=128&d=identicon&r=PG&f=1", "display_name": "Alireza A. Ahmadi", "link": "https://stackoverflow.com/users/2390217/alireza-a-ahmadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1580640097, "creation_date": 1577292180, "question_id": 59480240, "link": "https://stackoverflow.com/questions/59480240/gradle-apply-kotlin-allopen-plugin-only-for-tests", "title": "Gradle apply kotlin-allopen plugin only for tests", "body": "<p>I have a android module that uses Kotlin and by using kotlin-all open class I am making sure that I still can mock my Kotlin classes with Mockito. The problem is with this approach it makes my Kotlin classes open outside testing as well and now someone can extend this class witch I don't want to allow.\n<p>\nThis is my configuration</p>\n\n<pre><code>apply plugin: \"kotlin-allopen\"\n\nallOpen {\n    annotation(\"com.me.Open\")\n}\n</code></pre>\n\n<p>I am looking for a way to enable this plugin only for testing, allowing mock Kotlin classes while stoping extension from Kotlin non-open class. Any Idea?\n<p>\nBTW, I don't want to use mockito-inline plugin since it slows down our tests by noticeable measure. </p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 1, "last_activity_date": 1577294784, "creation_date": 1577294784, "answer_id": 59480557, "question_id": 59479947, "link": "https://stackoverflow.com/questions/59479947/is-there-a-way-to-efficiently-compare-fields-of-arbitary-objects/59480557#59480557", "title": "Is there a way to efficiently compare fields of arbitary objects", "body": "<p>You can create <code>inline</code> <code>equalsBy</code> functions:</p>\n\n<pre><code>@PublishedApi\n@Suppress(\"UNCHECKED_CAST\")\ninternal inline fun &lt;T&gt; T.eqlBy(other: Any?, prop1: T.() -&gt; Any?): Boolean = prop1() == (other as T).prop1()\n\ninline fun &lt;reified T&gt; T.equalsBy(other: Any?, prop1: T.() -&gt; Any?): Boolean =\n    other is T &amp;&amp; eqlBy(other, prop1)\n\ninline fun &lt;reified T&gt; T.equalsBy(other: Any?, prop1: T.() -&gt; Any?, prop2: T.() -&gt; Any?): Boolean =\n    equalsBy(other, prop1) &amp;&amp; eqlBy(other, prop2)\n\ninline fun &lt;reified T&gt; T.equalsBy(other: Any?, prop1: T.() -&gt; Any?, prop2: T.() -&gt; Any?, prop3: T.() -&gt; Any?): Boolean =\n    equalsBy(other, prop1, prop2) &amp;&amp; eqlBy(other, prop3)\n</code></pre>\n\n<p>And use them like this:</p>\n\n<pre><code>data class Book(\n    val title: String, val amount: String, var isSelected: Boolean = false\n) : DiffEquals&lt;Book&gt; {\n    override fun isItemSame(other: Book) = equalsBy(other) { title }\n    override fun isContentSame(other: Book) = equalsBy(other, { amount }, { isSelected })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4086, "user_id": 1551603, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/gILwn.jpg?s=128&g=1", "display_name": "Yarh", "link": "https://stackoverflow.com/users/1551603/yarh"}, "is_accepted": false, "score": 0, "last_activity_date": 1578483901, "creation_date": 1578483901, "answer_id": 59645167, "question_id": 59479947, "link": "https://stackoverflow.com/questions/59479947/is-there-a-way-to-efficiently-compare-fields-of-arbitary-objects/59645167#59645167", "title": "Is there a way to efficiently compare fields of arbitary objects", "body": "<p>slight wariation of @Bananon answer using varargs </p>\n\n<pre><code>inline fun &lt;reified T&gt; T.equalTo(other: Any?, vararg properties: T.() -&gt; Any?): Boolean {\n  if (other !is T) return false\n  properties.forEach {\n    if (it.invoke(this) != it.invoke(other)) {\n      return false\n    }\n  }\n  return true\n}\n</code></pre>\n"}], "owner": {"reputation": 4086, "user_id": 1551603, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/gILwn.jpg?s=128&g=1", "display_name": "Yarh", "link": "https://stackoverflow.com/users/1551603/yarh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 59480557, "answer_count": 2, "score": 1, "last_activity_date": 1578483901, "creation_date": 1577289583, "question_id": 59479947, "link": "https://stackoverflow.com/questions/59479947/is-there-a-way-to-efficiently-compare-fields-of-arbitary-objects", "title": "Is there a way to efficiently compare fields of arbitary objects", "body": "<p>Currently, if I need to compare objects by the specific fields I Implement DiffEqual interface</p>\n\n<pre><code>interface DiffEquals&lt;T&gt; {\n  fun isItemSame(other: Any?): Boolean\n  fun isContentSame(other: Any?): Boolean\n}\n</code></pre>\n\n<p>some object</p>\n\n<pre><code>data class Book(\n  val title: String, val amount: String, var isSelected: Boolean = false\n) : DiffEquals {\n\n  override fun isItemSame(other: Any?): Boolean {\n    if (other != null &amp;&amp; other is Book) {\n      if (title != other.title) {\n        return false\n      }\n      return true\n    } else {\n      return false\n    }\n  }\n\n  override fun isContentSame(other: Any?): Boolean {\n    other as Book\n    if (amount != other.amount) return false\n    if (isSelected != other.isSelected) return false\n\n    return true\n  }\n}\n</code></pre>\n\n<p>I don't like that approach as it requires a lot of dummy code. I tried to make annotations like Id1, Id2, Id3, Mutable1, Mutable2, Mutable3 and so on, but it was resource costly, thus I had to rollback to interface above.  How can one implement a generic comparison mechanism which compares specified fields? (not standard equals does not fit as more complex objects have fields which constantly changes, but are not important for equality, overriding equals  creates same problems with dummy code  and in most cases, I need full equals to)</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-cloud-messaging"], "answers": [{"tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1577288114, "creation_date": 1577288114, "answer_id": 59479776, "question_id": 59479721, "link": "https://stackoverflow.com/questions/59479721/how-to-read-the-payload-of-a-firebase-cloud-messaging-notification/59479776#59479776", "title": "How to read the payload of a Firebase Cloud Messaging notification?", "body": "<p>The <code>id</code> and <code>type</code> are both inside a data payload, to be able to read these values then try the following:</p>\n\n<pre><code>override fun onMessageReceived(remoteMessage: RemoteMessage) {\n    Log.d(TAG, \"From: ${remoteMessage.from}\")\n\n    // Check if message contains a data payload.\n    remoteMessage.data.isNotEmpty().let {\n        Log.d(TAG, \"Message data payload: \" + remoteMessage.data)\n\n    }\n\n    // Check if message contains a notification payload.\n    remoteMessage.notification?.let {\n        Log.d(TAG, \"Message Notification Body: ${it.body}\")\n    }\n\n    // Also if you intend on generating your own notifications as a result of a received FCM\n    // message, here is where that should be initiated. See sendNotification method below.\n}\n</code></pre>\n\n<p><code>remoteMessage.data</code> will contain both the <code>id</code> and <code>type</code></p>\n\n<p>Check here for more info:</p>\n\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/android/receive\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/android/receive</a></p>\n"}, {"tags": [], "owner": {"reputation": 796, "user_id": 11833795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H51wT.png?s=128&g=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/11833795/niraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1577288245, "creation_date": 1577288245, "answer_id": 59479789, "question_id": 59479721, "link": "https://stackoverflow.com/questions/59479721/how-to-read-the-payload-of-a-firebase-cloud-messaging-notification/59479789#59479789", "title": "How to read the payload of a Firebase Cloud Messaging notification?", "body": "<p>You can send data this way : </p>\n\n<pre><code>{\n  \"to\": \"wOAT...\",\n  \"data\": {\n    \"title\": \"Notification title\",\n    \"message\": \"Notification message\",\n    \"key1\" : \"value1\",\n    \"key2\" : \"value2\",\n    \"key3\" : \"value3\"\n   }\n}\n</code></pre>\n\n<p>and fetch data this way :</p>\n\n<p><strong>MyFirebaseMessagingService</strong></p>\n\n<pre><code>class MyFirebaseMessagingService : FirebaseMessagingService() {\n\n    override fun onMessageReceived(p0: RemoteMessage) {\n        val data = p0.data\n        val title = data[\"title\"]\n        val message = data[\"message\"]\n        val key1= data[\"value1\"]\n        val key2= data[\"value2\"]\n        val key3= data[\"value3\"]\n\n        showNotification(title, message, ...)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 612, "user_id": 9729980, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pdp1X.jpg?s=128&g=1", "display_name": "Vitor Ferreira", "link": "https://stackoverflow.com/users/9729980/vitor-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577289874, "creation_date": 1577287654, "last_edit_date": 1577289874, "question_id": 59479721, "link": "https://stackoverflow.com/questions/59479721/how-to-read-the-payload-of-a-firebase-cloud-messaging-notification", "title": "How to read the payload of a Firebase Cloud Messaging notification?", "body": "<p>I am using Firebase Cloud Messaging to send data notifications to other users. I'm sending a json similar to this:</p>\n\n<pre><code>    {\n  \"message\":{\n    \"to\":\"bk3RNwTe3H0:CI2k_HHwgIpoDKCIZvvDMExUdFQ3P1...\",\n    \"notification\":{\n      \"title\":\"Portugal vs. Denmark\",\n      \"body\":\"great match!\"\n    },\n    \"data\" : {\n      \"type\" : \"MSG\",\n      \"id\" : \"abcdefg123456....\"\n    }\n  }\n}\n</code></pre>\n\n<p>And this code to receive notifications:</p>\n\n<pre><code>    class MyFirebaseMessagingService : FirebaseMessagingService() {\n        override fun onMessageReceived(remoteMessage: RemoteMessage) {\n\n            remoteMessage.notification?.let { notificacao -&gt;\n\n             //How to read payload?\n\n                enviarNotificacao(notificacao.title ?: \"\", notificacao.body ?: \"\")\n            }\n        }\n</code></pre>\n\n<p>How do I read the data contained in \"id\" and \"type\"?</p>\n"}, {"tags": ["android", "button", "kotlin", "appwidgetprovider", "background-drawable"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8445705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9208a6ed87ba7d31fd4ac0c71332a30d?s=128&d=identicon&r=PG&f=1", "display_name": "Uday Hegde", "link": "https://stackoverflow.com/users/8445705/uday-hegde"}, "edited": false, "score": 0, "creation_date": 1577286824, "post_id": 59479594, "comment_id": 105136119, "body": "Even if I use TextView or ImageButton, I wont be able to set background as I wanted, and i also want to set text and icon but those can be achieved easily."}], "tags": [], "owner": {"reputation": 26, "user_id": 12596029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c61b1feda4348b86e6e5c2e3a798de8?s=128&d=identicon&r=PG&f=1", "display_name": "pwnd", "link": "https://stackoverflow.com/users/12596029/pwnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1577286443, "creation_date": 1577286443, "answer_id": 59479594, "question_id": 59479557, "link": "https://stackoverflow.com/questions/59479557/android-widgetprovider-set-backgrounddrawable-for-button/59479594#59479594", "title": "android widgetProvider : set backgroundDrawable for button", "body": "<p>If you want a bitmap as background you should use ImageButton instead. Also you dont have to use a button at all. You could use a TextView or whatever you need to display your content and gradient and then add a listener to it.</p>\n"}], "owner": {"reputation": 1, "user_id": 8445705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9208a6ed87ba7d31fd4ac0c71332a30d?s=128&d=identicon&r=PG&f=1", "display_name": "Uday Hegde", "link": "https://stackoverflow.com/users/8445705/uday-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577321172, "creation_date": 1577286130, "last_edit_date": 1577321172, "question_id": 59479557, "link": "https://stackoverflow.com/questions/59479557/android-widgetprovider-set-backgrounddrawable-for-button", "title": "android widgetProvider : set backgroundDrawable for button", "body": "<p>I am trying to set <strong>background</strong> for button (<strong>a homeScreen Widget</strong>) through a <strong>configuration activity</strong>.\nbackground color is accepted from user (from a JSON)\nusing that color, 2 GradientDrawables are prepared and added in StateListDrawable.\nI want to set this as background for button. but for RemoteViews there is no method that supports Drawable class and if i convert drawable to BitMap there is no method in Button that accepts BitMap for background.</p>\n\n<pre><code>fun configueWidget(){\n    val gd = GradientDrawable()\n    val gdPressed = GradientDrawable()\n    val stateDrawable = StateListDrawable()\n    setButtonDrawableColor(gd,gdPressed,jsonObj.getInt(\"color\"))\n    stateDrawable.addState(intArrayOf(android.R.attr.state_pressed),gdPressed)\n    stateDrawable.addState(intArrayOf(),gd)\n    RemoteViews(context.packageName, R.layout.widget_layout).also { views-&gt;\n        views.setTextViewCompoundDrawables(R.id.widget_button,jsonObj.getInt(\"icon_res_id\"),0,0,0)\n\n        //i want to set button background here\n\n        val intent = Intent(context,ButtonWidgetProvider::class.java)\n        intent.action = ButtonWidgetProvider.BUTTON_CLICK\n        intent.putExtra(\"WidgetID\",widgetId)\n        val pendingIntent = PendingIntent.getActivity(context, widgetId, intent, 0)\n        views.setOnClickPendingIntent(R.id.widget_button,pendingIntent)\n        AppWidgetManager.getInstance(context).updateAppWidget(widgetId, views)\n    }\n}\n\nfun setButtonDrawableColor(drawableNormal:GradientDrawable, drawablePressed:GradientDrawable, colorInt:Int){\n    val red = Color.red(colorInt)\n    val green = Color.green(colorInt)\n    val blue = Color.blue(colorInt)\n    val newColorInt = Color.argb(0xFF,\n        when{red&gt;0x80-&gt;red-0x30;else -&gt; red+0x30},\n        when{green&gt;0x80-&gt;green-0x30;else -&gt; green+0x30},\n        when{blue&gt;0x80-&gt;blue-0x30;else -&gt; blue+0x30})\n    drawableNormal.colors = intArrayOf(colorInt,newColorInt)\n    drawableNormal.setStroke(8,newColorInt)\n\n    val pressedColorInt = Color.argb(0xFF,\n        when{red&gt;0x80-&gt;red-0x20;else -&gt; red+0x20},\n        when{green&gt;0x80-&gt;green-0x20;else -&gt; green+0x20},\n        when{blue&gt;0x80-&gt;blue-0x20;else -&gt; blue+0x20})\n    val pressedColorGradientInt = Color.argb(0xFF,\n        when{red&gt;0x80-&gt;red-0x50;else -&gt; red+0x50},\n        when{green&gt;0x80-&gt;green-0x50;else -&gt; green+0x50},\n        when{blue&gt;0x80-&gt;blue-0x50;else -&gt; blue+0x50})\n    drawablePressed.colors = intArrayOf(pressedColorInt,pressedColorGradientInt)\n    drawablePressed.setStroke(8,pressedColorGradientInt)\n}\n</code></pre>\n\n<p>Is there a way to solve this? (I don't want to set background from resource because I won't be able to change colors)</p>\n"}, {"tags": ["kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577525720, "post_id": 59479020, "comment_id": 105191494, "body": "Library 1 is a plain java and library 2 is android library?"}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "reply_to_user": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577536297, "post_id": 59479020, "comment_id": 105193622, "body": "&quot;:library1&quot; and &quot;:library2&quot; both are Kotlin multiplatform libraries targeting JVM and Android. They both uses Kotlin and Java. &quot;:library2&quot; is intended to be dependency of 1) Android application and 2) desktop (JavaFX) application. That&#39;s why 1) AAR artifact and 2) JAR artifact both are needed (?) - so I use 1) Android target and 2) JVM target for both &quot;:library1&quot; and &quot;:library2&quot;."}, {"owner": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577536874, "post_id": 59479020, "comment_id": 105193741, "body": "Ok got that, but my question is does the libraries using android or java fx frameworks or they just ding standard java code operations .do you intend that one of the libraries will create Fragment or something like that ?"}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "reply_to_user": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577553768, "post_id": 59479020, "comment_id": 105198107, "body": "standard java code only, no specificity"}, {"owner": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577628056, "post_id": 59479020, "comment_id": 105211091, "body": "I cloned you project but I have a question if those libraries are not dependent on Android framework, why do you have &#39;AndroidManifest.xml&#39; and android targets in your grade build files?"}, {"owner": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577629388, "post_id": 59479020, "comment_id": 105211446, "body": "Another question is what command did you run that caused the error ? did you use IDE or command line ?"}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "reply_to_user": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577631109, "post_id": 59479020, "comment_id": 105211872, "body": "- <code>gradlew build</code> caused an error."}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "reply_to_user": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577632208, "post_id": 59479020, "comment_id": 105212166, "body": "I mean, usage of Android framework is not requirement for my use case. But is should be possible to do so. That&#39;s why AndroidManifest is present to cover general case."}, {"owner": {"reputation": 29795, "user_id": 720030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ed0a5a78d65824827fb112e8e716f8?s=128&d=identicon&r=PG", "display_name": "karmakaze", "link": "https://stackoverflow.com/users/720030/karmakaze"}, "edited": false, "score": 0, "creation_date": 1577676565, "post_id": 59479020, "comment_id": 105221586, "body": "That was my first question too. If either library1 or library2 has any Android references it will not work on JavaFX desktop."}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577676743, "post_id": 59479020, "comment_id": 105221623, "body": "They have android dependencies in androidMain source set, not in jvmMain source set."}, {"owner": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577719093, "post_id": 59479020, "comment_id": 105235624, "body": "I have tried the project in my computer and I saw that Library2 can receive dependencies from Library1, but only kaitlin classes, it cannot receive java class dependency, and I saw that the .kt files are compiled to a file but the .java aren&#39;t ."}, {"owner": {"reputation": 572, "user_id": 4489305, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-F7SZw6BywKs/AAAAAAAAAAI/AAAAAAAABa8/9FF0bU3jjFw/photo.jpg?sz=128", "display_name": "Rami Loiferman", "link": "https://stackoverflow.com/users/4489305/rami-loiferman"}, "edited": false, "score": 0, "creation_date": 1577719123, "post_id": 59479020, "comment_id": 105235636, "body": "I didn&#39;t found a solution thought"}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577720225, "post_id": 59479020, "comment_id": 105236142, "body": "Ok. Thanks for try and response. No one can answer <a href=\"https://discuss.kotlinlang.org/t/how-to-share-java-code-between-android-and-jvm-targets\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}, {"owner": {"reputation": 872, "user_id": 1196580, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/clCgI.jpg?s=128&g=1", "display_name": "bmavus", "link": "https://stackoverflow.com/users/1196580/bmavus"}, "edited": false, "score": 1, "creation_date": 1577971664, "post_id": 59479020, "comment_id": 105296060, "body": "may this help: <a href=\"https://blog.gradle.org/alignment-with-gradle-module-metadata\" rel=\"nofollow noreferrer\">blog.gradle.org/alignment-with-gradle-module-metadata</a>"}, {"owner": {"reputation": 1363, "user_id": 10146757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db954baf58d875edacdd6e20256ee698?s=128&d=identicon&r=PG&f=1", "display_name": "BeastCoder", "link": "https://stackoverflow.com/users/10146757/beastcoder"}, "edited": false, "score": 1, "creation_date": 1578009371, "post_id": 59479020, "comment_id": 105310650, "body": "@DmitryKolesnikovich Not sure if this could help: <a href=\"https://discuss.kotlinlang.org/t/multi-platform-project-with-a-jvm-common-target/12032\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577965750, "post_id": 59557531, "comment_id": 105293304, "body": "But what if &quot;:library1&quot; has to have android specific classes? Is there some way to deal with that? (Your solution is what I considered myself but that was not ideal for me, so I decided to ask on SO)"}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "reply_to_user": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577970977, "post_id": 59557531, "comment_id": 105295747, "body": "I don&#39;t see how you can have <code>library1</code> contain some android specific code, and expect the exported <code>.jar</code> to run on any JVM. It is a broken architecture..."}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577971958, "post_id": 59557531, "comment_id": 105296202, "body": "I have android specific code in <code>androidMain</code> source set. That&#39;s how exported <code>.jar</code> will not have any android specific code."}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "reply_to_user": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577981021, "post_id": 59557531, "comment_id": 105300625, "body": "Ok I understand, but unfortunately, as of now <code>kotlin 1.3.61</code>, there is no way to have the <code>jvm withJava</code> and the <code>android</code> target in the same <code>kotlin-multiplatform</code> project.  You will end up with the <code>Error: The &#39;java&#39; plugin has been applied, but it is not compatible with the Android plugins</code>"}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577983181, "post_id": 59557531, "comment_id": 105301558, "body": "I consider <code>java</code> and <code>android</code> plugins can not work together by design regardless of <code>kotlin-multiplatform</code> current state. So, it&#39;s one who utilizes those plugins is responsible to find the way to use them together not JetBrains guys who improve <code>kotlin-multiplatform</code>"}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "reply_to_user": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577983932, "post_id": 59557531, "comment_id": 105301940, "body": "Probably, but still this is how it is documented in the kotlin docs: <a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html#java-support-in-jvm-targets\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577986577, "post_id": 59557531, "comment_id": 105303126, "body": "The question is how to find workaround to make my thing work."}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "reply_to_user": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577986772, "post_id": 59557531, "comment_id": 105303211, "body": "Sorry but it wasn&#39;t really clear to me that you were aware of the current limitation, and I proposed a solution to your problem. Even if you have android source code in <code>library1</code> this solution should work, the only downside is that you cannot have android resources packaged in a <code>jar</code> that&#39;s all. And obviously you should not try to call any android api in a non-android target"}, {"owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 0, "creation_date": 1577988142, "post_id": 59557531, "comment_id": 105303703, "body": "This &quot;the only downside&quot; makes your solution incomplete and thus inappropriate. I will mark your answer as correct though. Because SO is about correct answers not useful ones."}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "reply_to_user": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "edited": false, "score": 1, "creation_date": 1577988876, "post_id": 59557531, "comment_id": 105303953, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/205249/discussion-between-gomino-and-dmitry-kolesnikovich\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "is_accepted": true, "score": 3, "last_activity_date": 1578009097, "last_edit_date": 1592644375, "creation_date": 1577929279, "answer_id": 59557531, "question_id": 59479020, "link": "https://stackoverflow.com/questions/59479020/how-to-share-java-code-between-android-and-jvm-targets-with-kotlin-multiplatfor/59557531#59557531", "title": "How to share Java code between Android and JVM targets (with Kotlin Multiplatform)?", "body": "<h1>~~~~ EDIT ~~~~</h1>\n<p>Another workaround the issue without losing the ability to generate an android archive <code>.aar</code> for the <code>library1</code> would be to make a new version of this same library depending on precompiled artefacts of a splitted version of the original <code>library1</code>.</p>\n<p>So you would end up with a multi-module gradle project, something like this:</p>\n<ul>\n<li>library1-jvm with java plugin enabled</li>\n<li>library1-android with android plugin enabled</li>\n<li>library1 which will depends on prebuilt library1-jvm.jar and library1-android.aar</li>\n</ul>\n<p>You could use whatever you prefer to publish those artefacts, but a <code>local maven repo</code> should work just fine!</p>\n<p>That would mean replacing:</p>\n<pre><code>kotlin {\n    targets {\n        jvm()\n        android()\n    }\n    sourceSets {\n        jvmMain {\n            dependencies {\n                 api kotlin(&quot;stdlib-common&quot;)\n                 api kotlin(&quot;stdlib-jdk8&quot;)\n            }\n        }\n        androidMain {\n            dependsOn jvmMain\n        }\n    }\n}\n</code></pre>\n<p>with:</p>\n<pre><code>kotlin {\n    targets {\n        jvm()\n        android()\n    }\n    sourceSets {\n        jvmMain {\n            dependencies {\n                api kotlin(&quot;stdlib-common&quot;)\n                api kotlin(&quot;stdlib-jdk8&quot;)\n                api &quot;com.company:library-jvm:1.0.0&quot; \n            }\n        }\n        androidMain {\n            dependsOn jvmMain\n            dependencies {\n                api &quot;com.company:library-android:1.0.0&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>That way, you don't need the java plugin at all in the final <code>library1</code>, because all the java code will already be built in a separate step.</p>\n<p>Hence <code>library1</code> could keep both the <code>JVM</code> and <code>Android</code> targets</p>\n<h1>~~~~~~~~~~~~~</h1>\n<p>In order to fix your issue, you need to:</p>\n<ul>\n<li>Split your build.gradle configuration in order to have one config per library, this will be needed because you cannot enable the java plugin and the android at the same time for the same Gradle project, or you will end up with the following <code>Error: The 'java' plugin has been applied, but it is not compatible with the Android plugins</code></li>\n<li>Enable the java plugin in your <code>library1</code> project if you want your JVM target to recognize your Java source files.</li>\n<li>The Java source files need to be placed in the sibling directories <code>java</code> of the <code>kotlin</code> source roots.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/QxFTk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxFTk.png\" alt=\"java source roots\" /></a></p>\n<p>More infos: Kotlin docs for <a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html#java-support-in-jvm-targets\" rel=\"nofollow noreferrer\">java-support-in-jvm-targets</a></p>\n<p>I also created a <a href=\"https://github.com/dmitrykolesnikovich/accessJavaCode-issue/pull/1\" rel=\"nofollow noreferrer\">pull request</a> solving your issue.</p>\n<p>The downside of this approach is that you will not be able to generate an android archive <code>.aar</code>  for the <code>library1</code>, but I guess using the java archive <code>.jar</code> in your android project should not be a problem at all.</p>\n<p><em><strong>library1/build.gradle:</strong></em></p>\n<pre><code>apply plugin: &quot;kotlin-multiplatform&quot;\n\nkotlin {\n    jvm {\n        withJava()\n    }\n\n    sourceSets {\n        jvmMain {\n            dependencies {\n                api kotlin(&quot;stdlib-common&quot;)\n                api kotlin(&quot;stdlib-jdk8&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n<p><em><strong>library2/build.gradle:</strong></em></p>\n<pre><code>apply plugin: &quot;kotlin-multiplatform&quot;\napply plugin: &quot;com.android.library&quot;\n\nkotlin{\n    jvm()\n    android()\n\n    sourceSets {\n        jvmMain.dependencies {\n            api project(&quot;:library1&quot;)\n        }\n        androidMain {\n            dependsOn jvmMain\n        }\n    }\n}\n\nandroid {\n    compileSdkVersion 28\n    sourceSets {\n        main {\n             java.srcDirs += &quot;src/jvmMain/kotlin&quot;\n             manifest.srcFile &quot;src/androidMain/AndroidManifest.xml&quot;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 909169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a01f2a00783b6c3cd22c0f00dedb5434?s=128&d=identicon&r=PG", "display_name": "Dmitry Kolesnikovich", "link": "https://stackoverflow.com/users/909169/dmitry-kolesnikovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 1, "accepted_answer_id": 59557531, "answer_count": 1, "score": 9, "last_activity_date": 1578009097, "creation_date": 1577281832, "last_edit_date": 1577536211, "question_id": 59479020, "link": "https://stackoverflow.com/questions/59479020/how-to-share-java-code-between-android-and-jvm-targets-with-kotlin-multiplatfor", "title": "How to share Java code between Android and JVM targets (with Kotlin Multiplatform)?", "body": "<p>I am trying to share Java code between Android and JVM targets using Kotlin Multiplatform feature (sample project: <a href=\"https://github.com/dmitrykolesnikovich/accessJavaCode-issue\" rel=\"noreferrer\">https://github.com/dmitrykolesnikovich/accessJavaCode-issue</a>)</p>\n\n<p>Simply saying, \":library1\" and \":library2\" both are Kotlin multiplatform libraries targeting JVM and Android. \":library2\" depends on \":library1\".  They both uses Kotlin and Java. \":library2\" is intended to be dependency of 1) Android application and 2) desktop (JavaFX) application. That's why 1) AAR artifact and 2) JAR artifact both are needed (?) - so I use 1) Android target and 2) JVM target for both \":library1\" and \":library2\". </p>\n\n<p>The problem is that, when I have Java code in \":library1\"</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaCode {} // JavaCode.java\n</code></pre>\n\n<p>And Kotlin code in \":library2\" that depends on \":library1\"</p>\n\n<pre><code>class AccessJavaCode : JavaCode() // AccessJavaCode.kt\n</code></pre>\n\n<p>Android target is OK with recognizing Java but JVM target is not:</p>\n\n<pre><code>&gt; Task :library2:compileKotlinJvm FAILED\ne: AccessJavaCode.kt: (3, 38): Unresolved reference: JavaCode\n</code></pre>\n\n<p>In gradle config I define two plugins: <code>kotlin-multiplatform</code> and <code>com.android.library</code>: </p>\n\n<pre><code>apply plugin: \"kotlin-multiplatform\"\napply plugin: \"com.android.library\"\n\nkotlin {\n    targets {\n        jvm()\n        android()\n    }\n    sourceSets {\n        jvmMain {\n            dependencies {\n                api kotlin(\"stdlib-common\")\n                api kotlin(\"stdlib-jdk8\")            \n            }\n        }\n        androidMain {\n            dependsOn jvmMain\n        }\n    }\n}\n\nandroid {\n    compileSdkVersion 28\n    sourceSets {\n        main {\n            java.srcDirs += \"src/jvmMain/kotlin\" // Android target recognizes Java with this\n            manifest.srcFile \"src/androidMain/AndroidManifest.xml\"\n        }\n    }\n}\n</code></pre>\n\n<p>I am pretty sure it\u2019s something simple with my gradle file. Many thanks for your help guys.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1577276013, "post_id": 59478223, "comment_id": 105133621, "body": "If you type enter, then you don&#39;t close the stream. You just enter an empty line. So readLine() returns this empty line, not null."}, {"owner": {"reputation": 11, "user_id": 12343312, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t5yoJjDqo_Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfxjS8UNMwVMXB4jT1njEjaIOJtKg/photo.jpg?sz=128", "display_name": "Impossible NPC", "link": "https://stackoverflow.com/users/12343312/impossible-npc"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1577276240, "post_id": 59478223, "comment_id": 105133660, "body": "@JBNizet so how to make beverage equal null?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1577276279, "post_id": 59478223, "comment_id": 105133671, "body": "Close the stream (if your console supports it, Ctrl-D should do that, AFAIK). Or test if the string is empty instead of checking if it&#39;s null."}], "answers": [{"tags": [], "owner": {"reputation": 3759, "user_id": 5253239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e9xkj.jpg?s=128&g=1", "display_name": "kevin ternet", "link": "https://stackoverflow.com/users/5253239/kevin-ternet"}, "is_accepted": false, "score": 0, "last_activity_date": 1577288261, "creation_date": 1577288261, "answer_id": 59479795, "question_id": 59478223, "link": "https://stackoverflow.com/questions/59478223/var-doesnt-equal-null-but-it-should/59479795#59479795", "title": "var doesn&#39;t equal null, but it should", "body": "<p>I'm happy that you know Elvis operator but this time, to fix the bug I propose a classic if / else to have a more functional test which cover the case where you enter nothing </p>\n\n<p>Hence replacethis line : <code>val beverageServed: String = beverage ?: \"Buttered Ale\"</code></p>\n\n<p>By this one : \n<code>val beverageServed: String = if ((beverage != null) &amp;&amp; (beverage != \"\")) beverage else \"Buttered Ale\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 4196, "user_id": 7653073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xjiZj.jpg?s=128&g=1", "display_name": "Malte Hartwig", "link": "https://stackoverflow.com/users/7653073/malte-hartwig"}, "is_accepted": false, "score": 0, "last_activity_date": 1577327700, "creation_date": 1577327700, "answer_id": 59483311, "question_id": 59478223, "link": "https://stackoverflow.com/questions/59478223/var-doesnt-equal-null-but-it-should/59483311#59483311", "title": "var doesn&#39;t equal null, but it should", "body": "<p>Instead of checking null equality, use <code>isNullOrBlank</code> or <code>isNullOrEmpty</code>:</p>\n\n<pre><code>var beverage: String? = readLine()\nif (beverage.isNullOrEmpty()) {\n    beverage = beverage.capitalize()\n}\n</code></pre>\n\n<p>You could also use more nullable chaining for a brevity:</p>\n\n<pre><code>println(\n    beverage\n        ?.ifBlank { null }\n        ?.capitalize()\n        ?: \"Buttered Ale\"\n)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12343312, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t5yoJjDqo_Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfxjS8UNMwVMXB4jT1njEjaIOJtKg/photo.jpg?sz=128", "display_name": "Impossible NPC", "link": "https://stackoverflow.com/users/12343312/impossible-npc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577327700, "creation_date": 1577275450, "last_edit_date": 1577275877, "question_id": 59478223, "link": "https://stackoverflow.com/questions/59478223/var-doesnt-equal-null-but-it-should", "title": "var doesn&#39;t equal null, but it should", "body": "<p>what i do after compiling is, insted of writing something in readLine, i press enter(return) so this should make bevarage equal null so i should see \"variable beverage equal null\" and \"Buttered Ale\" but what i see is nothing (empty lines), it seems like beverage is NOT equal null, why? and how do i fix it to make beverage equal null?</p>\n\n<pre><code>fun main()  {\n    var beverage:String? = readLine()\n    if(beverage !=null){\n        beverage =beverage .capitalize()\n    }else{\n        println(\"variable beverage equal null\")\n    }\n    val beverageServed: String = beverage ?: \"Buttered Ale\"\n    println(beverageServed)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 157, "user_id": 9030938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414a010c9cb288ffb3bfb8bb7f05c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/9030938/naveen"}, "edited": false, "score": 0, "creation_date": 1577276897, "post_id": 59478080, "comment_id": 105133798, "body": "Check this <a href=\"https://stackoverflow.com/a/25487744/9030938\">stackoverflow.com/a/25487744/9030938</a> Hope it will help"}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "reply_to_user": {"reputation": 157, "user_id": 9030938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414a010c9cb288ffb3bfb8bb7f05c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/9030938/naveen"}, "edited": false, "score": 0, "creation_date": 1577277904, "post_id": 59478080, "comment_id": 105134003, "body": "I did return true in the function onDown, it still doesn&#39;t help, I suspect that it&#39;s just impossible unless you edit the GestureDetector itself, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577277929, "post_id": 59478439, "comment_id": 105134008, "body": "Thank you for your effort, I would like to still try and implement it in the GestureDetector if it&#39;s possible"}], "tags": [], "owner": {"reputation": 96, "user_id": 9315408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe005176bae9f10e862b4461cc5e88e?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Ratawa", "link": "https://stackoverflow.com/users/9315408/shubham-ratawa"}, "is_accepted": false, "score": 1, "last_activity_date": 1577277114, "creation_date": 1577277114, "answer_id": 59478439, "question_id": 59478080, "link": "https://stackoverflow.com/questions/59478080/gesturedetector-detect-when-long-press-is-released/59478439#59478439", "title": "GestureDetector: Detect when long press is released", "body": "<p><strong>In Java You Can Do Like This</strong> </p>\n\n<pre><code> boolean isDown = false;\n</code></pre>\n\n<p>and </p>\n\n<pre><code> textView.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                int action = event.getAction();\n                if (action == MotionEvent.ACTION_DOWN) {\n                    Toast.makeText(v.getContext(), \"down: \" , 1000).show();\n                    isDown = true;\n                }\n\n                else if (action == MotionEvent.ACTION_UP) {\n\n\n                    if (isDown) {\n                        // touch press complete, show toast\n                        Toast.makeText(v.getContext(), \"User Release Long Press: \" , 1000).show();\n                        isDown = false;\n\n                    }\n                }\n\n\n                return true;\n            }\n        });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "is_accepted": false, "score": 0, "last_activity_date": 1577293972, "creation_date": 1577293972, "answer_id": 59480444, "question_id": 59478080, "link": "https://stackoverflow.com/questions/59478080/gesturedetector-detect-when-long-press-is-released/59480444#59480444", "title": "GestureDetector: Detect when long press is released", "body": "<p>Apparantly you have to work with GestureDetector in conjunction with OnTouchEvent:</p>\n\n<pre><code>val detector = GestureDetector(object: GestureDetector.SimpleOnGestureListener() {\n            override fun onScroll(\n                e1: MotionEvent?,\n                e2: MotionEvent?,\n                distanceX: Float,\n                distanceY: Float\n            ): Boolean {\n                currentAction = \"isScrolling\"\n                Log.d(\"TAG\", \"SCROLLING\")\n                return true\n            }\n\n            override fun onLongPress(e: MotionEvent?) {\n                Log.d(\"TAG\", \"Long press!\")\n                currentAction = \"isLongPressed\"\n                super.onLongPress(e)\n            }\n\n            override fun onDown(e: MotionEvent?): Boolean {\n                return true\n            }\n        })\n\n        val gestureListener = View.OnTouchListener(function = { view, event -&gt;\n            detector.onTouchEvent(event)\n\n            if(event.getAction() == MotionEvent.ACTION_UP) {\n                when (currentAction) {\n                    \"isScrolling\" -&gt; {\n                        Log.d(\"TAG\", \"Done scrolling\")\n                        currentAction = \"\"\n                    }\n                    \"isLongPressed\" -&gt; {\n                        Log.d(\"TAG\", \"Done long pressing\")\n                        currentAction = \"\"\n                    }\n                }\n\n            }\n\n            false\n        })\n\n        profilePic1.setOnTouchListener(gestureListener)\n</code></pre>\n\n<p>The ACTION_UP is available and can detect any release of the finger, whether from longPress, scrolling, and so on</p>\n"}], "owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577293972, "creation_date": 1577274128, "last_edit_date": 1577279245, "question_id": 59478080, "link": "https://stackoverflow.com/questions/59478080/gesturedetector-detect-when-long-press-is-released", "title": "GestureDetector: Detect when long press is released", "body": "<p>I'm overriding some functions of the GestureDetector, and I detect a long press and would like to also detect once it's released, but I haven't found the function for. Actually the only function I found for releasing the tap is onSingleTapUp. Is it possible to detect when a long press is released?</p>\n\n<p>My code:</p>\n\n<pre><code>class GestureListener (val position: Int) : GestureDetector.SimpleOnGestureListener() {\n\n        override fun onLongPress(e: MotionEvent?) {\n            // Do something here\n            super.onLongPress(e)\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1577377341, "post_id": 59477480, "comment_id": 105156089, "body": "On a general note I&#39;d say yes. You shouldn&#39;t mock what you&#39;re testing. My question is, why testing the repository from the view model? If you&#39;re doing a unit test, the repository should be tested isolated. The kind of test you describe is actually a good candidate to test the repository in isolation."}, {"owner": {"reputation": 79, "user_id": 5700215, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a6a23791e8d5084e559cf2d2af8cb561?s=128&d=identicon&r=PG&f=1", "display_name": "Rashedul Rough", "link": "https://stackoverflow.com/users/5700215/rashedul-rough"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1577386227, "post_id": 59477480, "comment_id": 105158895, "body": "@Fred : sorry I am new in testing. But my confusion is that if I need to test everything in isolation then how am I going to know what is returned from a method in repository to the viewmodel. Whats the point if I have to mock the result too and then assert against it?"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1577432483, "post_id": 59477480, "comment_id": 105168244, "body": "So usually that&#39;s done via verifying interactions. With mockito you can check that the repository gets called from the view model. Then with unit testing the repository, you&#39;re sure it returns what it&#39;s meant to return. When you put things together, the consensus is that they should work. If you test everything together I think that falls more into the realm of integration testing. If you&#39;d like I can post an answer with an example, it&#39;s just that it won&#39;t answer your question..."}, {"owner": {"reputation": 79, "user_id": 5700215, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a6a23791e8d5084e559cf2d2af8cb561?s=128&d=identicon&r=PG&f=1", "display_name": "Rashedul Rough", "link": "https://stackoverflow.com/users/5700215/rashedul-rough"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1577533160, "post_id": 59477480, "comment_id": 105193040, "body": "@Fred  :thanks for your reply. Ok I think I understand that doing test in isolation is a good idea. But can I test with original result? lets say in my MainApiClient I am getting result from webservice call with retrofit in mainAPi. So can I test in MainApiClient that the webservice result was success or error by not mocking the result?"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1577543477, "post_id": 59477480, "comment_id": 105195350, "body": "Well the idea is to actually mock the result so you can fake a success and a failure."}], "owner": {"reputation": 79, "user_id": 5700215, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a6a23791e8d5084e559cf2d2af8cb561?s=128&d=identicon&r=PG&f=1", "display_name": "Rashedul Rough", "link": "https://stackoverflow.com/users/5700215/rashedul-rough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1577269843, "creation_date": 1577269843, "question_id": 59477480, "link": "https://stackoverflow.com/questions/59477480/how-do-i-mock-my-repository-and-apiclient-from-inside-my-viewmodel", "title": "How do I mock my repository and apiClient from inside my viewModel", "body": "<p>I have a <strong>MainViewModel</strong>:</p>\n\n<pre><code> class MainViewModel @Inject constructor(val mainRepository: MainRepository) : ViewModel() {\n.....\nval source: LiveData&lt;GenericApiResponse&lt;GitResult&gt;&gt; = mainRepository.fetchApiresultFromClient(str_query)  \n}\n</code></pre>\n\n<p><strong>Mainrepository:</strong></p>\n\n<pre><code>class MainRepository @Inject constructor(val mainApiClient: MainApiClient) {\n    ....\n    fun fetchApiresultFromClient(strQuery: String)\n     : LiveData&lt;GenericApiResponse&lt;GitResult&gt;&gt; {\n\n      var returnedData =    mainApiClient.getApiResultFromServer(strQuery)\n      return returnedData\n     }\n</code></pre>\n\n<p><strong>MainApiClient:</strong></p>\n\n<pre><code>class MainApiClient  @Inject constructor(val mainApi: MainApi) {\n\n   fun getApiResultFromServer(query :String )\n        : LiveData&lt;GenericApiResponse&lt;GitResult&gt;&gt; {\n\n    var apiResult =   mainApi.getAllRepo(query)\n\n       return apiResult\n\n    }\n}\n</code></pre>\n\n<p>Now I want to test the below function in viewModel <code>mainRepository.fetchApiresultFromClient(str_query)</code></p>\n\n<p>I want to test that when the above function is called from viewModel then it returns the same result that's returned from <code>mainApiClient.getApiResultFromServer()</code></p>\n\n<p>But to do that I need to mock both repository and apiClient. I tried the below but unfortunately seems its not working.</p>\n\n<pre><code>@ExtendWith(InstantExecutorExtension::class)\nclass MainViewModelTest {\n\n    lateinit var  mainViewModel: MainViewModel\n\n    @Mock\n     lateinit var  mainRepository: MainRepository\n\n    @Mock\n    lateinit var  mainApiClient: MainApiClient\n\n\n    @BeforeEach\n    fun init()\n    {\n    MockitoAnnotations.initMocks(this)\n    mainViewModel = MainViewModel(mainRepository)\n    }\n\n    @Test\n    fun setSearchQuery_callsRepositoryMethod_returnSuccess() {\n\n           //arrange\n         mainViewModel.liveResult.value = ApiSuccessResponse(TestUtil.obj_gitresult) as GenericApiResponse&lt;GitResult&gt;\n\n        Mockito.`when`(mainApiClient.getApiResultFromServer(ArgumentMatchers.anyString(), ArgumentMatchers.anyInt()))\n            .thenReturn(mainViewModel.liveResult)\n\n\n           //act\n\n        var repo_response = mainRepository.fetchApiresultFromClient(\"java\")\n\n\n        //assert\n           // assertTrue(repo_response.value is  GenericApiResponse&lt;GitResult&gt; ) //for asserting return type is of type GenericResponse //--TestResult- java.lang.NullPointerException\n           // assertTrue(repo_response.value is  ApiSuccessResponse&lt;GitResult&gt; ) //for asserting return type is of type ApiSuccessResponse //--TestResult- java.lang.NullPointerException\n           //  assertEquals(mainViewModel.liveResult.value , repo_response.value ) //for asserting 2 generic types are equal //--TestResult- java.lang.NullPointerException\n        }\n\n}\n</code></pre>\n\n<p>Am I doing something wrong by mocking both <code>MainRepository</code> and <code>MainApiClient</code>. What is the proper way to do it?</p>\n"}, {"tags": ["android", "kotlin", "gesturedetector"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 1, "creation_date": 1577265644, "post_id": 59476868, "comment_id": 105131282, "body": "Create your own class that extends GestureDetector, and in the class constructor, provide it with a view or use a builder pattern."}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "reply_to_user": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1577267002, "post_id": 59476868, "comment_id": 105131571, "body": "Thanks Ahmad I tried to implement a custom class that extends GestureDetector but it&#39;s still not working, could you please take a look? I edited my question to include the code"}, {"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1577269321, "post_id": 59476868, "comment_id": 105132066, "body": "What&#39;s not working? Post logs."}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "reply_to_user": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1577269616, "post_id": 59476868, "comment_id": 105132124, "body": "I&#39;m getting the error &quot;none of the following functions can be called with the arguments supplied&quot; because I add in the position:Int, and it&#39;s an argument that shouldn&#39;t be included in the GestureDetecor, but I don&#39;t udnerstand why it&#39;s not working since I&#39;m extending it with a custom class"}, {"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1577271955, "post_id": 59476868, "comment_id": 105132632, "body": "Post the class and how you are instantiating in your question. Don&#39;t update it in the answer below."}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "reply_to_user": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1577274205, "post_id": 59476868, "comment_id": 105133177, "body": "Please take a look at my question, I posted the code of the class I&#39;m trying to instaniate, although the answer I posted is a working solution so it&#39;s ok already thanks"}], "answers": [{"tags": [], "owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "is_accepted": false, "score": 0, "last_activity_date": 1577269780, "last_edit_date": 1577269780, "creation_date": 1577268530, "answer_id": 59477300, "question_id": 59476868, "link": "https://stackoverflow.com/questions/59476868/how-to-pass-a-view-or-a-custom-parameter-to-gesturedetector/59477300#59477300", "title": "How to pass a view or a custom parameter to GestureDetector?", "body": "<p>So I did find a solution, maybe it can benefit others. I'm not sure if it's ideal to create more than one gesture detectors, although they all direct to the same class:</p>\n\n<pre><code>    val gesture1 = GestureDetector(this@EditProfileActivity, GestureListener(1))\n    profilePic1.setOnTouchListener { view, event -&gt; gesture1.onTouchEvent(event) }\n\n    val gesture2 = GestureDetector(this@EditProfileActivity, GestureListener(2))\n    profilePic2.setOnTouchListener { view, event -&gt; gesture2.onTouchEvent(event) }\n\nclass GestureListener (val position: Int) : GestureDetector.SimpleOnGestureListener() {\n    override fun onDoubleTap(e: MotionEvent?): Boolean {\n        Log.d(\"HAVERI\", position.toString())\n        return super.onDoubleTap(e)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577269780, "creation_date": 1577265353, "last_edit_date": 1577266956, "question_id": 59476868, "link": "https://stackoverflow.com/questions/59476868/how-to-pass-a-view-or-a-custom-parameter-to-gesturedetector", "title": "How to pass a view or a custom parameter to GestureDetector?", "body": "<p>This is probably a noob question but I'm still new to Kotlin. I'm creating a single gesture detector for a few views and would like to pass the view to the listener, or even better a custom parameter.</p>\n\n<p>My code:</p>\n\n<pre><code>val gestureDetector = GestureDetector(this@EditProfileActivity, object : GestureDetector.SimpleOnGestureListener() {\n    override fun onSingleTapConfirmed(e: MotionEvent?): Boolean {\n        Log.d(\"myApp\", \"single tap confirmed  press\")\n    }\n})\nprofilePic1.setOnTouchListener { view, event -&gt; gestureDetector.onTouchEvent(event) }\nprofilePic2.setOnTouchListener { view, event -&gt; gestureDetector.onTouchEvent(event) }\n</code></pre>\n\n<p>I'm attaching the same listener to different views and want a way to differenatiate between the views in the override functions. How can I get the view in those functions, and in addition is it possible to pass a custom parameter such as Int</p>\n\n<p>Also, I tried to create my custom gestureDetector, but I get an error that \"none of the following functions can be called with the arguments supplied\", since I add the custom position argument, although I'm making a custom detector so I don't understand why it's not working:</p>\n\n<pre><code>class detector (context: Context?, listener: GestureDetector, handler: Handler, unused: Boolean, val position: Int )\n    : GestureDetector(this@EditProfileActivity, GestureDetector.SimpleOnGestureListener(), null, false, position ) {\n</code></pre>\n"}, {"tags": ["android", "kotlin", "http-live-streaming", "exoplayer", "exoplayer2.x"], "answers": [{"tags": [], "owner": {"reputation": 3256, "user_id": 6074224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PQXv8.png?s=128&g=1", "display_name": "Biscuit", "link": "https://stackoverflow.com/users/6074224/biscuit"}, "is_accepted": true, "score": 1, "last_activity_date": 1579014457, "creation_date": 1579014457, "answer_id": 59736524, "question_id": 59476069, "link": "https://stackoverflow.com/questions/59476069/exoplayer2-streaming-hls-videos-sometimes-plays-video-with-sound-onlyvideo-no/59736524#59736524", "title": "Exoplayer2 Streaming HLS Videos , Sometimes plays video with sound only(video not played)", "body": "<p>You might wanna change your DataSourceFactory, in case your URL are in HTTPS you might end up with an error, try using <code>DefaultDataSourceFactory</code> instead of <code>DefaultHttpDataSourceFactory</code></p>\n"}], "owner": {"reputation": 611, "user_id": 4298796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WuBUp.jpg?s=128&g=1", "display_name": "mona baharlou", "link": "https://stackoverflow.com/users/4298796/mona-baharlou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 59736524, "answer_count": 1, "score": 0, "last_activity_date": 1579014457, "creation_date": 1577257986, "last_edit_date": 1577260186, "question_id": 59476069, "link": "https://stackoverflow.com/questions/59476069/exoplayer2-streaming-hls-videos-sometimes-plays-video-with-sound-onlyvideo-no", "title": "Exoplayer2 Streaming HLS Videos , Sometimes plays video with sound only(video not played)", "body": "<p>I implement exoplayer2 in my app for playing HLS Videos, but sometimes it plays just sound, and doesn't work correctly. What am I supposed to do? I couldn't find why this happens sometimes.</p>\n\n<p><strong>this is the code for initializing player</strong> :</p>\n\n<pre><code>fun initPalyer(){\n  val mainHandler = Handler()\n  val bandwidthMeter: BandwidthMeter = DefaultBandwidthMeter.Builder(context).build()\n\n  bandwidthMeter.addEventListener(mainHandler!!, this)\n\n val trackSelectionFactory: TrackSelection.Factory = AdaptiveTrackSelection.Factory()\n\n  trackSelector = DefaultTrackSelector(context, trackSelectionFactory)\n\n  val builder = ParametersBuilder(context)\n\n  trackSelectorParameters = builder.build()\n  trackSelector!!.parameters = trackSelectorParameters\n\n\n    var rendersFactory: RenderersFactory = app.buildRenderersFactory(false)\n\n    player = SimpleExoPlayer.Builder(\n          context, renderersFactory\n   )\n   .setTrackSelector(trackSelector!!)\n   .setBandwidthMeter(bandwidthMeter)\n    //.setLoadControl(loadControl)\n   .build()\n\n    player!!.addListener(this)\n\n    loadState()\n    playerView.player = player!!\n\n}\n</code></pre>\n\n<p><strong>the code for preparing player</strong> :</p>\n\n<pre><code>private fun preparePlayer(uri: Uri) {\n        val mediaSource = MediaSourceBuilder().build(uri)\n\n        durationSet = false\n        player?.prepare(mediaSource, true, false)\n    }\n</code></pre>\n\n<p><strong>and the code for creating mediaSources</strong> :</p>\n\n<pre><code>class MediaSourceBuilder {\n\n    //Build various MediaSource depending upon the type of Media for a given video/audio uri\n    fun build(uri: Uri): MediaSource {\n        val userAgent = PlayerConstants.USER_AGENT\n        val lastPath = uri.lastPathSegment?:\"\"\n\n        val defaultHttpDataSourceFactory = DefaultHttpDataSourceFactory(userAgent)\n\n        if(lastPath.contains(PlayerConstants.FORMAT_MP3) || lastPath.contains(PlayerConstants.FORMAT_MP4)){\n\n            return ExtractorMediaSource.Factory(defaultHttpDataSourceFactory)\n                .createMediaSource(uri)\n\n        }else if(lastPath.contains(PlayerConstants.FORMAT_M3U8)){\n\n            return HlsMediaSource.Factory(defaultHttpDataSourceFactory)\n                .setAllowChunklessPreparation(true)\n                .createMediaSource(uri)\n\n        }else{\n            val dashChunkSourceFactory = DefaultDashChunkSource.Factory(defaultHttpDataSourceFactory)\n\n            return DashMediaSource.Factory(dashChunkSourceFactory, defaultHttpDataSourceFactory)\n                .createMediaSource(uri)\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit", "retrofit2"], "comments": [{"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 1, "creation_date": 1577255981, "post_id": 59475808, "comment_id": 105129458, "body": "this may be dumb, but logcat is complaining about character #12, which (depending on where you start reading it) happens to be the space between &quot;Content-Type&quot; and the &quot;:&quot; symbol. Try it as &quot;Content-Type:&quot; instead of &quot;Content-Type :&quot;"}, {"owner": {"reputation": 173, "user_id": 12463592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0433a528bd9846cd114164bce3674a4a?s=128&d=identicon&r=PG&f=1", "display_name": "DJ Al", "link": "https://stackoverflow.com/users/12463592/dj-al"}, "reply_to_user": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1577258209, "post_id": 59475808, "comment_id": 105129822, "body": "@TooManyEduardos, ohhhh yeees :D i should use Content-Type: . thanks dear"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 12463592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0433a528bd9846cd114164bce3674a4a?s=128&d=identicon&r=PG&f=1", "display_name": "DJ Al", "link": "https://stackoverflow.com/users/12463592/dj-al"}, "edited": false, "score": 0, "creation_date": 1577256310, "post_id": 59475845, "comment_id": 105129502, "body": "Thanks dear, but i add into <code>newAddress</code> method, i should add this in all of pages used <code>newAddress</code> !"}, {"owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "reply_to_user": {"reputation": 173, "user_id": 12463592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0433a528bd9846cd114164bce3674a4a?s=128&d=identicon&r=PG&f=1", "display_name": "DJ Al", "link": "https://stackoverflow.com/users/12463592/dj-al"}, "edited": false, "score": 0, "creation_date": 1577256710, "post_id": 59475845, "comment_id": 105129561, "body": "If you want dynamic headers, you make this"}, {"owner": {"reputation": 2098, "user_id": 4711030, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/OQV0d.jpg?s=128&g=1", "display_name": "NehaK", "link": "https://stackoverflow.com/users/4711030/nehak"}, "edited": false, "score": 0, "creation_date": 1608222786, "post_id": 59475845, "comment_id": 115523324, "body": "when I am using this HeaderMap, it is not taking all values, some of them are getting lost . They are missing when seeing through interceptor"}], "tags": [], "owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "is_accepted": false, "score": 0, "last_activity_date": 1577255876, "creation_date": 1577255876, "answer_id": 59475845, "question_id": 59475808, "link": "https://stackoverflow.com/questions/59475808/how-to-add-multiple-headers-in-retrofit-responses-in-android/59475845#59475845", "title": "How to add multiple headers in retrofit responses in Android", "body": "<p>You can use HeaderMap, same</p>\n\n<pre><code>val header = HashMap&lt;String, String&gt;()\n    header[\"Accept\"] = \"application/json\"\n    header[\"Content-Type\"] = \"application/json\"\n    header[\"Authorization\"] = \"userToken\"\n\n\n\n@POST(\"addresses\")\n    fun newAddress(@HeaderMap headers: Map&lt;String, String&gt;, @Body body: NewAddressBody): Single&lt;Response&lt;NewAddressResponse&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1692, "user_id": 4623481, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh4.googleusercontent.com/-v4HTmnPtAaU/AAAAAAAAAAI/AAAAAAAAAEI/CGh9nFKJhhU/photo.jpg?sz=128", "display_name": "Harsh Shah", "link": "https://stackoverflow.com/users/4623481/harsh-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1577256637, "creation_date": 1577256637, "answer_id": 59475920, "question_id": 59475808, "link": "https://stackoverflow.com/questions/59475808/how-to-add-multiple-headers-in-retrofit-responses-in-android/59475920#59475920", "title": "How to add multiple headers in retrofit responses in Android", "body": "<p>you can use your methods like this:</p>\n\n<pre><code> fun callLoginAPI(@HeaderMap header: Map&lt;String, String&gt;)\n</code></pre>\n\n<p>While calling this method just create the map add all the headers </p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 11975905, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCWuCunXLLZ2cTXHPhk_gNe-C-vGHZ73o5nvab1=k-s128", "display_name": "Library545", "link": "https://stackoverflow.com/users/11975905/library545"}, "is_accepted": true, "score": 3, "last_activity_date": 1577258976, "creation_date": 1577258976, "answer_id": 59476170, "question_id": 59475808, "link": "https://stackoverflow.com/questions/59475808/how-to-add-multiple-headers-in-retrofit-responses-in-android/59476170#59476170", "title": "How to add multiple headers in retrofit responses in Android", "body": "<p>To change</p>\n\n<pre><code>\"Content-Type : application/json\"\n</code></pre>\n\n<p>to</p>\n\n<pre><code>\"Content-Type: application/json\"\n</code></pre>\n\n<p>Just remove the blank after <code>Content-Type</code> :)</p>\n"}], "owner": {"reputation": 173, "user_id": 12463592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0433a528bd9846cd114164bce3674a4a?s=128&d=identicon&r=PG&f=1", "display_name": "DJ Al", "link": "https://stackoverflow.com/users/12463592/dj-al"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3876, "favorite_count": 0, "accepted_answer_id": 59476170, "answer_count": 3, "score": 3, "last_activity_date": 1577259157, "creation_date": 1577255540, "last_edit_date": 1577259157, "question_id": 59475808, "link": "https://stackoverflow.com/questions/59475808/how-to-add-multiple-headers-in-retrofit-responses-in-android", "title": "How to add multiple headers in retrofit responses in Android", "body": "<p>In my application i want get some data from server and for this i used <strong>retrofit</strong>.<br>\nI should add some <strong>Headers</strong> but after run application show me <strong>ForceClose</strong> error!<br></p>\n\n<p><strong>ApiServices codes :</strong></p>\n\n<pre><code>interface ApiServices {\n    @Headers(\n        \"Accept: application/json\",\n        \"Content-Type : application/json\"\n    )\n    @POST(\"user/get-password\")\n    fun sendPhoneNumber(@Body body: LoginSendPhoneBody): Single&lt;Response&lt;LoginSendPhoneResponse&gt;&gt;\n\n    @Headers(\n        \"Accept: application/json\",\n        \"Content-Type : application/json\"\n    )\n    @POST(\"addresses\")\n    fun newAddress(@Header(\"Authorization\") userToken: String, @Body body: NewAddressBody):\n            Single&lt;Response&lt;NewAddressResponse&gt;&gt;\n}\n</code></pre>\n\n<p>My Retrofit version is <strong>2.5.0</strong> !<br></p>\n\n<p>In <strong>retrofit</strong> documents i read for set multiple <strong>header</strong> i should use <code>{}</code> into <strong>Headers</strong> such as <code>@Headers({...})</code> , but after add <code>{}</code> show me error and i can't use <code>{}</code>!<br></p>\n\n<p><strong>Logcat error :</strong> </p>\n\n<pre><code>java.lang.IllegalArgumentException: Unexpected char 0x20 at 12 in header name: Content-Type \n    at okhttp3.Headers.checkName(Headers.java:261)\n    at okhttp3.Headers$Builder.add(Headers.java:311)\n    at retrofit2.RequestFactory$Builder.parseHeaders(RequestFactory.java:283)\n    at retrofit2.RequestFactory$Builder.parseMethodAnnotation(RequestFactory.java:224)\n    at retrofit2.RequestFactory$Builder.build(RequestFactory.java:161)\n    at retrofit2.RequestFactory.parseAnnotations(RequestFactory.java:65)\n    at retrofit2.ServiceMethod.parseAnnotations(ServiceMethod.java:25)\n    at retrofit2.Retrofit.loadServiceMethod(Retrofit.java:168)\n    at retrofit2.Retrofit$1.invoke(Retrofit.java:147)\n    at java.lang.reflect.Proxy.invoke(Proxy.java:913)\n    at $Proxy2.sendPhoneNumber(Unknown Source)\n    at com.app.app.data.network.ApiUseCase.getSendPhoneNumber(ApiUseCase.kt:42)\n</code></pre>\n\n<p>How can i fix it?</p>\n"}, {"tags": ["android", "kotlin", "ontouchlistener"], "answers": [{"comments": [{"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577263426, "post_id": 59475771, "comment_id": 105130829, "body": "Thank you very much, I&#39;m looking into it and it seems like a very simple solution"}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577336745, "post_id": 59475771, "comment_id": 105143803, "body": "Hello Ted, I would just like to write here that while the GestureDetector is helpful for simple assignments, it&#39;s fairly limited and not flexible. For example, you cannot detect scrolling/dragging event after long-press event, the long press will block any other events, and this behaviour cannot be changed unfortunately. It seems that the only way it to directly edit the GestureDetector.java, or not use it"}, {"owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "reply_to_user": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577343123, "post_id": 59475771, "comment_id": 105145120, "body": "@sir-haver - Do you mean that after the gesture detector calls the listener&#39;s <code>onLongPress</code> method, it won&#39;t call <code>onScroll</code>? That&#39;s a bit surprising. Let me know if that&#39;s the case and I might have a suggestion or two."}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577343703, "post_id": 59475771, "comment_id": 105145282, "body": "Hey Ted, I mean the opposite: that after the gesture detector calls the listener&#39;s onLongPress method, it WILL call onScroll (if the user moves their finger while still long pressing). Currently, the onLongPress method blocks the onScroll method - if I&#39;m not mistaken I could see this blocking inside GestureDetector.java, so when onLongPress is called, onScroll cannot be called. Is it possible to change this default behavior?"}, {"owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "reply_to_user": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577344323, "post_id": 59475771, "comment_id": 105145466, "body": "@sir-haver - Isn&#39;t that what you want--to drag after a long press? You can use the <code>onLongPress</code> call-back to set a flag and then ignore the scrolling unless the flag is set. (You can clear the flag in the <code>onDown</code> call-back that starts any gesture.)"}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577344613, "post_id": 59475771, "comment_id": 105145547, "body": "Yes Ted that&#39;s what I want, but please see that after the onLongPress the onScroll cannot be called anymore, the onLongPress blocks it"}, {"owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "reply_to_user": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577345509, "post_id": 59475771, "comment_id": 105145814, "body": "@sir-haver - I&#39;m confused. In your previous comment you said that the gesture detector &quot;WILL call onScroll&quot; and now you&#39;re saying that it can&#39;t be called. Which is it?"}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577345746, "post_id": 59475771, "comment_id": 105145869, "body": "Oh I&#39;m sorry I misunderstood you, I thought we were talking about the desired outcome, yes you&#39;re totally right, after the onLongPress is called, onScroll won&#39;t be called, this the current behavior. It seems that it&#39;s done delibarately, please see line 634 in GestureDetector.java, it seems they block movement detection when onLongPress is active. Thanks and sorry for the confusion!"}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577347332, "post_id": 59475771, "comment_id": 105146217, "body": "Oh I think I got it this is very smart, so you won&#39;t process the scrolling inside onScroll because it&#39;s unreachable and instead just process it inside the onTouchEvent. Thanks a lot for all your help! Btw I don&#39;t understand why the gesture detector was designed to block onScroll after a long press, would you say, as a general question, that it&#39;s ok to just edit the GestureDetector.java, or it&#39;s something that always should be avoided? Thanks"}, {"owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "reply_to_user": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577347541, "post_id": 59475771, "comment_id": 105146271, "body": "@sir-haver - I don&#39;t know why it was designed that way either. (Obviously I had forgotten that detail about gesture detectors--it&#39;s been a while.) As to editing the code, you can&#39;t really do that. You can make a copy of the code and edit it to fit your needs. I see nothing wrong with that if that gets the job done for you. But often there&#39;s an easier way, as in my suggested approach (assuming that it works)."}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577347690, "post_id": 59475771, "comment_id": 105146328, "body": "Ok I see, yes I will your suggestion, even though I made a &quot;low level solution&quot; that&#39;s working already, your solution is very elegant and simple thank you very much again"}], "tags": [], "owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "is_accepted": true, "score": 1, "last_activity_date": 1577348212, "last_edit_date": 1577348212, "creation_date": 1577255169, "answer_id": 59475771, "question_id": 59475720, "link": "https://stackoverflow.com/questions/59475720/distinguish-between-short-tap-click-and-long-press-in-ontouchlistener/59475771#59475771", "title": "Distinguish between short tap (click) and long press in OnTouchListener", "body": "<p>The Android way to handle this is using a gesture detector. The guide topic <a href=\"https://developer.android.com/training/gestures/detector\" rel=\"nofollow noreferrer\">Detect common gestures</a> discusses how to do this and provides sample code.</p>\n\n<p>The only reason you would want to operate at the relatively low level of a touch listener is if the logic you want to implement isn't already packaged up by one of the library gesture detectors. Fortunately for you, long press and dragging are already supported gestures.</p>\n\n<p>If you want to write your own logic anyway, the source code for the appropriate gesture detectors can provide you a good starting point. However, I strongly discourage that because the logic can be very tricky, with lots of edge cases to get right.</p>\n\n<p>EDIT: Okay, after reading the documentation, I confess that it isn't quite as simple as I thought. But it shouldn't be very complicated, either. The problem is clear from the <a href=\"https://developer.android.com/reference/android/support/v4/view/GestureDetectorCompat.html#setislongpressenabled\" rel=\"nofollow noreferrer\">documentation</a> for <code>setIsLongpressEnabled</code> (emphasis added):</p>\n\n<blockquote>\n  <p>Set whether longpress is enabled, if this is enabled when a user presses and holds down you get a longpress event <strong>and nothing further</strong>.</p>\n</blockquote>\n\n<p>So after a long press is detected, you won't get any scrolling call-backs. You can work around this as follows. The usual way a gesture detector is used is to write your <code>onTouchEvent</code> method as follows:</p>\n\n<pre><code>override fun onTouchEvent(event: MotionEvent): Boolean {\n    return if (mDetector.onTouchEvent(event)) {\n        true\n    } else {\n        super.onTouchEvent(event)\n    }\n}\n</code></pre>\n\n<p>You can change this to something like the following:</p>\n\n<pre><code>var isLongPress = false\n\noverride fun onTouchEvent(event: MotionEvent): Boolean {\n    if (mDetector.onTouchEvent(event)) {\n        val action = MotionEventCompat.getActionMasked(event)\n        if (isLongPress &amp;&amp; action == MotionEvent.ACTION_MOVE) {\n            // process the drag\n        }    \n        return true\n    }\n    return super.onTouchEvent(event)\n}\n</code></pre>\n\n<p>Then in the <code>onLongPress</code> call-back, capture the event coordinates and set <code>isLongPress</code>. You can clear <code>isLongPress</code> in the <code>onDown</code> call-back. You should then ignore any call-backs to <code>onScroll</code> because, by definition, they will be happening without a long press.</p>\n"}], "owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 1, "accepted_answer_id": 59475771, "answer_count": 1, "score": 0, "last_activity_date": 1577348212, "creation_date": 1577254559, "question_id": 59475720, "link": "https://stackoverflow.com/questions/59475720/distinguish-between-short-tap-click-and-long-press-in-ontouchlistener", "title": "Distinguish between short tap (click) and long press in OnTouchListener", "body": "<p>I already found this answer: <a href=\"https://stackoverflow.com/questions/26137617/distinguish-between-long-press-and-short-press-on-a-hardware-button\">Distinguish between long press and short press on a hardware button</a>\nBut I'm interested in OnTouchListener. The reason is that I want that a short press and release (click) will trigger a certain behavior, but long press (without release) will trigger a motion event to enable the user to drag the widget with their finger.</p>\n\n<p>So I'm using ACTION_MOVE:</p>\n\n<pre><code>val listener = View.OnTouchListener(function = { view, motionEvent -&gt;\n    // check if the user gesture upon the view is of moving action\n    when (motionEvent.action) {\n        MotionEvent.ACTION_DOWN-&gt; {\n            // pressed\n        }\n        MotionEvent.ACTION_MOVE -&gt; {\n            view.y = motionEvent.rawY - ((view.height / 2) + 60)\n            view.x = motionEvent.rawX - view.width / 2\n        }\n        MotionEvent.ACTION_UP -&gt; {\n            // Released\n</code></pre>\n\n<p>The problem is that ACTION_MOVE will trigger immediately. Is there an option to invoke it only when the press is long? I thought maybe to use timestamps somehow to enable and disable it but is there a simpler solution?</p>\n"}, {"tags": ["android", "jenkins", "gradle", "kotlin", "apk"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1577264332, "post_id": 59475452, "comment_id": 105131013, "body": "Please don&#39;t post screenshots of stack-traces. It&#39;s even truncated and therefore as good as no stack-trace at all. And without the code which produces the issue, that&#39;s just alike &quot;it&#39;s not working&quot;. How shall one answer that? Are you sure to have  the Android SDK setup for the user which runs <code>jenkins</code>?"}, {"owner": {"reputation": 719, "user_id": 2709298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce0c9b4e011ade979eb87a47ded8263?s=128&d=identicon&r=PG&f=1", "display_name": "Kishita Variya", "link": "https://stackoverflow.com/users/2709298/kishita-variya"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1577264847, "post_id": 59475452, "comment_id": 105131126, "body": "@MartinZeitler Yes, I do have Android SDK setup for the user. Also, the build is successful when compiled from Android Studio."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1577265024, "post_id": 59475452, "comment_id": 105131151, "body": "When you go to that workspace directory, can you manually run <code>gradlew.bat assembleDebug</code>? In case this should succeed, you can be certain that there is something not setup properly for the <code>jenkins</code> user. It could also be, that a required file had not been checked into version control."}, {"owner": {"reputation": 719, "user_id": 2709298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce0c9b4e011ade979eb87a47ded8263?s=128&d=identicon&r=PG&f=1", "display_name": "Kishita Variya", "link": "https://stackoverflow.com/users/2709298/kishita-variya"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1577266310, "post_id": 59475452, "comment_id": 105131418, "body": "I took a fresh clone and ran <code>gradlew.bat assembleDebug</code>, it built successfully. So, the check-in is accurate"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1577267538, "post_id": 59475452, "comment_id": 105131674, "body": "On Windows, there should be &quot;run as different user&quot; ...try this with the <code>cmd</code> box. When it builds with your current user, but not the jenkins user, then it&#39;s definitely the environment which is not setup properly."}], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 7155725, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aGTbZDHIvfs/AAAAAAAAAAI/AAAAAAAAABk/_m_8fMhQta4/photo.jpg?sz=128", "display_name": "Freddie", "link": "https://stackoverflow.com/users/7155725/freddie"}, "edited": false, "score": 1, "creation_date": 1579156277, "post_id": 59721940, "comment_id": 105672686, "body": "And don&#39;t forget set environment ANDORID_HOME in Jenkin"}], "tags": [], "owner": {"reputation": 310, "user_id": 4812935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7ef790716e5022decb449841aadb6e1?s=128&d=identicon&r=PG&f=1", "display_name": "kobuchi", "link": "https://stackoverflow.com/users/4812935/kobuchi"}, "is_accepted": true, "score": 17, "last_activity_date": 1581784605, "last_edit_date": 1581784605, "creation_date": 1578939183, "answer_id": 59721940, "question_id": 59475452, "link": "https://stackoverflow.com/questions/59475452/kotlin-kotlinnullpointerexception-no-error-message-while-building-apk-using-je/59721940#59721940", "title": "kotlin.KotlinNullPointerException (no error message) while building APK using Jenkins", "body": "<p>I had this problem while configuring my jenkins for an android project, and finally found the problem, after even formatting my pc.</p>\n\n<p>The gradle just cannot find where the Android SDK is located.\nAdding this to .zshrc (or .bashrc, whatever shell you are using) resolved my problem:</p>\n\n<p><code>export ANDROID_HOME=/Users/&lt;your-user-here&gt;/Library/Android/sdk</code></p>\n\n<p>Don't forget to verify if the specified folder above contains the folder sdk.</p>\n\n<p>Edit: I did this in a macOS environment, you should look for the correct sdk location in your OS.</p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 6290063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1356711731011564/picture?type=large", "display_name": "Sudhu", "link": "https://stackoverflow.com/users/6290063/sudhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1587468756, "creation_date": 1587468756, "answer_id": 61342550, "question_id": 59475452, "link": "https://stackoverflow.com/questions/59475452/kotlin-kotlinnullpointerexception-no-error-message-while-building-apk-using-je/61342550#61342550", "title": "kotlin.KotlinNullPointerException (no error message) while building APK using Jenkins", "body": "<p>you're missing local.properties file in root project.</p>\n\n<p>it should have ndk, sdk paths</p>\n\n<pre><code>ndk.dir=/home/sudendra/Android/Sdk/ndk/21.0.6113669\nsdk.dir=/home/sudendra/Android/Sdk\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 8567318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0o8gM.jpg?s=128&g=1", "display_name": "Ankur Yadav", "link": "https://stackoverflow.com/users/8567318/ankur-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1589450906, "creation_date": 1589450906, "answer_id": 61794655, "question_id": 59475452, "link": "https://stackoverflow.com/questions/59475452/kotlin-kotlinnullpointerexception-no-error-message-while-building-apk-using-je/61794655#61794655", "title": "kotlin.KotlinNullPointerException (no error message) while building APK using Jenkins", "body": "<p>Some how the path of your SDK has been changed in local.properties.</p>\n\n<p>It should be same as :</p>\n\n<p>File | Settings | Appearance &amp; Behavior | System Settings | Android SDK | Android SDK path.</p>\n"}], "owner": {"reputation": 719, "user_id": 2709298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce0c9b4e011ade979eb87a47ded8263?s=128&d=identicon&r=PG&f=1", "display_name": "Kishita Variya", "link": "https://stackoverflow.com/users/2709298/kishita-variya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3781, "favorite_count": 1, "accepted_answer_id": 59721940, "answer_count": 3, "score": 4, "last_activity_date": 1589450906, "creation_date": 1577251444, "last_edit_date": 1577252342, "question_id": 59475452, "link": "https://stackoverflow.com/questions/59475452/kotlin-kotlinnullpointerexception-no-error-message-while-building-apk-using-je", "title": "kotlin.KotlinNullPointerException (no error message) while building APK using Jenkins", "body": "<p>I am new to Jenkins and trying to generate APK.I am getting the following error:\n<a href=\"https://i.stack.imgur.com/sy03o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sy03o.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have added git credentials and gradle script is as below:\n<a href=\"https://i.stack.imgur.com/Sjhal.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Sjhal.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note: I have a build Type named \"Dev\"</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "edited": false, "score": 0, "creation_date": 1577254290, "post_id": 59475677, "comment_id": 105129218, "body": "how to detect if its overlapp? I want it keep resize until it doesn&#39;t overlap the separator line, how android determine which TextSize to use when it specified in your way"}, {"owner": {"reputation": 1071, "user_id": 5637606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tyfe9.jpg?s=128&g=1", "display_name": "ssynhtn", "link": "https://stackoverflow.com/users/5637606/ssynhtn"}, "reply_to_user": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "edited": false, "score": 0, "creation_date": 1577254693, "post_id": 59475677, "comment_id": 105129287, "body": "@elliotching just use your constraint layout to constraint the width of TextView to be 30% of screen, it&#39;s the same. Set app:autoSizeMaxTextSize to your preferred text size, and when there is not enough space, text size will automatically be adjusted to smaller and the text will fill up the 30% space"}, {"owner": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "edited": false, "score": 0, "creation_date": 1577259738, "post_id": 59475677, "comment_id": 105130109, "body": "wait, does this method support API level 25 and below?"}, {"owner": {"reputation": 1071, "user_id": 5637606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tyfe9.jpg?s=128&g=1", "display_name": "ssynhtn", "link": "https://stackoverflow.com/users/5637606/ssynhtn"}, "reply_to_user": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "edited": false, "score": 0, "creation_date": 1577263953, "post_id": 59475677, "comment_id": 105130931, "body": "@elliotching This feature is part of the support library so yes it supports low versions of android"}], "tags": [], "owner": {"reputation": 1071, "user_id": 5637606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tyfe9.jpg?s=128&g=1", "display_name": "ssynhtn", "link": "https://stackoverflow.com/users/5637606/ssynhtn"}, "is_accepted": true, "score": 0, "last_activity_date": 1577254099, "creation_date": 1577254099, "answer_id": 59475677, "question_id": 59475316, "link": "https://stackoverflow.com/questions/59475316/viewtreeobserver-ongloballayoutlistener-on-each-and-every-recycler-view-items-to/59475677#59475677", "title": "ViewTreeObserver.OnGlobalLayoutListener on each and every recycler view items to passively resize TextView automatically", "body": "<p>This can be perfectly solved by the auto resizing feature of TextView</p>\n\n<p>use something like this</p>\n\n<pre><code>        &lt;TextView\n            android:layout_width=\"100dp\"\n            android:layout_height=\"40dp\"\n            android:maxLines=\"1\"\n            android:text=\"hello world google\"\n            app:autoSizeTextType=\"uniform\"\n            app:autoSizeMinTextSize=\"1sp\"\n            app:autoSizeMaxTextSize=\"25sp\"\n            android:gravity=\"center_vertical\"\n            /&gt;\n</code></pre>\n"}], "owner": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 59475677, "answer_count": 1, "score": 1, "last_activity_date": 1577254099, "creation_date": 1577249280, "question_id": 59475316, "link": "https://stackoverflow.com/questions/59475316/viewtreeobserver-ongloballayoutlistener-on-each-and-every-recycler-view-items-to", "title": "ViewTreeObserver.OnGlobalLayoutListener on each and every recycler view items to passively resize TextView automatically", "body": "<p>I have a plain basic recycler view and its adapter.<br>In the single recycler view row, I got a textView which are floating numbers.<br>The textView width length shall fixed in proportional sizes, i.e. 30 % of the screen.<br>I want to put OnGlobalLayoutListener to auto resize text downward passively whenever the text exceed over the separator line<br>so that it fits in the textView box prepared.<br><strong>I don't want WRAP the numbers</strong></p>\n\n<p>So I add OnGlobalLayoutListener on each ViewHolder and expect to detect &amp; tracing each row items if the costTextView is Overlapped to the separator line.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6yc0V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yc0V.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>However what happened is it does not resize all rows, but part of items that exposed on user screen only. Example 4-7 does not affected, 8-12 is affected, so on.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/IDe6d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDe6d.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>MainFragment.kt</strong></p>\n\n<pre><code>import android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.core.os.bundleOf\nimport androidx.databinding.DataBindingUtil\nimport androidx.fragment.app.Fragment\nimport androidx.navigation.fragment.findNavController\nimport androidx.recyclerview.widget.DefaultItemAnimator\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.elliot.financetracker.databinding.MainFragmentBinding\n\nclass MainFragment : Fragment() {\n    companion object {\n        private val TAG = \"HomeFragment\"\n    }\n\n    private lateinit var thisView: View\n    private lateinit var binding: MainFragmentBinding\n    private var cashList: ArrayList&lt;Cash&gt; = ArrayList()\n    private lateinit var recyclerView: RecyclerView\n    private lateinit var mAdapter: CashAdapter\n\n    init {\n        cashList = prepareMovieData()\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        binding =\n            DataBindingUtil.inflate&lt;MainFragmentBinding&gt;(\n                inflater,\n                R.layout.main_fragment, container, false\n            )\n        thisView = binding.root\n        return thisView\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        recyclerView = binding.rvCash\n        mAdapter = CashAdapter(cashList, action)\n        val mLayoutManager: RecyclerView.LayoutManager = LinearLayoutManager(thisView.context)\n        recyclerView.layoutManager = mLayoutManager\n        recyclerView.itemAnimator = DefaultItemAnimator()\n        recyclerView.adapter = mAdapter\n    }\n\n    private val action = object : CashAdapter.ClickedListener {\n        override fun onItemClick(cash: Cash) {\n            val bundle = bundleOf(\"cash\" to cash)\n            this@MainFragment.findNavController().navigate(R.id.edit_frag, bundle)\n        }\n    }\n\n    private val actionAddNewRecord = object : View.OnClickListener {\n        override fun onClick(v: View?) {\n            val arg = Bundle()\n            arg.putInt(\"sss\", 43)\n            this@MainFragment.findNavController().navigate(R.id.edit_frag, arg)\n        }\n    }\n\n    private fun prepareMovieData(): ArrayList&lt;Cash&gt; {\n        for (i in 0..29) {\n            cashList.add(\n                Cash(\n                    \"-2000000000000000000000000.00\",\n                    \"Action &amp; Adventure $i\"\n                )\n            )\n        }\n\n        return cashList\n    }\n\n}\n</code></pre>\n\n<p><strong>CashAdapter.kt</strong></p>\n\n<pre><code>import android.graphics.Rect\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.view.ViewTreeObserver\nimport android.widget.TextView\nimport androidx.recyclerview.widget.RecyclerView\nimport com.elliot.financetracker.CashAdapter.CashViewHolder\nimport com.elliot.financetracker.databinding.CashListRowBinding\nimport com.elliot.financetracker.utils.*\n\n//import com.example.recyclerviewbinding.databinding.MovieListRowBinding;\nclass CashAdapter(\n    private val cashList: List&lt;Cash&gt;,\n    private val clickedAction: ClickedListener\n) : RecyclerView.Adapter&lt;CashViewHolder&gt;() {\n\n    companion object {\n        private var TAG = \"CashAdapter\"\n    }\n\n    inner class CashViewHolder(private val binding: CashListRowBinding) :\n        RecyclerView.ViewHolder(binding.root) {\n        var positionss: Int = -1\n        fun bind(cash: Cash, clickedAction: ClickedListener, positionss: Int) {\n            this.positionss = positionss\n            binding.cash = cash\n            binding.cvCashView.setOnClickListener {\n                clickedAction.onItemClick(binding.cash!!)\n            }\n// ---------- NOTE HERE I ADD GLOBAL LAYOUT LISTENER ---------------------------------------------\n            this.binding.cvCashView.viewTreeObserver.addOnGlobalLayoutListener(globalObserver)\n            binding.executePendingBindings()\n        }\n\n        private val globalObserver = object : ViewTreeObserver.OnGlobalLayoutListener {\n            override fun onGlobalLayout() {\n                val overlapped = isOverlapped(binding.tvItemCost, binding.separatorCost)\n                if (overlapped) {\n                    Log.d(CashAdapter.TAG, \"${CashAdapter.TAG}: isOverlapping : $positionss\")\n                    binding.tvItemCost.textSize = resizeTextDown(binding.tvItemCost)\n                    // always assumed values in SP units\n                } else {\n                    Log.d(CashAdapter.TAG, \"${CashAdapter.TAG}: isNotOverlapping : $positionss\")\n                }\n            }\n        }\n\n        private fun resizeTextDown(target: View): Float {\n            val t = target as TextView\n            val z = t.textSize\n            val a = z.pxToSp()\n            val b = a - 2.0F\n            // leave it as SP unit will do**\n            return b\n        }\n    }\n\n    interface ClickedListener {\n        fun onItemClick(cash: Cash)\n    }\n\n    fun isOverlapped(tvItemCost: View, g20: View): Boolean {\n        val firstPosition = IntArray(2)\n        val secondPosition = IntArray(2)\n        tvItemCost.getLocationOnScreen(firstPosition)\n        g20.getLocationOnScreen(secondPosition)\n\n        val rectFirstView = Rect(\n            firstPosition[0],\n            firstPosition[1],\n            firstPosition[0] + tvItemCost.measuredWidth,\n            firstPosition[1] + tvItemCost.measuredHeight\n        )\n        val rectSecondView = Rect(\n            secondPosition[0],\n            secondPosition[1],\n            secondPosition[0] + g20.measuredWidth,\n            secondPosition[1] + g20.measuredHeight\n        )\n\n        return rectFirstView.intersect(rectSecondView)\n    }\n\n    // plain basic recycler view adapter's methods\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CashViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val binding = CashListRowBinding.inflate(layoutInflater, parent, false)\n        return CashViewHolder(binding)\n    }\n\n    override fun onBindViewHolder(holder: CashViewHolder, position: Int) {\n        val cash = cashList[position]\n        holder.bind(cash, clickedAction, position)\n    }\n\n    override fun getItemCount(): Int {\n        return cashList.size\n    }\n}\n</code></pre>\n\n<p><strong>cash_list_row.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"cash\"\n            type=\"com.elliot.financetracker.Cash\" /&gt;\n    &lt;/data&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=\"@+id/cv_cash_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"0dp\"\n        android:foreground=\"?android:attr/selectableItemBackground\"\n        android:clickable=\"true\"\n        android:focusable=\"true\"\n        app:cardBackgroundColor=\"@color/colorLightGreen\"\n        app:cardElevation=\"10dp\"\n        app:cardCornerRadius=\"@dimen/default_card_corner_radius\"\n        app:cardUseCompatPadding=\"true\"&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"10dp\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/tv_description\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:padding=\"10dp\"\n                android:text=\"@{cash.description}\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                app:layout_constraintRight_toLeftOf=\"@id/g_20\"\n                app:layout_constraintTop_toBottomOf=\"@id/tv_date\"\n                tools:text=\"Item description Item description Item description Item description\" /&gt;\n            &lt;androidx.constraintlayout.widget.Guideline\n                android:id=\"@+id/g_20\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                app:layout_constraintGuide_percent=\"0.7\"/&gt;\n            &lt;View\n                android:id=\"@+id/separator_cost\"\n                android:layout_width=\"1dp\"\n                android:layout_height=\"0dp\"\n                android:padding=\"20dp\"\n                android:background=\"@android:color/darker_gray\"\n                app:layout_constraintLeft_toRightOf=\"@id/g_20\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n            &lt;TextView\n                android:id=\"@+id/tv_item_cost\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:padding=\"10dp\"\n                android:text=\"@{cash.amountString}\"\n                android:gravity=\"center_vertical\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                tools:text=\"RM -2000000000.00\" /&gt;\n\n&lt;!--            removed out ...........--&gt;\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/layout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 499, "user_id": 2205932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRUry.png?s=128&g=1", "display_name": "EvOlaNdLuPiZ", "link": "https://stackoverflow.com/users/2205932/evolandlupiz"}, "edited": false, "score": 1, "creation_date": 1577248559, "post_id": 59475254, "comment_id": 105128530, "body": "you will want to look into callbacks, for reference take a peek at <a href=\"https://stackoverflow.com/questions/51042961/how-does-firebase-completion-callbacks-work-in-kotlin\">callbacks in kotlin</a>. the reason ad_count is always zero is, think about what&#39;s going on, your client (kotlin app) is requesting data from the server (firebase), kotlin continues to process, hence, ad_count isn&#39;t updated and remains it&#39;s original value. in other words, asynchronous calls to firebase don&#39;t sync properly without &quot;interrupting&quot; them appropriately, hence callbacks."}, {"owner": {"reputation": 107, "user_id": 4189422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e71c9ae09736803eb4dd2d0bf4ca9f?s=128&d=identicon&r=PG&f=1", "display_name": "sleepy", "link": "https://stackoverflow.com/users/4189422/sleepy"}, "reply_to_user": {"reputation": 499, "user_id": 2205932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRUry.png?s=128&g=1", "display_name": "EvOlaNdLuPiZ", "link": "https://stackoverflow.com/users/2205932/evolandlupiz"}, "edited": false, "score": 0, "creation_date": 1577249081, "post_id": 59475254, "comment_id": 105128595, "body": "I&#39;m new at Kotlin and I don&#39;t know anything about callbacks. Let me check."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1577249358, "post_id": 59475254, "comment_id": 105128623, "body": "Data is loaded from Firebase asynchronously. Your main code continues, and then when the data is available, your <code>onDataChange</code> is called. This means that by the time your <code>return ad_count</code> runs, the <code>ad_count = array.size +1</code> hasn&#39;t run yet. Any code that needs data from the database must be inside <code>onDataChange</code> or be called from there. See for a longer explanation my answer to <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\" title=\"getcontactsfromfirebase method return an empty list\">stackoverflow.com/questions/50434836/&hellip;</a>"}, {"owner": {"reputation": 107, "user_id": 4189422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e71c9ae09736803eb4dd2d0bf4ca9f?s=128&d=identicon&r=PG&f=1", "display_name": "sleepy", "link": "https://stackoverflow.com/users/4189422/sleepy"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1577250401, "post_id": 59475254, "comment_id": 105128741, "body": "Thanks for the information @Frank, I&#39;ll check the link."}, {"owner": {"reputation": 107, "user_id": 4189422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e71c9ae09736803eb4dd2d0bf4ca9f?s=128&d=identicon&r=PG&f=1", "display_name": "sleepy", "link": "https://stackoverflow.com/users/4189422/sleepy"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1577397539, "post_id": 59475254, "comment_id": 105161705, "body": "@Frank I couldn&#39;t solve how to read data from the interface. (<a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method\" title=\"how to return datasnapshot value as a result of a method\">stackoverflow.com/questions/47847694/&hellip;</a>).  readData is java code, I couldn&#39;t convert to Kotlin. Should I open another topic?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1577409706, "post_id": 59475254, "comment_id": 105163944, "body": "Translating that Java code to Kotlin should be fairly one on one. If you&#39;re having trouble with it, I recommend using an online converter tool or the one built into Android Studio. If you&#39;re still having problems <b>after</b> that, indeed open a new question with the <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete/standalone code that anyone can run to reproduce the problem</a>."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1577410098, "post_id": 59475254, "comment_id": 105164008, "body": "I added Kotlin samples (based on this <a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Introduction/Java%20to%20Kotlin%20conversion/Task.kt\" rel=\"nofollow noreferrer\">online conversion tool</a>) to the answer I referred to earlier: <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\" title=\"getcontactsfromfirebase method return an empty list\">stackoverflow.com/questions/50434836/&hellip;</a>."}], "owner": {"reputation": 107, "user_id": 4189422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e71c9ae09736803eb4dd2d0bf4ca9f?s=128&d=identicon&r=PG&f=1", "display_name": "sleepy", "link": "https://stackoverflow.com/users/4189422/sleepy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1577249367, "answer_count": 0, "score": 0, "last_activity_date": 1577248339, "creation_date": 1577248339, "question_id": 59475254, "link": "https://stackoverflow.com/questions/59475254/how-to-return-data-from-interface", "closed_reason": "Duplicate", "title": "How to return data from interface", "body": "<p>I've a function like below, trying to read data from Firebase DB, counting them and finally return the count number.</p>\n\n<p>But \"ad_count\" value is always 0. Somehow I can't pass the data from \"onDataChange\".\nHow can I do that? \nThanks.</p>\n\n<pre><code> fun count():Int{\n\n        var ad_count :Int = 0\n        var ref = FirebaseDatabase.getInstance().reference\n\n        var query =ref.child(\"users\")\n            .child(FirebaseAuth.getInstance().currentUser!!.uid)\n\n        query.addListenerForSingleValueEvent(object : ValueEventListener{\n            override fun onCancelled(p0: DatabaseError) {\n            }\n            override fun onDataChange(p0: DataSnapshot) {\n                var array : ArrayList&lt;String&gt; = ArrayList()\n\n                for (i in p0.children){\n\n                    if(i?.key.toString().startsWith(\"ads\",false)){\n                        array.add(i?.key.toString())\n                    }\n                }\n\n                 ad_count = array.size +1\n                 //return ad_count -&gt; if I use in here, throwing \"type mismatch\" error.\n            }\n        })\n\n        return ad_count   //it's always return 0 here\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "realm", "realm-list"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 1796413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0952e1ed806f07f7d1ef9b60d8e050?s=128&d=identicon&r=PG", "display_name": "Black_Magician", "link": "https://stackoverflow.com/users/1796413/black-magician"}, "edited": false, "score": 0, "creation_date": 1577359515, "post_id": 59484489, "comment_id": 105150181, "body": "yeah i tried this and it&#39;s no good for my case. The problem is i have to save those sold product list for reporting purpose later."}], "tags": [], "owner": {"reputation": 1164, "user_id": 7835394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h7zKh.jpg?s=128&g=1", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/7835394/rohit-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1577340689, "creation_date": 1577340689, "answer_id": 59484489, "question_id": 59474916, "link": "https://stackoverflow.com/questions/59474916/prevent-of-creating-realm-object-while-saving-in-realmlist/59484489#59484489", "title": "Prevent of creating realm object while saving in RealmList", "body": "<p>Use @PrimaryKey Annotation over barcode</p>\n\n<pre><code>public class TestObj extends RealmObject {\n    @PrimaryKey   \n    private String code;\n}\n</code></pre>\n\n<p>Like I Do it in Java \nBasically Object need to have a primary key to update existing object in the database</p>\n"}], "owner": {"reputation": 35, "user_id": 1796413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0952e1ed806f07f7d1ef9b60d8e050?s=128&d=identicon&r=PG", "display_name": "Black_Magician", "link": "https://stackoverflow.com/users/1796413/black-magician"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577340689, "creation_date": 1577243444, "last_edit_date": 1577339676, "question_id": 59474916, "link": "https://stackoverflow.com/questions/59474916/prevent-of-creating-realm-object-while-saving-in-realmlist", "title": "Prevent of creating realm object while saving in RealmList", "body": "<p>I have two model classes, Product and StoreTransaction like below here</p>\n\n<p>Product.kt</p>\n\n<pre><code>open class Product(\n    var barcode: String? = null,\n    var name: String? = null,\n    var price: Double? = null,\n    var quantity: Double? = null\n) : RealmObject()\n</code></pre>\n\n<p>StoreTransaction.kt</p>\n\n<pre><code>open class StoreTransaction(\n    var date: Date? = null,\n    var productList: RealmList&lt;Product&gt;? = null\n    // and other variables below\n) : RealmObject()\n</code></pre>\n\n<p>Here we have 3 products, Product A, B and C with the same quantity of 5 pcs each </p>\n\n<p>Then i buy product A and C 2 pcs each and save the transaction like this</p>\n\n<pre><code>fun saveTransaction(toBuyList: ArrayList&lt;Product&gt;, realm: Realm) {\n        val date = Date()\n        val productList = RealmList&lt;Product&gt;()\n        productList.addAll(toBuyList.toList())\n\n        // other variables\n\n        val st = StoreTransaction(date, productList // other vars)\n\n        realm.executeTransaction {\n            realm.copyToRealm(st)\n\n            // update stock quantity\n            toBuyList.forEach { itemToBuy -&gt;\n                val product = realm.where(Product::class.java)\n                    .equalTo(\"barcode\", itemToBuy.barcode).findFirst()\n                product?.quantity = product?.quantity?.minus(itemToBuy.quantity!!)\n            }\n        }\n    }\n</code></pre>\n\n<p>When i query back my product i got the following result</p>\n\n<ol>\n<li>product A : 3.0</li>\n<li>product A : 2.0</li>\n<li>product B : 5.0</li>\n<li>product C : 3.0</li>\n<li>product C : 2.0 </li>\n</ol>\n\n<p>it seems saving a product RealmList in StoreTransaction class creates new data in Product class. Is there a way to prevent this? i'm trying not to display the sold product.</p>\n\n<p>now i know that i can create an extra variable in Product class like a boolean that indicates the product is sold or not and then query it. But is it the right way?</p>\n\n<p>side note: my current solution right now is changing the productList property in StoreTransaction into string (by using Gson) for temporary. it works well and fine but im curios if there is a better way to handle this.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1777, "user_id": 7781164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9zcw.jpg?s=128&g=1", "display_name": "Mahmoud Abu Elheja", "link": "https://stackoverflow.com/users/7781164/mahmoud-abu-elheja"}, "edited": false, "score": 2, "creation_date": 1577237428, "post_id": 59474483, "comment_id": 105127408, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/6518206/what-is-the-difference-between-activity-and-context\">What is the difference between Activity and Context?</a>"}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1577273780, "post_id": 59474483, "comment_id": 105133060, "body": "This is probably the answer you are looking for <a href=\"https://stackoverflow.com/questions/32227146/what-is-different-between-getcontext-and-getactivity-from-fragment-in-support-li/32227256\" title=\"what is different between getcontext and getactivity from fragment in support li\">stackoverflow.com/questions/32227146/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 9906778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R8MXUveUbxU/AAAAAAAAAAI/AAAAAAAAAJo/Myq1ul3z8gU/photo.jpg?sz=128", "display_name": "Ho&#224;ng V\u0169 Anh", "link": "https://stackoverflow.com/users/9906778/ho%c3%a0ng-v%c5%a9-anh"}, "edited": false, "score": 0, "creation_date": 1577258897, "post_id": 59474901, "comment_id": 105129970, "body": "Yep, this is great  answer"}, {"owner": {"reputation": 382, "user_id": 1844130, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/fb72ce419fce023e91f16ae08567f0ca?s=128&d=identicon&r=PG", "display_name": "Tejas", "link": "https://stackoverflow.com/users/1844130/tejas"}, "reply_to_user": {"reputation": 550, "user_id": 9906778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R8MXUveUbxU/AAAAAAAAAAI/AAAAAAAAAJo/Myq1ul3z8gU/photo.jpg?sz=128", "display_name": "Ho&#224;ng V\u0169 Anh", "link": "https://stackoverflow.com/users/9906778/ho%c3%a0ng-v%c5%a9-anh"}, "edited": false, "score": 0, "creation_date": 1577264673, "post_id": 59474901, "comment_id": 105131088, "body": "@Ho&#224;ngV\u0169Anh don&#39;t forget to upvote bro... :-)"}, {"owner": {"reputation": 550, "user_id": 9906778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R8MXUveUbxU/AAAAAAAAAAI/AAAAAAAAAJo/Myq1ul3z8gU/photo.jpg?sz=128", "display_name": "Ho&#224;ng V\u0169 Anh", "link": "https://stackoverflow.com/users/9906778/ho%c3%a0ng-v%c5%a9-anh"}, "edited": false, "score": 0, "creation_date": 1577268166, "post_id": 59474901, "comment_id": 105131792, "body": "yep, i will do it"}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1577273812, "post_id": 59474901, "comment_id": 105133071, "body": "I don&#39;t think <code>getContext</code> in a Fragment would ever return the Application. See here: <a href=\"https://stackoverflow.com/questions/32227146/what-is-different-between-getcontext-and-getactivity-from-fragment-in-support-li/32227256\" title=\"what is different between getcontext and getactivity from fragment in support li\">stackoverflow.com/questions/32227146/&hellip;</a>"}], "tags": [], "owner": {"reputation": 382, "user_id": 1844130, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/fb72ce419fce023e91f16ae08567f0ca?s=128&d=identicon&r=PG", "display_name": "Tejas", "link": "https://stackoverflow.com/users/1844130/tejas"}, "is_accepted": true, "score": 2, "last_activity_date": 1577243157, "creation_date": 1577243157, "answer_id": 59474901, "question_id": 59474483, "link": "https://stackoverflow.com/questions/59474483/what-is-the-difference-between-context-and-activity-inside-a-fragment/59474901#59474901", "title": "What is the difference between context and activity inside a fragment?", "body": "<p>with context  > intent exists as long as application exists</p>\n\n<p>with activity > intent exists as long as the activity exists</p>\n\n<p>now you know what you need most of the cases.. :-D</p>\n"}, {"tags": [], "owner": {"reputation": 1596, "user_id": 1344049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6XHWR.jpg?s=128&g=1", "display_name": "Dipankar Baghel", "link": "https://stackoverflow.com/users/1344049/dipankar-baghel"}, "is_accepted": false, "score": 1, "last_activity_date": 1577243182, "creation_date": 1577243182, "answer_id": 59474902, "question_id": 59474483, "link": "https://stackoverflow.com/questions/59474483/what-is-the-difference-between-context-and-activity-inside-a-fragment/59474902#59474902", "title": "What is the difference between context and activity inside a fragment?", "body": "<p>Context is a Superclass of Activity.</p>\n"}], "owner": {"reputation": 443, "user_id": 9378439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uRAIXKCAE-g/AAAAAAAAAAI/AAAAAAAAAJA/3p6Mreec-XI/photo.jpg?sz=128", "display_name": "daniel.jbatiz", "link": "https://stackoverflow.com/users/9378439/daniel-jbatiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "closed_date": 1577259636, "accepted_answer_id": 59474901, "answer_count": 2, "score": 2, "last_activity_date": 1577243182, "creation_date": 1577236147, "question_id": 59474483, "link": "https://stackoverflow.com/questions/59474483/what-is-the-difference-between-context-and-activity-inside-a-fragment", "closed_reason": "Duplicate", "title": "What is the difference between context and activity inside a fragment?", "body": "<p>When I\u2019am inside a fragment what is the difference between <code>this.context</code> and <code>this.activity</code>\nEg: </p>\n\n<pre><code>val intent = Intent(this.activity!! , Activity::class.java)\n\nval intent = Intent(this.context!! , Activity::class.java)\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1577254254, "post_id": 59473871, "comment_id": 105129212, "body": "Looks like <code>repo_response</code> is null. Can you show how you create <code>mainRepository</code>?"}, {"owner": {"reputation": 79, "user_id": 5700215, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a6a23791e8d5084e559cf2d2af8cb561?s=128&d=identicon&r=PG&f=1", "display_name": "Rashedul Rough", "link": "https://stackoverflow.com/users/5700215/rashedul-rough"}, "reply_to_user": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1577264489, "post_id": 59473871, "comment_id": 105131050, "body": "@Ircover : updated my question with the test class <code>MainViewModelTest </code> and another 2 classes used in the app- <code>MainApiClient</code> and <code>MainApi</code>"}], "owner": {"reputation": 79, "user_id": 5700215, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a6a23791e8d5084e559cf2d2af8cb561?s=128&d=identicon&r=PG&f=1", "display_name": "Rashedul Rough", "link": "https://stackoverflow.com/users/5700215/rashedul-rough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577264339, "creation_date": 1577226755, "last_edit_date": 1577264339, "question_id": 59473871, "link": "https://stackoverflow.com/questions/59473871/in-android-how-to-unit-test-for-a-class-is-equal-to-another-class-where-both-cla", "title": "In android how to unit test for a class is equal to another class where both classes are wrapped around by a wrapper class", "body": "<p>I am using a wrapper class <strong>GenericApiResponse</strong> for api response:</p>\n\n<pre><code>sealed class GenericApiResponse&lt;T&gt; {\n\n    companion object {\n     fun &lt;T&gt; create(error: Throwable): ApiErrorResponse&lt;T&gt; {\n        return ApiErrorResponse(error.message ?: \"unknown error\") }\n\n    fun &lt;T&gt; create(response: Response&lt;T&gt;): GenericApiResponse&lt;T&gt; {\n\n           if(response.isSuccessful){\n               val body = response.body()\n               if (body == null || response.code() == 204) {\n               return ApiEmptyResponse()    }\n           else if(response.code() == 401){  return ApiErrorResponse(\"401 Unauthorized. Token may be invalid.\")     }\n           else {   return ApiSuccessResponse(body = body)}\n        }\n        else{\n          val msg = response.errorBody()?.string()\n          val errorMsg = if (msg.isNullOrEmpty()) {\n            response.message()\n           } else {\n            msg     }\n         return ApiErrorResponse(errorMsg ?: \"unknown error\")\n        }\n    }   }\n}\n\n\nclass ApiEmptyResponse&lt;T&gt; : GenericApiResponse&lt;T&gt;()\n\ndata class ApiSuccessResponse&lt;T&gt;(val body: T) : GenericApiResponse&lt;T&gt;() {}\n\ndata class ApiErrorResponse&lt;T&gt;(val errorMessage: String) : GenericApiResponse&lt;T&gt;()\n</code></pre>\n\n<p>and from my ViewModel <strong>MainViewModel</strong> I am calling a function from my <strong>MainRepository</strong> class:</p>\n\n<pre><code> class MainViewModel @Inject constructor(val mainRepository: MainRepository) : ViewModel() {\n.....\nval source: LiveData&lt;GenericApiResponse&lt;GitResult&gt;&gt; = mainRepository.fetchApiresultFromClient(str_query)  \n}\n</code></pre>\n\n<p>so in <strong>MainRepository</strong> it calls:</p>\n\n<pre><code>class MainRepository @Inject constructor(val mainApiClient: MainApiClient) {\n    ....\n    fun fetchApiresultFromClient(strQuery: String)\n         : LiveData&lt;GenericApiResponse&lt;GitResult&gt;&gt; {\n\n          var returnedData =    mainApiClient.getApiResultFromServer(strQuery)\n          return returnedData\n     }\n</code></pre>\n\n<p><strong>MainApiClient</strong>:</p>\n\n<pre><code>class MainApiClient  @Inject constructor(val mainApi: MainApi) {\n   fun getApiResultFromServer(query :String )\n        : LiveData&lt;GenericApiResponse&lt;GitResult&gt;&gt; {\n\n    var apiResult =   mainApi.getAllRepo(query)\n       return apiResult\n    }\n}\n</code></pre>\n\n<p><strong>MainApi:</strong> is the interface used for retrofit</p>\n\n<p>Everything is working fine but I am having some problem when trying to implement some unit testing code for the app. I want to assert that when method is called from viewModel then the returned data is: </p>\n\n<ul>\n<li>is of type GenericApiResponse</li>\n<li>is ApiSuccessResponse</li>\n<li>value is same as i defined in test class; which is ApiSuccessResponse(TestUtil.obj_gitresult)</li>\n</ul>\n\n<p>So far I have tried:</p>\n\n<pre><code>  @ExtendWith(InstantExecutorExtension::class)\n  class MainViewModelTest {\n\n    lateinit var  mainViewModel: MainViewModel\n\n    @Mock\n     lateinit var  mainRepository: MainRepository\n\n    @Mock\n    lateinit var  mainApiClient: MainApiClient\n\n\n    @BeforeEach\n    fun init()\n    {\n    MockitoAnnotations.initMocks(this)\n    mainViewModel = MainViewModel(mainRepository)\n    }\n\n    @Test\n    fun setSearchQuery_callsRepositoryMethod_returnSuccess() {\n\n           //arrange\n         mainViewModel.liveResult.value = ApiSuccessResponse(TestUtil.obj_gitresult) as GenericApiResponse&lt;GitResult&gt;\n\n        Mockito.`when`(mainApiClient.getApiResultFromServer(ArgumentMatchers.anyString(), ArgumentMatchers.anyInt()))\n            .thenReturn(mainViewModel.liveResult)\n\n\n           //act\n\n        var repo_response = mainRepository.fetchApiresultFromClient(\"java\")\n\n\n        //assert\n           // assertTrue(repo_response.value is  GenericApiResponse&lt;GitResult&gt; ) //for asserting return type is of type GenericResponse //--TestResult- java.lang.NullPointerException\n           // assertTrue(repo_response.value is  ApiSuccessResponse&lt;GitResult&gt; ) //for asserting return type is of type ApiSuccessResponse //--TestResult- java.lang.NullPointerException\n           //  assertEquals(mainViewModel.liveResult.value , repo_response.value ) //for asserting 2 generic types are equal //--TestResult- java.lang.NullPointerException\n        }\n\n}\n</code></pre>\n\n<p>but all of the 3 cases i used for testing fails and shows result java.lang.NullPointerException.</p>\n\n<p>What am I doing wrong? how to solve it? How do I write the function for testing all of the above mentioned cases?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-volley"], "answers": [{"tags": [], "owner": {"reputation": 523, "user_id": 7358866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250a27e4561d673ec0bdee5a90662b2c?s=128&d=identicon&r=PG&f=1", "display_name": "Darotudeen", "link": "https://stackoverflow.com/users/7358866/darotudeen"}, "is_accepted": false, "score": 1, "last_activity_date": 1577266321, "creation_date": 1577266321, "answer_id": 59476997, "question_id": 59473726, "link": "https://stackoverflow.com/questions/59473726/how-to-parse-error-coming-from-the-server-in-volley-in-kotlin/59476997#59476997", "title": "How to parse error coming from the server in Volley in Kotlin", "body": "<p>I was able to solve this with </p>\n\n<pre><code>\n        if(error.networkResponse != null){\n\n            val errorByte = error.networkResponse.data\n            val parseError =  errorByte.toString(UTF_8)\n\n            val errorObj = JSONObject(parseError)\n\n            val errorMessage = errorObj.getString(\"message\")\n\n\n\n            Toast.makeText(context!!.applicationContext, errorMessage, Toast.LENGTH_SHORT).show()\n\n        }\n\n</code></pre>\n"}], "owner": {"reputation": 523, "user_id": 7358866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250a27e4561d673ec0bdee5a90662b2c?s=128&d=identicon&r=PG&f=1", "display_name": "Darotudeen", "link": "https://stackoverflow.com/users/7358866/darotudeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577266321, "creation_date": 1577225040, "last_edit_date": 1577226631, "question_id": 59473726, "link": "https://stackoverflow.com/questions/59473726/how-to-parse-error-coming-from-the-server-in-volley-in-kotlin", "title": "How to parse error coming from the server in Volley in Kotlin", "body": "<p>I want to get the exact error message returned from the server in Kotlin. I am currently handling as below</p>\n\n<pre><code>    Response.ErrorListener {error -&gt;\n    //  regProgress.hide()\n\n        val resp = error\n\n        if(error is ClientError ){\n            Toast.makeText(context!!.applicationContext, \"User already exists\", Toast.LENGTH_SHORT).show()\n        }\n        else if(error is NetworkError){\n            Toast.makeText(context!!.applicationContext, \"Network error \\nPlease check your network connection\", Toast.LENGTH_SHORT).show()\n        }\n        else if(error is  TimeoutError){\n            Toast.makeText(context!!.applicationContext, \"Request time out\", Toast.LENGTH_SHORT).show()\n        }\n        else if(error is AuthFailureError){\n            Toast.makeText(context!!.applicationContext, \"Bad request \\nKindly check details provided\", Toast.LENGTH_SHORT).show()\n        }\n        else if(error is ServerError){\n            Toast.makeText(context!!.applicationContext, \"Internal server error \\nPlease try again\", Toast.LENGTH_SHORT).show()\n        }\n        else if(error is NoConnectionError){\n            Toast.makeText(context!!.applicationContext, \"Poor connection \\n\" +\n                    \"Please check your network connection\", Toast.LENGTH_SHORT).show()\n        }\n\n        regProgressBar.visibility = View.GONE\n        registerBtn.visibility = View.VISIBLE\n//                        val responseBody = error.networkResponse.data.toString()\n\n        Log.e(\"Data\", \"Response $resp\")\n//                        Log.e(\"Network\", \"Response ${error.networkResponse}\")\n//                            Toast.makeText(context!!.applicationContext, \"$it\", Toast.LENGTH_SHORT).show()\n\n    }\n</code></pre>\n\n<p>I have tried the parseNetwork method but gets error. I will really appreciate if there is a way to get the method automatically like using <code>ctrl o</code> to bring up methods that can be implemented.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 953, "user_id": 4070660, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c16ef6b3d189409dad1c7f5622ade04c?s=128&d=identicon&r=PG&f=1", "display_name": "K.H.", "link": "https://stackoverflow.com/users/4070660/k-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1577282032, "creation_date": 1577282032, "answer_id": 59479048, "question_id": 59472320, "link": "https://stackoverflow.com/questions/59472320/kotlin-read-and-display-data-from-google-sheets/59479048#59479048", "title": "Kotlin read and display data from Google Sheets", "body": "<p>I suggest making google sheet <a href=\"https://support.google.com/docs/answer/183965?co=GENIE.Platform%3DDesktop&amp;hl=en\" rel=\"nofollow noreferrer\">public</a>, then you can access it for example as csv or in other formats, but csv is simplest. You can construct url based on sheet id:</p>\n\n<pre><code>val url = \"https://docs.google.com/spreadsheets/d/e/${id}/pub?output=csv\"\n</code></pre>\n\n<p>You can get contents for example using <a href=\"https://ktor.io/\" rel=\"nofollow noreferrer\">ktor</a>:</p>\n\n<pre><code>suspend fun getUrlAsString(url: String): String {\n    val client = HttpClient(Android) {\n    }\n    return client.get&lt;String&gt;(url)\n}\n</code></pre>\n\n<p>Example on how to parse csv, but you can use some library or parse text yourself, it's pretty simple:</p>\n\n<pre><code>fun parseCsv(text: String): List&lt;Map&lt;String, String&gt;&gt; {\n    val reader = CSVReaderBuilder(StringReader(text))\n            .build()\n    val lines = reader.readAll()\n    val firstLine = lines.removeAt(0)\n\n    val result = lines.map { line -&gt;\n        firstLine.mapIndexed { index, label -&gt;\n            label to line[index]\n        }.toMap()\n    }\n    if (result.size &gt; 4)\n        println(result[4])\n    return result\n\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 3765415, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/m0k9Y.jpg?s=128&g=1", "display_name": "user3765415", "link": "https://stackoverflow.com/users/3765415/user3765415"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577282032, "creation_date": 1577212176, "question_id": 59472320, "link": "https://stackoverflow.com/questions/59472320/kotlin-read-and-display-data-from-google-sheets", "title": "Kotlin read and display data from Google Sheets", "body": "<p>Can somebody help me accomplish what I am trying to. I have spent hours watching videos and surfing Google to do it myself. But, I couldn't as there's no help I could find to read just one cell value from Google Sheets and I couldn't also find code for Kotlin.</p>\n\n<p>All what I want is to display the value in cell B2 in my Google sheets in a textview on MainActivity.</p>\n\n<p>I am new to Android app development.</p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["java", "android", "file", "kotlin", "directory"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 1, "creation_date": 1577205035, "post_id": 59471359, "comment_id": 105121307, "body": "Use <code>context.getFilesDir()</code> for internal storage."}, {"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 1, "creation_date": 1577207533, "post_id": 59471359, "comment_id": 105121926, "body": "That does not work in Android Q but you did not mention. Moreover you did not show code that tries to create a directory."}, {"owner": {"reputation": 5040, "user_id": 1965084, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/i3KsQ.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/1965084/alex"}, "edited": false, "score": 0, "creation_date": 1577714905, "post_id": 59471359, "comment_id": 105233863, "body": "Do you have the right permissions? If not, check here: <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage</a>"}], "owner": {"reputation": 1, "user_id": 7819180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Khi9m.jpg?s=128&g=1", "display_name": "XamDev", "link": "https://stackoverflow.com/users/7819180/xamdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577204932, "creation_date": 1577204758, "last_edit_date": 1577204932, "question_id": 59471359, "link": "https://stackoverflow.com/questions/59471359/creating-folder-in-internal-memory-in-android", "title": "Creating folder in internal memory in android", "body": "<p>I want to create a folder in the root of internal memory in Android. I'm using the following code to do so:</p>\n\n<pre><code>Environment.getExternalStorageDirectory().path.toString() + \"/\" + \"folder name\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val directory = File(Environment.getExternalStorageDirectory(), \"folder name\")\n</code></pre>\n\n<p>It works in some devices or emulators, but not all of them, so I am confused. Can anyone tell me what is happening?</p>\n\n<p>(The issue is not dependent on Android API level).</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1577210370, "creation_date": 1577210370, "answer_id": 59472112, "question_id": 59471341, "link": "https://stackoverflow.com/questions/59471341/handle-exception-both-in-coroutine-handler-and-try-catch-block/59472112#59472112", "title": "Handle exception both in coroutine handler and try-catch block", "body": "<p>The <code>CoroutineExceptionHandler</code> you've created and passed in will be used for exceptions that aren't handled in the coroutine.</p>\n\n<p>For example, if you want to catch one specific type of <code>Exception</code>, and handle all other exceptions in the <code>CoroutineExceptionHandler</code>, you can <code>try-catch</code> for just that type:</p>\n\n<pre><code>GlobalScope.launch(baseHandler) {\n    try {\n        throw IllegalStateException(\"oh no it failed\")\n    } catch (e: IllegalStateException) {\n        // Handles the exception\n    }\n}\n</code></pre>\n\n<p>If an exception other than <code>IllegalStateException</code> is thrown within the <code>try</code> block, that will be propagated to your handler.</p>\n\n<p>Alternatively, you can catch things in the <code>catch</code> branch, but then re-throw them if you can't handle it there, and want to leave it up to the handler instead:</p>\n\n<pre><code>GlobalScope.launch(baseHandler) {\n    try {\n        // Code that can throw exceptions\n    } catch (e: Exception) {\n        if (/* some condition */) {\n            throw e\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 406, "user_id": 2093032, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/0bc89fff23e0b0fa310c24c86e555522?s=128&d=identicon&r=PG&f=1", "display_name": "Sunstrike", "link": "https://stackoverflow.com/users/2093032/sunstrike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577210370, "creation_date": 1577204600, "question_id": 59471341, "link": "https://stackoverflow.com/questions/59471341/handle-exception-both-in-coroutine-handler-and-try-catch-block", "title": "Handle exception both in coroutine handler and try-catch block", "body": "<p>If we have for example base handler like</p>\n\n<pre><code>protected val baseHandler = CoroutineExceptionHandler { _, e -&gt;\n        handleError(e)\n}\n</code></pre>\n\n<p>And execute our code via try-catch block</p>\n\n<pre><code>scope.launch(baseHandler){\n  try{\n      throw ...\n     }\n     catch(e:Exception) {\n}\n</code></pre>\n\n<p>Is it possible to handle exception firstly in catch block and as a fallback in base handler?\nThe goal of this code is to have a base exception handler for all project coroutines. </p>\n"}, {"tags": ["java", "kotlin", "smooks"], "comments": [{"owner": {"reputation": 1901, "user_id": 1254417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPKR7.jpg?s=128&g=1", "display_name": "Andriy Budzinskyy", "link": "https://stackoverflow.com/users/1254417/andriy-budzinskyy"}, "edited": false, "score": 0, "creation_date": 1577203956, "post_id": 59470985, "comment_id": 105121044, "body": "add <code>Locale.setDefault(Locale.US);</code> before creating <code>Smooks</code> object."}, {"owner": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "reply_to_user": {"reputation": 1901, "user_id": 1254417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPKR7.jpg?s=128&g=1", "display_name": "Andriy Budzinskyy", "link": "https://stackoverflow.com/users/1254417/andriy-budzinskyy"}, "edited": false, "score": 0, "creation_date": 1577204348, "post_id": 59470985, "comment_id": 105121148, "body": "ok, but is there a way for change it only for smooks ?"}], "owner": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577202270, "creation_date": 1577202270, "question_id": 59470985, "link": "https://stackoverflow.com/questions/59470985/how-set-locale-in-smooks", "title": "How set locale in smooks", "body": "<p>is there a way to set locale en-US in smooks?\nI have a problem with decimal numbers when I launch the application in my local becouse:</p>\n\n<pre><code>Locale.getDefault().toLanguageTag() == \"it-IT\"\n</code></pre>\n\n<p>so I would like that smooks always take locale like en-US</p>\n"}, {"tags": ["kotlin", "urlencode", "ktor", "ktor-client"], "answers": [{"comments": [{"owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "edited": false, "score": 0, "creation_date": 1577344864, "post_id": 59477815, "comment_id": 105145624, "body": "I&#39;m using <code>Android</code> engine with <code>okhttp</code>. Version <code>1.2.4</code>. In the meantime solved it on the server side. Will also try to upgrade to <code>1.2.6</code>."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1577272368, "creation_date": 1577272368, "answer_id": 59477815, "question_id": 59470764, "link": "https://stackoverflow.com/questions/59470764/encode-url-in-ktor-client/59477815#59477815", "title": "Encode URL in Ktor Client", "body": "<p>This is not really an answer, but comments don't allow to post big chunks of code.</p>\n\n<p>After investigating it some more, I actually wasn't able to reproduce the behaviour you're describing:</p>\n\n<pre><code>fun main() {\n    runBlocking {\n        val server = embeddedServer(Netty, port = 8080) {\n            routing {\n                trace {\n                    application.log.debug(it.buildText())\n                }\n                get(\"*\") {\n                    context.respond(context.request.path())\n                }\n            }\n        }\n        server.start()\n\n        val client = HttpClient()\n        val url = \"http://localhost:8080/someData,someMoreData\"\n        val r : String = client.get {\n            url(url)\n            method = HttpMethod.Get\n        }\n        println(r) // Getting /someData,someMoreData, meaning not encoded\n    }\n}\n</code></pre>\n\n<p>This is using <code>implementation \"io.ktor:ktor-client-okhttp:1.2.6\"</code> </p>\n\n<p>What client engine you're using?</p>\n"}], "owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577272368, "creation_date": 1577200925, "last_edit_date": 1577201366, "question_id": 59470764, "link": "https://stackoverflow.com/questions/59470764/encode-url-in-ktor-client", "title": "Encode URL in Ktor Client", "body": "<p>I need to make a GET request using a Ktor client. The URL I'm using is passed to me as a string from a source I have no control over. The URL string contains commas that are encoded by the Ktor client to <code>%2C</code> which is breaking the backend logic. Is there a way to prevent Ktor from encoding the URL?</p>\n\n<p>Example to clarify:</p>\n\n<pre><code>client.get {\n    url(url)\n    accept(ContentType.Application.Json)\n    method = HttpMethod.Get\n}\n</code></pre>\n\n<p>In the following code, the value of <code>url</code> is <code>https://my.domain/someData,someMoreData</code> but the outgoing request URL is <code>https://my.domain/someData%2CsomeMoreData</code>.</p>\n"}, {"tags": ["unit-testing", "kotlin", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5700215, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a6a23791e8d5084e559cf2d2af8cb561?s=128&d=identicon&r=PG&f=1", "display_name": "Rashedul Rough", "link": "https://stackoverflow.com/users/5700215/rashedul-rough"}, "edited": false, "score": 0, "creation_date": 1577200577, "post_id": 59470639, "comment_id": 105119988, "body": "Thanks . Can you also please help me with <a href=\"https://stackoverflow.com/q/59461795/5700215\">stackoverflow.com/q/59461795/5700215</a>"}], "tags": [], "owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "is_accepted": false, "score": 1, "last_activity_date": 1577200241, "creation_date": 1577200241, "answer_id": 59470639, "question_id": 59470410, "link": "https://stackoverflow.com/questions/59470410/cant-use-mockito-when-and-thenreturn/59470639#59470639", "title": "Can&#39;t use Mockito when and thenReturn", "body": "<p>Use <code>doReturn</code> and then <code>when</code> as mockito best practice:</p>\n\n<pre><code>doReturn(returnedData).when(mainRepository)\n.fetchApiresultFromClient(ArgumentMatchers.anyString(), ArgumentMatchers.anyString(),ArgumentMatchers.anyString(), \n    ArgumentMatchers.anyInt());\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5700215, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a6a23791e8d5084e559cf2d2af8cb561?s=128&d=identicon&r=PG&f=1", "display_name": "Rashedul Rough", "link": "https://stackoverflow.com/users/5700215/rashedul-rough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577200576, "creation_date": 1577198879, "last_edit_date": 1577200576, "question_id": 59470410, "link": "https://stackoverflow.com/questions/59470410/cant-use-mockito-when-and-thenreturn", "title": "Can&#39;t use Mockito when and thenReturn", "body": "<p>I'm trying to write mockito when method so that when a method is called then I can define a returned data. java method:</p>\n\n<pre><code> when(myRepository.insertNote(any(Note.class))).thenReturn(returnedData);\n</code></pre>\n\n<p>In <strong>kotlin</strong> I'm trying to write the same but it's not showing me the option to write <strong>thenReturn()</strong> after <strong>when()</strong>. I'm trying:</p>\n\n<pre><code> when(mainRepository.fetchApiresultFromClient(ArgumentMatchers.anyString(), ArgumentMatchers.anyString(),ArgumentMatchers.anyString(), ArgumentMatchers.anyInt()) )\n        .thenReturn(returnedData)\n</code></pre>\n\n<p>how do i solve it?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1577201264, "post_id": 59470003, "comment_id": 105120224, "body": "Are DomainCompletable, DataCompletable and DataError from a library?"}, {"owner": {"reputation": 1928, "user_id": 1140997, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ecc9733c442607f12f84e57b0acc4d1d?s=128&d=identicon&r=PG", "display_name": "rocknow", "link": "https://stackoverflow.com/users/1140997/rocknow"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1577202206, "post_id": 59470003, "comment_id": 105120510, "body": "@Tenfour04 no, they are my classes"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 2, "creation_date": 1577203715, "post_id": 59470003, "comment_id": 105120985, "body": "It looks like your class hierarchy and design is forcing the nested statements, but I can&#39;t suggest anything without knowing how it all works."}, {"owner": {"reputation": 182, "user_id": 3904073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535538b93197c80b41fff0ec19ab4447?s=128&d=identicon&r=PG&f=1", "display_name": "Ishtdeep Hora", "link": "https://stackoverflow.com/users/3904073/ishtdeep-hora"}, "edited": false, "score": 0, "creation_date": 1577331296, "post_id": 59470003, "comment_id": 105143069, "body": "Can we create two objects out of this? I mean one object responsible for callback invocation and other handling the error scenario in your case. The error object will only be invoked with certain preconditions I am talking about these tokenMixIn.refresh(). Depending on this value I am not sure what it does but based on these value only it will move to the next layer."}], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 1, "last_activity_date": 1579325418, "creation_date": 1579325418, "answer_id": 59797794, "question_id": 59470003, "link": "https://stackoverflow.com/questions/59470003/kotlin-nested-when/59797794#59797794", "title": "Kotlin nested when", "body": "<p>Easy! But not using <code>when</code>.</p>\n\n<p>What I suppose is to replace it with flat hierarchy of <code>if</code>'s.</p>\n\n<p>Like this:</p>\n\n<pre><code>val result = callback.invoke()\nif(result is DataCompletable.Success) return DomainCompletable.Success\nval error = result.error\nif(error !is DataError.Unauthorized) return DomainCompletable.Error(result.error.mapToDomain())\nval refreshResult = tokenMixIn.refresh()\nif(refreshResult is DomainCompletable.Error) return DomainCompletable.Error(DomainError.RefreshFailed)\nexecute(currentNumberOfRetries + 1, callback)\n</code></pre>\n\n<p>Key aspect here is short-circuitness. We return result as soon as possible. But also we achieve flatter and easier to understand code.</p>\n"}], "owner": {"reputation": 1928, "user_id": 1140997, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ecc9733c442607f12f84e57b0acc4d1d?s=128&d=identicon&r=PG", "display_name": "rocknow", "link": "https://stackoverflow.com/users/1140997/rocknow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1579325418, "creation_date": 1577196536, "question_id": 59470003, "link": "https://stackoverflow.com/questions/59470003/kotlin-nested-when", "title": "Kotlin nested when", "body": "<p>I have the next code. As you may see there are 3 <code>when</code> one inside another. Is it possible to flatten this code? I'm thinking about some wrapper but cannot get it. For now the only solution that I see is to move each when to the <code>fun</code> like <code>processFirstWhen</code> etc. Perhaps there is a cleaner solution. Any help appreciated. </p>\n\n<pre><code>when (val result = callback.invoke()) {\n            is DataCompletable.Success -&gt; DomainCompletable.Success\n            is DataCompletable.Error -&gt;\n                when (result.error) {\n                    is DataError.Unauthorized -&gt;\n                        when (tokenMixIn.refresh()) {\n                            is DomainCompletable.Success -&gt; execute(\n                                currentNumberOfRetries + 1,\n                                callback\n                            )\n                            is DomainCompletable.Error -&gt; DomainCompletable.Error(DomainError.RefreshFailed)\n                        }\n                    else -&gt; DomainCompletable.Error(result.error.mapToDomain())\n                }\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "layoutparams"], "comments": [{"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 2, "creation_date": 1577201104, "post_id": 59469906, "comment_id": 105120169, "body": "You use the same <code>params</code> object for both the image views. So, I suspect, changing it for the 2nd image would change it for the 1st one."}, {"owner": {"reputation": 55, "user_id": 7227389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280e7cf4e023b7658b1ce86c89158d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bortek", "link": "https://stackoverflow.com/users/7227389/bortek"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1577221740, "post_id": 59469906, "comment_id": 105125200, "body": "Yeah! You are right. It worka now. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "is_accepted": true, "score": 1, "last_activity_date": 1577222129, "creation_date": 1577222129, "answer_id": 59473454, "question_id": 59469906, "link": "https://stackoverflow.com/questions/59469906/first-imageview-dissapeard-after-the-second-imageview-gets-added-to-the-relative/59473454#59473454", "title": "First ImageView dissapeard after the second ImageView gets added to the RelativeLayout", "body": "<p>You use the same <code>params</code> object for both the <code>ImageView</code>s. So, I suspect, changing it for the 2nd image would change it for the 1st one. Use different <code>LayoutParams</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 7227389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280e7cf4e023b7658b1ce86c89158d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bortek", "link": "https://stackoverflow.com/users/7227389/bortek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 59473454, "answer_count": 1, "score": 1, "last_activity_date": 1577222166, "creation_date": 1577196049, "last_edit_date": 1577222166, "question_id": 59469906, "link": "https://stackoverflow.com/questions/59469906/first-imageview-dissapeard-after-the-second-imageview-gets-added-to-the-relative", "title": "First ImageView dissapeard after the second ImageView gets added to the RelativeLayout", "body": "<p>After adding a second <code>ImageView</code> to the <code>RelativeLayout</code>, the first and the second <code>ImageView</code> do not show. How can I fix it?</p>\n\n<pre><code>val hideImage = ImageView(ctx)\nhideImage.setImageResource(R.drawable.hiding_box)\nhideImage.id = hiderImageIds[0]\nparams.leftMargin = 0\nparams.topMargin = 0\nhiderLayout.addView(hideImage, params)\n\nval hideImage2 = ImageView(ctx)\nhideImage2.setImageResource(R.drawable.hiding_box)\nhideImage2.id = hiderImageIds[1]\nparams.leftMargin = hiderImageWidth\nparams.topMargin = 0\nparams.addRule(RelativeLayout.RIGHT_OF, hiderImageIds[0])\nhiderLayout.addView(hideImage2, params)\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-realtime-database"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "edited": false, "score": 0, "creation_date": 1577191018, "post_id": 59468945, "comment_id": 105116967, "body": "Thanks @alexmamo, i will check soon and let you know the result."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "edited": false, "score": 0, "creation_date": 1577191035, "post_id": 59468945, "comment_id": 105116972, "body": "Ok, keep me posted ;)"}, {"owner": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "edited": false, "score": 0, "creation_date": 1577208267, "post_id": 59468945, "comment_id": 105122125, "body": "I have edited my code there you can find an error I see. Sorry, I couldn&#39;t post here as it is too long."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "edited": false, "score": 0, "creation_date": 1577210575, "post_id": 59468945, "comment_id": 105122696, "body": "As I said in my answer, you should pass a long, not a string or a boolean, right?"}, {"owner": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "edited": false, "score": 0, "creation_date": 1577237028, "post_id": 59468945, "comment_id": 105127359, "body": "but, isn&#39;t that what I am not passing?  <code>startAt(1577192700000)</code>"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "edited": false, "score": 0, "creation_date": 1577261095, "post_id": 59468945, "comment_id": 105130346, "body": "The easiest fix for your code is to use <code>val</code> instead of <code>var</code>. Does it work this way?"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1577190913, "creation_date": 1577190913, "answer_id": 59468945, "question_id": 59468864, "link": "https://stackoverflow.com/questions/59468864/simplest-way-to-apply-multiple-queries-for-firebase-database-in-android/59468945#59468945", "title": "simplest way to apply multiple queries for firebase database in android", "body": "<blockquote>\n  <p>I get this for 1 hour but, when I try it for another hour I don't get the result.</p>\n</blockquote>\n\n<p>The problem in your code is that you are passing strings to the <code>startAt()</code> and <code>endAt()</code> methods. Strings are ordered lexicographically, meaning that the following query:</p>\n\n<pre><code>val query1 = rootRef.child(\"Sales\").orderByChild(\"time\").startAt(\"00:00:00\").endAt(\"00:30:00\")\n</code></pre>\n\n<p>Will work since <code>00:30:00</code> is after <code>00:00:00</code> but the second query:</p>\n\n<pre><code>val query2 = rootRef.child(\"Sales\").orderByChild(\"time\").startAt(\"23:30:00\").endAt(\"00:00:00\")\n</code></pre>\n\n<p>Will not return any results. To solve this, you should store the time as a timestamp and <strong>not</strong> as a String. To achieve this, please see my answer from the following post:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/43584244/how-to-save-the-current-date-time-when-i-add-new-value-to-firebase-realtime-data\">How to save the current date/time when I add new value to Firebase Realtime Database</a></li>\n</ul>\n\n<p>In the end, just pass timestamps (long values) to both <code>startAt()</code> and <code>endAt()</code> methods and your problem will be solved.</p>\n"}], "owner": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577208207, "creation_date": 1577190513, "last_edit_date": 1577208207, "question_id": 59468864, "link": "https://stackoverflow.com/questions/59468864/simplest-way-to-apply-multiple-queries-for-firebase-database-in-android", "title": "simplest way to apply multiple queries for firebase database in android", "body": "<p>I am wondering if it is possible to apply multiple queries for the Firebase database in Android/Kotlin.</p>\n\n<p>I have a firebase database that has <code>time</code> value in it.\n<a href=\"https://i.stack.imgur.com/IeV1P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IeV1P.png\" alt=\"enter image description here\"></a></p>\n\n<p>what I need to get is I want to have sales report hourly based. I get this for 1 hour but, when I try it for another hour I don't get the result. I believe I am doing something wrong here logically.</p>\n\n<pre><code>val rootRef = FirebaseDatabase.getInstance().reference\n    val query1 = rootRef.child(\"Sales\").orderByChild(\"time\").startAt(\"00:00:00\").endAt(\"00:30:00\")\n    val query2 = rootRef.child(\"Sales\").orderByChild(\"time\").startAt(\"23:30:00\").endAt(\"00:00:00\")\n\n    val valueEventListener = object : ValueEventListener {\n        override fun onDataChange(p0: DataSnapshot) {\n            if (p0.exists()) {\n                for(ds in p0.children) {\n                    var timeList = arrayListOf&lt;String&gt;()\n                    val time = ds.child(\"time\").getValue(String::class.java)!!\n\n                    var totalList = arrayListOf&lt;Double&gt;()\n\n                    timeList.add(time)\n                    println(\"time List : \"+timeList)\n\n\n                }\n            }\n        }\n\n        override fun onCancelled(databaseError: DatabaseError) {\n            Log.d(TAG, databaseError.getMessage()) //Don't ignore errors!\n        }\n    }\n    query2.addListenerForSingleValueEvent(valueEventListener)\n    query1.addListenerForSingleValueEvent(valueEventListener)\n</code></pre>\n\n<p>Can anyone help me to understand the logic here?\nThanks.</p>\n\n<p>......</p>\n\n<p>Edited part:</p>\n\n<p>Here it is what i have done: I am now saving date in miliseconds format as you suggested. And, my code looks like this :                                                                    </p>\n\n<pre><code>   `val query1 = rootRef.child(\"Sales\").orderByChild(\"time\").startAt(1577192700000).endAt(1577192701167)\n    val valueEventListener = object : ValueEventListener {\n        override fun onDataChange(p0: DataSnapshot) {\n            if (p0.exists()) {\n                for(ds in p0.children) {\n\n                    var timeList = arrayListOf&lt;Long&gt;()\n                    val time = ds.child(\"time\").getValue(Long::class.java)!!\n\n\n                   // var totalList = arrayListOf&lt;Double&gt;()\n\n                    timeList.add(time)\n                    println(\"time List : \"+timeList)\n\n\n                }\n            }\n        }`\n</code></pre>\n\n<p>when I use miliseconds (long value) as startAt() paramater it gives me error. \n<a href=\"https://i.stack.imgur.com/tUUgp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tUUgp.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "dynamic-view"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1577187899, "post_id": 59468293, "comment_id": 105115876, "body": "Try using <code>val layout = parent.findViewById&lt;LinearLayout&gt;(id)</code>"}, {"owner": {"reputation": 2219, "user_id": 8608146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B2gl.jpg?s=128&g=1", "display_name": "Phani Rithvij", "link": "https://stackoverflow.com/users/8608146/phani-rithvij"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1577188094, "post_id": 59468293, "comment_id": 105115947, "body": "I slightly simplified it for asking the question but I don&#39;t have access to the <code>parent</code> the <code>parent</code> is a local variable in a view pager adapter."}, {"owner": {"reputation": 2219, "user_id": 8608146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B2gl.jpg?s=128&g=1", "display_name": "Phani Rithvij", "link": "https://stackoverflow.com/users/8608146/phani-rithvij"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1577188213, "post_id": 59468293, "comment_id": 105115991, "body": "I tried <code>viewPager.findViewById&lt;LinearLayout&gt;(id)</code> but it returns <code>null</code> aswell"}, {"owner": {"reputation": 480, "user_id": 7134898, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eLElmLYY-xE/AAAAAAAAAAI/AAAAAAAAAGs/6KXocOw0EsM/photo.jpg?sz=128", "display_name": "Juan Daniel Ornella", "link": "https://stackoverflow.com/users/7134898/juan-daniel-ornella"}, "edited": false, "score": 0, "creation_date": 1577188410, "post_id": 59468293, "comment_id": 105116048, "body": "Why don&#39;t you save the reference to the view instead of saving your id?"}, {"owner": {"reputation": 2219, "user_id": 8608146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B2gl.jpg?s=128&g=1", "display_name": "Phani Rithvij", "link": "https://stackoverflow.com/users/8608146/phani-rithvij"}, "edited": false, "score": 0, "creation_date": 1577188605, "post_id": 59468293, "comment_id": 105116128, "body": "Should I save a reference to all my views that I&#39;m adding in a <code>viewpager</code> won&#39;t they get re-created?"}], "owner": {"reputation": 2219, "user_id": 8608146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B2gl.jpg?s=128&g=1", "display_name": "Phani Rithvij", "link": "https://stackoverflow.com/users/8608146/phani-rithvij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1577197171, "creation_date": 1577187689, "last_edit_date": 1577197171, "question_id": 59468293, "link": "https://stackoverflow.com/questions/59468293/findviewbyid-not-working-with-ids-created-using-view-generateviewid", "title": "findViewById not working with ids created using View.generateViewId", "body": "<p>I'm trying to access a view with a dynamically created id, using <code>findViewById</code> but it always returns <code>null</code>.</p>\n\n<p>This is how I'm creating the id, using <code>View.generateViewId()</code> and <code>ViewCompat.generateViewId()</code> for lower API versions.</p>\n\n<pre><code>import androidx.core.view.ViewCompat\nimport android.view.View\n\n...\n// generate an id\nval id = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n    View.generateViewId()\n} else {\n    ViewCompat.generateViewId()\n}\n// assign the id\nview.id = id\n// Then add it to a parent view\nparent.addView(view)\n...\n\n</code></pre>\n\n<p>Logging the id gives <code>3</code>.</p>\n\n<p>Now, the view is getting created, it is visible, there are no errors and even the layout inspector shows the id assigned by the <code>View.generateViewId()</code> to be <code>0x3</code> i.e. <code>3</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JU99j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JU99j.png\" alt=\"image_bruh\"></a></p>\n\n<pre><code>val layout = findViewById&lt;LinearLayout&gt;(id)\n</code></pre>\n\n<p>But the <code>layout</code> is always <code>null</code>.</p>\n\n<p><code>findViewById</code> returns the <code>LinearLayout</code> successfully when given an id that's defined in <code>ids.xml</code> or the <code>layout/....xml</code>.</p>\n\n<p>It fails only with dynamically created ids.</p>\n"}, {"tags": ["android", "kotlin", "broadcastreceiver"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577190682, "post_id": 59468822, "comment_id": 105116835, "body": "Hi, thanks for the answer. The string is in the xml resource file and works for the initial setting of the clock in the main activity. I believe if that would be the problem, the clock wouldn&#39;t even set on start up."}, {"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "reply_to_user": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577191013, "post_id": 59468822, "comment_id": 105116965, "body": "try also add R class import. I don&#39;t see it in your code. Sth like  - import com.example.alarmcompanion.R"}, {"owner": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577191384, "post_id": 59468822, "comment_id": 105117094, "body": "Sadly that doesn&#39;t work either. I don&#39;t think the problem is with the <code>R.string.time</code> part. For some reason it doesn&#39;t know the TextView <code>clock</code> or the function <code>getString</code>. I&#39;m guessing I have to import the view somehow, but I don&#39;t know how..."}, {"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "reply_to_user": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577191854, "post_id": 59468822, "comment_id": 105117251, "body": "It important without R class you can&#39;t get sting by it&#39;s id. I edited my answer"}, {"owner": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577192929, "post_id": 59468822, "comment_id": 105117634, "body": "Thanks, that fixed the <code>getString</code> part. Do you have an idea for making the <code>clock</code> view known? I added the error I get to my question"}, {"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "reply_to_user": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577193049, "post_id": 59468822, "comment_id": 105117668, "body": "Without layout.activity_main.xml file it is difficult"}, {"owner": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577193382, "post_id": 59468822, "comment_id": 105117758, "body": "I added the xml and the error, thanks for your help"}, {"owner": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577197555, "post_id": 59468822, "comment_id": 105119100, "body": "I&#39;m sorry, but I&#39;m at the beginning of learning Android development. Could you please explain how I would make the receiver an inner class of the activity?"}, {"owner": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "edited": false, "score": 0, "creation_date": 1577262128, "post_id": 59468822, "comment_id": 105130564, "body": "So I just copied and pasted the receiver class inside the main activity, below the onCreate function, but it still doesn&#39;t know <code>clock</code>"}], "tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": false, "score": 0, "last_activity_date": 1577195037, "last_edit_date": 1577195037, "creation_date": 1577190263, "answer_id": 59468822, "question_id": 59468288, "link": "https://stackoverflow.com/questions/59468288/updating-a-clock-in-main-activity/59468822#59468822", "title": "Updating a clock in main activity", "body": "<pre><code>R.string.time\n</code></pre>\n\n<p>Is a link on your strings xml resource file tag which probably doesn't contain this string. getString(id: Int) is a function in Context. In receiver you should invoke it like that context.getString(id). Your receiver knows nothing about TextView, it is variable of Activity only. You can share the link on it as global variable. But it's a bad practice and can lead memory leak! Another way is to make your receiver inner class of activity</p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "is_accepted": true, "score": 0, "last_activity_date": 1603715167, "creation_date": 1603715167, "answer_id": 64537082, "question_id": 59468288, "link": "https://stackoverflow.com/questions/59468288/updating-a-clock-in-main-activity/64537082#64537082", "title": "Updating a clock in main activity", "body": "<p>Should anybody stumble across this post, I found the answer here:\n<a href=\"https://stackoverflow.com/a/13059819/9552448\">https://stackoverflow.com/a/13059819/9552448</a></p>\n<p>The code seems to belong into the MainActivity class.</p>\n"}], "owner": {"reputation": 45, "user_id": 9552448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12db564dbfaf7e0d0efbe965f5b9b3c?s=128&d=identicon&r=PG&f=1", "display_name": "HahaMuntz", "link": "https://stackoverflow.com/users/9552448/hahamuntz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 64537082, "answer_count": 2, "score": 0, "last_activity_date": 1603715167, "creation_date": 1577187648, "last_edit_date": 1577193081, "question_id": 59468288, "link": "https://stackoverflow.com/questions/59468288/updating-a-clock-in-main-activity", "title": "Updating a clock in main activity", "body": "<p>Im trying to get into Android Development and want to create a simple app, that shows the current time in a TextView and updates every minute.<br>\nI managed to get the time initialized, but can't figure out how to update it.</p>\n\n<p>I googled a lot and am now trying to create a broadcast receiver that updates the TextView.<br>\nThat's what I got so far:</p>\n\n<p>AndroidMainfest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.alarmcompanion\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;receiver android:name=\".TimeBroadcastReceiver\"  android:exported=\"false\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.TIME_SET\"/&gt;\n                &lt;action android:name=\"android.intent.action.TIMEZONE_CHANGED\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>MainActivity.kt  </p>\n\n<pre><code>package com.example.alarmcompanion\n\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.os.Bundle\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\n\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        clock.text = getString(R.string.time, Calendar.getInstance().get(Calendar.HOUR_OF_DAY), Calendar.getInstance().get(Calendar.MINUTE))\n\n    }\n}\nclass TimeBroadcastReceiver : BroadcastReceiver() {\n    override fun onReceive( context: Context, intent: Intent){\n        clock.text = getString(R.string.time, Calendar.getInstance().get(Calendar.HOUR_OF_DAY), Calendar.getInstance().get(Calendar.MINUTE))\n    }\n}\n</code></pre>\n\n<p>The debugger says, that <code>clock</code> and <code>getString</code> are unresolved references, but I can't seem to figure out how to fix that.<br>\nFor <code>clock</code> I get this error:  </p>\n\n<pre><code>    Unresolved reference. None of the following candidates is applicable because of receiver type mismatch:\n    public val Activity.clock: TextView! defined in kotlinx.android.synthetic.main.activity_main\n    public val Dialog.clock: TextView! defined in kotlinx.android.synthetic.main.activity_main\n    public val android.app.Fragment.clock: TextView! defined in kotlinx.android.synthetic.main.activity_main\n    public val androidx.fragment.app.Fragment.clock: TextView! defined in kotlinx.android.synthetic.main.activity_main\n</code></pre>\n\n<p>activity_main.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/clock\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"16dp\"\n        android:clickable=\"false\"\n        android:gravity=\"center\"\n        android:text=\"@string/time\"\n        android:textColor=\"@android:color/background_light\"\n        android:textSize=\"120sp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Please let me know if I need to provide more info.</p>\n\n<p>Any help or explanation would be greatly appreciated.<br>\nAm I even on the right track?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 2, "creation_date": 1577186786, "post_id": 59468084, "comment_id": 105115516, "body": "Generate model from the <code>json</code> and sort the list"}, {"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1577188397, "post_id": 59468084, "comment_id": 105116042, "body": "@Md.Asaduzzaman Normal sorting i can do but how do i keep the MAT TY values in top and the date is only in Month Year format."}, {"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "edited": false, "score": 0, "creation_date": 1577219172, "post_id": 59468084, "comment_id": 105124701, "body": "You can create a special case in your custom comparator. Can you post code on how you&#39;re sorting the list?"}, {"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "reply_to_user": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "edited": false, "score": 0, "creation_date": 1577290107, "post_id": 59468084, "comment_id": 105136820, "body": "@Christilyn Just did please check"}, {"owner": {"reputation": 961, "user_id": 8463412, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-AsVe6ZFmeDU/AAAAAAAAAAI/AAAAAAAAADQ/pQ5YSEATEPg/photo.jpg?sz=128", "display_name": "sak", "link": "https://stackoverflow.com/users/8463412/sak"}, "edited": false, "score": 0, "creation_date": 1577331179, "post_id": 59468084, "comment_id": 105143055, "body": "Try <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#parse-java.lang.CharSequence-java\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>... That&#39;ll parse it into a YearMonth. You just need to make the DateTimeFormatter."}], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577342426, "post_id": 59483924, "comment_id": 105144939, "body": "and what about sorting the dates ? Nov 2018 should be ahead of jun 2019"}, {"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "reply_to_user": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577342843, "post_id": 59483924, "comment_id": 105145044, "body": "@CosmicDev I&#39;ve edited my answer to account for actual dates comparison. Hope it helps"}, {"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577343401, "post_id": 59483924, "comment_id": 105145183, "body": "getting an error of: java.lang.IllegalArgumentException: Comparison method violates its general contract!"}, {"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "reply_to_user": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577343512, "post_id": 59483924, "comment_id": 105145221, "body": "@CosmicDev Which line are you getting the error? also, could you maybe update your post with your new implementation so I could see"}, {"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577344152, "post_id": 59483924, "comment_id": 105145411, "body": "Just did please check"}, {"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "reply_to_user": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577345528, "post_id": 59483924, "comment_id": 105145819, "body": "@CosmicDev Weird. I tried the code and I&#39;m not getting any errors like yours."}, {"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577345692, "post_id": 59483924, "comment_id": 105145849, "body": "are you trying in android or any kotlin compiler?"}, {"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577346604, "post_id": 59483924, "comment_id": 105146070, "body": "you are right on your part, the code is working fine, the problem seems to be with the arraylist i am passing"}, {"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "reply_to_user": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577347514, "post_id": 59483924, "comment_id": 105146263, "body": "@CosmicDev what are you passing in your <code>customSortFunction</code> function?"}, {"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577349709, "post_id": 59483924, "comment_id": 105146899, "body": "An String ArrayList: the values are: My date list: [SEP 2019, JUL 2019, AUG 2019, JUN 2019, MAY 2019....] i have updated the complete values in question."}, {"owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "edited": false, "score": 0, "creation_date": 1577350337, "post_id": 59483924, "comment_id": 105147099, "body": "I found out that&#39;s the length of the ArrayList"}], "tags": [], "owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "is_accepted": false, "score": 1, "last_activity_date": 1577342819, "last_edit_date": 1577342819, "creation_date": 1577335460, "answer_id": 59483924, "question_id": 59468084, "link": "https://stackoverflow.com/questions/59468084/sorting-a-json-based-on-date/59483924#59483924", "title": "Sorting a JSON based on date", "body": "<p>Here is a custom comparator that meets your need:</p>\n\n<pre><code>val sdf = SimpleDateFormat(\"MMM yyyy\")\nval stringList = arrayListOf(\n        \"JUN 2019\",\n        \"MAT YA\",\n        \"SEP 2018\",\n        \"MAT YA\",\n        \"MAT TY\",\n        \"NOV 2018\"\n)\n\nval comparator = Comparator&lt;String&gt; { date1, date2 -&gt;\n    if (date1 == \"MAT TY\") return@Comparator -1\n    if (date2 == \"MAT TY\") return@Comparator 1\n    if (date1 == \"MAT YA\") return@Comparator -1\n    if (date2 == \"MAT YA\") return@Comparator 1\n\n    val date1Formatted = sdf.parse(date1)\n    val date2Formatted = sdf.parse(date2)\n    return@Comparator date1Formatted.compareTo(date2Formatted)\n}\n\nstringList.sortWith(comparator)\nprintln(stringList)\n</code></pre>\n\n<p>This results in:</p>\n\n<pre><code>[MAT TY, MAT YA, MAT YA, SEP 2018, NOV 2018, JUN 2019]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1800, "user_id": 576436, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1bff139ac646b1b6c4d4013ffee8edc2?s=128&d=identicon&r=PG", "display_name": "A. Rager", "link": "https://stackoverflow.com/users/576436/a-rager"}, "is_accepted": true, "score": 3, "last_activity_date": 1577380739, "creation_date": 1577380739, "answer_id": 59491453, "question_id": 59468084, "link": "https://stackoverflow.com/questions/59468084/sorting-a-json-based-on-date/59491453#59491453", "title": "Sorting a JSON based on date", "body": "<p>The comparison logic described <a href=\"https://stackoverflow.com/questions/11441666/java-error-comparison-method-violates-its-general-contract\">does not follow the contract</a>. If there is no branch covering when both strings are \"MAT YA\" or \"MAT TY\", you can end up with situations where A > B and B > A. You need another condition up top that handles when both strings are the same:</p>\n\n<pre><code>private val val sdf = SimpleDateFormat(\"MMM yyyy\")\n\nfun compare(s1: String?, s2: String?): Int = when {\n  s1 == s2 -&gt; 0\n  s1 == \"MAT TY\" -&gt; -1\n  s2 == \"MAT TY\" -&gt; 1\n  s1 == \"MAT YA\" -&gt; -1\n  s2 == \"MAT YA\" -&gt; 1\n  s1 == null -&gt; 1\n  s2 == null -&gt; -1\n  else -&gt; sdf.parse(s1).compareTo(sdf.parse(s2))\n}\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 9509164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cosmic Dev", "link": "https://stackoverflow.com/users/9509164/cosmic-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 1, "accepted_answer_id": 59491453, "answer_count": 2, "score": 2, "last_activity_date": 1577380739, "creation_date": 1577186619, "last_edit_date": 1577349808, "question_id": 59468084, "link": "https://stackoverflow.com/questions/59468084/sorting-a-json-based-on-date", "title": "Sorting a JSON based on date", "body": "<p>I want to sort a json based on the date inside period but it also contains other string(MAT TY and MAT YA) values which we have to keep in the front of list always(MAT TY first then MAT YA after) and the sorted items after that so how do i do it? Here's the JSON response:</p>\n\n<pre><code> [{\n\n        \"Period\": \"MAT YA\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n\n    },\n    {\n\n        \"Period\": \"DEC 2018\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n\n    },\n    {\n\n        \"Period\": \"NOV 2018\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n\n    },\n    {\n\n        \"Period\": \"SEP 2018\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n\n    },\n    {\n\n        \"Period\": \"JUN 2019\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n\n    },\n    {\n\n        \"Period\": \"MAT TY\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n    },\n    {\n\n        \"Period\": \"MAT YA\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n\n    },\n    {\n\n        \"Period\": \"MAT YA\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n\n    },\n    {\n\n        \"Period\": \"MAT TY\",\n        \"StartUnit\": null,\n        \"EndUnit\": null,\n\n    }\n]\n</code></pre>\n\n<p>I know Comparator like this:</p>\n\n<pre><code>myDateList.sortWith(Comparator { s1, s2 -&gt; myDateList.indexOf(s1).compareTo(myDateList.indexOf(s2))})\n</code></pre>\n\n<p>So how can i convert it to meet the above requirement?</p>\n\n<p><strong>Update</strong>:\nThe <strong>custom comparator</strong>:</p>\n\n<pre><code> private fun customSortFunction(mydateList: ArrayList&lt;String&gt;){\n        val sdf = SimpleDateFormat(\"MMM yyyy\")\n        val comparator = Comparator&lt;String&gt; { date1, date2 -&gt;\n            if (date1 == \"MAT TY\") return@Comparator -1\n            if (date2 == \"MAT TY\") return@Comparator 1\n            if (date1 == \"MAT YA\") return@Comparator -1\n            if (date2 == \"MAT YA\") return@Comparator 1\n\n            val date1Formatted = sdf.parse(date1)\n            val date2Formatted = sdf.parse(date2)\n            return@Comparator date1Formatted.compareTo(date2Formatted)\n        }\n\n        mydateList.sortWith(comparator)\n        Log.e(TAG, \"Date list: \"+ mydateList)\n    }\n</code></pre>\n\n<p><strong>StackTrace</strong>:</p>\n\n<pre><code> java.lang.IllegalArgumentException: Comparison method violates its general contract!\n        at java.util.TimSort.mergeHi(TimSort.java:899)\n        at java.util.TimSort.mergeAt(TimSort.java:516)\n        at java.util.TimSort.mergeCollapse(TimSort.java:441)\n        at java.util.TimSort.sort(TimSort.java:245)\n        at java.util.Arrays.sort(Arrays.java:1523)\n        at java.util.Collections.sort(Collections.java:238)\n        at kotlin.collections.CollectionsKt__MutableCollectionsJVMKt.sortWith(MutableCollectionsJVM.kt:34)\n        at com.abc.ShareStoryFragment.customSortFunction(ShareStoryFragment.kt:429)\n</code></pre>\n\n<p>And the 429th line is:</p>\n\n<pre><code>mydateList.sortWith(comparator)\n</code></pre>\n\n<p>Mydatelist values:</p>\n\n<pre><code>[SEP 2019, JUL 2019, AUG 2019, JUN 2019, MAY 2019, APR 2019, MAT TY, MAR 2019, FEB 2019, MAT YA, NOV 2018, SEP 2018, DEC 2018, OCT 2018, JAN 2019, FEB 2019, SEP 2018, JAN 2019, NOV 2018, OCT 2018, DEC 2018, MAT YA, MAT YA, NOV 2018, MAR 2019, MAT TY, SEP 2018, OCT 2018, DEC 2018, APR 2019, JUL 2019, APR 2019, SEP 2019, AUG 2019, MAY 2019, AUG 2019, MAT TY, JAN 2019, FEB 2019, JUN 2019, MAR 2019, MAY 2019, SEP 2019, JUL 2019, JUN 2019, APR 2019, MAR 2019, FEB 2019, MAY 2019, JAN 2019, MAT YA, MAT TY, AUG 2019, DEC 2018, SEP 2019, JUL 2019, NOV 2018, JUN 2019, SEP 2018, OCT 2018, SEP 2019, AUG 2019, JUL 2019, MAY 2019, APR 2019, JUN 2019, MAT TY, MAR 2019, FEB 2019, MAT YA, DEC 2018, OCT 2018, NOV 2018, JAN 2019, SEP 2018, MAT YA, SEP 2018, DEC 2018, OCT 2018, NOV 2018, FEB 2019, JAN 2019, MAR 2019, APR 2019, MAT TY, JUL 2019, MAY 2019, JUN 2019, SEP 2019, AUG 2019, JUN 2019, AUG 2019, SEP 2019, OCT 2018, JUL 2019, SEP 2018, MAY 2019, MAT TY, JAN 2019, NOV 2018, DEC 2018, FEB 2019, MAR 2019, APR 2019, MAT YA]\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 871354, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1577185878, "post_id": 59467830, "comment_id": 105115184, "body": "I don&#39;t know anything about Kotlin, but <a href=\"/search?q=%5Bkotlin%5D+create+list+of+objects\">this search</a> turns up several questions with answers that seem to create lists of objects..."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1577236095, "post_id": 59467830, "comment_id": 105127254, "body": "Note that you can always do it in a similar way to Java; if you can&#39;t see how, try putting the Java code into IntelliJ and running its Java-to-Kotlin converter.  However, that&#39;s not as short, simple, or safe as the Kotlin-specific approaches in the answers."}], "answers": [{"tags": [], "owner": {"reputation": 3357, "user_id": 341998, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sYT3i.jpg?s=128&g=1", "display_name": "Bracadabra", "link": "https://stackoverflow.com/users/341998/bracadabra"}, "is_accepted": false, "score": 3, "last_activity_date": 1577185936, "creation_date": 1577185936, "answer_id": 59467946, "question_id": 59467830, "link": "https://stackoverflow.com/questions/59467830/how-do-i-create-a-list-of-objects-in-kotlin/59467946#59467946", "title": "How do I create a list of objects in Kotlin?", "body": "<p>In Kotlin it will look like that:</p>\n\n<pre><code>fun getDestinations(): List&lt;LocationData&gt; {\n    return listOf(\n            LocationData(43.21123, 32.67643),\n            LocationData(43.21123, 32.67643)\n    )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34880, "user_id": 318493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8367f123240268431ceae261af0dac9?s=128&d=identicon&r=PG", "display_name": "RoToRa", "link": "https://stackoverflow.com/users/318493/rotora"}, "is_accepted": true, "score": 6, "last_activity_date": 1577185959, "creation_date": 1577185959, "answer_id": 59467951, "question_id": 59467830, "link": "https://stackoverflow.com/questions/59467830/how-do-i-create-a-list-of-objects-in-kotlin/59467951#59467951", "title": "How do I create a list of objects in Kotlin?", "body": "<p>The most basic way is to use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of.html\" rel=\"noreferrer\"><code>listOf</code></a> function (or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/mutable-list-of.html\" rel=\"noreferrer\"><code>mutableListOf</code></a>, if you need  to modify the list later):</p>\n\n<pre><code>fun getDestinations() = listOf( LocationData( 43.21123, 32.67643 ), LocationData( 32.67643, 43.21123 ))\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 11868395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d43881d1d7c1eccb07ae80fcd77d150?s=128&d=identicon&r=PG&f=1", "display_name": "CookieMonster", "link": "https://stackoverflow.com/users/11868395/cookiemonster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4845, "favorite_count": 0, "accepted_answer_id": 59467951, "answer_count": 2, "score": -3, "last_activity_date": 1577185959, "creation_date": 1577185462, "last_edit_date": 1577185708, "question_id": 59467830, "link": "https://stackoverflow.com/questions/59467830/how-do-i-create-a-list-of-objects-in-kotlin", "title": "How do I create a list of objects in Kotlin?", "body": "<p>I started Kotlin after Java.</p>\n\n<p>I want to write a function to return <code>Single&lt;List&lt;LocationData&gt;&gt;</code></p>\n\n<pre><code>override fun getDestinations(): Single&lt;List&lt;LocationData&gt;&gt; {\n  //return ???\n}\n</code></pre>\n\n<p>My <code>LocationData</code> class:</p>\n\n<pre><code>@Parcelize\ndata class LocationData(val latitude: Double, val longitude: Double) : Parcelable\n</code></pre>\n\n<p>How can I create a <code>List</code> of static <code>LocationData</code> objects in Kotlin?</p>\n\n<p>In Java I would do this like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList&lt;LocationData&gt; getDestinations(){\n  ArrayList&lt;LocationData&gt; data = new ArrayList&lt;&gt;();\n  LocationData location1 = new LocationData( 43.21123, 32.67643 );\n  LocationData location2 = new LocationData( 32.67643, 43.21123 );\n  data.add( location1 );\n  data.add( location2 );\n  return data;\n}\n</code></pre>\n"}, {"tags": ["kotlin", "nullpointerexception", "kodein"], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 8107664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fluUj.jpg?s=128&g=1", "display_name": "romainbsl", "link": "https://stackoverflow.com/users/8107664/romainbsl"}, "is_accepted": true, "score": 1, "last_activity_date": 1577457620, "creation_date": 1577457620, "answer_id": 59502280, "question_id": 59467786, "link": "https://stackoverflow.com/questions/59467786/nullpointerexception-inside-kodein/59502280#59502280", "title": "NullPointerException inside Kodein", "body": "<p>this is because in your class <code>AnimalDataRepository</code> you have defined:</p>\n\n<p><code>override val all: List&lt;T&gt; = animalData.let(property)</code></p>\n\n<p>While Kodein is working lazily, thus <code>all</code> is defined before, that's why <code>animalData</code> is null. However, you can fix this by doing:</p>\n\n<p><code>override val all: List&lt;T&gt; by lazy { animalData.let(property) }</code></p>\n"}], "owner": {"reputation": 34880, "user_id": 318493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8367f123240268431ceae261af0dac9?s=128&d=identicon&r=PG", "display_name": "RoToRa", "link": "https://stackoverflow.com/users/318493/rotora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59502280, "answer_count": 1, "score": 0, "last_activity_date": 1577457620, "creation_date": 1577185223, "question_id": 59467786, "link": "https://stackoverflow.com/questions/59467786/nullpointerexception-inside-kodein", "title": "NullPointerException inside Kodein", "body": "<p>I'm trying out Kotlin with Kodein and in my current project I'm getting a NPE inside Kodein and I'm don't know why.</p>\n\n<p>I have some data classes and matching repositories which deliver a list of them:</p>\n\n<pre><code>data class Cat(val name: String)\n\ndata class Dog(val name: String)\n\ninterface Repository&lt;T&gt; {\n    val all: List&lt;T&gt;\n}\n\ninterface CatRepository : Repository&lt;Cat&gt;\n\ninterface DogRepository : Repository&lt;Dog&gt;\n</code></pre>\n\n<p>The implementations of these repositories are currently backed by a master class:</p>\n\n<pre><code>data class AnimalData(val cats: List&lt;Cat&gt;, val dogs: List&lt;Dog&gt;)\n</code></pre>\n\n<p>I created an abstract base class for the repositories:</p>\n\n<pre><code>abstract class AnimalDataRepository&lt;T&gt;(override val kodein: Kodein) : Repository&lt;T&gt;, KodeinAware {\n    private val animalData: AnimalData by instance()\n    abstract val property: (AnimalData) -&gt; List&lt;T&gt;\n    override val all: List&lt;T&gt; = animalData.let(property)\n}\n</code></pre>\n\n<p>So that the repository implementations look like this:</p>\n\n<pre><code>class CatRepositoryImpl(override val kodein: Kodein) : CatRepository, AnimalDataRepository&lt;Cat&gt;(kodein) {\n    override val property = AnimalData::cats\n}\n</code></pre>\n\n<p>Setting this up and running with:</p>\n\n<pre><code>fun main() {\n    val kodein = Kodein {\n        bind&lt;AnimalData&gt;() with singleton { AnimalData(listOf(Cat(\"Tigger\")), listOf(Dog(\"Rover\"))) }\n        bind&lt;CatRepository&gt;() with singleton { CatRepositoryImpl(kodein) }\n    }\n\n    val catRepository: CatRepository by kodein.instance()\n    println(catRepository.all)\n}\n</code></pre>\n\n<p>leads to a NPE inside Kotlin:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\n    at org.kodein.di.KodeinAwareKt$Instance$1.invoke(KodeinAware.kt:176)\n    at org.kodein.di.KodeinAwareKt$Instance$1.invoke(KodeinAware.kt)\n    at org.kodein.di.KodeinProperty$provideDelegate$1.invoke(properties.kt:42)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at AnimalDataRepository.getAnimalData(KodeinExample.kt)\n    at AnimalDataRepository.&lt;init&gt;(KodeinExample.kt:27)\n    at CatRepositoryImpl.&lt;init&gt;(KodeinExample.kt:30)\n    at KodeinExampleKt$main$kodein$1$2.invoke(KodeinExample.kt:40)\n    at KodeinExampleKt$main$kodein$1$2.invoke(KodeinExample.kt)\n    at org.kodein.di.bindings.Singleton$getFactory$1$1$1.invoke(standardBindings.kt:130)\n    ...\n</code></pre>\n\n<p>I'm not clear why this happens. It has something to do with the use of the \"property\" mapping lamba in <code>AnimalDataRepository</code>, because when I don't use that it works fine.</p>\n\n<p>Complete code as gist: <a href=\"https://gist.github.com/RoToRa/65d664d2d7497ddbf851a1be019f631d\" rel=\"nofollow noreferrer\">https://gist.github.com/RoToRa/65d664d2d7497ddbf851a1be019f631d</a></p>\n"}, {"tags": ["android", "json", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1577183797, "post_id": 59467386, "comment_id": 105114367, "body": "your json will be <code>[{   &quot;mon&quot;:{&quot;start&quot;:&quot;1&quot;,&quot;end&quot;:&quot;10&quot;},   &quot;tue&quot;:{&quot;start&quot;:&quot;1&quot;,&quot;end&quot;:&quot;10&quot;}, }]</code>"}, {"owner": {"reputation": 1098, "user_id": 9908240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqqQUy6lByw/AAAAAAAAAAI/AAAAAAAAAFs/4IdV2CygnX0/photo.jpg?sz=128", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9908240/viral-patel"}, "edited": false, "score": 0, "creation_date": 1577184318, "post_id": 59467386, "comment_id": 105114594, "body": "look at the link it&#39; ll help you: <a href=\"https://stackoverflow.com/a/59408284/9908240\">stackoverflow.com/a/59408284/9908240</a>"}, {"owner": {"reputation": 964, "user_id": 5116572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af40e7f5b815ad0acca7c9c93db77d4?s=128&d=identicon&r=PG&f=1", "display_name": "art", "link": "https://stackoverflow.com/users/5116572/art"}, "edited": false, "score": 0, "creation_date": 1577184462, "post_id": 59467386, "comment_id": 105114664, "body": "You can&#39;t put named fields into json array, so your demanded json format is illegal. You should use an object with two fields instead of array or use an array of objects."}], "answers": [{"comments": [{"owner": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "edited": false, "score": 0, "creation_date": 1577184433, "post_id": 59467495, "comment_id": 105114651, "body": "Edited question : I want as below : I want as below :          [           &quot;mon&quot;: {                    &quot;start&quot;: &quot;1&quot;,                    &quot;end&quot;: &quot;10&quot;                  }        ]"}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "reply_to_user": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "edited": false, "score": 0, "creation_date": 1577184595, "post_id": 59467495, "comment_id": 105114731, "body": "@JaiminModi, What you want is not valid <code>json</code>. If you want to set <code>key</code> as <b>mon</b> then you have to use <code>JsonObject</code> and then add that <code>JsonObject</code> to <code>JsonArray</code> which gives you valid <code>json</code> that i mentioned"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1577183903, "creation_date": 1577183903, "answer_id": 59467495, "question_id": 59467386, "link": "https://stackoverflow.com/questions/59467386/managing-jsonobject-insead-of-jsonobject-kotlin/59467495#59467495", "title": "Managing JsonObject insead of JSONObject - Kotlin", "body": "<p>Your <code>json</code> is not valid. Try using below to get valid <code>json</code>:</p>\n\n<pre><code>var mJsonArray= JsonArray()\nvar jsonObject: JsonObject =JsonObject()\n\njsonObject.addProperty(\"start\",\"\"+minValue.toString())\njsonObject.addProperty(\"end\",\"\"+maxValue.toString())\n\nvar jsonObjectMonday: JsonObject =JsonObject()\njsonObjectMonday.add(\"mon\",jsonObject)\n\nmJsonArray.add(jsonObjectMonday)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[\n  {\n    \"mon\": {\n      \"start\": \"1\",\n      \"end\": \"10\"\n    }\n  }\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 286, "user_id": 7209777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3350cabe1a69b617e06dff5c51dc9b9?s=128&d=identicon&r=PG&f=1", "display_name": "Hagar Magdy", "link": "https://stackoverflow.com/users/7209777/hagar-magdy"}, "is_accepted": false, "score": 1, "last_activity_date": 1577184778, "last_edit_date": 1577184778, "creation_date": 1577184118, "answer_id": 59467543, "question_id": 59467386, "link": "https://stackoverflow.com/questions/59467386/managing-jsonobject-insead-of-jsonobject-kotlin/59467543#59467543", "title": "Managing JsonObject insead of JSONObject - Kotlin", "body": "<p>Check Validation for this json on \n<a href=\"https://jsonformatter.curiousconcept.com/\" rel=\"nofollow noreferrer\">https://jsonformatter.curiousconcept.com/</a>\n There is an error, so i think it must be </p>\n\n<pre><code>{\n\"mon\":{\"start\":\"1\",\"end\":\"10\"},\n\"tue\":{\"start\":\"1\",\"end\":\"10\"}\n}\n</code></pre>\n"}], "owner": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 59467495, "answer_count": 2, "score": -1, "last_activity_date": 1577184778, "creation_date": 1577183358, "last_edit_date": 1577184376, "question_id": 59467386, "link": "https://stackoverflow.com/questions/59467386/managing-jsonobject-insead-of-jsonobject-kotlin", "title": "Managing JsonObject insead of JSONObject - Kotlin", "body": "<p>I have to make jsonformat as below :</p>\n\n<pre><code>[\n  \"mon\":{\"start\":\"1\",\"end\":\"10\"},\n  \"tue\":{\"start\":\"1\",\"end\":\"10\"},\n]\n</code></pre>\n\n<p>I must have to use <strong>JsonArray</strong> instead of JSONArray and <strong>JsonObject</strong> instead of JSONObject.</p>\n\n<p>I have tried as below :</p>\n\n<pre><code>var mJsonArray=JsonArray()\nvar jsonObjectMonday:JsonObject=JsonObject()\n\njsonObjectMonday.addProperty(\"start\",\"\"+minValue.toString())\njsonObjectMonday.addProperty(\"end\",\"\"+maxValue.toString())\n\nmJsonArray.add(\"mon\",jsonObjectMonday)\n</code></pre>\n\n<p>Here, the last line gives me : <strong>None of the function can be called with the specified arguments.</strong></p>\n\n<p>I must have to pass the key <strong>'mon'</strong> but, getting above issue. <strong>Is there any other method or way available to do so?</strong> <strong>How?</strong></p>\n\n<p>NOTE : I can do it without '<strong>mon</strong>' and <strong>'tue'</strong> tabs/keys as below :</p>\n\n<pre><code>mJsonArray.add(jsonObjectMonday)\n</code></pre>\n\n<p>I want as below :</p>\n\n<pre><code>    [\n      \"mon\": {\n               \"start\": \"1\",\n               \"end\": \"10\"\n             }\n   ]\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-volley"], "answers": [{"comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1577186109, "post_id": 59467923, "comment_id": 105115263, "body": "@ilhamramadhan, Check the answer. Thanks"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1577185846, "creation_date": 1577185846, "answer_id": 59467923, "question_id": 59467244, "link": "https://stackoverflow.com/questions/59467244/volley-response-not-return-full-data/59467923#59467923", "title": "Volley response not return full data", "body": "<p>Try using </p>\n\n<pre><code>for(i in 0 .. list.length())\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>for(i in 0 until list.length())\n</code></pre>\n\n<p><strong>As <code>until</code> exclude the last element.</strong> </p>\n\n<p>Check <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/loops.html\" rel=\"nofollow noreferrer\">official doc</a> for more information.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8652603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3692108a4e1b477524b30b31040dd67e?s=128&d=identicon&r=PG&f=1", "display_name": "Ilham Ramadhan", "link": "https://stackoverflow.com/users/8652603/ilham-ramadhan"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1577948075, "post_id": 59558361, "comment_id": 105286759, "body": "for example if you have 3 items in an array, using <code>for(i in 0 .. list.length())</code> resulting i = 0,1,2,3 (become 4 items). You need to minus 1 like this <code>list.length() - 1 </code> while using <code>for(i in 0 until list.length())</code> resulting i = 0,1,2"}], "tags": [], "owner": {"reputation": 1, "user_id": 8652603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3692108a4e1b477524b30b31040dd67e?s=128&d=identicon&r=PG&f=1", "display_name": "Ilham Ramadhan", "link": "https://stackoverflow.com/users/8652603/ilham-ramadhan"}, "is_accepted": true, "score": 0, "last_activity_date": 1577940184, "creation_date": 1577940184, "answer_id": 59558361, "question_id": 59467244, "link": "https://stackoverflow.com/questions/59467244/volley-response-not-return-full-data/59558361#59558361", "title": "Volley response not return full data", "body": "<p>Actually there is error in Volley's cache, so I need to use:</p>\n\n<p><code>Volley.newRequestQueue(this).cache.clear()</code></p>\n\n<p>before add a request</p>\n"}], "owner": {"reputation": 1, "user_id": 8652603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3692108a4e1b477524b30b31040dd67e?s=128&d=identicon&r=PG&f=1", "display_name": "Ilham Ramadhan", "link": "https://stackoverflow.com/users/8652603/ilham-ramadhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 59558361, "answer_count": 2, "score": 0, "last_activity_date": 1577940184, "creation_date": 1577182698, "last_edit_date": 1577183645, "question_id": 59467244, "link": "https://stackoverflow.com/questions/59467244/volley-response-not-return-full-data", "title": "Volley response not return full data", "body": "<p>I have an issue with getting a response from Volley. I have 3 data in tables, but volley only returns 2 data. This is what I got in the browser:\n<a href=\"https://i.stack.imgur.com/hn9sT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hn9sT.png\" alt=\"pic\"></a>\nAnd volley returns only index 0 and 1. Could anyone find out what's wrong?\nHere my Volley code</p>\n\n<pre><code>val stringRequest = StringRequest(Request.Method.GET, url,\n  Response.Listener&lt;String&gt; {\n    response -&gt;\n  Log.d(\"response\", response)\n  val jsonObj = JSONObject(response)\n  val list = jsonObj.getJSONArray(\"list_pengaduan\")\n  if(list != null){\n    for(i in 0 until list.length()){\n      val adu = Pengaduan(\n        list.getJSONObject(i).getInt(\"Id_pg\"),\n        list.getJSONObject(i).getString(\"Judul\"),\n        list.getJSONObject(i).getString(\"Tujuan\"),\n        list.getJSONObject(i).getString(\"Prodi\"),\n        list.getJSONObject(i).getString(\"Fakultas\"),\n        list.getJSONObject(i).getString(\"Kategori\"),\n        list.getJSONObject(i).getString(\"Image\"),\n        list.getJSONObject(i).getString(\"Post\"),\n        list.getJSONObject(i).getString(\"Slug\"),\n        list.getJSONObject(i).getString(\"Nim\"),\n        list.getJSONObject(i).getString(\"Modified\"),\n        list.getJSONObject(i).getString(\"Status\")\n      )\n      pengaduan.add(adu)\n}\nadapter.notifyDataSetChanged()\n}\n},\nResponse.ErrorListener {\n    error -&gt;\n  Log.d(\"error\", error.toString())})\n\nVolley.newRequestQueue(this).add(stringRequest)\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "android-recyclerview", "retrofit"], "comments": [{"owner": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 0, "creation_date": 1577182127, "post_id": 59467063, "comment_id": 105113756, "body": "your response is in string format and you are trying to take in array . And show your response."}, {"owner": {"reputation": 111, "user_id": 12180120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e2vlWSDn2g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcfE-7ziNnWl6pjCDnFtZ6p_v5y3g/photo.jpg?sz=128", "display_name": "Daesik Park", "link": "https://stackoverflow.com/users/12180120/daesik-park"}, "reply_to_user": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 0, "creation_date": 1577182528, "post_id": 59467063, "comment_id": 105113893, "body": "Thanks u r comment, u can see response is Result data ."}, {"owner": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 0, "creation_date": 1577182670, "post_id": 59467063, "comment_id": 105113950, "body": "I&#39;m taking about  <code>json</code> response from retrofit or postman not a classmodel."}, {"owner": {"reputation": 111, "user_id": 12180120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e2vlWSDn2g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcfE-7ziNnWl6pjCDnFtZ6p_v5y3g/photo.jpg?sz=128", "display_name": "Daesik Park", "link": "https://stackoverflow.com/users/12180120/daesik-park"}, "reply_to_user": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 0, "creation_date": 1577183168, "post_id": 59467063, "comment_id": 105114124, "body": "oh i see. i just upload img. check it plz."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 12180120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e2vlWSDn2g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcfE-7ziNnWl6pjCDnFtZ6p_v5y3g/photo.jpg?sz=128", "display_name": "Daesik Park", "link": "https://stackoverflow.com/users/12180120/daesik-park"}, "edited": false, "score": 0, "creation_date": 1577183857, "post_id": 59467446, "comment_id": 105114392, "body": "Oh, thanks for u r solution. so i just deleted description, response is complete."}], "tags": [], "owner": {"reputation": 5837, "user_id": 9090751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9247a41261e683637d45d82125e42406?s=128&d=identicon&r=PG&f=1", "display_name": "Mafor", "link": "https://stackoverflow.com/users/9090751/mafor"}, "is_accepted": true, "score": 0, "last_activity_date": 1577183677, "creation_date": 1577183677, "answer_id": 59467446, "question_id": 59467063, "link": "https://stackoverflow.com/questions/59467063/java-lang-illegalstateexpection-expected-a-string-but-was-begin-array-at-line/59467446#59467446", "title": "&quot;java.lang.illegalStateExpection: Expected a string but was BEGIN_ARRAY at line 1 column 145 path $.docs[0].description&quot;in kotlin", "body": "<p>The problem is that the <code>Docs.description</code> field is declared  as a <code>String</code> but it is an array in the JSON response.</p>\n"}], "owner": {"reputation": 111, "user_id": 12180120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e2vlWSDn2g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcfE-7ziNnWl6pjCDnFtZ6p_v5y3g/photo.jpg?sz=128", "display_name": "Daesik Park", "link": "https://stackoverflow.com/users/12180120/daesik-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 59467446, "answer_count": 1, "score": 0, "last_activity_date": 1577187674, "creation_date": 1577181815, "last_edit_date": 1577187674, "question_id": 59467063, "link": "https://stackoverflow.com/questions/59467063/java-lang-illegalstateexpection-expected-a-string-but-was-begin-array-at-line", "title": "&quot;java.lang.illegalStateExpection: Expected a string but was BEGIN_ARRAY at line 1 column 145 path $.docs[0].description&quot;in kotlin", "body": "<p>There is a recycler view in the main fragment, and the items are called using API Retrofit.\nwhen I tried to build, API called: onFailure.\nand then error: \"java.lang.illegalStateExpection: Expected a string but was BEGIN_ARRAY at line 1 column 145 path $.docs[0].description\"\nHow can I solve this problem?</p>\n\n<p>API</p>\n\n<pre><code>interface API{\n    @Headers(\"Authorization:token:String\")\n\n    @GET(\"/store/item/list\")\n    fun fetchAllList(@Header(\"Authorization\") token: String?): Call&lt;Result&gt;\n}\n</code></pre>\n\n<p>Data</p>\n\n<pre><code>data class Docs(\n    val id: String,\n    val title :String,\n    val stock: String,\n    val description: String\n)\n\ndata class Result(\n    val totalDocs: String,\n    val currentPage: String,\n    val pageSize: String,\n    val totalPage: String,\n    val docs: List&lt;Docs&gt;?\n)\n\n</code></pre>\n\n<p>Fragment</p>\n\n<pre><code>\nclass MainFragment: Fragment(), SwipeRefreshLayout.OnRefreshListener {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?\n    ): View? { return inflater!!.inflate(R.layout.fragmenta, container, false)}\n\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        val gson = GsonBuilder().create()\n        val retrofit=Retrofit.Builder()\n            .baseUrl(\"xxxx\")\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .build()\n\n        val api = retrofit.create(API::class.java)\n\n        val token = SharedPreference.getTokenInfo(context!!)\n\n        api.fetchAllList(token).enqueue(object : Callback&lt;Result&gt;{\n            override fun onResponse(call: Call&lt;Result&gt;, response: Response&lt;Result&gt;) {\n                showData(response.body()?.docs!!)\n            Log.d(\"test\", \"complete\")\n        }\n                override fun onFailure(call: Call&lt;Result&gt;, t: Throwable) {\n            Log.d(\"test\",\"error\")\n        } })\n    }\n\n    private fun showData(results: List&lt;Docs&gt;) {\n        recycler_view.apply {\n            recycler_view.layoutManager=androidx.recyclerview.widget.LinearLayoutManager(context)\n            adapter=ItemRecyclerAdapter(results)\n        }\n    }\n\n    override fun onRefresh() {\n            swipeRefreshLo.isRefreshing = false\n\n        }\n\n    }\n</code></pre>\n\n<p>Adapter</p>\n\n<pre><code>class ItemRecyclerAdapter(private val results: List&lt;Docs&gt;) : RecyclerView.Adapter&lt;ItemRecyclerAdapter.ViewHolder&gt;() {\n\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n      val View = LayoutInflater.from(parent.context).inflate(R.layout.item_1_col_list,parent,false)\n\n     return ViewHolder(View)\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val result = results[position]\n        holder.first.text=result.title\n\n       }\n\n    override fun getItemCount(): Int = results.size\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        val first: TextView = itemView.titleText\n    }\n}\n\n\n</code></pre>\n"}, {"tags": ["kotlin", "spring-data-mongodb"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 12299287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iDqBt.png?s=128&g=1", "display_name": "CryptoCode", "link": "https://stackoverflow.com/users/12299287/cryptocode"}, "edited": false, "score": 0, "creation_date": 1577639676, "post_id": 59517977, "comment_id": 105214073, "body": "Thanx a Lot I thought of doing this BUT to do It via QueryDSl (Whitch have its own implementation problems currently with Gradle 5+) because you can use code completion in IDE IDE refactoring tools work (more-or-less) type-safe (almost) syntax-safe compiler generates errors on compile time of wrong types etc vs runtime Excdeptions <b>BUT this will do for now THANX</b>"}], "tags": [], "owner": {"reputation": 2605, "user_id": 3181159, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3b909e02e727451e8a6de1172c7988bc?s=128&d=identicon&r=PG&f=1", "display_name": "krishna Prasad", "link": "https://stackoverflow.com/users/3181159/krishna-prasad"}, "is_accepted": true, "score": 0, "last_activity_date": 1577609311, "creation_date": 1577609311, "answer_id": 59517977, "question_id": 59467010, "link": "https://stackoverflow.com/questions/59467010/creating-a-repository-query-that-include-textcriteria-and-one-other-field/59517977#59517977", "title": "Creating a Repository Query that include TextCriteria AND one other field", "body": "<p>In the case of Java, you can use <code>@Query</code> annotation in the repository and pass the fields which requires in where clauses, as in the official documenation of spring-data-mongodb</p>\n\n<p><strong>6.3.2. Mongo JSON based query methods and field restriction</strong>: <a href=\"https://docs.spring.io/spring-data/data-document/docs/current/reference/html/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-document/docs/current/reference/html/</a></p>\n\n<blockquote>\n  <p>By adding the annotation org.springframework.data.mongodb.repository.Query repository finder methods you can specify a Mongo JSON query string to use instead of having the query derived from the method name.</p>\n</blockquote>\n\n<p><strong>For Text search with extra and parameters in <code>and</code> clause, including pageable parameters</strong></p>\n\n<pre><code>@Query(\"{$and:[ {'ownerId': ?0} , {'$text' : { '$search' : ?1}} ]}\")\nPage&lt;Campaign&gt; searchByByOwnerIdAndText(String ownerId, String keywords,\nPageable page);\n</code></pre>\n\n<p>Debug log of the above query is:</p>\n\n<pre><code>2019-12-29 14:03:42.053 DEBUG 10998 --- [           main] o.s.d.m.r.query.StringBasedMongoQuery    : Created query Document{{$and=[Document{{ownerId=12}}, Document{{$text=Document{{$search=Krishna}}}}]}} for Document{{}} fields.\n</code></pre>\n\n<p>For details about the above code, you can visit by Github page: <a href=\"https://github.com/krishnaiitd/learningJava/blob/master/spring-boot-sample-data-mongodb/src/main/java/sample/data/mongo/repository/CampaignRepository.java#L11\" rel=\"nofollow noreferrer\">https://github.com/krishnaiitd/learningJava/blob/master/spring-boot-sample-data-mongodb/src/main/java/sample/data/mongo/repository/CampaignRepository.java#L11</a></p>\n\n<p>Hope this will help you in your Kotlin code as well. </p>\n"}], "owner": {"reputation": 9, "user_id": 12299287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iDqBt.png?s=128&g=1", "display_name": "CryptoCode", "link": "https://stackoverflow.com/users/12299287/cryptocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 59517977, "answer_count": 1, "score": 0, "last_activity_date": 1577609311, "creation_date": 1577181533, "question_id": 59467010, "link": "https://stackoverflow.com/questions/59467010/creating-a-repository-query-that-include-textcriteria-and-one-other-field", "title": "Creating a Repository Query that include TextCriteria AND one other field", "body": "<p>My Database Document looks like this</p>\n\n<pre><code>@Document(collection = \"campaign\")\nclass Campaign {\n\n    @Id\n    var id: String? = null\n    @Indexed\n    @TextIndexed(weight = 1f)\n    var name: String? = null\n    var mediaLink: String? = null\n    var imageLink: String? = null\n    @TextIndexed(weight = 2f)\n    var text: String? = null\n    @TextIndexed(weight = 2f)\n    var target: String? = null\n    var ownerId: String? = null     // Who can modify this except \"MANAGER\"\n    var useScope: String? = null    // Who can Use this Campaign [me, dl, all] i.e. Visibility\n    @DateTimeFormat(pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\")\n    var startOn: Date? = null       // @ this date the campaign becomes available and usable\n    @DateTimeFormat(pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\")\n    var expireOn: Date? = null      // @ this date the campaign becomes expired and not usable\n    var timestamp: Date? = null\n    ....\n</code></pre>\n\n<p>The Repository</p>\n\n<pre><code>@Repository\ninterface CampaignRepository : MongoRepository&lt;Campaign, String&gt; {\n\n    // page through results for full text query\n    fun findAllBy(textCriteria: TextCriteria?, pageable: Pageable): Page&lt;Campaign?&gt;?\n</code></pre>\n\n<p>This actually produces a nice and complete search over the fields annotated with <code>@TextIndexed</code>\nThe problem is that the moment I add another filter field like I want to filter on <code>ownerId</code>\nthe whole query either don't compile or change the <code>TextCriteria</code> to <code>String</code> in the repository function.\nBusiness logic requires me ONLY to show the data for the Owner</p>\n\n<p>I have tried</p>\n\n<pre><code>// Expected parameter types: String , String not String, TextCriteria\nfun findAllByOwnerId(ownerId: String?, textCriteria: TextCriteria?, pageable: Pageable): Page&lt;Campaign?&gt;?\n// Property name must not be null or empty: 'findAllBy&lt;EMPTY_PROPERTY&gt;AndOwnerId'\nun findAllByAndOwnerId(ownerId: String, textCriteria: TextCriteria?, pageable: Pageable): Page&lt;Campaign?&gt;?\n// No property findAllOwnerId found for type Campaign! during Compiletime\nfun findAllOwnerId(ownerId: String, textCriteria: TextCriteria?, pageable: Pageable): Page&lt;Campaign?&gt;?\n</code></pre>\n\n<p>Me GiveUp!  Please assist</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "is_accepted": false, "score": 1, "last_activity_date": 1577195617, "creation_date": 1577195617, "answer_id": 59469838, "question_id": 59466881, "link": "https://stackoverflow.com/questions/59466881/in-kotlin-how-can-i-get-a-class-from-a-string-and-assign-it-to-a-variable-with/59469838#59469838", "title": "In Kotlin, how can I get a class from a string and assign it to a variable with superclass type?", "body": "<p>I don't see a way to avoid this warning because <code>.kotlin</code> is an extension of <code>&lt;T : Any&gt; Class&lt;T&gt;</code> and that's what <code>Class.forName()</code> is returning (when translated from Java). So what you're actually doing looks like this:</p>\n\n<pre><code>Class.forName() -&gt; Class&lt;T: Any&gt;.kotlin -&gt; KClass&lt;T: Any&gt; as KClass&lt;{MySuperClassName}&gt;\n</code></pre>\n\n<p>You are casting <code>KClass&lt;T: Any&gt;</code> to <code>KClass&lt;{MySuperClassName}&gt;</code> and that will always produce a warning because the compiler can't tell if <code>MySuperClassName</code> is in fact a descendant of <code>T</code> because <code>T</code> can be anything at this point.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1577196480, "creation_date": 1577196480, "answer_id": 59469989, "question_id": 59466881, "link": "https://stackoverflow.com/questions/59466881/in-kotlin-how-can-i-get-a-class-from-a-string-and-assign-it-to-a-variable-with/59469989#59469989", "title": "In Kotlin, how can I get a class from a string and assign it to a variable with superclass type?", "body": "<p>This cast is actually incorrect; a <code>Class&lt;{MyClassName}&gt;</code> is <em>not</em> a <code>Class&lt;{MySuperClassName}&gt;</code>. It only doesn't throw an exception because, as the warning says, the cast is unchecked. The type you probably want is <code>Class&lt;out {MySuperClassName}&gt;</code> (meaning basically <code>Class&lt;some subtype of {MySuperClassName}&gt;</code>).</p>\n\n<p>Fixing the type won't fix the warning for reason already explained in Sir Codesalot's answer.</p>\n\n<p>But you can <a href=\"https://stackoverflow.com/questions/36221405/how-can-i-suppress-unchecked-cast-warnings\">suppress the warning</a> with <code>@Suppress(\"UNCHECKED_CAST\")</code> because no, there is no better way to do it. </p>\n"}], "owner": {"reputation": 13, "user_id": 12590246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b028a4e9f3b29ace22e6a79ae5dc85?s=128&d=identicon&r=PG&f=1", "display_name": "Shakhar Arad", "link": "https://stackoverflow.com/users/12590246/shakhar-arad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 59469989, "answer_count": 2, "score": 1, "last_activity_date": 1577196480, "creation_date": 1577180960, "question_id": 59466881, "link": "https://stackoverflow.com/questions/59466881/in-kotlin-how-can-i-get-a-class-from-a-string-and-assign-it-to-a-variable-with", "title": "In Kotlin, how can I get a class from a string and assign it to a variable with superclass type?", "body": "<p>Right now I am using this line:\n<code>klass = Class.forName({MyClassName}).kotlin as KClass&lt;{MySuperClassName}&gt;</code></p>\n\n<p>But I am getting an 'unchecked cast' warning</p>\n\n<p>Is there a better way to do it?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1577180497, "post_id": 59466602, "comment_id": 105113144, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string\">What&#39;s the Kotlin equivalent of Java&#39;s String&#91;&#93;?</a>"}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1577184607, "post_id": 59466602, "comment_id": 105114735, "body": "When you are trying to make fixed size array, there is possibility you don&#39;t need array at all - just make 3 separate fields."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1577207527, "post_id": 59466602, "comment_id": 105121924, "body": "Also note that arrays in a data class&#39; primary constructor properties are compared by reference during the equality checks, not by content. For that reason, you may want to use a collection or a custom data structure instead of an array."}], "answers": [{"comments": [{"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577182277, "post_id": 59466680, "comment_id": 105113816, "body": "Thanks Khalid it&#39;s working now I upvoted your answer"}], "tags": [], "owner": {"reputation": 101, "user_id": 8927208, "user_type": "registered", "profile_image": "https://graph.facebook.com/1372388582889577/picture?type=large", "display_name": "Khalid Saeed", "link": "https://stackoverflow.com/users/8927208/khalid-saeed"}, "is_accepted": false, "score": 1, "last_activity_date": 1577181519, "last_edit_date": 1577181519, "creation_date": 1577180122, "answer_id": 59466680, "question_id": 59466602, "link": "https://stackoverflow.com/questions/59466602/how-to-initiate-a-fixed-size-array-in-data-class/59466680#59466680", "title": "How to initiate a fixed size array in data class", "body": "<p>Use this :</p>\n\n<pre><code>var list:ArrayList &lt;String&gt; = ArrayList(5)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 0, "creation_date": 1577181063, "post_id": 59466744, "comment_id": 105113372, "body": "Thank you very much Robby it&#39;s working and it&#39;s interesting to know that you can pass different sizes"}], "tags": [], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "is_accepted": true, "score": 1, "last_activity_date": 1577180879, "last_edit_date": 1577180879, "creation_date": 1577180363, "answer_id": 59466744, "question_id": 59466602, "link": "https://stackoverflow.com/questions/59466602/how-to-initiate-a-fixed-size-array-in-data-class/59466744#59466744", "title": "How to initiate a fixed size array in data class", "body": "<p>You need type annotations on your value parameters.</p>\n\n<p>The following two will compile just fine:</p>\n\n<pre><code>data class User (\n    val profilePics: Array&lt;String&gt; = arrayOf(\"a\", \"b\", \"c\")\n)\n\ndata class User (\n    val profilePics: Array&lt;String?&gt; = arrayOfNulls&lt;String&gt;(3)\n)\n</code></pre>\n\n<p>Of course, nothing prevents the caller from passing in differently sized arrays when creating instances of any of these data classes:</p>\n\n<pre><code>val user = User(arrayOf(\"a\", \"b\", \"c\", \"d\")) // compiles fine\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1596, "user_id": 1344049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6XHWR.jpg?s=128&g=1", "display_name": "Dipankar Baghel", "link": "https://stackoverflow.com/users/1344049/dipankar-baghel"}, "is_accepted": false, "score": 1, "last_activity_date": 1577182209, "creation_date": 1577182209, "answer_id": 59467142, "question_id": 59466602, "link": "https://stackoverflow.com/questions/59466602/how-to-initiate-a-fixed-size-array-in-data-class/59467142#59467142", "title": "How to initiate a fixed size array in data class", "body": "<p>try this - hope this help\nvar array = Array(2){i ->1}</p>\n\n<p>or</p>\n\n<p>var array = arrayOf(1,2,3) // you can increase the size too</p>\n"}], "owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 59466744, "answer_count": 3, "score": 1, "last_activity_date": 1577182209, "creation_date": 1577179667, "question_id": 59466602, "link": "https://stackoverflow.com/questions/59466602/how-to-initiate-a-fixed-size-array-in-data-class", "title": "How to initiate a fixed size array in data class", "body": "<p>I tried to research it but didn't find an answer. I'm creating a data class and in that class I would like to create an array with a fixed size. I tried the following 3 options:</p>\n\n<pre><code>data class User (\n    val profilePics = arrayOf(\"a\", \"b\", \"c\")\n)\n\ndata class User (\n    val profilePics: Array&lt;String&gt;(3)\n)\n\ndata class User (\n    val profilePics = arrayOfNulls&lt;String&gt;(3)\n)\n</code></pre>\n\n<p>But none of them work. \nThis does work however:</p>\n\n<pre><code>data class User (\n    val profilePics: Array&lt;String&gt;\n)\n</code></pre>\n\n<p>How can I initialize a fixed-size strings array inside a data class</p>\n"}, {"tags": ["json", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12589391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8db3031a6212f74070f2538eacc445e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/12589391/john"}, "edited": false, "score": 0, "creation_date": 1577190513, "post_id": 59465677, "comment_id": 105116775, "body": "Hi @Christilyn, thank you for the answer, I appreciate it a lot, it was great and it was very close but now I&#39;m getting the output of <code>{&quot;Building&quot;:{&quot;A-01-01&quot;:&quot;[Unit(reading=123123.42, timeStamp=20:55)]&quot;}}</code>"}, {"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "reply_to_user": {"reputation": 3, "user_id": 12589391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8db3031a6212f74070f2538eacc445e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/12589391/john"}, "edited": false, "score": 0, "creation_date": 1577225396, "post_id": 59465677, "comment_id": 105125849, "body": "@John did you create a JSONObject for your Unit? you should create one similar to how you build the json for building. I&#39;ve edited my answer to include this."}, {"owner": {"reputation": 3, "user_id": 12589391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8db3031a6212f74070f2538eacc445e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/12589391/john"}, "edited": false, "score": 0, "creation_date": 1577237738, "post_id": 59465677, "comment_id": 105127445, "body": "Oh ok thanks for that @Christilyn, it worked! Thank You so much. If I may ask, would there be a problem if say, I wanted to read this file?would it worked without pojo classes?"}, {"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "reply_to_user": {"reputation": 3, "user_id": 12589391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8db3031a6212f74070f2538eacc445e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/12589391/john"}, "edited": false, "score": 0, "creation_date": 1577252307, "post_id": 59465677, "comment_id": 105128984, "body": "@John Yes you would still be able to read and parse it as a JSONObject so no pojo classes would be needed. You can re-create the JSONObject from a string like : <code>val myObj = JSONObject(jsonString)</code>"}], "tags": [], "owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "is_accepted": true, "score": 0, "last_activity_date": 1577222803, "last_edit_date": 1577222803, "creation_date": 1577174499, "answer_id": 59465677, "question_id": 59465263, "link": "https://stackoverflow.com/questions/59465263/changing-the-name-of-a-variable-in-pojo-class-into-a-user-input-value-in-kotlin/59465677#59465677", "title": "Changing the name of a variable in pojo class into a user input value in kotlin", "body": "<p>There is no way to change field names dynamically. However, you can use <code>JSONObject</code> instead to construct your objects. For example:</p>\n\n<pre><code>val unit = JSONObject()\nunit.put(\"Reading\", reading_Res)\nval building = JSONObject()\nbuilding.put(userInput, listOf(unit))\n</code></pre>\n\n<p>This would yield: (assuming <code>userInput = \"A-01-013\"</code>)</p>\n\n<pre><code>{\"A-01-013\":[{\"Reading\":\"123123.42\"}]}\n</code></pre>\n\n<p>Then, to match it to your expected result, you can simply wrap it in another <code>JSONObject</code>:</p>\n\n<pre><code>val wrapper = JSONObject()\nwrapper.put(\"Building\", building)\n</code></pre>\n\n<p>Which results in:</p>\n\n<pre><code>{\"Building\":{\"A-01-013\":[{\"Reading\":\"123123.42\"}]}}\n</code></pre>\n\n<p>To get the string representation of this JSON object, you can simply use the <code>toString()</code> method:</p>\n\n<pre><code>writer.write(wrapper.toString())\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12589391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8db3031a6212f74070f2538eacc445e?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/12589391/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 59465677, "answer_count": 1, "score": 0, "last_activity_date": 1577222803, "creation_date": 1577172120, "last_edit_date": 1577173685, "question_id": 59465263, "link": "https://stackoverflow.com/questions/59465263/changing-the-name-of-a-variable-in-pojo-class-into-a-user-input-value-in-kotlin", "title": "Changing the name of a variable in pojo class into a user input value in kotlin", "body": "<p>I googled for a few days now and can't seem to find an answer.</p>\n\n<p>How can I change the variable name of a <code>pojo</code> class to display a user input instead? </p>\n\n<p>Here is the code:</p>\n\n<pre><code>private fun writeJSONtoFile(s: String) {\n\n    //This is the save function in the result data page\n    val unit_result = findViewById&lt;EditText&gt;(R.id.unit_result)\n    val mReading = findViewById&lt;EditText&gt;(R.id.mReading_result)\n\n    val unit_res: String = unit_result.text.toString()\n    val reading_Res: String = mReading.text.toString()\n\n    //Create a Object of Gson\n    var gson = Gson()\n\n\n    val unit=Unit(reading_Res,\"20:55\")\n    //And so on,\n    val building=Building(listOf(unit))\n    //Until the outer part of the structure\n    val solstice=Solstice(building)\n\n\n    //for (i in 1..2) {\n    //}\n\n    //Convert the Json object to JsonString\n    var jsonString:String = gson.toJson(solstice)\n\n\n    //Initialize the File Writer and write into file\n    val file = File(s)\n\n\n    try {\n\n        FileOutputStream(file, false).bufferedWriter().use { writer -&gt; writer.write((jsonString)) }\n        //fileOutputStream.write(data.toByteArray())\n\n\n    } catch (e: FileNotFoundException) {\n        e.printStackTrace()\n    } catch (e: NumberFormatException) {\n        e.printStackTrace()\n    } catch (e: IOException) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n\n\n\n}\n</code></pre>\n\n<p>Here are the classes:</p>\n\n<pre><code>package com.example.watermeterapp\n\ndata class Solstice(\n    var building:Building\n)\n\ndata class Building(\n    var id: List&lt;Unit&gt;\n)\n\ndata class Unit(\n    var reading: String,\n    var timeStamp: String\n)\n</code></pre>\n\n<p>Expected result:</p>\n\n<blockquote>\n  <p>{\"Building\":{\"A-01-013\":[{\"Reading\":\"123123.42\"}]}}</p>\n</blockquote>\n\n<p>Actual Result:</p>\n\n<blockquote>\n  <p>{\"Building\":{\"id\":[{\"Reading\":\"123123.42\"}]}}</p>\n</blockquote>\n\n<p>Is there any way to change the \"id\" into any user input?Is it possible in <code>kotlin</code>? Would like to know, any help would be appreciated.</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 10141, "user_id": 7746134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAn6O.png?s=128&g=1", "display_name": "Saurabh Thorat", "link": "https://stackoverflow.com/users/7746134/saurabh-thorat"}, "edited": false, "score": 0, "creation_date": 1577166205, "post_id": 59464225, "comment_id": 105108951, "body": "Does it work if you write <code>commandLine()</code> without <code>if (isRelease)</code> condition?"}, {"owner": {"reputation": 243, "user_id": 1691414, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/58058f658fda04fecc1f71773905e1ba?s=128&d=identicon&r=PG", "display_name": "Bruno Andrade", "link": "https://stackoverflow.com/users/1691414/bruno-andrade"}, "reply_to_user": {"reputation": 10141, "user_id": 7746134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAn6O.png?s=128&g=1", "display_name": "Saurabh Thorat", "link": "https://stackoverflow.com/users/7746134/saurabh-thorat"}, "edited": false, "score": 0, "creation_date": 1577166592, "post_id": 59464225, "comment_id": 105109033, "body": "Yes, this is the var  <code>var isRelease = &quot;release&quot; in gradle.startParameter.taskNames</code>"}], "owner": {"reputation": 243, "user_id": 1691414, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/58058f658fda04fecc1f71773905e1ba?s=128&d=identicon&r=PG", "display_name": "Bruno Andrade", "link": "https://stackoverflow.com/users/1691414/bruno-andrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577165517, "creation_date": 1577165517, "question_id": 59464225, "link": "https://stackoverflow.com/questions/59464225/gradle-exec-task-fails-with-execcommand-null", "title": "Gradle exec task fails with \u201cexecCommand == null!\u201d", "body": "<p>I'm trying to create a version bumper and tag creator on my build.gradle.kts, but I'm getting this error, can anyone help me ? Thanks!</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':gitTag'.\n&gt; execCommand == null!\n\n</code></pre>\n\n<p>My build.gradle.kts</p>\n\n<pre><code>tasks {\n    val gitIsDirty by registering(Exec::class) {\n        description = \"Fails if git has uncommitted changes.\"\n        group = \"verification\"\n        commandLine(\"git\", \"diff\", \"--quiet\", \"--exit-code\")\n    }\n\n    val gitTag by registering(Exec::class) {\n        description = \"Tags the local repository with version ${project.version}\"\n        group = PublishingPlugin.PUBLISH_TASK_GROUP\n        dependsOn(gitIsDirty)\n        if (isRelease) {\n            commandLine(\"git\", \"commit\", \"-am\", \"Publishing version ${project.version}\")\n            commandLine(\"git\", \"tag\", \"-a\", project.version, \"-m\", \"Version ${project.version}\")\n            commandLine(\"git\", \"push\", \"origin\", \"${project.version}\")\n        }\n    }\n\n    val publishLocalMajor by registering(Exec::class) {\n        group = PublishingPlugin.PUBLISH_TASK_GROUP\n        dependsOn(incrementMajor, gitTag,publishToMavenLocal)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mvvm", "rx-java", "retrofit2"], "comments": [{"owner": {"reputation": 1607, "user_id": 4708665, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-qXQRW3FZ2zk/AAAAAAAAAAI/AAAAAAAAABE/a-xzOqoJ8J4/photo.jpg?sz=128", "display_name": "Sandeep dhiman", "link": "https://stackoverflow.com/users/4708665/sandeep-dhiman"}, "edited": false, "score": 0, "creation_date": 1577164101, "post_id": 59463798, "comment_id": 105108566, "body": "what error you are facing can you mention the same?"}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 12569186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ncjxk.jpg?s=128&g=1", "display_name": "adi purnama", "link": "https://stackoverflow.com/users/12569186/adi-purnama"}, "is_accepted": false, "score": 0, "last_activity_date": 1577170212, "creation_date": 1577170212, "answer_id": 59464928, "question_id": 59463798, "link": "https://stackoverflow.com/questions/59463798/unable-to-parse-nested-json-with-kotlin-retrofit-rxjava-and-mvvm-pattern/59464928#59464928", "title": "Unable to parse nested JSON with Kotlin, Retrofit, RxJava and MVVM pattern", "body": "<p>please try this</p>\n\n<pre><code>interface StoriesApi {\n    @GET(\"v2/top-headlines?country=us&amp;apiKey=###MYKEY###\")\n    fun getStories(): Single&lt;Story&gt; /* change this */\n}\n\nclass StoriesService {\n\n    @Inject\n    lateinit var api: StoriesApi\n\n    init {\n        DaggerApiComponent.create().inject(this)\n    }\n\n    /* Change this*/\n    fun getStories(): Single&lt;Story&gt; {\n        return api.getStories()\n    }\n}\n</code></pre>\n\n<p>and at view model</p>\n\n<pre><code>.subscribeWith(object: DisposableSingleObserver&lt;Story&gt;() {\n                    override fun onSuccess(value: Story?) {\n                        //this a list of articles List that you won\n                        stories.value = value.articles\n                        storyLoadError.value = false\n                        loading.value = false\n                    }\n\n                    override fun onError(e: Throwable?) {\n                        storyLoadError.value = true\n                        loading.value = false\n                    }\n\n                })\n</code></pre>\n\n<p>hop this help</p>\n"}, {"tags": [], "owner": {"reputation": 204, "user_id": 12010124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3561293881944b392b684bf9dc4096ca?s=128&d=identicon&r=PG&f=1", "display_name": "PhillauSofia", "link": "https://stackoverflow.com/users/12010124/phillausofia"}, "is_accepted": false, "score": 1, "last_activity_date": 1577187706, "creation_date": 1577187706, "answer_id": 59468296, "question_id": 59463798, "link": "https://stackoverflow.com/questions/59463798/unable-to-parse-nested-json-with-kotlin-retrofit-rxjava-and-mvvm-pattern/59468296#59468296", "title": "Unable to parse nested JSON with Kotlin, Retrofit, RxJava and MVVM pattern", "body": "<p>You don't actually seem to use Retrofit here. Here is how to do it in Retrofit and Coroutines - you might need to study coroutines if you are not familiar with the subject:</p>\n\n<pre><code>data class ApiResultModel (\n\n   val totalResults : Int\n)\n\ndata class Story (\n\n    val source : Source,\n    val author : String,\n    val title : String,\n    val description : String,\n    val url : String,\n    val urlToImage : String,\n    val publishedAt : String,\n    val content : String\n)\n</code></pre>\n\n<p>Build the api interface:</p>\n\n<pre><code>interface StoriesApiService {\n\n    @GET(\"top-headlines\" - you insert just the end point here, the search parameters should go bellow because you might need to change them)\n    fun getStories(country: String = us,\n                   apiKey: String = {your api key}\n                    ): Deferred&lt;ApiResultModel&gt;\n}\n</code></pre>\n\n<p>Then create an object MyApi that holds all this:</p>\n\n<pre><code>private val okHttpClient = OkHttpClient.Builder()\n    .build()\n\nprivate val moshi = Moshi.Builder()\n    .add(KotlinJsonAdapterFactory())\n    .build()\n\nprivate val retrofit = Retrofit.Builder()\n    .addConverterFactory(MoshiConverterFactory.create(moshi))\n    .addCallAdapterFactory(CoroutineCallAdapterFactory())\n    .baseUrl({the base url of the API})\n    .client(okHttpClient)\n    .build()\n\nobject MyApi {\n    val storiesApiService: StoriesApiService by lazy {\n        retrofit.create(StoriesApiService::class.java)\n    }\n}\n</code></pre>\n\n<p>Then, in order to acces the data from the API, you will need a coroutine scope to make the call:</p>\n\n<pre><code>private val job = Job()\n\nprivate val coroutineScope = CoroutineScope(Job() + Dispatchers.Main)\n\ncoroutineScope.launch {\n    val apiResult = MyApi.storiesApiService.getstories().await()\n}\n</code></pre>\n\n<p>The code might still have some spelling errors, so please check it again if you plan on using the approach to make an API call. </p>\n\n<p>You should also watch the free tutorial on Udacity created by developers from Google. I used the same approach as they, but they have more explanations.</p>\n"}, {"tags": [], "owner": {"reputation": 1213, "user_id": 8012516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea08238ea40a010d752fadfe7b1effdf?s=128&d=identicon&r=PG&f=1", "display_name": "haresh", "link": "https://stackoverflow.com/users/8012516/haresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1577367682, "creation_date": 1577367682, "answer_id": 59489313, "question_id": 59463798, "link": "https://stackoverflow.com/questions/59463798/unable-to-parse-nested-json-with-kotlin-retrofit-rxjava-and-mvvm-pattern/59489313#59489313", "title": "Unable to parse nested JSON with Kotlin, Retrofit, RxJava and MVVM pattern", "body": "<p>Step :1 Create Retrofit Singleton class</p>\n\n<pre><code>object RetrofitClient {\nvar loggingInterceptor = HttpLoggingInterceptor()\n    .setLevel(HttpLoggingInterceptor.Level.BASIC)\nvar okHttpClient = OkHttpClient.Builder()\n    .addInterceptor(loggingInterceptor)\n    .build()\nvar service: ApiInterface\n\ninit {\n    val retrofit = Retrofit.Builder().baseUrl(BASE_URL)\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .addConverterFactory(GsonConverterFactory.create())\n        .client(okHttpClient)\n        .build()\n\n    service = retrofit.create(ApiInterface::class.java)\n  }\n}\n</code></pre>\n\n<p>Step : 2 Api interface to define your api</p>\n\n<pre><code> interface ApiInterface {\n  @GET(\"comments\")\n  fun getComments(\n     @Query(\"id\") postId: Int\n   ): Observable&lt;List&lt;Comments&gt;&gt; (For rx java adapter)\n\n   @GET(\"comments\")\n  fun getComments(\n      @Query(\"id\") postId: Int\n   ): Call&lt;List&lt;Comments&gt;&gt;  (For retrofit call adapter)\n\n  }\n</code></pre>\n\n<p>Step :3 Repository</p>\n\n<pre><code>class CommentsRepository {\nprivate val TAG = AuthRepository::class.java.getSimpleName()\nprivate var apiRequest = RetrofitClient.service\nvar data = MutableLiveData&lt;List&lt;Comments&gt;&gt;()\n\n\nfun getPostComments(id: Int): LiveData&lt;List&lt;Comments&gt;&gt; {\n     data = MutableLiveData()\n\n     apiRequest.getComments(id).enqueue(object : Callback&lt;List&lt;Comments&gt;&gt; {\n         override fun onResponse(\n            call: Call&lt;List&lt;Comments&gt;&gt;,\n             response: Response&lt;List&lt;Comments&gt;&gt;\n         ) {\n            if (response.isSuccessful) {\n                data.value = response.body()\n             }\n        }\n\n         override fun onFailure(call: Call&lt;List&lt;Comments&gt;&gt;, t: Throwable) {\n             Log.e(TAG, \"FFFeeeild:: \" + t.message)\n         }\n     })\n    return data\n}\n\n fun getPostComments(id: Int): LiveData&lt;List&lt;Comments&gt;&gt; {  //For call object \n    data = MutableLiveData()\n    apiRequest.getComments(id)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(object : Observer&lt;List&lt;Comments&gt;&gt; {\n            override fun onComplete() {\n            }\n\n            override fun onSubscribe(d: Disposable) {\n             }\n            override fun onNext(commentList: List&lt;Comments&gt;) {\n                data.value = commentList\n            }\n\n            override fun onError(e: Throwable) {\n                Log.e(TAG, e.toString())\n            }\n        })\n    return data\n\n  }\n}\n</code></pre>\n\n<p>Step : 4 ViewModel</p>\n\n<pre><code>class CommentsViewModel(application: Application):AndroidViewModel(application){\nprivate val repository: CommentsRepository = CommentsRepository()\nprivate var postId: Int = -1\nlateinit var userPost: LiveData&lt;List&lt;Comments&gt;&gt;\n\nfun getPostComments(id: Int): LiveData&lt;List&lt;Comments&gt;&gt; {\n    this.postId = id\n    userPost = repository.getPostComments(id)\n    return userPost\n }\n}\n</code></pre>\n\n<p>Step : 5 Observer this livedata in activity or fragement</p>\n\n<pre><code>class CommentsActivity : AppCompatActivity() {\n private lateinit var viewModel: CommentsViewModel\n viewModel = ViewModelProvider(this ).get(CommentsViewModel::class.java)\n\n  viewModel.getPostComments(1).observe(this, object : Observer&lt;List&lt;Comments&gt;&gt; {\n        override fun onChanged(commentsList: List&lt;Comments&gt;?) {\n            commentsList?.forEach {\n                it.apply {\n                    var content = \"\"\n                    content += \"ID: $id\\n\"\n                    content += \"Post ID: $postId\\n\"\n                    content += \"Name: $name\\n\"\n                    content += \"Email: $email\\n\"\n                            content += \"Text: $text\\n\\n\"\n                    text_view_result.append(content)\n\n                }\n\n            }\n        }\n\n    })\n\n  }\n</code></pre>\n\n<p>Also Make sure to add necessary library.</p>\n\n<pre><code>// Retrofit\ndef retrofitVersion = \"2.5.0\"\nimplementation \"com.squareup.retrofit2:retrofit:$retrofitVersion\"\nimplementation \"com.squareup.retrofit2:converter-gson:$retrofitVersion\"\n\n// ViewModel and LiveData\ndef lifecycle_version = '2.2.0-alpha03'\nimplementation \"androidx.lifecycle:lifecycle-extensions:$lifecycle_version\"\nimplementation \"com.squareup.okhttp3:okhttp:4.2.2\"\nimplementation 'com.squareup.okhttp3:logging-interceptor:3.12.1'\n\n\n\n//Rx android library\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.9'\nimplementation 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\nimplementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\n</code></pre>\n\n<p>Hope it will help you let me know if still any query or facing any problem.</p>\n"}], "owner": {"reputation": 143, "user_id": 11312112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3oJiH.jpg?s=128&g=1", "display_name": "Oliver H. D.", "link": "https://stackoverflow.com/users/11312112/oliver-h-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1577367682, "creation_date": 1577161410, "question_id": 59463798, "link": "https://stackoverflow.com/questions/59463798/unable-to-parse-nested-json-with-kotlin-retrofit-rxjava-and-mvvm-pattern", "title": "Unable to parse nested JSON with Kotlin, Retrofit, RxJava and MVVM pattern", "body": "<p>In my project I have run into some issues regarding returning nested JSON data using Kotlin, Retrofit and RxJava inside an MVVM pattern.</p>\n\n<p>I'm relatively new to RxJava, MVVM and Retrofit and am quite confused still, but I would like to end up with having a list of a a select category that is currently nested inside a JSON.</p>\n\n<p>The JSON response looks something like this...</p>\n\n<pre><code>{\n  \"status\": \"ok\",\n  \"totalResults\": 38,\n  \"articles\": [\n    {\n      \"source\": {\n        \"id\": \"business-insider\",\n        \"name\": \"Business Insider\"\n      },\n      \"author\": \"Hayley Peterson\",\n      \"title\": \"Amazon executive was killed after colliding with a van delivering the company's packages, report reveals - Business Insider\",\n      \"description\": \"\\\"I heard a scream, immediately followed by a crash,\\\" the van's driver testified, according to the report.\",\n      \"url\": \"https://www.businessinsider.com/amazons-joy-covey-killed-company-delivery-van-report-2019-12\",\n      \"urlToImage\": \"https://image.businessinsider.com/5e01376e855cc215577a09f1?width=1200&amp;format=jpeg\",\n      \"publishedAt\": \"2019-12-23T22:32:01Z\",\n      \"content\": \"The former Amazon executive Joy Covey was killed after colliding with a van delivering Amazon packages, according to an explosive investigation into the company's logistics network by BuzzFeed News and ProPublica. \\r\\nCovey was Amazon's first chief financial of\u2026 [+1462 chars]\"\n    },\n...\n</code></pre>\n\n<p>My data class looks like this...</p>\n\n<pre><code>data class Base (\n\n    @SerializedName(\"status\") val status : String,\n    @SerializedName(\"totalResults\") val totalResults : Int,\n    @SerializedName(\"articles\") val articles : List&lt;Story&gt;\n)\n\ndata class Story (\n\n    @SerializedName(\"source\") val source : Source,\n    @SerializedName(\"author\") val author : String,\n    @SerializedName(\"title\") val title : String,\n    @SerializedName(\"description\") val description : String,\n    @SerializedName(\"url\") val url : String,\n    @SerializedName(\"urlToImage\") val urlToImage : String,\n    @SerializedName(\"publishedAt\") val publishedAt : String,\n    @SerializedName(\"content\") val content : String\n)\n\ndata class Source (\n\n    @SerializedName(\"id\") val id : String,\n    @SerializedName(\"name\") val name : String\n)\n</code></pre>\n\n<p>I first use my API with @GET annotation to get top headlines with this code...</p>\n\n<pre><code>interface StoriesApi {\n\n    @GET(\"v2/top-headlines?country=us&amp;apiKey=###MYKEY###\")\n    fun getStories(): Single&lt;List&lt;Story&gt;&gt;\n}\n</code></pre>\n\n<p>Which in turn is used by my StoriesService to get a Single></p>\n\n<pre><code>class StoriesService {\n\n    @Inject\n    lateinit var api: StoriesApi\n\n    init {\n        DaggerApiComponent.create().inject(this)\n    }\n\n    fun getStories(): Single&lt;List&lt;Story&gt;&gt; {\n        return api.getStories()\n    }\n}\n</code></pre>\n\n<p>And to end I call it in my ViewModel by using the code below...</p>\n\n<pre><code>private fun fetchStories() {\n        loading.value = true\n        disposable.add(\n            storiesService.getStories()\n                .subscribeOn(Schedulers.newThread())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeWith(object: DisposableSingleObserver&lt;List&lt;Story&gt;&gt;() {\n                    override fun onSuccess(value: List&lt;Story&gt;?) {\n                        stories.value = value\n                        storyLoadError.value = false\n                        loading.value = false\n                    }\n\n                    override fun onError(e: Throwable?) {\n                        storyLoadError.value = true\n                        loading.value = false\n                    }\n\n                })\n        )\n    }\n</code></pre>\n\n<p>Is there any way that I can only enter the articles part of the JSON so that I don't have to fiddle too much with the whole JSON response? I would ultimately like to just end up with a Single> of the articles and not the \"status\" and \"totalResults\".</p>\n"}, {"tags": ["class", "kotlin", "instantiation"], "comments": [{"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1577174977, "post_id": 59463791, "comment_id": 105111307, "body": "@Christilyn no actually. I did all that. Don&#39;t need a constructor. The solution was just to add <code>import HttpsAuthenticator</code>. That resolved the error, even though XYZ was exposed without import... Strange"}], "answers": [{"tags": [], "owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "is_accepted": true, "score": 0, "last_activity_date": 1577409262, "creation_date": 1577409262, "answer_id": 59494984, "question_id": 59463791, "link": "https://stackoverflow.com/questions/59463791/kotlin-unresolved-reference-on-custom-class-instance/59494984#59494984", "title": "Kotlin: Unresolved reference on custom class instance", "body": "<p>What ended up fixing it was simply adding <code>import HttpsAuthenticator</code></p>\n\n<p>Why XYZ was visible before that is beyond my comprehension at the moment. Im sure someone will come up with an explanation to this.</p>\n"}], "owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 59494984, "answer_count": 1, "score": 0, "last_activity_date": 1577409262, "creation_date": 1577161325, "question_id": 59463791, "link": "https://stackoverflow.com/questions/59463791/kotlin-unresolved-reference-on-custom-class-instance", "title": "Kotlin: Unresolved reference on custom class instance", "body": "<p>I have a Kotlin class named <code>HttpsAuthenticator</code>. The file in which that class resides is also by the same name. <code>HttpsAuthenticator</code> has an inner class named XYZ. Here is the code:</p>\n\n<pre><code>public class HttpsAuthenticator\n{\n    public class XYZ{\n\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/m3Xf9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m3Xf9.png\" alt=\"enter image description here\"></a></p>\n\n<p>From another class, when I instantiate each of those two classes, <code>HttpsAuthenticator()</code> fails with the error <code>Unresolved reference</code>. What is the difference. How do I instantiate <code>HttpsAuthenticator</code>? Im absolutely new to Kotlin so I must be missing something basic I believe?</p>\n"}, {"tags": ["kotlin", "java-native-interface"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1577178011, "post_id": 59463146, "comment_id": 105112244, "body": "Have <code>initFromData()</code> return a <code>Pair</code> (or other object) holding the two values, and assign them to <code>x</code> and <code>y</code> in the constructor?"}, {"owner": {"reputation": 1161, "user_id": 1055568, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b5d29d3b038b1bb0e8a5dbc6da5f5177?s=128&d=identicon&r=PG", "display_name": "user1055568", "link": "https://stackoverflow.com/users/1055568/user1055568"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1577649968, "post_id": 59463146, "comment_id": 105216730, "body": "@gidds thanks, yes, I guess that would work.  But, that makes me think I might as well return a Test object directly from a companion member function.  I have another constructor that initializes all the fields (not shown); the error only arises when I add this second constructor that does not."}], "owner": {"reputation": 1161, "user_id": 1055568, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b5d29d3b038b1bb0e8a5dbc6da5f5177?s=128&d=identicon&r=PG", "display_name": "user1055568", "link": "https://stackoverflow.com/users/1055568/user1055568"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577154110, "creation_date": 1577154110, "question_id": 59463146, "link": "https://stackoverflow.com/questions/59463146/how-to-initialize-immutable-class-members-in-external-ini-function", "title": "How to initialize immutable class members in external (ini) function", "body": "<p>Is it possible to create a Kotlin class like this:</p>\n\n<pre><code>class Test {\n    val x:String\n    val y:String\n\n    external fun initFromData(data:ByteArray)\n    constructor(data:ByteArray) {\n        initFromData(data)\n    }\n}\n</code></pre>\n\n<p>Without getting an error on \"Property must be initialized or be abstract\"?  Is there a way to tell Kotlin that initFromData is initializing x and y?  Or, another way to go about this?   </p>\n"}, {"tags": ["android", "kotlin", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 12587806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f1eb04168d75dd0356e8c3b11320a34?s=128&d=identicon&r=PG&f=1", "display_name": "Surendar", "link": "https://stackoverflow.com/users/12587806/surendar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577242067, "creation_date": 1577242067, "answer_id": 59474821, "question_id": 59462873, "link": "https://stackoverflow.com/questions/59462873/not-receiving-otp-from-firebase-phone-authindia/59474821#59474821", "title": "Not receiving OTP from Firebase Phone Auth(India)", "body": "<p>When i changed my authtication system from mail to phone number, I've forget to reconnect my app to firebase. </p>\n\n<p>After reconnecting everthing works fine</p>\n"}], "owner": {"reputation": 87, "user_id": 12587806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f1eb04168d75dd0356e8c3b11320a34?s=128&d=identicon&r=PG&f=1", "display_name": "Surendar", "link": "https://stackoverflow.com/users/12587806/surendar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577242067, "creation_date": 1577150722, "last_edit_date": 1577154188, "question_id": 59462873, "link": "https://stackoverflow.com/questions/59462873/not-receiving-otp-from-firebase-phone-authindia", "title": "Not receiving OTP from Firebase Phone Auth(India)", "body": "<p>I'm creating an android app which uses signIn from Firebase Phone Auth.I was previosly using email verification , that worked like charm, now i'm migrating to Phone Auth on the same project. I'm writing my auth on a Fragment, when i was following the givenlink <a href=\"https://firebase.google.com/docs/auth/android/phone-auth\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/android/phone-auth</a>, i got compilation error saying \"None of the following functions can be called with arguments supplied\" ON \"PhoneAuthProvider.getInstance().verifyPhoneNumber\", Following is the code, </p>\n\n<p>gradle </p>\n\n<pre><code>\n    apply plugin: 'com.android.application'\n\n    apply plugin: 'com.google.gms.google-services'\n\n    apply plugin: 'kotlin-android'\n\n    apply plugin: 'kotlin-android-extensions'\n\n    apply plugin: 'kotlin-kapt'\n\n    apply plugin: \"androidx.navigation.safeargs.kotlin\"\n\n\n    android {\n        compileSdkVersion 29\n        buildToolsVersion \"29.0.2\"\n        defaultConfig {\n            applicationId \"com.sstech.racemanager\"\n            minSdkVersion 22\n            targetSdkVersion 29\n            versionCode 1\n            versionName \"1.0\"\n            testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        }\n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n        // Enables data binding.\n        dataBinding {\n            enabled = true\n        }\n\n    }\n\n    dependencies {\n        // def versions\n        def nav_version = \"2.1.0\"\n        def lifecycle_version = \"2.1.0\"\n\n    //    kapt(\"groupId:artifactId:version\")\n        implementation fileTree(dir: 'libs', include: ['*.jar'])\n        implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n        implementation 'androidx.appcompat:appcompat:1.1.0'\n        implementation 'androidx.core:core-ktx:1.1.0'\n        implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n        implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n        testImplementation 'junit:junit:4.12'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n        // Add the Firebase SDK for Google Analytics\n        implementation 'com.google.firebase:firebase-analytics:17.2.1'\n\n        // Add the SDKs for any other Firebase products you want to use in your app\n        // For example, to use Firebase Authentication and Cloud Firestore\n        implementation 'com.google.firebase:firebase-auth:19.2.0'\n        implementation 'com.google.firebase:firebase-firestore:21.3.1'\n        implementation 'com.google.firebase:firebase-storage:19.1.0'\n        implementation 'com.google.firebase:firebase-database:19.2.0'\n\n        // Fragment\n        implementation \"androidx.navigation:navigation-fragment-ktx:$nav_version\"\n        implementation \"androidx.navigation:navigation-ui-ktx:$nav_version\"\n\n        // LifeCycle\n        implementation \"androidx.lifecycle:lifecycle-extensions:$lifecycle_version\"\n        kapt \"androidx.lifecycle:lifecycle-compiler:$lifecycle_version\"\n\n        // Circle Image View\n        implementation 'de.hdodenhof:circleimageview:3.0.1'\n    }\n\n</code></pre>\n\n<p>Fragment Class</p>\n\n<pre><code>\n    class RegisterPage : Fragment() {\n        lateinit var binding: FragmentRegisterBinding\n        lateinit var callbacks: PhoneAuthProvider.OnVerificationStateChangedCallbacks\n        lateinit var mAuth: FirebaseAuth\n        lateinit var otpPin: String\n        override fun onCreateView(\n            inflater: LayoutInflater,\n            container: ViewGroup?,\n            savedInstanceState: Bundle?): View? {\n            mAuth= FirebaseAuth.getInstance()\n\n            binding = DataBindingUtil.inflate(inflater,\n                R.layout.fragment_register,container,false)\n\n            binding.loginAlready.setOnClickListener { view: View-&gt;\n                view.findNavController().navigate(R.id.action_registerPage_to_logPage)\n            }\n\n            binding.register.setOnClickListener {\n                    registerAUser(binding)\n\n            }\n\n            binding.loginImage.setOnClickListener{\n                    selectimage()\n\n            }\n\n    //        view.findNavController().navigate(R.id.action_registerPage_to_logPage)\n\n\n            return binding.root\n        }\n\n        override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n            super.onViewCreated(view, savedInstanceState)\n        }\n\n        private fun selectimage(){\n    //        val intent = Intent(Intent.ACTION_PICK_ACTIVITY)\n    ////        intent.type=\"image/*\"\n            val intent = Intent(Intent.ACTION_GET_CONTENT)\n            intent.type=\"image/*\"\n            startActivityForResult(Intent.createChooser(intent,\"pick an image\"),0)\n\n        }\n            var selectedImageUri : Uri?= null\n\n        override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n            super.onActivityResult(requestCode, resultCode, data)\n            Toast.makeText(activity,\"entered result\",Toast.LENGTH_SHORT).show()\n            if(requestCode==0 &amp;&amp; resultCode== Activity.RESULT_OK &amp;&amp; data != null){\n                // image ok\n                try {\n                     selectedImageUri = data.data\n                    val bitmap: Bitmap =\n                        MediaStore.Images.Media.getBitmap(activity?.contentResolver, selectedImageUri)\n                        binding.loginImageRound.setImageBitmap(bitmap)\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n                        binding.loginImage.alpha=0f\n                    }else{\n                        binding.loginImage.visibility=INVISIBLE\n                    }\n    //                val bitmapDrawable = BitmapDrawable(bitmap)\n    //                binding.loginImage.setBackgroundDrawable(bitmapDrawable)\n                }catch(ex:Exception){\n                    Toast.makeText(activity, ex.localizedMessage,Toast.LENGTH_SHORT).show()\n                }\n\n\n            }else{\n                if(requestCode==0){Toast.makeText(activity,\"resultCode ok\",Toast.LENGTH_LONG).show()}\n                if(resultCode== Activity.RESULT_OK){Toast.makeText(activity,\"resultCode error\",Toast.LENGTH_LONG).show()}\n\n                if(data==null){\n                    Toast.makeText(activity,\"Data is empty\",Toast.LENGTH_LONG).show()\n                }\n\n            }\n        }\n\n\n       private fun registerAUser(binding: FragmentRegisterBinding){\n           val phno : String = binding.loginPhno.text.toString()\n           val name : String = binding.loginName.text.toString()\n            if(phno.isEmpty() || name.isEmpty() ){\n                Toast.makeText(activity,\"Phone number/Name should not be empty\",Toast.LENGTH_SHORT).show()\n                return\n            }\n           if(phno.length!=10) {\n               Toast.makeText(activity,\"Phone number should be 10 numbers\",Toast.LENGTH_SHORT).show()\n               return\n           }\n\n           verify(\"+91$phno\")\n\n       }\n\n        private fun verify(phno: String) {\n            verificationCallbacks()\n            Log.i(\"ph\",phno)\n            PhoneAuthProvider.getInstance().verifyPhoneNumber(\n                phno, // Phone number to verify\n                60, // Timeout duration\n                TimeUnit.SECONDS, // Unit of timeout\n                this, // Activity (for callback binding)\n                callbacks) // OnVerificationStateChangedCallbacks\n            Log.i(\"ph\",\"Code Sent\")\n        }\n\n\n        private fun verificationCallbacks (){\n            callbacks= object : PhoneAuthProvider.OnVerificationStateChangedCallbacks(){\n                override fun onCodeSent(p0: String, p1: PhoneAuthProvider.ForceResendingToken) {\n                    super.onCodeSent(p0, p1)\n                    Log.i(\"ph\",\"On Code Sent Cred $p0\")\n\n                }\n\n                override fun onCodeAutoRetrievalTimeOut(p0: String) {\n                    super.onCodeAutoRetrievalTimeOut(p0)\n\n                }\n\n                override fun onVerificationCompleted(p0: PhoneAuthCredential) {\n                    Log.i(\"ph\",\"Sign in verification callback\")\n                   signInWithPhoneAuthCredential(p0)\n                }\n\n                override fun onVerificationFailed(p0: FirebaseException) {\n                    if (p0 is FirebaseAuthInvalidCredentialsException) {\n                        Toast.makeText(activity,\"Invalid request\",Toast.LENGTH_SHORT).show()\n                    } else if (p0 is FirebaseTooManyRequestsException) {\n                        Toast.makeText(activity,\"Quota Over contact Developer\",Toast.LENGTH_SHORT).show()\n                    }\n                }\n            }\n\n        }\n\n        private fun signInWithPhoneAuthCredential(credential: PhoneAuthCredential){\n            mAuth.signInWithCredential(credential)\n                .addOnCompleteListener { task: Task&lt;AuthResult&gt; -&gt;\n                    if (task.isSuccessful) {\n                        // Sign in success, update UI with the signed-in user's information\n\n                        val user = task.result?.user\n                        // ...\n                    } else {\n                        // Sign in failed, display a message and update the UI\n                        if (task.exception is FirebaseAuthInvalidCredentialsException) {\n                            // The verification code entered was invalid\n                        }\n                    }\n                }\n\n        }\n\n\n    }\n\n</code></pre>\n\n<p>After Trail and error my error goes away after i put MainActivity() in the \"activity\" place, but i'm not receiving OTP if and the code is not going into OnCodeSent function.(I've enabled phone Auth on my console) </p>\n\n<p>Can someone help here. </p>\n"}, {"tags": ["android", "xml", "android-layout", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1577134563, "post_id": 59461181, "comment_id": 105103437, "body": "Is there supposed to be a <a href=\"https://medium.com/@hiteshdhamshaniya.wvmagic/notch-android-emulator-with-p-e9b3556d9d5e\" rel=\"nofollow noreferrer\">tall notch</a>? Try <a href=\"https://developer.android.com/studio/debug/layout-inspector\" rel=\"nofollow noreferrer\">Layout Inspector</a>."}, {"owner": {"reputation": 543, "user_id": 7095029, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe39a0d8b09a65cae1fece82a612be02?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea", "link": "https://stackoverflow.com/users/7095029/andrea"}, "edited": false, "score": 1, "creation_date": 1577135167, "post_id": 59461181, "comment_id": 105103583, "body": "Have you phrases your emulator operative system? And, does this problem appear on real devices?"}, {"owner": {"reputation": 741, "user_id": 8677930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WjJem.jpg?s=128&g=1", "display_name": "Mayokun", "link": "https://stackoverflow.com/users/8677930/mayokun"}, "edited": false, "score": 2, "creation_date": 1577138577, "post_id": 59461181, "comment_id": 105104412, "body": "If this is occurring in just one screen, can you show a copy of the xml for the layout."}], "owner": {"reputation": 277, "user_id": 9982372, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LjZhtGPzhKA/AAAAAAAAAAI/AAAAAAAAACA/fIHwswLRviY/photo.jpg?sz=128", "display_name": "anton68", "link": "https://stackoverflow.com/users/9982372/anton68"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1619100484, "creation_date": 1577134322, "question_id": 59461181, "link": "https://stackoverflow.com/questions/59461181/why-does-the-status-bar-on-android-take-up-so-much-space", "title": "Why does the status bar on Android take up so much space?", "body": "<p>From one day to another the status bar in the emulator seems much larger in height. I can't remember that I have changed anything. How can I remove the empty space between status bar and action bar?</p>\n\n<p><a href=\"https://i.stack.imgur.com/zyxN0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zyxN0.png\" alt=\"enter image description here\"></a></p>\n\n<p>The status bar is red so you can see it's real height. I really don't know where the blank space comes from. </p>\n"}, {"tags": ["android", "kotlin", "android-animation", "android-preferences", "android-jetpack"], "comments": [{"owner": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 1, "creation_date": 1577191603, "post_id": 59460985, "comment_id": 105117177, "body": "Yes it is possible but that can be done dynamically and both fragment should have some common view. Do you want dynamically ?"}, {"owner": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "reply_to_user": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 0, "creation_date": 1577270618, "post_id": 59460985, "comment_id": 105132342, "body": "I just want to have the same animation for each fragment in this activity. So if I change the fragment it should inflate/and out with the specific animations. Kotlin example would be great :D"}, {"owner": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "reply_to_user": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 0, "creation_date": 1577710311, "post_id": 59460985, "comment_id": 105231803, "body": "Does anyone else have a solution for this case?"}], "answers": [{"comments": [{"owner": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "edited": false, "score": 0, "creation_date": 1589654951, "post_id": 61825832, "comment_id": 109381941, "body": "First: thank you for the detailed answer; Second: I use the Navigation Fragment but when I use android jetpack preferences then I don&#39;t know where to change the default animation or how I could add a Navigation animation to the fragment changes. Third: As Far as I see, I can&#39;t implement it with an extansion func because the jetpack frameworks handles everything automatically. Maybe I have to override it anywhere? Any further ideas?"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "edited": false, "score": 0, "creation_date": 1589818323, "post_id": 61825832, "comment_id": 109437955, "body": "Sure, there are other ways to do this, but maybe try setting the default animation of the NavOptions and see if that does the trick for you. protected NavOptions getNavOptions() {      NavOptions navOptions = NavOptions.Builder()       .setEnterAnim(R.anim.default_enter_anim)       .setExitAnim(R.anim.default_exit_anim)       .setPopEnterAnim(R.anim.default_pop_enter_anim)       .setPopExitAnim(R.anim.default_pop_exit_anim)       .build();      return navOptions; }"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "edited": false, "score": 0, "creation_date": 1589819213, "post_id": 61825832, "comment_id": 109438430, "body": "because theoretically any fragment that you don&#39;t supply an animation to, will use the default."}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "edited": false, "score": 0, "creation_date": 1589819222, "post_id": 61825832, "comment_id": 109438436, "body": "If that doesn&#39;t work let me know I have another idea."}], "tags": [], "owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "is_accepted": false, "score": 2, "last_activity_date": 1589566578, "creation_date": 1589566578, "answer_id": 61825832, "question_id": 59460985, "link": "https://stackoverflow.com/questions/59460985/possibillity-to-add-an-animation-on-preferences-in-android-like-in-navigation-co/61825832#61825832", "title": "Possibillity to add an animation on preferences in android like in Navigation Components", "body": "<p>I assume because you are asking how to animate the fragment in and out, that you are not using the Navigation Framework as that gives it for free. So let's assume you are not using that and dig into how you would accomplish this.</p>\n\n<p>First we need to have a method somewhere to handle swapping the fragment. Let's make an Extension class. I am using Kotlin and Androidx in all examples</p>\n\n<blockquote>\n  <p>FragmentExt.kt</p>\n</blockquote>\n\n<pre><code>import android.app.Activity\nimport android.app.ActivityManager\nimport android.content.Context\nimport android.os.Bundle\nimport androidx.annotation.IdRes\nimport androidx.fragment.app.Fragment\nimport androidx.fragment.app.FragmentActivity\nimport &lt;YOUR PROJECT R FILE&gt;\n\n/*\n * Written by Sam Rosewall App Studio 35\n*/\nval Activity.activityManager: ActivityManager\n    get() = getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager\n\nfun FragmentActivity.swapFragment(\n    fragContainerId: Int,\n    newFragment: Fragment?,\n    oldFragment: Fragment? = null,\n    bundle: Bundle? = null,\n    hideCurrentFrag: Boolean = false,\n    addToBackStack:Boolean = false\n) {\n    if (newFragment == null || newFragment.isVisible) {\n        loge(\"swapFragment called on already visible fragment\")\n        return\n    }\n\n    logv(\"swapFragment( ${newFragment.javaClass.simpleName} )\")\n    val currentFragBundle = newFragment.arguments\n    if (currentFragBundle == null &amp;&amp; bundle != null) {\n        newFragment.arguments = bundle\n        logv(\"current bundle is null, so setting new bundle passed in\")\n    } else if (bundle != null) {\n        newFragment.arguments?.putAll(bundle)\n        logv(\"current fragment bundle was not null, so add new bundle to it\")\n    }\n\n    //Ensure no pending transactions are paused or incomplete\n    val fragmentManager = supportFragmentManager\n    fragmentManager.executePendingTransactions()\n    val fragmentTransaction = fragmentManager.beginTransaction()\n\n    //Make sure the requested fragment isn't already on the screen before adding it\n    if (newFragment.isAdded) {\n        logv(\"Fragment is already added\")\n        if (newFragment.isHidden) {\n            logv(\"Fragment is hidden, so show it\")\n            fragmentTransaction.show(newFragment)\n            newFragment.onResume() // since we were hiding it, we call onResume to simulate foreground on fragment\n\n            oldFragment?.let {\n                if(hideCurrentFrag) {\n                    logv(\"hideCurrentFlag = true, hiding current fragment $it\")\n                    fragmentTransaction.hide(it)\n                    it.onPause() // since we are hiding it, we call onPause to simulate background on fragment\n                }else{\n                    logv(\"hideCurrentFlag = false, removing current fragment $it\")\n                    fragmentTransaction.remove(it)\n                }\n            }\n        }else{\n            logv(\"Fragment is already visible\")\n        }\n    }else if(oldFragment == null){\n        if (addToBackStack) {\n            fragmentTransaction.setCustomAnimations(R.anim.in_from_right_to_left, R.anim.out_to_left, R.anim.in_from_left_to_right, R.anim.out_to_right )\n            fragmentTransaction.addToBackStack(null)\n        }\n        logv(\"oldFragment = null, so Replacing active contents of container with Fragment ${newFragment.javaClass.simpleName}\")\n        fragmentTransaction.replace(fragContainerId, newFragment)\n    }else{\n        logv(\"Fragment is not added, and there is existing fragment to remove, so adding to the screen ${newFragment.javaClass.simpleName}\")\n        fragmentTransaction.add(fragContainerId, newFragment)\n\n        if(hideCurrentFrag) {\n            logv(\"hideCurrentFlag = true, hiding current fragment $oldFragment\")\n            fragmentTransaction.hide(oldFragment)\n            oldFragment.onPause() // since we are hiding it, we call onPause to simulate background on fragment\n        }else{\n            logv(\"hideCurrentFlag = false, removing current fragment $oldFragment\")\n            fragmentTransaction.setCustomAnimations(R.anim.in_from_right_to_left, R.anim.out_to_left, R.anim.in_from_left_to_right, R.anim.out_to_right )\n            fragmentTransaction.remove(oldFragment)\n        }\n    }\n\n    logv(\"committing swap fragment transaction\")\n    fragmentTransaction.commit()\n}\n\nfun FragmentActivity.removeFragment(@IdRes fragContainerId: Int) {\n    val fragmentManager = supportFragmentManager\n    fragmentManager.findFragmentById(fragContainerId)?.let {\n        fragmentManager.executePendingTransactions()\n        val transaction = fragmentManager.beginTransaction()\n        transaction.remove(it)\n        transaction.commit()\n    }\n}\n</code></pre>\n\n<p>Now of course you will need to add the animations that you are after to the anims directory.</p>\n\n<p>res->anim->[add files here]</p>\n\n<blockquote>\n  <p>in_from_left_to_right.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     android:shareInterpolator=\"false\"&gt;\n    &lt;translate\n        android:duration=\"500\"\n        android:fromXDelta=\"-100%\"\n        android:fromYDelta=\"0%\"\n        android:toXDelta=\"0%\"\n        android:toYDelta=\"0%\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<blockquote>\n  <p>in_from_right_to_left.xml</p>\n</blockquote>\n\n<pre><code>    &lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     android:shareInterpolator=\"false\"&gt;\n    &lt;translate\n        android:duration=\"500\"\n        android:fromXDelta=\"100%\"\n        android:fromYDelta=\"0%\"\n        android:toXDelta=\"0%\"\n        android:toYDelta=\"0%\" /&gt;\n    &lt;/set&gt;\n</code></pre>\n\n<blockquote>\n  <p>out_to_right.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     android:shareInterpolator=\"false\"&gt;\n    &lt;translate\n        android:duration=\"500\"\n        android:fromXDelta=\"0%\"\n        android:fromYDelta=\"0%\"\n        android:toXDelta=\"100%\"\n        android:toYDelta=\"0%\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<blockquote>\n  <p>out_to_left.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     android:shareInterpolator=\"false\"&gt;\n    &lt;translate\n        android:duration=\"500\"\n        android:fromXDelta=\"0%\"\n        android:fromYDelta=\"0%\"\n        android:toXDelta=\"-100%\"\n        android:toYDelta=\"0%\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>Now all that is left, is using it. You have many options such as passing in bundle arguments, deciding to hide/show instead of add/remove. (note* if you hide / show the animations may not work, but you don't lose a webview loaded or other downloaded views, so it's really up to your use case.</p>\n\n<blockquote>\n  <p>MainActivity.kt</p>\n</blockquote>\n\n<pre><code>   private fun changeToMyFragment() {\n        if (myFragment == null) {\n            myFragment = MyFragment()\n        }\n        swapFragment(R.id.placeholder_framelayout, myFragment)\n\n    }\n</code></pre>\n\n<p>That's it, any time you want to change fragments, just use this method \"swapFragment\" and pass the fragment you want in. The other parameters are all optional for extra control if you need it.</p>\n\n<p>I added in logs for added clarity for you to read and a remove fragment in case you just need it gone.</p>\n\n<p>Think of this like an extension you just drop in any project and use as-is. You don't have to dig into it, this will handle what you are asking for.</p>\n\n<p>Happy Coding!</p>\n"}], "owner": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1589655752, "creation_date": 1577132833, "last_edit_date": 1589655752, "question_id": 59460985, "link": "https://stackoverflow.com/questions/59460985/possibillity-to-add-an-animation-on-preferences-in-android-like-in-navigation-co", "title": "Possibillity to add an animation on preferences in android like in Navigation Components", "body": "<p>Is there a possibility to add an animation to fragment changes in preferences like there is one in the navigation components? <a href=\"https://developer.android.com/guide/topics/ui/settings\" rel=\"nofollow noreferrer\">Android guide</a></p>\n\n<p>So I want to perform something like here:</p>\n\n<pre><code>&lt;fragment&gt;\n    &lt;action\n        android:id=\"@+id/action_a_to_b\"\n        app:destination=\"@id/b\"\n        app:enterAnim=\"@anim/slide_in_right\"\n        app:exitAnim=\"@anim/slide_out_right\"\n        app:popEnterAnim=\"@anim/slide_in_left\"\n        app:popExitAnim=\"@anim/slide_out_left\" /&gt;\n\n&lt;/fragment&gt;\n...\n</code></pre>\n\n<h1>Update:</h1>\n\n<p>To make it clear: I want to use the Navigation Components combined with the Jetpack Prefrerences. The problem is, that jetpack handles the animations in the preferences automatically, but I want to have another one then the default fade in/out. So I just want to override it.\ni.e.: is there any way to add the animation in the xml like in the hirachy?</p>\n\n<pre><code>&lt;PreferenceScreen\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;PreferenceCategory\n    app:key=\"help_category\"\n    app:title=\"Help\"&gt;\n\n    &lt;Preference\n        app:fragment=\"com.example.SyncFragment\"\n        app:key=\"feedback\"\n        app:summary=\"Report technical issues or suggest new features\"\n        app:title=\"Send feedback\"/&gt;\n\n&lt;/PreferenceCategory&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "ios", "swift", "kotlin", "flutter"], "comments": [{"owner": {"reputation": 398, "user_id": 5909442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1j2N.png?s=128&g=1", "display_name": "Andres Gomez", "link": "https://stackoverflow.com/users/5909442/andres-gomez"}, "edited": false, "score": 0, "creation_date": 1577130030, "post_id": 59460447, "comment_id": 105102218, "body": "for iOS you need a APNs (Apple Push Notification service), this way says you that the token is invalid, so, it mean that the device already hasn&#39;t the app"}, {"owner": {"reputation": 8483, "user_id": 5318223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/be47da4995eb4e8dff0ab4637e5773d6?s=128&d=identicon&r=PG&f=1", "display_name": "Kiril S.", "link": "https://stackoverflow.com/users/5318223/kiril-s"}, "edited": false, "score": 0, "creation_date": 1577131459, "post_id": 59460447, "comment_id": 105102633, "body": "See: <a href=\"https://clevertap.com/blog/track-app-uninstalls-effectively/\" rel=\"nofollow noreferrer\">clevertap.com/blog/track-app-uninstalls-effectively</a>"}, {"owner": {"reputation": 51, "user_id": 8843503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O4BuP.jpg?s=128&g=1", "display_name": "Luiz Palte", "link": "https://stackoverflow.com/users/8843503/luiz-palte"}, "edited": false, "score": 0, "creation_date": 1577244452, "post_id": 59460447, "comment_id": 105128149, "body": "I&#39;ve already readed this article, but I thought android and IOS have nativilly ways to do this.."}, {"owner": {"reputation": 1919, "user_id": 3234890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab66b015c6ad60cc1d0709a230b51b42?s=128&d=identicon&r=PG&f=1", "display_name": "dlohani", "link": "https://stackoverflow.com/users/3234890/dlohani"}, "edited": false, "score": 0, "creation_date": 1585842041, "post_id": 59460447, "comment_id": 107911491, "body": "@LuizPalte were you able to achieve this?"}, {"owner": {"reputation": 51, "user_id": 8843503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O4BuP.jpg?s=128&g=1", "display_name": "Luiz Palte", "link": "https://stackoverflow.com/users/8843503/luiz-palte"}, "edited": false, "score": 0, "creation_date": 1590081485, "post_id": 59460447, "comment_id": 109552088, "body": "Unfortunately no."}, {"owner": {"reputation": 321, "user_id": 12695188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gVjvK.png?s=128&g=1", "display_name": "genericUser", "link": "https://stackoverflow.com/users/12695188/genericuser"}, "edited": false, "score": 0, "creation_date": 1618826095, "post_id": 59460447, "comment_id": 118710990, "body": "Is it still not supported?"}], "owner": {"reputation": 51, "user_id": 8843503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O4BuP.jpg?s=128&g=1", "display_name": "Luiz Palte", "link": "https://stackoverflow.com/users/8843503/luiz-palte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1590081500, "creation_date": 1577129653, "last_edit_date": 1590081500, "question_id": 59460447, "link": "https://stackoverflow.com/questions/59460447/traking-uninstall-action-in-flutterandroid-and-ios", "title": "Traking uninstall action in Flutter(Android and IOS)", "body": "<p>Have any method to track uninstall action from app? Android or IOS?</p>\n\n<p>I like to get uninstall action and send some post http request to my backend, to delete the push notification token for exemple.</p>\n\n<p>I believe I'll write Kotlin/Java and Swift code, but it's ok, but I can't find any soluction in internet.</p>\n"}, {"tags": ["android", "kotlin", "android-navigation", "android-architecture-navigation"], "answers": [{"comments": [{"owner": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "edited": false, "score": 0, "creation_date": 1577186531, "post_id": 59460680, "comment_id": 105115418, "body": "If you feel the code in this answer solves the problem you should <a href=\"https://stackoverflow.com/posts/59460680/edit\">edit</a> it and explain how and why it does so. Especially since another contribution has already been marked as the Answer to the question. Code without explanation is not useful for future users of the site."}], "tags": [], "owner": {"reputation": 11, "user_id": 9919071, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9jSUDVkV74A/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2zIkGLyZX8CJ4qctt5ebFqyKJ4LA/mo/photo.jpg?sz=128", "display_name": "anaebede", "link": "https://stackoverflow.com/users/9919071/anaebede"}, "is_accepted": false, "score": 1, "last_activity_date": 1577188931, "last_edit_date": 1577188931, "creation_date": 1577130938, "answer_id": 59460680, "question_id": 59460428, "link": "https://stackoverflow.com/questions/59460428/navigationcomponents-transparent-toolbar/59460680#59460680", "title": "NavigationComponents Transparent toolbar", "body": "<p>By using the addOnDestinationChangedListener method of the NavController on your MainActivity, you can set the toolbar color for every fragment that depends on your NavHostFragment. You could have something similar to this: </p>\n\n<pre><code>navController.addOnDestinationChangedListener { _, destination: NavDestination, _ -&gt;\n        when (destination.id) {\n            R.id.feedFragment -&gt; { setToolbarColor(R.color.white) }\n            R.id.infoFragment -&gt; { setToolbarColor(R.color.transparent)}}}\n\n\nprivate fun setToolbarColor(colorId : Int){\n    supportActionBar!!.setBackgroundDrawable(ColorDrawable(ContextCompat.getColor(this, colorId)))\n}\n</code></pre>\n\n<p>I'd like to find a cleaner way to do it but it was the first approach that worked for me after trying different ones. </p>\n"}, {"comments": [{"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1577134092, "post_id": 59460742, "comment_id": 105103318, "body": "Do I need to provide to each fragment the AppBarLayout or just to the host activity?"}, {"owner": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "reply_to_user": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 1, "creation_date": 1577134212, "post_id": 59460742, "comment_id": 105103356, "body": "As you can see in my example, this is not a normal fragment, this is the NavHostFragment which provides every fragment in this navigation component. For more details: <a href=\"https://developer.android.com/guide/topics/ui/settings/organize-your-settings\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/settings/&hellip;</a>  If you don&#39;t want to use navigation components, then yes you just have to do that in your activity.  So short answer: it is enough if you define it in your activity."}], "tags": [], "owner": {"reputation": 2061, "user_id": 9090880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4KR7.jpg?s=128&g=1", "display_name": "kaulex", "link": "https://stackoverflow.com/users/9090880/kaulex"}, "is_accepted": true, "score": 1, "last_activity_date": 1577131351, "creation_date": 1577131351, "answer_id": 59460742, "question_id": 59460428, "link": "https://stackoverflow.com/questions/59460428/navigationcomponents-transparent-toolbar/59460742#59460742", "title": "NavigationComponents Transparent toolbar", "body": "<p>The best way to handle Action Bars/Toolbars is to use Theme.NoActionBar and then create one on you own and set the background color to transparent.</p>\n\n<p>This cloud look like this: </p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".ui.settings.SettingsActivity\"&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=\"@+id/appBarLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/AppTheme.AppBarOverlay\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=\"@+id/settingsToolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"@android:color/transparent\" /&gt;\n\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;fragment\n    android:id=\"@+id/nav_host_fragment\"\n    android:name=\"androidx.navigation.fragment.NavHostFragment\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"0dp\"\n    android:layout_margin=\"10dp\"\n    app:defaultNavHost=\"true\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"1.0\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/appBarLayout\"\n    app:navGraph=\"@navigation/settings_navigation\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"comments": [{"owner": {"reputation": 262, "user_id": 3729079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdae3416212d2d2f27cabfc2f7e4ab22?s=128&d=identicon&r=PG&f=1", "display_name": "Aris_choice", "link": "https://stackoverflow.com/users/3729079/aris-choice"}, "edited": false, "score": 0, "creation_date": 1577190218, "post_id": 59468752, "comment_id": 105116664, "body": "&lt;color name=&quot;black_alpha_40&quot;&gt;#66000000&lt;/color&gt;"}], "tags": [], "owner": {"reputation": 262, "user_id": 3729079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdae3416212d2d2f27cabfc2f7e4ab22?s=128&d=identicon&r=PG&f=1", "display_name": "Aris_choice", "link": "https://stackoverflow.com/users/3729079/aris-choice"}, "is_accepted": false, "score": 1, "last_activity_date": 1577190462, "last_edit_date": 1577190462, "creation_date": 1577189953, "answer_id": 59468752, "question_id": 59460428, "link": "https://stackoverflow.com/questions/59460428/navigationcomponents-transparent-toolbar/59468752#59468752", "title": "NavigationComponents Transparent toolbar", "body": "<p><a href=\"https://i.stack.imgur.com/aRqCb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aRqCb.png\" alt=\"enter image description here\"></a><strong>Transparent toolbar</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.appcompat.widget.Toolbar\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:id=\"@+id/toolbar_root\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:visibility=\"visible\"\n        android:background=\"@drawable/background_toolbar_translucent\"&gt;\n\n    &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginTop=\"@dimen/_20sdp\"\n            android:gravity=\"center_vertical\"&gt;\n        &lt;ImageView\n                android:id=\"@+id/back_toolbar\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_centerVertical=\"true\"\n                android:paddingBottom=\"@dimen/_10sdp\"\n                android:paddingRight=\"@dimen/_10sdp\"\n                android:paddingTop=\"@dimen/_10sdp\"\n                android:visibility=\"visible\"\n                android:src=\"@mipmap/ic_menu\"/&gt;\n\n        &lt;TextView\n                android:id=\"@+id/txtToolbarDate\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentTop=\"true\"\n                android:layout_centerVertical=\"true\"\n                android:gravity=\"center\"\n                android:layout_centerHorizontal=\"true\"\n                android:maxLines=\"1\"\n                android:padding=\"@dimen/_10sdp\"\n                android:text=\"August 8\"\n                android:fontFamily=\"@font/questrial_regular\"\n                android:drawableTint=\"@color/colorBlack\"\n                android:drawableRight=\"@drawable/ccp_ic_arrow_drop_down\"\n                android:textSize=\"@dimen/_15sdp\"\n                android:textColor=\"@color/colorBlack\"\n                android:visibility=\"visible\"\n                android:layout_marginLeft=\"0dp\"\n                android:layout_marginStart=\"0dp\"\n        /&gt;\n\n        &lt;RelativeLayout\n                android:id=\"@+id/notification_view_holder\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentRight=\"true\"\n                android:layout_centerVertical=\"true\"\n                android:layout_marginRight=\"@dimen/_5sdp\"&gt;\n            &lt;ImageView android:id=\"@+id/addCaseBtnHome\"\n                    android:layout_width=\"wrap_content\"\n                       android:layout_height=\"wrap_content\"\n                       android:layout_marginRight=\"@dimen/_7sdp\"\n                       android:layout_marginTop=\"@dimen/_6sdp\"\n                       android:src=\"@mipmap/ic_add_button_station\"/&gt;\n\n        &lt;/RelativeLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.appcompat.widget.Toolbar&gt;\n</code></pre>\n\n<p><strong>use this drawable xml for background</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;shape\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;gradient\n            android:angle=\"270\"\n            android:endColor=\"@android:color/transparent\"\n            android:startColor=\"@color/black_alpha_40\"/&gt;\n&lt;/shape&gt;\n</code></pre>\n"}], "owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "accepted_answer_id": 59460742, "answer_count": 3, "score": 2, "last_activity_date": 1577190462, "creation_date": 1577129568, "question_id": 59460428, "link": "https://stackoverflow.com/questions/59460428/navigationcomponents-transparent-toolbar", "title": "NavigationComponents Transparent toolbar", "body": "<p>Is there a way to set transparent toolbar just for the main activity that holds all my fragments ?</p>\n\n<p>I need to show the toolbar in other fragments but in the main host activity I want it transparent with buttons instead of colored</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val navController = Navigation.findNavController(this, R.id.nav_host_fragment)\n        setupActionBar(navController)\n    }\n\n    private fun setupActionBar(navController: NavController) {\n        NavigationUI.setupActionBarWithNavController(this, navController)\n    }\n\n    override fun onSupportNavigateUp(): Boolean {\n        return Navigation.findNavController(this, R.id.nav_host_fragment).navigateUp()\n                || super.onSupportNavigateUp()\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        MenuInflater(this).inflate(R.menu.menu, menu)\n        menu!!.findItem(R.id.eventFragment)?.isVisible = false\n        return super.onCreateOptionsMenu(menu)\n    }\n}\n</code></pre>\n\n<p>From here I wonder If I can make my toolbar transparent in this activity only</p>\n\n<p>I have searched but has not found nothing about Navigation Components</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "view", "onactivityresult"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12365792"}, "reply_to_user": {"reputation": 27, "user_id": 12340431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FSl96.png?s=128&g=1", "display_name": "malta59", "link": "https://stackoverflow.com/users/12340431/malta59"}, "edited": false, "score": 0, "creation_date": 1578294744, "post_id": 59464881, "comment_id": 105379598, "body": "YourFragment yourFragment = new YourFragment();  onActivityResult{     yourFragment .fragmentMethod(); }"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12365792"}, "is_accepted": false, "score": 1, "last_activity_date": 1577169930, "creation_date": 1577169930, "answer_id": 59464881, "question_id": 59460255, "link": "https://stackoverflow.com/questions/59460255/how-to-change-views-inside-a-fragment-from-an-onactivityresult-that-is-inside-an/59464881#59464881", "title": "How to change Views inside a Fragment from an onActivityResult that is inside another Activity?", "body": "<p>Took a fragment insance while you create that Fragment object and on the onActivityResult access fragment method using craeted insatnace.</p>\n"}], "owner": {"reputation": 27, "user_id": 12340431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FSl96.png?s=128&g=1", "display_name": "malta59", "link": "https://stackoverflow.com/users/12340431/malta59"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577169930, "creation_date": 1577128408, "question_id": 59460255, "link": "https://stackoverflow.com/questions/59460255/how-to-change-views-inside-a-fragment-from-an-onactivityresult-that-is-inside-an", "title": "How to change Views inside a Fragment from an onActivityResult that is inside another Activity?", "body": "<p>This my look like a duplicated Question , but i have already tried some of the possible solutions given in other questions, after some time i decided that it would be best for me to make a new one.\nI am using Kotlin to make an Activity on Android that i use to host a Navigation Drawer and inside that activity there is a fragment with some buttons , when i click on the buttons i initiate a Scan for QrCodes</p>\n\n<pre><code>CamaraQrIntegrator = IntentIntegrator(activity!!)\nCamaraQrIntegrator.setDesiredBarcodeFormats(IntentIntegrator.QR_CODE)\nCamaraQrIntegrator.setPrompt(\"QrCodes\")\nCamaraQrIntegrator.setCameraId(0)\nCamaraQrIntegrator.setBeepEnabled(false)\nCamaraQrIntegrator.setOrientationLocked(false)\nCamaraQrIntegrator.setBarcodeImageEnabled(false)\nCamaraQrIntegrator.initiateScan()\n</code></pre>\n\n<p>Because ZXing requires me using the parent activity for the IntentIntegrator the onActivityResult is on an Activity instead of the Fragment i am using</p>\n\n<pre><code> override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n/// I Try to access a progressbar inside the framgent \n}\n</code></pre>\n\n<p>This makes it so i cannot access any of the views inside the fragment , all return null when tried to called directly with with FindViewById , making a function inside the fragment code to access a view that was initialized after onCreateView, when i try to access the view it tells me the progressbar is null</p>\n\n<pre><code>override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?\n    ): View? {\npublicView = inflater.inflate(R.layout.fragment_principal, container, false)\n progressBar = publicView!!.findViewById(R.id.progressBarPrincipal)\nreturn publicView\n}\nfun setProgressBarVisible(){\nprogressBar.visibility = View.VISIBLE\n}\nfun setProgressBarGone(){\nprogressBar.visibility = View.GONE\n}\n</code></pre>\n\n<p>when i access setProgressBarGone() on the activity it tells me lateinit ProgressBar has not been initializated , althought the fragment has not been destroyed and the progress bar was indeed initializated on OnCreateView.</p>\n\n<pre><code>val MainFragment:Fragment = MainFragment()\nval fragment = MainFragment().setProgressBarVisible()\n</code></pre>\n\n<p>I have tried making the view on the fragment public, but still is returned as null , i have tried to make the progressbar public and still it is null for the activity, and this is not only happens when onActivity Result at any point i try to access a View in the fragment is return as null.</p>\n\n<p>I don't know what to do  , any help would be nice , please i really feel like thinking something from the beggining so , i would really appreciate new solutions over fixing , what i have. Still anything would be of help for me at this point.</p>\n"}, {"tags": ["android", "gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1577128270, "post_id": 59460176, "comment_id": 105101703, "body": "did you add apply plugin: &#39;kotlin-kapt&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 4275917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zC7XA.jpg?s=128&g=1", "display_name": "Sergi Mascar&#243;", "link": "https://stackoverflow.com/users/4275917/sergi-mascar%c3%b3"}, "edited": false, "score": 1, "creation_date": 1610727926, "post_id": 59460420, "comment_id": 116232121, "body": "Thanks! That worked for me!"}], "tags": [], "owner": {"reputation": 511, "user_id": 7009800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c968a2c8e98e65b481339b636907d32?s=128&d=identicon&r=PG", "display_name": "Bartek Pacia", "link": "https://stackoverflow.com/users/7009800/bartek-pacia"}, "is_accepted": true, "score": 4, "last_activity_date": 1577129542, "creation_date": 1577129542, "answer_id": 59460420, "question_id": 59460176, "link": "https://stackoverflow.com/questions/59460176/cant-build-project-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception/59460420#59460420", "title": "Can&#39;t build project java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException", "body": "<p>Okay, so I found and fixed the problem.\nJDK location wasn't the same.</p>\n\n<p>In Android Studio it is something like:\n<code>/private/var/folders/4f/h8xs1k2501j67y1vf24sh2pr0000gn/T/AppTranslocation/F6163339-3902-4A3C-9086-0E9F7A4EE908/d/Android Studio.app/Contents/jre/jdk/Contents/Home</code></p>\n\n<p>In IntellJ, it was <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_212.jdk/Contents/Home</code></p>\n\n<p>I copied Studio's JDK path to IntelliJ and it worked.</p>\n\n<p>(You can change it in the <code>Project Structure</code> dialog (CMD + ; on Mac))</p>\n"}], "owner": {"reputation": 511, "user_id": 7009800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c968a2c8e98e65b481339b636907d32?s=128&d=identicon&r=PG", "display_name": "Bartek Pacia", "link": "https://stackoverflow.com/users/7009800/bartek-pacia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3128, "favorite_count": 0, "accepted_answer_id": 59460420, "answer_count": 1, "score": 1, "last_activity_date": 1577129542, "creation_date": 1577127916, "question_id": 59460176, "link": "https://stackoverflow.com/questions/59460176/cant-build-project-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception", "title": "Can&#39;t build project java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException", "body": "<p>I have an Android project I created in Android Studio and it worked fine. Recently, I've started using IntelliJ IDEA and when every time I want to build my project, I get the following exception:</p>\n\n<pre><code>e: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n\nExecution failed for task ':app:kaptDebugKotlin'.\n&gt; Internal compiler error. See log for more details\n</code></pre>\n\n<pre><code>Task :app:kaptDebugKotlin FAILED\ne: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3342)\n    at java.base/java.lang.Class.newInstance(Class.java:556)\n    at org.jetbrains.kotlin.cli.jvm.plugins.ServiceLoaderLite.loadImplementations(ServiceLoaderLite.kt:50)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension$loadProcessors$efficientProcessorLoader$1.doLoadProcessors(Kapt3Extension.kt:83)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors(ProcessorLoader.kt:42)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors$default(ProcessorLoader.kt:25)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.loadProcessors(Kapt3Extension.kt:88)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:98)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:384)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:70)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:375)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:123)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:159)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:442)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1013)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1055)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1012)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:441)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 49 more\n</code></pre>\n\n<p>I tried every other solution on the net but none worked (yes, I have JDK8 checked in my Gradle settings). </p>\n\n<p>How can I make it work with IntelliJ?</p>\n\n<p>Some info:\nMacOS Catalina\nIntelliJ Version 2019.3\nJDK 1.8 update 212\nKotlin plugin: 1.3.61-release-IJ2019.3-1</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 103, "user_id": 5710902, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i615dyFGxAA/AAAAAAAAAAI/AAAAAAAAAcs/MV6fI3Zm1BY/photo.jpg?sz=128", "display_name": "Hamza Mehmood", "link": "https://stackoverflow.com/users/5710902/hamza-mehmood"}, "edited": false, "score": 1, "creation_date": 1577127420, "post_id": 59460022, "comment_id": 105101417, "body": "please share error log here or your layout so I can help you."}, {"owner": {"reputation": 1, "user_id": 12082131, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yr3BjFIGzQE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc63-VA4L1nLQWKH4u81s9ydFZkFg/photo.jpg?sz=128", "display_name": "Jeff Brown", "link": "https://stackoverflow.com/users/12082131/jeff-brown"}, "reply_to_user": {"reputation": 103, "user_id": 5710902, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i615dyFGxAA/AAAAAAAAAAI/AAAAAAAAAcs/MV6fI3Zm1BY/photo.jpg?sz=128", "display_name": "Hamza Mehmood", "link": "https://stackoverflow.com/users/5710902/hamza-mehmood"}, "edited": false, "score": 0, "creation_date": 1577129632, "post_id": 59460022, "comment_id": 105102071, "body": "ok I have attached the image titled xml layout"}], "answers": [{"tags": [], "owner": {"reputation": 254, "user_id": 7057215, "user_type": "registered", "profile_image": "https://graph.facebook.com/998460390264606/picture?type=large", "display_name": "Prateek Kumar", "link": "https://stackoverflow.com/users/7057215/prateek-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577134835, "creation_date": 1577134835, "answer_id": 59461245, "question_id": 59460022, "link": "https://stackoverflow.com/questions/59460022/android-studio-possible-data-binding-error/59461245#59461245", "title": "Android Studio Possible Data Binding Error", "body": "<p>According to java convention, Package names should be written in all lower case to avoid conflict with the names of classes. And it creates problem in Data Binding. So change all your package names to lower case.</p>\n"}], "owner": {"reputation": 1, "user_id": 12082131, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yr3BjFIGzQE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc63-VA4L1nLQWKH4u81s9ydFZkFg/photo.jpg?sz=128", "display_name": "Jeff Brown", "link": "https://stackoverflow.com/users/12082131/jeff-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577134835, "creation_date": 1577127034, "last_edit_date": 1577129689, "question_id": 59460022, "link": "https://stackoverflow.com/questions/59460022/android-studio-possible-data-binding-error", "title": "Android Studio Possible Data Binding Error", "body": "<p><a href=\"https://i.stack.imgur.com/IidQs.png\" rel=\"nofollow noreferrer\">Error ScreenShot</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Bx6vV.png\" rel=\"nofollow noreferrer\">XML Layout</a></p>\n\n<p>I keep getting these errors when I try to implement data binding in my project, not sure what is causing it . I've checked all my xml classes and the are pointing to the appropriate viewModel. Any help would be appreciated. Thanks</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 1690, "user_id": 2976267, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100000541356730/picture?type=large", "display_name": "Vlad Alexeev", "link": "https://stackoverflow.com/users/2976267/vlad-alexeev"}, "edited": false, "score": 0, "creation_date": 1577166462, "post_id": 59463129, "comment_id": 105109007, "body": "that didn&#39;t help me either"}, {"owner": {"reputation": 1378, "user_id": 4427888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LMMxW.png?s=128&g=1", "display_name": "duongdt3", "link": "https://stackoverflow.com/users/4427888/duongdt3"}, "reply_to_user": {"reputation": 1690, "user_id": 2976267, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100000541356730/picture?type=large", "display_name": "Vlad Alexeev", "link": "https://stackoverflow.com/users/2976267/vlad-alexeev"}, "edited": false, "score": 0, "creation_date": 1577170605, "post_id": 59463129, "comment_id": 105110020, "body": "@VladAlexeev I edited, take a try again with TypeConverters(MoviesConverter::class) for class Base"}], "tags": [], "owner": {"reputation": 1378, "user_id": 4427888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LMMxW.png?s=128&g=1", "display_name": "duongdt3", "link": "https://stackoverflow.com/users/4427888/duongdt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1577170563, "last_edit_date": 1577170563, "creation_date": 1577153889, "answer_id": 59463129, "question_id": 59459800, "link": "https://stackoverflow.com/questions/59459800/error-cannot-figure-out-how-to-save-this-field-into-database-room-kotlin/59463129#59463129", "title": "error: Cannot figure out how to save this field into database. : Room Kotlin", "body": "<p>With Kotlin, you need add <code>companion object</code> and  <code>@JvmStatic</code> </p>\n\n<p><strong>Edited</strong>: with <code>TypeConverters(MoviesConverter::class)</code> for <code>class Base</code></p>\n\n<pre><code>@Entity\n@TypeConverters(MoviesConverter::class)\ndata class Base (\n    @PrimaryKey\n    val id : Int,\n    val movies: List&lt;Movie&gt;\n)\n\ndata class Movie(val id: Int)\n\n\nclass MoviesConverter {\n    companion object {\n        private val gson = Gson()\n\n        @TypeConverter\n        @JvmStatic\n        fun toMovies(data: String?): List&lt;Movie&gt; {\n            if (data == null) {\n                return emptyList()\n            }\n            val listType = object : TypeToken&lt;List&lt;Movie&gt;&gt;() {}.type\n            return gson.fromJson(data, listType)\n        }\n\n        @TypeConverter\n        @JvmStatic\n        fun fromMovies(movies: List&lt;Movie&gt;): String {\n            return gson.toJson(movies)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1690, "user_id": 2976267, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100000541356730/picture?type=large", "display_name": "Vlad Alexeev", "link": "https://stackoverflow.com/users/2976267/vlad-alexeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577170563, "creation_date": 1577125907, "question_id": 59459800, "link": "https://stackoverflow.com/questions/59459800/error-cannot-figure-out-how-to-save-this-field-into-database-room-kotlin", "title": "error: Cannot figure out how to save this field into database. : Room Kotlin", "body": "<p>I've read tutorials and answers and somehow it's not working for me. </p>\n\n<p>Here's my data class I'm trying to make work:</p>\n\n<pre><code>@Entity\ndata class Base (\n    var version: Int,\n    @TypeConverters(MoviesConverter::class)\n    var movies: List&lt;Movie&gt;,\n    @TypeConverters(ResStringsConverter::class)\n    var strings : HashMap&lt;String, String&gt;\n) {\n    @PrimaryKey\n    var id = 1\n}\n</code></pre>\n\n<p>and here are my both converters :</p>\n\n<pre><code>class MoviesConverter {\n    private val gson = Gson()\n\n    @TypeConverter\n    fun toMovies(data: String?): List&lt;Movie&gt; {\n        if (data == null) {\n            return emptyList()\n        }\n        val listType = object : TypeToken&lt;List&lt;Movie&gt;&gt;(){}.type\n        return gson.fromJson(data, listType)\n    }\n\n    @TypeConverter\n    fun fromMovies(movies: List&lt;Movie&gt;): String {\n        return gson.toJson(movies)\n    }\n}\n\nclass ResStringsConverter {\n\n    val gson = Gson()\n\n    @TypeConverter\n    fun storedStringToStrings(data: String?): HashMap&lt;String, String&gt; {\n        if (data == null) {\n            return HashMap()\n        }\n        val listType = object : TypeToken&lt;HashMap&lt;String, String&gt;&gt;() {}.type\n        return gson.fromJson(data, listType)\n    }\n\n    @TypeConverter\n    fun stringsToStoredString(strings: HashMap&lt;String, String&gt;): String {\n        return gson.toJson(strings)\n    }\n}\n</code></pre>\n\n<p>But still I get this same error for both fields :</p>\n\n<pre><code>error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.\n    private java.util.List&lt;com.vladdrummer.moviequizandroid.model.Movie&gt; movies\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-jetpack", "android-paging-library"], "comments": [{"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "edited": false, "score": 0, "creation_date": 1577127829, "post_id": 59458625, "comment_id": 105101552, "body": "Are you getting any errors?"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "edited": false, "score": 0, "creation_date": 1577183761, "post_id": 59458625, "comment_id": 105114356, "body": "No any error @Christilyn"}, {"owner": {"reputation": 1793, "user_id": 7881446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL7Kt.png?s=128&g=1", "display_name": "Christilyn Arjona", "link": "https://stackoverflow.com/users/7881446/christilyn-arjona"}, "edited": false, "score": 0, "creation_date": 1577217954, "post_id": 59458625, "comment_id": 105124482, "body": "Can you post your code on how you&#39;re setting up your datasource? And how you&#39;re generating <code>allPosts</code>?"}], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577119148, "creation_date": 1577119148, "question_id": 59458625, "link": "https://stackoverflow.com/questions/59458625/why-paging-library-doesnt-update-list-after-server-response", "title": "Why paging library doesn&#39;t update list after server response?", "body": "<p>I am trying implement Android jetpack's <strong>paging library</strong> with <strong>Kotlin</strong> <strong>Coroutines</strong> and <strong>Retrofit</strong>.\nAfter debugging I found out that observation doesn't invoke on success of server response.</p>\n\n<p>Am I missing something to have complete implementation?</p>\n\n<p>This is my implementation of <strong>PageKeyedDataSource</strong></p>\n\n<pre><code>class NewsDataSource(private val scope: CoroutineScope) : PageKeyedDataSource&lt;Long, PostArticle&gt;() {\n\n    private val postApi = PostService().postApi\n\n    override fun loadInitial(\n        params: LoadInitialParams&lt;Long&gt;,\n        callback: LoadInitialCallback&lt;Long, PostArticle&gt;\n    ) {\n\n        scope.launch {\n\n            try {\n                val response = postApi.getPosts(page = 1L)\n                when {\n                    response.isSuccessful -&gt; {\n                        val serverResponse: ServerResponse? = response.body()\n                        val responsePagination: ResponsePagination? = serverResponse?.response\n                        val responsePosts = responsePagination?.results\n\n                        val posts = responsePosts?.map { it.convert() }\n\n                        val nextPageKey = serverResponse?.currentPage?.let { it + 1L }\n\n                        callback.onResult(posts ?: listOf(), null, nextPageKey)\n                    }\n                }\n\n            } catch (e: Exception) {\n                Log.e(\"NewsDataSource\", \"Failed to fetch data!\")\n            }\n        }\n    }\n\n    override fun loadAfter(params: LoadParams&lt;Long&gt;, callback: LoadCallback&lt;Long, PostArticle&gt;) {\n\n    }\n\n    override fun loadBefore(params: LoadParams&lt;Long&gt;, callback: LoadCallback&lt;Long, PostArticle&gt;) {\n\n    }\n}\n</code></pre>\n\n<p>Code piece for observe</p>\n\n<pre><code> pageViewModel.allPosts.observe(viewLifecycleOwner, Observer {\n        Log.i(\"test\", \"aaa \"+it.toString())\n        articlesAdapter.submitList(it)\n    })\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 1, "creation_date": 1577119145, "post_id": 59458340, "comment_id": 105098438, "body": "you are still writing java, now just with kotlin. you don&#39;t have to do findViewById with <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">synthetics</a>"}, {"owner": {"reputation": 39, "user_id": 10507968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jvzFE.jpg?s=128&g=1", "display_name": "Crimson Space", "link": "https://stackoverflow.com/users/10507968/crimson-space"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1577122033, "post_id": 59458340, "comment_id": 105099543, "body": "Thanks! but like I said im new to Kotlin so im just hearing of synthetics as of an hour ago"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1577122999, "post_id": 59458340, "comment_id": 105099892, "body": "no problem, my comment is entirely unrelated to your question"}, {"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1577123295, "post_id": 59458340, "comment_id": 105100013, "body": "&quot;how do I reset those widgets back to null instead of holding on to previous values ?&quot; - are you sure that this is the cause for the undesired behavior? Wat happens if you also reset <i>operand1</i> and <i>pendingOperation</i>?"}], "answers": [{"tags": [], "owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "is_accepted": false, "score": 0, "last_activity_date": 1577137805, "creation_date": 1577137805, "answer_id": 59461643, "question_id": 59458340, "link": "https://stackoverflow.com/questions/59458340/how-to-reset-variables-in-kotlin-calculator-app/59461643#59461643", "title": "How to Reset Variables in Kotlin Calculator App", "body": "<p>You never reset <code>operand1</code>. So the second line of <code>performOperation</code> is not reached after you have your first result. <code>operand1</code> then still holds the last value you have set in your <code>when</code>-clause for <code>=</code>.\nAfter <code>result.setText(operand1.toString())</code>, call </p>\n\n<pre><code>if (pendingOperation == \"=\") {\n    operand1 = null\n}\n</code></pre>\n\n<p>That should fix it.</p>\n"}], "owner": {"reputation": 39, "user_id": 10507968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jvzFE.jpg?s=128&g=1", "display_name": "Crimson Space", "link": "https://stackoverflow.com/users/10507968/crimson-space"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577137805, "creation_date": 1577117825, "question_id": 59458340, "link": "https://stackoverflow.com/questions/59458340/how-to-reset-variables-in-kotlin-calculator-app", "title": "How to Reset Variables in Kotlin Calculator App", "body": "<p>So I am just starting out with Kotlin so I decided to make a simple calculator app. The calculator works and all but when trying out new calculation it apparently still works with the previous values even after clearing the screen. So for example 2 + 2 will equal 4. If trying out a new numbers to calculate for example I will simply hit the CLS button and the screen goes blank. However, the problem is if I wanted to calculate something like 2+3 it will not equal to 5 instead it will equal to 9. It is adding to the previous result. So a place holder still holds the value from the previous calculation even after being cleared.</p>\n\n<p>My clear Screen listener uses the the <code>clear()</code> to erase the number from the screen but doesnt clear the place holder. This is my code block for it </p>\n\n<pre><code>\n val ClearButtonListener = View.OnClickListener { v -&gt;\n            val b = v as Button\n            if (newNumber != null) {\n                newNumber.getText().clear()\n                result.getText().clear()\n            }\n        }\n</code></pre>\n\n<p>newNumber and result are EditText widgets and are declared with lateinit. So my question how do I reset those widgets back to null instead of holding on to previous values ? </p>\n\n<p>My whole code:</p>\n\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.TextView\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.lang.NumberFormatException\n\nclass MainActivity : AppCompatActivity() {\n    private lateinit var result: EditText\n    private lateinit var newNumber: EditText\n    private val displayOperation by lazy(LazyThreadSafetyMode.NONE) { findViewById&lt;TextView&gt;(R.id.operation) }\n\n    private var operand1: Double? = null\n    private var pendingOperation = \"=\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        result = findViewById(R.id.result)\n        newNumber = findViewById(R.id.newNumber)\n        //Data input buttons\n        val button0: Button = findViewById(R.id.button0)\n        val button1: Button = findViewById(R.id.button1)\n        val button2: Button = findViewById(R.id.button2)\n        val button3: Button = findViewById(R.id.button3)\n        val button4: Button = findViewById(R.id.button4)\n        val button5: Button = findViewById(R.id.button5)\n        val button6: Button = findViewById(R.id.button6)\n        val button7: Button = findViewById(R.id.button7)\n        val button8: Button = findViewById(R.id.button8)\n        val button9: Button = findViewById(R.id.button9)\n        val buttonDot: Button = findViewById(R.id.buttonDecimal)\n\n        val clearButton: Button = findViewById(R.id.clear)\n\n        // operation buttons\n        val Buttonequals: Button = findViewById(R.id.equal)\n        val ButtonPlus: Button = findViewById(R.id.add)\n        val ButtonMinus: Button = findViewById(R.id.Subtract)\n        val ButtonMultiply: Button = findViewById(R.id.Multiply)\n        val ButtonDivide: Button = findViewById(R.id.Divide)\n\n        val listener = View.OnClickListener { v -&gt;\n            val b = v as Button\n            newNumber.append(b.text)\n        }\n\n        //Clear button\n        val ClearButtonListener = View.OnClickListener { v -&gt;\n            val b = v as Button\n            if (newNumber != null) {\n                newNumber.getText().clear()\n                result.getText().clear()\n            }\n        }\n        button0.setOnClickListener(listener)\n        button1.setOnClickListener(listener)\n        button2.setOnClickListener(listener)\n        button3.setOnClickListener(listener)\n        button4.setOnClickListener(listener)\n        button5.setOnClickListener(listener)\n        button6.setOnClickListener(listener)\n        button7.setOnClickListener(listener)\n        button8.setOnClickListener(listener)\n        button9.setOnClickListener(listener)\n        buttonDot.setOnClickListener(listener)\n\n        clearButton.setOnClickListener(ClearButtonListener)\n\n        val opListener = View.OnClickListener { v -&gt;\n            val op = (v as Button).text.toString()\n            try {\n                val value = newNumber.text.toString().toDouble()\n                performOperation(value, op)\n            } catch (e: NumberFormatException) {\n                newNumber.setText(\"\")\n            }\n\n            pendingOperation = op\n            displayOperation.text = pendingOperation\n        }\n\n        Buttonequals.setOnClickListener(opListener)\n        ButtonPlus.setOnClickListener(opListener)\n        ButtonMinus.setOnClickListener(opListener)\n        ButtonMultiply.setOnClickListener(opListener)\n        ButtonDivide.setOnClickListener(opListener)\n    }\n    private fun performOperation(value: Double, operation: String) {\n        if (operand1 == null) {\n            operand1 = value\n        } else {\n\n\n            if (pendingOperation == \"=\") {\n                pendingOperation = operation\n            }\n\n            when (pendingOperation) {\n                \"=\" -&gt; operand1 = value\n                \"+\" -&gt; operand1 = operand1!! + value\n                \"-\" -&gt; operand1 = operand1!! - value\n                \"*\" -&gt; operand1 = operand1!! * value\n                \"/\" -&gt; if (value == 0.0) {\n                    operand1 = Double.NaN\n                } else {\n                    operand1 = operand1!! / value\n                }\n            }\n        }\n        result.setText(operand1.toString())\n        newNumber.setText(\"\")\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-edittext", "android-recyclerview"], "comments": [{"owner": {"reputation": 1, "user_id": 5925957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nPAdaevus2I/AAAAAAAAAAI/AAAAAAAAABw/3Q7jsumEna0/photo.jpg?sz=128", "display_name": "mysteriouslamb inc.", "link": "https://stackoverflow.com/users/5925957/mysteriouslamb-inc"}, "edited": false, "score": 0, "creation_date": 1577120869, "post_id": 59458222, "comment_id": 105099113, "body": "I&#39;m sorry, I forgot to incluse the code I use in onSubmit. It is a extension of EditText. <code>fun EditText.onSubmit(func: () -&gt; Unit) {     setOnEditorActionListener { _, actionId, _ -&gt;          if (actionId == EditorInfo.IME_ACTION_DONE) {             func()         }          true      } }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5925957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nPAdaevus2I/AAAAAAAAAAI/AAAAAAAAABw/3Q7jsumEna0/photo.jpg?sz=128", "display_name": "mysteriouslamb inc.", "link": "https://stackoverflow.com/users/5925957/mysteriouslamb-inc"}, "is_accepted": false, "score": 0, "last_activity_date": 1577123359, "creation_date": 1577123359, "answer_id": 59459374, "question_id": 59458222, "link": "https://stackoverflow.com/questions/59458222/edittext-onsubmit-function-cleard-in-recyclerview/59459374#59459374", "title": "EditText onSubmit function cleard in RecyclerView", "body": "<p>Ok I fixed it by using a different approach to the onSubmit function.\nI changed</p>\n\n<pre><code>fun EditText.onSubmit(func: () -&gt; Unit) {\n    setOnEditorActionListener { _, actionId, _ -&gt;\n\n        if (actionId == EditorInfo.IME_ACTION_DONE) {\n            func()\n        }\n\n        true\n\n    }\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>fun EditText.onSubmit(func: () -&gt; Unit) = setOnEditorActionListener {\n        _, actionId, _ -&gt;\n        if (actionId == EditorInfo.IME_ACTION_DONE || actionId == EditorInfo.IME_ACTION_NEXT)\n            func()\n\n        true\n\n}\n</code></pre>\n\n<p>Because the Keyboard changes it's action button in the bottom right corner to <code>EditorInfo.IME_ACTION_NEXT</code> instead of <code>EditorInfo.IME_ACTION_DONE</code> when the number of items is so large that they don't fit on the screen.</p>\n"}], "owner": {"reputation": 1, "user_id": 5925957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nPAdaevus2I/AAAAAAAAAAI/AAAAAAAAABw/3Q7jsumEna0/photo.jpg?sz=128", "display_name": "mysteriouslamb inc.", "link": "https://stackoverflow.com/users/5925957/mysteriouslamb-inc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577123359, "creation_date": 1577117309, "question_id": 59458222, "link": "https://stackoverflow.com/questions/59458222/edittext-onsubmit-function-cleard-in-recyclerview", "title": "EditText onSubmit function cleard in RecyclerView", "body": "<p>I have a problem with the recycler view.\nIf I use the following code, it works perfectly, until I have so many items in my adapter, that it has to scroll a little bit.</p>\n\n<p>the whole project is on <a href=\"https://github.com/cloudsftp/TridomCounter\" rel=\"nofollow noreferrer\">github </a></p>\n\n<pre><code>class ActionCardAdapter(val round: Round, val activity: RoundActivity)\n    : RecyclerView.Adapter&lt;ActionCardAdapter.AbstractActionCardViewHolder&gt;() {\n\n    abstract class AbstractActionCardViewHolder(view: View) : RecyclerView.ViewHolder(view)\n\n    class ComplexActionCardViewHolder(view: View) : AbstractActionCardViewHolder(view) {\n        val actionNameTextView = view.findViewById&lt;TextView&gt;(R.id.actionNameTextView)\n        val inputEditText = view.findViewById&lt;EditText&gt;(R.id.actionInputEditText)\n\n    }\n\n    // other ViewHolders\n\n    enum class ViewType {\n        COMPLEX_ACTION_CARD\n        // other ViewTypes\n    }\n\n    override fun getItemViewType(position: Int) = when (round.cards[position]) {\n        is ActionCardComplex -&gt; ViewType.DISPLAY_CARD.ordinal\n        // other cases\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, type: Int): AbstractActionCardViewHolder {\n        return when (type) {\n            ViewType.COMPLEX_ACTION_CARD.ordinal -&gt; {\n                val view = LayoutInflater.from(parent.context)\n                    .inflate(R.layout.card_action_complex, parent, false) as View\n\n                ComplexActionCardViewHolder(view)\n\n            }\n\n            // other cases\n\n            else -&gt; throw Exception(\"Card Type not defined.\")\n\n        }\n\n    }\n\n    override fun onBindViewHolder(viewHolder: AbstractActionCardViewHolder, position: Int) {\n        val card = round.cards[position]\n\n        when (getItemViewType(position)) {\n            ViewType.COMPLEX_ACTION_CARD.ordinal -&gt; {\n                viewHolder as ComplexActionCardViewHolder\n                card as ActionCardComplex\n\n                viewHolder.actionNameTextView.text = card.displayText\n\n                fun getInput() {\n                    // some logic\n\n                }\n\n                viewHolder.itemView.setOnClickListener { getInput() }\n                viewHolder.inputEditText.onSubmit { getInput() }\n\n                viewHolder.inputEditText.requestFocus()\n\n            }\n\n\n\n        }\n\n        // other cases\n\n    }\n\n    override fun getItemCount() = round.cards.size\n\n}\n</code></pre>\n\n<p>So if I add one of these ActionCardComplex and like 5 cards that are bound differently,\nthe onSubmit property of the EditText <code>viewHolder.inputEditText</code> seems to be cleared.\nThe onClickListener of the ItemView <code>viewHolder.itemView</code> on the other hand still works.</p>\n"}, {"tags": ["kotlin", "kotlin-js", "kotlin-js-interop"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 5173920, "user_type": "registered", "profile_image": "https://graph.facebook.com/1016824081662423/picture?type=large", "display_name": "Richard Domingo", "link": "https://stackoverflow.com/users/5173920/richard-domingo"}, "edited": false, "score": 0, "creation_date": 1577121089, "post_id": 59458360, "comment_id": 105099200, "body": "Thank you! Do you have any reference you can share with this answer?"}, {"owner": {"reputation": 300, "user_id": 5173920, "user_type": "registered", "profile_image": "https://graph.facebook.com/1016824081662423/picture?type=large", "display_name": "Richard Domingo", "link": "https://stackoverflow.com/users/5173920/richard-domingo"}, "edited": false, "score": 0, "creation_date": 1577126277, "post_id": 59458360, "comment_id": 105101047, "body": "Btw, @Alexey Romanov, removing the explicit cast shows a warning: Unsafe implicit cast from dynamic to String."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 300, "user_id": 5173920, "user_type": "registered", "profile_image": "https://graph.facebook.com/1016824081662423/picture?type=large", "display_name": "Richard Domingo", "link": "https://stackoverflow.com/users/5173920/richard-domingo"}, "edited": false, "score": 0, "creation_date": 1577127849, "post_id": 59458360, "comment_id": 105101562, "body": "I&#39;ve added the reference. Testing at <a href=\"https://try.kotlinlang.org/\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a> I don&#39;t get a warning (but do get a wrong warning that <code>name</code> is unused), and don&#39;t see why it would be a cast to <code>String</code> anyway."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1577127691, "last_edit_date": 1577127691, "creation_date": 1577117912, "answer_id": 59458360, "question_id": 59457907, "link": "https://stackoverflow.com/questions/59457907/is-it-possible-to-call-kotlins-js-function-with-an-interpolated-string-template/59458360#59458360", "title": "Is it possible to call kotlin&#39;s js function with an interpolated string template?", "body": "<p>No, it isn't. But you can just use <code>name</code> in the code argument to <code>js</code>:</p>\n\n<pre><code>private fun fromEnv(name: String) {\n     js(\"process.env[name]\")\n}\n</code></pre>\n\n<p>This example is pretty much the same as the use of the variable <code>o</code> in the <a href=\"https://kotlinlang.org/docs/reference/js-interop.html#inline-javascript\" rel=\"nofollow noreferrer\">Inline Javascript</a> section of documentation:</p>\n\n<pre><code>fun jsTypeOf(o: Any): String {\n    return js(\"typeof o\")\n}\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 5173920, "user_type": "registered", "profile_image": "https://graph.facebook.com/1016824081662423/picture?type=large", "display_name": "Richard Domingo", "link": "https://stackoverflow.com/users/5173920/richard-domingo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 59458360, "answer_count": 1, "score": 1, "last_activity_date": 1577127691, "creation_date": 1577115673, "last_edit_date": 1577126164, "question_id": 59457907, "link": "https://stackoverflow.com/questions/59457907/is-it-possible-to-call-kotlins-js-function-with-an-interpolated-string-template", "title": "Is it possible to call kotlin&#39;s js function with an interpolated string template?", "body": "<p>Right now, IntellJ is showing a red squiggly line saying: <strong>Argument must be a string constant</strong></p>\n\n<pre><code>private fun fromEnv(name: String) {\n    return js(\"process.env[${name}]\") as Unit\n}\n</code></pre>\n\n<p>I've searched but I have not found any similar question. </p>\n\n<hr>\n\n<p>Solved by @alexey-romanov</p>\n\n<p>It's just as simple as:</p>\n\n<pre><code>private fun fromEnv(name: String) {\n    return js(\"process.env[${name}]\") as Unit\n}\n</code></pre>\n\n<p>which compiles to:</p>\n\n<pre><code>function fromEnv(name) {\n  var tmp$;\n  return typeof (tmp$ = process.env[name]) === 'string' ? tmp$ : throwCCE();\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "is_accepted": false, "score": 1, "last_activity_date": 1577115457, "creation_date": 1577115457, "answer_id": 59457860, "question_id": 59457746, "link": "https://stackoverflow.com/questions/59457746/cant-use-setbackgroundresource-when-using-thread-sleep-on-click/59457860#59457860", "title": "Can&#39;t use setBackgroundResource() when using Thread.sleep on click", "body": "<p>While the UI thread is <code>sleep()</code>-ing, it cannot render changes to the screen; <code>onDraw()</code> will not execute. In order for a change, such as background color, to be applied, you must completely return control to the framework's message loop (<code>Handler</code>), by returning from the event handler you are in.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>TextView1.setOnClickListener{\n    TextView1.setBackgroundResource(R.color.red)\n    Handler().postDelayed({\n         TextView1.setBackgroundResource(R.color.white)\n    }, 1_000)\n    //return immediately so that the message loop can render the red background\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1063, "user_id": 2836444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3f050f3bfc552d963493568e70237dda?s=128&d=identicon&r=PG", "display_name": "gkpln3", "link": "https://stackoverflow.com/users/2836444/gkpln3"}, "is_accepted": true, "score": 1, "last_activity_date": 1577115568, "creation_date": 1577115568, "answer_id": 59457885, "question_id": 59457746, "link": "https://stackoverflow.com/questions/59457746/cant-use-setbackgroundresource-when-using-thread-sleep-on-click/59457885#59457885", "title": "Can&#39;t use setBackgroundResource() when using Thread.sleep on click", "body": "<p>This is due to the fact that calling <code>Thread.sleep()</code> just causes your thread to hang, in this particular example, it causes the GUI (graphical user interface) thread to hang.</p>\n\n<p>The actual drawing of the gui elements on the screen occurs on the same thread, right after he is done with calling your methods, you did not give him the time to do so.</p>\n\n<p>You can achieve the same result by dispatching a delayed call.</p>\n\n<pre><code>TextView1.setOnClickListener {\n    TextView1.setBackgroundResource(R.color.red);\n\n    Handler().postDelayed({\n        this@MainActivity.runOnUiThread(java.lang.Runnable {\n            TextView1.setBackgroundResource(R.color.white);\n        })\n    }, 1000)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "is_accepted": false, "score": 0, "last_activity_date": 1577115969, "creation_date": 1577115969, "answer_id": 59457965, "question_id": 59457746, "link": "https://stackoverflow.com/questions/59457746/cant-use-setbackgroundresource-when-using-thread-sleep-on-click/59457965#59457965", "title": "Can&#39;t use setBackgroundResource() when using Thread.sleep on click", "body": "<p>Because when you call Thread.sleep(), It will block UI and make UI no change to <code>setBackgroundResource(R.color.red)</code> after sleep() ran, you call <code>setBackgroundResource(R.color.white)</code>, so it only updates color white and you no see color red changed</p>\n"}], "owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 59457885, "answer_count": 3, "score": 0, "last_activity_date": 1577115969, "creation_date": 1577115002, "question_id": 59457746, "link": "https://stackoverflow.com/questions/59457746/cant-use-setbackgroundresource-when-using-thread-sleep-on-click", "title": "Can&#39;t use setBackgroundResource() when using Thread.sleep on click", "body": "<p>I can successfully change color by using:</p>\n\n<pre><code>TextView1.setOnClickListener{\n TextView1.setBackgroundResource(R.color.red);\n}\n</code></pre>\n\n<p>But if I use</p>\n\n<pre><code>     TextView1.setOnClickListener{\n         TextView1.setBackgroundResource(R.color.red);\n         Thread.sleep(1_000)\n         TextView1.setBackgroundResource(R.color.white);\n        }\n</code></pre>\n\n<p>color doesn't change at all. Why is that?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 0, "last_activity_date": 1577115024, "creation_date": 1577115024, "answer_id": 59457751, "question_id": 59457505, "link": "https://stackoverflow.com/questions/59457505/spring-boot-property-resolution-passed-into-command-line-parameters/59457751#59457751", "title": "Spring Boot Property Resolution passed into command line parameters", "body": "<p>You have to pass the args this way:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    runApplication&lt;WebApplication&gt;(\n            \"--SPRING_SERVER_PORT=8085\"\n    )\n}\n</code></pre>\n\n<p>Like the way you would pass it on the command line</p>\n"}], "owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 59457751, "answer_count": 1, "score": 0, "last_activity_date": 1577115024, "creation_date": 1577113932, "question_id": 59457505, "link": "https://stackoverflow.com/questions/59457505/spring-boot-property-resolution-passed-into-command-line-parameters", "title": "Spring Boot Property Resolution passed into command line parameters", "body": "<p>I would like to use a separate <code>.env</code> file later on to read the properties from, but now I am just passing in the properties to the Spring <code>runApplication</code> function to see what is working.</p>\n\n<h3>Case 1)</h3>\n\n<p><code>application.yml</code></p>\n\n<pre><code>server:\n  port: ${SPRING_SERVER_PORT}\n</code></pre>\n\n<p><code>WebApplication.kt</code></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    runApplication&lt;WebApplication&gt;(\n            \"--SPRING_SERVER_PORT\", \"8085\"\n    )\n}\n</code></pre>\n\n<p><code>Outcome</code></p>\n\n<p>Server starts at port 8080. (NOT 8085 !!!)</p>\n\n<h3>Case 2)</h3>\n\n<p><code>application.yml</code></p>\n\n<pre><code>server:\n  port: ${SPRING_SERVER_PORT}\n</code></pre>\n\n<p><code>WebApplication.kt</code></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    runApplication&lt;WebApplication&gt;()\n}\n</code></pre>\n\n<p><code>Outcome</code></p>\n\n<p><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_SERVER_PORT' in value \"${SPRING_SERVER_PORT}\"</code></p>\n\n<h3>Case 3)</h3>\n\n<p><code>application.yml</code></p>\n\n<pre><code>server:\n  port: 8081\n</code></pre>\n\n<p><code>WebApplication.kt</code></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    runApplication&lt;WebApplication&gt;()\n}\n</code></pre>\n\n<p><code>Outcome</code></p>\n\n<p>Server starts at port 8081.</p>\n\n<hr>\n\n<p>Does that actually mean Spring cannot parse a String and fails silently when doing so?</p>\n\n<p>What am I doing wrong?</p>\n\n<hr>\n\n<p>Project created from latest spring boot initializer:</p>\n\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "cryptocurrency", "rippled"], "answers": [{"comments": [{"owner": {"reputation": 456, "user_id": 509904, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5976440f92b4ffe1c30b71ac1cef566b?s=128&d=identicon&r=PG", "display_name": "Torben Vesterager", "link": "https://stackoverflow.com/users/509904/torben-vesterager"}, "edited": false, "score": 0, "creation_date": 1577131797, "post_id": 59460629, "comment_id": 105102726, "body": "Duh ... when will I learn to read code ... <code>signedTransaction.txn.toJSON()</code>"}], "tags": [], "owner": {"reputation": 456, "user_id": 509904, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5976440f92b4ffe1c30b71ac1cef566b?s=128&d=identicon&r=PG", "display_name": "Torben Vesterager", "link": "https://stackoverflow.com/users/509904/torben-vesterager"}, "is_accepted": true, "score": 1, "last_activity_date": 1577130603, "creation_date": 1577130603, "answer_id": 59460629, "question_id": 59457289, "link": "https://stackoverflow.com/questions/59457289/since-ripple-lib-java-is-unmaintained-how-do-you-manually-sign-a-transaction/59460629#59460629", "title": "Since ripple-lib-java is unmaintained, how do you manually sign a transaction?", "body": "<p>Hmm ... even though it hasn't been maintained for 4 years it looks like it still works.</p>\n\n<p>Clone <code>ripple-lib-java</code> and do mvn install in <code>ripple-bouncycastle</code> &amp; <code>ripple-core</code></p>\n\n<p>Then copy the built JARs into <code>&lt;YourProject&gt;/libs</code> </p>\n\n<p>Add local dependencies in Gradle Kotlin DSL:</p>\n\n<pre><code>repositories {\n    flatDir {\n        dirs(\"libs\")\n    }\n}\n\ndependencies {\n    implementation(\":ripple-bouncycastle-0.0.1-SNAPSHOT\")\n    implementation(\":ripple-core-0.0.1-SNAPSHOT\")\n\n    runtime(\"org.json:json:20190722\") // No newskool kotlinx-serialization here :(\n}\n</code></pre>\n\n<p>Create &amp; sign OfferCreate:</p>\n\n<pre><code>val offerCreate = OfferCreate()\nofferCreate.account(AccountID.fromString(\"r3jpWpUysF4SAkUNbG4WhDZ5mAJ7rGUDx6\"))\nofferCreate.expiration(UInt32(get2MinExpiration()))\nofferCreate.fee(Amount(BigDecimal(\"0.00001\")))\nofferCreate.flags(UInt32(0))\nofferCreate.sequence(UInt32(1))\nval amountXRP = BigDecimal(200)\nval amountBTC = convert(amountXRP, RIPPLE_XRP, BITCOIN)\nofferCreate.takerGets(Amount(amountXRP))\nofferCreate.takerPays(Amount(amountBTC, Currency.fromString(BITCOIN), AccountID.fromString(BITCOIN_TRUSTED_ISSUER)))\nval signedTransaction = offerCreate.sign(\"[***Secret***]\")\nprintln(offerCreate.toJSON())\nprintln(signedTransaction.tx_blob)\n</code></pre>\n\n<p>A bit annoying that you can't do a <code>toJSON()</code> on a <code>SignedTransaction</code>. It can\nt be a security thing, since <code>sign()</code> only adds public key fields: <a href=\"https://xrpl.org/transaction-common-fields.html#signers-field\" rel=\"nofollow noreferrer\">https://xrpl.org/transaction-common-fields.html#signers-field</a></p>\n"}], "owner": {"reputation": 456, "user_id": 509904, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5976440f92b4ffe1c30b71ac1cef566b?s=128&d=identicon&r=PG", "display_name": "Torben Vesterager", "link": "https://stackoverflow.com/users/509904/torben-vesterager"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 59460629, "answer_count": 1, "score": 1, "last_activity_date": 1577576863, "creation_date": 1577112880, "last_edit_date": 1577576863, "question_id": 59457289, "link": "https://stackoverflow.com/questions/59457289/since-ripple-lib-java-is-unmaintained-how-do-you-manually-sign-a-transaction", "title": "Since ripple-lib-java is unmaintained, how do you manually sign a transaction?", "body": "<p>Looking for a lightweight way to manually sign an <code>OfferCreate</code> ... it would be clumsy to start some JavaScript engine in order to get it done.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "auto-update"], "comments": [{"owner": {"reputation": 4431, "user_id": 2095855, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QgLOD.jpg?s=128&g=1", "display_name": "Edward van Raak", "link": "https://stackoverflow.com/users/2095855/edward-van-raak"}, "edited": false, "score": 0, "creation_date": 1577112767, "post_id": 59457142, "comment_id": 105095684, "body": "There are many guides and questions about installing APK&#39;s programmatically already. And you can never do this without explicit user consent."}, {"owner": {"reputation": 23, "user_id": 9794359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e9NNf.jpg?s=128&g=1", "display_name": "kamil123", "link": "https://stackoverflow.com/users/9794359/kamil123"}, "reply_to_user": {"reputation": 4431, "user_id": 2095855, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QgLOD.jpg?s=128&g=1", "display_name": "Edward van Raak", "link": "https://stackoverflow.com/users/2095855/edward-van-raak"}, "edited": false, "score": 0, "creation_date": 1577113025, "post_id": 59457142, "comment_id": 105095810, "body": "I know. I just mean that after downloading, he opened the file and that the user clicks install. Can you write me a link to the best post? \ud83d\ude01"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9794359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e9NNf.jpg?s=128&g=1", "display_name": "kamil123", "link": "https://stackoverflow.com/users/9794359/kamil123"}, "edited": false, "score": 0, "creation_date": 1577130077, "post_id": 59459660, "comment_id": 105102231, "body": "I already have it. I mean a specific code that will be used to download and install updates."}], "tags": [], "owner": {"reputation": 43, "user_id": 7426873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e7dccd328a87ab5ac660af8b950a085?s=128&d=identicon&r=PG&f=1", "display_name": "newInteger", "link": "https://stackoverflow.com/users/7426873/newinteger"}, "is_accepted": false, "score": 0, "last_activity_date": 1577124994, "creation_date": 1577124994, "answer_id": 59459660, "question_id": 59457142, "link": "https://stackoverflow.com/questions/59457142/installing-apk-in-the-middle-of-the-app-android-studio/59459660#59459660", "title": "Installing apk in the middle of the app - Android Studio", "body": "<p>(I can't comment so..)\nGenerality you will need a Dialog to show up to the user if his app version is old.\nSo when your app is start running check app version -> \nIf (current_app_version == installed_app_version) -> Do nothing...\nElse show a popup/dialog where you can create a download link to your app new version</p>\n"}], "owner": {"reputation": 23, "user_id": 9794359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e9NNf.jpg?s=128&g=1", "display_name": "kamil123", "link": "https://stackoverflow.com/users/9794359/kamil123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577124994, "creation_date": 1577112204, "question_id": 59457142, "link": "https://stackoverflow.com/questions/59457142/installing-apk-in-the-middle-of-the-app-android-studio", "title": "Installing apk in the middle of the app - Android Studio", "body": "<p>In my project in Andoird studio I would like to do an automatic application update. It won't be in the play store, so the In-app update drops out. I did everything until the notification application appears by the application with a notification of the new update. How can I do to download the APK file from my server and install? How do I do this? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5169, "user_id": 3494639, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ecb9eb312b5a2fad53dacf42b14988df?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelStoddart", "link": "https://stackoverflow.com/users/3494639/michaelstoddart"}, "edited": false, "score": 1, "creation_date": 1577111536, "post_id": 59457000, "comment_id": 105095150, "body": "post the full class"}, {"owner": {"reputation": 2334, "user_id": 3729490, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4i1yH.png?s=128&g=1", "display_name": "rafaelasguerra", "link": "https://stackoverflow.com/users/3729490/rafaelasguerra"}, "edited": false, "score": 0, "creation_date": 1577112164, "post_id": 59457000, "comment_id": 105095424, "body": "why should you send the interface to the fragment? If you wanna send data from activity to fragment, you should use a bundle. If you wanna notify activity from fragment, you should use an interface."}, {"owner": {"reputation": 254, "user_id": 7057215, "user_type": "registered", "profile_image": "https://graph.facebook.com/998460390264606/picture?type=large", "display_name": "Prateek Kumar", "link": "https://stackoverflow.com/users/7057215/prateek-kumar"}, "edited": false, "score": 0, "creation_date": 1577112420, "post_id": 59457000, "comment_id": 105095548, "body": "Just implement suppose interface A in your activity and in ur fragment&#39;s onAttach method typecast context to  interface A."}, {"owner": {"reputation": 51, "user_id": 10332292, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BAE76jJI3mM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOuKAyW-AMA_HIpOailLQaBcMBkJQ/mo/photo.jpg?sz=128", "display_name": "zion.b.", "link": "https://stackoverflow.com/users/10332292/zion-b"}, "edited": false, "score": 0, "creation_date": 1577113037, "post_id": 59457000, "comment_id": 105095817, "body": "tried <code>class FeedFragment(menuInterface: MenuInterface)</code> but i cant use the <code>menuInterface</code> for some reason"}, {"owner": {"reputation": 51, "user_id": 10332292, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BAE76jJI3mM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOuKAyW-AMA_HIpOailLQaBcMBkJQ/mo/photo.jpg?sz=128", "display_name": "zion.b.", "link": "https://stackoverflow.com/users/10332292/zion-b"}, "reply_to_user": {"reputation": 2334, "user_id": 3729490, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4i1yH.png?s=128&g=1", "display_name": "rafaelasguerra", "link": "https://stackoverflow.com/users/3729490/rafaelasguerra"}, "edited": false, "score": 1, "creation_date": 1577113082, "post_id": 59457000, "comment_id": 105095842, "body": "@rguerra i am trying to send information from the fragment to the activity"}, {"owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 0, "creation_date": 1577113794, "post_id": 59457000, "comment_id": 105096151, "body": "Would that help: <a href=\"https://stackoverflow.com/questions/18579590/how-to-send-data-from-dialogfragment-to-a-fragment/18579638#18579638\" title=\"how to send data from dialogfragment to a fragment\">stackoverflow.com/questions/18579590/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2458, "user_id": 3027124, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/FAY1V.jpg?s=128&g=1", "display_name": "Mustansar Saeed", "link": "https://stackoverflow.com/users/3027124/mustansar-saeed"}, "is_accepted": false, "score": 0, "last_activity_date": 1577113523, "creation_date": 1577113523, "answer_id": 59457425, "question_id": 59457000, "link": "https://stackoverflow.com/questions/59457000/passing-interface-to-fragment-from-activity/59457425#59457425", "title": "Passing Interface To Fragment From Activity", "body": "<p>I have already provided solution for such question. <a href=\"https://stackoverflow.com/a/35038574/3027124\">https://stackoverflow.com/a/35038574/3027124</a></p>\n\n<p>The idea is communication between activity and fragment should be done through <code>interfaces</code> or you should implement <code>MVVM</code> architecture and use the same view model for both <code>fragment</code> and <code>activity</code>.</p>\n\n<p>Useful resources:</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/training/basics/fragments/communicating\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/fragments/communicating</a></li>\n<li>MVVM Overview <a href=\"https://developer.android.com/jetpack/docs/guide#overview\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/docs/guide#overview</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 2334, "user_id": 3729490, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4i1yH.png?s=128&g=1", "display_name": "rafaelasguerra", "link": "https://stackoverflow.com/users/3729490/rafaelasguerra"}, "edited": false, "score": 1, "creation_date": 1577180556, "post_id": 59457454, "comment_id": 105113171, "body": "do not forget to call on detach"}], "tags": [], "owner": {"reputation": 254, "user_id": 7057215, "user_type": "registered", "profile_image": "https://graph.facebook.com/998460390264606/picture?type=large", "display_name": "Prateek Kumar", "link": "https://stackoverflow.com/users/7057215/prateek-kumar"}, "is_accepted": true, "score": 2, "last_activity_date": 1591198540, "last_edit_date": 1591198540, "creation_date": 1577113666, "answer_id": 59457454, "question_id": 59457000, "link": "https://stackoverflow.com/questions/59457000/passing-interface-to-fragment-from-activity/59457454#59457454", "title": "Passing Interface To Fragment From Activity", "body": "<p>Implement MenuInterface in your activity,and remove this line from ur code.</p>\n\n<pre><code>feedFragment.menuInterface = this\n</code></pre>\n\n<p>In ur fragment:</p>\n\n<pre><code>private var menuInterface: MenuInterface? = null\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    menuInterface = context as MenuInterface\n}\n\noverride fun onDetach() {\n    menuInterface = null\n    super.onDetach()\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10332292, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BAE76jJI3mM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOuKAyW-AMA_HIpOailLQaBcMBkJQ/mo/photo.jpg?sz=128", "display_name": "zion.b.", "link": "https://stackoverflow.com/users/10332292/zion-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 1, "accepted_answer_id": 59457454, "answer_count": 2, "score": 0, "last_activity_date": 1591198540, "creation_date": 1577111462, "last_edit_date": 1577113123, "question_id": 59457000, "link": "https://stackoverflow.com/questions/59457000/passing-interface-to-fragment-from-activity", "title": "Passing Interface To Fragment From Activity", "body": "<p>I am trying to send information from fragment to the main activity.</p>\n\n<p>I am trying to set a <code>var interfaceName</code> in a fragment from the main activity.</p>\n\n<p>I created <code>var menuInterface: MenuInterface</code> and tried to set it in <code>onNavigationItemSelected</code> using\n<code>myFragment.menuInterface = this</code></p>\n\n<p>The <code>menuInterface</code> stays null for some reason... any idea why?</p>\n\n<p>the <code>onNavigationItemSelected</code><br></p>\n\n<pre><code>override fun onNavigationItemSelected(menuItem: MenuItem): Boolean {\n    when (menuItem.itemId) {\n        R.id.feedLayoutId -&gt; {\n            feedFragment = FeedFragment()\n            feedFragment.menuInterface = this\n            barTitle.text = \"myTitle\"\n            supportFragmentManager\n                .beginTransaction()\n                .replace(R.id.frame_layout, feedFragment)\n                .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\n                .commit()\n        }\n    }\n    drawerLayout.closeDrawer(GravityCompat.START)\n    return true\n}\n</code></pre>\n"}, {"tags": ["kotlin", "group-by"], "comments": [{"owner": {"reputation": 501, "user_id": 8772319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9a6851809bf9ef083b211d027c0327?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8772319/adam"}, "edited": false, "score": 0, "creation_date": 1577111197, "post_id": 59456812, "comment_id": 105094994, "body": "To clarify, what do the items in the second position of the output mean?"}, {"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "reply_to_user": {"reputation": 501, "user_id": 8772319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9a6851809bf9ef083b211d027c0327?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8772319/adam"}, "edited": false, "score": 0, "creation_date": 1577111323, "post_id": 59456812, "comment_id": 105095045, "body": "First position before the arrow is the lender, second position is the borrower. Number after the arrow is the amount lent."}, {"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "reply_to_user": {"reputation": 501, "user_id": 8772319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9a6851809bf9ef083b211d027c0327?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8772319/adam"}, "edited": false, "score": 0, "creation_date": 1577111762, "post_id": 59456812, "comment_id": 105095254, "body": "One idea that I just had is to always have T1, T2 in the output. If T1 is the net lender final amount will be positive, otherwise it will be negative."}, {"owner": {"reputation": 501, "user_id": 8772319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9a6851809bf9ef083b211d027c0327?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8772319/adam"}, "edited": false, "score": 0, "creation_date": 1577112684, "post_id": 59456812, "comment_id": 105095648, "body": "Right, but in your example final output T2 is missing, so is it a final collection of all the money a particular lender owes a particular borrower?"}, {"owner": {"reputation": 3759, "user_id": 5253239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e9xkj.jpg?s=128&g=1", "display_name": "kevin ternet", "link": "https://stackoverflow.com/users/5253239/kevin-ternet"}, "edited": false, "score": 0, "creation_date": 1577127235, "post_id": 59456812, "comment_id": 105101359, "body": "If you have already done something intermediate, it would be nice to post it"}], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5253239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e9xkj.jpg?s=128&g=1", "display_name": "kevin ternet", "link": "https://stackoverflow.com/users/5253239/kevin-ternet"}, "edited": false, "score": 0, "creation_date": 1577188142, "post_id": 59462306, "comment_id": 105115966, "body": "Yes your code works and it matches with the expected fonctionality. So what do you want more ?"}], "tags": [], "owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "is_accepted": false, "score": 0, "last_activity_date": 1577144951, "last_edit_date": 1577144951, "creation_date": 1577143915, "answer_id": 59462306, "question_id": 59456812, "link": "https://stackoverflow.com/questions/59456812/how-to-transform-a-collection-of-loans-into-a-collection-of-net-lenders-using-ko/59462306#59462306", "title": "How to transform a collection of loans into a collection of net lenders using Kotlin?", "body": "<p>I came up with this code which seems to implement it</p>\n\n<pre><code>fun main() {\n\n    val loans = listOf(\n        ((\"T1\" to \"T2\") to 100),\n        ((\"T1\" to \"T2\") to 30),\n        ((\"T2\" to \"T1\") to 50),\n        ((\"T3\" to \"T1\") to 400),\n        ((\"T1\" to \"T3\") to 400)\n    )\n\n    val result = loans\n        .groupBy { (pair, amount) -&gt;\n            linkedSetOf(pair.component1(), pair.component2())\n        }\n        .map { (k, v) -&gt;\n            k to v.map { (k2, v2) -&gt; if (k.elementAt(0) == k2.component1()) k2 to v2 else k2 to -v2 }\n        }\n        .map { (k, v) -&gt;\n            k to v.map { (_, amount)  -&gt; amount }.sum()\n        }.map { (k , v) -&gt;\n            if (v &gt;= 0) k.elementAt(0) to k.elementAt(1) to v\n            else k.elementAt(1) to k.elementAt(0) to -v\n        }\n\n    print(result)\n}\n</code></pre>\n"}], "owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577144951, "creation_date": 1577110538, "question_id": 59456812, "link": "https://stackoverflow.com/questions/59456812/how-to-transform-a-collection-of-loans-into-a-collection-of-net-lenders-using-ko", "title": "How to transform a collection of loans into a collection of net lenders using Kotlin?", "body": "<p>Imagine the following pairs:</p>\n\n<pre><code>T1, T2 -&gt; 100\nT1, T2 -&gt; 30\nT2, T1 -&gt; 50\nT3, T1 -&gt; 400\n</code></pre>\n\n<p>First position means lender and second position means borrower, number after arrow is the amount. </p>\n\n<p>The final output that I need is something like that:</p>\n\n<pre><code>T1, T2 -&gt; 80\nT3, T1 -&gt; 400\n</code></pre>\n\n<p>which tells me what are the net lenders (first position). How can I achieve it in Kotlin?</p>\n\n<p>I know how to get something intermediate:</p>\n\n<pre><code>T1, T2 -&gt; 130\nT2, T1 -&gt; 50\nT3, T1 -&gt; 400\n</code></pre>\n\n<p>Which is fairly easy using groupBy, but I don't know how to transform it into the output that I need in an elegant way.</p>\n"}, {"tags": ["kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 1711, "user_id": 1235910, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6dd08948a75aafc68b88acfd793fd41f?s=128&d=identicon&r=PG&f=1", "display_name": "Palejandro", "link": "https://stackoverflow.com/users/1235910/palejandro"}, "edited": false, "score": 1, "creation_date": 1577108877, "post_id": 59456283, "comment_id": 105093921, "body": "<a href=\"https://stackoverflow.com/questions/9598707/gson-throwing-expected-begin-object-but-was-begin-array\" title=\"gson throwing expected begin object but was begin array\">stackoverflow.com/questions/9598707/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "reply_to_user": {"reputation": 1711, "user_id": 1235910, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6dd08948a75aafc68b88acfd793fd41f?s=128&d=identicon&r=PG&f=1", "display_name": "Palejandro", "link": "https://stackoverflow.com/users/1235910/palejandro"}, "edited": false, "score": 0, "creation_date": 1577110971, "post_id": 59456283, "comment_id": 105094899, "body": "What should i do with that?"}, {"owner": {"reputation": 2851, "user_id": 6770343, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-TFiqws1rx7s/AAAAAAAAAAI/AAAAAAAAASk/JpWqyPKdWLI/photo.jpg?sz=128", "display_name": "Suraj Bahadur", "link": "https://stackoverflow.com/users/6770343/suraj-bahadur"}, "edited": false, "score": 0, "creation_date": 1577111253, "post_id": 59456283, "comment_id": 105095018, "body": "Can you add response as well that you will get from that API."}, {"owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577111599, "post_id": 59456283, "comment_id": 105095181, "body": "I added the response edited"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1577115395, "post_id": 59456283, "comment_id": 105096814, "body": "What does the JSON look like?"}, {"owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577118865, "post_id": 59456283, "comment_id": 105098306, "body": "{     &quot;items&quot;: [         {             &quot;title&quot;: &quot;&quot;,             &quot;pubDate&quot;: &quot;&quot;,             &quot;link&quot;: &quot;&quot;,             &quot;guid&quot;: &quot;&quot;,             &quot;author&quot;: &quot;&quot;,             &quot;description&quot;: &quot;&quot;,             &quot;content&quot;: &quot;&quot;,             &quot;enclosure&quot;: {                 &quot;link&quot;: &quot;&quot;,                 &quot;type&quot;: &quot;&quot;             },             &quot;categories&quot;: [                 &quot;&quot;             ]         } }"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1577119867, "post_id": 59456283, "comment_id": 105098741, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/9598707/gson-throwing-expected-begin-object-but-was-begin-array\">GSON throwing &quot;Expected BEGIN_OBJECT but was BEGIN_ARRAY&quot;?</a>"}, {"owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577121691, "post_id": 59456283, "comment_id": 105099420, "body": "It&#39;s very confused, I can&#39;t understand I&#39;m a beginner can you help me?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577125682, "post_id": 59459517, "comment_id": 105100850, "body": "I get this using the convert json2kotlin but what i should do with this?  val json = getJson() // your json value here val topic = Gson().fromJson(json, Json4Kotlin_Base::class.java)"}, {"owner": {"reputation": 146, "user_id": 12569186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ncjxk.jpg?s=128&g=1", "display_name": "adi purnama", "link": "https://stackoverflow.com/users/12569186/adi-purnama"}, "reply_to_user": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577126497, "post_id": 59459517, "comment_id": 105101117, "body": "You can get json to pojo from this link <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a>  then  Converted Kotlin Class to java using Code -&gt; Convert Java File to Kotlin File or CTRL + ALT + SHIFT + K"}, {"owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577366023, "post_id": 59459517, "comment_id": 105152317, "body": "i use that but still gives me the same error begin object but was begin array"}, {"owner": {"reputation": 146, "user_id": 12569186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ncjxk.jpg?s=128&g=1", "display_name": "adi purnama", "link": "https://stackoverflow.com/users/12569186/adi-purnama"}, "reply_to_user": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577377871, "post_id": 59459517, "comment_id": 105156244, "body": "Can u show me the return from server?for I&#39;m try check the result for valid json format"}, {"owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577398744, "post_id": 59459517, "comment_id": 105161969, "body": "{ &quot;items&quot;: [ { &quot;title&quot;: &quot;&quot;, &quot;pubDate&quot;: &quot;&quot;, &quot;link&quot;: &quot;&quot;, &quot;guid&quot;: &quot;&quot;, &quot;author&quot;: &quot;&quot;, &quot;description&quot;: &quot;&quot;, &quot;content&quot;: &quot;&quot;, &quot;enclosure&quot;: { &quot;link&quot;: &quot;&quot;, &quot;type&quot;: &quot;&quot; }, &quot;categories&quot;: [ &quot;&quot; ] } }"}, {"owner": {"reputation": 146, "user_id": 12569186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ncjxk.jpg?s=128&g=1", "display_name": "adi purnama", "link": "https://stackoverflow.com/users/12569186/adi-purnama"}, "reply_to_user": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577415559, "post_id": 59459517, "comment_id": 105164786, "body": "after i&#39;m check your json response not have close tag &quot;]&quot; for key items,please check at end of server response there should be a closing tag like <code>&quot;categories&quot;: [ &quot;&quot; ] } ]  }</code>"}, {"owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "edited": false, "score": 0, "creation_date": 1577546669, "post_id": 59459517, "comment_id": 105196124, "body": "Problem was resolved. The problem was that i was sending the item object and i just removed it from the endpoint and it was okay"}], "tags": [], "owner": {"reputation": 146, "user_id": 12569186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ncjxk.jpg?s=128&g=1", "display_name": "adi purnama", "link": "https://stackoverflow.com/users/12569186/adi-purnama"}, "is_accepted": true, "score": 0, "last_activity_date": 1577156407, "last_edit_date": 1577156407, "creation_date": 1577124190, "answer_id": 59459517, "question_id": 59456283, "link": "https://stackoverflow.com/questions/59456283/retrofit-kotlin-expected-begin-object-but-was-begin-array/59459517#59459517", "title": "Retrofit kotlin expected begin_object but was begin_array", "body": "<p>change your data class News to related response from server,to convert json to pojo kotlin check this <a href=\"https://stackoverflow.com/questions/44180346/create-pojo-class-for-kotlin\">Create POJO Class for Kotlin</a></p>\n\n<p>Edit:</p>\n\n<p>because return json from server is <code>{ \"items\": [ { \"title\": \"\", \"pubDate\": \"\", \"link\": \"\", \"guid\": \"\", \"author\": \"\", \"description\": \"\", \"content\": \"\", \"enclosure\": { \"link\": \"\", \"type\": \"\" }, \"categories\": [ \"\" ] } ]}\n</code> \nyou can change you data class to </p>\n\n<pre><code>data class News {\n\n    @SerializedName(\"items\") //this json key\n    @Expose\n    val items: List&lt;Item&gt;?= null; /*items is list array because response [] tag*/\n\n}\n/* class for List Item */\ndata class Item {\n\n    @SerializedName(\"title\") //this key value from json\n    @Expose\n    val title:String; //this key value to variable string in kotlin the type is String\n\n    @SerializedName(\"pubDate\")\n    @Expose\n    val pubDate:String;\n\n    @SerializedName(\"link\")\n    @Expose\n    val link:String;\n    /* you can add other data*/\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12513125, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZeAQxPz0f-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfITvlQCFI88FKvhmuwgNn86CppVg/photo.jpg?sz=128", "display_name": "Francisco Marques", "link": "https://stackoverflow.com/users/12513125/francisco-marques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 59459517, "answer_count": 1, "score": 0, "last_activity_date": 1577156407, "creation_date": 1577108143, "last_edit_date": 1577111539, "question_id": 59456283, "link": "https://stackoverflow.com/questions/59456283/retrofit-kotlin-expected-begin-object-but-was-begin-array", "title": "Retrofit kotlin expected begin_object but was begin_array", "body": "<p><strong>Main Activity</strong></p>\n\n<pre><code>   val retrofit = Retrofit.Builder()\n        .baseUrl(\"http://192.168.1.78:3000\")\n        .addConverterFactory(GsonConverterFactory.create())\n        .build()\n\n    val api = retrofit.create(ApiService::class.java)\n\n    api.fetchLastNews().enqueue(object : Callback&lt;List&lt;News&gt;&gt;{\n        override fun onResponse(call: Call&lt;List&lt;News&gt;&gt;, response: Response&lt;List&lt;News&gt;&gt;) {\n            d(\"exemplo\",\"onResponse\")\n        }\n\n        override fun onFailure(call: Call&lt;List&lt;News&gt;&gt;, t: Throwable) {\n        d(\"exemplo\",\"onFailure\")\n        }\n    })\n}\n</code></pre>\n\n<p><strong>Interface</strong></p>\n\n<pre><code> interface ApiService {\n@GET(\"/getultimas\")\nfun fetchLastNews(): Call&lt;List&lt;News&gt;&gt;\n   }\n</code></pre>\n\n<p><strong>Data class</strong></p>\n\n<pre><code> package com.example.navigationdrawer\n\ndata class News (\nval titulo: String\n   )\n</code></pre>\n\n<p><strong>Response from node api</strong></p>\n\n<pre><code>app.get('/getultimas', function (req, res) {\nconsole.log(\"ultimas noticias\");\nresults = transform(jsonLastNews);\nres.json(results);\n });\n</code></pre>\n\n<p>Its giving error retrofit kotlin expected begin_object but was begin_array</p>\n"}, {"tags": ["kotlin", "nullpointerexception", "nullable"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1577106810, "post_id": 59454896, "comment_id": 105093034, "body": "Where is your <code>getSelected()</code> call placed? Is it in <code>onCreate</code> too?"}, {"owner": {"reputation": 13, "user_id": 12582379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5e4cb0464bf946749efc86a1dba3a?s=128&d=identicon&r=PG&f=1", "display_name": "N Simons", "link": "https://stackoverflow.com/users/12582379/n-simons"}, "reply_to_user": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1577110502, "post_id": 59454896, "comment_id": 105094687, "body": "Only see your comment now, it is used outside <code>onCreate</code> in another function"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12582379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5e4cb0464bf946749efc86a1dba3a?s=128&d=identicon&r=PG&f=1", "display_name": "N Simons", "link": "https://stackoverflow.com/users/12582379/n-simons"}, "edited": false, "score": 0, "creation_date": 1577105406, "post_id": 59455353, "comment_id": 105092443, "body": "The problem is not whether it can contain <code>null</code>, but rather why I am getting <code>null</code>"}, {"owner": {"reputation": 96, "user_id": 10894219, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZVzzD9Bcx0/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ2W6UVf-6I_E1s3nPUXfOqyDb2Bg/mo/photo.jpg?sz=128", "display_name": "Nizan Ifrach", "link": "https://stackoverflow.com/users/10894219/nizan-ifrach"}, "reply_to_user": {"reputation": 13, "user_id": 12582379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5e4cb0464bf946749efc86a1dba3a?s=128&d=identicon&r=PG&f=1", "display_name": "N Simons", "link": "https://stackoverflow.com/users/12582379/n-simons"}, "edited": false, "score": 0, "creation_date": 1577109113, "post_id": 59455353, "comment_id": 105094051, "body": "In that case, you need to access <code>spinnerCategory</code> because the object is created inside the <code>onCreate</code> method. If you want to access it from outside of the method you should do: <code>var spinnerCategory: MultiSpinner     override fun onCreate(savedInstanceState: Bundle?) {         ...         spinnerCategory: = findViewById(R.id.category_spinner)         val categoryList: List&lt;String&gt; = resources.getStringArray(R.array.category).toList()          spinnerCategory.setItems(categoryList, getString(R.string.default_category), this)         ...     }</code>"}, {"owner": {"reputation": 13, "user_id": 12582379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5e4cb0464bf946749efc86a1dba3a?s=128&d=identicon&r=PG&f=1", "display_name": "N Simons", "link": "https://stackoverflow.com/users/12582379/n-simons"}, "edited": false, "score": 0, "creation_date": 1577110202, "post_id": 59455353, "comment_id": 105094572, "body": "thanks, this worked (with some additions). using <code>private lateinit var spinnerCategory: MultiSpinner</code> did the trick."}], "tags": [], "owner": {"reputation": 96, "user_id": 10894219, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZVzzD9Bcx0/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ2W6UVf-6I_E1s3nPUXfOqyDb2Bg/mo/photo.jpg?sz=128", "display_name": "Nizan Ifrach", "link": "https://stackoverflow.com/users/10894219/nizan-ifrach"}, "is_accepted": false, "score": 0, "last_activity_date": 1577103942, "creation_date": 1577103942, "answer_id": 59455353, "question_id": 59454896, "link": "https://stackoverflow.com/questions/59454896/get-a-nullable-var-from-a-class/59455353#59455353", "title": "Get a nullable var from a class", "body": "<p>You initialized <code>selected</code> with <code>null</code> meaning it can be nullable, so the compiler think it might possible that you will get null in this parameter.\nIf you don't want it to be null you can define the variable like so:</p>\n\n<pre><code>private var selected: BooleanArray = false\n</code></pre>\n\n<p>Now <code>selected</code> parameter won't be nullable at any time.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 12582379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5e4cb0464bf946749efc86a1dba3a?s=128&d=identicon&r=PG&f=1", "display_name": "N Simons", "link": "https://stackoverflow.com/users/12582379/n-simons"}, "edited": false, "score": 0, "creation_date": 1577107855, "post_id": 59455999, "comment_id": 105093495, "body": "How would I access <code>spinnerCategory</code> when it gets destroyed at the end of the scope in <code>onCreate()</code>?"}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 13, "user_id": 12582379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5e4cb0464bf946749efc86a1dba3a?s=128&d=identicon&r=PG&f=1", "display_name": "N Simons", "link": "https://stackoverflow.com/users/12582379/n-simons"}, "edited": false, "score": 0, "creation_date": 1577109312, "post_id": 59455999, "comment_id": 105094172, "body": "@NSimons I&#39;ve added some additional information to my answer."}, {"owner": {"reputation": 13, "user_id": 12582379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5e4cb0464bf946749efc86a1dba3a?s=128&d=identicon&r=PG&f=1", "display_name": "N Simons", "link": "https://stackoverflow.com/users/12582379/n-simons"}, "edited": false, "score": 0, "creation_date": 1577110442, "post_id": 59455999, "comment_id": 105094662, "body": "thanks, I used your first suggestion for now, will look into view binding when I have some more time"}], "tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": true, "score": 1, "last_activity_date": 1577109271, "last_edit_date": 1577109271, "creation_date": 1577106856, "answer_id": 59455999, "question_id": 59454896, "link": "https://stackoverflow.com/questions/59454896/get-a-nullable-var-from-a-class/59455999#59455999", "title": "Get a nullable var from a class", "body": "<p>You have to access <code>selected</code> using the instance obtained from <code>findViewById</code> (the one already existing in your view hierarchy) instead of creating a completely new object by yourself:</p>\n\n<pre><code>val selected: BooleanArray? = spinnerCategory.getSelected()\n</code></pre>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>If you need to access <code>selected</code> outside the <code>onCreate</code> method simply store <code>spinnerCategory</code> as a property instead of a local variable:</p>\n\n<pre><code>private lateinit var spinnerCategory: MultiSpinner\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    spinnerCategory = findViewById(R.id.category_spinner)\n    ...\n}\n</code></pre>\n\n<p>Also Kotlin has a nice feature for Android called <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#view-binding\" rel=\"nofollow noreferrer\">View Binding</a> which allows you to omit calling <code>findViewById</code> and reference your views using their ids directly:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    ...\n    category_spinner.setItems(categoryList, getString(R.string.default_category), this)\n    ...\n}\n\nprivate fun doSomethingWithSelected() {\n    val selected: BooleanArray? = category_spinner.getSelected()\n}\n</code></pre>\n\n<p>However in that case <strong>I'd recommend changing the view's id so it agrees with the Kotlin variable naming guidelines</strong>, e.g. to <code>spinnerCategory</code> as it's already being used.</p>\n"}], "owner": {"reputation": 13, "user_id": 12582379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5e4cb0464bf946749efc86a1dba3a?s=128&d=identicon&r=PG&f=1", "display_name": "N Simons", "link": "https://stackoverflow.com/users/12582379/n-simons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59455999, "answer_count": 2, "score": 1, "last_activity_date": 1577109271, "creation_date": 1577101954, "question_id": 59454896, "link": "https://stackoverflow.com/questions/59454896/get-a-nullable-var-from-a-class", "title": "Get a nullable var from a class", "body": "<p>Let me start off by saying my Kotlin experience is limited. I am trying to get a nullable <code>var</code> from a class, but get a null pointer whenever I execute it. </p>\n\n<p>Class code:</p>\n\n<pre><code>class MultiSpinner : Spinner, OnMultiChoiceClickListener, OnCancelListener {\n\n    private var items: List&lt;String&gt;? = null\n    private var selected: BooleanArray? = null\n    private var selectedNew: BooleanArray? = null\n    private var defaultText: String? = null\n    private var listener: MultiSpinnerListener? = null\n    var category: String = \"010\"\n\n    constructor(context: Context) : super(context) {}\n\n    constructor(arg0: Context, arg1: AttributeSet) : super(arg0, arg1) {}\n\n    constructor(arg0: Context, arg1: AttributeSet, arg2: Int) : super(arg0, arg1, arg2) {}\n\n    override fun onClick(dialog: DialogInterface, which: Int, isChecked: Boolean) {\n        selectedNew!![which] = isChecked\n    }\n\n    override fun onCancel(dialog: DialogInterface) {\n        // refresh text on spinner\n        val spinnerBuffer = StringBuffer()\n        var allUnselected = true\n        for (i in items!!.indices) {\n            if (selected!![i]) {\n                spinnerBuffer.append(items!![i])\n                spinnerBuffer.append(\", \")\n                allUnselected = false\n            }\n            selectedNew!![i] = selected!![i]\n        }\n\n        var spinnerText: String?\n        if (allUnselected) {\n            spinnerText = defaultText\n        } else {\n            spinnerText = spinnerBuffer.toString()\n\n            /** Remove trailing comma*/\n            spinnerText = spinnerText.substring(0, spinnerText.length - 2)\n        }\n        val adapter = ArrayAdapter(\n            context,\n            R.layout.simple_spinner_item,\n            arrayOf(spinnerText)\n        )\n        setAdapter(adapter)\n\n        category = selected!!.joinToString(limit = selected!!.size, separator = \"\") {it.toInt().toString()}\n        listener!!.onItemsSelected(selected)\n    }\n\n    override fun performClick(): Boolean {\n        val builder = AlertDialog.Builder(context)\n        builder.setMultiChoiceItems(\n            items!!.toTypedArray(), selectedNew, this\n        )\n        builder.setPositiveButton(R.string.ok\n        ) { dialog, _ -&gt; selected = selectedNew!!.copyOf(); dialog.cancel() }\n        builder.setNegativeButton(R.string.cancel\n        ) { dialog, _ -&gt; dialog.cancel() }\n        builder.setOnCancelListener(this)\n        builder.show()\n        return true\n    }\n\n    fun setItems(\n        items: List&lt;String&gt;, allText: String,\n        listener: MultiSpinnerListener\n    ) {\n        this.items = items\n        this.defaultText = allText\n        this.listener = listener\n\n        // one selected by default\n        selected = BooleanArray(items.size) {false}\n        selectedNew = BooleanArray(items.size) {false}\n        for (i in selected!!.indices) {\n            selected!![i] = false\n            selectedNew!![i] = false\n        }\n\n        selected!![0] = true\n        selectedNew!![0] = true\n        category = selected!!.joinToString(limit = selected!!.size, separator = \"\") {it.toInt().toString()}\n\n        // all text on the spinner\n        val adapter = ArrayAdapter(\n            context,\n            R.layout.simple_spinner_item, arrayOf(allText)\n        )\n        setAdapter(adapter)\n    }\n\n    fun getSelected(): BooleanArray? {\n        return selected\n    }\n\n    interface MultiSpinnerListener {\n        fun onItemsSelected(selected: BooleanArray?)\n    }\n\n    private fun Boolean.toInt() = if (this) 1 else 0\n}\n</code></pre>\n\n<p>Initializing</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    ...\n    val spinnerCategory: MultiSpinner = findViewById(R.id.category_spinner)\n    val categoryList: List&lt;String&gt; = resources.getStringArray(R.array.category).toList()\n\n    spinnerCategory.setItems(categoryList, getString(R.string.default_category), this)\n    ...\n}\n\n</code></pre>\n\n<p>Accessing <code>selected</code> from <code>MultiSpinner</code></p>\n\n<pre><code>val selected: BooleanArray? = MultiSpinner(this).getSelected()\nprintln(selected)\n\n</code></pre>\n\n<p>The println reads <code>null</code>.</p>\n\n<p>I have tried returning <code>BooleanArray</code> in stead of <code>BooleanArray?</code> for <code>getSelected</code>, but that just gave me a null pointer exception (as expected from the println reading). </p>\n\n<p>I circumvented the problem for now by using <code>category</code> in the class and performing the manipulation inside the class. However, I would like to get the <code>selected</code> array in my main activity, and use its data to create my desired String outside of the class. </p>\n\n<p>Why do I not get my <code>selected</code> data but instead a null pointer?</p>\n"}, {"tags": ["java", "android", "kotlin", "stack-overflow", "kapt"], "comments": [{"owner": {"reputation": 4431, "user_id": 2095855, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QgLOD.jpg?s=128&g=1", "display_name": "Edward van Raak", "link": "https://stackoverflow.com/users/2095855/edward-van-raak"}, "edited": false, "score": 0, "creation_date": 1577101532, "post_id": 59454443, "comment_id": 105090832, "body": "Sometimes these weird errors are related to running out of memory or it could be some weird caching issue. Maybe also try to update all related build tools?"}, {"owner": {"reputation": 591, "user_id": 4432872, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh6.googleusercontent.com/-fp8yaDt1VjU/AAAAAAAAAAI/AAAAAAAAAFI/gP1wzB6SnaQ/photo.jpg?sz=128", "display_name": "Canberk Ozcelik", "link": "https://stackoverflow.com/users/4432872/canberk-ozcelik"}, "reply_to_user": {"reputation": 4431, "user_id": 2095855, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QgLOD.jpg?s=128&g=1", "display_name": "Edward van Raak", "link": "https://stackoverflow.com/users/2095855/edward-van-raak"}, "edited": false, "score": 0, "creation_date": 1577174399, "post_id": 59454443, "comment_id": 105111110, "body": "I will update all of them, and try not to face this error again"}], "owner": {"reputation": 591, "user_id": 4432872, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh6.googleusercontent.com/-fp8yaDt1VjU/AAAAAAAAAAI/AAAAAAAAAFI/gP1wzB6SnaQ/photo.jpg?sz=128", "display_name": "Canberk Ozcelik", "link": "https://stackoverflow.com/users/4432872/canberk-ozcelik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1580369129, "creation_date": 1577100031, "question_id": 59454443, "link": "https://stackoverflow.com/questions/59454443/kaptgeneratestubs-task-throws-java-lang-stackoverflowerror", "title": "kaptGenerateStubs task throws java.lang.StackOverflowError", "body": "<p>We have a Java / Kotlin project that builds on Jenkins job, sometimes, it just throws <code>java.lang.StackOverflowError</code> and after restarting job it disappears.<br>\nDo any of you encounter this before?  </p>\n\n<pre><code>14:00:01 &gt; Task :app:mergeClientFlavorDebugAssets\n14:00:01 &gt; Task :app:processClientFlavorDebugJavaRes NO-SOURCE\n14:00:01 &gt; Task :app:dataBindingMergeGenClassesClientFlavorDebug\n14:00:02 &gt; Task :app:mergeClientFlavorDebugResources\n14:00:03 &gt; Task :app:dataBindingGenBaseClassesClientFlavorDebug\n14:00:09 &gt; Task :app:processClientFlavorDebugResources\n14:00:26\n14:00:26 &gt; Task :app:kaptGenerateStubsClientFlavorDebugKotlin\n14:00:26 e: java.lang.StackOverflowError\n14:00:27    at org.jetbrains.kotlin.parsing.KotlinExpressionParsing.parsePrefixExpression(KotlinExpressionParsing.java:343)\n14:00:27    at org.jetbrains.kotlin.parsing.KotlinExpressionParsing.access$200(KotlinExpressionParsing.java:43)\n14:00:27    at org.jetbrains.kotlin.parsing.KotlinExpressionParsing$Precedence$2.parseHigherPrecedence(KotlinExpressionParsing.java:167)\n...\n</code></pre>\n"}, {"tags": ["java", "recursion", "kotlin"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1577103730, "post_id": 59454209, "comment_id": 105091731, "body": "When I tested these, I found that the Java version would work for array sizes up to around 29500, but the Kotlin version would stop around 18500.  That&#39;s a significant difference, but not a very big one.  If you need this to work for big arrays, the only good solution is to use <code>tailrec</code>, or avoid recursion; the stack size available varies between runs, between JVMs and set-ups, and depending on the method and its params.  But if you&#39;re asking out of pure curiosity (a perfectly good reason!), then I&#39;m not sure.  You&#39;d probably need to look at the bytecode."}], "answers": [{"comments": [{"owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1578004160, "post_id": 59555625, "comment_id": 105309341, "body": "@user207421 every method invocation has its own stack frame including <code>Intrinsics.checkParameterIsNotNull(...)</code>. Obviously, each such stack frame requires a certain amount of memory (for the <code>LocalVariableTable</code> and operand stack and so on).."}], "tags": [], "owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "is_accepted": true, "score": 7, "last_activity_date": 1577969663, "last_edit_date": 1577969663, "creation_date": 1577908272, "answer_id": 59555625, "question_id": 59454209, "link": "https://stackoverflow.com/questions/59454209/recursive-method-call-cause-stackoverflowerror-in-kotlin-but-not-in-java/59555625#59555625", "title": "Recursive method call cause StackOverFlowError in kotlin but not in java", "body": "<blockquote>\n  <p>I want to know why this function works in <strong>java</strong> and also in <strong>kotlin</strong> with <code>tailrec</code> but not in <strong>kotlin</strong> without <code>tailrec</code>?</p>\n</blockquote>\n\n<p>The short answer is because your <strong>Kotlin</strong> method is \"heavier\" than the <strong>JAVA</strong> one. At every call it calls another method that \"provokes\" <code>StackOverflowError</code>. So, see a more detailed explanation below.</p>\n\n<p><strong>Java bytecode equivalents for <code>reverseString()</code></strong></p>\n\n<p>I checked the byte code for your methods in <strong>Kotlin</strong> and <strong>JAVA</strong> correspondingly:</p>\n\n<p><em>Kotlin method bytecode in JAVA</em> </p>\n\n<pre><code>...\npublic final void reverseString(@NotNull char[] s) {\n    Intrinsics.checkParameterIsNotNull(s, \"s\");\n    this.helper(0, ArraysKt.getLastIndex(s), s);\n}\n\npublic final void helper(int i, int j, @NotNull char[] s) {\n    Intrinsics.checkParameterIsNotNull(s, \"s\");\n    if (i &lt; j) {\n        char t = s[j];\n        s[j] = s[i];\n        s[i] = t;\n        this.helper(i + 1, j - 1, s);\n    }\n}\n...\n</code></pre>\n\n<p><em>JAVA method bytecode in JAVA</em> </p>\n\n<pre><code>...\npublic void reverseString(char[] s) {\n    this.helper(s, 0, s.length - 1);\n}\n\npublic void helper(char[] s, int left, int right) {\n    if (left &lt; right) {\n        char temp = s[left];\n        s[left++] = s[right];\n        s[right--] = temp;\n        this.helper(left, right, s);\n    }\n}\n...\n</code></pre>\n\n<p>So, there're 2 main differences:</p>\n\n<ol>\n<li><code>Intrinsics.checkParameterIsNotNull(s, \"s\")</code> is invoked for each <code>helper()</code> in the <strong>Kotlin</strong> version. </li>\n<li>Left and right indices in <strong>JAVA</strong> method get incremented, while in <strong>Kotlin</strong> new indices are created for each recursive call. </li>\n</ol>\n\n<p>So, let's test how <code>Intrinsics.checkParameterIsNotNull(s, \"s\")</code> alone affects the behavior.    </p>\n\n<p><strong>Test both implementations</strong></p>\n\n<p>I've created a simple test for both cases:</p>\n\n<pre><code>@Test\npublic void testJavaImplementation() {\n    char[] chars = new char[20000];\n    new Example().reverseString(chars);\n}\n</code></pre>\n\n<p>And </p>\n\n<pre><code>@Test\nfun testKotlinImplementation() {\n    val chars = CharArray(20000)\n    Example().reverseString(chars)\n}\n</code></pre>\n\n<p>For <strong>JAVA</strong> the test succeeded without problems while for <strong>Kotlin</strong> it failed miserably due to a <code>StackOverflowError</code>. However, after I added <code>Intrinsics.checkParameterIsNotNull(s, \"s\")</code> to the <strong>JAVA</strong> method it failed as well:</p>\n\n<pre><code>public void helper(char[] s, int left, int right) {\n    Intrinsics.checkParameterIsNotNull(s, \"s\"); // add the same call here\n\n    if (left &gt;= right) return;\n    char tmp = s[left];\n    s[left] = s[right];\n    s[right] = tmp;\n    helper(s, left + 1, right - 1);\n}\n</code></pre>\n\n<p><strong>Conclusion</strong>  </p>\n\n<p>Your <strong>Kotlin</strong> method has a smaller recursion depth as it invokes <code>Intrinsics.checkParameterIsNotNull(s, \"s\")</code> at every step and thus is heavier than its <strong>JAVA</strong> counterpart. If you don't want this auto-generated method then you can disable null checks during compilation as answered <a href=\"https://stackoverflow.com/questions/49360740/disable-not-null-checks-in-kotlin\">here</a></p>\n\n<p>However, since you understand what benefit <code>tailrec</code> brings (converts your recursive call into an iterative one) you should use that one. </p>\n"}, {"tags": [], "owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "is_accepted": false, "score": 0, "last_activity_date": 1577971617, "last_edit_date": 1577971617, "creation_date": 1577971231, "answer_id": 59564083, "question_id": 59454209, "link": "https://stackoverflow.com/questions/59454209/recursive-method-call-cause-stackoverflowerror-in-kotlin-but-not-in-java/59564083#59564083", "title": "Recursive method call cause StackOverFlowError in kotlin but not in java", "body": "<p>Kotlin is just a tiny bit more stack hungry (Int object params i.o. int params). Besides the tailrec solution which fits here, you can eliminate the local variable <code>temp</code> by xor-ing:</p>\n\n<pre><code>fun helper(i: Int, j: Int, s: CharArray) {\n    if (i &gt;= j) {\n        return\n    }               // i: a          j: b\n    s[j] ^= s[i]    //               j: a^b\n    s[i] ^= s[j]    // i: a^a^b == b\n    s[j] ^= s[i]    //               j: a^b^b == a\n    helper(i + 1, j - 1, s)\n}\n</code></pre>\n\n<p>Not entirely sure whether this works to remove a local variable.</p>\n\n<p>Also eliminating j might do:</p>\n\n<pre><code>fun reverseString(s: CharArray): Unit {\n    helper(0, s)\n}\n\nfun helper(i: Int, s: CharArray) {\n    if (i &gt;= s.lastIndex - i) {\n        return\n    }\n    val t = s[s.lastIndex - i]\n    s[s.lastIndex - i] = s[i]\n    s[i] = t\n    helper(i + 1, s)\n}\n</code></pre>\n"}], "owner": {"reputation": 788, "user_id": 4744188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/i7bTq.jpg?s=128&g=1", "display_name": "hamid_c", "link": "https://stackoverflow.com/users/4744188/hamid-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 4, "accepted_answer_id": 59555625, "answer_count": 2, "score": 13, "last_activity_date": 1577971617, "creation_date": 1577098963, "last_edit_date": 1577105695, "question_id": 59454209, "link": "https://stackoverflow.com/questions/59454209/recursive-method-call-cause-stackoverflowerror-in-kotlin-but-not-in-java", "title": "Recursive method call cause StackOverFlowError in kotlin but not in java", "body": "<p>I have two almost identical code in java and kotlin</p>\n\n<p><strong><em>Java:</em></strong></p>\n\n<pre><code>public void reverseString(char[] s) {\n    helper(s, 0, s.length - 1);\n}\n\npublic void helper(char[] s, int left, int right) {\n    if (left &gt;= right) return;\n    char tmp = s[left];\n    s[left++] = s[right];\n    s[right--] = tmp;\n    helper(s, left, right);\n}\n</code></pre>\n\n<p><strong><em>Kotlin:</em></strong></p>\n\n<pre><code>fun reverseString(s: CharArray): Unit {\n    helper(0, s.lastIndex, s)\n}\n\nfun helper(i: Int, j: Int, s: CharArray) {\n    if (i &gt;= j) {\n        return\n    }\n    val t = s[j]\n    s[j] = s[i]\n    s[i] = t\n    helper(i + 1, j - 1, s)\n}\n</code></pre>\n\n<p>The java code pass the test with a huge input but the kotlin code cause a <code>StackOverFlowError</code> unless i added <code>tailrec</code> keyword before the <code>helper</code> function in kotlin.</p>\n\n<p>I want to know why this function works in java and also in kolin with <code>tailrec</code> but not in kotlin without <code>tailrec</code>?</p>\n\n<p><strong>P.S:</strong> \ni know what <code>tailrec</code> do</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "error-handling"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1577098816, "post_id": 59454054, "comment_id": 105089817, "body": "Clearly mentioned the reason on the stack trace: <b>Could not find method goClicked(View) in a parent or ancestor Context for android:onClick attribute</b>. Check your <code>Activity&#47;Fragment</code> code where you use the layout."}, {"owner": {"reputation": 319, "user_id": 8329891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MYSV.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/8329891/abhishek"}, "edited": false, "score": 0, "creation_date": 1577098906, "post_id": 59454054, "comment_id": 105089857, "body": "Your button method in your activity should be public. You might have made it private right now check."}, {"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 1, "creation_date": 1577110168, "post_id": 59454054, "comment_id": 105094550, "body": "Post the <code>Activity&#47;Fragment</code> declaration (the one with class...)?"}], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 6582127, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ijqtr.png?s=128&g=1", "display_name": "Luis Cardoza Bird", "link": "https://stackoverflow.com/users/6582127/luis-cardoza-bird"}, "is_accepted": false, "score": 0, "last_activity_date": 1577112763, "creation_date": 1577112763, "answer_id": 59457254, "question_id": 59454054, "link": "https://stackoverflow.com/questions/59454054/fix-the-error-which-appears-on-button-click-in-android-studio-kotlin/59457254#59457254", "title": "Fix the Error which appears on button click in Android Studio / Kotlin?", "body": "<p>It looks like that you are calling the same function in another button</p>\n\n<blockquote>\n  <p>id:'button3'</p>\n</blockquote>\n\n<p>so when you click on the goClicked function Android search for all the ref. that need it.</p>\n\n<blockquote>\n  <p>TL;DR. Change the name of your function goClicked and the issue should be solved.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 12572104, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6EQA4-1j16c/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehXO46uuY6IvcRObyJTx7rFd2zeA/photo.jpg?sz=128", "display_name": "SpielsCrew", "link": "https://stackoverflow.com/users/12572104/spielscrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577112763, "creation_date": 1577098331, "last_edit_date": 1577112306, "question_id": 59454054, "link": "https://stackoverflow.com/questions/59454054/fix-the-error-which-appears-on-button-click-in-android-studio-kotlin", "title": "Fix the Error which appears on button click in Android Studio / Kotlin?", "body": "<p>In my Android Application every time when i click the Button the Error appears.</p>\n\n<p>Kotlin:</p>\n\n<pre><code>fun goClicked(view: View) {\n    mAuth.signInWithEmailAndPassword(emailEditText?.text.toString(), passwordEditText?.text.toString())\n        .addOnCompleteListener(this) { task -&gt;\n            if (task.isSuccessful) {\n                // Sign in success, update UI with the signed-in user's information\n                logIn()\n            } else {\n                // If sign in fails, display a message to the user.\n                Toast.makeText(this, \"Account nicht gefunden!\",\n                    Toast.LENGTH_SHORT).show()\n\n            }\n        }\n}\n</code></pre>\n\n<p>XML:</p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/button10\"\n    style=\"@android:style/Widget.Holo.Button\"\n    android:layout_width=\"244dp\"\n    android:layout_height=\"61dp\"\n    android:layout_marginStart=\"83dp\"\n    android:layout_marginTop=\"115dp\"\n    android:layout_marginEnd=\"84dp\"\n    android:layout_marginBottom=\"215dp\"\n    android:background=\"@drawable/roundedbutton\"\n    android:onClick=\"goClicked\"\n    android:text=\"Login\"\n    android:textColor=\"#F8000000\"\n    android:textStyle=\"bold\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/passwordEditText\" /&gt;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: spiels.dev.easysender, PID: 31395\n    java.lang.IllegalStateException: Could not find method goClicked(View) in a parent or ancestor Context for android:onClick attribute defined on view class androidx.appcompat.widget.AppCompatButton with id 'button3'\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:424)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:381)\n        at android.view.View.performClick(View.java:7352)\n        at android.widget.TextView.performClick(TextView.java:14177)\n    at android.view.View.performClickInternal(View.java:7318)\n    at android.view.View.access$3200(View.java:846)\n    at android.view.View$PerformClick.run(View.java:27807)\n    at android.os.Handler.handleCallback(Handler.java:873)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7037)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965)\n</code></pre>\n\n<p>Every time when i click on the button this error message is shown.</p>\n\n<p>I hope you can help me\nBest Regards Sandro</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "scrollview", "android-tabs"], "comments": [{"owner": {"reputation": 117, "user_id": 10544887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IfUsdI5oqEM/AAAAAAAAAAI/AAAAAAAABX0/xDcywJMQYu0/photo.jpg?sz=128", "display_name": "Dan Crisan", "link": "https://stackoverflow.com/users/10544887/dan-crisan"}, "edited": false, "score": 0, "creation_date": 1577098786, "post_id": 59453992, "comment_id": 105089804, "body": "I have tried using scrollview.invalidate() and scrollview.requestLayout() in order to have the scrollview refresh when I switch tabs, however it did not work."}], "owner": {"reputation": 117, "user_id": 10544887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IfUsdI5oqEM/AAAAAAAAAAI/AAAAAAAABX0/xDcywJMQYu0/photo.jpg?sz=128", "display_name": "Dan Crisan", "link": "https://stackoverflow.com/users/10544887/dan-crisan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1577098064, "creation_date": 1577098064, "question_id": 59453992, "link": "https://stackoverflow.com/questions/59453992/how-to-change-view-pager-height-depending-on-content", "title": "How to change view pager height depending on content?", "body": "<p>I have a layout contained inside a ScrollView. The layout contains some views and then I have a tab layout and a view pager. I want the view pager to change its height depending on which tab I'm on as I have more content on tab 2 and 3 than on tab 1. Right now the view pager has the height of the first tab opened, so when I switch tabs the view pager doesn't expand.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>&lt;ScrollView\n        android:id=\"@+id/scroll_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;ConstraintLayout...&gt;\n              &lt;EditText ...&gt;\n\n              ...\n\n              &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n                android:id=\"@+id/coordinator_layout\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@id/edit_text\"&gt;\n\n                &lt;RelativeLayout\n                    android:id=\"@+id/view_pager_fragment\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"&gt;\n\n                    &lt;RelativeLayout\n                        android:id=\"@+id/tab_view\"\n                        android:layout_width=\"match_parent\"&gt;\n\n                        &lt;com.google.android.material.tabs.TabLayout\n                            android:id=\"@+id/tabs\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"match_parent\"\n                            android:background=\"@drawable/rounded_corner_gray\"\n                            app:tabBackground=\"@drawable/search_tab_bar\"\n                            app:tabIndicatorHeight=\"@dimen/size_0\"\n                            app:tabSelectedTextColor=\"@color/black\"\n                            app:tabTextAppearance=\"@style/SearchTabLayoutTextAppearance\"\n                            app:tabTextColor=\"@color/black\" /&gt;\n                    &lt;/RelativeLayout&gt;\n\n\n                    &lt;androidx.viewpager2.widget.ViewPager2\n                        android:id=\"@+id/view_pager\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_below=\"@+id/tab_view\"\n                        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n\n                &lt;/RelativeLayout&gt;\n            &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n         &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/ScrollView&gt;\n\n</code></pre>\n"}, {"tags": ["kotlin", "annotations"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1577109991, "post_id": 59453286, "comment_id": 105094475, "body": "Your code seems to work fine at <a href=\"https://pl.kotl.in/35AFvlxE_\" rel=\"nofollow noreferrer\">pl.kotl.in/35AFvlxE_</a>."}, {"owner": {"reputation": 616, "user_id": 5100213, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nN43X.png?s=128&g=1", "display_name": "timekeeper", "link": "https://stackoverflow.com/users/5100213/timekeeper"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1577180836, "post_id": 59453286, "comment_id": 105113277, "body": "so weird. My intellij IDE is showing error and performing a gradle build also, its failing. Even checked kotlin version: 1.3.21. This is beyond my understanding now."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1577195966, "post_id": 59453286, "comment_id": 105118584, "body": "Report the bug, I guess? <a href=\"https://youtrack.jetbrains.com\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com</a>"}, {"owner": {"reputation": 616, "user_id": 5100213, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nN43X.png?s=128&g=1", "display_name": "timekeeper", "link": "https://stackoverflow.com/users/5100213/timekeeper"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1577196751, "post_id": 59453286, "comment_id": 105118817, "body": "@AlexeyRomanov Sorry. RIP myself. Such a big mistake. I was configuring another parameter for default and was removing required parameter which I thought was set as optional. I have noted it as one of the dumbest and silliest things I have in my lifetime. Thanks a lot for your time and help."}, {"owner": {"reputation": 616, "user_id": 5100213, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nN43X.png?s=128&g=1", "display_name": "timekeeper", "link": "https://stackoverflow.com/users/5100213/timekeeper"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1577200086, "post_id": 59453286, "comment_id": 105119838, "body": "@AlexeyRomanov Can you submit the code snippet shared in the link as answer. I will accept it. This will help others to quickly reproduce also."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1577204296, "creation_date": 1577204296, "answer_id": 59471292, "question_id": 59453286, "link": "https://stackoverflow.com/questions/59453286/kotlin-annotation-with-optional-parameters/59471292#59471292", "title": "Kotlin annotation with optional parameters", "body": "<p>Your code works as is, which can be verified by</p>\n\n<pre><code>@Target(AnnotationTarget.FUNCTION)\n@Retention(AnnotationRetention.RUNTIME)    \nannotation class Custom(val a: String, \n        val b: String = \"[null]\", \n        val c: String = \"[null]\")\n\nobject W {\n    @Custom(a = \"Testa\")\n    fun pqr(){}\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(W::class.java.getMethod(\"pqr\").getAnnotations()[0])\n}\n</code></pre>\n\n<p>printing <code>@Custom(b=[null], c=[null], a=Testa)</code>, so <code>b</code> and <code>c</code> got their default values. (You could also write <code>W::pqr.annotations[0]</code>, but that doesn't work on the playground.)</p>\n"}], "owner": {"reputation": 616, "user_id": 5100213, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nN43X.png?s=128&g=1", "display_name": "timekeeper", "link": "https://stackoverflow.com/users/5100213/timekeeper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 0, "accepted_answer_id": 59471292, "answer_count": 1, "score": 0, "last_activity_date": 1577204296, "creation_date": 1577095031, "question_id": 59453286, "link": "https://stackoverflow.com/questions/59453286/kotlin-annotation-with-optional-parameters", "title": "Kotlin annotation with optional parameters", "body": "<p>Custom annotation is defined below:</p>\n\n<pre><code>@Target(AnnotationTarget.FUNCTION)\n@Retention(AnnotationRetention.RUNTIME)    \nannotation class Custom(val a: String, \n        val b: String = \"[null]\", \n        val c: String = \"[null]\")\n</code></pre>\n\n<p>Desired usage:</p>\n\n<p>1.</p>\n\n<pre><code>@Custom(a = \"Testa\", b = \"Testb\", c = \"Testc\")\nfun xyz(){ ... }\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>@Custom(a = \"Testa\")\nfun pqr(){ ... }\n</code></pre>\n\n<p>When I am trying desired usage #2, it throws <code>No values passed for parameter \"b\"</code>.</p>\n\n<p>How can it be achieved to have optional parameters in kotlin cusotm annotations?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-listview"], "comments": [{"owner": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "edited": false, "score": 1, "creation_date": 1577097551, "post_id": 59453267, "comment_id": 105089281, "body": "You should filter the list instead of changing visibility of the row i think."}, {"owner": {"reputation": 66, "user_id": 4483891, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001871581250/picture?type=large", "display_name": "Zayd Khan", "link": "https://stackoverflow.com/users/4483891/zayd-khan"}, "reply_to_user": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "edited": false, "score": 0, "creation_date": 1577100041, "post_id": 59453267, "comment_id": 105090296, "body": "is there any other option except that? @toffor"}, {"owner": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "edited": false, "score": 0, "creation_date": 1577106706, "post_id": 59453267, "comment_id": 105092997, "body": "Always you can find workarounds but filtering list is cleaner solution. Why don&#39;t you want to filter list ?"}, {"owner": {"reputation": 66, "user_id": 4483891, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001871581250/picture?type=large", "display_name": "Zayd Khan", "link": "https://stackoverflow.com/users/4483891/zayd-khan"}, "reply_to_user": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "edited": false, "score": 0, "creation_date": 1577169197, "post_id": 59453267, "comment_id": 105109647, "body": "Yes filtering worked for me, really hoped for a better solution, but this works for now, Thank you @toffor"}], "answers": [{"comments": [{"owner": {"reputation": 66, "user_id": 4483891, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001871581250/picture?type=large", "display_name": "Zayd Khan", "link": "https://stackoverflow.com/users/4483891/zayd-khan"}, "edited": false, "score": 0, "creation_date": 1577099573, "post_id": 59453639, "comment_id": 105090116, "body": "That makes the whole row blank, it gives a blank view. i don&#39;t want that, i want the row to be skipped"}, {"owner": {"reputation": 1884, "user_id": 2931124, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GEdNT.jpg?s=128&g=1", "display_name": "ked", "link": "https://stackoverflow.com/users/2931124/ked"}, "reply_to_user": {"reputation": 66, "user_id": 4483891, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001871581250/picture?type=large", "display_name": "Zayd Khan", "link": "https://stackoverflow.com/users/4483891/zayd-khan"}, "edited": false, "score": 0, "creation_date": 1577099839, "post_id": 59453639, "comment_id": 105090215, "body": "then filter your list which you are using in adapter, after filtering out elements, call notifyDataSetChanged(), it&#39;ll redraw the list."}], "tags": [], "owner": {"reputation": 1884, "user_id": 2931124, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GEdNT.jpg?s=128&g=1", "display_name": "ked", "link": "https://stackoverflow.com/users/2931124/ked"}, "is_accepted": false, "score": 0, "last_activity_date": 1577096613, "creation_date": 1577096613, "answer_id": 59453639, "question_id": 59453267, "link": "https://stackoverflow.com/questions/59453267/not-able-to-skip-a-row-in-listview/59453639#59453639", "title": "Not able to skip a row in Listview", "body": "<p>One thing you can do is return the view, but the set visibility to GONE in the else part before returning the view</p>\n\n<pre><code>v.setVisibility(View.GONE)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 4483891, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001871581250/picture?type=large", "display_name": "Zayd Khan", "link": "https://stackoverflow.com/users/4483891/zayd-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1593097597, "creation_date": 1593097597, "answer_id": 62578517, "question_id": 59453267, "link": "https://stackoverflow.com/questions/59453267/not-able-to-skip-a-row-in-listview/62578517#62578517", "title": "Not able to skip a row in Listview", "body": "<p>We can't do this, the only way i found to do this is to send the desired List to the adapter, that means perform any operation which is necessary to remove the item you want and then send the list.</p>\n"}], "owner": {"reputation": 66, "user_id": 4483891, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001871581250/picture?type=large", "display_name": "Zayd Khan", "link": "https://stackoverflow.com/users/4483891/zayd-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 62578517, "answer_count": 2, "score": 0, "last_activity_date": 1593097597, "creation_date": 1577094945, "last_edit_date": 1577109920, "question_id": 59453267, "link": "https://stackoverflow.com/questions/59453267/not-able-to-skip-a-row-in-listview", "title": "Not able to skip a row in Listview", "body": "<p>I'm trying to skip a row in my list view, based on certain conditions i'm displaying a row in my listview, but there are certain conditions where i need to skip the whole row, but the problem here is that when ever i try to skip it is displaying the previously populated row</p>\n\n<pre><code>public View getView(final int position, View convertView, ViewGroup parent) {\n        View v = convertView;\n        final DisplayItem di = getItem(position);\n\n        if (v == null) {\n            LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            v = inflater.inflate(getCellForDatatype(fd.getDatatype()), null);\n        }\n\n     switch(di.getType()){\n        case PIC:\n            //view code\n            break;\n        case SOUND:\n            //view code\n            break;\n        default:\n            if(di.getDescription().contains(\"Number\")){\n            //view code\n        }\n        break;\n        }\n   return v\n}\n</code></pre>\n\n<p>The problem here is the else part of the final code, i don't want to return any view. I'm not sure how to do that.</p>\n"}, {"tags": ["android", "kotlin", "android-room", "kotlin-coroutines", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 0, "creation_date": 1577094547, "post_id": 59453124, "comment_id": 105088070, "body": "What do you mean when you say it&#39;s not updating? The database entry is not updating? The LiveData object you&#39;re observing is not updating? More info required"}, {"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "edited": false, "score": 0, "creation_date": 1577095528, "post_id": 59453124, "comment_id": 105088482, "body": "Please include your Entity"}, {"owner": {"reputation": 16018, "user_id": 1511776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/g3ZQs.jpg?s=128&g=1", "display_name": "hardartcore", "link": "https://stackoverflow.com/users/1511776/hardartcore"}, "edited": false, "score": 1, "creation_date": 1577096483, "post_id": 59453124, "comment_id": 105088851, "body": "Can you validate that the primary key is the same with the one which you are trying to update?"}, {"owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "edited": false, "score": 1, "creation_date": 1577098247, "post_id": 59453124, "comment_id": 105089589, "body": "Put a breakpoint on  line <code>updateSummaryItem(editedItem)</code>, run in debug. What is the value of <b>itemId</b>? My guess is 0 and that you need to set it to the value of  <b>summaryItemKey</b> or <b>item.itemId</b> (should be the same value)."}], "answers": [{"tags": [], "owner": {"reputation": 806, "user_id": 1079842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDKW0.png?s=128&g=1", "display_name": "Mojtaba Haddadi", "link": "https://stackoverflow.com/users/1079842/mojtaba-haddadi"}, "is_accepted": true, "score": 3, "last_activity_date": 1577099480, "creation_date": 1577099480, "answer_id": 59454315, "question_id": 59453124, "link": "https://stackoverflow.com/questions/59453124/cant-update-room-database-item/59454315#59454315", "title": "Can&#39;t Update Room database item", "body": "<p>i think there is 2 ways. </p>\n\n<p>1.in <code>saveEditedItem(...)</code> fun add itemId PrimaryKey</p>\n\n<pre><code>coroutineScope.launch {\n    val item = database.get(summaryItemKey)\n    val editedItem = SummaryItem(quantity, item!!.name, item.price)\n    editedItem.itemId = item.itemId\n    updateSummaryItem(editedItem)\n}\n</code></pre>\n\n<p>2.update item itself.</p>\n\n<pre><code>coroutineScope.launch {\n        val item = database.get(summaryItemKey)\n        item.quantity = //newQuantity\n        item.name = // newName\n        item.price = // newPrice\n        updateSummaryItem(item)\n    }\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11219853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad303107149c2ceafa8c6e47ec847a72?s=128&d=identicon&r=PG&f=1", "display_name": "David Wekesa", "link": "https://stackoverflow.com/users/11219853/david-wekesa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "accepted_answer_id": 59454315, "answer_count": 1, "score": 1, "last_activity_date": 1577099480, "creation_date": 1577094305, "last_edit_date": 1577095587, "question_id": 59453124, "link": "https://stackoverflow.com/questions/59453124/cant-update-room-database-item", "title": "Can&#39;t Update Room database item", "body": "<p>I'm trying to update a column of an item in a room database but the item isn't updating.</p>\n\n<p>My Entity:</p>\n\n<pre><code>    @Entity(tableName = \"order_summary_table\")\n    data class SummaryItem(\n    @ColumnInfo(name = \"quantity\")\n    var quantity: Int = -1,\n\n    @ColumnInfo(name = \"item_name\")\n    val name: String,\n\n    @ColumnInfo(name = \"item_price\")\n    var price: Int\n    ) {\n    @PrimaryKey(autoGenerate = true)\n    var itemId: Long = 0\n    }\n</code></pre>\n\n<p>Here is my Dao:</p>\n\n<pre><code>    @Update\n    fun update(summaryItem: SummaryItem)\n\n    @Query(\"SELECT * FROM order_summary_table WHERE itemId = :key\")\n    suspend fun get(key: Long): SummaryItem?\n</code></pre>\n\n<p>Function in the ViewModel. I'm using Kotlin Coroutines for database operations. My database has 3 columns: quantity, name and price. Here I wrote a function to update the quantity column of an item in the database:</p>\n\n<pre><code>   fun saveEditedItem(quantity: Int, summaryItemKey: Long) {\n      coroutineScope.launch {\n           val item = database.get(summaryItemKey)\n           val editedItem = SummaryItem(quantity, item!!.name, item.price)\n           updateSummaryItem(editedItem)\n       }\n   }\n\n   private suspend fun updateSummaryItem(summaryItem: SummaryItem) {\n      withContext(Dispatchers.IO) {\n          database.update(summaryItem)\n      }\n   }\n</code></pre>\n\n<p>Fragment.kt file, Here I set an OnClickListener to update the item on button click but the item isn't getting updated.</p>\n\n<pre><code>   val quantityText = binding.editQuantityText\n   binding.saveButton.setOnClickListener {\n        val editTextValue = quantityText.text\n        val quantity = Integer.parseInt(editTextValue.toString())\n        viewModel.saveEditedItem(quantity, arguments.summaryItemKey)\n   }\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.serialization"], "comments": [{"owner": {"reputation": 1680, "user_id": 8112679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9a6f2f75be66f66fe5cb7ced1e0be?s=128&d=identicon&r=PG", "display_name": "Harshvardhan Joshi", "link": "https://stackoverflow.com/users/8112679/harshvardhan-joshi"}, "edited": false, "score": 0, "creation_date": 1577094868, "post_id": 59453009, "comment_id": 105088184, "body": "it seems that one/both of <code>Horse</code> &amp; <code>Dog</code> classes have parameterized constructors(maybe optional but parameterized)."}, {"owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "reply_to_user": {"reputation": 1680, "user_id": 8112679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9a6f2f75be66f66fe5cb7ced1e0be?s=128&d=identicon&r=PG", "display_name": "Harshvardhan Joshi", "link": "https://stackoverflow.com/users/8112679/harshvardhan-joshi"}, "edited": false, "score": 0, "creation_date": 1577095123, "post_id": 59453009, "comment_id": 105088288, "body": "No... that&#39;s the full source code , no other constructors.."}, {"owner": {"reputation": 1680, "user_id": 8112679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9a6f2f75be66f66fe5cb7ced1e0be?s=128&d=identicon&r=PG", "display_name": "Harshvardhan Joshi", "link": "https://stackoverflow.com/users/8112679/harshvardhan-joshi"}, "edited": false, "score": 0, "creation_date": 1577095322, "post_id": 59453009, "comment_id": 105088375, "body": "Is this the full error/stacktrace? If not can you add full trace?"}, {"owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "reply_to_user": {"reputation": 1680, "user_id": 8112679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9a6f2f75be66f66fe5cb7ced1e0be?s=128&d=identicon&r=PG", "display_name": "Harshvardhan Joshi", "link": "https://stackoverflow.com/users/8112679/harshvardhan-joshi"}, "edited": false, "score": 0, "creation_date": 1577095820, "post_id": 59453009, "comment_id": 105088589, "body": "Hi.this is the source code and test code. <a href=\"https://github.com/smallufo/kotlinPlay/tree/master/serialize/src\" rel=\"nofollow noreferrer\">github.com/smallufo/kotlinPlay/tree/master/serialize/src</a>. ..."}, {"owner": {"reputation": 1680, "user_id": 8112679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9a6f2f75be66f66fe5cb7ced1e0be?s=128&d=identicon&r=PG", "display_name": "Harshvardhan Joshi", "link": "https://stackoverflow.com/users/8112679/harshvardhan-joshi"}, "edited": false, "score": 0, "creation_date": 1577095937, "post_id": 59453009, "comment_id": 105088638, "body": "I was asking for error&#39;s stack trace, since source is not big, just as you said before."}, {"owner": {"reputation": 1680, "user_id": 8112679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9a6f2f75be66f66fe5cb7ced1e0be?s=128&d=identicon&r=PG", "display_name": "Harshvardhan Joshi", "link": "https://stackoverflow.com/users/8112679/harshvardhan-joshi"}, "edited": false, "score": 0, "creation_date": 1577095991, "post_id": 59453009, "comment_id": 105088656, "body": "Make sure you have followed this <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">Guide line by Kotlin devs</a>"}, {"owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "reply_to_user": {"reputation": 1680, "user_id": 8112679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9a6f2f75be66f66fe5cb7ced1e0be?s=128&d=identicon&r=PG", "display_name": "Harshvardhan Joshi", "link": "https://stackoverflow.com/users/8112679/harshvardhan-joshi"}, "edited": false, "score": 0, "creation_date": 1577101852, "post_id": 59453009, "comment_id": 105090937, "body": "I updated the full message , you can inspect into it. thanks."}], "answers": [{"comments": [{"owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "edited": false, "score": 0, "creation_date": 1577116134, "post_id": 59456728, "comment_id": 105097144, "body": "Hi , I tried your code , but still not working ... code here : <a href=\"https://gist.github.com/smallufo/85632e827432a03e2da3f7d858d39460\" rel=\"nofollow noreferrer\">gist.github.com/smallufo/85632e827432a03e2da3f7d858d39460</a>"}, {"owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "edited": false, "score": 0, "creation_date": 1577116717, "post_id": 59456728, "comment_id": 105097357, "body": "I found the document means this situation : <a href=\"https://gist.github.com/smallufo/c47e641cae24252b610e5d581b6cff78\" rel=\"nofollow noreferrer\">gist.github.com/smallufo/c47e641cae24252b610e5d581b6cff78</a> , that the interface must be inside a <code>@Serializable</code> container , in this example <code>Zoo</code> . Then it works ok . but that&#39;s not what I really want... I hope a simple {&quot;runnable&quot;:&quot;H&quot;} and {&quot;runnable&quot;:&quot;D&quot;} mapping"}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "edited": false, "score": 0, "creation_date": 1577123693, "post_id": 59456728, "comment_id": 105100177, "body": "If you want to specify custom serialization (the simple example you provide is custom polymorphic serialization), you need to implement a custom serializer as you were attempting at first. You should then annotate your custom serializer with the <code>@Serializer(forClass) </code> attribute, and specify <code>Serializable(with)</code> anywhere you want to do your custom serialization. I don&#39;t think the serial module is involved then."}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "edited": false, "score": 0, "creation_date": 1577123966, "post_id": 59456728, "comment_id": 105100276, "body": "Or, register as polymorphic as I specify in this answer, but associate your custom serializer for all deriving types, instead of the plugin-generated one per specific type."}], "tags": [], "owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "is_accepted": false, "score": 4, "last_activity_date": 1577110547, "last_edit_date": 1577110547, "creation_date": 1577110175, "answer_id": 59456728, "question_id": 59453009, "link": "https://stackoverflow.com/questions/59453009/serializer-for-interface-implementation/59456728#59456728", "title": "Serializer for interface / implementation", "body": "<p>What you are trying to achieve is called polymorphic serialization, <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/polymorphism.md\" rel=\"nofollow noreferrer\">which kotlinx.serialization supports</a>. In short: it requires you to register all deriving types of <code>IRunnable</code> as polymorphic in the <code>SerialModule</code>. For your code it should look somewhat as follows:</p>\n\n<pre><code>val serialModule = SerializersModule {\n    polymorphic(IRunnable::class) {\n        Horse::class with HorseSerializer\n        Dog::class with DogSerializer\n    }\n}\n</code></pre>\n\n<p>Currently, you only register <code>IRunnable</code>, which as the exception correctly indicates, cannot be initialized. How would you initialize an interface? You can't. Instead, you want to know which specific deriving type to initialize. This requires to embed type information within the JSON data, which is what polymorphic serialization does.</p>\n\n<p>In addition, you do not necessarily have to implement a custom serializer. As per the documentation you link to, you can create <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/custom_serializers.md#external-serializers-for-library-classes\" rel=\"nofollow noreferrer\">external serializers for library classes</a>. The following might suffice, as the kotlinx.serialization compiler plugin will try to generate a suitable serializer for you, similar to if you were to add <code>@Serializable</code> on the class directly:</p>\n\n<pre><code>@Serializer(forClass = Horse::class)\nobject HorseSerializer {}\n\n@Serializer(forClass = Dog::class)\nobject DogSerializer {}\n</code></pre>\n"}], "owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1612, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1577175807, "creation_date": 1577093887, "last_edit_date": 1577175807, "question_id": 59453009, "link": "https://stackoverflow.com/questions/59453009/serializer-for-interface-implementation", "title": "Serializer for interface / implementation", "body": "<p>Suppose there is one interface , and 2 (or more) implementations :</p>\n\n<pre><code>interface IRunnable {\n  fun run()\n}\n\nclass Horse : IRunnable {\n  override fun run() {    println(\"horse running\")  }\n}\n\nclass Dog : IRunnable {\n  override fun run() {    println(\"dog running\")  }\n}\n</code></pre>\n\n<p>I want to achieve the most succinct JSON for network transmission, that is , <code>{\"runnable\":\"H\"}</code> for Horse and <code>{\"runnable\":\"D\"}</code> for Dog</p>\n\n<p><strong>If I cannot modify the interface and implementations</strong> , I want to serialize the interface/implementations to JSON , according to Kotlin's documentation , I have to write a  <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/custom_serializers.md\" rel=\"nofollow noreferrer\">custom serializer</a> , and use <code>SerializersModule</code> to achieve the goal. </p>\n\n<p>Suppose there are only <code>Horse</code> and <code>Dog</code> implementing <code>IRunnable</code> , This is what I've done :</p>\n\n<pre><code>class RunnableSerializer : KSerializer&lt;IRunnable&gt; {\n  override val descriptor: SerialDescriptor\n    get() = StringDescriptor.withName(\"runnable\")\n\n\n  override fun serialize(encoder: Encoder, obj: IRunnable) {\n    val stringValue = when (obj) {\n      is Horse -&gt; { \"H\" }\n      is Dog -&gt; { \"D\" }\n      else -&gt; { null }\n    }\n    stringValue?.also {\n      encoder.encodeString(it)\n    }\n  }\n\n  override fun deserialize(decoder: Decoder): IRunnable {\n    return decoder.decodeString().let { value -&gt;\n      when(value) {\n        \"H\" -&gt; Horse()\n        \"D\" -&gt; Dog()\n        else -&gt; throw RuntimeException(\"invalid $value\")\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>But when I try to transform a <code>Horse</code> to JSON ...</p>\n\n<pre><code>class RunnableTest {\n\n  private val logger = KotlinLogging.logger { }\n\n  @ImplicitReflectionSerializer\n  @Test\n  fun testJson() {\n    val module1 = serializersModuleOf(IRunnable::class, RunnableSerializer())\n\n    Json(context = module1).stringify(IRunnable::class.serializer(), Horse()).also {\n      logger.info(\"json = {}\", it)\n    }\n  }\n}\n</code></pre>\n\n<p>It outputs error :</p>\n\n<pre><code>kotlinx.serialization.SerializationException: \nCan't locate argument-less serializer for class IRunnable. For generic classes, such as lists, please provide serializer explicitly.\n</code></pre>\n\n<p>How to achieve something like \n<code>{\"runnable\":\"H\"}</code> or <code>{\"runnable\":\"D\"}</code> in this case ?</p>\n\n<p>Thanks.</p>\n\n<p>environments :</p>\n\n<pre><code>&lt;kotlin.version&gt;1.3.60&lt;/kotlin.version&gt;\n&lt;serialization.version&gt;0.14.0&lt;/serialization.version&gt;\n</code></pre>\n\n<p>updated , full error message :</p>\n\n<pre><code>kotlinx.serialization.SerializationException: Can't locate argument-less serializer for class IRunnable. For generic classes, such as lists, please provide serializer explicitly.\n\n    at kotlinx.serialization.PlatformUtilsKt.serializer(PlatformUtils.kt:12)\n    at RunnableTest.testJson(RunnableTest.kt:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\n</code></pre>\n"}, {"tags": ["java", "kotlin", "reflection", "nullable", "checker-framework"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1577098683, "post_id": 59452964, "comment_id": 105089760, "body": "The CheckerFramework annotations should already be supported. This <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations\" rel=\"nofollow noreferrer\">page in the docs</a> says that the full list can be found in the compiler sources, and here they are: <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/descriptors.jvm/src/org/jetbrains/kotlin/load/java/JvmAnnotationNames.kt\" rel=\"nofollow noreferrer\">(link)</a>"}, {"owner": {"reputation": 1413, "user_id": 1042202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb680a3bd143a50df2cf291981a1593?s=128&d=identicon&r=PG", "display_name": "Vojta", "link": "https://stackoverflow.com/users/1042202/vojta"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1577100558, "post_id": 59452964, "comment_id": 105090480, "body": "I saw this list of annotations supported by Kotlin compiler. That&#39;s why I was hoping that is should also work in reflections. Unfortunately it seems that Kotlin reflections work differently from Kotlin compiler."}, {"owner": {"reputation": 394, "user_id": 2925059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17997dee8a3da090f62d8cf8c494d8ff?s=128&d=identicon&r=PG", "display_name": "sumio", "link": "https://stackoverflow.com/users/2925059/sumio"}, "edited": false, "score": 0, "creation_date": 1588850044, "post_id": 59452964, "comment_id": 109061333, "body": "<code>isMarkedNullable</code> supports only <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type/is-marked-nullable.html\" rel=\"nofollow noreferrer\">runtime-retained nullability annotation</a>. So, reflection-aware annotations should have <code>@Retention(RetentionPolicy.RUNTIME)</code>."}], "owner": {"reputation": 1413, "user_id": 1042202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb680a3bd143a50df2cf291981a1593?s=128&d=identicon&r=PG", "display_name": "Vojta", "link": "https://stackoverflow.com/users/1042202/vojta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1577093687, "creation_date": 1577093687, "question_id": 59452964, "link": "https://stackoverflow.com/questions/59452964/how-to-get-nullability-of-java-types-using-kotlin-reflection", "title": "How to get nullability of Java types using Kotlin reflection?", "body": "<p>When I use Kotlin reflection to get nullability of <strong>Kotlin</strong> properties like <code>val nullableString: String?</code> I get correct information in <code>isMarkedNullable</code> property of <code>KType</code>. It also works \"inside\" types like <code>val nullableList: List&lt;String?&gt;?</code> where not only whole list is nullable but also individual elements can be <code>null</code>.</p>\n\n<p>I would like to use the same mechanism also for <strong>Java</strong> types. It partially works, for example when I have property like <code>public @javax.annotation.Nullable String text;</code>. But <code>@javax.annotation.Nullable</code> cannot be used like this <code>public List&lt;@Nullable String&gt; list;</code> because it doesn't have <code>TYPE_USE</code> target. So I would like to use <code>@org.checkerframework.checker.nullness.qual.Nullable</code> but this annotation is ignored by Kotlin reflection.</p>\n\n<p>Here is some test:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class KotlinReflectionTest {\n\n    public static void main(String[] args) {\n        for (Field field : TestClass.class.getFields()) {\n            final KProperty&lt;?&gt; kProperty = ReflectJvmMapping.getKotlinProperty(field);\n            System.out.println(kProperty.getName() + \" nullable: \" + kProperty.getReturnType().isMarkedNullable());\n        }\n    }\n\n    public static class TestClass {\n        public String text;                                                              // false\n        public @javax.annotation.Nullable String textJavax;                              // true\n        public @org.jetbrains.annotations.Nullable String textJetbrains;                 // false\n        public @org.checkerframework.checker.nullness.qual.Nullable String textChecker;  // false\n    }\n\n}\n\n</code></pre>\n\n<p>which produces following output:</p>\n\n<pre><code>text nullable: false\ntextJavax nullable: true\ntextJetbrains nullable: false\ntextChecker nullable: false\n</code></pre>\n\n<p>Is it possible to tell Kotlin reflection which annotations to use? Do they plan to support Checker Framework? I would appreciate any comment. Thanks</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 1901, "user_id": 1254417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPKR7.jpg?s=128&g=1", "display_name": "Andriy Budzinskyy", "link": "https://stackoverflow.com/users/1254417/andriy-budzinskyy"}, "edited": false, "score": 4, "creation_date": 1577094452, "post_id": 59452938, "comment_id": 105088035, "body": "Per <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.5\" rel=\"nofollow noreferrer\">Http specification</a> 304 response should not have a body."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 14763649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d8d0963f8b2db8b6f4315a4d9e9f32d?s=128&d=identicon&r=PG&f=1", "display_name": "hash-slash", "link": "https://stackoverflow.com/users/14763649/hash-slash"}, "is_accepted": false, "score": 0, "last_activity_date": 1607090627, "creation_date": 1607090627, "answer_id": 65144988, "question_id": 59452938, "link": "https://stackoverflow.com/questions/59452938/spring-boot-responseentity-body-missing-for-non-200-status-codes/65144988#65144988", "title": "Spring-boot ResponseEntity body missing for non-200 status codes", "body": "<p>Earlier there was earlier standard RFC2616 and now you can refer to newer <strong>RFC 7230-7237</strong> and both of them mention 304 response should not include body.</p>\n<p>Specifically older RFC2616 says it &quot;must not include body&quot; and newer RFC7230 &quot;All 1xx (Informational), 204 (No Content), and <strong>304 (Not Modified) responses do not include a message body</strong>&quot;\nIn the end some servers might send or accept body with this status but it is not the case for spring ResponseEntity.</p>\n"}], "owner": {"reputation": 8433, "user_id": 2667536, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UfmAF.png?s=128&g=1", "display_name": "Derlin", "link": "https://stackoverflow.com/users/2667536/derlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1607090627, "creation_date": 1577093557, "question_id": 59452938, "link": "https://stackoverflow.com/questions/59452938/spring-boot-responseentity-body-missing-for-non-200-status-codes", "title": "Spring-boot ResponseEntity body missing for non-200 status codes", "body": "<p><strong><em>TLDR;</em></strong> How can I send a text message in the body along with a 304 status code using Spring <code>ResponseEntity</code> ?</p>\n\n<p><strong>Context</strong></p>\n\n<p>I am writing a REST API with Spring-boot. In some endpoints, I want to return:</p>\n\n<ul>\n<li>either status <code>200 OK</code> with body <code>Success</code>,</li>\n<li>or status <code>304 NOT MODIFIED</code> with body <code>Not modified.</code></li>\n</ul>\n\n<p>My endpoints use <code>ResponseEntity</code> (in kotlin) in the following way:</p>\n\n<pre><code>@PutMapping(\"/test\")\nfun modifyStuff(): ResponseEntity&lt;String&gt; {\n    if (someCondition)\n        // \"not modified\" not sent in the body\n        return ResponseEntity(\"not modified\", HttpStatus.NOT_MODIFIED)\n\n    // using OK, it works\n    return ResponseEntity(\"success\", HttpStatus.OK)\n}\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>Whenever I create a <code>ResponseEntity</code> with a status code != 200, the body is not sent (empty body). Changing the <code>HttpStatus</code> to <code>OK</code> makes the message show again... I don't want to create error handlers for not modified, as this is definitely not an error.</p>\n"}, {"tags": ["android-studio", "android-fragments", "kotlin", "android-module"], "comments": [{"owner": {"reputation": 2145, "user_id": 5163414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee0403b3636ab76f034e5a76ca98cabc?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Alaa", "link": "https://stackoverflow.com/users/5163414/mohammed-alaa"}, "edited": false, "score": 1, "creation_date": 1577093110, "post_id": 59452275, "comment_id": 105087455, "body": "Your chat module should depend on main module if you want to call some code from it  put this in chat <b>build.gradle</b>   <code>implementation project(&#39;:YouMainModule&#39;)</code>"}, {"owner": {"reputation": 19, "user_id": 12583693, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD-eX8T10iP4qcFECK0Z2dCoYMI-Ww97DCauPrZ=k-s128", "display_name": "Marvenn Suson", "link": "https://stackoverflow.com/users/12583693/marvenn-suson"}, "reply_to_user": {"reputation": 2145, "user_id": 5163414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee0403b3636ab76f034e5a76ca98cabc?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Alaa", "link": "https://stackoverflow.com/users/5163414/mohammed-alaa"}, "edited": false, "score": 0, "creation_date": 1577094571, "post_id": 59452275, "comment_id": 105088082, "body": "i do this but they have some error"}, {"owner": {"reputation": 2145, "user_id": 5163414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee0403b3636ab76f034e5a76ca98cabc?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Alaa", "link": "https://stackoverflow.com/users/5163414/mohammed-alaa"}, "edited": false, "score": 0, "creation_date": 1577094923, "post_id": 59452275, "comment_id": 105088211, "body": "you can post your error logs, so we can help"}, {"owner": {"reputation": 22254, "user_id": 4758255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBvf3.jpg?s=128&g=1", "display_name": "\u05d9\u05e9\u05d5 \u05d0\u05d5\u05d4\u05d1 \u05d0\u05d5\u05ea\u05da", "link": "https://stackoverflow.com/users/4758255/%d7%99%d7%a9%d7%95-%d7%90%d7%95%d7%94%d7%91-%d7%90%d7%95%d7%aa%d7%9a"}, "edited": false, "score": 0, "creation_date": 1577105814, "post_id": 59452275, "comment_id": 105092611, "body": "Use an interface in the module as a caller contract when the module is used in main module. Then you can call the contract to call the main module."}, {"owner": {"reputation": 251, "user_id": 9770698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d3091f2ec823169968a2185ce3678f?s=128&d=identicon&r=PG&f=1", "display_name": "FluidCode", "link": "https://stackoverflow.com/users/9770698/fluidcode"}, "edited": false, "score": 0, "creation_date": 1577798281, "post_id": 59452275, "comment_id": 105258115, "body": "I&#39;ll add up to \u05d9\u05e9\u05d5 \u05d0\u05d5\u05d4\u05d1 \u05d0\u05d5\u05ea\u05da&#39;s comment. I suspect that you risk ending up with circular dependencies. So I would suggest you to implement it as a callback or still something along the lines of the publish subscribe pattern. BTW With a functional programming language callback can be much less verbose, but they do need a lot of comments."}], "owner": {"reputation": 19, "user_id": 12583693, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD-eX8T10iP4qcFECK0Z2dCoYMI-Ww97DCauPrZ=k-s128", "display_name": "Marvenn Suson", "link": "https://stackoverflow.com/users/12583693/marvenn-suson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577101332, "creation_date": 1577090288, "last_edit_date": 1577101332, "question_id": 59452275, "link": "https://stackoverflow.com/questions/59452275/calling-fragment-activity-form-main-project-app-to-the-module-project-app-on-kot", "title": "Calling fragment activity form main project app to the module project app on kotlin android studio", "body": "<p>I just want to ask how can I get /call / transfer data from main app to module app in android studio <strong>Kotlin</strong>?\nI have 2 modules project inside of my main project </p>\n\n<p>example: <strong>main [App]</strong> then <strong>Module [Chatapp]</strong></p>\n\n<p>I just want to call class or fragment activity on main project to moudule project <strong>chatapp</strong>. I can only call it in my module now, not in my main project app</p>\n\n<p>I've search on Google but nothing found.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 523, "user_id": 4709657, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b72a62996899c4a9d5611e8808cfe296?s=128&d=identicon&r=PG&f=1", "display_name": "Mohru", "link": "https://stackoverflow.com/users/4709657/mohru"}, "edited": false, "score": 0, "creation_date": 1580049685, "post_id": 59452269, "comment_id": 105962277, "body": "Did you manage to solve your issue? I exeprience the same problem."}], "answers": [{"comments": [{"owner": {"reputation": 378, "user_id": 5892676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b90d114dd42d3145df2405645a3953?s=128&d=identicon&r=PG&f=1", "display_name": "Dambakk", "link": "https://stackoverflow.com/users/5892676/dambakk"}, "edited": false, "score": 1, "creation_date": 1577179017, "post_id": 59454512, "comment_id": 105112601, "body": "Yeah, I dont think any of them are directly related to my issue. I might open a new issue."}], "tags": [], "owner": {"reputation": 806, "user_id": 1079842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDKW0.png?s=128&g=1", "display_name": "Mojtaba Haddadi", "link": "https://stackoverflow.com/users/1079842/mojtaba-haddadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1577100334, "creation_date": 1577100334, "answer_id": 59454512, "question_id": 59452269, "link": "https://stackoverflow.com/questions/59452269/cannot-access-class-coroutinescope-check-module-classpath/59454512#59454512", "title": "Cannot access class CoroutineScope. Check module classpath", "body": "<p>the issue you referred to, is duplicated with this <a href=\"https://youtrack.jetbrains.com/issue/KT-20511\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-20511</a> and state of this issue is <code>fixed</code>.</p>\n"}], "owner": {"reputation": 378, "user_id": 5892676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b90d114dd42d3145df2405645a3953?s=128&d=identicon&r=PG&f=1", "display_name": "Dambakk", "link": "https://stackoverflow.com/users/5892676/dambakk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 775, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577100334, "creation_date": 1577090267, "question_id": 59452269, "link": "https://stackoverflow.com/questions/59452269/cannot-access-class-coroutinescope-check-module-classpath", "title": "Cannot access class CoroutineScope. Check module classpath", "body": "<p>I have a kotlin multiplatform project and have implemented a simple repository class in the common module to make an API call. I pass in the coroutine scope as an argument to be able to use the <code>viewModelScope</code> and defaults it to a scope defined in the common code (because of iOS). </p>\n\n<p>When calling the function from the android project Android Studio complains and says <code>Cannot access class 'kotlinx.coroutines.CoroutineScope'. Check your module classpath for missing or conflicting dependencies</code>, however, the project compiles just fine and runs as expected. So it seems like this is an IDE hickup. </p>\n\n<p>I found this issue on YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/KT-24575\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-24575</a>\nIs it related? And how can I get rid of it?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4439, "user_id": 4211264, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AU8oX.jpg?s=128&g=1", "display_name": "Bhargav Thanki", "link": "https://stackoverflow.com/users/4211264/bhargav-thanki"}, "edited": false, "score": 0, "creation_date": 1577086878, "post_id": 59451656, "comment_id": 105085441, "body": "Please try horizontal linear layout manager"}, {"owner": {"reputation": 7836, "user_id": 1564821, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BYeTd.png?s=128&g=1", "display_name": "Spring Breaker", "link": "https://stackoverflow.com/users/1564821/spring-breaker"}, "edited": false, "score": 0, "creation_date": 1577087446, "post_id": 59451656, "comment_id": 105085608, "body": "<a href=\"https://stackoverflow.com/questions/35679776/how-to-set-recyclerview-applayoutmanager-from-xml\" title=\"how to set recyclerview applayoutmanager from xml\">stackoverflow.com/questions/35679776/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4439, "user_id": 4211264, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AU8oX.jpg?s=128&g=1", "display_name": "Bhargav Thanki", "link": "https://stackoverflow.com/users/4211264/bhargav-thanki"}, "is_accepted": false, "score": 0, "last_activity_date": 1577086917, "creation_date": 1577086917, "answer_id": 59451697, "question_id": 59451656, "link": "https://stackoverflow.com/questions/59451656/how-to-change-the-orientation-of-a-recycler-view-in-xml/59451697#59451697", "title": "How to change the orientation of a recycler view in xml?", "body": "<p>Try Horizontal linear layout manager as I have commneted</p>\n\n<pre><code>LinearLayoutManager layoutManager\n= new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 649, "user_id": 8844009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W8LzQ.png?s=128&g=1", "display_name": "Aiko West", "link": "https://stackoverflow.com/users/8844009/aiko-west"}, "is_accepted": false, "score": 0, "last_activity_date": 1577086935, "creation_date": 1577086935, "answer_id": 59451702, "question_id": 59451656, "link": "https://stackoverflow.com/questions/59451656/how-to-change-the-orientation-of-a-recycler-view-in-xml/59451702#59451702", "title": "How to change the orientation of a recycler view in xml?", "body": "<p>since you do not set the <code>LayoutManager</code> in .xml you just should use </p>\n\n<pre><code>LinearLayoutManager layoutManager\n    = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254, "user_id": 7057215, "user_type": "registered", "profile_image": "https://graph.facebook.com/998460390264606/picture?type=large", "display_name": "Prateek Kumar", "link": "https://stackoverflow.com/users/7057215/prateek-kumar"}, "is_accepted": false, "score": 3, "last_activity_date": 1577088492, "last_edit_date": 1577088492, "creation_date": 1577087797, "answer_id": 59451829, "question_id": 59451656, "link": "https://stackoverflow.com/questions/59451656/how-to-change-the-orientation-of-a-recycler-view-in-xml/59451829#59451829", "title": "How to change the orientation of a recycler view in xml?", "body": "<p>Xml -</p>\n\n<pre><code>android:orientation=\"horizontal\"\napp:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\n</code></pre>\n\n<p>Programmatically -</p>\n\n<pre><code>RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false);\nrecyclerView.setLayoutManager(layoutManager);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1348, "user_id": 9764941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qvlzw.jpg?s=128&g=1", "display_name": "Ali Azaz Alam", "link": "https://stackoverflow.com/users/9764941/ali-azaz-alam"}, "is_accepted": false, "score": 2, "last_activity_date": 1577089729, "creation_date": 1577089729, "answer_id": 59452163, "question_id": 59451656, "link": "https://stackoverflow.com/questions/59451656/how-to-change-the-orientation-of-a-recycler-view-in-xml/59452163#59452163", "title": "How to change the orientation of a recycler view in xml?", "body": "<p>It can easily be done through programatically</p>\n\n<p><strong>XML:</strong></p>\n\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=\"@+id/recycler_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_marginTop=\"120dp\"\n    android:layout_marginBottom=\"@dimen/participants_padding_bottom\"\n    app:layout_constraintEnd_toEndOf=\"@id/selected_recycler_view\"\n    app:layout_constraintStart_toStartOf=\"@id/selected_recycler_view\"\n    app:layout_constraintTop_toBottomOf=\"@id/selected_recycler_view\"\n    tools:listItem=\"@layout/item_participant\" /&gt; \n</code></pre>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>LinearLayoutManager layoutManager = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\nrecycler_view.setLayoutManager(layoutManager);\n</code></pre>\n\n<p><strong>Kotlin:</strong></p>\n\n<pre><code>recycler_view.layoutManager = LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false)\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 6023578, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2202fbe24ebf5780f9d6ccd4f671663c?s=128&d=identicon&r=PG&f=1", "display_name": "Netheru", "link": "https://stackoverflow.com/users/6023578/netheru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1577089729, "creation_date": 1577086677, "question_id": 59451656, "link": "https://stackoverflow.com/questions/59451656/how-to-change-the-orientation-of-a-recycler-view-in-xml", "title": "How to change the orientation of a recycler view in xml?", "body": "<p>I have 2 recycler views. 1 horizontal and 1 vertical. In the design page the elements for the first recycler are horizontal and for the second are vertical, but when I run then app both of them are vertical and I can't figure out what's the problem.</p>\n\n<pre><code>  &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/selected_recycler_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"15dp\"\n        android:orientation=\"horizontal\"\n        app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/name_edit_text\"\n        tools:listItem=\"@layout/item_participant_selected\" /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/recycler_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_marginTop=\"120dp\"\n        android:layout_marginBottom=\"@dimen/participants_padding_bottom\"\n        android:clipToPadding=\"false\"\n        app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\n        app:layout_constraintEnd_toEndOf=\"@id/selected_recycler_view\"\n        app:layout_constraintStart_toStartOf=\"@id/selected_recycler_view\"\n        app:layout_constraintTop_toBottomOf=\"@id/selected_recycler_view\"\n        tools:listItem=\"@layout/item_participant\" /&gt; \n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-viewpager"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1577086639, "post_id": 59451606, "comment_id": 105085380, "body": "Try using <code>FragmentStatePagerAdapter</code> instead of <code>FragmentPagerAdapter</code>"}, {"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "reply_to_user": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1577086847, "post_id": 59451606, "comment_id": 105085431, "body": "I&#39;m sorry for not posting the code of PagerAdapter, it&#39;s actually using FragmentStatePagerAdapter as you suggested. I will post it now thanks"}], "answers": [{"comments": [{"owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "edited": false, "score": 1, "creation_date": 1577092817, "post_id": 59451727, "comment_id": 105087344, "body": "Thank you very much I would actually prefer to invoke the code there in the background but that is for another new question thanks"}], "tags": [], "owner": {"reputation": 371, "user_id": 5717488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Wi25.jpg?s=128&g=1", "display_name": "Anton Sarmatin", "link": "https://stackoverflow.com/users/5717488/anton-sarmatin"}, "is_accepted": true, "score": 1, "last_activity_date": 1577087101, "creation_date": 1577087101, "answer_id": 59451727, "question_id": 59451606, "link": "https://stackoverflow.com/questions/59451606/viewpager-activates-its-fragments-before-usage/59451727#59451727", "title": "ViewPager activates its fragments before usage", "body": "<p>ViewPager will initialize two fragments minimally. \nViewPager allows us to set <code>setOffscreenPageLimit()</code>, but it require at least 1, so it will initialize first and next fragment. \nRead more here <a href=\"https://stackoverflow.com/questions/10073214/viewpager-setoffscreenpagelimit0-doesnt-work-as-expected\">ViewPager.setOffscreenPageLimit(0) doesn&#39;t work as expected</a> </p>\n\n<p>Try to invoke code in fragments by setting <code>onPageChangedListener()</code> in MainActivity, so you can execute code when user swiped/opened fragment.</p>\n"}, {"tags": [], "owner": {"reputation": 4439, "user_id": 4211264, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AU8oX.jpg?s=128&g=1", "display_name": "Bhargav Thanki", "link": "https://stackoverflow.com/users/4211264/bhargav-thanki"}, "is_accepted": false, "score": 1, "last_activity_date": 1577087296, "creation_date": 1577087296, "answer_id": 59451759, "question_id": 59451606, "link": "https://stackoverflow.com/questions/59451606/viewpager-activates-its-fragments-before-usage/59451759#59451759", "title": "ViewPager activates its fragments before usage", "body": "<p>ViewPager in Android by default, loads 2 more fragments with current fragment. That is one previous fragment and one next fragment for smooth animation. And you can not alter this default functionality.</p>\n\n<p>One hack to achieve what you want is to use <code>setUserVisibleHint</code> method of fragment. this will called whenever fragments gets visible. But I am not recommending you to use this method</p>\n"}], "owner": {"reputation": 1503, "user_id": 9856049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429e745f9507766155abb9b23e03108f?s=128&d=identicon&r=PG&f=1", "display_name": "sir-haver", "link": "https://stackoverflow.com/users/9856049/sir-haver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 59451727, "answer_count": 2, "score": -1, "last_activity_date": 1577087296, "creation_date": 1577086397, "last_edit_date": 1577086924, "question_id": 59451606, "link": "https://stackoverflow.com/questions/59451606/viewpager-activates-its-fragments-before-usage", "title": "ViewPager activates its fragments before usage", "body": "<p>I'm using a ViewPager to slide between different fragments as tabs. I noticed that just by creating the adapter, the onCreateView function inside each fragment is being called immediately, which is no good since I would like to run the code inside these functions at a specific given time.</p>\n\n<p>My code in MainActivity:</p>\n\n<pre><code>private var profileTab: TabLayout.Tab? = null\n    private var swipeTab: TabLayout.Tab? = null\n    private var matchesTab: TabLayout.Tab? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        profileTab = navigationTabs.newTab()\n        swipeTab = navigationTabs.newTab()\n        matchesTab = navigationTabs.newTab()\n\n        navigationTabs.addTab(profileTab!!)\n        navigationTabs.addTab(swipeTab!!)\n        navigationTabs.addTab(matchesTab!!)\n\n        val adapter = PagerAdapter(supportFragmentManager, navigationTabs.tabCount)\n        fragmentContainer.adapter = adapter\n</code></pre>\n\n<p>My code of PagerAdapter.kt:</p>\n\n<pre><code>class PagerAdapter (fm: FragmentManager, private val mNoOfTabs: Int) : FragmentStatePagerAdapter(fm, mNoOfTabs) {\n\n    override fun getItem(position: Int): Fragment {\n        when (position) {\n            0 -&gt; {\n                return ProfileFragment()\n            }\n            1 -&gt; {\n                return SwipeFragment()\n            }\n            2 -&gt; {\n                return MatchesFragment()\n            }\n        }\n        return null!!\n    }\n\n    override fun getCount() = mNoOfTabs\n}\n</code></pre>\n\n<p>And in activity_main.xml (if it matters):</p>\n\n<pre><code>    &lt;com.google.android.material.tabs.TabLayout\n        android:id=\"@+id/navigationTabs\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/navigation_height\"\n        android:background=\"@drawable/navigation_shadow\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:tabIndicator=\"@null\"\n        app:tabMinWidth=\"@dimen/navigation_height\"\n        app:tabRippleColor=\"@null\" /&gt;\n\n&lt;!--    // the fragment will be displayed here:--&gt;\n    &lt;androidx.viewpager.widget.ViewPager\n        android:id=\"@+id/fragmentContainer\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"100dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/navigationTabs\"/&gt;\n</code></pre>\n\n<p>Is this the default behavior? Can it be prevented, so that the fragments won't be initiated immediately?</p>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "is_accepted": false, "score": 1, "last_activity_date": 1577085952, "creation_date": 1577085952, "answer_id": 59451527, "question_id": 59451475, "link": "https://stackoverflow.com/questions/59451475/idiomatic-kotlin-way-to-find-an-element-to-the-right-of-a-pivot-thats-just-grea/59451527#59451527", "title": "Idiomatic Kotlin way to find an element to the right of a pivot that&#39;s just greater than the pivot", "body": "<p>Just a little improvement</p>\n\n<pre><code>fun IntArray.justGreater(pivotIndex: Int): Int {\n    var result = 0\n    var currBest = Int.MAX_VALUE\n    for (i in pivotIndex until size) {\n        if (get(i) &gt; get(pivotIndex) &amp;&amp; get(i) &lt; currBest) {\n            result = i\n            currBest = get(i)\n        }\n    }\n    return result\n}\n</code></pre>\n\n<p>I think there is no shortcut function to decrease code</p>\n"}, {"tags": [], "owner": {"reputation": 10141, "user_id": 7746134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAn6O.png?s=128&g=1", "display_name": "Saurabh Thorat", "link": "https://stackoverflow.com/users/7746134/saurabh-thorat"}, "is_accepted": false, "score": 1, "last_activity_date": 1577089211, "last_edit_date": 1577089211, "creation_date": 1577088860, "answer_id": 59452009, "question_id": 59451475, "link": "https://stackoverflow.com/questions/59451475/idiomatic-kotlin-way-to-find-an-element-to-the-right-of-a-pivot-thats-just-grea/59452009#59452009", "title": "Idiomatic Kotlin way to find an element to the right of a pivot that&#39;s just greater than the pivot", "body": "<p>This returns the smallest closest value position to the right of pivot:</p>\n\n<pre><code>fun justGreater(nums: IntArray, pivotIndex: Int): Int {\n    val least = nums.asList()\n        .subList(pivotIndex + 1, nums.size)\n        .filter { it &gt; nums[pivotIndex] }\n        .min()!!\n    return nums.indexOf(least)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "is_accepted": true, "score": 1, "last_activity_date": 1577124457, "last_edit_date": 1577124457, "creation_date": 1577096556, "answer_id": 59453624, "question_id": 59451475, "link": "https://stackoverflow.com/questions/59451475/idiomatic-kotlin-way-to-find-an-element-to-the-right-of-a-pivot-thats-just-grea/59453624#59453624", "title": "Idiomatic Kotlin way to find an element to the right of a pivot that&#39;s just greater than the pivot", "body": "<p>You can try following:</p>\n\n<pre><code>fun justGreater(nums: IntArray, pivotIndex: Int): Int {\n    return nums.withIndex()\n        .sortedBy { it.value }\n        .first { it.index &gt; pivotIndex &amp;&amp; it.value &gt; nums[pivotIndex] }\n        .index\n}\n</code></pre>\n\n<p>Another option:</p>\n\n<pre><code>fun justGreater(nums: IntArray, pivotIndex: Int): Int {\n    return nums.mapIndexed { index, number -&gt; index to number }\n        .sortedBy { (_, number) -&gt; number }\n        .first { (index, i) -&gt; index &gt; pivotIndex &amp;&amp; i &gt; nums[pivotIndex] }\n        .first // returns pair, so we need to get only index\n}\n</code></pre>\n\n<p>One more option:</p>\n\n<pre><code>fun justGreater(nums: IntArray, pivotIndex: Int): Int {\n    val filteredArr = nums.sliceArray(pivotIndex + 1 until nums.size)\n        .filter { it &gt; nums[pivotIndex] }\n    return nums.indexOf(filteredArr.min() ?: -1) // we return -1 in case item was not found\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10485405, "user_type": "registered", "profile_image": "https://graph.facebook.com/884977638557039/picture?type=large", "display_name": "Alexander", "link": "https://stackoverflow.com/users/10485405/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 59453624, "answer_count": 3, "score": 0, "last_activity_date": 1577124457, "creation_date": 1577085568, "question_id": 59451475, "link": "https://stackoverflow.com/questions/59451475/idiomatic-kotlin-way-to-find-an-element-to-the-right-of-a-pivot-thats-just-grea", "title": "Idiomatic Kotlin way to find an element to the right of a pivot that&#39;s just greater than the pivot", "body": "<p>I would like to write a computer program such that given an array of numbers and a pivot index, it returns the index of the smallest element to the right of the pivot that is just greater than the pivot.</p>\n\n<p>For example: if the input is <code>[1, 4, 7, 2, 5, 6]</code> and the pivot is at index <code>1</code> i.e. element <code>4</code>, then the output should be <code>4</code> which is the index of <code>5</code> because <code>5</code> is the smallest element to the right of <code>4</code> that is greater than <code>4</code>.</p>\n\n<p>The following code works</p>\n\n<pre><code>fun justGreater(nums: IntArray, pivotIndex: Int): Int {\n    var result = 0\n    var currBest = Int.MAX_VALUE\n    for (i in pivotIndex until nums.size) {\n        if (nums[i] &gt; nums[pivotIndex] &amp;&amp; nums[i] &lt; currBest) {\n            result = i\n            currBest = nums[i]\n        }\n    }\n    return result\n}\n</code></pre>\n\n<p>I would like to write this idiomatically and succinctly.</p>\n"}, {"tags": ["json", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 2813059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cd4eff2247bd3c18cf7ef646b9535b7e?s=128&d=identicon&r=PG&f=1", "display_name": "user2813059", "link": "https://stackoverflow.com/users/2813059/user2813059"}, "is_accepted": false, "score": 0, "last_activity_date": 1577087821, "creation_date": 1577087821, "answer_id": 59451835, "question_id": 59451355, "link": "https://stackoverflow.com/questions/59451355/iterating-through-json-data/59451835#59451835", "title": "Iterating through JSON data", "body": "<p>I have managed to do it:</p>\n\n<pre><code>   val jsonTemperatureData = JSONArray(result)\n            for (i in 0 until jsonTemperatureData.length()) {\n                val item = jsonTemperatureData.getJSONObject(i)\n                val reading_temperature = item.getString(\"reading_temperature\")\n                val hour = item.getString(\"hour\")\n                yVals.add(Entry(hour.toFloat(), reading_temperature.toFloat(), hour.toString()))\n            }\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 2813059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cd4eff2247bd3c18cf7ef646b9535b7e?s=128&d=identicon&r=PG&f=1", "display_name": "user2813059", "link": "https://stackoverflow.com/users/2813059/user2813059"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577087821, "creation_date": 1577084721, "last_edit_date": 1577085038, "question_id": 59451355, "link": "https://stackoverflow.com/questions/59451355/iterating-through-json-data", "title": "Iterating through JSON data", "body": "<p>I am generating a JSON output in php which i need to use to fill line chart in android application writen in kotlin.</p>\n\n<p>The JSON data is: </p>\n\n<pre><code>[{\"reading_temperature\":\"14\",\"hour\":\"01\"},{\"reading_temperature\":\"14\",\"hour\":\"02\"},{\"reading_temperature\":\"14\",\"hour\":\"03\"},{\"reading_temperature\":\"14\",\"hour\":\"04\"},{\"reading_temperature\":\"14\",\"hour\":\"05\"},{\"reading_temperature\":\"14\",\"hour\":\"06\"},{\"reading_temperature\":\"14\",\"hour\":\"07\"},{\"reading_temperature\":\"14\",\"hour\":\"08\"},{\"reading_temperature\":\"14\",\"hour\":\"09\"},{\"reading_temperature\":\"14\",\"hour\":\"10\"},{\"reading_temperature\":\"14\",\"hour\":\"11\"},{\"reading_temperature\":\"14\",\"hour\":\"12\"},{\"reading_temperature\":\"14\",\"hour\":\"13\"},{\"reading_temperature\":\"14\",\"hour\":\"14\"},{\"reading_temperature\":\"14\",\"hour\":\"15\"},{\"reading_temperature\":\"14\",\"hour\":\"16\"},{\"reading_temperature\":\"14\",\"hour\":\"17\"},{\"reading_temperature\":\"14\",\"hour\":\"18\"},{\"reading_temperature\":\"14\",\"hour\":\"19\"},{\"reading_temperature\":\"14\",\"hour\":\"20\"},{\"reading_temperature\":\"14\",\"hour\":\"21\"},{\"reading_temperature\":\"14\",\"hour\":\"22\"},{\"reading_temperature\":\"14\",\"hour\":\"23\"}]\n</code></pre>\n\n<p>This is the part of the code where i get the JSON:</p>\n\n<pre><code>        override fun doInBackground(vararg params: String?): String? {\n        var response:String?\n        try{\n            response = URL(\"https://127.0.0.1/weatherStation/temperatureDaily.php\").readText(\n                    Charsets.UTF_8\n            )\n        }catch (e: Exception){\n            response = null\n        }\n        return response\n    }\n\n    override fun onPostExecute(result: String?) {\n        super.onPostExecute(result)\n        try {\n            val jsonObj = JSONObject(result)\n\n        } catch (e: Exception) {\n        }\n    }\n</code></pre>\n\n<p>Now i need to use that data to populate the line chart, this is hardcoded data which i need to exchange with JSON</p>\n\n<pre><code>private fun setupLineChartDataTemperatura() {\nval yVals = ArrayList&lt;Entry&gt;()\n\n//This next part i need to dynamically generate from JSON, \n//first float value and last string value should be `\"hour\":\"xx\"`\n// and second float value should be `[{\"reading_temperature\":\"xx\"`\n\nyVals.add(Entry(0f, 4f, \"0\"))\nyVals.add(Entry(1f, 5f, \"1\"))\nyVals.add(Entry(1.5f, 4f, \"1.5\"))\nyVals.add(Entry(2f, 5f, \"2\"))\nyVals.add(Entry(3f, 3f, \"3\"))\nyVals.add(Entry(4f, 2f, \"4\"))\n\nval set1: LineDataSet\nset1 = LineDataSet(yVals, \"Temperatura\")\n\nval dataSets = ArrayList&lt;ILineDataSet&gt;()\ndataSets.add(set1)\nval data = LineData(dataSets)\n\nchart1.setData(data)\nchart1.description.isEnabled = false\nchart1.legend.isEnabled = true\nchart1.setPinchZoom(false)\nchart1.xAxis.enableGridDashedLine(5f, 5f, 0f)\nchart1.axisRight.enableGridDashedLine(5f, 5f, 0f)\nchart1.axisLeft.enableGridDashedLine(5f, 5f, 0f)\nchart1.setDrawGridBackground(true)\nchart1.xAxis.labelCount = 11\nchart1.xAxis.position = XAxis.XAxisPosition.BOTTOM\nchart1.setTouchEnabled(true)\nchart1.invalidate()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.serialization"], "owner": {"reputation": 3738, "user_id": 1392189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/049239f7f0deb84f0775853a9cb401c7?s=128&d=identicon&r=PG", "display_name": "Rollie", "link": "https://stackoverflow.com/users/1392189/rollie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1577086974, "creation_date": 1577084460, "last_edit_date": 1577086974, "question_id": 59451319, "link": "https://stackoverflow.com/questions/59451319/are-there-default-serializer-implementations-for-common-java-classes", "title": "Are there default serializer implementations for common Java classes?", "body": "<p>I'm trying out <code>kotlinx.serializaion</code>, and finding the lack of default support for common types a bit off-putting. Take for example <code>java.util.UUID</code>; even applying <code>@ContextualSerialization</code>, I get an error that the compiler can't locate an argument-less serializer for this type. Am I correct in assuming the recommended solution is to implement a custom serializer for UUID? Is there no way (or plan) to provide default serializers for common types as a quality-of-life feature?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-spinner"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9278341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9bf2634feabd5a4a45c68ca81163a76?s=128&d=identicon&r=PG&f=1", "display_name": "Essam Adel", "link": "https://stackoverflow.com/users/9278341/essam-adel"}, "edited": false, "score": 0, "creation_date": 1577093645, "post_id": 59452027, "comment_id": 105087669, "body": "I used this only android:dropDownWidth=&quot;300dp&quot; since i want it dialog not dropdown, but it didn&#39;t work, it work only with the dropdown not the dialog"}, {"owner": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "reply_to_user": {"reputation": 57, "user_id": 9278341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9bf2634feabd5a4a45c68ca81163a76?s=128&d=identicon&r=PG&f=1", "display_name": "Essam Adel", "link": "https://stackoverflow.com/users/9278341/essam-adel"}, "edited": false, "score": 1, "creation_date": 1577097373, "post_id": 59452027, "comment_id": 105089220, "body": "android:dropDownWidth only work when android:spinnerMode=&quot;dropdown&quot; . I am updating my answer"}], "tags": [], "owner": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "is_accepted": true, "score": 1, "last_activity_date": 1577097352, "last_edit_date": 1577097352, "creation_date": 1577088946, "answer_id": 59452027, "question_id": 59450790, "link": "https://stackoverflow.com/questions/59450790/how-to-customize-dialog-size-in-spinner/59452027#59452027", "title": "how to customize dialog size in spinner", "body": "<p>There are no way to customize the dialog spinner but using dropdown mode you can customize and it will look like dialog spinner.</p>\n\n<p>Add  this attribute to spinner in xml file this will give full width to your spinner</p>\n\n<pre><code> // this width is for dialog\n android:dropDownWidth=\"300dp\"\n\n//drop down with only work when spinner mode is drop down\nandroid:spinnerMode=\"dropdown\"\n</code></pre>\n\n<p>By using  <code>dropDownVerticalOffset</code> attribute you give space between spinner and it dropdown .This will help to look like Dialog spinner`</p>\n\n<pre><code> android:dropDownVerticalOffset=\"@dimen/_2sdp\"\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 9278341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9bf2634feabd5a4a45c68ca81163a76?s=128&d=identicon&r=PG&f=1", "display_name": "Essam Adel", "link": "https://stackoverflow.com/users/9278341/essam-adel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 59452027, "answer_count": 1, "score": 1, "last_activity_date": 1577098107, "creation_date": 1577081091, "last_edit_date": 1577098107, "question_id": 59450790, "link": "https://stackoverflow.com/questions/59450790/how-to-customize-dialog-size-in-spinner", "title": "how to customize dialog size in spinner", "body": "<p>this is my spinner's code</p>\n\n<p>XML code</p>\n\n<pre><code> &lt;Spinner\n            android:id=\"@+id/amountContainer\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"30dp\"\n            android:layout_marginStart=\"16dp\"\n            android:layout_marginEnd=\"16dp\"\n            android:background=\"@drawable/spinner_border\"\n            android:spinnerMode=\"dialog\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/amountTitleTV\" /&gt;\n</code></pre>\n\n<p>Kotlin code</p>\n\n<pre><code>val adapter = ArrayAdapter((this.activity as Context), android.R.layout.simple_spinner_item, entries.toList())\n    adapter.setDropDownViewResource(R.layout.amount_picker)\n    adapter.setDropDownViewResource(android.R.layout.select_dialog_singlechoice)\n</code></pre>\n\n<p>How to make a width to the dialog? like 60% of the page's width or even 300dp</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1098, "user_id": 9908240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqqQUy6lByw/AAAAAAAAAAI/AAAAAAAAAFs/4IdV2CygnX0/photo.jpg?sz=128", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9908240/viral-patel"}, "edited": false, "score": 1, "creation_date": 1577082027, "post_id": 59450719, "comment_id": 105084017, "body": "it&#39;ll help you :<a href=\"https://gist.github.com/takahirom/f2dbcc3053adfd87ac7e321d95a23021\" rel=\"nofollow noreferrer\">gist.github.com/takahirom/f2dbcc3053adfd87ac7e321d95a23021</a>"}], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 4298796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WuBUp.jpg?s=128&g=1", "display_name": "mona baharlou", "link": "https://stackoverflow.com/users/4298796/mona-baharlou"}, "edited": false, "score": 0, "creation_date": 1612875076, "post_id": 65941917, "comment_id": 116897710, "body": "Thanks for your answer. It solved my problem"}], "tags": [], "owner": {"reputation": 1922, "user_id": 306047, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9036cb8dc5eafb78f197e3c446aeca7?s=128&d=identicon&r=PG", "display_name": "snorbi", "link": "https://stackoverflow.com/users/306047/snorbi"}, "is_accepted": true, "score": 1, "last_activity_date": 1611853723, "creation_date": 1611853723, "answer_id": 65941917, "question_id": 59450719, "link": "https://stackoverflow.com/questions/59450719/kotlin-eventbus-triggered-twice/65941917#65941917", "title": "Kotlin EventBus triggered twice", "body": "<p>I would prefer <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-mutable-shared-flow/\" rel=\"nofollow noreferrer\">MutableSharedFlow</a>:</p>\n<pre><code>class EventBus {\n    private val events = MutableSharedFlow&lt;Any&gt;()\n\n    suspend fun dispatch(event: Any) {\n        events.emit(event)\n    }\n\n    suspend fun on(coroutineScope: CoroutineScope, handler: suspend (Any) -&gt; Unit) =\n        coroutineScope.launch(start = CoroutineStart.UNDISPATCHED) {\n            events.asSharedFlow().collect { event -&gt; handler(event) }\n        }\n}\n\nclass EventBusTest {\n    @Test\n    fun testEventBus() {\n        val events = ConcurrentLinkedDeque&lt;String&gt;()\n        runBlocking {\n            val eventBus = EventBus()\n\n            val job1 = eventBus.on(this) { events.add(&quot;1: $it&quot;) }\n            eventBus.dispatch(&quot;a&quot;)\n\n            val job2 = eventBus.on(this) { events.add(&quot;2: $it&quot;) }\n            eventBus.dispatch(&quot;b&quot;)\n\n            job1.cancelAndJoin()\n\n            eventBus.dispatch(&quot;c&quot;)\n\n            job2.cancelAndJoin()\n        }\n        assertEquals(listOf(&quot;1: a&quot;, &quot;1: b&quot;, &quot;2: b&quot;, &quot;2: c&quot;), events.toList())\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 4298796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WuBUp.jpg?s=128&g=1", "display_name": "mona baharlou", "link": "https://stackoverflow.com/users/4298796/mona-baharlou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 65941917, "answer_count": 1, "score": 1, "last_activity_date": 1611853723, "creation_date": 1577080488, "question_id": 59450719, "link": "https://stackoverflow.com/questions/59450719/kotlin-eventbus-triggered-twice", "title": "Kotlin EventBus triggered twice", "body": "<p>I use this code for eventBus in kotlin, but it triggers twice. I don't know why this happens</p>\n\n<pre><code>object EventBus {\n    val bus: BroadcastChannel&lt;Any&gt; = BroadcastChannel&lt;Any&gt;(1)\n\n    private val parentJob = Job()\n    private val coroutineContext: CoroutineContext\n        get() = parentJob + Dispatchers.Default\n\n    private val scope = CoroutineScope(coroutineContext)\n    fun send(o: Any) {\n        scope.launch {\n            bus.send(o)\n        }\n    }\n\n    inline fun &lt;reified T&gt; asChannel(): ReceiveChannel&lt;T&gt; {\n        return bus.openSubscription().filter { it is T }.map { it as T }\n    }\n}\n</code></pre>\n\n<p>and use it in this way</p>\n\n<pre><code>EventBus.send(NetEvent(false))\n</code></pre>\n\n<p>and listen t it as below (this code runs twice)</p>\n\n<pre><code> var subscription = EventBus.asChannel&lt;NetEvent&gt;()\n    var s = scope.launch {\n        subscription.consumeEach { event -&gt;\n\n            Timber.i(\"NetEvent ${event.isConected}\")\n            currentNet = event.isConected\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 4057, "user_id": 778158, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ba1d026be595f3cc9f9a306a4e635c65?s=128&d=identicon&r=PG", "display_name": "Maurycy", "link": "https://stackoverflow.com/users/778158/maurycy"}, "is_accepted": true, "score": 0, "last_activity_date": 1595357360, "creation_date": 1595357360, "answer_id": 63021182, "question_id": 59450496, "link": "https://stackoverflow.com/questions/59450496/kotlin-mpp-cannot-resolve-stetho-interceptor/63021182#63021182", "title": "Kotlin MPP - Cannot resolve Stetho Interceptor", "body": "<p>you do not need to have jvm(&quot;android&quot;) if you already are using the android() target. if you want a separate jvm target then you should name it something different (ex. jvm(&quot;something&quot;) ).</p>\n<p>Once you add your android target and manifest + android definitions, the libraries should resolve. the facebook library likely depends on an android target which is why it is not resolving.</p>\n"}], "owner": {"reputation": 3, "user_id": 1750283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb193ea5b965ce1dfedb85679cc2874?s=128&d=identicon&r=PG", "display_name": "user1750283", "link": "https://stackoverflow.com/users/1750283/user1750283"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 63021182, "answer_count": 1, "score": 0, "last_activity_date": 1595357360, "creation_date": 1577078628, "last_edit_date": 1577165507, "question_id": 59450496, "link": "https://stackoverflow.com/questions/59450496/kotlin-mpp-cannot-resolve-stetho-interceptor", "title": "Kotlin MPP - Cannot resolve Stetho Interceptor", "body": "<p>I'm trying out for the first time to build a Kotlin MPP using a Kotlin DSL gradle file.\nThe issue is quite simple but I've been trying everything I could think of to fix it : the android shared code can't resolve Stetho interceptor</p>\n\n<p><a href=\"https://i.stack.imgur.com/g4aBZ.png\" rel=\"nofollow noreferrer\">Screenshot of the issue</a></p>\n\n<p>My build.gradle.kts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget\r\n\r\nplugins {\r\n    kotlin(\"multiplatform\")\r\n    id(\"kotlinx-serialization\")\r\n}\r\n\r\nkotlin {\r\n    //select iOS target platform depending on the Xcode environment variables\r\n    val iOSTarget: (String, KotlinNativeTarget.() -&gt; Unit) -&gt; KotlinNativeTarget =\r\n        if (System.getenv(\"SDK_NAME\")?.startsWith(\"iphoneos\") == true)\r\n            ::iosArm64\r\n        else\r\n            ::iosX64\r\n\r\n    iOSTarget(\"ios\") {\r\n        binaries {\r\n            framework {\r\n                baseName = \"SharedCode\"\r\n            }\r\n        }\r\n    }\r\n\r\n    jvm(\"android\")\r\n\r\n    sourceSets[\"commonMain\"].dependencies {\r\n        implementation(\"org.jetbrains.kotlin:kotlin-stdlib-common\")\r\n        implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-core-common:1.3.3\")\r\n        implementation(\"org.jetbrains.kotlinx:kotlinx-serialization-runtime-common:0.14.0\")\r\n\r\n        // HTTP\r\n        implementation(\"io.ktor:ktor-client-core:1.3.0-rc\")\r\n        implementation(\"io.ktor:ktor-client-json:1.3.0-rc\")\r\n        implementation(\"io.ktor:ktor-client-serialization:1.3.0-rc\")\r\n    }\r\n\r\n    sourceSets[\"androidMain\"].dependencies {\r\n        implementation(\"org.jetbrains.kotlin:kotlin-stdlib\")\r\n        implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.3\")\r\n        implementation(\"io.ktor:ktor-client-android:1.3.0-rc\")\r\n        implementation(\"io.ktor:ktor-client-json-jvm:1.3.0-rc\")\r\n        implementation(\"io.ktor:ktor-client-serialization-jvm:1.3.0-rc\")\r\n        implementation(\"io.ktor:ktor-client-okhttp:1.3.0-rc\")\r\n        implementation(\"com.squareup.okhttp3:logging-interceptor:4.0.1\")\r\n        implementation( \"com.facebook.stetho:stetho-okhttp3:1.5.1\")\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks a lot for your help !</p>\n\n<p>EDIT :</p>\n\n<p>So I found out that when I replace  </p>\n\n<p>jvm(\"android\")</p>\n\n<p>with </p>\n\n<p>android()</p>\n\n<p>Stetho-interceptor can be imported, but the \"expected\" and \"actual\" keyword are not correctly linked by Android studio for iOS :</p>\n\n<p>\"Actual property ... has no corresponding expected declaration\" when I hover an actual declaration for iOS</p>\n\n<p>When I use both </p>\n\n<p>jvm(\"android\")\nandroid()</p>\n\n<p>I get a gradle error : </p>\n\n<p>\"The target 'android' already exists, but it was not created with the 'jvm' preset. To configure it, access it by name in <code>kotlin.targets</code> or use the preset function 'android'.\"</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 421, "user_id": 8678319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6163362159fef7961021421c9a6b16d6?s=128&d=identicon&r=PG&f=1", "display_name": "kashyap", "link": "https://stackoverflow.com/users/8678319/kashyap"}, "edited": false, "score": 0, "creation_date": 1577076015, "post_id": 59450213, "comment_id": 105082822, "body": "follow this link.  <a href=\"https://medium.com/android-gate/recyclerview-item-click-listener-the-right-way-daecc838fbb9\" rel=\"nofollow noreferrer\">medium.com/android-gate/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2337, "user_id": 3827850, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/rCU6z.jpg?s=128&g=1", "display_name": "Ezio", "link": "https://stackoverflow.com/users/3827850/ezio"}, "is_accepted": false, "score": 0, "last_activity_date": 1577076134, "creation_date": 1577076134, "answer_id": 59450241, "question_id": 59450213, "link": "https://stackoverflow.com/questions/59450213/how-can-i-click-on-a-recyclerview-item-to-go-to-detailed-activity-and-apply-the/59450241#59450241", "title": "How can I click on a RecyclerView item to go to detailed activity and apply the title and price of the item in the RecyclerView that I clicked?", "body": "<p>The proper way to do this is to let your activity or fragment which holds the recycler view to open the details screen.</p>\n\n<p>Set a<code>onClick</code> listener in the viewholder or in any individual view if the recycler item. When that view is clicked, send a callback to your parent activity. Send the model which was clicked inside the listener callback.</p>\n\n<p>Your activity will get this callback and open the relevant activity.</p>\n\n<p>This way your recycler adapter wont have the reference of the details screen.</p>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 12180120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e2vlWSDn2g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcfE-7ziNnWl6pjCDnFtZ6p_v5y3g/photo.jpg?sz=128", "display_name": "Daesik Park", "link": "https://stackoverflow.com/users/12180120/daesik-park"}, "edited": false, "score": 0, "creation_date": 1577078352, "post_id": 59450416, "comment_id": 105083220, "body": "Thank u r comment. please, Can u explain more detail use kotlin?."}, {"owner": {"reputation": 1607, "user_id": 4708665, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-qXQRW3FZ2zk/AAAAAAAAAAI/AAAAAAAAABE/a-xzOqoJ8J4/photo.jpg?sz=128", "display_name": "Sandeep dhiman", "link": "https://stackoverflow.com/users/4708665/sandeep-dhiman"}, "reply_to_user": {"reputation": 111, "user_id": 12180120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e2vlWSDn2g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcfE-7ziNnWl6pjCDnFtZ6p_v5y3g/photo.jpg?sz=128", "display_name": "Daesik Park", "link": "https://stackoverflow.com/users/12180120/daesik-park"}, "edited": false, "score": 0, "creation_date": 1577078719, "post_id": 59450416, "comment_id": 105083304, "body": "@DaesikPark what details you want from my side if you want the same code in kotlin you can convert it to kotlin via android studio"}], "tags": [], "owner": {"reputation": 1607, "user_id": 4708665, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-qXQRW3FZ2zk/AAAAAAAAAAI/AAAAAAAAABE/a-xzOqoJ8J4/photo.jpg?sz=128", "display_name": "Sandeep dhiman", "link": "https://stackoverflow.com/users/4708665/sandeep-dhiman"}, "is_accepted": true, "score": 0, "last_activity_date": 1577077944, "creation_date": 1577077944, "answer_id": 59450416, "question_id": 59450213, "link": "https://stackoverflow.com/questions/59450213/how-can-i-click-on-a-recyclerview-item-to-go-to-detailed-activity-and-apply-the/59450416#59450416", "title": "How can I click on a RecyclerView item to go to detailed activity and apply the title and price of the item in the RecyclerView that I clicked?", "body": "<p>Create an Interface like this <br></p>\n\n<pre><code>    public interface ClickInterface {\n\n    public void recyclerviewOnClick(int position);\n}\n</code></pre>\n\n<p><br>\nImplement it in your Fragment and initialize the interface <br></p>\n\n<pre><code>  YourFragment extends Fragment implements ClickInterface{\n\nprivate ClickInterface listner;\n\n------- Your oncreateView   --------\nlistner=this; //Now pass this in your adapter\n    }\n</code></pre>\n\n<p><br>\nIn your adapter constructor get this listner like this <br></p>\n\n<pre><code>public MyAdapter(String[] myDataset,ClickInterface listner){\n    this.mDataset = myDataset;\n    this.listner=listner;\n}\n</code></pre>\n\n<p><br>\nand at last in your ViewHolder <br></p>\n\n<pre><code>public class MyViewHolder extends RecyclerView.ViewHolder{\n\n        public MyViewHolder(View v){\n            super(v);\n\n\nitemLayout.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n                    listner.recyclerviewOnClick(getAdapterPosition());\n\n                }\n            });\n        }\n    }\n</code></pre>\n\n<p><br>\nNow you will get the position in your fragment in <br></p>\n\n<pre><code>   public void recyclerviewOnClick(int position){\n// Here you will get the position\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 12180120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7e2vlWSDn2g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcfE-7ziNnWl6pjCDnFtZ6p_v5y3g/photo.jpg?sz=128", "display_name": "Daesik Park", "link": "https://stackoverflow.com/users/12180120/daesik-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59450416, "answer_count": 2, "score": 0, "last_activity_date": 1577081187, "creation_date": 1577075800, "last_edit_date": 1577081187, "question_id": 59450213, "link": "https://stackoverflow.com/questions/59450213/how-can-i-click-on-a-recyclerview-item-to-go-to-detailed-activity-and-apply-the", "title": "How can I click on a RecyclerView item to go to detailed activity and apply the title and price of the item in the RecyclerView that I clicked?", "body": "<p>I have <code>Recyclerview</code> items in <code>MainActivity</code>.</p>\n\n<p>When I click <code>recyclerview</code> item in <code>mainactivity</code>, go to <code>detailactivity</code>.\nAnd then I want apply the <code>titleText</code> and price of the item(realValueText) in the <code>recyclerview</code> that i clicked in <code>detailactivity</code>. How can I do ? Lets see <code>acitivity</code> and <code>adapter</code>.</p>\n\n<p>and u can see <code>detailactivity</code>. finally I want make details view, </p>\n\n<pre><code>productTitle==titleText , productPoint==realValueText.\n</code></pre>\n\n<p><strong>MainFragment</strong></p>\n\n<pre><code>class MainFragment: Fragment(), SwipeRefreshLayout.OnRefreshListener {\n\n    var itemList: MutableList&lt;ItemDataVo&gt; = arrayListOf()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?\n    ): View? { return inflater!!.inflate(R.layout.fragmenta, container, false)}\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        itemList.clear()\n\n        swipeRefreshLo.setOnRefreshListener(this)\n\n        itemList.add(ItemDataVo(\"item1\", 49000, 29000, \"r_300_x_300_3\"))\n        itemList.add(ItemDataVo(\"item2\", 49000, 29000, \"main_cup\"))\n        itemList.add(ItemDataVo(\"item3\", 49000, 29000, \"main_perfume\"))\n        itemList.add(ItemDataVo(\"item4\", 49000, 29000, \"main_fan\"))\n        itemList.add(ItemDataVo(\"item5\", 49000, 29000, \"main_bear\"))\n        itemList.add(ItemDataVo(\"item6\", 49000, 29000, \"main_glass\"))\n\n        val itemRecyclerAdapter= ItemRecyclerAdapter(context!!,itemList)\n        recycler_view.adapter=itemRecyclerAdapter\n        recycler_view.layoutManager = androidx.recyclerview.widget.LinearLayoutManager(context)\n\n\n    }\n\n\n    override fun onRefresh() {\n            swipeRefreshLo.isRefreshing = false\n\n        }\n\n    }\n</code></pre>\n\n<p><strong>ItemDataVo</strong></p>\n\n<pre><code>class ItemDataVo(title: String, realValue: Int, pointValue: Int, imageView: String, viewType: Int = 0) {\n    var viewType = viewType\n    var title :String = title\n    var realValue:Int = realValue\n    var pointValue:Int =pointValue\n    var image :String = imageView\n}\n</code></pre>\n\n<p><strong>ItemRecyclerAdapter</strong></p>\n\n<pre><code> class ItemRecyclerAdapter(val context: Context, private var dataList: MutableList&lt;ItemDataVo&gt;) : RecyclerView.Adapter&lt;ItemRecyclerAdapter.Holder&gt;() {\n\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Holder {\n          val view = LayoutInflater.from(context).inflate(R.layout.item_1_col_list, parent, false)\n          return Holder(view)\n        }\n\n        override fun onBindViewHolder(holder: Holder, position: Int) {\n          holder?.bind(dataList[position],context)\n        }\n\n        override fun getItemCount(): Int = dataList.size\n        override fun getItemViewType(position: Int): Int = dataList[position].viewType\n\n\n        inner class Holder(itemView: View?) : RecyclerView.ViewHolder(itemView!!) {\n            var titleText = itemView?.findViewById(R.id.titleText) as TextView\n            var realValueText = itemView?.findViewById(R.id.realValueText) as TextView\n            var pointValueText = itemView?.findViewById(R.id.pointValueText) as TextView\n            var imageView = itemView?.findViewById(R.id.imageView)as ImageView\n            var itemLayout = itemView?.findViewById(R.id.item_layout) as ConstraintLayout\n\n            fun bind(data:ItemDataVo, context: Context) {\n                if(data.image !=\"\") {\n                    val resourceId = context.resources.getIdentifier(data.image, \"drawable\", context.packageName)\n                    imageView?.setImageResource(resourceId)\n                }else {\n                    imageView?.setImageResource(R.mipmap.ic_launcher)\n                }\n\n                pointValueText?.text=data.pointValue.toString() + \"P\"\n                realValueText?.text=data.realValue.toString()\n                titleText?.text=data.title\n                itemLayout?.setOnClickListener {\n                    val i = Intent(it.context, DetailItemViewActivity::class.java)\n                    it.context.startActivity(i)\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>DetailItemViewActivity</strong></p>\n\n<pre><code>class DetailItemViewActivity : AppCompatActivity(), SwipeRefreshLayout.OnRefreshListener {\n\n\n    var Detailslist: MutableList&lt;DetailItemDataVo&gt; = arrayListOf()\n\n    @SuppressLint(\"ResourceType\")\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_details)\n\n        var productTitle = findViewById&lt;TextView&gt;(R.id.productTitle)\n        var productpoint = findViewById&lt;TextView&gt;(R.id.productPoint)\n</code></pre>\n"}, {"tags": ["kotlin", "adapter"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12582604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c46eb7ee817d31c9b6f70c45ca813a?s=128&d=identicon&r=PG&f=1", "display_name": "LaylaSM", "link": "https://stackoverflow.com/users/12582604/laylasm"}, "edited": false, "score": 0, "creation_date": 1577076136, "post_id": 59450100, "comment_id": 105082834, "body": "how can I filll it, if the second constructor is list? I confuse to fill it, example, movieAdapter = MovieAdapter( this, &quot;list&quot;) thank you"}, {"owner": {"reputation": 443, "user_id": 9378439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uRAIXKCAE-g/AAAAAAAAAAI/AAAAAAAAAJA/3p6Mreec-XI/photo.jpg?sz=128", "display_name": "daniel.jbatiz", "link": "https://stackoverflow.com/users/9378439/daniel-jbatiz"}, "reply_to_user": {"reputation": 1, "user_id": 12582604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c46eb7ee817d31c9b6f70c45ca813a?s=128&d=identicon&r=PG&f=1", "display_name": "LaylaSM", "link": "https://stackoverflow.com/users/12582604/laylasm"}, "edited": false, "score": 1, "creation_date": 1577076982, "post_id": 59450100, "comment_id": 105082984, "body": "If you have a Movie class , you got to create a list of Movies and pass it to the Movie Adapter."}], "tags": [], "owner": {"reputation": 443, "user_id": 9378439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uRAIXKCAE-g/AAAAAAAAAAI/AAAAAAAAAJA/3p6Mreec-XI/photo.jpg?sz=128", "display_name": "daniel.jbatiz", "link": "https://stackoverflow.com/users/9378439/daniel-jbatiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1577074462, "creation_date": 1577074462, "answer_id": 59450100, "question_id": 59450041, "link": "https://stackoverflow.com/questions/59450041/lateinit-property-movieadapter-has-not-been-initialized-kotlin/59450100#59450100", "title": "lateinit property movieAdapter has not been initialized Kotlin", "body": "<p><code>movieAdapter = MovieAdapter(/*pass the required data to construct this*/)</code></p>\n\n<p>Where to initiate this ? , it depends on the items required by the constructor.</p>\n"}], "owner": {"reputation": 1, "user_id": 12582604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c46eb7ee817d31c9b6f70c45ca813a?s=128&d=identicon&r=PG&f=1", "display_name": "LaylaSM", "link": "https://stackoverflow.com/users/12582604/laylasm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577081489, "creation_date": 1577073713, "last_edit_date": 1577081489, "question_id": 59450041, "link": "https://stackoverflow.com/questions/59450041/lateinit-property-movieadapter-has-not-been-initialized-kotlin", "title": "lateinit property movieAdapter has not been initialized Kotlin", "body": "<p>How can I resolve the error? lateinit property movieAdapter has not been initialized. I don't understand how to initiate this </p>\n\n<pre><code>class SearchActivity : BaseAppCompatActivity() {\n\n    private lateinit var movieViewModel: MovieViewModel\n    private lateinit var movieAdapter: MovieAdapter\n    private lateinit var tvShowAdapter: TvShowAdapter\n    private lateinit var query: String\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_search)\n\n        query = intent.getStringExtra(EXTRA_QUERY)!!\n        movieViewModel = ViewModelProviders.of(this).get(MovieViewModel::class.java)\n        movieViewModel.movies.observe(this, getMovie)\n        val adapter = ArrayAdapter&lt;String&gt;(\n            applicationContext, android.R.layout.simple_spinner_dropdown_item,\n            resources.getStringArray(R.array.filter_search)\n        )\n        spinner_search_activity.adapter = adapter\n        spinner_search_activity.onItemSelectedListener =\n            object : AdapterView.OnItemSelectedListener {\n                override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n\n                }\n\n                override fun onItemSelected(\n                    parent: AdapterView&lt;*&gt;?,\n                    view: View?,\n                    position: Int,\n                    id: Long\n                ) {\n                    pb_search_activity.visibility = View.VISIBLE\n                    tv_null_search_activity.visibility = View.GONE\n                    if (spinner_search_activity.selectedItemPosition == 0) {\n                        searchMovie()\n                    } else if (spinner_search_activity.selectedItemPosition == 1) {\n                        searchTvShow()\n                    }\n                }\n\n            }\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "opengl-es", "glsl", "opengl-es-2.0"], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 11382482, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161555234955293/picture?type=large", "display_name": "Jonah M", "link": "https://stackoverflow.com/users/11382482/jonah-m"}, "edited": false, "score": 0, "creation_date": 1577127555, "post_id": 59453103, "comment_id": 105101465, "body": "I actually use floats in the actual project. I also added the error checking as suggested but it compiles fine... Any other suggestions?"}, {"owner": {"reputation": 158, "user_id": 11382482, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161555234955293/picture?type=large", "display_name": "Jonah M", "link": "https://stackoverflow.com/users/11382482/jonah-m"}, "edited": false, "score": 0, "creation_date": 1577128903, "post_id": 59453103, "comment_id": 105101885, "body": "and as for your other comments, I tried setting <code>v_Color = a_Color</code> with no luck, and the camera is set to (0,0,-5), so don&#39;t the normals point towards it?"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "reply_to_user": {"reputation": 158, "user_id": 11382482, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161555234955293/picture?type=large", "display_name": "Jonah M", "link": "https://stackoverflow.com/users/11382482/jonah-m"}, "edited": false, "score": 0, "creation_date": 1577439550, "post_id": 59453103, "comment_id": 105170256, "body": "@JonahM <code>glVertexAttrib4f</code> rather than <code>glVertexAttribI4i</code>."}, {"owner": {"reputation": 158, "user_id": 11382482, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161555234955293/picture?type=large", "display_name": "Jonah M", "link": "https://stackoverflow.com/users/11382482/jonah-m"}, "edited": false, "score": 0, "creation_date": 1577469710, "post_id": 59453103, "comment_id": 105181231, "body": "I use floats in all cases in the actual project, but I mistakenly substituted integers here in an attempt to simplify my example... Sorry for the confusion"}], "tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": false, "score": 1, "last_activity_date": 1577610229, "last_edit_date": 1577610229, "creation_date": 1577094232, "answer_id": 59453103, "question_id": 59449194, "link": "https://stackoverflow.com/questions/59449194/opengl-es-2-0-glsl-not-rendering-data-kotlin/59453103#59453103", "title": "OpenGL ES 2.0 / GLSL not rendering data (Kotlin)", "body": "<p>If you want to use color values in range [0.0, 1.0] then you've to use <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/es3.0/html/glVertexAttrib.xhtml\" rel=\"nofollow noreferrer\"><code>glVertexAttrib4f</code></a> rather than <code>glVertexAttribI4i</code>:</p>\n\n<p><s><code>glVertexAttribI4i(aColor,1,1,1,1)</code></s> </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>glVertexAttrib4f(aColor,1.0f,1.0f,1.0f,1.0f)\n</code></pre>\n\n<p><code>glVertexAttribI</code>* assumes the values to be signed or unsigned fixed-point values in range [-2147483647, 2147483647] or [0, 4294967295]. A value of 1 is almost black.</p>\n\n<hr>\n\n<p>The type of the <code>u_LightPos</code> is floating point (<code>vec3</code>):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>uniform vec3 u_LightPos; \n</code></pre>\n\n<p>You've to use <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glUniform.xhtml\" rel=\"nofollow noreferrer\"><code>glUniform3f</code></a> rather than <code>glUniform3i</code>to set the value of a floating point uniform variable:</p>\n\n<p><s><code>glUniform3i(uLightPos,-1,-10,-1)</code></s></p>\n\n<pre><code>glUniform3f(uLightPos,-1f,-10f,-1f)\n</code></pre>\n\n<hr>\n\n<p>I recommend to verify if the shader is complied successfully by <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glGetShader.xhtml\" rel=\"nofollow noreferrer\"><code>glGetShaderiv</code></a> (parameter <code>GL_COMPILE_STATUS</code>). Compile error messages can be retrieved by <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glGetShaderInfoLog.xhtml\" rel=\"nofollow noreferrer\"><code>glGetShaderInfoLog</code></a></p>\n\n<hr>\n\n<p>I recommend to add an ambient light component (for debug reasons) \ne.g.: </p>\n\n<pre class=\"lang-c prettyprint-override\"><code>v_Color = a_Color*(diffuse + 0.5);\n</code></pre>\n\n<p>If you can \"see\" the geometry with the ambient light, then there are some possible issues: </p>\n\n<ol>\n<li><p>the light source is on the back side of the geometry, so the back side is lit, but not the front side. That cause that only the almost black, unlit side is visible from the point of view.</p></li>\n<li><p>The distance of the light source to the geometry is \"too large\". <code>distance</code> becomes a very huge value and so <code>diffuse</code> is very small and all the geometry is almost black.</p></li>\n<li><p>The light source is in the closed volume of the geometry.</p></li>\n<li><p>All the normal vectors point away from the camera. That may cause that <code>dot(normal, lightVector)</code> is less than 0.0. </p></li>\n</ol>\n"}], "owner": {"reputation": 158, "user_id": 11382482, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161555234955293/picture?type=large", "display_name": "Jonah M", "link": "https://stackoverflow.com/users/11382482/jonah-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577610229, "creation_date": 1577062399, "last_edit_date": 1577469976, "question_id": 59449194, "link": "https://stackoverflow.com/questions/59449194/opengl-es-2-0-glsl-not-rendering-data-kotlin", "title": "OpenGL ES 2.0 / GLSL not rendering data (Kotlin)", "body": "<p>I am trying to implement a basic shading program with GLES 2/3, and have pieced together this code from various tutorials. Everything looks correct to me, and it compiles fine, but nothing appears on my screen.</p>\n\n<p>It rendered fine until I added Normal and Light Position data, then it broke and I haven't been able to find a way to fix it.</p>\n\n<p>Can anyone see what's wrong here?</p>\n\n<pre><code>class MyRenderer:GLSurfaceView.Renderer{\n\n    var glProgram = -1\n    var uMV       = -1\n    var uMVP      = -1\n    var uLightPos = -1\n    var aPosition = -1\n    var aNormal   = -1\n    var aColor    = -1\n\n    val verts = arrayOf(0f,1f,0f, -1f,0f,0f,  1f,0f,0f)\n    val vBuf  = allocateDirect(verts.size*4).order(nativeOrder()).asFloatBuffer()\n    val norms = arrayOf(0f,0f,-1f,  0f,0f,-1f,  0f,0f,-1f)\n    val nBuf  = allocateDirect(norms.size*4).order(nativeOrder()).asFloatBuffer()\n\n    override fun onSurfaceCreated(g:GL10,c:EGLConfig) {\n        glClearColor(0f,0f,0f,1f)\n        glClearDepthf(1f)\n        glClear(GL_COLOR_BUFFER_BIT or GL_DEPTH_BUFFER_BIT)\n\n        glProgram = glCreateProgram()\n\n        val vShader = glCreateShader(GL_VERTEX_SHADER)\n        glShaderSource(vShader,\"#version 100\\n                    \" +\n            \"uniform   mat4 u_mvMat;                              \" +\n            \"uniform   mat4 u_mvpMat;                             \" +\n            \"uniform   vec3 u_LightPos;                           \" +\n            \"attribute vec4 a_Position;                           \" +\n            \"attribute vec3 a_Normal;                             \" +\n            \"attribute vec4 a_Color;                              \" +\n            \"varying   vec4 v_Color;                              \" +\n            \"void main(){                                         \" +\n            \"   vec3 vertex = vec3(u_mvMat*a_Position);           \" +\n            \"   vec3 normal = vec3(u_mvMat*vec4(a_Normal,0.0));   \" +\n            \"   vec3 lightVector = normalize(u_LightPos-vertex);  \" +\n            \"   float distance = length(u_LightPos-vertex);       \" +\n            \"   float diffuse = max(dot(normal,lightVector),0.1)  \" +\n            \"                   / (1.0+distance*distance/4.0);    \" +\n            \"   v_Color = a_Color*diffuse;                        \" +\n            \"   gl_Position = u_mvpMat*a_Position;}               \" )\n        glCompileShader(vShader)\n        glAttachShader(glProgram,vShader)\n\n        val fShader = glCreateShader(GL_FRAGMENT_SHADER)\n        glShaderSource(fShader,\"#version 100\\n                    \" +\n            \"precision mediump float;                             \" +\n            \"varying vec4 v_Color;                                \" +\n            \"void main(){                                         \" +\n            \"   gl_FragColor = v_Color;}                          \" )\n        glCompileShader(fShader)\n        glAttachShader(glProgram,fShader)\n\n        glLinkProgram(glProgram)\n        glUseProgram(glProgram)\n\n        uMVP      = glGetUniformLocation(glProgram,\"u_mvpMat\")\n        uMV       = glGetUniformLocation(glProgram,\"u_mvMat\")\n        uLightPos = glGetUniformLocation(glProgram,\"u_LightPos\")\n        aPosition = glGetAttribLocation (glProgram,\"a_Position\")\n        aNormal   = glGetAttribLocation (glProgram,\"a_Normal\")\n        aColor    = glGetAttribLocation (glProgram,\"a_Color\")\n\n        glVertexAttribPointer(aPosition,4,GL_FLOAT,false,3*4,vBuf)\n        glEnableVertexAttribArray(aPosition)\n        glVertexAttribPointer(aNormal,4,GL_FLOAT,false,3*4,nBuf)\n        glEnableVertexAttribArray(aNormal)\n\n        val modelM = FloatArray(16)\n        setIdentityM(modelM,0)\n        val viewM = FloatArray(16)\n        setLookAtM(viewM,0,  0f,0f,-5f,  0f,0f,0f,  0f,0f,1f)\n        val projM = FloatArray(16)\n        frustumM(projM,0, -2f,2f, 1f,-1f, 1f,50f)\n        val mvM = FloatArray(16)\n        multiplyMM(mvM,0,viewM,0,modelM,0)\n        glUniformMatrix4fv(uMV,1,false,mvM,0)\n        val mvpM = FloatArray(16)\n        multiplyMM(mvpM,0,projM,0,mvM,0)\n        glUniformMatrix4fv(uMVP,1,false,mvpM,0)\n\n        glUniform3v(uLightPos,-1f,-10f,-1f)\n\n        glVertexAttrib4f(aColor,1f,1f,1f,1f)\n        glDrawArrays(GL_TRIANGLES,0,verts.size/3)\n    }\n    override fun onSurfaceChanged(g:GL10,w:Int,h:Int){}\n    override fun onDrawFrame(g:GL10){}\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "google-play"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5505694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xaHlDaRsoCA/AAAAAAAAAAI/AAAAAAAAA0Y/EBuGibSrEEc/photo.jpg?sz=128", "display_name": "BacII", "link": "https://stackoverflow.com/users/5505694/bacii"}, "edited": false, "score": 0, "creation_date": 1577076697, "post_id": 59449445, "comment_id": 105082925, "body": "I have tried already, and try many cases also but still cannot solve."}], "tags": [], "owner": {"reputation": 629, "user_id": 4601557, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YtQvuLVK7As/AAAAAAAAAAI/AAAAAAAAAEE/m-gRsmwnKW4/photo.jpg?sz=128", "display_name": "Itamar Garcia", "link": "https://stackoverflow.com/users/4601557/itamar-garcia"}, "is_accepted": false, "score": 2, "last_activity_date": 1577066390, "creation_date": 1577066390, "answer_id": 59449445, "question_id": 59449187, "link": "https://stackoverflow.com/questions/59449187/cannot-upload-android-app-release-apk-to-play-store/59449445#59449445", "title": "Cannot upload android app-release.apk to play store", "body": "<p>You have to setting up your app to support 64 bits\nhere is the docs how to update your app\n<a href=\"https://developer.android.com/distribute/best-practices/develop/64-bit\" rel=\"nofollow noreferrer\">https://developer.android.com/distribute/best-practices/develop/64-bit</a></p>\n\n<p>I recommend you read this post </p>\n\n<p><a href=\"https://android-developers.googleblog.com/2019/01/get-your-apps-ready-for-64-bit.html\" rel=\"nofollow noreferrer\">https://android-developers.googleblog.com/2019/01/get-your-apps-ready-for-64-bit.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 10614939, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HQP7gkBg6SY/AAAAAAAAAAI/AAAAAAAAABM/Z49TFAtU0Og/photo.jpg?sz=128", "display_name": "Hasib A.", "link": "https://stackoverflow.com/users/10614939/hasib-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1577168233, "creation_date": 1577168233, "answer_id": 59464602, "question_id": 59449187, "link": "https://stackoverflow.com/questions/59449187/cannot-upload-android-app-release-apk-to-play-store/59464602#59464602", "title": "Cannot upload android app-release.apk to play store", "body": "<p>I recommend you to not put the release .apk file into Play Store Console. Instead, generate a .aab file and upload it to Play Console and they will create an optimized version of .apk for you. It takes lesser time for them to review your release as well. \nHere you can find more details about it: \n<a href=\"https://developer.android.com/guide/app-bundle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/app-bundle</a></p>\n"}], "owner": {"reputation": 29, "user_id": 5505694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xaHlDaRsoCA/AAAAAAAAAAI/AAAAAAAAA0Y/EBuGibSrEEc/photo.jpg?sz=128", "display_name": "BacII", "link": "https://stackoverflow.com/users/5505694/bacii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577168233, "creation_date": 1577062306, "last_edit_date": 1577167897, "question_id": 59449187, "link": "https://stackoverflow.com/questions/59449187/cannot-upload-android-app-release-apk-to-play-store", "title": "Cannot upload android app-release.apk to play store", "body": "<p>I have problem on upload my app-release.apk to play store, the apk is uploaded normal but when I upload during this week, play store take long time for review and reject my apk. Until now I cannot upload. I have search but the solution seem not specific. some solution with 64bit compliant </p>\n\n<p>When I add this line to my gradle:</p>\n\n<pre><code>ndk.abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'\n</code></pre>\n\n<p>and upload again still, play store still reject.</p>\n\n<p>In my alpha play store I see this information:</p>\n\n<blockquote>\n  <p>This release is compliant with the Google Play 64-bit requirement.</p>\n</blockquote>\n\n<p>I am using Android Native.</p>\n"}, {"tags": ["android-studio", "kotlin", "dialogfragment"], "comments": [{"owner": {"reputation": 340, "user_id": 10460106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294413d313a6d070b4f1776ab806f87e?s=128&d=identicon&r=PG&f=1", "display_name": "LDS", "link": "https://stackoverflow.com/users/10460106/lds"}, "edited": false, "score": 0, "creation_date": 1577078933, "post_id": 59449115, "comment_id": 105083344, "body": "val fragment = ConfirmDeleteDialogFragment()  here just you take reference .Try to provide momery by using new key  word"}, {"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "reply_to_user": {"reputation": 340, "user_id": 10460106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294413d313a6d070b4f1776ab806f87e?s=128&d=identicon&r=PG&f=1", "display_name": "LDS", "link": "https://stackoverflow.com/users/10460106/lds"}, "edited": false, "score": 0, "creation_date": 1577081050, "post_id": 59449115, "comment_id": 105083798, "body": "@LDS It&#39;s Kotlin, you don&#39;t have to and can&#39;t use <code>new</code> keyword."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 6089011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6s304.png?s=128&g=1", "display_name": "Xinkle", "link": "https://stackoverflow.com/users/6089011/xinkle"}, "is_accepted": true, "score": 3, "last_activity_date": 1577107026, "last_edit_date": 1577107026, "creation_date": 1577073434, "answer_id": 59450009, "question_id": 59449115, "link": "https://stackoverflow.com/questions/59449115/fragment-showfragmentmanager-confirmdelete-error/59450009#59450009", "title": "fragment.show(fragmentManager,&quot;confirmDelete&quot;) error", "body": "<p><code>fragmentManager</code> is deprecated:</p>\n\n<pre><code>    /**\n     * Return the FragmentManager for interacting with fragments associated\n     * with this activity.\n     *\n     * @deprecated Use {@link android.support.v4.app.FragmentActivity#getSupportFragmentManager()}\n     */\n    @Deprecated\n    public FragmentManager getFragmentManager() {\n        return mFragments.getFragmentManager();\n    }\n</code></pre>\n\n<p>So you must use <code>supportFragmentManager</code> instead of <code>fragmentManager</code>.</p>\n\n<p>It will not be compiled if you use <code>fragmentManager</code> (as marked red line, it seems on your screenshot too).</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 10139078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c62b717746a977722f32821696449dae?s=128&d=identicon&r=PG&f=1", "display_name": "A. ERIC", "link": "https://stackoverflow.com/users/10139078/a-eric"}, "is_accepted": false, "score": 0, "last_activity_date": 1577086561, "creation_date": 1577086561, "answer_id": 59451640, "question_id": 59449115, "link": "https://stackoverflow.com/questions/59449115/fragment-showfragmentmanager-confirmdelete-error/59451640#59451640", "title": "fragment.show(fragmentManager,&quot;confirmDelete&quot;) error", "body": "<p>Thank you <strong>supportFragmentManager</strong> solved my problem well. :)</p>\n\n<pre><code>fragment.show(supportFragmentManager  ,\"confirmDelete\")\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10139078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c62b717746a977722f32821696449dae?s=128&d=identicon&r=PG&f=1", "display_name": "A. ERIC", "link": "https://stackoverflow.com/users/10139078/a-eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "accepted_answer_id": 59450009, "answer_count": 2, "score": 1, "last_activity_date": 1577107026, "creation_date": 1577061268, "question_id": 59449115, "link": "https://stackoverflow.com/questions/59449115/fragment-showfragmentmanager-confirmdelete-error", "title": "fragment.show(fragmentManager,&quot;confirmDelete&quot;) error", "body": "<p>Please help me, I'm new to kotlin programming. Since this morning i have this problem and I can't solve it. I don't understand the error, ... This is this line of code: fragment.show (fragmentManager, \"confirmDelete\")</p>\n\n<p><a href=\"https://i.stack.imgur.com/wi0n8.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>\nimport android.app.PendingIntent.getActivity\nimport android.content.Intent\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.graphics.Typeface\nimport androidx.core.app.ComponentActivity\nimport androidx.core.app.ComponentActivity.ExtraData\nimport androidx.core.content.ContextCompat.getSystemService\nimport android.icu.lang.UCharacter.GraphemeClusterBreak.T\nimport android.util.Log\nimport android.view.View\nimport android.widget.Button\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val user = User(\"ACHAKA\", \"Eric\", 26)\n\n        val button1 = findViewById&lt;View&gt;(R.id.button1)\n        button1.setOnClickListener {\n            println(\"Start 2nd activity\")\n            val intent = Intent(this, GreenActivity::class.java)\n            intent.putExtra(\"user\", user)\n            startActivity(intent)\n        }\n\n        findViewById&lt;View&gt;(R.id.button2).setOnClickListener{\n            val fragment = ConfirmDeleteDialogFragment()\n            fragment.listener = object: ConfirmDeleteDialogFragment.ConfirmDeleteListener {\n                override fun onDialogPositiveClick() {\n                    Log.i(\"MainActivity\", \"onDialogPositiveClick()\")\n                }\n                override fun onDialogNegativeClick() {\n                    Log.i(\"MainActivity\", \"onDialogNegativeClick()\")\n                }\n            }\n            fragment.show(fragmentManager,\"confirmDelete\")\n\n        }\n    }\n}\n</code></pre>\n\n<p>ConfirmDeleteDialogFragment.kt</p>\n\n<pre><code>\nimport android.app.AlertDialog\nimport android.app.Dialog\nimport android.content.DialogInterface\nimport android.os.Bundle\nimport android.util.Log\nimport androidx.fragment.app.DialogFragment\n\nclass ConfirmDeleteDialogFragment: DialogFragment() {\n\n    interface ConfirmDeleteListener {\n        fun onDialogPositiveClick()\n        fun onDialogNegativeClick()\n    }\n\n    val TAG = ConfirmDeleteDialogFragment::class.java.simpleName\n\n    var listener: ConfirmDeleteListener? = null\n\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        val builder = AlertDialog.Builder(activity)\n        builder.setMessage(\"Supprimer tout le contenu du t\u00e9l\u00e9phone ?\")\n            .setPositiveButton(\"Oh oui !\", object: DialogInterface.OnClickListener {\n                override fun onClick(dialog: DialogInterface?, id: Int) {\n                    Log.i(TAG, \"Youpi ! on va tout casser\")\n                    listener?.onDialogPositiveClick()\n                }\n            })\n            .setNegativeButton(\"Euh... Non\", DialogInterface.OnClickListener { dialog, id -&gt;\n                Log.i(TAG, \"Bon ben ce sera pour la prochaine fois\")\n                dialog.dismiss()\n                listener?.onDialogNegativeClick()\n            })\n\n        return builder.create()\n    }\n\n\n}\n</code></pre>\n\n<p>Logcat (error)</p>\n\n<pre><code>:55:54.868 25808-25808/aea.com E/Zygote: v2\n2019-12-23 00:55:54.883 25808-25808/aea.com E/Zygote: accessInfo : 0\n2019-12-23 00:55:57.485 25808-25808/aea.com E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: aea.com, PID: 25808\n    java.lang.NullPointerException: Attempt to invoke virtual method 'androidx.fragment.app.FragmentTransaction androidx.fragment.app.FragmentManager.beginTransaction()' on a null object reference\n        at androidx.fragment.app.DialogFragment.show(DialogFragment.java:142)\n        at aea.com.MainActivity$onCreate$2.onClick(MainActivity.kt:42)\n        at android.view.View.performClick(View.java:6207)\n        at android.view.View$PerformClick.run(View.java:23639)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6688)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)\n\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "fusedlocationproviderapi", "fusedlocationproviderclient"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1577057699, "post_id": 59448810, "comment_id": 105080275, "body": "&quot;the app crashes&quot; -- if you mean you crash at runtime, check Logcat to see what the stack trace is."}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1577058264, "post_id": 59448810, "comment_id": 105080373, "body": "@CommonsWare I&#39;ve added the crash log. Im pretty new to android dev so it might take me a bit to figure things out here."}], "answers": [{"comments": [{"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1577060017, "post_id": 59449013, "comment_id": 105080659, "body": "How do you know to use &#39;17.0.0&#39; ?  How do you know that that is the version you have installed. Where do you check that?"}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1577060657, "post_id": 59449013, "comment_id": 105080781, "body": "Well, heck! This worked. But I really need to know why it did?"}, {"owner": {"reputation": 171, "user_id": 12578890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ywQC3.jpg?s=128&g=1", "display_name": "buggily", "link": "https://stackoverflow.com/users/12578890/buggily"}, "reply_to_user": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1577162791, "post_id": 59449013, "comment_id": 105108294, "body": "Hi again, I am glad this helped! To check versions for Android dependencies, I rely on <a href=\"https://mvnrepository.com\" rel=\"nofollow noreferrer\">mvnrepository.com</a> which lists stable version histories as well as alpha and beta channels. For instance, <a href=\"https://mvnrepository.com/artifact/com.google.android.gms/play-services-location\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.google.android.gms/&hellip;</a> would be where I would lookup the latest version for play-services-location. Like in this case, similar libraries from the same organization will often match in version. To check which version(s) you have installed, you can always reference the app/build.gradle."}, {"owner": {"reputation": 171, "user_id": 12578890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ywQC3.jpg?s=128&g=1", "display_name": "buggily", "link": "https://stackoverflow.com/users/12578890/buggily"}, "reply_to_user": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1577163395, "post_id": 59449013, "comment_id": 105108414, "body": "The app/build.gradle in Android Studio will often warn you if have an outdated version but may recommend an alpha, beta, or release track. If you would rather use a stable release, search for the library in Maven as I suggested. Another similar resource is <a href=\"https://maven.google.com/web/index.html\" rel=\"nofollow noreferrer\">maven.google.com/web/index.html</a> which lists versions specific to Android libraries supported by Google. It&#39;s a good idea to default to the latest versions unless you have a specific reason for not doing so."}, {"owner": {"reputation": 171, "user_id": 12578890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ywQC3.jpg?s=128&g=1", "display_name": "buggily", "link": "https://stackoverflow.com/users/12578890/buggily"}, "reply_to_user": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1577163401, "post_id": 59449013, "comment_id": 105108416, "body": "As you have found, old versions can have conflicting library dependencies as things get patched or become deprecated. I am sure that version combination you listed worked well at one point but sometimes bugs like this come about with time. Cheers!"}], "tags": [], "owner": {"reputation": 171, "user_id": 12578890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ywQC3.jpg?s=128&g=1", "display_name": "buggily", "link": "https://stackoverflow.com/users/12578890/buggily"}, "is_accepted": true, "score": 1, "last_activity_date": 1577059822, "creation_date": 1577059822, "answer_id": 59449013, "question_id": 59448810, "link": "https://stackoverflow.com/questions/59448810/kotlin-getfusedlocationproviderclient-crashes/59449013#59449013", "title": "Kotlin: getFusedLocationProviderClient crashes", "body": "<p>I think I ran into a similar issue once upon a time; it was due to versioning conflicts between Play Services dependencies. I currently use the following to utilize the FusedLocationProviderClient:</p>\n\n<pre><code>dependencies {\n    def play_services_version = '17.0.0'\n\n    ...\n\n    implementation \"com.google.android.gms:play-services-maps:$play_services_version\"\n    implementation \"com.google.android.gms:play-services-location:$play_services_version\"\n}\n</code></pre>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 59449013, "answer_count": 1, "score": 1, "last_activity_date": 1577059822, "creation_date": 1577057528, "last_edit_date": 1577058222, "question_id": 59448810, "link": "https://stackoverflow.com/questions/59448810/kotlin-getfusedlocationproviderclient-crashes", "title": "Kotlin: getFusedLocationProviderClient crashes", "body": "<p>I am following a tutorial <a href=\"https://www.raywenderlich.com/230-introduction-to-google-maps-api-for-android-with-kotlin\" rel=\"nofollow noreferrer\">from Raywenderlich on Google Maps with Kotlin</a>. I have the following code that crashes for reasons I cannot fathom: </p>\n\n<p><strong>MapActivity.kt</strong></p>\n\n<pre><code>import com.google.android.gms.location.LocationServices\n...\nprivate lateinit var map: GoogleMap\nprivate lateinit var fusedLocationClient: FusedLocationProviderClient\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_maps)\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    val mapFragment = supportFragmentManager\n        .findFragmentById(R.id.map) as SupportMapFragment\n    mapFragment.getMapAsync(this)\n\n    fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n}\n</code></pre>\n\n<hr>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.core:core-ktx:1.0.2'\n    implementation 'com.google.android.gms:play-services-maps:16.1.0'\n    implementation 'com.google.android.gms:play-services-location:11.8.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n</code></pre>\n\n<p>I have commented out <code>getFusedLocationProviderClient()</code> and the app runs fine. Once that is uncommented, the app crashes. Is there something I am doing wrong? Is it possibly the reference to <code>gms:play-services-location:11.8.0</code> version that could be the issue. If so how do I check what version I have installed?</p>\n\n<p><strong>Update Here is the clash log from Logcat</strong></p>\n\n<pre><code>--------- beginning of crash\n2019-12-23 09:37:02.698 14916-14916/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.johndoe.cityguide, PID: 14916\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/api/Api$zzf;\n        at com.google.android.gms.location.LocationServices.&lt;clinit&gt;(Unknown Source:0)\n        at com.google.android.gms.location.LocationServices.getFusedLocationProviderClient(Unknown Source:0)\n        at com.johndoe.cityguide.MapsActivity.onCreate(MapsActivity.kt:29)\n        at android.app.Activity.performCreate(Activity.java:7009)\n        at android.app.Activity.performCreate(Activity.java:7000)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.common.api.Api$zzf\" on path: DexPathList[[zip file \"/data/app/com.johndoe.cityguide-jR7TeGEs6Oxa46o3Ce5Zcw==/base.apk\"],nativeLibraryDirectories=[/data/app/com.johndoe.cityguide-jR7TeGEs6Oxa46o3Ce5Zcw==/lib/x86, /system/lib, /vendor/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:125)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.android.gms.location.LocationServices.&lt;clinit&gt;(Unknown Source:0)\u00a0\n        at com.google.android.gms.location.LocationServices.getFusedLocationProviderClient(Unknown Source:0)\u00a0\n        at com.johndoe.cityguide.MapsActivity.onCreate(MapsActivity.kt:29)\u00a0\n        at android.app.Activity.performCreate(Activity.java:7009)\u00a0\n        at android.app.Activity.performCreate(Activity.java:7000)\u00a0\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\u00a0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\u00a0\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\u00a0\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:106)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\u00a0\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2402, "user_id": 6464513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qEP9S.jpg?s=128&g=1", "display_name": "Sina", "link": "https://stackoverflow.com/users/6464513/sina"}, "is_accepted": false, "score": 0, "last_activity_date": 1577267058, "creation_date": 1577267058, "answer_id": 59477112, "question_id": 59448728, "link": "https://stackoverflow.com/questions/59448728/refreshing-data-showing-on-the-screen-from-backend-in-my-case/59477112#59477112", "title": "Refreshing data showing on the screen from backend in my case", "body": "<p>You want periodic work in background(for server calls), so why not using WorkManager?\nRefresh interval for each market should be saved and be available on server. Get market data (interval included), setup workmanager with proper interval in onCreate, enqueueUniquePeriodicWork in onResume and cancelAllWorks in onPause of the page. If you don't want to use RxJava, you can simply persist data on db and observe from view or just observe retrofit callbacks to update your view. In the latter you can pass a MutableLiveData object from viewmodel and setvalue from onSuccess/onFailure and observe from view:</p>\n\n<ol>\n<li>In view: viewModel.getMutableLiveData.observe</li>\n<li>In viewModel: remoteRepository.getMarketData(mutableLiveData)</li>\n<li>In remote Repository: onResponse(){mutableLiveData.setValue(response.body)} and set something like empty object of YourResponse in failure.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "is_accepted": false, "score": 3, "last_activity_date": 1577279539, "last_edit_date": 1577279539, "creation_date": 1577279220, "answer_id": 59478697, "question_id": 59448728, "link": "https://stackoverflow.com/questions/59448728/refreshing-data-showing-on-the-screen-from-backend-in-my-case/59478697#59478697", "title": "Refreshing data showing on the screen from backend in my case", "body": "<blockquote>\n  <p>Hi user842225,\n  This will an interesting discussion/opinion rather than a QA.</p>\n</blockquote>\n\n<p><strong>First:</strong> </p>\n\n<blockquote>\n  <p>You said : \"I don't need this data refreshing when app is in background.\"\n  So, you really don't have to use any background process at all! else you just forfeited the purpose of background services!</p>\n</blockquote>\n\n<p><strong>Second:</strong> </p>\n\n<blockquote>\n  <p>You said something about <em>RxKotlin</em>... Which makes me wondering why? let say you're gonna use RxKotlin: So, you will be making your network calls using Rx which purpose is to perform an Asynchronous operations and return results to the main thread when possible....well, I think <code>Retrofit</code> already does the Asynchronous thing itself, look at => <code>Call&lt;T&gt;</code> in <code>Retrofit</code>, used somewhere in your code like this=> <code>call.enqueue</code>.</p>\n</blockquote>\n\n<p><strong>Enough of the this, my suggestion is as below:</strong></p>\n\n<blockquote>\n  <p><strong>What I want to do:</strong>\n  let say I want to change something on a page periodically as long as the page is running and visible, I don't really care what happens when the page is closed.</p>\n  \n  <p><strong>First thing that comes to my mind</strong>: is a timer kind of idea to schedule my operations and an Handler kind to help keep track of threads so as to be able to cancel/shutdown operation when necessary.</p>\n  \n  <p><strong>Like I said Enough of the talking! pls examine the code below for clarity, not much code but much comments to better explain the process:</strong></p>\n</blockquote>\n\n<pre><code>object JavaApplication2 {\n        private var beepHandler: ScheduledFuture&lt;*&gt;? = null\n        private var scheduler: ScheduledThreadPoolExecutor? = null\n        private var interval: Long = 0\n\n        @JvmStatic\n        fun main(arguments: Array&lt;String&gt;) {\n            val scan = Scanner(System.`in`)\n            println(\"How often so you want me to do refresh this request? e.g 10 or 5\")\n            interval = scan.nextLong()\n            startExecutor(interval)\n        }\n\n        /*One of the most important method in our program, this helps start fresh Executor and\n        timed it according to what we want*/\n        private fun startExecutor(interval: Long) {\n            scheduler = Executors.newScheduledThreadPool(1) as ScheduledThreadPoolExecutor\n\n            /*Below method just in case you wanna be more bad-ass, you can simply use this same scheduler to\n            run the new task which is of a different time interval, this I can't really explain now\n            but you can look at how be to make use of this to save recreating of Executor all the time\n            you need to change the operation. Well, not really compulsory, so I will comment it out*/\n    //      scheduler.setRemoveOnCancelPolicy(true);\n\n            //Now we instantiate and schedule\n            beepHandler = scheduler!!.scheduleAtFixedRate(MarketClass(), 1, interval, TimeUnit.SECONDS)\n\n            /* Now, below is the trick, we simply set the repetition operation to one day!\n            basically no one stays on a particular screen of an app for 24hrs (Weird if anyone does!).\n            Good thing here is that using ScheduledThreadPoolExecutor promise us that our*/scheduler!!.schedule({\n                beepHandler!!.cancel(true)\n                scheduler!!.shutdown()\n            }, 1, TimeUnit.DAYS)\n        }\n\n        fun endExecutor() {\n            beepHandler!!.cancel(true)\n            scheduler!!.shutdownNow()\n        }\n\n        /* Here should be our network request subclass that simply implements Runnable because that's what @ScheduledThreadPoolExecutor needs\n            I really wish I can explain this @ScheduledThreadPoolExecutor further!*/\n        internal class MarketClass : Runnable {\n            private var x = 0 //I'm using this just show that we can cancel the operation half way or anytime we like.\n            override fun run() {\n                getMarket() //Here is the calling of the method that does get markets by name ....\n\n                //========TESTING SOMETHING======\n                println(\"Even if the world is &gt; 2020: I won't let go of Science!!! \")\n                /* here when we get to 10 we want to cancel the operation, this is imagine\n                to be a user switching to another screen where same operation will be done\n                but with different time interval, so let say onclick we just do the cancel\n                and shutdown the scheduler, note: not necessarily done here! can be done anywhere\n                since our (beepHandler) and (scheduler) are reachable.*/\n                x++\n                if (x == 10) {\n                    println(\"Wanna visit another market ???\\nMaybe the Jedi markets ??? \")\n                    endExecutor()\n                }\n                //=======END TESTING SOMETHING=====\n            }\n        }\n\n        private fun getMarket(){\n            println(\"Bing! Bing!! Bing!!! Welcome to Illuminations Market... &lt;- (0) . (0) -&gt; we have souls to sell\")\n            //ApiCall().getMarketByName(param, object: Interface{\n            // bla bla bla ...\n            // })\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>With the code above, in relations to what you want to do, I will simply create a scheduler like above and do either <code>cancel/shutdown</code> or <code>scheduler.scheduleAtFixedRate when needed</code>.</p>\n</blockquote>\n\n<p><strong>Note:</strong> those funny codes above might be confusing, but what you need in reality are below method: </p>\n\n<pre><code>1. startExecutor(interval: Long)\n2. endExecutor()\n3. MarketClass : Runnable{}\n4. getMarket()\n</code></pre>\n\n<p>Happy Coding.</p>\n"}, {"comments": [{"owner": {"reputation": 4117, "user_id": 842225, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/33a910e7c34ca92a8a02b12e016d4674?s=128&d=identicon&r=PG&f=1", "display_name": "user842225", "link": "https://stackoverflow.com/users/842225/user842225"}, "edited": false, "score": 0, "creation_date": 1577902594, "post_id": 59500117, "comment_id": 105278448, "body": "But countDownTimer has counting down, my case needs to refresh all the time that&#39;s a infinite countDownTimer, is it possible to implement?"}], "tags": [], "owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "is_accepted": false, "score": 1, "last_activity_date": 1577446781, "last_edit_date": 1577446781, "creation_date": 1577446082, "answer_id": 59500117, "question_id": 59448728, "link": "https://stackoverflow.com/questions/59448728/refreshing-data-showing-on-the-screen-from-backend-in-my-case/59500117#59500117", "title": "Refreshing data showing on the screen from backend in my case", "body": "<p>I advise you to take advantage of MVVM observable nature. </p>\n\n<p>The standard, MVVM way, IMO would be following: </p>\n\n<ul>\n<li>Have Room table MyData (or whatever you are fetching)  </li>\n<li>Have MyDataDao fun getData() returning <code>LiveData&lt;List&lt;MyData&gt;&gt;</code> () </li>\n<li>in your viewModel class have a <code>LiveData&lt;List&lt;MyData&gt;&gt;</code> object that is filled with getData() function that view can observe</li>\n</ul>\n\n<p>--> now you have observing part fixed - livedata/room magic will fire data change every time when data updates.</p>\n\n<p>For updating/fetching part you can use really anything -> a CountDownTimer which has an interval set to the desired value. \nWithin timer's onTick you can start a coroutine executed on Dispatchers.IO or any background thread that sends a request to the server and saved data to local Room DB.</p>\n\n<p>Again, LiveData/Room magic will update data change every time you update this table, which means that your object holding data in viewModel will change, and view observer will be fired (there you can refresh your recycler view with new data).</p>\n\n<p>Let me know if you need more implementational details. </p>\n"}], "owner": {"reputation": 4117, "user_id": 842225, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/33a910e7c34ca92a8a02b12e016d4674?s=128&d=identicon&r=PG&f=1", "display_name": "user842225", "link": "https://stackoverflow.com/users/842225/user842225"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1577828915, "creation_date": 1577056244, "last_edit_date": 1577828915, "question_id": 59448728, "link": "https://stackoverflow.com/questions/59448728/refreshing-data-showing-on-the-screen-from-backend-in-my-case", "title": "Refreshing data showing on the screen from backend in my case", "body": "<p>My Android project is using MVVM pattern written in Kotlin. </p>\n\n<p>In my app, I have one screen that shows a list of data of a stock market. The stock market is specified by user input (user input the name of stock market &amp; press \"enter\") &amp; the list of data is got by sending a request to the backend. In practice, the user enters the market name e.g. \"Market-A\" or \"Market-B\".  </p>\n\n<p>Now the business requirement is that if the user enters \"Market-A\" and entered the data screen, the data should be refreshed automatically every 5 seconds, whereas if the user enters \"Market-B\" the refresh interval is 10 seconds. So, I need to periodically send a request to the backend with different time interval according to which stock market user is interested in.</p>\n\n<p>The request of getting data for each stock market hits the same endpoint but different parameter in endpoint URL for the <code>MARKET-NAME</code>:</p>\n\n<p>that's <code>GET https://foo.io/{MARKET-NAME}/data</code>, just replace the placeholder <code>{MARKET-NAME}</code> with what user inputs.</p>\n\n<p>My question is what is the best approach to implement the automatic data refreshing feature?  </p>\n\n<p>I am using MVVM with LiveData. For the networking request, I am using Retrofit library.  </p>\n\n<p>I know there is <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/\" rel=\"nofollow noreferrer\">WorkManager</a> but I don't think it is the right component for my case since I don't need this data refreshing when the app is in background. Any suggestions? (If you suggest RxKotlin I would like to hear more &amp; I am also curious what would be the solution if not using RxKotlin) </p>\n"}, {"tags": ["android", "arrays", "kotlin", "random"], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1577056268, "post_id": 59448691, "comment_id": 105080052, "body": "I think I asked wrong. If I remove it from array, I want to add it again. I mean, exclude from array only last previous image only."}, {"owner": {"reputation": 50933, "user_id": 360211, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1", "display_name": "weston", "link": "https://stackoverflow.com/users/360211/weston"}, "reply_to_user": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1577056358, "post_id": 59448691, "comment_id": 105080068, "body": "Can you keep track of the last selected, and while same, run random.nextInt again"}, {"owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1577058170, "post_id": 59448691, "comment_id": 105080350, "body": "I think I can keep track using sharedPreferences but my code crashes for me when I press button. I actually don&#39;t really know if I&#39;m doing it right. See edited."}], "tags": [], "owner": {"reputation": 50933, "user_id": 360211, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1", "display_name": "weston", "link": "https://stackoverflow.com/users/360211/weston"}, "is_accepted": false, "score": 1, "last_activity_date": 1577056182, "last_edit_date": 1577056182, "creation_date": 1577055786, "answer_id": 59448691, "question_id": 59448630, "link": "https://stackoverflow.com/questions/59448630/how-to-randomize-image-from-array-but-dont-repeat-previous-image-after-which-i/59448691#59448691", "title": "How to randomize image from array but don&#39;t repeat previous image after, which is in image_view?", "body": "<p>Shuffle the array once. (This is easier with a MutableList <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/shuffle.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/shuffle.html</a>).</p>\n\n<p>After that just take the items in order 0,1,2,3... Or if you don't need them anymore you can use a queue and just pull from the front.</p>\n\n<p>If you must remove from array, it's again easier to use a MutableList and remove(index). Making a new array is no fun.</p>\n"}, {"comments": [{"owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1577093826, "post_id": 59452248, "comment_id": 105087750, "body": "Thanks for answer, but the main problem is that I don&#39;t know how to after dropping element (image) from array add it on the second click. See my code after &quot;Edited:&quot; and you will maybe understand what I&#39;m trying to do."}], "tags": [], "owner": {"reputation": 116, "user_id": 12035929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTFyu.jpg?s=128&g=1", "display_name": "Kamil Kacprzak", "link": "https://stackoverflow.com/users/12035929/kamil-kacprzak"}, "is_accepted": false, "score": 1, "last_activity_date": 1577090167, "creation_date": 1577090167, "answer_id": 59452248, "question_id": 59448630, "link": "https://stackoverflow.com/questions/59448630/how-to-randomize-image-from-array-but-dont-repeat-previous-image-after-which-i/59452248#59452248", "title": "How to randomize image from array but don&#39;t repeat previous image after, which is in image_view?", "body": "<p>You can create new variable that will contain last selected image, and before doing any action check if lastImage is different than new image. On case that's the same - repeat process without changing lastImage. </p>\n\n<p>If you want to keep the value between runs of your app, you can use saveInstanceState to restore the instance of your class. </p>\n"}], "owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577115021, "creation_date": 1577054973, "last_edit_date": 1577115021, "question_id": 59448630, "link": "https://stackoverflow.com/questions/59448630/how-to-randomize-image-from-array-but-dont-repeat-previous-image-after-which-i", "title": "How to randomize image from array but don&#39;t repeat previous image after, which is in image_view?", "body": "<p>I want to set random image from array</p>\n\n<pre><code>var randomElement = array[random.nextInt(array.size)]\n                image_view.setImageResource(randomElement)\n</code></pre>\n\n<p>But after that don't repeat it</p>\n\n<pre><code> button.setOnClickListener {\n        if (image_view.drawable.constantState != ContextCompat.getDrawable(\n                            this,\n                            R.drawable.myImage\n                        )?.constantState{\n        var randomElement = array[random.nextInt(array.size)] //but exclude R.drawable.myImage\n    }\n}\n</code></pre>\n\n<p>How it can be excluded from array and after that added to avoid repeating only last previous image?</p>\n\n<p>Edited:\n Trying to use sharedPreferences but app crashes when I press button:</p>\n\n<pre><code>var array = intArrayOf(\n        R.drawable.myImage,\n        R.drawable.myImage2,\n        R.drawable.myImage3)\n    button.setOnClickListener {\n        var mypref = getSharedPreferences(\"mypref\", Context.MODE_PRIVATE)\n         var imagepref = mypref.getInt(\"image\", 0)\n                        array.toMutableList().add(imagepref)\n                       var image = array[random.nextInt(array.size)]\n\n                        image_view.setImageResource(image)\n                        array.drop(image)\n\n                        var editor=mypref.edit()\n                        editor.putInt(\"image\", image)\n                        editor.apply()\n    }\n</code></pre>\n"}, {"tags": ["android", "xml", "kotlin", "bottomnavigationview", "android-navigationview"], "comments": [{"owner": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "edited": false, "score": 0, "creation_date": 1577051863, "post_id": 59448193, "comment_id": 105079273, "body": "Maybe this could help you: <a href=\"https://stackoverflow.com/questions/41516568/changing-bottomnavigationviews-icon-size\" title=\"changing bottomnavigationviews icon size\">stackoverflow.com/questions/41516568/&hellip;</a>"}, {"owner": {"reputation": 126, "user_id": 5765349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ezsgu.jpg?s=128&g=1", "display_name": "enderkoca", "link": "https://stackoverflow.com/users/5765349/enderkoca"}, "reply_to_user": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "edited": false, "score": 0, "creation_date": 1577051985, "post_id": 59448193, "comment_id": 105079304, "body": "I checked that issue but, it changing all icons @DuyiLian"}, {"owner": {"reputation": 159, "user_id": 10860636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QyB5B2vwacQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYXjRb90uLNOzK-Ja-l1vq4tiDMdg/mo/photo.jpg?sz=128", "display_name": "Nidhi Savaliya", "link": "https://stackoverflow.com/users/10860636/nidhi-savaliya"}, "edited": false, "score": 0, "creation_date": 1577075708, "post_id": 59448193, "comment_id": 105082783, "body": "You can use large size of ic_bottom_navigation_profile then ic_navigation_profile"}, {"owner": {"reputation": 126, "user_id": 5765349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ezsgu.jpg?s=128&g=1", "display_name": "enderkoca", "link": "https://stackoverflow.com/users/5765349/enderkoca"}, "reply_to_user": {"reputation": 159, "user_id": 10860636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QyB5B2vwacQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYXjRb90uLNOzK-Ja-l1vq4tiDMdg/mo/photo.jpg?sz=128", "display_name": "Nidhi Savaliya", "link": "https://stackoverflow.com/users/10860636/nidhi-savaliya"}, "edited": false, "score": 0, "creation_date": 1577086464, "post_id": 59448193, "comment_id": 105085333, "body": "@NidhiSavaliya it&#39;s not solved my problem :("}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6852303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3b87e79bb457073c82d35516e80b15?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Angan", "link": "https://stackoverflow.com/users/6852303/alexandr-angan"}, "is_accepted": false, "score": 2, "last_activity_date": 1605097375, "creation_date": 1605097375, "answer_id": 64786361, "question_id": 59448193, "link": "https://stackoverflow.com/questions/59448193/how-to-change-selected-bottomnavigationview-icon-size/64786361#64786361", "title": "How to change selected BottomNavigationView icon size", "body": "<p>You can change text size of selected item like this:</p>\n<p>styles.xml:</p>\n<pre><code>&lt;style name=&quot;bottomNavigationView.Active&quot; parent=&quot;@style/TextAppearance.AppCompat.Caption&quot;&gt;\n        &lt;item name=&quot;android:textSize&quot;&gt;16sp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>bottom_navigation_view.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/bottomNavView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;?android:attr/windowBackground&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot;\n    app:labelVisibilityMode=&quot;labeled&quot;\n    app:itemIconSize=&quot;24dp&quot;\n    android:scaleType=&quot;center&quot;\n    app:itemTextAppearanceActive=&quot;@style/bottomNavigationView.Active&quot; /&gt;\n</code></pre>\n<p>As a result of increased text size the selected item's icon lifts up and as a whole this looks like the selected element was increased in size:</p>\n<p><a href=\"https://i.stack.imgur.com/lATCO.png\" rel=\"nofollow noreferrer\">like this</a></p>\n"}], "owner": {"reputation": 126, "user_id": 5765349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ezsgu.jpg?s=128&g=1", "display_name": "enderkoca", "link": "https://stackoverflow.com/users/5765349/enderkoca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1605097375, "creation_date": 1577050499, "question_id": 59448193, "link": "https://stackoverflow.com/questions/59448193/how-to-change-selected-bottomnavigationview-icon-size", "title": "How to change selected BottomNavigationView icon size", "body": "<p>I am using native BottomNavigationView and I want to change selected icon size bigger than unselected icon sizes. (exp. selected icon 40dp, other icon sizes 20dp).</p>\n\n<pre><code>    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottom_navigation\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"50dp\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerVertical=\"true\"\n        android:scaleType=\"center\"\n        style=\"@style/Widget.Design.BottomNavigationView\"\n        app:labelVisibilityMode=\"unlabeled\"\n        app:menu=\"@menu/navigation_menu\" /&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;item\n    android:id=\"@+id/homePageFragment\"\n    android:icon=\"@drawable/selector_nav_home\"\n    android:orderInCategory=\"1\"\n    android:title=\"\" /&gt;\n\n&lt;item\n    android:id=\"@+id/discoverPageFragment\"\n    android:icon=\"@drawable/selector_nav_discover\"\n    android:orderInCategory=\"2\"\n    android:title=\"\" /&gt;\n\n&lt;item\n    android:id=\"@+id/qrPageFragment\"\n    android:icon=\"@drawable/selector_nav_qr\"\n    android:orderInCategory=\"3\"\n    android:title=\"\" /&gt;\n\n&lt;item\n    android:id=\"@+id/myAccountFragment\"\n    android:icon=\"@drawable/selector_nav_profile\"\n    android:orderInCategory=\"4\"\n    android:title=\"\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<pre><code>&lt;item android:drawable=\"@drawable/ic_bottom_navigation_profile\" android:state_checked=\"true\"/&gt;\n\n&lt;item android:drawable=\"@drawable/ic_navigation_profile\" android:state_checked=\"false\"/&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "arrays", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2145, "user_id": 5163414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee0403b3636ab76f034e5a76ca98cabc?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Alaa", "link": "https://stackoverflow.com/users/5163414/mohammed-alaa"}, "is_accepted": true, "score": 0, "last_activity_date": 1577042515, "creation_date": 1577042515, "answer_id": 59447376, "question_id": 59447114, "link": "https://stackoverflow.com/questions/59447114/create-a-range-of-arrays-from-an-existing-list-of-arrays/59447376#59447376", "title": "Create a Range of Arrays from an Existing List of Arrays", "body": "<p>You can use slice like this </p>\n\n<pre><code>val right=selectedRightSpinner.toInt()\nval left=selectedLeftSpinner.toInt()\nval list=sentenceArray.slice(left..right)\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 12561769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca5c71a55b0ee51eadc4ca6da57ccce?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/12561769/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 59447376, "answer_count": 1, "score": 1, "last_activity_date": 1577042515, "creation_date": 1577040244, "question_id": 59447114, "link": "https://stackoverflow.com/questions/59447114/create-a-range-of-arrays-from-an-existing-list-of-arrays", "title": "Create a Range of Arrays from an Existing List of Arrays", "body": "<p>I am new to Kotlin and having troubles getting this to work\nI have an array called sentenceArray</p>\n\n<pre><code>val sentenceArray = arrayOfNulls&lt;String&gt;(7)\n    sentenceArray[0] = \"This is Sentence 0\"\n    sentenceArray[1] = \"This is Sentence 1\"\n    sentenceArray[2] = \"This is Sentence 2\"\n    sentenceArray[3] = \"This is Sentence 3\"\n    sentenceArray[4] = \"This is Sentence 4\"\n    sentenceArray[5] = \"This is Sentence 5\"\n    sentenceArray[6] = \"This is Sentence 6\"\n</code></pre>\n\n<p>I have 2 Spinners called leftSpinner and rightSpinner and the arrays are from 0 to 6</p>\n\n<pre><code>val leftSpinnerArray = arrayOf(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\")\nval rightSpinnerArray = arrayOf(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\")\n</code></pre>\n\n<p>The user selects a value for the left and right spinner and they are stored in selectedLeftSpinner and selectedRightSpinner</p>\n\n<pre><code>val selectedLeftSpinner = leftSpinner.getItemAtPosition(position).toString()\nval selectedRightSpinner = rightSpinner.getItemAtPosition(position).toString()\n</code></pre>\n\n<p>What I am trying to do:</p>\n\n<p>When the user selects 1 for the left Spinner and 3 on the right Spinner. I want the text view to display \"This is Sentence 1, This is Sentence 2, This is Sentence 3\" after a button is clicked</p>\n\n<p>What happens: </p>\n\n<p>Right now I have this code to generate an array from an existing array depending on the left and right spinner values but it does not work how I thought it would</p>\n\n<pre><code>val list = sentenceArray[selectedLeftSpinner.toInt()] to (sentenceArray[selectedRightSpinner.toInt()])\ntextView.text = list.toString()\n</code></pre>\n\n<p>When the user selects 1 for the left Spinner and 6 for the right Spinner\nIt shows \"This is Sentence 1, This is Sentence 6\" in the text view. Please Help! I tried replacing to to rangeTo but it errors out. I am not sure how to do this. Thanks!</p>\n"}]