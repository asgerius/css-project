[{"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1524694810, "post_id": 50032000, "comment_id": 87080343, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re\">Iterating through a Collection, avoiding ConcurrentModificationException when removing in loop</a>"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1524694844, "post_id": 50032000, "comment_id": 87080350, "body": "I know the duplicate is Java, but in essence it&#39;s the same. But you can handle it in a nicer way."}], "answers": [{"comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1524695083, "post_id": 50032140, "comment_id": 87080401, "body": "Best to flag it as a dupe instead of repeating the same info here."}, {"owner": {"reputation": 649, "user_id": 8059082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4931fad8591668939d35a567c86ab82b?s=128&d=identicon&r=PG", "display_name": "SeekDaSky", "link": "https://stackoverflow.com/users/8059082/seekdasky"}, "reply_to_user": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1524695163, "post_id": 50032140, "comment_id": 87080423, "body": "got it, I will make sure to do so"}, {"owner": {"reputation": 1455, "user_id": 5211482, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5j35a0RpPt4/AAAAAAAAAAI/AAAAAAAAAbk/AwnpMklz1Xc/photo.jpg?sz=128", "display_name": "Chintan Shah", "link": "https://stackoverflow.com/users/5211482/chintan-shah"}, "edited": false, "score": 0, "creation_date": 1602818631, "post_id": 50032140, "comment_id": 113846106, "body": "I was adding the item while iterating! Thanks for the hint."}], "tags": [], "owner": {"reputation": 649, "user_id": 8059082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4931fad8591668939d35a567c86ab82b?s=128&d=identicon&r=PG", "display_name": "SeekDaSky", "link": "https://stackoverflow.com/users/8059082/seekdasky"}, "is_accepted": true, "score": 35, "last_activity_date": 1524695234, "last_edit_date": 1524695234, "creation_date": 1524694854, "answer_id": 50032140, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/50032140#50032140", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<p>That's a common problem with the JVM, if you want to remove an item from a collection while iterating through it, you need to use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-iterator/index.html\" rel=\"noreferrer\">Iterators</a></p>\n\n<p>exemple:</p>\n\n<pre><code>val myCollection = mutableListOf(1,2,3,4)\nval iterator = myCollection.iterator()\nwhile(iterator.hasNext()){\n    val item = iterator.next()\n    if(item == 3){\n        iterator.remove()\n    }\n}\n</code></pre>\n\n<p>this will avoid ConcurrentModificationExceptions</p>\n\n<p>I hope this answered your question, have a good day</p>\n\n<p><strong>Edit</strong>: you can find another explanation <a href=\"https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re\">here</a>, even if it is Java code the problem is the same<br>\n<strong>Edit n\u00b02</strong> the anwser of leonardkraemer show you a more kotlin-friendly way to do so</p>\n"}, {"comments": [{"owner": {"reputation": 41130, "user_id": 457982, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ke5Ts.jpg?s=128&g=1", "display_name": "Vikas Patidar", "link": "https://stackoverflow.com/users/457982/vikas-patidar"}, "edited": false, "score": 10, "creation_date": 1524836152, "post_id": 50032174, "comment_id": 87143790, "body": "Not to forget that this Call requires API level 24"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 41130, "user_id": 457982, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ke5Ts.jpg?s=128&g=1", "display_name": "Vikas Patidar", "link": "https://stackoverflow.com/users/457982/vikas-patidar"}, "edited": false, "score": 1, "creation_date": 1524836551, "post_id": 50032174, "comment_id": 87144020, "body": "@VikasPatidar Yes API level 24 is required for Android, that introduces the Java 8 features necessary."}, {"owner": {"reputation": 118, "user_id": 6743456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04065ab003a500508dc642a7daaa5571?s=128&d=identicon&r=PG&f=1", "display_name": "Ayoub Benzahia", "link": "https://stackoverflow.com/users/6743456/ayoub-benzahia"}, "edited": false, "score": 0, "creation_date": 1609361591, "post_id": 50032174, "comment_id": 115825621, "body": "hey @leonardkraemer how to use this with adding item to list i have this error when adding can i use  this : list.listIterator().add(item)"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 23, "last_activity_date": 1592560500, "last_edit_date": 1592560500, "creation_date": 1524695083, "answer_id": 50032174, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/50032174#50032174", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<p>In Kotlin you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html\" rel=\"noreferrer\"><code>removeIf{ predicate }</code></a>. Which is a shorthand to using the <code>Iterator</code>. Full statement:</p>\n\n<pre><code>listAccounts.removeIf{ it == account.id }\n</code></pre>\n\n<p>for the explanation see <a href=\"https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re\">Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop</a></p>\n\n<p><strong>Update</strong>: Kotlin-stdlib introduced <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/remove-all.html\" rel=\"noreferrer\"><code>removeAll { predicate }</code></a> which, as Aguragorn pointed out in his <a href=\"https://stackoverflow.com/a/54210042/4265739\">answer</a>, does the same and can be used if <code>removeIf</code> is not present on your runtime environment (i.e. Java 1.6 or Android pre API level 24).</p>\n"}, {"comments": [{"owner": {"reputation": 2024, "user_id": 1268696, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9vs4D.jpg?s=128&g=1", "display_name": "FrankS101", "link": "https://stackoverflow.com/users/1268696/franks101"}, "edited": false, "score": 0, "creation_date": 1540398218, "post_id": 52973426, "comment_id": 92853985, "body": "Can you develop more your answer to make it more helpful?"}], "tags": [], "owner": {"reputation": 43, "user_id": 6523076, "user_type": "registered", "profile_image": "https://graph.facebook.com/1239554692722109/picture?type=large", "display_name": "Brahim Masmoudi", "link": "https://stackoverflow.com/users/6523076/brahim-masmoudi"}, "is_accepted": false, "score": 4, "last_activity_date": 1592560669, "last_edit_date": 1592560669, "creation_date": 1540396932, "answer_id": 52973426, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/52973426#52973426", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<p>Try to use ConcurrentLinkedQueue instead of list to avoid this exception. \nAs mentioned in  ConcurrentLinkedQueue.Java, it orders elements FIFO (first-in-first-out).So it will avoid any problem with modifying a list while iterating it.<br>\nFor exemple :</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>val list = ConcurrentLinkedQueue&lt;String&gt;()\nlist.add(\"toto\")\nlist.add(\"tata\")\nlist.add(\"titi\")\nlist.forEachIndexed { index, it -&gt;\n    if (index % 2 == 0) {\n        list.remove(\"tata\")\n        System.out.println(it)\n    }\n}\n</code></pre>\n\n<p>the out put is :    </p>\n\n<blockquote>\n  <p>toto<br>\n  titi   </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 5535887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01021652292f25702ca0b55ff9097ad8?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5535887/ryan"}, "is_accepted": false, "score": 13, "last_activity_date": 1562054283, "last_edit_date": 1562054283, "creation_date": 1542906948, "answer_id": 53435698, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/53435698#53435698", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<pre><code>with(listAccounts.iterator()) {\n    forEach {\n        if (it.id == someObj.id) {\n            // do some stuff with it\n            oldSubscription = it\n            remove()\n        }\n    }\n}\n</code></pre>\n\n<p>Same solution as SeekDaSky but more Kotlin'y</p>\n"}, {"comments": [{"owner": {"reputation": 3278, "user_id": 3036320, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002410010067/picture?type=large", "display_name": "Ahamadullah Saikat", "link": "https://stackoverflow.com/users/3036320/ahamadullah-saikat"}, "edited": false, "score": 0, "creation_date": 1616664484, "post_id": 54210042, "comment_id": 118075302, "body": "Brilliant Solution..."}], "tags": [], "owner": {"reputation": 375, "user_id": 2673831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbNSQ.jpg?s=128&g=1", "display_name": "Aguragorn", "link": "https://stackoverflow.com/users/2673831/aguragorn"}, "is_accepted": false, "score": 11, "last_activity_date": 1547609675, "creation_date": 1547609675, "answer_id": 54210042, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/54210042#54210042", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<p>It is actually <code>removeAll { predicate }</code> that kotlin stdlib introduced.\nSo your code should look like this:</p>\n\n<pre><code>listAccounts.removeAll { it.id == idParamether }\n</code></pre>\n\n<p>see: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/remove-all.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/remove-all.html</a></p>\n\n<p>Note: when coding in kotlin I prefer sticking to kotlin APIs, it avoids problems like \"Call requires API level 24\"</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 10399733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a03e572deb8f1c2205e609d80c4de8?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s Sajti", "link": "https://stackoverflow.com/users/10399733/tam%c3%a1s-sajti"}, "is_accepted": false, "score": 1, "last_activity_date": 1600162799, "creation_date": 1600162799, "answer_id": 63899149, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/63899149#63899149", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<p>I'd like to supplement <a href=\"https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/53435698#53435698\">Ryan's answer</a>. If you'd like to <em>add</em> to your list during iteration, not just remove, you'd need to call <code>.listIterator()</code> on your collection instead of <code>.iterator()</code>. Then you'll have the <code>add</code> method too thanks to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list-iterator/\" rel=\"nofollow noreferrer\">this interface</a>.\nComplete code:</p>\n<pre><code>with(listAccounts.listIterator()) {\n    forEach {\n        if (it.id == someObj.id) {\n            // do some stuff with it\n            oldSubscription = it\n            remove()\n            add(obj)\n        }\n    }\n}\n</code></pre>\n<p>Note: I know the OP just wanted to remove, but the title is more general and this is also the question you find if you search for adding in this situation too.</p>\n"}, {"tags": [], "owner": {"reputation": 1337, "user_id": 3969362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cE9IP.png?s=128&g=1", "display_name": "Slion", "link": "https://stackoverflow.com/users/3969362/slion"}, "is_accepted": false, "score": 0, "last_activity_date": 1612803245, "creation_date": 1612803245, "answer_id": 66105884, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/66105884#66105884", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<p>You can make a copy of your list before iterating through it. It's a valid solution for small lists. That's what they are typically doing on Android before iterating through listeners for instance.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14369649, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhySYRtB38zMo1LMnAbX9VOpoDiMhbzeeiq_2pSSg=k-s128", "display_name": "Abdulaziz Pulatjonov", "link": "https://stackoverflow.com/users/14369649/abdulaziz-pulatjonov"}, "is_accepted": false, "score": 0, "last_activity_date": 1613237679, "creation_date": 1613237679, "answer_id": 66187994, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin/66187994#66187994", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<p>the simplest way to solve this issue would be just adding &quot;break&quot; after the remove</p>\n<pre><code>for (i in accounts) {\n                    if (nick == i.nick) {\n                        print(&quot;Enter PIN: &quot;)\n                        var pin = scan.nextInt()\n                        if (pin == i.pin) {\n                            accounts.remove(i)\n                            println(&quot;Account has been deleted successfully!&quot;)\n                            break\n                        }\n                    }\n                }\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 5818559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a8db40e9e89fa941f9fe9a12204e8016?s=128&d=identicon&r=PG&f=1", "display_name": "zasaz", "link": "https://stackoverflow.com/users/5818559/zasaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19255, "favorite_count": 2, "accepted_answer_id": 50032140, "answer_count": 8, "score": 34, "last_activity_date": 1613237679, "creation_date": 1524693997, "last_edit_date": 1592560634, "question_id": 50032000, "link": "https://stackoverflow.com/questions/50032000/how-to-avoid-concurrentmodificationexception-kotlin", "title": "how to avoid ConcurrentModificationException kotlin", "body": "<p>I have a list of accounts, and when i make the long click, I want to remove the item from the arraylist. I'm trying to remove it from a alertdialog, but i'm getting the ConcurrentModificationException. This is where is crashing:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>listAccounts.forEachIndexed { index, account -&gt;\n    if (idParamether == account.id) {\n        listAccounts.remove(account)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "kotlin", "retrofit2", "simple-framework"], "comments": [{"owner": {"reputation": 2918, "user_id": 984724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T2JaK.png?s=128&g=1", "display_name": "Dave Thomas", "link": "https://stackoverflow.com/users/984724/dave-thomas"}, "edited": false, "score": 1, "creation_date": 1524694295, "post_id": 50031409, "comment_id": 87080190, "body": "<code>var mCategories: List&lt;String&gt;? = null</code> might work for the first 5 media:category elements"}, {"owner": {"reputation": 2918, "user_id": 984724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T2JaK.png?s=128&g=1", "display_name": "Dave Thomas", "link": "https://stackoverflow.com/users/984724/dave-thomas"}, "edited": false, "score": 1, "creation_date": 1524694354, "post_id": 50031409, "comment_id": 87080219, "body": "See how you are saying a category has a category in it in the Category class definition. <code>&lt;category&gt; &lt;category&#47;&gt; &lt;&#47;category&gt;</code> &lt;- Probably not what you want."}, {"owner": {"reputation": 651, "user_id": 2077248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/707f87d13715daae6861ce82312f66a2?s=128&d=identicon&r=PG", "display_name": "Isquierdo", "link": "https://stackoverflow.com/users/2077248/isquierdo"}, "reply_to_user": {"reputation": 2918, "user_id": 984724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T2JaK.png?s=128&g=1", "display_name": "Dave Thomas", "link": "https://stackoverflow.com/users/984724/dave-thomas"}, "edited": false, "score": 0, "creation_date": 1524697289, "post_id": 50031409, "comment_id": 87081055, "body": "@DaveThomas Now I get this exception: org.simpleframework.xml.core.ValueRequiredException: Unable to satisfy @org.simpleframework.xml.ElementList(data=false, empty=true, entry=, inline=true, name=category, required=true, type=void) on field &#39;mCategories&#39; private java.util.List ....model.FeedChannel.mCategories for class ....model.FeedChannel at line 5"}, {"owner": {"reputation": 2918, "user_id": 984724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T2JaK.png?s=128&g=1", "display_name": "Dave Thomas", "link": "https://stackoverflow.com/users/984724/dave-thomas"}, "edited": false, "score": 1, "creation_date": 1524697545, "post_id": 50031409, "comment_id": 87081134, "body": "Looks like it is choking on those elements that have value as an attribute.  Side-note: You can update your question to include information saying you are using org.simpleframework.xml. That will someone familiar with the framework find your question and help you get a solution."}, {"owner": {"reputation": 651, "user_id": 2077248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/707f87d13715daae6861ce82312f66a2?s=128&d=identicon&r=PG", "display_name": "Isquierdo", "link": "https://stackoverflow.com/users/2077248/isquierdo"}, "reply_to_user": {"reputation": 2918, "user_id": 984724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T2JaK.png?s=128&g=1", "display_name": "Dave Thomas", "link": "https://stackoverflow.com/users/984724/dave-thomas"}, "edited": false, "score": 1, "creation_date": 1524725743, "post_id": 50031409, "comment_id": 87089292, "body": "@DaveThomas I found a solution based in what you said, just changed the annotation field from &quot;name&quot; to &quot;entry&quot; and adding the &quot;type&quot; field"}], "answers": [{"comments": [{"owner": {"reputation": 817, "user_id": 1982963, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8769b485a40b715a1e19fa7593924279?s=128&d=identicon&r=PG", "display_name": "Shivang", "link": "https://stackoverflow.com/users/1982963/shivang"}, "edited": false, "score": 0, "creation_date": 1588020102, "post_id": 50036688, "comment_id": 108734654, "body": "<code>How we can get attribute like: @Path(&quot;enclosure&quot;) @param:Attribute(name = &quot;url&quot;) var url: String = &quot;&quot;, I am getting error: &quot;Caused by: org.simpleframework.xml.core.ConstructorException: Parameter &#39;enclosure[1]&#47;@url&#39; does not have a match in class</code>"}], "tags": [], "owner": {"reputation": 651, "user_id": 2077248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/707f87d13715daae6861ce82312f66a2?s=128&d=identicon&r=PG", "display_name": "Isquierdo", "link": "https://stackoverflow.com/users/2077248/isquierdo"}, "is_accepted": false, "score": 1, "last_activity_date": 1524725979, "creation_date": 1524725979, "answer_id": 50036688, "question_id": 50031409, "link": "https://stackoverflow.com/questions/50031409/android-kotlin-retrofit-simplexmlconverter-elementlist-not-parsing-correctly/50036688#50036688", "title": "Android Kotlin Retrofit + SimpleXMLConverter ElementList not parsing correctly", "body": "<p>Found the solution:</p>\n\n<p>Changed the @field:Element fields and used String for instead of another class Category. Thanks to @DaveThomas </p>\n\n<pre><code>@Root(name = \"channel\", strict = false)\nclass FeedChannel {\n\n    @field:Element(name = \"title\")\n    var mTitle: String? = null\n\n    @field:Element(name = \"link\")\n    var mLink: String? = null\n\n    @field:Element(name = \"subtitle\")\n    var mSubtitle: String? = null\n\n    @field:Element(name = \"author\")\n    var mAuthor: String? = null\n\n    @field:ElementList(entry = \"category\", type = String::class, inline = true)\n    var mCategories: List&lt;String&gt;? = null\n\n}\n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 2077248, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/707f87d13715daae6861ce82312f66a2?s=128&d=identicon&r=PG", "display_name": "Isquierdo", "link": "https://stackoverflow.com/users/2077248/isquierdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1524725979, "creation_date": 1524690705, "last_edit_date": 1524697825, "question_id": 50031409, "link": "https://stackoverflow.com/questions/50031409/android-kotlin-retrofit-simplexmlconverter-elementlist-not-parsing-correctly", "title": "Android Kotlin Retrofit + SimpleXMLConverter ElementList not parsing correctly", "body": "<p>I'm trying to parse some podcast xml feeds, but can not get all categories and other multiple fields that have the same name.</p>\n\n<p>Feed example: <a href=\"http://demo3984434.mockable.io/cast\" rel=\"nofollow noreferrer\">http://demo3984434.mockable.io/cast</a></p>\n\n<pre><code>&lt;rss xmlns:itunes=\"http://www.itunes.com/dtds/podcast-1.0.dtd\" xmlns:itunesu=\"http://www.itunesu.com/feed\" xmlns:media=\"http://search.yahoo.com/mrss/\" version=\"2.0\"&gt;\n    &lt;channel&gt;\n        &lt;title&gt;Podcast Title&lt;/title&gt;\n        &lt;link&gt;http://link.com&lt;/link&gt;\n        &lt;language&gt;en-us&lt;/language&gt;\n        &lt;itunes:subtitle&gt;Subtitle!!!&lt;/itunes:subtitle&gt;\n        &lt;itunes:author&gt;Author Name&lt;/itunes:author&gt;\n        &lt;media:category scheme=\"http://www.itunes.com/dtds/podcast-1.0.dtd\"&gt;Comedy&lt;/media:category&gt;\n        &lt;media:category scheme=\"http://www.itunes.com/dtds/podcast-1.0.dtd\"&gt;Society &amp;amp; Culture&lt;/media:category&gt;\n        &lt;media:category scheme=\"http://www.itunes.com/dtds/podcast-1.0.dtd\"&gt;Games &amp;amp; Hobbies/Video Games&lt;/media:category&gt;\n        &lt;media:category scheme=\"http://www.itunes.com/dtds/podcast-1.0.dtd\"&gt;TV &amp;amp; Film&lt;/media:category&gt;\n        &lt;media:category scheme=\"http://www.itunes.com/dtds/podcast-1.0.dtd\"&gt;Music&lt;/media:category&gt;\n        &lt;itunes:category text=\"Comedy\"/&gt;\n        &lt;itunes:category text=\"Society &amp;amp; Culture\"/&gt;\n        &lt;itunes:category text=\"Games &amp;amp; Hobbies\"/&gt;\n        &lt;itunes:category text=\"Video Games\"/&gt;\n        &lt;itunes:category text=\"TV &amp;amp; Film\"/&gt;\n        &lt;itunes:category text=\"Music\"/&gt;\n    &lt;/channel&gt;\n&lt;/rss&gt;\n</code></pre>\n\n<p>RSSFeed.kt:</p>\n\n<pre><code>@Root(name = \"rss\", strict = false)\nclass RSSFeed {\n\n    @field:Element(name = \"channel\")\n    var mFeedChannel: FeedChannel? = null\n}\n</code></pre>\n\n<p>FeedChannel.kt</p>\n\n<pre><code>@Root(name = \"channel\", strict = false)\nopen class FeedChannel {\n\n    @field:Element(name = \"title\")\n    var mTitle: String? = null\n\n    @field:Element(name = \"link\")\n    var mLink: String? = null\n\n    @field:Element(name = \"subtitle\")\n    var mSubtitle: String? = null\n\n    @field:Element(name = \"author\")\n    var mAuthor: String? = null\n\n    @field:ElementList(entry = \"category\", inline = true)\n    var mCategories: List&lt;Category&gt;? = null\n\n    @Root(name = \"category\", strict = false)\n    class Category {\n\n        @field:Element(name = \"category\")\n        var category: String? = null\n    }\n}\n</code></pre>\n\n<p>But the categories list elements are always null:\n<a href=\"https://i.stack.imgur.com/5rBZD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5rBZD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["postgresql", "kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 434877, "user_id": 330315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b152262d9ba55197f609625358ff7e0?s=128&d=identicon&r=PG", "display_name": "a_horse_with_no_name", "link": "https://stackoverflow.com/users/330315/a-horse-with-no-name"}, "edited": false, "score": 1, "creation_date": 1524682117, "post_id": 50029218, "comment_id": 87074819, "body": "Another good example why using quoted identifiers is a bad idea to begin with."}], "answers": [{"tags": [], "owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "is_accepted": false, "score": 0, "last_activity_date": 1524727733, "creation_date": 1524727733, "answer_id": 50037226, "question_id": 50029218, "link": "https://stackoverflow.com/questions/50029218/kotlin-exposed-postgresql-is-lower-casing-my-table-name-in-queries-how-to-use-c/50037226#50037226", "title": "Kotlin Exposed/Postgresql is lower-casing my table name in queries; how to use capitalized table names?", "body": "<p>Could you provide the whole sample and point to the place where the exception is thrown? From the current code that's unclear who and how trying to create <code>relation</code> to the table.</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 1426758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9390771d5dca9a9bb8aab92beda21742?s=128&d=identicon&r=PG", "display_name": "ccundiff", "link": "https://stackoverflow.com/users/1426758/ccundiff"}, "is_accepted": false, "score": 2, "last_activity_date": 1584122235, "creation_date": 1584122235, "answer_id": 60675220, "question_id": 50029218, "link": "https://stackoverflow.com/questions/50029218/kotlin-exposed-postgresql-is-lower-casing-my-table-name-in-queries-how-to-use-c/60675220#60675220", "title": "Kotlin Exposed/Postgresql is lower-casing my table name in queries; how to use capitalized table names?", "body": "<p>I was able to resolve this by using escaped quotes within the table string, example for the above question would be as follows:</p>\n\n<pre><code>object Table : IntIdTable(\"\\\"Table\\\"\") {\n</code></pre>\n"}], "owner": {"reputation": 1168, "user_id": 1375822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6aeb6d9ee7f69ccca47ebc09212fa33?s=128&d=identicon&r=PG", "display_name": "Halcyon", "link": "https://stackoverflow.com/users/1375822/halcyon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1584122235, "creation_date": 1524681482, "question_id": 50029218, "link": "https://stackoverflow.com/questions/50029218/kotlin-exposed-postgresql-is-lower-casing-my-table-name-in-queries-how-to-use-c", "title": "Kotlin Exposed/Postgresql is lower-casing my table name in queries; how to use capitalized table names?", "body": "<p>I have the following SQL query using Kotlin Exposed to a Postgres server with a capitalized table name:</p>\n\n<pre><code>object Table: IntIdTable(\"Table\") {\n    val tC = text(\"Text\")\n    val vC = text(\"Value\")\n}\n\nDatabase.connect(\"jdbc:postgresql://...\", driver = \"org.postgresql.Driver\")\ntransaction {\n    logger.addLogger(StdOutSqlLogger)\n    val query = Table.select {\n        Table.id eq 5\n    }\n    query.forEach {\n        println( it[Table.tC] )\n    }\n}\n</code></pre>\n\n<p>But I am getting back:\n     <code>Exception in thread \"main\" org.postgresql.util.PSQLException: ERROR: relation \"table\" does not exist</code></p>\n\n<p>Usually I would simply be able to quote the table name <code>\"Table\"</code> to use the capitalized table names, but can't seem to do that with Kotlin Exposed; so is there a way to use the capitalized table name by preventing it from being lowercased? </p>\n"}, {"tags": ["java", "gradle", "kotlin", "apt", "kapt"], "answers": [{"tags": [], "owner": {"reputation": 2273, "user_id": 9647266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4d8a3d18289d901b38281428bcb3231?s=128&d=identicon&r=PG&f=1", "display_name": "UnlikePluto", "link": "https://stackoverflow.com/users/9647266/unlikepluto"}, "is_accepted": true, "score": 23, "last_activity_date": 1524678995, "creation_date": 1524678995, "answer_id": 50028564, "question_id": 50027741, "link": "https://stackoverflow.com/questions/50027741/android-project-with-java-and-kotlin-files-kapt-or-annotationprocessor/50028564#50028564", "title": "Android project with Java and Kotlin files, kapt or annotationProcessor?", "body": "<p>First of all, the Kotlin Annotation processing tool (kapt) uses the Java compiler to run annotation processors. If your project contains any Java classes, kapt takes care of them by design. <a href=\"https://kotlinlang.org/docs/reference/kapt.html#using-in-gradle\" rel=\"noreferrer\">Kotlinlang</a> recommends using <code>kapt</code> incase you used <code>annotationProcessor</code> from the Android Support before.</p>\n\n<p>JetBrains has a nice <a href=\"https://blog.jetbrains.com/kotlin/2015/06/better-annotation-processing-supporting-stubs-in-kapt/\" rel=\"noreferrer\">article</a> about how kapt works in more detail, its from 2015 but UP-TO-DATE.</p>\n"}, {"comments": [{"owner": {"reputation": 1195, "user_id": 5179140, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3de792367cf04d798ff8cff47a4ff99c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Elsayed", "link": "https://stackoverflow.com/users/5179140/mohammad-elsayed"}, "edited": false, "score": 0, "creation_date": 1556027490, "post_id": 52223088, "comment_id": 98292346, "body": "I tried adding  apply plugin: &#39;kotlin-kapt&#39;, the application could not build, and now I can&#39;t use anything that needs kapt, any idea how to solve this @Oxalihan"}, {"owner": {"reputation": 1187, "user_id": 2057782, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/a1WaU.jpg?s=128&g=1", "display_name": "AouledIssa", "link": "https://stackoverflow.com/users/2057782/aouledissa"}, "edited": false, "score": 0, "creation_date": 1587313566, "post_id": 52223088, "comment_id": 108456824, "body": "Is there anyway <code>annotationProcessor</code> configuration would also pick up <code>kotlin</code> files?"}], "tags": [], "owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "is_accepted": false, "score": 22, "last_activity_date": 1536325085, "creation_date": 1536325085, "answer_id": 52223088, "question_id": 50027741, "link": "https://stackoverflow.com/questions/50027741/android-project-with-java-and-kotlin-files-kapt-or-annotationprocessor/52223088#52223088", "title": "Android project with Java and Kotlin files, kapt or annotationProcessor?", "body": "<p>In Java you can specify annotationProcessor (or apt) dependency like below:</p>\n\n<pre><code>dependencies {\n  ...\n  annotationProcessor \"com.google.dagger:dagger-compiler:$dagger-version\"\n}\n</code></pre>\n\n<p>In Kotlin you have to add the <code>kotlin-kapt</code> plugin to enable kapt, and then replace <code>annotationProcessor</code> with <code>kapt</code>:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt' //Must include\ndependencies {\n    ...\n    kapt \"com.google.dagger:dagger-compiler:$dagger-version\"\n}\n</code></pre>\n\n<p>That's all! Note that kapt takes care of your Java files as well as kotlin file, so you don't need to keep the annotationProcessor dependency.</p>\n\n<p>For more details: <a href=\"https://kotlinlang.org/docs/tutorials/android-frameworks.html\" rel=\"noreferrer\">link</a></p>\n"}], "owner": {"reputation": 573, "user_id": 5517413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4742bb687aa48d9e0e5415fb7d487dc?s=128&d=identicon&r=PG&f=1", "display_name": "gxela", "link": "https://stackoverflow.com/users/5517413/gxela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8791, "favorite_count": 3, "accepted_answer_id": 50028564, "answer_count": 2, "score": 26, "last_activity_date": 1536325085, "creation_date": 1524675918, "question_id": 50027741, "link": "https://stackoverflow.com/questions/50027741/android-project-with-java-and-kotlin-files-kapt-or-annotationprocessor", "title": "Android project with Java and Kotlin files, kapt or annotationProcessor?", "body": "<p>I would like to know if in an <strong>Android</strong> project mixing <strong>Java</strong> and <strong>Kotlin</strong> files we must use annotationProcessor or kapt, or both ? </p>\n\n<p>In my understanding <strong>annotationProcessor</strong> must be used for <strong>Java</strong> files using annotations for code generation, and <strong>kapt</strong> must be used for <strong>Kotlin</strong> files using annotations for code generation.</p>\n\n<p>I have a project mixing both languages, and I just have replaced all the annotationProcessor dependencies in the build.gradle by kapt.\nSurprisingly it builds and seems to run correctly but I do not understand why kapt works well even with Java files... </p>\n\n<p>Can someone explain to me ?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["kotlin", "type-alias"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1524695263, "post_id": 50027726, "comment_id": 87080447, "body": "Currently only way is to create explicit type. <code>class Latitude :  Double</code>. Or am I missing something here? The compiler will then enforce the typing, but you can still treat it as a Double in most places."}, {"owner": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "reply_to_user": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1524696365, "post_id": 50027726, "comment_id": 87080769, "body": "@Mikezx6r yes, you&#39;re missing several things: 1) You can&#39;t inherit from primitive types, 2) You can&#39;t inherit from final classes 3) This approach has runtime overhead"}], "answers": [{"comments": [{"owner": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "edited": false, "score": 0, "creation_date": 1524676527, "post_id": 50027882, "comment_id": 87071961, "body": "I&#39;ve read this more than once. Questions are why it&#39;s done this way and how to bypass this limitation."}, {"owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "reply_to_user": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "edited": false, "score": 0, "creation_date": 1524677202, "post_id": 50027882, "comment_id": 87072294, "body": "I added a short explanation why it&#39;s not possible. Hope it helps you :)"}, {"owner": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "edited": false, "score": 0, "creation_date": 1524677293, "post_id": 50027882, "comment_id": 87072339, "body": "Int is not a final class, it&#39;s a primitive. Int? is a final class."}, {"owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "reply_to_user": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "edited": false, "score": 0, "creation_date": 1524677477, "post_id": 50027882, "comment_id": 87072437, "body": "In kotlin <code>Int</code> is a final class. It extands <code>Number</code> and implements <code>Comparable&lt;Int&gt;</code>. Its declared in <code>kotlin.Primitives.kt</code>"}, {"owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "reply_to_user": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "edited": false, "score": 0, "creation_date": 1524677616, "post_id": 50027882, "comment_id": 87072521, "body": "This would be a possible solution too. You could create classes that extand <code>Number</code>. But I dont now how this interoperability and compatibility of such classes are."}], "tags": [], "owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "is_accepted": false, "score": 0, "last_activity_date": 1524677154, "last_edit_date": 1524677154, "creation_date": 1524676366, "answer_id": 50027882, "question_id": 50027726, "link": "https://stackoverflow.com/questions/50027726/kotlin-type-safe-typealiases/50027882#50027882", "title": "Kotlin type-safe typealiases", "body": "<p>Unfortunately this is not possible with typealiases. The kotlin reference says:</p>\n\n<blockquote>\n  <p>Type aliases do not introduce new types. They are equivalent to the\n  corresponding underlying types. When you add <code>typealias Predicate&lt;T&gt;</code>\n  and use <code>Predicate&lt;Int&gt;</code> in your code, the Kotlin compiler always expand\n  it to <code>(Int) -&gt; Boolean</code>. Thus you can pass a variable of your type\n  whenever a general function type is required and vice versa:</p>\n\n<pre><code>typealias Predicate&lt;T&gt; = (T) -&gt; Boolean\n\nfun foo(p: Predicate&lt;Int&gt;) = p(42)\n\nfun main(args: Array&lt;String&gt;) {\n    val f: (Int) -&gt; Boolean = { it &gt; 0 }\n    println(foo(f)) // prints \"true\"\n\n    val p: Predicate&lt;Int&gt; = { it &gt; 0 }\n    println(listOf(1, -2).filter(p)) // prints \"[1]\"\n}\n</code></pre>\n</blockquote>\n\n<p>See kotlin <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">type aliases</a>.</p>\n\n<p>tl;dr You have to use (data) classes</p>\n\n<p>As the name typealias implies, a typealias is only a alias and not a new type. In your example <code>Latitude</code> and <code>Longitude</code> are <code>Ints</code>, independet from their names. To make them typesafe you have to declare a type. In theory you could inherit new types from <code>Int</code>. Since <code>Int</code> is a final class this is not possible. So its reqiuered to create a new class. </p>\n"}, {"comments": [{"owner": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "edited": false, "score": 0, "creation_date": 1524679669, "post_id": 50028415, "comment_id": 87073576, "body": "A nice document. #4 would be a killer-feature :) Still, I don&#39;t understand why inline classes should provide the runtime overhead. Also, my problem could also be solved with smth like <code>strict typealias Longitude = Double</code> , where strict would mean that only explicit casts are allowed on the type."}, {"owner": {"reputation": 1239, "user_id": 2321095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e02d490d89d5562962ee5ed5a3c77f2?s=128&d=identicon&r=PG", "display_name": "Daniel Alexandrov", "link": "https://stackoverflow.com/users/2321095/daniel-alexandrov"}, "reply_to_user": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "edited": false, "score": 0, "creation_date": 1524681570, "post_id": 50028415, "comment_id": 87074556, "body": "There isn&#39;t any runtime overhead with inline classes, because the values are never boxed/unboxed, after the compiler finishes with the type checks on the AST, the values are left with the underlying type, so in your case both values will still be Long when the VM executes the code. What I referred to as a runtime overhead are case classes in Scala, when used just as type safe wrapper of a single value (and this is the main reason for Scala&#39;s SIP-15)."}], "tags": [], "owner": {"reputation": 1239, "user_id": 2321095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e02d490d89d5562962ee5ed5a3c77f2?s=128&d=identicon&r=PG", "display_name": "Daniel Alexandrov", "link": "https://stackoverflow.com/users/2321095/daniel-alexandrov"}, "is_accepted": true, "score": 11, "last_activity_date": 1582024735, "last_edit_date": 1582024735, "creation_date": 1524678376, "answer_id": 50028415, "question_id": 50027726, "link": "https://stackoverflow.com/questions/50027726/kotlin-type-safe-typealiases/50028415#50028415", "title": "Kotlin type-safe typealiases", "body": "<h1>Update for Kotlin 1.3</h1>\n\n<p>Inline classes are already available as of Kotlin 1.3 and currently are marked as experimental. <a href=\"https://kotlinlang.org/docs/reference/inline-classes.html#experimental-status-of-inline-classes\" rel=\"noreferrer\">See the docs</a></p>\n\n<h2>Original answer</h2>\n\n<p>Unfortunately you can't avoid this currently. There is a feature in progress - <a href=\"https://drive.google.com/file/d/0BwAovUlww0CmVmNQTXd4TTdKYUU/view\" rel=\"noreferrer\">inline classes (#9 in this document)</a>, which will solve the problem with the runtime overhead, while enforcing compile time type-safety. It looks quite similar to <a href=\"http://docs.scala-lang.org/overviews/core/value-classes.html\" rel=\"noreferrer\">Scala's value classes</a>, which are handy if you have a lot of data, and normal case classes will be an overhead.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1524680492, "creation_date": 1524680492, "answer_id": 50028973, "question_id": 50027726, "link": "https://stackoverflow.com/questions/50027726/kotlin-type-safe-typealiases/50028973#50028973", "title": "Kotlin type-safe typealiases", "body": "<p>By defining <code>Latitude</code> and also <code>Longitude</code> as aliases for <code>Double</code> it can be seen as transitive aliases, i.e. you defined <code>Latitude</code> as an alias for <code>Longitude</code> and vice versa. Now, all three type names can be used interchangeably:</p>\n\n<pre><code>val d: Double = 5.0\nval x: Latitude = d\nval y: Longitude = x\n</code></pre>\n\n<p>You could, as an alternative, simply use parameter names to make clear what is being passed:</p>\n\n<pre><code>fun someFun(latitude: Double, longitude: Double) {\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val lat = 12.34\n    val lon = 56.78\n    someFun(latitude = lon, longitude = lat)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 857, "user_id": 11684473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75d9637ee85de92c304840bea0b9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "majkrzak", "link": "https://stackoverflow.com/users/11684473/majkrzak"}, "reply_to_user": {"reputation": 514, "user_id": 2807072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rqlp.jpg?s=128&g=1", "display_name": "Nurlan", "link": "https://stackoverflow.com/users/2807072/nurlan"}, "edited": false, "score": 0, "creation_date": 1580397935, "post_id": 58281954, "comment_id": 106091820, "body": "Don&#39;t blame me that it is out of topic, focus rather on the&quot;smart&quot; person who marked my question as duplicate of this one"}], "tags": [], "owner": {"reputation": 857, "user_id": 11684473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75d9637ee85de92c304840bea0b9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "majkrzak", "link": "https://stackoverflow.com/users/11684473/majkrzak"}, "is_accepted": false, "score": -1, "last_activity_date": 1570520017, "creation_date": 1570520017, "answer_id": 58281954, "question_id": 50027726, "link": "https://stackoverflow.com/questions/50027726/kotlin-type-safe-typealiases/58281954#58281954", "title": "Kotlin type-safe typealiases", "body": "<p>I was recently struggling with similar case. Inline classes are not the solution cause it forces me to use property wrapper.</p>\n\n<p>Hopefully for me I've managed to solve my problem by inheritance delegation.</p>\n\n<pre><code>class ListWrapper(list: List&lt;Double&gt;): List&lt;Double&gt; by list\n\n</code></pre>\n\n<p>This approach allows us to operate directly on ListWrapper as on regular List. Type is strictly identified so it might be passed via the Koin dependency injection mechanism for example.</p>\n\n<p>We can go even deeper:</p>\n\n<pre><code>class ListListWrapper(list: ListWrapper): ListWrapper by list\n</code></pre>\n\n<p>but this require us to \"open\" the parent class with reflection cause `@Suppress(\"FINAL_SUPERTYPE\") does not work.</p>\n\n<p>Unfortunately with primitives there is other issue, cause they somehow providing only empty private constructor and are initialized with some undocumented magic.</p>\n"}], "owner": {"reputation": 1038, "user_id": 2660039, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c6766c9cf9f4cfb37ce5eff0bdd67c1?s=128&d=identicon&r=PG", "display_name": "ekaerovets", "link": "https://stackoverflow.com/users/2660039/ekaerovets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3729, "favorite_count": 0, "accepted_answer_id": 50028415, "answer_count": 4, "score": 14, "last_activity_date": 1582024735, "creation_date": 1524675858, "question_id": 50027726, "link": "https://stackoverflow.com/questions/50027726/kotlin-type-safe-typealiases", "title": "Kotlin type-safe typealiases", "body": "<p>I use typealiases in my Kotlin code a lot, but I wonder if I can enforce type-safety on them.</p>\n\n<pre><code>typealias Latitude = Double\ntypealias Longitude = Double\n\nfun someFun(lat: Latitude, lon: Longitude) {...}\n\nval lat: Latitude = 12.34\nval lon: Longitude = 56.78\nsomeFun(lon, lat) // parameters are in a wrong order, but the code compiles fine\n</code></pre>\n\n<p>It would be nice if I could somehow prevent implicit casting between typealiases, helping to avoid such issues.</p>\n\n<p>Of course, there is a problem, that the operations on basic types would be not available for typealiases, but it can be solved with extension functions (or casts). </p>\n\n<p>I don't want to use data classes, holding a single field, because it seems a bit of overkill, especially for primitive types (or maybe I am wrong and they'll be optimized out?)</p>\n\n<p>So the question: can I somehow enforce type-safety for typealiases? </p>\n"}, {"tags": ["java", "android", "datetime", "kotlin"], "comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 1, "creation_date": 1524673289, "post_id": 50026874, "comment_id": 87070282, "body": "A simple <b>web search</b> for the title of your question would have given you many answers: <a href=\"https://www.google.com/search?q=java+how+to+parse+datetime+with+an+offset\" rel=\"nofollow noreferrer\"><code>java how to parse datetime with an offset</code></a> --- <a href=\"http://idownvotedbecau.se/noresearch/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/noresearch</a>"}, {"owner": {"reputation": 6429, "user_id": 5039498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x2q7.jpg?s=128&g=1", "display_name": "Amit Bera", "link": "https://stackoverflow.com/users/5039498/amit-bera"}, "edited": false, "score": 0, "creation_date": 1524673997, "post_id": 50026874, "comment_id": 87070687, "body": "Use <code>new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ssXXX&quot;);</code>"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1524683063, "post_id": 50026874, "comment_id": 87075365, "body": "What do you mean, \u201cJava 8: Instant is not an option.\u201d? What you need is an <code>OffsetDateTime</code> from the same API, <code>java.time</code>, the modern Java date and time API. It works nicely on older and newer Android devices. For the older ones add <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your project and import the classes from <code>org.threeten.bp</code> with subpackages."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1524683311, "post_id": 50026874, "comment_id": 87075495, "body": "Though not an exact duplicate I think you can find a good answer <a href=\"https://stackoverflow.com/questions/44717044/how-to-handle-all-zone-offset-in-one-datetimeformater-java-8\">here: How to handle all Zone Offset in one DateTimeFormater Java 8</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7212, "user_id": 4388512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rrgmo.png?s=128&g=1", "display_name": "F43nd1r", "link": "https://stackoverflow.com/users/4388512/f43nd1r"}, "is_accepted": true, "score": 0, "last_activity_date": 1524673072, "creation_date": 1524673072, "answer_id": 50026973, "question_id": 50026874, "link": "https://stackoverflow.com/questions/50026874/how-to-parse-datetime-with-an-offset/50026973#50026973", "title": "How to parse datetime with an offset", "body": "<p>Time zones can be parsed with <code>Z</code> (RFC 822) or <code>X</code> (ISO 8601), see <a href=\"https://developer.android.com/reference/java/text/SimpleDateFormat\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/text/SimpleDateFormat</a></p>\n"}], "owner": {"reputation": 1122, "user_id": 1092981, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cc305f70bb760f8993f58be1d02be55d?s=128&d=identicon&r=PG", "display_name": "Gisela", "link": "https://stackoverflow.com/users/1092981/gisela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "accepted_answer_id": 50026973, "answer_count": 1, "score": -1, "last_activity_date": 1524677388, "creation_date": 1524672728, "last_edit_date": 1524677388, "question_id": 50026874, "link": "https://stackoverflow.com/questions/50026874/how-to-parse-datetime-with-an-offset", "title": "How to parse datetime with an offset", "body": "<p>Date time strings like \"2018-04-01 10:00:00\" can be used to create Date objects with this Kotlin code:</p>\n\n<pre><code>val format = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\")\nval d : Date = format.parse(\"2018-04-01 10:00:00\")   // works fine\n</code></pre>\n\n<p>But how to parse date time strings with offsets like these:</p>\n\n<pre><code>2018-04-01 10:00:00+02       // GMT + 2 hours\n2018-04-01 10:00:00+02:30    // GMT + 2 hours, 30 minutes\n2018-04-01 10:00:00+0230     // GMT + 2 hours, 30 minutes\n</code></pre>\n\n<p>Java 8: Instant is not an option.</p>\n\n<p>edit:</p>\n\n<p>I've tried the suggestion and used 'x', 'X', 'z' and 'Z', 'XXX' with and without leading space. Compiles fine. The x-versions crashes when SimpleDateFormat is instantiated - seems unsupported in the used android api level:</p>\n\n<pre><code>// java.lang.IllegalArgumentException: Unknown pattern character 'X'\nvar formatter3 = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ssX\")\n\n// java.lang.IllegalArgumentException: Unknown pattern character 'x'\nvar formatter4 = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ssx\")\n\n// java.lang.IllegalArgumentException: Unknown pattern character 'x'\nvar formatter5 = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss x\")\n</code></pre>\n\n<p>The z-versions:</p>\n\n<pre><code>val formatter = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ssZ\")\nor\nval formatter = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ssz\")\nval date = formatter.parse(\"2018-04-24 17:33:02+02\")\n</code></pre>\n\n<p>seems to work.</p>\n\n<p>@Andreas: Date Time parsing is a pain in the ass. Instead of downvoting the question, <strong>a simple line of code</strong> would have been more helpful</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 146, "user_id": 2431603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RavKM.jpg?s=128&g=1", "display_name": "Anurag", "link": "https://stackoverflow.com/users/2431603/anurag"}, "edited": false, "score": 0, "creation_date": 1524672901, "post_id": 50026844, "comment_id": 87070062, "body": "Could you please update with your Home_tab class code as well. Looks like it is not the same to what you are trying to cast."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1524673459, "post_id": 50026844, "comment_id": 87070378, "body": "Have you tried looking at the stack trace to know what the error is? Might wanna add it to the question so we know what went wrong too :p"}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 2431603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RavKM.jpg?s=128&g=1", "display_name": "Anurag", "link": "https://stackoverflow.com/users/2431603/anurag"}, "is_accepted": true, "score": 0, "last_activity_date": 1524673339, "creation_date": 1524673339, "answer_id": 50027048, "question_id": 50026844, "link": "https://stackoverflow.com/questions/50026844/onbackpress-app-is-crash-when-back-from-activity-to-fragment/50027048#50027048", "title": "OnBackPress App is crash when back From Activity to Fragment", "body": "<pre><code>//Add a check like this before casting. \n//It is a smart cast and you can directly use the result.\nFragment fragmentZero = supportFragmentManager.fragments[0]\nif (fragmentZero is Home_tab) {\n   //Casting is done, you can directly use fragment here\n   homefragment = fragmentZero\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4947, "user_id": 2710256, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/EHLal.jpg?s=128&g=1", "display_name": "breakline", "link": "https://stackoverflow.com/users/2710256/breakline"}, "is_accepted": false, "score": 0, "last_activity_date": 1524673596, "creation_date": 1524673596, "answer_id": 50027113, "question_id": 50026844, "link": "https://stackoverflow.com/questions/50026844/onbackpress-app-is-crash-when-back-from-activity-to-fragment/50027113#50027113", "title": "OnBackPress App is crash when back From Activity to Fragment", "body": "<p>Well based on your code you add the fragment to the fragmentmanager (regular one) but try to get it back from the supportfragmentmanager. Those are two different classes and your fragment can only extend one</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 7284578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d01968d7f936db6c2265a0b752cad2?s=128&d=identicon&r=PG&f=1", "display_name": "Dharmesh Patel", "link": "https://stackoverflow.com/users/7284578/dharmesh-patel"}, "edited": false, "score": 0, "creation_date": 1524716911, "post_id": 50027754, "comment_id": 87085757, "body": "I have replaced my code with this.It is working fine in other devices but in Redmi 4 device the app is crashing.Device configuration are: Android OS 7.1.2 N2G47H,MIUI version MIUI Global 9.2|Stable 9.2.4.0(NAMMIEK),2GB RAM,16GB ROM.CPU octa-core Max 1.10GHz."}, {"owner": {"reputation": 59, "user_id": 7284578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d01968d7f936db6c2265a0b752cad2?s=128&d=identicon&r=PG&f=1", "display_name": "Dharmesh Patel", "link": "https://stackoverflow.com/users/7284578/dharmesh-patel"}, "edited": false, "score": 0, "creation_date": 1524717359, "post_id": 50027754, "comment_id": 87085860, "body": "octa-core Max 1.40GHz"}], "tags": [], "owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "is_accepted": false, "score": 0, "last_activity_date": 1524677684, "last_edit_date": 1524677684, "creation_date": 1524675958, "answer_id": 50027754, "question_id": 50026844, "link": "https://stackoverflow.com/questions/50026844/onbackpress-app-is-crash-when-back-from-activity-to-fragment/50027754#50027754", "title": "OnBackPress App is crash when back From Activity to Fragment", "body": "<p>You're are mixin fragment manager et support fragment manager, i'll go with suppport one since this is the right way to do it. To get current display fragment added with a container ID use <code>findFragmentById</code></p>\n\n<pre><code>if (savedInstanceState == null) {\n        homefragment = Home_tab()\n        supportFragmentManager?.let{\n            fragmentTransaction = it.beginTransaction()\n            fragmentTransaction.replace(R.id.frame, homefragment)\n            fragmentTransaction.addToBackStack(null)\n            fragmentTransaction.commit()\n        }\n    } else {\n        homefragment = supportFragmentManager.findFragmentById(R.id.frame) as Home_tab\n }\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7284578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d01968d7f936db6c2265a0b752cad2?s=128&d=identicon&r=PG&f=1", "display_name": "Dharmesh Patel", "link": "https://stackoverflow.com/users/7284578/dharmesh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 50027048, "answer_count": 3, "score": 0, "last_activity_date": 1524677684, "creation_date": 1524672648, "question_id": 50026844, "link": "https://stackoverflow.com/questions/50026844/onbackpress-app-is-crash-when-back-from-activity-to-fragment", "title": "OnBackPress App is crash when back From Activity to Fragment", "body": "<p>I am using drawer menu in my app.I select one option from menu and open fragment and from that fragment call an Activity.Since here it is working fine but when I press back button(OnbackPress) then app is crashed.\nbellow is the error.\n\"Unable start activity...ClassCastException...cannot be cast to Home_Tab\" </p>\n\n<p>This is MainActivity code.</p>\n\n<pre><code>if (savedInstanceState == null) {\n        homefragment = Home_tab()\n        fragmentTransaction = fragmentManager!!.beginTransaction()\n        fragmentTransaction!!.replace(R.id.frame, homefragment)\n        fragmentTransaction!!.addToBackStack(null)\n        fragmentTransaction!!.commit()\n    } else {\n        homefragment = supportFragmentManager.fragments[0] as Home_tab //Crash at this line \n }\n</code></pre>\n\n<p>Code from where backPress Called.</p>\n\n<pre><code>override fun onBackPressed() {\n    super.onBackPressed()\n    finish()\n}\n</code></pre>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 5, "last_activity_date": 1524668257, "last_edit_date": 1524668257, "creation_date": 1524667406, "answer_id": 50025166, "question_id": 50024875, "link": "https://stackoverflow.com/questions/50024875/how-to-convert-a-bytearray-to-a-shortarray-in-kotlin/50025166#50025166", "title": "How to convert a ByteArray to a ShortArray in Kotlin?", "body": "<p>You can process the <code>ByteArray</code> as a list with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/chunked.html\" rel=\"nofollow noreferrer\"><code>.chunked()</code></a>, though you have to manually convert the two bytes into a <code>Short</code>:</p>\n\n<pre><code>val bytes = byteArrayOf(12, 0, 24, 0)\nval shorts = bytes\n    .asList()\n    .chunked(2)\n    .map { (l, h) -&gt; (l.toInt() + h.shl(8)).toShort() }\n    .toShortArray()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1307, "user_id": 4681367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83a0416184c6ffe72aac807e2feac5ce?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel Briand", "link": "https://stackoverflow.com/users/4681367/lionel-briand"}, "is_accepted": false, "score": 1, "last_activity_date": 1524670135, "creation_date": 1524670135, "answer_id": 50026100, "question_id": 50024875, "link": "https://stackoverflow.com/questions/50024875/how-to-convert-a-bytearray-to-a-shortarray-in-kotlin/50026100#50026100", "title": "How to convert a ByteArray to a ShortArray in Kotlin?", "body": "<p>Without transforming to list as @hotkey answer :</p>\n\n<pre><code>val byteArray = byteArrayOf(12, 0, 24, 0)\nval shortArray = ShortArray(byteArray.size / 2) {\n    (byteArray[it * 2] + (byteArray[(it * 2) + 1].toInt() shl 8)).toShort()\n}\nprintln(shortArray.toList()) // [12, 24]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1333, "user_id": 5890321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08b0ac8116e1de42e5733c6c67c92a2?s=128&d=identicon&r=PG&f=1", "display_name": "Kenneth Argo", "link": "https://stackoverflow.com/users/5890321/kenneth-argo"}, "is_accepted": true, "score": 1, "last_activity_date": 1576200799, "creation_date": 1576200799, "answer_id": 59314967, "question_id": 50024875, "link": "https://stackoverflow.com/questions/50024875/how-to-convert-a-bytearray-to-a-shortarray-in-kotlin/59314967#59314967", "title": "How to convert a ByteArray to a ShortArray in Kotlin?", "body": "<p>I'm not certain why, but it appears that Kotlin treats bytes as if they are signed and the above answer work only when the first byte of each pair is &lt; 127.</p>\n\n<p>For example (editing the above to return correct answers):</p>\n\n<pre><code>    val byteArray = byteArrayOf(211.toByte(), 0, 24, 0)\n    val shortArray = ShortArray(byteArray.size / 2) {\n        (byteArray[it * 2].toUByte().toInt() + (byteArray[(it * 2) + 1].toInt() shl 8)).toShort()\n    }\n    println(shortArray.toList()) // [211, 24]\n</code></pre>\n\n<p>Using the above code with the same values returns incorrect information as [-45, 24]</p>\n"}], "owner": {"reputation": 1250, "user_id": 5545202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TntZx.jpg?s=128&g=1", "display_name": "Brendan Molloy", "link": "https://stackoverflow.com/users/5545202/brendan-molloy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2130, "favorite_count": 0, "accepted_answer_id": 59314967, "answer_count": 3, "score": 4, "last_activity_date": 1576200799, "creation_date": 1524666550, "last_edit_date": 1524667136, "question_id": 50024875, "link": "https://stackoverflow.com/questions/50024875/how-to-convert-a-bytearray-to-a-shortarray-in-kotlin", "title": "How to convert a ByteArray to a ShortArray in Kotlin?", "body": "<p>If I have a well-formed <code>ByteArray</code> (say, <code>byteArrayOf(12, 0, 24, 0)</code>), what is the easiest way to convert this into a <code>ShortArray</code>?</p>\n\n<p>For simplicity's sake, assume little-endian unless endianness handling is easy too.</p>\n\n<p>Resultant <code>ShortArray</code> should look like <code>(12, 24)</code>.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "java-native-interface", "unsatisfiedlinkerror"], "owner": {"reputation": 1015, "user_id": 3080611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7k3fd.png?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/3080611/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524664160, "creation_date": 1524664160, "question_id": 50024046, "link": "https://stackoverflow.com/questions/50024046/unsatisfiedlinkerror-when-adding-another-dependency", "title": "UnsatisfiedLinkError when adding another dependency", "body": "<p>I successfully added a android library which comes with a .jar and a .so file. After adding the .so in <code>jniLibs/armeabi-v7a</code> and the .jar into <code>libs/</code>, I added in the module <code>build.gradle</code> the following: <code>implementation files('libs/mylib.jar')</code>.\nThis works just fine.</p>\n\n<p>However, as soon as I add mailcore2-android-4.aar as dependency, the following error occurrs at the line when I first use an object of mylib:</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: No implementation found for com.myLibPackage.myLib\n</code></pre>\n\n<p>I'm using Kotlin and the lib is written in Java. I've tried several ways to add the dependencies (separate modules, files), but the problem remains the same.</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "edited": false, "score": 0, "creation_date": 1524668331, "post_id": 50024735, "comment_id": 87067015, "body": "It is good idea. So now think i can realy to avoid using toBlocking for this moment thanks"}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 2, "last_activity_date": 1524666184, "creation_date": 1524666184, "answer_id": 50024735, "question_id": 50023866, "link": "https://stackoverflow.com/questions/50023866/if-is-toblockingfirst-method-reliable/50024735#50024735", "title": "If is toBlockingFirst method reliable?", "body": "<p>If <code>flatMap</code> runs on an RxJava <code>Scheduler</code> the time <code>blockingFirst</code> is invoked, you'll likely get an <code>InterruptedException</code> wrapped into a <code>RuntimeException</code>. However, you should not call blocking methods in a handler but compose via <code>flatMap</code></p>\n\n<pre><code>.flatMap{ host -&gt;\n    userRepository.getUsers(PrefProvider.currentTourCode)\n        .flatMap { \n            if (it.size) {\n               return callSomething()\n            }\n            return callElse()\n        }\n }\n</code></pre>\n\n<p>Depending on what <code>callSomething</code> and <code>callElse</code> are supposed to do and if they should return something, you could also have <code>map</code> <code>doOnNext</code> instead of <code>flatMap</code> in there.</p>\n"}], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 50024735, "answer_count": 1, "score": 1, "last_activity_date": 1524666184, "creation_date": 1524663631, "last_edit_date": 1524666132, "question_id": 50023866, "link": "https://stackoverflow.com/questions/50023866/if-is-toblockingfirst-method-reliable", "title": "If is toBlockingFirst method reliable?", "body": "<p>My question about the method <code>toBlockingFirst()</code>.</p>\n\n<p>Is it a reliable method? i.e. Can I get <code>InterruptedException</code> with crash </p>\n\n<p>if I call dispose for disposable from subscrine?</p>\n\n<p>for example:</p>\n\n<pre><code>.flatMap{ host -&gt;\n    val count = userRepository.getUsers(PrefProvider.currentTourCode)\n        .map { it.size }\n        .blockingFirst()\n    if (count&gt;2) {\n        callSomething()\n    } else {\n        callElse()\n    } \n}\n</code></pre>\n\n<p>Can someone to explain me please?</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 7331042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e00db96e0c89df5a5c55729dce57ac?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Pavlukhin", "link": "https://stackoverflow.com/users/7331042/dmitriy-pavlukhin"}, "is_accepted": false, "score": 0, "last_activity_date": 1524665436, "creation_date": 1524665436, "answer_id": 50024480, "question_id": 50023648, "link": "https://stackoverflow.com/questions/50023648/android-slowgradlebuild/50024480#50024480", "title": "Android SlowGradleBuild", "body": "<p>This may be solution if you increased heap size in your project:</p>\n\n<p>For faster builds, increase the maximum heap size for the Gradle daemon to at least 4608 MB (based on the dexOptions.javaMaxHeapSize = 4g). (This is example size, yours may vary)</p>\n\n<p>To do this set org.gradle.jvmargs=-Xmx4608M in the project gradle.properties.</p>\n\n<p>For more information see <a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/build_environment.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "is_accepted": false, "score": 0, "last_activity_date": 1524666210, "creation_date": 1524666210, "answer_id": 50024745, "question_id": 50023648, "link": "https://stackoverflow.com/questions/50023648/android-slowgradlebuild/50024745#50024745", "title": "Android SlowGradleBuild", "body": "<p>There is a really good article you can read, <a href=\"https://medium.com/@kevalpatel2106/how-to-decrease-your-gradle-build-time-by-65-310b572b0c43\" rel=\"nofollow noreferrer\">here</a>.  But basically, you can update your gradle.properties file like so: </p>\n\n<pre><code>#Enable daemon\norg.gradle.daemon=true\n\n# Try and findout the best heap size for your project build.\norg.gradle.jvmargs=-Xmx3096m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n\n# Modularise your project and enable parallel build\norg.gradle.parallel=true\n\n# Enable configure on demand.\norg.gradle.configureondemand=true\n</code></pre>\n\n<p>I've done this and it takes me at least 50% less time.  </p>\n"}], "owner": {"reputation": 217, "user_id": 8291521, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-VshDCWcJHwI/AAAAAAAAAAI/AAAAAAAAALw/xpkN9hOm7jU/photo.jpg?sz=128", "display_name": "Mikael Quick", "link": "https://stackoverflow.com/users/8291521/mikael-quick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524666210, "creation_date": 1524662948, "last_edit_date": 1524664752, "question_id": 50023648, "link": "https://stackoverflow.com/questions/50023648/android-slowgradlebuild", "title": "Android SlowGradleBuild", "body": "<p>Hi there after the update in AndroidStudio+Kotlin does my gradle takes 5min+. The gradle Sync goes fast but the gradle build are just loading forever.</p>\n\n<p>Here is my <code>build.gradle</code>:</p>\n\n<p><strong>apply plugin: 'com.android.application'</strong></p>\n\n<p><strong>apply plugin: 'kotlin-android'</strong></p>\n\n<p>Please check below code and provide any suggestion to help me out.</p>\n\n<pre><code>android {\n\n    compileSdkVersion 26\n    buildToolsVersion '27.0.3'\n    defaultConfig {\n        applicationId \"myApp\"\n        minSdkVersion 20\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    sourceSets { main { res.srcDirs = ['src/main/res', 'src/main/res/fonts'] } }\n    }\n\n    dependencies {\n\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'de.hdodenhof:circleimageview:2.2.0'\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support:cardview-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.github.jkcclemens:khttp:0.1.0'\n    implementation 'com.github.devlight:infinitecycleviewpager:1.0.2'\n    implementation 'com.github.kittinunf.fuel:fuel:1.12.1'\n    implementation ('com.yarolegovich:discrete-scrollview:1.3.0') {\n        transitive = false\n\n    }\n    implementation 'com.amazonaws:aws-android-sdk-s3:2.6.18'\n    implementation 'com.github.whalemare:sheetmenu:1.3.3'\n    implementation 'com.amazonaws:aws-android-sdk-core:2.6.18'\n\n    implementation ('com.squareup.picasso:picasso:2.5.2'){\n        transitive = false\n\n    }\n\n\n    }\n\n    allprojects {\n    repositories {\n        jcenter()\n        maven {\n            url \"https://maven.google.com\"\n        }\n    }\n    }\n    repositories {\n    mavenCentral()\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1524660948, "post_id": 50022855, "comment_id": 87061878, "body": "So what is the question?"}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "reply_to_user": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1524661260, "post_id": 50022855, "comment_id": 87062130, "body": "@DEADMC I am getting the views null when i call the &#39;startViewAnimations()&#39; from the Activity"}, {"owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1524661430, "post_id": 50022855, "comment_id": 87062244, "body": "where are rippleBack and other views are placed, I mean how do you inflate them?"}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "reply_to_user": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1524661575, "post_id": 50022855, "comment_id": 87062356, "body": "override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {         return inflater!!.inflate(R.layout.fragment_search, container, false)     }"}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "reply_to_user": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1524661611, "post_id": 50022855, "comment_id": 87062384, "body": "@DEADMC for inflating views import kotlinx.android.synthetic.main.fragment_search.*"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524661939, "post_id": 50023266, "comment_id": 87062619, "body": "I tried changing the the OffScreenPageLimit but no luck :( Anyways thanks for the help"}, {"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "reply_to_user": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524662026, "post_id": 50023266, "comment_id": 87062686, "body": "@YashParikh How much fragments are in your adapter? And are you using FragmentStatePagerAdpater or FragmentPagerAdapter?"}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524662237, "post_id": 50023266, "comment_id": 87062843, "body": "Using FragmentStatePagerAdapter and there are total 4 fragments"}, {"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "reply_to_user": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524662322, "post_id": 50023266, "comment_id": 87062906, "body": "@YashParikh Does it crash every time you move to a different fragment?"}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524662411, "post_id": 50023266, "comment_id": 87062975, "body": "No when i get back on particular fragment i.e position 0"}, {"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "reply_to_user": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524662675, "post_id": 50023266, "comment_id": 87063180, "body": "@YashParikh Wait it happens when you get back on fragment on which you&#39;ve been before?"}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524663370, "post_id": 50023266, "comment_id": 87063568, "body": "Yes app is getting crashed"}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524663596, "post_id": 50023266, "comment_id": 87063720, "body": "Nope i haven&#39;t added any :("}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524664783, "post_id": 50023266, "comment_id": 87064516, "body": "I have edited question and added the full fragment Code"}, {"owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "edited": false, "score": 0, "creation_date": 1524721858, "post_id": 50023266, "comment_id": 87087308, "body": "Thanks buddy for your help.. issue has been resolved, it was the problem in my ViewPager Adapter, i was always creating the new instance for the fragment so the Views were getting destroyed and found null... :)"}], "tags": [], "owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "is_accepted": false, "score": 0, "last_activity_date": 1524661735, "creation_date": 1524661735, "answer_id": 50023266, "question_id": 50022855, "link": "https://stackoverflow.com/questions/50022855/getting-view-null-in-fragment-when-onpageselected-of-viewpager-called-kotlin/50023266#50023266", "title": "Getting view Null in fragment when onPageSelected() of ViewPager called Kotlin", "body": "<p>View pager by default caches only 3 fragments. Current, previous and next. </p>\n\n<p>When you move to some page all pages which are out of this range call <code>onDestroyView()</code> and the view is destroyed i.e. it becomes null. When  this page gets into the range again it must create the view again thus calling <code>onCreateView()</code>. The view is null while the it is creating</p>\n\n<p>Range in which fragments (actually views) will are cached can be customized with <code>setOffscreenPageLimit(int limit)</code>. </p>\n\n<p>Hope this solves your problem.</p>\n"}], "owner": {"reputation": 199, "user_id": 9303608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e109aa0070fd0befa3bc9dec185ccda?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Parikh", "link": "https://stackoverflow.com/users/9303608/yash-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524668105, "creation_date": 1524660618, "last_edit_date": 1524664731, "question_id": 50022855, "link": "https://stackoverflow.com/questions/50022855/getting-view-null-in-fragment-when-onpageselected-of-viewpager-called-kotlin", "title": "Getting view Null in fragment when onPageSelected() of ViewPager called Kotlin", "body": "<p><strong>Using Kotlin Android Extensions for views initialization</strong></p>\n\n<p>Activity Code for PageSelected:</p>\n\n<pre><code>introPager.addOnPageChangeListener(object : ViewPager.OnPageChangeListener {\n            override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {\n\n            }\n\n            override fun onPageSelected(position: Int) {\n                when(position) {\n                    0 -&gt; (pagerAdapter.getItem(position) as SearchFragment).startViewAnimations()\n                }\n            }\n\n            override fun onPageScrollStateChanged(state: Int) {\n\n            }\n        })\n</code></pre>\n\n<p>Fragment Method:</p>\n\n<pre><code>fun startViewAnimations() {\n        rippleBack?.startRippleAnimation()\n        centerImage?.startAnimation(AnimationUtils.loadAnimation(activity, R.anim.rotate_indefinitely))\n\n        val handler = Handler()\n        handler.postDelayed({\n            relAllViews?.visibility = View.VISIBLE\n            relAllViews?.animate()?.alpha(1.0f)\n            rippleBack?.animate()?.alpha(0.0f)\n            rippleBack?.visibility = View.GONE\n            rippleBack?.stopRippleAnimation()\n            centerImage?.clearAnimation()\n        }, 3500)\n    }\n</code></pre>\n\n<p>If I use the same function in the Fragment's <code>onViewCreated()</code> it works fine code sample:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        startViewAnimations()\n    }\n</code></pre>\n\n<p>Full Fragment Code:</p>\n\n<pre><code>package com.beeland.consumer.fragment.appintro\n\nimport android.os.Bundle\nimport android.os.Handler\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.view.animation.AnimationUtils\nimport com.beeland.consumer.R\nimport com.beeland.consumer.utils.Utils\nimport kotlinx.android.synthetic.main.fragment_search.*\n\n/**\n * @author Yash\n * @since 23-04-2018.\n */\nclass SearchFragment : Fragment() {\n\n    /**\n     * Method to replace layouts in App Intro Section\n     *\n     * @return IntroFragment's new instance\n     */\n    fun newInstance(): SearchFragment {\n        val intro = SearchFragment()\n        val args = Bundle()\n        args.putString(\"\", \"\")\n        intro.arguments = args\n        return intro\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater!!.inflate(R.layout.fragment_search, container, false)\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        startViewAnimations()\n    }\n\n    fun startViewAnimations() {\n        rippleBack?.startRippleAnimation()\n        centerImage?.startAnimation(AnimationUtils.loadAnimation(activity, R.anim.rotate_indefinitely))\n\n        val handler = Handler()\n        handler.postDelayed({\n            relAllViews?.visibility = View.VISIBLE\n            relAllViews?.animate()?.alpha(1.0f)\n            rippleBack?.animate()?.alpha(0.0f)\n            rippleBack?.visibility = View.GONE\n            rippleBack?.stopRippleAnimation()\n            centerImage?.clearAnimation()\n\n            handler.postDelayed({\n                Utils.bounceAnimationVisible(txt5Km)\n            }, 300)\n\n            handler.postDelayed({\n                Utils.bounceAnimationVisible(txtPostalDelivery)\n            }, 600)\n\n            handler.postDelayed({\n                Utils.bounceAnimationVisible(img1)\n            }, 900)\n\n            handler.postDelayed({\n                Utils.bounceAnimationVisible(img2)\n            }, 1200)\n\n            handler.postDelayed({\n                Utils.bounceAnimationVisible(img3)\n            }, 1500)\n\n            handler.postDelayed({\n                Utils.bounceAnimationVisible(imgRes1)\n                Utils.bounceAnimationVisible(imgRes2)\n                Utils.bounceAnimationVisible(imgRes3)\n                Utils.bounceAnimationVisible(imgRes4)\n            }, 1800)\n\n        }, 3500)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1524658729, "post_id": 50021972, "comment_id": 87060146, "body": "I don&#39;t see you are accessing any views in this parts of code."}, {"owner": {"reputation": 2086, "user_id": 4519859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd21755eee5154dcda1e10d44a01d00?s=128&d=identicon&r=PG&f=1", "display_name": "Aj 27", "link": "https://stackoverflow.com/users/4519859/aj-27"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1524658976, "post_id": 50021972, "comment_id": 87060341, "body": "rippleBack is my view."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1524659059, "post_id": 50021972, "comment_id": 87060397, "body": "probably you initialize it incorrectly."}, {"owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1524659076, "post_id": 50021972, "comment_id": 87060409, "body": "What is <code>txt5Km</code> ?"}, {"owner": {"reputation": 2086, "user_id": 4519859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd21755eee5154dcda1e10d44a01d00?s=128&d=identicon&r=PG&f=1", "display_name": "Aj 27", "link": "https://stackoverflow.com/users/4519859/aj-27"}, "edited": false, "score": 0, "creation_date": 1524659095, "post_id": 50021972, "comment_id": 87060426, "body": "how to initialize view?"}, {"owner": {"reputation": 2086, "user_id": 4519859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd21755eee5154dcda1e10d44a01d00?s=128&d=identicon&r=PG&f=1", "display_name": "Aj 27", "link": "https://stackoverflow.com/users/4519859/aj-27"}, "reply_to_user": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1524659111, "post_id": 50021972, "comment_id": 87060441, "body": "@PeterSamokhin it is a text view"}], "answers": [{"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1535362136, "post_id": 50022353, "comment_id": 91022666, "body": "If use KAE, you still can access views by <code>view.findViewById(R.id.my_text_view) as TextView</code>."}], "tags": [], "owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "is_accepted": true, "score": 2, "last_activity_date": 1524659234, "creation_date": 1524659234, "answer_id": 50022353, "question_id": 50021972, "link": "https://stackoverflow.com/questions/50021972/kotlin-getting-views-null-in-fragment-when-accessing-the-view-from-an-activity/50022353#50022353", "title": "Kotlin getting views null in fragment when accessing the view from an Activity", "body": "<p>If you are using <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin Android Extensions</a> and fragments, consider that you can call views by its' ids only in <code>onViewCreated</code> and later. If you call it before, you will see NPE.</p>\n\n<p>If you don't use KAE, you can initialize view in fragment like this:</p>\n\n<pre><code>class MyFragment: Fragment() {\n\n    // other methods\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        val myTextView = view.findViewById&lt;TextView&gt;(R.id.my_text_view)\n\n        // now you can do something with views\n    }\n\n    // other methods\n}\n</code></pre>\n"}], "owner": {"reputation": 2086, "user_id": 4519859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd21755eee5154dcda1e10d44a01d00?s=128&d=identicon&r=PG&f=1", "display_name": "Aj 27", "link": "https://stackoverflow.com/users/4519859/aj-27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2486, "favorite_count": 0, "accepted_answer_id": 50022353, "answer_count": 1, "score": -2, "last_activity_date": 1524659234, "creation_date": 1524658156, "last_edit_date": 1524658726, "question_id": 50021972, "link": "https://stackoverflow.com/questions/50021972/kotlin-getting-views-null-in-fragment-when-accessing-the-view-from-an-activity", "title": "Kotlin getting views null in fragment when accessing the view from an Activity", "body": "<p>I am new to Kotlin , I don't know what I am doing wrong. Can Any one help me ?</p>\n\n<p>Fragment Code:</p>\n\n<pre><code>fun startViewAnimations() {\n rippleBack?.startRippleAnimation()\n}\n</code></pre>\n\n<p>Activity Code:</p>\n\n<pre><code>override fun onPageSelected(position: Int) {\n when(position) {\n 0 -&gt; (pagerAdapter.getItem(position) as SearchFragment).startViewAnimations()\n }\n }\n</code></pre>\n\n<p>following is the error :</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.beeland.consumer, PID: 5892\n    java.lang.IllegalStateException: txt5Km must not be null\n        at com.beeland.consumer.fragment.appintro.SearchFragment$startViewAnimations$1$1.run(SearchFragment.kt:56)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6165)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:778)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "edited": false, "score": 0, "creation_date": 1524660001, "post_id": 50021665, "comment_id": 87061149, "body": "Why not just hardcode it? It&#39;s not like you can change it at runtime."}], "answers": [{"comments": [{"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1606219824, "post_id": 50025435, "comment_id": 114891288, "body": "have no compile-time possibilities for doing that emerged? :("}], "tags": [], "owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "is_accepted": false, "score": 3, "last_activity_date": 1524668222, "creation_date": 1524668222, "answer_id": 50025435, "question_id": 50021665, "link": "https://stackoverflow.com/questions/50021665/quantity-of-members-of-sealed-class-in-kotlin/50025435#50025435", "title": "Quantity of members of sealed class in Kotlin", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/nested-classes.html\" rel=\"nofollow noreferrer\">KClass.nestedClasses</a> of the kotlin reflection api. This returns all classes declared in the given class (so eg. the companion object is listed too). </p>\n\n<pre><code>fun countSubclasses(clazz: KClass&lt;*&gt;): Int =\n        clazz.nestedClasses.filter {\n            it.isSubclassOf(clazz)\n        }.size\n</code></pre>\n\n<p>To call this function use</p>\n\n<pre><code>countSubClasses(Foo::class)\n</code></pre>\n\n<p>For detailed information see <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">kotlin reflection reference</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1524680770, "creation_date": 1524680770, "answer_id": 50029036, "question_id": 50021665, "link": "https://stackoverflow.com/questions/50021665/quantity-of-members-of-sealed-class-in-kotlin/50029036#50029036", "title": "Quantity of members of sealed class in Kotlin", "body": "<p>The <code>nestedClasses</code> property of <code>KClass</code> should be fine:</p>\n\n<pre><code>println(Foo::class.nestedClasses.size) //2\n</code></pre>\n"}], "owner": {"reputation": 4747, "user_id": 1263771, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/da5cbc1ac0d9829d640b63b3865e090b?s=128&d=identicon&r=PG", "display_name": "tse", "link": "https://stackoverflow.com/users/1263771/tse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1524680770, "creation_date": 1524657204, "question_id": 50021665, "link": "https://stackoverflow.com/questions/50021665/quantity-of-members-of-sealed-class-in-kotlin", "title": "Quantity of members of sealed class in Kotlin", "body": "<p>Is there any way to get quantity of members of <code>sealed class</code> in Kotlin? \nFor example, for this class it will be 2:</p>\n\n<pre><code>sealed class Foo {\n    object Bar : Foo()\n    data class Baz(val m: String) : Foo()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "android-gradle-plugin"], "answers": [{"comments": [{"owner": {"reputation": 921, "user_id": 5326910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/07bd35bd9f4786345b3b1b479e0351c9?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksander Aleksic", "link": "https://stackoverflow.com/users/5326910/aleksander-aleksic"}, "edited": false, "score": 0, "creation_date": 1524660287, "post_id": 50022008, "comment_id": 87061372, "body": "Unfortunately, it did not work. I did forget to mention that I get the same error on the CI server also."}], "tags": [], "owner": {"reputation": 2267, "user_id": 2049384, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EypjF.jpg?s=128&g=1", "display_name": "Sreedhu Madhu", "link": "https://stackoverflow.com/users/2049384/sreedhu-madhu"}, "is_accepted": false, "score": 1, "last_activity_date": 1524658264, "creation_date": 1524658264, "answer_id": 50022008, "question_id": 50021255, "link": "https://stackoverflow.com/questions/50021255/gradle-android-cannot-find-symbol-context/50022008#50022008", "title": "Gradle android cannot find symbol Context", "body": "<p>I may be wrong, once I got this error while switching git branch from Kotlin Compiler that can't find symbols.</p>\n\n<p>I did clear cache then it worked,</p>\n\n<pre><code>rm -rf $HOME/.gradle/caches/\n</code></pre>\n\n<p>Seems while switching branch previous branch files cached created this issue.</p>\n\n<p>Give a try if you want.</p>\n"}], "owner": {"reputation": 921, "user_id": 5326910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/07bd35bd9f4786345b3b1b479e0351c9?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksander Aleksic", "link": "https://stackoverflow.com/users/5326910/aleksander-aleksic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524658264, "creation_date": 1524656046, "question_id": 50021255, "link": "https://stackoverflow.com/questions/50021255/gradle-android-cannot-find-symbol-context", "title": "Gradle android cannot find symbol Context", "body": "<p>I have a java + kotlin android project that builds and runs fine in Android Studio. I am now setting up CI and need to run Gradle from the terminal.\nBut when I run <code>./gradlew :app:lint</code> I get a lot of errors like this:</p>\n\n<pre><code>symbol:   class Context\nlocation: class ConnectivityMonitor\ne: /*******/LocalAppHistory.java:20: error: cannot find symbol\npublic boolean hasSeenOnboarding(Context context) {\n                                 ^\n</code></pre>\n\n<p>I get the same type of error for <code>Context, CognitoUserSession, Typeface, CognitoCachingCredentialsProvider...</code> and many more.\nIt only applies to the <code>app</code> project and none of the other modules.</p>\n\n<h3>The <code>app</code> <code>gradle.build</code> file:</h3>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n   compileSdkVersion 27\n   buildToolsVersion \"27.0.3\"\n\n   defaultConfig {\n       applicationId \"****\"\n       minSdkVersion 21\n       targetSdkVersion 27\n       versionCode 48\n       versionName \"1.3.0-dev\"\n       testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n       renderscriptTargetApi 18\n       renderscriptSupportModeEnabled true\n       multiDexEnabled true\n   }\n   buildTypes {\n       release {\n           minifyEnabled false\n       }\n   }\n\n   testOptions {\n       unitTests.returnDefaultValues = true\n   }\n}\n\ndependencies {\n   implementation fileTree(include: ['*.jar'], dir: 'libs')\n   implementation project(':corentiumio')\n   implementation project(':uicomponents')\n   implementation project(':core')\n   implementation project(':localrepo')\n   implementation project(':cloudio')\n   implementation('com.crashlytics.sdk.android:crashlytics:2.6.6@aar') {\n       transitive = true\n   }\n   implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n   implementation 'com.android.support:appcompat-v7:27.1.1'\n   implementation 'com.android.support:animated-vector-drawable:27.1.1'\n   implementation 'com.android.support:design:27.1.1'\n   implementation 'com.android.support:support-v4:27.1.1'\n   implementation 'com.android.support.constraint:constraint-layout:1.1.0'\n   implementation 'com.amazonaws:aws-android-sdk-core:2.4.2'\n   implementation 'com.amazonaws:aws-android-sdk-ddb:2.2.22'\n   implementation 'com.amazonaws:aws-android-sdk-ddb-mapper:2.2.22'\n   implementation 'com.amazonaws:aws-android-sdk-cognito:2.4.2'\n   implementation 'com.amazonaws:aws-android-sdk-cognitoidentityprovider:2.4.2'\n   implementation 'com.google.android.gms:play-services-places:15.0.0'\n   implementation 'com.google.android.gms:play-services-maps:15.0.0'\n   implementation 'com.google.android.gms:play-services-location:15.0.0'\n   implementation 'uk.co.chrisjenx:calligraphy:2.3.0'\n\n   testImplementation 'commons-logging:commons-logging:1.2'\n   testImplementation 'junit:junit:4.12'\n   testImplementation 'org.mockito:mockito-core:2.13.0'\n   testImplementation 'org.robolectric:robolectric:3.5.1'\n   androidTestImplementation 'com.google.code.findbugs:jsr305:3.0.2'\n   androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n       exclude group: 'com.android.support', module: 'support-annotations'\n   })\n   androidTestImplementation('com.android.support.test:runner:0.5') {\n       exclude group: 'com.android.support'\n   }\n   androidTestImplementation('com.android.support.test:rules:0.5') {\n       exclude group: 'com.android.support'\n   }\n   androidTestImplementation('com.android.support.test.espresso:espresso-intents:2.2.2') {\n       exclude group: 'com.android.support'\n   }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger"], "answers": [{"tags": [], "owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "is_accepted": true, "score": 3, "last_activity_date": 1524684921, "creation_date": 1524684921, "answer_id": 50030066, "question_id": 50020812, "link": "https://stackoverflow.com/questions/50020812/dagger-android-library-how-to-inject-a-property-of-a-dialog-class/50030066#50030066", "title": "\u201cdagger-android\u201d library, how to inject a property of a Dialog class?", "body": "<p>AndroidInjection only works on the classes like activities and fragments, not dialogs. If you want to inject your dialog, use a dialog fragment instead. Or, since you can actually just call the constructor, use constructor injection and not Dagger. </p>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2325, "favorite_count": 0, "accepted_answer_id": 50030066, "answer_count": 1, "score": 2, "last_activity_date": 1524684921, "creation_date": 1524654698, "last_edit_date": 1524655235, "question_id": 50020812, "link": "https://stackoverflow.com/questions/50020812/dagger-android-library-how-to-inject-a-property-of-a-dialog-class", "title": "\u201cdagger-android\u201d library, how to inject a property of a Dialog class?", "body": "<p>I followed the example which claims that is the better \"new way\". (<a href=\"https://proandroiddev.com/exploring-the-new-dagger-android-module-9eb6075f1a46\" rel=\"nofollow noreferrer\">https://proandroiddev.com/exploring-the-new-dagger-android-module-9eb6075f1a46</a>) The full sample source code is here (<a href=\"https://github.com/jshvarts/DaggerAndroidKotlinSampleApp\" rel=\"nofollow noreferrer\">https://github.com/jshvarts/DaggerAndroidKotlinSampleApp</a>). It uses this to inject properties to an Activity like this,</p>\n\n<pre><code>class MainActivity:AppCompatActivity()\n{\n    @Inject\n    lateinit var something:Something\n\n    override fun onCreate(..)\n    {\n      AndroidInjection.inject(this)\n      ...\n</code></pre>\n\n<p>And a module</p>\n\n<pre><code>@Module\nabstract class ActivitiesModule\n{\n    @ContributesAndroidInjector\n    abstract fun bindMainActivity():MainActivity\n</code></pre>\n\n<p>It works well, but what about a custom <code>Dialog</code> class?  I create the Dialog with some custom arguments (which are only known at run-time with user's inputs) like the following. I may modify the constructor of MyDialog to take <code>something</code>, and let the activity eventually pass <code>something</code> to the MyDialog's constructor. </p>\n\n<p>But it would be ugly, because the activity does not directly create MyDialog. MainActivity has a custom control, and that custom control shows MyDialog when a button is clicked on it. So, to use the constructor method, I must pass <code>something</code> from MainActivity to the custom control, and then let the custom control create MyDialog with <code>something</code>.</p>\n\n<pre><code>class MyDialog:Dialog\n{\n      @Inject\n      lateinit var something:Something\n\n      constructor(context:Context?, arg1, args2, args3):super(context)\n      {\n          //Cannot call AndroidInjection.inject, because\n          //it does not take a Dialog.\n          AndroidInjection.inject(this); //&lt;--Does NOT work.\n</code></pre>\n\n<p>If only I could tell Dagger to inject the fields of MyDialog at its constructor... What is the solution for this?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 84, "user_id": 5778533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0fay4oFk0Hk/AAAAAAAAAAI/AAAAAAAAFxw/0LHldJvIuBY/photo.jpg?sz=128", "display_name": "Eloraju", "link": "https://stackoverflow.com/users/5778533/eloraju"}, "edited": false, "score": 0, "creation_date": 1524653948, "post_id": 50020075, "comment_id": 87056724, "body": "This sounded very promising, but unfortunately it didn&#39;t work... I&#39;m still getting the same errors when I enable the download portion of the code."}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 84, "user_id": 5778533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0fay4oFk0Hk/AAAAAAAAAAI/AAAAAAAAFxw/0LHldJvIuBY/photo.jpg?sz=128", "display_name": "Eloraju", "link": "https://stackoverflow.com/users/5778533/eloraju"}, "edited": false, "score": 0, "creation_date": 1524654186, "post_id": 50020075, "comment_id": 87056894, "body": "@JuusoElo-Rauta try this also set your <code>setHasFixedSize(true);</code> to your parent recyclerview"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 84, "user_id": 5778533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0fay4oFk0Hk/AAAAAAAAAAI/AAAAAAAAFxw/0LHldJvIuBY/photo.jpg?sz=128", "display_name": "Eloraju", "link": "https://stackoverflow.com/users/5778533/eloraju"}, "edited": false, "score": 0, "creation_date": 1524654568, "post_id": 50020075, "comment_id": 87057124, "body": "@JuusoElo-Rauta check this <a href=\"https://stackoverflow.com/a/40833186/7666442\">stackoverflow.com/a/40833186/7666442</a>"}, {"owner": {"reputation": 84, "user_id": 5778533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0fay4oFk0Hk/AAAAAAAAAAI/AAAAAAAAFxw/0LHldJvIuBY/photo.jpg?sz=128", "display_name": "Eloraju", "link": "https://stackoverflow.com/users/5778533/eloraju"}, "edited": false, "score": 1, "creation_date": 1524654753, "post_id": 50020075, "comment_id": 87057246, "body": "Tried both of them yesterday to no avail, but I&#39;ll give then another go with your implementation."}, {"owner": {"reputation": 84, "user_id": 5778533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0fay4oFk0Hk/AAAAAAAAAAI/AAAAAAAAFxw/0LHldJvIuBY/photo.jpg?sz=128", "display_name": "Eloraju", "link": "https://stackoverflow.com/users/5778533/eloraju"}, "edited": false, "score": 0, "creation_date": 1524655837, "post_id": 50020075, "comment_id": 87057995, "body": "Still crashing. I just might switch the childRC to a lienar/gridlayout and populate/clean it by hand for every item if this persists."}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1524652514, "creation_date": 1524652514, "answer_id": 50020075, "question_id": 50019891, "link": "https://stackoverflow.com/questions/50019891/setting-recyclerviews-itemanimator-to-null-does-not-remove-animations/50020075#50020075", "title": "Setting RecyclerViews itemAnimator to null does not remove animations", "body": "<p>I have faced the same issue</p>\n\n<p>Try this in your child <code>RecyclerView</code> it works for me</p>\n\n<pre><code>RecyclerView childRC = itemView.findViewById(R.id.cmol_childRC);\nlayoutManager = new LinearLayoutManager(context);\nchildRC.setItemAnimator(null);\nchildRC.setLayoutManager(layoutManager);\nchildRC.setNestedScrollingEnabled(false);\nchildRC.setHasFixedSize(true);\n</code></pre>\n\n<p>now set your <code>Adapter</code> like this</p>\n\n<pre><code>ArrayList&lt;Model&gt; childArryList = new ArrayList&lt;&gt;();\nchildArryList.addAll(arrayList.get(position).getArrayList());\nChildOrderAdapter adapter = new ChildOrderAdapter(context, childArryList);\nholder.childRC.swapAdapter(adapter, true);\n</code></pre>\n\n<p>hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 5778533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0fay4oFk0Hk/AAAAAAAAAAI/AAAAAAAAFxw/0LHldJvIuBY/photo.jpg?sz=128", "display_name": "Eloraju", "link": "https://stackoverflow.com/users/5778533/eloraju"}, "is_accepted": true, "score": 0, "last_activity_date": 1525861059, "last_edit_date": 1525861059, "creation_date": 1524812294, "answer_id": 50056968, "question_id": 50019891, "link": "https://stackoverflow.com/questions/50019891/setting-recyclerviews-itemanimator-to-null-does-not-remove-animations/50056968#50056968", "title": "Setting RecyclerViews itemAnimator to null does not remove animations", "body": "<p>I finally figured out what was causing this. In my <code>DiscussionInstanceView</code> I have a small <code>view</code> that is animated into and out of view with <code>ConstraintLayout</code> keyframe animations. This view only shows the download progress of the chat history and is used only once, when the discussion is first opened. BUT since I had a call to hiding that view every time my dataset got updated, I was forcing the <code>ConstraintLayout</code> to fire of an animation sequence thus making everything animate during the dataset update. I just added a simple check whether I was downloading the history or not and this problem got fixed.</p>\n"}], "owner": {"reputation": 84, "user_id": 5778533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0fay4oFk0Hk/AAAAAAAAAAI/AAAAAAAAFxw/0LHldJvIuBY/photo.jpg?sz=128", "display_name": "Eloraju", "link": "https://stackoverflow.com/users/5778533/eloraju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 50056968, "answer_count": 2, "score": 0, "last_activity_date": 1525861059, "creation_date": 1524651982, "last_edit_date": 1524783031, "question_id": 50019891, "link": "https://stackoverflow.com/questions/50019891/setting-recyclerviews-itemanimator-to-null-does-not-remove-animations", "title": "Setting RecyclerViews itemAnimator to null does not remove animations", "body": "<p>My outer <code>RecyclerView</code> crashes either with</p>\n\n<pre><code>IllegalArgumentException: Scrapped or attached views may not be recycled. isScrap:false isAttached:true...\n</code></pre>\n\n<p>or</p>\n\n<pre><code>IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n</code></pre>\n\n<p>Like the title suggests I have an <code>RecyclerView</code> in the list item layout of the first <code>RecyclerView</code>. This layout is used to display messages and the \ninner <code>RecyclerView</code> to display attachments that come with the message. The inner <code>RecyclerViews</code> visibility is set to either <code>GONE</code> or <code>VISIBLE</code> depending whether the message has any attachments or not. The simplified outer list item layout looks like this</p>\n\n<pre><code>ConstraintLayout\n    TextView\n    TextView\n    TextView\n    RecyclerView\n</code></pre>\n\n<p>And the part of the adapter that handles the inner <code>RecyclerView</code> looks like this</p>\n\n<pre><code>private fun bindFiles(message: Message?) = with(itemView) {\n      if (message != null &amp;&amp; message.attachments.isNotEmpty())\n      {\n            sent_message_attachments.setAsVisible()\n            sent_message_attachments.layoutManager = GridLayoutManager(this.context,Math.min(message.attachments.size,3))\n            sent_message_attachments.adapter = AttachmentAdapter(message.attachments)\n            sent_message_attachments.itemAnimator = null\n            sent_message_attachments.setHasFixedSize(true)\n      }\n      else{\n            sent_message_attachments.setAsGone()\n            sent_message_attachments.adapter = null\n            sent_message_attachments.layoutManager = null\n      }\n    }\n</code></pre>\n\n<p>The bug has something to do with the way I fetch the attachments in the inner adapter since once I disable the part that start the download process, everything is fine. There's no problem when loading images from the device, but once I start the download process, everything goes to hell. This is the part that handles images and kicks off the download process in the inner adapter. I have functions for videos and for other file types that are pretty much the same exact thing but use slightly different layout.</p>\n\n<pre><code>private fun bindImage(item: HFile?) = with(itemView) {\n      if (item != null)\n      {\n        if (item.isOnDevice &amp;&amp; !item.path.isNullOrEmpty())\n        {\n          if (item.isGif)\n          {\n            attachment_image.displayGif(File(item.path))\n          }\n          else\n          {\n            attachment_image.displayImage(File(item.path))\n          }\n        }\n        else\n        {\n          //TODO: Add option to load images manually\n          FileHandler(item.id).downloadFileAsObservable(false)\n              .subscribeOn(Schedulers.io())\n              .observeOn(AndroidSchedulers.mainThread())\n              .subscribe(\n                  { progress -&gt;\n                    //TODO: Show download process\n                  },\n                  { error -&gt; \n                  error.printStackTrace()\n                  //TODO: Enable manual retry \n                  },\n                  { notifyItemChanged(adapterPosition)} //onComplete\n              )\n        }\n      }\n  }\n</code></pre>\n\n<p>I use the same structure as above in my <code>DiscussionListAdapter</code> to load discussion portraits (profile pictures etc.) and it does not have the same issue.</p>\n\n<p>These are the extensions functions used to inflate the viewHolders and to display the images</p>\n\n<pre><code>fun ViewGroup.inflate(layoutRes: Int): View\n{\n  return LayoutInflater.from(context).inflate(layoutRes, this, false)\n}\n\nfun ImageView.displayGif(file:File){\n  GlideApp.with(context).asGif().load(file).transforms(CenterCrop(), RoundedCorners(30)).into(this)\n}\n\nfun ImageView.displayImage(file:File){\n  GlideApp.with(context).load(file).transforms(CenterCrop(), RoundedCorners(30)).into(this)\n}\n</code></pre>\n\n<p>I've been on this for the past couple of days and just can't get my head around it. Any help in any direction is greatly appreciated. I know my explanations can be a bit all over the place so just ask for clarification when needed :)</p>\n\n<h2>UPDATE</h2>\n\n<p>I have now been able to produce this with a <code>GridLayout</code> as well as with <code>RecyclerView</code>. It's safe to assume that the nested <code>RecyclerViews</code> were not the culprit here. I even tried to ditch the Rx-piece that handled loading the images and created an <code>IntentService</code> for the process, but the same crashes still occur.</p>\n\n<p>With <code>GridLayout</code> I mean that instead of having another adapter to populate the nested <code>RecyclerView</code> I use only one adapter to populate the message and to inflate and populate views for the attachments as well and to attach those views to the nested <code>GridLayout</code>.</p>\n\n<p>The crash happens when I start to download a file and then scroll the view, that is supposed to show the downloaded file, out of the screen. That view should get recycled but for some reason the download process (which in my test cases only takes around 100ms-400ms) causes the app to throw one of the two errors mentioned in the original question. It might be worth noting that I'm using <code>Realm</code> and the adapter takes in a <code>RealmResults&lt;Message&gt;</code> list as it's dataset. My presenter looks for changes in the list and then notifies the adapter when needed (changed due to the implementation of <code>IntentService</code>).</p>\n\n<p>This is how I'm capable to reproduce this time and time again:</p>\n\n<ol>\n<li>Open a discussion that has messages with attachments</li>\n<li>Start to scroll upwards for more messages</li>\n<li>Pass a message with an attachment and scroll it off screen while it's still loading</li>\n<li>Crash</li>\n</ol>\n\n<p>There is no crash if I stop and wait for the download to complete and everything works as intended. The image/video/file gets updated with a proper thumbnail and the app wont crash if I scroll that out of view.</p>\n\n<h2>UPDATE 2</h2>\n\n<p>I tried swapping the nested <code>ViewGroup</code> for a single <code>ImageView</code> just to see is the problem within the nestedness. Lo and behold! It still crashes. Now I'm really confused, since the <code>DiscussionListAdapter</code> I mentioned before has the same exact thing in it and that one works like a charm... My search continues. I hope someone, some day will benefit from my agony.</p>\n\n<h2>UPDATE 3</h2>\n\n<p>I started to log the parent of every <code>ViewHolder</code> in the <code>onBindViewHolder()</code> function. Like expected I got <code>nulls</code> after <code>nulls</code> after <code>nulls</code>, before the app crashed and spew this out.</p>\n\n<pre><code>04-26 21:54:50.718 27075-27075/com.hailer.hailer.dev D/MsgAdapter: Parent of ViewHolder: android.view.ViewOverlay$OverlayViewGroup{82a9fbc V.E...... .......D 0,0-1440,2168}\n</code></pre>\n\n<p>There's a method to my madness after all! But this just poses more questions. Why is <code>ViewOverlay</code> used here? As a part of RecyclerView or as a part of the dark magicians plans to deprive me of my sanity?</p>\n\n<p><strong>Sidenote</strong></p>\n\n<p>I went digging into <code>RecyclerViews</code> code to check if I could find a reason for the <code>ViewOverlay</code>mystery. I found out that <code>RecyclerView</code> calls the adapters <code>onCreateViewHolder()</code> function only twice. Both times providing itself as the <code>parent</code> argument for the function. So no luck there... What the hell can cause the item view to have the <code>ViewOverlay</code> as it's parent? The parent is an immutable value, so the only way for the <code>ViewOverlay</code> to be set as the parent, is for something to construct a new <code>ViewHolder</code> and supply the <code>ViewOverlay</code> as the parent object.</p>\n\n<h2>UPDATE 4</h2>\n\n<p>Sometimes I amaze myself with my own stupidity. The <code>ViewOverlay</code> is used because the items are being animated. I didn't even consider this to be an option since I've set the <code>itemAnimator</code> for the <code>RecyclerView</code> as <code>null</code>, but for some odd reason that does not work. The items are still being animated and that is causing this whole charade. So what could be the cause of this? <em>(How I chose to ignore the moving items, I do not know, but the animations became very clear when I forced the app to download same picture over and over again and the whole list went haywire.)</em></p>\n\n<p>My <code>DiscussionInstanceFragment</code> contains the RecyclerView in question and a nested ConstraintLayout that in turn contains an <code>EditText</code> for user input and a send button.</p>\n\n<pre><code>    val v = inflater.inflate(R.layout.fragment_discussion_instance, container, false)\n    val lm = LinearLayoutManager(context)\n    lm.reverseLayout = true\n    v.disc_instance_messages_list.layoutManager = lm\n    v.disc_instance_messages_list.itemAnimator = null\n    v.disc_instance_messages_list.adapter = mPresenter.messageAdapter\n</code></pre>\n\n<p>This is the piece that handles the initialization of the <code>RecyclerView</code>. I'm most definitely setting the <code>itemAnimator</code> as <code>null</code>, but the animations just wont stop! I've tried setting the <code>animateLayoutChanges</code> xml attribute on the root <code>ConstraintLayout</code> and on the <code>RecyclerView</code> but neither of them worked. It's worth mentioning that I also checked whether the <code>RecyclerView</code> had an <code>itemAnimator</code> in different states of the program, and every time I check the animator, it is null. So what is animating my <code>RecyclerView</code>?!</p>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin", "adapter"], "comments": [{"owner": {"reputation": 1235, "user_id": 3136282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qvP3o.jpg?s=128&g=1", "display_name": "Arshad", "link": "https://stackoverflow.com/users/3136282/arshad"}, "edited": false, "score": 2, "creation_date": 1524651416, "post_id": 50019636, "comment_id": 87055301, "body": "In your list add a flag isSelected with every item. And on selection of any item set isSelected false for all other items and call notifyDataSetChange on adapter. Also show your tick mark based on isSelected flag from the list"}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1524651591, "post_id": 50019636, "comment_id": 87055391, "body": "Please refer to <a href=\"https://stackoverflow.com/a/28651847/4232337\">stackoverflow.com/a/28651847/4232337</a>"}, {"owner": {"reputation": 251, "user_id": 8898641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4c9285c2f5b467146006ca937a66043?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman", "link": "https://stackoverflow.com/users/8898641/abdulrahman"}, "reply_to_user": {"reputation": 1235, "user_id": 3136282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qvP3o.jpg?s=128&g=1", "display_name": "Arshad", "link": "https://stackoverflow.com/users/3136282/arshad"}, "edited": false, "score": 0, "creation_date": 1524651720, "post_id": 50019636, "comment_id": 87055477, "body": "@Arshad if you can show me an example it would be great!"}, {"owner": {"reputation": 1235, "user_id": 3136282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qvP3o.jpg?s=128&g=1", "display_name": "Arshad", "link": "https://stackoverflow.com/users/3136282/arshad"}, "edited": false, "score": 0, "creation_date": 1524651949, "post_id": 50019636, "comment_id": 87055636, "body": "@Abdulrahman NSimon has given a good reference. check this answer of that query it explain exactly what I told <a href=\"https://stackoverflow.com/a/42020046/3136282\">stackoverflow.com/a/42020046/3136282</a>"}, {"owner": {"reputation": 2402, "user_id": 1427776, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/4kPYD.png?s=128&g=1", "display_name": "Deven", "link": "https://stackoverflow.com/users/1427776/deven"}, "edited": false, "score": 0, "creation_date": 1524652321, "post_id": 50019636, "comment_id": 87055845, "body": "See this one also   <a href=\"https://stackoverflow.com/a/29030776/1427776\">stackoverflow.com/a/29030776/1427776</a>"}, {"owner": {"reputation": 2054, "user_id": 8867002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6vVST.png?s=128&g=1", "display_name": "Jyoti JK", "link": "https://stackoverflow.com/users/8867002/jyoti-jk"}, "edited": false, "score": 0, "creation_date": 1524656281, "post_id": 50019636, "comment_id": 87058355, "body": "@Abdulrahman try my solution"}], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 8868030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36d5f45897df7912dd0b2dec181f1eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jaymin Soni", "link": "https://stackoverflow.com/users/8868030/jaymin-soni"}, "is_accepted": false, "score": 1, "last_activity_date": 1524663998, "last_edit_date": 1524663998, "creation_date": 1524653020, "answer_id": 50020248, "question_id": 50019636, "link": "https://stackoverflow.com/questions/50019636/select-from-adapter-android/50020248#50020248", "title": "Select from adapter Android", "body": "<p>1.Create One <code>Model</code> Class which contain</p>\n\n<pre><code>String text;\nboolean isTextSelected;\n</code></pre>\n\n<p>2.On Click of item in adapter, <code>Update</code> your model class 'isTextSelected' field.</p>\n\n<p>3.<code>Notify</code> your adpater.</p>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 5746245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BH8HSVe1TZg/AAAAAAAAAAI/AAAAAAAAACA/aB256UMXdWg/photo.jpg?sz=128", "display_name": "Vijay Makwana", "link": "https://stackoverflow.com/users/5746245/vijay-makwana"}, "is_accepted": false, "score": 0, "last_activity_date": 1524653400, "last_edit_date": 1524653400, "creation_date": 1524653070, "answer_id": 50020268, "question_id": 50019636, "link": "https://stackoverflow.com/questions/50019636/select-from-adapter-android/50020268#50020268", "title": "Select from adapter Android", "body": "<p>You need to add this \"selectedBranch\" Boolean in your data class which you have used as a model in branches list</p>\n\n<p>add this code to your bindViewHolder</p>\n\n<pre><code>if(branches?.get(position)?.selectedBranch == false) {\n\n            holder.packageNumber.setCompoundDrawablesWithIntrinsicBounds(null, null, null, null)\n        }\n        else {\n            holder.packageNumber.setCompoundDrawablesWithIntrinsicBounds(null, null, check, null)\n      }\n\nholder.itemView.setOnClickListener {\n\n    if(branches?.get(position)?.selectedBranch == false) {\n\n        holder.packageNumber.setCompoundDrawablesWithIntrinsicBounds(null, null, check, null)\n        branches?.get(position)?.selectedBranch = true\n    }\n    else {\n        holder.packageNumber.setCompoundDrawablesWithIntrinsicBounds(null, null, null, null)\n        branches?.get(position)?.selectedBranch = false\n    }\n adapter.notifyDatasetChange()\n}\n</code></pre>\n\n<p>I hope it works.</p>\n"}, {"tags": [], "owner": {"reputation": 2054, "user_id": 8867002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6vVST.png?s=128&g=1", "display_name": "Jyoti JK", "link": "https://stackoverflow.com/users/8867002/jyoti-jk"}, "is_accepted": false, "score": 0, "last_activity_date": 1524656257, "creation_date": 1524656257, "answer_id": 50021326, "question_id": 50019636, "link": "https://stackoverflow.com/questions/50019636/select-from-adapter-android/50021326#50021326", "title": "Select from adapter Android", "body": "<p>Instead of using a flag in each item, <strong><code>Use integer variable to store the last clicked position</code></strong></p>\n\n<p>Initially <code>clickedposition=-1</code></p>\n\n<p>Use this in your adapter class,</p>\n\n<pre><code>if(position == clickedposition) {\n\n        holder.packageNumber.setCompoundDrawablesWithIntrinsicBounds(null, null, check, null)\n}\nelse {\n        holder.packageNumber.setCompoundDrawablesWithIntrinsicBounds(null, null, null, null)\n\n}\n\nholder.itemView.setOnClickListener {\n      clickedposition=position;\n      notifyDataSetChanged();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1524657175, "creation_date": 1524657175, "answer_id": 50021658, "question_id": 50019636, "link": "https://stackoverflow.com/questions/50019636/select-from-adapter-android/50021658#50021658", "title": "Select from adapter Android", "body": "<p>Take one boolean variable into branche pojo class.\nthen make interface into adapter to handle click event into recyclerview like below code ..</p>\n\n<pre><code>  onItemClickListner onItemClickListner;\n\npublic void setOnItemClickListner(RecyclerViewAdpater.onItemClickListner onItemClickListner) {\n    this.onItemClickListner = onItemClickListner;\n}\n\npublic interface onItemClickListner {\n    void onClick(Branch str);//pass your object types.\n}\n\n\n\n@Override\npublic void onBindViewHolder(ItemViewHolder holder, int position) {\n    // below code handle click event on recycler view item.\n    Branch data=branches.get(position);\n    if (data.isSelected()){\n    }\n    else{\n\n    }\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            onItemClickListner.onClick(data);\n        }\n    });\n}\n</code></pre>\n\n<p>then after adapter bind into recycler view call below code..</p>\n\n<pre><code>recyclerViewAdpater.setOnItemClickListner(new RecyclerViewAdpater.onItemClickListner() {\n        @Override\n        public void onClick(Branch str)\n        {\n            str.setSelected(true);\n            recyclerViewAdpater.notifyDataSetChanged();\n        }\n\n    });\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 8898641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4c9285c2f5b467146006ca937a66043?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman", "link": "https://stackoverflow.com/users/8898641/abdulrahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1524663998, "creation_date": 1524651236, "last_edit_date": 1524658348, "question_id": 50019636, "link": "https://stackoverflow.com/questions/50019636/select-from-adapter-android", "title": "Select from adapter Android", "body": "<p>I want to implement this UI to make the user select one branch at a time.\nWhat I'm doing now is setCompoundDrawablesWithIntrinsicBounds for the text in each item when the user selects it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Khfbb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Khfbb.png\" alt=\"enter image description here\"></a></p>\n\n<p>The issues are \"If I select item number 1 and then selected item number 4, how can I remove the selection from the item number 1? I don't want to click the item number 1 again to remove the selection\"</p>\n\n<p><strong>Note that this screen makes the user select only one item.</strong></p>\n\n<p>This is my code in Kotlin But it is OK if you suggest a solution in JAVA:</p>\n\n<pre><code>var selectedBranch = false\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n    holder.packageNumber.text = branches?.get(position)?.nameEn ?: \"\"\n    check = ContextCompat.getDrawable(context, R.drawable.ic_select_branch)\n    holder.itemView.setOnClickListener {\n\n        if(!selectedBranch) {\n        holder.packageNumber.setCompoundDrawablesWithIntrinsicBounds(null, null, check, null)\n            selectedBranch = true\n        }\n        else {\n            holder.packageNumber.setCompoundDrawablesWithIntrinsicBounds(null, null, null, null)\n            selectedBranch = false\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1525211805, "post_id": 50018636, "comment_id": 87266912, "body": "The issue is tracked here: <a href=\"https://issuetracker.google.com/issues/78328708\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/78328708</a>"}], "answers": [{"comments": [{"owner": {"reputation": 898, "user_id": 1844757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0beaebb906f725ce1ede5d556df13fc?s=128&d=identicon&r=PG", "display_name": "Andre Rocha", "link": "https://stackoverflow.com/users/1844757/andre-rocha"}, "edited": false, "score": 0, "creation_date": 1524652632, "post_id": 50019837, "comment_id": 87056008, "body": "Thank you. Worked. But I still wonder what went wrong with the kotlin 1.2.40 version."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 898, "user_id": 1844757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0beaebb906f725ce1ede5d556df13fc?s=128&d=identicon&r=PG", "display_name": "Andre Rocha", "link": "https://stackoverflow.com/users/1844757/andre-rocha"}, "edited": false, "score": 0, "creation_date": 1524655399, "post_id": 50019837, "comment_id": 87057709, "body": "I have no idea, sorry. In fact I did tried some minutes to find how to solve this under 1.2.40, but failed."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 1, "last_activity_date": 1524651791, "creation_date": 1524651791, "answer_id": 50019837, "question_id": 50018636, "link": "https://stackoverflow.com/questions/50018636/kotlin-room-database-crash-on-kotlin-1-2-40-version/50019837#50019837", "title": "Kotlin room database crash on kotlin 1.2.40 version", "body": "<p>You can downgrade by downloading a plugin zip corresponding to your android studio version here: <a href=\"http://plugins.jetbrains.com/plugin/6954-kotlin\" rel=\"nofollow noreferrer\">http://plugins.jetbrains.com/plugin/6954-kotlin</a></p>\n\n<p>And use <code>Settings | Plugins | Install plugin from disk</code> and select the downloaded zip file.</p>\n"}, {"comments": [{"owner": {"reputation": 898, "user_id": 1844757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0beaebb906f725ce1ede5d556df13fc?s=128&d=identicon&r=PG", "display_name": "Andre Rocha", "link": "https://stackoverflow.com/users/1844757/andre-rocha"}, "edited": false, "score": 0, "creation_date": 1525553628, "post_id": 50164667, "comment_id": 87405031, "body": "Thank you. I have updated to 1.1.0-rc1 and kotlin 1.2.41 but Room started to complain about closed database after a migration, which was working fine before the update. I returned again to Room 1.1.0-beta2 and kotlin 1.2.30 and all is working fine."}, {"owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "reply_to_user": {"reputation": 898, "user_id": 1844757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0beaebb906f725ce1ede5d556df13fc?s=128&d=identicon&r=PG", "display_name": "Andre Rocha", "link": "https://stackoverflow.com/users/1844757/andre-rocha"}, "edited": false, "score": 0, "creation_date": 1525558941, "post_id": 50164667, "comment_id": 87406132, "body": "What about the 2nd approach? Does it work? I think it&#39;s not applicable to the original issue though. You can create another SO question about that."}, {"owner": {"reputation": 898, "user_id": 1844757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0beaebb906f725ce1ede5d556df13fc?s=128&d=identicon&r=PG", "display_name": "Andre Rocha", "link": "https://stackoverflow.com/users/1844757/andre-rocha"}, "edited": false, "score": 0, "creation_date": 1525603591, "post_id": 50164667, "comment_id": 87414249, "body": "Didn&#39;t try the second option, since downgrading to Room beta2 and kotlin 1.2.30 is working well, as far as I can see it."}], "tags": [], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1525386592, "creation_date": 1525386592, "answer_id": 50164667, "question_id": 50018636, "link": "https://stackoverflow.com/questions/50018636/kotlin-room-database-crash-on-kotlin-1-2-40-version/50164667#50164667", "title": "Kotlin room database crash on kotlin 1.2.40 version", "body": "<p>The problem is that they've introduced a binary incompatibility in <code>compiler-embeddable</code> in Kotlin <code>1.2.40</code>. There're a few options right now:</p>\n\n<ol>\n<li><p>Downgrade Kotlin to the <code>1.2.30</code></p></li>\n<li><p>Use the latest Kotlin version with the <strong>stable</strong> Room version (<code>1.1.0</code>). Then you must substitute the <code>kotlin-compiler-embeddable</code> dependency (see below).</p></li>\n<li><p>Use the latest Kotlin version with the <strong>latest</strong> Room version (<code>1.1.0-rc1</code>). They've fix bug in RC1.</p></li>\n</ol>\n\n<p>I'd use the 3d way and keep an eye on the Room's releases. But if you choose the 2nd one then you must insert this in your <strong>root</strong> <code>build.gradle</code>:</p>\n\n<pre><code>subprojects {\n    configurations.all {\n        resolutionStrategy {\n            eachDependency {\n                if (requested.name == \"kotlin-compiler-embeddable\") {\n                    useVersion(\"1.2.30\")\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 898, "user_id": 1844757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0beaebb906f725ce1ede5d556df13fc?s=128&d=identicon&r=PG", "display_name": "Andre Rocha", "link": "https://stackoverflow.com/users/1844757/andre-rocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1815, "favorite_count": 0, "accepted_answer_id": 50019837, "answer_count": 2, "score": 7, "last_activity_date": 1525386592, "creation_date": 1524648495, "question_id": 50018636, "link": "https://stackoverflow.com/questions/50018636/kotlin-room-database-crash-on-kotlin-1-2-40-version", "title": "Kotlin room database crash on kotlin 1.2.40 version", "body": "<p>after upgrading to kotlin 1.2.40 I have the following error at build:</p>\n\n<pre><code>e: [kapt] An exception occurred: java.lang.NoClassDefFoundError: org/jetbrains/kotlin/serialization/jvm/JvmProtoBufUtil\nat me.eugeniomarletti.kotlin.metadata.KotlinClassMetadata$data$2.invoke(KotlinMetadata.kt:51)\nat me.eugeniomarletti.kotlin.metadata.KotlinClassMetadata$data$2.invoke(KotlinMetadata.kt:50)\nat kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:131)\nat me.eugeniomarletti.kotlin.metadata.KotlinClassMetadata.getData(KotlinMetadata.kt)\nat android.arch.persistence.room.ext.KotlinMetadataProcessor$DefaultImpls.getParameterNames(KotlinMetadataProcessor.kt:33)\nat android.arch.persistence.room.processor.PojoProcessor.getParameterNames(PojoProcessor.kt:73)\nat android.arch.persistence.room.processor.PojoProcessor.getParamNames(PojoProcessor.kt:245)\nat android.arch.persistence.room.processor.PojoProcessor.chooseConstructor(PojoProcessor.kt:263)\nat android.arch.persistence.room.processor.PojoProcessor.doProcess(PojoProcessor.kt:207)\nat android.arch.persistence.room.processor.PojoProcessor.access$doProcess(PojoProcessor.kt:73)\nat android.arch.persistence.room.processor.PojoProcessor$process$1.invoke(PojoProcessor.kt:104)\nat android.arch.persistence.room.processor.PojoProcessor$process$1.invoke(PojoProcessor.kt:73)\nat android.arch.persistence.room.processor.cache.Cache$Bucket.get(Cache.kt:46)\nat android.arch.persistence.room.processor.PojoProcessor.process(PojoProcessor.kt:101)\nat android.arch.persistence.room.processor.EntityProcessor.doProcess(EntityProcessor.kt:68)\nat android.arch.persistence.room.processor.EntityProcessor.access$doProcess(EntityProcessor.kt:50)\nat android.arch.persistence.room.processor.EntityProcessor$process$1.invoke(EntityProcessor.kt:57)\nat android.arch.persistence.room.processor.EntityProcessor$process$1.invoke(EntityProcessor.kt:50)\nat android.arch.persistence.room.processor.cache.Cache$Bucket.get(Cache.kt:46)\nat android.arch.persistence.room.processor.EntityProcessor.process(EntityProcessor.kt:56)\nat android.arch.persistence.room.processor.DatabaseProcessor.processEntities(DatabaseProcessor.kt:248)\nat android.arch.persistence.room.processor.DatabaseProcessor.doProcess(DatabaseProcessor.kt:63)\nat android.arch.persistence.room.processor.DatabaseProcessor.process(DatabaseProcessor.kt:53)\nat android.arch.persistence.room.RoomProcessor$DatabaseProcessingStep.process(RoomProcessor.kt:57)\nat com.google.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:318)\nat com.google.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:171)\nat org.jetbrains.kotlin.kapt3.ProcessorWrapper.process(annotationProcessing.kt:131)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1039)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1180)\nat com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\nat com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\nat org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:87)\nat org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:45)\nat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:257)\nat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:212)\nat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:95)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:97)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:107)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:84)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:374)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:64)\nat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:101)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:365)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:130)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\nat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:405)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:98)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\nat org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:404)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)\nat sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ClassNotFoundException: org.jetbrains.kotlin.serialization.jvm.JvmProtoBufUtil\nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n... 77 more\n</code></pre>\n\n<p>After I changed to version 1.2.30 in my build-gradle the build worked, but now I have a mismatch between the version used by gradle (1.2.30) and the one bundled into the IDE plugin (1.2.40).</p>\n\n<p>Is there anything I am doing wrong with the new kotlin version ? Or how can I downgrade to the 1.2.30 version ?</p>\n\n<p>Thank you for the attention.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1524646600, "post_id": 50017923, "comment_id": 87052125, "body": "You should provide a minimal example."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1524646670, "post_id": 50017923, "comment_id": 87052180, "body": "Plaese have a look at <a href=\"https://stackoverflow.com/questions/50013573/how-can-i-define-a-property-that-returns-the-current-value-of-a-radiobutton-in-k\" title=\"how can i define a property that returns the current value of a radiobutton in k\">stackoverflow.com/questions/50013573/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524647014, "post_id": 50018042, "comment_id": 87052408, "body": "Thanks, does it mean that a val property can perform var property  effect  indirectly   just like using your code?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524647664, "post_id": 50018042, "comment_id": 87052796, "body": "Yes. But if you don&#39;t have a custom <code>get</code>, you can still smart cast."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524661191, "post_id": 50018042, "comment_id": 87062069, "body": "Thanks! In my mind that val property is thread-safe, but it seems that it&#39;s not thread -safe in Code DD, it &#39;s just like var property in Code DD, any thread can change the variable <code>aImpl</code>, different thread maybe get different value of &#39;val a&#39; !"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 1, "last_activity_date": 1524646667, "creation_date": 1524646667, "answer_id": 50018042, "question_id": 50017923, "link": "https://stackoverflow.com/questions/50017923/why-can-a-val-property-be-changed-in-kotlin/50018042#50018042", "title": "Why can a val property be changed in Kotlin?", "body": "<p>A <code>val</code> property can return different value every time you call it like this:</p>\n\n<pre><code>private var aImpl = 0\nval a: Int get() = aImpl++\n</code></pre>\n\n<p>Since the return value of <code>mCustomAdapter.getSelectedIndex()</code> is changing, <code>mySelectedIndex</code> is obviously changing.</p>\n"}, {"comments": [{"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1524647074, "post_id": 50018111, "comment_id": 87052456, "body": "I did not test it, but it may be possible to still change values of &#39;val&#39; properties without custom getter by changing the backing field via reflection."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524647267, "post_id": 50018111, "comment_id": 87052573, "body": "Thanks, does it mean that a val property can perform var property effect indirectly just like using &#39;ice1000&#39;&#39;s  code?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1524647272, "post_id": 50018111, "comment_id": 87052576, "body": "@PaulGeorgPodlech You can do that with a Java <code>final</code> as well. We still consider <code>final</code> fields immutable in Java."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524647339, "post_id": 50018111, "comment_id": 87052619, "body": "@HelloCW The equivalent of a <code>val</code> in Java is a <code>getX()</code> method. The method can do whatever it wants, even have side effects, and return whatever value it wants."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524647807, "post_id": 50018111, "comment_id": 87052876, "body": "Thanks! please see my modified question"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524651168, "post_id": 50018111, "comment_id": 87055132, "body": "I don&#39;t see the point of your added text. Yes, the two snippets achieve a similar thing (and you can assure yourself without asking), but no, neither is an example of meaningful usage of these facilities."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524661082, "post_id": 50018111, "comment_id": 87061987, "body": "Thanks!  In my mind that val property is thread-safe, but  it seems that it&#39;s not thread -safe  in Code DD, it &#39;s just like var property in  Code DD,  any thread can change the variable  <code>aImpl</code>, different thread maybe get different value of &#39;val a&#39; !"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524740966, "post_id": 50018111, "comment_id": 87098693, "body": "Kotlin&#39;s static checker takes this into account. You can smart-cast a nullable <code>val</code> into non-nullable only if it doesn&#39;t declare a custom getter."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 4, "last_activity_date": 1524646874, "creation_date": 1524646874, "answer_id": 50018111, "question_id": 50017923, "link": "https://stackoverflow.com/questions/50017923/why-can-a-val-property-be-changed-in-kotlin/50018111#50018111", "title": "Why can a val property be changed in Kotlin?", "body": "<blockquote>\n  <p>In my mind, the val property can't be changed, why doesn't the app cause error?</p>\n</blockquote>\n\n<p>You must adjust your intuition.</p>\n\n<p>In Kotlin, <code>val</code> means \"read-only property\", not \"immutable property\". Only vals without a custom getter can be considered immutable.</p>\n"}, {"tags": [], "owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "is_accepted": false, "score": 1, "last_activity_date": 1524646887, "creation_date": 1524646887, "answer_id": 50018118, "question_id": 50017923, "link": "https://stackoverflow.com/questions/50017923/why-can-a-val-property-be-changed-in-kotlin/50018118#50018118", "title": "Why can a val property be changed in Kotlin?", "body": "<p>When regarding properties the keyword <code>val</code> means that there is no setter for that property, meaning you can't use the assignment operator <code>=</code> with it. It doesn't mean, that the returned value has to be constant over time.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 2, "accepted_answer_id": 50018111, "answer_count": 3, "score": -1, "last_activity_date": 1524661463, "creation_date": 1524646317, "last_edit_date": 1524661463, "question_id": 50017923, "link": "https://stackoverflow.com/questions/50017923/why-can-a-val-property-be-changed-in-kotlin", "title": "Why can a val property be changed in Kotlin?", "body": "<p>The Code B is a customized RecyclerView apater with radio button. </p>\n\n<p>mCustomAdapter is changed in both fun methodA() and fun methodB() in Code A, so the reference of <code>get () = mCustomAdapter.getSelectedIndex()</code> is changed too, and it means that the val property mySelectedIndex get value from different address.</p>\n\n<p>In my mind, the val property can't be changed,  why doesn't the app cause error?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>private lateinit var mCustomAdapter: CustomAdapter\n\nprivate val mySelectedIndex get () = mCustomAdapter.getSelectedIndex()\n\nprivate fun methodA(){\n  mCustomAdapter= CustomAdapter(allListA)\n  mRecyclerView.adapter= mCustomAdapter\n  backup(mySelectedIndex)\n}\n\n\nprivate fun methodB(){\n  mCustomAdapter= CustomAdapter(allListB)\n  mRecyclerView.adapter= mCustomAdapter\n  restore(mySelectedIndex) \n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>class CustomAdapter (val backupItemList: List&lt;MSetting&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    val noRecord=-1\n    private var mSelectedIndex = noRecord\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.item_recyclerview, parent, false)\n        return ViewHolder(v)\n    }\n\n    fun getSelectedIndex():Int{\n        return  mSelectedIndex\n    }\n\n    fun setSelectedIndex(index:Int){\n        if (index in 0..(backupItemList.size-1) ){\n            mSelectedIndex=index\n        }\n        notifyDataSetChanged();\n    }\n\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(backupItemList[position])\n    }\n\n    override fun getItemCount(): Int {\n        return backupItemList.size\n    }\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(aMSetting: MSetting) {          \n\n            itemView.radioButton.setOnClickListener {\n                mSelectedIndex=adapterPosition\n                notifyDataSetChanged();\n            }\n\n            if(adapterPosition == 0 &amp;&amp; mSelectedIndex == noRecord) {            \n                itemView.radioButton.isChecked = true\n                mSelectedIndex=adapterPosition\n            }\n            else {\n                itemView.radioButton.isChecked =(adapterPosition == mSelectedIndex)\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Modified</strong> </p>\n\n<p>I think the Code DD and Code EE can get the same effect, right?</p>\n\n<p><strong>Code DD</strong></p>\n\n<pre><code>var aImpl = 0\nval a: Int get() = aImpl\n\nfun seta(){\n    aImpl=5\n}\n</code></pre>\n\n<p><strong>Code EE</strong></p>\n\n<pre><code>var b:Int=0\n\nfun setb(){\n    b=5\n}\n</code></pre>\n"}, {"tags": ["spring", "validation", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1526243994, "creation_date": 1526243994, "answer_id": 50320467, "question_id": 50016336, "link": "https://stackoverflow.com/questions/50016336/how-to-configure-spring-mvc-to-validate-constructor-parameters-of-controller-met/50320467#50320467", "title": "How to configure Spring MVC to validate constructor parameters of controller method arguments", "body": "<p>There isn't a whole lot you can do. You can make it look a little better by combining annotations for each field, e.g.:</p>\n\n<pre><code>data class Credentials(@field:[Email NotBlank] val email: String,\n                   @field:NotBlank val password: String)\n</code></pre>\n\n<p>Other than that, your only other options are:</p>\n\n<ol>\n<li><p>Manually configured Spring validation classes</p></li>\n<li><p>Validating the data within your code body</p></li>\n</ol>\n"}], "owner": {"reputation": 145, "user_id": 5877433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x51_3gHVMBk/AAAAAAAAAAI/AAAAAAAAUq4/dP3cfzmO_Gc/photo.jpg?sz=128", "display_name": "Eugene", "link": "https://stackoverflow.com/users/5877433/eugene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1526243994, "creation_date": 1524641025, "last_edit_date": 1524645073, "question_id": 50016336, "link": "https://stackoverflow.com/questions/50016336/how-to-configure-spring-mvc-to-validate-constructor-parameters-of-controller-met", "title": "How to configure Spring MVC to validate constructor parameters of controller method arguments", "body": "<p>I'm writing a project in Kotlin and have this in a controller:</p>\n\n<pre><code>@PostMapping(\"/token\")\nfun generateToken(@RequestBody @Valid credentials: Credentials) { /* something */ }\n\ndata class Credentials(@Email @NotBlank val email: String,\n                       @NotBlank val password: String)\n</code></pre>\n\n<p>By default <code>@Valid</code> annotation tells Spring to validate object fields. But Kotlin places constraint annotations on the constructor parameters, so validation doesn't work. To make it work I have to define use-site targets for annotations: </p>\n\n<pre><code>data class Credentials(@field:Email @field:NotBlank val email: String,\n                       @field:NotBlank val password: String)\n</code></pre>\n\n<p>which is annoying and adds visual garbage. Is it possible to configure Spring to validate constructor parameters?</p>\n"}, {"tags": ["generics", "kotlin", "couchbase", "type-inference", "testcontainers"], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 2, "last_activity_date": 1524651154, "creation_date": 1524651154, "answer_id": 50019619, "question_id": 50015520, "link": "https://stackoverflow.com/questions/50015520/object-instatiation-for-java-class-returning-self-is-not-working-kotlin/50019619#50019619", "title": "object instatiation for java class returning SELF is not working kotlin", "body": "<p>The issue is that in Java bytecode there is no concept of generics (called <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>), so your type <code>SELF</code> will not appear in the bytecode. That's why in Java you're allowed to create an instance without specifying the actual value of <code>SELF</code>.</p>\n\n<p>In Kotlin, though, I guess the compiler sees that <code>CouchbaseContainer</code> is generic and it requires you to provide the actual <code>SELF</code> value. Indeed, the error message is something like:</p>\n\n<blockquote>\n  <p>Type inference failed: Not enough information to infer parameter T in </p>\n\n<pre><code>constructor Foo&lt;T : Any!&gt;  ( )\n</code></pre>\n  \n  <p>Please specify it explicitly.</p>\n</blockquote>\n\n<p>Also, note that if the type can be inferred (e.g., because you pass it through the constructor), you don't need to provide it, as in the following example (taken from <a href=\"https://kotlinlang.org/docs/reference/generics.html#generics\" rel=\"nofollow noreferrer\">documentation</a>):</p>\n\n<pre><code>class Box&lt;T&gt;(t: T) {\n    var value = t\n}\n\nval box = Box(1) // T is inferred to be Int\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 4599129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f2hre.jpg?s=128&g=1", "display_name": "leo", "link": "https://stackoverflow.com/users/4599129/leo"}, "is_accepted": false, "score": 4, "last_activity_date": 1534828573, "last_edit_date": 1534828573, "creation_date": 1534827377, "answer_id": 51941790, "question_id": 50015520, "link": "https://stackoverflow.com/questions/50015520/object-instatiation-for-java-class-returning-self-is-not-working-kotlin/51941790#51941790", "title": "object instatiation for java class returning SELF is not working kotlin", "body": "<p>Try this:</p>\n\n<pre><code>class KCouchbaseContainer : CouchbaseContainer&lt;KCouchbaseContainer&gt;()\nval couchbase = KCouchbaseContainer()\n</code></pre>\n"}], "owner": {"reputation": 607, "user_id": 9695566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1aeb800a2b34c7b57d88bdee1dc827?s=128&d=identicon&r=PG&f=1", "display_name": "dharanikesav", "link": "https://stackoverflow.com/users/9695566/dharanikesav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 50019619, "answer_count": 2, "score": 5, "last_activity_date": 1534828573, "creation_date": 1524638192, "last_edit_date": 1524639553, "question_id": 50015520, "link": "https://stackoverflow.com/questions/50015520/object-instatiation-for-java-class-returning-self-is-not-working-kotlin", "title": "object instatiation for java class returning SELF is not working kotlin", "body": "<p>I have a java class </p>\n\n<pre><code>public class CouchbaseContainer&lt;SELF extends CouchbaseContainer&lt;SELF&gt;&gt;\n</code></pre>\n\n<p>when i try to create object for this in kotlin </p>\n\n<pre><code>val couchbase = CouchbaseContainer()\n</code></pre>\n\n<p>Kotlin is throwing error </p>\n\n<blockquote>\n  <p>Type inference failed: Not enough information to infer parameter SELF\n  in constructor CouchbaseContainer!>\n  (). Pleasespecify it explicity</p>\n</blockquote>\n\n<p>but i am able to create this object in Java as shown below :</p>\n\n<pre><code>CouchbaseContainer couchbase = new CouchbaseContainer();\n</code></pre>\n"}, {"tags": ["android", "android-studio", "mvvm", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1524638036, "post_id": 50015465, "comment_id": 87047196, "body": "The plugin version should be <code>1.2.40</code>, perhaps that&#39;s the issue? If not, can you show your <code>build.gradle</code> files?"}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1524638123, "post_id": 50015465, "comment_id": 87047245, "body": "May i know what you want to see in gradle file ?"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1524638169, "post_id": 50015465, "comment_id": 87047270, "body": "Did you add <code>apply plugin: &#39;kotlin-android-extensions&#39;</code> ? and <code>org.jetbrains.kotlin:kotlin-stdlib-jre7:</code> ?"}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 0, "creation_date": 1524638261, "post_id": 50015465, "comment_id": 87047318, "body": "Yes already added"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1524638306, "post_id": 50015465, "comment_id": 87047347, "body": "Show build.gradle please"}, {"owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 0, "creation_date": 1524638365, "post_id": 50015465, "comment_id": 87047380, "body": "yes share your build.gradle"}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 0, "creation_date": 1524640402, "post_id": 50015465, "comment_id": 87048467, "body": "Updated questions and added my gradle file. Please check it."}, {"owner": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "edited": false, "score": 0, "creation_date": 1524642140, "post_id": 50015465, "comment_id": 87049414, "body": "To make it work in a ViewHolder you have to enable experimental mode and implement the LayoutContainer interface. (<a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">See this link</a>). Have you done this?"}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 0, "creation_date": 1524645235, "post_id": 50015465, "comment_id": 87051269, "body": "LayoutContainer is another way but i am not using it"}, {"owner": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "edited": false, "score": 0, "creation_date": 1524645743, "post_id": 50015465, "comment_id": 87051558, "body": "But you have to use it to make it work in a <code>ViewHolder</code>. If not you will experience exactly the issues you are describing. (Static ID imports)"}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 0, "creation_date": 1524646173, "post_id": 50015465, "comment_id": 87051829, "body": "But same issue i&#39;m also facing with fragments also"}, {"owner": {"reputation": 2002, "user_id": 3874621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m6YKk.jpg?s=128&g=1", "display_name": "Danilo Prado", "link": "https://stackoverflow.com/users/3874621/danilo-prado"}, "edited": false, "score": 1, "creation_date": 1524668444, "post_id": 50015465, "comment_id": 87067104, "body": "I&#39;m having the same issue. And yes, it&#39;s properly configured and was working normally before. Closing and reopening Android Studio seems to fix the problem. Seems like a bug."}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 0, "creation_date": 1524718166, "post_id": 50015465, "comment_id": 87086066, "body": "But issue coming again unexpectedly."}, {"owner": {"reputation": 1403, "user_id": 1695078, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/EmcXx.jpg?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/1695078/marcel"}, "edited": false, "score": 2, "creation_date": 1525075938, "post_id": 50015465, "comment_id": 87209016, "body": "I am having the same issue, seems that eventaully after building the R file gets auto-imported making the static imports of the views unnused. Syncing the project solves it but it comes again. It is happening in two different projects, so looks like Android studio bug."}], "answers": [{"comments": [{"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 1, "creation_date": 1525153995, "post_id": 50102633, "comment_id": 87241003, "body": "Yes its temporary solution and i&#39;m also using same."}, {"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "reply_to_user": {"reputation": 3713, "user_id": 3801327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jBaPg.png?s=128&g=1", "display_name": "Rick Sanchez", "link": "https://stackoverflow.com/users/3801327/rick-sanchez"}, "edited": false, "score": 0, "creation_date": 1526305282, "post_id": 50102633, "comment_id": 87679522, "body": "No, @RickSanchez. Also, I have noticed that if you open another instance of Android Studio, the imports go crazy... I am using that I answered..."}], "tags": [], "owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "is_accepted": false, "score": 3, "last_activity_date": 1525891518, "last_edit_date": 1525891518, "creation_date": 1525098630, "answer_id": 50102633, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/50102633#50102633", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>I have the same problem and I am trying to solve it for too many days...</p>\n\n<p>One trick you can do is to <strong>Exclude from Import and Completion</strong> <code>&lt;package-name&gt;.R.id.*</code> for project scope.</p>\n\n<p>Go to <code>Settings/Editor/Auto Import</code> to add it.</p>\n\n<p>It improves our issue and if you do this and clean the project, it will work but it does not resolve the issue completely. Many times the imports reappear as <strong>unused imports</strong> and there is to clean the project over and over :-(.</p>\n\n<p><strong>EDITED</strong></p>\n\n<p>Also, another improvement I have achieved is working with <code>include</code>s on XML. For example, if I am going to use \"the same\" button in several screens, I make a specific layout for this button and I re-use it on several activities / fragments. You can set the id within this specific layout and synthetic will auto-import it without generating conflicts, due to you have the content view reference declared before.</p>\n\n<p>I show you a simple example:</p>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;!-- ... --&gt;\n\n&lt;include layout=\"@layout/btn_foo\"/&gt;\n\n&lt;!-- ... --&gt;\n</code></pre>\n\n<p><strong>btn_foo.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Button\n    android:id=\"@+id/btnFoo\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"/&gt;\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>// ...\n\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.btn_foo.*\n\n// ...\n\nsetContentView(R.layout.activity_main)\n\n// ...\n\nbtnFoo.setOnClickListener { }\n</code></pre>\n\n<p>I have to admit that in the other cases <strong>I have returned to</strong> the typical Hungarian convention <strong>whatWhereDescription(Size)</strong> to set the <code>id</code>s due to is too much annoying to deal with imports among activities / fragments / view all the time.</p>\n"}, {"comments": [{"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 0, "creation_date": 1528688968, "post_id": 50788428, "comment_id": 88586449, "body": "Okay thanks for reply, will check it and update you."}, {"owner": {"reputation": 2012, "user_id": 3426524, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/BGH9k.jpg?s=128&g=1", "display_name": "Gaurav Sarma", "link": "https://stackoverflow.com/users/3426524/gaurav-sarma"}, "edited": false, "score": 0, "creation_date": 1561922213, "post_id": 50788428, "comment_id": 100207292, "body": "Android studio being android studio, but this worked for me"}, {"owner": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "edited": false, "score": 0, "creation_date": 1571919225, "post_id": 50788428, "comment_id": 103403951, "body": "Thanks for the solution, saved much of my time!"}, {"owner": {"reputation": 3732, "user_id": 1016544, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/08b2ae4d9b56474f6cfbe79fae6688a2?s=128&d=identicon&r=PG", "display_name": "Wahib Ul Haq", "link": "https://stackoverflow.com/users/1016544/wahib-ul-haq"}, "reply_to_user": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "edited": false, "score": 0, "creation_date": 1571935142, "post_id": 50788428, "comment_id": 103412478, "body": "@hetsgandhi Happy to know that :)"}], "tags": [], "owner": {"reputation": 3732, "user_id": 1016544, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/08b2ae4d9b56474f6cfbe79fae6688a2?s=128&d=identicon&r=PG", "display_name": "Wahib Ul Haq", "link": "https://stackoverflow.com/users/1016544/wahib-ul-haq"}, "is_accepted": false, "score": 7, "last_activity_date": 1528703314, "last_edit_date": 1528703314, "creation_date": 1528667913, "answer_id": 50788428, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/50788428#50788428", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>I have tried several approaches including the solutions reported in this thread. I also found out that a lot of folks are facing this annoying problem as you can see <a href=\"https://github.com/gradle/kotlin-dsl/issues/377\" rel=\"noreferrer\">here</a></p>\n\n<p>Nevertheless, the most closest solution to this problem which has worked for me so far is removing <code>apply plugin: kotlin-android-extensions</code> from gradle, <code>Sync</code> gradle plugin and then add it again.</p>\n"}, {"tags": [], "owner": {"reputation": 1809, "user_id": 239431, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6b18ed1f7c31a7126e65e7ae39ac349e?s=128&d=identicon&r=PG&f=1", "display_name": "jzarsuelo", "link": "https://stackoverflow.com/users/239431/jzarsuelo"}, "is_accepted": false, "score": 7, "last_activity_date": 1530184587, "last_edit_date": 1530184587, "creation_date": 1529843552, "answer_id": 51009985, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/51009985#51009985", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>I'm using Android Studio 3.1.3 and I encountered the same issue. I managed to solve this by moving all my codes from <code>java/</code> to <code>kotlin/</code> directory inside <code>main/</code>. </p>\n\n<pre><code>app/\n |-- src/\n |    |-- main/\n |    |    |-- java/\n |    |    |     |-- com.example.android.app\n |    |    |-- kotlin/  &lt;-- (use this)\n |    |    |     |-- com.example.android.app\n</code></pre>\n\n<p>Then, add the <code>kotlin/</code> as part of the source sets:</p>\n\n<p><strong>app/build.gradle</strong></p>\n\n<pre><code>android {\n   sourceSets {\n       main.java.srcDirs += 'src/main/kotlin'\n   }\n}\n</code></pre>\n\n<p>Sometimes, it still requires to sync and rebuild the project to properly import the <code>kotlinx.android....</code></p>\n\n<p>Reference: <a href=\"https://developer.android.com/studio/projects/add-kotlin\" rel=\"noreferrer\" title=\"Add Kotlin code\">Add kotlin code</a></p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 2003034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd0c9ef5bd12aed7113696e2863b326?s=128&d=identicon&r=PG", "display_name": "bpb", "link": "https://stackoverflow.com/users/2003034/bpb"}, "is_accepted": false, "score": 0, "last_activity_date": 1530057531, "creation_date": 1530057531, "answer_id": 51052814, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/51052814#51052814", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>There is an existing issue (which is assigned) on Google tracker regarding synthetic imports.\n<a href=\"https://issuetracker.google.com/issues/78547457\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/78547457</a></p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 3314615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/KtDsB.jpg?s=128&g=1", "display_name": "ClayHerendeen", "link": "https://stackoverflow.com/users/3314615/clayherendeen"}, "edited": false, "score": 0, "creation_date": 1549988451, "post_id": 51292683, "comment_id": 96100519, "body": "Im experiencing this with Conductor also. I&#39;d like to figure out how to write a kotlin extension to recognize synthetic objects for Conductor. Can anyone point me in the right direction?"}], "tags": [], "owner": {"reputation": 1076, "user_id": 132510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db3fd6925bf6cea972323a3d2f98afe?s=128&d=identicon&r=PG", "display_name": "A. L. Flanagan", "link": "https://stackoverflow.com/users/132510/a-l-flanagan"}, "is_accepted": false, "score": 1, "last_activity_date": 1531336355, "creation_date": 1531336355, "answer_id": 51292683, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/51292683#51292683", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>I don't know if this tripped anyone else up, but I was having problems because I didn't realize the synthetic objects are only available if you're inside an <code>Activity</code>, <code>Dialog</code>, or <code>Fragment</code>. If you're in some other class (like using <a href=\"https://github.com/bluelinelabs/Conductor\" rel=\"nofollow noreferrer\">Conductor</a>'s <code>Controller</code>) you're out of luck.</p>\n"}, {"comments": [{"owner": {"reputation": 253, "user_id": 6080373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jZyJ1.png?s=128&g=1", "display_name": "oshurmamadov", "link": "https://stackoverflow.com/users/6080373/oshurmamadov"}, "edited": false, "score": 1, "creation_date": 1565777472, "post_id": 52344711, "comment_id": 101454984, "body": "Nice catch with LayoutContainer"}], "tags": [], "owner": {"reputation": 1279, "user_id": 2133585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qd4Pp.jpg?s=128&g=1", "display_name": "Kirill Vashilo", "link": "https://stackoverflow.com/users/2133585/kirill-vashilo"}, "is_accepted": false, "score": 2, "last_activity_date": 1537014677, "creation_date": 1537014677, "answer_id": 52344711, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/52344711#52344711", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>I've solved similar issues for ViewHolder implementations:</p>\n\n<p>We have to inherit our ViewHolder class implementation from LayoutContainer. LayoutContainer is an interface available in kotlinx.android.extensions package.</p>\n\n<p>You will have some code similar with this:</p>\n\n<pre><code>class TaskVH(override val containerView: View, val itemListener: TasksFragment.TaskItemListener) : RecyclerView.ViewHolder(containerView), LayoutContainer {\n    fun bindItem(task: Task) {\n        item_title.text = \"\"\n        item_complete.isChecked = task.isCompleted\n        itemView.setBackgroundResource(rowViewBackground)\n        itemView.setOnClickListener { itemListener.onTaskClick(task) }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 3314615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/KtDsB.jpg?s=128&g=1", "display_name": "ClayHerendeen", "link": "https://stackoverflow.com/users/3314615/clayherendeen"}, "is_accepted": false, "score": 0, "last_activity_date": 1549989115, "creation_date": 1549989115, "answer_id": 54654660, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/54654660#54654660", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>For Conductor: </p>\n\n<p>Create this base class.</p>\n\n<pre><code>import android.os.Bundle\nimport android.view.View\nimport com.bluelinelabs.conductor.Controller\nimport com.bluelinelabs.conductor.RestoreViewOnCreateController\n\nabstract class BaseController(\n        bundle: Bundle? = null\n) : RestoreViewOnCreateController(bundle){\n\n    init {\n        addLifecycleListener(object : LifecycleListener() {\n            override fun postCreateView(controller: Controller, view: View) {\n                onViewCreated(view)\n            }\n        })\n    }\n\n    open fun onViewCreated(view: View) { }\n\n}\n</code></pre>\n\n<p>Then in your controller:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.controller_example.view.*\n\nclass ProfileController : BaseController() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup, savedViewState: Bundle?): View {\n        return inflater.inflate(R.layout.controller_example, container, false)\n    }\n\n    override fun onViewCreated(view: View) {     \n        view.txtName.text = \"Example\"\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2703, "user_id": 736963, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0555bcd8e1daf09e4dd7576d246e222?s=128&d=identicon&r=PG", "display_name": "David Pisoni", "link": "https://stackoverflow.com/users/736963/david-pisoni"}, "is_accepted": false, "score": 1, "last_activity_date": 1592430379, "last_edit_date": 1592644375, "creation_date": 1575918644, "answer_id": 59255187, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/59255187#59255187", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>Cross-posting my bug report with workaround from here: <a href=\"https://issuetracker.google.com/issues/145888144\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/145888144</a></p>\n<p>Original bug was closed as &quot;fixed&quot; by google, but it is definitely <em>not</em> fixed: <a href=\"https://issuetracker.google.com/issues/78547457\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/78547457</a></p>\n<h3>SUMMARY:</h3>\n<p>For some modules in a multi-module project, the IDE does not properly recognize imports for &quot;synthetic&quot; symbols that abstract view ids, a feature provided by the plugin 'kotlin-android-extensions'. This results in class files using these symbols appearing full of errors, as the imports are &quot;unresolved&quot;, the symbols are then unknown, and of course anything using these symbols fail because the types are unknown.This is solely an IDE problem though; everything compiles normally and works as expected.</p>\n<h3>ROOT CAUSE</h3>\n<p>The <em>kotlin-language</em> facet is not being applied to the errant modules.</p>\n<h3>BACKGROUND</h3>\n<p>Facets in IntelliJ IDEA projects are configurable on a module-by-module basis in Project settings. In Android Studio, this part of the Project settings UI is missing (or suppressed.) Presumably, Android Studio is attempting to apply the correct facets based on the gradle plugins applied to each module. This process is /sometimes/ FAILING for this particular case; I have not been able to determine what triggers the success/failure of the process.</p>\n<h3>TEMPORARY WORKAROUND</h3>\n<p>This workaround works consistently, and has since 3.5.2 when I discovered it:</p>\n<ol>\n<li>Open the &quot;.iml&quot; file for the module you are trying to &quot;fix&quot; in Android Studio editor. (In AS &gt; 4, the iml file is in <code>.idea/modules</code>, earlier than that it was in top-level of your module.) Find the <code> &lt;component name=&quot;FacetManager&quot;&gt;</code> block, and notice that there is no facet called &quot;kotlin-language&quot; there. Paste the contents of the text block below so it appears within the <code>&lt;component name=&quot;FacetManager&quot;&gt;</code> block. Save the file.</li>\n<li>Re-import gradle.</li>\n</ol>\n<p>This is a clumsy workaround, and has to be applied on a module-by-module basis. What's more, it may be required to sometimes re-apply the workaround after making changes to the <code>build.gradle</code> file for an affected module. The <em>hope</em> is that Google (or JetBrains, if it turns out it is their problem) will fix this problem properly.</p>\n<p>Given that <code>kotlin-android-extensions</code> has fallen out of favor, I don't expect this bug will ever be fixed.</p>\n<h3>Text to use for the fix</h3>\n<pre><code>    &lt;facet type=&quot;kotlin-language&quot; name=&quot;Kotlin&quot;&gt;\n      &lt;configuration version=&quot;3&quot; platform=&quot;JVM 1.8&quot; allPlatforms=&quot;JVM [1.8]&quot; useProjectSettings=&quot;false&quot;&gt;\n        &lt;compilerSettings /&gt;\n        &lt;compilerArguments&gt;\n          &lt;option name=&quot;jvmTarget&quot; value=&quot;1.8&quot; /&gt;\n          &lt;option name=&quot;pluginOptions&quot;&gt;\n            &lt;array&gt;\n              &lt;option value=&quot;plugin:org.jetbrains.kotlin.android:enabled=true&quot; /&gt;\n              &lt;option value=&quot;plugin:org.jetbrains.kotlin.android:defaultCacheImplementation=hashMap&quot; /&gt;\n            &lt;/array&gt;\n          &lt;/option&gt;\n        &lt;/compilerArguments&gt;\n      &lt;/configuration&gt;\n    &lt;/facet&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2342, "user_id": 4862911, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/872644106126800/picture?type=large", "display_name": "Ali G&#252;relli", "link": "https://stackoverflow.com/users/4862911/ali-g%c3%bcrelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1591014564, "creation_date": 1591014564, "answer_id": 62132203, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/62132203#62132203", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>I try every other solution bu no one worked for me. At the and I cloned project again and now it's working. I love android studio</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14708625, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhT9qxJIZdh2RRoDnxkfxXWMY2ssatQhD9JlMTxig=k-s128", "display_name": "Sudhanshu Kumar", "link": "https://stackoverflow.com/users/14708625/sudhanshu-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1606379176, "last_edit_date": 1606379176, "creation_date": 1606330895, "answer_id": 65011151, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue/65011151#65011151", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>Add id <code>kotlin-android-extensions</code> in your <code>build.gradle</code> file in the <code>plugins</code> block.</p>\n<p>Google removed this feature by default</p>\n"}], "owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10595, "favorite_count": 5, "answer_count": 10, "score": 23, "last_activity_date": 1606379176, "creation_date": 1524637969, "last_edit_date": 1525415438, "question_id": 50015465, "link": "https://stackoverflow.com/questions/50015465/kotlinx-android-synthetic-unused-android-studio-issue", "title": "kotlinx.android.synthetic unused android studio issue", "body": "<p>I am working one project using kotlin + Rxjava + MVVM. During development facing issue of importing view ids in Fragment or viewholder. </p>\n\n<p><code>import kotlinx.android.synthetic.main.layout.*</code> unused with kotlin.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nrjL6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nrjL6.png\" alt=\"kotling synthetic imports is unused\"></a></p>\n\n<p>Normaly view id should used from kotlin synthetic layout imports but it directly import it from R.id that should not happen.</p>\n\n<p>Kotlin plugin version : <code>org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.40</code></p>\n\n<p><strong>My gradle file</strong> : </p>\n\n<pre><code>apply plugin: 'com.android.feature'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'idea'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 27\n    baseFeature true\n    defaultConfig {\n        minSdkVersion 23\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n\n    lintOptions {\n        abortOnError false\n    }\n}\n\ndependencies {\n\n    api \"com.android.support:design:$rootProject.support_library_version\"\n    api \"com.android.support:appcompat-v7:$rootProject.support_library_version\"\n    api \"com.android.support:recyclerview-v7:$rootProject.support_library_version\"\n    api \"com.android.support:support-dynamic-animation:$rootProject.support_library_version\"\n    api \"com.android.support:cardview-v7:$rootProject.support_library_version\"\n    api \"com.android.support:customtabs:$rootProject.support_library_version\"\n\n    api \"com.android.support.constraint:constraint-layout:1.1.0-beta5\"\n    api 'android.arch.lifecycle:extensions:1.1.0'\n\n\n    api 'androidx.core:core-ktx:0.2'\n\n\n    api \"com.google.dagger:dagger:$rootProject.dagger_version\"\n    kapt \"com.google.dagger:dagger-compiler:$rootProject.dagger_version\"\n\n    api \"android.arch.persistence.room:runtime:$rootProject.room_version\"\n    kapt \"android.arch.persistence.room:compiler:$rootProject.room_version\"\n    testImplementation \"android.arch.persistence.room:testing:$rootProject.room_version\"\n    api \"android.arch.persistence.room:rxjava2:$rootProject.room_version\"\n    androidTestImplementation \"android.arch.core:core-testing:$rootProject.room_version\"\n    testImplementation \"android.arch.core:core-testing:$rootProject.room_version\"\n\n    api \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    api \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n\n\n    api 'com.jakewharton.timber:timber:4.5.1'\n\n    api \"com.android.support:multidex:1.0.3\"\n\n    api \"com.github.bumptech.glide:glide:$rootProject.glide_version\"\n    api \"jp.wasabeef:glide-transformations:$rootProject.glide_transformation_version\"\n    api 'com.github.bumptech.glide:okhttp3-integration:1.5.0@aar'\n\n    api \"io.reactivex.rxjava2:rxandroid:$rootProject.rxAndroid_version\"\n    api \"io.reactivex.rxjava2:rxjava:$rootProject.rxJava_version\"\n    api \"com.google.code.gson:gson:$rootProject.gson_version\"\n\n    api(\"com.squareup.retrofit2:retrofit:$rootProject.retrofit_version\") {\n        // exclude Retrofit\u2019s OkHttp peer-dependency module and define your own module import\n        exclude module: 'okhttp'\n    }\n\n    api \"com.squareup.okhttp3:okhttp:$rootProject.okhttp_version\"\n    api \"com.squareup.okhttp3:logging-interceptor:$rootProject.okhttp_version\"\n    api \"com.squareup.retrofit2:adapter-rxjava2:$rootProject.retrofit_version\"\n    api \"com.squareup.retrofit2:converter-gson:$rootProject.retrofit_version\"\n\n    api 'com.jakewharton.threetenabp:threetenabp:1.0.5'\n\n    api \"com.google.firebase:firebase-invites:$rootProject.play_services_version\"\n    api \"com.google.firebase:firebase-core:$rootProject.play_services_version\"\n    api \"com.google.firebase:firebase-config:$rootProject.play_services_version\"\n    api \"com.google.firebase:firebase-perf:$rootProject.play_services_version\"\n    api \"com.google.firebase:firebase-auth:$rootProject.play_services_version\"\n    api \"com.google.firebase:firebase-firestore:$rootProject.play_services_version\"\n\n\n\n    api(\"com.firebaseui:firebase-ui-auth:$rootProject.firebase_ui_version\") {\n        // exclude Retrofit\u2019s OkHttp peer-dependency module and define your own module import\n        exclude module: 'play-services-auth'\n        exclude module: 'firebase-auth'\n    }\n\n    // Required only if Facebook login support is required\n    api('com.facebook.android:facebook-android-sdk:4.31.0')\n\n    api \"com.google.android.gms:play-services-auth:$rootProject.play_services_version\"\n\n    // Required only if Twitter login support is required\n    api(\"com.twitter.sdk.android:twitter-core:3.0.0@aar\") { transitive = true }\n\n    api 'com.jakewharton.rxbinding2:rxbinding-kotlin:2.0.0'\n    api 'com.jakewharton.rxbinding2:rxbinding-support-v4-kotlin:2.0.0'\n    api 'com.jakewharton.rxbinding2:rxbinding-appcompat-v7-kotlin:2.0.0'\n    api 'com.jakewharton.rxbinding2:rxbinding-design-kotlin:2.0.0'\n\n    api('com.crashlytics.sdk.android:crashlytics:2.9.1@aar') {\n        transitive = true\n    }\n}\n</code></pre>\n\n<p>I have also tried clean build and Rebuild project.</p>\n\n<p>Any idea how can i resolve this issue ?</p>\n"}, {"tags": ["kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 1361, "user_id": 98618, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/XGFDO.png?s=128&g=1", "display_name": "NickB", "link": "https://stackoverflow.com/users/98618/nickb"}, "edited": false, "score": 0, "creation_date": 1524637041, "post_id": 50015156, "comment_id": 87046633, "body": "Right, but if I change one of the properties in my Room Entity class from String to E164, then the compiler tells me I need to provide a type converter because it doesn&#39;t understand how to convert an E164 into something it can put in the database."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 1361, "user_id": 98618, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/XGFDO.png?s=128&g=1", "display_name": "NickB", "link": "https://stackoverflow.com/users/98618/nickb"}, "edited": false, "score": 0, "creation_date": 1524639933, "post_id": 50015156, "comment_id": 87048206, "body": "Show me the complete code and where the error message refers to."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 1361, "user_id": 98618, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/XGFDO.png?s=128&g=1", "display_name": "NickB", "link": "https://stackoverflow.com/users/98618/nickb"}, "edited": false, "score": 0, "creation_date": 1524642651, "post_id": 50015156, "comment_id": 87049729, "body": "This should be a limitation of annotation processor when working with typealiases. Let me think of a solution for u."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 1361, "user_id": 98618, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/XGFDO.png?s=128&g=1", "display_name": "NickB", "link": "https://stackoverflow.com/users/98618/nickb"}, "edited": false, "score": 0, "creation_date": 1524643059, "post_id": 50015156, "comment_id": 87049990, "body": "See my edits. I&#39;ve made the constructor using <code>String</code> and make it private, then created a fake constructor using <code>E164</code>. Now the annotation processor will see <code>String</code> and the programmer will see <code>E164</code>."}, {"owner": {"reputation": 1361, "user_id": 98618, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/XGFDO.png?s=128&g=1", "display_name": "NickB", "link": "https://stackoverflow.com/users/98618/nickb"}, "edited": false, "score": 0, "creation_date": 1524643544, "post_id": 50015156, "comment_id": 87050263, "body": "That looks like it should work.  Not as elegant as I would have liked, but I can&#39;t see an alternative, thanks."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 2, "last_activity_date": 1524642967, "last_edit_date": 1524642967, "creation_date": 1524636713, "answer_id": 50015156, "question_id": 50014886, "link": "https://stackoverflow.com/questions/50014886/kotlin-typealias-with-android-room-typeconverters/50015156#50015156", "title": "Kotlin typealias with Android Room TypeConverters", "body": "<p>You don't need <code>E164Converters</code>. You can use <code>E164</code> as <code>String</code>. Like</p>\n\n<pre><code>val a: E164 = \"blabla\"\n\nfun f(x: String) = x\nf(a) // compiles\n</code></pre>\n\n<p>I guess you're writing something like</p>\n\n<pre><code>fun processPhoneNumber(a: E164) {\n  // blabla\n}\n</code></pre>\n\n<p>You can invoke the function above like <code>processPhoneNumber(\"110\")</code>, which works fine.</p>\n\n<p>You said you get error when using it in</p>\n\n<pre><code>@Entity data class MyModel(\n  @PrimaryKey val e164: E164,\n  val someOtherThing: String\n)\n</code></pre>\n\n<p>If I were you I'd consider replace the code above with:</p>\n\n<pre><code>data class MyModel private constructor(\n  @PrimaryKey val e164: String,\n  val someOtherThing: String\n) {\n  companion object {\n    operator fun invoke(e164: E164, someOtherThing: String) =\n      MyModel(e164, someOtherThing)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1361, "user_id": 98618, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/XGFDO.png?s=128&g=1", "display_name": "NickB", "link": "https://stackoverflow.com/users/98618/nickb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524642967, "creation_date": 1524635502, "last_edit_date": 1524642746, "question_id": 50014886, "link": "https://stackoverflow.com/questions/50014886/kotlin-typealias-with-android-room-typeconverters", "title": "Kotlin typealias with Android Room TypeConverters", "body": "<p>I have used Kotlin's typealias to define an E164 phone number type:</p>\n\n<pre><code>typealias E164 = String\n</code></pre>\n\n<p>This makes my intention clearer when passing phone numbers around in my code, rather than just passing Strings.  I recognise that there is no actual enforcement of using the correct type, but this works well for me.</p>\n\n<p>Now I want to store an E164 in an Android Room database.  This works without the typealias, but with the typealias it requires a TypeConverters.  I tried this:</p>\n\n<pre><code>@Entity data class MyModel(@PrimaryKey val e164: E164, val someOtherThing: String)\n\nclass E164Converters {\n    @TypeConverter\n    fun toE164(value: String): E164 = value\n\n    @TypeConverter\n    fun toString(e164: E164): String = e164\n}\n</code></pre>\n\n<p>The compiler doesn't like the autogenerated Java of the E164Converters class because the toString and toE164 methods both define the same conversion of String -> String. </p>\n\n<pre><code>error: Multiple methods define the same conversion. Conflicts with these: CustomTypeConverter(type=E164Converters, method=toString(java.lang.String), from=java.lang.String, to=java.lang.String) public final java.lang.String toE164(@org.jetbrains.annotations.NotNull()\n</code></pre>\n\n<p>But if I don't define the TypeConverters, then the compiler doesn't know how to put an E164 in the database:</p>\n\n<pre><code>error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.\nprivate final error.NonExistentClass e164 = null;\n</code></pre>\n\n<p>Does anyone know how to implement this?</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1524647755, "post_id": 50014899, "comment_id": 87052850, "body": "Your solution can still be improved. See <a href=\"https://stackoverflow.com/a/48998939/4815713\">stackoverflow.com/a/48998939/4815713</a>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 8, "last_activity_date": 1524635554, "creation_date": 1524635554, "answer_id": 50014899, "question_id": 50014794, "link": "https://stackoverflow.com/questions/50014794/kotlin-how-can-we-access-private-property-with-getter-and-setter-is-access-me/50014899#50014899", "title": "Kotlin - How can we access private property with getter and setter? Is access methods are calling internally?", "body": "<p>Kotlin groups a field, its getter and its setter (if applicable) into the single concept of a property. When you're accessing a property, you're always calling its getter and setter, just with a simpler syntax, which happens to be the same as for accessing fields in Java. But the actual field backing the property is private, and all calls go through the getters and setters, which have the same visibility as the property itself, in your case, <code>private</code>. So your class would translate to this:</p>\n\n<pre><code>public final class Sample1 {\n\n    private String test = \"\";\n\n    private String getTest() { return test; }\n\n    private void setTest(String test) { this.test = test; }\n\n}\n</code></pre>\n\n<p>And your call to <code>Sample1().text</code> would look like this in Java (and you can actually do this from Java code that calls this Kotlin class):</p>\n\n<pre><code>new Sample1().getText();\n</code></pre>\n\n<p>All that to say is that the solution is to change the visibility of the property to whatever you'd set the getter and setter visibilities to in Java, for example, to the default public visibility:</p>\n\n<pre><code>class Sample1 {\n    var test = \"\"\n        get() = field\n        set(value) {\n            field = value\n        }\n}\n</code></pre>\n\n<p>Note that if you don't have an explicit getter and setter declared, you'll get ones automatically which do the same thing as the implementations above, so you can shorten your code to this:</p>\n\n<pre><code>class Sample1 {\n    var test = \"\"\n}\n</code></pre>\n\n<p>This final code is equivalent to this Java class:</p>\n\n<pre><code>public final class Sample1 {\n\n    private String test = \"\";\n\n    public String getTest() { return test; }\n\n    public void setTest(String test) { this.test = test; }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 516, "user_id": 5151336, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D3htVqMzt8c/AAAAAAAAAAI/AAAAAAAAAnU/0T-gW-wfxvI/photo.jpg?sz=128", "display_name": "vishnu benny", "link": "https://stackoverflow.com/users/5151336/vishnu-benny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7292, "favorite_count": 2, "closed_date": 1524647136, "accepted_answer_id": 50014899, "answer_count": 1, "score": 0, "last_activity_date": 1525349337, "creation_date": 1524635099, "last_edit_date": 1525349337, "question_id": 50014794, "link": "https://stackoverflow.com/questions/50014794/kotlin-how-can-we-access-private-property-with-getter-and-setter-is-access-me", "closed_reason": "Duplicate", "title": "Kotlin - How can we access private property with getter and setter? Is access methods are calling internally?", "body": "<pre><code>class Sample1 {\nprivate var test = \"\"\n    get() = field\n    set(value) {\n        field = value\n   }}\n</code></pre>\n\n<p>This is my class. I want to keep the property as private and have to access the property through getter and setter.</p>\n\n<pre><code> var sample1 = Sample1()\n</code></pre>\n\n<p>I tried to create an object and access the property, but fails.\nWhen I go through the docs, I could found one interesting thing, \n\"Getters always have the same visibility as the property\". <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>What's the correct approach with kotlin?</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1524634511, "post_id": 50014667, "comment_id": 87045548, "body": "Having it done with a Gradle task sounds like a reasonable solution - otherwise your app would only contain the compiled and dexed version of your code, but not the original sources."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1524636201, "post_id": 50014667, "comment_id": 87046226, "body": "Yes, data like the classname and the method names and such are available at runtime, but these are read from the compiled code, your application doesn&#39;t contain the original source code as plain text (with all the formatting, comments, etc)."}, {"owner": {"reputation": 388, "user_id": 2645214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00ea219281fd4ddacada13f25154e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mkr", "link": "https://stackoverflow.com/users/2645214/mkr"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1524636591, "post_id": 50014667, "comment_id": 87046405, "body": "[answer above should be probably below this question :)] I understand, but on the other side we can easy print e.g. class name like in sample here <a href=\"https://www.tutorialspoint.com/java/lang/class_getsimplename.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/java/lang/class_getsimplename.htm</a> So why going this way we can&#39;t print whole class with all functions and variables etc.?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1524637778, "post_id": 50014667, "comment_id": 87047049, "body": "You can access and print the contents of classes through reflection, you just won&#39;t be able to access them in the exact same format as if you had the source code, and you&#39;ll have to spend quite a bit of time on figuring out how to format it if you want it to look similar to the original source. There will also be things you can&#39;t find at all, for example method bodies are <a href=\"https://stackoverflow.com/questions/2946279/how-do-i-print-the-method-body-reflectively\">very difficult to get to</a>."}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 2645214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00ea219281fd4ddacada13f25154e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mkr", "link": "https://stackoverflow.com/users/2645214/mkr"}, "edited": false, "score": 0, "creation_date": 1524641832, "post_id": 50015560, "comment_id": 87049232, "body": "Ok, so as I understand from all answers gradle and copying files isn&#39;t  bad solution here. But to complete this topic and answer question from the beginning: &quot;What is the most straightforward way to do this?&quot; i&#39;m going to investigate also if it wouldn&#39;t be the best just to add to project a simple java file with main() method, which will work as independent program copying source code to assets and relieve gradle in his hard life :)."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 388, "user_id": 2645214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00ea219281fd4ddacada13f25154e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mkr", "link": "https://stackoverflow.com/users/2645214/mkr"}, "edited": false, "score": 1, "creation_date": 1524642237, "post_id": 50015560, "comment_id": 87049477, "body": "see <a href=\"https://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle\" title=\"how to build sources jar with gradle\">stackoverflow.com/questions/11474729/&hellip;</a> on how to build a sources.jar with gradle, then put this into assets and open and display from there."}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": true, "score": 1, "last_activity_date": 1524638314, "creation_date": 1524638314, "answer_id": 50015560, "question_id": 50014667, "link": "https://stackoverflow.com/questions/50014667/printing-current-content-of-source-file-on-android-using-java-or-kotlin/50015560#50015560", "title": "Printing current content of source file (on Android using Java or Kotlin)", "body": "<blockquote>\n  <p>So why going this way we can't print whole class with all functions and variables etc.?</p>\n</blockquote>\n\n<p>Simple answer: because it is not necessary for the program to run and therefore is stripped away by the compiler and even more by tools like <a href=\"https://developer.android.com/studio/build/shrink-code.html\" rel=\"nofollow noreferrer\">proguard</a>. So the code (of which you want the plaintext) you want to access might not even be in the resulting .aar any more at runtime.</p>\n\n<p>Java is compiled to bytecode in a <a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">class file</a>, you can read everything that is in there in some way.</p>\n\n<blockquote>\n  <p>From my research i think it's possible with gradle task, which fill copy files from src/main/java to assets before compilation. Than we can read these files from assets in \"standard\" way. But this sound for me like a workaround. I don't want to have duplicates of java/kotlin files in my app. If i have classes A,B,C under src/main/java i want to print e.g source of class A from class B without these operations.</p>\n</blockquote>\n\n<p>This is not a workaround. You want to keep the information necessary to compile the program in the program, then you have to keep there it yourself (i.e. in a .zip file or sources.jar). </p>\n\n<blockquote>\n  <p>we can easy print e.g. class name like in sample here tutorialspoint.com/java/lang/class_getsimplename.htm </p>\n</blockquote>\n\n<p>That is because this information is necessary for the public class to be instantiated i.e. by dependency injection.</p>\n"}], "owner": {"reputation": 388, "user_id": 2645214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00ea219281fd4ddacada13f25154e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mkr", "link": "https://stackoverflow.com/users/2645214/mkr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 50015560, "answer_count": 1, "score": 0, "last_activity_date": 1524638314, "creation_date": 1524634386, "question_id": 50014667, "link": "https://stackoverflow.com/questions/50014667/printing-current-content-of-source-file-on-android-using-java-or-kotlin", "title": "Printing current content of source file (on Android using Java or Kotlin)", "body": "<p>Let's say we have Android app, compiled from files A, B, C.\nI want to print on screen source code from file A and if in the future i will make some changes in file A I want to print new state of this file . Let's assume that it's permissionable to print from file B or C (file A doesn't have to print itself). \n<strong>What is the most straightforward way to do this?</strong> </p>\n\n<p><strong>TIP.</strong>  From my research i think it's possible with gradle task, which fill copy files from src/main/java to assets before compilation. Than we can read these files from assets in \"standard\" way. But this sound for me like a workaround. I don't want to have duplicates of java/kotlin files in my app. If i have classes A,B,C under src/main/java i want to print e.g source of class A from class B without these operations.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524628907, "post_id": 50013621, "comment_id": 87043982, "body": "Thanks! but I think that your code will cause error when you run the APP,  because that you don&#39;t initialize mCustomAdapter. You know that the definition in my code is <code>private lateinit var mCustomAdapter: CustomAdapter</code>"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524629553, "post_id": 50013621, "comment_id": 87044148, "body": "The only difference between <code>get() =</code> and <code>by lazy</code> is the former evaluates the lambda every time when accessed while the latter one evaluates the lambda only when first accessed. If <code>by lazy</code> doesn&#39;t cause error, <code>get() =</code> won&#39;t either. But if <code>by lazy</code> cause error, <code>get() =</code> will, too."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524630175, "post_id": 50013621, "comment_id": 87044289, "body": "Thanks! I have test your code, the APP don&#39;t crash when I run it, but mySelectedIndex  don&#39;t return a correct Int value, it return a string of  the function"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524630439, "post_id": 50013621, "comment_id": 87044345, "body": "The string is Function0&lt;java.lang.Integer&gt;"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524636274, "post_id": 50013621, "comment_id": 87046263, "body": "Sorry, please remove the <code>=</code>. I&#39;ve corrected my answer,"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524636292, "post_id": 50013621, "comment_id": 87046274, "body": "It&#39;s a personal mistake"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524636524, "post_id": 50013621, "comment_id": 87046376, "body": "Sorry, your latest code <code>private val mySelectedIndex get () { mCustomAdapter.getSelectedIndex()    }</code> doesn&#39;t work"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1524636559, "post_id": 50013621, "comment_id": 87046389, "body": "What about now?"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1524636541, "last_edit_date": 1524636541, "creation_date": 1524626908, "answer_id": 50013621, "question_id": 50013573, "link": "https://stackoverflow.com/questions/50013573/how-can-i-define-a-property-that-returns-the-current-value-of-a-radiobutton-in-k/50013621#50013621", "title": "How can I define a property that returns the current value of a RadioButton in Kotlin?", "body": "<p>Replace</p>\n\n<pre><code>private val mySelectedIndex by lazy {\n    mCustomAdapter.getSelectedIndex()\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>private val mySelectedIndex get () {\n    return mCustomAdapter.getSelectedIndex()\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>private val mySelectedIndex get () =\n    mCustomAdapter.getSelectedIndex()\n</code></pre>\n\n<p>should work.</p>\n"}, {"tags": [], "owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "is_accepted": true, "score": 1, "last_activity_date": 1524650747, "last_edit_date": 1524650747, "creation_date": 1524634786, "answer_id": 50014736, "question_id": 50013573, "link": "https://stackoverflow.com/questions/50013573/how-can-i-define-a-property-that-returns-the-current-value-of-a-radiobutton-in-k/50014736#50014736", "title": "How can I define a property that returns the current value of a RadioButton in Kotlin?", "body": "<p>By using the <code>by lazy</code> delegation here you're making sure that the same value will be returned after the first initialization of <code>mySelectedIndex</code>.</p>\n\n<p>You might want to omit the delegation and do something like this instead:</p>\n\n<pre><code>private val mySelectedIndex\n    get () = mCustomAdapter.getSelectedIndex()\n</code></pre>\n\n<p>As a side note, this snippet above is not equal to the following:</p>\n\n<pre><code>private val mySelectedIndex\n    get () = {\n        mCustomAdapter.getSelectedIndex()\n    }\n</code></pre>\n\n<p>The latter will return a function reference to <code>getSelectedIndex()</code> while the former will return its result.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 50014736, "answer_count": 2, "score": 1, "last_activity_date": 1524650747, "creation_date": 1524626588, "last_edit_date": 1524645323, "question_id": 50013573, "link": "https://stackoverflow.com/questions/50013573/how-can-i-define-a-property-that-returns-the-current-value-of-a-radiobutton-in-k", "title": "How can I define a property that returns the current value of a RadioButton in Kotlin?", "body": "<p>The Code B is a customized <code>RecyclerView.Adapter</code> with <code>RadioButton</code>.  </p>\n\n<p>I hope to get the current selected index of the <code>RadioButton</code>, so I add a property <code>mySelectedIndex</code> in Code A, but <code>mySelectedIndex</code> will not change after it's called fro the first time.</p>\n\n<p>How can I do this? Thanks!</p>\n\n<p>And more, </p>\n\n<pre><code>private lateinit var selectedIndex= mCustomAdapter.getSelectedIndex() will not work too!\n</code></pre>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>private lateinit var mCustomAdapter: CustomAdapter\n\nprivate val mySelectedIndex by lazy {\n        mCustomAdapter.getSelectedIndex()\n}\n\n\nprivate fun a(){\n  backup(mySelectedIndex)\n}\n\n\nprivate fun b(){\n  restore(mySelectedIndex) \n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>class CustomAdapter (val backupItemList: List&lt;MSetting&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    val noRecord=-1\n    private var mSelectedIndex = noRecord\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.item_recyclerview, parent, false)\n        return ViewHolder(v)\n    }\n\n    fun getSelectedIndex():Int{\n        return  mSelectedIndex\n    }\n\n    fun setSelectedIndex(index:Int){\n        if (index in 0..(backupItemList.size-1) ){\n            mSelectedIndex=index\n        }\n        notifyDataSetChanged();\n    }\n\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(backupItemList[position])\n    }\n\n    override fun getItemCount(): Int {\n        return backupItemList.size\n    }\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(aMSetting: MSetting) {          \n\n            itemView.radioButton.setOnClickListener {\n                mSelectedIndex=adapterPosition\n                notifyDataSetChanged();\n            }\n\n            if(adapterPosition == 0 &amp;&amp; mSelectedIndex == noRecord) {            \n                itemView.radioButton.isChecked = true\n                mSelectedIndex=adapterPosition\n            }\n            else {\n                itemView.radioButton.isChecked =(adapterPosition == mSelectedIndex)\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1731, "user_id": 5202007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yOWfD.jpg?s=128&g=1", "display_name": "Mohammad Tauqir", "link": "https://stackoverflow.com/users/5202007/mohammad-tauqir"}, "edited": false, "score": 0, "creation_date": 1524625566, "post_id": 50013422, "comment_id": 87043221, "body": "why have you commented ===<code>&#47;&#47;etc...)</code> { inside <code>onCreate</code>"}, {"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "reply_to_user": {"reputation": 1731, "user_id": 5202007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yOWfD.jpg?s=128&g=1", "display_name": "Mohammad Tauqir", "link": "https://stackoverflow.com/users/5202007/mohammad-tauqir"}, "edited": false, "score": 0, "creation_date": 1524625679, "post_id": 50013422, "comment_id": 87043247, "body": "I just wanted to remove unnecessary codes that aren&#39;t directly related to the question."}, {"owner": {"reputation": 1731, "user_id": 5202007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yOWfD.jpg?s=128&g=1", "display_name": "Mohammad Tauqir", "link": "https://stackoverflow.com/users/5202007/mohammad-tauqir"}, "edited": false, "score": 0, "creation_date": 1524625714, "post_id": 50013422, "comment_id": 87043256, "body": "Remove <code>&#47;&#47;</code>. this is not unnecessary codes. and run it. the issue will be solved. you will get values in <code>fetchedTags </code>"}, {"owner": {"reputation": 594, "user_id": 5471183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MG2Tn.jpg?s=128&g=1", "display_name": "Hitesh Sarsava", "link": "https://stackoverflow.com/users/5471183/hitesh-sarsava"}, "edited": false, "score": 0, "creation_date": 1524632606, "post_id": 50013422, "comment_id": 87044901, "body": "println(fetchedTags[0].name)  add this line in  client.newCall(request).enqueue(object : Callback {                 override fun onResponse(call: Call?, response: Response?) {                     val jsonData = response?.body()?.string()                     val gson = GsonBuilder().setPrettyPrinting().create()                     val tagList: List&lt;Tags&gt; = gson.fromJson(jsonData, object : TypeToken&lt;List&lt;Tags&gt;&gt;() {}.type)                     fetchedTags = tagList  println(fetchedTags[0].name)     }"}, {"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "reply_to_user": {"reputation": 594, "user_id": 5471183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MG2Tn.jpg?s=128&g=1", "display_name": "Hitesh Sarsava", "link": "https://stackoverflow.com/users/5471183/hitesh-sarsava"}, "edited": false, "score": 0, "creation_date": 1524635171, "post_id": 50013422, "comment_id": 87045771, "body": "@Hitesh Sarsava, Yes, it is not null only on the onResponse call. I wanted some way to bring the data out because I have a lot more processing to do."}, {"owner": {"reputation": 594, "user_id": 5471183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MG2Tn.jpg?s=128&g=1", "display_name": "Hitesh Sarsava", "link": "https://stackoverflow.com/users/5471183/hitesh-sarsava"}, "edited": false, "score": 0, "creation_date": 1524635460, "post_id": 50013422, "comment_id": 87045882, "body": "then make interface for that task in implement in class and call its method in onResponse"}], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "edited": false, "score": 0, "creation_date": 1524625962, "post_id": 50013494, "comment_id": 87043325, "body": "Yes, it is not null at onResponse. So basically, I have to do all my processing inside onResponse? I have to do another HTTP call (fetchBooks()) inside it."}, {"owner": {"reputation": 472, "user_id": 7002689, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207379979364379/picture?type=large", "display_name": "Leonardo Velozo", "link": "https://stackoverflow.com/users/7002689/leonardo-velozo"}, "reply_to_user": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "edited": false, "score": 0, "creation_date": 1524626568, "post_id": 50013494, "comment_id": 87043464, "body": "Basically yes, you can call fetchBooks(fetchTags) inside your onResponse"}, {"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "edited": false, "score": 0, "creation_date": 1524626766, "post_id": 50013494, "comment_id": 87043497, "body": "I see. I just thought there was another way to do it. Thanks!"}], "tags": [], "owner": {"reputation": 472, "user_id": 7002689, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207379979364379/picture?type=large", "display_name": "Leonardo Velozo", "link": "https://stackoverflow.com/users/7002689/leonardo-velozo"}, "is_accepted": false, "score": 1, "last_activity_date": 1524625827, "creation_date": 1524625827, "answer_id": 50013494, "question_id": 50013422, "link": "https://stackoverflow.com/questions/50013422/getting-data-from-override-function/50013494#50013494", "title": "Getting data from override function", "body": "<pre><code>fetchBooks()\nprintln(fetchedTags[0].name)\n</code></pre>\n\n<p>Your are calling <code>println(fetchedTags[0].name)</code> right after making your http call, since it's asynchronous your list is null at this point.</p>\n\n<p>call it on your <code>onResponse</code> function</p>\n"}], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1524634804, "creation_date": 1524625268, "last_edit_date": 1524634804, "question_id": 50013422, "link": "https://stackoverflow.com/questions/50013422/getting-data-from-override-function", "title": "Getting data from override function", "body": "<p>This might be a little weird but I can't figure out how to pass data after an API call. I'm very new to object oriented programming.</p>\n\n<p><code>fetchedTags</code> is null after the <code>fetchTags()</code> call. How do I get the data?</p>\n\n<p>For example:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    var fetchedTags: List&lt;Tags&gt;? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        fetchTags()\n        println(fetchedTags[0].name)\n        fetchBooks()\n        makeMapOutOfTagsAndBooks()\n    }\n\n\n\n    fun fetchTags () {\n        //some processing\n        val request = Request.Builder().url(url).build()\n\n        client.newCall(request).enqueue(object : Callback {\n            override fun onResponse(call: Call?, response: Response?) {\n                val jsonData = response?.body()?.string()\n                val gson = GsonBuilder().setPrettyPrinting().create()\n                val tagList: List&lt;Tags&gt; = gson.fromJson(jsonData, object : TypeToken&lt;List&lt;Tags&gt;&gt;() {}.type)\n                fetchedTags = tagList\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "android-architecture-components"], "comments": [{"owner": {"reputation": 1719, "user_id": 5518027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peF6a.jpg?s=128&g=1", "display_name": "Arpan Sarkar", "link": "https://stackoverflow.com/users/5518027/arpan-sarkar"}, "edited": false, "score": 0, "creation_date": 1524622099, "post_id": 50012822, "comment_id": 87042448, "body": "add ` implementation &quot;android.arch.lifecycle:runtime:1.1.1&quot;` to your dependencies"}, {"owner": {"reputation": 2935, "user_id": 817496, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/WdFnA.jpg?s=128&g=1", "display_name": "RedBassett", "link": "https://stackoverflow.com/users/817496/redbassett"}, "reply_to_user": {"reputation": 1719, "user_id": 5518027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peF6a.jpg?s=128&g=1", "display_name": "Arpan Sarkar", "link": "https://stackoverflow.com/users/5518027/arpan-sarkar"}, "edited": false, "score": 0, "creation_date": 1524629370, "post_id": 50012822, "comment_id": 87044104, "body": "Unfortunately, no, that doesn&#39;t fix the issue."}, {"owner": {"reputation": 1719, "user_id": 5518027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peF6a.jpg?s=128&g=1", "display_name": "Arpan Sarkar", "link": "https://stackoverflow.com/users/5518027/arpan-sarkar"}, "edited": false, "score": 0, "creation_date": 1524740770, "post_id": 50012822, "comment_id": 87098596, "body": "Dependency Resolution Force to use a version <a href=\"https://gist.github.com/cr7pt0gr4ph7/6cd6339eabc2056bc3e7\" rel=\"nofollow noreferrer\">gist.github.com/cr7pt0gr4ph7/6cd6339eabc2056bc3e7</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4443, "user_id": 300236, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6ef35e12ab8af89a100661ce7783c550?s=128&d=identicon&r=PG", "display_name": "Brill Pappin", "link": "https://stackoverflow.com/users/300236/brill-pappin"}, "edited": false, "score": 3, "creation_date": 1529009395, "post_id": 50046076, "comment_id": 88733878, "body": "This was the case for me as well, setting the resolutionStrategy above solved the problem."}], "tags": [], "owner": {"reputation": 2935, "user_id": 817496, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/WdFnA.jpg?s=128&g=1", "display_name": "RedBassett", "link": "https://stackoverflow.com/users/817496/redbassett"}, "is_accepted": true, "score": 7, "last_activity_date": 1524754254, "creation_date": 1524754254, "answer_id": 50046076, "question_id": 50012822, "link": "https://stackoverflow.com/questions/50012822/android-architecture-components-gradle-sync-error-for-dependency-version/50046076#50046076", "title": "Android Architecture Components: Gradle sync error for dependency version", "body": "<p>Apparently <code>support-v4</code> was causing the conflict. In the case of this question, the Gradle dependency task wasn't working correctly, but for anyone else who runs into this issue:</p>\n\n<p><code>./gradlew :app:dependencies</code> will show the sub-dependencies used by your dependencies. Search the output of this command (changing <code>app</code> for your module name) for the dependency causing the conflict.</p>\n"}, {"comments": [{"owner": {"reputation": 4443, "user_id": 300236, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6ef35e12ab8af89a100661ce7783c550?s=128&d=identicon&r=PG", "display_name": "Brill Pappin", "link": "https://stackoverflow.com/users/300236/brill-pappin"}, "edited": false, "score": 0, "creation_date": 1529009045, "post_id": 50047277, "comment_id": 88733745, "body": "This worked for me. I was unable to figure out where the lower dependency was, as it was most Lilley in an older library."}], "tags": [], "owner": {"reputation": 19404, "user_id": 1219199, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/U3KjU.png?s=128&g=1", "display_name": "sergej shafarenka", "link": "https://stackoverflow.com/users/1219199/sergej-shafarenka"}, "is_accepted": false, "score": 24, "last_activity_date": 1524757944, "creation_date": 1524757944, "answer_id": 50047277, "question_id": 50012822, "link": "https://stackoverflow.com/questions/50012822/android-architecture-components-gradle-sync-error-for-dependency-version/50047277#50047277", "title": "Android Architecture Components: Gradle sync error for dependency version", "body": "<p>In your main <code>build.gradle</code> file</p>\n\n<pre><code>allprojects {\n    ...\n\n    configurations {\n        all {\n            resolutionStrategy {\n                force \"android.arch.lifecycle:runtime:1.1.1\"\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>This will enforce version <code>1.1.1</code></p>\n"}, {"comments": [{"owner": {"reputation": 759, "user_id": 3168190, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8T48p.jpg?s=128&g=1", "display_name": "HaydenKai", "link": "https://stackoverflow.com/users/3168190/haydenkai"}, "edited": false, "score": 2, "creation_date": 1529368261, "post_id": 50832055, "comment_id": 88838109, "body": "lifesaver, not sure why this isn&#39;t documented some place"}, {"owner": {"reputation": 515, "user_id": 825644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UMrsX.jpg?s=128&g=1", "display_name": "dinesharjani", "link": "https://stackoverflow.com/users/825644/dinesharjani"}, "edited": false, "score": 1, "creation_date": 1530616417, "post_id": 50832055, "comment_id": 89289628, "body": "Same here (another lifesaver)."}, {"owner": {"reputation": 4057, "user_id": 5502121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad48f3a14f696fb103e7b7a6931d2351?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Karmazin", "link": "https://stackoverflow.com/users/5502121/kirill-karmazin"}, "edited": false, "score": 0, "creation_date": 1567796064, "post_id": 50832055, "comment_id": 102084689, "body": "&#39;api&#39; is less efficient than &#39;implementation&#39; in terms of build time after changes"}], "tags": [], "owner": {"reputation": 2029, "user_id": 6552016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf30872c5ab2ff01a02ea2da74830232?s=128&d=identicon&r=PG&f=1", "display_name": "Rub&#233;n Viguera", "link": "https://stackoverflow.com/users/6552016/rub%c3%a9n-viguera"}, "is_accepted": false, "score": 48, "last_activity_date": 1528877010, "creation_date": 1528877010, "answer_id": 50832055, "question_id": 50012822, "link": "https://stackoverflow.com/questions/50012822/android-architecture-components-gradle-sync-error-for-dependency-version/50832055#50832055", "title": "Android Architecture Components: Gradle sync error for dependency version", "body": "<p>As @RedBassett mentions Support libraries depends on this lightweight import (runtime library) as explained at <a href=\"https://developer.android.com/topic/libraries/architecture/adding-components\" rel=\"noreferrer\">android developers documentation</a>.</p>\n\n<p>This is, android.arch.lifecycle:runtime:1.0.0 is spreading up in the dependency tree as a result of an internal api (transitive) import so in my case I only had to include extensions library as \"api\" instead of \"implementation\" so that it will override its version to the highest (1.1.1).</p>\n\n<p>In conclusion, change</p>\n\n<pre><code>implementation \"android.arch.lifecycle:extensions:1.1.1\"\n</code></pre>\n\n<p>to</p>\n\n<pre><code>api \"android.arch.lifecycle:extensions:1.1.1\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 534, "user_id": 4989435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83424ce6332189639e40d38405036de?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Patel", "link": "https://stackoverflow.com/users/4989435/sahil-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1539452433, "creation_date": 1539452433, "answer_id": 52795620, "question_id": 50012822, "link": "https://stackoverflow.com/questions/50012822/android-architecture-components-gradle-sync-error-for-dependency-version/52795620#52795620", "title": "Android Architecture Components: Gradle sync error for dependency version", "body": "<p>@RedBassett is right. However I was still having some problem excluding <code>android.arch.lifecycle</code> related sub dependencies. </p>\n\n<p>In my case the conflict was caused in <code>com.android.support:appcompat-v7:27.1.1</code>. </p>\n\n<p>This is how my gradle dependency looks like after excluding it.</p>\n\n<pre><code>implementation ('com.android.support:appcompat-v7:27.1.1') {\n    exclude group: 'android.arch.lifecycle'\n}\n\n\napi \"android.arch.lifecycle:runtime:1.1.1\"\nkapt \"android.arch.persistence.room:compiler:1.1.1\"\n</code></pre>\n\n<p>Also, you will have to add this exclude in every imported module.</p>\n"}, {"tags": [], "owner": {"reputation": 31801, "user_id": 1438339, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/eJSFM.jpg?s=128&g=1", "display_name": "Adam Johns", "link": "https://stackoverflow.com/users/1438339/adam-johns"}, "is_accepted": false, "score": 0, "last_activity_date": 1553717263, "creation_date": 1553717263, "answer_id": 55385624, "question_id": 50012822, "link": "https://stackoverflow.com/questions/50012822/android-architecture-components-gradle-sync-error-for-dependency-version/55385624#55385624", "title": "Android Architecture Components: Gradle sync error for dependency version", "body": "<p>I searched for all dependencies with <code>./gradlew :app:dependencies</code> as @RedBassett mentioned. I noticed the incompatible version of <code>android.arch.core:runtime</code> that Gradle was complaining about was stemming from my version of <code>com.android.support:appcompat-v7</code>, so I just updated that version to the latest and everything worked.</p>\n"}], "owner": {"reputation": 2935, "user_id": 817496, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/WdFnA.jpg?s=128&g=1", "display_name": "RedBassett", "link": "https://stackoverflow.com/users/817496/redbassett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18810, "favorite_count": 4, "accepted_answer_id": 50046076, "answer_count": 5, "score": 19, "last_activity_date": 1553717263, "creation_date": 1524620123, "last_edit_date": 1524629529, "question_id": 50012822, "link": "https://stackoverflow.com/questions/50012822/android-architecture-components-gradle-sync-error-for-dependency-version", "title": "Android Architecture Components: Gradle sync error for dependency version", "body": "<p>I'm trying to add ViewModel and LiveData to a Kotlin app. I have the following dependencies added to my module's <code>build.gradle</code>:</p>\n\n<pre><code>implementation \"android.arch.lifecycle:extensions:1.1.1\"\nkapt \"android.arch.lifecycle:compiler:1.1.1\"\ntestImplementation \"android.arch.core:core-testing:1.1.1\"\n</code></pre>\n\n<p>I'm given the following error:</p>\n\n<blockquote>\n  <p>Android dependency 'android.arch.lifecycle:runtime' has different version for the compile (1.0.0) and runtime (1.1.1) classpath. You should manually set the same version via DependencyResolution</p>\n</blockquote>\n\n<p>Removing the first line (<code>extensions</code>) fixes the issue, indicating that the error is coming from there, but I can't figure out why.</p>\n"}, {"tags": ["kotlin", "annotations", "annotation-processing", "data-class"], "answers": [{"tags": [], "owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "is_accepted": false, "score": 1, "last_activity_date": 1524622655, "creation_date": 1524622655, "answer_id": 50013106, "question_id": 50012395, "link": "https://stackoverflow.com/questions/50012395/kotlin-data-class-definition-is-not-in-roundenv-rootelements-annotation-process/50013106#50013106", "title": "Kotlin data class definition is not in roundEnv.rootElements (annotation processing)", "body": "<p>Root elements aren't guaranteed to be annotated elements, they are <em>roots</em>. Annotation processing roots can be individual elements, annotated with annotations, targeted via <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/annotation/processing/Processor.html#getSupportedAnnotationTypes()\" rel=\"nofollow noreferrer\">getSupportedAnnotationTypes()</a>, or classes/packages, encompassing the set of those elements, \u2014 the API is somewhat poorly specified, so exact nature of root elements is vague.</p>\n\n<p>The situation is further complicated by the fact, that Kotlin and, as of the latest version, Gradle may wrap annotation processor APIs and provide their own implementations of <code>RoundEnvironment</code>. Those implementations might not behave in manner, consistent with javac defaults.</p>\n"}], "owner": {"reputation": 3658, "user_id": 67878, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8a20b6c052e6178c98b8026c28fb75cc?s=128&d=identicon&r=PG", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/67878/vitaly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524622655, "creation_date": 1524615733, "last_edit_date": 1524618721, "question_id": 50012395, "link": "https://stackoverflow.com/questions/50012395/kotlin-data-class-definition-is-not-in-roundenv-rootelements-annotation-process", "title": "Kotlin data class definition is not in roundEnv.rootElements (annotation processing)", "body": "<p>Inside an annotation processor that extends <code>AbstractProcessor</code> I have:</p>\n\n<pre><code>override fun process(annotations: MutableSet&lt;out TypeElement&gt;, roundEnv: RoundEnvironment): Boolean {\n    roundEnv.getElementsAnnotatedWith(FxBean::class.java)\n        .forEach {\n            val className = it.simpleName.toString()\n\n            val metaDataClass = Class.forName(\"kotlin.Metadata\").asSubclass(Annotation::class.java)\n            val isKotlinClass = it.getAnnotation(metaDataClass) != null\n\n            if (isKotlinClass) {\n                // Trying to get the list of methods\n                // of the data class with the @FxBean annotation.\n                val methods = roundEnv.rootElements.find {\n                    it.simpleName.toString() == className // This is never true\n                }?.let {\n                    val methods = mutableListOf&lt;ExecutableElement&gt;()\n                    it.enclosedElements.forEach {\n                        if (it is ExecutableElement) {\n                            methods.add(it)\n                        }\n                    }\n                    methods\n                }\n            }\n        }\n    return true\n}\n</code></pre>\n\n<p>What am I missing? Is there a way to get the Element representing the data class with the <code>@FxBean</code> annotation being processed?</p>\n"}, {"tags": ["android", "kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 7557457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a5833b9249c2324cbf99a533c5cf08?s=128&d=identicon&r=PG&f=1", "display_name": "di0n0s", "link": "https://stackoverflow.com/users/7557457/di0n0s"}, "is_accepted": true, "score": 0, "last_activity_date": 1524737123, "creation_date": 1524737123, "answer_id": 50040215, "question_id": 50011274, "link": "https://stackoverflow.com/questions/50011274/mocking-another-parameter-on-function-not-working-when-one-of-them-is-a-callback/50040215#50040215", "title": "Mocking another parameter on function not working when one of them is a callback interface", "body": "<p>Finally, I know what I was doing wrong. First at all, <code>it.argument[1]</code> because callback is the second parameter of the function that I want to mock the answer.</p>\n\n<p>And the other thing is that I was mocking the parameter of the function that I want to test <code>presenter.getComicListByHero(1)</code>.</p>\n\n<p>Here is the revised code:</p>\n\n<pre><code>@Test\nfun getComicListByHeroError() {\n    setupGetComicsCallbackError()\n\n    presenter.getComicListByHero(1)\n\n    verify(presenter.view).showMessage()\n}\n\nprivate fun setupGetComicsCallbackError() {\n    doAnswer {\n        val callback = it.arguments[1] as HeroUseCase.GetComicListByHeroCallback\n        callback.onError()\n        null\n    }.`when`(useCase).execute(ArgumentMatchers.anyInt(), any())\n}\n</code></pre>\n\n<p>Thank you very much to @voghDev for his help</p>\n"}], "owner": {"reputation": 81, "user_id": 7557457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a5833b9249c2324cbf99a533c5cf08?s=128&d=identicon&r=PG&f=1", "display_name": "di0n0s", "link": "https://stackoverflow.com/users/7557457/di0n0s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 50040215, "answer_count": 1, "score": 0, "last_activity_date": 1524749824, "creation_date": 1524607101, "last_edit_date": 1592644375, "question_id": 50011274, "link": "https://stackoverflow.com/questions/50011274/mocking-another-parameter-on-function-not-working-when-one-of-them-is-a-callback", "title": "Mocking another parameter on function not working when one of them is a callback interface", "body": "<p>I successfully did some tests of asynchronous function with only one callback interface as parameter with <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">mockito-kotlin</a> library but when I try to do a test of same function with another parameter like a String or Integer I receive error:</p>\n<blockquote>\n<p>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:</p>\n<p>Invalid use of argument matchers!</p>\n<p>2 matchers expected, 1 recorded:</p>\n<p>-&gt; at com.example.presentation.presenter.MyCollectionPresenterTest.getComicListByHeroOK(MyCollectionPresenterTest.kt:97)</p>\n<p>This exception may occur if matchers are combined with raw values:</p>\n<p>//incorrect:</p>\n<p>someMethod(anyObject(), &quot;raw String&quot;);</p>\n<p>When using matchers, all arguments have to be provided by matchers.</p>\n<p>For example:</p>\n<p>//correct:</p>\n<p>someMethod(anyObject(), eq(&quot;String by matcher&quot;));</p>\n<p>For more info see javadoc for Matchers class.</p>\n</blockquote>\n<p>I\u00b4m sure I\u00b4m mocking properly callback interface with any() but I don\u00b4t know if I\u00b4m mocking integer parameter correctly. I tried with <code>any()</code>, <code>anyInt()</code>, <code>eq(1)</code> and <code>any() as Int</code> but always the same error.</p>\n<p>Here is the class that I want to test:</p>\n<pre><code>@PerFragment\nclass MyCollectionPresenter @Inject constructor(private val useCase: GetComicListByHeroUseCase) {\n\n    @Inject\n    lateinit var view: MyCollectionView\n    lateinit var models: List&lt;ComicModel&gt;\n\n    fun getComicListByHero(heroId: Int) {\n        useCase.execute(heroId, object : HeroUseCase.GetComicListByHeroCallback {\n            override fun onComicListReceived(comicList: List&lt;Comic&gt;) {\n                models = ComicModelMapper.toModel(comicList)\n                view.setItems(models)\n            }\n\n            override fun onError() {\n                view.showMessage()\n            }\n\n        })\n    }\n}\n</code></pre>\n<p>And this is the test class:</p>\n<pre><code>class MyCollectionPresenterTest : UnitTest() {\n\n    private lateinit var presenter: MyCollectionPresenter\n    @Mock\n    private lateinit var useCase: GetComicListByHeroUseCase\n    @Mock\n    private lateinit var view: MyCollectionView\n\n    @Before\n    fun setUp() {\n        presenter = MyCollectionPresenter(useCase)\n        initializeView()\n    }\n\n    @Test\n    fun getComicListByHeroOK() {\n        setupGetComicsCallbackOK()\n\n        presenter.getComicListByHero(any())\n\n        verify(presenter.view).setItems(emptyList())\n    }\n\n    @Test\n    fun getComicListByHeroError() {\n        setupGetComicsCallbackError()\n\n        presenter.getComicListByHero(any())\n\n        verify(presenter.view).showMessage()\n    }\n\n    private fun initializeView() {\n        presenter.view = view\n    }\n\n    private fun setupGetComicsCallbackError() {\n        doAnswer {\n            val callback = it.arguments[0] as HeroUseCase.GetComicListByHeroCallback\n            callback.onError()\n            null\n        }.`when`(useCase).execute(any(), any())\n    }\n\n    private fun setupGetComicsCallbackOK() {\n        doAnswer {\n            val callback = it.arguments[0] as HeroUseCase.GetComicListByHeroCallback\n            callback.onComicListReceived(emptyList())\n            null\n        }.`when`(useCase).execute(any(), any())\n    }\n}\n</code></pre>\n<p>This is base unit test class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner::class)\nabstract class UnitTest {\n\n    @Suppress(&quot;LeakingThis&quot;)\n    @Rule\n    @JvmField\n    val injectMocks = InjectMocksRule.create(this@UnitTest)\n}\n</code></pre>\n<p>And this is a class for inject mocks rule:</p>\n<pre><code>class InjectMocksRule {\n\n    companion object {\n        fun create(testClass: Any) = TestRule { statement, _ -&gt;\n            MockitoAnnotations.initMocks(testClass)\n            statement\n        }\n    }\n}\n</code></pre>\n<p>Thank you very much for your help and excuse my english.</p>\n<p>Regards!</p>\n<p><strong>UPDATE: I found the solution and posted as answer.</strong></p>\n"}, {"tags": ["kotlin", "mockito", "powermock", "mockk"], "comments": [{"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1524665418, "post_id": 50011161, "comment_id": 87064944, "body": "what&#39;s the file name from where your extension function is? Is this the full verifiable example, or is the class different?"}, {"owner": {"reputation": 123, "user_id": 6203870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40493e69e56b579a921d65065028e083?s=128&d=identicon&r=PG&f=1", "display_name": "NameAlex", "link": "https://stackoverflow.com/users/6203870/namealex"}, "reply_to_user": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1524775063, "post_id": 50011161, "comment_id": 87119237, "body": "The function is defined outside of the class ConnectionFactory and is module wide."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 6203870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40493e69e56b579a921d65065028e083?s=128&d=identicon&r=PG&f=1", "display_name": "NameAlex", "link": "https://stackoverflow.com/users/6203870/namealex"}, "edited": false, "score": 0, "creation_date": 1524775342, "post_id": 50048863, "comment_id": 87119351, "body": "Here is the defined implementation of the interface <code>listOf(1, 2, 3)</code>, but can we mock on an interface, like <code>Iterable&lt;T&gt;.foo()</code> ?"}, {"owner": {"reputation": 136, "user_id": 4949905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umQjY.png?s=128&g=1", "display_name": "Roman Safronov", "link": "https://stackoverflow.com/users/4949905/roman-safronov"}, "reply_to_user": {"reputation": 123, "user_id": 6203870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40493e69e56b579a921d65065028e083?s=128&d=identicon&r=PG&f=1", "display_name": "NameAlex", "link": "https://stackoverflow.com/users/6203870/namealex"}, "edited": false, "score": 0, "creation_date": 1524777184, "post_id": 50048863, "comment_id": 87120229, "body": "Sure, we may replace <code>listOf()</code> with <code>val itMock = classMockk(Iterable::class)</code>. Then we can use this mock inside <code>every</code> and <code>verify</code>. I&#39;ve updated original code example to cover this case."}], "tags": [], "owner": {"reputation": 136, "user_id": 4949905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umQjY.png?s=128&g=1", "display_name": "Roman Safronov", "link": "https://stackoverflow.com/users/4949905/roman-safronov"}, "is_accepted": true, "score": 3, "last_activity_date": 1524777333, "last_edit_date": 1524777333, "creation_date": 1524763733, "answer_id": 50048863, "question_id": 50011161, "link": "https://stackoverflow.com/questions/50011161/how-mock-kotlin-extension-function-in-interface/50048863#50048863", "title": "How mock Kotlin extension function in interface?", "body": "<p>According to the <a href=\"https://github.com/oleksiyp/mockk#extension-functions\" rel=\"nofollow noreferrer\">documentation</a> in case of module wide extension functions you need to <code>staticMock</code> \"hidden\" class created for an extension function.\nHere is an example (assuming the file name is <code>com/sample/extmockingtest/SampleTest.kt</code>):</p>\n\n<pre><code>fun &lt;T&gt; Iterable&lt;T&gt;.foo(): String  = \"do some stuff\"\n\nclass ExtensionFunctionTest {\n    @Test\n    fun mockExtensionFunction() {\n        val itMock = classMockk(Iterable::class);\n        staticMockk(\"com.sample.extmockingtest.SampleTestKt\").use {\n            every {\n                itMock.foo()\n            } returns \"do other stuff\"\n\n            assertEquals(\"do other stuff\", itMock.foo())\n\n            verify {\n                itMock.foo()\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 6203870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40493e69e56b579a921d65065028e083?s=128&d=identicon&r=PG&f=1", "display_name": "NameAlex", "link": "https://stackoverflow.com/users/6203870/namealex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2830, "favorite_count": 0, "accepted_answer_id": 50048863, "answer_count": 1, "score": 1, "last_activity_date": 1524777333, "creation_date": 1524606408, "question_id": 50011161, "link": "https://stackoverflow.com/questions/50011161/how-mock-kotlin-extension-function-in-interface", "title": "How mock Kotlin extension function in interface?", "body": "<p>I have an extension function for interface like the following:</p>\n\n<pre><code>import javax.jms.ConnectionFactory\n\nfun ConnectionFactory.foo() {\n    println(\"do some stuff\")\n}\n</code></pre>\n\n<p><p>How can I mock the function foo?<p>\nPlease note, I have seen approaches for classes and objects in <a href=\"http://mockk.io/#extension-functions\" rel=\"nofollow noreferrer\">http://mockk.io/#extension-functions</a>, but it does not work. I have tried this one:</p>\n\n<pre><code>import io.mockk.classMockk\nimport io.mockk.every\nimport org.junit.Test\nimport javax.jms.ConnectionFactory\n\nclass ExtensionFunctionTest {\n@Test\nfun mockExtensionFunction() {\n    val connectionFactory = classMockk(ConnectionFactory::class)\n    every { connectionFactory.foo() } returns println(\"do other stuff\")\n    connectionFactory.foo()\n}\n}\n</code></pre>\n\n<p>It throws exception:</p>\n\n<pre><code>io.mockk.MockKException: Missing calls inside every { ... } block.\n</code></pre>\n"}, {"tags": ["android", "kotlin", "seekbar"], "comments": [{"owner": {"reputation": 1647, "user_id": 7676637, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b6c7df7d106931e84b857641ab1f70c5?s=128&d=identicon&r=PG&f=1", "display_name": "AwaisMajeed", "link": "https://stackoverflow.com/users/7676637/awaismajeed"}, "edited": false, "score": 0, "creation_date": 1524633364, "post_id": 50010720, "comment_id": 87045125, "body": "can you please include the logcat trace in your question so that we see where the exception is occurring..."}], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 9562605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "markus", "link": "https://stackoverflow.com/users/9562605/markus"}, "is_accepted": false, "score": 0, "last_activity_date": 1524639933, "creation_date": 1524639933, "answer_id": 50016035, "question_id": 50010720, "link": "https://stackoverflow.com/questions/50010720/android-app-crashing-after-i-put-in-a-seekbar-kotlin/50016035#50016035", "title": "Android app crashing after I put in a seekbar [kotlin]", "body": "<p>One clue may be, that in <code>onProgressChanged</code> in <code>SeekBarOnChangeListener</code> <code>audioPlayer.getDuration()</code> is called after <code>audioPlayer.release()</code> - but since your code is quite incomplete...</p>\n\n<p>Maybe you could try to reset the <code>SeekBarOnChangeListener</code> before releasing the <code>MediaPlayer</code></p>\n"}], "owner": {"reputation": 25, "user_id": 8841227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d9fb0747e14be8323343aaca93cb83?s=128&d=identicon&r=PG&f=1", "display_name": "Lassley", "link": "https://stackoverflow.com/users/8841227/lassley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 457, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524639933, "creation_date": 1524603997, "last_edit_date": 1524609483, "question_id": 50010720, "link": "https://stackoverflow.com/questions/50010720/android-app-crashing-after-i-put-in-a-seekbar-kotlin", "title": "Android app crashing after I put in a seekbar [kotlin]", "body": "<p>I am currently working on an android app for a school project. I have an activity, and I am trying to get a media player to work on it. I have a button to play and pause the media player, as well as a seekbar that follows along with the progress of the audio file currently playing. The user can also slide the seekbar to change the current point in the audio file.</p>\n\n<p>Right now, I can get the audio to play, and the seekbar working as well, but for some reason my app is now crashing whenever I leave the activity that has the media player and seekbar in it. This happens whether or not I click the button or use the seekbar.\nThe problem does appear to be caused by the seekbar, however, as when I comment out only the seekbar code, the app doesn't crash anymore. Here is the code I am using:</p>\n\n<pre><code>class DescriptionActivity : AppCompatActivity() {\n\n//audio variables\nprivate lateinit var audioPlayer: MediaPlayer\nprivate lateinit var audioSlider: SeekBar\nvar seekHandler = Handler()\nvar wasPlaying = false\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_description)\n\n    //creates the media player and slider objects\n    audioPlayer = MediaPlayer.create(this, R.raw.reitz1)\n    var time = 0\n    audioSlider = findViewById&lt;SeekBar&gt;(R.id.audioSeekBar)\n\n    //looks for when the seekbar is used\n    audioSlider.setOnSeekBarChangeListener(object : SeekBar.OnSeekBarChangeListener {\n        override fun onProgressChanged(seekBar: SeekBar, progress: Int, fromUser: Boolean) {\n            //Gets the length of the current audio file\n            seekBar.setMax(audioPlayer.getDuration() / 1000)\n\n            if(fromUser) {\n                audioPlayer.seekTo(progress * 1000)\n            }\n        }\n\n        override fun onStartTrackingTouch(seekBar: SeekBar) {\n            if (audioPlayer.isPlaying() == true) {\n                audioPlayer.pause()\n            }\n        }\n\n        override fun onStopTrackingTouch(seekBar: SeekBar) {\n            if (wasPlaying == true) {\n                audioPlayer.start()\n            }\n        }\n    })\n\n\n    seekUpdate()\n\n\n    val playButton = findViewById&lt;ImageButton&gt;(R.id.playAudio)\n    playButton.setOnClickListener {\n        audioPlayer.isLooping = false\n        if (audioPlayer.isPlaying() == true) {\n            playButton.setImageResource(R.drawable.ic_audio_play)\n            time = audioPlayer.getCurrentPosition()\n            audioPlayer.pause()\n            wasPlaying = false\n        } else if (audioPlayer.isPlaying() == false) {\n            playButton.setImageResource(R.drawable.ic_audio_pause)\n            audioPlayer.seekTo(time)\n            audioPlayer.start()\n            wasPlaying = true\n        }\n    }\n\n\n}\n\n\n\n\n//audio functions\nvar run:Runnable = object:Runnable {\n    public override fun run() {\n        seekUpdate()\n    }\n}\n\nfun seekUpdate() {\n    audioSlider.setProgress(audioPlayer.getCurrentPosition() / 1000)\n    seekHandler.postDelayed(run, 1000)\n}\n\n\noverride fun onDestroy() {\n    super.onDestroy()\n    audioPlayer.stop()\n    audioPlayer.release()\n}\n\n}\n</code></pre>\n\n<p>Any clue what the problem could be? Any help is appreciated, thanks!</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1524637504, "post_id": 50010586, "comment_id": 87046885, "body": "You need to include the error logs in your question. Perhaps the <code>intent</code> parameter needs to be <code>Intent?</code> rather than <code>Intent</code>."}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1524718740, "post_id": 50010586, "comment_id": 87086239, "body": "@Michael I added the error."}, {"owner": {"reputation": 1661, "user_id": 6041365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iBRSE.png?s=128&g=1", "display_name": "Upendra Shah", "link": "https://stackoverflow.com/users/6041365/upendra-shah"}, "edited": false, "score": 0, "creation_date": 1524766570, "post_id": 50010586, "comment_id": 87115242, "body": "have you set <code>setRingerMode(AudioManager.RINGER_MODE_NORMAL)</code> before setting <code>setStreamVolume</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 592, "user_id": 1572112, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6c284071ab43b57535f963138d04cc2b?s=128&d=identicon&r=PG", "display_name": "The EasyLearn Academy", "link": "https://stackoverflow.com/users/1572112/the-easylearn-academy"}, "edited": false, "score": 1, "creation_date": 1600747337, "post_id": 50035219, "comment_id": 113177106, "body": "above is solution for kotlin"}], "tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 1, "last_activity_date": 1524762138, "last_edit_date": 1524762138, "creation_date": 1524719306, "answer_id": 50035219, "question_id": 50010586, "link": "https://stackoverflow.com/questions/50010586/why-the-audiomanager-crash-at-ringermode-change/50035219#50035219", "title": "Why the AudioManager crash at RingerMode change?", "body": "<p>I found the answer, permission of <code>ACCESS_NOTIFICATION_POLICY</code> is required, in the manifest below line required:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NOTIFICATION_POLICY\" /&gt;\n</code></pre>\n\n<p>And the permission is granted from the <code>ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS</code> as below:</p>\n\n<pre><code>val notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !notificationManager.isNotificationPolicyAccessGranted) {\n\n        val intent = Intent(\n                android.provider.Settings\n                        .ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS)\n\n        startActivity(intent)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2200, "user_id": 316766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0ffcbae2c4c9c19e9d67def70da3ce65?s=128&d=identicon&r=PG", "display_name": "Jako", "link": "https://stackoverflow.com/users/316766/jako"}, "is_accepted": false, "score": 0, "last_activity_date": 1551168758, "creation_date": 1551168758, "answer_id": 54880968, "question_id": 50010586, "link": "https://stackoverflow.com/questions/50010586/why-the-audiomanager-crash-at-ringermode-change/54880968#54880968", "title": "Why the AudioManager crash at RingerMode change?", "body": "<p>This is the java version of the answer from <strong>Hasan</strong> (see the code below) even if Kotlin do it better! :)</p>\n\n<p>I found the answer, permission of <code>ACCESS_NOTIFICATION_POLICY</code> is required, in the manifest below line required:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NOTIFICATION_POLICY\" /&gt;\n</code></pre>\n\n<p>And the permission is granted from the <code>ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS</code> as below:</p>\n\n<pre><code>    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !notificationManager.isNotificationPolicyAccessGranted()) {\n        Intent intent = new Intent(android.provider.Settings.ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS);\n        startActivity(intent);\n    }\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2342, "favorite_count": 0, "accepted_answer_id": 50035219, "answer_count": 2, "score": 2, "last_activity_date": 1551168758, "creation_date": 1524603266, "last_edit_date": 1524718721, "question_id": 50010586, "link": "https://stackoverflow.com/questions/50010586/why-the-audiomanager-crash-at-ringermode-change", "title": "Why the AudioManager crash at RingerMode change?", "body": "<p>In my app, I already granted the permission for <code>PHONE_STATE</code> and it is detecting receiving/offhook/idle stats smoothly.</p>\n\n<p>I need the mobile to ring if the incoming call is from respecified number even if the mobile is silent, so i'm changing the <code>AudioManager</code> status as below, but the app is crash once it is trying to change the ringermode!!  </p>\n\n<pre><code>class PhoneStateReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n\n        val state = intent.getStringExtra(TelephonyManager.EXTRA_STATE)\n        val incomingNumber = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER)\n\n        val audio = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n        if (incomingNumber == \"(650) 555-1212\" &amp;&amp; state == TelephonyManager.EXTRA_STATE_RINGING) {\n            Toast.makeText(context, \"Ringing ${audio.ringerMode}\", Toast.LENGTH_SHORT).show()\n            if(audio.ringerMode == AudioManager.RINGER_MODE_SILENT)\n            audio.apply {    // The app crash here!!\n                ringerMode = AudioManager.RINGER_MODE_NORMAL\n                setStreamVolume(AudioManager.STREAM_RING,\n                        audio.getStreamMaxVolume(AudioManager.STREAM_RING),\n                        AudioManager.FLAG_ALLOW_RINGER_MODES or AudioManager.FLAG_PLAY_SOUND)\n            }\n            val ring = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE)\n            val r = RingtoneManager.getRingtone(context, ring)\n            r.play()\n        }\n        if (state == TelephonyManager.EXTRA_STATE_OFFHOOK) {\n             audio.ringerMode = AudioManager.RINGER_MODE_SILENT\n            Toast.makeText(context, \"On Call \", Toast.LENGTH_SHORT).show()\n        }\n        if (state == TelephonyManager.EXTRA_STATE_IDLE) {\n            Toast.makeText(context, \"IDLE\", Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n</code></pre>\n\n<p>And in <code>AndroidManifest.xml</code>:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n\n&lt;receiver\n    android:name=\".broadcasts.PhoneStateReceiver\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.PHONE_STATE\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt; \n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This is the Logcat error:</p>\n\n<blockquote>\n  <p>04-26 04:55:04.422 1406-2091/? W/audio_hw_generic: Not supplying\n  enough data to HAL, expected position 1097356 , only wrote 1097280\n  04-26 04:55:04.434 5065-5065/? D/AndroidRuntime: Shutting down VM\n  04-26 04:55:04.446 5065-5065/? E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.example.hasan.ringer, PID: 5065\n      java.lang.SecurityException: Not allowed to change Do Not Disturb state\n          at android.os.Parcel.createException(Parcel.java:1942)\n          at android.os.Parcel.readException(Parcel.java:1865)\n          at android.media.IAudioService$Stub$Proxy.setRingerModeExternal(IAudioService.java:1161)\n          at android.media.AudioManager.setRingerMode(AudioManager.java:1099)\n          at com.example.hasan.ringer.MainActivity$onCreate$1.onClick(MainActivity.kt:20)\n          at android.view.View.performClick(View.java:6579)\n          at android.view.View.performClickInternal(View.java:6556)\n          at android.view.View.access$3100(View.java:777)\n          at android.view.View$PerformClick.run(View.java:25660)\n          at android.os.Handler.handleCallback(Handler.java:819)\n          at android.os.Handler.dispatchMessage(Handler.java:99)\n          at android.os.Looper.loop(Looper.java:164)\n          at android.app.ActivityThread.main(ActivityThread.java:6656)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:823)\n       Caused by: android.os.RemoteException: Remote stack trace:\n          at com.android.server.audio.AudioService.setRingerModeExternal(AudioService.java:2333)\n          at android.media.IAudioService$Stub.onTransact(IAudioService.java:199)\n          at android.os.Binder.execTransact(Binder.java:726) 04-26 04:55:04.453 1680-4664/system_process W/ActivityManager:   Force\n  finishing activity com.example.hasan.ringer/.MainActivity</p>\n</blockquote>\n"}, {"tags": ["android", "webview", "kotlin"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9172697"}, "is_accepted": true, "score": 2, "last_activity_date": 1524655612, "creation_date": 1524655612, "answer_id": 50021114, "question_id": 50007514, "link": "https://stackoverflow.com/questions/50007514/android-display-image-from-storage-in-webview-using-html/50021114#50021114", "title": "Android: Display image from storage in webView using HTML", "body": "<p>you have to convert an image to a bitmap, and then you will be able to display the bitmap in Html:</p>\n\n<pre><code>var logoImage: String? = null\n    try {\n        val imageUri = Uri.parse(myStringPath)\n        var imageStream: InputStream?\n        imageStream = this.contentResolver.openInputStream(imageUri)\n        val selectedImage = BitmapFactory.decodeStream(imageStream)\n\n        // Convert bitmap to Base64 encoded image for web\n        val byteArrayOutputStream = ByteArrayOutputStream()\n        selectedImage.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream)\n        val byteArray = byteArrayOutputStream.toByteArray()\n\n        val imageBase64 = Base64.encodeToString(byteArray, Base64.DEFAULT)\n        logoImage = \"data:image/png;base64,$imageBase64\"\n    } catch (e: FileNotFoundException) {\n        println(\"Error: ${e.localizedMessage}, ${e.message}\")\n    }\n\n    str = str.replace(\"#LOGO#\", logoImage ?: \"\")\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9596315, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mickael Belhassen", "link": "https://stackoverflow.com/users/9596315/mickael-belhassen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 50021114, "answer_count": 1, "score": 3, "last_activity_date": 1524655612, "creation_date": 1524590372, "last_edit_date": 1524594857, "question_id": 50007514, "link": "https://stackoverflow.com/questions/50007514/android-display-image-from-storage-in-webview-using-html", "title": "Android: Display image from storage in webView using HTML", "body": "<p>I have a webview that displays html, and I have a URI image that does not want to be displayed here is my code:</p>\n\n<pre><code>&lt;td class=\"title\"&gt;\n       &lt;img src=\"#LOGO#\" style=\"width:15%; max-width:300px;\"/&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>str = str.replace(\"#LOGO#\", Uri.parse(myStringPath).toString())\n</code></pre>\n\n<p>The picture is not displayed</p>\n"}, {"tags": ["java", "android", "kotlin", "android-download-manager", "android-external-storage"], "comments": [{"owner": {"reputation": 1719, "user_id": 5518027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peF6a.jpg?s=128&g=1", "display_name": "Arpan Sarkar", "link": "https://stackoverflow.com/users/5518027/arpan-sarkar"}, "edited": false, "score": 0, "creation_date": 1524584026, "post_id": 50005493, "comment_id": 87027651, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35767923/caused-by-java-lang-illegalstateexception-unable-to-create-directory-in-androi\">Caused by: java.lang.IllegalStateException: Unable to create directory in Android 6.0 devices</a>"}, {"owner": {"reputation": 137, "user_id": 7036760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0dcfc3922cb90aea2d6e5178e24e8024?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/7036760/konrad"}, "reply_to_user": {"reputation": 1719, "user_id": 5518027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peF6a.jpg?s=128&g=1", "display_name": "Arpan Sarkar", "link": "https://stackoverflow.com/users/5518027/arpan-sarkar"}, "edited": false, "score": 0, "creation_date": 1524584526, "post_id": 50005493, "comment_id": 87028034, "body": "@Arpan&#223;l&#248;&#248;dy&#223;ad&#223;&#248;y But I have both read and write permissions for the external storage (with permission a permission test that returns true)"}, {"owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 0, "creation_date": 1524586484, "post_id": 50005493, "comment_id": 87029323, "body": "@Konrad You&#39;ve requested the permissions at runtime?"}, {"owner": {"reputation": 137, "user_id": 7036760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0dcfc3922cb90aea2d6e5178e24e8024?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/7036760/konrad"}, "reply_to_user": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 0, "creation_date": 1524586574, "post_id": 50005493, "comment_id": 87029385, "body": "@earthw0rmjim Exactly: When checking it returns true (WRITE &amp; READ)"}], "owner": {"reputation": 137, "user_id": 7036760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0dcfc3922cb90aea2d6e5178e24e8024?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/7036760/konrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1524584512, "creation_date": 1524583650, "last_edit_date": 1524584512, "question_id": 50005493, "link": "https://stackoverflow.com/questions/50005493/android-downloadmanager-unable-to-create-directory-storage-sdcard-download", "title": "Android DownloadManager &quot;Unable to create directory: /storage/sdcard/Download&quot;", "body": "<p>When trying to download a file with <strong>DownloadManager</strong> in Android sdk 22 I get this error:</p>\n\n<pre><code>java.lang.IllegalStateException: Unable to create directory: /storage/sdcard/Download\n        at android.app.DownloadManager$Request.setDestinationInExternalPublicDir(DownloadManager.java:538)\n</code></pre>\n\n<p>The app already has the permission <code>WRITE_EXTERNAL_STORAGE</code> and when checking for it it returns <strong>true</strong></p>\n\n<p>It also works when using an emulator with sdk version 25</p>\n\n<pre><code>val downloadManager = context.getSystemService(DOWNLOAD_SERVICE) as DownloadManager\nval request = DownloadManager.Request(Uri.parse(\"https://xxxxxx.xx/public/App/xxx.apk\"))\nrequest.setDescription(context.getString(R.string.downloading_description)).setTitle(context.getString(R.string.app_name))\nrequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, \"update.apk\")\ndownloadManager.enqueue(request)\ncontext.registerReceiver(onComplete, IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE))\n</code></pre>\n\n<p>This code works on sdk 25</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "google-places-api"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 1, "creation_date": 1524580092, "post_id": 50004021, "comment_id": 87024718, "body": "According to the docs for PlaceFilter, the second parameter is the ID (see <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/places/PlaceFilter\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a> ). So apparently, you won&#39;t be able to filter by type using this method (see what IDs look like here : <a href=\"https://developers.google.com/places/android-api/place-id\" rel=\"nofollow noreferrer\">developers.google.com/places/android-api/place-id</a> ). So the best way could be to ask for all the places in the area, and filter yourself based on place.getPlaceTypes()"}, {"owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 1, "creation_date": 1524580858, "post_id": 50004021, "comment_id": 87025296, "body": "Thanks, your a life saver!  Not knowing it&#39;s time to give up is dangerous."}], "owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1524579519, "creation_date": 1524579519, "question_id": 50004021, "link": "https://stackoverflow.com/questions/50004021/filter-places-by-type-using-placefilter-with-google-places-api", "title": "Filter places by type using PlaceFilter() with Google Places API", "body": "<p>I can't find any examples of PlaceFilter in use.\nPerhaps you should not use it at all?\nThis is what I've tried so far.</p>\n\n<pre><code>val placeFilter = PlaceFilter(false, mutableListOf(\"restaurant\"))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val placeFilter = PlaceFilter(false, mutableListOf(Place.TYPE_RESTAURANT.toString()))\n</code></pre>\n\n<p>then I pass it to</p>\n\n<pre><code>val placeResults = mPlaceDetectionClient.getCurrentPlace(placeFilter)\n</code></pre>\n\n<p>and get no result in my </p>\n\n<pre><code>placeResults.onCompleteListener{}\n</code></pre>\n\n<p>How do i use filters correctly?\nShould I use it at all?\nMy app rates restaurants and all other places are redundant to the user.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 1, "creation_date": 1524579704, "post_id": 50004010, "comment_id": 87024453, "body": "is the requirement for every 15 min really important? Is the data you send really useful even when the tablet is not in use?"}, {"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "edited": false, "score": 0, "creation_date": 1524580077, "post_id": 50004010, "comment_id": 87024704, "body": "you should probably read this <a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby.html\" rel=\"nofollow noreferrer\">developer.android.com/training/monitoring-device-state/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 7454926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHn1N.jpg?s=128&g=1", "display_name": "Vincent Chann", "link": "https://stackoverflow.com/users/7454926/vincent-chann"}, "edited": false, "score": 1, "creation_date": 1532955225, "post_id": 50006943, "comment_id": 90154551, "body": "Best practice IS NOT to wake up your phone any time you need to do something.  The best practice is to wait for the phone periodic exit of doze mode AND THEN execute all your work during that small amount of time for best battery consumption.  That is what android jobs are for, cf : <a href=\"https://github.com/evernote/android-job\" rel=\"nofollow noreferrer\">github.com/evernote/android-job</a>"}], "tags": [], "owner": {"reputation": 454, "user_id": 5746245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BH8HSVe1TZg/AAAAAAAAAAI/AAAAAAAAACA/aB256UMXdWg/photo.jpg?sz=128", "display_name": "Vijay Makwana", "link": "https://stackoverflow.com/users/5746245/vijay-makwana"}, "is_accepted": false, "score": 0, "last_activity_date": 1524588202, "creation_date": 1524588202, "answer_id": 50006943, "question_id": 50004010, "link": "https://stackoverflow.com/questions/50004010/android-fail-retrofit-http-call-in-deep-sleep-mode/50006943#50006943", "title": "Android fail retrofit http call in deep sleep mode", "body": "<p><em>I think you should read about this</em></p>\n\n<p><strong>Doze Mode</strong> <strong>Starting from Android 6.0 (API level 23)</strong></p>\n\n<blockquote>\n  <p>If a user leaves a device unplugged and stationary for a period of\n  time, with the screen off, the device enters Doze mode. In Doze mode,\n  the system attempts to conserve battery by restricting apps' access to\n  network and CPU-intensive services. It also prevents apps from\n  accessing the network and defers their jobs, syncs, and standard\n  alarms.</p>\n  \n  <p>Periodically, the system exits Doze for a brief time to let apps\n  complete their deferred activities. During this maintenance window,\n  the system runs all pending syncs, jobs, and alarms, and lets apps\n  access the network.</p>\n</blockquote>\n\n<p>For more info read this:\n<a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby.html\" rel=\"nofollow noreferrer\">Optimizing for Doze and App Standby</a></p>\n\n<p>so you need to wake up your phone when you need to perform your task like sending notification or some...</p>\n"}, {"comments": [{"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "edited": false, "score": 0, "creation_date": 1560350577, "post_id": 50173913, "comment_id": 99709111, "body": "Thank you, your post helped me to find WorkManager <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/workmanag&zwnj;&#8203;er</a>"}], "tags": [], "owner": {"reputation": 104, "user_id": 7454926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHn1N.jpg?s=128&g=1", "display_name": "Vincent Chann", "link": "https://stackoverflow.com/users/7454926/vincent-chann"}, "is_accepted": true, "score": 2, "last_activity_date": 1525433508, "creation_date": 1525433508, "answer_id": 50173913, "question_id": 50004010, "link": "https://stackoverflow.com/questions/50004010/android-fail-retrofit-http-call-in-deep-sleep-mode/50173913#50173913", "title": "Android fail retrofit http call in deep sleep mode", "body": "<p>To solve this problem you must use evernote library : <a href=\"https://github.com/evernote/android-job\" rel=\"nofollow noreferrer\">https://github.com/evernote/android-job</a></p>\n\n<p><strong>In fact, \"doze mode\" block access to network in deep sleep and wake up at periodic time to let network access open.</strong><br>\nThis library helped me catch those holy periodic window with network to send my server logs.</p>\n\n<p>Just follow the tutorial in readme to configure this feature.</p>\n"}], "owner": {"reputation": 104, "user_id": 7454926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHn1N.jpg?s=128&g=1", "display_name": "Vincent Chann", "link": "https://stackoverflow.com/users/7454926/vincent-chann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "accepted_answer_id": 50173913, "answer_count": 2, "score": 3, "last_activity_date": 1525433508, "creation_date": 1524579478, "question_id": 50004010, "link": "https://stackoverflow.com/questions/50004010/android-fail-retrofit-http-call-in-deep-sleep-mode", "title": "Android fail retrofit http call in deep sleep mode", "body": "<p>I have a <strong>galaxy tabA tablet on Android 7.0</strong> and I use <strong>Retrofit 2</strong> to send http call to my server every 15 minutes to log information about the tablet. My tablet enter in \"<strong>deep sleep</strong>\" mode when it is not charging for more than 5 minutes with screen off.<br>\nDuring this deep sleep mode, none of my calls can reach my server and I receive a \"connection timeout error\".</p>\n\n<p>Does someone has a better understanding of \"<strong>deep sleep</strong>\" mode and explain here what is the best way to achieve my behavior (send logs every 15 minutes h24/24) ?</p>\n\n<p>Can someone explain if it is a retrofit bug or an Android feature or something else ?</p>\n"}, {"tags": ["android", "kotlin", "android-tabhost", "fragment-tab-host"], "answers": [{"tags": [], "owner": {"reputation": 12492, "user_id": 1613867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06bf2dd010ad3df73fb77fe9d3a33f2e?s=128&d=identicon&r=PG", "display_name": "dan", "link": "https://stackoverflow.com/users/1613867/dan"}, "is_accepted": true, "score": 0, "last_activity_date": 1524579520, "creation_date": 1524579520, "answer_id": 50004022, "question_id": 50003740, "link": "https://stackoverflow.com/questions/50003740/how-can-i-pass-a-variable-from-my-adapter-to-a-fragment-i-instantiate-in-kotlin/50004022#50004022", "title": "How can i pass a variable from my adapter to a fragment i instantiate in Kotlin", "body": "<p>The <a href=\"https://developer.android.com/reference/android/support/v4/app/FragmentPagerAdapter.html\" rel=\"nofollow noreferrer\">FragmentPagerAdapter</a> is not having the <code>setArguments</code> method. The adapter is only holding the fragments. The <a href=\"https://developer.android.com/guide/components/fragments.html\" rel=\"nofollow noreferrer\">fragments</a> are having the <code>setArguments</code> method.</p>\n\n<p>In your <code>TabHostAdapter</code> you can set the value <code>activityID</code> to the desired fragment (<code>FirstFragment</code> or <code>SecondFragment</code>) using the <code>setArguments</code> method. Something like the following, in your <code>getItem</code> method, before returning the fragment:</p>\n\n<pre><code>val fragment = FirstFragment()\nval args = Bundle()\nargs.putInt(\"activityID\", activityID)\nfragment.setArguments(args)    \n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9652265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767124816659589/picture?type=large", "display_name": "Nicolas Felten", "link": "https://stackoverflow.com/users/9652265/nicolas-felten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 50004022, "answer_count": 1, "score": 2, "last_activity_date": 1524579520, "creation_date": 1524578702, "last_edit_date": 1524578886, "question_id": 50003740, "link": "https://stackoverflow.com/questions/50003740/how-can-i-pass-a-variable-from-my-adapter-to-a-fragment-i-instantiate-in-kotlin", "title": "How can i pass a variable from my adapter to a fragment i instantiate in Kotlin", "body": "<p>I followed a tutorial on getting started with tabhost and fragments, there is the link: <a href=\"https://medium.com/@eijaz/getting-started-with-tablayout-in-android-kotlin-bb7e21783761\" rel=\"nofollow noreferrer\">https://medium.com/@eijaz/getting-started-with-tablayout-in-android-kotlin-bb7e21783761</a></p>\n\n<p>But I got a problem, I want to send a value activityID to a fragment that my tabhost contains and I don't know how to do it.</p>\n\n<p>I found on the internet that there is a method setArgument but no one of my objects contains this method. </p>\n\n<p>Did I do something wrong ? Or could someone explain to me how to send my value from my ActivityTabHost to my fragment?</p>\n\n<p>This is my ActivityTabHost.kt</p>\n\n<pre><code>import android.os.Bundle\nimport training.gutai.apps.gutai.R\nimport kotlinx.android.synthetic.main.activity_tabhost.*\nimport android.support.v7.app.AppCompatActivity\nimport android.util.Log\nimport training.gutai.apps.gutai.models.TabHostAdapter\n\n\nclass ActivityTabHost : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_tabhost)\n\n        val activityID = intent.extras.getInt(\"id\")\n        Log.d(\"Id\", activityID.toString())\n        val fragmentAdapter = TabHostAdapter(supportFragmentManager, activityID)\n        viewpager_main.adapter = fragmentAdapter\n        tabs_main.setupWithViewPager(viewpager_main)\n    }\n}\n</code></pre>\n\n<p>And this is my TabHostAdapter.kt :</p>\n\n<pre><code>import android.support.v4.app.Fragment\nimport android.support.v4.app.FragmentManager\nimport android.support.v4.app.FragmentPagerAdapter\nimport training.gutai.apps.gutai.viewControllers.FirstFragment\nimport training.gutai.apps.gutai.viewControllers.SecondFragment\n\nclass TabHostAdapter(fm: FragmentManager, activityID : Int) :         FragmentPagerAdapter(fm) {\n\n    val fm : FragmentManager = fm\n\n    override fun getItem(position: Int): Fragment {\n        return when (position) {\n            0 -&gt; {\n                FirstFragment()\n            }\n            else -&gt; {\n                SecondFragment()\n            }\n        }\n    }\n\n    override fun getCount(): Int {\n        return 2\n    }\n\n    override fun getPageTitle(position: Int): CharSequence {\n        return when (position) {\n            0 -&gt; \"First Tab\"\n            else -&gt; \"Second Tab\"\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["collections", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 977, "user_id": 1041722, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/OXuJe.jpg?s=128&g=1", "display_name": "Saskia", "link": "https://stackoverflow.com/users/1041722/saskia"}, "is_accepted": false, "score": 0, "last_activity_date": 1524578959, "creation_date": 1524578959, "answer_id": 50003822, "question_id": 50003365, "link": "https://stackoverflow.com/questions/50003365/are-these-functions-in-the-kotlin-collections-standard-library-duplicated-or-do/50003822#50003822", "title": "Are these functions in the Kotlin Collections standard library duplicated, or do they have subtle differences?", "body": "<h2>none and any</h2>\n\n<p>functions like <code>none()</code> or <code>any()</code> are mostly used with a predicate function to test if <em>any</em> element matches the predicate or <em>none</em> respectively.</p>\n\n<p>I assume the methods without are there for consistency reasons. </p>\n\n<h2>operator keyword</h2>\n\n<p>The operator keyword shows you that this function implements an operator. Here the <code>+</code> operator so you can use the plus-sign to add elements to any Iterator and return a new List, whereas you have to use the method <code>plusElement</code> by name to add elements to the iterable/list.</p>\n\n<pre><code>val listOfFour = listOf(1,2,3) + 4\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/operator-overloading.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1524578985, "creation_date": 1524578985, "answer_id": 50003831, "question_id": 50003365, "link": "https://stackoverflow.com/questions/50003365/are-these-functions-in-the-kotlin-collections-standard-library-duplicated-or-do/50003831#50003831", "title": "Are these functions in the Kotlin Collections standard library duplicated, or do they have subtle differences?", "body": "<p>Here's an <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.40/libraries/stdlib/src/generated/_Collections.kt#L1707\" rel=\"nofollow noreferrer\">implementation of <code>Iterable&lt;T&gt;.none()</code></a>:</p>\n\n<pre><code>public fun &lt;T&gt; Iterable&lt;T&gt;.none(): Boolean {\n    if (this is Collection) return isEmpty()\n    return !iterator().hasNext()\n}\n</code></pre>\n\n<p>As you may notice, it calls <code>Collection&lt;T&gt;.isEmpty()</code> if the implementation is a <code>Collection</code>.</p>\n\n<p>The difference in the semantics is that <code>none()</code> can try to iterate over the container to find out that it has no elements (i.e. it just uses <code>iterator()</code>), while <code>isEmpty()</code> is provided with custom implementation in the concrete <code>Collection</code> subtypes.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 9229374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43b1bec8bca20aa243c9e722aa8d136?s=128&d=identicon&r=PG&f=1", "display_name": "Mattias", "link": "https://stackoverflow.com/users/9229374/mattias"}, "edited": false, "score": 0, "creation_date": 1524639268, "post_id": 50003878, "comment_id": 87047881, "body": "2 - I guess I still don&#39;t understand the reason for having two different functions. If you only had the operator overloading one, you could still choose to call it like      val newIterable = iterable + &quot;newItem&quot; or     val newIterable = iterable.plus(&quot;newItem&quot;)  so what is the purpose of the second function plusElement()?"}], "tags": [], "owner": {"reputation": 496, "user_id": 4350835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6QKO.jpg?s=128&g=1", "display_name": "Leonardo Lima", "link": "https://stackoverflow.com/users/4350835/leonardo-lima"}, "is_accepted": true, "score": 1, "last_activity_date": 1524579119, "creation_date": 1524579119, "answer_id": 50003878, "question_id": 50003365, "link": "https://stackoverflow.com/questions/50003365/are-these-functions-in-the-kotlin-collections-standard-library-duplicated-or-do/50003878#50003878", "title": "Are these functions in the Kotlin Collections standard library duplicated, or do they have subtle differences?", "body": "<p>1 - Not every <code>Iterable</code> is a <code>Collection</code>. If you look at <code>none()</code> implementation, you'll see that when used in a collection instance, it actually calls <code>Collection.isEmpty</code>:</p>\n\n<pre><code>/**\n * Returns `true` if the collection has no elements.\n */\npublic fun &lt;T&gt; Iterable&lt;T&gt;.none(): Boolean {\n    if (this is Collection) return isEmpty()\n    return !iterator().hasNext()\n}\n</code></pre>\n\n<p>2 - Is <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">operator overloading</a>. <code>operator fun &lt;T&gt; Iterable&lt;T&gt;.plus(element: T): List&lt;T&gt;</code> is adding the <code>+</code> operator to <code>Iterable</code>, so you can do:</p>\n\n<pre><code>val iterable: Iterable&lt;String&gt; = ...\nval newIterable = iterable + \"newItem\"\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 9229374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43b1bec8bca20aa243c9e722aa8d136?s=128&d=identicon&r=PG&f=1", "display_name": "Mattias", "link": "https://stackoverflow.com/users/9229374/mattias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 50003878, "answer_count": 3, "score": 1, "last_activity_date": 1524579119, "creation_date": 1524577702, "question_id": 50003365, "link": "https://stackoverflow.com/questions/50003365/are-these-functions-in-the-kotlin-collections-standard-library-duplicated-or-do", "title": "Are these functions in the Kotlin Collections standard library duplicated, or do they have subtle differences?", "body": "<p>I'm wondering if there is any difference at all between the functions</p>\n\n<pre><code>// Returns true if the collection is empty\nfun &lt;T&gt; Collection&lt;T&gt;.isEmpty(): Boolean\n</code></pre>\n\n<p>and</p>\n\n<pre><code>// Returns true if the collection has no elements\nfun &lt;T&gt; Iterable&lt;T&gt;.none(): Boolean\n</code></pre>\n\n<p>Are there any subtle differences between these two? For example that a Collection containing nulls can be considered empty, or that Collection/Iterable makes a difference? How would calling these two functions on for example a List be different? Would any of these two be different from calling</p>\n\n<pre><code>!list.any()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>list.size() == 0\n</code></pre>\n\n<p>I'm also wondering if there is any difference between the two functions</p>\n\n<pre><code>operator fun &lt;T&gt; Iterable&lt;T&gt;.plus(element:\u00a0T): List&lt;T&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>fun &lt;T&gt; Iterable&lt;T&gt;.plusElement(element:\u00a0T): List&lt;T&gt;\n</code></pre>\n\n<p>If not, what's the reason for all the duplicity?</p>\n"}, {"tags": ["javascript", "android", "kotlin"], "comments": [{"owner": {"reputation": 454, "user_id": 5746245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BH8HSVe1TZg/AAAAAAAAAAI/AAAAAAAAACA/aB256UMXdWg/photo.jpg?sz=128", "display_name": "Vijay Makwana", "link": "https://stackoverflow.com/users/5746245/vijay-makwana"}, "edited": false, "score": 0, "creation_date": 1524589016, "post_id": 50003118, "comment_id": 87030735, "body": "This is your update service right? and you pass only custId in it like &quot;getEditCustomerProspect(custID)&quot; not all which you want to update"}, {"owner": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "reply_to_user": {"reputation": 454, "user_id": 5746245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BH8HSVe1TZg/AAAAAAAAAAI/AAAAAAAAACA/aB256UMXdWg/photo.jpg?sz=128", "display_name": "Vijay Makwana", "link": "https://stackoverflow.com/users/5746245/vijay-makwana"}, "edited": false, "score": 0, "creation_date": 1524622729, "post_id": 50003118, "comment_id": 87042569, "body": "thank you sir its solved :) @VijayMakwana"}], "owner": {"reputation": 303, "user_id": 8481417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07af5a9aa657722642ff4affc11c4e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Ratri", "link": "https://stackoverflow.com/users/8481417/ratri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524577034, "creation_date": 1524577034, "question_id": 50003118, "link": "https://stackoverflow.com/questions/50003118/update-data-in-database-succes-but-null", "title": "update data in database succes but null", "body": "<p>i have a kotlin file to update data like this </p>\n\n<pre><code>fun editCustomer() {\n    val progressDialog = ProgressDialog(activity)\n    progressDialog.setMessage(\"Saving...\")\n    progressDialog.show()\n    android.os.Handler().postDelayed({\n        val editSwitch = EditSwitch()\n\n        val custID = activity.intent.getStringExtra(ID_CUSTOMER_PROSPECT)\n\n        editSwitch.id = custID\n        editSwitch.assignedTo = \"hehehehe\"\n        editSwitch.salesmanId = \"hehehehe\"\n\n        API.getEditCustomerProspect(custID).enqueue(object : Callback&lt;EditSwitch&gt; {\n            override fun onResponse(call: Call&lt;EditSwitch&gt;, response: Response&lt;EditSwitch&gt;) {\n                Log.i(\"bebet\", \"onResponse: \" + response.body()!!.id)\n                if (response.code() == 200) {\n                    Toast.makeText(activity, \"Success\", Toast.LENGTH_SHORT).show()\n                }\n            }\n\n            override fun onFailure(call: Call&lt;EditSwitch&gt;, t: Throwable) {\n                Toast.makeText(activity, \"Failed\", Toast.LENGTH_SHORT).show()\n            }\n        })\n\n        progressDialog.dismiss()\n        activity.finish()\n    }, 2000)\n\n}\n</code></pre>\n\n<p>and i have a webservice using node js like this</p>\n\n<pre><code>this.put = function(req,res,next) {\nvar id = req.query.id;\nvar assigned_to = req.body.assigned_to;\nvar salesman_id = req.body.salesman_id;\nvar modified_at = new Date();\n\nconnection.acquire(function(err,con,result,fields){\n   if (err) throw err;\n     con.query('UPDATE customer_prospect SET salesman_id = ?, assigned_to = ?, modified = ? WHERE id = \"'+id+'\"', [assigned_to, assigned_to, modified_at], function(err,results,fields){\n       con.release();\n      connection.acquire(function(err,con){\n        con.query('SELECT * FROM customer_prospect where id = \"'+id+'\" ',[id], function(err,results,fields){\n            con.release();\n            res.json(results[0]);\n\n        })\n      })\n   });\n});\n\n};\n</code></pre>\n\n<p>when i try check my query using postman is successfully update, but when I update in android is shown success but the data in database become null, what should i do?</p>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1524586218, "post_id": 50002965, "comment_id": 87029137, "body": "So basically what is the problem, you are trying ti use <code>hostList</code> outside the <code>onDataChange</code> function and is empty?"}, {"owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1524636752, "post_id": 50002965, "comment_id": 87046486, "body": "Yes, this is the main problem. I cannot use this list outside the <code>onDataChanged</code> since I don&#39;t know if the data are fetched completely or not."}], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1524733536, "last_edit_date": 1524733536, "creation_date": 1524641560, "answer_id": 50016493, "question_id": 50002965, "link": "https://stackoverflow.com/questions/50002965/firebase-querying-complete-event/50016493#50016493", "title": "Firebase querying complete event", "body": "<p>This is happening because the <code>onDataChange()</code> functions has an asynchronous behaviour which means that is called even before you are trying to add those objects to the <code>hostList</code>. With other words, by the time you are trying to use the list outside <code>onDataChange()</code> function, the data hasn't finished loading yet from the database and that's why the list is always empty.</p>\n\n<p>You can solve this problem in two ways. One way would be to declare and use the list only inside the <code>onDataChange()</code> function like this:</p>\n\n<pre><code>ratingQuery?.addListenerForSingleValueEvent(object : ValueEventListener {\n    override fun onCancelled(databaseError: DatabaseError) {}\n\n    override fun onDataChange(dataSnapshot: DataSnapshot) {\n        val hostList = mutableListOf&lt;Class&gt;()\n        host?.myRating = if (dataSnapshot.value == null) 0 else (dataSnapshot.value as Long).toInt()\n        hostList.add(host!!)\n        //Do what you want with your list\n    }\n})\n</code></pre>\n\n<p>The second approach would be to create your own callback to wait for Firebase to return you the data and for that I recommend you see the last part of my anwser from this <strong><a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">post</a></strong> and also take a look at this <strong><a href=\"https://www.youtube.com/watch?v=OvDZVV5CbQg\" rel=\"nofollow noreferrer\">video</a></strong>. The answer is written in Java but is simmilar for Kotlin.</p>\n"}], "owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 599, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524733536, "creation_date": 1524576612, "last_edit_date": 1524585177, "question_id": 50002965, "link": "https://stackoverflow.com/questions/50002965/firebase-querying-complete-event", "title": "Firebase querying complete event", "body": "<p>First of all I'm new to Firebase Database. What I need to do is I have some calls to do, to fetch some data. I'm able to get those data like this.</p>\n\n<pre><code> val query = mDatabaseReference\n            ?.child(\"Node1\")\n            ?.child(\"Node1_id\")\n\n    val hostList = mutableListOf&lt;Class&gt;()\n\n    query?.addListenerForSingleValueEvent(object : ValueEventListener {\n        override fun onCancelled(databaseError: DatabaseError) {}\n\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n\n            dataSnapshot.children.forEach({ node1Details -&gt;\n                val hostDetailsQuery = mDatabaseReference\n                        ?.child(\"Node1Details\")\n                        ?.child(node1Details.key)\n\n\n                hostDetailsQuery?.addListenerForSingleValueEvent(object : ValueEventListener {\n                    override fun onCancelled(databaseError: DatabaseError) {\n\n                    }\n\n                    override fun onDataChange(dataSnapshot: DataSnapshot) {\n\n                        val host = dataSnapshot.getValue(MyClass::class.java)\n\n                        val ratingQuery = mDatabaseReference\n                                ?.child(\"Rating\")\n                                ?.child(node1Details.key)\n                                ?.child(id)\n\n                        ratingQuery?.addListenerForSingleValueEvent(object : ValueEventListener {\n                            override fun onCancelled(databaseError: DatabaseError) {\n\n                            }\n\n                            override fun onDataChange(dataSnapshot: DataSnapshot) {\n\n                                host?.myRating = if (dataSnapshot.value == null) 0 else (dataSnapshot.value as Long).toInt()\n\n                                hostList.add(host!!)\n\n                            }\n                        })\n                    }\n                })\n            })\n        }\n    })\n</code></pre>\n\n<p>What I don't know how to solve is waiting until all calls are finished to call a specific method. </p>\n\n<p>Hope I was clear, and hope someone can help me out.</p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["kotlin", "spring-webflux", "project-reactor", "arrow-kt"], "answers": [{"tags": [], "owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "is_accepted": true, "score": 2, "last_activity_date": 1524571625, "creation_date": 1524571625, "answer_id": 50001272, "question_id": 50000461, "link": "https://stackoverflow.com/questions/50000461/transforming-a-spring-webflux-mono-to-an-either-preferably-without-blocking/50001272#50001272", "title": "Transforming a Spring Webflux Mono to an Either, preferably without blocking?", "body": "<p>I'm not really familiar with that Arrow library nor the typical use case for it, so I'll use Java snippets to make my point here.</p>\n\n<p>First I'd like first to point that this type seems to be blocking and not lazy (unlike <code>Mono</code>). Translating a <code>Mono</code> to that type means that you'll make your code blocking and that you shouldn't do that, for example, in the middle of a Controller handler or you will block your whole server.</p>\n\n<p>This is more or less the equivalent of this:</p>\n\n<pre><code>Mono&lt;ClientResponse&gt; response = webClient.get().uri(\"/\").exchange();\n// blocking; return the response or throws an exception\nClientResponse blockingResponse = response.block();\n</code></pre>\n\n<p>That being said, I think you should be able to convert a <code>Mono</code> to that type by either calling <code>block()</code> on it and a <code>try/catch</code> block around it, or turning it first into a <code>CompletableFuture</code> first, like:  </p>\n\n<pre><code>Mono&lt;ClientResponse&gt; response = webClient.get().uri(\"/\").exchange();\nEither&lt;Throwable, ClientResponse&gt; either = response\n        .toFuture()\n        .handle((resp, t) -&gt; Either.fold(t, resp))\n        .get();\n</code></pre>\n\n<p>There might be better ways to do that (especially with inline functions), but they all should involve blocking on the <code>Mono</code> in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "is_accepted": false, "score": 4, "last_activity_date": 1524651600, "creation_date": 1524651600, "answer_id": 50019767, "question_id": 50000461, "link": "https://stackoverflow.com/questions/50000461/transforming-a-spring-webflux-mono-to-an-either-preferably-without-blocking/50019767#50019767", "title": "Transforming a Spring Webflux Mono to an Either, preferably without blocking?", "body": "<p>There is no <code>fold</code> method on <code>Mono</code> but you can achieve the same using two methods: <code>map</code> and <code>onErrorResume</code>. It would go something like this:</p>\n\n<pre><code>val either : Either&lt;Throwable, ClientResponse&gt; = \n               webClient().post()\n                          .exchange()\n                          .map { Either.right(it) }\n                          .onErrorResume { Either.left(it).toMono() }\n</code></pre>\n"}], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1612, "favorite_count": 0, "accepted_answer_id": 50001272, "answer_count": 2, "score": 3, "last_activity_date": 1551622598, "creation_date": 1524569026, "last_edit_date": 1551622598, "question_id": 50000461, "link": "https://stackoverflow.com/questions/50000461/transforming-a-spring-webflux-mono-to-an-either-preferably-without-blocking", "title": "Transforming a Spring Webflux Mono to an Either, preferably without blocking?", "body": "<p>I'm using Kotlin and <a href=\"http://arrow-kt.io/\" rel=\"nofollow noreferrer\">Arrow</a> and the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-client\" rel=\"nofollow noreferrer\">WebClient</a> from <code>spring-webflux</code>. What I'd like to do is to transform a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">Mono</a> instance to an <a href=\"http://arrow-kt.io/docs/datatypes/either/\" rel=\"nofollow noreferrer\">Either</a>. </p>\n\n<p>The <code>Either</code> instance is created by calling <code>Either.right(..)</code> when the response of the <code>WebClient</code> is successful or <code>Either.left(..)</code> when <code>WebClient</code> returns an error. </p>\n\n<p>What I'm looking for is a method in <code>Mono</code> similar to <a href=\"https://github.com/arrow-kt/arrow/blob/ee18d155ca24f378224520f8131db7ef72bb587c/modules/core/arrow-core/src/main/kotlin/arrow/core/Either.kt#L52\" rel=\"nofollow noreferrer\">Either.fold(..)</a> where I can map over the successful and erroneous result and return a different type than a <code>Mono</code>. Something like this (pseudo-code which doesn't work):</p>\n\n<pre><code>val either : Either&lt;Throwable, ClientResponse&gt; = \n                   webClient().post().exchange()\n                                .fold({ throwable -&gt; Either.left(throwable) },\n                                      { response -&gt; Either.right(response)})\n</code></pre>\n\n<p>How should one go about?</p>\n"}, {"tags": ["kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "is_accepted": true, "score": 1, "last_activity_date": 1607248343, "creation_date": 1607248343, "answer_id": 65166711, "question_id": 50000345, "link": "https://stackoverflow.com/questions/50000345/mock-auto-generated-setter-in-kotlin-with-mockito/65166711#65166711", "title": "Mock auto-generated setter in Kotlin with Mockito", "body": "<p>took a while, but I found something working. The trick was to <em>swap</em> the <code>whenever</code> and the <code>doAnswer</code>.\nFor example I can extract the passed-in Int when the setter is called.\nworking solution:</p>\n<h2>source code:</h2>\n<pre><code>interface IRegisters {\n var sp: Int\n}\n\n</code></pre>\n<h2>mock in tests:</h2>\n<pre><code>\nval mockIRegister = mock&lt;IRegister&gt;()\nvar lastSp: Int? = null\ndoAnswer { invocation -&gt; \n lastSp = invocation.getArgument(0) as? Int\n}\n .whenever(mockIRegister)\n .sp = anyInt()\n</code></pre>\n"}], "owner": {"reputation": 450, "user_id": 5039499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21aab8badf53454e50c305342b8263e0?s=128&d=identicon&r=PG", "display_name": "S_Luis", "link": "https://stackoverflow.com/users/5039499/s-luis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 65166711, "answer_count": 1, "score": 2, "last_activity_date": 1607248343, "creation_date": 1524568669, "question_id": 50000345, "link": "https://stackoverflow.com/questions/50000345/mock-auto-generated-setter-in-kotlin-with-mockito", "title": "Mock auto-generated setter in Kotlin with Mockito", "body": "<p>Let's say I have the following interface:</p>\n\n<pre><code>internal interface IRegisters {\n    var i: Short\n    var pc: Int\n    var sp: Int\n}\n</code></pre>\n\n<p>Now, when I compile that interface, the public fields are replaced by getters and setters. I suppose that the final result is not exactly this, but let's assume it is for simplicity sake:</p>\n\n<pre><code>internal interface IRegisters {\n    fun getI(): Short\n    fun setI(value: Short)\n    fun getPc(): Int\n    fun setPc(value: Int)\n    fun getSp(): Int\n    fun setSp(value: Int)\n}\n</code></pre>\n\n<p>My problem is: with Mockito, I can mock the getter part the following way:</p>\n\n<pre><code>Mockito.`when`(registersMock.sp).thenReturn(16)\n</code></pre>\n\n<p>Which I suppose is replaced behind the scenes at some point in the compiling process for something like this:</p>\n\n<pre><code>Mockito.`when`(registersMock.getSp()).thenReturn(16)\n</code></pre>\n\n<p>I verified that this is in fact correct replacing the <code>.thenReturn</code> part for a <code>.thenAnswer</code>. The <code>invocation.method</code> while calling to the <code>answer</code> method of the answer was, indeed, <code>getSp</code>.</p>\n\n<p>My question is: how do I mock (if it is even possible) the <code>set</code> counterpart?</p>\n\n<p>I have tried this:</p>\n\n<pre><code>Mockito.`when`(registersMock.sp = ArgumentMatchers.anyInt()).then...\n</code></pre>\n\n<p>But it tells me that <em>assignments are not expressions, and only expressions are allowed in this context</em>. And, because the <code>setSp(value: Int)</code> doesn't exist yet, I can't do the following either:</p>\n\n<pre><code>Mockito.`when`(registersMock.setSp(ArgumentMatchers.anyInt())).then...\n</code></pre>\n\n<p>...as it gives a <em>unresolved reference</em> error (which is reasonable, as the behavior is consistent if I try the <code>getSp()</code> counterpart).</p>\n\n<p>This is specially infuriating because I can <strong>verify</strong> the <code>setSp</code> method using the <code>=</code> assignment the following way:</p>\n\n<pre><code>Mockito.verify(\n    registersMock,\n    times(1)\n).sp = 0x300\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "itemtouchhelper"], "comments": [{"owner": {"reputation": 866, "user_id": 4513913, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100000153391307/picture?type=large", "display_name": "Anuraag Baishya", "link": "https://stackoverflow.com/users/4513913/anuraag-baishya"}, "edited": false, "score": 0, "creation_date": 1524568996, "post_id": 50000316, "comment_id": 87016789, "body": "You can make use of <code>ItemTouchHelper</code>. Also, please <a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">Google</a> before posting a question here. What you need is exactly mentioned <a href=\"https://www.androidhive.info/2017/09/android-recyclerview-swipe-delete-undo-using-itemtouchhelper/\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524570039, "post_id": 50000751, "comment_id": 87017460, "body": "Thanks, but I would like to use two layouts instead of drawing colors in onchilddraw"}, {"owner": {"reputation": 2552, "user_id": 8117793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2hQ.jpg?s=128&g=1", "display_name": "Tomin B Azhakathu", "link": "https://stackoverflow.com/users/8117793/tomin-b-azhakathu"}, "reply_to_user": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524570162, "post_id": 50000751, "comment_id": 87017533, "body": "It works with 2 colour and two colour draws with 2 different icon"}, {"owner": {"reputation": 2552, "user_id": 8117793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2hQ.jpg?s=128&g=1", "display_name": "Tomin B Azhakathu", "link": "https://stackoverflow.com/users/8117793/tomin-b-azhakathu"}, "reply_to_user": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524570257, "post_id": 50000751, "comment_id": 87017584, "body": "By doing this you donot requires any extra xml . Positon the icon where it is required. and use any color to."}, {"owner": {"reputation": 2552, "user_id": 8117793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2hQ.jpg?s=128&g=1", "display_name": "Tomin B Azhakathu", "link": "https://stackoverflow.com/users/8117793/tomin-b-azhakathu"}, "reply_to_user": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524570290, "post_id": 50000751, "comment_id": 87017602, "body": "If ytour requires other than this requirement give your code which you had tried."}, {"owner": {"reputation": 2552, "user_id": 8117793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2hQ.jpg?s=128&g=1", "display_name": "Tomin B Azhakathu", "link": "https://stackoverflow.com/users/8117793/tomin-b-azhakathu"}, "reply_to_user": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524575619, "post_id": 50000751, "comment_id": 87021419, "body": "<code>Paint p  = new Paint()</code>"}, {"owner": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524599785, "post_id": 50000751, "comment_id": 87036286, "body": "java.lang.IllegalStateException: BitmapFactory.decodeReso\u2026able.ic_markunread) must not be null"}, {"owner": {"reputation": 2552, "user_id": 8117793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2hQ.jpg?s=128&g=1", "display_name": "Tomin B Azhakathu", "link": "https://stackoverflow.com/users/8117793/tomin-b-azhakathu"}, "reply_to_user": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524630263, "post_id": 50000751, "comment_id": 87044312, "body": "@BakaOne For that error Refer <a href=\"https://stackoverflow.com/questions/46040354/image-exists-not-null-but-i-get-an-nullpointerexception-on-it\" title=\"image exists not null but i get an nullpointerexception on it\">stackoverflow.com/questions/46040354/&hellip;</a> ..... And Also Check wheteher you had used correct importr statements <code>import android.graphics.Bitmap import android.graphics.BitmapFactory</code>"}, {"owner": {"reputation": 2552, "user_id": 8117793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2hQ.jpg?s=128&g=1", "display_name": "Tomin B Azhakathu", "link": "https://stackoverflow.com/users/8117793/tomin-b-azhakathu"}, "reply_to_user": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524631409, "post_id": 50000751, "comment_id": 87044563, "body": "@BakaOne please make sure that you had a decodable image as drawable. to create drawable use Android studio plugin <b>Batch Drawable Import</b>"}, {"owner": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "edited": false, "score": 0, "creation_date": 1524647428, "post_id": 50000751, "comment_id": 87052673, "body": "I managed to get your solution to work by creating my own drawable to bitmap converter. because I&#39;m using the onchilddraw on a fragment. Thanks for all your help!"}], "tags": [], "owner": {"reputation": 2552, "user_id": 8117793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2hQ.jpg?s=128&g=1", "display_name": "Tomin B Azhakathu", "link": "https://stackoverflow.com/users/8117793/tomin-b-azhakathu"}, "is_accepted": true, "score": 3, "last_activity_date": 1524575668, "last_edit_date": 1524575668, "creation_date": 1524569940, "answer_id": 50000751, "question_id": 50000316, "link": "https://stackoverflow.com/questions/50000316/how-to-have-swipe-to-delete-and-swipe-to-archive-in-two-colours-in-recyclerview/50000751#50000751", "title": "How to have swipe to delete and swipe to archive in two colours in Recyclerview Android", "body": "<p>Use <strong>ItemTouchHelper</strong> to Implement the Gmail Like Feature</p>\n\n<p>call the following function after setting the recyclerView</p>\n\n<pre><code>private fun initSwipe() {\n        val simpleItemTouchCallback = object : ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT or ItemTouchHelper.RIGHT) {\n\n            override fun onMove(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {\n                return false\n            }\n\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n                val position = viewHolder.adapterPosition\n\n                if (direction == ItemTouchHelper.LEFT) {\n\n                   //Logic to do when swipe left\n\n                } else {\n\n                  //Logic to do when swipe right\n\n                }\n            }\n\n            override fun onChildDraw(c: Canvas, recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, dX: Float, dY: Float, actionState: Int, isCurrentlyActive: Boolean) {\n\n\n                val icon: Bitmap\n                if (actionState == ItemTouchHelper.ACTION_STATE_SWIPE) {\n\n\n       //Drawing for Swife Right    \n\n                    val itemView = viewHolder.itemView\n                    val height = itemView.bottom.toFloat() - itemView.top.toFloat()\n                    val width = height / 3\n                    if (dX &gt; 0) {\n                        p.color = Color.parseColor(\"#2F2FD3\")\n                        val background = RectF(itemView.left.toFloat(), itemView.top.toFloat(), dX, itemView.bottom.toFloat())\n                        c.drawRect(background, p)\n                        icon = BitmapFactory.decodeResource(resources, R.drawable.ic_archive)\n                        val icon_dest = RectF(itemView.left.toFloat() + width, itemView.top.toFloat() + width, itemView.left.toFloat() + 2 * width, itemView.bottom.toFloat() - width)\n                        c.drawBitmap(icon, null, icon_dest, p)\n                    } else {\n\n       //Drawing for Swife Left\n\n\n                        p.color = Color.parseColor(\"#D32F2F\")\n                        val background = RectF(itemView.right.toFloat() + dX, itemView.top.toFloat(), itemView.right.toFloat(), itemView.bottom.toFloat())\n                        c.drawRect(background, p)\n                        icon = BitmapFactory.decodeResource(resources, R.drawable.ic_delete)\n                        val icon_dest = RectF(itemView.right.toFloat() - 2 * width, itemView.top.toFloat() + width, itemView.right.toFloat() - width, itemView.bottom.toFloat() - width)\n                        c.drawBitmap(icon, null, icon_dest, p)\n                    }\n                }\n                super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\n            }\n        }\n        val itemTouchHelper = ItemTouchHelper(simpleItemTouchCallback)\n        itemTouchHelper.attachToRecyclerView(YOUR_RECYCLER_VIEW)\n    }\n</code></pre>\n\n<p>Where \nObject p is an object of paint <code>Paint p  = new Paint()</code>\nHope this may help you.</p>\n"}], "owner": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1379, "favorite_count": 0, "accepted_answer_id": 50000751, "answer_count": 1, "score": 2, "last_activity_date": 1524575668, "creation_date": 1524568569, "last_edit_date": 1524569981, "question_id": 50000316, "link": "https://stackoverflow.com/questions/50000316/how-to-have-swipe-to-delete-and-swipe-to-archive-in-two-colours-in-recyclerview", "title": "How to have swipe to delete and swipe to archive in two colours in Recyclerview Android", "body": "<p>Right now I have a funtional swipe left to delete in recyclerview with two layouts(foreground and background). I use itemtouchhelper in the code. However, I would like to have BOTH swipe left and swipe right showing different colors and icons, like in Google Inbox. How can I implement that? </p>\n\n<p>What I want is: \n<a href=\"https://i.stack.imgur.com/RuON2.png\" rel=\"nofollow noreferrer\">swipe right</a><a href=\"https://i.stack.imgur.com/YakCZ.png\" rel=\"nofollow noreferrer\">swipe left</a></p>\n\n<p>what I have is: \n<a href=\"https://i.stack.imgur.com/sfDBi.png\" rel=\"nofollow noreferrer\">only swipe right</a></p>\n\n<p>the code is just the standard itemtouchhelper.simplecallback with 2 layouts in the xml. And I googled everywhere and only found single swipe option with single icon and single color</p>\n"}, {"tags": ["unit-testing", "kotlin", "mocking", "mockk"], "comments": [{"owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 1, "creation_date": 1525359479, "post_id": 50000194, "comment_id": 87334058, "body": "I created an issue <a href=\"https://github.com/oleksiyp/mockk/issues/70\" rel=\"nofollow noreferrer\">#70</a> for it."}, {"owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 1, "creation_date": 1525641581, "post_id": 50000194, "comment_id": 87426255, "body": "Version 1.7.16 should fix this issue. Please check and close GH issue <a href=\"https://github.com/oleksiyp/mockk/issues/70\" rel=\"nofollow noreferrer\">#70</a> if it is working. After you close (if so) I will write an answer to this question."}], "answers": [{"tags": [], "owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "is_accepted": true, "score": 1, "last_activity_date": 1525967113, "creation_date": 1525967113, "answer_id": 50276710, "question_id": 50000194, "link": "https://stackoverflow.com/questions/50000194/can-i-mock-a-generic-template-private-method-using-mockk-in-kotlin/50276710#50276710", "title": "Can I mock a generic (template) private method using MockK in Kotlin?", "body": "<p>Now yes. Generic private functions was fixed since 1.7.16</p>\n"}], "owner": {"reputation": 292, "user_id": 1276132, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d479971593e1fe57fc5a6ef39cbaddc2?s=128&d=identicon&r=PG", "display_name": "AlexSee", "link": "https://stackoverflow.com/users/1276132/alexsee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 0, "accepted_answer_id": 50276710, "answer_count": 1, "score": 1, "last_activity_date": 1525967113, "creation_date": 1524568192, "last_edit_date": 1525352809, "question_id": 50000194, "link": "https://stackoverflow.com/questions/50000194/can-i-mock-a-generic-template-private-method-using-mockk-in-kotlin", "title": "Can I mock a generic (template) private method using MockK in Kotlin?", "body": "<p>I would like to mock the following function:</p>\n\n<p><code>private fun &lt;T&gt; updateItemInDb(id: Long, column: String, data: T)</code></p>\n\n<p>which is invoked in the following way by my class:</p>\n\n<p><code>updateItemInDb(it, DB_POS, i)</code>, where <code>it</code> is a <code>Long</code>, <code>DB_POS</code> is <code>String</code> and <code>i</code> is an <code>Int</code>.</p>\n\n<p>I want the function to just run without doing anything. I tried the following in my unit test:</p>\n\n<p>1) <code>every { adapter[\"updateItemInDb\"](any&lt;Long&gt;(), any&lt;String&gt;(), any&lt;Int&gt;()) } just Runs</code></p>\n\n<p>This gives me a type mismatch error: <code>required MockKStubScope&lt;Unit&gt;, found MockKStubScope&lt;Any?&gt;</code></p>\n\n<p>2) <code>every { adapter[\"updateItemInDb\"](any&lt;Long&gt;(), any&lt;String&gt;(), any&lt;Int&gt;()) } answers { }</code> </p>\n\n<p>This fails at runtime with <code>io.mockk.MockKException: can't find function updateItemInDb(-1078155520644112829, -d008fa83c4f49c0, 843241211) for dynamic call</code></p>\n"}, {"tags": ["android", "google-analytics", "kotlin", "google-play", "google-play-services"], "comments": [{"owner": {"reputation": 1252, "user_id": 4973660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pWsdP.jpg?s=128&g=1", "display_name": "kiran kumar", "link": "https://stackoverflow.com/users/4973660/kiran-kumar"}, "edited": false, "score": 0, "creation_date": 1524567399, "post_id": 49999881, "comment_id": 87015724, "body": "you can store the number unique id in database in server and maintain the count"}, {"owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "reply_to_user": {"reputation": 1252, "user_id": 4973660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pWsdP.jpg?s=128&g=1", "display_name": "kiran kumar", "link": "https://stackoverflow.com/users/4973660/kiran-kumar"}, "edited": false, "score": 0, "creation_date": 1524567472, "post_id": 49999881, "comment_id": 87015760, "body": "but how we know that from where the app is installed."}, {"owner": {"reputation": 1252, "user_id": 4973660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pWsdP.jpg?s=128&g=1", "display_name": "kiran kumar", "link": "https://stackoverflow.com/users/4973660/kiran-kumar"}, "edited": false, "score": 1, "creation_date": 1524570513, "post_id": 49999881, "comment_id": 87017746, "body": "You need to use google statistics or google analytics to know the status whether it is installed or not which needs the app to be installed in google play store"}, {"owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "reply_to_user": {"reputation": 1252, "user_id": 4973660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pWsdP.jpg?s=128&g=1", "display_name": "kiran kumar", "link": "https://stackoverflow.com/users/4973660/kiran-kumar"}, "edited": false, "score": 0, "creation_date": 1524573631, "post_id": 49999881, "comment_id": 87019912, "body": "yes i know this but i want to know that how to track if app not on play store"}, {"owner": {"reputation": 1252, "user_id": 4973660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pWsdP.jpg?s=128&g=1", "display_name": "kiran kumar", "link": "https://stackoverflow.com/users/4973660/kiran-kumar"}, "edited": false, "score": 1, "creation_date": 1524574158, "post_id": 49999881, "comment_id": 87020290, "body": "It is not possible without having the app on google playstore"}], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": true, "score": 1, "last_activity_date": 1524655360, "creation_date": 1524655360, "answer_id": 50021031, "question_id": 49999881, "link": "https://stackoverflow.com/questions/49999881/install-track-for-app-not-available-on-google-play-store/50021031#50021031", "title": "Install track for app not available on google play store", "body": "<p>It is not possible,\npackage manager apps send an intent to the apps they install with the referrer info.</p>\n"}], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 50021031, "answer_count": 1, "score": -2, "last_activity_date": 1524655360, "creation_date": 1524567183, "question_id": 49999881, "link": "https://stackoverflow.com/questions/49999881/install-track-for-app-not-available-on-google-play-store", "title": "Install track for app not available on google play store", "body": "<p>I want to track installs from the website of my android app, my app is not live on play store.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "edited": false, "score": 0, "creation_date": 1524567469, "post_id": 49999878, "comment_id": 87015758, "body": "is the <code>sendMessage()</code> invoked when button clicked?"}, {"owner": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "reply_to_user": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "edited": false, "score": 0, "creation_date": 1524567826, "post_id": 49999878, "comment_id": 87016002, "body": "Yes i have Assigned the sendMessage to the button on my app page"}, {"owner": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "edited": false, "score": 0, "creation_date": 1524567957, "post_id": 49999878, "comment_id": 87016090, "body": "Sure, does the click work? Do you go to <code>DisplayMessageActivity</code>after the button click?"}, {"owner": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "reply_to_user": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "edited": false, "score": 0, "creation_date": 1524568436, "post_id": 49999878, "comment_id": 87016387, "body": "Yes once i run the app from my phone it goes to the DisplayMessageActivity page but the page is blank"}, {"owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "edited": false, "score": 0, "creation_date": 1524569168, "post_id": 49999878, "comment_id": 87016902, "body": "The problem is that the data is being &#39;put&#39; as a String array in MainActivity but the &#39;get&#39; is retrieving it as individual Strings. Simplest fix is to introduce EXTRA_MESSAGE1, EXTRA_MESSAGE2, EXTRA_MESSAGE3 and call put and get 3 times each. Or update DisplayMessageActivity to retrieve the data as an array."}, {"owner": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "edited": false, "score": 0, "creation_date": 1524572381, "post_id": 49999878, "comment_id": 87019005, "body": "@user3509297 Check my following answer please."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "edited": false, "score": 0, "creation_date": 1524645162, "post_id": 50001516, "comment_id": 87051224, "body": "I have tried this and at  editText = findViewById&lt;EditText&gt;(R.id.editText) i get a val cannot be reassigned error"}, {"owner": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "reply_to_user": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "edited": false, "score": 0, "creation_date": 1524649743, "post_id": 50001516, "comment_id": 87054179, "body": "Sorry, my bad. This should be <code>var</code> not <code>val</code>. Updated my answer, please check."}], "tags": [], "owner": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "is_accepted": false, "score": 1, "last_activity_date": 1524649707, "last_edit_date": 1524649707, "creation_date": 1524572359, "answer_id": 50001516, "question_id": 49999878, "link": "https://stackoverflow.com/questions/49999878/android-studio-kotlin-cannot-get-data-to-display/50001516#50001516", "title": "android studio kotlin cannot get data to display", "body": "<p>You should do as following, in <code>MainActivity.kt</code>:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    var editText : EditText ?= null\n    var editText2 : EditText ?= null;\n    var editText3 : EditText ?= null;\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        editText = findViewById&lt;EditText&gt;(R.id.editText)\n        editText2 = findViewById&lt;EditText&gt;(R.id.editText2)\n        editText3 = findViewById&lt;EditText&gt;(R.id.editText3)\n\n    }\n\n    /** Called when the user taps the Send button */\n    fun sendMessage(view: View) {\n\n        val message1 = editText.text.toString()\n        val message2 = editText2.text.toString()\n        val message3 = editText3.text.toString()\n\n\n        val intent = Intent(this, DisplayMessageActivity::class.java).apply {\n            putExtra(\"EXTRA_MSG1\", message1)\n            putExtra(\"EXTRA_MSG2\", message2)\n            putExtra(\"EXTRA_MSG3\", message3)\n        }\n\n        startActivity(intent)\n    }\n</code></pre>\n\n<p>In <code>DisplayMessageActivity.kt</code></p>\n\n<pre><code>class DisplayMessageActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_display_message)\n\n        // Get the Intent that started this activity and extract the string\n        val message1 = intent.getStringExtra(\"EXTRA_MSG1\")\n        val message2 = intent.getStringExtra(\"EXTRA_MSG2\")\n        val message3 = intent.getStringExtra(\"EXTRA_MSG3\")\n        // Capture the layout's TextView and set the string as its text\n        val textView = findViewById&lt;TextView&gt;(R.id.textView).apply {\n            text = message1\n\n        }\n        val textView2 = findViewById&lt;TextView&gt;(R.id.textView2).apply {\n            text = message2\n\n        }\n        val textView3 = findViewById&lt;TextView&gt;(R.id.textView3).apply {\n            text = message3\n\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524649707, "creation_date": 1524567176, "last_edit_date": 1524575358, "question_id": 49999878, "link": "https://stackoverflow.com/questions/49999878/android-studio-kotlin-cannot-get-data-to-display", "title": "android studio kotlin cannot get data to display", "body": "<p>Complete Newbie to Kotlin, trying to get three values to pass across from text boxes to another page, I am getting no errors put the info is not either being passed across or displayed I have tried for hours to get this to work with no avail.page 1 is where I input data and page 2 is where it should be displayed.</p>\n\n<p>Could someone point me in a good or right direction, please?</p>\n\n<p>I have now edited my code as given in the help below on the page that is now receiving the info I cannot get it to display.</p>\n\n<pre><code>PAGE1\n\npackage com.example.james.visitorapp\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.provider.AlarmClock.EXTRA_MESSAGE\nimport android.view.View\nimport android.widget.EditText\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    /** Called when the user taps the Send button */\n    fun sendMessage(view: View) {\n        val editText = findViewById&lt;EditText&gt;(R.id.editText)\n        val editText2 = findViewById&lt;EditText&gt;(R.id.editText2)\n        val editText3 = findViewById&lt;EditText&gt;(R.id.editText3)\n        val message1 = editText.text.toString()\n        val message2 = editText2.text.toString()\n        val message3 = editText3.text.toString()\n\n\n        val intent = Intent(this, DisplayMessageActivity::class.java).apply {\n            putExtra(EXTRA_MESSAGE, arrayOf(message1, message2, message3))\n        }\n\n        startActivity(intent)\n    }\n}\n\nreceiving page\n\npackage com.example.james.visitorapp\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.provider.AlarmClock.EXTRA_MESSAGE\nimport android.widget.TextView\n\nclass DisplayMessageActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_display_message)\n\n        // Get the Intent that started this activity and extract the string\n        val message1 = intent.getStringExtra(EXTRA_MESSAGE)\n        val message2 = intent.getStringExtra(EXTRA_MESSAGE)\n        val message3 = intent.getStringExtra(EXTRA_MESSAGE)\n        // Capture the layout's TextView and set the string as its text\n        val textView = findViewById&lt;TextView&gt;(R.id.textView).apply {\n            text = message1\n\n        }\n        val textView2 = findViewById&lt;TextView&gt;(R.id.textView2).apply {\n            text = message2\n\n        }\n        val textView3 = findViewById&lt;TextView&gt;(R.id.textView3).apply {\n            text = message3\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1553, "user_id": 6155965, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4410f78b20edec7a73c6126352e44ca5?s=128&d=identicon&r=PG&f=1", "display_name": "Venky", "link": "https://stackoverflow.com/users/6155965/venky"}, "edited": false, "score": 0, "creation_date": 1524565386, "post_id": 49999239, "comment_id": 87014415, "body": "are the radio buttons being dynamically added ??"}, {"owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "reply_to_user": {"reputation": 1553, "user_id": 6155965, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4410f78b20edec7a73c6126352e44ca5?s=128&d=identicon&r=PG&f=1", "display_name": "Venky", "link": "https://stackoverflow.com/users/6155965/venky"}, "edited": false, "score": 0, "creation_date": 1524565431, "post_id": 49999239, "comment_id": 87014447, "body": "Yes! As I shown in my code."}, {"owner": {"reputation": 20369, "user_id": 156869, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/092a6888f9cddacbe2a2b3b463113ef4?s=128&d=identicon&r=PG", "display_name": "ariefbayu", "link": "https://stackoverflow.com/users/156869/ariefbayu"}, "edited": false, "score": 0, "creation_date": 1524572569, "post_id": 49999239, "comment_id": 87019153, "body": "please check my solution below"}], "answers": [{"comments": [{"owner": {"reputation": 20369, "user_id": 156869, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/092a6888f9cddacbe2a2b3b463113ef4?s=128&d=identicon&r=PG", "display_name": "ariefbayu", "link": "https://stackoverflow.com/users/156869/ariefbayu"}, "edited": false, "score": 0, "creation_date": 1524572871, "post_id": 49999350, "comment_id": 87019361, "body": "<code>previously selected radioButton should be automatically deselected</code> -&gt; I also though this way, but my personal test doesn&#39;t agree to this assumption... Not sure why..."}, {"owner": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "reply_to_user": {"reputation": 20369, "user_id": 156869, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/092a6888f9cddacbe2a2b3b463113ef4?s=128&d=identicon&r=PG", "display_name": "ariefbayu", "link": "https://stackoverflow.com/users/156869/ariefbayu"}, "edited": false, "score": 0, "creation_date": 1524573436, "post_id": 49999350, "comment_id": 87019756, "body": "@ariefbayu Is this happening when the <code>radioButton</code>s are generated programmatically? How did you solved it then? One option may be to set <code>isChecked</code> to false manually to every other <code>radiobutton</code>s."}, {"owner": {"reputation": 20369, "user_id": 156869, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/092a6888f9cddacbe2a2b3b463113ef4?s=128&d=identicon&r=PG", "display_name": "ariefbayu", "link": "https://stackoverflow.com/users/156869/ariefbayu"}, "edited": false, "score": 0, "creation_date": 1524574157, "post_id": 49999350, "comment_id": 87020288, "body": "check my answer, it&#39;s by <code>check</code>ing using the <code>radioGroup</code> instead of the button itself..."}], "tags": [], "owner": {"reputation": 5780, "user_id": 7235049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgD2.jpg?s=128&g=1", "display_name": "tahsinRupam", "link": "https://stackoverflow.com/users/7235049/tahsinrupam"}, "is_accepted": false, "score": 0, "last_activity_date": 1524565618, "creation_date": 1524565618, "answer_id": 49999350, "question_id": 49999239, "link": "https://stackoverflow.com/questions/49999239/how-to-check-a-radio-button-programmatically-in-dynamic-radio-group/49999350#49999350", "title": "How to check a radio button programmatically in dynamic radio group?", "body": "<p>If you use <code>radioGroup</code>, previously selected <code>radioButton</code> should be automatically deselected. If you want a particular <code>radioButton</code> to be selected when activity is launched you have just have to add the following line in <code>onCreate()</code>:</p>\n\n<pre><code>yourDesiredRadioButton.isChecked = true;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1553, "user_id": 6155965, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4410f78b20edec7a73c6126352e44ca5?s=128&d=identicon&r=PG&f=1", "display_name": "Venky", "link": "https://stackoverflow.com/users/6155965/venky"}, "is_accepted": false, "score": 0, "last_activity_date": 1524565685, "creation_date": 1524565685, "answer_id": 49999377, "question_id": 49999239, "link": "https://stackoverflow.com/questions/49999239/how-to-check-a-radio-button-programmatically-in-dynamic-radio-group/49999377#49999377", "title": "How to check a radio button programmatically in dynamic radio group?", "body": "<p>You can use <code>setTag();</code> method to provide a unique identification for all the buttons in your group and check/change the properties by checking their tags using <code>getTag()</code></p>\n"}, {"comments": [{"owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "edited": false, "score": 0, "creation_date": 1524568245, "post_id": 49999434, "comment_id": 87016264, "body": "It remains checked all time even if I press another button"}, {"owner": {"reputation": 2430, "user_id": 6212446, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-xJt4UG_FwPU/AAAAAAAAAAI/AAAAAAAAADQ/XuV1ETRhgSA/photo.jpg?sz=128", "display_name": "M.Waqas Pervez", "link": "https://stackoverflow.com/users/6212446/m-waqas-pervez"}, "reply_to_user": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "edited": false, "score": 0, "creation_date": 1524569947, "post_id": 49999434, "comment_id": 87017409, "body": "is <code>taskRadioGroup</code> is of type <code>RadioGroup</code> ?"}, {"owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "edited": false, "score": 0, "creation_date": 1524570366, "post_id": 49999434, "comment_id": 87017652, "body": "Yes it&#39;s the main RadioGroup under which all radio button views are added"}, {"owner": {"reputation": 2430, "user_id": 6212446, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-xJt4UG_FwPU/AAAAAAAAAAI/AAAAAAAAADQ/XuV1ETRhgSA/photo.jpg?sz=128", "display_name": "M.Waqas Pervez", "link": "https://stackoverflow.com/users/6212446/m-waqas-pervez"}, "reply_to_user": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "edited": false, "score": 0, "creation_date": 1524571787, "post_id": 49999434, "comment_id": 87018591, "body": "that is probably because you are setting <code>checkedChange</code> listener to individual radio button and not on the whole <code>RadioGroup</code>. Try the edited answer."}], "tags": [], "owner": {"reputation": 2430, "user_id": 6212446, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-xJt4UG_FwPU/AAAAAAAAAAI/AAAAAAAAADQ/XuV1ETRhgSA/photo.jpg?sz=128", "display_name": "M.Waqas Pervez", "link": "https://stackoverflow.com/users/6212446/m-waqas-pervez"}, "is_accepted": false, "score": 0, "last_activity_date": 1524571740, "last_edit_date": 1524571740, "creation_date": 1524565853, "answer_id": 49999434, "question_id": 49999239, "link": "https://stackoverflow.com/questions/49999239/how-to-check-a-radio-button-programmatically-in-dynamic-radio-group/49999434#49999434", "title": "How to check a radio button programmatically in dynamic radio group?", "body": "<p>If you want to select the first <code>RadioButton</code> to be selected you can do this:</p>\n\n<pre><code>var isChecked = true;\n\nfor (x in taskTypes) {\n    var radioButton = RadioButton(context)\n\n    if(isChecked){\n        isChecked = false;\n        radioButton.checked = true;\n     }\n\n    taskRadioGroup.addView(radioButton)\n}\n\n taskRadioGroup.setOnCheckedChangeListener { button: CompoundButton?, b: Boolean  -&gt;\n        if (b) {\n            ......\n\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 284, "user_id": 5366108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIcrU.png?s=128&g=1", "display_name": "Praveen Rawat", "link": "https://stackoverflow.com/users/5366108/praveen-rawat"}, "is_accepted": false, "score": 0, "last_activity_date": 1524565954, "creation_date": 1524565954, "answer_id": 49999472, "question_id": 49999239, "link": "https://stackoverflow.com/questions/49999239/how-to-check-a-radio-button-programmatically-in-dynamic-radio-group/49999472#49999472", "title": "How to check a radio button programmatically in dynamic radio group?", "body": "<p><strong>I want one to be selected when the application first launch</strong></p>\n\n<p>On create method</p>\n\n<pre><code> hardradioButton!!.isChecked = true\n</code></pre>\n\n<p><strong>make listener of your radioGroup</strong>\nOn create method</p>\n\n<pre><code> radioGroup!!.setOnCheckedChangeListener(this)\n</code></pre>\n\n<p><strong>implement OnCheckedChangeListener</strong></p>\n\n<pre><code>override fun onCheckedChanged(group: RadioGroup, checkedId: Int) {\n        when (checkedId) {\n            R.id.hard_radiobuttonm -&gt; {\n                //do whatever\n            }\n\n            R.id.ok_radiobuttonm -&gt; {\n               //do whatever\n            }\n\n            R.id.easy_radiobuttonm -&gt; {\n               //do whatever\n            }\n\n\n            else -&gt; {\n            }\n        }\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20369, "user_id": 156869, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/092a6888f9cddacbe2a2b3b463113ef4?s=128&d=identicon&r=PG", "display_name": "ariefbayu", "link": "https://stackoverflow.com/users/156869/ariefbayu"}, "is_accepted": false, "score": 1, "last_activity_date": 1524572532, "creation_date": 1524572532, "answer_id": 50001576, "question_id": 49999239, "link": "https://stackoverflow.com/questions/49999239/how-to-check-a-radio-button-programmatically-in-dynamic-radio-group/50001576#50001576", "title": "How to check a radio button programmatically in dynamic radio group?", "body": "<p>I'm not sure why it always <code>check</code> the first RadioButton even when ALL radio is added inside a RadioGroup. My test also confirm your bug (maybe not bug, I just not sure why).</p>\n\n<p>Here's my solution to your problem:</p>\n\n<pre><code>var radioGroup = RadioGroup(applicationContext)\n\nfor (i: Int in 0..4){\n    var radio = RadioButton(applicationContext)\n    radio.setText(\"button position ${i+1}\")\n\n    radioGroup.addView(radio)\n    Log.d(\"LOG\", \"Working on radio ${i+1}\")\n}\n\nradioGroup.check(0)\n\nlinearParent.addView(radioGroup)\n</code></pre>\n\n<p>Noticed how I set the first radio by executing <code>check(0)</code> of the <code>radioGroup</code>. This is because whenever I set if from the <code>radio</code> itself, that radio will always be in <code>checked</code> state:</p>\n\n<pre><code>//this code I placed inside for loop is somewhat broken...\nif(i == 0){\n    radio.isChecked = true\n}\n</code></pre>\n"}], "owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2842, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1524572532, "creation_date": 1524565324, "question_id": 49999239, "link": "https://stackoverflow.com/questions/49999239/how-to-check-a-radio-button-programmatically-in-dynamic-radio-group", "title": "How to check a radio button programmatically in dynamic radio group?", "body": "<p>I have a list of radio buttons. I want one to be selected when the application first launch. </p>\n\n<p>Then when I will select some other radio button from the radio group that will be deselected. </p>\n\n<p>Here's my code: </p>\n\n<pre><code>for (x in taskTypes) {\n        var radioButton = RadioButton(context)\n        radioButton.setOnCheckedChangeListener { button: CompoundButton?, b: Boolean  -&gt;\n            if (b) {\n                ......\n\n            }\n        }\n\n        taskRadioGroup.addView(radioButton)\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "delegation"], "answers": [{"comments": [{"owner": {"reputation": 1328, "user_id": 6718334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cf8cdc5ff2dbee44ee12a3c96dd303cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Liubun", "link": "https://stackoverflow.com/users/6718334/kirill-liubun"}, "edited": false, "score": 0, "creation_date": 1524564247, "post_id": 49998706, "comment_id": 87013657, "body": "Is it possible do without interface? Because UserInfo don\u2019t implement any interfaces and I can\u2019t modify it."}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 1328, "user_id": 6718334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cf8cdc5ff2dbee44ee12a3c96dd303cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Liubun", "link": "https://stackoverflow.com/users/6718334/kirill-liubun"}, "edited": false, "score": 0, "creation_date": 1524565014, "post_id": 49998706, "comment_id": 87014164, "body": "@KirillLiubun Unfortunately, no. The other way is to keep properties of <code>UserInfo</code> in the map and do delegation by map. See updated answer."}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": false, "score": 2, "last_activity_date": 1524564790, "last_edit_date": 1524564790, "creation_date": 1524563917, "answer_id": 49998706, "question_id": 49998433, "link": "https://stackoverflow.com/questions/49998433/kotlin-delegate-all-fields-by-class-property/49998706#49998706", "title": "Kotlin delegate all fields by class property", "body": "<p>You can do <a href=\"https://kotlinlang.org/docs/reference/delegation.html#implementation-by-delegation\" rel=\"nofollow noreferrer\">implementation by delegation</a>, which looks like this:</p>\n\n<pre><code>interface UserCommon {\n    val username: String\n    val email: String\n}\n\ndata class UserInfo(\n        override var username: String,\n        override var email: String\n) : UserCommon\n\nclass Transaction(\n        userInfo: UserInfo\n) : UserCommon by userInfo\n</code></pre>\n\n<p>After that class <code>Transaction</code> will have all properties that <code>UserCommon</code> does, but implementation is delegated to <code>userInfo</code> which is passed to constructor.</p>\n\n<p>The other way is to convert <code>UserInfo</code> to <code>MutableMap</code> and delegate property invocation to that map:</p>\n\n<pre><code>class Transaction(\n    userInfoMap: HashMap&lt;String, Any&gt;\n) {\n    var username: String by userInfoMap\n    var email: String by userInfoMap\n}\n</code></pre>\n"}], "owner": {"reputation": 1328, "user_id": 6718334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cf8cdc5ff2dbee44ee12a3c96dd303cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Liubun", "link": "https://stackoverflow.com/users/6718334/kirill-liubun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524565239, "creation_date": 1524563207, "last_edit_date": 1524565239, "question_id": 49998433, "link": "https://stackoverflow.com/questions/49998433/kotlin-delegate-all-fields-by-class-property", "title": "Kotlin delegate all fields by class property", "body": "<p>I have a wrapper class <code>Manager</code> that has a property <code>managerInfo</code> of type <code>UserInfo</code> that I can\u2019t modify. The wrapper class just add business rules around  the info object. In code I need to access properties of the <em>managerInfo</em> and write each time <code>manager.managerInfo.username</code> is a little verbose. </p>\n\n<p>I know that I can delegate property to this info object like that: </p>\n\n\n\n<pre><code>class Manager {\n...\n    val username by UserInfo\n...\n}\n</code></pre>\n\n<p>And then I can simply do <code>manager.username</code>. But the problem is that the info class has about 15 properties and do this manually will be messy. </p>\n\n<p>Is there is way to delegate all properties by means of Kotlin lang or by some library?</p>\n"}, {"tags": ["java", "kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "reply_to_user": {"reputation": 11, "user_id": 8516865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbaa08ffec64cf014e1ddbbb096fda73?s=128&d=identicon&r=PG&f=1", "display_name": "Chriszer Tamayo", "link": "https://stackoverflow.com/users/8516865/chriszer-tamayo"}, "edited": false, "score": 0, "creation_date": 1524584035, "post_id": 50001064, "comment_id": 87027659, "body": "Added a Kotlin example."}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1524584025, "last_edit_date": 1524584025, "creation_date": 1524570992, "answer_id": 50001064, "question_id": 49998133, "link": "https://stackoverflow.com/questions/49998133/trader-demo-flow-tests-error-kotlinnullpointerexception/50001064#50001064", "title": "Trader-Demo Flow tests error : KotlinNullPointerException", "body": "<p>Suppose your attachment is under <code>main/resources/my-attachment.jar</code>. Within a Java flow test, you upload this attachment to the node as follows:</p>\n\n<pre><code>nodeA.transaction(() -&gt; {\n    InputStream attachmentStream = getClass().getClassLoader().getResourceAsStream(\"my-attachment.jar\");\n    try {\n        nodeA.getServices().getAttachments().importAttachment(attachmentStream, \"joel\", \"myAttachment\");\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    // The attachment is now uploaded to the node.\n    // TODO: Remainder of the test.\n\n    return null;\n});\n</code></pre>\n\n<p>Or in Kotlin:</p>\n\n<pre><code>nodeA.transaction {\n    val attachmentStream = javaClass.classLoader.getResourceAsStream(\"my-attachment.jar\")\n    nodeA.services.attachments.importAttachment(attachmentStream, \"joel\", \"myAttachment\")\n\n    // The attachment is now uploaded to the node.\n    // TODO: Remainder of the test.\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8516865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbaa08ffec64cf014e1ddbbb096fda73?s=128&d=identicon&r=PG&f=1", "display_name": "Chriszer Tamayo", "link": "https://stackoverflow.com/users/8516865/chriszer-tamayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524626279, "creation_date": 1524562318, "last_edit_date": 1524626279, "question_id": 49998133, "link": "https://stackoverflow.com/questions/49998133/trader-demo-flow-tests-error-kotlinnullpointerexception", "title": "Trader-Demo Flow tests error : KotlinNullPointerException", "body": "<p>My question is how can i upload the attachment in flow test to make this test successful.</p>\n\n<p>This is the test that im doing in trader-demo flowtest</p>\n\n<pre><code>private fun issue_commercial_paper( amount: Amount&lt;Currency&gt;,\n                            issueRef: OpaqueBytes,\n                            recipient: Party,\n                            notary: Party,\n                            progressTracker: ProgressTracker): SignedTransaction {\n    val p = CommercialPaperIssueFlow(amount,issueRef,recipient,notary,progressTracker)\n    val future = BankCorpNode.services.startFlow(p)\n    mockNet.runNetwork()\n    return future.resultFuture.getOrThrow()\n}\n\n     @Test\n    fun `trade issuance`(){\n        issue_commercial_paper(1000.DOLLARS,OpaqueBytes.of(42.toByte()),ACorp,notary,CommercialPaperIssueFlow.tracker())\n        val pass = SellerFlow(BCorp ,500.DOLLARS, SellerFlow.tracker() )\n        val future = ACorpNode.services.startFlow(pass)\n        mockNet.runNetwork()\n        val results = future.resultFuture.getOrThrow()\n        assertNotNull(results)\n    }\n</code></pre>\n\n<p>This is the error</p>\n\n<pre><code>kotlin.KotlinNullPointerException\n    at net.corda.traderdemo.flow.CommercialPaperIssueFlow.call(CommercialPaperIssueFlow.kt:54)\n    at net.corda.traderdemo.flow.CommercialPaperIssueFlow.call(CommercialPaperIssueFlow.kt:25)\n    at net.corda.node.services.statemachine.FlowStateMachineImpl.run(FlowStateMachineImpl.kt:96)\n    at net.corda.node.services.statemachine.FlowStateMachineImpl.run(FlowStateMachineImpl.kt:44)\n    at co.paralleluniverse.fibers.Fiber.run1(Fiber.java:1092)\n    at co.paralleluniverse.fibers.Fiber.exec(Fiber.java:788)\n    at co.paralleluniverse.fibers.RunnableFiberTask.doExec(RunnableFiberTask.java:100)\n    at co.paralleluniverse.fibers.RunnableFiberTask.run(RunnableFiberTask.java:91)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at net.corda.node.utilities.AffinityExecutor$ServiceAffinityExecutor$1$thread$1.run(AffinityExecutor.kt:63)\n</code></pre>\n\n<p>you can refer to this sample to see if you can help me guys thanks in advance\n<a href=\"https://github.com/corda/corda/tree/c4ceca378762fe1959f075a1c8b1c301e411b6b8/samples/trader-demo\" rel=\"nofollow noreferrer\">https://github.com/corda/corda/tree/c4ceca378762fe1959f075a1c8b1c301e411b6b8/samples/trader-demo</a></p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9601607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qGJtK.png?s=128&g=1", "display_name": "Antoine Wacheux", "link": "https://stackoverflow.com/users/9601607/antoine-wacheux"}, "is_accepted": false, "score": 1, "last_activity_date": 1530360633, "creation_date": 1530360633, "answer_id": 51114797, "question_id": 49997306, "link": "https://stackoverflow.com/questions/49997306/dagger2-inject-generated-class/51114797#51114797", "title": "Dagger2 inject generated class", "body": "<p>By default, the Kotlin Annotation Processor replaces every unknown symbol by <code>NonExistentClass</code>.</p>\n\n<p>This may not be suitable for every use cases. You can disable this behavior by setting the Kapt <code>correctErrorTypes</code> option to true.</p>\n\n<p>See : <a href=\"http://kotlinlang.org/docs/reference/kapt.html#non-existent-type-correction\" rel=\"nofollow noreferrer\">http://kotlinlang.org/docs/reference/kapt.html#non-existent-type-correction</a></p>\n\n<p>It should fix your problem.</p>\n"}], "owner": {"reputation": 39, "user_id": 9639954, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "TopAd Studio", "link": "https://stackoverflow.com/users/9639954/topad-studio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1530360633, "creation_date": 1524559955, "question_id": 49997306, "link": "https://stackoverflow.com/questions/49997306/dagger2-inject-generated-class", "title": "Dagger2 inject generated class", "body": "<p>I created my own annotation processor library that generate a classes for user. But I got an error while providing those classes using Dagger2.</p>\n\n<p><strong>Here is the error message:</strong></p>\n\n<pre><code>error: cannot find symbol\n\nprivate Provider&lt;NonExistentClass&gt; provideUserDataProvider;\n                   ^\n  symbol:   class NonExistentClass\n  location: class DaggerAppComponent\n</code></pre>\n\n<p>Can anyone explain me how to inject generated classes with Dagger2?</p>\n"}, {"tags": ["java", "spring", "ftp", "kotlin", "spring-integration"], "answers": [{"comments": [{"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1524577252, "post_id": 49998005, "comment_id": 87022616, "body": "We have an opened JIRA like this <a href=\"https://jira.spring.io/browse/INT-2505\" rel=\"nofollow noreferrer\">jira.spring.io/browse/INT-2505</a>. Feel free to provide your feedback there and we may reconsider plans for it and will implement some improvement this or other way."}], "tags": [], "owner": {"reputation": 1499, "user_id": 1430428, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9cad3584982ca55f14f5d57114773c97?s=128&d=identicon&r=PG&f=1", "display_name": "piy26", "link": "https://stackoverflow.com/users/1430428/piy26"}, "is_accepted": false, "score": 1, "last_activity_date": 1524561952, "creation_date": 1524561952, "answer_id": 49998005, "question_id": 49997030, "link": "https://stackoverflow.com/questions/49997030/does-spring-integration-have-a-proxy-support-for-ftp/49998005#49998005", "title": "Does Spring Integration have a proxy support for FTP?", "body": "<p>FTPHTTPClient provides you support to inject in the PROXY HOST and PROXY PORT. This link might give some light on how to pass these information to FTPHTTPClient \n<a href=\"https://commons.apache.org/proper/commons-net/examples/ftp/FTPClientExample.java\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-net/examples/ftp/FTPClientExample.java</a></p>\n\n<p>You need a way to create an instance of FTPHTTPClient while calling createClientInstance() method.</p>\n"}], "owner": {"reputation": 23, "user_id": 9595204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSVSK.jpg?s=128&g=1", "display_name": "Peter Tsilko", "link": "https://stackoverflow.com/users/9595204/peter-tsilko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524561952, "creation_date": 1524559094, "question_id": 49997030, "link": "https://stackoverflow.com/questions/49997030/does-spring-integration-have-a-proxy-support-for-ftp", "title": "Does Spring Integration have a proxy support for FTP?", "body": "<p>I'm using Spring Integration to code FTP-Client for remote files synchronization. So how can I fetch files from remote FTP-Server through proxy? Or does <code>DefaultFtpSessionFactory</code> (or <code>CachingSessionFactory</code>) deal with this problem?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "edited": false, "score": 0, "creation_date": 1524559598, "post_id": 49996442, "comment_id": 87010668, "body": "What you suggest is handling all the logic in one class as far as I understand. What I want to do is to trigger getDataFromBackend from one view and check if it has finished from another, keeping the job as reference in the repo"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "edited": false, "score": 0, "creation_date": 1524560475, "post_id": 49996442, "comment_id": 87011191, "body": "You could update a field within launch(UI) with the results in a class instance accessible from both views; I&#39;m assuming you always start the backend retrieval. You could also &quot;register&quot; your target view in this shared class and have launch(UI) call a method on it so that when the data is ready, the view gets notified."}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": false, "score": 0, "last_activity_date": 1524557107, "creation_date": 1524557107, "answer_id": 49996442, "question_id": 49996234, "link": "https://stackoverflow.com/questions/49996234/kotlin-coroutines-rxjava-like-subscribe-to-running-job-check-if-coroutine-is/49996442#49996442", "title": "Kotlin Coroutines: RxJava-like subscribe to running job / Check if coroutine is running", "body": "<p>Coroutines are hot so you can push data forward by launching tasks on <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#dispatchers-and-threads\" rel=\"nofollow noreferrer\">background</a> or the UI context:</p>\n\n<pre><code>job = launch(CommonPool) {\n    val data = getDataFromBackend().await()\n    val result = repository.handleData(data).await()\n    launch(UI) {\n         // update the UI here based on data or result\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "is_accepted": true, "score": 1, "last_activity_date": 1536746115, "last_edit_date": 1536746115, "creation_date": 1524575972, "answer_id": 50002744, "question_id": 49996234, "link": "https://stackoverflow.com/questions/49996234/kotlin-coroutines-rxjava-like-subscribe-to-running-job-check-if-coroutine-is/50002744#50002744", "title": "Kotlin Coroutines: RxJava-like subscribe to running job / Check if coroutine is running", "body": "<p>The solution is the following:</p>\n\n<p>When the app starts it triggers prefetching some data via the repository.\nThe repository holds a job reference to the running coroutine.\nWhen reaching the target screen another method in the repository is invoked. In this method the app now simply checks if the job is still active, if yes it calls job.join() to wait for the execution to finish before continuing.</p>\n\n<p>This is a simplification of the problem. Please just focus on the solution of the problem: \n- start coroutine, \n- check if coroutine is still running, \n- if yes, wait for coroutine to finish before doing other logic</p>\n\n<p>In the repository it looks as follows:</p>\n\n<pre><code>class Repository(private val networkManager: NetworkManager) {\n    private var allObjectsJob: Job? = null\n\n    fun getAllObjects(forceReload: Boolean = false) {\n        allObjectsJob = launch {\n            try {\n                val objects = networkManager.getAllObjects().await().filterNotNull()\n                // e.g. put all objects in map\n            } catch (e: HttpException) {\n                // error handling\n            }\n        }\n    }\n\n    fun getObject(id: String) {\n        launch {\n            if (allObjectsJob != null &amp;&amp; allObjectsJob!!.isActive) {\n                allObjectsJob!!.join()\n            }\n\n            // e.g. get object from map\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 50002744, "answer_count": 2, "score": 2, "last_activity_date": 1536746243, "creation_date": 1524556441, "last_edit_date": 1536746243, "question_id": 49996234, "link": "https://stackoverflow.com/questions/49996234/kotlin-coroutines-rxjava-like-subscribe-to-running-job-check-if-coroutine-is", "title": "Kotlin Coroutines: RxJava-like subscribe to running job / Check if coroutine is running", "body": "<p>I have the following setup (simplified):</p>\n\n<ul>\n<li>network manager (get data from backend)</li>\n<li>repository (handle data and forward to ui)</li>\n</ul>\n\n<p>I'm looking for a way to do the following with Coroutines:</p>\n\n<ul>\n<li>Before reaching the target screen, I already start prefetching data while navigating to another screen.</li>\n<li>When reaching the target screen I would like to check if the task is still running und if yes, \"subscribe\" to or wait for the result instead of starting a new redundant network job.</li>\n</ul>\n\n<p>Is there a way to achieve this with Coroutines?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1524555975, "creation_date": 1524555975, "answer_id": 49996089, "question_id": 49996038, "link": "https://stackoverflow.com/questions/49996038/generate-multiple-view-layout-in-android-kotlin/49996089#49996089", "title": "generate multiple view layout in android kotlin", "body": "<p>You're adding your <code>View</code> to its parent twice, you have this call duplicated in your code:</p>\n\n<pre><code>lytAnswerStatuses.addView(v)\n</code></pre>\n\n<p>Simply remove one of the calls to avoid the error.</p>\n"}, {"tags": [], "owner": {"reputation": 351, "user_id": 4392598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rJPb0.jpg?s=128&g=1", "display_name": "Saini Arun", "link": "https://stackoverflow.com/users/4392598/saini-arun"}, "is_accepted": false, "score": 1, "last_activity_date": 1524566620, "last_edit_date": 1524566620, "creation_date": 1524556515, "answer_id": 49996264, "question_id": 49996038, "link": "https://stackoverflow.com/questions/49996038/generate-multiple-view-layout-in-android-kotlin/49996264#49996264", "title": "generate multiple view layout in android kotlin", "body": "<p>You are adding View \"v\" to the layout before if condition and doing it again after the if condition. So when you are adding it again to the layout after the if condition, your View 'v' already has a parent as it was attached to your layout previously. </p>\n\n<p>So to handle this:\nYou remove one of the 'addView' statements or just remove the parent from view to which it is attached before adding the view second time. with</p>\n\n<p><em>((ViewGroup)v.getParent().getParent()).removeView((ViewGroup)v.getParent());</em></p>\n"}], "owner": {"reputation": 81, "user_id": 2042353, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DIuzs.png?s=128&g=1", "display_name": "Masoud Kardani", "link": "https://stackoverflow.com/users/2042353/masoud-kardani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 49996089, "answer_count": 2, "score": 0, "last_activity_date": 1524566620, "creation_date": 1524555758, "question_id": 49996038, "link": "https://stackoverflow.com/questions/49996038/generate-multiple-view-layout-in-android-kotlin", "title": "generate multiple view layout in android kotlin", "body": "<p>I want to create multiple <code>View</code> layout programmatically and add theme into another layout, in java do that was simple but in kotlin when i try that run time error happens!</p>\n\n<p>my code is:</p>\n\n<pre><code>fun generateAnswersStatus(){\n\n        //@drawable/ui_top_rounded_answer_background_correct\n\n        for(q in match_game!!.getQuestions()!!){\n\n\n            val v = View(this)\n\n            v.id = q.getId()!!\n            v.layoutParams = ViewGroup.LayoutParams(30,40)\n\n            lytAnswerStatuses.addView(v)\n\n            if(q.getUser1Answer() == null){\n\n                v.setBackgroundResource(R.drawable.ui_top_rounded_answer_background_normal)\n            }else{\n\n                if(q.getUser1Answer()!!.toInt() == q.getCorrectAnswer()){\n\n                    v.setBackgroundResource(R.drawable.ui_top_rounded_answer_background_correct)\n                }else{\n\n                    v.setBackgroundResource(R.drawable.ui_top_rounded_answer_background_wrong)\n                }\n\n            }\n\n            lytAnswerStatuses.addView(v)\n        }\n\n    }\n</code></pre>\n\n<p>and error is:</p>\n\n<pre><code>java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n</code></pre>\n\n<p>why?</p>\n"}, {"tags": ["android", "group-by", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 1, "last_activity_date": 1524554691, "creation_date": 1524554691, "answer_id": 49995679, "question_id": 49995612, "link": "https://stackoverflow.com/questions/49995612/get-values-of-groupby/49995679#49995679", "title": "Get values of groupBy", "body": "<p><code>groupBy</code> returns a map. You get a value out of a map using the <code>[]</code> operator:</p>\n\n<pre><code>byLength[3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "is_accepted": false, "score": 1, "last_activity_date": 1524554693, "creation_date": 1524554693, "answer_id": 49995681, "question_id": 49995612, "link": "https://stackoverflow.com/questions/49995612/get-values-of-groupby/49995681#49995681", "title": "Get values of groupBy", "body": "<p><code>byLength[3]</code></p>\n\n<p>This is how you index into a map in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1524554744, "creation_date": 1524554744, "answer_id": 49995707, "question_id": 49995612, "link": "https://stackoverflow.com/questions/49995612/get-values-of-groupby/49995707#49995707", "title": "Get values of groupBy", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\"><code>groupBy</code></a> returns a <code>Map</code>, specifically a <code>Map&lt;Int, List&lt;String&gt;&gt;</code> in this case. If you need the value associated with a given key, you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/get.html\" rel=\"nofollow noreferrer\"><code>get</code></a> method (which can also be called as an operator):</p>\n\n<pre><code>val v1: List&lt;String&gt;? = byLength.get(3)\nval v2: List&lt;String&gt;? = byLength[3]\n</code></pre>\n\n<p>Alternatively, there's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/get-or-default.html\" rel=\"nofollow noreferrer\"><code>getOrDefault</code></a> which gives you a non-nullable result:</p>\n\n<pre><code>val v3: List&lt;String&gt; = byLength.getOrDefault(3, emptyList())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 716, "user_id": 7656172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGszH.jpg?s=128&g=1", "display_name": "Micha\u0142 Baran", "link": "https://stackoverflow.com/users/7656172/micha%c5%82-baran"}, "is_accepted": true, "score": 1, "last_activity_date": 1524554870, "creation_date": 1524554870, "answer_id": 49995742, "question_id": 49995612, "link": "https://stackoverflow.com/questions/49995612/get-values-of-groupby/49995742#49995742", "title": "Get values of groupBy", "body": "<p><code>println(byLength[3])</code></p>\n\n<p>and to access <code>abc</code> and <code>def</code> you can do</p>\n\n<pre><code>val tab = byLength[3]!!\nprintln(tab[0]) // abc\nprintln(tab[1]) // def\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 49995742, "answer_count": 4, "score": 1, "last_activity_date": 1524556157, "creation_date": 1524554452, "last_edit_date": 1524556157, "question_id": 49995612, "link": "https://stackoverflow.com/questions/49995612/get-values-of-groupby", "title": "Get values of groupBy", "body": "<p>This must be a really silly question but in the tutorials I found, they usually print all the values of a set. What if I only wanted the values corresponding to a key? Sorry, I'm new to Kotlin and OOP in general.</p>\n\n<p>So for example:</p>\n\n<pre><code>val words = listOf(\"a\", \"abc\", \"ab\", \"def\", \"abcd\")\nval byLength = words.groupBy { it.length }\n\nprintln(byLength.keys) // [1, 3, 2, 4]\nprintln(byLength.values) // [[a], [abc, def], [ab], [abcd]]\n</code></pre>\n\n<p>How do I access only <code>[abc, def]</code> given the key <code>3</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "edited": false, "score": 0, "creation_date": 1524552214, "post_id": 49994928, "comment_id": 87006269, "body": "Please post he layout along with the synthetic import statement. For me it seems like the id is missing in the layout. Otherwise it should crash much earlier."}, {"owner": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "edited": false, "score": 1, "creation_date": 1524553564, "post_id": 49994928, "comment_id": 87007027, "body": "Ok I think your issue is that you are accessing the view too early. You can&#39;t access any view before <code>onCreateView</code> returns. I think your <code>LoaderManager#initLoader</code> eventually calls one of your <code>HistoryContract.View</code> functions."}, {"owner": {"reputation": 2780, "user_id": 8597176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d69635e6443411a2d4b9b5c396c77b0?s=128&d=identicon&r=PG&f=1", "display_name": "nick.tdr", "link": "https://stackoverflow.com/users/8597176/nick-tdr"}, "reply_to_user": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "edited": false, "score": 0, "creation_date": 1524554221, "post_id": 49994928, "comment_id": 87007411, "body": "In the onCreateView functio, first the layout is inflated. The loader is called only after the views are inflated. So I don&#39;t understand how the views are not available when the loader calls them."}, {"owner": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "edited": false, "score": 0, "creation_date": 1524554315, "post_id": 49994928, "comment_id": 87007470, "body": "Because <code>getView()</code> still returns null as long as nothing is returned from <code>onCreateView</code>. Just move your Loader code to <code>onViewCreated</code> and you should be fine."}, {"owner": {"reputation": 2780, "user_id": 8597176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d69635e6443411a2d4b9b5c396c77b0?s=128&d=identicon&r=PG&f=1", "display_name": "nick.tdr", "link": "https://stackoverflow.com/users/8597176/nick-tdr"}, "reply_to_user": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "edited": false, "score": 0, "creation_date": 1524565625, "post_id": 49994928, "comment_id": 87014572, "body": "Thanks @reVerse. This solved it"}, {"owner": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "edited": false, "score": 0, "creation_date": 1524571291, "post_id": 49994928, "comment_id": 87018258, "body": "I posted it as an answer for visibility reasons."}], "answers": [{"comments": [{"owner": {"reputation": 2780, "user_id": 8597176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d69635e6443411a2d4b9b5c396c77b0?s=128&d=identicon&r=PG&f=1", "display_name": "nick.tdr", "link": "https://stackoverflow.com/users/8597176/nick-tdr"}, "edited": false, "score": 0, "creation_date": 1524571755, "post_id": 50001147, "comment_id": 87018574, "body": "Yes I understand it now. Thanks for the answer @reVerse"}], "tags": [], "owner": {"reputation": 33752, "user_id": 982852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f95dcbbff244136c4e96fc03eecc17?s=128&d=identicon&r=PG", "display_name": "reVerse", "link": "https://stackoverflow.com/users/982852/reverse"}, "is_accepted": true, "score": 6, "last_activity_date": 1524571245, "creation_date": 1524571245, "answer_id": 50001147, "question_id": 49994928, "link": "https://stackoverflow.com/questions/49994928/synthetic-import-in-kotlin-not-working/50001147#50001147", "title": "Synthetic import in kotlin not working", "body": "<p>Your issue is that you are trying to access the view too early. In <code>#onCreateView</code> you are inflating your view but <code>Fragment#getView()</code> will still return null as long as you do not return the inflated view. Internally the Kotlin Android Extensions use <code>getView().findViewById(int)</code> method to bind the views the first time you are trying to access it.</p>\n\n<p><strong>tl;dr</strong></p>\n\n<p>To fix your issue simply return the inflated view in <code>#onCreateView</code> and move your operations regarding the <code>LoaderManager</code> to <code>#onViewCreated</code>:</p>\n\n<pre><code>class HistoryFragment : Fragment(), HistoryContract.view, LoaderManager.LoaderCallbacks&lt;List&lt;SongEntity&gt;&gt;{\n\n    // ...\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        return inflater.inflate(R.layout.fragment_song_history, container, false)\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        loaderManager.initLoader(loaderId, null , this)\n        songHistoryRv.layoutManager = LinearLayoutManager(context)\n        songHistoryRv.adapter = HistoryAdapter {\n            Toast.makeText(activity!!.baseContext, \"${it.name}\", Toast.LENGTH_SHORT).show()\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 5800586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6155efd9c315046bb632bcc38101bdf?s=128&d=identicon&r=PG&f=1", "display_name": "Nikunjkumar Kapupara", "link": "https://stackoverflow.com/users/5800586/nikunjkumar-kapupara"}, "is_accepted": false, "score": 0, "last_activity_date": 1533039028, "creation_date": 1533039028, "answer_id": 51613090, "question_id": 49994928, "link": "https://stackoverflow.com/questions/49994928/synthetic-import-in-kotlin-not-working/51613090#51613090", "title": "Synthetic import in kotlin not working", "body": "<p>Please try to use/do code in <code>onViewCreated</code> ... Like this</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        myRequestListRV.layoutManager = LinearLayoutManager(homeActivity)\n    }\n</code></pre>\n"}], "owner": {"reputation": 2780, "user_id": 8597176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d69635e6443411a2d4b9b5c396c77b0?s=128&d=identicon&r=PG&f=1", "display_name": "nick.tdr", "link": "https://stackoverflow.com/users/8597176/nick-tdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3407, "favorite_count": 0, "accepted_answer_id": 50001147, "answer_count": 2, "score": 3, "last_activity_date": 1533039028, "creation_date": 1524551836, "last_edit_date": 1524556500, "question_id": 49994928, "link": "https://stackoverflow.com/questions/49994928/synthetic-import-in-kotlin-not-working", "title": "Synthetic import in kotlin not working", "body": "<p>In a <code>Fragment</code>, Kotlins synthetic import for layouts provided by <code>Anko</code> isn't working. I am trying to set the visibility of the views but it says the view is null. I have the following code.</p>\n\n<pre><code>class HistoryFragment : Fragment(), HistoryContract.view, LoaderManager.LoaderCallbacks&lt;List&lt;SongEntity&gt;&gt;{\n\n    private lateinit var mPresenter : HistoryContract.Presenter\n    private lateinit var adapter: HistoryAdapte\n    private val loaderId : Int = 101\n\n    override fun onLoadFinished(loader: Loader&lt;List&lt;SongEntity&gt;&gt;?, data: List&lt;SongEntity&gt;?) {\n        hideLoadingIndicator()\n\n        if (data == null) {\n            showErrorView()\n        } else {\n            //update the adapter\n            adapter.updateDataset(data)\n        }\n    }\n\n    override fun onLoaderReset(loader: Loader&lt;List&lt;SongEntity&gt;&gt;?) {\n    }\n\n    override fun onCreateLoader(id: Int, args: Bundle?): Loader&lt;List&lt;SongEntity&gt;&gt; {\n       showLoadingIndicator()\n\n       return object : AsyncTaskLoader&lt;List&lt;SongEntity&gt;&gt;(activity!!.baseContext){\n            override fun loadInBackground(): List&lt;SongEntity&gt;? {\n                return mPresenter.fetchSongs()\n            }\n        }\n    }\n\n    override fun showLoadingIndicator() {\n        song_history_pv.visibility = View.VISIBLE\n    }\n\n    override fun hideLoadingIndicator() {\n        song_history_pv.visibility = View.INVISIBLE\n    }\n\n    override fun showErrorView() {\n        song_history_error_tv.visibility = View.VISIBLE\n    }\n\n    override fun hideErrorView() {\n        song_history_error_tv.visibility = View.INVISIBLE\n    }\n\n    override fun setPresenter(presenter: HistoryContract.Presenter) {\n        mPresenter = presenter\n    }\n\n    override fun showDiscoveredSongs(songs: List&lt;SongEntity&gt;) {\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        val rootView = inflater.inflate(R.layout.fragment_song_history, container, false)\n        loaderManager.initLoader(loaderId, null , this)\n        songHistoryRv.layoutManager = LinearLayoutManager(context)\n        songHistoryRv.adapter = HistoryAdapter {\n            Toast.makeText(activity!!.baseContext, \"${it.name}\", Toast.LENGTH_SHORT).show()\n        }\n\n        return rootView\n    }\n}\n</code></pre>\n\n<p>Now when I am setting the visibility of the progress view in the showLoadingIndicator function i am getting the error that the view is null.</p>\n\n<p><a href=\"https://i.stack.imgur.com/KPu7C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KPu7C.png\" alt=\"This is the null error I am getting\"></a></p>\n\n<p>Below is the layout file that I am using for the fragment</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/songHistoryRv\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;ProgressBar\n        android:id=\"@+id/song_history_pv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"32dp\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/song_history_error_tv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/song_history_error\"\n        android:visibility=\"invisible\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>import kotlinx.android.synthetic.main.fragment_song_history.* is the synthetic import that I am using.</p>\n\n<p>Please help me out on this. Am I missing something? I am new to kotlin.</p>\n"}, {"tags": ["android", "ios", "swift", "sorting", "kotlin"], "comments": [{"owner": {"reputation": 5853, "user_id": 10561460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jl1Jc.png?s=128&g=1", "display_name": "Paresh P.", "link": "https://stackoverflow.com/users/10561460/paresh-p"}, "edited": false, "score": 0, "creation_date": 1524551809, "post_id": 49994848, "comment_id": 87006041, "body": "Leave comment when you downvote the question."}, {"owner": {"reputation": 2380, "user_id": 8894614, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tQs20.jpg?s=128&g=1", "display_name": "Wings", "link": "https://stackoverflow.com/users/8894614/wings"}, "edited": false, "score": 0, "creation_date": 1524552025, "post_id": 49994848, "comment_id": 87006176, "body": "you better know your setup"}, {"owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "reply_to_user": {"reputation": 2380, "user_id": 8894614, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tQs20.jpg?s=128&g=1", "display_name": "Wings", "link": "https://stackoverflow.com/users/8894614/wings"}, "edited": false, "score": 0, "creation_date": 1524552912, "post_id": 49994848, "comment_id": 87006625, "body": "@V_rohit I didn&#39;t do any special except creating a project for both Swift and Kotlin by adding the code above. Also i am using the latest xcode, ij, java and mac os."}, {"owner": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 1, "creation_date": 1524553014, "post_id": 49994848, "comment_id": 87006681, "body": "How are you running the Swift?  If you\u2019re running it in a playground know that it\u2019s interpreted (not very efficiently) and very slow for many things."}, {"owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "reply_to_user": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 0, "creation_date": 1524553190, "post_id": 49994848, "comment_id": 87006797, "body": "@DavidBerry I am running on simulator. I tried in playground also but it was worst so i stopped. These results are not from playground."}, {"owner": {"reputation": 486140, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 2, "creation_date": 1524553353, "post_id": 49994848, "comment_id": 87006911, "body": "Sorting 100,000,000 elements takes approx 16 seconds on my MacBook Pro when compiled as a Xcode project in Release configuration, i.e. with optimizations."}, {"owner": {"reputation": 486140, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1524553374, "post_id": 49994848, "comment_id": 87006927, "body": "See also <a href=\"https://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays\">Swift performance: sorting arrays</a>"}, {"owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "reply_to_user": {"reputation": 486140, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1524554336, "post_id": 49994848, "comment_id": 87007483, "body": "@MartinR Looks like a good highlight. This is what i meant for setup. I will try with release mode and update the findings."}, {"owner": {"reputation": 486140, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 5, "creation_date": 1524554753, "post_id": 49994848, "comment_id": 87007737, "body": "Probably irrelevant here, but note that a Kotlin Int corresponds to <code>Int32</code> in Swift."}, {"owner": {"reputation": 486140, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1524556865, "post_id": 49994848, "comment_id": 87009036, "body": "So Swift is faster than Kotlin now (and the final question makes no sense anymore). Doesn&#39;t that make your question obsolete?"}, {"owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "reply_to_user": {"reputation": 486140, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1524557056, "post_id": 49994848, "comment_id": 87009158, "body": "@MartinR yeah. Let me update."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 1, "creation_date": 1524557172, "post_id": 49994848, "comment_id": 87009220, "body": "@Kamran I think the result after your update is reasonable. What is the problem now?"}], "answers": [{"tags": [], "owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "is_accepted": true, "score": 9, "last_activity_date": 1552552518, "last_edit_date": 1552552518, "creation_date": 1524585552, "answer_id": 50006151, "question_id": 49994848, "link": "https://stackoverflow.com/questions/49994848/swift-vs-kotlin-performance-on-sorting-array/50006151#50006151", "title": "Swift vs Kotlin performance on sorting array", "body": "<p>As <a href=\"https://stackoverflow.com/users/1187415/martin-r\">MartinR</a> highlighted to compile with <code>release</code> build configuration for <code>Swift</code> so i changed it to <code>release</code> and with that it seems <code>Swift</code> is faster for any number as shown in the below results,</p>\n\n<p><strong>Swift with Build Configuration as release</strong></p>\n\n<pre><code>Size: 1000    Time:  0.001 sec\nSize: 10000    Time: 0.001 sec\nSize: 100000    Time: 0.006 - 0.007 sec\nSize: 1000000    Time: 0.076 - 0.081 sec\nSize: 10000000    Time: 0.891 - 0.898 sec\nSize: 100000000    Time: 9.01 - 10.14 sec\n\nSize: 1000000000    Time: 113.87 - 117.285 sec\n</code></pre>\n\n<p>This might be helpful for someone to check <code>Swift</code> results in <code>release</code> build configuration when doing some kind of performance benchmark as shown above, the results vary significantly in debug and release configurations.</p>\n\n<p>In debug and release configurations, compiler uses different optimization levels so it affects the performance. Some discussion on optimization levels can be found in this <a href=\"https://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays\">question</a> </p>\n"}], "owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2712, "favorite_count": 4, "accepted_answer_id": 50006151, "answer_count": 1, "score": 8, "last_activity_date": 1552552518, "creation_date": 1524551512, "last_edit_date": 1524585547, "question_id": 49994848, "link": "https://stackoverflow.com/questions/49994848/swift-vs-kotlin-performance-on-sorting-array", "title": "Swift vs Kotlin performance on sorting array", "body": "<p>I tried sorting an array of size 100000000 in <code>Swift</code> and <code>Kotlin</code> and i can see a huge performance gap between them. For this number, <code>Kotlin</code> is almost <code>18</code> times faster than <code>Swift</code>(on my machine). </p>\n\n<p>I recorded some results and i found that swift is faster when the size is around 10000 or less but once the number goes up, <code>Swift</code> becomes significantly slow as compare to <code>Kotlin</code>.</p>\n\n<p>Code for Swift and Kotlin is below,</p>\n\n<p>Swift</p>\n\n<pre><code>let n = 100000000\nvar arr = Array(repeating: 0, count: n)\n\nfor i in 1...n {\n    arr[i-1] = Int(arc4random_uniform(UInt32(n)))\n}\n\n//Record time before sort\narr.sort()\n//Record time after sort\n</code></pre>\n\n<p>Kotlin</p>\n\n<pre><code>val n = 100000000\nval arr = IntArray(n)\n\nfor (i in 1..n) {\n    arr[i-1] = Random().nextInt(n)\n}\n\n//Record time before sort\narr.sort()\n//Record time after sort\n</code></pre>\n\n<p>Time recorded for both is below,</p>\n\n<p>Swift </p>\n\n<pre><code>Size: 1000    Time:  0.001 sec\nSize: 10000    Time: 0.009 - 0.01 sec\nSize: 100000    Time: 0.122 - 0.127 sec\nSize: 1000000    Time: 1.392 - 1.409 sec\nSize: 10000000    Time: 16.115 - 16.569 sec\nSize: 100000000    Time: 187.346 - 187.71 sec\n\nSize: 1000000000    Waited more than 6 minutes and gave up!\n</code></pre>\n\n<p>Kotlin</p>\n\n<pre><code>Size: 1000    Time: 0.06 sec\nSize: 10000    Time: 0.063 - 0.084 sec\nSize: 100000    Time: 0.083 - 0.105 sec\nSize: 1000000    Time: 0.23 - 0.501 sec\nSize: 10000000    Time: 1.098 - 1.807 sec\nSize: 100000000    Time: 10.759 - 11.141 sec\n\nSize: 1000000000    Time: 124.252 - 127.54 sec\n</code></pre>\n\n<p>So, here you can see <code>Swift</code> is becoming extremely slow when size increases although it is faster when the number is small.</p>\n"}, {"tags": ["google-chrome-extension", "kotlin"], "comments": [{"owner": {"reputation": 42506, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 2, "creation_date": 1524516034, "post_id": 49989384, "comment_id": 86995669, "body": "The error says chrome.tabs is undefined. Are you trying to use it inside a content script? You can&#39;t do that."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 4610655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6345f8a83b6270c8fbda201394d9fb21?s=128&d=identicon&r=PG&f=1", "display_name": "Romain Bitard", "link": "https://stackoverflow.com/users/4610655/romain-bitard"}, "is_accepted": true, "score": 0, "last_activity_date": 1524520324, "creation_date": 1524520324, "answer_id": 49990486, "question_id": 49989384, "link": "https://stackoverflow.com/questions/49989384/kotlinjs-chrome-extension-get-active-tab-url/49990486#49990486", "title": "kotlinJS chrome extension get active tab url", "body": "<p>It works if I click on the extension button, I was testing in on a separate tab and it wasn't working. Thanks for the help</p>\n"}], "owner": {"reputation": 81, "user_id": 4610655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6345f8a83b6270c8fbda201394d9fb21?s=128&d=identicon&r=PG&f=1", "display_name": "Romain Bitard", "link": "https://stackoverflow.com/users/4610655/romain-bitard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "closed_date": 1525424411, "accepted_answer_id": 49990486, "answer_count": 1, "score": 0, "last_activity_date": 1524520324, "creation_date": 1524514929, "question_id": 49989384, "link": "https://stackoverflow.com/questions/49989384/kotlinjs-chrome-extension-get-active-tab-url", "closed_reason": "Duplicate", "title": "kotlinJS chrome extension get active tab url", "body": "<p>I tried to follow a tutorial to create a chrome extension (<a href=\"https://github.com/apatrida/kotlin-example-chrome-ext/blob/master/src/main/kotlin/com/collokia/browserplugin/chrome/GoogleImageTest/Extension.kt\" rel=\"nofollow noreferrer\">https://github.com/apatrida/kotlin-example-chrome-ext/blob/master/src/main/kotlin/com/collokia/browserplugin/chrome/GoogleImageTest/Extension.kt</a>)</p>\n\n<p>But it seems to be outdated for the latest kotlinjs version.</p>\n\n<p>I'm trying to get the active tab URL with this code</p>\n\n<pre><code>fun getActiveTabURL(): String {\nvar url = \"NotInit\"\nchrome.tabs.query(chrome_tabs_CurrentTabQuery()) {\n    tabs -&gt;\n        println(\"tabsssssssss\")\n        url = tabs[0].url ?: \"NULL\"\n        println(\"print url $url\")\n\n}\nprintln(url)\nreturn url\n</code></pre>\n\n<p>}</p>\n\n<p>But it doesn't seems to work the tutorial uses keywords like native but I can't use them on my IDE (IntelliJ)</p>\n\n<pre><code>external object chrome {\nobject tabs {\n    object Tab {\n        var status: String?\n        var index: Number\n        var openerTabId: Number?\n        var title: String?\n        var url: String?\n        var pinned: Boolean\n        var highlighted: Boolean\n        var windowId: Number\n        var active: Boolean\n        var favIconUrl: String?\n        var id: Number\n        var incognito: Boolean\n    }\n    public fun query(queryInfo: Any, callback: (result: Array&lt;Tab&gt;) -&gt; Unit): Unit = definedExternally\n}\n}\n\nclass chrome_tabs_CurrentTabQuery() {\nval active = true;\nval currentWindow = true\n}\n</code></pre>\n\n<p>Do you know what's wrong or a more recent example?\nI obtain a </p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'query' of undefined\nat getActiveTabURL (kotlinextensiontest.js:61)\nat main (kotlinextensiontest.js:20)\nat kotlinextensiontest.js:122\nat kotlinextensiontest.js:125\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 6067562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ee927e2e46a742f343114200cd3ca55?s=128&d=identicon&r=PG&f=1", "display_name": "alexanders916", "link": "https://stackoverflow.com/users/6067562/alexanders916"}, "edited": false, "score": 0, "creation_date": 1524512415, "post_id": 49988656, "comment_id": 86993924, "body": "May I ask why Kotlin devs didn&#39;t implement an easy way to override operators, when you don&#39;t own the object located on the left hand side? Are there special reasons or limitations, which generate struggle for the devs?"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1524514768, "post_id": 49988656, "comment_id": 86995127, "body": "Basically they want it very clear where the function is coming from. If you&#39;re using IntelliJ, it takes care of it for you most of the time. But it sounds like you&#39;re looking for something like MetaProgramming in Groovy, where it dynamically determines what should happen. That&#39;s not what Kotlin&#39;s about..."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 0, "last_activity_date": 1524511998, "creation_date": 1524511998, "answer_id": 49988656, "question_id": 49988601, "link": "https://stackoverflow.com/questions/49988601/import-class-and-extension-functions-for-the-class-simultaneously/49988656#49988656", "title": "Import class and extension functions for the class simultaneously", "body": "<p>Unless you want to place these extension functions into their own package and use a * import on that package, I don't see how you could make this any better. You just have to import the extension functions one by one, that's how the compiler knows where they come from. Otherwise you could have the same extension functions defined in multiple packages and files all over your project and there would be no way to choose between them.</p>\n"}], "owner": {"reputation": 137, "user_id": 6067562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ee927e2e46a742f343114200cd3ca55?s=128&d=identicon&r=PG&f=1", "display_name": "alexanders916", "link": "https://stackoverflow.com/users/6067562/alexanders916"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1249, "favorite_count": 0, "accepted_answer_id": 49988656, "answer_count": 1, "score": 0, "last_activity_date": 1524511998, "creation_date": 1524511753, "question_id": 49988601, "link": "https://stackoverflow.com/questions/49988601/import-class-and-extension-functions-for-the-class-simultaneously", "title": "Import class and extension functions for the class simultaneously", "body": "<p>When you are writing a class (here it will be a simple <code>Integer</code> class, so it will be easy to follow) and you are overloading operators, I already had a problem on how to overload the operator for a stranger class, which takes your object as a parameter. Look at this example:</p>\n\n<pre><code>package com.example\n\nclass Integer(var value: Int) {\n\n    operator fun plus(x: Integer) = Integer(value + x.value)\n    operator fun plus(x: Int) = Integer(value + x)\n    operator fun minus(x: Integer) = Integer(value - x.value)\n    operator fun minus(x: Int) =  Integer(value - x)\n\n    override fun toString(): String {\n        return value.toString()\n    }\n}\n</code></pre>\n\n<p>I simply overload simple operators so maybe another programmer can use these overloads to avoid creating functions on his own. Now I got following problem: When overloading operators for classes you don't own, you can create simple extension functions like this:</p>\n\n<pre><code>operator fun Int.plus(x: Integer) = Integer(x.value + this) // This is referencing to the actual `Int` object\noperator fun Int.minus(x: Integer) = Integer(x.value - this)\n...\n</code></pre>\n\n<p>but where do I got to place these extension functions to be imported automatically when the <code>Integer</code> class is being used?</p>\n\n<pre><code>// Main.kt\nimport com.example.Integer\n\nfun main(args: Array&lt;String&gt;) {\n    val int1: Integer(2) + 3 // Compiles\n    val int2: 3 + Integer(2) // Doesn't compile unleast you add the extensions functions in `Integer` before the class declaration\n                             // (between the package declaration and the class) and import them explicity\n                             // like `import com.example.plus`\n</code></pre>\n\n<p>I could workaround this by <code>import com.example.*</code>, but then every single class in the package gets imported even if they remain unused. So how do I do this correctly?</p>\n"}, {"tags": ["multithreading", "kotlin", "handler"], "comments": [{"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1524511706, "post_id": 49988340, "comment_id": 86993548, "body": "Can you post full Diapatch class code?"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1524519240, "post_id": 49988340, "comment_id": 86997103, "body": "I edited it ,you have now the full class code"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1524519447, "post_id": 49988340, "comment_id": 86997175, "body": "Once <code>getSomething()</code> returns, the thread will stop, won&#39;t it? So you just need a flag for it to watch inside the loop, and return when it changes value."}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "edited": false, "score": 0, "creation_date": 1524520127, "post_id": 49988340, "comment_id": 86997422, "body": "Yes if getSomething() returns the thread will stop. Which flag should I use please ? I don&#39;t really see , I want to stop the process in the loop when I&#39;m on another Activity"}], "answers": [{"comments": [{"owner": {"reputation": 1334, "user_id": 1447456, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/606d9f69e64fa4eddea4bada8802f7f2?s=128&d=identicon&r=PG", "display_name": "Francisco Albert", "link": "https://stackoverflow.com/users/1447456/francisco-albert"}, "edited": false, "score": 0, "creation_date": 1603978944, "post_id": 61893755, "comment_id": 114211169, "body": "This was really helpful"}], "tags": [], "owner": {"reputation": 2193, "user_id": 2856202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AHuOz.png?s=128&g=1", "display_name": "eigenfield", "link": "https://stackoverflow.com/users/2856202/eigenfield"}, "is_accepted": false, "score": 3, "last_activity_date": 1590284475, "last_edit_date": 1590284475, "creation_date": 1589899066, "answer_id": 61893755, "question_id": 49988340, "link": "https://stackoverflow.com/questions/49988340/stop-thread-in-kotlin/61893755#61893755", "title": "Stop Thread in Kotlin", "body": "<p>A thread needs to periodically check a (global) flag and when it becomes true then the thread will break out from the loop. Java threads cannot be safely stopped without its consent.</p>\n\n<p>Refer to page 252 here <a href=\"http://www.rjspm.com/PDF/JavaTheCompleteReference.pdf\" rel=\"nofollow noreferrer\">http://www.rjspm.com/PDF/JavaTheCompleteReference.pdf</a> that describes the true story behind the legend. </p>\n\n<p>I think that a truly interruptible thread is only possible through the support of the operating system kernel. The actual true lock is held deep down by the CPU hardware microprocessor.   </p>\n"}], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4727, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1590385919, "creation_date": 1524510705, "last_edit_date": 1590385919, "question_id": 49988340, "link": "https://stackoverflow.com/questions/49988340/stop-thread-in-kotlin", "title": "Stop Thread in Kotlin", "body": "<p>First of all, I'm new in Kotlin, so please be nice :).\nIt's also my first time posting on StackOverflow </p>\n\n<p>I want to literally <strong>STOP</strong> the current thread that I created but nothing works.</p>\n\n<p>I tried <code>quit()</code>, <code>quitSafely()</code>, <code>interrupt()</code> but nothing works.</p>\n\n<p>I created a class (<code>Data.kt</code>), in which I create and initialize a <code>Handler</code> and <code>HandlerThread</code> as follows :</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Dispatch(private val label: String = \"main\") {\n\n    var handler: Handler? = null\n    var handlerThread: HandlerThread? = null\n\n    init {\n        if (label == \"main\") {\n            handlerThread = null\n            handler = Handler(Looper.getMainLooper())\n        } else {\n            handlerThread = HandlerThread(label)\n            handlerThread!!.start()\n            handler = Handler(handlerThread!!.looper)\n        }\n    }\n\n    fun async(runnable: Runnable) = handler!!.post(runnable)\n\n    fun async(block: () -&gt; (Unit)) = handler!!.post(block)\n\n    fun asyncAfter(milliseconds: Long, function: () -&gt; (Unit)) {\n        handler!!.postDelayed(function, milliseconds)\n    }\n\n    fun asyncAfter(milliseconds: Long, runnable: Runnable) {\n        handler!!.postDelayed(runnable, milliseconds)\n    }\n\n    companion object {\n        val main = Dispatch()\n        private val global = Dispatch(\"global\")\n        //fun global() = global\n    }\n}\n</code></pre>\n\n<p>And now, in my <code>DataManager</code>, I use these to do asynchronous things :</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getSomething(forceNetwork: Boolean ) {\n\n    val queue1 = Dispatch(\"thread1\") // Create a thread called \"thread1\"\n    queue1.async {\n        for (i in 0..2_000_000) {\n             print(\"Hello World\")\n             // Do everything i want in the current thread\n        }\n\n        // And on the main thread I call my callback\n        Dispatch.main.async {\n            //callback?.invoke(.........)\n        }\n    }\n}\n</code></pre>\n\n<p>Now, in my <code>MainActivity</code>, I made 2 buttons :</p>\n\n<ol>\n<li>One for running the function <code>getSomething()</code></li>\n<li>The other one is used for switching to another Controller View :</li>\n</ol>\n\n<pre><code>val button = findViewById&lt;Button&gt;(R.id.button)\nbutton.setOnClickListener {\n    DataManager.getSomething(true)\n}\n\nval button2 = findViewById&lt;Button&gt;(R.id.button2)\nbutton2.setOnClickListener {\n    val intent = Intent(this, Test::class.java) // Switch to my Test Controller\n    intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY)\n    startActivity(intent)\n    finish()\n}\n</code></pre>\n\n<p>Is there a way to stop the thread, because when I switch to my second View, <code>print(\"Hello World\")</code> is still triggered, unfortunately.</p>\n\n<p>Thanks for helping me guys I hope that you understand ! </p>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 7, "creation_date": 1524508403, "post_id": 49987726, "comment_id": 86991756, "body": "You can press the down arrow on the keyboard after typing the class name, to switch it from File to Class quickly."}, {"owner": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "edited": false, "score": 0, "creation_date": 1533920195, "post_id": 49987726, "comment_id": 90539404, "body": "If you forget to switch it to class, then it shows up as a file in the list, with a .kt extension that is visible. It all works, but doesn&#39;t appear with the class icon as it should. I can&#39;t find a way to correct that either."}, {"owner": {"reputation": 609, "user_id": 7982318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5f81bed777bb72eceb44e02e633c25?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Starostin", "link": "https://stackoverflow.com/users/7982318/kirill-starostin"}, "reply_to_user": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "edited": false, "score": 0, "creation_date": 1534493905, "post_id": 49987726, "comment_id": 90733223, "body": "@JimLeask If you have created a kotlin file but intended to create a class, you just do the following: create a class with a name corresponding to file&#39;s name inside that empty file. Boom, icon will change and everything would be fine) (Assuming you use Idea/Android studio)"}, {"owner": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "edited": false, "score": 1, "creation_date": 1534512462, "post_id": 49987726, "comment_id": 90743676, "body": "No, I have added the class inside these files, the the icon remains a file, with the .kt extension. I am using Android Studio."}, {"owner": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "edited": false, "score": 2, "creation_date": 1534952266, "post_id": 49987726, "comment_id": 90891243, "body": "Ah - turns out the class symbol in the list is only there if the file contains &#39;class&#39; as the very first item (after imports). If you have anything else, like a &#39;data class&#39;, &#39;interface&#39;,  or even &#39;private const&#39;, then the icon for the file reverts to the file icon instead of class."}], "answers": [{"tags": [], "owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "is_accepted": false, "score": 2, "last_activity_date": 1524523280, "creation_date": 1524523280, "answer_id": 49990914, "question_id": 49987726, "link": "https://stackoverflow.com/questions/49987726/how-to-make-default-kind-of-new-kotlin-file-to-class/49990914#49990914", "title": "How to make default kind of new kotlin file to class?", "body": "<p>I don't think this is possible. You can, however, create own file template (preferences -> editor -> file and code templates)</p>\n\n<p>Now just select the package in Project view and use <strong>New...</strong> action (not <strong>Kotlin File/Class</strong> that you used before). Popup will appear where you can type characters to select desired template</p>\n\n<p><a href=\"https://i.stack.imgur.com/OpSAB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OpSAB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7562410, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8tlGTiinDIc/AAAAAAAAAAI/AAAAAAAAABM/MxDOU_nVo_U/photo.jpg?sz=128", "display_name": "hongbin dou", "link": "https://stackoverflow.com/users/7562410/hongbin-dou"}, "is_accepted": false, "score": 1, "last_activity_date": 1601028309, "creation_date": 1601028309, "answer_id": 64062018, "question_id": 49987726, "link": "https://stackoverflow.com/questions/49987726/how-to-make-default-kind-of-new-kotlin-file-to-class/64062018#64062018", "title": "How to make default kind of new kotlin file to class?", "body": "<p><a href=\"https://i.stack.imgur.com/KLNQV.png\" rel=\"nofollow noreferrer\">You can update File templates</a></p>\n<p>update <code>Kotlin File</code> to <code>kotlin Class</code>contents,<code>Kotlin File</code> tab we don't use it most of the time.</p>\n<p>Than. new Kotlin File tab = new Kotlin Class tab.</p>\n<p>It's stupid, but it works for me.This saves time in choosing Class by arrow.</p>\n"}], "owner": {"reputation": 1563, "user_id": 1768378, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d04ff4fa7a08dc8de07a6a81d01dd28a?s=128&d=identicon&r=PG", "display_name": "vdshb", "link": "https://stackoverflow.com/users/1768378/vdshb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1982, "favorite_count": 2, "answer_count": 2, "score": 13, "last_activity_date": 1601028309, "creation_date": 1524508235, "question_id": 49987726, "link": "https://stackoverflow.com/questions/49987726/how-to-make-default-kind-of-new-kotlin-file-to-class", "title": "How to make default kind of new kotlin file to class?", "body": "<p>There is kotlin file by default, but I want to make a class as default kind. Just like in Java. I hate to swith it to class every time I want to make new class file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sP8Rq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sP8Rq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "mockk"], "answers": [{"tags": [], "owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "is_accepted": false, "score": 1, "last_activity_date": 1524514900, "creation_date": 1524514900, "answer_id": 49989379, "question_id": 49987500, "link": "https://stackoverflow.com/questions/49987500/is-it-possible-to-keep-the-already-existent-implementations-of-an-interface/49989379#49989379", "title": "Is it possible to keep the already existent implementations of an interface?", "body": "<p>Something alike this should work:</p>\n\n<pre><code>val x = mockk&lt;Database&gt;()\n\nevery { x.runTransaction(any()) } answers { callOriginal() }\n\nx.runTransaction(alsoDelete = true)\n\nverify { x.insertItems(listOf(ItemData(id = 1), ItemData(id = 2), ItemData(id = 3))) }\n</code></pre>\n\n<p>But it's not. I added a ticket <a href=\"https://github.com/oleksiyp/mockk/issues/64\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 537, "user_id": 5207721, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/686783f7f5ad8284b8c1491775db498c?s=128&d=identicon&r=PG&f=1", "display_name": "gesuwall", "link": "https://stackoverflow.com/users/5207721/gesuwall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524514900, "creation_date": 1524507327, "question_id": 49987500, "link": "https://stackoverflow.com/questions/49987500/is-it-possible-to-keep-the-already-existent-implementations-of-an-interface", "title": "Is it possible to keep the already existent implementations of an interface?", "body": "<p>I have an interface like this:</p>\n\n<pre><code>interface Database {\n    fun insertItems(items: List&lt;ItemData&gt;)\n    fun deleteItems(items: List&lt;ItemData&gt;)\n    fun runTransaction(alsoDelete: Boolean) {\n        insertItems(listOf(ItemData(id = 1), ItemData(id = 2), ItemData(id = 3)))\n        if (alsoDelete)\n            deleteItems(listOf(ItemData(id = 4), ItemData(id = 5), ItemData(id = 6)))\n    }\n}\n</code></pre>\n\n<p>I want to use mockk to create instances of <code>Database</code>, but I only want to mock the abstract methods, while keeping <code>runTransaction</code> which does have an implementation that I'd want to test. The result would be that I could then verify like this:</p>\n\n<pre><code>runTransaction(alsoDelete = true)\nverify { insertItems(listOf(ItemData(id = 1), ItemData(id = 2), ItemData(id = 3))) }   \n</code></pre>\n\n<p>Is it possible to achieve this with mockk?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 3, "creation_date": 1524505517, "post_id": 49986857, "comment_id": 86990324, "body": "Why would you need to send data to an Activity that you&#39;re not going to move to the foreground? Sounds like a Service might be what you really want to implement, but it&#39;s hard to say. You really ought to provide more information about the <i>actual</i> problem you&#39;re trying to solve."}, {"owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "edited": false, "score": 0, "creation_date": 1524535462, "post_id": 49986857, "comment_id": 87001361, "body": "You can use static variables"}], "owner": {"reputation": 1, "user_id": 9447272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d440b2e33ce49373462619d4ccbd191?s=128&d=identicon&r=PG&f=1", "display_name": "J.JAIT", "link": "https://stackoverflow.com/users/9447272/j-jait"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524504832, "creation_date": 1524504750, "last_edit_date": 1524504832, "question_id": 49986857, "link": "https://stackoverflow.com/questions/49986857/passing-data-between-activities-without-switching", "title": "Passing data between activities without switching", "body": "<p>I have a project and I'd like to pass a number between 2 activities. BUT, I don't want to change activity automatically (using startIntent).\nBut if I don't use the startIntent, I can't pass my variable between the activities. \nHope you could help me ! Thanks !</p>\n"}, {"tags": ["sorting", "lambda", "collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13739, "user_id": 38333, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e2ea7c27233a9019a1f91a821726a4d4?s=128&d=identicon&r=PG", "display_name": "cd1", "link": "https://stackoverflow.com/users/38333/cd1"}, "edited": false, "score": 0, "creation_date": 1524508534, "post_id": 49986228, "comment_id": 86991825, "body": "Thanks! That worked perfectly. I wasn&#39;t aware of <code>compareBy</code> before."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 8, "last_activity_date": 1524502420, "creation_date": 1524502420, "answer_id": 49986228, "question_id": 49986006, "link": "https://stackoverflow.com/questions/49986006/sortedby-parameter-as-a-variable/49986228#49986228", "title": "sortedBy parameter as a variable", "body": "<p>The problem is that the two lambdas have very different types, so the type of the variable <code>comparator</code> is simply inferred to be <code>Any</code>, which is first common supertype. There is no other type (other than <code>Any?</code>) which this variable can have if you need to be able to assign either of the lambdas to it.</p>\n\n<p>Then, depending on what you ended up with (either a <code>(Person) -&gt; Int</code> or a <code>(Person) -&gt; String</code>), the <code>sortedBy</code> method would have to somehow infer its type parameter, which again is impossible while handling both cases.</p>\n\n<hr>\n\n<p>However, there's a solution. You can create <code>Comparator&lt;Person&gt;</code> instances in the different <code>when</code> branches instead which wrap the specific types of whatever the <code>Person</code> instances are compared by, with the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-by.html\" rel=\"noreferrer\"><code>compareBy</code></a> function:</p>\n\n<pre><code>val comparator: Comparator&lt;Person&gt; = when (sort) {\n    SortBy.NAME -&gt; compareBy { it.name }\n    SortBy.AGE -&gt; compareBy { it.age }\n}\n</code></pre>\n\n<p>And then use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-with.html\" rel=\"noreferrer\"><code>sortedWith</code></a> method that takes a <code>Comparator</code> instead of a selector lambda:</p>\n\n<pre><code>people.sortedWith(comparator).forEach(::println)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13739, "user_id": 38333, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e2ea7c27233a9019a1f91a821726a4d4?s=128&d=identicon&r=PG", "display_name": "cd1", "link": "https://stackoverflow.com/users/38333/cd1"}, "edited": false, "score": 0, "creation_date": 1524571410, "post_id": 49991246, "comment_id": 87018337, "body": "The point is to make the variable <code>sort</code> able to hold <code>Person::age</code>, <code>Person::name</code>, etc, with different types. That&#39;s why my example has that <code>when</code> scenario (the real scenario is more complicated than sorting by only one field, hard coded). This solution wouldn&#39;t work in that situation."}], "tags": [], "owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "is_accepted": false, "score": 0, "last_activity_date": 1524525788, "creation_date": 1524525788, "answer_id": 49991246, "question_id": 49986006, "link": "https://stackoverflow.com/questions/49986006/sortedby-parameter-as-a-variable/49991246#49991246", "title": "sortedBy parameter as a variable", "body": "<p>You could simply use property references</p>\n\n<pre><code>val people = listOf(Person(\"John\", 30), Person(\"Mary\", 20))\nval sort = Person::age\npeople.sortedBy(sort).forEach(::println)\n</code></pre>\n"}], "owner": {"reputation": 13739, "user_id": 38333, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e2ea7c27233a9019a1f91a821726a4d4?s=128&d=identicon&r=PG", "display_name": "cd1", "link": "https://stackoverflow.com/users/38333/cd1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 3, "accepted_answer_id": 49986228, "answer_count": 2, "score": 4, "last_activity_date": 1524525788, "creation_date": 1524501595, "question_id": 49986006, "link": "https://stackoverflow.com/questions/49986006/sortedby-parameter-as-a-variable", "title": "sortedBy parameter as a variable", "body": "<p>I have a method which needs to sort a collection in many possible ways. Instead of calling <code>myCollection.sortedBy</code> multiple times, I'd like to have the lambda which I'd pass to <code>sortedBy</code> in a variable, and later I'd pass that variable to one single call to <code>sortedBy</code>. However, I can't figure out the type which that lambda variable should have. Keep in mind that the \"sorted-by fields\" may have different types (but they're all <code>Comparable</code>, obviously).</p>\n\n<p>Here's a simplified version of my problem:</p>\n\n<pre><code>data class Person(val name: String, val age: Int)\n\nenum class SortBy {\n    NAME, AGE\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val people = listOf(Person(\"John\", 30), Person(\"Mary\", 20))\n    val sort = SortBy.NAME\n\n    val comparator = when (sort) {\n        SortBy.NAME -&gt; { p: Person -&gt; p.name }\n        SortBy.AGE -&gt; { p: Person -&gt; p.age }\n    }\n\n    // the line below won't compile\n    people.sortedBy(comparator).forEach(::println)\n}\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["kotlin", "locking", "mutex", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 1, "creation_date": 1524502507, "post_id": 49985933, "comment_id": 86988813, "body": "Please provide code examples."}], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 2, "creation_date": 1524581923, "post_id": 49998238, "comment_id": 87026096, "body": "But.. is this expected behavior of Mutex?"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 2, "last_activity_date": 1524562636, "creation_date": 1524562636, "answer_id": 49998238, "question_id": 49985933, "link": "https://stackoverflow.com/questions/49985933/mutex-the-right-way/49998238#49998238", "title": "Mutex the right way", "body": "<p>The right way is to design your software in so that avoids usage of <code>Mutex</code> and other forms of shared mutable state altogether. If you have some resource or data structure that needs to be shared you can always encapsulate this data structure inside a separate coroutine and communicate with this coroutine when you need to do anything with this data structure. This design pattern is known as an <em>actor</em>. An actor is a pair  of a coroutine and a channel it reads incoming messages from.</p>\n\n<p>The advantage of this approach is that you can communicate asynchronously with an actor. If you send a message to an actor and don't wait for a response, then you can continue the work without having to wait for an actor to finish processing your message. </p>\n\n<p>You can read a bit more about actors in <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"nofollow noreferrer\">the guide to kotlinx.coroutines</a>.</p>\n"}], "owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2660, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524562636, "creation_date": 1524501316, "question_id": 49985933, "link": "https://stackoverflow.com/questions/49985933/mutex-the-right-way", "title": "Mutex the right way", "body": "<p>What is the right way to \"synchronize\" function which mutates shared state using Mutex? Using Mutex within a coroutine started with <code>launch()</code> or <code>async()</code> works as expected, but if I start a coroutine with <code>runBlocking()</code> the thread looks like blocked (locked) for a very long time. The thing is that the function might be called from multiple threads and I cannot solve this with thread confinement. What's the right way to use Mutex in this scenario?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": true, "score": 6, "last_activity_date": 1524501911, "creation_date": 1524501911, "answer_id": 49986095, "question_id": 49985826, "link": "https://stackoverflow.com/questions/49985826/right-shift-operator-for-byte-in-kotlin/49986095#49986095", "title": "Right shift operator for byte in kotlin", "body": "<p>You can convert <code>bytes[j]</code> to an <code>integer</code> and then the code works:</p>\n\n<pre><code>private val HEX_ARRAY = \"0123456789ABCDEF\".toCharArray()\n\nfun bytesToHex(bytes: ByteArray): String {\n    val hexChars = CharArray(bytes.size * 2)\n    for (j in bytes.indices) {\n        val v = bytes[j].toInt() and 0xFF // Here is the conversion\n        hexChars[j * 2] = HEX_ARRAY[v.ushr(4)]\n        hexChars[j * 2 + 1] = HEX_ARRAY[v and 0x0F]\n    }\n\n    return String(hexChars)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val s = \"hello_world\"\n    println(bytesToHex(s.toByteArray(Charset.forName(\"UTF-8\"))))\n}\n</code></pre>\n\n<p>If you run this you get on the console this:</p>\n\n<pre><code>68656C6C6F5F776F726C64\n</code></pre>\n"}], "owner": {"reputation": 2385, "user_id": 6883143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-6eVI86TCKZ8/AAAAAAAAAAI/AAAAAAAAAB4/AmD0k6JZYN4/photo.jpg?sz=128", "display_name": "Axbor Axrorov", "link": "https://stackoverflow.com/users/6883143/axbor-axrorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4560, "favorite_count": 0, "accepted_answer_id": 49986095, "answer_count": 1, "score": 5, "last_activity_date": 1524501911, "creation_date": 1524500950, "last_edit_date": 1524501295, "question_id": 49985826, "link": "https://stackoverflow.com/questions/49985826/right-shift-operator-for-byte-in-kotlin", "title": "Right shift operator for byte in kotlin", "body": "<p>I have next code in java:</p>\n\n<pre><code>private final static char[] HEX_ARRAY = \"0123456789ABCDEF\".toCharArray();\npublic static String bytesToHex(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    for (int j = 0; j &lt; bytes.length; j++) {\n    int v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n\n    return new String(hexChars);\n}\n</code></pre>\n\n<p>I want to convert this code to kotlin. Autoconverting gave next result:</p>\n\n<pre><code>fun bytesToHex(bytes: ByteArray): String {\n    val hexChars = CharArray(bytes.size * 2)\n    for (j in bytes.indices) {\n        val v = bytes[j] and 0xFF\n        hexChars[j * 2] = HEX_ARRAY[v.ushr(4)]\n        hexChars[j * 2 + 1] = HEX_ARRAY[v and 0x0F]\n    }\n\n    return String(hexChars)\n}\n</code></pre>\n\n<p>but there is no function <code>ushr</code> for type Byte in kotlin. I've tried convert v to Int and shift this value and convert it again to Byte like <code>(v.toInt().ushr(4) as Byte).toInt()</code> . But it gives wrong result. What is the correct way to convert this function into kotlin.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 6742569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1046258202157949/picture?type=large", "display_name": "giudigior", "link": "https://stackoverflow.com/users/6742569/giudigior"}, "is_accepted": false, "score": 1, "last_activity_date": 1528816971, "creation_date": 1528816971, "answer_id": 50820686, "question_id": 49985320, "link": "https://stackoverflow.com/questions/49985320/custom-rating-bar-using-anko/50820686#50820686", "title": "Custom Rating Bar using Anko", "body": "<p>if I can help here is a possible solution to show a custom RatingBar in a custom Alert using Anko library and Kotlin code...</p>\n\n<pre><code>var rateGave: String? = null\nalert {\n        title = \"Rate your experience\"\n        customView {\n            linearLayout {\n                ratingBar {\n                    numStars = 5 //here is to define the number of stars you want\n                    rating = 4f //starting rate to show as the alert pop up\n                    setOnRatingBarChangeListener { ratingBar, rating, fromUser -&gt;\n                        rateGave = rating.toString()\n                    }\n                }\n            }\n        }\n        positiveButton(\"Rate\") { rate() }\n    }.show()\n}\n\nfun rate() {\n    println(rateGave) //now it's just printing out the rate to show that it's working fine, but in this function you can mange all the operations you need with the rating value\n}\n</code></pre>\n\n<p>Hope it can be usefull.\nHave a nice day :)</p>\n"}], "owner": {"reputation": 128, "user_id": 9311761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dcf6cfc742de542c2b3929d32185e19?s=128&d=identicon&r=PG&f=1", "display_name": "Blender", "link": "https://stackoverflow.com/users/9311761/blender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528816971, "creation_date": 1524499156, "question_id": 49985320, "link": "https://stackoverflow.com/questions/49985320/custom-rating-bar-using-anko", "title": "Custom Rating Bar using Anko", "body": "<p>I've been exploring android development using Anko and Kotlin and had some trouble with the ratingbar, namely it size. I've tried to make it smaller using a custom style but themedRatingBar doesn't seem to work. So I've opted to make a custom ratingbar instead. I can't seem to make it work that way I want it to in that when I set it this way in the main activity:</p>\n\n<blockquote>\n  <p>starRatingView{</p>\n  \n  <p>setRating(3)</p>\n  \n  <p>}</p>\n</blockquote>\n\n<p>It does not output a rating of 3 and instead will output the default rating, which is zero.</p>\n\n<blockquote>\n  <p>class StarRatingView: _LinearLayout {</p>\n\n<pre><code>lateinit var imageViewStars: List&lt;ImageView&gt;\nprivate var starNum: Float = 0f\nprivate var starSize: Int = 5\n\nconstructor(context: Context): super(context) {\n    initializeView()\n}\n\nfun initializeView() {\n    with(this) {\n        linearLayout {\n            relativeLayout {\n                linearLayout {\n                    for (i in 1..starSize)\n                        imageView(R.drawable.ratingbar_empty)\n                }\n                linearLayout {\n                    for (i in 0..Math.round(starNum)) {\n                        imageView(R.drawable.ratingbar_filled)\n                    }\n                }\n            }\n        }\n    }\n}\n\nfun setSize(starSize: Int){\n    this.starSize = starSize\n}\n\nfun setRating(starNum: Float){\n    this.starNum = starNum\n}\n</code></pre>\n  \n  <p>}</p>\n</blockquote>\n\n<p>Above is the code that I use to create the custom RatinBar. Trying to avoid using XMLs as much as possible and use Anko instead.</p>\n"}, {"tags": ["java", "apache-spark", "kotlin", "bigdata", "cluster-computing"], "answers": [{"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1524498970, "post_id": 49985223, "comment_id": 86986831, "body": "That&#39;s cool. And how many is recommended per core? Does this mean that just by adding Spark more threads my program will get automatically faster without touching the code?"}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 1, "creation_date": 1524499235, "post_id": 49985223, "comment_id": 86986968, "body": "I&#39;ve always used a 1/1 (8 core machine, I set it to 8 spark &quot;cores&quot;) but I can&#39;t recall anything specific as to why I do it that way. If you were previously just using one I would think you&#39;d see at least some boost in performance; how much likely depends on the use case."}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1524507727, "post_id": 49985223, "comment_id": 86991406, "body": "@AdamArold  <i>Does this mean that just by adding Spark more threads my program will get automatically faster without touching the code</i> - <a href=\"https://stackoverflow.com/q/41090127/6910411\">not really</a>. In general (depending on the data, code and overall configuration) it will keep getting slower and slower :)"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1524558626, "post_id": 49985223, "comment_id": 87010108, "body": "I see. I&#39;m only doing row-based transformations on my <code>Dataset</code>s like <code>replace</code>, <code>toLowerCase</code>, stuff like that. Do I need to touch my code in order to get a speedup?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1524573474, "post_id": 49985223, "comment_id": 87019783, "body": "Update: I just tested it with <code>2</code>, <code>4</code> and <code>8</code> but it actually slowed down compared to the simple <code>local</code> option."}], "tags": [], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "is_accepted": false, "score": 2, "last_activity_date": 1524498993, "last_edit_date": 1524498993, "creation_date": 1524498858, "answer_id": 49985223, "question_id": 49984881, "link": "https://stackoverflow.com/questions/49984881/how-do-i-take-advantage-of-my-local-resources-using-spark-in-local-mode/49985223#49985223", "title": "How do I take advantage of my local resources using Spark in local mode?", "body": "<p>It defaults to one, but you can specify how many you'd like like so:</p>\n\n<pre><code> val config = SparkConfig()\n config.setMaster(\"local[8]\") // local, using 8 threads (you can vary the number)\n config.setAppName(\"qwerty\")\n val context = SparkContext(config)\n</code></pre>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1524498993, "creation_date": 1524497777, "question_id": 49984881, "link": "https://stackoverflow.com/questions/49984881/how-do-i-take-advantage-of-my-local-resources-using-spark-in-local-mode", "title": "How do I take advantage of my local resources using Spark in local mode?", "body": "<p>I've been using Apache Spark to write a desktop app which lets you tamper data interactively. I've recently started reading \"Learning Spark\" and in that the author says that in <code>local</code> mode (when master is set to <code>local</code>) Spark only uses one <code>Thread</code>.</p>\n\n<p>How can I take advantage of all of the cores in my computer without having a full-blown Spark cluster on my computer?</p>\n\n<p>I'm using Java / Kotlin.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1524497303, "post_id": 49984636, "comment_id": 86985809, "body": "Catching <code>Throwable</code> is a very bad idea though"}, {"owner": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1524497715, "post_id": 49984636, "comment_id": 86986054, "body": "It was <code>Exception</code> and I changed it to <code>Throwable</code> just to test"}, {"owner": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "edited": false, "score": 0, "creation_date": 1524498141, "post_id": 49984636, "comment_id": 86986314, "body": "In your &#39;throwable&#39; exception block you then attempt to access request.outputstream.close - which I&#39;d guess is then throwing the exception which is outside a catch."}], "answers": [{"comments": [{"owner": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "edited": false, "score": 0, "creation_date": 1524499492, "post_id": 49985168, "comment_id": 86987111, "body": "I&#39;ve removed the stream close from the catch and no change in behavior"}, {"owner": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "reply_to_user": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "edited": false, "score": 0, "creation_date": 1524499717, "post_id": 49985168, "comment_id": 86987233, "body": "Post the complete stack trace...there&#39;s more - the useful stuff is usually at the bottom of the caused-by chain.  Surround the whole &#39;doinbackground&#39; code with a try/catch throwable and log exception."}, {"owner": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "edited": false, "score": 0, "creation_date": 1524499923, "post_id": 49985168, "comment_id": 86987369, "body": "K, when I get back from lunch I&#39;ll try it. Thanks"}], "tags": [], "owner": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "is_accepted": true, "score": 1, "last_activity_date": 1524498682, "creation_date": 1524498682, "answer_id": 49985168, "question_id": 49984636, "link": "https://stackoverflow.com/questions/49984636/android-library-throwing-exception-inside-try-block-that-catches-all-throwable/49985168#49985168", "title": "Android library throwing exception inside try block that catches all Throwable", "body": "<p>This code:</p>\n\n<pre><code>    try{\n        request.outputStream.write(httpBody)\n    }catch (e: Throwable){\n        request.outputStream.close()\n        failure?.invoke(null, hashMapOf(\"error\" to \"Issue writing to URL\"))\n        return Unit\n    }\n</code></pre>\n\n<p>will attempt to perform an operation in the catch block which can also generate an exception:</p>\n\n<pre><code>        request.outputStream.close()\n</code></pre>\n\n<p>This is uncaught - but also seems ill-advised given you are processing <em>some</em> error in accessing the outputstream.</p>\n\n<p>The exception trace indicates more caused by and I'd guess digging further you'd fine this one.</p>\n"}], "owner": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "accepted_answer_id": 49985168, "answer_count": 1, "score": 0, "last_activity_date": 1524498682, "creation_date": 1524497070, "question_id": 49984636, "link": "https://stackoverflow.com/questions/49984636/android-library-throwing-exception-inside-try-block-that-catches-all-throwable", "title": "Android library throwing exception inside try block that catches all Throwable", "body": "<p>We've written a Kotlin library to handle some networking logic. The library itself contains an <code>AsyncTask</code> that uses the <code>HttpURLConnection</code> facilities in <code>java.net.*</code>. </p>\n\n<pre><code>private inner class ClickstreamTask(\n                                    headers: HashMap&lt;String, String&gt;,\n                                    params: Request,\n                                    success: (() -&gt; Unit)? = null,\n                                    failure: ((statusCode: Int?, json: \nHashMap&lt;String, String&gt;?) -&gt; Unit)? = null) : AsyncTask&lt;Void, Unit, Unit&gt;() {\n\n    private var headers: HashMap&lt;String, String&gt; = headers\n    private var paramaters: Request = params\n    private var success: (() -&gt; Unit)? = success\n    private var failure: ((statusCode: Int?, json: HashMap&lt;String, String&gt;?) -&gt; Unit)? = failure\n\n    override fun doInBackground(vararg params: Void){\n\n        val url = try {\n            URL(getURLString() + path)\n        } catch (e: Exception) {\n            failure?.invoke(null, hashMapOf(\"error\" to \"Invalid URL.\"))\n            return Unit\n        }\n\n        var request = try{\n            url.openConnection() as HttpURLConnection\n        } catch (e: Exception){\n            failure?.invoke(null, hashMapOf(\"error\" to \"Unable to establish connection\"))\n            return Unit\n        }\n\n        request.doInput = false\n        request.doOutput = true\n        val mapper = jacksonObjectMapper()\n\n        request.requestMethod = \"POST\"\n        val httpBody = try {\n            mapper.writeValueAsBytes(paramaters)\n        } catch (e: Exception) {\n            failure?.invoke(null, hashMapOf(\"error\" to \"Invalid params.\"))\n            return Unit\n        }\n\n        for ((key, value) in headers) {\n            request.setRequestProperty(key, value)\n        }\n\n        try{\n            request.outputStream.write(httpBody)\n        }catch (e: Throwable){\n            request.outputStream.close()\n            failure?.invoke(null, hashMapOf(\"error\" to \"Issue writing to URL\"))\n            return Unit\n        }\n        request.outputStream.close()\n\n\n        if (request.responseCode != 200){\n            failure?.invoke(request.responseCode, hashMapOf(\"Failed request\" to request.responseMessage))\n            return Unit\n        }\n\n        success?.invoke()\n        return Unit\n    }\n}\n</code></pre>\n\n<p>When we use the Android app that exercises the library in airplane mode, the app crashes because of an uncaught exception \"UnknownHostException\":</p>\n\n<blockquote>\n  <p>Caused by: java.net.UnknownHostException: Unable to resolve host\n  \"ste03lbclkapp00.iteclientsys.local\": No address associated with\n  hostname  at\n  java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:141)\n    at\n  java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:90)\n    at java.net.InetAddress.getAllByName(InetAddress.java:787)  at\n  com.android.okhttp.Dns$1.lookup(Dns.java:39)  at\n  com.android.okhttp.internal.http.RouteSelector.resetNextInetSocketAddress(RouteSelector.java:175)\n    at\n  com.android.okhttp.internal.http.RouteSelector.nextProxy(RouteSelector.java:141)\n    at\n  com.android.okhttp.internal.http.RouteSelector.next(RouteSelector.java:83)\n    at\n  com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:174)\n    at\n  com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:126)\n    at\n  com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:95)\n    at\n  com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:281)\n    at\n  com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:224)\n    at\n  com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:461)\n    at\n  com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:127)\n    at\n  com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:258)\n    at\n  com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getOutputStream(DelegatingHttpsURLConnection.java:218)\n    at\n  com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getOutputStream(Unknown\n  Source:0)     at\n  com.tdameritrade.amerivest.clickstreamshared.Network.NetworkManager$ClickstreamTask.doInBackground(NetworkManager.kt:87)\n    at\n  com.tdameritrade.amerivest.clickstreamshared.Network.NetworkManager$ClickstreamTask.doInBackground(NetworkManager.kt:43)\n    at android.os.AsyncTask$2.call(AsyncTask.java:333)  at\n  java.util.concurrent.FutureTask.run(FutureTask.java:266)  ... 4 more\n  Caused by: android.system.GaiException: android_getaddrinfo failed:\n  EAI_NODATA (No address associated with hostname)  at\n  libcore.io.Linux.android_getaddrinfo(Native Method)   at\n  libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:59)     at\n  java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:122)\n    ... 24 more</p>\n</blockquote>\n\n<p>The line that is throwing the exception is <code>request.outputStream.write(httpBody)</code>. However, we are wrapping that line in a <code>try / catch</code> that handles <code>Throwable</code>.</p>\n\n<p>How is <code>doOnBackground()</code> line 87 throwing an exception when it's wrapped in a catch?</p>\n"}, {"tags": ["android", "firebase", "reflection", "kotlin", "deserialization"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9685647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a476ad9f325708625d7efe94f98ffe?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/9685647/thomas"}, "is_accepted": true, "score": 0, "last_activity_date": 1524559370, "creation_date": 1524559370, "answer_id": 49997122, "question_id": 49984331, "link": "https://stackoverflow.com/questions/49984331/android-kotlin-creating-a-generictypeindicator-from-reflection/49997122#49997122", "title": "Android, Kotlin: Creating a GenericTypeIndicator from reflection", "body": "<p>I got the detection of the Map variable working by doing an isAssignableFrom, and creating an object for GenericTypeIndicator.</p>\n\n<p>So the only thing that needed to be changed is the <code>when</code> part in the code to this:</p>\n\n<pre><code>when {\n    field.type == Translation::class.java -&gt;\n        field.set(obj, Translation(it.getValue(String::class.java)!!))\n    Map::class.java.isAssignableFrom(field.type) -&gt;\n        field.set(obj, it.getValue(object: GenericTypeIndicator&lt;HashMap&lt;String, Any&gt;&gt;(){}))\n    else -&gt; field.set(obj, it.getValue(field.type))\n}\n</code></pre>\n\n<p>Firebase only accepts String as keys, so we can just make that one fixed, It isn't fond of using * notation for the value though, but we can just make it Any and it seems to work fine.</p>\n\n<p>I hope this helps other people who might ever come across this problem x)</p>\n"}], "owner": {"reputation": 11, "user_id": 9685647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a476ad9f325708625d7efe94f98ffe?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/9685647/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 49997122, "answer_count": 1, "score": 0, "last_activity_date": 1524559370, "creation_date": 1524496075, "question_id": 49984331, "link": "https://stackoverflow.com/questions/49984331/android-kotlin-creating-a-generictypeindicator-from-reflection", "title": "Android, Kotlin: Creating a GenericTypeIndicator from reflection", "body": "<p>So I wrote a class that deserializes a Firebase snapshot into a class. The reason I did this is because I am getting a String object from Firebase which I actually want to instantiate a different class for. This isn't supported by getValue, so I have to do a workaround for it.</p>\n\n<p>Now everything is working, except the Map part. DataSnapshot really wants a GenericTypeIndicator as argument, but since everything will be done dynamically, I don't know how to do this with reflection.</p>\n\n<p>Here is my current code:</p>\n\n<pre><code>fun &lt;T&gt; deserialize(dataSnapshot: DataSnapshot, clazz: Class&lt;T&gt;): T {\n    val obj = clazz.newInstance()\n\n    dataSnapshot.children.forEach {\n        val field = try {\n            clazz.getDeclaredField(it.key)\n        } catch(e: NoSuchFieldException) { return@forEach }\n\n        field.isAccessible = true\n\n        when(field.type){\n            Translation::class.java -&gt;\n                field.set(obj, Translation(it.getValue(String::class.java)!!))\n            Map::class.java -&gt; { /* Here we need to do crazy Map GenericTypeIndicator stuff */ }\n            else -&gt; field.set(obj, it.getValue(field.type))\n        }\n    }\n\n    return obj\n}\n</code></pre>\n\n<p><br />\nThe error I'm getting when I remove the Map case is:</p>\n\n<pre><code>Class java.util.Map has generic type parameters, please use GenericTypeIndicator instead\n</code></pre>\n\n<p><br />\nIf I actually use a GenericTypeIndicator with HashMap it will give me the following error:</p>\n\n<pre><code>com.google.firebase.database.DatabaseException: Not a direct subclass of GenericTypeIndicator: class java.lang.Object\n</code></pre>\n\n<p>Not that I want to do it this way, because this has to be done dynamically eventually. </p>\n\n<p>Now I am at a loss, so any help would be appreciated, mostly because the map differs per object so I can't just have a predefined generic.</p>\n"}, {"tags": ["android", "kotlin", "imageview", "shared-element-transition"], "comments": [{"owner": {"reputation": 1461, "user_id": 3584439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382e03c22caf193e047f0b673dd919a?s=128&d=identicon&r=PG&f=1", "display_name": "tingyik90", "link": "https://stackoverflow.com/users/3584439/tingyik90"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1524496041, "post_id": 49984221, "comment_id": 86984984, "body": "@pskink, is there any resource that you can point me to or perhaps some code to show? Most of the sites that I found are just re-telling the story of what I found on Android Official Guide."}, {"owner": {"reputation": 1461, "user_id": 3584439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382e03c22caf193e047f0b673dd919a?s=128&d=identicon&r=PG&f=1", "display_name": "tingyik90", "link": "https://stackoverflow.com/users/3584439/tingyik90"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1524496873, "post_id": 49984221, "comment_id": 86985498, "body": "Do we have an easier method using xml?"}, {"owner": {"reputation": 1461, "user_id": 3584439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382e03c22caf193e047f0b673dd919a?s=128&d=identicon&r=PG&f=1", "display_name": "tingyik90", "link": "https://stackoverflow.com/users/3584439/tingyik90"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1524539682, "post_id": 49984221, "comment_id": 87002212, "body": "@pskink, well... tried that and was not working. There&#39;s no issue with the viewtype, but the scale type I think."}, {"owner": {"reputation": 310, "user_id": 6135784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dB7rJ.png?s=128&g=1", "display_name": "Paul Souteyrat", "link": "https://stackoverflow.com/users/6135784/paul-souteyrat"}, "edited": false, "score": 0, "creation_date": 1583754259, "post_id": 49984221, "comment_id": 107210683, "body": "I am facing the same problem. Did you solve this issue ?"}, {"owner": {"reputation": 1461, "user_id": 3584439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382e03c22caf193e047f0b673dd919a?s=128&d=identicon&r=PG&f=1", "display_name": "tingyik90", "link": "https://stackoverflow.com/users/3584439/tingyik90"}, "reply_to_user": {"reputation": 310, "user_id": 6135784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dB7rJ.png?s=128&g=1", "display_name": "Paul Souteyrat", "link": "https://stackoverflow.com/users/6135784/paul-souteyrat"}, "edited": false, "score": 0, "creation_date": 1583843001, "post_id": 49984221, "comment_id": 107242805, "body": "@PaulSouteyrat, unfortunately no. In the end, I used Activity to Activity transition: Fragment A in Activity A --&gt; Fragment B in Activity B. That then worked properly. I have open-sourced my app at <a href=\"https://github.com/tingyik90/Pholder\" rel=\"nofollow noreferrer\">github.com/tingyik90/Pholder</a>. You can get try my app at <a href=\"https://play.google.com/store/apps/details?id=com.dokidevs.pholder\" rel=\"nofollow noreferrer\">play.google.com/store/apps/details?id=com.dokidevs.pholder</a>."}, {"owner": {"reputation": 1461, "user_id": 3584439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382e03c22caf193e047f0b673dd919a?s=128&d=identicon&r=PG&f=1", "display_name": "tingyik90", "link": "https://stackoverflow.com/users/3584439/tingyik90"}, "reply_to_user": {"reputation": 310, "user_id": 6135784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dB7rJ.png?s=128&g=1", "display_name": "Paul Souteyrat", "link": "https://stackoverflow.com/users/6135784/paul-souteyrat"}, "edited": false, "score": 0, "creation_date": 1583843107, "post_id": 49984221, "comment_id": 107242874, "body": "There are a lot of comments within the code. You should look into <code>startSlideshow()</code> method of <code>GalleryBaseActivity</code> and follow the method calls."}], "owner": {"reputation": 1461, "user_id": 3584439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f382e03c22caf193e047f0b673dd919a?s=128&d=identicon&r=PG&f=1", "display_name": "tingyik90", "link": "https://stackoverflow.com/users/3584439/tingyik90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1524495707, "creation_date": 1524495707, "question_id": 49984221, "link": "https://stackoverflow.com/questions/49984221/imageview-sharedelement-resized-before-transition", "title": "ImageView SharedElement Resized Before Transition", "body": "<p>I have a <code>MainActivity</code> holding 2 fragments - <code>MainFragment</code> and <code>SlideshowFragment</code>. Both fragments are using <code>ViewPager</code> with <code>FragmentStatePagerAdapter</code> to hold <code>childFragments</code>.</p>\n\n<p>When an <code>ImageView</code> in <code>ChildFragmentA</code> of <code>MainFragment</code> is clicked, it is to expand and fill the <code>PhotoView</code> in <code>ChildFragmentB</code> of <code>SlideshowFragment</code>. The <code>ImageView</code> is held in a <code>RecyclerView</code>.</p>\n\n<p>I've referred to the Android Official Guide <a href=\"https://android-developers.googleblog.com/2018/02/continuous-shared-element-transitions.html\" rel=\"nofollow noreferrer\">here</a>, looked that its GitHub code and had made the required change to make sure the transition names and callback are properly set.</p>\n\n<p>However, <code>ImageView</code> is using <code>centerCrop</code> in xml, while <code>PhotoView</code> is using <code>fitCenter</code>. The result is that before the transition happen, the image will expand first, which is very unpleasant. Gif <a href=\"https://i.imgur.com/lJQPvd0.gif\" rel=\"nofollow noreferrer\">here</a> (irrelevant, but appreciate if someone can let me know how to embed gif).</p>\n\n<p>Below are some of the relevant codes.</p>\n\n<h2>Loading of image into view with Glide</h2>\n\n<pre><code>GlideApp.with(getActivityContext())\n    .load(filePath)\n    .dontTransform()    // I found some posts that say this should be set\n    .listener(object : RequestListener&lt;Drawable&gt; {\n        override fun onLoadFailed(e: GlideException?, model: Any?, target: Target&lt;Drawable&gt;?,\n                                  isFirstResource: Boolean): Boolean {\n            startPostponedEnterTransition()\n            return false\n        }\n\n        override fun onResourceReady(resource: Drawable?, model: Any?, target: Target&lt;Drawable&gt;?,\n                                     dataSource: DataSource?, isFirstResource: Boolean): Boolean {\n            startPostponedEnterTransition()\n            return false\n        }\n    })\n    .into(imageView)\n</code></pre>\n\n<h2>Preparation of transition in SlideshowFragment</h2>\n\n<pre><code>private fun prepareSharedElementTransition() {\n    val transition = TransitionInflater.from(getActivityContext())\n            .inflateTransition(R.transition.image_shared_element_transition)\n    transition.duration = 1000\n    sharedElementEnterTransition = transition\n    sharedElementReturnTransition = transition    // it wasn't working, so I tried adding this line too\n    setEnterSharedElementCallback(\n            object : SharedElementCallback() {\n                override fun onMapSharedElements(names: List&lt;String&gt;, sharedElements: MutableMap&lt;String, View&gt;) {\n                    // mapping stuff here done correctly\n                }\n            })\n}\n</code></pre>\n\n<h2>XML</h2>\n\n<pre><code>&lt;!-- In ChildFragmentA --&gt;\n&lt;ImageView\n    android:id=\"@+id/thumbnailLayout_thumbnail\"\n    android:layout_width=\"match_parent\"\n    android:adjustViewBounds=\"true\"\n    android:layout_height=\"match_parent\"\n    android:scaleType=\"centerCrop\" /&gt;\n\n&lt;!-- In ChildFragmentB --&gt;\n&lt;com.github.chrisbanes.photoview.PhotoView\n    android:id=\"@+id/childFragmentB_photoView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:adjustViewBounds=\"true\"\n    android:layout_centerInParent=\"true\"\n    android:scaleType=\"fitCenter\" /&gt;\n\n&lt;!-- In image_shared_element_transition.xml --&gt;\n&lt;transitionSet xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:interpolator=\"@android:interpolator/fast_out_slow_in\"\n    android:transitionOrdering=\"together\"&gt;\n    &lt;changeBounds/&gt;\n    &lt;changeClipBounds/&gt;\n    &lt;changeTransform/&gt;\n&lt;/transitionSet&gt;\n</code></pre>\n\n<p>Really appreciate any help as I have spent 2 days on this. </p>\n"}, {"tags": ["generics", "exception-handling", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "edited": false, "score": 0, "creation_date": 1524496918, "post_id": 49984535, "comment_id": 86985539, "body": "I&#39;ve played with the same variant. See my addednum 2 min ago."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "edited": false, "score": 0, "creation_date": 1524497052, "post_id": 49984535, "comment_id": 86985640, "body": "Oh, okay :) I&#39;ve also just edited my answer with another alternative that could work."}, {"owner": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "edited": false, "score": 1, "creation_date": 1524512459, "post_id": 49984535, "comment_id": 86993942, "body": "I&#39;ve refined your solution with the default value IllegalArgumentException::class for the parameter exceptionType. The result is even better as what I&#39;ve aimed at from the beginning: now in most cases I don&#39;t need to mention the exception type at all."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "edited": false, "score": 0, "creation_date": 1524512500, "post_id": 49984535, "comment_id": 86993964, "body": "That&#39;s a neat solution if that&#39;s what you need in your case, glad we could solve it :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 10, "last_activity_date": 1529326790, "last_edit_date": 1529326790, "creation_date": 1524496776, "answer_id": 49984535, "question_id": 49984075, "link": "https://stackoverflow.com/questions/49984075/how-to-circumvent-kotlins-restriction-type-parameter-is-forbidden-for-catch-pa/49984535#49984535", "title": "how to circumvent Kotlin&#39;s restriction &quot;Type parameter is forbidden for catch parameter&quot;", "body": "<p>I thought this would be possible if you just made the type parameter reified, but apparently it is not. I did find the <a href=\"https://github.com/JetBrains/kotlin/blob/1eca402332642b22fd89380b74bb5e05cb2a5bfd/compiler/frontend/src/org/jetbrains/kotlin/types/expressions/ControlStructureTypingVisitor.java#L568\" rel=\"noreferrer\">source</a> of this check, and it quite clearly errors for any sort of type parameter in a catch clause, whether it's reified or not.</p>\n\n<p>The commit message that added these checks references <a href=\"https://youtrack.jetbrains.com/issue/KT-8320\" rel=\"noreferrer\">this issue</a> - apparently the catch clause with a type parameter was catching all thrown <code>Exception</code> instances, and crashing with a <code>ClassCastException</code> if the exception wasn't of the specified type.</p>\n\n<p>A possible workaround for your case comes from <a href=\"https://stackoverflow.com/a/3024672/4465208\">this answer</a> for the similar Java question - if the generic type is reified, you can check if the exception thrown was of that specific type, which I believe makes this function what you're looking for:</p>\n\n<pre><code>inline fun &lt;T, reified X : Exception&gt; T.tryTo(block: T.() -&gt; Unit): T? {\n    try {\n        block()\n    } catch (ex: Exception) {\n        if (ex is X) {\n            return this\n        }\n    }\n    return null\n}\n</code></pre>\n\n<p>Although the call site gets quite ugly because you can't just specify the second type parameter of a function call if it has two type parameters:</p>\n\n<pre><code>val input: String = getInput()\n\ninput.tryTo&lt;String, IllegalArgumentException&gt; /* treat as a file name and open the file */ {\n    Desktop.getDesktop().open(File(this))\n}?.tryTo&lt;String, NumberFormatException&gt; /* treat as a number */ {\n    doSomethingWithTheNumber(parseInt(this))\n}?.tryTo&lt;String, Exception&gt; {\n    println(\"All options tried, none worked out. Don't know how to treat this input.\")\n}\n</code></pre>\n\n<hr>\n\n<p>A slightly nicer alternative to the above, and closer to the original Java answer:</p>\n\n<pre><code>inline fun &lt;T&gt; T.tryTo(exceptionType: KClass&lt;out Exception&gt;, block: T.() -&gt; Unit): T? {\n    try {\n        block()\n    } catch (ex: Exception) {\n        if (exceptionType.isInstance(ex)) {\n            return this\n        }\n    }\n    return null\n}\n</code></pre>\n\n<p>With the <code>KClass</code> instances passed in like so:</p>\n\n<pre><code>input.tryTo(IllegalArgumentException::class) /* treat as a file name and open the file */ {\n    Desktop.getDesktop().open(File(this))\n}?.tryTo(NumberFormatException::class) /* treat as a number */ {\n    doSomethingWithTheNumber(parseInt(this))\n}?.tryTo(Exception::class) {\n    println(\"All options tried, none worked out. Don't know how to treat this input.\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1349, "user_id": 2465785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7192d5231450c0ccca6ad473ce1d75?s=128&d=identicon&r=PG", "display_name": "William Leung", "link": "https://stackoverflow.com/users/2465785/william-leung"}, "is_accepted": false, "score": 0, "last_activity_date": 1547443554, "creation_date": 1547443554, "answer_id": 54176143, "question_id": 49984075, "link": "https://stackoverflow.com/questions/49984075/how-to-circumvent-kotlins-restriction-type-parameter-is-forbidden-for-catch-pa/54176143#54176143", "title": "how to circumvent Kotlin&#39;s restriction &quot;Type parameter is forbidden for catch parameter&quot;", "body": "<p>you can simply remove the receiver parameter</p>\n\n<p>and it is better to use <code>?:</code> then <code>?.</code> for <code>else</code> semantic</p>\n\n<pre><code>inline fun &lt;reified E : Throwable&gt; runIgnoring(block: () -&gt; Unit): Unit? {\n    return try {\n        block()\n    } catch (e: Throwable) {\n        if (e is E) null else throw e\n    }\n}\n\nval input: String = getInput()\n\nrunIgnoring&lt;IllegalArgumentException&gt; /* treat as a file name and open the file */ {\n    Desktop.getDesktop().open(File(input))\n} ?: runIgnoring&lt;NumberFormatException&gt; /* treat as a number */ {\n    doSomethingWithTheNumber(parseInt(input))\n} ?: run {\n    println(\"All options tried, none worked out. Don't know how to treat this input.\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 49984535, "answer_count": 2, "score": 6, "last_activity_date": 1547443554, "creation_date": 1524495237, "last_edit_date": 1524496780, "question_id": 49984075, "link": "https://stackoverflow.com/questions/49984075/how-to-circumvent-kotlins-restriction-type-parameter-is-forbidden-for-catch-pa", "title": "how to circumvent Kotlin&#39;s restriction &quot;Type parameter is forbidden for catch parameter&quot;", "body": "<p>I have defined the following function:</p>\n\n<pre><code>inline fun &lt;T&gt; T.tryTo(block: T.() -&gt; Unit): T? {\n    try {\n        block()\n    } catch (ex: IllegalArgumentException) {\n        return this\n    }\n    return null\n}\n</code></pre>\n\n<p>The purpose is to build a chain of try-actions on an object, e.g.:</p>\n\n<pre><code>val input: String = getInput();\n\ninput.tryTo /* treat as a file name and open the file */ {\n    Desktop.getDesktop().open(File(this))\n}?.tryTo /* treat as a number */ {\n    try {\n        doSomethingWithTheNumber(parseInt(this))\n    } catch (ex: NumberFormatException) {\n        throw IllegalArgumentException()\n    }\n}?.tryTo {\n    println(\"All options tried, none worked out. Don't know how to treat this input.\")\n}\n</code></pre>\n\n<p>So far that works fine.</p>\n\n<p>But, as you can see in the middle <em>tryTo</em>-block (\"treat as a number\"), it is inconvenient to rethrow an \"expected\" exception as an IllegalArgumentException to keep the schema working. It would be nicer to write:</p>\n\n<pre><code>val input: String = getInput();\n\ninput.tryTo&lt;IllegalArgumentException&gt; /* treat as a file name and open the file */ {\n    Desktop.getDesktop().open(File(this))\n}?.tryTo&lt;NumberFormatException&gt; /* treat as a number */ {\n    doSomethingWithTheNumber(parseInt(this))\n}?.tryTo&lt;Exception&gt; {\n    println(\"All options tried, none worked out. Don't know how to treat this input.\")\n}\n</code></pre>\n\n<p>So, I have rewritten the function <em>tryTo</em> to:</p>\n\n<pre><code>inline fun &lt;T, X: Exception&gt; T.tryTo(block: T.() -&gt; Unit): T? {\n    try {\n        block()\n    } catch (ex: X) {\n        return this\n    }\n    return null\n}\n</code></pre>\n\n<p>Unfortunately, the latter does not compile: \"Type parameter is forbidden for catch parameter\".</p>\n\n<p><strong>How to circumvent this restriction?</strong></p>\n\n<hr>\n\n<p>Addendum:</p>\n\n<p>Now I've got it to:</p>\n\n<pre><code>inline fun &lt;T, reified X: Exception&gt; T.tryTo(block: T.() -&gt; Unit): T? {\n    try {\n        block()\n    } catch (ex: Exception) {\n        return if (ex is X) this else throw ex\n    }\n    return null\n}\n</code></pre>\n\n<p>But I'm still not happy with this because it requires me to specify <strong>both</strong> types explicitly (\"Type inference failed...\" / \"2 type arguments expected ...\"):</p>\n\n<pre><code>input.tryTo&lt;String, IllegalArgumentException&gt; /* treat as a file in the stapel-directory */ {\n    ...\n}\n</code></pre>\n\n<p>though the first type parameter is obvious as inferable from the receiver object.</p>\n"}, {"tags": ["input", "kotlin", "console", "console-application"], "answers": [{"tags": [], "owner": {"reputation": 2301, "user_id": 5117236, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh3.googleusercontent.com/-G6BMgWAersY/AAAAAAAAAAI/AAAAAAAAGG4/wnThVo0uWoA/photo.jpg?sz=128", "display_name": "Impulse The Fox", "link": "https://stackoverflow.com/users/5117236/impulse-the-fox"}, "is_accepted": true, "score": 0, "last_activity_date": 1524496347, "creation_date": 1524496347, "answer_id": 49984404, "question_id": 49984071, "link": "https://stackoverflow.com/questions/49984071/problems-with-console-kotlin-input/49984404#49984404", "title": "Problems with Console Kotlin input", "body": "<p>You should probably trim your input.</p>\n\n<p>Instead of</p>\n\n<pre><code>str.split(\" \")\n</code></pre>\n\n<p>you should use</p>\n\n<pre><code>str.trim().split(\" +\")\n</code></pre>\n\n<hr/>\n\n<p>The <code>String#trim()</code> method removes leading and trailing whitespace characters, which lead to your error. Also the additional <code>+</code> in the RegEx of the <code>String#split(regex)</code> method has the effect that the program will still read the input correctly, and therefore not crash, even if you use multiple blanks as a separator between numbers in the string.</p>\n\n<p>For example, even this input will work:</p>\n\n<pre><code>val str = \"   1  2 -54  4 811 33      44 4 321 87   \"\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9686432"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 49984404, "answer_count": 1, "score": 0, "last_activity_date": 1524508875, "creation_date": 1524495219, "last_edit_date": 1524508875, "question_id": 49984071, "link": "https://stackoverflow.com/questions/49984071/problems-with-console-kotlin-input", "title": "Problems with Console Kotlin input", "body": "<p>Code:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"I'm running\")\n    val str = readLine()\n    var sum = 0\n    val arr: IntArray\n    if (str != null) {\n        arr = str.split(\" \").map(String::toInt).toIntArray()\n        for (ch in arr)\n            sum += ch\n        println(sum)\n    }\n    println(\"not running anymore\")\n}\n</code></pre>\n\n<p>INPUT:</p>\n\n<pre><code>56 -44 -72 -79 -38 -80 4 -85 34 -56 -92 51 36 -12 59 -43 31 17 -76 -8 -52 28 45 -68 -96 -7 -70 20 \n</code></pre>\n\n<p>And here is what I got:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NumberFormatException: For input string: \"\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:592)\n    at java.lang.Integer.parseInt(Integer.java:615)\n    at KotKt.main(kot.kt:8)\n</code></pre>\n"}, {"tags": ["memory-leaks", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1524495698, "creation_date": 1524495698, "answer_id": 49984218, "question_id": 49983746, "link": "https://stackoverflow.com/questions/49983746/creating-anonymous-object-with-inline-function-does-it-contain-a-leak-of-enclos/49984218#49984218", "title": "Creating anonymous object with inline function. Does it contain a leak of Enclosing Class?", "body": "<p>If you think about it, the <code>withReference</code> function has no way of referring to the outer scope that it gets inlined into, therefore it has no reason to contain a reference to the scope that it's called from. You don't even know what class it's being called in, or if it's even called inside a class, for that matter. </p>\n\n<p>For this specific case, here's the decompiled and simplified bytecode of the <code>withReference</code> function:</p>\n\n<pre><code>public static Reference withReference(final Function0 action) {\n    return new Reference() {\n        public void method1() {\n            action.invoke();\n        }\n\n        public void method2() {\n        }\n    };\n}\n</code></pre>\n\n<p>At the places where it gets inlined, there's of course no call to this function, this one is for Java interop only. Kotlin call sites all get their own class generated to represent this object depending on what code you pass into the <code>action</code> parameter. For your call of the <code>test</code> function, a class like is generated:</p>\n\n<pre><code>public final class A$test$$inlined$withReference$1 implements Reference {\n    public void method1() {\n        //todo make sth\n    }\n    public void method2() {\n    }\n}\n</code></pre>\n\n<p>And this is what's instantiated in the <code>test</code> method:</p>\n\n<pre><code>public final class A {\n    public final void test() {\n        Reference it = new A$test$$inlined$withReference$1();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 2, "last_activity_date": 1524495828, "creation_date": 1524495828, "answer_id": 49984258, "question_id": 49983746, "link": "https://stackoverflow.com/questions/49983746/creating-anonymous-object-with-inline-function-does-it-contain-a-leak-of-enclos/49984258#49984258", "title": "Creating anonymous object with inline function. Does it contain a leak of Enclosing Class?", "body": "<p>I used the decompiler of IntelliJ and there is no reference to the outer A</p>\n\n<pre><code>public final class A$test$$inlined$withReference$1 implements Reference {\n    public void method1() {\n    }\n\n    public void method2() {\n    }\n}\n</code></pre>\n\n<p>If the lambda references a variable from the outer class A like this:</p>\n\n<pre><code>class A {\n    val valFromA = 10;\n    fun test(){\n        val it = withReference {\n            println(\"use $valFromA\")\n        }\n    }\n}\n</code></pre>\n\n<p>Then the decompiler shows the reference to the A object:</p>\n\n<pre><code>public final class A$test$$inlined$withReference$1 implements Reference {\n   // $FF: synthetic field\n   final A this$0;\n\n   public A$test$$inlined$withReference$1(A var1) {\n      this.this$0 = var1;\n   }\n\n   public void method1() {\n      String var1 = \"use \" + this.this$0.getValFromA();\n      System.out.println(var1);\n   }\n\n   public void method2() {\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 8875, "user_id": 3379437, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/RPALD.png?s=128&g=1", "display_name": "Beloo", "link": "https://stackoverflow.com/users/3379437/beloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "accepted_answer_id": 49984218, "answer_count": 2, "score": 4, "last_activity_date": 1524495828, "creation_date": 1524494266, "question_id": 49983746, "link": "https://stackoverflow.com/questions/49983746/creating-anonymous-object-with-inline-function-does-it-contain-a-leak-of-enclos", "title": "Creating anonymous object with inline function. Does it contain a leak of Enclosing Class?", "body": "<p>As you know each anonymous object in java contains hidden reference to enclosing class.<br>\nBut with kotling things get more complicated. </p>\n\n<p>Lambda is another representation of anonymous class, but in kotlin it compiles not straightforward, because if lambda didn't capture a reference of enclosing class explicitely than it would be compiled like nested, not inner class (anonymous class) and is safe from the leak.</p>\n\n<p>But what about inline functions. Consider the code below</p>\n\n<pre><code>class A {\n    fun test(){\n        val it = withReference {\n            //todo make sth\n        }\n    }\n\n}\n\ninline fun withReference(crossinline action: () -&gt; Unit) = object: Reference {\n    override fun method1() {\n        action()\n    }\n    override fun method2() {\n    }\n}\n\ninterface Reference {\n    fun method1()\n    fun method2()\n}\n</code></pre>\n\n<p>As i know inline function would be compiled like non-wrapped code to the A class, so the question is open.</p>\n\n<p>Does the anonymous <code>object: Reference</code> contain a link to enclosing class <code>A</code>, which could lead to a memory leak? </p>\n\n<p>PS: i have read <a href=\"https://stackoverflow.com/questions/42271208/kotlin-safe-lambdas-no-memory-leak/42275638#42275638\"><code>this article</code></a>, but it doesn't contain an answer to my case</p>\n"}, {"tags": ["methods", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1524492788, "post_id": 49983251, "comment_id": 86982854, "body": "Seems relevant: <a href=\"https://youtrack.jetbrains.com/issue/KT-8834\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-8834</a>  It has a target version of 1.3"}, {"owner": {"reputation": 3429, "user_id": 5899161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7974a2c4fbb2bc7a521323ecfaa207a?s=128&d=identicon&r=PG&f=1", "display_name": "lukeg", "link": "https://stackoverflow.com/users/5899161/lukeg"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1524493027, "post_id": 49983251, "comment_id": 86983048, "body": "@Michael Seams very relevant! Can you consider changing your comment into an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "is_accepted": true, "score": 4, "last_activity_date": 1543848529, "last_edit_date": 1543848529, "creation_date": 1524494553, "answer_id": 49983838, "question_id": 49983251, "link": "https://stackoverflow.com/questions/49983251/kotlin-method-references-in-place-of-lambda/49983838#49983838", "title": "Kotlin method references in place of lambda", "body": "<p>There's <a href=\"https://youtrack.jetbrains.com/issue/KT-8834\" rel=\"nofollow noreferrer\">an open feature request</a> in the Kotlin issue tracker with the title <em>\"Support function references with default values as other function types\"</em>, which seems to be what's missing for your use-case to work.</p>\n\n<p>The feature currently has a target version of 1.3.</p>\n\n<p><strong>Update</strong>\nThe 1.3 Kotlin release does not contain this feature, the target version is updated to 1.4</p>\n"}], "owner": {"reputation": 3429, "user_id": 5899161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7974a2c4fbb2bc7a521323ecfaa207a?s=128&d=identicon&r=PG&f=1", "display_name": "lukeg", "link": "https://stackoverflow.com/users/5899161/lukeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1003, "favorite_count": 0, "accepted_answer_id": 49983838, "answer_count": 1, "score": 1, "last_activity_date": 1543848529, "creation_date": 1524492533, "last_edit_date": 1524492956, "question_id": 49983251, "link": "https://stackoverflow.com/questions/49983251/kotlin-method-references-in-place-of-lambda", "title": "Kotlin method references in place of lambda", "body": "<p>Consider the following code, where we take chunks of a list, join them and print to stdout:</p>\n\n<pre><code>val l = listOf(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\")\nl.chunked(3, { a -&gt; a.joinToString()}).forEach(::println)\n</code></pre>\n\n<p>The code works without a problem. I wanted to change the lambda call (<code>{ a -&gt; a.joinToString()}</code>) to the method reference, like this:</p>\n\n<pre><code>l.chunked(3, l::joinToString).forEach(::println)\n</code></pre>\n\n<p>The code that uses method reference does not compile and the errors given are:</p>\n\n<blockquote>\n  <p>Error:(4, 7) Kotlin: Type inference failed: fun \n  Iterable.chunked(size: Int, transform: (List) -> R): List\n  cannot be applied to receiver: List  arguments:\n  (Int,KFunction6&lt;@ParameterName CharSequence, @ParameterName\n  CharSequence, @ParameterName CharSequence, @ParameterName Int,\n  @ParameterName CharSequence, @ParameterName(name = \"transform\")\n  ((String) -> CharSequence)?, String>)</p>\n  \n  <p>Error:(4, 18) Kotlin: Type mismatch: inferred type is\n  KFunction6&lt;@ParameterName CharSequence, @ParameterName CharSequence,\n  @ParameterName CharSequence, @ParameterName Int, @ParameterName\n  CharSequence, @ParameterName(name = \"transform\") ((String) ->\n  CharSequence)?, String> but (List) -> ??? was expected</p>\n  \n  <p>Error:(4, 21) Kotlin: Type inference failed: fun \n  Iterable.joinToString(separator: CharSequence = ..., prefix:\n  CharSequence = ..., postfix: CharSequence = ..., limit: Int = ...,\n  truncated: CharSequence = ..., transform: ((T) -> CharSequence)? =\n  ...): String cannot be applied to receiver: List  arguments:\n  ()</p>\n</blockquote>\n\n<p>Is there a way to compile the code with method references instead of lambda call? I am beginning to learn Kotlin, but suppose that the errors stem from the fact that <code>joinToString</code> uses a number of default arguments?</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11383, "user_id": 18591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0448125956bd350df1252528ddcd5a76?s=128&d=identicon&r=PG", "display_name": "Louis Jacomet", "link": "https://stackoverflow.com/users/18591/louis-jacomet"}, "is_accepted": false, "score": 1, "last_activity_date": 1524576577, "creation_date": 1524576577, "answer_id": 50002947, "question_id": 49983035, "link": "https://stackoverflow.com/questions/49983035/gradle-location-for-cached-libraries-in-windows/50002947#50002947", "title": "Gradle - location for cached libraries in Windows", "body": "<p>Gradle supports an array of <a href=\"https://docs.gradle.org/current/userguide/repository_types.html\" rel=\"nofollow noreferrer\">repository types</a>. If you cannot use a Maven repository hosted by your organisation, there are other options available, like a flat directory repository or something else.</p>\n\n<p>I would not recommend attempting to <em>trick</em> Gradle in believing it downloaded the dependencies. These are internal formats, subject to change from version to version.</p>\n"}], "owner": {"reputation": 608, "user_id": 949477, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4288030df390b69e82c0a389445549fc?s=128&d=identicon&r=PG", "display_name": "FaisalM", "link": "https://stackoverflow.com/users/949477/faisalm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524576577, "creation_date": 1524491912, "last_edit_date": 1524541880, "question_id": 49983035, "link": "https://stackoverflow.com/questions/49983035/gradle-location-for-cached-libraries-in-windows", "title": "Gradle - location for cached libraries in Windows", "body": "<p>I am trying to develop a simple android application using Android Studio 3.1.1. While building I am getting a sync failed error from gradle. The bottom Build panel shows this error message.</p>\n\n<blockquote>\n  <p>Could not HEAD\n  '<a href=\"http://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.pom\" rel=\"nofollow noreferrer\">http://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.pom</a>'.\n  Received status code 503 from server: Service Unavailable Enable\n  Gradle 'offline mode' and sync project</p>\n</blockquote>\n\n<p>In my organization the access to this CDN is blocked. I tried by enabling the 'offline mode', now I am getting this error.</p>\n\n<blockquote>\n  <p>No cached version of org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0\n  available for offline mode. Disable Gradle 'offline mode' and sync\n  project</p>\n</blockquote>\n\n<p>I downloaded the file <strong>kotlin-stdlib-jre8-1.2.0.pom</strong>, but I don't know where to put it so that Gradle can use it (as a cached version). </p>\n\n<p>Is there any way to make this work when the CDN site is not accessible?</p>\n\n<p>Or anyone know the windows folder where the gradle stores the cached libs?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12729, "user_id": 4770877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cccebea2d190bf8f2054c1949ffa8677?s=128&d=identicon&r=PG&f=1", "display_name": "yoAlex5", "link": "https://stackoverflow.com/users/4770877/yoalex5"}, "is_accepted": false, "score": 0, "last_activity_date": 1524492663, "creation_date": 1524492663, "answer_id": 49983296, "question_id": 49982985, "link": "https://stackoverflow.com/questions/49982985/kotlin-putextra-none-of-the-following-functions-can-be-called-with-the-arguments/49983296#49983296", "title": "Kotlin putExtra none of the following functions can be called with the arguments supplied", "body": "<p>please try this one</p>\n\n<pre><code>val intent = Intent(this, DisplayMessageActivity::class.java)\nintent.putExtra(EXTRA_MESSAGE_1, message1)\nintent.putExtra(EXTRA_MESSAGE_2, message2)\nintent.putExtra(EXTRA_MESSAGE_3, message3)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "edited": false, "score": 0, "creation_date": 1524750043, "post_id": 49983375, "comment_id": 87105222, "body": "Yes i managed to get it to work  :)  used the arrayof and obtained them with the get string extra thanks for the help i really appreciate it"}], "tags": [], "owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "is_accepted": false, "score": 0, "last_activity_date": 1524574998, "last_edit_date": 1524574998, "creation_date": 1524492899, "answer_id": 49983375, "question_id": 49982985, "link": "https://stackoverflow.com/questions/49982985/kotlin-putextra-none-of-the-following-functions-can-be-called-with-the-arguments/49983375#49983375", "title": "Kotlin putExtra none of the following functions can be called with the arguments supplied", "body": "<p><code>putExtra()</code> does not have any overloads that expect <code>vararg</code>.</p>\n\n<p>You could either send the messages in an <code>Array</code>:</p>\n\n<pre><code>putExtra(EXTRA_MESSAGES, arrayOf(message1, message2, message3))\n</code></pre>\n\n<p>And obtain them with <code>getStringArrayExtra()</code> in the receiving <code>Activity</code>, for example:</p>\n\n<pre><code>// the inferred type of messages will be Array&lt;String&gt;\nval messages = intent.getStringArrayExtra(EXTRA_MESSAGES)\n// joining the messages into a single String and setting it as the text for the TextView\ntextView.text = messages.joinToString(separator = \" \")\n</code></pre>\n\n<p>Or put them separately with different keys:</p>\n\n<pre><code>putExtra(EXTRA_MESSAGE_1, message1)\nputExtra(EXTRA_MESSAGE_2, message2)\nputExtra(EXTRA_MESSAGE_3, message3)\n</code></pre>\n\n<p>(and obtain then one by one with <code>getStringExtra()</code>)</p>\n\n<p>On a side note, calling <code>apply()</code> is redundant here (in both cases), you could just call <code>putExtra()</code> on the <code>Intent</code> instance directly:</p>\n\n<pre><code>val intent = Intent(this, DisplayMessageActivity::class.java)\n    .putExtra(EXTRA_MESSAGE_1, message1)\n    .putExtra(EXTRA_MESSAGE_2, message2)\n    .putExtra(EXTRA_MESSAGE_3, message3)\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 3509297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLGxn.jpg?s=128&g=1", "display_name": "James24", "link": "https://stackoverflow.com/users/3509297/james24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2233, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1524574998, "creation_date": 1524491780, "last_edit_date": 1524566984, "question_id": 49982985, "link": "https://stackoverflow.com/questions/49982985/kotlin-putextra-none-of-the-following-functions-can-be-called-with-the-arguments", "title": "Kotlin putExtra none of the following functions can be called with the arguments supplied", "body": "<p>Complete Newbie to Kotlin, trying to get three values to pass across from textboxes to another page , im getting no errors put the info is not either being passed across or displayed i have tried for hours to get this to work with no avail.</p>\n\n<p>Could someone point me in a good or right direction please.</p>\n\n<p>I have now edited my code as given in the help below on the page that is now receiving the info i cannot get it to display.</p>\n\n<pre><code>PAGE1\n\npackage com.example.james.visitorapp\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.provider.AlarmClock.EXTRA_MESSAGE\nimport android.view.View\nimport android.widget.EditText\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    /** Called when the user taps the Send button */\n    fun sendMessage(view: View) {\n        val editText = findViewById&lt;EditText&gt;(R.id.editText)\n        val editText2 = findViewById&lt;EditText&gt;(R.id.editText2)\n        val editText3 = findViewById&lt;EditText&gt;(R.id.editText3)\n        val message1 = editText.text.toString()\n        val message2 = editText2.text.toString()\n        val message3 = editText3.text.toString()\n\n\n        val intent = Intent(this, DisplayMessageActivity::class.java).apply {\n            putExtra(EXTRA_MESSAGE, arrayOf(message1, message2, message3))\n        }\n\n        startActivity(intent)\n    }\n}\n\nreceiving page\n\npackage com.example.james.visitorapp\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.provider.AlarmClock.EXTRA_MESSAGE\nimport android.widget.TextView\n\nclass DisplayMessageActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_display_message)\n\n        // Get the Intent that started this activity and extract the string\n        val message1 = intent.getStringExtra(EXTRA_MESSAGE)\n        val message2 = intent.getStringExtra(EXTRA_MESSAGE)\n        val message3 = intent.getStringExtra(EXTRA_MESSAGE)\n        // Capture the layout's TextView and set the string as its text\n        val textView = findViewById&lt;TextView&gt;(R.id.textView).apply {\n            text = message1\n\n        }\n        val textView2 = findViewById&lt;TextView&gt;(R.id.textView2).apply {\n            text = message2\n\n        }\n        val textView3 = findViewById&lt;TextView&gt;(R.id.textView3).apply {\n            text = message3\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "callback", "kotlin", "nullable"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524493996, "post_id": 49982898, "comment_id": 86983577, "body": "How do you access the Context from within the callback? You could make it access a <code>private var context: Context?</code> which you null out in <code>onPause()</code> or wherever."}, {"owner": {"reputation": 221, "user_id": 2434385, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/325d14083a26b202666f03ad205989f2?s=128&d=identicon&r=PG&f=1", "display_name": "user2434385", "link": "https://stackoverflow.com/users/2434385/user2434385"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524494269, "post_id": 49982898, "comment_id": 86983737, "body": "There is no access on the context for now. you think i should pass the context ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524494476, "post_id": 49982898, "comment_id": 86983886, "body": "You shouldn&#39;t pass it as a parameter to the callback. The callback must try to access it from the property you can null out, so the callback knows whether or not to go on."}, {"owner": {"reputation": 221, "user_id": 2434385, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/325d14083a26b202666f03ad205989f2?s=128&d=identicon&r=PG&f=1", "display_name": "user2434385", "link": "https://stackoverflow.com/users/2434385/user2434385"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524494654, "post_id": 49982898, "comment_id": 86984017, "body": "Ok, i have made a var into the DM, and on my activity i call <code>DataManager.callback = this.myFunc</code>if i set it to null in the activity it won&#39;t be called. So passing it as a paramter make it a strong copy ? what is happening, anyway to pass the callback as reference value ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524494888, "post_id": 49982898, "comment_id": 86984189, "body": "This is elementary stuff, same as in Java. If you pass a reference to an object, the reference cannot suddenly become <code>null</code>. If your callback captures the instance where you&#39;re declaring it, and that instance has a mutable property, then it will observe changes to the property."}, {"owner": {"reputation": 221, "user_id": 2434385, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/325d14083a26b202666f03ad205989f2?s=128&d=identicon&r=PG&f=1", "display_name": "user2434385", "link": "https://stackoverflow.com/users/2434385/user2434385"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524495092, "post_id": 49982898, "comment_id": 86984329, "body": "I&#39;m a beginner, does not work like this in other langage :)"}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 2434385, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/325d14083a26b202666f03ad205989f2?s=128&d=identicon&r=PG&f=1", "display_name": "user2434385", "link": "https://stackoverflow.com/users/2434385/user2434385"}, "edited": false, "score": 0, "creation_date": 1524492375, "post_id": 49983125, "comment_id": 86982510, "body": "Thank you.  First i can&#39;t destroy the callback in DM because it depends on the activity... If the activity still here i want to call it !  What do you mean by &quot;but not as a param of function&quot; (syntax not easy for a beginner) Thank you."}], "tags": [], "owner": {"reputation": 67, "user_id": 9615327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jGAWi.jpg?s=128&g=1", "display_name": "weechan", "link": "https://stackoverflow.com/users/9615327/weechan"}, "is_accepted": false, "score": 0, "last_activity_date": 1524492167, "creation_date": 1524492167, "answer_id": 49983125, "question_id": 49982898, "link": "https://stackoverflow.com/questions/49982898/android-kotlin-cancel-callback/49983125#49983125", "title": "Android Kotlin cancel callback", "body": "<p>You transfer your mainCallback as a param of the function performWork.\nWhen you do this <code>mainCallback = null</code> , you make your mainCallback to null </p>\n\n<p>however,the param mainCallback in your function will still not null.</p>\n\n<p>What you have to do is injecting the callback into DataManager but not as a param of function. Then when your async work done, then you call <code>mainCallback?.invoke()</code></p>\n\n<p>If you want to destroy the callback , you just have to set the callback in DataManager into null.</p>\n"}], "owner": {"reputation": 221, "user_id": 2434385, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/325d14083a26b202666f03ad205989f2?s=128&d=identicon&r=PG&f=1", "display_name": "user2434385", "link": "https://stackoverflow.com/users/2434385/user2434385"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 945, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524492167, "creation_date": 1524491547, "last_edit_date": 1524491895, "question_id": 49982898, "link": "https://stackoverflow.com/questions/49982898/android-kotlin-cancel-callback", "title": "Android Kotlin cancel callback", "body": "<p>still very new to Kotlin, i'm trying not to call my callback if my activity is null. \nLet me explain, i have my DataManager that perform async work on some data: </p>\n\n<pre><code>fun performWork(callback: ((param1: T, param2) -&gt; Unit)?) { \n   // ... async work with data... \n   // Work is finished, let's call the callback :) \n   // as the callback is optional: \n   callback?.invoke(param1, param2)\n}\n</code></pre>\n\n<p>So i call my DataManager into my MainActivity: </p>\n\n<pre><code>DataManager.performWork(callback = { param1, param2 -&gt; \n  // update the UI now that the work is done. \n}\n</code></pre>\n\n<p>What i want to do is not to call the callback if the callback is null (which means activity is null, or not on screen anymore...) </p>\n\n<p>So in my activity i declare an optional var: </p>\n\n<pre><code>var myCallback: ((params1: T, params2: T) -&gt; Unit)? = null\n</code></pre>\n\n<p>Then i have a function: </p>\n\n<pre><code>  var callbackMain: ((params1: T, params2: T) -&gt; Unit)? = fun (params1: T, params2: T) {\n\n        print(\"ok\")\n\n    }\n</code></pre>\n\n<p>Then when i call my DataManager: </p>\n\n<pre><code>    mainCallback = this.callbackMain\n    DataManager.performWork(mainCallback)\n    mainCallback = null\n</code></pre>\n\n<p>So the async work is called... and the DataManager enter the callback because mainCallback is not null !!! I think its value is callbackMain. \nIs there anyway i can make my callback nullable ? So it won't be called, and that my DataManager does not know the activity ? </p>\n\n<p>Thank you very much for any help. </p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java2", "interrupted-exception"], "answers": [{"tags": [], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "is_accepted": true, "score": 2, "last_activity_date": 1524487160, "creation_date": 1524487160, "answer_id": 49981321, "question_id": 49980858, "link": "https://stackoverflow.com/questions/49980858/caused-by-java-lang-runtimeexception-java-lang-interruptedexception/49981321#49981321", "title": "Caused by: java.lang.RuntimeException: java.lang.InterruptedException", "body": "<p>Just used <code>emitter.tryOnError</code></p>\n\n<pre><code>   try{\n\n    ....\n\n    } catch (error: InterruptedException) {\n         emitter.tryOnError(BackupException(error.message ?: \"unknown exception\"))\n    }\n</code></pre>\n\n<p><a href=\"https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#error-handling\" rel=\"nofollow noreferrer\">see more details</a></p>\n"}], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 0, "accepted_answer_id": 49981321, "answer_count": 1, "score": 0, "last_activity_date": 1524487441, "creation_date": 1524485699, "last_edit_date": 1524487441, "question_id": 49980858, "link": "https://stackoverflow.com/questions/49980858/caused-by-java-lang-runtimeexception-java-lang-interruptedexception", "title": "Caused by: java.lang.RuntimeException: java.lang.InterruptedException", "body": "<p>Use implementation 'io.reactivex.rxjava2:rxjava:2.1.9'</p>\n\n<p>I am trying parsing withe rxJava. Parse long json data. So my parse take time.\nBut if user leave screen my parsing need finish work but instead my app crashes.\nMethod for parsing:</p>\n\n<pre><code>    override fun restore(): Observable&lt;List&lt;Pair&lt;String, String&gt;?&gt;&gt; {\nreturn backupRemoteSource.getBackup()\n                .flatMap { urlBackup -&gt;\n                    Observable.create&lt;Boolean&gt; { emitter -&gt;\n                        var isRestore = true\n                        try {\n                            val url = URL(urlBackup)\n                            url.openConnection()\n                            InputStreamReader(url.openStream(), \"UTF-8\").use {\n                                val jsonReader = JsonReader(it)\n\n                                jsonReader.beginArray()\n\n                                var tour: Tour? = null\n\n                                /* tours */\n                                while (jsonReader.hasNext() ) {\n\n                                    /* tour item*/\n                                    jsonReader.beginObject()\n                                    while (jsonReader.hasNext() &amp;&amp; isRestore) {\n\n                                        val name = jsonReader.nextName()\n\n                                        when (name) {\n\n                                            \"tourInfo\" -&gt; {\n\n                                                tour = tourMapper.fromRx(gsonParser.fromJson&lt;TourBackup&gt;(jsonReader, TourBackup::class.java))\n                                                        .flatMap {\n\n\n                                                            tourLocalSource.save(it)\n                                                        }.blockingFirst()\n\n                                                Log.i(tag, \"\\n@saved tour\")\n                                            }\n\n                                      jsonReader.endArray()\n                                            }\n                                        }\n\n                                    }\n                                    jsonReader.endObject()\n                                }\n                                jsonReader.endArray()\n\n                                emitter.onNext(true)\n                            }\n                        } catch (error: InterruptedException) {\n                            emitter.onError(BackupException(error.message ?: \"unknown exception\"))\n                        } catch (error: NoSuchFileException) {\n                            emitter.onError(BackupException(error.message ?: \"unknown exception\"))\n                        } catch (error: IOException) {\n                            emitter.onError(BackupException(error.message ?: \"unknown exception\"))\n                        }\n\n                        emitter.setCancellable({\n                            Log.d(tag,\"cancel restore\")\n                            isRestore = false\n                        })\n                    }\n\n                }\n....}\n</code></pre>\n\n<p>then i call:</p>\n\n<pre><code>fun restore() {\n\n    disposables.add(backUpRepo.restore()\n            .compose(RxUtils.ioToMainTransformer())\n            .subscribe()\n}\n</code></pre>\n\n<p>but when calling during long data parsing:</p>\n\n<pre><code>disposables.dispose()\n</code></pre>\n\n<p>i get crash:</p>\n\n<pre><code>  04-23 14:57:27.456 28001-28063/com.jellyworkz.udark.debug E/AndroidRuntime: FATAL EXCEPTION: RxCachedThreadScheduler-1\n    Process: com.jellyworkz.udark.debug, PID: 28001\n    io.reactivex.exceptions.UndeliverableException: java.lang.RuntimeException: java.lang.InterruptedException\n\n\n....\n\n    Caused by: java.lang.RuntimeException: java.lang.InterruptedException\n        at io.reactivex.internal.util.ExceptionHelper.wrapOrThrow(ExceptionHelper.java:45)\n        at io.reactivex.internal.observers.BlockingBaseObserver.blockingGet(BlockingBaseObserver.java:74)\n        at io.reactivex.Observable.blockingFirst(Observable.java:4987)\n        at com.jellyworkz.udark.backup.source.BackupRepositoryImpl$restore$1$1.subscribe(BackupRepositoryImpl.kt:113)\n</code></pre>\n\n<p>Where do i wrong?</p>\n"}, {"tags": ["spring", "mongodb", "spring-boot", "kotlin", "reactive-programming"], "comments": [{"owner": {"reputation": 1510, "user_id": 2142728, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b3ca006aaf7a1160f11d133c2762e75f?s=128&d=identicon&r=PG", "display_name": "Alejandro Navas", "link": "https://stackoverflow.com/users/2142728/alejandro-navas"}, "edited": false, "score": 0, "creation_date": 1524481938, "post_id": 49979116, "comment_id": 86975304, "body": "<code>map{it}</code> doesn&#39;t do anything. Instead of a <code>map</code> followed by a <code>flatMap{it-&gt;it}</code> you can just do a <code>flatMap</code>"}], "owner": {"reputation": 11, "user_id": 9685259, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "SteVio", "link": "https://stackoverflow.com/users/9685259/stevio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524480129, "creation_date": 1524480129, "question_id": 49979116, "link": "https://stackoverflow.com/questions/49979116/spring-boot-kotlin-reactive-how-do-i-link-the-results-from-multiple-mongodb-que", "title": "Spring Boot Kotlin Reactive: How do I link the results from multiple MongoDB queries together for a single response?", "body": "<p>I'm experimenting with Spring-Boot 2 Kotlin Reactive right now. One of my endpoints should be able to resolve a phone number from a MongoDB to a person, company or department.</p>\n\n<p>As a result, the display name should e.g. for a phone, be returned as a string.</p>\n\n<p>The result can be changed with parameters in the request:</p>\n\n<p><a href=\"http://localhost:8080/api/v1/numbers/find/xxxxxxxxxxx?asString=true&amp;firstname=2&amp;lastname=1&amp;company=3&amp;department=4\" rel=\"nofollow noreferrer\">http://localhost:8080/api/v1/numbers/find/xxxxxxxxxxx?asString=true&amp;firstname=2&amp;lastname=1&amp;company=3&amp;department=4</a></p>\n\n<p>The values of firstname, lastname, company, and department specify the order in the display name.</p>\n\n<p>If \"xxxxxxxxxxx\" is the number of a person, the response should look like this:</p>\n\n<p>\"lastname, firstname, company, department\"</p>\n\n<p>I've found a solution to that, but I wonder if there is not a better way.</p>\n\n<pre><code>fun findNumberOwner(serverRequest: ServerRequest) =\n        numberRepository.findByNumber(serverRequest.pathVariable(\"number\")).flatMap { n -&gt;\n            serverRequest.queryParam(\"asString\")\n                    .filter {\n                        it.trim()\n                                .isNotEmpty().and(it.toBoolean())\n                    }\n                    .map { searchNumberWithStringResult(n, serverRequest.queryParam(\"firstname\"), serverRequest.queryParam(\"lastname\"), serverRequest.queryParam(\"company\"), serverRequest.queryParam(\"department\")) }\n                    .orElse(searchNumberWithJsonResult(n))\n        }.switchIfEmpty(ServerResponse.notFound().build())\n\nprivate fun searchNumberWithStringResult(number: Number, firstname: Optional&lt;String&gt;, lastname: Optional&lt;String&gt;, company: Optional&lt;String&gt;, department: Optional&lt;String&gt;): Mono&lt;ServerResponse&gt; {\n    val ownerId = number.numberOwner\n\n    if (ownerId.startsWith(\"CO-\")) {\n        return ok().body(companyRepository.findById(ownerId).map { it.name })\n    } else if (ownerId.startsWith(\"DE-\")) {\n        return ok().body(departmentRepository.findById(ownerId)\n                .map { dep -&gt;\n                    companyRepository.findById(dep.company)\n                            .map {\n                                it.name\n                            }.zipWith(dep.toMono())\n                }.flatMap { it -&gt;\n                    it\n                }.map {\n                    it.t1 + \", \" + it.t2.name\n                })\n    } else {\n        val templateMap = mapOf(\n                Pair(\"firstname\", firstname.orElse(\"2\").toInt()),\n                Pair(\"lastname\", lastname.orElse(\"1\").toInt()),\n                Pair(\"company\", company.orElse(\"0\").toInt()),\n                Pair(\"department\", department.orElse(\"0\").toInt())\n        )\n\n        return ok().body(personRepository.findById(ownerId)\n                .map { person -&gt;\n\n                    companyRepository.findById(person.company)\n                            .map {\n                                it.name\n                            }\n                            .switchIfEmpty(Mono.just(\"\"))\n                            .zipWith(person.toMono())\n                }.flatMap { it -&gt;\n                    it\n                }.map { t -&gt;\n                    departmentRepository.findById(t.t2.department).map {\n                        mapOf(\n                                Pair(templateMap[\"firstname\"], t.t2.firstName) as Pair&lt;Int, String&gt;,\n                                Pair(templateMap[\"lastname\"], t.t2.lastName) as Pair&lt;Int, String&gt;,\n                                Pair(templateMap[\"company\"], t.t1) as Pair&lt;Int, String&gt;,\n                                Pair(templateMap[\"department\"], it.name) as Pair&lt;Int, String&gt;)\n                                .filter { it.key &gt; 0 }.filter { !it.value.equals(\"\") }.toSortedMap()\n                    }\n                            .switchIfEmpty(Mono.just(\n                                    mapOf(\n                                            Pair(templateMap[\"firstname\"], t.t2.firstName) as Pair&lt;Int, String&gt;,\n                                            Pair(templateMap[\"lastname\"], t.t2.lastName) as Pair&lt;Int, String&gt;,\n                                            Pair(templateMap[\"company\"], t.t1) as Pair&lt;Int, String&gt;)\n                                            .filter { it.key &gt; 0 }.filter { !it.value.equals(\"\") }.toSortedMap()\n                            ))\n                }.flatMap { it -&gt; it }\n                .map { it }\n                .map { myMap -&gt;\n                    var finalDisplayString = \"\"\n                    myMap.forEach {\n                        finalDisplayString += buildDisplayString(it.key, myMap.size, it.value)\n                    }\n                    finalDisplayString\n                })\n    }\n}\n\nprivate fun buildDisplayString(index: Int, maxSize: Int, value: String?): String {\n    if (value == null) return \"\"\n    if (index == 0) {\n        return \"$value, \"\n    } else if (index == maxSize) {\n        return \"$value\"\n    } else {\n        return \"$value, \"\n    }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 915, "user_id": 2605758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DIjwG.png?s=128&g=1", "display_name": "Hoppeduppeanut", "link": "https://stackoverflow.com/users/2605758/hoppeduppeanut"}, "edited": false, "score": 1, "creation_date": 1559703723, "post_id": 56453653, "comment_id": 99500186, "body": "While this might answer the question, you should <a href=\"https://stackoverflow.com/posts/56453653/edit\">edit</a> your answer to include the most important information from the documentation that&#39;s relevant to the question in the answer itself. This helps stop this part of your answer from becoming invalid if the link stops working for whatever reason."}, {"owner": {"reputation": 915, "user_id": 2605758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DIjwG.png?s=128&g=1", "display_name": "Hoppeduppeanut", "link": "https://stackoverflow.com/users/2605758/hoppeduppeanut"}, "edited": false, "score": 0, "creation_date": 1559714882, "post_id": 56453653, "comment_id": 99502355, "body": "Back again to remind you to please include context around any links you include in your answer! Links should be used to supplement any information you provide in the answer itself, and answers that are little more than links may end up being <a href=\"https://stackoverflow.com/help/deleted-answers\">deleted</a>. You should check out the <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> article in the <a href=\"https://stackoverflow.com/help\">help center</a> for some good tips on writing a good-quality answer."}], "tags": [], "owner": {"reputation": 13, "user_id": 9061888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d51cde7a9f5e08fb1b1de288d9c4d71?s=128&d=identicon&r=PG&f=1", "display_name": "Polski", "link": "https://stackoverflow.com/users/9061888/polski"}, "is_accepted": false, "score": 0, "last_activity_date": 1559705575, "last_edit_date": 1559705575, "creation_date": 1559702651, "answer_id": 56453653, "question_id": 49978860, "link": "https://stackoverflow.com/questions/49978860/oganize-kotlin-project-with-kotlin-web-server-and-reactjs/56453653#56453653", "title": "Oganize kotlin project with Kotlin web server and reactjs", "body": "<p>I was trying to figure this out as well. The command itself structures your project to do this. See the readme documentation on the github page:</p>\n\n<p><a href=\"https://github.com/JetBrains/create-react-kotlin-app\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/create-react-kotlin-app</a></p>\n\n<p>You should have to run <code>npx create-react-kotlin-app my-app</code> but you will also some additional setup according to the docs. </p>\n\n<p>If you are looking for a fullstack example, there is one here that uses react:</p>\n\n<p><a href=\"https://github.com/Kotlin/kotlin-fullstack-sample\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlin-fullstack-sample</a></p>\n\n<p>I also found this Spring example here:</p>\n\n<p><a href=\"https://spring.io/guides/tutorials/react-and-spring-data-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/react-and-spring-data-rest/</a></p>\n\n<p>The Spring example actually uses Java, but you can just initialize your project with Kotlin instead. </p>\n"}], "owner": {"reputation": 21, "user_id": 6324441, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wH1ph9ej8ZU/AAAAAAAAAAI/AAAAAAAABOg/LeL6QwnIMdw/photo.jpg?sz=128", "display_name": "Hung Nguyen", "link": "https://stackoverflow.com/users/6324441/hung-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559705575, "creation_date": 1524479342, "question_id": 49978860, "link": "https://stackoverflow.com/questions/49978860/oganize-kotlin-project-with-kotlin-web-server-and-reactjs", "title": "Oganize kotlin project with Kotlin web server and reactjs", "body": "<p>I have this question because i was a PHP developer before and all of my project is run in apache server. </p>\n\n<p>I\u2019m newbee or Kotlin languague. I want learn Kotlin via create a project. Now I want create a project use Kotlin web server (may be use ktor framework). I want use this with react kotlin like <a href=\"https://github.com/JetBrains/create-react-kotlin-app\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/create-react-kotlin-app</a> to build my front end. How can i oganize my project to build that ?</p>\n"}, {"tags": ["spring", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9402326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68dc4456264271bce30dc1d2877777c1?s=128&d=identicon&r=PG&f=1", "display_name": "Aurelman", "link": "https://stackoverflow.com/users/9402326/aurelman"}, "edited": false, "score": 0, "creation_date": 1524476414, "post_id": 49977808, "comment_id": 86971715, "body": "Wow thanks it works, I spent so much time on this. Looks like I still need to learn the language.  Thanks again  for the fast answer."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 7, "last_activity_date": 1524476260, "creation_date": 1524476260, "answer_id": 49977808, "question_id": 49977772, "link": "https://stackoverflow.com/questions/49977772/kotlin-spring-could-not-autowired-an-bean-annoted/49977808#49977808", "title": "Kotlin Spring could not autowired an @Bean annoted", "body": "<p>Your <code>restTemplate</code> method isn't inside your <code>MyConfig</code> class - you've declared an empty class followed by a top level function. You're missing the curly braces that make the function a method inside the class:</p>\n\n<pre><code>@Configuration\nclass MyConfig {\n\n   @Bean\n   fun restTemplate(builder: RestTemplateBuilder): RestTemplate =\n        builder.build()\n\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9402326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68dc4456264271bce30dc1d2877777c1?s=128&d=identicon&r=PG&f=1", "display_name": "Aurelman", "link": "https://stackoverflow.com/users/9402326/aurelman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3384, "favorite_count": 0, "accepted_answer_id": 49977808, "answer_count": 1, "score": 0, "last_activity_date": 1524476260, "creation_date": 1524476156, "question_id": 49977772, "link": "https://stackoverflow.com/questions/49977772/kotlin-spring-could-not-autowired-an-bean-annoted", "title": "Kotlin Spring could not autowired an @Bean annoted", "body": "<p>I'm encountering an issue with spring and kotlin :</p>\n\n<p>Here it is :</p>\n\n<p>I have a class MyConfig defined as such</p>\n\n<pre><code>@Configuration\nclass MyConfig\n\n   @Bean\n   fun restTemplate(builder: RestTemplateBuilder): RestTemplate =\n        builder.build()\n</code></pre>\n\n<p>On the other side I have an other class MyService defined as such</p>\n\n<pre><code>@Component\nclass MyService constructor(private val restTemplate: RestTemplate) {\n\n    fun test() {\n        // Use restTemplate\n    }\n}\n</code></pre>\n\n<p>But all I get is the following message :</p>\n\n<pre><code>Description:\n\nField restTemplate in my.package.MyService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.\n</code></pre>\n\n<p>This issue only occurs with beans defined in @Configuration class (annotated with @Bean) but not with bean declared as @Component or @Service.</p>\n\n<p>I have no such issue with the same kind of architecture in pure-Java.</p>\n\n<ul>\n<li>I use spring boot 2.0.1</li>\n<li>kotlin 1.2.40</li>\n<li>on java 8</li>\n</ul>\n\n<p>So, have I missed something?</p>\n"}, {"tags": ["android", "animation", "kotlin"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1524494849, "post_id": 49976746, "comment_id": 86984163, "body": "Did you try to force the height to be 0 outside of the animation instead of onAnimationStart? It could be that by the time the changes from onAnimationStart take effect, there&#39;s already been a first call to the updateListener"}, {"owner": {"reputation": 587, "user_id": 7866996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-r2ZQbtU8DqE/AAAAAAAAAAI/AAAAAAAAAEc/uRFF1MzCYJU/photo.jpg?sz=128", "display_name": "Patryk Jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/7866996/patryk-jab%c5%82o%c5%84ski"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1524503487, "post_id": 49976746, "comment_id": 86989300, "body": "@NSimon yes I have tried that and result was same"}, {"owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "edited": false, "score": 0, "creation_date": 1546963912, "post_id": 49976746, "comment_id": 95023716, "body": "Wouldn&#39;t ObjectAnimator be more appropriate because the views need to stay put after the animation?"}], "owner": {"reputation": 587, "user_id": 7866996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-r2ZQbtU8DqE/AAAAAAAAAAI/AAAAAAAAAEc/uRFF1MzCYJU/photo.jpg?sz=128", "display_name": "Patryk Jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/7866996/patryk-jab%c5%82o%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 528, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541770823, "creation_date": 1524472839, "last_edit_date": 1541770823, "question_id": 49976746, "link": "https://stackoverflow.com/questions/49976746/valueanimator-with-constraintlayout", "title": "ValueAnimator with ConstraintLayout", "body": "<p>I have a problem with the implementation of expand/collapse animation. I use Constraint layout and ValueAnimator. The problem occurs when I try to expand my view. When I set visibility to <code>VISIBLE</code> it is shown with its full height and then it makes animation as I expect. Here is a gif that shows the problem:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FGszG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FGszG.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my layout implementation:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/coordinationMain\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/back_inbox\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/toolbat_height\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;include\n            android:id=\"@+id/header\"\n            layout=\"@layout/header_element\" /&gt;\n\n    &lt;/android.support.v7.widget.Toolbar&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/linearLayout\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"@dimen/_5sdp\"\n        android:layout_marginEnd=\"@dimen/_5sdp\"\n        android:layout_marginLeft=\"@dimen/_5sdp\"\n        android:layout_marginRight=\"@dimen/_5sdp\"\n        android:layout_marginStart=\"@dimen/_5sdp\"\n        android:layout_weight=\"1\"\n        android:background=\"@drawable/border_white\"\n        android:focusable=\"true\"\n        android:focusableInTouchMode=\"true\"\n        android:gravity=\"center\"\n        android:orientation=\"horizontal\"\n        android:padding=\"@dimen/_2sdp\"\n        app:layout_constraintBottom_toTopOf=\"@id/listWrapper\"\n        app:layout_constraintRight_toLeftOf=\"@id/cancel\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/toolbar\"&gt;\n\n        &lt;ImageView\n            android:layout_width=\"@dimen/_20sdp\"\n            android:layout_height=\"@dimen/_20sdp\"\n            android:padding=\"@dimen/_3sdp\"\n            android:src=\"@drawable/icon_search\" /&gt;\n\n        &lt;com.pleez.customTextview.EdittextDisplayRegular\n            android:id=\"@+id/searchFiled\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@android:color/transparent\"\n            android:hint=\"@string/search\"\n            android:maxLines=\"1\"\n            android:paddingBottom=\"@dimen/_2sdp\"\n            android:paddingLeft=\"@dimen/_10sdp\"\n            android:paddingRight=\"@dimen/_10sdp\"\n            android:paddingTop=\"@dimen/_2sdp\"\n            android:singleLine=\"true\"\n            android:textColor=\"#929196\"\n            android:textSize=\"@dimen/_11sdp\"/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;com.pleez.customTextview.TextViewDisplayBold\n        android:id=\"@+id/cancel\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@android:color/transparent\"\n        android:maxLines=\"1\"\n        android:layout_marginEnd=\"@dimen/_5sdp\"\n        android:layout_marginRight=\"@dimen/_5sdp\"\n        android:layout_marginBottom=\"@dimen/_3sdp\"\n        android:singleLine=\"true\"\n        android:textColor=\"@color/archive\"\n        android:textSize=\"@dimen/_11sdp\"\n        android:text=\"@string/cancel\"\n        android:visibility=\"gone\"\n        app:layout_constraintBottom_toTopOf=\"@id/listWrapper\"\n        app:layout_constraintTop_toBottomOf=\"@id/toolbar\"\n        app:layout_constraintRight_toRightOf=\"parent\"/&gt;\n\n    &lt;android.support.design.widget.CoordinatorLayout\n        android:id=\"@+id/listWrapper\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/linearLayout\"&gt;\n\n        &lt;android.support.v4.widget.SwipeRefreshLayout\n            android:id=\"@+id/swipeRefreshLayout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"vertical\"&gt;\n\n\n                &lt;FrameLayout\n                    android:id=\"@+id/empty\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:visibility=\"gone\" /&gt;\n\n                &lt;com.pleez.helper.TouchyRecyclerView\n                    android:id=\"@+id/recyclerView\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:background=\"@color/white\"\n                    android:visibility=\"visible\" /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/searchView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:visibility=\"gone\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n            &lt;View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:alpha=\"0.1\"\n                android:background=\"@color/black\" /&gt;\n\n            &lt;com.pleez.helper.TouchyRecyclerView\n                android:id=\"@+id/searchRecyclerView\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:background=\"@android:color/transparent\"\n                android:visibility=\"visible\" /&gt;\n\n        &lt;/RelativeLayout&gt;\n    &lt;/android.support.design.widget.CoordinatorLayout&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Collapse animation:</p>\n\n<pre><code>override fun collpse() {\n    val toolbarHeight = resources.getDimension(R.dimen.toolbat_height)\n    ValueAnimator.ofInt(0, 100).apply {\n        duration = 500\n        addUpdateListener {\n            val toolbarParams = toolbar.layoutParams\n            toolbarParams.height = (toolbarHeight - (toolbarHeight * animatedValue as Int / 100)).toInt()\n            toolbar.layoutParams = toolbarParams\n            toolbar.requestLayout()\n        }\n        addListener(object : Animator.AnimatorListener {\n            override fun onAnimationRepeat(p0: Animator?) {\n            }\n\n            override fun onAnimationEnd(p0: Animator?) {\n                searchView?.visibility = View.VISIBLE\n                toolbar.visibility = View.GONE\n            }\n\n            override fun onAnimationCancel(p0: Animator?) {\n            }\n\n            override fun onAnimationStart(p0: Animator?) {\n            }\n\n        })\n        start()\n    }\n}\n</code></pre>\n\n<p>Expand animation: </p>\n\n<pre><code>override fun expand() {\n    val toolbarHeight = resources.getDimension(R.dimen.toolbat_height)\n    ValueAnimator.ofInt(0, 100).apply {\n        duration = 500\n        addUpdateListener {\n            val toolbarParams = toolbar.layoutParams\n            toolbarParams.height = (toolbarHeight * animatedValue as Int / 100).toInt()\n            toolbar.requestLayout()\n        }\n        addListener(object : Animator.AnimatorListener {\n            override fun onAnimationRepeat(p0: Animator?) {\n            }\n\n            override fun onAnimationEnd(p0: Animator?) {\n                searchView?.visibility = View.GONE\n            }\n\n            override fun onAnimationCancel(p0: Animator?) {\n            }\n\n            override fun onAnimationStart(p0: Animator?) {\n                val toolbarParams = toolbar.layoutParams\n                toolbarParams.height = 0\n                toolbar.layoutParams = toolbarParams\n                toolbar.requestLayout()\n                toolbar.visibility = View.VISIBLE\n            }\n\n        })\n        start()\n    }\n}\n</code></pre>\n\n<p>Can anyone tell me what I am doing wrong here? I am even trying to set the height of view to 0 at the start of an animation, but it has no effect.</p>\n\n<p>EDIT </p>\n\n<p>I have also tested suggestion to move the setting height from Animator.AnimatorListeners <code>onAnimationStart</code> and result is the same as previously:</p>\n\n<pre><code>override fun expand() {\n    val toolbarParams = toolbar.layoutParams\n    toolbarParams.height = 0\n    toolbar.layoutParams = toolbarParams\n    toolbar.requestLayout()\n    val toolbarHeight = resources.getDimension(R.dimen.toolbat_height)\n    ValueAnimator.ofInt(0, 100).apply {\n        duration = 500\n        addUpdateListener {\n            val toolbarParams = toolbar.layoutParams\n            toolbarParams.height = (toolbarHeight * animatedValue as Int / 100).toInt()\n            toolbar.requestLayout()\n        }\n        addListener(object : Animator.AnimatorListener {\n            override fun onAnimationRepeat(p0: Animator?) {\n            }\n\n            override fun onAnimationEnd(p0: Animator?) {\n                searchView?.visibility = View.GONE\n            }\n\n            override fun onAnimationCancel(p0: Animator?) {\n            }\n\n            override fun onAnimationStart(p0: Animator?) {\n                toolbar.visibility = View.VISIBLE\n            }\n\n        })\n        start()\n    }\n}\n</code></pre>\n\n<p>Any other ideas?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "viewmodel"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9684626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52196b577c99bc48a9ae30057e05958?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Riveiro", "link": "https://stackoverflow.com/users/9684626/jorge-riveiro"}, "edited": false, "score": 0, "creation_date": 1524474816, "post_id": 49976063, "comment_id": 86970694, "body": "Thanks for the answer but that BindingAdapter gives me a lot of mistakes. It is unable to resolve the reference of visible and unexpected tokens."}, {"owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "reply_to_user": {"reputation": 1, "user_id": 9684626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52196b577c99bc48a9ae30057e05958?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Riveiro", "link": "https://stackoverflow.com/users/9684626/jorge-riveiro"}, "edited": false, "score": 0, "creation_date": 1524476892, "post_id": 49976063, "comment_id": 86972066, "body": "I modified the code to compile as is. As for the binding adapter function, this should be a top level method or a static function (companion object)."}, {"owner": {"reputation": 1, "user_id": 9684626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52196b577c99bc48a9ae30057e05958?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Riveiro", "link": "https://stackoverflow.com/users/9684626/jorge-riveiro"}, "edited": false, "score": 0, "creation_date": 1524478034, "post_id": 49976063, "comment_id": 86972840, "body": "Sorry to bother you again, but compiling gives me this error: e: [kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors."}], "tags": [], "owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "is_accepted": false, "score": 5, "last_activity_date": 1524476693, "last_edit_date": 1524476693, "creation_date": 1524470360, "answer_id": 49976063, "question_id": 49975837, "link": "https://stackoverflow.com/questions/49975837/how-can-i-change-the-visibility-of-an-xml-object-in-viewmodel/49976063#49976063", "title": "How can I change the visibility of an xml object in ViewModel?", "body": "<p>You can use Android databinding. I will provide a rough example.</p>\n\n<p>You need to create ObservableFields that your views in XML can bind to.\nFor example</p>\n\n<pre><code>val isVisible : ObservableField&lt;Boolean&gt; = ObservableField();\n</code></pre>\n\n<p>Then create a binding adapter</p>\n\n<pre><code>@BindingAdapter(\"customVisibility\")\nfun setVisibility(view : View, visible : Boolean) {\n    view.visibility = if (visible) View.VISIBLE else View.INVISIBLE\n}\n</code></pre>\n\n<p>Then bind in your XML</p>\n\n<pre><code>app:customVisibility=\"@{viewModel.isVisible}\"\n</code></pre>\n\n<p>Then you can change the visibility of the views just by modifying the isVisible property of your view model.</p>\n\n<p>I have wrote a primer in Android Databinding and Functional MVVM. You can check it for further details (written in Kotlin)\n<a href=\"https://medium.com/tompee/android-data-binding-and-functional-mvvm-b311e4c98d\" rel=\"noreferrer\">https://medium.com/tompee/android-data-binding-and-functional-mvvm-b311e4c98d</a></p>\n"}], "owner": {"reputation": 1, "user_id": 9684626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52196b577c99bc48a9ae30057e05958?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Riveiro", "link": "https://stackoverflow.com/users/9684626/jorge-riveiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2365, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1524476693, "creation_date": 1524469568, "question_id": 49975837, "link": "https://stackoverflow.com/questions/49975837/how-can-i-change-the-visibility-of-an-xml-object-in-viewmodel", "title": "How can I change the visibility of an xml object in ViewModel?", "body": "<p>I have a question about how the visibility of an object in the ViewModel will change.</p>\n\n<p>I'll tell you my case: I have a login interface that has two Edittexts and two buttons, a button and an Edittext are invisible by default, and I want the button that is visible to make the first Edittext and the button that I clicked invisible and make the second button and the second Edittext visible. And here's the problem, I could do all this in Activity, but I need to do it in ViewModel and I have no idea how to access the xml components from there.</p>\n\n<p>I know all this is messy so I'll send the classes and if someone could tell me how to do this I'd appreciate it. Thank you. Thank you.</p>\n\n<p>Login XML:</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n&lt;data&gt;\n    &lt;variable\n        name=\"viewModel\"\n        type=\"com.quobis.sippo.ecco.viewmodel.LoginViewModel\"/&gt;\n&lt;/data&gt;\n&lt;android.support.constraint.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"LoginUser\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"250dp\"\n        android:layout_height=\"200dp\"\n        android:src=\"@drawable/logom\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.2\"\n    /&gt;\n\n\n    &lt;EditText\n        android:id=\"@+id/usr\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"50dp\"\n        android:hint=\"@string/hint_user\"\n        android:textSize=\"18sp\"\n        android:textColorPrimary=\"@color/colorLetterLogin\"\n        android:backgroundTint=\"@color/colorBackButtLogin\"\n        android:elevation=\"20dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:layout_marginLeft=\"60dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.6\"\n        app:addTextChangedListener=\"@{viewModel.emailTextWatcher}\"\n    /&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_usr\"\n        android:layout_width=\"55dp\"\n        android:layout_height=\"50dp\"\n        android:background=\"@color/colorBackButtLogin\"\n        android:drawableBottom=\"@drawable/ic_keyboard_arrow_right\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:layout_marginLeft=\"260dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.6\"\n        android:onClick=\"@{viewModel::onUserClicked}\"\n    /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/pass\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"50dp\"\n        android:hint=\"@string/hint_pass\"\n        android:textSize=\"18sp\"\n        android:shape=\"rectangle\"\n        android:inputType=\"textPassword\"\n        android:textColorPrimary=\"@color/colorLetterLogin\"\n        android:backgroundTint=\"@color/colorBackButtLogin\"\n        android:elevation=\"20dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:layout_marginLeft=\"60dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.6\"\n        android:visibility=\"invisible\"\n        android:onClick=\"@{viewModel::onLoginClicked}\"\n        /&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_pass\"\n        android:layout_width=\"55dp\"\n        android:layout_height=\"50dp\"\n        android:background=\"@color/colorBackButtLogin\"\n        android:drawableBottom=\"@drawable/ic_keyboard_arrow_right\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:layout_marginLeft=\"260dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.6\"\n        android:visibility=\"invisible\"\n        /&gt;\n\n    &lt;Spinner\n        android:id=\"@+id/spinner_usr\"\n        android:layout_width=\"120dp\"\n        android:layout_height=\"40dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:layout_marginLeft=\"40dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.85\"\n    /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>ViewModel:</p>\n\n<pre><code>class LoginViewModel(private val listener: LoginResultCallbacks) : \nViewModel() {\nprivate val user: UserModel\nvar userp =\"jorge\"\n\n\n\n\ninit {\n    this.user= UserModel(email = \"\")\n}\n\n\nfun emailTextWatcher(): TextWatcher {\n    return object : TextWatcher {\n        override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n            user.setEmail(s.toString())\n        }\n\n        override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n\n        }\n\n\n        override fun afterTextChanged(s: Editable) {\n\n        }\n    }\n\n}\n\nfun onUserClicked(v: View) {\n\n\n}\n\nfun onLoginClicked(v:View) {\n    if (user.getEmail() == userp)\n        listener.onSucces(\"Correcto\")\n    else\n        listener.onError(\"Fallo\")\n}\n}\n</code></pre>\n\n<p>Note: the method to change the visibility would be the onUserClicked.</p>\n\n<p>Main activity:</p>\n\n<pre><code>class LoginUser : AppCompatActivity(), LoginResultCallbacks {\nlateinit var binding: ActivityLoginUserBinding\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = DataBindingUtil.setContentView(this, R.layout.activity_login_user)\n    binding.viewModel = ViewModelProviders.of(this, LoginViewModelFactory(this)).get(LoginViewModel::class.java)\n\n\n    var languages = arrayOf(\"English\", \"Espa\u00f1ol\", \"Galego\")\n    val spinner = binding.spinnerUsr\n    if (spinner != null) {\n        val arrayAdapter = ArrayAdapter(this, R.layout.spinner_item, languages)\n        spinner.adapter = arrayAdapter\n    }\n\n}\n\n\noverride fun onSucces(message: String) {\n    Toast.makeText(this,\"Login bueno\", Toast.LENGTH_SHORT).show()\n}\n\n@SuppressLint(\"ResourceAsColor\")\noverride fun onError(message: String) {\n    binding.btnUsr\n    btn_usr.setBackgroundColor(R.color.colorFailLogin)\n}\n}\n</code></pre>\n"}, {"tags": ["java", "arraylist", "kotlin", "hashset", "reduce"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1524471031, "post_id": 49975670, "comment_id": 86968480, "body": "can you provide the code you invoke the intersection method with?"}, {"owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1524479385, "post_id": 49975670, "comment_id": 86973698, "body": "I call the intersection function from within another function call, but I pass in two arguments: an ArrayList of HashSets of Proteins, and an Array List of Lists. I think this is what you asked for?"}, {"owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1524479396, "post_id": 49975670, "comment_id": 86973704, "body": "spcSum(intersection(controlIDList, permutations[i-1]), controlIDList)"}], "answers": [{"comments": [{"owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "edited": false, "score": 0, "creation_date": 1524479441, "post_id": 49976523, "comment_id": 86973741, "body": "Thanks for the answer so far. 2 questions. Are both intersection functions in your answer supposed to have the same name? And does your answer work with ArrayLists or just Lists? Cheers :)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "edited": false, "score": 0, "creation_date": 1524479523, "post_id": 49976523, "comment_id": 86973780, "body": "1. These are overloads, they are distinguished by their parameter list, this is fine 2. You should prefer interfaces (<code>List</code>) to concrete classes whenever possible. Yes, <code>ArrayList</code> is a <code>List</code> and can be passed as an argument"}, {"owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "edited": false, "score": 1, "creation_date": 1524484895, "post_id": 49976523, "comment_id": 86977175, "body": "Cheers for the help. You are correct - no error occurred. The problem I was having was downstream in another call (the spcSum)."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1524471997, "creation_date": 1524471997, "answer_id": 49976523, "question_id": 49975670, "link": "https://stackoverflow.com/questions/49975670/kotlin-arraylisthashsetdata-class-reduce-function-not-working-with-subset-o/49976523#49976523", "title": "Kotlin ArrayList&lt;HashSet&lt;data class&gt;&gt; .reduce function not working with subset of ArrayList", "body": "<p>I simplified the code a bit and got the following:</p>\n\n<pre><code>fun intersection(data: List&lt;HashSet&lt;Protein&gt;&gt;) =\n    data.reduce { acc, it -&gt; acc.apply { retainAll(it) } }\n\nfun intersection(data: List&lt;HashSet&lt;Protein&gt;&gt;, combination: List&lt;Int&gt;) =\n    intersection(combination.map { data[it - 1] })\n</code></pre>\n\n<p>I was able to get the expected result with:</p>\n\n<pre><code>val s1 = hashSetOf(Protein(\"1\",2.0, 2.0,1), Protein(\"2\",2.0, 2.0,1))\nval s2 = hashSetOf(Protein(\"3\",2.0, 2.0,1), Protein(\"2\",2.0, 2.0,1))\nval s3 = hashSetOf(Protein(\"3\",2.0, 2.0,1), Protein(\"4\",2.0, 2.0,1))\nprintln(intersection(listOf(s1,s2,s3), listOf(1,2))) //[Protein(id=2, score=2.0, molw=2.0, spc=1)]\n</code></pre>\n\n<p>So no error occurred. Can you please provide your test code?</p>\n"}], "owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 49976523, "answer_count": 1, "score": 3, "last_activity_date": 1524471997, "creation_date": 1524468942, "question_id": 49975670, "link": "https://stackoverflow.com/questions/49975670/kotlin-arraylisthashsetdata-class-reduce-function-not-working-with-subset-o", "title": "Kotlin ArrayList&lt;HashSet&lt;data class&gt;&gt; .reduce function not working with subset of ArrayList", "body": "<p>I have a data class like this:</p>\n\n<pre><code>data class Protein(val id: String, val score: Double, val molw: Double, val spc: Int) {\n    override fun hashCode() = id.hashCode()\n    override fun equals(other: Any?) = other?.let { id == (it as Protein).id } ?: false\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/49891344/java-kotlin-finding-the-intersection-of-multiple-hashsets-by-class-id\">As per another question I asked</a>, I now have a function that can reduce an ArrayList of HashSets with Proteins </p>\n\n<pre><code>fun intersection(data: ArrayList&lt;HashSet&lt;Protein&gt;&gt;): HashSet&lt;Protein&gt; {\n  return data.reduce { acc, it -&gt; acc.retainAll(it); acc }\n}\n</code></pre>\n\n<p>What I want to do is take a subset of the original ArrayList and return a reduced version. So I tried to do this:</p>\n\n<pre><code>fun intersection(data: ArrayList&lt;HashSet&lt;Protein&gt;&gt;, combination: List&lt;Int&gt;): HashSet&lt;Protein&gt; {\nval newdata = ArrayList&lt;HashSet&lt;Protein&gt;&gt;()\nfor (entry in combination) {\n    newdata.add(data[entry-1]) }\nreturn newdata.reduce { acc, it -&gt; acc.retainAll(it); acc } }\n</code></pre>\n\n<p>Combination tells the function which entries to take from the data ArrayList (eg 1,2,4). The size of the newdata ArrayList will always be 3 (checked this too).</p>\n\n<p>When I run the raw data (ArrayList of 6) through the first intersection function, it reduces just fine. When I run the same data through the second function, it returns a map error, saying that the Key is not found. </p>\n\n<p>I have a feeling this has something to do with the override function for the Protein data class, but I can't find anything about how to work with functional programming for reduce... </p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1524467911, "post_id": 49975081, "comment_id": 86966687, "body": "What is the structure of your <code>SimPrefix</code> class?"}, {"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1524468266, "post_id": 49975081, "comment_id": 86966883, "body": "And what do you get if you omit the <code>orderByChild(&quot;simPref&quot;)</code> from the query? Do you get anything then?"}], "answers": [{"comments": [{"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1524468165, "post_id": 49975428, "comment_id": 86966828, "body": "This is not Java. The language is Kotlin."}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "reply_to_user": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 2, "creation_date": 1524468297, "post_id": 49975428, "comment_id": 86966899, "body": "when you paste java code into kotlin class it automatically converts into kotlin."}, {"owner": {"reputation": 289, "user_id": 9605387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ronan", "link": "https://stackoverflow.com/users/9605387/ronan"}, "edited": false, "score": 0, "creation_date": 1524468707, "post_id": 49975428, "comment_id": 86967133, "body": "Thanks! I programmed in java before I was trying kotlin now so I understood this anyways. Thanks a lot!"}], "tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": true, "score": 2, "last_activity_date": 1524468023, "creation_date": 1524468023, "answer_id": 49975428, "question_id": 49975081, "link": "https://stackoverflow.com/questions/49975081/firebase-query-not-returning-anything/49975428#49975428", "title": "Firebase query not returning anything", "body": "<p>i provide java code you can change your according and put value.</p>\n\n<pre><code> private void sqlQuery(){\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference();\n\n    Query query = reference.child(\"simnumbers\").child(mFirebaseDatabase.push().getKey()).orderByChild(\"simPref\").equalTo(\"value\");\n    query.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            if (dataSnapshot.exists()) {\n\n                for (DataSnapshot issue : dataSnapshot.getChildren()) {\n                    Log.d(\"Value::\",issue.getValue(User.class).email);\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 9605387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ronan", "link": "https://stackoverflow.com/users/9605387/ronan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 49975428, "answer_count": 1, "score": 0, "last_activity_date": 1524468196, "creation_date": 1524466627, "last_edit_date": 1524468196, "question_id": 49975081, "link": "https://stackoverflow.com/questions/49975081/firebase-query-not-returning-anything", "title": "Firebase query not returning anything", "body": "<p>This has been a headscratcher for me recently so this is\nmy firebase structure\n<a href=\"https://i.stack.imgur.com/hwLJz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hwLJz.png\" alt=\"my firebase structure\"></a></p>\n\n<p><strong>Note that, it enters the <code>onDataChange</code></strong></p>\n\n<pre><code>var userPrefix: String = getUserPrefix()\n    Log.d(\"usePRef\",userPrefix + \" x \")\n\n    var sp: SimPrefix //SimPrefix Data Class\n    var query: Query = mDatabaseReference.child(\"simnumbers\")\n            .orderByChild(\"simPref\")\n            .equalTo(userPrefix)\n            .limitToFirst(1)\n\n    query.addValueEventListener( object : ValueEventListener {\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            for (finalSnap in dataSnapshot.children) {\n                sp = finalSnap.getValue(SimPrefix::class.java)!! //passing the object to another\n                                                                //data class object\n                resultView.text = sp.simCard // displaying the value to a TextView\n            }\n        }\n        override fun onCancelled(databaseError: DatabaseError) {\n            println(\"loadPost:onCancelled ${databaseError.toException()}\")\n        }\n    })\n}\n</code></pre>\n\n<p>However, the firebase query is not returning anything.</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1524461268, "post_id": 49973923, "comment_id": 86963708, "body": "share your style.xml with question"}], "answers": [{"tags": [], "owner": {"reputation": 2552, "user_id": 8117793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2hQ.jpg?s=128&g=1", "display_name": "Tomin B Azhakathu", "link": "https://stackoverflow.com/users/8117793/tomin-b-azhakathu"}, "is_accepted": false, "score": 3, "last_activity_date": 1524463839, "last_edit_date": 1524463839, "creation_date": 1524461849, "answer_id": 49974025, "question_id": 49973923, "link": "https://stackoverflow.com/questions/49973923/activity-title-doesnt-appear-when-app-is-running/49974025#49974025", "title": "Activity title doesn&#39;t appear when app is running", "body": "<p>In your <code>Activity</code> add the following code in <code>onCreate()</code></p>\n\n<pre><code>Toolbar toolbar = findViewById(R.id.toolbar); // your toolbar id. this is needed to set your custom toolbar or externally added toolbar as the actionbar toolbar. or you have to use Theme as Dark or Light ActionBar Theme insted of NoActionBar Theme. \ngetSupportActionBar().setDisplayShowTitleEnabled(true); // sometime this may be set false causes no Title on ActionBar\nsetSupportActionBar(toolbar);\n</code></pre>\n\n<p>And you can use <strong><code>getSupportActionBar().setTitle(\"You Title\");</code></strong>   for setting  custom title on <code>Actionbar</code></p>\n\n<p>Hope this will help you</p>\n"}, {"tags": [], "owner": {"reputation": 524, "user_id": 2264534, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EnslX.jpg?s=128&g=1", "display_name": "immodi", "link": "https://stackoverflow.com/users/2264534/immodi"}, "is_accepted": true, "score": 3, "last_activity_date": 1524462203, "creation_date": 1524462203, "answer_id": 49974095, "question_id": 49973923, "link": "https://stackoverflow.com/questions/49973923/activity-title-doesnt-appear-when-app-is-running/49974095#49974095", "title": "Activity title doesn&#39;t appear when app is running", "body": "<p>Try this in onCreate() method of activity class:</p>\n\n<pre><code>Toolbar appToolbar;\nappToolbar = findViewById(R.id.include_toolbar);\nsetSupportActionBar(appToolbar);\nsetTitle(\"Activity Name\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 7322701, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l0-Fdkaf6M0/AAAAAAAAAAI/AAAAAAAAACE/_FNs0_SUS9A/photo.jpg?sz=128", "display_name": "aditya kumar singh", "link": "https://stackoverflow.com/users/7322701/aditya-kumar-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1524463134, "creation_date": 1524463134, "answer_id": 49974292, "question_id": 49973923, "link": "https://stackoverflow.com/questions/49973923/activity-title-doesnt-appear-when-app-is-running/49974292#49974292", "title": "Activity title doesn&#39;t appear when app is running", "body": "<p>if you don't want action bar, set it to noactionbar in style.xml and try this in your activity</p>\n\n<pre><code>Toolbar t = findViewById(R.id.toolbar);\n    setSupportActionBar(t);\n    getSupportActionBar().setTitle(\"My Title\");\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 9570283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2qXjZJVSyZI/AAAAAAAAAAI/AAAAAAAAQCI/49upn2lqo-A/photo.jpg?sz=128", "display_name": "Roy Henriquez", "link": "https://stackoverflow.com/users/9570283/roy-henriquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 49974095, "answer_count": 3, "score": 1, "last_activity_date": 1524463839, "creation_date": 1524461222, "last_edit_date": 1524462036, "question_id": 49973923, "link": "https://stackoverflow.com/questions/49973923/activity-title-doesnt-appear-when-app-is-running", "title": "Activity title doesn&#39;t appear when app is running", "body": "<p>I have an activity with its own title in the toolbar. However, the title doesn't show up when the app is running.</p>\n\n<p>This is the activity in Android Studio:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wNnmi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNnmi.png\" alt=\"\"></a></p>\n\n<p>And this is what it looks like when the app is running on either a real phone or emulator:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zTbJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zTbJr.png\" alt=\"enter image description here\"></a></p>\n\n<p>The string for the title is stored in strings.xml</p>\n\n<pre><code>&lt;resources&gt;\n&lt;string name=\"app_name\"&gt;Glag&lt;/string&gt;\n&lt;string name=\"selection\"&gt;Seleccione el algoritmo:&lt;/string&gt;\n&lt;string name=\"dda\"&gt;DDA&lt;/string&gt;\n&lt;string name=\"bresenham\"&gt;Bresenham&lt;/string&gt;\n&lt;string name=\"dataInput\"&gt;Inserte los puntos a evaluar:&lt;/string&gt;\n&lt;string name=\"x1\"&gt;X1:&lt;/string&gt;\n&lt;string name=\"y1\"&gt;Y1:&lt;/string&gt;\n&lt;string name=\"x2\"&gt;X2:&lt;/string&gt;\n&lt;string name=\"y2\"&gt;Y2:&lt;/string&gt;\n&lt;string name=\"button\"&gt;Calcular&lt;/string&gt;\n&lt;string name=\"hint1\"&gt;0&lt;/string&gt;\n&lt;string name=\"hint2\"&gt;10&lt;/string&gt;\n&lt;string name=\"title_activity_dda\"&gt;DDA Algorithm&lt;/string&gt;\n&lt;string name=\"title_activity_bresenham\"&gt;Bresenham Algorithm&lt;/string&gt;\n&lt;string name=\"x\"&gt;X&lt;/string&gt;\n&lt;string name=\"y\"&gt;Y&lt;/string&gt;\n&lt;string name=\"p\"&gt;P&lt;/string&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is my styles.xml</p>\n\n<pre><code>&lt;resources&gt;\n\n&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"AppTheme.NoActionBar\"&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"AppTheme.AppBarOverlay\" parent=\"ThemeOverlay.AppCompat.Dark.ActionBar\" /&gt;\n\n&lt;style name=\"AppTheme.PopupOverlay\" parent=\"ThemeOverlay.AppCompat.Light\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "kotlin", "dagger"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1524465988, "post_id": 49973025, "comment_id": 86965684, "body": "I&#39;m on my phone or I&#39;d provide a proper answer. Since I can&#39;t, take a look at this blog post that describes exactly how to do what you want. Full disclosure: I wrote the post. <a href=\"https://dev.to/autonomousapps/the-daggerandroid-missing-documentation-33kj\" rel=\"nofollow noreferrer\">dev.to/autonomousapps/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 2099298, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zwgRO.png?s=128&g=1", "display_name": "Teresa", "link": "https://stackoverflow.com/users/2099298/teresa"}, "is_accepted": true, "score": 1, "last_activity_date": 1524496791, "creation_date": 1524496791, "answer_id": 49984542, "question_id": 49973025, "link": "https://stackoverflow.com/questions/49973025/dagger-android-library-how-to-provide-contextapplication/49984542#49984542", "title": "&quot;dagger-android&quot; library, how to provide Context(Application)?", "body": "<p>It is better to separate @Binds and @Provides, you can create a component class:</p>\n\n<pre><code>@Singleton\n@Component(\n    modules = [(AppModule::class)]\n)\n\ninterface AppComponent {\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(app: Application): Builder\n        fun build(): AppComponent\n}\n}\n</code></pre>\n\n<p>then an AppModule class for all your @Provides</p>\n\n<pre><code>@Module\nclass AppModule() {\n   @Singleton\n   @Provides\n   fun providesCommonHelloService() = CommonHelloService()\n}\n</code></pre>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 1, "accepted_answer_id": 49984542, "answer_count": 1, "score": 0, "last_activity_date": 1524496791, "creation_date": 1524454373, "question_id": 49973025, "link": "https://stackoverflow.com/questions/49973025/dagger-android-library-how-to-provide-contextapplication", "title": "&quot;dagger-android&quot; library, how to provide Context(Application)?", "body": "<p>It is confusing that all web search results seem to use slightly different versions of Dagger or different approaches. I followed the example which claims that is the better \"new way\". (<a href=\"https://proandroiddev.com/exploring-the-new-dagger-android-module-9eb6075f1a46\" rel=\"nofollow noreferrer\">https://proandroiddev.com/exploring-the-new-dagger-android-module-9eb6075f1a46</a>) The full sample source code is here (<a href=\"https://github.com/jshvarts/DaggerAndroidKotlinSampleApp\" rel=\"nofollow noreferrer\">https://github.com/jshvarts/DaggerAndroidKotlinSampleApp</a>).</p>\n\n<p>Now, I want to know how a non-activity/fragment class could be provided with a Context. So, I added a simple class like this,</p>\n\n<pre><code>class Sample2 @Inject constructor (var app: Application)\n{\n    fun print()\n    {\n        Log.d(\"sample2\", app.packageName);\n    }\n}\n</code></pre>\n\n<p>But even though the sample project had AppModule and AppComponent, the compilation failed, because app could not be provided. </p>\n\n<p>I have searched the web and found this method (<a href=\"https://github.com/google/dagger/issues/832\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/832</a>). I followed that code and modified the sample's AppModule and AppComponent like this,</p>\n\n<pre><code>@Module(includes = [AndroidInjectionModule::class])\nabstract class AppModule {\n    @Binds\n    abstract fun application(app: App):Application;\n\n    @Singleton\n    @Provides\n    fun providesCommonHelloService() = CommonHelloService()\n}\n\n@Singleton\n@Component(modules = [AndroidInjectionModule::class,\n    AppModule::class, ActivitiesModule::class])\ninterface AppComponent:AndroidInjector&lt;App&gt;\n{\n    @Component.Builder\n    abstract class Builder:AndroidInjector.Builder&lt;App&gt;(){}\n}\n\nclass App : Application(), HasActivityInjector {\n    @Inject\n    lateinit var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate()\n    {\n        super.onCreate()\n\n        DaggerAppComponent.builder().create(this).inject(this)\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; = activityInjector\n}\n</code></pre>\n\n<p>But the, I get the following compilation error.</p>\n\n<blockquote>\n  <p>AppModule.java:7: error: A @Module may not contain both non-static @Provides methods and abstract @Binds or @Multibinds declarations\n  public abstract class AppModule {</p>\n</blockquote>\n\n<p>Again, as I have said in the beginning, the Dagger examples on the Internet are all slightly different, I do not know how to take two features from two examples.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 969, "user_id": 5906447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f1171606847d88cd63380dcbb8382b?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil", "link": "https://stackoverflow.com/users/5906447/sahil"}, "is_accepted": false, "score": 1, "last_activity_date": 1524462068, "creation_date": 1524462068, "answer_id": 49974066, "question_id": 49972362, "link": "https://stackoverflow.com/questions/49972362/android-orientation-reverts-back-after-back-button-is-pressed/49974066#49974066", "title": "Android orientation reverts back after back button is pressed", "body": "<p>Seems to be bug when we have single activity as portrait in app. \nBelow link might help :\n<a href=\"https://stackoverflow.com/questions/47228194/android-8-1-screen-orientation-issue-flipping-to-landscape-a-portrait-screen\">Android 8.1 screen orientation issue: flipping to landscape a portrait screen</a></p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "is_accepted": true, "score": 0, "last_activity_date": 1524532468, "creation_date": 1524532468, "answer_id": 49992046, "question_id": 49972362, "link": "https://stackoverflow.com/questions/49972362/android-orientation-reverts-back-after-back-button-is-pressed/49992046#49992046", "title": "Android orientation reverts back after back button is pressed", "body": "<p>For anyone still having problems with this bug, here is a workaround provided in the link shared by Sahil.</p>\n\n<p>On the \"second\" activity, add the following:</p>\n\n<pre><code>    onCreate(){\n       setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE);\n}\n\nonPause(){ \n      if (android.os.Build.VERSION.SDK_INT &gt;= 27) {\n             setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_PORTRAIT);\n      }\n}\n\nonResume(){\n      if (android.os.Build.VERSION.SDK_INT &gt;= 27) {\n             setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE);\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 1, "accepted_answer_id": 49992046, "answer_count": 2, "score": 1, "last_activity_date": 1524532468, "creation_date": 1524447797, "last_edit_date": 1524460409, "question_id": 49972362, "link": "https://stackoverflow.com/questions/49972362/android-orientation-reverts-back-after-back-button-is-pressed", "title": "Android orientation reverts back after back button is pressed", "body": "<p>I have 2 activities with a default orientation specified in the AndroidManifest.xml</p>\n\n<pre><code>&lt;activity android:name=\"com.package.name.Activities.BrowseBooksActivity\"\n        android:screenOrientation=\"portrait\"/&gt;\n&lt;activity android:name=\"com.package.name.Activities.ReadBooksActivity\"\n        android:screenOrientation=\"landscape\"/&gt;\n</code></pre>\n\n<p>The user clicks an item in BrowseBooksActivity (in portrait) and the ReadBooksActivity (in landscape) is launched. But when the back button is pressed, BrowseBooksActivity initially starts as portrait for about a second and then reverts to landscape mode. How to fix this?</p>\n\n<p>BrowseBooksActivity:</p>\n\n<pre><code>class BrowseBooksActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.browsebooksmain_layout)\n\n    fetchBooks ()\n\n    recyclerview_main.layoutManager = LinearLayoutManager(this)\n}\n\n\nfun fetchBooks () {\n\n              // some processing\n\n                runOnUiThread {\n                    recyclerview_main.adapter = BrowseBooksAdapter(bookList)\n                }}\n</code></pre>\n\n<p>BrowseBooksAdapter:</p>\n\n<pre><code>class BrowseBooksAdapter (val bookFeed: List&lt;ResourcesList&gt;): RecyclerView.Adapter&lt;CustomViewHolder&gt;()  {\n\n    override fun getItemCount(): Int {\n        return bookFeed.count()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val cellForRow = layoutInflater.inflate(R.layout.browsebooks_layout, parent, false)\n        return CustomViewHolder(cellForRow)\n    }\n\n    override fun onBindViewHolder(holder: CustomViewHolder, position: Int) {\n        holder.v.textview_booktitle?.text = bookFeed[position].name\n        Picasso.get().load(bookFeed[position].coverURI).into(holder.v.ImageView_bookcover)\n        holder.bookFeed = bookFeed[position]\n    }\n}\n\nclass CustomViewHolder(val v: View, var bookFeed : ResourcesList? = null): RecyclerView.ViewHolder(v) {\n\n    init {\n        v.setOnClickListener {\n            val intent = Intent (v.context, ReadBooksActivity::class.java)\n\n            intent.putExtra(\"ID\", bookFeed?.id)\n\n            v.context.startActivity(intent)\n        }\n\n    }\n    }\n</code></pre>\n\n<p>ReadBooksActivity:</p>\n\n<pre><code>class ReadBooksActivity : Activity() {\n\nprivate var mCurlView: CurlView? = null\nprivate var newbookList : ResourcesList? = null\n\npublic override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.readbooks_layout)\n\n    var index = 0\n    if (lastNonConfigurationInstance != null) {\n        index = lastNonConfigurationInstance as Int\n    }\n\n    mCurlView = findViewById(R.id.curl)\n    mCurlView!!.setSizeChangedObserver(SizeChangedObserver())\n    mCurlView!!.setCurrentIndex(index)\n    mCurlView!!.setBackgroundColor(-0xdfd7d0)\n\n    var bookId = intent.getIntExtra(\"ID\", 0)\n\n    Thread (Runnable {\n\n            //some processing to load data to mBitmaps\n        mCurlView!!.setBitmapProvider(BitmapProvider(mBitmaps))\n\n        }).start()\n\n\n    mCurlView!!.setEnableTouchPressure(true)\n    mCurlView!!.set2PagesLandscape(true)\n\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 18, "last_activity_date": 1524426497, "last_edit_date": 1524426497, "creation_date": 1524426385, "answer_id": 49970063, "question_id": 49969998, "link": "https://stackoverflow.com/questions/49969998/kotlin-delegated-property-by-map-throwing-nosuchelementexception-if-not-present/49970063#49970063", "title": "Kotlin delegated property by map throwing NoSuchElementException if not present in map", "body": "<p>You can basically use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-default.html\" rel=\"noreferrer\"><code>.withDefault { ... }</code></a> extension that wraps a <code>Map</code> for delegation, so that it executes the lambda to calculate a value on absent key:</p>\n\n<pre><code>data class UserUpdateRequest(val map: Map&lt;String, Any?&gt;) {\n    private val defaultMap = map.withDefault { null }\n\n    @get:Email\n    val email: String? by defaultMap\n    val firstName: String? by defaultMap\n    val lastName: String? by defaultMap\n}\n</code></pre>\n\n<p>Note that simple <code>defaultMap.get(key)</code> and <code>defaultMap[key]</code> queries are not handled by this wrapper, it only affects the <code>defaulMap.getValue(key)</code> calls (which also happen to be used by the delegation implementation).</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 11951073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2f764194be5eb4cfebad5f1b11324c?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Schmidt", "link": "https://stackoverflow.com/users/11951073/erik-schmidt"}, "is_accepted": false, "score": 1, "last_activity_date": 1580976542, "creation_date": 1580976542, "answer_id": 60090288, "question_id": 49969998, "link": "https://stackoverflow.com/questions/49969998/kotlin-delegated-property-by-map-throwing-nosuchelementexception-if-not-present/60090288#60090288", "title": "Kotlin delegated property by map throwing NoSuchElementException if not present in map", "body": "<p>Here is a delegate implementation, if you want to have more control over what the delegate does and understand how it works.</p>\n\n<h2>First of a demonstration how it could be used in your scenario:</h2>\n\n<pre><code>data class UserUpdateRequest(val map: Map&lt;String, Any?&gt;) {\n\n        var email: String? by valueFromMap(map = map)\n        var firstName: String? by valueFromMap(map = map)\n        var lastName: String? by valueFromMap(map = map)\n        var age: Int? by valueFromMap(map = map)\n    }\n\n    val myInitialMap = mutableMapOf&lt;String,Any?&gt;()\n    myInitialMap[\"email\"] = \"1234@something.com\"\n    myInitialMap[\"age\"] = 34\n\n    val request = UserUpdateRequest(myInitialMap)\n    request.lastName = \"Genericname\"\n\n    println(\"email: ${request.email}, firstNme: ${request.firstName}, lastName: ${request.lastName}, age: ${request.age}\")\n\n    request.lastName = null\n\n    println(\"lastName after setting to null: ${request.lastName}\")\n</code></pre>\n\n<p>This will print:<br>\nemail: 1234@something.com, firstName: null, lastName: Genericname, age: 34<br>\nlastName after setting to null: null </p>\n\n<p>So the variables are set to the initialMap's values if they exist and the value's type matches the variable type. Else the variable is set to null.</p>\n\n<h2>The Delegate Implementation</h2>\n\n<pre><code>fun &lt;R&gt;valueFromMap(key: (KProperty&lt;*&gt;) -&gt; String = KProperty&lt;*&gt;::name,\n                map: Map&lt;String, Any?&gt;): ReadWriteProperty&lt;Any, R?&gt;{\n\n    val myMap = map.toMutableMap()\n\n    return object : ReadWriteProperty&lt;Any, R?&gt; {\n\n    override fun getValue(thisRef: Any, property: KProperty&lt;*&gt;): R? {\n        return (myMap.getOrDefault(key(property), null) as? R)?: return null\n    }\n\n    override fun setValue(thisRef: Any, property: KProperty&lt;*&gt;, value: R?) {\n        if(value == null){\n            myMap.remove(key(property))\n        } else {\n            myMap[key(property)] = value\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>So valueFromMap(map = map) is a function that returns a ReadWriteProperty for a val/var(KProperty) that uses the KPproperty's name as key to look for a value in the map, passed as argument.<br>\nSo when we call:  </p>\n\n<pre><code>request.lastName = \"Genericname\"\n</code></pre>\n\n<p>In the above example, actually we call . </p>\n\n<pre><code>initialMap[\"lastName\"] = \"Genericname\"\n</code></pre>\n\n<p>If the variable name and the corresponding key differ you could even pass your key as argument.<br>\nWith this approach you're able to handle the value access on your own in the getValue and setValue functions.</p>\n\n<p>Hope this helps anybody.</p>\n"}], "owner": {"reputation": 4518, "user_id": 556730, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e78457dc78d1fc89c5968991f3c01a43?s=128&d=identicon&r=PG", "display_name": "arg20", "link": "https://stackoverflow.com/users/556730/arg20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 1, "accepted_answer_id": 49970063, "answer_count": 2, "score": 9, "last_activity_date": 1580976542, "creation_date": 1524425951, "question_id": 49969998, "link": "https://stackoverflow.com/questions/49969998/kotlin-delegated-property-by-map-throwing-nosuchelementexception-if-not-present", "title": "Kotlin delegated property by map throwing NoSuchElementException if not present in map", "body": "<p>I have a kotlin object defined as such:</p>\n\n<pre><code>data class UserUpdateRequest(val map: Map&lt;String, Any?&gt;) {\n    @get:Email\n    val email: String? by map\n    val firstName: String? by map\n    val lastName: String? by map\n}\n</code></pre>\n\n<p>So that works just fine, so the problem I'm having is that the properties are nullable, and when I access one, say by doing <code>instance.email</code> it throws a <code>NoSuchElementException</code> if said property is not set in the map. </p>\n\n<p>Instead, it'd be more convenient if it returned <code>null</code>, since it's optional/nullable. Is there any way to achieve this without writing my own delegate?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 6, "last_activity_date": 1524422453, "creation_date": 1524422453, "answer_id": 49969459, "question_id": 49969319, "link": "https://stackoverflow.com/questions/49969319/kotlin-difference-between-constant-in-companion-object-and-top-level/49969459#49969459", "title": "Kotlin: Difference between constant in companion object and top level", "body": "<p>I think that basically depends on whether you want that constant to be part of a class. If you put it inside a <code>companion</code> object, it will be accessed like this:</p>\n\n<pre><code>Example.CONSTANT\n</code></pre>\n\n<p>If you choose to put a constant on file level, it will be imported from other files and accessed with simply <code>CONSTANT</code> normally.</p>\n\n<p>There are reasons for putting constants in classes as well as for putting them top-level.</p>\n\n<p>Note that the <code>const</code> keyword can only be applied to variables of type <code>String</code> or primitive types (<code>Int</code> etc.) (<a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"noreferrer\">reference</a>). For most cases though, there's no need to apply the keyword. Defining constant values as shown in the following works as well:</p>\n\n<pre><code>val constantFIS = FileInputStream(\"path\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 29, "last_activity_date": 1524424066, "creation_date": 1524424066, "answer_id": 49969704, "question_id": 49969319, "link": "https://stackoverflow.com/questions/49969319/kotlin-difference-between-constant-in-companion-object-and-top-level/49969704#49969704", "title": "Kotlin: Difference between constant in companion object and top level", "body": "<h1>Differences in usage</h1>\n\n<p>Defining the field in a companion object limits the scope it is available in without importing to only that class, which can help keeping the data from being used in unexpected places.</p>\n\n<p>Defining in the file makes the field available to any code in the same package as the field.</p>\n\n<h1>Differences in Bytecode</h1>\n\n<pre><code>const val CONSTANT = \"something\"\n\nclass Example {\n}\n</code></pre>\n\n<p>Creates the following:</p>\n\n<p><strong>Example.java</strong></p>\n\n<pre><code>public final class Example {}\n</code></pre>\n\n<p><strong>XKt.java</strong></p>\n\n<pre><code>import kotlin.Metadata;\nimport org.jetbrains.annotations.NotNull;\n\n\npublic final class XKt {\n   public static final String CONSTANT = \"something\";\n}\n</code></pre>\n\n<p>Whereas:</p>\n\n<pre><code>class Example {\n    companion object {\n        const val CONSTANT = \"something\"\n    }\n}\n</code></pre>\n\n<p>Creates the following:</p>\n\n<pre><code>public final class Example {\n    public static final String CONSTANT = \"something\";\n    public static final Example.Companion Companion = new Example.Companion((DefaultConstructorMarker) null);\n\n    public static final class Companion {\n        private Companion() {}\n\n        public Companion(DefaultConstructorMarker $constructor_marker) {\n            this();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 57, "last_activity_date": 1536561840, "last_edit_date": 1536561840, "creation_date": 1524474613, "answer_id": 49977253, "question_id": 49969319, "link": "https://stackoverflow.com/questions/49969319/kotlin-difference-between-constant-in-companion-object-and-top-level/49977253#49977253", "title": "Kotlin: Difference between constant in companion object and top level", "body": "<p>In Java you're forced to put all static field and method declarations in a class and often you even have to create a class just for that purpose. Coming to Kotlin, many users look for the equivalent facility out of habit and end up overusing companion objects.</p>\n\n<p>Kotlin completely decouples the notions of a file and a class. You can declare any number of public classes is the same file. You can also declare private top-level functions and variables and they'll be accessible only to the classes within the same file. This is a great way to organize closely associated code and data.</p>\n\n<p>Compared to top-level declarations, the syntax of companion objects is quite unwieldy. You should use them only when you specifically want to associate some <code>public static</code> code or data with a class and want your users to qualify access to it with the class's name. The use cases for this are quite rare and in most cases the top-level declarations are more natural.</p>\n\n<p>Whenever you have some <code>private static</code> code/data that you want to couple to a class, you'll be better served with private top-level declarations.</p>\n\n<p>Finally, sometimes the concern of the generated bytecode matters. If, for whatever reason, you have to produce a Java class with Kotlin code such that the class has a <code>static</code> member, you must resort to a companion object and a special annotation.</p>\n"}], "owner": {"reputation": 4149, "user_id": 6051176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdcd2b6f8b54169bbb7caff671431b06?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Tarj&#225;nyi", "link": "https://stackoverflow.com/users/6051176/martin-tarj%c3%a1nyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10865, "favorite_count": 8, "accepted_answer_id": 49977253, "answer_count": 3, "score": 47, "last_activity_date": 1536561840, "creation_date": 1524421545, "question_id": 49969319, "link": "https://stackoverflow.com/questions/49969319/kotlin-difference-between-constant-in-companion-object-and-top-level", "title": "Kotlin: Difference between constant in companion object and top level", "body": "<p>The general pattern to create constants in Kotlin seems to be using companion objects. However, I can also define a constant at the file level. Why is that not so popular? Am I missing something?</p>\n\n<p>With companion object:</p>\n\n<pre><code>class Example {\n    companion object {\n        const val CONSTANT = \"something\"\n}\n</code></pre>\n\n<p>On top level:</p>\n\n<pre><code>const val CONSTANT = \"something\"\n\nclass Example {\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1524417426, "post_id": 49968334, "comment_id": 86953044, "body": "aren&#39;t you missing TOP and BOTTOM constraints of the view?"}, {"owner": {"reputation": 911, "user_id": 1192805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03da489d8b9f269b5629d50bf477e5a2?s=128&d=identicon&r=PG", "display_name": "1192805", "link": "https://stackoverflow.com/users/1192805/1192805"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1524421186, "post_id": 49968334, "comment_id": 86954354, "body": "perhaps, though i had added a constraintSet to popupView, which connected titleLabel and popupView top,bottom,start,end but it also didn&#39;t render. not sure what else to try."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 9682071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b05c464325eab144d8db9692801c179a?s=128&d=identicon&r=PG&f=1", "display_name": "Peculator", "link": "https://stackoverflow.com/users/9682071/peculator"}, "is_accepted": false, "score": 0, "last_activity_date": 1524421083, "creation_date": 1524421083, "answer_id": 49969243, "question_id": 49968334, "link": "https://stackoverflow.com/questions/49968334/how-to-get-parent-constraintlayout-view-to-match-its-child-textview-height-progr/49969243#49969243", "title": "How to get parent ConstraintLayout view to match its child TextView height programmatically", "body": "<p>You can fix this by switching the order of the view#id in the connect functions</p>\n\n<pre><code>popupConstraintSet.connect(view.id, START, popupView.id, START, margin)\npopupConstraintSet.connect(view.id, END, popupView.id, END, margin)\npopupConstraintSet.centerHorizontally(view.id, popupView.id)\npopupConstraintSet.centerVertically(view.id, popupView.id)\n</code></pre>\n\n<p>OR set the ConstraintSet to the popUpView. The field already has the correct name ^^</p>\n\n<pre><code>popUpView.setConstraintSet(popupConstraintSet)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 911, "user_id": 1192805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03da489d8b9f269b5629d50bf477e5a2?s=128&d=identicon&r=PG", "display_name": "1192805", "link": "https://stackoverflow.com/users/1192805/1192805"}, "is_accepted": false, "score": 0, "last_activity_date": 1524452331, "creation_date": 1524452331, "answer_id": 49972815, "question_id": 49968334, "link": "https://stackoverflow.com/questions/49968334/how-to-get-parent-constraintlayout-view-to-match-its-child-textview-height-progr/49972815#49972815", "title": "How to get parent ConstraintLayout view to match its child TextView height programmatically", "body": "<p>Here's what I ended up doing:</p>\n\n<ul>\n<li>remove popupView.layoutParams; WRAP_CONTENT for height seems to be ignored...</li>\n<li>add constrainHeight with WRAP_CONTENT to constraintSet</li>\n</ul>\n\n<p>onCreate is now this:</p>\n\n<pre><code>  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    view.id = 1\n    popupView.id = 2\n    titleLabel.id = 5\n\n    popupView.addView(titleLabel)\n    view.addView(popupView)\n\n    titleLabel.layoutParams = ConstraintLayout.LayoutParams(\n      ConstraintLayout.LayoutParams.MATCH_CONSTRAINT,\n      ConstraintLayout.LayoutParams.WRAP_CONTENT)\n    titleLabel.text = message\n\n\n    var margin = 2 * Constants.SpacingStandard.toInt()\n    val popupConstraintSet = ConstraintSet()\n\n    popupConstraintSet.connect(popupView.id, START, view.id, START, margin)\n    popupConstraintSet.connect(popupView.id, END, view.id, END, margin)\n    popupConstraintSet.constrainHeight(popupView.id, ConstraintSet.WRAP_CONTENT)\n    popupConstraintSet.centerHorizontally(popupView.id, view.id)\n    popupConstraintSet.centerVertically(popupView.id, view.id)\n\n    view.setConstraintSet(popupConstraintSet)\n\n    setContentView(view)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 911, "user_id": 1192805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03da489d8b9f269b5629d50bf477e5a2?s=128&d=identicon&r=PG", "display_name": "1192805", "link": "https://stackoverflow.com/users/1192805/1192805"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 665, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524660546, "creation_date": 1524415294, "last_edit_date": 1524660546, "question_id": 49968334, "link": "https://stackoverflow.com/questions/49968334/how-to-get-parent-constraintlayout-view-to-match-its-child-textview-height-progr", "title": "How to get parent ConstraintLayout view to match its child TextView height programmatically", "body": "<p>It's awesome to be learning ConstraintLayout and Kotlin. I have a constraintLayout popupView, which is the parent view of a TextView titleLabel. I'd like popupView height to adjust to the content of its child titleLabel TextView. titleLabel height can vary due to different text strings used.</p>\n\n<p>Both titleLabel and popupView are set to WRAP_CONTENT for the height layout params, but the popupView isn't getting rendered. Adding a fixed height constraint to popupView's constraintSet will render it, but a fixed height will not work when titleLabel height changes.</p>\n\n<p>Any ideas how to get it working? Here's what I have</p>\n\n<pre><code>open class PopupActivity(): AppCompatActivity() {\n\n  public var message:String = \"This is a message string for the label\"\n\n  val titleLabel: TextView by lazy {\n    val label = TextView(this)\n    label.gravity = Gravity.CENTER\n    label.setTextSize(Constants.FontSizePopupTitle)\n    return@lazy label\n  }\n\n  val popupView: ConstraintLayout by lazy {\n    val view = ConstraintLayout(this)\n    view.setBackgroundColor(Color.primary())\n    return@lazy view\n  }\n\n  val view: ConstraintLayout by lazy {\n    val v = ConstraintLayout(this)\n    return@lazy v\n  }\n\n  @SuppressLint(\"ResourceType\")\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    view.id = 1\n    popupView.id = 2\n    titleLabel.id = 5\n\n    var margin = 2 * Constants.SpacingStandard.toInt()\n\n    view.addView(popupView)\n    popupView.addView(titleLabel)\n\n    titleLabel.layoutParams = ConstraintLayout.LayoutParams(\n      ConstraintLayout.LayoutParams.MATCH_CONSTRAINT,\n      ConstraintLayout.LayoutParams.WRAP_CONTENT)\n    titleLabel.text = message\n\n\n    popupView.layoutParams = ConstraintLayout.LayoutParams(\n      ConstraintLayout.LayoutParams.MATCH_CONSTRAINT,\n      ConstraintLayout.LayoutParams.WRAP_CONTENT)\n\n    val popupConstraintSet = ConstraintSet()\n\n    popupConstraintSet.connect(popupView.id, START, view.id, START, margin)\n    popupConstraintSet.connect(popupView.id, END, view.id, END, margin)\n    popupConstraintSet.centerHorizontally(popupView.id, view.id)\n    popupConstraintSet.centerVertically(popupView.id, view.id)\n\n    view.setConstraintSet(popupConstraintSet)\n    setContentView(view)\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1524412350, "post_id": 49967775, "comment_id": 86951276, "body": "Please have a look at <a href=\"https://stackoverflow.com/q/44912080/1837367\">How to fix cannot be provided</a>. You&#39;re not providing <code>SearchPresenter</code> from anywhere where Dagger can find it."}, {"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1524415137, "post_id": 49967775, "comment_id": 86952274, "body": "I was reading this thread just before post this question, but now I realized I missed the last paragraph, I forgot that my SearchPresenter was a abstract class and not an Interface, so I changed my implementation but still having the same problem. (I&#39;ve edit the question)"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1524418145, "post_id": 49967775, "comment_id": 86953299, "body": "It looks alright now. I&#39;d try to remove one <code>UntappedSearchModule</code> since you add it twice (included in module, as well as on the component)"}, {"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 2, "creation_date": 1524425569, "post_id": 49967775, "comment_id": 86955797, "body": "Argh. I had implemented wrong the scope annotation..."}], "owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1524424940, "creation_date": 1524411896, "last_edit_date": 1524424940, "question_id": 49967775, "link": "https://stackoverflow.com/questions/49967775/dagger2-dependency-cannot-be-satisfied", "title": "Dagger2 - Dependency cannot be satisfied", "body": "<p>I'm having a problem with injection for the SearchPresenter object. I've revised the dependency graph more than 50 times and cannot figure out what is the problem: </p>\n\n<pre><code>e: /home/alexandre/dev/projetos/gitlab/Cervejas/app/build/tmp/kapt3/stubs/debug/br/com/alexpfx/cervejas/di/AppComponent.java:8: error: [br.com.alexpfx.cervejas.di.beers.BeersComponent.inject(br.com.alexpfx.cervejas.beers.BeersFragment)] br.com.alexpfx.cervejas.search.SearchPresenter cannot be provided without an @Provides- or @Produces-annotated method.\npublic abstract interface AppComponent {\n                ^\n      br.com.alexpfx.cervejas.search.SearchPresenter is injected at\n          br.com.alexpfx.cervejas.beers.BeersFragment.searchPresenter\n      br.com.alexpfx.cervejas.beers.BeersFragment is injected at\n          br.com.alexpfx.cervejas.di.beers.BeersComponent.inject(beersFragment)\n</code></pre>\n\n<p>I've these components and modules:</p>\n\n<pre><code>@Singleton\n@Component(\n        modules = [AppModule::class, ServiceModule::class]\n)\ninterface AppComponent {\n    fun inject (app: BeerApp)\n    fun plus (): LoginSubComponent\n    fun plus (searchModule: UntappedSearchModule): BeersComponent\n\n}\n\n\n\n@Module\nclass AppModule(val app: BeerApp) {\n\n    @Singleton\n    @Provides\n    fun app(): BeerApp = app\n\n}\n\n\n@Module\nclass ServiceModule {\n    companion object {\n        private const val BASE_URL = \"https://api.untappd.com/\"\n    }\n\n    @Singleton\n    @Provides\n    fun provideUntappedConfig(): UntappdConfig {\n        return UntappdConfig(BuildConfig.UNTAPPDCLIENTID, BuildConfig.UNTAPPDCLIENTSECRET)\n    }\n\n\n    @Singleton\n    @Provides\n    fun retrofit(): Retrofit {\n        return Retrofit.Builder().baseUrl(BASE_URL).addCallAdapterFactory(RxJava2CallAdapterFactory\n            .create()).addConverterFactory(GsonConverterFactory.create()).build()\n\n    }\n\n    @Singleton\n    @Provides\n    fun provideUntappedService(retrofit: Retrofit): UntappedService {\n        return retrofit.create(UntappedService::class.java)\n    }            \n}\n\n\n@Module\nclass UntappedSearchModule (private val searchView: SearchView) {\n\n    @PerFragment\n    @Provides\n    fun provideSearchView () = searchView\n\n\n    @PerFragment\n    @Provides\n    fun provideSearchInteractor (searchInteractorImpl: SearchInteractorImpl): SearchInteractor {\n        return searchInteractorImpl\n    }\n\n\n\n    @PerFragment\n    @Provides\n    fun provideSearchPresenter (searchView: SearchView, searchInteractor: SearchInteractor) : SearchPresenter{\n        return SearchPresenterImpl(searchView, searchInteractor)\n    }\n\n}\n</code></pre>\n\n<p><code>SearchPresenter</code> depends on <code>SearchView</code> that is provided in <code>UntappedSearchModule</code>:</p>\n\n<pre><code>@PerFragment\n@Provides\nfun provideSearchView () = searchView\n</code></pre>\n\n<p>and <code>SearchInteractor</code> that is provided: </p>\n\n<pre><code>@PerFragment\n    @Provides\n    fun provideSearchInteractor (searchInteractorImpl: SearchInteractorImpl): SearchInteractor {\n        return searchInteractorImpl\n    }\n</code></pre>\n\n<p><code>SearchInteractorImpl</code> had annotated in constructor: </p>\n\n<pre><code>@PerFragment\nclass SearchInteractorImpl @Inject constructor(private val beerService: UntappedService,\n                                               private val config: UntappdConfig) : SearchInteractor {\n\n    override fun searchBeers(query: String): io.reactivex.Observable&lt;List&lt;SearchedBeerVO&gt;&gt; {\n        return beerService.searchBeers(config.clientId, config.clientSecret, query).map({ t -&gt; null })\n    }\n}\n</code></pre>\n\n<p>It depends on <code>UntappedService</code> and <code>UntappdConfig</code> that comes from <code>ServiceModule</code> </p>\n\n<pre><code>@Singleton\n    @Provides\n    fun provideUntappedConfig(): UntappdConfig {\n        return UntappdConfig(BuildConfig.UNTAPPDCLIENTID, BuildConfig.UNTAPPDCLIENTSECRET)\n    }\n\n\n\n@Singleton\n@Provides\nfun provideUntappedService(retrofit: Retrofit): UntappedService {\n    return retrofit.create(UntappedService::class.java)\n}\n</code></pre>\n\n<p>Retrofit is in this module, too. \nBeersComponent and BeersFragment are: </p>\n\n<pre><code>@PerFragment\n@Subcomponent(modules = [UntappedSearchModule::class])\ninterface BeersComponent {\n    fun inject(beersFragment: BeersFragment)\n}\n\nclass BeersFragment : BaseFragment(), SearchView, AnkoLogger {\n\n    override fun injectDependencies(appComponent: AppComponent) {\n        appComponent.plus(UntappedSearchModule(this)).inject(this)\n    }\n\n\n    @Inject\n    lateinit var searchPresenter: SearchPresenter\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n        return inflater.inflate(R.layout.fragment_beers, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        setupRecycler()\n\n        searchPresenter.search(\"stella\")\n    }\n\n    private fun setupRecycler() {\n\n        recyclerSearchResult.layoutManager = LinearLayoutManager(context)\n\n    }\n\n\n    override fun displayResults(beers: List&lt;SearchedBeerVO&gt;) {\n        info(\"beers: \"+beers.size)\n\n        recyclerSearchResult.adapter = BeersAdapter(beers)\n    }\n\n\n}\n</code></pre>\n\n<p>BaseFragment:</p>\n\n<pre><code>abstract class BaseFragment : Fragment()  {\n\n    private val appComponent by lazy {\n        (activity!!.application as BeerApp).component\n    }\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        injectDependencies(appComponent)\n    }\n\n    abstract fun injectDependencies (appComponent: AppComponent)\n\n}\n</code></pre>\n\n<p>--------- EDIT</p>\n\n<p>I change the <code>UntappedSearchModule</code> to: </p>\n\n<pre><code>@Module\nclass UntappedSearchModule (private val searchView: SearchView) {\n\n    @PerFragment\n    @Provides\n    fun provideSearchView () = searchView\n\n    @PerFragment\n    @Provides\n    fun provideSearchPresenterImpl (searchView: SearchView, searchInteractor: SearchInteractor) : SearchPresenterImpl{\n        return SearchPresenterImpl(searchView, searchInteractor)\n    }\n\n\n    @Module(includes = arrayOf(UntappedSearchModule::class))\n    abstract class SearchPresenterModule {\n\n        @Binds\n        abstract fun provideSearchPresenter (searchPresenterImpl: SearchPresenterImpl):SearchPresenter\n    }\n\n\n    @PerFragment\n    @Provides\n    fun provideSearchInteractor (searchInteractorImpl: SearchInteractorImpl): SearchInteractor {\n        return searchInteractorImpl\n    }\n\n}\n\n\n@PerFragment\n@Subcomponent(modules = [UntappedSearchModule::class, UntappedSearchModule.SearchPresenterModule::class])\ninterface BeersComponent {\n    fun inject(beersFragment: BeersFragment)\n}\n</code></pre>\n\n<p>But again, same problem: </p>\n\n<pre><code>e: /home/alexandre/dev/projetos/gitlab/Cervejas/app/build/tmp/kapt3/stubs/debug/br/com/alexpfx/cervejas/di/AppComponent.java:8: error: [br.com.alexpfx.cervejas.di.beers.BeersComponent.inject(br.com.alexpfx.cervejas.beers.BeersFragment)] br.com.alexpfx.cervejas.search.SearchPresenterImpl cannot be provided without an @Inject constructor or from an @Provides-annotated method.\npublic abstract interface AppComponent {\n                ^\n      br.com.alexpfx.cervejas.search.SearchPresenterImpl is injected at\n          br.com.alexpfx.cervejas.di.UntappedSearchModule.SearchPresenterModule.provideSearchPresenter(searchPresenterImpl)\n      br.com.alexpfx.cervejas.search.SearchPresenter is injected at\n          br.com.alexpfx.cervejas.beers.BeersFragment.searchPresenter\n      br.com.alexpfx.cervejas.beers.BeersFragment is injected at\n          br.com.alexpfx.cervejas.di.beers.BeersComponent.inject(beersFragment)\n</code></pre>\n\n<p>--- I simplified the SearchPresenter to avoid using @Binds and removed the dependencies:</p>\n\n<pre><code>@PerFragment\nclass SearchPresenterImpl @Inject constructor() :\n    SearchPresenter {\n\n\n    override fun search(query: String) {\n//        interactor.searchBeers(query).subscribeOn(Schedulers.computation()).observeOn(AndroidSchedulers.mainThread())\n//            .subscribe({ beers -&gt;\n//                beers.forEach({ t: SearchedBeerVO? -&gt; println(t) })\n//            })\n    }\n}\n\n\ninterface SearchPresenter  {\n    fun search (query: String)\n}\n\n\n\n@PerFragment\n    @Provides\n    fun provideSearchPresenterImpl (searchPresenterImpl: SearchPresenterImpl) : SearchPresenter{\n        return searchPresenterImpl\n\n    }\n</code></pre>\n\n<ul>\n<li>Still same problem.... </li>\n</ul>\n\n<p>but if I run it with ./gradlew build it shows different errors:</p>\n\n<pre><code>&gt; Configure project :app \nCould not find google-services.json while looking in [src/nullnull/debug, src/debug/nullnull, src/nullnull, src/debug, src/nullnullDebug]\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nCould not find google-services.json while looking in [src/nullnull/release, src/release/nullnull, src/nullnull, src/release, src/nullnullRelease]\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\n\n&gt; Task :app:processDebugGoogleServices \nParsing json file: /home/alexandre/dev/projetos/gitlab/Cervejas/app/google-services.json\n\ne: /home/alexandre/dev/projetos/gitlab/Cervejas/app/build/tmp/kapt3/stubs/debug/br/com/alexpfx/cervejas/search/SearchInteractorImpl.java:15: error: cannot find symbol\n    public io.reactivex.Observable&lt;java.util.List&lt;br.com.alexpfx.cervejas.common.SearchedBeerVO&gt;&gt; searchBeers(@org.jetbrains.annotations.NotNull()\n                       ^\n  symbol:   class Observable\n  location: package io.reactivex\ne: /home/alexandre/dev/projetos/gitlab/Cervejas/app/build/tmp/kapt3/stubs/debug/br/com/alexpfx/cervejas/network/UntappedService.java:9: error: cannot find symbol\n    public abstract io.reactivex.Observable&lt;br.com.alexpfx.cervejas.network.search.SearchResponse&gt; searchBeers(@org.jetbrains.annotations.NotNull()\n                                ^\n  symbol:   class Observable\n  location: package io.reactivex\ne: /home/alexandre/dev/projetos/gitlab/Cervejas/app/build/tmp/kapt3/stubs/debug/br/com/alexpfx/cervejas/search/SearchInteractor.java:9: error: cannot find symbol\n    public abstract io.reactivex.Observable&lt;java.util.List&lt;br.com.alexpfx.cervejas.common.SearchedBeerVO&gt;&gt; searchBeers(@org.jetbrains.annotations.NotNull()\n                                ^\n  symbol:   class Observable\n  location: package io.reactivex\ne: /home/alexandre/dev/projetos/gitlab/Cervejas/app/build/tmp/kapt3/stubs/debug/br/com/alexpfx/cervejas/login/LoginActivity.java:8: error: cannot find symbol\n    private final com.google.firebase.auth.FirebaseAuth firebaseAuth = null;\n                                          ^\n  symbol:   class FirebaseAuth\n  location: package com.google.firebase.auth\ne: /home/alexandre/dev/projetos/gitlab/Cervejas/app/build/tmp/kapt3/stubs/debug/br/com/alexpfx/cervejas/login/LoginActivity.java:17: error: cannot find symbol\n    public final com.google.firebase.auth.FirebaseAuth getFirebaseAuth() {\n                                         ^\n  symbol:   class FirebaseAuth\n  location: package com.google.firebase.auth\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n15 actionable tasks: 2 executed, 13 up-to-date\nalexandre@alexandre-aero ~/dev/projetos/gitlab/Cervejas $ \n</code></pre>\n\n<p>In Android Studio it doesn't shows these problems. If I removed SearchPresenter dependency on Fragment it works fine.</p>\n\n<p>--- Found the problem. </p>\n\n<p>for some bizarre reason the wrongly implemented scope annotation with that @Qualifier:</p>\n\n<pre><code>@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\n@Scope\nannotation class PerFragment\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bluetooth-lowenergy", "android-bluetooth"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1524409379, "post_id": 49966809, "comment_id": 86950388, "body": "Add your manifest"}, {"owner": {"reputation": 729, "user_id": 9405186, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EayAe.jpg?s=128&g=1", "display_name": "Bhanu Prakash Pasupula", "link": "https://stackoverflow.com/users/9405186/bhanu-prakash-pasupula"}, "edited": false, "score": 0, "creation_date": 1525777887, "post_id": 49966809, "comment_id": 87481590, "body": "Refer this question.<a href=\"https://stackoverflow.com/questions/49729452/how-to-keep-bluetooth-connection-background\" title=\"how to keep bluetooth connection background\">stackoverflow.com/questions/49729452/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 7924075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1369a29c59f59ec6bebb2edb34ee5f4?s=128&d=identicon&r=PG&f=1", "display_name": "Rike", "link": "https://stackoverflow.com/users/7924075/rike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1529164339, "creation_date": 1524405876, "last_edit_date": 1524465756, "question_id": 49966809, "link": "https://stackoverflow.com/questions/49966809/bluetoothsocket-connect-doesnt-work", "title": "bluetoothSocket!!.connect() doesn&#39;t work", "body": "<p>I'm a little bit desperated. I develope an android app, which is connectable to an Adafruit Bluefruit.I watched a lot of tutorials and try out many thinks. With the nRF Connect Application I can connect smartphone and the bluefruit, but with my own app it's not possible. \nI don't understand why an don't find a solution.</p>\n\n<p>This is the part of the code for connecting:</p>\n\n<pre><code>  private class ConnectToDevice(c: Context) : AsyncTask&lt;Void, Void, String&gt;() {\n    //create member variables\n    private var connectSuccess: Boolean = true\n    private val context: Context\n\n    //create an constructor\n    init {\n        this.context = c\n    }\n\n    override fun onPreExecute() {\n        super.onPreExecute()\n        m_progress = ProgressDialog.show(context, \"Connecting...\", \"please wait\")\n    }\n    override fun doInBackground(vararg p0: Void?): String? {\n        try {\n            if (m_bluetoothSocket == null || !m_isConnected){\n                m_bluetoothAdapter= BluetoothAdapter.getDefaultAdapter()\n                //create bluetooth device, by mac-address\n                val device: BluetoothDevice = m_bluetoothAdapter.getRemoteDevice(m_address)\n                //sets up connection between phone and bluetooth device\n                m_bluetoothSocket = device.createInsecureRfcommSocketToServiceRecord(m_myUUID)\n                //stopps looking for devices\n                BluetoothAdapter.getDefaultAdapter().cancelDiscovery()\n                //connects bluetooth device\n                m_bluetoothSocket!!.connect()\n            }\n        } catch (e: IOException){\n            connectSuccess = false\n            e.printStackTrace()\n        }\n        return null\n    }\n</code></pre>\n\n<p>The code is based on this great tutorial: <a href=\"https://github.com/appsinthesky/Kotlin-Bluetooth\" rel=\"nofollow noreferrer\">https://github.com/appsinthesky/Kotlin-Bluetooth</a></p>\n\n<p>I get the following Logcat:</p>\n\n<pre><code>W/System.err: java.io.IOException: read failed, socket might closed or timeout, read ret: -1\n...\nW/System.err: ControlActivity$ConnectToDevice.doInBackground(ControlActivity.kt:104)\nW/System.err: at ControlActivity$ConnectToDevice.doInBackground(ControlActivity.kt:79)\n...\nI/data: couldn't connect\n</code></pre>\n\n<p>I hope, that anybody could help me!\nThanks a lot in advance!</p>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"bluetoothle\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.BLUETOOTH\" /&gt;\n&lt;uses-permission android:name=\"android.permission.BLUETOOTH_ADMIN\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher_round\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".SelectDeviceActivity\"\n        android:screenOrientation=\"portrait\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".ControlActivity\"\n        android:screenOrientation=\"portrait\"/&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "arrays", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1130, "user_id": 9584778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dp3b0.jpg?s=128&g=1", "display_name": "sandhya sasane", "link": "https://stackoverflow.com/users/9584778/sandhya-sasane"}, "is_accepted": false, "score": 0, "last_activity_date": 1524406096, "creation_date": 1524406096, "answer_id": 49966852, "question_id": 49966567, "link": "https://stackoverflow.com/questions/49966567/how-can-find-the-largest-number-and-null-if-array-empty/49966852#49966852", "title": "how can find the largest number and null if array empty", "body": "<p>If i want to find the maximum number from a list of longs..</p>\n\n<pre><code>ArrayList&lt;Long&gt; CallsTimes = new ArrayList&lt;&gt;();\nLong HighestTimeOfCall;\n\nHighestTimeOfCall = Collections.max(CallsTimes);\n</code></pre>\n\n<hr>\n\n<p>In your case it just should be <code>ArrayList&lt;Int&gt; CallsTimes = new ArrayList&lt;&gt;();</code> HighestTimeOfCall should be int. </p>\n\n<hr>\n\n<pre><code>if(CallsTimes.size() &gt; 0)\n{\n  // Its empty array list show error or do something else\n}\nelse\n{\n  // find max int as shown above\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": false, "score": 3, "last_activity_date": 1524407804, "last_edit_date": 1524407804, "creation_date": 1524407123, "answer_id": 49966993, "question_id": 49966567, "link": "https://stackoverflow.com/questions/49966567/how-can-find-the-largest-number-and-null-if-array-empty/49966993#49966993", "title": "how can find the largest number and null if array empty", "body": "<p>In Kotlin you can do it in one line of code.</p>\n\n<p>If you are looking for the max element or null if the array is empty:</p>\n\n<pre><code>return  array.max()\n</code></pre>\n\n<p>If you are looking for the index of the max element or null if the array is empty:</p>\n\n<pre><code>return array.max()?.let { array.indexOf(it) }\n</code></pre>\n\n<p>In the given problem you need to look for the last index:</p>\n\n<pre><code>return array.max()?.let { array.lastIndexOf(it) }\n</code></pre>\n\n<p>The source code of the functions:</p>\n\n<pre><code>/**\n * Returns the largest element or `null` if there are no elements.\n */\npublic fun IntArray.max(): Int? {\n    if (isEmpty()) return null\n    var max = this[0]\n    for (i in 1..lastIndex) {\n        val e = this[i]\n        if (max &lt; e) max = e\n    }\n    return max\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>/**\n * Returns first index of [element], or -1 if the array does not contain element.\n */\npublic fun IntArray.indexOf(element: Int): Int {\n    for (index in indices) {\n        if (element == this[index]) {\n            return index\n        }\n    }\n    return -1\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7725254, "user_type": "registered", "profile_image": "https://graph.facebook.com/414432072282544/picture?type=large", "display_name": "AbdElrahman Usama", "link": "https://stackoverflow.com/users/7725254/abdelrahman-usama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1524407804, "creation_date": 1524404478, "last_edit_date": 1524404593, "question_id": 49966567, "link": "https://stackoverflow.com/questions/49966567/how-can-find-the-largest-number-and-null-if-array-empty", "title": "how can find the largest number and null if array empty", "body": "<p>fun indexOfMax(a: IntArray): Int? {\n    return 0\n}</p>\n\n<p>link to task \n<a href=\"https://try.kotlinlang.org/#/Examples/Problems/Index%20of%20Maximum/Index%20of%20Maximum.kt\" rel=\"nofollow noreferrer\">https://try.kotlinlang.org/#/Examples/Problems/Index%20of%20Maximum/Index%20of%20Maximum.kt</a></p>\n\n<hr>\n\n<p>my try :</p>\n\n<pre><code>fun indexOfMax(a: IntArray): Int? {\n\n var max = 0\n for (i 0..lastIndex){\n e = a[i]\n\n if (e &gt; max){\n  e = max \n  }\n}\nreturn max\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 2, "last_activity_date": 1524405849, "creation_date": 1524405849, "answer_id": 49966801, "question_id": 49966539, "link": "https://stackoverflow.com/questions/49966539/how-to-override-any-operator-if-the-first-operand-isnt-your-object/49966801#49966801", "title": "How to override any operator if the first operand isn&#39;t your object", "body": "<p>When you define an <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension function</a>, the receiver (the object the function is called on) is always available as <code>this</code>, in the body of your implementation.</p>\n\n<pre><code>operator fun Double.times(vector: Vector2): Vector2 = vector * this\n</code></pre>\n\n<p>You could implement that any way you'd like, I just reversed the operands to shorten the example.</p>\n"}], "owner": {"reputation": 137, "user_id": 6067562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ee927e2e46a742f343114200cd3ca55?s=128&d=identicon&r=PG&f=1", "display_name": "alexanders916", "link": "https://stackoverflow.com/users/6067562/alexanders916"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 49966801, "answer_count": 1, "score": 1, "last_activity_date": 1524405849, "creation_date": 1524404320, "question_id": 49966539, "link": "https://stackoverflow.com/questions/49966539/how-to-override-any-operator-if-the-first-operand-isnt-your-object", "title": "How to override any operator if the first operand isn&#39;t your object", "body": "<p>I gave Kotlin a try, because it's supposed to be a java without certain limitations like checked exceptions or no support for operator overriding (of course these limitations got their right to exists, like reduction of abusing or forced verbosity, but this question isn't why they should (not) exist). So I wrote a simple <code>Vector2</code> class, which should support basic operators like +-*/.</p>\n\n<p>There isn't a problem when your first and second operand both are from the type <code>Vector2</code>, but there is a problem when the first operand isn't from type <code>Vector2</code>. Take this example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val vector = Vector2(2.0, 3.0) * 2.0\n}\n</code></pre>\n\n<p>This works flawless because of this method in <code>Vector2</code>:</p>\n\n<pre><code>operator fun times(d: Double) = Vector2(x * d, y * d)\n</code></pre>\n\n<p>But what am I supposed to do if the two operands change place like this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val vector = 2.0  * Vector2(2.0, 3.0)\n}\n</code></pre>\n\n<p>I though of an operator overload of <code>times()</code> for the type <code>Double</code>:</p>\n\n<pre><code>// In 'Vector2.kt'\noperator fun Double.times(vector: Vector2) = ...\n</code></pre>\n\n<p>but I don't know how to retrieve the double value to multiply it with the vector.</p>\n\n<p>Could anybody help? Thanks in advance!</p>\n"}, {"tags": ["kotlin", "mockk"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1524401421, "post_id": 49964991, "comment_id": 86947862, "body": "One thing that could break using top-level functions from dependencies is the <code>*.kotlin_module</code> file not packaged correctly into the library artifact. You can check that in the JAR, these files should be placed as <code>META-INF&#47;*.kotlin_module</code>. If they are missing, the compiler might not be able to see top-level declarations in the library."}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1524401971, "post_id": 49964991, "comment_id": 86948031, "body": "You can try rmb on function, and then copy reference. What is copied then?"}, {"owner": {"reputation": 43, "user_id": 1409969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tltWP.jpg?s=128&g=1", "display_name": "Jason Harris", "link": "https://stackoverflow.com/users/1409969/jason-harris"}, "edited": false, "score": 0, "creation_date": 1524414583, "post_id": 49964991, "comment_id": 86952051, "body": "RMB/copy reference on the function in the decompiled .class file is <code>io.mockk.MockKKt#every</code>"}, {"owner": {"reputation": 43, "user_id": 1409969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tltWP.jpg?s=128&g=1", "display_name": "Jason Harris", "link": "https://stackoverflow.com/users/1409969/jason-harris"}, "edited": false, "score": 0, "creation_date": 1524415186, "post_id": 49964991, "comment_id": 86952286, "body": "META-INF/*.kotlin_module in the jar does contain the name of the kotlin file (in the jar) where the functions are defined"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 1409969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tltWP.jpg?s=128&g=1", "display_name": "Jason Harris", "link": "https://stackoverflow.com/users/1409969/jason-harris"}, "edited": false, "score": 0, "creation_date": 1524428752, "post_id": 49969438, "comment_id": 86956666, "body": "Thanks: the specific library is <code>io.mockk</code>. The dependent jar, (in gradle: <code>testCompile group: &#39;io.mockk&#39;, name: &#39;mockk&#39;, version: &#39;1.7.15&#39;</code>) is in my classpath and <i>does</i> contain a <code>META-INF&#47;mockk.kotlin_module</code> file but <code>import io.mockk.every</code> (the function I need) doesn&#39;t work when by all accounts it should (note, I <i>can</i> import it as a static into a Java class)"}, {"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "reply_to_user": {"reputation": 43, "user_id": 1409969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tltWP.jpg?s=128&g=1", "display_name": "Jason Harris", "link": "https://stackoverflow.com/users/1409969/jason-harris"}, "edited": false, "score": 1, "creation_date": 1524433797, "post_id": 49969438, "comment_id": 86957969, "body": "For me it recognizes the import, but gives this error &quot;Cannot access class &#39;io.mockk.MockKStubScope&#39;. Check your module classpath for missing or conflicting dependencies&quot; at where <code>every</code> is called. Are you getting that?  It&#39;s strange because I actually can&#39;t find class <code>io.mockk.MockKStubScope</code> anywhere in the jar. It is in the source tree though."}, {"owner": {"reputation": 43, "user_id": 1409969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tltWP.jpg?s=128&g=1", "display_name": "Jason Harris", "link": "https://stackoverflow.com/users/1409969/jason-harris"}, "edited": false, "score": 0, "creation_date": 1524471207, "post_id": 49969438, "comment_id": 86968570, "body": "I also have mockk-dsl-jvm-1.7.15.jar, mockk-agent-1.7.15.jar  and &#39;org.jetbrains.kotlin&#39;, name: &#39;kotlin-reflect&#39;, version: &#39;1.2.40&#39; on my classpath."}], "tags": [], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "is_accepted": false, "score": 2, "last_activity_date": 1524422318, "creation_date": 1524422318, "answer_id": 49969438, "question_id": 49964991, "link": "https://stackoverflow.com/questions/49964991/how-should-an-inline-function-on-a-kotlin-class-be-imported/49969438#49969438", "title": "How should an inline function on a Kotlin class be imported", "body": "<p>It works for me. I create a Kotlin module with a file called <code>TopLevelStandalone.kt</code>:</p>\n\n<pre><code>package io.pack\n\ninline fun every(){\n    print(\"Inline\")\n}\n\nfun normalFun() {\n    print(\"Normal\")\n}\n</code></pre>\n\n<p>The jar this project builds into contains the class file, and a <code>META-INF/top-level-standalone.kotlin_module</code> containing:</p>\n\n<blockquote>\n  <p>io.packTopLevelStandaloneKt</p>\n</blockquote>\n\n<p>I then create another Kotline module, manually adding the jar to its dependencies. I'm now able to call <code>every</code> or <code>normalFun</code>:</p>\n\n<pre><code>import io.pack.every\nimport io.pack.normalFun\n\nfun main(args: Array&lt;String&gt;) {\n    every()\n    normalFun()\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 1409969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tltWP.jpg?s=128&g=1", "display_name": "Jason Harris", "link": "https://stackoverflow.com/users/1409969/jason-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524474428, "creation_date": 1524393483, "last_edit_date": 1524474428, "question_id": 49964991, "link": "https://stackoverflow.com/questions/49964991/how-should-an-inline-function-on-a-kotlin-class-be-imported", "title": "How should an inline function on a Kotlin class be imported", "body": "<p>There is a kotlin file in a project dependency jar (called, for example, <code>KotlinClass</code>) with an inline function</p>\n\n<pre><code>package io.pack\n\ninline fun &lt;T&gt; every(){\n    ///does stuff\n}\n</code></pre>\n\n<p>If I import it into a Java class as a static:</p>\n\n<pre><code>import static io.pack.KotlinClass.every;\n</code></pre>\n\n<p>The import is recognised.</p>\n\n<p>If I import it into a Kotlin class:</p>\n\n<pre><code>import io.pack.every\n</code></pre>\n\n<p>or (this ought not to work anyway, but tried for completeness) as </p>\n\n<pre><code>import io.pack.KotlinClass.every\n</code></pre>\n\n<p>It is not recognised.</p>\n\n<p>(Note: If I create my own Kotlin file with an inline function, then that can be imported into a Kotlin class with no problem. The problem is when importing from a specific project dependency.)</p>\n\n<p>What might be stopping the import of this function into a kotlin class?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 6, "last_activity_date": 1524389467, "last_edit_date": 1524389467, "creation_date": 1524389137, "answer_id": 49964430, "question_id": 49964261, "link": "https://stackoverflow.com/questions/49964261/why-does-not-intellij-follow-the-kotlin-syntax-in-the-null-safety-part-of-type-h/49964430#49964430", "title": "Why does not Intellij follow the kotlin syntax in the null safety part of type hint?", "body": "<p>It's because <code>LocalDate</code> belongs to Java API, not to Kotlin, and <code>now</code> is not annotated with <code>@NotNull</code> or one of the other supported annotations (<a href=\"https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations\" rel=\"noreferrer\">here's the complete list</a>).\nBecause of that, Kotlin doesn't know if the returned value might (not) be <code>null</code>, so it marks the type with <code>!</code> (as described <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#notation-for-platform-types\" rel=\"noreferrer\">here</a>).</p>\n\n<p>In the second example, you \"force\" the type to be not-nullable (as described <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"noreferrer\">here</a>), but this will cause an exception to be thrown if the real value is actually <code>null</code>.</p>\n"}], "owner": {"reputation": 1289, "user_id": 6686126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIaui.jpg?s=128&g=1", "display_name": "galcyurio", "link": "https://stackoverflow.com/users/6686126/galcyurio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 49964430, "answer_count": 1, "score": 0, "last_activity_date": 1524389467, "creation_date": 1524387753, "question_id": 49964261, "link": "https://stackoverflow.com/questions/49964261/why-does-not-intellij-follow-the-kotlin-syntax-in-the-null-safety-part-of-type-h", "title": "Why does not Intellij follow the kotlin syntax in the null safety part of type hint?", "body": "<p>Simple example</p>\n\n<p><a href=\"https://i.stack.imgur.com/HLtmw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HLtmw.png\" alt=\"simple example\"></a></p>\n\n<p>Intellij uses <code>!</code> in NotNull type's type hint.  </p>\n\n<p>However, it is against the kotlin syntax. Why does Intellij ignore the syntax of kotlin that they created?</p>\n"}, {"tags": ["android", "kotlin", "setcontentview"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1524387786, "post_id": 49964257, "comment_id": 86944528, "body": "Please post your Java stack trace as text, in the question. We cannot see the full stack trace in that image, and other developers cannot search your image."}, {"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1524391103, "post_id": 49964257, "comment_id": 86945328, "body": "What is the size of your <code>@drawable&#47;title</code> image?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1524391108, "post_id": 49964257, "comment_id": 86945329, "body": "Your drawable resources are too large. Use a library like Glide or Picasso instead to load them in the Kotlin code"}, {"owner": {"reputation": 11, "user_id": 8834901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8ee81bb11fc437ecad42411d71b657?s=128&d=identicon&r=PG&f=1", "display_name": "Mandava Geethabhargava", "link": "https://stackoverflow.com/users/8834901/mandava-geethabhargava"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1524391471, "post_id": 49964257, "comment_id": 86945402, "body": "question is edited @CommonsWare"}, {"owner": {"reputation": 11, "user_id": 8834901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8ee81bb11fc437ecad42411d71b657?s=128&d=identicon&r=PG&f=1", "display_name": "Mandava Geethabhargava", "link": "https://stackoverflow.com/users/8834901/mandava-geethabhargava"}, "reply_to_user": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1524391669, "post_id": 49964257, "comment_id": 86945450, "body": "size of @drawable/title is 3300x3300 and it is png format @Reaz Murshed"}, {"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1524391764, "post_id": 49964257, "comment_id": 86945471, "body": "As answered below, I think you need to pick a smaller size. However, you may consider putting the image file into <code>drawable-xxxhdpi</code> folder and check if its still crashing."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1524391873, "post_id": 49964257, "comment_id": 86945496, "body": "That drawable is much too large. There is no 3300x3300 screen used in Android today. Plus, even that would not explain a 98010016 byte allocation, as 3300x3300 would result in about a 43560000-byte allocation. Create a smaller image. Also, if you wish to use this image for all screen densities, put it in <code>res&#47;drawable-anydpi&#47;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8834901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8ee81bb11fc437ecad42411d71b657?s=128&d=identicon&r=PG&f=1", "display_name": "Mandava Geethabhargava", "link": "https://stackoverflow.com/users/8834901/mandava-geethabhargava"}, "edited": false, "score": 0, "creation_date": 1524391798, "post_id": 49964691, "comment_id": 86945484, "body": "Can you tell mean what is the minimum size for image to keep as header @Reaz Murshed"}, {"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "reply_to_user": {"reputation": 11, "user_id": 8834901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8ee81bb11fc437ecad42411d71b657?s=128&d=identicon&r=PG&f=1", "display_name": "Mandava Geethabhargava", "link": "https://stackoverflow.com/users/8834901/mandava-geethabhargava"}, "edited": false, "score": 0, "creation_date": 1524392063, "post_id": 49964691, "comment_id": 86945525, "body": "Please check the updated answer. Once you get the idea about dp, you will understand what the maximum size of your image should be."}], "tags": [], "owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "is_accepted": false, "score": 1, "last_activity_date": 1524392016, "last_edit_date": 1524392016, "creation_date": 1524391179, "answer_id": 49964691, "question_id": 49964257, "link": "https://stackoverflow.com/questions/49964257/runtime-error-at-setcontentviewr-layout-activity-main/49964691#49964691", "title": "RunTime Error at setContentView(R.layout.activity_main)", "body": "<p>I think the drawable that you are setting in your <code>ImageView</code> is too large. Please pick an image with smaller size to avoid the <code>OutOfMemoryError</code>.</p>\n\n<p>Please check the <code>@drawable/title</code> size as mentioned in the comment. </p>\n\n<p>To get the idea about the image sizes, I would recommend to read this <a href=\"https://android.jlelse.eu/navigation-drawer-styling-under-material-design-f0767882e692\" rel=\"nofollow noreferrer\">beautiful article here</a>. </p>\n"}], "owner": {"reputation": 11, "user_id": 8834901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8ee81bb11fc437ecad42411d71b657?s=128&d=identicon&r=PG&f=1", "display_name": "Mandava Geethabhargava", "link": "https://stackoverflow.com/users/8834901/mandava-geethabhargava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524392016, "creation_date": 1524387722, "last_edit_date": 1524391233, "question_id": 49964257, "link": "https://stackoverflow.com/questions/49964257/runtime-error-at-setcontentviewr-layout-activity-main", "title": "RunTime Error at setContentView(R.layout.activity_main)", "body": "<p>So I'm getting an exception on my Android App, that I have no idea where comes from. And yes my code is a complete mess now from trying to fix it</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    var navigationDrawerIconsList: ArrayList&lt;String&gt; = arrayListOf()\n    var images_for_navdrawer= intArrayOf(R.drawable.navigation_allsongs,R.drawable.navigation_favorites,R.drawable.navigation_settings,R.drawable.navigation_aboutus)\n    object statified{\n        var drawerLayout: DrawerLayout?=null\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val toolbar = findViewById&lt;Toolbar&gt;(R.id.toolbar)\n        setSupportActionBar(toolbar)\n        MainActivity.statified.drawerLayout= findViewById(R.id.drawer_layout)\n        navigationDrawerIconsList.add(\"All Songs\")\n        navigationDrawerIconsList.add(\"Favourites\")\n        navigationDrawerIconsList.add(\"Settings\")\n        navigationDrawerIconsList.add(\"About Us\")\n\n        val toggle = ActionBarDrawerToggle(this@MainActivity, MainActivity.statified.drawerLayout,toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n        MainActivity.statified.drawerLayout?.setDrawerListener(toggle)\n        toggle.syncState()\n\n        val mainScreenFragment = MainScreenFragment()\n        this.supportFragmentManager\n                .beginTransaction()\n                .add(R.id.details_fragment,mainScreenFragment,\"MainScreenFragment\")\n                .commit()\n        var _navigationAdapter= NavigationDrawerAdapter(navigationDrawerIconsList,images_for_navdrawer,this)\n        _navigationAdapter.notifyDataSetChanged()\n\n        var navigation_recycler_view = findViewById&lt;RecyclerView&gt;(R.id.navigation_recycler_view)\n        navigation_recycler_view.layoutManager = LinearLayoutManager(this)\n        navigation_recycler_view.itemAnimator=DefaultItemAnimator()\n        navigation_recycler_view.adapter = _navigationAdapter\n        navigation_recycler_view.setHasFixedSize(true)\n    }\n\n    override fun onStart() {\n        super.onStart()\n    }\n}\n</code></pre>\n\n<p>My Main Activity XML code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;include\n        layout=\"@layout/app_bar_main\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"200dp\"\n            android:id=\"@+id/header\"&gt;\n            &lt;ImageView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:background=\"@drawable/bg_gradient\"/&gt;\n            &lt;ImageView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"200dp\"\n                android:background=\"@drawable/title\"\n                android:layout_centerInParent=\"true\"/&gt;\n        &lt;/RelativeLayout&gt;\n            &lt;android.support.v7.widget.RecyclerView\n                android:id=\"@+id/navigation_recycler_view\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_below=\"@+id/header\"&gt;&lt;/android.support.v7.widget.RecyclerView&gt;\n        &lt;/RelativeLayout&gt;\n        &lt;/android.support.design.widget.NavigationView&gt;\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>Where I am getting following errors while running the application \nwhile testing application using the device, I got errors in Logcat of Android Studio.</p>\n\n<pre><code>   04-22 15:11:07.104 22545-22545/com.example.geeth.magnitude E/dalvikvm: Could not find class 'android.graphics.drawable.RippleDrawable', referenced from method android.support.v7.widget.AppCompatImageHelper.hasOverlappingRendering\n    04-22 15:11:08.253 22545-22545/com.example.geeth.magnitude E/dalvikvm: Could not find class 'android.support.v4.widget.DrawerLayout$1', referenced from method android.support.v4.widget.DrawerLayout.&lt;init&gt;\n    04-22 15:11:08.259 22545-22545/com.example.geeth.magnitude E/dalvikvm: Could not find class 'android.view.WindowInsets', referenced from method android.support.v4.widget.DrawerLayout.onDraw\n    04-22 15:11:08.261 22545-22545/com.example.geeth.magnitude E/dalvikvm: Could not find class 'android.view.WindowInsets', referenced from method android.support.v4.widget.DrawerLayout.onMeasure\n    04-22 15:11:08.262 22545-22545/com.example.geeth.magnitude E/dalvikvm: Could not find class 'android.view.WindowInsets', referenced from method android.support.v4.widget.DrawerLayout.onMeasure\n    04-22 15:11:09.533 22545-22545/com.example.geeth.magnitude E/dalvikvm-heap: Out of memory on a 98010016-byte allocation.\n    04-22 15:11:09.740 22545-22545/com.example.geeth.magnitude E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.example.geeth.magnitude, PID: 22545\n        java.lang.OutOfMemoryError\n            at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\n            at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\n            at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:609)\n            at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:444)\n            at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:840)\n            at android.content.res.Resources.loadDrawable(Resources.java:2166)\n            at android.content.res.TypedArray.getDrawable(TypedArray.java:602)\n            at android.view.View.&lt;init&gt;(View.java:3596)\n            at android.widget.ImageView.&lt;init&gt;(ImageView.java:123)\n            at android.support.v7.widget.AppCompatImageView.&lt;init&gt;(AppCompatImageView.java:71)\n            at android.support.v7.widget.AppCompatImageView.&lt;init&gt;(AppCompatImageView.java:67)\n            at android.support.v7.app.AppCompatViewInflater.createImageView(AppCompatViewInflater.java:181)\n            at android.support.v7.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:105)\n            at android.support.v7.app.AppCompatDelegateImplV9.createView(AppCompatDelegateImplV9.java:1035)\n            at android.support.v7.app.AppCompatDelegateImplV9.onCreateView(AppCompatDelegateImplV9.java:1092)\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:684)\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:758)\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:758)\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:758)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\n            at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\n            at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\n            at com.example.geeth.magnitude.activities.MainActivity.onCreate(MainActivity.kt:25)\n            at android.app.Activity.performCreate(Activity.java:5343)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2343)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2441)\n            at android.app.ActivityThread.access$900(ActivityThread.java:151)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\n            at android.os.Handler.dispatchMessage(Handler.java:110)\n            at android.os.Looper.loop(Looper.java:193)\n            at android.app.ActivityThread.main(ActivityThread.java:5345)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:828)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:644)\n            at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"}]